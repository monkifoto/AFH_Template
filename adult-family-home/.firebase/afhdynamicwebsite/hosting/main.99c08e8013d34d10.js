"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(ln,Ye,F)=>{F.d(Ye,{$:()=>Ra,A:()=>ie,G:()=>$e,K:()=>li,L:()=>Ss,N:()=>De,P:()=>pa,R:()=>Ru,U:()=>mn,V:()=>ts,W:()=>ji,X:()=>ti,Y:()=>Ao,Z:()=>Fi,_:()=>sa,a:()=>nl,a0:()=>Do,a1:()=>us,a2:()=>oo,a3:()=>Fo,a4:()=>Yi,a5:()=>ca,a6:()=>qa,a7:()=>co,a8:()=>rr,a9:()=>Au,aA:()=>yn,aB:()=>Je,aC:()=>Se,aD:()=>Bh,aE:()=>lt,aF:()=>Wt,aG:()=>jh,aH:()=>cc,aI:()=>Cd,aJ:()=>or,aN:()=>Gr,aQ:()=>so,aa:()=>hd,ab:()=>Du,ac:()=>Ac,ad:()=>Oa,ae:()=>Na,af:()=>kl,ag:()=>re,ah:()=>Q,ak:()=>tr,al:()=>Ti,am:()=>pi,ap:()=>qo,aq:()=>Es,as:()=>xc,at:()=>ha,au:()=>bn,av:()=>ur,aw:()=>Zt,ax:()=>fe,ay:()=>Ba,az:()=>Qo,b:()=>Mu,c:()=>Vu,d:()=>Ed,e:()=>Uu,f:()=>wa,g:()=>Fc,h:()=>Ws,i:()=>N,j:()=>Uh,k:()=>Wh,l:()=>Va,m:()=>zl,p:()=>Ne,r:()=>Ou,s:()=>Po,u:()=>Fu});var d=F(467),p=F(7852),n=F(1076),Ce=F(8041),pe=F(1635),ye=F(1362);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},At=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new n.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new Ce.Vy("@firebase/auth");function He(w,..._){Ot.logLevel<=Ce.$b.ERROR&&Ot.error(`Auth (${p.SDK_VERSION}): ${w}`,..._)}function fe(w,..._){throw Ut(w,..._)}function Je(w,..._){return Ut(w,..._)}function Ue(w,_,E){const x=Object.assign(Object.assign({},At()),{[_]:E});return new n.FA("auth","Firebase",x).create(_,{appName:w.name})}function it(w){return Ue(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Et(w,_,E){if(!(_ instanceof E))throw E.name!==_.constructor.name&&fe(w,"argument-error"),Ue(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(w,..._){if("string"!=typeof w){const E=_[0],x=[..._.slice(1)];return x[0]&&(x[0].appName=w.name),w._errorFactory.create(E,...x)}return dt.create(w,..._)}function Se(w,_,...E){if(!w)throw Ut(_,...E)}function on(w){const _="INTERNAL ASSERTION FAILED: "+w;throw He(_),new Error(_)}function bn(w,_){w||on(_)}function jn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ft(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class je{constructor(_,E){this.shortDelay=_,this.longDelay=E,bn(E>_,"Short delay should be less than long delay!"),this.isMobile=(0,n.jZ)()||(0,n.lV)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ft()||(0,n.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(w,_){bn(w.emulator,"Emulator should always be set here");const{url:E}=w.emulator;return _?`${E}${_.startsWith("/")?_.slice(1):_}`:E}class un{static initialize(_,E,x){this.fetchImpl=_,E&&(this.headersImpl=E),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void on("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void on("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void on("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new je(3e4,6e4);function be(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function Be(w,_,E,x){return at.apply(this,arguments)}function at(){return(at=(0,d.A)(function*(w,_,E,x,J={}){return et(w,J,(0,d.A)(function*(){let he={},Xe={};x&&("GET"===_?Xe=x:he={body:JSON.stringify(x)});const Pt=(0,n.Am)(Object.assign({key:w.config.apiKey},Xe)).slice(1),Jt=yield w._getAdditionalHeaders();Jt["Content-Type"]="application/json",w.languageCode&&(Jt["X-Firebase-Locale"]=w.languageCode);const Gn=Object.assign({method:_,headers:Jt},he);return(0,n.c1)()||(Gn.referrerPolicy="no-referrer"),un.fetch()(hn(w,w.config.apiHost,E,Pt),Gn)}))})).apply(this,arguments)}function et(w,_,E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,d.A)(function*(w,_,E){w._canInitEmulator=!1;const x=Object.assign(Object.assign({},Ke),_);try{const J=new nn(w),he=yield Promise.race([E(),J.promise]);J.clearNetworkTimeout();const Xe=yield he.json();if("needConfirmation"in Xe)throw ir(w,"account-exists-with-different-credential",Xe);if(he.ok&&!("errorMessage"in Xe))return Xe;{const Pt=he.ok?Xe.errorMessage:Xe.error.message,[Jt,Gn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw ir(w,"credential-already-in-use",Xe);if("EMAIL_EXISTS"===Jt)throw ir(w,"email-already-in-use",Xe);if("USER_DISABLED"===Jt)throw ir(w,"user-disabled",Xe);const Hn=x[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(Gn)throw Ue(w,Hn,Gn);fe(w,Hn)}}catch(J){if(J instanceof n.g)throw J;fe(w,"network-request-failed",{message:String(J)})}})).apply(this,arguments)}function Rn(w,_,E,x){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.A)(function*(w,_,E,x,J={}){const he=yield Be(w,_,E,x,J);return"mfaPendingCredential"in he&&fe(w,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function hn(w,_,E,x){const J=`${_}${E}?${x}`;return w.config.emulator?ot(w.config,J):`${w.config.apiScheme}://${J}`}function Bn(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((E,x)=>{this.timer=setTimeout(()=>x(Je(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ir(w,_,E){const x={appName:w.name};E.email&&(x.email=E.email),E.phoneNumber&&(x.phoneNumber=E.phoneNumber);const J=Je(w,_,x);return J.customData._tokenResponse=E,J}function $n(w){return void 0!==w&&void 0!==w.getResponse}function Qt(w){return void 0!==w&&void 0!==w.enterprise}class Ht{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const E of this.recaptchaEnforcementState)if(E.provider&&E.provider===_)return Bn(E.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function gn(){return(gn=(0,d.A)(function*(w){return(yield Be(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vr(w,_){return lr.apply(this,arguments)}function lr(){return(lr=(0,d.A)(function*(w,_){return Be(w,"GET","/v2/recaptchaConfig",be(w,_))})).apply(this,arguments)}function xn(){return(xn=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Nn(){return(Nn=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Xr(w,_){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Qr(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function gs(){return(gs=(0,d.A)(function*(w,_=!1){const E=(0,n.Ku)(w),x=yield E.getIdToken(_),J=br(x);Se(J&&J.exp&&J.auth_time&&J.iat,E.auth,"internal-error");const he="object"==typeof J.firebase?J.firebase:void 0,Xe=he?.sign_in_provider;return{claims:J,token:x,authTime:Qr(Cn(J.auth_time)),issuedAtTime:Qr(Cn(J.iat)),expirationTime:Qr(Cn(J.exp)),signInProvider:Xe||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function Cn(w){return 1e3*Number(w)}function br(w){const[_,E,x]=w.split(".");if(void 0===_||void 0===E||void 0===x)return He("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,n.u)(E);return J?JSON.parse(J):(He("Failed to decode base64 JWT payload"),null)}catch(J){return He("Caught error parsing JWT payload as JSON",J?.toString()),null}}function Kn(w){const _=br(w);return Se(_,"internal-error"),Se(typeof _.exp<"u","internal-error"),Se(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function sr(w,_){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.A)(function*(w,_,E=!1){if(E)return _;try{return yield _}catch(x){throw x instanceof n.g&&function bi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(x)&&w.auth.currentUser===w&&(yield w.auth.signOut()),x}})).apply(this,arguments)}class nt{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var E;if(_){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const J=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(_=!1){var E=this;if(!this.isRunning)return;const x=this.getInterval(_);this.timerId=setTimeout((0,d.A)(function*(){yield E.iteration()}),x)}iteration(){var _=this;return(0,d.A)(function*(){try{yield _.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E?.code&&_.schedule(!0))}_.schedule()})()}}class ft{constructor(_,E){this.createdAt=_,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qr(this.lastLoginAt),this.creationTime=Qr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ae(w){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.A)(function*(w){var _;const E=w.auth,x=yield w.getIdToken(),J=yield sr(w,Xr(E,{idToken:x}));Se(J?.users.length,E,"internal-error");const he=J.users[0];w._notifyReloadListener(he);const Xe=null!==(_=he.providerUserInfo)&&void 0!==_&&_.length?Hr(he.providerUserInfo):[],Pt=function Yn(w,_){return[...w.filter(x=>!_.some(J=>J.providerId===x.providerId)),..._]}(w.providerData,Xe),Hn=!!w.isAnonymous&&!(w.email&&he.passwordHash||Pt?.length),zr={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Pt,metadata:new ft(he.createdAt,he.lastLoginAt),isAnonymous:Hn};Object.assign(w,zr)})).apply(this,arguments)}function Kt(){return(Kt=(0,d.A)(function*(w){const _=(0,n.Ku)(w);yield ae(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Hr(w){return w.map(_=>{var{providerId:E}=_,x=(0,pe.Tt)(_,["providerId"]);return{providerId:E,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function _i(){return(_i=(0,d.A)(function*(w,_){const E=yield et(w,{},(0,d.A)(function*(){const x=(0,n.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:J,apiKey:he}=w.config,Xe=hn(w,J,"/v1/token",`key=${he}`),Pt=yield w._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(Xe,{method:"POST",headers:Pt,body:x})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}function G(){return(G=(0,d.A)(function*(w,_){return Be(w,"POST","/v2/accounts:revokeToken",be(w,_))})).apply(this,arguments)}class R{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Se(_.idToken,"internal-error"),Se(typeof _.idToken<"u","internal-error"),Se(typeof _.refreshToken<"u","internal-error");const E="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Kn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,E)}updateFromIdToken(_){Se(0!==_.length,"internal-error");const E=Kn(_);this.updateTokensAndExpiration(_,null,E)}getToken(_,E=!1){var x=this;return(0,d.A)(function*(){return E||!x.accessToken||x.isExpired?(Se(x.refreshToken,_,"user-token-expired"),x.refreshToken?(yield x.refresh(_,x.refreshToken),x.accessToken):null):x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,E){var x=this;return(0,d.A)(function*(){const{accessToken:J,refreshToken:he,expiresIn:Xe}=yield function Sr(w,_){return _i.apply(this,arguments)}(_,E);x.updateTokensAndExpiration(J,he,Number(Xe))})()}updateTokensAndExpiration(_,E,x){this.refreshToken=E||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(_,E){const{refreshToken:x,accessToken:J,expirationTime:he}=E,Xe=new R;return x&&(Se("string"==typeof x,"internal-error",{appName:_}),Xe.refreshToken=x),J&&(Se("string"==typeof J,"internal-error",{appName:_}),Xe.accessToken=J),he&&(Se("number"==typeof he,"internal-error",{appName:_}),Xe.expirationTime=he),Xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new R,this.toJSON())}_performRefresh(){return on("not implemented")}}function L(w,_){Se("string"==typeof w||typeof w>"u","internal-error",{appName:_})}class se{constructor(_){var{uid:E,auth:x,stsTokenManager:J}=_,he=(0,pe.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=x,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new ft(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(_){var E=this;return(0,d.A)(function*(){const x=yield sr(E,E.stsTokenManager.getToken(E.auth,_));return Se(x,E.auth,"internal-error"),E.accessToken!==x&&(E.accessToken=x,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),x})()}getIdTokenResult(_){return function Jr(w){return gs.apply(this,arguments)}(this,_)}reload(){return function Dt(w){return Kt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Se(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(E=>Object.assign({},E)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const E=new se(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return E.metadata._copy(this.metadata),E}_onReload(_){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,E=!1){var x=this;return(0,d.A)(function*(){let J=!1;_.idToken&&_.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(_),J=!0),E&&(yield ae(x)),yield x.auth._persistUserIfCurrent(x),J&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var _=this;return(0,d.A)(function*(){if((0,p._isFirebaseServerApp)(_.auth.app))return Promise.reject(it(_.auth));const E=yield _.getIdToken();return yield sr(_,function zt(w,_){return xn.apply(this,arguments)}(_.auth,{idToken:E})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,E){var x,J,he,Xe,Pt,Jt,Gn,Hn;const zr=null!==(x=E.displayName)&&void 0!==x?x:void 0,Bo=null!==(J=E.email)&&void 0!==J?J:void 0,_a=null!==(he=E.phoneNumber)&&void 0!==he?he:void 0,fl=null!==(Xe=E.photoURL)&&void 0!==Xe?Xe:void 0,kd=null!==(Pt=E.tenantId)&&void 0!==Pt?Pt:void 0,Fd=null!==(Jt=E._redirectEventId)&&void 0!==Jt?Jt:void 0,Kl=null!==(Gn=E.createdAt)&&void 0!==Gn?Gn:void 0,Tg=null!==(Hn=E.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:Ig,emailVerified:ql,isAnonymous:wg,providerData:Yl,stsTokenManager:Ld}=E;Se(Ig&&Ld,_,"internal-error");const zu=R.fromJSON(this.name,Ld);Se("string"==typeof Ig,_,"internal-error"),L(zr,_.name),L(Bo,_.name),Se("boolean"==typeof ql,_,"internal-error"),Se("boolean"==typeof wg,_,"internal-error"),L(_a,_.name),L(fl,_.name),L(kd,_.name),L(Fd,_.name),L(Kl,_.name),L(Tg,_.name);const Vd=new se({uid:Ig,auth:_,email:Bo,emailVerified:ql,displayName:zr,isAnonymous:wg,photoURL:fl,phoneNumber:_a,tenantId:kd,stsTokenManager:zu,createdAt:Kl,lastLoginAt:Tg});return Yl&&Array.isArray(Yl)&&(Vd.providerData=Yl.map(pc=>Object.assign({},pc))),Fd&&(Vd._redirectEventId=Fd),Vd}static _fromIdTokenResponse(_,E,x=!1){return(0,d.A)(function*(){const J=new R;J.updateFromServerResponse(E);const he=new se({uid:E.localId,auth:_,stsTokenManager:J,isAnonymous:x});return yield ae(he),he})()}static _fromGetAccountInfoResponse(_,E,x){return(0,d.A)(function*(){const J=E.users[0];Se(void 0!==J.localId,"internal-error");const he=void 0!==J.providerUserInfo?Hr(J.providerUserInfo):[],Xe=!(J.email&&J.passwordHash||he?.length),Pt=new R;Pt.updateFromIdToken(x);const Jt=new se({uid:J.localId,auth:_,stsTokenManager:Pt,isAnonymous:Xe}),Gn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:he,metadata:new ft(J.createdAt,J.lastLoginAt),isAnonymous:!(J.email&&J.passwordHash||he?.length)};return Object.assign(Jt,Gn),Jt})()}}const ge=new Map;function lt(w){bn(w instanceof Function,"Expected a class definition");let _=ge.get(w);return _?(bn(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,ge.set(w,_),_)}const mn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(E,x){var J=this;return(0,d.A)(function*(){J.storage[E]=x})()}_get(E){var x=this;return(0,d.A)(function*(){const J=x.storage[E];return void 0===J?null:J})()}_remove(E){var x=this;return(0,d.A)(function*(){delete x.storage[E]})()}_addListener(E,x){}_removeListener(E,x){}}return w.type="NONE",w})();function Wt(w,_,E){return`firebase:${w}:${_}:${E}`}class In{constructor(_,E,x){this.persistence=_,this.auth=E,this.userKey=x;const{config:J,name:he}=this.auth;this.fullUserKey=Wt(this.userKey,J.apiKey,he),this.fullPersistenceKey=Wt("persistence",J.apiKey,he),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,d.A)(function*(){const E=yield _.persistence._get(_.fullUserKey);return E?se._fromJSON(_.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var E=this;return(0,d.A)(function*(){if(E.persistence===_)return;const x=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=_,x?E.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,E,x="authUser"){return(0,d.A)(function*(){if(!E.length)return new In(lt(mn),_,x);const J=(yield Promise.all(E.map(function(){var Gn=(0,d.A)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return Gn.apply(this,arguments)}}()))).filter(Gn=>Gn);let he=J[0]||lt(mn);const Xe=Wt(x,_.config.apiKey,_.name);let Pt=null;for(const Gn of E)try{const Hn=yield Gn._get(Xe);if(Hn){const zr=se._fromJSON(_,Hn);Gn!==he&&(Pt=zr),he=Gn;break}}catch{}const Jt=J.filter(Gn=>Gn._shouldAllowMigration);return he._shouldAllowMigration&&Jt.length?(he=Jt[0],Pt&&(yield he._set(Xe,Pt.toJSON())),yield Promise.all(E.map(function(){var Gn=(0,d.A)(function*(Hn){if(Hn!==he)try{yield Hn._remove(Xe)}catch{}});return function(Hn){return Gn.apply(this,arguments)}}())),new In(he,_,x)):new In(he,_,x)})()}}function gr(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Vt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(xe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(_n(_))return"Blackberry";if(dn(_))return"Webos";if(Pe(_))return"Safari";if((_.includes("chrome/")||ze(_))&&!_.includes("edge/"))return"Chrome";if(Zt(_))return"Android";{const x=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function xe(w=(0,n.ZQ)()){return/firefox\//i.test(w)}function Pe(w=(0,n.ZQ)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function ze(w=(0,n.ZQ)()){return/crios\//i.test(w)}function Vt(w=(0,n.ZQ)()){return/iemobile/i.test(w)}function Zt(w=(0,n.ZQ)()){return/android/i.test(w)}function _n(w=(0,n.ZQ)()){return/blackberry/i.test(w)}function dn(w=(0,n.ZQ)()){return/webos/i.test(w)}function ur(w=(0,n.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function yn(w=(0,n.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Ze(w=(0,n.ZQ)()){return ur(w)||Zt(w)||dn(w)||_n(w)||/windows phone/i.test(w)||Vt(w)}function Rt(w,_=[]){let E;switch(w){case"Browser":E=gr((0,n.ZQ)());break;case"Worker":E=`${gr((0,n.ZQ)())}-${w}`;break;default:E=w}const x=_.length?_.join(","):"FirebaseCore-web";return`${E}/JsCore/${p.SDK_VERSION}/${x}`}class fn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,E){const x=he=>new Promise((Xe,Pt)=>{try{Xe(_(he))}catch(Jt){Pt(Jt)}});x.onAbort=E,this.queue.push(x);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(_){var E=this;return(0,d.A)(function*(){if(E.auth.currentUser===_)return;const x=[];try{for(const J of E.queue)yield J(_),J.onAbort&&x.push(J.onAbort)}catch(J){x.reverse();for(const he of x)try{he()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}function vn(){return(vn=(0,d.A)(function*(w,_={}){return Be(w,"GET","/v2/passwordPolicy",be(w,_))})).apply(this,arguments)}class Cr{constructor(_){var E,x,J,he;const Xe=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(E=Xe.minPasswordLength)&&void 0!==E?E:6,Xe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Xe.maxPasswordLength),void 0!==Xe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Xe.containsLowercaseCharacter),void 0!==Xe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Xe.containsUppercaseCharacter),void 0!==Xe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Xe.containsNumericCharacter),void 0!==Xe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Xe.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(J=null===(x=_.allowedNonAlphanumericCharacters)||void 0===x?void 0:x.join(""))&&void 0!==J?J:"",this.forceUpgradeOnSignin=null!==(he=_.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=_.schemaVersion}validatePassword(_){var E,x,J,he,Xe,Pt;const Jt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Jt),this.validatePasswordCharacterOptions(_,Jt),Jt.isValid&&(Jt.isValid=null===(E=Jt.meetsMinPasswordLength)||void 0===E||E),Jt.isValid&&(Jt.isValid=null===(x=Jt.meetsMaxPasswordLength)||void 0===x||x),Jt.isValid&&(Jt.isValid=null===(J=Jt.containsLowercaseLetter)||void 0===J||J),Jt.isValid&&(Jt.isValid=null===(he=Jt.containsUppercaseLetter)||void 0===he||he),Jt.isValid&&(Jt.isValid=null===(Xe=Jt.containsNumericCharacter)||void 0===Xe||Xe),Jt.isValid&&(Jt.isValid=null===(Pt=Jt.containsNonAlphanumericCharacter)||void 0===Pt||Pt),Jt}validatePasswordLengthOptions(_,E){const x=this.customStrengthOptions.minPasswordLength,J=this.customStrengthOptions.maxPasswordLength;x&&(E.meetsMinPasswordLength=_.length>=x),J&&(E.meetsMaxPasswordLength=_.length<=J)}validatePasswordCharacterOptions(_,E){let x;this.updatePasswordCharacterOptionsStatuses(E,!1,!1,!1,!1);for(let J=0;J<_.length;J++)x=_.charAt(J),this.updatePasswordCharacterOptionsStatuses(E,x>="a"&&x<="z",x>="A"&&x<="Z",x>="0"&&x<="9",this.allowedNonAlphanumericCharacters.includes(x))}updatePasswordCharacterOptionsStatuses(_,E,x,J,he){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=E)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=x)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=J)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=he))}}class Ur{constructor(_,E,x,J){this.app=_,this.heartbeatServiceProvider=E,this.appCheckServiceProvider=x,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ci(this),this.idTokenSubscription=new Ci(this),this.beforeStateQueue=new fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=J.sdkClientVersion}_initializeWithPersistence(_,E){var x=this;return E&&(this._popupRedirectResolver=lt(E)),this._initializationPromise=this.queue((0,d.A)(function*(){var J,he;if(!x._deleted&&(x.persistenceManager=yield In.create(x,_),!x._deleted)){if(null!==(J=x._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(E),x.lastNotifiedUid=(null===(he=x.currentUser)||void 0===he?void 0:he.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,d.A)(function*(){if(_._deleted)return;const E=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||E){if(_.currentUser&&E&&_.currentUser.uid===E.uid)return _._currentUser._assign(E),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(E,!0)}})()}initializeCurrentUserFromIdToken(_){var E=this;return(0,d.A)(function*(){try{const x=yield Xr(E,{idToken:_}),J=yield se._fromGetAccountInfoResponse(E,x,_);yield E.directlySetCurrentUser(J)}catch(x){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",x),yield E.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var E=this;return(0,d.A)(function*(){var x;if((0,p._isFirebaseServerApp)(E.app)){const Pt=E.app.settings.authIdToken;return Pt?new Promise(Jt=>{setTimeout(()=>E.initializeCurrentUserFromIdToken(Pt).then(Jt,Jt))}):E.directlySetCurrentUser(null)}const J=yield E.assertedPersistence.getCurrentUser();let he=J,Xe=!1;if(_&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const Pt=null===(x=E.redirectUser)||void 0===x?void 0:x._redirectEventId,Jt=he?._redirectEventId,Gn=yield E.tryRedirectSignIn(_);(!Pt||Pt===Jt)&&Gn?.user&&(he=Gn.user,Xe=!0)}if(!he)return E.directlySetCurrentUser(null);if(!he._redirectEventId){if(Xe)try{yield E.beforeStateQueue.runMiddleware(he)}catch(Pt){he=J,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(Pt))}return he?E.reloadAndSetCurrentUserOrClear(he):E.directlySetCurrentUser(null)}return Se(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===he._redirectEventId?E.directlySetCurrentUser(he):E.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(_){var E=this;return(0,d.A)(function*(){let x=null;try{x=yield E._popupRedirectResolver._completeRedirectFn(E,_,!0)}catch{yield E._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(_){var E=this;return(0,d.A)(function*(){try{yield ae(_)}catch(x){if("auth/network-request-failed"!==x?.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function gt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,d.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var E=this;return(0,d.A)(function*(){if((0,p._isFirebaseServerApp)(E.app))return Promise.reject(it(E));const x=_?(0,n.Ku)(_):null;return x&&Se(x.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(x&&x._clone(E))})()}_updateCurrentUser(_,E=!1){var x=this;return(0,d.A)(function*(){if(!x._deleted)return _&&Se(x.tenantId===_.tenantId,x,"tenant-id-mismatch"),E||(yield x.beforeStateQueue.runMiddleware(_)),x.queue((0,d.A)(function*(){yield x.directlySetCurrentUser(_),x.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,d.A)(function*(){return(0,p._isFirebaseServerApp)(_.app)?Promise.reject(it(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var E=this;return(0,p._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,d.A)(function*(){yield E.assertedPersistence.setPersistence(lt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var E=this;return(0,d.A)(function*(){E._getPasswordPolicyInternal()||(yield E._updatePasswordPolicy());const x=E._getPasswordPolicyInternal();return x.schemaVersion!==E.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(E._errorFactory.create("unsupported-password-policy-schema-version",{})):x.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,d.A)(function*(){const E=yield function Vn(w){return vn.apply(this,arguments)}(_),x=new Cr(E);null===_.tenantId?_._projectPasswordPolicy=x:_._tenantPasswordPolicies[_.tenantId]=x})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new n.FA("auth","Firebase",_())}onAuthStateChanged(_,E,x){return this.registerStateListener(this.authStateSubscription,_,E,x)}beforeAuthStateChanged(_,E){return this.beforeStateQueue.pushCallback(_,E)}onIdTokenChanged(_,E,x){return this.registerStateListener(this.idTokenSubscription,_,E,x)}authStateReady(){return new Promise((_,E)=>{if(this.currentUser)_();else{const x=this.onAuthStateChanged(()=>{x(),_()},E)}})}revokeAccessToken(_){var E=this;return(0,d.A)(function*(){if(E.currentUser){const x=yield E.currentUser.getIdToken(),J={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:x};null!=E.tenantId&&(J.tenantId=E.tenantId),yield function Tt(w,_){return G.apply(this,arguments)}(E,J)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,E){var x=this;return(0,d.A)(function*(){const J=yield x.getOrInitRedirectPersistenceManager(E);return null===_?J.removeCurrentUser():J.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var E=this;return(0,d.A)(function*(){if(!E.redirectPersistenceManager){const x=_&&lt(_)||E._popupRedirectResolver;Se(x,E,"argument-error"),E.redirectPersistenceManager=yield In.create(E,[lt(x._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(_){var E=this;return(0,d.A)(function*(){var x,J;return E._isInitialized&&(yield E.queue((0,d.A)(function*(){}))),(null===(x=E._currentUser)||void 0===x?void 0:x._redirectEventId)===_?E._currentUser:(null===(J=E.redirectUser)||void 0===J?void 0:J._redirectEventId)===_?E.redirectUser:null})()}_persistUserIfCurrent(_){var E=this;return(0,d.A)(function*(){if(_===E.currentUser)return E.queue((0,d.A)(function*(){return E.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(E=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,E,x,J){if(this._deleted)return()=>{};const he="function"==typeof E?E:E.next.bind(E);let Xe=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(Pt,this,"internal-error"),Pt.then(()=>{Xe||he(this.currentUser)}),"function"==typeof E){const Jt=_.addObserver(E,x,J);return()=>{Xe=!0,Jt()}}{const Jt=_.addObserver(E);return()=>{Xe=!0,Jt()}}}directlySetCurrentUser(_){var E=this;return(0,d.A)(function*(){E.currentUser&&E.currentUser!==_&&E._currentUser._stopProactiveRefresh(),_&&E.isProactiveRefreshEnabled&&_._startProactiveRefresh(),E.currentUser=_,_?yield E.assertedPersistence.setCurrentUser(_):yield E.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,d.A)(function*(){var E;const x={"X-Client-Version":_.clientVersion};_.app.options.appId&&(x["X-Firebase-gmpid"]=_.app.options.appId);const J=yield null===(E=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();J&&(x["X-Firebase-Client"]=J);const he=yield _._getAppCheckToken();return he&&(x["X-Firebase-AppCheck"]=he),x})()}_getAppCheckToken(){var _=this;return(0,d.A)(function*(){var E;const x=yield null===(E=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getToken();return x?.error&&function pn(w,..._){Ot.logLevel<=Ce.$b.WARN&&Ot.warn(`Auth (${p.SDK_VERSION}): ${w}`,..._)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function or(w){return(0,n.Ku)(w)}class Ci{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,n.tD)(E=>this.observer=E)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hi={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function no(w){return Hi.loadJS(w)}function ri(w){return`__${w}${Math.floor(1e6*Math.random())}`}class _e{constructor(_){this.type="recaptcha-enterprise",this.auth=or(_)}verify(_="verify",E=!1){var x=this;return(0,d.A)(function*(){function he(){return he=(0,d.A)(function*(Pt){if(!E){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var Jt=(0,d.A)(function*(Gn,Hn){Vr(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zr=>{if(void 0!==zr.recaptchaKey){const Bo=new Ht(zr);return null==Pt.tenantId?Pt._agentRecaptchaConfig=Bo:Pt._tenantRecaptchaConfigs[Pt.tenantId]=Bo,Gn(Bo.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(zr=>{Hn(zr)})});return function(Gn,Hn){return Jt.apply(this,arguments)}}())}),he.apply(this,arguments)}function Xe(Pt,Jt,Gn){const Hn=window.grecaptcha;Qt(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(Pt,{action:_}).then(zr=>{Jt(zr)}).catch(()=>{Jt("NO_RECAPTCHA")})}):Gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,Jt)=>{(function J(Pt){return he.apply(this,arguments)})(x.auth).then(Gn=>{if(!E&&Qt(window.grecaptcha))Xe(Gn,Pt,Jt);else{if(typeof window>"u")return void Jt(new Error("RecaptchaVerifier is only supported in browser"));let Hn=function Ui(){return Hi.recaptchaEnterpriseScript}();0!==Hn.length&&(Hn+=Gn),no(Hn).then(()=>{Xe(Gn,Pt,Jt)}).catch(zr=>{Jt(zr)})}}).catch(Gn=>{Jt(Gn)})})})()}}function kt(w,_,E){return K.apply(this,arguments)}function K(){return(K=(0,d.A)(function*(w,_,E,x=!1){const J=new _e(w);let he;try{he=yield J.verify(E)}catch{he=yield J.verify(E,!0)}const Xe=Object.assign({},_);return Object.assign(Xe,x?{captchaResp:he}:{captchaResponse:he}),Object.assign(Xe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Xe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Xe})).apply(this,arguments)}function Ie(w,_,E,x){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,d.A)(function*(w,_,E,x){var J;if(null!==(J=w._getRecaptchaConfig())&&void 0!==J&&J.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield kt(w,_,E,"getOobCode"===E);return x(w,he)}return x(w,_).catch(function(){var he=(0,d.A)(function*(Xe){if("auth/missing-recaptcha-token"===Xe.code){console.log(`${E} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=yield kt(w,_,E,"getOobCode"===E);return x(w,Pt)}return Promise.reject(Xe)});return function(Xe){return he.apply(this,arguments)}}())}),Lt.apply(this,arguments)}function li(w,_,E){const x=or(w);Se(x._canInitEmulator,x,"emulator-config-failed"),Se(/^https?:\/\//.test(_),x,"invalid-emulator-scheme");const J=!!E?.disableWarnings,he=ia(_),{host:Xe,port:Pt}=function Ds(w){const _=ia(w),E=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!E)return{host:"",port:null};const x=E[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(x);if(J){const he=J[1];return{host:he,port:ui(x.substr(he.length+1))}}{const[he,Xe]=x.split(":");return{host:he,port:ui(Xe)}}}(_);x.config.emulator={url:`${he}//${Xe}${null===Pt?"":`:${Pt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Xe,port:Pt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function ks(){function w(){const _=document.createElement("p"),E=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ia(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function ui(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class Ss{constructor(_,E){this.providerId=_,this.signInMethod=E}toJSON(){return on("not implemented")}_getIdTokenResponse(_){return on("not implemented")}_linkToIdToken(_,E){return on("not implemented")}_getReauthenticationResolver(_){return on("not implemented")}}function ro(w,_){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:resetPassword",be(w,_))})).apply(this,arguments)}function di(){return(di=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Di(w,_){return ss.apply(this,arguments)}function ss(){return(ss=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function ms(){return(ms=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:update",be(w,_))})).apply(this,arguments)}function io(w,_){return os.apply(this,arguments)}function os(){return(os=(0,d.A)(function*(w,_){return Rn(w,"POST","/v1/accounts:signInWithPassword",be(w,_))})).apply(this,arguments)}function xs(w,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:sendOobCode",be(w,_))})).apply(this,arguments)}function An(){return(An=(0,d.A)(function*(w,_){return xs(w,_)})).apply(this,arguments)}function _r(w,_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.A)(function*(w,_){return xs(w,_)})).apply(this,arguments)}function es(w,_){return as.apply(this,arguments)}function as(){return(as=(0,d.A)(function*(w,_){return xs(w,_)})).apply(this,arguments)}function Qs(){return(Qs=(0,d.A)(function*(w,_){return xs(w,_)})).apply(this,arguments)}function _s(){return(_s=(0,d.A)(function*(w,_){return Rn(w,"POST","/v1/accounts:signInWithEmailLink",be(w,_))})).apply(this,arguments)}function dr(){return(dr=(0,d.A)(function*(w,_){return Rn(w,"POST","/v1/accounts:signInWithEmailLink",be(w,_))})).apply(this,arguments)}class Ts extends Ss{constructor(_,E,x,J=null){super("password",x),this._email=_,this._password=E,this._tenantId=J}static _fromEmailAndPassword(_,E){return new Ts(_,E,"password")}static _fromEmailAndCode(_,E,x=null){return new Ts(_,E,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(_){var E=this;return(0,d.A)(function*(){switch(E.signInMethod){case"password":return Ie(_,{returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",io);case"emailLink":return function ii(w,_){return _s.apply(this,arguments)}(_,{email:E._email,oobCode:E._password});default:fe(_,"internal-error")}})()}_linkToIdToken(_,E){var x=this;return(0,d.A)(function*(){switch(x.signInMethod){case"password":return Ie(_,{idToken:E,returnSecureToken:!0,email:x._email,password:x._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Di);case"emailLink":return function Ls(w,_){return dr.apply(this,arguments)}(_,{idToken:E,email:x._email,oobCode:x._password});default:fe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Ps(w,_){return te.apply(this,arguments)}function te(){return(te=(0,d.A)(function*(w,_){return Rn(w,"POST","/v1/accounts:signInWithIdp",be(w,_))})).apply(this,arguments)}class De extends Ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const E=new De(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(E.idToken=_.idToken),_.accessToken&&(E.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(E.nonce=_.nonce),_.pendingToken&&(E.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(E.accessToken=_.oauthToken,E.secret=_.oauthTokenSecret):fe("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:J}=E,he=(0,pe.Tt)(E,["providerId","signInMethod"]);if(!x||!J)return null;const Xe=new De(x,J);return Xe.idToken=he.idToken||void 0,Xe.accessToken=he.accessToken||void 0,Xe.secret=he.secret,Xe.nonce=he.nonce,Xe.pendingToken=he.pendingToken||null,Xe}_getIdTokenResponse(_){return Ps(_,this.buildRequest())}_linkToIdToken(_,E){const x=this.buildRequest();return x.idToken=E,Ps(_,x)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,Ps(_,E)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),_.postBody=(0,n.Am)(E)}return _}}function rt(){return(rt=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:sendVerificationCode",be(w,_))})).apply(this,arguments)}function cn(){return(cn=(0,d.A)(function*(w,_){return Rn(w,"POST","/v1/accounts:signInWithPhoneNumber",be(w,_))})).apply(this,arguments)}function Sn(){return(Sn=(0,d.A)(function*(w,_){const E=yield Rn(w,"POST","/v1/accounts:signInWithPhoneNumber",be(w,_));if(E.temporaryProof)throw ir(w,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const hr={USER_NOT_FOUND:"user-not-found"};function Xn(){return(Xn=(0,d.A)(function*(w,_){return Rn(w,"POST","/v1/accounts:signInWithPhoneNumber",be(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),hr)})).apply(this,arguments)}class Qn extends Ss{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,E){return new Qn({verificationId:_,verificationCode:E})}static _fromTokenResponse(_,E){return new Qn({phoneNumber:_,temporaryProof:E})}_getIdTokenResponse(_){return function bt(w,_){return cn.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,E){return function Un(w,_){return Sn.apply(this,arguments)}(_,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Br(w,_){return Xn.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:E,verificationId:x,verificationCode:J}=this.params;return _&&E?{temporaryProof:_,phoneNumber:E}:{sessionInfo:x,code:J}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:E,verificationCode:x,phoneNumber:J,temporaryProof:he}=_;return x||E||J||he?new Qn({verificationId:E,verificationCode:x,phoneNumber:J,temporaryProof:he}):null}}class fi{constructor(_){var E,x,J,he,Xe,Pt;const Jt=(0,n.I9)((0,n.hp)(_)),Gn=null!==(E=Jt.apiKey)&&void 0!==E?E:null,Hn=null!==(x=Jt.oobCode)&&void 0!==x?x:null,zr=function fr(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=Jt.mode)&&void 0!==J?J:null);Se(Gn&&Hn&&zr,"argument-error"),this.apiKey=Gn,this.operation=zr,this.code=Hn,this.continueUrl=null!==(he=Jt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Xe=Jt.languageCode)&&void 0!==Xe?Xe:null,this.tenantId=null!==(Pt=Jt.tenantId)&&void 0!==Pt?Pt:null}static parseLink(_){const E=function wi(w){const _=(0,n.I9)((0,n.hp)(w)).link,E=_?(0,n.I9)((0,n.hp)(_)).deep_link_id:null,x=(0,n.I9)((0,n.hp)(w)).deep_link_id;return(x?(0,n.I9)((0,n.hp)(x)).link:null)||x||E||_||w}(_);try{return new fi(E)}catch{return null}}}let ts=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(E,x){return Ts._fromEmailAndPassword(E,x)}static credentialWithLink(E,x){const J=fi.parseLink(x);return Se(J,"argument-error"),Ts._fromEmailAndCode(E,J.code,J.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class ki{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ir extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Fi extends Ir{static credentialFromJSON(_){const E="string"==typeof _?JSON.parse(_):_;return Se("providerId"in E&&"signInMethod"in E,"argument-error"),De._fromParams(E)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Se(_.idToken||_.accessToken,"argument-error"),De._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Fi.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Fi.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:x,oauthTokenSecret:J,pendingToken:he,nonce:Xe,providerId:Pt}=_;if(!x&&!J&&!E&&!he||!Pt)return null;try{return new Fi(Pt)._credential({idToken:E,accessToken:x,nonce:Xe,pendingToken:he})}catch{return null}}}let ji=(()=>{class w extends Ir{constructor(){super("facebook.com")}static credential(E){return De._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return w.credentialFromTaggedObject(E)}static credentialFromError(E){return w.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return w.credential(E.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),ti=(()=>{class w extends Ir{constructor(){super("google.com"),this.addScope("profile")}static credential(E,x){return De._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:x})}static credentialFromResult(E){return w.credentialFromTaggedObject(E)}static credentialFromError(E){return w.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:x,oauthAccessToken:J}=E;if(!x&&!J)return null;try{return w.credential(x,J)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ao=(()=>{class w extends Ir{constructor(){super("github.com")}static credential(E){return De._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return w.credentialFromTaggedObject(E)}static credentialFromError(E){return w.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return w.credential(E.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class so extends Ss{constructor(_,E){super(_,_),this.pendingToken=E}_getIdTokenResponse(_){return Ps(_,this.buildRequest())}_linkToIdToken(_,E){const x=this.buildRequest();return x.idToken=E,Ps(_,x)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,Ps(_,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:J,pendingToken:he}=E;return x&&J&&he&&x===J?new so(x,he):null}static _create(_,E){return new so(_,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sa extends ki{constructor(_){Se(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return sa.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return sa.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const E=so.fromJSON(_);return Se(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:E,providerId:x}=_;if(!E||!x)return null;try{return so._create(x,E)}catch{return null}}}let Ra=(()=>{class w extends Ir{constructor(){super("twitter.com")}static credential(E,x){return De._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:x})}static credentialFromResult(E){return w.credentialFromTaggedObject(E)}static credentialFromError(E){return w.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:x,oauthTokenSecret:J}=E;if(!x||!J)return null;try{return w.credential(x,J)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Hs(w,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.A)(function*(w,_){return Rn(w,"POST","/v1/accounts:signUp",be(w,_))})).apply(this,arguments)}class ls{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,E,x,J=!1){return(0,d.A)(function*(){const he=yield se._fromIdTokenResponse(_,x,J),Xe=zi(x);return new ls({user:he,providerId:Xe,_tokenResponse:x,operationType:E})})()}static _forOperation(_,E,x){return(0,d.A)(function*(){yield _._updateTokensIfNecessary(x,!0);const J=zi(x);return new ls({user:_,providerId:J,_tokenResponse:x,operationType:E})})()}}function zi(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Do(w){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.A)(function*(w){var _;if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const E=or(w);if(yield E._initializationPromise,null!==(_=E.currentUser)&&void 0!==_&&_.isAnonymous)return new ls({user:E.currentUser,providerId:null,operationType:"signIn"});const x=yield Hs(E,{returnSecureToken:!0}),J=yield ls._fromIdTokenResponse(E,"signIn",x,!0);return yield E._updateCurrentUser(J.user),J})).apply(this,arguments)}class ko extends n.g{constructor(_,E,x,J){var he;super(E.code,E.message),this.operationType=x,this.user=J,Object.setPrototypeOf(this,ko.prototype),this.customData={appName:_.name,tenantId:null!==(he=_.tenantId)&&void 0!==he?he:void 0,_serverResponse:E.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(_,E,x,J){return new ko(_,E,x,J)}}function xi(w,_,E,x){return("reauthenticate"===_?E._getReauthenticationResolver(w):E._getIdTokenResponse(w)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?ko._fromErrorAndOperation(w,he,_,x):he})}function Ko(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function qo(w,_){return q.apply(this,arguments)}function q(){return q=(0,d.A)(function*(w,_){const E=(0,n.Ku)(w);yield ue(!0,E,_);const{providerUserInfo:x}=yield function Zn(w,_){return Nn.apply(this,arguments)}(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[_]}),J=Ko(x||[]);return E.providerData=E.providerData.filter(he=>J.has(he.providerId)),J.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E}),q.apply(this,arguments)}function Z(w,_){return U.apply(this,arguments)}function U(){return(U=(0,d.A)(function*(w,_,E=!1){const x=yield sr(w,_._linkToIdToken(w.auth,yield w.getIdToken()),E);return ls._forOperation(w,"link",x)})).apply(this,arguments)}function ue(w,_,E){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.A)(function*(w,_,E){yield ae(_);const J=!1===w?"provider-already-linked":"no-such-provider";Se(Ko(_.providerData).has(E)===w,_.auth,J)})).apply(this,arguments)}function Dn(w,_){return yr.apply(this,arguments)}function yr(){return(yr=(0,d.A)(function*(w,_,E=!1){const{auth:x}=w;if((0,p._isFirebaseServerApp)(x.app))return Promise.reject(it(x));const J="reauthenticate";try{const he=yield sr(w,xi(x,J,_,w),E);Se(he.idToken,x,"internal-error");const Xe=br(he.idToken);Se(Xe,x,"internal-error");const{sub:Pt}=Xe;return Se(w.uid===Pt,x,"user-mismatch"),ls._forOperation(w,J,he)}catch(he){throw"auth/user-not-found"===he?.code&&fe(x,"user-mismatch"),he}})).apply(this,arguments)}function Is(w,_){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.A)(function*(w,_,E=!1){if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x="signIn",J=yield xi(w,x,_),he=yield ls._fromIdTokenResponse(w,x,J);return E||(yield w._updateCurrentUser(he.user)),he})).apply(this,arguments)}function us(w,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.A)(function*(w,_){return Is(or(w),_)})).apply(this,arguments)}function oo(w,_){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.A)(function*(w,_){const E=(0,n.Ku)(w);return yield ue(!1,E,_.providerId),Z(E,_)})).apply(this,arguments)}function Fo(w,_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,d.A)(function*(w,_){return Dn((0,n.Ku)(w),_)})).apply(this,arguments)}function aa(){return(aa=(0,d.A)(function*(w,_){return Rn(w,"POST","/v1/accounts:signInWithCustomToken",be(w,_))})).apply(this,arguments)}function Yi(w,_){return wc.apply(this,arguments)}function wc(){return wc=(0,d.A)(function*(w,_){if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const E=or(w),x=yield function Ms(w,_){return aa.apply(this,arguments)}(E,{token:_,returnSecureToken:!0}),J=yield ls._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(J.user),J}),wc.apply(this,arguments)}class ns{constructor(_,E){this.factorId=_,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(_,E){return"phoneInfo"in E?Ka._fromServerResponse(_,E):"totpInfo"in E?ao._fromServerResponse(_,E):fe(_,"internal-error")}}class Ka extends ns{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,E){return new Ka(E)}}class ao extends ns{constructor(_){super("totp",_)}static _fromServerResponse(_,E){return new ao(E)}}function tn(w,_,E){var x;Se((null===(x=E.url)||void 0===x?void 0:x.length)>0,w,"invalid-continue-uri"),Se(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=E.url,_.dynamicLinkDomain=E.dynamicLinkDomain,_.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(Se(E.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iOSBundleId=E.iOS.bundleId),E.android&&(Se(E.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=E.android.installApp,_.androidMinimumVersionCode=E.android.minimumVersion,_.androidPackageName=E.android.packageName)}function ys(w){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.A)(function*(w){const _=or(w);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function ca(w,_,E){return So.apply(this,arguments)}function So(){return(So=(0,d.A)(function*(w,_,E){const x=or(w),J={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};E&&tn(x,J,E),yield Ie(x,J,"getOobCode",_r)})).apply(this,arguments)}function qa(w,_,E){return xr.apply(this,arguments)}function xr(){return xr=(0,d.A)(function*(w,_,E){yield ro((0,n.Ku)(w),{oobCode:_,newPassword:E}).catch(function(){var x=(0,d.A)(function*(J){throw"auth/password-does-not-meet-requirements"===J.code&&ys(w),J});return function(J){return x.apply(this,arguments)}}())}),xr.apply(this,arguments)}function co(w,_){return lo.apply(this,arguments)}function lo(){return lo=(0,d.A)(function*(w,_){yield function hi(w,_){return ms.apply(this,arguments)}((0,n.Ku)(w),{oobCode:_})}),lo.apply(this,arguments)}function rr(w,_){return la.apply(this,arguments)}function la(){return(la=(0,d.A)(function*(w,_){const E=(0,n.Ku)(w),x=yield ro(E,{oobCode:_}),J=x.requestType;switch(Se(J,E,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(x.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(x.mfaInfo,E,"internal-error");default:Se(x.email,E,"internal-error")}let he=null;return x.mfaInfo&&(he=ns._fromServerResponse(or(E),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:he},operation:J}})).apply(this,arguments)}function Au(w,_){return el.apply(this,arguments)}function el(){return(el=(0,d.A)(function*(w,_){const{data:E}=yield rr((0,n.Ku)(w),_);return E.email})).apply(this,arguments)}function hd(w,_,E){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,d.A)(function*(w,_,E){if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=or(w),Xe=yield Ie(x,{returnSecureToken:!0,email:_,password:E,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hs).catch(Jt=>{throw"auth/password-does-not-meet-requirements"===Jt.code&&ys(w),Jt}),Pt=yield ls._fromIdTokenResponse(x,"signIn",Xe);return yield x._updateCurrentUser(Pt.user),Pt})).apply(this,arguments)}function Du(w,_,E){return(0,p._isFirebaseServerApp)(w.app)?Promise.reject(it(w)):us((0,n.Ku)(w),ts.credential(_,E)).catch(function(){var x=(0,d.A)(function*(J){throw"auth/password-does-not-meet-requirements"===J.code&&ys(w),J});return function(J){return x.apply(this,arguments)}}())}function Ac(w,_,E){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,d.A)(function*(w,_,E){const x=or(w),J={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function he(Xe,Pt){Se(Pt.handleCodeInApp,x,"argument-error"),Pt&&tn(x,Xe,Pt)})(J,E),yield Ie(x,J,"getOobCode",es)})).apply(this,arguments)}function Oa(w,_){const E=fi.parseLink(_);return"EMAIL_SIGNIN"===E?.operation}function Na(w,_,E){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,d.A)(function*(w,_,E){if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=(0,n.Ku)(w),J=ts.credentialWithLink(_,E||jn());return Se(J._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),us(x,J)})).apply(this,arguments)}function Qa(){return(Qa=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:createAuthUri",be(w,_))})).apply(this,arguments)}function kl(w,_){return M.apply(this,arguments)}function M(){return M=(0,d.A)(function*(w,_){const x={identifier:_,continueUri:Ft()?jn():"http://localhost"},{signinMethods:J}=yield function Xa(w,_){return Qa.apply(this,arguments)}((0,n.Ku)(w),x);return J||[]}),M.apply(this,arguments)}function re(w,_){return B.apply(this,arguments)}function B(){return B=(0,d.A)(function*(w,_){const E=(0,n.Ku)(w),J={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&tn(E.auth,J,_);const{email:he}=yield function Wr(w,_){return An.apply(this,arguments)}(E.auth,J);he!==w.email&&(yield w.reload())}),B.apply(this,arguments)}function Q(w,_,E){return Me.apply(this,arguments)}function Me(){return Me=(0,d.A)(function*(w,_,E){const x=(0,n.Ku)(w),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};E&&tn(x.auth,he,E);const{email:Xe}=yield function Bi(w,_){return Qs.apply(this,arguments)}(x.auth,he);Xe!==w.email&&(yield w.reload())}),Me.apply(this,arguments)}function $t(){return($t=(0,d.A)(function*(w,_){return Be(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function tr(w,_){return ni.apply(this,arguments)}function ni(){return ni=(0,d.A)(function*(w,{displayName:_,photoURL:E}){if(void 0===_&&void 0===E)return;const x=(0,n.Ku)(w),he={idToken:yield x.getIdToken(),displayName:_,photoUrl:E,returnSecureToken:!0},Xe=yield sr(x,function xt(w,_){return $t.apply(this,arguments)}(x.auth,he));x.displayName=Xe.displayName||null,x.photoURL=Xe.photoUrl||null;const Pt=x.providerData.find(({providerId:Jt})=>"password"===Jt);Pt&&(Pt.displayName=x.displayName,Pt.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Xe)}),ni.apply(this,arguments)}function Ti(w,_){const E=(0,n.Ku)(w);return(0,p._isFirebaseServerApp)(E.auth.app)?Promise.reject(it(E.auth)):Pr(E,_,null)}function pi(w,_){return Pr((0,n.Ku)(w),null,_)}function Pr(w,_,E){return yi.apply(this,arguments)}function yi(){return yi=(0,d.A)(function*(w,_,E){const{auth:x}=w,he={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&(he.email=_),E&&(he.password=E);const Xe=yield sr(w,function jr(w,_){return di.apply(this,arguments)}(x,he));yield w._updateTokensIfNecessary(Xe,!0)}),yi.apply(this,arguments)}class Li{constructor(_,E,x={}){this.isNewUser=_,this.providerId=E,this.profile=x}}class _o extends Li{constructor(_,E,x,J){super(_,E,x),this.username=J}}class vs extends Li{constructor(_,E){super(_,"facebook.com",E)}}class ua extends _o{constructor(_,E){super(_,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class Js extends Li{constructor(_,E){super(_,"google.com",E)}}class Us extends _o{constructor(_,E,x){super(_,"twitter.com",E,x)}}function Es(w){const{user:_,_tokenResponse:E}=w;return _.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Oi(w){var _,E;if(!w)return null;const{providerId:x}=w,J=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},he=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!x&&w?.idToken){const Xe=null===(E=null===(_=br(w.idToken))||void 0===_?void 0:_.firebase)||void 0===E?void 0:E.sign_in_provider;if(Xe)return new Li(he,"anonymous"!==Xe&&"custom"!==Xe?Xe:null)}if(!x)return null;switch(x){case"facebook.com":return new vs(he,J);case"github.com":return new ua(he,J);case"google.com":return new Js(he,J);case"twitter.com":return new Us(he,J,w.screenName||null);case"custom":case"anonymous":return new Li(he,null);default:return new Li(he,x,J)}}(E)}class Rs{constructor(_,E,x){this.type=_,this.credential=E,this.user=x}static _fromIdtoken(_,E){return new Rs("enroll",_,E)}static _fromMfaPendingCredential(_){return new Rs("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var E,x;if(_?.multiFactorSession){if(null!==(E=_.multiFactorSession)&&void 0!==E&&E.pendingCredential)return Rs._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(x=_.multiFactorSession)&&void 0!==x&&x.idToken)return Rs._fromIdtoken(_.multiFactorSession.idToken)}return null}}class ka{constructor(_,E,x){this.session=_,this.hints=E,this.signInResolver=x}static _fromError(_,E){const x=or(_),J=E.customData._serverResponse,he=(J.mfaInfo||[]).map(Pt=>ns._fromServerResponse(x,Pt));Se(J.mfaPendingCredential,x,"internal-error");const Xe=Rs._fromMfaPendingCredential(J.mfaPendingCredential);return new ka(Xe,he,function(){var Pt=(0,d.A)(function*(Jt){const Gn=yield Jt._process(x,Xe);delete J.mfaInfo,delete J.mfaPendingCredential;const Hn=Object.assign(Object.assign({},J),{idToken:Gn.idToken,refreshToken:Gn.refreshToken});switch(E.operationType){case"signIn":const zr=yield ls._fromIdTokenResponse(x,E.operationType,Hn);return yield x._updateCurrentUser(zr.user),zr;case"reauthenticate":return Se(E.user,x,"internal-error"),ls._forOperation(E.user,E.operationType,Hn);default:fe(x,"internal-error")}});return function(Jt){return Pt.apply(this,arguments)}}())}resolveSignIn(_){var E=this;return(0,d.A)(function*(){return E.signInResolver(_)})()}}function xc(w,_){var E;const x=(0,n.Ku)(w),J=_;return Se(_.customData.operationType,x,"argument-error"),Se(null===(E=J.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,x,"argument-error"),ka._fromError(x,J)}class Fl{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(x=>ns._fromServerResponse(_.auth,x)))})}static _fromUser(_){return new Fl(_)}getSession(){var _=this;return(0,d.A)(function*(){return Rs._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,E){var x=this;return(0,d.A)(function*(){const J=_,he=yield x.getSession(),Xe=yield sr(x.user,J._process(x.user.auth,he,E));return yield x.user._updateTokensIfNecessary(Xe),x.user.reload()})()}unenroll(_){var E=this;return(0,d.A)(function*(){const x="string"==typeof _?_:_.uid,J=yield E.user.getIdToken();try{const he=yield sr(E.user,function wr(w,_){return Be(w,"POST","/v2/accounts/mfaEnrollment:withdraw",be(w,_))}(E.user.auth,{idToken:J,mfaEnrollmentId:x}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Xe})=>Xe!==x),yield E.user._updateTokensIfNecessary(he),yield E.user.reload()}catch(he){throw he}})()}}const Ll=new WeakMap;function ha(w){const _=(0,n.Ku)(w);return Ll.has(_)||Ll.set(_,Fl._fromUser(_)),Ll.get(_)}const Vl="__sak";class Oh{constructor(_,E){this.storageRetriever=_,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Vl,"1"),this.storage.removeItem(Vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,E){return this.storage.setItem(_,JSON.stringify(E)),Promise.resolve()}_get(_){const E=this.storage.getItem(_);return Promise.resolve(E?JSON.parse(E):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mu=(()=>{class w extends Oh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,x)=>this.onStorageEvent(E,x),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ze(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const x of Object.keys(this.listeners)){const J=this.storage.getItem(x),he=this.localCache[x];J!==he&&E(x,he,J)}}onStorageEvent(E,x=!1){if(!E.key)return void this.forAllChangedKeys((Pt,Jt,Gn)=>{this.notifyListeners(Pt,Gn)});const J=E.key;x?this.detachListener():this.stopPolling();const he=()=>{const Pt=this.storage.getItem(J);!x&&this.localCache[J]===Pt||this.notifyListeners(J,Pt)},Xe=this.storage.getItem(J);!function vt(){return(0,n.lT)()&&10===document.documentMode}()||Xe===E.newValue||E.newValue===E.oldValue?he():setTimeout(he,10)}notifyListeners(E,x){this.localCache[E]=x;const J=this.listeners[E];if(J)for(const he of Array.from(J))he(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,x,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:x,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,x){var J=()=>super._set,he=this;return(0,d.A)(function*(){yield J().call(he,E,x),he.localCache[E]=JSON.stringify(x)})()}_get(E){var x=()=>super._get,J=this;return(0,d.A)(function*(){const he=yield x().call(J,E);return J.localCache[E]=JSON.stringify(he),he})()}_remove(E){var x=()=>super._remove,J=this;return(0,d.A)(function*(){yield x().call(J,E),delete J.localCache[E]})()}}return w.type="LOCAL",w})(),nl=(()=>{class w extends Oh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,x){}_removeListener(E,x){}}return w.type="SESSION",w})();let en=(()=>{class w{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const x=this.receivers.find(he=>he.isListeningto(E));if(x)return x;const J=new w(E);return this.receivers.push(J),J}isListeningto(E){return this.eventTarget===E}handleEvent(E){var x=this;return(0,d.A)(function*(){const J=E,{eventId:he,eventType:Xe,data:Pt}=J.data,Jt=x.handlersMap[Xe];if(!Jt?.size)return;J.ports[0].postMessage({status:"ack",eventId:he,eventType:Xe});const Gn=Array.from(Jt).map(function(){var zr=(0,d.A)(function*(Bo){return Bo(J.origin,Pt)});return function(Bo){return zr.apply(this,arguments)}}()),Hn=yield function Za(w){return Promise.all(w.map(function(){var _=(0,d.A)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(x){return{fulfilled:!1,reason:x}}});return function(E){return _.apply(this,arguments)}}()))}(Gn);J.ports[0].postMessage({status:"done",eventId:he,eventType:Xe,response:Hn})})()}_subscribe(E,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(x)}_unsubscribe(E,x){this.handlersMap[E]&&x&&this.handlersMap[E].delete(x),(!x||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Gr(w="",_=10){let E="";for(let x=0;x<_;x++)E+=Math.floor(10*Math.random());return w+E}class uo{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,E,x=50){var J=this;return(0,d.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Xe,Pt;return new Promise((Jt,Gn)=>{const Hn=Gr("",20);he.port1.start();const zr=setTimeout(()=>{Gn(new Error("unsupported_event"))},x);Pt={messageChannel:he,onMessage(Bo){const _a=Bo;if(_a.data.eventId===Hn)switch(_a.data.status){case"ack":clearTimeout(zr),Xe=setTimeout(()=>{Gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Xe),Jt(_a.data.response);break;default:clearTimeout(zr),clearTimeout(Xe),Gn(new Error("invalid_response"))}}},J.handlers.add(Pt),he.port1.addEventListener("message",Pt.onMessage),J.target.postMessage({eventType:_,eventId:Hn,data:E},[he.port2])}).finally(()=>{Pt&&J.removeMessageHandler(Pt)})})()}}function bs(){return window}function rl(){return typeof bs().WorkerGlobalScope<"u"&&"function"==typeof bs().importScripts}function Vo(){return(Vo=(0,d.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ec="firebaseLocalStorageDb",nc="firebaseLocalStorage",Zs="fbase_key";class yo{constructor(_){this.request=_}toPromise(){return new Promise((_,E)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Fa(w,_){return w.transaction([nc],_?"readwrite":"readonly").objectStore(nc)}function xo(){const w=indexedDB.open(ec,1);return new Promise((_,E)=>{w.addEventListener("error",()=>{E(w.error)}),w.addEventListener("upgradeneeded",()=>{const x=w.result;try{x.createObjectStore(nc,{keyPath:Zs})}catch(J){E(J)}}),w.addEventListener("success",(0,d.A)(function*(){const x=w.result;x.objectStoreNames.contains(nc)?_(x):(x.close(),yield function rc(){const w=indexedDB.deleteDatabase(ec);return new yo(w).toPromise()}(),_(yield xo()))}))})}function Ul(w,_,E){return jl.apply(this,arguments)}function jl(){return(jl=(0,d.A)(function*(w,_,E){const x=Fa(w,!0).put({[Zs]:_,value:E});return new yo(x).toPromise()})).apply(this,arguments)}function Mc(){return(Mc=(0,d.A)(function*(w,_){const E=Fa(w,!1).get(_),x=yield new yo(E).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Bl(w,_){const E=Fa(w,!0).delete(_);return new yo(E).toPromise()}const N=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,d.A)(function*(){return E.db||(E.db=yield xo()),E.db})()}_withRetries(E){var x=this;return(0,d.A)(function*(){let J=0;for(;;)try{const he=yield x._openDb();return yield E(he)}catch(he){if(J++>3)throw he;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,d.A)(function*(){return rl()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,d.A)(function*(){E.receiver=en._getInstance(function sl(){return rl()?self:null}()),E.receiver._subscribe("keyChanged",function(){var x=(0,d.A)(function*(J,he){return{keyProcessed:(yield E._poll()).includes(he.key)}});return function(J,he){return x.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var x=(0,d.A)(function*(J,he){return["keyChanged"]});return function(J,he){return x.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,d.A)(function*(){var x,J;if(E.activeServiceWorker=yield function Pc(){return Vo.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new uo(E.activeServiceWorker);const he=yield E.sender._send("ping",{},800);he&&null!==(x=he[0])&&void 0!==x&&x.fulfilled&&null!==(J=he[0])&&void 0!==J&&J.value.includes("keyChanged")&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var x=this;return(0,d.A)(function*(){if(x.sender&&x.activeServiceWorker&&function il(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:E},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const E=yield xo();return yield Ul(E,Vl,"1"),yield Bl(E,Vl),!0}catch{}return!1})()}_withPendingWrite(E){var x=this;return(0,d.A)(function*(){x.pendingWrites++;try{yield E()}finally{x.pendingWrites--}})()}_set(E,x){var J=this;return(0,d.A)(function*(){return J._withPendingWrite((0,d.A)(function*(){return yield J._withRetries(he=>Ul(he,E,x)),J.localCache[E]=x,J.notifyServiceWorker(E)}))})()}_get(E){var x=this;return(0,d.A)(function*(){const J=yield x._withRetries(he=>function Jf(w,_){return Mc.apply(this,arguments)}(he,E));return x.localCache[E]=J,J})()}_remove(E){var x=this;return(0,d.A)(function*(){return x._withPendingWrite((0,d.A)(function*(){return yield x._withRetries(J=>Bl(J,E)),delete x.localCache[E],x.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,d.A)(function*(){const x=yield E._withRetries(Xe=>{const Pt=Fa(Xe,!1).getAll();return new yo(Pt).toPromise()});if(!x)return[];if(0!==E.pendingWrites)return[];const J=[],he=new Set;if(0!==x.length)for(const{fbase_key:Xe,value:Pt}of x)he.add(Xe),JSON.stringify(E.localCache[Xe])!==JSON.stringify(Pt)&&(E.notifyListeners(Xe,Pt),J.push(Xe));for(const Xe of Object.keys(E.localCache))E.localCache[Xe]&&!he.has(Xe)&&(E.notifyListeners(Xe,null),J.push(Xe));return J})()}notifyListeners(E,x){this.localCache[E]=x;const J=this.listeners[E];if(J)for(const he of Array.from(J))he(x)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),wt=1e12;class yt{constructor(_){this.auth=_,this.counter=wt,this._widgets=new Map}render(_,E){const x=this.counter;return this._widgets.set(x,new Mn(_,this.auth.name,E||{})),this.counter++,x}reset(_){var E;const x=_||wt;null===(E=this._widgets.get(x))||void 0===E||E.delete(),this._widgets.delete(x)}getResponse(_){var E;return(null===(E=this._widgets.get(_||wt))||void 0===E?void 0:E.getResponse())||""}execute(_){var E=this;return(0,d.A)(function*(){var x;return null===(x=E._widgets.get(_||wt))||void 0===x||x.execute(),""})()}}class Mn{constructor(_,E,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof _?document.getElementById(_):_;Se(J,"argument-error",{appName:E}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ar(w){const _=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<w;x++)_.push(E.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":E}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Or=ri("rcb"),Kr=new je(3e4,6e4);class Zr{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=bs().grecaptcha)||void 0===_||!_.render)}load(_,E=""){return Se(function ic(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(E),_,"argument-error"),this.shouldResolveImmediately(E)&&$n(bs().grecaptcha)?Promise.resolve(bs().grecaptcha):new Promise((x,J)=>{const he=bs().setTimeout(()=>{J(Je(_,"network-request-failed"))},Kr.get());bs()[Or]=()=>{bs().clearTimeout(he),delete bs()[Or];const Pt=bs().grecaptcha;if(!Pt||!$n(Pt))return void J(Je(_,"internal-error"));const Jt=Pt.render;Pt.render=(Gn,Hn)=>{const zr=Jt(Gn,Hn);return this.counter++,zr},this.hostLanguage=E,x(Pt)},no(`${function Xs(){return Hi.recaptchaV2Script}()}?${(0,n.Am)({onload:Or,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(he),J(Je(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var E;return!(null===(E=bs().grecaptcha)||void 0===E||!E.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rc{load(_){return(0,d.A)(function*(){return new yt(_)})()}clearedOneInstance(){}}const ol="recaptcha",Oc={theme:"light",type:"image"};class Ru{constructor(_,E,x=Object.assign({},Oc)){this.parameters=x,this.type=ol,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=or(_),this.isInvisible="invisible"===this.parameters.size,Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof E?document.getElementById(E):E;Se(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rc:new Zr,this.validateStartingState()}verify(){var _=this;return(0,d.A)(function*(){_.assertNotDestroyed();const E=yield _.render(),x=_.getAssertedRecaptcha();return x.getResponse(E)||new Promise(he=>{const Xe=Pt=>{Pt&&(_.tokenChangeListeners.delete(Xe),he(Pt))};_.tokenChangeListeners.add(Xe),_.isInvisible&&x.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return E=>{if(this.tokenChangeListeners.forEach(x=>x(E)),"function"==typeof _)_(E);else if("string"==typeof _){const x=bs()[_];"function"==typeof x&&x(E)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,d.A)(function*(){if(yield _.init(),!_.widgetId){let E=_.container;if(!_.isInvisible){const x=document.createElement("div");E.appendChild(x),E=x}_.widgetId=_.getAssertedRecaptcha().render(E,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,d.A)(function*(){Se(Ft()&&!rl(),_.auth,"internal-error"),yield function sc(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const E=yield function Jn(w){return gn.apply(this,arguments)}(_.auth);Se(E,_.auth,"internal-error"),_.parameters.sitekey=E})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oc{constructor(_,E){this.verificationId=_,this.onConfirmation=E}confirm(_){const E=Qn._fromVerification(this.verificationId,_);return this.onConfirmation(E)}}function Po(w,_,E){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,d.A)(function*(w,_,E){if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=or(w),J=yield ku(x,_,(0,n.Ku)(E));return new oc(J,he=>us(x,he))})).apply(this,arguments)}function Va(w,_,E){return $l.apply(this,arguments)}function $l(){return($l=(0,d.A)(function*(w,_,E){const x=(0,n.Ku)(w);yield ue(!1,x,"phone");const J=yield ku(x.auth,_,(0,n.Ku)(E));return new oc(J,he=>oo(x,he))})).apply(this,arguments)}function Ou(w,_,E){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,d.A)(function*(w,_,E){const x=(0,n.Ku)(w);if((0,p._isFirebaseServerApp)(x.auth.app))return Promise.reject(it(x.auth));const J=yield ku(x.auth,_,(0,n.Ku)(E));return new oc(J,he=>Fo(x,he))})).apply(this,arguments)}function ku(w,_,E){return _d.apply(this,arguments)}function _d(){return _d=(0,d.A)(function*(w,_,E){var x;const J=yield E.verify();try{let he;if(Se("string"==typeof J,w,"argument-error"),Se(E.type===ol,w,"argument-error"),he="string"==typeof _?{phoneNumber:_}:_,"session"in he){const Xe=he.session;if("phoneNumber"in he)return Se("enroll"===Xe.type,w,"internal-error"),(yield function tl(w,_){return Be(w,"POST","/v2/accounts/mfaEnrollment:start",be(w,_))}(w,{idToken:Xe.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{Se("signin"===Xe.type,w,"internal-error");const Pt=(null===(x=he.multiFactorHint)||void 0===x?void 0:x.uid)||he.multiFactorUid;return Se(Pt,w,"missing-multi-factor-info"),(yield function A(w,_){return Be(w,"POST","/v2/accounts/mfaSignIn:start",be(w,_))}(w,{mfaPendingCredential:Xe.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Xe}=yield function Fe(w,_){return rt.apply(this,arguments)}(w,{phoneNumber:he.phoneNumber,recaptchaToken:J});return Xe}}finally{E._reset()}}),_d.apply(this,arguments)}function Fu(w,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,d.A)(function*(w,_){const E=(0,n.Ku)(w);if((0,p._isFirebaseServerApp)(E.auth.app))return Promise.reject(it(E.auth));yield Z(E,_)})).apply(this,arguments)}let pa=(()=>{class w{constructor(E){this.providerId=w.PROVIDER_ID,this.auth=or(E)}verifyPhoneNumber(E,x){return ku(this.auth,E,(0,n.Ku)(x))}static credential(E,x){return Qn._fromVerification(E,x)}static credentialFromResult(E){return w.credentialFromTaggedObject(E)}static credentialFromError(E){return w.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:x,temporaryProof:J}=E;return x&&J?Qn._fromTokenResponse(x,J):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Nc(w,_){return _?lt(_):(Se(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class kh extends Ss{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Ps(_,this._buildIdpRequest())}_linkToIdToken(_,E){return Ps(_,this._buildIdpRequest(E))}_getReauthenticationResolver(_){return Ps(_,this._buildIdpRequest())}_buildIdpRequest(_){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(E.idToken=_),E}}function yd(w){return Is(w.auth,new kh(w),w.bypassAuthState)}function ac(w){const{auth:_,user:E}=w;return Se(E,_,"internal-error"),Dn(E,new kh(w),w.bypassAuthState)}function vd(w){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,d.A)(function*(w){const{auth:_,user:E}=w;return Se(E,_,"internal-error"),Z(E,new kh(w),w.bypassAuthState)})).apply(this,arguments)}class Fh{constructor(_,E,x,J,he=!1){this.auth=_,this.resolver=x,this.user=J,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var _=this;return new Promise(function(){var E=(0,d.A)(function*(x,J){_.pendingPromise={resolve:x,reject:J};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(he){_.reject(he)}});return function(x,J){return E.apply(this,arguments)}}())}onAuthEvent(_){var E=this;return(0,d.A)(function*(){const{urlResponse:x,sessionId:J,postBody:he,tenantId:Xe,error:Pt,type:Jt}=_;if(Pt)return void E.reject(Pt);const Gn={auth:E.auth,requestUri:x,sessionId:J,tenantId:Xe||void 0,postBody:he||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Jt)(Gn))}catch(Hn){E.reject(Hn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return yd;case"linkViaPopup":case"linkViaRedirect":return vd;case"reauthViaPopup":case"reauthViaRedirect":return ac;default:fe(this.auth,"internal-error")}}resolve(_){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lh=new je(2e3,1e4);function Vu(w,_,E){return kc.apply(this,arguments)}function kc(){return(kc=(0,d.A)(function*(w,_,E){if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(Je(w,"operation-not-supported-in-this-environment"));const x=or(w);Et(w,_,ki);const J=Nc(x,E);return new Zf(x,"signInViaPopup",_,J).executeNotNull()})).apply(this,arguments)}function Uu(w,_,E){return al.apply(this,arguments)}function al(){return(al=(0,d.A)(function*(w,_,E){const x=(0,n.Ku)(w);if((0,p._isFirebaseServerApp)(x.auth.app))return Promise.reject(Je(x.auth,"operation-not-supported-in-this-environment"));Et(x.auth,_,ki);const J=Nc(x.auth,E);return new Zf(x.auth,"reauthViaPopup",_,J,x).executeNotNull()})).apply(this,arguments)}function Ed(w,_,E){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.A)(function*(w,_,E){const x=(0,n.Ku)(w);Et(x.auth,_,ki);const J=Nc(x.auth,E);return new Zf(x.auth,"linkViaPopup",_,J,x).executeNotNull()})).apply(this,arguments)}let Zf=(()=>{class w extends Fh{constructor(E,x,J,he,Xe){super(E,x,he,Xe),this.provider=J,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var E=this;return(0,d.A)(function*(){const x=yield E.execute();return Se(x,E.auth,"internal-error"),x})()}onExecution(){var E=this;return(0,d.A)(function*(){bn(1===E.filter.length,"Popup operations only handle one event");const x=Gr();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],x),E.authWindow.associatedEvent=x,E.resolver._originValidation(E.auth).catch(J=>{E.reject(J)}),E.resolver._isIframeWebStorageSupported(E.auth,J=>{J||E.reject(Je(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const E=()=>{var x,J;this.pollId=null!==(J=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(E,Lh.get())};E()}}return w.currentPopupAction=null,w})();const Vh="pendingRedirect",Ia=new Map;class ju extends Fh{constructor(_,E,x=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,x),this.eventId=null}execute(){var _=()=>super.execute,E=this;return(0,d.A)(function*(){let x=Ia.get(E.auth._key());if(!x){try{const he=(yield function vo(w,_){return bd.apply(this,arguments)}(E.resolver,E.auth))?yield _().call(E):null;x=()=>Promise.resolve(he)}catch(J){x=()=>Promise.reject(J)}Ia.set(E.auth._key(),x)}return E.bypassAuthState||Ia.set(E.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(_){var E=()=>super.onAuthEvent,x=this;return(0,d.A)(function*(){if("signInViaRedirect"===_.type)return E().call(x,_);if("unknown"!==_.type){if(_.eventId){const J=yield x.auth._redirectUserForId(_.eventId);if(J)return x.user=J,E().call(x,_);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function bd(){return(bd=(0,d.A)(function*(w,_){const E=Td(_),x=Ua(w);if(!(yield x._isAvailable()))return!1;const J="true"===(yield x._get(E));return yield x._remove(E),J})).apply(this,arguments)}function cl(w,_){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.A)(function*(w,_){return Ua(w)._set(Td(_),"true")})).apply(this,arguments)}function Cd(){Ia.clear()}function cc(w,_){Ia.set(w._key(),_)}function Ua(w){return lt(w._redirectPersistence)}function Td(w){return Wt(Vh,w.config.apiKey,w.name)}function wa(w,_,E){return function ll(w,_,E){return Id.apply(this,arguments)}(w,_,E)}function Id(){return(Id=(0,d.A)(function*(w,_,E){if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=or(w);Et(w,_,ki),yield x._initializationPromise;const J=Nc(x,E);return yield cl(J,x),J._openRedirect(x,_,"signInViaRedirect")})).apply(this,arguments)}function Ws(w,_,E){return function vg(w,_,E){return Aa.apply(this,arguments)}(w,_,E)}function Aa(){return(Aa=(0,d.A)(function*(w,_,E){const x=(0,n.Ku)(w);if(Et(x.auth,_,ki),(0,p._isFirebaseServerApp)(x.auth.app))return Promise.reject(it(x.auth));yield x.auth._initializationPromise;const J=Nc(x.auth,E);yield cl(J,x.auth);const he=yield ep(x);return J._openRedirect(x.auth,_,"reauthViaRedirect",he)})).apply(this,arguments)}function Fc(w,_,E){return function Lc(w,_,E){return Gl.apply(this,arguments)}(w,_,E)}function Gl(){return(Gl=(0,d.A)(function*(w,_,E){const x=(0,n.Ku)(w);Et(x.auth,_,ki),yield x.auth._initializationPromise;const J=Nc(x.auth,E);yield ue(!1,x,_.providerId),yield cl(J,x.auth);const he=yield ep(x);return J._openRedirect(x.auth,_,"linkViaRedirect",he)})).apply(this,arguments)}function Uh(w,_){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,d.A)(function*(w,_){return yield or(w)._initializationPromise,jh(w,_,!1)})).apply(this,arguments)}function jh(w,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.A)(function*(w,_,E=!1){if((0,p._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=or(w),J=Nc(x,_),Xe=yield new ju(x,J,E).execute();return Xe&&!E&&(delete Xe.user._redirectEventId,yield x._persistUserIfCurrent(Xe.user),yield x._setRedirectUser(null,_)),Xe})).apply(this,arguments)}function ep(w){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.A)(function*(w){const _=Gr(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class Bh{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let E=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(_,x)&&(E=!0,this.sendToConsumer(_,x),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function lc(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bu(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=_,E=!0)),E}sendToConsumer(_,E){var x;if(_.error&&!Bu(_)){const J=(null===(x=_.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";E.onError(Je(this.auth,J))}else E.onAuthEvent(_)}isEventForConsumer(_,E){const x=null===E.eventId||!!_.eventId&&_.eventId===E.eventId;return E.filter.includes(_.type)&&x}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ad(_))}saveEventToCache(_){this.cachedEventUids.add(Ad(_)),this.lastProcessedEventTime=Date.now()}}function Ad(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function Bu({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===_?.code}function Qo(w){return ma.apply(this,arguments)}function ma(){return(ma=(0,d.A)(function*(w,_={}){return Be(w,"GET","/v1/projects",_)})).apply(this,arguments)}const $h=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dd=/^https?/;function Gh(){return(Gh=(0,d.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield Qo(w);for(const E of _)try{if(dl(E))return}catch{}fe(w,"unauthorized-domain")})).apply(this,arguments)}function dl(w){const _=jn(),{protocol:E,hostname:x}=new URL(_);if(w.startsWith("chrome-extension://")){const Xe=new URL(w);return""===Xe.hostname&&""===x?"chrome-extension:"===E&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===E&&Xe.hostname===x}if(!Dd.test(E))return!1;if($h.test(w))return x===w;const J=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(x)}const Jm=new je(3e4,6e4);function Zm(){const w=bs().___jsl;if(w?.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let E=0;E<w.CP.length;E++)w.CP[E]=null}let Ns=null;const t_=new je(5e3,15e3),hl="__/auth/iframe",tp="emulator/auth/iframe",Sd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ks=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $u(w){const _=w.config;Se(_.authDomain,w,"auth-domain-config-required");const E=_.emulator?ot(_,tp):`https://${w.config.authDomain}/${hl}`,x={apiKey:_.apiKey,appName:w.name,v:p.SDK_VERSION},J=Ks.get(w.config.apiHost);J&&(x.eid=J);const he=w._getFrameworks();return he.length&&(x.fw=he.join(",")),`${E}?${(0,n.Am)(x).slice(1)}`}function Hh(){return Hh=(0,d.A)(function*(w){const _=yield function e_(w){return Ns=Ns||function ja(w){return new Promise((_,E)=>{var x,J,he;function Xe(){Zm(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Zm(),E(Je(w,"network-request-failed"))},timeout:Jm.get()})}if(null!==(J=null===(x=bs().gapi)||void 0===x?void 0:x.iframes)&&void 0!==J&&J.Iframe)_(gapi.iframes.getContext());else{if(null===(he=bs().gapi)||void 0===he||!he.load){const Pt=ri("iframefcb");return bs()[Pt]=()=>{gapi.load?Xe():E(Je(w,"network-request-failed"))},no(`${function po(){return Hi.gapiScript}()}?onload=${Pt}`).catch(Jt=>E(Jt))}Xe()}}).catch(_=>{throw Ns=null,_})}(w),Ns}(w),E=bs().gapi;return Se(E,w,"internal-error"),_.open({where:document.body,url:$u(w),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sd,dontclear:!0},x=>new Promise(function(){var J=(0,d.A)(function*(he,Xe){yield x.restyle({setHideOnLeave:!1});const Pt=Je(w,"network-request-failed"),Jt=bs().setTimeout(()=>{Xe(Pt)},t_.get());function Gn(){bs().clearTimeout(Jt),he(x)}x.ping(Gn).then(Gn,()=>{Xe(Pt)})});return function(he,Xe){return J.apply(this,arguments)}}()))}),Hh.apply(this,arguments)}const Jo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bg="__/auth/handler",js="emulator/auth/handler",zh=encodeURIComponent("fac");function Ba(w,_,E,x,J,he){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,d.A)(function*(w,_,E,x,J,he){Se(w.config.authDomain,w,"auth-domain-config-required"),Se(w.config.apiKey,w,"invalid-api-key");const Xe={apiKey:w.config.apiKey,appName:w.name,authType:E,redirectUrl:x,v:p.SDK_VERSION,eventId:J};if(_ instanceof ki){_.setDefaultLanguage(w.languageCode),Xe.providerId=_.providerId||"",(0,n.Im)(_.getCustomParameters())||(Xe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Hn,zr]of Object.entries(he||{}))Xe[Hn]=zr}if(_ instanceof Ir){const Hn=_.getScopes().filter(zr=>""!==zr);Hn.length>0&&(Xe.scopes=Hn.join(","))}w.tenantId&&(Xe.tid=w.tenantId);const Pt=Xe;for(const Hn of Object.keys(Pt))void 0===Pt[Hn]&&delete Pt[Hn];const Jt=yield w._getAppCheckToken(),Gn=Jt?`#${zh}=${encodeURIComponent(Jt)}`:"";return`${function rp({config:w}){return w.emulator?ot(w,js):`https://${w.authDomain}/${bg}`}(w)}?${(0,n.Am)(Pt).slice(1)}${Gn}`})).apply(this,arguments)}const Md="webStorageSupport",Wh=class Cg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nl,this._completeRedirectFn=jh,this._overrideRedirectResult=cc}_openPopup(_,E,x,J){var he=this;return(0,d.A)(function*(){var Xe;bn(null===(Xe=he.eventManagers[_._key()])||void 0===Xe?void 0:Xe.manager,"_initialize() not called before _openPopup()");const Pt=yield Ba(_,E,x,jn(),J);return function np(w,_,E,x=500,J=600){const he=Math.max((window.screen.availHeight-J)/2,0).toString(),Xe=Math.max((window.screen.availWidth-x)/2,0).toString();let Pt="";const Jt=Object.assign(Object.assign({},Jo),{width:x.toString(),height:J.toString(),top:he,left:Xe}),Gn=(0,n.ZQ)().toLowerCase();E&&(Pt=ze(Gn)?"_blank":E),xe(Gn)&&(_=_||"http://localhost",Jt.scrollbars="yes");const Hn=Object.entries(Jt).reduce((Bo,[_a,fl])=>`${Bo}${_a}=${fl},`,"");if(function ci(w=(0,n.ZQ)()){var _;return ur(w)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Gn)&&"_self"!==Pt)return function Eg(w,_){const E=document.createElement("a");E.href=w,E.target=_;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(x)}(_||"",Pt),new xd(null);const zr=window.open(_||"",Pt,Hn);Se(zr,w,"popup-blocked");try{zr.focus()}catch{}return new xd(zr)}(_,Pt,Gr())})()}_openRedirect(_,E,x,J){var he=this;return(0,d.A)(function*(){return yield he._originValidation(_),function zs(w){bs().location.href=w}(yield Ba(_,E,x,jn(),J)),new Promise(()=>{})})()}_initialize(_){const E=_._key();if(this.eventManagers[E]){const{manager:J,promise:he}=this.eventManagers[E];return J?Promise.resolve(J):(bn(he,"If manager is not set, promise should be"),he)}const x=this.initAndGetManager(_);return this.eventManagers[E]={promise:x},x.catch(()=>{delete this.eventManagers[E]}),x}initAndGetManager(_){var E=this;return(0,d.A)(function*(){const x=yield function Uc(w){return Hh.apply(this,arguments)}(_),J=new Bh(_);return x.register("authEvent",he=>(Se(he?.authEvent,_,"invalid-auth-event"),{status:J.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[_._key()]={manager:J},E.iframes[_._key()]=x,J})()}_isIframeWebStorageSupported(_,E){this.iframes[_._key()].send(Md,{type:Md},J=>{var he;const Xe=null===(he=J?.[0])||void 0===he?void 0:he[Md];void 0!==Xe&&E(!!Xe),fe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Hl(w){return Gh.apply(this,arguments)}(_)),this.originValidationPromises[E]}get _shouldInitProactively(){return Ze()||Pe()||ur()}};class ip{constructor(_){this.factorId=_}_process(_,E,x){switch(E.type){case"enroll":return this._finalizeEnroll(_,E.credential,x);case"signin":return this._finalizeSignIn(_,E.credential);default:return on("unexpected MultiFactorSessionType")}}}class $c extends ip{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new $c(_)}_finalizeEnroll(_,E,x){return function pd(w,_){return Be(w,"POST","/v2/accounts/mfaEnrollment:finalize",be(w,_))}(_,{idToken:E,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,E){return function k(w,_){return Be(w,"POST","/v2/accounts/mfaSignIn:finalize",be(w,_))}(_,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zl=(()=>{class w{constructor(){}static assertion(E){return $c._fromCredential(E)}}return w.FACTOR_ID="phone",w})();var qh="@firebase/auth";class Yh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var E=this;return(0,d.A)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const E=this.auth.onIdTokenChanged(x=>{_(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,E),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const E=this.internalListeners.get(_);E&&(this.internalListeners.delete(_),E(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,n.XA)("authIdTokenMaxAge"),function Ii(w){Hi=w}({loadJS:w=>new Promise((_,E)=>{const x=document.createElement("script");x.setAttribute("src",w),x.onload=_,x.onerror=J=>{const he=Je("internal-error");he.customData=J,E(he)},x.type="text/javascript",x.charset="UTF-8",function Hc(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(x)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Wl(w){(0,p._registerComponent)(new ye.uA("auth",(_,{options:E})=>{const x=_.getProvider("app").getImmediate(),J=_.getProvider("heartbeat"),he=_.getProvider("app-check-internal"),{apiKey:Xe,authDomain:Pt}=x.options;Se(Xe&&!Xe.includes(":"),"invalid-api-key",{appName:x.name});const Jt={apiKey:Xe,authDomain:Pt,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rt(w)},Gn=new Ur(x,J,he,Jt);return function wo(w,_){const E=_?.persistence||[],x=(Array.isArray(E)?E:[E]).map(lt);_?.errorMap&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(x,_?.popupRedirectResolver)}(Gn,E),Gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,E,x)=>{_.getProvider("auth-internal").initialize()})),(0,p._registerComponent)(new ye.uA("auth-internal",_=>{const E=or(_.getProvider("auth").getImmediate());return new Yh(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,p.registerVersion)(qh,"1.7.9",function Xh(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,p.registerVersion)(qh,"1.7.9","esm2017")}("Browser")},9583:(ln,Ye,F)=>{F.d(Ye,{fS:()=>jp,Ix:()=>Ju,H6:()=>lm,T1:()=>qs,Wq:()=>uu,uY:()=>ih,W6:()=>ot,Ci:()=>hm,YQ:()=>yc,NJ:()=>Cl,Dc:()=>Qt,GA:()=>zp,cm:()=>di,K$:()=>zt,FA:()=>lr,lo:()=>si,bI:()=>Xt,qG:()=>wo,qi:()=>bn,c8:()=>ou,gS:()=>s0,C3:()=>nv,hq:()=>f0,me:()=>Uv,rJ:()=>Ly,Cs:()=>A_,vN:()=>Fy,kd:()=>r0,CL:()=>d0,LA:()=>jv,H9:()=>Qu,ol:()=>Rp,Q5:()=>rh,Os:()=>jy,FD:()=>L_,rf:()=>qv,Ws:()=>fs,z6:()=>uh,x7:()=>e0,nY:()=>Il,_e:()=>qy,GG:()=>t0,kU:()=>nE,Rr:()=>Mo,aU:()=>pf,GV:()=>iE,AB:()=>Wv,$1:()=>Kv,po:()=>x_,St:()=>eE,aQ:()=>$_,FC:()=>Yy,My:()=>zv,P:()=>Wy,B:()=>Pp,yx:()=>Vv,c4:()=>u0,O5:()=>h0,BN:()=>n0,He:()=>Ut,lN:()=>Zv,HM:()=>Up,EO:()=>F_,mZ:()=>B_,iB:()=>dm,_M:()=>Hv});var Ne,ke,d=F(467),p=F(7852),n=F(1362),Ce=F(8041),pe=F(1076),ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={};(function(){var u;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ut,Ve,Qe){Qe||(Qe=0);var ht=Array(16);if("string"==typeof Ve)for(var mt=0;16>mt;++mt)ht[mt]=Ve.charCodeAt(Qe++)|Ve.charCodeAt(Qe++)<<8|Ve.charCodeAt(Qe++)<<16|Ve.charCodeAt(Qe++)<<24;else for(mt=0;16>mt;++mt)ht[mt]=Ve[Qe++]|Ve[Qe++]<<8|Ve[Qe++]<<16|Ve[Qe++]<<24;var St=ut.g[3],qe=(Ve=ut.g[0])+(St^(Qe=ut.g[1])&((mt=ut.g[2])^St))+ht[0]+3614090360&4294967295;qe=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=(Qe=(mt=(St=(Ve=Qe+(qe<<7&4294967295|qe>>>25))+((qe=St+(mt^Ve&(Qe^mt))+ht[1]+3905402710&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Qe^St&(Ve^Qe))+ht[2]+606105819&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Ve^mt&(St^Ve))+ht[3]+3250441966&4294967295)<<22&4294967295|qe>>>10))+((qe=Ve+(St^Qe&(mt^St))+ht[4]+4118548399&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(mt^Ve&(Qe^mt))+ht[5]+1200080426&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Qe^St&(Ve^Qe))+ht[6]+2821735955&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Ve^mt&(St^Ve))+ht[7]+4249261313&4294967295)<<22&4294967295|qe>>>10))+((qe=Ve+(St^Qe&(mt^St))+ht[8]+1770035416&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(mt^Ve&(Qe^mt))+ht[9]+2336552879&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Qe^St&(Ve^Qe))+ht[10]+4294925233&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Ve^mt&(St^Ve))+ht[11]+2304563134&4294967295)<<22&4294967295|qe>>>10))+((qe=Ve+(St^Qe&(mt^St))+ht[12]+1804603682&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(mt^Ve&(Qe^mt))+ht[13]+4254626195&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Qe^St&(Ve^Qe))+ht[14]+2792965006&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Ve^mt&(St^Ve))+ht[15]+1236535329&4294967295)<<22&4294967295|qe>>>10))+((qe=Ve+(mt^St&(Qe^mt))+ht[1]+4129170786&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(Qe^mt&(Ve^Qe))+ht[6]+3225465664&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Ve^Qe&(St^Ve))+ht[11]+643717713&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(St^Ve&(mt^St))+ht[0]+3921069994&4294967295)<<20&4294967295|qe>>>12))+((qe=Ve+(mt^St&(Qe^mt))+ht[5]+3593408605&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(Qe^mt&(Ve^Qe))+ht[10]+38016083&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Ve^Qe&(St^Ve))+ht[15]+3634488961&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(St^Ve&(mt^St))+ht[4]+3889429448&4294967295)<<20&4294967295|qe>>>12))+((qe=Ve+(mt^St&(Qe^mt))+ht[9]+568446438&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(Qe^mt&(Ve^Qe))+ht[14]+3275163606&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Ve^Qe&(St^Ve))+ht[3]+4107603335&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(St^Ve&(mt^St))+ht[8]+1163531501&4294967295)<<20&4294967295|qe>>>12))+((qe=Ve+(mt^St&(Qe^mt))+ht[13]+2850285829&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(Qe^mt&(Ve^Qe))+ht[2]+4243563512&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Ve^Qe&(St^Ve))+ht[7]+1735328473&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(St^Ve&(mt^St))+ht[12]+2368359562&4294967295)<<20&4294967295|qe>>>12))+((qe=Ve+(Qe^mt^St)+ht[5]+4294588738&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Ve^Qe^mt)+ht[8]+2272392833&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(St^Ve^Qe)+ht[11]+1839030562&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(mt^St^Ve)+ht[14]+4259657740&4294967295)<<23&4294967295|qe>>>9))+((qe=Ve+(Qe^mt^St)+ht[1]+2763975236&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Ve^Qe^mt)+ht[4]+1272893353&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(St^Ve^Qe)+ht[7]+4139469664&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(mt^St^Ve)+ht[10]+3200236656&4294967295)<<23&4294967295|qe>>>9))+((qe=Ve+(Qe^mt^St)+ht[13]+681279174&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Ve^Qe^mt)+ht[0]+3936430074&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(St^Ve^Qe)+ht[3]+3572445317&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(mt^St^Ve)+ht[6]+76029189&4294967295)<<23&4294967295|qe>>>9))+((qe=Ve+(Qe^mt^St)+ht[9]+3654602809&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Ve^Qe^mt)+ht[12]+3873151461&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(St^Ve^Qe)+ht[15]+530742520&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(mt^St^Ve)+ht[2]+3299628645&4294967295)<<23&4294967295|qe>>>9))+((qe=Ve+(mt^(Qe|~St))+ht[0]+4096336452&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(Qe^(Ve|~mt))+ht[7]+1126891415&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Ve^(St|~Qe))+ht[14]+2878612391&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(St^(mt|~Ve))+ht[5]+4237533241&4294967295)<<21&4294967295|qe>>>11))+((qe=Ve+(mt^(Qe|~St))+ht[12]+1700485571&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(Qe^(Ve|~mt))+ht[3]+2399980690&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Ve^(St|~Qe))+ht[10]+4293915773&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(St^(mt|~Ve))+ht[1]+2240044497&4294967295)<<21&4294967295|qe>>>11))+((qe=Ve+(mt^(Qe|~St))+ht[8]+1873313359&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(Qe^(Ve|~mt))+ht[15]+4264355552&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Ve^(St|~Qe))+ht[6]+2734768916&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(St^(mt|~Ve))+ht[13]+1309151649&4294967295)<<21&4294967295|qe>>>11))+((St=(Ve=Qe+((qe=Ve+(mt^(Qe|~St))+ht[4]+4149444226&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(Qe^(Ve|~mt))+ht[11]+3174756917&4294967295)<<10&4294967295|qe>>>22))^((mt=St+((qe=mt+(Ve^(St|~Qe))+ht[2]+718787259&4294967295)<<15&4294967295|qe>>>17))|~Ve))+ht[9]+3951481745&4294967295,ut.g[0]=ut.g[0]+Ve&4294967295,ut.g[1]=ut.g[1]+(mt+(qe<<21&4294967295|qe>>>11))&4294967295,ut.g[2]=ut.g[2]+mt&4294967295,ut.g[3]=ut.g[3]+St&4294967295}function C(ut,Ve){this.h=Ve;for(var Qe=[],ht=!0,mt=ut.length-1;0<=mt;mt--){var St=0|ut[mt];ht&&St==Ve||(Qe[mt]=St,ht=!1)}this.g=Qe}(function e(ut,Ve){function Qe(){}Qe.prototype=Ve.prototype,ut.D=Ve.prototype,ut.prototype=new Qe,ut.prototype.constructor=ut,ut.C=function(ht,mt,St){for(var qe=Array(arguments.length-2),fu=2;fu<arguments.length;fu++)qe[fu-2]=arguments[fu];return Ve.prototype[mt].apply(ht,qe)}})(o,function i(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(ut,Ve){void 0===Ve&&(Ve=ut.length);for(var Qe=Ve-this.blockSize,ht=this.B,mt=this.h,St=0;St<Ve;){if(0==mt)for(;St<=Qe;)h(this,ut,St),St+=this.blockSize;if("string"==typeof ut){for(;St<Ve;)if(ht[mt++]=ut.charCodeAt(St++),mt==this.blockSize){h(this,ht),mt=0;break}}else for(;St<Ve;)if(ht[mt++]=ut[St++],mt==this.blockSize){h(this,ht),mt=0;break}}this.h=mt,this.o+=Ve},o.prototype.v=function(){var ut=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ut[0]=128;for(var Ve=1;Ve<ut.length-8;++Ve)ut[Ve]=0;var Qe=8*this.o;for(Ve=ut.length-8;Ve<ut.length;++Ve)ut[Ve]=255&Qe,Qe/=256;for(this.u(ut),ut=Array(16),Ve=Qe=0;4>Ve;++Ve)for(var ht=0;32>ht;ht+=8)ut[Qe++]=this.g[Ve]>>>ht&255;return ut};var P={};function V(ut){return-128<=ut&&128>ut?function y(ut,Ve){var Qe=P;return Object.prototype.hasOwnProperty.call(Qe,ut)?Qe[ut]:Qe[ut]=Ve(ut)}(ut,function(Ve){return new C([0|Ve],0>Ve?-1:0)}):new C([0|ut],0>ut?-1:0)}function Y(ut){if(isNaN(ut)||!isFinite(ut))return Ee;if(0>ut)return rn(Y(-ut));for(var Ve=[],Qe=1,ht=0;ut>=Qe;ht++)Ve[ht]=ut/Qe|0,Qe*=4294967296;return new C(Ve,0)}var Ee=V(0),We=V(1),Ct=V(16777216);function qt(ut){if(0!=ut.h)return!1;for(var Ve=0;Ve<ut.g.length;Ve++)if(0!=ut.g[Ve])return!1;return!0}function En(ut){return-1==ut.h}function rn(ut){for(var Ve=ut.g.length,Qe=[],ht=0;ht<Ve;ht++)Qe[ht]=~ut.g[ht];return new C(Qe,~ut.h).add(We)}function ar(ut,Ve){return ut.add(rn(Ve))}function vr(ut,Ve){for(;(65535&ut[Ve])!=ut[Ve];)ut[Ve+1]+=ut[Ve]>>>16,ut[Ve]&=65535,Ve++}function pr(ut,Ve){this.g=ut,this.h=Ve}function Lr(ut,Ve){if(qt(Ve))throw Error("division by zero");if(qt(ut))return new pr(Ee,Ee);if(En(ut))return Ve=Lr(rn(ut),Ve),new pr(rn(Ve.g),rn(Ve.h));if(En(Ve))return Ve=Lr(ut,rn(Ve)),new pr(rn(Ve.g),Ve.h);if(30<ut.g.length){if(En(ut)||En(Ve))throw Error("slowDivide_ only works with positive integers.");for(var Qe=We,ht=Ve;0>=ht.l(ut);)Qe=Vi(Qe),ht=Vi(ht);var mt=oi(Qe,1),St=oi(ht,1);for(ht=oi(ht,2),Qe=oi(Qe,2);!qt(ht);){var qe=St.add(ht);0>=qe.l(ut)&&(mt=mt.add(Qe),St=qe),ht=oi(ht,1),Qe=oi(Qe,1)}return Ve=ar(ut,mt.j(Ve)),new pr(mt,Ve)}for(mt=Ee;0<=ut.l(Ve);){for(Qe=Math.max(1,Math.floor(ut.m()/Ve.m())),ht=48>=(ht=Math.ceil(Math.log(Qe)/Math.LN2))?1:Math.pow(2,ht-48),qe=(St=Y(Qe)).j(Ve);En(qe)||0<qe.l(ut);)qe=(St=Y(Qe-=ht)).j(Ve);qt(St)&&(St=We),mt=mt.add(St),ut=ar(ut,qe)}return new pr(mt,ut)}function Vi(ut){for(var Ve=ut.g.length+1,Qe=[],ht=0;ht<Ve;ht++)Qe[ht]=ut.i(ht)<<1|ut.i(ht-1)>>>31;return new C(Qe,ut.h)}function oi(ut,Ve){var Qe=Ve>>5;Ve%=32;for(var ht=ut.g.length-Qe,mt=[],St=0;St<ht;St++)mt[St]=0<Ve?ut.i(St+Qe)>>>Ve|ut.i(St+Qe+1)<<32-Ve:ut.i(St+Qe);return new C(mt,ut.h)}(u=C.prototype).m=function(){if(En(this))return-rn(this).m();for(var ut=0,Ve=1,Qe=0;Qe<this.g.length;Qe++){var ht=this.i(Qe);ut+=(0<=ht?ht:4294967296+ht)*Ve,Ve*=4294967296}return ut},u.toString=function(ut){if(2>(ut=ut||10)||36<ut)throw Error("radix out of range: "+ut);if(qt(this))return"0";if(En(this))return"-"+rn(this).toString(ut);for(var Ve=Y(Math.pow(ut,6)),Qe=this,ht="";;){var mt=Lr(Qe,Ve).g,St=((0<(Qe=ar(Qe,mt.j(Ve))).g.length?Qe.g[0]:Qe.h)>>>0).toString(ut);if(qt(Qe=mt))return St+ht;for(;6>St.length;)St="0"+St;ht=St+ht}},u.i=function(ut){return 0>ut?0:ut<this.g.length?this.g[ut]:this.h},u.l=function(ut){return En(ut=ar(this,ut))?-1:qt(ut)?0:1},u.abs=function(){return En(this)?rn(this):this},u.add=function(ut){for(var Ve=Math.max(this.g.length,ut.g.length),Qe=[],ht=0,mt=0;mt<=Ve;mt++){var St=ht+(65535&this.i(mt))+(65535&ut.i(mt)),qe=(St>>>16)+(this.i(mt)>>>16)+(ut.i(mt)>>>16);ht=qe>>>16,Qe[mt]=(qe&=65535)<<16|(St&=65535)}return new C(Qe,-2147483648&Qe[Qe.length-1]?-1:0)},u.j=function(ut){if(qt(this)||qt(ut))return Ee;if(En(this))return En(ut)?rn(this).j(rn(ut)):rn(rn(this).j(ut));if(En(ut))return rn(this.j(rn(ut)));if(0>this.l(Ct)&&0>ut.l(Ct))return Y(this.m()*ut.m());for(var Ve=this.g.length+ut.g.length,Qe=[],ht=0;ht<2*Ve;ht++)Qe[ht]=0;for(ht=0;ht<this.g.length;ht++)for(var mt=0;mt<ut.g.length;mt++){var St=this.i(ht)>>>16,qe=65535&this.i(ht),fu=ut.i(mt)>>>16,Wp=65535&ut.i(mt);Qe[2*ht+2*mt]+=qe*Wp,vr(Qe,2*ht+2*mt),Qe[2*ht+2*mt+1]+=St*Wp,vr(Qe,2*ht+2*mt+1),Qe[2*ht+2*mt+1]+=qe*fu,vr(Qe,2*ht+2*mt+1),Qe[2*ht+2*mt+2]+=St*fu,vr(Qe,2*ht+2*mt+2)}for(ht=0;ht<Ve;ht++)Qe[ht]=Qe[2*ht+1]<<16|Qe[2*ht];for(ht=Ve;ht<2*Ve;ht++)Qe[ht]=0;return new C(Qe,0)},u.A=function(ut){return Lr(this,ut).h},u.and=function(ut){for(var Ve=Math.max(this.g.length,ut.g.length),Qe=[],ht=0;ht<Ve;ht++)Qe[ht]=this.i(ht)&ut.i(ht);return new C(Qe,this.h&ut.h)},u.or=function(ut){for(var Ve=Math.max(this.g.length,ut.g.length),Qe=[],ht=0;ht<Ve;ht++)Qe[ht]=this.i(ht)|ut.i(ht);return new C(Qe,this.h|ut.h)},u.xor=function(ut){for(var Ve=Math.max(this.g.length,ut.g.length),Qe=[],ht=0;ht<Ve;ht++)Qe[ht]=this.i(ht)^ut.i(ht);return new C(Qe,this.h^ut.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,ke=Te.Md5=o,C.prototype.add=C.prototype.add,C.prototype.multiply=C.prototype.j,C.prototype.modulo=C.prototype.A,C.prototype.compare=C.prototype.l,C.prototype.toNumber=C.prototype.m,C.prototype.toString=C.prototype.toString,C.prototype.getBits=C.prototype.i,C.fromNumber=Y,C.fromString=function ce(ut,Ve){if(0==ut.length)throw Error("number format error: empty string");if(2>(Ve=Ve||10)||36<Ve)throw Error("radix out of range: "+Ve);if("-"==ut.charAt(0))return rn(ce(ut.substring(1),Ve));if(0<=ut.indexOf("-"))throw Error('number format error: interior "-" character');for(var Qe=Y(Math.pow(Ve,8)),ht=Ee,mt=0;mt<ut.length;mt+=8){var St=Math.min(8,ut.length-mt),qe=parseInt(ut.substring(mt,mt+St),Ve);8>St?(St=Y(Math.pow(Ve,St)),ht=ht.j(St).add(Y(qe))):ht=(ht=ht.j(Qe)).add(Y(qe))}return ht},Ne=Te.Integer=C}).apply(typeof ye<"u"?ye:typeof self<"u"?self:typeof window<"u"?window:{});var ve,$e,At,dt,jt,Ot,pn,He,W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(b,j,X){return b==Array.prototype||b==Object.prototype||(b[j]=X.value),b},o=function i(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof W&&W];for(var j=0;j<b.length;++j){var X=b[j];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}(this);!function h(b,j){if(j)e:{var X=o;b=b.split(".");for(var me=0;me<b.length-1;me++){var _t=b[me];if(!(_t in X))break e;X=X[_t]}(j=j(me=X[b=b[b.length-1]]))!=me&&null!=j&&e(X,b,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(b){return b||function(){return function y(b,j){b instanceof String&&(b+="");var X=0,me=!1,_t={next:function(){if(!me&&X<b.length){var Nt=X++;return{value:j(Nt,b[Nt]),done:!1}}return me=!0,{done:!0,value:void 0}}};return _t[Symbol.iterator]=function(){return _t},_t}(this,function(j,X){return X})}});var C=C||{},P=this||self;function V(b){var j=typeof b;return"array"==(j="object"!=j?j:b?Array.isArray(b)?"array":j:"null")||"object"==j&&"number"==typeof b.length}function Y(b){var j=typeof b;return"object"==j&&null!=b||"function"==j}function ce(b,j,X){return b.call.apply(b.bind,arguments)}function Ee(b,j,X){if(!b)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,me),b.apply(j,_t)}}return function(){return b.apply(j,arguments)}}function We(b,j,X){return(We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ce:Ee).apply(null,arguments)}function Ct(b,j){var X=Array.prototype.slice.call(arguments,1);return function(){var me=X.slice();return me.push.apply(me,arguments),b.apply(this,me)}}function qt(b,j){function X(){}X.prototype=j.prototype,b.aa=j.prototype,b.prototype=new X,b.prototype.constructor=b,b.Qb=function(me,_t,Nt){for(var wn=Array(arguments.length-2),Gi=2;Gi<arguments.length;Gi++)wn[Gi-2]=arguments[Gi];return j.prototype[_t].apply(me,wn)}}function En(b){const j=b.length;if(0<j){const X=Array(j);for(let me=0;me<j;me++)X[me]=b[me];return X}return[]}function rn(b,j){for(let X=1;X<arguments.length;X++){const me=arguments[X];if(V(me)){const _t=b.length||0,Nt=me.length||0;b.length=_t+Nt;for(let wn=0;wn<Nt;wn++)b[_t+wn]=me[wn]}else b.push(me)}}function vr(b){return/^[\s\xa0]*$/.test(b)}function pr(){var b=P.navigator;return b&&(b=b.userAgent)?b:""}function Lr(b){return Lr[" "](b),b}Lr[" "]=function(){};var Vi=!(-1==pr().indexOf("Gecko")||-1!=pr().toLowerCase().indexOf("webkit")&&-1==pr().indexOf("Edge")||-1!=pr().indexOf("Trident")||-1!=pr().indexOf("MSIE")||-1!=pr().indexOf("Edge"));function oi(b,j,X){for(const me in b)j.call(X,b[me],me,b)}function Ve(b){const j={};for(const X in b)j[X]=b[X];return j}const Qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(b,j){let X,me;for(let _t=1;_t<arguments.length;_t++){for(X in me=arguments[_t],me)b[X]=me[X];for(let Nt=0;Nt<Qe.length;Nt++)X=Qe[Nt],Object.prototype.hasOwnProperty.call(me,X)&&(b[X]=me[X])}}function mt(b){var j=1;b=b.split(":");const X=[];for(;0<j&&b.length;)X.push(b.shift()),j--;return b.length&&X.push(b.join(":")),X}function St(b){P.setTimeout(()=>{throw b},0)}function qe(){var b=Tm;let j=null;return b.g&&(j=b.g,b.g=b.g.next,b.g||(b.h=null),j.next=null),j}var Wp=new class ar{constructor(j,X){this.i=j,this.j=X,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new y0,b=>b.reset());class y0{constructor(){this.next=this.g=this.h=null}set(j,X){this.h=j,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let Cf,Kp=!1,Tm=new class fu{constructor(){this.h=this.g=null}add(j,X){const me=Wp.get();me.set(j,X),this.h?this.h.next=me:this.g=me,this.h=me}},Im=()=>{const b=P.Promise.resolve(void 0);Cf=()=>{b.then(v0)}};var v0=()=>{for(var b;b=qe();){try{b.h.call(b.g)}catch(X){St(X)}var j=Wp;j.j(b),100>j.h&&(j.h++,b.next=j.g,j.g=b)}Kp=!1};function nd(){this.s=this.s,this.C=this.C}function ea(b,j){this.type=b,this.g=this.target=j,this.defaultPrevented=!1}nd.prototype.s=!1,nd.prototype.ma=function(){this.s||(this.s=!0,this.N())},nd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ea.prototype.h=function(){this.defaultPrevented=!0};var E0=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var b=!1,j=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const X=()=>{};P.addEventListener("test",X,j),P.removeEventListener("test",X,j)}catch{}return b}();function qp(b,j){if(ea.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var X=this.type=b.type,me=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=j,j=b.relatedTarget){if(Vi){e:{try{Lr(j.nodeName);var _t=!0;break e}catch{}_t=!1}_t||(j=null)}}else"mouseover"==X?j=b.fromElement:"mouseout"==X&&(j=b.toElement);this.relatedTarget=j,me?(this.clientX=void 0!==me.clientX?me.clientX:me.pageX,this.clientY=void 0!==me.clientY?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType="string"==typeof b.pointerType?b.pointerType:wl[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&qp.aa.h.call(this)}}qt(qp,ea);var wl={2:"touch",3:"pen",4:"mouse"};qp.prototype.h=function(){qp.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var dh="closure_listenable_"+(1e6*Math.random()|0),sv=0;function q_(b,j,X,me,_t){this.listener=b,this.proxy=null,this.src=j,this.type=X,this.capture=!!me,this.ha=_t,this.key=++sv,this.da=this.fa=!1}function Ki(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Yp(b){this.src=b,this.g={},this.h=0}function Tf(b,j){var X=j.type;if(X in b.g){var Nt,me=b.g[X],_t=Array.prototype.indexOf.call(me,j,void 0);(Nt=0<=_t)&&Array.prototype.splice.call(me,_t,1),Nt&&(Ki(j),0==b.g[X].length&&(delete b.g[X],b.h--))}}function hh(b,j,X,me){for(var _t=0;_t<b.length;++_t){var Nt=b[_t];if(!Nt.da&&Nt.listener==j&&Nt.capture==!!X&&Nt.ha==me)return _t}return-1}Yp.prototype.add=function(b,j,X,me,_t){var Nt=b.toString();(b=this.g[Nt])||(b=this.g[Nt]=[],this.h++);var wn=hh(b,j,me,_t);return-1<wn?(j=b[wn],X||(j.fa=!1)):((j=new q_(j,this.src,Nt,!!me,_t)).fa=X,b.push(j)),j};var If="closure_lm_"+(1e6*Math.random()|0),Y_={};function wm(b,j,X,me,_t){if(me&&me.once)return Dm(b,j,X,me,_t);if(Array.isArray(j)){for(var Nt=0;Nt<j.length;Nt++)wm(b,j[Nt],X,me,_t);return null}return X=Qp(X),b&&b[dh]?b.K(j,X,Y(me)?!!me.capture:!!me,_t):Am(b,j,X,!1,me,_t)}function Am(b,j,X,me,_t,Nt){if(!j)throw Error("Invalid event type");var wn=Y(_t)?!!_t.capture:!!_t,Gi=wf(b);if(Gi||(b[If]=Gi=new Yp(b)),(X=Gi.add(j,X,me,wn,Nt)).proxy)return X;if(me=function X_(){const j=b0;return function b(X){return j.call(b.src,b.listener,X)}}(),X.proxy=me,me.src=b,me.listener=X,b.addEventListener)E0||(_t=wn),void 0===_t&&(_t=!1),b.addEventListener(j.toString(),me,_t);else if(b.attachEvent)b.attachEvent(Q_(j.toString()),me);else{if(!b.addListener||!b.removeListener)throw Error("addEventListener and attachEvent are unavailable.");b.addListener(me)}return X}function Dm(b,j,X,me,_t){if(Array.isArray(j)){for(var Nt=0;Nt<j.length;Nt++)Dm(b,j[Nt],X,me,_t);return null}return X=Qp(X),b&&b[dh]?b.L(j,X,Y(me)?!!me.capture:!!me,_t):Am(b,j,X,!0,me,_t)}function Xp(b,j,X,me,_t){if(Array.isArray(j))for(var Nt=0;Nt<j.length;Nt++)Xp(b,j[Nt],X,me,_t);else me=Y(me)?!!me.capture:!!me,X=Qp(X),b&&b[dh]?(b=b.i,(j=String(j).toString())in b.g&&-1<(X=hh(Nt=b.g[j],X,me,_t))&&(Ki(Nt[X]),Array.prototype.splice.call(Nt,X,1),0==Nt.length&&(delete b.g[j],b.h--))):b&&(b=wf(b))&&(j=b.g[j.toString()],b=-1,j&&(b=hh(j,X,me,_t)),(X=-1<b?j[b]:null)&&vc(X))}function vc(b){if("number"!=typeof b&&b&&!b.da){var j=b.src;if(j&&j[dh])Tf(j.i,b);else{var X=b.type,me=b.proxy;j.removeEventListener?j.removeEventListener(X,me,b.capture):j.detachEvent?j.detachEvent(Q_(X),me):j.addListener&&j.removeListener&&j.removeListener(me),(X=wf(j))?(Tf(X,b),0==X.h&&(X.src=null,j[If]=null)):Ki(b)}}}function Q_(b){return b in Y_?Y_[b]:Y_[b]="on"+b}function b0(b,j){if(b.da)b=!0;else{j=new qp(j,this);var X=b.listener,me=b.ha||b.src;b.fa&&vc(b),b=X.call(me,j)}return b}function wf(b){return(b=b[If])instanceof Yp?b:null}var Sm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(b){return"function"==typeof b?b:(b[Sm]||(b[Sm]=function(j){return b.handleEvent(j)}),b[Sm])}function $o(){nd.call(this),this.i=new Yp(this),this.M=this,this.F=null}function bo(b,j){var X,me=b.F;if(me)for(X=[];me;me=me.F)X.push(me);if(b=b.M,me=j.type||j,"string"==typeof j)j=new ea(j,b);else if(j instanceof ea)j.target=j.target||b;else{var _t=j;ht(j=new ea(me,b),_t)}if(_t=!0,X)for(var Nt=X.length-1;0<=Nt;Nt--){var wn=j.g=X[Nt];_t=pu(wn,me,!0,j)&&_t}if(_t=pu(wn=j.g=b,me,!0,j)&&_t,_t=pu(wn,me,!1,j)&&_t,X)for(Nt=0;Nt<X.length;Nt++)_t=pu(wn=j.g=X[Nt],me,!1,j)&&_t}function pu(b,j,X,me){if(!(j=b.i.g[String(j)]))return!0;j=j.concat();for(var _t=!0,Nt=0;Nt<j.length;++Nt){var wn=j[Nt];if(wn&&!wn.da&&wn.capture==X){var Gi=wn.listener,Bs=wn.ha||wn.src;wn.fa&&Tf(b.i,wn),_t=!1!==Gi.call(Bs,me)&&_t}}return _t&&!me.defaultPrevented}function xm(b,j,X){if("function"==typeof b)X&&(b=We(b,X));else{if(!b||"function"!=typeof b.handleEvent)throw Error("Invalid listener argument");b=We(b.handleEvent,b)}return 2147483647<Number(j)?-1:P.setTimeout(b,j||0)}function Af(b){b.g=xm(()=>{b.g=null,b.i&&(b.i=!1,Af(b))},b.l);const j=b.h;b.h=null,b.m.apply(null,j)}qt($o,nd),$o.prototype[dh]=!0,$o.prototype.removeEventListener=function(b,j,X,me){Xp(this,b,j,X,me)},$o.prototype.N=function(){if($o.aa.N.call(this),this.i){var j,b=this.i;for(j in b.g){for(var X=b.g[j],me=0;me<X.length;me++)Ki(X[me]);delete b.g[j],b.h--}}this.F=null},$o.prototype.K=function(b,j,X,me){return this.i.add(String(b),j,!1,X,me)},$o.prototype.L=function(b,j,X,me){return this.i.add(String(b),j,!0,X,me)};class C0 extends nd{constructor(j,X){super(),this.m=j,this.l=X,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Af(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Df(b){nd.call(this),this.h=b,this.g={}}qt(Df,nd);var Pm=[];function Mm(b){oi(b.g,function(j,X){this.g.hasOwnProperty(X)&&vc(j)},b),b.g={}}Df.prototype.N=function(){Df.aa.N.call(this),Mm(this)},Df.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rm=P.JSON.stringify,ov=P.JSON.parse,J_=class{stringify(b){return P.JSON.stringify(b,void 0)}parse(b){return P.JSON.parse(b,void 0)}};function Jp(){}function Z_(){}Jp.prototype.h=null;var ph={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zp(){ea.call(this,"d")}function Om(){ea.call(this,"c")}qt(Zp,ea),qt(Om,ea);var rd={},Sf=null;function eg(){return Sf=Sf||new $o}function ey(b){ea.call(this,rd.La,b)}function za(b){const j=eg();bo(j,new ey(j))}function Nm(b,j){ea.call(this,rd.STAT_EVENT,b),this.stat=j}function Ro(b){const j=eg();bo(j,new Nm(j,b))}function tg(b,j){ea.call(this,rd.Ma,b),this.size=j}function id(b,j){if("function"!=typeof b)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){b()},j)}function Oo(){this.g=!0}function gu(b,j,X,me){b.info(function(){return"XMLHTTP TEXT ("+j+"): "+function sd(b,j){if(!b.g)return j;if(!j)return null;try{var X=JSON.parse(j);if(X)for(b=0;b<X.length;b++)if(Array.isArray(X[b])){var me=X[b];if(!(2>me.length)){var _t=me[1];if(Array.isArray(_t)&&!(1>_t.length)){var Nt=_t[0];if("noop"!=Nt&&"stop"!=Nt&&"close"!=Nt)for(var wn=1;wn<_t.length;wn++)_t[wn]=""}}}return Rm(X)}catch{return j}}(b,X)+(me?" "+me:"")})}rd.La="serverreachability",qt(ey,ea),rd.STAT_EVENT="statevent",qt(Nm,ea),rd.Ma="timingevent",qt(tg,ea),Oo.prototype.xa=function(){this.g=!1},Oo.prototype.info=function(){};var ny,xf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ty={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function rg(){}function Al(b,j,X,me){this.j=b,this.i=j,this.l=X,this.R=me||1,this.U=new Df(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lm}function Lm(){this.i=null,this.g="",this.h=!1}qt(rg,Jp),rg.prototype.g=function(){return new XMLHttpRequest},rg.prototype.i=function(){return{}},ny=new rg;var ry={},Pf={};function Mf(b,j,X){b.L=1,b.v=og(ra(j)),b.m=X,b.P=!0,av(b,null)}function av(b,j){b.F=Date.now(),Rf(b),b.A=ra(b.v);var X=b.A,me=b.R;Array.isArray(me)||(me=[String(me)]),oy(X.i,"t",me),b.C=0,X=b.j.J,b.h=new Lm,b.g=zf(b.j,X?j:null,!b.m),0<b.O&&(b.M=new C0(We(b.Y,b,b.g),b.O)),j=b.U,X=b.g,me=b.ca;var _t="readystatechange";Array.isArray(_t)||(_t&&(Pm[0]=_t.toString()),_t=Pm);for(var Nt=0;Nt<_t.length;Nt++){var wn=wm(X,_t[Nt],me||j.handleEvent,!1,j.h||j);if(!wn)break;j.g[wn.key]=wn}j=b.H?Ve(b.H):{},b.m?(b.u||(b.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,j)):(b.u="GET",b.g.ea(b.A,b.u,null,j)),za(),function km(b,j,X,me,_t,Nt){b.info(function(){if(b.g)if(Nt)for(var wn="",Gi=Nt.split("&"),Bs=0;Bs<Gi.length;Bs++){var Ni=Gi[Bs].split("=");if(1<Ni.length){var Go=Ni[0];Ni=Ni[1];var Ho=Go.split("_");wn=2<=Ho.length&&"type"==Ho[1]?wn+(Go+"=")+Ni+"&":wn+(Go+"=redacted&")}}else wn=null;else wn=Nt;return"XMLHTTP REQ ("+me+") [attempt "+_t+"]: "+j+"\n"+X+"\n"+wn})}(b.i,b.u,b.A,b.l,b.R,b.m)}function ig(b){return!!b.g&&"GET"==b.u&&2!=b.L&&b.j.Ca}function iy(b,j){var X=b.C,me=j.indexOf("\n",X);return-1==me?Pf:(X=Number(j.substring(X,me)),isNaN(X)?ry:(me+=1)+X>j.length?Pf:(j=j.slice(me,me+X),b.C=me+X,j))}function Rf(b){b.S=Date.now()+b.I,mu(b,b.I)}function mu(b,j){if(null!=b.B)throw Error("WatchDog timer not null");b.B=id(We(b.ba,b),j)}function gh(b){b.B&&(P.clearTimeout(b.B),b.B=null)}function _u(b){0==b.j.G||b.J||gg(b.j,b)}function qc(b){gh(b);var j=b.M;j&&"function"==typeof j.ma&&j.ma(),b.M=null,Mm(b.U),b.g&&(j=b.g,b.g=null,j.abort(),j.ma())}function Of(b,j){try{var X=b.j;if(0!=X.G&&(X.g==b||Yc(X.h,b)))if(!b.K&&Yc(X.h,b)&&3==X.G){try{var me=X.Da.g.parse(j)}catch{me=null}if(Array.isArray(me)&&3==me.length){var _t=me;if(0==_t[0]){e:if(!X.u){if(X.g){if(!(X.g.F+3e3<b.F))break e;Ah(X),$f(X)}Ih(X),Ro(18)}}else X.za=_t[1],0<X.za-X.T&&37500>_t[2]&&X.F&&0==X.v&&!X.C&&(X.C=id(We(X.Za,X),6e3));if(1>=vu(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else cd(X,11)}else if((b.K||X.g==b)&&Ah(X),!vr(j))for(_t=X.Da.g.parse(j),j=0;j<_t.length;j++){let Ni=_t[j];if(X.T=Ni[0],Ni=Ni[1],2==X.G)if("c"==Ni[0]){X.K=Ni[1],X.ia=Ni[2];const Go=Ni[3];null!=Go&&(X.la=Go,X.j.info("VER="+X.la));const Ho=Ni[4];null!=Ho&&(X.Aa=Ho,X.j.info("SVER="+X.Aa));const Xc=Ni[5];null!=Xc&&"number"==typeof Xc&&0<Xc&&(X.L=me=1.5*Xc,X.j.info("backChannelRequestTimeoutMs_="+me)),me=X;const ba=b.g;if(ba){const Wf=ba.g?ba.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wf){var Nt=me.h;Nt.g||-1==Wf.indexOf("spdy")&&-1==Wf.indexOf("quic")&&-1==Wf.indexOf("h2")||(Nt.j=Nt.l,Nt.g=new Set,Nt.h&&(ta(Nt,Nt.h),Nt.h=null))}if(me.D){const ld=ba.g?ba.g.getResponseHeader("X-HTTP-Session-Id"):null;ld&&(me.ya=ld,Xi(me.I,me.D,ld))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-b.F,X.j.info("Handshake RTT: "+X.R+"ms"));var wn=b;if((me=X).qa=uy(me,me.J?me.ia:null,me.W),wn.K){sg(me.h,wn);var Gi=wn,Bs=me.L;Bs&&(Gi.I=Bs),Gi.B&&(gh(Gi),Rf(Gi)),me.g=wn}else pg(me);0<X.i.length&&Gf(X)}else"stop"!=Ni[0]&&"close"!=Ni[0]||cd(X,7);else 3==X.G&&("stop"==Ni[0]||"close"==Ni[0]?"stop"==Ni[0]?cd(X,7):Th(X):"noop"!=Ni[0]&&X.l&&X.l.ta(Ni),X.v=0)}za()}catch{}}function yu(b){this.l=b||10,b=P.PerformanceNavigationTiming?0<(b=P.performance.getEntriesByType("navigation")).length&&("hq"==b[0].nextHopProtocol||"h2"==b[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function to(b){return!!b.h||!!b.g&&b.g.size>=b.j}function vu(b){return b.h?1:b.g?b.g.size:0}function Yc(b,j){return b.h?b.h==j:!!b.g&&b.g.has(j)}function ta(b,j){b.g?b.g.add(j):b.h=j}function sg(b,j){b.h&&b.h==j?b.h=null:b.g&&b.g.has(j)&&b.g.delete(j)}function Eu(b){if(null!=b.h)return b.i.concat(b.h.D);if(null!=b.g&&0!==b.g.size){let j=b.i;for(const X of b.g.values())j=j.concat(X.D);return j}return En(b.i)}function xa(b,j){if(b.forEach&&"function"==typeof b.forEach)b.forEach(j,void 0);else if(V(b)||"string"==typeof b)Array.prototype.forEach.call(b,j,void 0);else for(var X=function na(b){if(b.na&&"function"==typeof b.na)return b.na();if(!b.V||"function"!=typeof b.V){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(V(b)||"string"==typeof b){var j=[];b=b.length;for(var X=0;X<b;X++)j.push(X);return j}j=[],X=0;for(const me in b)j[X++]=me;return j}}}(b),me=function Sa(b){if(b.V&&"function"==typeof b.V)return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if("string"==typeof b)return b.split("");if(V(b)){for(var j=[],X=b.length,me=0;me<X;me++)j.push(b[me]);return j}for(me in j=[],X=0,b)j[X++]=b[me];return j}(b),_t=me.length,Nt=0;Nt<_t;Nt++)j.call(void 0,me[Nt],X&&X[Nt],b)}Al.prototype.ca=function(b){b=b.target;const j=this.M;j&&3==Sl(b)?j.j():this.Y(b)},Al.prototype.Y=function(b){try{if(b==this.g)e:{const Ho=Sl(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>Ho)&&(3!=Ho||this.g&&(this.h.h||this.g.oa()||Ch(this.g)))){this.J||4!=Ho||7==j||za(),gh(this);var X=this.g.Z();this.X=X;t:if(ig(this)){var me=Ch(this.g);b="";var _t=me.length,Nt=4==Sl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qc(this),_u(this);var wn="";break t}this.h.i=new P.TextDecoder}for(j=0;j<_t;j++)this.h.h=!0,b+=this.h.i.decode(me[j],{stream:!(Nt&&j==_t-1)});me.length=0,this.h.g+=b,this.C=0,wn=this.h.g}else wn=this.g.oa();if(this.o=200==X,function Fm(b,j,X,me,_t,Nt,wn){b.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+_t+"]: "+j+"\n"+X+"\n"+Nt+" "+wn})}(this.i,this.u,this.A,this.l,this.R,Ho,X),this.o){if(this.T&&!this.K){t:{if(this.g){var Gi,Bs=this.g;if((Gi=Bs.g?Bs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vr(Gi)){var Ni=Gi;break t}}Ni=null}if(!(X=Ni)){this.o=!1,this.s=3,Ro(12),qc(this),_u(this);break e}gu(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Of(this,X)}if(this.P){let ba;for(X=!0;!this.J&&this.C<wn.length;){if(ba=iy(this,wn),ba==Pf){4==Ho&&(this.s=4,Ro(14),X=!1),gu(this.i,this.l,null,"[Incomplete Response]");break}if(ba==ry){this.s=4,Ro(15),gu(this.i,this.l,wn,"[Invalid Chunk]"),X=!1;break}gu(this.i,this.l,ba,null),Of(this,ba)}if(ig(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ho||0!=wn.length||this.h.h||(this.s=1,Ro(16),X=!1),this.o=this.o&&X,X){if(0<wn.length&&!this.W){this.W=!0;var Go=this.j;Go.g==this&&Go.ba&&!Go.M&&(Go.j.info("Great, no buffering proxy detected. Bytes received: "+wn.length),Hf(Go),Go.M=!0,Ro(11))}}else gu(this.i,this.l,wn,"[Invalid Chunked Response]"),qc(this),_u(this)}else gu(this.i,this.l,wn,null),Of(this,wn);4==Ho&&qc(this),this.o&&!this.J&&(4==Ho?gg(this.j,this):(this.o=!1,Rf(this)))}else(function uv(b){const j={};b=(b.g&&2<=Sl(b)&&b.g.getAllResponseHeaders()||"").split("\r\n");for(let me=0;me<b.length;me++){if(vr(b[me]))continue;var X=mt(b[me]);const _t=X[0];if("string"!=typeof(X=X[1]))continue;X=X.trim();const Nt=j[_t]||[];j[_t]=Nt,Nt.push(X)}!function ut(b,j){for(const X in b)j.call(void 0,b[X],X,b)}(j,function(me){return me.join(", ")})})(this.g),400==X&&0<wn.indexOf("Unknown SID")?(this.s=3,Ro(12)):(this.s=0,Ro(13)),qc(this),_u(this)}}}catch{}},Al.prototype.cancel=function(){this.J=!0,qc(this)},Al.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(function ng(b,j){b.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(za(),Ro(17)),qc(this),this.s=2,_u(this)):mu(this,this.S-b)},yu.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const b of this.g.values())b.cancel();this.g.clear()}};var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof ya){this.h=b.h,Pa(this,b.j),this.o=b.o,this.g=b.g,bu(this,b.s),this.l=b.l;var j=b.i,X=new Um;X.i=j.i,j.g&&(X.g=new Map(j.g),X.h=j.h),Vm(this,X),this.m=b.m}else b&&(j=String(b).match(Ec))?(this.h=!1,Pa(this,j[1]||"",!0),this.o=_h(j[2]||""),this.g=_h(j[3]||"",!0),bu(this,j[4]),this.l=_h(j[5]||"",!0),Vm(this,j[6]||"",!0),this.m=_h(j[7]||"")):(this.h=!1,this.i=new Um(null,this.h))}function ra(b){return new ya(b)}function Pa(b,j,X){b.j=X?_h(j,!0):j,b.j&&(b.j=b.j.replace(/:$/,""))}function bu(b,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);b.s=j}else b.s=null}function Vm(b,j,X){j instanceof Um?(b.i=j,function cg(b,j){j&&!b.j&&(od(b),b.i=null,b.g.forEach(function(X,me){var _t=me.toLowerCase();me!=_t&&(Nf(this,me),oy(this,_t,X))},b)),b.j=j}(b.i,b.h)):(X||(j=yh(j,T0)),b.i=new Um(j,b.h))}function Xi(b,j,X){b.i.set(j,X)}function og(b){return Xi(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function _h(b,j){return b?j?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function yh(b,j,X){return"string"==typeof b?(b=encodeURI(b).replace(j,va),X&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function va(b){return"%"+((b=b.charCodeAt(0))>>4&15).toString(16)+(15&b).toString(16)}ya.prototype.toString=function(){var b=[],j=this.j;j&&b.push(yh(j,ag,!0),":");var X=this.g;return(X||"file"==j)&&(b.push("//"),(j=this.o)&&b.push(yh(j,ag,!0),"@"),b.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(X=this.s)&&b.push(":",String(X))),(X=this.l)&&(this.g&&"/"!=X.charAt(0)&&b.push("/"),b.push(yh(X,"/"==X.charAt(0)?sy:cv,!0))),(X=this.i.toString())&&b.push("?",X),(X=this.m)&&b.push("#",yh(X,oE)),b.join("")};var b,ag=/[#\/\?@]/g,cv=/[#\?:]/g,sy=/[#\?]/g,T0=/[#\?@]/g,oE=/#/g;function Um(b,j){this.h=this.g=null,this.i=b||null,this.j=!!j}function od(b){b.g||(b.g=new Map,b.h=0,b.i&&function mh(b,j){if(b){b=b.split("&");for(var X=0;X<b.length;X++){var me=b[X].indexOf("="),_t=null;if(0<=me){var Nt=b[X].substring(0,me);_t=b[X].substring(me+1)}else Nt=b[X];j(Nt,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}(b.i,function(j,X){b.add(decodeURIComponent(j.replace(/\+/g," ")),X)}))}function Nf(b,j){od(b),j=kf(b,j),b.g.has(j)&&(b.i=null,b.h-=b.g.get(j).length,b.g.delete(j))}function lv(b,j){return od(b),j=kf(b,j),b.g.has(j)}function oy(b,j,X){Nf(b,j),0<X.length&&(b.i=null,b.g.set(kf(b,j),En(X)),b.h+=X.length)}function kf(b,j){return j=String(j),b.j&&(j=j.toLowerCase()),j}function bc(b,j,X,me,_t){try{_t&&(_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null),me(X)}catch{}}function Ff(){this.g=new J_}function Lf(b,j,X){const me=X||"";try{xa(b,function(_t,Nt){let wn=_t;Y(_t)&&(wn=Rm(_t)),j.push(me+Nt+"="+encodeURIComponent(wn))})}catch(_t){throw j.push(me+"type="+encodeURIComponent("_badmap")),_t}}function Dl(b){this.l=b.Ub||null,this.j=b.eb||!1}function Vf(b,j){$o.call(this),this.D=b,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function vh(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}function Eh(b){b.readyState=4,b.l=null,b.j=null,b.v=null,Uf(b)}function Uf(b){b.onreadystatechange&&b.onreadystatechange.call(b)}function bh(b){let j="";return oi(b,function(X,me){j+=me,j+=":",j+=X,j+="\r\n"}),j}function jm(b,j,X){e:{for(me in X){var me=!1;break e}me=!0}me||(X=bh(X),"string"==typeof b?null!=X&&encodeURIComponent(String(X)):Xi(b,j,X))}function Qi(b){$o.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=Um.prototype).add=function(b,j){od(this),this.i=null,b=kf(this,b);var X=this.g.get(b);return X||this.g.set(b,X=[]),X.push(j),this.h+=1,this},u.forEach=function(b,j){od(this),this.g.forEach(function(X,me){X.forEach(function(_t){b.call(j,_t,me,this)},this)},this)},u.na=function(){od(this);const b=Array.from(this.g.values()),j=Array.from(this.g.keys()),X=[];for(let me=0;me<j.length;me++){const _t=b[me];for(let Nt=0;Nt<_t.length;Nt++)X.push(j[me])}return X},u.V=function(b){od(this);let j=[];if("string"==typeof b)lv(this,b)&&(j=j.concat(this.g.get(kf(this,b))));else{b=Array.from(this.g.values());for(let X=0;X<b.length;X++)j=j.concat(b[X])}return j},u.set=function(b,j){return od(this),this.i=null,lv(this,b=kf(this,b))&&(this.h-=this.g.get(b).length),this.g.set(b,[j]),this.h+=1,this},u.get=function(b,j){return b&&0<(b=this.V(b)).length?String(b[0]):j},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],j=Array.from(this.g.keys());for(var X=0;X<j.length;X++){var me=j[X];const Nt=encodeURIComponent(String(me)),wn=this.V(me);for(me=0;me<wn.length;me++){var _t=Nt;""!==wn[me]&&(_t+="="+encodeURIComponent(String(wn[me]))),b.push(_t)}}return this.i=b.join("&")},qt(Dl,Jp),Dl.prototype.g=function(){return new Vf(this.l,this.j)},Dl.prototype.i=(b={},function(){return b}),qt(Vf,$o),(u=Vf.prototype).open=function(b,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=j,this.readyState=1,Uf(this)},u.send=function(b){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(j.body=b),(this.D||P).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eh(this)),this.readyState=0},u.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Uf(this)),this.g&&(this.readyState=3,Uf(this),this.g)))if("arraybuffer"===this.responseType)b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vh(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var j=b.value?b.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!b.done}))&&(this.response=this.responseText+=j)}b.done?Eh(this):Uf(this),3==this.readyState&&vh(this)}},u.Ra=function(b){this.g&&(this.response=this.responseText=b,Eh(this))},u.Qa=function(b){this.g&&(this.response=b,Eh(this))},u.ga=function(){this.g&&Eh(this)},u.setRequestHeader=function(b,j){this.u.append(b,j)},u.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],j=this.h.entries();for(var X=j.next();!X.done;)b.push((X=X.value)[0]+": "+X[1]),X=j.next();return b.join("\r\n")},Object.defineProperty(Vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(b){this.m=b?"include":"same-origin"}}),qt(Qi,$o);var Bm=/^https?$/i,$m=["POST","PUT"];function ad(b,j){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=j,b.m=5,jf(b),Gm(b)}function jf(b){b.A||(b.A=!0,bo(b,"complete"),bo(b,"error"))}function Bf(b){if(b.h&&typeof C<"u"&&(!b.v[1]||4!=Sl(b)||2!=b.Z()))if(b.u&&4==Sl(b))xm(b.Ea,0,b);else if(bo(b,"readystatechange"),4==Sl(b)){b.h=!1;try{const wn=b.Z();e:switch(wn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var X;if(!(X=j)){var me;if(me=0===wn){var _t=String(b.D).match(Ec)[1]||null;!_t&&P.self&&P.self.location&&(_t=P.self.location.protocol.slice(0,-1)),me=!Bm.test(_t?_t.toLowerCase():"")}X=me}if(X)bo(b,"complete"),bo(b,"success");else{b.m=6;try{var Nt=2<Sl(b)?b.g.statusText:""}catch{Nt=""}b.l=Nt+" ["+b.Z()+"]",jf(b)}}finally{Gm(b)}}}function Gm(b,j){if(b.g){cy(b);const X=b.g,me=b.v[0]?()=>{}:null;b.g=null,b.v=null,j||bo(b,"ready");try{X.onreadystatechange=me}catch{}}}function cy(b){b.I&&(P.clearTimeout(b.I),b.I=null)}function Sl(b){return b.g?b.g.readyState:0}function Ch(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function xl(b,j,X){return X&&X.internalChannelParams&&X.internalChannelParams[b]||j}function ug(b){this.Aa=0,this.i=[],this.j=new Oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xl("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xl("baseRetryDelayMs",5e3,b),this.cb=xl("retryDelaySeedMs",1e4,b),this.Wa=xl("forwardChannelMaxRetries",2,b),this.wa=xl("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new yu(b&&b.concurrentRequestLimit),this.Da=new Ff,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Th(b){if(dg(b),3==b.G){var j=b.U++,X=ra(b.I);if(Xi(X,"SID",b.K),Xi(X,"RID",j),Xi(X,"TYPE","terminate"),fg(b,X),(j=new Al(b,b.j,j)).L=2,j.v=og(ra(X)),X=!1,P.navigator&&P.navigator.sendBeacon)try{X=P.navigator.sendBeacon(j.v.toString(),"")}catch{}!X&&P.Image&&((new Image).src=j.v,X=!0),X||(j.g=zf(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Rf(j)}ly(b)}function $f(b){b.g&&(Hf(b),b.g.cancel(),b.g=null)}function dg(b){$f(b),b.u&&(P.clearTimeout(b.u),b.u=null),Ah(b),b.h.cancel(),b.s&&("number"==typeof b.s&&P.clearTimeout(b.s),b.s=null)}function Gf(b){if(!to(b.h)&&!b.s){b.s=!0;var j=b.Ga;Cf||Im(),Kp||(Cf(),Kp=!0),Tm.add(j,b),b.B=0}}function hg(b,j){var X;X=j?j.l:b.U++;const me=ra(b.I);Xi(me,"SID",b.K),Xi(me,"RID",X),Xi(me,"AID",b.T),fg(b,me),b.m&&b.o&&jm(me,b.m,b.o),X=new Al(b,b.j,X,b.B+1),null===b.m&&(X.H=b.o),j&&(b.i=j.D.concat(b.i)),j=Hm(b,X,1e3),X.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),ta(b.h,X),Mf(X,me,j)}function fg(b,j){b.H&&oi(b.H,function(X,me){Xi(j,me,X)}),b.l&&xa({},function(X,me){Xi(j,me,X)})}function Hm(b,j,X){X=Math.min(b.i.length,X);var me=b.l?We(b.l.Na,b.l,b):null;e:{var _t=b.i;let Nt=-1;for(;;){const wn=["count="+X];-1==Nt?0<X?(Nt=_t[0].g,wn.push("ofs="+Nt)):Nt=0:wn.push("ofs="+Nt);let Gi=!0;for(let Bs=0;Bs<X;Bs++){let Ni=_t[Bs].g;const Go=_t[Bs].map;if(Ni-=Nt,0>Ni)Nt=Math.max(0,_t[Bs].g-100),Gi=!1;else try{Lf(Go,wn,"req"+Ni+"_")}catch{me&&me(Go)}}if(Gi){me=wn.join("&");break e}}}return b=b.i.splice(0,X),j.D=b,me}function pg(b){if(!b.g&&!b.u){b.Y=1;var j=b.Fa;Cf||Im(),Kp||(Cf(),Kp=!0),Tm.add(j,b),b.v=0}}function Ih(b){return!(b.g||b.u||3<=b.v||(b.Y++,b.u=id(We(b.Fa,b),zm(b,b.v)),b.v++,0))}function Hf(b){null!=b.A&&(P.clearTimeout(b.A),b.A=null)}function wh(b){b.g=new Al(b,b.j,"rpc",b.Y),null===b.m&&(b.g.H=b.o),b.g.O=0;var j=ra(b.qa);Xi(j,"RID","rpc"),Xi(j,"SID",b.K),Xi(j,"AID",b.T),Xi(j,"CI",b.F?"0":"1"),!b.F&&b.ja&&Xi(j,"TO",b.ja),Xi(j,"TYPE","xmlhttp"),fg(b,j),b.m&&b.o&&jm(j,b.m,b.o),b.L&&(b.g.I=b.L);var X=b.g;b=b.ia,X.L=1,X.v=og(ra(j)),X.m=null,X.P=!0,av(X,b)}function Ah(b){null!=b.C&&(P.clearTimeout(b.C),b.C=null)}function gg(b,j){var X=null;if(b.g==j){Ah(b),Hf(b),b.g=null;var me=2}else{if(!Yc(b.h,j))return;X=j.D,sg(b.h,j),me=1}if(0!=b.G)if(j.o)if(1==me){X=j.m?j.m.length:0,j=Date.now()-j.F;var _t=b.B;bo(me=eg(),new tg(me,X)),Gf(b)}else pg(b);else if(3==(_t=j.s)||0==_t&&0<j.X||!(1==me&&function I0(b,j){return!(vu(b.h)>=b.h.j-(b.s?1:0)||(b.s?(b.i=j.D.concat(b.i),0):1==b.G||2==b.G||b.B>=(b.Va?0:b.Wa)||(b.s=id(We(b.Ga,b,j),zm(b,b.B)),b.B++,0)))}(b,j)||2==me&&Ih(b)))switch(X&&0<X.length&&(j=b.h,j.i=j.i.concat(X)),_t){case 1:cd(b,5);break;case 4:cd(b,10);break;case 3:cd(b,6);break;default:cd(b,2)}}function zm(b,j){let X=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(X*=2),X*j}function cd(b,j){if(b.j.info("Error code "+j),2==j){var X=We(b.fb,b),me=b.Xa;const _t=!me;me=new ya(me||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||Pa(me,"https"),og(me),_t?function lg(b,j){const X=new Oo;if(P.Image){const me=new Image;me.onload=Ct(bc,X,"TestLoadImage: loaded",!0,j,me),me.onerror=Ct(bc,X,"TestLoadImage: error",!1,j,me),me.onabort=Ct(bc,X,"TestLoadImage: abort",!1,j,me),me.ontimeout=Ct(bc,X,"TestLoadImage: timeout",!1,j,me),P.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=b}else j(!1)}(me.toString(),X):function ay(b,j){new Oo;const me=new AbortController,_t=setTimeout(()=>{me.abort(),bc(0,0,!1,j)},1e4);fetch(b,{signal:me.signal}).then(Nt=>{clearTimeout(_t),bc(0,0,!!Nt.ok,j)}).catch(()=>{clearTimeout(_t),bc(0,0,!1,j)})}(me.toString(),X)}else Ro(2);b.G=0,b.l&&b.l.sa(j),ly(b),dg(b)}function ly(b){if(b.G=0,b.ka=[],b.l){const j=Eu(b.h);(0!=j.length||0!=b.i.length)&&(rn(b.ka,j),rn(b.ka,b.i),b.h.i.length=0,En(b.i),b.i.length=0),b.l.ra()}}function uy(b,j,X){var me=X instanceof ya?ra(X):new ya(X);if(""!=me.g)j&&(me.g=j+"."+me.g),bu(me,me.s);else{var _t=P.location;me=_t.protocol,j=j?j+"."+_t.hostname:_t.hostname,_t=+_t.port;var Nt=new ya(null);me&&Pa(Nt,me),j&&(Nt.g=j),_t&&bu(Nt,_t),X&&(Nt.l=X),me=Nt}return j=b.ya,(X=b.D)&&j&&Xi(me,X,j),Xi(me,"VER",b.la),fg(b,me),me}function zf(b,j,X){if(j&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Qi(b.Ca&&!b.pa?new Dl({eb:X}):b.pa)).Ha(b.J),j}function Dh(){}function Sh(){}function Ea(b,j){$o.call(this),this.g=new ug(j),this.l=b,this.h=j&&j.messageUrlParams||null,b=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(b?b["X-WebChannel-Content-Type"]=j.messageContentType:b={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(b?b["X-WebChannel-Client-Profile"]=j.va:b={"X-WebChannel-Client-Profile":j.va}),this.g.S=b,(b=j&&j.Sb)&&!vr(b)&&(this.g.m=b),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!vr(j)&&(this.g.D=j,null!==(b=this.h)&&j in b&&j in(b=this.h)&&delete b[j]),this.j=new Pl(this)}function Wm(b){Zp.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var j=b.__sm__;if(j){e:{for(const X in j){b=X;break e}b=void 0}(this.i=b)&&(b=this.i,j=null!==j&&b in j?j[b]:void 0),this.data=j}else this.data=b}function dy(){Om.call(this),this.status=1}function Pl(b){this.g=b}(u=Qi.prototype).Ha=function(b){this.J=b},u.ea=function(b,j,X,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);j=j?j.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ny.g(),this.v=function fh(b){return b.h||(b.h=b.i())}(this.o?this.o:ny),this.g.onreadystatechange=We(this.Ea,this);try{this.B=!0,this.g.open(j,String(b),!0),this.B=!1}catch(Nt){return void ad(this,Nt)}if(b=X||"",X=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var _t in me)X.set(_t,me[_t]);else{if("function"!=typeof me.keys||"function"!=typeof me.get)throw Error("Unknown input type for opt_headers: "+String(me));for(const Nt of me.keys())X.set(Nt,me.get(Nt))}me=Array.from(X.keys()).find(Nt=>"content-type"==Nt.toLowerCase()),_t=P.FormData&&b instanceof P.FormData,!(0<=Array.prototype.indexOf.call($m,j,void 0))||me||_t||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Nt,wn]of X)this.g.setRequestHeader(Nt,wn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cy(this),this.u=!0,this.g.send(b),this.u=!1}catch(Nt){ad(this,Nt)}},u.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,bo(this,"complete"),bo(this,"abort"),Gm(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gm(this,!0)),Qi.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?Bf(this):this.bb())},u.bb=function(){Bf(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Sl(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(b){if(this.g){var j=this.g.responseText;return b&&0==j.indexOf(b)&&(j=j.substring(b.length)),ov(j)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=ug.prototype).la=8,u.G=1,u.connect=function(b,j,X,me){Ro(0),this.W=b,this.H=j||{},X&&void 0!==me&&(this.H.OSID=X,this.H.OAID=me),this.F=this.X,this.I=uy(this,null,this.W),Gf(this)},u.Ga=function(b){if(this.s)if(this.s=null,1==this.G){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const _t=new Al(this,this.j,b);let Nt=this.o;if(this.S&&(Nt?(Nt=Ve(Nt),ht(Nt,this.S)):Nt=this.S),null!==this.m||this.O||(_t.H=Nt,Nt=null),this.P)e:{for(var j=0,X=0;X<this.i.length;X++){var me=this.i[X];if(void 0===(me="__data__"in me.map&&"string"==typeof(me=me.map.__data__)?me.length:void 0))break;if(4096<(j+=me)){j=X;break e}if(4096===j||X===this.i.length-1){j=X+1;break e}}j=1e3}else j=1e3;j=Hm(this,_t,j),Xi(X=ra(this.I),"RID",b),Xi(X,"CVER",22),this.D&&Xi(X,"X-HTTP-Session-Id",this.D),fg(this,X),Nt&&(this.O?j="headers="+encodeURIComponent(String(bh(Nt)))+"&"+j:this.m&&jm(X,this.m,Nt)),ta(this.h,_t),this.Ua&&Xi(X,"TYPE","init"),this.P?(Xi(X,"$req",j),Xi(X,"SID","null"),_t.T=!0,Mf(_t,X,null)):Mf(_t,X,j),this.G=2}}else 3==this.G&&(b?hg(this,b):0==this.i.length||to(this.h)||hg(this))},u.Fa=function(){if(this.u=null,wh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=id(We(this.ab,this),b)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ro(10),$f(this),wh(this))},u.Za=function(){null!=this.C&&(this.C=null,$f(this),Ih(this),Ro(19))},u.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Ro(2)):(this.j.info("Failed to ping google.com"),Ro(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Dh.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},Sh.prototype.g=function(b,j){return new Ea(b,j)},qt(Ea,$o),Ea.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ea.prototype.close=function(){Th(this.g)},Ea.prototype.o=function(b){var j=this.g;if("string"==typeof b){var X={};X.__data__=b,b=X}else this.u&&((X={}).__data__=Rm(b),b=X);j.i.push(new class{constructor(b,j){this.g=b,this.map=j}}(j.Ya++,b)),3==j.G&&Gf(j)},Ea.prototype.N=function(){this.g.l=null,delete this.j,Th(this.g),delete this.g,Ea.aa.N.call(this)},qt(Wm,Zp),qt(dy,Om),qt(Pl,Dh),Pl.prototype.ua=function(){bo(this.g,"a")},Pl.prototype.ta=function(b){bo(this.g,new Wm(b))},Pl.prototype.sa=function(b){bo(this.g,new dy)},Pl.prototype.ra=function(){bo(this.g,"b")},Sh.prototype.createWebChannel=Sh.prototype.g,Ea.prototype.send=Ea.prototype.o,Ea.prototype.open=Ea.prototype.m,Ea.prototype.close=Ea.prototype.close,He=ie.createWebChannelTransport=function(){return new Sh},pn=ie.getStatEventTarget=function(){return eg()},Ot=ie.Event=rd,jt=ie.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xf.NO_ERROR=0,xf.TIMEOUT=8,xf.HTTP_ERROR=6,dt=ie.ErrorCode=xf,ty.COMPLETE="complete",At=ie.EventType=ty,Z_.EventType=ph,ph.OPEN="a",ph.CLOSE="b",ph.ERROR="c",ph.MESSAGE="d",$o.prototype.listen=$o.prototype.K,$e=ie.WebChannel=Z_,ie.FetchXmlHttpFactory=Dl,Qi.prototype.listenOnce=Qi.prototype.L,Qi.prototype.getLastError=Qi.prototype.Ka,Qi.prototype.getLastErrorCode=Qi.prototype.Ba,Qi.prototype.getStatus=Qi.prototype.Z,Qi.prototype.getResponseJson=Qi.prototype.Oa,Qi.prototype.getResponseText=Qi.prototype.oa,Qi.prototype.send=Qi.prototype.ea,Qi.prototype.setWithCredentials=Qi.prototype.Ha,ve=ie.XhrIo=Qi}).apply(typeof W<"u"?W:typeof self<"u"?self:typeof window<"u"?window:{});const fe="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let Ue="10.14.0";const it=new Ce.Vy("@firebase/firestore");function Et(){return it.logLevel}function Ut(u){it.setLogLevel(u)}function Se(u,...e){if(it.logLevel<=Ce.$b.DEBUG){const i=e.map(jn);it.debug(`Firestore (${Ue}): ${u}`,...i)}}function on(u,...e){if(it.logLevel<=Ce.$b.ERROR){const i=e.map(jn);it.error(`Firestore (${Ue}): ${u}`,...i)}}function bn(u,...e){if(it.logLevel<=Ce.$b.WARN){const i=e.map(jn);it.warn(`Firestore (${Ue}): ${u}`,...i)}}function jn(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Ft(u="Unexpected state"){const e=`FIRESTORE (${Ue}) INTERNAL ASSERTION FAILED: `+u;throw on(e),new Error(e)}function Yt(u,e){u||Ft()}function Xt(u,e){u||Ft()}function gt(u,e){return u}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends pe.g{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class un{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class Ke{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Je.UNAUTHENTICATED))}shutdown(){}}class be{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Be{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var o=this;Yt(void 0===this.o);let h=this.i;const y=Y=>this.i!==h?(h=this.i,i(Y)):Promise.resolve();let C=new un;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new un,e.enqueueRetryable(()=>y(this.currentUser))};const P=()=>{const Y=C;e.enqueueRetryable((0,d.A)(function*(){yield Y.promise,yield y(o.currentUser)}))},V=Y=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(Y=>V(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?V(Y):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new un)}},0),P()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Yt("string"==typeof o.accessToken),new Ke(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(null===e||"string"==typeof e),new Je(e)}}class at{constructor(e,i,o){this.l=e,this.h=i,this.P=o,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class et{constructor(e,i,o){this.l=e,this.h=i,this.P=o}getToken(){return Promise.resolve(new at(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Yt(void 0===this.o);const o=y=>{null!=y.error&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const C=y.token!==this.R;return this.R=y.token,Se("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?i(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>o(y))};const h=y=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Yt("string"==typeof i.token),this.R=i.token,new Bt(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hn(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let o=0;o<u;o++)i[o]=Math.floor(256*Math.random());return i}class Bn{static newId(){const i=62*Math.floor(256/62);let o="";for(;o.length<20;){const h=hn(40);for(let y=0;y<h.length;++y)o.length<20&&h[y]<i&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return o}}function nn(u,e){return u<e?-1:u>e?1:0}function ir(u,e,i){return u.length===e.length&&u.every((o,h)=>i(o,e[h]))}function $n(u){return u+"\0"}class Qt{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ot(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*i));return new Qt(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Qt(0,0))}static max(){return new Ht(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jn{constructor(e,i,o){void 0===i?i=0:i>e.length&&Ft(),void 0===o?o=e.length-i:o>e.length-i&&Ft(),this.segments=e,this.offset=i,this.len=o}get length(){return this.len}isEqual(e){return 0===Jn.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(o=>{i.push(o)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,o=this.limit();i<o;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const o=Math.min(e.length,i.length);for(let h=0;h<o;h++){const y=e.get(h),C=i.get(h);if(y<C)return-1;if(y>C)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class gn extends Jn{construct(e,i,o){return new gn(e,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const o of e){if(o.indexOf("//")>=0)throw new ot(je.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(h=>h.length>0))}return new gn(i)}static emptyPath(){return new gn([])}}const Vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends Jn{construct(e,i,o){return new lr(e,i,o)}static isValidIdentifier(e){return Vr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const i=[];let o="",h=0;const y=()=>{if(0===o.length)throw new ot(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let C=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new ot(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[h+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new ot(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,h+=2}else"`"===P?(C=!C,h++):"."!==P||C?(o+=P,h++):(y(),h++)}if(y(),C)throw new ot(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(i)}static emptyPath(){return new lr([])}}class zt{constructor(e){this.path=e}static fromPath(e){return new zt(gn.fromString(e))}static fromName(e){return new zt(gn.fromString(e).popFirst(5))}static empty(){return new zt(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return gn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new gn(e.slice()))}}class xn{constructor(e,i,o,h){this.indexId=e,this.collectionGroup=i,this.fields=o,this.indexState=h}}function Zn(u){return u.fields.find(e=>2===e.kind)}function Nn(u){return u.fields.filter(e=>2!==e.kind)}xn.UNKNOWN_ID=-1;class kr{constructor(e,i){this.fieldPath=e,this.kind=i}}class nr{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new nr(0,Cn.min())}}function Jr(u,e){const i=u.toTimestamp().seconds,o=u.toTimestamp().nanoseconds+1,h=Ht.fromTimestamp(1e9===o?new Qt(i+1,0):new Qt(i,o));return new Cn(h,zt.empty(),e)}function gs(u){return new Cn(u.readTime,u.key,-1)}class Cn{constructor(e,i,o){this.readTime=e,this.documentKey=i,this.largestBatchId=o}static min(){return new Cn(Ht.min(),zt.empty(),-1)}static max(){return new Cn(Ht.max(),zt.empty(),-1)}}function br(u,e){let i=u.readTime.compareTo(e.readTime);return 0!==i?i:(i=zt.comparator(u.documentKey,e.documentKey),0!==i?i:nn(u.largestBatchId,e.largestBatchId))}const Kn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fn(u){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.A)(function*(u){if(u.code!==je.FAILED_PRECONDITION||u.message!==Kn)throw u;Se("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new nt((o,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(o,h)},this.catchCallback=y=>{this.wrapFailure(i,y).next(o,h)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):nt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):nt.reject(i)}static resolve(e){return new nt((i,o)=>{i(e)})}static reject(e){return new nt((i,o)=>{o(e)})}static waitFor(e){return new nt((i,o)=>{let h=0,y=0,C=!1;e.forEach(P=>{++h,P.next(()=>{++y,C&&y===h&&i()},V=>o(V))}),C=!0,y===h&&i()})}static or(e){let i=nt.resolve(!1);for(const o of e)i=i.next(h=>h?nt.resolve(h):o());return i}static forEach(e,i){const o=[];return e.forEach((h,y)=>{o.push(i.call(this,h,y))}),this.waitFor(o)}static mapArray(e,i){return new nt((o,h)=>{const y=e.length,C=new Array(y);let P=0;for(let V=0;V<y;V++){const Y=V;i(e[Y]).next(ce=>{C[Y]=ce,++P,P===y&&o(C)},ce=>h(ce))}})}static doWhile(e,i){return new nt((o,h)=>{const y=()=>{!0===e()?i().next(()=>{y()},h):o()};y()})}}class ft{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.V=new un,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Kt(e,i.error)):this.V.resolve()},this.transaction.onerror=o=>{const h=Tt(o.target.error);this.V.reject(new Kt(e,h))}}static open(e,i,o,h){try{return new ft(i,e.transaction(h,o))}catch(y){throw new Kt(i,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new Hr(i)}}class ae{constructor(e,i,o){this.name=e,this.version=i,this.p=o,12.2===ae.S((0,pe.ZQ)())&&on("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Se("SimpleDb","Removing database:",e),Sr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,pe.zW)())return!1;if(ae.v())return!0;const e=(0,pe.ZQ)(),i=ae.S(e),o=0<i&&i<10,h=Re(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,i){return e.store(i)}static S(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var i=this;return(0,d.A)(function*(){return i.db||(Se("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,h)=>{const y=indexedDB.open(i.name,i.version);y.onsuccess=C=>{o(C.target.result)},y.onblocked=()=>{h(new Kt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=C=>{const P=C.target.error;h("VersionError"===P.name?new ot(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new ot(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Kt(e,P))},y.onupgradeneeded=C=>{Se("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',C.oldVersion),i.p.O(C.target.result,y.transaction,C.oldVersion,i.version).next(()=>{Se("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=o=>i.N(o)),i.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,o,h){var y=this;return(0,d.A)(function*(){const C="readonly"===i;let P=0;for(;;){++P;try{y.db=yield y.M(e);const V=ft.open(y.db,e,C?"readonly":"readwrite",o),Y=h(V).next(ce=>(V.g(),ce)).catch(ce=>(V.abort(ce),nt.reject(ce))).toPromise();return Y.catch(()=>{}),yield V.m,Y}catch(V){const Y=V,ce="FirebaseError"!==Y.name&&P<3;if(Se("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ce),y.close(),!ce)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Re(u){const e=u.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Dt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Sr(this.B.delete())}}class Kt extends ot{constructor(e,i){super(je.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Yn(u){return"IndexedDbTransactionError"===u.name}class Hr{constructor(e){this.store=e}put(e,i){let o;return void 0!==i?(Se("SimpleDb","PUT",this.store.name,e,i),o=this.store.put(i,e)):(Se("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Sr(o)}add(e){return Se("SimpleDb","ADD",this.store.name,e,e),Sr(this.store.add(e))}get(e){return Sr(this.store.get(e)).next(i=>(void 0===i&&(i=null),Se("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Se("SimpleDb","DELETE",this.store.name,e),Sr(this.store.delete(e))}count(){return Se("SimpleDb","COUNT",this.store.name),Sr(this.store.count())}U(e,i){const o=this.options(e,i),h=o.index?this.store.index(o.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(o.range);return new nt((C,P)=>{y.onerror=V=>{P(V.target.error)},y.onsuccess=V=>{C(V.target.result)}})}{const y=this.cursor(o),C=[];return this.W(y,(P,V)=>{C.push(V)}).next(()=>C)}}G(e,i){const o=this.store.getAll(e,null===i?void 0:i);return new nt((h,y)=>{o.onerror=C=>{y(C.target.error)},o.onsuccess=C=>{h(C.target.result)}})}j(e,i){Se("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,i);o.H=!1;const h=this.cursor(o);return this.W(h,(y,C,P)=>P.delete())}J(e,i){let o;i?o=e:(o={},i=e);const h=this.cursor(o);return this.W(h,i)}Y(e){const i=this.cursor({});return new nt((o,h)=>{i.onerror=y=>{const C=Tt(y.target.error);h(C)},i.onsuccess=y=>{const C=y.target.result;C?e(C.primaryKey,C.value).next(P=>{P?C.continue():o()}):o()}})}W(e,i){const o=[];return new nt((h,y)=>{e.onerror=C=>{y(C.target.error)},e.onsuccess=C=>{const P=C.target.result;if(!P)return void h();const V=new Dt(P),Y=i(P.primaryKey,P.value,V);if(Y instanceof nt){const ce=Y.catch(Ee=>(V.done(),nt.reject(Ee)));o.push(ce)}V.isDone?h():null===V.K?P.continue():P.continue(V.K)}}).next(()=>nt.waitFor(o))}options(e,i){let o;return void 0!==e&&("string"==typeof e?o=e:i=e),{index:o,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,i):o.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function Sr(u){return new nt((e,i)=>{u.onsuccess=o=>{e(o.target.result)},u.onerror=o=>{const h=Tt(o.target.error);i(h)}})}let _i=!1;function Tt(u){const e=ae.S((0,pe.ZQ)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(i)>=0){const o=new ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _i||(_i=!0,setTimeout(()=>{throw o},0)),o}}return u}class G{constructor(e,i){this.asyncQueue=e,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var i=this;Se("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.A)(function*(){i.task=null;try{Se("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(o){Yn(o)?Se("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Fn(o)}yield i.X(6e4)}))}}class R{constructor(e,i){this.localStore=e,this.persistence=i}ee(e=50){var i=this;return(0,d.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>i.te(o,e))})()}te(e,i){const o=new Set;let h=i,y=!0;return nt.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!o.has(C))return Se("IndexBackfiller",`Processing collection: ${C}`),this.ne(e,C,h).next(P=>{h-=P,o.add(C)});y=!1})).next(()=>i-h)}ne(e,i,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,i).next(h=>this.localStore.localDocuments.getNextDocuments(e,i,h,o).next(y=>{const C=y.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.re(h,y)).next(P=>(Se("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,i,P))).next(()=>C.size)}))}re(e,i){let o=e;return i.changes.forEach((h,y)=>{const C=gs(y);br(C,o)>0&&(o=C)}),new Cn(o.readTime,o.documentKey,Math.max(i.batchId,e.largestBatchId))}}let L=(()=>{class u{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=h=>this.ie(h),this.se=h=>o.writeSequenceNumber(h))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return u.oe=-1,u})();function se(u){return null==u}function ge(u){return 0===u&&1/u==-1/0}function lt(u){return"number"==typeof u&&Number.isInteger(u)&&!ge(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Mt(u){let e="";for(let i=0;i<u.length;i++)e.length>0&&(e=Wt(e)),e=mn(u.get(i),e);return Wt(e)}function mn(u,e){let i=e;const o=u.length;for(let h=0;h<o;h++){const y=u.charAt(h);switch(y){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=y}}return i}function Wt(u){return u+"\x01\x01"}function In(u){const e=u.length;if(Yt(e>=2),2===e)return Yt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),gn.emptyPath();const i=e-2,o=[];let h="";for(let y=0;y<e;){const C=u.indexOf("\x01",y);switch((C<0||C>i)&&Ft(),u.charAt(C+1)){case"\x01":const P=u.substring(y,C);let V;0===h.length?V=P:(h+=P,V=h,h=""),o.push(V);break;case"\x10":h+=u.substring(y,C),h+="\0";break;case"\x11":h+=u.substring(y,C+1);break;default:Ft()}y=C+2}return new gn(o)}const gr=["userId","batchId"];function xe(u,e){return[u,Mt(e)]}function Pe(u,e,i){return[u,Mt(e),i]}const ze={},Vt=["prefixPath","collectionGroup","readTime","documentId"],Zt=["prefixPath","collectionGroup","documentId"],_n=["collectionGroup","readTime","prefixPath","documentId"],dn=["canonicalId","targetId"],ur=["targetId","path"],yn=["path","targetId"],ci=["collectionId","parent"],vt=["indexId","uid"],Ze=["uid","sequenceNumber"],Rt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fn=["indexId","uid","orderedDocumentKey"],Vn=["userId","collectionPath","documentId"],vn=["userId","collectionPath","largestBatchId"],On=["userId","collectionGroup","largestBatchId"],Cr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ur=[...Cr,"documentOverlays"],or=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ci=or,Hi=[...Ci,"indexConfiguration","indexState","indexEntries"],Ii=Hi,no=[...Hi,"globals"];class Xs extends sr{constructor(e,i){super(),this._e=e,this.currentSequenceNumber=i}}function Ui(u,e){const i=gt(u);return ae.F(i._e,e)}function po(u){let e=0;for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&e++;return e}function ri(u,e){for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&e(i,u[i])}function is(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class _e{constructor(e,i){this.comparator=e,this.root=i||K.EMPTY}insert(e,i){return new _e(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,K.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,K.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(e){let i=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return i+o.left.size;h<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,o)=>(e(i,o),!1))}toString(){const e=[];return this.inorderTraversal((i,o)=>(e.push(`${i}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kt(this.root,e,this.comparator,!1)}getReverseIterator(){return new kt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kt(this.root,e,this.comparator,!0)}}class kt{constructor(e,i,o,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=i?o(e.key,i):1,i&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class K{constructor(e,i,o,h,y){this.key=e,this.value=i,this.color=o??K.RED,this.left=h??K.EMPTY,this.right=y??K.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,o,h,y){return new K(e??this.key,i??this.value,o??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let h=this;const y=o(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,i,o),null):0===y?h.copy(null,i,null,null,null):h.copy(null,null,null,null,h.right.insert(e,i,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return K.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let o,h=this;if(i(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,i),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===i(e,h.key)){if(h.right.isEmpty())return K.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,i))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,K.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,K.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}K.EMPTY=null,K.RED=!0,K.BLACK=!1,K.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(e,i,o,h,y){return this}insert(e,i,o){return new K(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,o)=>(e(i),!1))}forEachInRange(e,i){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;i(h.key)}}forEachWhile(e,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Lt(this.data.getIterator())}getIteratorFrom(e){return new Lt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(o=>{i=i.add(o)}),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),o=e.data.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=o.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class Lt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $r(u){return u.hasNext()?u.getNext():void 0}class er{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new er([])}unionWith(e){let i=new Ie(lr.comparator);for(const o of this.fields)i=i.add(o);for(const o of e)i=i.add(o);return new er(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ir(this.fields,e.fields,(i,o)=>i.isEqual(o))}}class $i extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function wo(){return typeof atob<"u"}class li{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new $i("Invalid base64 string: "+y):y}}(e);return new li(i)}static fromUint8Array(e){const i=function(h){let y="";for(let C=0;C<h.length;++C)y+=String.fromCharCode(h[C]);return y}(e);return new li(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let h=0;h<i.length;h++)o[h]=i.charCodeAt(h);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const ia=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(u){if(Yt(!!u),"string"==typeof u){let e=0;const i=ia.exec(u);if(Yt(!!i),i[1]){let h=i[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(u);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ui(u.seconds),nanos:ui(u.nanos)}}function ui(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function ks(u){return"string"==typeof u?li.fromBase64String(u):li.fromUint8Array(u)}function Ss(u){var e,i;return"server_timestamp"===(null===(i=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ro(u){const e=u.mapValue.fields.__previous_value__;return Ss(e)?ro(e):e}function Gs(u){const e=Ds(u.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}class jr{constructor(e,i,o,h,y,C,P,V,Y){this.databaseId=e,this.appId=i,this.persistenceKey=o,this.host=h,this.ssl=y,this.forceLongPolling=C,this.autoDetectLongPolling=P,this.longPollingOptions=V,this.useFetchStreams=Y}}class di{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new di("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof di&&e.projectId===this.projectId&&e.database===this.database}}const Di={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ss={nullValue:"NULL_VALUE"};function hi(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Ss(u)?4:dr(u)?9007199254740991:_s(u)?10:11:Ft()}function ms(u,e){if(u===e)return!0;const i=hi(u);if(i!==hi(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return Gs(u).isEqual(Gs(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const C=Ds(h.timestampValue),P=Ds(y.timestampValue);return C.seconds===P.seconds&&C.nanos===P.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return y=e,ks(u.bytesValue).isEqual(ks(y.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(h,y){return ui(h.geoPointValue.latitude)===ui(y.geoPointValue.latitude)&&ui(h.geoPointValue.longitude)===ui(y.geoPointValue.longitude)}(u,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return ui(h.integerValue)===ui(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const C=ui(h.doubleValue),P=ui(y.doubleValue);return C===P?ge(C)===ge(P):isNaN(C)&&isNaN(P)}return!1}(u,e);case 9:return ir(u.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:case 11:return function(h,y){const C=h.mapValue.fields||{},P=y.mapValue.fields||{};if(po(C)!==po(P))return!1;for(const V in C)if(C.hasOwnProperty(V)&&(void 0===P[V]||!ms(C[V],P[V])))return!1;return!0}(u,e);default:return Ft()}var y}function io(u,e){return void 0!==(u.values||[]).find(i=>ms(i,e))}function os(u,e){if(u===e)return 0;const i=hi(u),o=hi(e);if(i!==o)return nn(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return nn(u.booleanValue,e.booleanValue);case 2:return function(y,C){const P=ui(y.integerValue||y.doubleValue),V=ui(C.integerValue||C.doubleValue);return P<V?-1:P>V?1:P===V?0:isNaN(P)?isNaN(V)?0:-1:1}(u,e);case 3:return xs(u.timestampValue,e.timestampValue);case 4:return xs(Gs(u),Gs(e));case 5:return nn(u.stringValue,e.stringValue);case 6:return function(y,C){const P=ks(y),V=ks(C);return P.compareTo(V)}(u.bytesValue,e.bytesValue);case 7:return function(y,C){const P=y.split("/"),V=C.split("/");for(let Y=0;Y<P.length&&Y<V.length;Y++){const ce=nn(P[Y],V[Y]);if(0!==ce)return ce}return nn(P.length,V.length)}(u.referenceValue,e.referenceValue);case 8:return function(y,C){const P=nn(ui(y.latitude),ui(C.latitude));return 0!==P?P:nn(ui(y.longitude),ui(C.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return Fs(u.arrayValue,e.arrayValue);case 10:return function(y,C){var P,V,Y,ce;const Ct=null===(P=(y.fields||{}).value)||void 0===P?void 0:P.arrayValue,qt=null===(V=(C.fields||{}).value)||void 0===V?void 0:V.arrayValue,En=nn((null===(Y=Ct?.values)||void 0===Y?void 0:Y.length)||0,(null===(ce=qt?.values)||void 0===ce?void 0:ce.length)||0);return 0!==En?En:Fs(Ct,qt)}(u.mapValue,e.mapValue);case 11:return function(y,C){if(y===Di.mapValue&&C===Di.mapValue)return 0;if(y===Di.mapValue)return 1;if(C===Di.mapValue)return-1;const P=y.fields||{},V=Object.keys(P),Y=C.fields||{},ce=Object.keys(Y);V.sort(),ce.sort();for(let Ee=0;Ee<V.length&&Ee<ce.length;++Ee){const We=nn(V[Ee],ce[Ee]);if(0!==We)return We;const Ct=os(P[V[Ee]],Y[ce[Ee]]);if(0!==Ct)return Ct}return nn(V.length,ce.length)}(u.mapValue,e.mapValue);default:throw Ft()}}function xs(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return nn(u,e);const i=Ds(u),o=Ds(e),h=nn(i.seconds,o.seconds);return 0!==h?h:nn(i.nanos,o.nanos)}function Fs(u,e){const i=u.values||[],o=e.values||[];for(let h=0;h<i.length&&h<o.length;++h){const y=os(i[h],o[h]);if(y)return y}return nn(i.length,o.length)}function Wr(u){return An(u)}function An(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(i){const o=Ds(i);return`time(${o.seconds},${o.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?ks(u.bytesValue).toBase64():"referenceValue"in u?zt.fromName(u.referenceValue).toString():"geoPointValue"in u?function(i){return`geo(${i.latitude},${i.longitude})`}(u.geoPointValue):"arrayValue"in u?function(i){let o="[",h=!0;for(const y of i.values||[])h?h=!1:o+=",",o+=An(y);return o+"]"}(u.arrayValue):"mapValue"in u?function(i){const o=Object.keys(i.fields||{}).sort();let h="{",y=!0;for(const C of o)y?y=!1:h+=",",h+=`${C}:${An(i.fields[C])}`;return h+"}"}(u.mapValue):Ft()}function Dr(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function es(u){return!!u&&"integerValue"in u}function as(u){return!!u&&"arrayValue"in u}function Bi(u){return!!u&&"nullValue"in u}function Qs(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function ii(u){return!!u&&"mapValue"in u}function _s(u){var e,i;return"__vector__"===(null===(i=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Ls(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return ri(u.mapValue.fields,(i,o)=>e.mapValue.fields[i]=Ls(o)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(u.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ls(u.arrayValue.values[i]);return e}return Object.assign({},u)}function dr(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ts={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Ps(u){return"nullValue"in u?ss:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Dr(di.empty(),zt.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?_s(u)?Ts:{mapValue:{}}:Ft()}function te(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Dr(di.empty(),zt.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?Ts:"mapValue"in u?_s(u)?{mapValue:{}}:Di:Ft()}function ee(u,e){const i=os(u.value,e.value);return 0!==i?i:u.inclusive&&!e.inclusive?-1:!u.inclusive&&e.inclusive?1:0}function De(u,e){const i=os(u.value,e.value);return 0!==i?i:u.inclusive&&!e.inclusive?1:!u.inclusive&&e.inclusive?-1:0}class Fe{constructor(e){this.value=e}static empty(){return new Fe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let o=0;o<e.length-1;++o)if(i=(i.mapValue.fields||{})[e.get(o)],!ii(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ls(i)}setAll(e){let i=lr.emptyPath(),o={},h=[];e.forEach((C,P)=>{if(!i.isImmediateParentOf(P)){const V=this.getFieldsMap(i);this.applyChanges(V,o,h),o={},h=[],i=P.popLast()}C?o[P.lastSegment()]=Ls(C):h.push(P.lastSegment())});const y=this.getFieldsMap(i);this.applyChanges(y,o,h)}delete(e){const i=this.field(e.popLast());ii(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=i.mapValue.fields[e.get(o)];ii(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},i.mapValue.fields[e.get(o)]=h),i=h}return i.mapValue.fields}applyChanges(e,i,o){ri(i,(h,y)=>e[h]=y);for(const h of o)delete e[h]}clone(){return new Fe(Ls(this.value))}}function rt(u){const e=[];return ri(u.fields,(i,o)=>{const h=new lr([i]);if(ii(o)){const y=rt(o.mapValue).fields;if(0===y.length)e.push(h);else for(const C of y)e.push(h.child(C))}else e.push(h)}),new er(e)}class bt{constructor(e,i,o,h,y,C,P){this.key=e,this.documentType=i,this.version=o,this.readTime=h,this.createTime=y,this.data=C,this.documentState=P}static newInvalidDocument(e){return new bt(e,0,Ht.min(),Ht.min(),Ht.min(),Fe.empty(),0)}static newFoundDocument(e,i,o,h){return new bt(e,1,i,Ht.min(),o,h,0)}static newNoDocument(e,i){return new bt(e,2,i,Ht.min(),Ht.min(),Fe.empty(),0)}static newUnknownDocument(e,i){return new bt(e,3,i,Ht.min(),Ht.min(),Fe.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cn{constructor(e,i){this.position=e,this.inclusive=i}}function Un(u,e,i){let o=0;for(let h=0;h<u.position.length;h++){const y=e[h],C=u.position[h];if(o=y.field.isKeyField()?zt.comparator(zt.fromName(C.referenceValue),i.key):os(C,i.data.field(y.field)),"desc"===y.dir&&(o*=-1),0!==o)break}return o}function Sn(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let i=0;i<u.position.length;i++)if(!ms(u.position[i],e.position[i]))return!1;return!0}class hr{constructor(e,i="asc"){this.field=e,this.dir=i}}function Br(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class Xn{}class Qn extends Xn{constructor(e,i,o){super(),this.field=e,this.op=i,this.value=o}static create(e,i,o){return e.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(e,i,o):new ti(e,i,o):"array-contains"===i?new go(e,o):"in"===i?new sa(e,o):"not-in"===i?new Ra(e,o):"array-contains-any"===i?new Hs(e,o):new Qn(e,i,o)}static createKeyFieldInFilter(e,i,o){return"in"===i?new Ao(e,o):new cs(e,o)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(os(i,this.value)):null!==i&&hi(this.value)===hi(i)&&this.matchesComparison(os(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends Xn{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new fr(e,i)}matches(e){return wi(this)?void 0===this.filters.find(i=>!i.matches(e)):void 0!==this.filters.find(i=>i.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wi(u){return"and"===u.op}function fi(u){return"or"===u.op}function Si(u){return ts(u)&&wi(u)}function ts(u){for(const e of u.filters)if(e instanceof fr)return!1;return!0}function ki(u){if(u instanceof Qn)return u.field.canonicalString()+u.op.toString()+Wr(u.value);if(Si(u))return u.filters.map(e=>ki(e)).join(",");{const e=u.filters.map(i=>ki(i)).join(",");return`${u.op}(${e})`}}function Ir(u,e){return u instanceof Qn?(o=u,(h=e)instanceof Qn&&o.op===h.op&&o.field.isEqual(h.field)&&ms(o.value,h.value)):u instanceof fr?function(o,h){return h instanceof fr&&o.op===h.op&&o.filters.length===h.filters.length&&o.filters.reduce((y,C,P)=>y&&Ir(C,h.filters[P]),!0)}(u,e):void Ft();var o,h}function Fi(u,e){const i=u.filters.concat(e);return fr.create(i,u.op)}function ji(u){return u instanceof Qn?`${(i=u).field.canonicalString()} ${i.op} ${Wr(i.value)}`:u instanceof fr?function(i){return i.op.toString()+" {"+i.getFilters().map(ji).join(" ,")+"}"}(u):"Filter";var i}class ti extends Qn{constructor(e,i,o){super(e,i,o),this.key=zt.fromName(o.referenceValue)}matches(e){const i=zt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Ao extends Qn{constructor(e,i){super(e,"in",i),this.keys=so(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class cs extends Qn{constructor(e,i){super(e,"not-in",i),this.keys=so(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function so(u,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>zt.fromName(o.referenceValue))}class go extends Qn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return as(i)&&io(i.arrayValue,this.value)}}class sa extends Qn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&io(this.value.arrayValue,i)}}class Ra extends Qn{constructor(e,i){super(e,"not-in",i)}matches(e){if(io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!io(this.value.arrayValue,i)}}class Hs extends Qn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!as(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>io(this.value.arrayValue,o))}}class Wo{constructor(e,i=null,o=[],h=[],y=null,C=null,P=null){this.path=e,this.collectionGroup=i,this.orderBy=o,this.filters=h,this.limit=y,this.startAt=C,this.endAt=P,this.ue=null}}function ls(u,e=null,i=[],o=[],h=null,y=null,C=null){return new Wo(u,e,i,o,h,y,C)}function zi(u){const e=gt(u);if(null===e.ue){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(o=>ki(o)).join(","),i+="|ob:",i+=e.orderBy.map(o=>{return(y=o).field.canonicalString()+y.dir;var y}).join(","),se(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(o=>Wr(o)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(o=>Wr(o)).join(",")),e.ue=i}return e.ue}function Do(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<u.orderBy.length;i++)if(!Br(u.orderBy[i],e.orderBy[i]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let i=0;i<u.filters.length;i++)if(!Ir(u.filters[i],e.filters[i]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!Sn(u.startAt,e.startAt)&&Sn(u.endAt,e.endAt)}function oa(u){return zt.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function ko(u,e){return u.filters.filter(i=>i instanceof Qn&&i.field.isEqual(e))}function xi(u,e,i){let o=ss,h=!0;for(const y of ko(u,e)){let C=ss,P=!0;switch(y.op){case"<":case"<=":C=Ps(y.value);break;case"==":case"in":case">=":C=y.value;break;case">":C=y.value,P=!1;break;case"!=":case"not-in":C=ss}ee({value:o,inclusive:h},{value:C,inclusive:P})<0&&(o=C,h=P)}if(null!==i)for(let y=0;y<u.orderBy.length;++y)if(u.orderBy[y].field.isEqual(e)){const C=i.position[y];ee({value:o,inclusive:h},{value:C,inclusive:i.inclusive})<0&&(o=C,h=i.inclusive);break}return{value:o,inclusive:h}}function Ko(u,e,i){let o=Di,h=!0;for(const y of ko(u,e)){let C=Di,P=!0;switch(y.op){case">=":case">":C=te(y.value),P=!1;break;case"==":case"in":case"<=":C=y.value;break;case"<":C=y.value,P=!1;break;case"!=":case"not-in":C=Di}De({value:o,inclusive:h},{value:C,inclusive:P})>0&&(o=C,h=P)}if(null!==i)for(let y=0;y<u.orderBy.length;++y)if(u.orderBy[y].field.isEqual(e)){const C=i.position[y];De({value:o,inclusive:h},{value:C,inclusive:i.inclusive})>0&&(o=C,h=i.inclusive);break}return{value:o,inclusive:h}}class qo{constructor(e,i=null,o=[],h=[],y=null,C="F",P=null,V=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=h,this.limit=y,this.limitType=C,this.startAt=P,this.endAt=V,this.ce=null,this.le=null,this.he=null}}function q(u,e,i,o,h,y,C,P){return new qo(u,e,i,o,h,y,C,P)}function Z(u){return new qo(u)}function U(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function ue(u){return null!==u.collectionGroup}function Ge(u){const e=gt(u);if(null===e.ce){e.ce=[];const i=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),i.add(y.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(C){let P=new Ie(lr.comparator);return C.filters.forEach(V=>{V.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(P=P.add(Y.field))})}),P})(e).forEach(y=>{i.has(y.canonicalString())||y.isKeyField()||e.ce.push(new hr(y,o))}),i.has(lr.keyField().canonicalString())||e.ce.push(new hr(lr.keyField(),o))}return e.ce}function Dn(u){const e=gt(u);return e.le||(e.le=function Is(u,e){if("F"===u.limitType)return ls(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(h=>new hr(h.field,"desc"===h.dir?"asc":"desc"));const i=u.endAt?new cn(u.endAt.position,u.endAt.inclusive):null,o=u.startAt?new cn(u.startAt.position,u.startAt.inclusive):null;return ls(u.path,u.collectionGroup,e,u.filters,u.limit,i,o)}}(e,Ge(u))),e.le}function Vs(u,e){const i=u.filters.concat([e]);return new qo(u.path,u.collectionGroup,u.explicitOrderBy.slice(),i,u.limit,u.limitType,u.startAt,u.endAt)}function us(u,e,i){return new qo(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,i,u.startAt,u.endAt)}function mo(u,e){return Do(Dn(u),Dn(e))&&u.limitType===e.limitType}function oo(u){return`${zi(Dn(u))}|lt:${u.limitType}`}function ds(u){return`Query(target=${function(i){let o=i.path.canonicalString();return null!==i.collectionGroup&&(o+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(o+=`, filters: [${i.filters.map(h=>ji(h)).join(", ")}]`),se(i.limit)||(o+=", limit: "+i.limit),i.orderBy.length>0&&(o+=`, orderBy: [${i.orderBy.map(h=>{return`${(C=h).field.canonicalString()} (${C.dir})`;var C}).join(", ")}]`),i.startAt&&(o+=", startAt: ",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(h=>Wr(h)).join(",")),i.endAt&&(o+=", endAt: ",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(h=>Wr(h)).join(",")),`Target(${o})`}(Dn(u))}; limitType=${u.limitType})`}function Fo(u,e){return e.isFoundDocument()&&function(o,h){const y=h.key.path;return null!==o.collectionGroup?h.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(y):zt.isDocumentKey(o.path)?o.path.isEqual(y):o.path.isImmediateParentOf(y)}(u,e)&&function(o,h){for(const y of Ge(o))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(u,e)&&function(o,h){for(const y of o.filters)if(!y.matches(h))return!1;return!0}(u,e)&&(h=e,!((o=u).startAt&&!function(C,P,V){const Y=Un(C,P,V);return C.inclusive?Y<=0:Y<0}(o.startAt,Ge(o),h)||o.endAt&&!function(C,P,V){const Y=Un(C,P,V);return C.inclusive?Y>=0:Y>0}(o.endAt,Ge(o),h)));var o,h}function Nl(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Ms(u){return(e,i)=>{let o=!1;for(const h of Ge(u)){const y=aa(h,e,i);if(0!==y)return y;o=o||h.field.isKeyField()}return 0}}function aa(u,e,i){const o=u.field.isKeyField()?zt.comparator(e.key,i.key):function(y,C,P){const V=C.data.field(y),Y=P.data.field(y);return null!==V&&null!==Y?os(V,Y):Ft()}(u.field,e,i);switch(u.dir){case"asc":return o;case"desc":return-1*o;default:return Ft()}}class Yi{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0!==o)for(const[h,y]of o)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,i){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,i]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,i]);h.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[i]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ri(this.inner,(i,o)=>{for(const[h,y]of o)e(h,y)})}isEmpty(){return is(this.inner)}size(){return this.innerSize}}const wc=new _e(zt.comparator);function ns(){return wc}const Ka=new _e(zt.comparator);function ao(...u){let e=Ka;for(const i of u)e=e.insert(i.key,i);return e}function tn(u){let e=Ka;return u.forEach((i,o)=>e=e.insert(i,o.overlayedDocument)),e}function ys(){return ca()}function Ta(){return ca()}function ca(){return new Yi(u=>u.toString(),(u,e)=>u.isEqual(e))}const So=new _e(zt.comparator),qa=new Ie(zt.comparator);function xr(...u){let e=qa;for(const i of u)e=e.add(i);return e}const co=new Ie(nn);function lo(){return co}function rr(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ge(e)?"-0":e}}function la(u){return{integerValue:""+u}}function Au(u,e){return lt(e)?la(e):rr(u,e)}class el{constructor(){this._=void 0}}function hd(u,e,i){return u instanceof Ac?function(h,y){const C={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&Ss(y)&&(y=ro(y)),y&&(C.fields.__previous_value__=y),{mapValue:C}}(i,e):u instanceof Yo?Oa(u,e):u instanceof Na?Dc(u,e):function(h,y){const C=Du(h,y),P=Qa(C)+Qa(h.Pe);return es(C)&&es(h.Pe)?la(P):rr(h.serializer,P)}(u,e)}function Ya(u,e,i){return u instanceof Yo?Oa(u,e):u instanceof Na?Dc(u,e):i}function Du(u,e){return u instanceof Xa?es(o=e)||(y=o)&&"doubleValue"in y?e:{integerValue:0}:null;var o,y}class Ac extends el{}class Yo extends el{constructor(e){super(),this.elements=e}}function Oa(u,e){const i=kl(e);for(const o of u.elements)i.some(h=>ms(h,o))||i.push(o);return{arrayValue:{values:i}}}class Na extends el{constructor(e){super(),this.elements=e}}function Dc(u,e){let i=kl(e);for(const o of u.elements)i=i.filter(h=>!ms(h,o));return{arrayValue:{values:i}}}class Xa extends el{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function Qa(u){return ui(u.integerValue||u.doubleValue)}function kl(u){return as(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class M{constructor(e,i){this.field=e,this.transform=i}}class B{constructor(e,i){this.version=e,this.transformResults=i}}class Q{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Q}static exists(e){return new Q(void 0,e)}static updateTime(e){return new Q(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Me(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class xt{}function $t(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new vs(u.key,Q.none()):new Pr(u.key,u.data,Q.none());{const i=u.data,o=Fe.empty();let h=new Ie(lr.comparator);for(let y of e.fields)if(!h.has(y)){let C=i.field(y);null===C&&y.length>1&&(y=y.popLast(),C=i.field(y)),null===C?o.delete(y):o.set(y,C),h=h.add(y)}return new yi(u.key,o,new er(h.toArray()),Q.none())}}function tr(u,e,i){u instanceof Pr?function(h,y,C){const P=h.value.clone(),V=Li(h.fieldTransforms,y,C.transformResults);P.setAll(V),y.convertToFoundDocument(C.version,P).setHasCommittedMutations()}(u,e,i):u instanceof yi?function(h,y,C){if(!Me(h.precondition,y))return void y.convertToUnknownDocument(C.version);const P=Li(h.fieldTransforms,y,C.transformResults),V=y.data;V.setAll(Oi(h)),V.setAll(P),y.convertToFoundDocument(C.version,V).setHasCommittedMutations()}(u,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function ni(u,e,i,o){return u instanceof Pr?function(y,C,P,V){if(!Me(y.precondition,C))return P;const Y=y.value.clone(),ce=_o(y.fieldTransforms,V,C);return Y.setAll(ce),C.convertToFoundDocument(C.version,Y).setHasLocalMutations(),null}(u,e,i,o):u instanceof yi?function(y,C,P,V){if(!Me(y.precondition,C))return P;const Y=_o(y.fieldTransforms,V,C),ce=C.data;return ce.setAll(Oi(y)),ce.setAll(Y),C.convertToFoundDocument(C.version,ce).setHasLocalMutations(),null===P?null:P.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(Ee=>Ee.field))}(u,e,i,o):(P=i,Me(u.precondition,C=e)?(C.convertToNoDocument(C.version).setHasLocalMutations(),null):P);var C,P}function Ti(u,e){let i=null;for(const o of u.fieldTransforms){const h=e.data.field(o.field),y=Du(o.transform,h||null);null!=y&&(null===i&&(i=Fe.empty()),i.set(o.field,y))}return i||null}function pi(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(o=u.fieldTransforms)&&void 0===h||o&&h&&ir(o,h,(y,C)=>function re(u,e){return u.field.isEqual(e.field)&&(h=e.transform,(o=u.transform)instanceof Yo&&h instanceof Yo||o instanceof Na&&h instanceof Na?ir(o.elements,h.elements,ms):o instanceof Xa&&h instanceof Xa?ms(o.Pe,h.Pe):o instanceof Ac&&h instanceof Ac);var o,h}(y,C))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var o,h}class Pr extends xt{constructor(e,i,o,h=[]){super(),this.key=e,this.value=i,this.precondition=o,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class yi extends xt{constructor(e,i,o,h,y=[]){super(),this.key=e,this.data=i,this.fieldMask=o,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Oi(u){const e=new Map;return u.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=u.data.field(i);e.set(i,o)}}),e}function Li(u,e,i){const o=new Map;Yt(u.length===i.length);for(let h=0;h<i.length;h++){const y=u[h],C=y.transform,P=e.data.field(y.field);o.set(y.field,Ya(C,P,i[h]))}return o}function _o(u,e,i){const o=new Map;for(const h of u){const y=h.transform,C=i.data.field(h.field);o.set(h.field,hd(y,C,e))}return o}class vs extends xt{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ua extends xt{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Js{constructor(e,i,o,h){this.batchId=e,this.localWriteTime=i,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,i){const o=i.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&tr(y,e,o[h])}}applyToLocalView(e,i){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(i=ni(o,e,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(i=ni(o,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const o=Ta();return this.mutations.forEach(h=>{const y=e.get(h.key),C=y.overlayedDocument;let P=this.applyToLocalView(C,y.mutatedFields);P=i.has(h.key)?null:P;const V=$t(C,P);null!==V&&o.set(h.key,V),C.isValidDocument()||C.convertToNoDocument(Ht.min())}),o}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xr())}isEqual(e){return this.batchId===e.batchId&&ir(this.mutations,e.mutations,(i,o)=>pi(i,o))&&ir(this.baseMutations,e.baseMutations,(i,o)=>pi(i,o))}}class Us{constructor(e,i,o,h){this.batch=e,this.commitVersion=i,this.mutationResults=o,this.docVersions=h}static from(e,i,o){Yt(e.mutations.length===o.length);let h=So;const y=e.mutations;for(let C=0;C<y.length;C++)h=h.insert(y[C].key,o[C].version);return new Us(e,i,o,h)}}class Es{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mh{constructor(e,i){this.count=e,this.unchangedNames=i}}var Fr,Nr;function Xo(u){switch(u){default:return Ft();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function ws(u){if(void 0===u)return on("GRPC error has no .code"),je.UNKNOWN;switch(u){case Fr.OK:return je.OK;case Fr.CANCELLED:return je.CANCELLED;case Fr.UNKNOWN:return je.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return je.INTERNAL;case Fr.UNAVAILABLE:return je.UNAVAILABLE;case Fr.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Fr.NOT_FOUND:return je.NOT_FOUND;case Fr.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Fr.ABORTED:return je.ABORTED;case Fr.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Fr.DATA_LOSS:return je.DATA_LOSS;default:return Ft()}}(Nr=Fr||(Fr={}))[Nr.OK=0]="OK",Nr[Nr.CANCELLED=1]="CANCELLED",Nr[Nr.UNKNOWN=2]="UNKNOWN",Nr[Nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nr[Nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nr[Nr.NOT_FOUND=5]="NOT_FOUND",Nr[Nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nr[Nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nr[Nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nr[Nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nr[Nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nr[Nr.ABORTED=10]="ABORTED",Nr[Nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nr[Nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nr[Nr.INTERNAL=13]="INTERNAL",Nr[Nr.UNAVAILABLE=14]="UNAVAILABLE",Nr[Nr.DATA_LOSS=15]="DATA_LOSS";function fd(){return new TextEncoder}const Ja=new Ne([4294967295,4294967295],0);function Wi(u){const e=fd().encode(u),i=new ke;return i.update(e),new Uint8Array(i.digest())}function Rh(u){const e=new DataView(u.buffer),i=e.getUint32(0,!0),o=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Ne([i,o],0),new Ne([h,y],0)]}class Su{constructor(e,i,o){if(this.bitmap=e,this.padding=i,this.hashCount=o,i<0||i>=8)throw new da(`Invalid padding: ${i}`);if(o<0)throw new da(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new da(`Invalid hash count: ${o}`);if(0===e.length&&0!==i)throw new da(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Ne.fromNumber(this.Ie)}Ee(e,i,o){let h=e.add(i.multiply(Ne.fromNumber(o)));return 1===h.compare(Ja)&&(h=new Ne([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const i=Wi(e),[o,h]=Rh(i);for(let y=0;y<this.hashCount;y++){const C=this.Ee(o,h,y);if(!this.de(C))return!1}return!0}static create(e,i,o){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),C=new Su(y,h,i);return o.forEach(P=>C.insert(P)),C}insert(e){if(0===this.Ie)return;const i=Wi(e),[o,h]=Rh(i);for(let y=0;y<this.hashCount;y++){const C=this.Ee(o,h,y);this.Ae(C)}}Ae(e){const i=Math.floor(e/8);this.bitmap[i]|=1<<e%8}}class da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rs{constructor(e,i,o,h,y){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,i,o){const h=new Map;return h.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,i,o)),new Rs(Ht.min(),h,new _e(nn),ns(),xr())}}class ka{constructor(e,i,o,h,y){this.resumeToken=e,this.current=i,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,i,o){return new ka(o,i,xr(),xr(),xr())}}class xc{constructor(e,i,o,h){this.Re=e,this.removedTargetIds=i,this.key=o,this.Ve=h}}class tl{constructor(e,i){this.targetId=e,this.me=i}}class pd{constructor(e,i,o=li.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=i,this.resumeToken=o,this.cause=h}}class gd{constructor(){this.fe=0,this.ge=Fl(),this.pe=li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xr(),i=xr(),o=xr();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:i=i.add(h);break;case 1:o=o.add(h);break;default:Ft()}}),new ka(this.pe,this.ye,e,i,o)}Ce(){this.we=!1,this.ge=Fl()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xu{constructor(e){this.Le=e,this.Be=new Map,this.ke=ns(),this.qe=wr(),this.Qe=new _e(nn)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{const o=this.Ge(i);switch(e.state){case 0:this.ze(i)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),o.De(e.resumeToken));break;default:Ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((o,h)=>{this.ze(h)&&i(h)})}He(e){const i=e.targetId,o=e.me.count,h=this.Je(i);if(h){const y=h.target;if(oa(y))if(0===o){const C=new zt(y.path);this.Ue(i,C,bt.newNoDocument(C,Ht.min()))}else Yt(1===o);else{const C=this.Ye(i);if(C!==o){const P=this.Ze(e),V=P?this.Xe(P,e,C):1;0!==V&&(this.je(i),this.Qe=this.Qe.insert(i,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:o="",padding:h=0},hashCount:y=0}=i;let C,P;try{C=ks(o).toUint8Array()}catch(V){if(V instanceof $i)return bn("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{P=new Su(C,h,y)}catch(V){return bn(V instanceof da?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===P.Ie?null:P}Xe(e,i,o){return i.me.count===o-this.nt(e,i.targetId)?0:2}nt(e,i){const o=this.Le.getRemoteKeysForTarget(i);let h=0;return o.forEach(y=>{const C=this.Le.tt(),P=`projects/${C.projectId}/databases/${C.database}/documents/${y.path.canonicalString()}`;e.mightContain(P)||(this.Ue(i,y,null),h++)}),h}rt(e){const i=new Map;this.Be.forEach((y,C)=>{const P=this.Je(C);if(P){if(y.current&&oa(P.target)){const V=new zt(P.target.path);null!==this.ke.get(V)||this.it(C,V)||this.Ue(C,V,bt.newNoDocument(V,e))}y.be&&(i.set(C,y.ve()),y.Ce())}});let o=xr();this.qe.forEach((y,C)=>{let P=!0;C.forEachWhile(V=>{const Y=this.Je(V);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(P=!1,!1)}),P&&(o=o.add(y))}),this.ke.forEach((y,C)=>C.setReadTime(e));const h=new Rs(e,i,this.Qe,this.ke,o);return this.ke=ns(),this.qe=wr(),this.Qe=new _e(nn),h}$e(e,i){if(!this.ze(e))return;const o=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,o),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,o){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,i)?h.Fe(i,1):h.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),o&&(this.ke=this.ke.insert(i,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new gd,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Ie(nn),this.qe=this.qe.insert(e,i)),i}ze(e){const i=null!==this.Je(e);return i||Se("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new gd),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function wr(){return new _e(zt.comparator)}function Fl(){return new _e(zt.comparator)}const Ll={asc:"ASCENDING",desc:"DESCENDING"},ha={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vl={and:"AND",or:"OR"};class Oh{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pu(u,e){return u.useProto3Json||se(e)?e:{value:e}}function fa(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function md(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function Mu(u,e){return fa(u,e.toTimestamp())}function hs(u){return Yt(!!u),Ht.fromTimestamp(function(i){const o=Ds(i);return new Qt(o.seconds,o.nanos)}(u))}function nl(u,e){return Za(u,e).canonicalString()}function Za(u,e){const i=(h=u,new gn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?i:i.child(e)}function en(u){const e=gn.fromString(u);return Yt(A(e)),e}function Gr(u,e){return nl(u.databaseId,e.path)}function uo(u,e){const i=en(e);if(i.get(1)!==u.databaseId.projectId)throw new ot(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+u.databaseId.projectId);if(i.get(3)!==u.databaseId.database)throw new ot(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+u.databaseId.database);return new zt(Pc(i))}function bs(u,e){return nl(u.databaseId,e)}function zs(u){const e=en(u);return 4===e.length?gn.emptyPath():Pc(e)}function rl(u){return new gn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Pc(u){return Yt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Vo(u,e,i){return{name:Gr(u,e),fields:i.value.mapValue.fields}}function il(u,e,i){const o=uo(u,e.name),h=hs(e.updateTime),y=e.createTime?hs(e.createTime):Ht.min(),C=new Fe({mapValue:{fields:e.fields}}),P=bt.newFoundDocument(o,h,y,C);return i&&P.setHasCommittedMutations(),i?P.setHasCommittedMutations():P}function tc(u,e){let i;if(e instanceof Pr)i={update:Vo(u,e.key,e.value)};else if(e instanceof vs)i={delete:Gr(u,e.key)};else if(e instanceof yi)i={update:Vo(u,e.key,e.data),updateMask:N(e.fieldMask)};else{if(!(e instanceof ua))return Ft();i={verify:Gr(u,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(o=>function(y,C){const P=C.transform;if(P instanceof Ac)return{fieldPath:C.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Yo)return{fieldPath:C.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Na)return{fieldPath:C.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Xa)return{fieldPath:C.field.canonicalString(),increment:P.Pe};throw Ft()}(0,o))),e.precondition.isNone||(i.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:Mu(u,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Ft()),i;var y}function nc(u,e){const i=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Q.updateTime(hs(y.updateTime)):void 0!==y.exists?Q.exists(y.exists):Q.none():Q.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(C,P){let V=null;"setToServerValue"in P?(Yt("REQUEST_TIME"===P.setToServerValue),V=new Ac):"appendMissingElements"in P?V=new Yo(P.appendMissingElements.values||[]):"removeAllFromArray"in P?V=new Na(P.removeAllFromArray.values||[]):"increment"in P?V=new Xa(C,P.increment):Ft();const Y=lr.fromServerFormat(P.fieldPath);return new M(Y,V)}(u,h)):[];var y;if(e.update){const h=uo(u,e.update.name),y=new Fe({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new er((e.updateMask.fieldPaths||[]).map(ce=>lr.fromServerFormat(ce)));return new yi(h,y,C,i,o)}return new Pr(h,y,i,o)}if(e.delete){const h=uo(u,e.delete);return new vs(h,i)}if(e.verify){const h=uo(u,e.verify);return new ua(h,i)}return Ft()}function yo(u,e){return{documents:[bs(u,e.path)]}}function Fa(u,e){const i={structuredQuery:{}},o=e.path;let h;null!==e.collectionGroup?(h=o,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=o.popLast(),i.structuredQuery.from=[{collectionId:o.lastSegment()}]),i.parent=bs(u,h);const y=function(Y){if(0!==Y.length)return S(fr.create(Y,"and"))}(e.filters);y&&(i.structuredQuery.where=y);const C=function(Y){if(0!==Y.length)return Y.map(ce=>{return{field:La((We=ce).field),direction:Jf(We.dir)};var We})}(e.orderBy);C&&(i.structuredQuery.orderBy=C);const P=Pu(u,e.limit);return null!==P&&(i.structuredQuery.limit=P),e.startAt&&(i.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(i.structuredQuery.endAt=function(Y){return{before:!Y.inclusive,values:Y.position}}(e.endAt)),{_t:i,parent:h};var Y}function xo(u){let e=zs(u.parent);const i=u.structuredQuery,o=i.from?i.from.length:0;let h=null;if(o>0){Yt(1===o);const ce=i.from[0];ce.allDescendants?h=ce.collectionId:e=e.child(ce.collectionId)}let y=[];i.where&&(y=function(Ee){const We=jl(Ee);return We instanceof fr&&Si(We)?We.getFilters():[We]}(i.where));let C=[];i.orderBy&&(C=i.orderBy.map(We=>{return new hr(Uo((qt=We).field),function(rn){switch(rn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qt.direction));var qt}));let P=null;i.limit&&(P=function(Ee){let We;return We="object"==typeof Ee?Ee.value:Ee,se(We)?null:We}(i.limit));let V=null;var Ee;i.startAt&&(V=new cn((Ee=i.startAt).values||[],!!Ee.before));let Y=null;return i.endAt&&(Y=function(Ee){return new cn(Ee.values||[],!Ee.before)}(i.endAt)),q(e,h,C,y,P,"F",V,Y)}function jl(u){return void 0!==u.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const o=Uo(i.unaryFilter.field);return Qn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const h=Uo(i.unaryFilter.field);return Qn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Uo(i.unaryFilter.field);return Qn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const C=Uo(i.unaryFilter.field);return Qn.create(C,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(u):void 0!==u.fieldFilter?Qn.create(Uo((i=u).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==u.compositeFilter?function(i){return fr.create(i.compositeFilter.filters.map(o=>jl(o)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Ft()}}(i.compositeFilter.op))}(u):Ft();var i}function Jf(u){return Ll[u]}function Mc(u){return ha[u]}function Bl(u){return Vl[u]}function La(u){return{fieldPath:u.canonicalString()}}function Uo(u){return lr.fromServerFormat(u.fieldPath)}function S(u){return u instanceof Qn?function(i){if("=="===i.op){if(Qs(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(Bi(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Qs(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(Bi(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:Mc(i.op),value:i.value}}}(u):u instanceof fr?function(i){const o=i.getFilters().map(h=>S(h));return 1===o.length?o[0]:{compositeFilter:{op:Bl(i.op),filters:o}}}(u):Ft()}function N(u){const e=[];return u.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function A(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class k{constructor(e,i,o,h,y=Ht.min(),C=Ht.min(),P=li.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=i,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=P,this.expectedCount=V}withSequenceNumber(e){return new k(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new k(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new k(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new k(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Oe(u,e){const i=e.key,o={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:wt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Gr(y=u.ct,(C=e).key),fields:C.data.value.mapValue.fields,updateTime:fa(y,C.version.toTimestamp()),createTime:fa(y,C.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:i.path.toArray(),readTime:yt(e.version)};else{if(!e.isUnknownDocument())return Ft();o.unknownDocument={path:i.path.toArray(),version:yt(e.version)}}var y,C;return o}function wt(u){const e=u.toTimestamp();return[e.seconds,e.nanoseconds]}function yt(u){const e=u.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mn(u){const e=new Qt(u.seconds,u.nanoseconds);return Ht.fromTimestamp(e)}function Ar(u,e){const i=(e.baseMutations||[]).map(y=>nc(u.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const o=e.mutations.map(y=>nc(u.ct,y)),h=Qt.fromMillis(e.localWriteTimeMs);return new Js(e.batchId,h,i,o)}function Or(u){const e=Mn(u.readTime),i=void 0!==u.lastLimboFreeSnapshotVersion?Mn(u.lastLimboFreeSnapshotVersion):Ht.min();let o;return o=void 0!==u.query.documents?(Yt(1===(y=u.query).documents.length),Dn(Z(zs(y.documents[0])))):function(y){return Dn(xo(y))}(u.query),new k(o,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,e,i,li.fromBase64String(u.resumeToken));var y}function Kr(u,e){const i=yt(e.snapshotVersion),o=yt(e.lastLimboFreeSnapshotVersion);let h;h=oa(e.target)?yo(u.ct,e.target):Fa(u.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zi(e.target),readTime:i,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function Zr(u){const e=xo({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?us(e,e.limit,"L"):e}function ic(u,e){return new Es(e.largestBatchId,nc(u.ct,e.overlayMutation))}function Rc(u,e){const i=e.path.lastSegment();return[u,Mt(e.path.popLast()),i]}function ol(u,e,i,o){return{indexId:u,uid:e,sequenceNumber:i,readTime:yt(o.readTime),documentKey:Mt(o.documentKey.path),largestBatchId:o.largestBatchId}}class Oc{getBundleMetadata(e,i){return Ru(e).get(i).next(o=>{if(o)return{id:(y=o).bundleId,createTime:Mn(y.createTime),version:y.version};var y})}saveBundleMetadata(e,i){return Ru(e).put({bundleId:(h=i).id,createTime:yt(hs(h.createTime)),version:h.version});var h}getNamedQuery(e,i){return sc(e).get(i).next(o=>{if(o)return{name:(y=o).name,query:Zr(y.bundledQuery),readTime:Mn(y.readTime)};var y})}saveNamedQuery(e,i){return sc(e).put({name:(h=i).name,readTime:yt(hs(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Ru(u){return Ui(u,"bundles")}function sc(u){return Ui(u,"namedQueries")}class oc{constructor(e,i){this.serializer=e,this.userId=i}static lt(e,i){return new oc(e,i.uid||"")}getOverlay(e,i){return Po(e).get(Rc(this.userId,i)).next(o=>o?ic(this.serializer,o):null)}getOverlays(e,i){const o=ys();return nt.forEach(i,h=>this.getOverlay(e,h).next(y=>{null!==y&&o.set(h,y)})).next(()=>o)}saveOverlays(e,i,o){const h=[];return o.forEach((y,C)=>{const P=new Es(i,C);h.push(this.ht(e,P))}),nt.waitFor(h)}removeOverlaysForBatchId(e,i,o){const h=new Set;i.forEach(C=>h.add(Mt(C.getCollectionPath())));const y=[];return h.forEach(C=>{const P=IDBKeyRange.bound([this.userId,C,o],[this.userId,C,o+1],!1,!0);y.push(Po(e).j("collectionPathOverlayIndex",P))}),nt.waitFor(y)}getOverlaysForCollection(e,i,o){const h=ys(),y=Mt(i),C=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Po(e).U("collectionPathOverlayIndex",C).next(P=>{for(const V of P){const Y=ic(this.serializer,V);h.set(Y.getKey(),Y)}return h})}getOverlaysForCollectionGroup(e,i,o,h){const y=ys();let C;const P=IDBKeyRange.bound([this.userId,i,o],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Po(e).J({index:"collectionGroupOverlayIndex",range:P},(V,Y,ce)=>{const Ee=ic(this.serializer,Y);y.size()<h||Ee.largestBatchId===C?(y.set(Ee.getKey(),Ee),C=Ee.largestBatchId):ce.done()}).next(()=>y)}ht(e,i){return Po(e).put(function(h,y,C){const[P,V,Y]=Rc(y,C.mutation.key);return{userId:y,collectionPath:V,documentId:Y,collectionGroup:C.mutation.key.getCollectionGroup(),largestBatchId:C.largestBatchId,overlayMutation:tc(h.ct,C.mutation)}}(this.serializer,this.userId,i))}}function Po(u){return Ui(u,"documentOverlays")}class Nh{Pt(e){return Ui(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(i=>{const o=i?.value;return o?li.fromUint8Array(o):li.EMPTY_BYTE_STRING})}setSessionToken(e,i){return this.Pt(e).put({name:"sessionToken",value:i.toUint8Array()})}}class Va{constructor(){}It(e,i){this.Tt(e,i),i.Et()}Tt(e,i){if("nullValue"in e)this.dt(i,5);else if("booleanValue"in e)this.dt(i,10),i.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(i,15),i.At(ui(e.integerValue));else if("doubleValue"in e){const o=ui(e.doubleValue);isNaN(o)?this.dt(i,13):(this.dt(i,15),ge(o)?i.At(0):i.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(i,20),"string"==typeof o&&(o=Ds(o)),i.Rt(`${o.seconds||""}`),i.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,i),this.ft(i);else if("bytesValue"in e)this.dt(i,30),i.gt(ks(e.bytesValue)),this.ft(i);else if("referenceValue"in e)this.yt(e.referenceValue,i);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(i,45),i.At(o.latitude||0),i.At(o.longitude||0)}else"mapValue"in e?dr(e)?this.dt(i,Number.MAX_SAFE_INTEGER):_s(e)?this.wt(e.mapValue,i):(this.St(e.mapValue,i),this.ft(i)):"arrayValue"in e?(this.bt(e.arrayValue,i),this.ft(i)):Ft()}Vt(e,i){this.dt(i,25),this.Dt(e,i)}Dt(e,i){i.Rt(e)}St(e,i){const o=e.fields||{};this.dt(i,55);for(const h of Object.keys(o))this.Vt(h,i),this.Tt(o[h],i)}wt(e,i){var o,h;const y=e.fields||{};this.dt(i,53);const C="value",P=(null===(h=null===(o=y[C].arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.length)||0;this.dt(i,15),i.At(ui(P)),this.Vt(C,i),this.Tt(y[C],i)}bt(e,i){const o=e.values||[];this.dt(i,50);for(const h of o)this.Tt(h,i)}yt(e,i){this.dt(i,37),zt.fromName(e).path.forEach(o=>{this.dt(i,60),this.Dt(o,i)})}dt(e,i){e.At(i)}ft(e){e.At(2)}}function $l(u){if(0===u)return 8;let e=0;return!(u>>4)&&(e+=4,u<<=4),!(u>>6)&&(e+=2,u<<=2),!(u>>7)&&(e+=1),e}function Ou(u){const e=64-function(o){let h=0;for(let y=0;y<8;++y){const C=$l(255&o[y]);if(h+=C,8!==C)break}return h}(u);return Math.ceil(e/8)}Va.vt=new Va;class Nu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const i=e[Symbol.iterator]();let o=i.next();for(;!o.done;)this.Ft(o.value),o=i.next();this.Mt()}xt(e){const i=e[Symbol.iterator]();let o=i.next();for(;!o.done;)this.Ot(o.value),o=i.next();this.Nt()}Lt(e){for(const i of e){const o=i.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const h=i.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const i of e){const o=i.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const h=i.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const i=this.qt(e),o=Ou(i);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let h=i.length-o;h<i.length;++h)this.buffer[this.position++]=255&i[h]}Kt(e){const i=this.qt(e),o=Ou(i);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let h=i.length-o;h<i.length;++h)this.buffer[this.position++]=~(255&i[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const i=function(y){const C=new DataView(new ArrayBuffer(8));return C.setFloat64(0,y,!1),new Uint8Array(C.buffer)}(e),o=0!=(128&i[0]);i[0]^=o?255:128;for(let h=1;h<i.length;++h)i[h]^=o?255:0;return i}Ft(e){const i=255&e;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(e){const i=255&e;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const i=e+this.position;if(i<=this.buffer.length)return;let o=2*this.buffer.length;o<i&&(o=i);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class ku{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class _d{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Fu{constructor(){this.jt=new Nu,this.Ht=new ku(this.jt),this.Jt=new _d(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class jo{constructor(e,i,o,h){this.indexId=e,this.documentKey=i,this.arrayValue=o,this.directionalValue=h}Zt(){const e=this.directionalValue.length,i=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(i);return o.set(this.directionalValue,0),i!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new jo(this.indexId,this.documentKey,this.arrayValue,o)}}function pa(u,e){let i=u.indexId-e.indexId;return 0!==i?i:(i=Nc(u.arrayValue,e.arrayValue),0!==i?i:(i=Nc(u.directionalValue,e.directionalValue),0!==i?i:zt.comparator(u.documentKey,e.documentKey)))}function Nc(u,e){for(let i=0;i<u.length&&i<e.length;++i){const o=u[i]-e[i];if(0!==o)return o}return u.length-e.length}class kh{constructor(e){this.Xt=new Ie((i,o)=>lr.comparator(i.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const i of e.filters){const o=i;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(e){if(Yt(e.collectionGroup===this.collectionId),this.nn)return!1;const i=Zn(e);if(void 0!==i&&!this.sn(i))return!1;const o=Nn(e);let h=new Set,y=0,C=0;for(;y<o.length&&this.sn(o[y]);++y)h=h.add(o[y].fieldPath.canonicalString());if(y===o.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!h.has(P.field.canonicalString())){const V=o[y];if(!this.on(P,V)||!this._n(this.en[C++],V))return!1}++y}for(;y<o.length;++y)if(C>=this.en.length||!this._n(this.en[C++],o[y]))return!1;return!0}an(){if(this.nn)return null;let e=new Ie(lr.comparator);const i=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)i.push(new kr(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),i.push(new kr(o.field,0))}for(const o of this.en)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),i.push(new kr(o.field,"asc"===o.dir?0:1)));return new xn(xn.UNKNOWN_ID,this.collectionId,i,nr.empty())}sn(e){for(const i of this.tn)if(this.on(i,e))return!0;return!1}on(e,i){return!(void 0===e||!e.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,i){return!!e.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===e.dir||1===i.kind&&"desc"===e.dir)}}function yd(u){var e,i;if(Yt(u instanceof Qn||u instanceof fr),u instanceof Qn){if(u instanceof sa){const h=(null===(i=null===(e=u.value.arrayValue)||void 0===e?void 0:e.values)||void 0===i?void 0:i.map(y=>Qn.create(u.field,"==",y)))||[];return fr.create(h,"or")}return u}const o=u.filters.map(h=>yd(h));return fr.create(o,u.op)}function ac(u){if(0===u.getFilters().length)return[];const e=Lh(yd(u));return Yt(Fh(e)),vd(e)||Lu(e)?[e]:e.getFilters()}function vd(u){return u instanceof Qn}function Lu(u){return u instanceof fr&&Si(u)}function Fh(u){return vd(u)||Lu(u)||function(i){if(i instanceof fr&&fi(i)){for(const o of i.getFilters())if(!vd(o)&&!Lu(o))return!1;return!0}return!1}(u)}function Lh(u){if(Yt(u instanceof Qn||u instanceof fr),u instanceof Qn)return u;if(1===u.filters.length)return Lh(u.filters[0]);const e=u.filters.map(o=>Lh(o));let i=fr.create(e,u.op);return i=Uu(i),Fh(i)?i:(Yt(i instanceof fr),Yt(wi(i)),Yt(i.filters.length>1),i.filters.reduce((o,h)=>Vu(o,h)))}function Vu(u,e){let i;return Yt(u instanceof Qn||u instanceof fr),Yt(e instanceof Qn||e instanceof fr),i=u instanceof Qn?e instanceof Qn?fr.create([u,e],"and"):kc(u,e):e instanceof Qn?kc(e,u):function(h,y){if(Yt(h.filters.length>0&&y.filters.length>0),wi(h)&&wi(y))return Fi(h,y.getFilters());const C=fi(h)?h:y,P=fi(h)?y:h,V=C.filters.map(Y=>Vu(Y,P));return fr.create(V,"or")}(u,e),Uu(i)}function kc(u,e){if(wi(e))return Fi(e,u.getFilters());{const i=e.filters.map(o=>Vu(u,o));return fr.create(i,"or")}}function Uu(u){if(Yt(u instanceof Qn||u instanceof fr),u instanceof Qn)return u;const e=u.getFilters();if(1===e.length)return Uu(e[0]);if(ts(u))return u;const i=e.map(h=>Uu(h)),o=[];return i.forEach(h=>{h instanceof Qn?o.push(h):h instanceof fr&&(h.op===u.op?o.push(...h.filters):o.push(h))}),1===o.length?o[0]:fr.create(o,u.op)}class al{constructor(){this.un=new Ed}addToCollectionParentIndex(e,i){return this.un.add(i),nt.resolve()}getCollectionParents(e,i){return nt.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return nt.resolve()}deleteFieldIndex(e,i){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,i){return nt.resolve()}getDocumentsMatchingTarget(e,i){return nt.resolve(null)}getIndexType(e,i){return nt.resolve(0)}getFieldIndexes(e,i){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,i){return nt.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,i){return nt.resolve(Cn.min())}updateCollectionGroup(e,i,o){return nt.resolve()}updateIndexEntries(e,i){return nt.resolve()}}class Ed{constructor(){this.index={}}add(e){const i=e.lastSegment(),o=e.popLast(),h=this.index[i]||new Ie(gn.comparator),y=!h.has(o);return this.index[i]=h.add(o),y}has(e){const i=e.lastSegment(),o=e.popLast(),h=this.index[i];return h&&h.has(o)}getEntries(e){return(this.index[e]||new Ie(gn.comparator)).toArray()}}const ga=new Uint8Array(0);class Zf{constructor(e,i){this.databaseId=i,this.cn=new Ed,this.ln=new Yi(o=>zi(o),(o,h)=>Do(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.cn.has(i)){const o=i.lastSegment(),h=i.popLast();e.addOnCommittedListener(()=>{this.cn.add(i)});const y={collectionId:o,parent:Mt(h)};return Vh(e).put(y)}return nt.resolve()}getCollectionParents(e,i){const o=[],h=IDBKeyRange.bound([i,""],[$n(i),""],!1,!0);return Vh(e).U(h).next(y=>{for(const C of y){if(C.collectionId!==i)break;o.push(In(C.parent))}return o})}addFieldIndex(e,i){const o=ju(e),h={indexId:(P=i).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(V=>[V.fieldPath.canonicalString(),V.kind])};var P;delete h.indexId;const y=o.add(h);if(i.indexState){const C=vo(e);return y.next(P=>{C.put(ol(P,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return y.next()}deleteFieldIndex(e,i){const o=ju(e),h=vo(e),y=Ia(e);return o.delete(i.indexId).next(()=>h.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const i=ju(e),o=Ia(e),h=vo(e);return i.j().next(()=>o.j()).next(()=>h.j())}createTargetIndexes(e,i){return nt.forEach(this.hn(i),o=>this.getIndexType(e,o).next(h=>{if(0===h||1===h){const y=new kh(o).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,i){const o=Ia(e);let h=!0;const y=new Map;return nt.forEach(this.hn(i),C=>this.Pn(e,C).next(P=>{h&&(h=!!P),y.set(C,P)})).next(()=>{if(h){let C=xr();const P=[];return nt.forEach(y,(V,Y)=>{var pr;Se("IndexedDbIndexManager",`Using index ${pr=V,`id=${pr.indexId}|cg=${pr.collectionGroup}|f=${pr.fields.map(Lr=>`${Lr.fieldPath}:${Lr.kind}`).join(",")}`} to execute ${zi(i)}`);const ce=function(pr,Lr){const Vi=Zn(Lr);if(void 0===Vi)return null;for(const oi of ko(pr,Vi.fieldPath))switch(oi.op){case"array-contains-any":return oi.value.arrayValue.values||[];case"array-contains":return[oi.value]}return null}(Y,V),Ee=function(pr,Lr){const Vi=new Map;for(const oi of Nn(Lr))for(const ut of ko(pr,oi.fieldPath))switch(ut.op){case"==":case"in":Vi.set(oi.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return Vi.set(oi.fieldPath.canonicalString(),ut.value),Array.from(Vi.values())}return null}(Y,V),We=function(pr,Lr){const Vi=[];let oi=!0;for(const ut of Nn(Lr)){const Ve=0===ut.kind?xi(pr,ut.fieldPath,pr.startAt):Ko(pr,ut.fieldPath,pr.startAt);Vi.push(Ve.value),oi&&(oi=Ve.inclusive)}return new cn(Vi,oi)}(Y,V),Ct=function(pr,Lr){const Vi=[];let oi=!0;for(const ut of Nn(Lr)){const Ve=0===ut.kind?Ko(pr,ut.fieldPath,pr.endAt):xi(pr,ut.fieldPath,pr.endAt);Vi.push(Ve.value),oi&&(oi=Ve.inclusive)}return new cn(Vi,oi)}(Y,V),qt=this.In(V,Y,We),En=this.In(V,Y,Ct),rn=this.Tn(V,Y,Ee),ar=this.En(V.indexId,ce,qt,We.inclusive,En,Ct.inclusive,rn);return nt.forEach(ar,vr=>o.G(vr,i.limit).next(pr=>{pr.forEach(Lr=>{const Vi=zt.fromSegments(Lr.documentKey);C.has(Vi)||(C=C.add(Vi),P.push(Vi))})}))}).next(()=>P)}return nt.resolve(null)})}hn(e){let i=this.ln.get(e);return i||(i=0===e.filters.length?[e]:ac(fr.create(e.filters,"and")).map(o=>ls(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,i),i)}En(e,i,o,h,y,C,P){const V=(null!=i?i.length:1)*Math.max(o.length,y.length),Y=V/(null!=i?i.length:1),ce=[];for(let Ee=0;Ee<V;++Ee){const We=i?this.dn(i[Ee/Y]):ga,Ct=this.An(e,We,o[Ee%Y],h),qt=this.Rn(e,We,y[Ee%Y],C),En=P.map(rn=>this.An(e,We,rn,!0));ce.push(...this.createRange(Ct,qt,En))}return ce}An(e,i,o,h){const y=new jo(e,zt.empty(),i,o);return h?y:y.Zt()}Rn(e,i,o,h){const y=new jo(e,zt.empty(),i,o);return h?y.Zt():y}Pn(e,i){const o=new kh(i),h=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let C=null;for(const P of y)o.rn(P)&&(!C||P.fields.length>C.fields.length)&&(C=P);return C})}getIndexType(e,i){let o=2;const h=this.hn(i);return nt.forEach(h,y=>this.Pn(e,y).next(C=>{C?0!==o&&C.fields.length<function(V){let Y=new Ie(lr.comparator),ce=!1;for(const Ee of V.filters)for(const We of Ee.getFlattenedFilters())We.field.isKeyField()||("array-contains"===We.op||"array-contains-any"===We.op?ce=!0:Y=Y.add(We.field));for(const Ee of V.orderBy)Ee.field.isKeyField()||(Y=Y.add(Ee.field));return Y.size+(ce?1:0)}(y)&&(o=1):o=0})).next(()=>null!==i.limit&&h.length>1&&2===o?1:o)}Vn(e,i){const o=new Fu;for(const h of Nn(e)){const y=i.data.field(h.fieldPath);if(null==y)return null;const C=o.Yt(h.kind);Va.vt.It(y,C)}return o.zt()}dn(e){const i=new Fu;return Va.vt.It(e,i.Yt(0)),i.zt()}mn(e,i){const o=new Fu;return Va.vt.It(Dr(this.databaseId,i),o.Yt(function(y){const C=Nn(y);return 0===C.length?0:C[C.length-1].kind}(e))),o.zt()}Tn(e,i,o){if(null===o)return[];let h=[];h.push(new Fu);let y=0;for(const C of Nn(e)){const P=o[y++];for(const V of h)if(this.fn(i,C.fieldPath)&&as(P))h=this.gn(h,C,P);else{const Y=V.Yt(C.kind);Va.vt.It(P,Y)}}return this.pn(h)}In(e,i,o){return this.Tn(e,i,o.position)}pn(e){const i=[];for(let o=0;o<e.length;++o)i[o]=e[o].zt();return i}gn(e,i,o){const h=[...e],y=[];for(const C of o.arrayValue.values||[])for(const P of h){const V=new Fu;V.seed(P.zt()),Va.vt.It(C,V.Yt(i.kind)),y.push(V)}return y}fn(e,i){return!!e.filters.find(o=>o instanceof Qn&&o.field.isEqual(i)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,i){const o=ju(e),h=vo(e);return(i?o.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):o.U()).next(y=>{const C=[];return nt.forEach(y,P=>h.get([P.indexId,this.uid]).next(V=>{C.push(function(ce,Ee){const We=Ee?new nr(Ee.sequenceNumber,new Cn(Mn(Ee.readTime),new zt(In(Ee.documentKey)),Ee.largestBatchId)):nr.empty(),Ct=ce.fields.map(([qt,En])=>new kr(lr.fromServerFormat(qt),En));return new xn(ce.indexId,ce.collectionGroup,Ct,We)}(P,V))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((o,h)=>{const y=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:nn(o.collectionGroup,h.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,o){const h=ju(e),y=vo(e);return this.yn(e).next(C=>h.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(P=>nt.forEach(P,V=>y.put(ol(V.indexId,this.uid,C,o)))))}updateIndexEntries(e,i){const o=new Map;return nt.forEach(i,(h,y)=>{const C=o.get(h.collectionGroup);return(C?nt.resolve(C):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(o.set(h.collectionGroup,P),nt.forEach(P,V=>this.wn(e,h,V).next(Y=>{const ce=this.Sn(y,V);return Y.isEqual(ce)?nt.resolve():this.bn(e,y,V,Y,ce)}))))})}Dn(e,i,o,h){return Ia(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(o,i.key),documentKey:i.key.path.toArray()})}vn(e,i,o,h){return Ia(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(o,i.key),i.key.path.toArray()])}wn(e,i,o){const h=Ia(e);let y=new Ie(pa);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,i)])},(C,P)=>{y=y.add(new jo(o.indexId,i,P.arrayValue,P.directionalValue))}).next(()=>y)}Sn(e,i){let o=new Ie(pa);const h=this.Vn(i,e);if(null==h)return o;const y=Zn(i);if(null!=y){const C=e.data.field(y.fieldPath);if(as(C))for(const P of C.arrayValue.values||[])o=o.add(new jo(i.indexId,e.key,this.dn(P),h))}else o=o.add(new jo(i.indexId,e.key,ga,h));return o}bn(e,i,o,h,y){Se("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const C=[];return function(V,Y,ce,Ee,We){const Ct=V.getIterator(),qt=Y.getIterator();let En=$r(Ct),rn=$r(qt);for(;En||rn;){let ar=!1,vr=!1;if(En&&rn){const pr=ce(En,rn);pr<0?vr=!0:pr>0&&(ar=!0)}else null!=En?vr=!0:ar=!0;ar?(Ee(rn),rn=$r(qt)):vr?(We(En),En=$r(Ct)):(En=$r(Ct),rn=$r(qt))}}(h,y,pa,P=>{C.push(this.Dn(e,i,o,P))},P=>{C.push(this.vn(e,i,o,P))}),nt.waitFor(C)}yn(e){let i=1;return vo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,y)=>{y.done(),i=h.sequenceNumber+1}).next(()=>i)}createRange(e,i,o){o=o.sort((C,P)=>pa(C,P)).filter((C,P,V)=>!P||0!==pa(C,V[P-1]));const h=[];h.push(e);for(const C of o){const P=pa(C,e),V=pa(C,i);if(0===P)h[0]=e.Zt();else if(P>0&&V<0)h.push(C),h.push(C.Zt());else if(V>0)break}h.push(i);const y=[];for(let C=0;C<h.length;C+=2){if(this.Cn(h[C],h[C+1]))return[];y.push(IDBKeyRange.bound([h[C].indexId,this.uid,h[C].arrayValue,h[C].directionalValue,ga,[]],[h[C+1].indexId,this.uid,h[C+1].arrayValue,h[C+1].directionalValue,ga,[]]))}return y}Cn(e,i){return pa(e,i)>0}getMinOffsetFromCollectionGroup(e,i){return this.getFieldIndexes(e,i).next(bd)}getMinOffset(e,i){return nt.mapArray(this.hn(i),o=>this.Pn(e,o).next(h=>h||Ft())).next(bd)}}function Vh(u){return Ui(u,"collectionParents")}function Ia(u){return Ui(u,"indexEntries")}function ju(u){return Ui(u,"indexConfiguration")}function vo(u){return Ui(u,"indexState")}function bd(u){Yt(0!==u.length);let e=u[0].indexState.offset,i=e.largestBatchId;for(let o=1;o<u.length;o++){const h=u[o].indexState.offset;br(h,e)<0&&(e=h),i<h.largestBatchId&&(i=h.largestBatchId)}return new Cn(e.readTime,e.documentKey,i)}const cl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Os{constructor(e,i,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cd(u,e,i){const o=u.store("mutations"),h=u.store("documentMutations"),y=[],C=IDBKeyRange.only(i.batchId);let P=0;const V=o.J({range:C},(ce,Ee,We)=>(P++,We.delete()));y.push(V.next(()=>{Yt(1===P)}));const Y=[];for(const ce of i.mutations){const Ee=Pe(e,ce.key.path,i.batchId);y.push(h.delete(Ee)),Y.push(ce.key)}return nt.waitFor(y).next(()=>Y)}function cc(u){if(!u)return 0;let e;if(u.document)e=u.document;else if(u.unknownDocument)e=u.unknownDocument;else{if(!u.noDocument)throw Ft();e=u.noDocument}return JSON.stringify(e).length}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(41943040,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class Ua{constructor(e,i,o,h){this.userId=e,this.serializer=i,this.indexManager=o,this.referenceDelegate=h,this.Fn={}}static lt(e,i,o,h){Yt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new Ua(y,i,o,h)}checkEmpty(e){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wa(e).J({index:"userMutationsIndex",range:o},(h,y,C)=>{i=!1,C.done()}).next(()=>i)}addMutationBatch(e,i,o,h){const y=ll(e),C=wa(e);return C.add({}).next(P=>{Yt("number"==typeof P);const V=new Js(P,i,o,h),Y=function(Ct,qt,En){const rn=En.baseMutations.map(vr=>tc(Ct.ct,vr)),ar=En.mutations.map(vr=>tc(Ct.ct,vr));return{userId:qt,batchId:En.batchId,localWriteTimeMs:En.localWriteTime.toMillis(),baseMutations:rn,mutations:ar}}(this.serializer,this.userId,V),ce=[];let Ee=new Ie((We,Ct)=>nn(We.canonicalString(),Ct.canonicalString()));for(const We of h){const Ct=Pe(this.userId,We.key.path,P);Ee=Ee.add(We.key.path.popLast()),ce.push(C.put(Y)),ce.push(y.put(Ct,ze))}return Ee.forEach(We=>{ce.push(this.indexManager.addToCollectionParentIndex(e,We))}),e.addOnCommittedListener(()=>{this.Fn[P]=V.keys()}),nt.waitFor(ce).next(()=>V)})}lookupMutationBatch(e,i){return wa(e).get(i).next(o=>o?(Yt(o.userId===this.userId),Ar(this.serializer,o)):null)}Mn(e,i){return this.Fn[i]?nt.resolve(this.Fn[i]):this.lookupMutationBatch(e,i).next(o=>{if(o){const h=o.keys();return this.Fn[i]=h,h}return null})}getNextMutationBatchAfterBatchId(e,i){const o=i+1,h=IDBKeyRange.lowerBound([this.userId,o]);let y=null;return wa(e).J({index:"userMutationsIndex",range:h},(C,P,V)=>{P.userId===this.userId&&(Yt(P.batchId>=o),y=Ar(this.serializer,P)),V.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return wa(e).J({index:"userMutationsIndex",range:i,reverse:!0},(h,y,C)=>{o=y.batchId,C.done()}).next(()=>o)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wa(e).U("userMutationsIndex",i).next(o=>o.map(h=>Ar(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,i){const o=xe(this.userId,i.path),h=IDBKeyRange.lowerBound(o),y=[];return ll(e).J({range:h},(C,P,V)=>{const[Y,ce,Ee]=C,We=In(ce);if(Y===this.userId&&i.path.isEqual(We))return wa(e).get(Ee).next(Ct=>{if(!Ct)throw Ft();Yt(Ct.userId===this.userId),y.push(Ar(this.serializer,Ct))});V.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,i){let o=new Ie(nn);const h=[];return i.forEach(y=>{const C=xe(this.userId,y.path),P=IDBKeyRange.lowerBound(C),V=ll(e).J({range:P},(Y,ce,Ee)=>{const[We,Ct,qt]=Y,En=In(Ct);We===this.userId&&y.path.isEqual(En)?o=o.add(qt):Ee.done()});h.push(V)}),nt.waitFor(h).next(()=>this.xn(e,o))}getAllMutationBatchesAffectingQuery(e,i){const o=i.path,h=o.length+1,y=xe(this.userId,o),C=IDBKeyRange.lowerBound(y);let P=new Ie(nn);return ll(e).J({range:C},(V,Y,ce)=>{const[Ee,We,Ct]=V,qt=In(We);Ee===this.userId&&o.isPrefixOf(qt)?qt.length===h&&(P=P.add(Ct)):ce.done()}).next(()=>this.xn(e,P))}xn(e,i){const o=[],h=[];return i.forEach(y=>{h.push(wa(e).get(y).next(C=>{if(null===C)throw Ft();Yt(C.userId===this.userId),o.push(Ar(this.serializer,C))}))}),nt.waitFor(h).next(()=>o)}removeMutationBatch(e,i){return Cd(e._e,this.userId,i).next(o=>(e.addOnCommittedListener(()=>{this.On(i.batchId)}),nt.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return nt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return ll(e).J({range:o},(y,C,P)=>{if(y[0]===this.userId){const V=In(y[1]);h.push(V)}else P.done()}).next(()=>{Yt(0===h.length)})})}containsKey(e,i){return Td(e,this.userId,i)}Nn(e){return Id(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Td(u,e,i){const o=xe(e,i.path),h=o[1],y=IDBKeyRange.lowerBound(o);let C=!1;return ll(u).J({range:y,H:!0},(P,V,Y)=>{const[ce,Ee,We]=P;ce===e&&Ee===h&&(C=!0),Y.done()}).next(()=>C)}function wa(u){return Ui(u,"mutations")}function ll(u){return Ui(u,"documentMutations")}function Id(u){return Ui(u,"mutationQueues")}class Ws{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ws(0)}static kn(){return new Ws(-1)}}class vg{constructor(e,i){this.referenceDelegate=e,this.serializer=i}allocateTargetId(e){return this.qn(e).next(i=>{const o=new Ws(i.highestTargetId);return i.highestTargetId=o.next(),this.Qn(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(i=>Ht.fromTimestamp(new Qt(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,o){return this.qn(e).next(h=>(h.highestListenSequenceNumber=i,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),i>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=i),this.Qn(e,h)))}addTargetData(e,i){return this.Kn(e,i).next(()=>this.qn(e).next(o=>(o.targetCount+=1,this.$n(i,o),this.Qn(e,o))))}updateTargetData(e,i){return this.Kn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Aa(e).delete(i.targetId)).next(()=>this.qn(e)).next(o=>(Yt(o.targetCount>0),o.targetCount-=1,this.Qn(e,o)))}removeTargets(e,i,o){let h=0;const y=[];return Aa(e).J((C,P)=>{const V=Or(P);V.sequenceNumber<=i&&null===o.get(V.targetId)&&(h++,y.push(this.removeTargetData(e,V)))}).next(()=>nt.waitFor(y)).next(()=>h)}forEachTarget(e,i){return Aa(e).J((o,h)=>{const y=Or(h);i(y)})}qn(e){return Fc(e).get("targetGlobalKey").next(i=>(Yt(null!==i),i))}Qn(e,i){return Fc(e).put("targetGlobalKey",i)}Kn(e,i){return Aa(e).put(Kr(this.serializer,i))}$n(e,i){let o=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,o=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.qn(e).next(i=>i.targetCount)}getTargetData(e,i){const o=zi(i),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let y=null;return Aa(e).J({range:h,index:"queryTargetsIndex"},(C,P,V)=>{const Y=Or(P);Do(i,Y.target)&&(y=Y,V.done())}).next(()=>y)}addMatchingKeys(e,i,o){const h=[],y=Lc(e);return i.forEach(C=>{const P=Mt(C.path);h.push(y.put({targetId:o,path:P})),h.push(this.referenceDelegate.addReference(e,o,C))}),nt.waitFor(h)}removeMatchingKeys(e,i,o){const h=Lc(e);return nt.forEach(i,y=>{const C=Mt(y.path);return nt.waitFor([h.delete([o,C]),this.referenceDelegate.removeReference(e,o,y)])})}removeMatchingKeysForTargetId(e,i){const o=Lc(e),h=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),h=Lc(e);let y=xr();return h.J({range:o,H:!0},(C,P,V)=>{const Y=In(C[1]),ce=new zt(Y);y=y.add(ce)}).next(()=>y)}containsKey(e,i){const o=Mt(i.path),h=IDBKeyRange.bound([o],[$n(o)],!1,!0);let y=0;return Lc(e).J({index:"documentTargetsIndex",H:!0,range:h},([C,P],V,Y)=>{0!==C&&(y++,Y.done())}).next(()=>y>0)}ot(e,i){return Aa(e).get(i).next(o=>o?Or(o):null)}}function Aa(u){return Ui(u,"targets")}function Fc(u){return Ui(u,"targetGlobal")}function Lc(u){return Ui(u,"targetDocuments")}function Gl([u,e],[i,o]){const h=nn(u,i);return 0===h?nn(e,o):h}class Uh{constructor(e){this.Un=e,this.buffer=new Ie(Gl),this.Wn=0}Gn(){return++this.Wn}zn(e){const i=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();Gl(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Vc{constructor(e,i,o){this.garbageCollector=e,this.asyncQueue=i,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var i=this;Se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(o){Yn(o)?Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Fn(o)}yield i.Hn(3e5)}))}}class jh{constructor(e,i){this.Jn=e,this.params=i}calculateTargetCount(e,i){return this.Jn.Yn(e).next(o=>Math.floor(i/100*o))}nthSequenceNumber(e,i){if(0===i)return nt.resolve(L.oe);const o=new Uh(i);return this.Jn.forEachTarget(e,h=>o.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>o.zn(h))).next(()=>o.maxValue)}removeTargets(e,i,o){return this.Jn.removeTargets(e,i,o)}removeOrphanedDocuments(e,i){return this.Jn.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(cl)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cl):this.Xn(e,i))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,i){let o,h,y,C,P,V,Y;const ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),h=this.params.maximumSequenceNumbersToCollect):h=Ee,C=Date.now(),this.nthSequenceNumber(e,h))).next(Ee=>(o=Ee,P=Date.now(),this.removeTargets(e,o,i))).next(Ee=>(y=Ee,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ee=>(Y=Date.now(),Et()<=Ce.$b.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-ce}ms\n\tDetermined least recently used ${h} in `+(P-C)+`ms\n\tRemoved ${y} targets in `+(V-P)+`ms\n\tRemoved ${Ee} documents in `+(Y-V)+`ms\nTotal Duration: ${Y-ce}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:Ee})))}}class ep{constructor(e,i){this.db=e,this.garbageCollector=function eo(u,e){return new jh(u,e)}(this,i)}Yn(e){const i=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(o=>i.next(h=>o+h))}er(e){let i=0;return this.Zn(e,o=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}Zn(e,i){return this.tr(e,(o,h)=>i(h))}addReference(e,i,o){return ul(e,o)}removeReference(e,i,o){return ul(e,o)}removeTargets(e,i,o){return this.db.getTargetCache().removeTargets(e,i,o)}markPotentiallyOrphaned(e,i){return ul(e,i)}nr(e,i){return function(h,y){let C=!1;return Id(h).Y(P=>Td(h,P,y).next(V=>(V&&(C=!0),nt.resolve(!V)))).next(()=>C)}(e,i)}removeOrphanedDocuments(e,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(C,P)=>{if(P<=i){const V=this.nr(e,C).next(Y=>{if(!Y)return y++,o.getEntry(e,C).next(()=>(o.removeEntry(C,Ht.min()),Lc(e).delete([0,Mt(C.path)])))});h.push(V)}}).next(()=>nt.waitFor(h)).next(()=>o.apply(e)).next(()=>y)}removeTarget(e,i){const o=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,i){return ul(e,i)}tr(e,i){const o=Lc(e);let h,y=L.oe;return o.J({index:"documentTargetsIndex"},([C,P],{path:V,sequenceNumber:Y})=>{0===C?(y!==L.oe&&i(new zt(In(h)),y),y=Y,h=V):y=L.oe}).next(()=>{y!==L.oe&&i(new zt(In(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ul(u,e){return Lc(u).put((h=u.currentSequenceNumber,{targetId:0,path:Mt(e.path),sequenceNumber:h}));var h}class wd{constructor(){this.changes=new Yi(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?nt.resolve(o):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,o){return Qo(e).put(o)}removeEntry(e,i,o){return Qo(e).delete(function(y,C){const P=y.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],wt(C),P[P.length-1]]}(i,o))}updateMetadata(e,i){return this.getMetadata(e).next(o=>(o.byteSize+=i,this.rr(e,o)))}getEntry(e,i){let o=bt.newInvalidDocument(i);return Qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ma(i))},(h,y)=>{o=this.ir(i,y)}).next(()=>o)}sr(e,i){let o={size:0,document:bt.newInvalidDocument(i)};return Qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ma(i))},(h,y)=>{o={document:this.ir(i,y),size:cc(y)}}).next(()=>o)}getEntries(e,i){let o=ns();return this._r(e,i,(h,y)=>{const C=this.ir(h,y);o=o.insert(h,C)}).next(()=>o)}ar(e,i){let o=ns(),h=new _e(zt.comparator);return this._r(e,i,(y,C)=>{const P=this.ir(y,C);o=o.insert(y,P),h=h.insert(y,cc(C))}).next(()=>({documents:o,ur:h}))}_r(e,i,o){if(i.isEmpty())return nt.resolve();let h=new Ie(Dd);i.forEach(V=>h=h.add(V));const y=IDBKeyRange.bound(ma(h.first()),ma(h.last())),C=h.getIterator();let P=C.getNext();return Qo(e).J({index:"documentKeyIndex",range:y},(V,Y,ce)=>{const Ee=zt.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;P&&Dd(P,Ee)<0;)o(P,null),P=C.getNext();P&&P.isEqual(Ee)&&(o(P,Y),P=C.hasNext()?C.getNext():null),P?ce.$(ma(P)):ce.done()}).next(()=>{for(;P;)o(P,null),P=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(e,i,o,h,y){const C=i.path,P=[C.popLast().toArray(),C.lastSegment(),wt(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],V=[C.popLast().toArray(),C.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qo(e).U(IDBKeyRange.bound(P,V,!0)).next(Y=>{y?.incrementDocumentReadCount(Y.length);let ce=ns();for(const Ee of Y){const We=this.ir(zt.fromSegments(Ee.prefixPath.concat(Ee.collectionGroup,Ee.documentId)),Ee);We.isFoundDocument()&&(Fo(i,We)||h.has(We.key))&&(ce=ce.insert(We.key,We))}return ce})}getAllFromCollectionGroup(e,i,o,h){let y=ns();const C=$h(i,o),P=$h(i,Cn.max());return Qo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,P,!0)},(V,Y,ce)=>{const Ee=this.ir(zt.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);y=y.insert(Ee.key,Ee),y.size===h&&ce.done()}).next(()=>y)}newChangeBuffer(e){return new Bu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return lc(e).get("remoteDocumentGlobalKey").next(i=>(Yt(!!i),i))}rr(e,i){return lc(e).put("remoteDocumentGlobalKey",i)}ir(e,i){if(i){const o=function le(u,e){let i;if(e.document)i=il(u.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=zt.fromSegments(e.noDocument.path),h=Mn(e.noDocument.readTime);i=bt.newNoDocument(o,h),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ft();{const o=zt.fromSegments(e.unknownDocument.path),h=Mn(e.unknownDocument.version);i=bt.newUnknownDocument(o,h)}}return e.readTime&&i.setReadTime(function(h){const y=new Qt(h[0],h[1]);return Ht.fromTimestamp(y)}(e.readTime)),i}(this.serializer,i);if(!o.isNoDocument()||!o.version.isEqual(Ht.min()))return o}return bt.newInvalidDocument(e)}}function Ad(u){return new Bh(u)}class Bu extends wd{constructor(e,i){super(),this.cr=e,this.trackRemovals=i,this.lr=new Yi(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const i=[];let o=0,h=new Ie((y,C)=>nn(y.canonicalString(),C.canonicalString()));return this.changes.forEach((y,C)=>{const P=this.lr.get(y);if(i.push(this.cr.removeEntry(e,y,P.readTime)),C.isValidDocument()){const V=Oe(this.cr.serializer,C);h=h.add(y.path.popLast());const Y=cc(V);o+=Y-P.size,i.push(this.cr.addEntry(e,y,V))}else if(o-=P.size,this.trackRemovals){const V=Oe(this.cr.serializer,C.convertToNoDocument(Ht.min()));i.push(this.cr.addEntry(e,y,V))}}),h.forEach(y=>{i.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),i.push(this.cr.updateMetadata(e,o)),nt.waitFor(i)}getFromCache(e,i){return this.cr.sr(e,i).next(o=>(this.lr.set(i,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,i){return this.cr.ar(e,i).next(({documents:o,ur:h})=>(h.forEach((y,C)=>{this.lr.set(y,{size:C,readTime:o.get(y).readTime})}),o))}}function lc(u){return Ui(u,"remoteDocumentGlobal")}function Qo(u){return Ui(u,"remoteDocumentsV14")}function ma(u){const e=u.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $h(u,e){const i=e.documentKey.path.toArray();return[u,wt(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Dd(u,e){const i=u.path.toArray(),o=e.path.toArray();let h=0;for(let y=0;y<i.length-2&&y<o.length-2;++y)if(h=nn(i[y],o[y]),h)return h;return h=nn(i.length,o.length),h||(h=nn(i[i.length-2],o[o.length-2]),h||nn(i[i.length-1],o[o.length-1]))}class Hl{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Gh{constructor(e,i,o,h){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=h}getDocument(e,i){let o=null;return this.documentOverlayCache.getOverlay(e,i).next(h=>(o=h,this.remoteDocumentCache.getEntry(e,i))).next(h=>(null!==o&&ni(o.mutation,h,er.empty(),Qt.now()),h))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(o=>this.getLocalViewOfDocuments(e,o,xr()).next(()=>o))}getLocalViewOfDocuments(e,i,o=xr()){const h=ys();return this.populateOverlays(e,h,i).next(()=>this.computeViews(e,i,h,o).next(y=>{let C=ao();return y.forEach((P,V)=>{C=C.insert(P,V.overlayedDocument)}),C}))}getOverlayedDocuments(e,i){const o=ys();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,xr()))}populateOverlays(e,i,o){const h=[];return o.forEach(y=>{i.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((C,P)=>{i.set(C,P)})})}computeViews(e,i,o,h){let y=ns();const C=ca(),P=ca();return i.forEach((V,Y)=>{const ce=o.get(Y.key);h.has(Y.key)&&(void 0===ce||ce.mutation instanceof yi)?y=y.insert(Y.key,Y):void 0!==ce?(C.set(Y.key,ce.mutation.getFieldMask()),ni(ce.mutation,Y,ce.mutation.getFieldMask(),Qt.now())):C.set(Y.key,er.empty())}),this.recalculateAndSaveOverlays(e,y).next(V=>(V.forEach((Y,ce)=>C.set(Y,ce)),i.forEach((Y,ce)=>{var Ee;return P.set(Y,new Hl(ce,null!==(Ee=C.get(Y))&&void 0!==Ee?Ee:null))}),P))}recalculateAndSaveOverlays(e,i){const o=ca();let h=new _e((C,P)=>C-P),y=xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(C=>{for(const P of C)P.keys().forEach(V=>{const Y=i.get(V);if(null===Y)return;let ce=o.get(V)||er.empty();ce=P.applyToLocalView(Y,ce),o.set(V,ce);const Ee=(h.get(P.batchId)||xr()).add(V);h=h.insert(P.batchId,Ee)})}).next(()=>{const C=[],P=h.getReverseIterator();for(;P.hasNext();){const V=P.getNext(),Y=V.key,ce=V.value,Ee=Ta();ce.forEach(We=>{if(!y.has(We)){const Ct=$t(i.get(We),o.get(We));null!==Ct&&Ee.set(We,Ct),y=y.add(We)}}),C.push(this.documentOverlayCache.saveOverlays(e,Y,Ee))}return nt.waitFor(C)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,i,o,h){return zt.isDocumentKey((C=i).path)&&null===C.collectionGroup&&0===C.filters.length?this.getDocumentsMatchingDocumentQuery(e,i.path):ue(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,o,h):this.getDocumentsMatchingCollectionQuery(e,i,o,h);var C}getNextDocuments(e,i,o,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,o,h).next(y=>{const C=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,o.largestBatchId,h-y.size):nt.resolve(ys());let P=-1,V=y;return C.next(Y=>nt.forEach(Y,(ce,Ee)=>(P<Ee.largestBatchId&&(P=Ee.largestBatchId),y.get(ce)?nt.resolve():this.remoteDocumentCache.getEntry(e,ce).next(We=>{V=V.insert(ce,We)}))).next(()=>this.populateOverlays(e,Y,y)).next(()=>this.computeViews(e,V,Y,xr())).next(ce=>({batchId:P,changes:tn(ce)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new zt(i)).next(o=>{let h=ao();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}getDocumentsMatchingCollectionGroupQuery(e,i,o,h){const y=i.collectionGroup;let C=ao();return this.indexManager.getCollectionParents(e,y).next(P=>nt.forEach(P,V=>{const Y=(Ee=i,We=V.child(y),new qo(We,null,Ee.explicitOrderBy.slice(),Ee.filters.slice(),Ee.limit,Ee.limitType,Ee.startAt,Ee.endAt));var Ee,We;return this.getDocumentsMatchingCollectionQuery(e,Y,o,h).next(ce=>{ce.forEach((Ee,We)=>{C=C.insert(Ee,We)})})}).next(()=>C))}getDocumentsMatchingCollectionQuery(e,i,o,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,o.largestBatchId).next(C=>(y=C,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,o,y,h))).next(C=>{y.forEach((V,Y)=>{const ce=Y.getKey();null===C.get(ce)&&(C=C.insert(ce,bt.newInvalidDocument(ce)))});let P=ao();return C.forEach((V,Y)=>{const ce=y.get(V);void 0!==ce&&ni(ce.mutation,Y,er.empty(),Qt.now()),Fo(i,Y)&&(P=P.insert(V,Y))}),P})}}class dl{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return nt.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,{id:(h=i).id,version:h.version,createTime:hs(h.createTime)}),nt.resolve();var h}getNamedQuery(e,i){return nt.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,{name:(h=i).name,query:Zr(h.bundledQuery),readTime:hs(h.readTime)}),nt.resolve();var h}}class Jm{constructor(){this.overlays=new _e(zt.comparator),this.Ir=new Map}getOverlay(e,i){return nt.resolve(this.overlays.get(i))}getOverlays(e,i){const o=ys();return nt.forEach(i,h=>this.getOverlay(e,h).next(y=>{null!==y&&o.set(h,y)})).next(()=>o)}saveOverlays(e,i,o){return o.forEach((h,y)=>{this.ht(e,i,y)}),nt.resolve()}removeOverlaysForBatchId(e,i,o){const h=this.Ir.get(o);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(o)),nt.resolve()}getOverlaysForCollection(e,i,o){const h=ys(),y=i.length+1,C=new zt(i.child("")),P=this.overlays.getIteratorFrom(C);for(;P.hasNext();){const V=P.getNext().value,Y=V.getKey();if(!i.isPrefixOf(Y.path))break;Y.path.length===y&&V.largestBatchId>o&&h.set(V.getKey(),V)}return nt.resolve(h)}getOverlaysForCollectionGroup(e,i,o,h){let y=new _e((Y,ce)=>Y-ce);const C=this.overlays.getIterator();for(;C.hasNext();){const Y=C.getNext().value;if(Y.getKey().getCollectionGroup()===i&&Y.largestBatchId>o){let ce=y.get(Y.largestBatchId);null===ce&&(ce=ys(),y=y.insert(Y.largestBatchId,ce)),ce.set(Y.getKey(),Y)}}const P=ys(),V=y.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((Y,ce)=>P.set(Y,ce)),!(P.size()>=h)););return nt.resolve(P)}ht(e,i,o){const h=this.overlays.get(o.key);if(null!==h){const C=this.Ir.get(h.largestBatchId).delete(o.key);this.Ir.set(h.largestBatchId,C)}this.overlays=this.overlays.insert(o.key,new Es(i,o));let y=this.Ir.get(i);void 0===y&&(y=xr(),this.Ir.set(i,y)),this.Ir.set(i,y.add(o.key))}}class Zm{constructor(){this.sessionToken=li.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,nt.resolve()}}class ja{constructor(){this.Tr=new Ie(Ns.Er),this.dr=new Ie(Ns.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const o=new Ns(e,i);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,i){e.forEach(o=>this.addReference(o,i))}removeReference(e,i){this.Vr(new Ns(e,i))}mr(e,i){e.forEach(o=>this.removeReference(o,i))}gr(e){const i=new zt(new gn([])),o=new Ns(i,e),h=new Ns(i,e+1),y=[];return this.dr.forEachInRange([o,h],C=>{this.Vr(C),y.push(C.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new zt(new gn([])),o=new Ns(i,e),h=new Ns(i,e+1);let y=xr();return this.dr.forEachInRange([o,h],C=>{y=y.add(C.key)}),y}containsKey(e){const i=new Ns(e,0),o=this.Tr.firstAfterOrEqual(i);return null!==o&&e.isEqual(o.key)}}class Ns{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return zt.comparator(e.key,i.key)||nn(e.wr,i.wr)}static Ar(e,i){return nn(e.wr,i.wr)||zt.comparator(e.key,i.key)}}class e_{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Ie(Ns.Er)}checkEmpty(e){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,i,o,h){const y=this.Sr;this.Sr++;const C=new Js(y,i,o,h);this.mutationQueue.push(C);for(const P of h)this.br=this.br.add(new Ns(P.key,y)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return nt.resolve(C)}lookupMutationBatch(e,i){return nt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const h=this.vr(i+1),y=h<0?0:h;return nt.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const o=new Ns(i,0),h=new Ns(i,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([o,h],C=>{const P=this.Dr(C.wr);y.push(P)}),nt.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,i){let o=new Ie(nn);return i.forEach(h=>{const y=new Ns(h,0),C=new Ns(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,C],P=>{o=o.add(P.wr)})}),nt.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,i){const o=i.path,h=o.length+1;let y=o;zt.isDocumentKey(y)||(y=y.child(""));const C=new Ns(new zt(y),0);let P=new Ie(nn);return this.br.forEachWhile(V=>{const Y=V.key.path;return!!o.isPrefixOf(Y)&&(Y.length===h&&(P=P.add(V.wr)),!0)},C),nt.resolve(this.Cr(P))}Cr(e){const i=[];return e.forEach(o=>{const h=this.Dr(o);null!==h&&i.push(h)}),i}removeMutationBatch(e,i){Yt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return nt.forEach(i.mutations,h=>{const y=new Ns(h.key,i.batchId);return o=o.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,i){const o=new Ns(i,0),h=this.br.firstAfterOrEqual(o);return nt.resolve(i.isEqual(h&&h.key))}performConsistencyCheck(e){return nt.resolve()}Fr(e,i){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class t_{constructor(e){this.Mr=e,this.docs=new _e(zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const o=i.key,h=this.docs.get(o),y=h?h.size:0,C=this.Mr(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:C}),this.size+=C-y,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const o=this.docs.get(i);return nt.resolve(o?o.document.mutableCopy():bt.newInvalidDocument(i))}getEntries(e,i){let o=ns();return i.forEach(h=>{const y=this.docs.get(h);o=o.insert(h,y?y.document.mutableCopy():bt.newInvalidDocument(h))}),nt.resolve(o)}getDocumentsMatchingQuery(e,i,o,h){let y=ns();const C=i.path,P=new zt(C.child("")),V=this.docs.getIteratorFrom(P);for(;V.hasNext();){const{key:Y,value:{document:ce}}=V.getNext();if(!C.isPrefixOf(Y.path))break;Y.path.length>C.length+1||br(gs(ce),o)<=0||(h.has(ce.key)||Fo(i,ce))&&(y=y.insert(ce.key,ce.mutableCopy()))}return nt.resolve(y)}getAllFromCollectionGroup(e,i,o,h){Ft()}Or(e,i){return nt.forEach(this.docs,o=>i(o))}newChangeBuffer(e){return new hl(this)}getSize(e){return nt.resolve(this.size)}}class hl extends wd{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?i.push(this.cr.addEntry(e,h)):this.cr.removeEntry(o)}),nt.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}class tp{constructor(e){this.persistence=e,this.Nr=new Yi(i=>zi(i),Do),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ja,this.targetCount=0,this.kr=Ws.Bn()}forEachTarget(e,i){return this.Nr.forEach((o,h)=>i(h)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Lr&&(this.Lr=i),nt.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new Ws(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,nt.resolve()}updateTargetData(e,i){return this.Kn(i),nt.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,i,o){let h=0;const y=[];return this.Nr.forEach((C,P)=>{P.sequenceNumber<=i&&null===o.get(P.targetId)&&(this.Nr.delete(C),y.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),nt.waitFor(y).next(()=>h)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,i){const o=this.Nr.get(i)||null;return nt.resolve(o)}addMatchingKeys(e,i,o){return this.Br.Rr(i,o),nt.resolve()}removeMatchingKeys(e,i,o){this.Br.mr(i,o);const h=this.persistence.referenceDelegate,y=[];return h&&i.forEach(C=>{y.push(h.markPotentiallyOrphaned(e,C))}),nt.waitFor(y)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),nt.resolve()}getMatchingKeysForTargetId(e,i){const o=this.Br.yr(i);return nt.resolve(o)}containsKey(e,i){return nt.resolve(this.Br.containsKey(i))}}class Sd{constructor(e,i){this.qr={},this.overlays={},this.Qr=new L(0),this.Kr=!1,this.Kr=!0,this.$r=new Zm,this.referenceDelegate=e(this),this.Ur=new tp(this),this.indexManager=new al,this.remoteDocumentCache=new t_(o=>this.referenceDelegate.Wr(o)),this.serializer=new H(i),this.Gr=new dl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Jm,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let o=this.qr[e.toKey()];return o||(o=new e_(i,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,o){Se("MemoryPersistence","Starting transaction:",e);const h=new Ks(this.Qr.next());return this.referenceDelegate.zr(),o(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,i){return nt.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,i)))}}class Ks extends sr{constructor(e){super(),this.currentSequenceNumber=e}}class $u{constructor(e){this.persistence=e,this.Jr=new ja,this.Yr=null}static Zr(e){return new $u(e)}get Xr(){if(this.Yr)return this.Yr;throw Ft()}addReference(e,i,o){return this.Jr.addReference(o,i),this.Xr.delete(o.toString()),nt.resolve()}removeReference(e,i,o){return this.Jr.removeReference(o,i),this.Xr.add(o.toString()),nt.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),nt.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach(h=>this.Xr.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,i.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>o.removeTargetData(e,i))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Xr,o=>{const h=zt.fromPath(o);return this.ei(e,h).next(y=>{y||i.removeEntry(h,Ht.min())})}).next(()=>(this.Yr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ei(e,i).next(o=>{o?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(e){return 0}ei(e,i){return nt.or([()=>nt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}class Hh{constructor(e){this.serializer=e}O(e,i,o,h){const y=new ft("createOrUpgrade",i);var V;o<1&&h>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gr,{unique:!0}),V.createObjectStore("documentMutations"),Jo(e),function(V){V.createObjectStore("remoteDocuments")}(e));let C=nt.resolve();return o<3&&h>=3&&(0!==o&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),Jo(e)),C=C.next(()=>function(V){const Y=V.store("targetGlobal"),ce={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",ce)}(y))),o<4&&h>=4&&(0!==o&&(C=C.next(()=>function(V,Y){return Y.store("mutations").U().next(ce=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gr,{unique:!0});const Ee=Y.store("mutations"),We=ce.map(Ct=>Ee.put(Ct));return nt.waitFor(We)})}(e,y))),C=C.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(C=C.next(()=>this.ni(y))),o<6&&h>=6&&(C=C.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),o<7&&h>=7&&(C=C.next(()=>this.ii(y))),o<8&&h>=8&&(C=C.next(()=>this.si(e,y))),o<9&&h>=9&&(C=C.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(C=C.next(()=>this.oi(y))),o<11&&h>=11&&(C=C.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(C=C.next(()=>{!function(V){const Y=V.createObjectStore("documentOverlays",{keyPath:Vn});Y.createIndex("collectionPathOverlayIndex",vn,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",On,{unique:!1})}(e)})),o<13&&h>=13&&(C=C.next(()=>function(V){const Y=V.createObjectStore("remoteDocumentsV14",{keyPath:Vt});Y.createIndex("documentKeyIndex",Zt),Y.createIndex("collectionGroupIndex",_n)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(C=C.next(()=>this.ai(e,y))),o<15&&h>=15&&(C=C.next(()=>function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:vt}).createIndex("sequenceNumberIndex",Ze,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:Rt}).createIndex("documentKeyIndex",fn,{unique:!1})}(e))),o<16&&h>=16&&(C=C.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),o<17&&h>=17&&(C=C.next(()=>{!function(V){V.createObjectStore("globals",{keyPath:"name"})}(e)})),C}ri(e){let i=0;return e.store("remoteDocuments").J((o,h)=>{i+=cc(h)}).next(()=>{const o={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(e){const i=e.store("mutationQueues"),o=e.store("mutations");return i.U().next(h=>nt.forEach(h,y=>{const C=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",C).next(P=>nt.forEach(P,V=>{Yt(V.userId===y.userId);const Y=Ar(this.serializer,V);return Cd(e,y.userId,Y).next(()=>{})}))}))}ii(e){const i=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return o.J((C,P)=>{const V=new gn(C),Y=[0,Mt(V)];y.push(i.get(Y).next(ce=>ce?nt.resolve():i.put({targetId:0,path:Mt(V),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>nt.waitFor(y))})}si(e,i){e.createObjectStore("collectionParents",{keyPath:ci});const o=i.store("collectionParents"),h=new Ed,y=C=>{if(h.add(C)){const P=C.lastSegment(),V=C.popLast();return o.put({collectionId:P,parent:Mt(V)})}};return i.store("remoteDocuments").J({H:!0},(C,P)=>{const V=new gn(C);return y(V.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([C,P,V],Y)=>{const ce=In(P);return y(ce.popLast())}))}oi(e){const i=e.store("targets");return i.J((o,h)=>{const y=Or(h),C=Kr(this.serializer,y);return i.put(C)})}_i(e,i){const o=i.store("remoteDocuments"),h=[];return o.J((y,C)=>{const P=i.store("remoteDocumentsV14"),V=(Ee=C,Ee.document?new zt(gn.fromString(Ee.document.name).popFirst(5)):Ee.noDocument?zt.fromSegments(Ee.noDocument.path):Ee.unknownDocument?zt.fromSegments(Ee.unknownDocument.path):Ft()).path.toArray(),Y={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};var Ee;h.push(P.put(Y))}).next(()=>nt.waitFor(h))}ai(e,i){const o=i.store("mutations"),h=Ad(this.serializer),y=new Sd($u.Zr,this.serializer.ct);return o.U().next(C=>{const P=new Map;return C.forEach(V=>{var Y;let ce=null!==(Y=P.get(V.userId))&&void 0!==Y?Y:xr();Ar(this.serializer,V).keys().forEach(Ee=>ce=ce.add(Ee)),P.set(V.userId,ce)}),nt.forEach(P,(V,Y)=>{const ce=new Je(Y),Ee=oc.lt(this.serializer,ce),We=y.getIndexManager(ce),Ct=Ua.lt(ce,this.serializer,We,y.referenceDelegate);return new Gh(h,Ct,Ee,We).recalculateAndSaveOverlaysForDocumentKeys(new Xs(i,L.oe),V).next()})})}}function Jo(u){u.createObjectStore("targetDocuments",{keyPath:ur}).createIndex("documentTargetsIndex",yn,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dn,{unique:!0}),u.createObjectStore("targetGlobal")}const uc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gu{constructor(e,i,o,h,y,C,P,V,Y,ce,Ee=17){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=o,this.ui=y,this.window=C,this.document=P,this.ci=Y,this.li=ce,this.hi=Ee,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=We=>Promise.resolve(),!Gu.D())throw new ot(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ep(this,h),this.Ai=i+"main",this.serializer=new H(V),this.Ri=new ae(this.Ai,this.hi,new Hh(this.serializer)),this.$r=new Nh,this.Ur=new vg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ad(this.serializer),this.Gr=new Oc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ce&&on("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ot(je.FAILED_PRECONDITION,uc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new L(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var i=this;return this.di=function(){var o=(0,d.A)(function*(h){if(i.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var i=(0,d.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,d.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(i=>this.isPrimary&&!i?this.bi(e).next(()=>!1):!!i&&this.Di(e).next(()=>!0))).catch(e=>{if(Yn(e))return Se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return jc(e).get("owner").next(i=>nt.resolve(this.vi(i)))}Ci(e){return Bc(e).delete(this.clientId)}Fi(){var e=this;return(0,d.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=Ui(o,"clientMetadata");return h.U().next(y=>{const C=e.xi(y,18e5),P=y.filter(V=>-1===C.indexOf(V));return nt.forEach(P,V=>h.delete(V.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Vi)for(const o of i)e.Vi.removeItem(e.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?nt.resolve(!0):jc(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new ot(je.FAILED_PRECONDITION,uc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bc(e).U().next(o=>void 0===this.xi(o,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Se("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,d.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const o=new Xs(i,L.oe);return e.bi(o).next(()=>e.Ci(o))}),e.Ri.close(),e.qi()})()}xi(e,i){return e.filter(o=>this.Mi(o.updateTimeMs,i)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Bc(e).U().next(i=>this.xi(i,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,i){return Ua.lt(e,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return oc.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,i,o){Se("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===i?"readonly":"readwrite",y=17===(V=this.hi)?no:16===V?Ii:15===V?Hi:14===V?Ci:13===V?or:12===V?Ur:11===V?Cr:void Ft();var V;let C;return this.Ri.runTransaction(e,h,y,P=>(C=new Xs(P,this.Qr?this.Qr.next():L.oe),"readwrite-primary"===i?this.wi(C).next(V=>!!V||this.Si(C)).next(V=>{if(!V)throw on(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ot(je.FAILED_PRECONDITION,Kn);return o(C)}).next(V=>this.Di(C).next(()=>V)):this.Ki(C).next(()=>o(C)))).then(P=>(C.raiseOnCommittedEvent(),P))}Ki(e){return jc(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new ot(je.FAILED_PRECONDITION,uc)})}Di(e){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jc(e).put("owner",i)}static D(){return ae.D()}bi(e){const i=jc(e);return i.get("owner").next(o=>this.vi(o)?(Se("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):nt.resolve())}Mi(e,i){const o=Date.now();return!(e<o-i||e>o&&(on(`Detected an update time that is in the future: ${e} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,pe.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var i;try{const o=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(e)));return Se("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return on("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){on("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jc(u){return Ui(u,"owner")}function Bc(u){return Ui(u,"clientMetadata")}function xd(u,e){let i=u.projectId;return u.isDefaultDatabase||(i+="."+u.database),"firestore/"+e+"/"+i+"/"}class np{constructor(e,i,o,h){this.targetId=e,this.fromCache=i,this.$i=o,this.Ui=h}static Wi(e,i){let o=xr(),h=xr();for(const y of i.docChanges)switch(y.type){case 0:o=o.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new np(e,i.fromCache,o,h)}}class Eg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,pe.nr)()?8:Re((0,pe.ZQ)())>0?6:4}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,o,h){const y={result:null};return this.Yi(e,i).next(C=>{y.result=C}).next(()=>{if(!y.result)return this.Zi(e,i,h,o).next(C=>{y.result=C})}).next(()=>{if(y.result)return;const C=new Eg;return this.Xi(e,i,C).next(P=>{if(y.result=P,this.zi)return this.es(e,i,C,P.size)})}).next(()=>y.result)}es(e,i,o,h){return o.documentReadCount<this.ji?(Et()<=Ce.$b.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),nt.resolve()):(Et()<=Ce.$b.DEBUG&&Se("QueryEngine","Query:",ds(i),"scans",o.documentReadCount,"local documents and returns",h,"documents as results."),o.documentReadCount>this.Hi*h?(Et()<=Ce.$b.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(i))):nt.resolve())}Yi(e,i){if(U(i))return nt.resolve(null);let o=Dn(i);return this.indexManager.getIndexType(e,o).next(h=>0===h?null:(null!==i.limit&&1===h&&(i=us(i,null,"F"),o=Dn(i)),this.indexManager.getDocumentsMatchingTarget(e,o).next(y=>{const C=xr(...y);return this.Ji.getDocuments(e,C).next(P=>this.indexManager.getMinOffset(e,o).next(V=>{const Y=this.ts(i,P);return this.ns(i,Y,C,V.readTime)?this.Yi(e,us(i,null,"F")):this.rs(e,Y,i,V)}))})))}Zi(e,i,o,h){return U(i)||h.isEqual(Ht.min())?nt.resolve(null):this.Ji.getDocuments(e,o).next(y=>{const C=this.ts(i,y);return this.ns(i,C,o,h)?nt.resolve(null):(Et()<=Ce.$b.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),ds(i)),this.rs(e,C,i,Jr(h,-1)).next(P=>P))})}ts(e,i){let o=new Ie(Ms(e));return i.forEach((h,y)=>{Fo(e,y)&&(o=o.add(y))}),o}ns(e,i,o,h){if(null===e.limit)return!1;if(o.size!==i.size)return!0;const y="F"===e.limitType?i.last():i.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,i,o){return Et()<=Ce.$b.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ds(i)),this.Ji.getDocumentsMatchingQuery(e,i,Cn.min(),o)}rs(e,i,o,h){return this.Ji.getDocumentsMatchingQuery(e,o,h).next(y=>(i.forEach(C=>{y=y.insert(C.key,C)}),y))}}class js{constructor(e,i,o,h){this.persistence=e,this.ss=i,this.serializer=h,this.os=new _e(nn),this._s=new Yi(y=>zi(y),Do),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.os))}}function zh(u,e,i,o){return new js(u,e,i,o)}function Ba(u,e){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,d.A)(function*(u,e){const i=gt(u);return yield i.persistence.runTransaction("Handle user change","readonly",o=>{let h;return i.mutationQueue.getAllMutationBatches(o).next(y=>(h=y,i.ls(e),i.mutationQueue.getAllMutationBatches(o))).next(y=>{const C=[],P=[];let V=xr();for(const Y of h){C.push(Y.batchId);for(const ce of Y.mutations)V=V.add(ce.key)}for(const Y of y){P.push(Y.batchId);for(const ce of Y.mutations)V=V.add(ce.key)}return i.localDocuments.getDocuments(o,V).next(Y=>({hs:Y,removedBatchIds:C,addedBatchIds:P}))})})})).apply(this,arguments)}function Md(u){const e=gt(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ur.getLastRemoteSnapshotVersion(i))}function Wh(u,e,i){let o=xr(),h=xr();return i.forEach(y=>o=o.add(y)),e.getEntries(u,o).next(y=>{let C=ns();return i.forEach((P,V)=>{const Y=y.get(P);V.isFoundDocument()!==Y.isFoundDocument()&&(h=h.add(P)),V.isNoDocument()&&V.version.isEqual(Ht.min())?(e.removeEntry(P,V.readTime),C=C.insert(P,V)):!Y.isValidDocument()||V.version.compareTo(Y.version)>0||0===V.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(V),C=C.insert(P,V)):Se("LocalStore","Ignoring outdated watch update for ",P,". Current version:",Y.version," Watch version:",V.version)}),{Ps:C,Is:h}})}function ip(u,e){const i=gt(u);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function $c(u,e){const i=gt(u);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return i.Ur.getTargetData(o,e).next(y=>y?(h=y,nt.resolve(h)):i.Ur.allocateTargetId(o).next(C=>(h=new k(e,C,"TargetPurposeListen",o.currentSequenceNumber),i.Ur.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=i.os.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(i.os=i.os.insert(o.targetId,o),i._s.set(e,o.targetId)),o})}function zl(u,e,i){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,d.A)(function*(u,e,i){const o=gt(u),h=o.os.get(e),y=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",y,C=>o.persistence.referenceDelegate.removeTarget(C,h)))}catch(C){if(!Yn(C))throw C;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}o.os=o.os.remove(e),o._s.delete(h.target)})).apply(this,arguments)}function dc(u,e,i){const o=gt(u);let h=Ht.min(),y=xr();return o.persistence.runTransaction("Execute query","readwrite",C=>function(V,Y,ce){const Ee=gt(V),We=Ee._s.get(ce);return void 0!==We?nt.resolve(Ee.os.get(We)):Ee.Ur.getTargetData(Y,ce)}(o,C,Dn(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(C,P.targetId).next(V=>{y=V})}).next(()=>o.ss.getDocumentsMatchingQuery(C,e,i?h:Ht.min(),i?y:xr())).next(P=>(qh(o,Nl(e),P),{documents:P,Ts:y})))}function Kh(u,e){const i=gt(u),o=gt(i.Ur),h=i.os.get(e);return h?Promise.resolve(h.target):i.persistence.runTransaction("Get target data","readonly",y=>o.ot(y,e).next(C=>C?C.target:null))}function $a(u,e){const i=gt(u),o=i.us.get(e)||Ht.min();return i.persistence.runTransaction("Get new document changes","readonly",h=>i.cs.getAllFromCollectionGroup(h,e,Jr(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(qh(i,e,h),h))}function qh(u,e,i){let o=u.us.get(e)||Ht.min();i.forEach((h,y)=>{y.readTime.compareTo(o)>0&&(o=y.readTime)}),u.us.set(e,o)}function Yh(){return(Yh=(0,d.A)(function*(u,e,i,o){const h=gt(u);let y=xr(),C=ns();for(const Y of i){const ce=e.Es(Y.metadata.name);Y.document&&(y=y.add(ce));const Ee=e.ds(Y);Ee.setReadTime(e.As(Y.metadata.readTime)),C=C.insert(ce,Ee)}const P=h.cs.newChangeBuffer({trackRemovals:!0}),V=yield $c(h,(ce=o,Dn(Z(gn.fromString(`__bundle__/docs/${ce}`)))));var ce;return h.persistence.runTransaction("Apply bundle documents","readwrite",Y=>Wh(Y,P,C).next(ce=>(P.apply(Y),ce)).next(ce=>h.Ur.removeMatchingKeysForTargetId(Y,V.targetId).next(()=>h.Ur.addMatchingKeys(Y,y,V.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(Y,ce.Ps,ce.Is)).next(()=>ce.Ps)))})).apply(this,arguments)}function Xh(u,e){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,d.A)(function*(u,e,i=xr()){const o=yield $c(u,Dn(Zr(e.bundledQuery))),h=gt(u);return h.persistence.runTransaction("Save named query","readwrite",y=>{const C=hs(e.readTime);if(o.snapshotVersion.compareTo(C)>=0)return h.Gr.saveNamedQuery(y,e);const P=o.withResumeToken(li.EMPTY_BYTE_STRING,C);return h.os=h.os.insert(P.targetId,P),h.Ur.updateTargetData(y,P).next(()=>h.Ur.removeMatchingKeysForTargetId(y,o.targetId)).next(()=>h.Ur.addMatchingKeys(y,i,o.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function hc(u,e){return`firestore_clients_${u}_${e}`}function Hu(u,e,i){let o=`firestore_mutations_${u}_${i}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Od(u,e){return`firestore_targets_${u}_${e}`}class Nd{constructor(e,i,o,h){this.user=e,this.batchId=i,this.state=o,this.error=h}static Rs(e,i,o){const h=JSON.parse(o);let y,C="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return C&&h.error&&(C="string"==typeof h.error.message&&"string"==typeof h.error.code,C&&(y=new ot(h.error.code,h.error.message))),C?new Nd(e,i,h.state,y):(on("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fc{constructor(e,i,o){this.targetId=e,this.state=i,this.error=o}static Rs(e,i){const o=JSON.parse(i);let h,y="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return y&&o.error&&(y="string"==typeof o.error.message&&"string"==typeof o.error.code,y&&(h=new ot(o.error.code,o.error.message))),y?new fc(e,o.state,h):(on("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hc{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Rs(e,i){const o=JSON.parse(i);let h="object"==typeof o&&o.activeTargetIds instanceof Array,y=lo();for(let C=0;h&&C<o.activeTargetIds.length;++C)h=lt(o.activeTargetIds[C]),y=y.add(o.activeTargetIds[C]);return h?new Hc(e,y):(on("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class w{constructor(e,i){this.clientId=e,this.onlineState=i}static Rs(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new w(i.clientId,i.onlineState):(on("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _{constructor(){this.activeTargetIds=lo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E{constructor(e,i,o,h,y){this.window=e,this.ui=i,this.persistenceKey=o,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new _e(nn),this.started=!1,this.bs=[];const C=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=hc(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new _),this.Cs=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.A)(function*(){const i=yield e.syncEngine.Qi();for(const h of i){if(h===e.ps)continue;const y=e.getItem(hc(e.persistenceKey,h));if(y){const C=Hc.Rs(h,y);C&&(e.Ss=e.Ss.insert(C.clientId,C))}}e.Ns();const o=e.storage.getItem(e.xs);if(o){const h=e.Ls(o);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let i=!1;return this.Ss.forEach((o,h)=>{h.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,i,o){this.qs(e,i,o),this.Qs(e)}addLocalQueryTarget(e,i=!0){let o="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Od(this.persistenceKey,e));if(h){const y=fc.Rs(e,h);y&&(o=y.state)}}return i&&this.Ks.fs(e),this.Ns(),o}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Od(this.persistenceKey,e))}updateQueryState(e,i,o){this.$s(e,i,o)}handleUserChange(e,i,o){i.forEach(h=>{this.Qs(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Se("SharedClientState","READ",e,i),i}setItem(e,i){Se("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var i=this;const o=e;if(o.storageArea===this.storage){if(Se("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void on("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,d.A)(function*(){if(i.started){if(null!==o.key)if(i.Cs.test(o.key)){if(null==o.newValue){const h=i.Gs(o.key);return i.zs(h,null)}{const h=i.js(o.key,o.newValue);if(h)return i.zs(h.clientId,h)}}else if(i.Fs.test(o.key)){if(null!==o.newValue){const h=i.Hs(o.key,o.newValue);if(h)return i.Js(h)}}else if(i.Ms.test(o.key)){if(null!==o.newValue){const h=i.Ys(o.key,o.newValue);if(h)return i.Zs(h)}}else if(o.key===i.xs){if(null!==o.newValue){const h=i.Ls(o.newValue);if(h)return i.Bs(h)}}else if(o.key===i.vs){const h=function(C){let P=L.oe;if(null!=C)try{const V=JSON.parse(C);Yt("number"==typeof V),P=V}catch(V){on("SharedClientState","Failed to read sequence number from WebStorage",V)}return P}(o.newValue);h!==L.oe&&i.sequenceNumberHandler(h)}else if(o.key===i.Os){const h=i.Xs(o.newValue);yield Promise.all(h.map(y=>i.syncEngine.eo(y)))}}else i.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,i,o){const h=new Nd(this.currentUser,e,i,o),y=Hu(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const i=Hu(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,i,o){const h=Od(this.persistenceKey,e),y=new fc(e,i,o);this.setItem(h,y.Vs())}Ws(e){const i=JSON.stringify(Array.from(e));this.setItem(this.Os,i)}Gs(e){const i=this.Cs.exec(e);return i?i[1]:null}js(e,i){const o=this.Gs(e);return Hc.Rs(o,i)}Hs(e,i){const o=this.Fs.exec(e),h=Number(o[1]);return Nd.Rs(new Je(void 0!==o[2]?o[2]:null),h,i)}Ys(e,i){const o=this.Ms.exec(e),h=Number(o[1]);return fc.Rs(h,i)}Ls(e){return w.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var i=this;return(0,d.A)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.no(e.batchId,e.state,e.error);Se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,i){const o=i?this.Ss.insert(e,i):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(o),C=[],P=[];return y.forEach(V=>{h.has(V)||C.push(V)}),h.forEach(V=>{y.has(V)||P.push(V)}),this.syncEngine.io(C,P).then(()=>{this.Ss=o})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let i=lo();return e.forEach((o,h)=>{i=i.unionWith(h.activeTargetIds)}),i}}class x{constructor(){this.so=new _,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,o){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,o){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _,Promise.resolve()}handleUserChange(e,i,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xe=null;function Pt(){return null===Xe?Xe=268435456+Math.round(2147483648*Math.random()):Xe++,"0x"+Xe.toString(16)}const Jt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Hn="WebChannelConnection";class zr extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const o=i.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+i.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(i,o,h,y,C){const P=Pt(),V=this.xo(i,o.toUriEncodedString());Se("RestConnection",`Sending RPC '${i}' ${P}:`,V,h);const Y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(Y,y,C),this.No(i,V,Y,h).then(ce=>(Se("RestConnection",`Received RPC '${i}' ${P}: `,ce),ce),ce=>{throw bn("RestConnection",`RPC '${i}' ${P} failed with error: `,ce,"url: ",V,"request:",h),ce})}Lo(i,o,h,y,C,P){return this.Mo(i,o,h,y,C)}Oo(i,o,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+Ue,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((y,C)=>i[C]=y),h&&h.headers.forEach((y,C)=>i[C]=y)}xo(i,o){return`${this.Do}/v1/${o}:${Jt[i]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,o,h){const y=Pt();return new Promise((C,P)=>{const V=new ve;V.setWithCredentials(!0),V.listenOnce(At.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case dt.NO_ERROR:const ce=V.getResponseJson();Se(Hn,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(ce)),C(ce);break;case dt.TIMEOUT:Se(Hn,`RPC '${e}' ${y} timed out`),P(new ot(je.DEADLINE_EXCEEDED,"Request time out"));break;case dt.HTTP_ERROR:const Ee=V.getStatus();if(Se(Hn,`RPC '${e}' ${y} failed with status:`,Ee,"response text:",V.getResponseText()),Ee>0){let We=V.getResponseJson();Array.isArray(We)&&(We=We[0]);const Ct=We?.error;if(Ct&&Ct.status&&Ct.message){const qt=function(rn){const ar=rn.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(ar)>=0?ar:je.UNKNOWN}(Ct.status);P(new ot(qt,Ct.message))}else P(new ot(je.UNKNOWN,"Server responded with status "+V.getStatus()))}else P(new ot(je.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{Se(Hn,`RPC '${e}' ${y} completed.`)}});const Y=JSON.stringify(h);Se(Hn,`RPC '${e}' ${y} sending request:`,h),V.send(i,"POST",Y,o,15)})}Bo(e,i,o){const h=Pt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],C=He(),P=pn(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(V.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(V.useFetchStreams=!0),this.Oo(V.initMessageHeaders,i,o),V.encodeInitMessageHeaders=!0;const ce=y.join("");Se(Hn,`Creating RPC '${e}' stream ${h}: ${ce}`,V);const Ee=C.createWebChannel(ce,V);let We=!1,Ct=!1;const qt=new Gn({Io:rn=>{Ct?Se(Hn,`Not sending because RPC '${e}' stream ${h} is closed:`,rn):(We||(Se(Hn,`Opening RPC '${e}' stream ${h} transport.`),Ee.open(),We=!0),Se(Hn,`RPC '${e}' stream ${h} sending:`,rn),Ee.send(rn))},To:()=>Ee.close()}),En=(rn,ar,vr)=>{rn.listen(ar,pr=>{try{vr(pr)}catch(Lr){setTimeout(()=>{throw Lr},0)}})};return En(Ee,$e.EventType.OPEN,()=>{Ct||(Se(Hn,`RPC '${e}' stream ${h} transport opened.`),qt.yo())}),En(Ee,$e.EventType.CLOSE,()=>{Ct||(Ct=!0,Se(Hn,`RPC '${e}' stream ${h} transport closed`),qt.So())}),En(Ee,$e.EventType.ERROR,rn=>{Ct||(Ct=!0,bn(Hn,`RPC '${e}' stream ${h} transport errored:`,rn),qt.So(new ot(je.UNAVAILABLE,"The operation could not be completed")))}),En(Ee,$e.EventType.MESSAGE,rn=>{var ar;if(!Ct){const vr=rn.data[0];Yt(!!vr);const Lr=vr.error||(null===(ar=vr[0])||void 0===ar?void 0:ar.error);if(Lr){Se(Hn,`RPC '${e}' stream ${h} received error:`,Lr);const Vi=Lr.status;let oi=function(Qe){const ht=Fr[Qe];if(void 0!==ht)return ws(ht)}(Vi),ut=Lr.message;void 0===oi&&(oi=je.INTERNAL,ut="Unknown error status: "+Vi+" with message "+Lr.message),Ct=!0,qt.So(new ot(oi,ut)),Ee.close()}else Se(Hn,`RPC '${e}' stream ${h} received:`,vr),qt.bo(vr)}}),En(P,Ot.STAT_EVENT,rn=>{rn.stat===jt.PROXY?Se(Hn,`RPC '${e}' stream ${h} detected buffering proxy`):rn.stat===jt.NOPROXY&&Se(Hn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{qt.wo()},0),qt}}function Bo(){return typeof window<"u"?window:null}function _a(){return typeof document<"u"?document:null}function fl(u){return new Oh(u,!0)}class kd{constructor(e,i,o=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=i,this.ko=o,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),h=Math.max(0,i-o);h>0&&Se("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Fd{constructor(e,i,o,h,y,C,P,V){this.ui=e,this.Ho=o,this.Jo=h,this.connection=y,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=P,this.listener=V,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kd(e,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,d.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,d.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,i){var o=this;return(0,d.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():i&&i.code===je.RESOURCE_EXHAUSTED?(on(i.toString()),on("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):i&&i.code===je.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(i)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Yo===i&&this.P_(o,h)},o=>{e(()=>{const h=new ot(je.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(h)})})}P_(e,i){const o=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{o(()=>this.I_(h))}),this.stream.onMessage(h=>{o(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,d.A)(function*(){e.state=0,e.start()}))}I_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget(()=>this.Yo===e?i():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kl extends Fd{constructor(e,i,o,h,y,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,h,C),this.serializer=y}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=function ec(u,e){let i;if("targetChange"in e){const o="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Ft(),h=e.targetChange.targetIds||[],y=function(Y,ce){return Y.useProto3Json?(Yt(void 0===ce||"string"==typeof ce),li.fromBase64String(ce||"")):(Yt(void 0===ce||ce instanceof Buffer||ce instanceof Uint8Array),li.fromUint8Array(ce||new Uint8Array))}(u,e.targetChange.resumeToken),C=e.targetChange.cause,P=C&&function(Y){const ce=void 0===Y.code?je.UNKNOWN:ws(Y.code);return new ot(ce,Y.message||"")}(C);i=new pd(o,h,y,P||null)}else if("documentChange"in e){const o=e.documentChange,h=uo(u,o.document.name),y=hs(o.document.updateTime),C=o.document.createTime?hs(o.document.createTime):Ht.min(),P=new Fe({mapValue:{fields:o.document.fields}}),V=bt.newFoundDocument(h,y,C,P);i=new xc(o.targetIds||[],o.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const o=e.documentDelete,h=uo(u,o.document),y=o.readTime?hs(o.readTime):Ht.min(),C=bt.newNoDocument(h,y);i=new xc([],o.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const o=e.documentRemove,h=uo(u,o.document);i=new xc([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Ft();{const o=e.filter,{count:h=0,unchangedNames:y}=o,C=new Mh(h,y);i=new tl(o.targetId,C)}}var Y;return i}(this.serializer,e),o=function(y){if(!("targetChange"in y))return Ht.min();const C=y.targetChange;return C.targetIds&&C.targetIds.length?Ht.min():C.readTime?hs(C.readTime):Ht.min()}(e);return this.listener.d_(i,o)}A_(e){const i={};i.database=rl(this.serializer),i.addTarget=function(y,C){let P;const V=C.target;if(P=oa(V)?{documents:yo(y,V)}:{query:Fa(y,V)._t},P.targetId=C.targetId,C.resumeToken.approximateByteSize()>0){P.resumeToken=md(y,C.resumeToken);const Y=Pu(y,C.expectedCount);null!==Y&&(P.expectedCount=Y)}else if(C.snapshotVersion.compareTo(Ht.min())>0){P.readTime=fa(y,C.snapshotVersion.toTimestamp());const Y=Pu(y,C.expectedCount);null!==Y&&(P.expectedCount=Y)}return P}(this.serializer,e);const o=function Ul(u,e){const i=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);o&&(i.labels=o),this.a_(i)}R_(e){const i={};i.database=rl(this.serializer),i.removeTarget=e,this.a_(i)}}class Tg extends Fd{constructor(e,i,o,h,y,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,h,C),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=function Zs(u,e){return u&&u.length>0?(Yt(void 0!==e),u.map(i=>function(h,y){let C=hs(h.updateTime?h.updateTime:y);return C.isEqual(Ht.min())&&(C=hs(y)),new B(C,h.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),o=hs(e.commitTime);return this.listener.g_(o,i)}p_(){const e={};e.database=rl(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map(o=>tc(this.serializer,o))};this.a_(i)}}class Ig extends class{}{constructor(e,i,o,h){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=o,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new ot(je.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,o,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,C])=>this.connection.Mo(e,Za(i,o),h,y,C)).catch(y=>{throw"FirebaseError"===y.name?(y.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new ot(je.UNKNOWN,y.toString())})}Lo(e,i,o,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([C,P])=>this.connection.Lo(e,Za(i,o),h,C,P,y)).catch(C=>{throw"FirebaseError"===C.name?(C.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),C):new ot(je.UNKNOWN,C.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ql{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(on(i),this.D_=!1):Se("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class wg{constructor(e,i,o,h,y){var C=this;this.localStore=e,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(P=>{o.enqueueAndForget((0,d.A)(function*(){var V;Ga(C)&&(Se("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,d.A)(function*(ce){const Ee=gt(ce);Ee.L_.add(4),yield zu(Ee),Ee.q_.set("Unknown"),Ee.L_.delete(4),yield Yl(Ee)}),function Y(ce){return V.apply(this,arguments)})(C))}))}),this.q_=new ql(o,h)}}function Yl(u){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,d.A)(function*(u){if(Ga(u))for(const e of u.B_)yield e(!0)})).apply(this,arguments)}function zu(u){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,d.A)(function*(u){for(const e of u.B_)yield e(!1)})).apply(this,arguments)}function pc(u,e){const i=gt(u);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),Dg(i)?Qh(i):Hd(i).r_()&&Xl(i,e))}function pl(u,e){const i=gt(u),o=Hd(i);i.N_.delete(e),o.r_()&&Ag(i,e),0===i.N_.size&&(o.r_()?o.o_():Ga(i)&&i.q_.set("Unknown"))}function Xl(u,e){if(u.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const i=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Hd(u).A_(e)}function Ag(u,e){u.Q_.xe(e),Hd(u).R_(e)}function Qh(u){u.Q_=new xu({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.N_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),Hd(u).start(),u.q_.v_()}function Dg(u){return Ga(u)&&!Hd(u).n_()&&u.N_.size>0}function Ga(u){return 0===gt(u).L_.size}function Sg(u){u.Q_=void 0}function n_(u){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,d.A)(function*(u){u.q_.set("Online")})).apply(this,arguments)}function sp(u){return jd.apply(this,arguments)}function jd(){return(jd=(0,d.A)(function*(u){u.N_.forEach((e,i)=>{Xl(u,e)})})).apply(this,arguments)}function op(u,e){return xg.apply(this,arguments)}function xg(){return(xg=(0,d.A)(function*(u,e){Sg(u),Dg(u)?(u.q_.M_(e),Qh(u)):u.q_.set("Unknown")})).apply(this,arguments)}function kv(u,e,i){return zc.apply(this,arguments)}function zc(){return zc=(0,d.A)(function*(u,e,i){if(u.q_.set("Online"),e instanceof pd&&2===e.state&&e.cause)try{yield(o=(0,d.A)(function*(y,C){const P=C.cause;for(const V of C.targetIds)y.N_.has(V)&&(yield y.remoteSyncer.rejectListen(V,P),y.N_.delete(V),y.Q_.removeTarget(V))}),function h(y,C){return o.apply(this,arguments)})(u,e)}catch(o){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Bd(u,o)}else if(e instanceof xc?u.Q_.Ke(e):e instanceof tl?u.Q_.He(e):u.Q_.We(e),!i.isEqual(Ht.min()))try{const o=yield Md(u.localStore);i.compareTo(o)>=0&&(yield function(y,C){const P=y.Q_.rt(C);return P.targetChanges.forEach((V,Y)=>{if(V.resumeToken.approximateByteSize()>0){const ce=y.N_.get(Y);ce&&y.N_.set(Y,ce.withResumeToken(V.resumeToken,C))}}),P.targetMismatches.forEach((V,Y)=>{const ce=y.N_.get(V);if(!ce)return;y.N_.set(V,ce.withResumeToken(li.EMPTY_BYTE_STRING,ce.snapshotVersion)),Ag(y,V);const Ee=new k(ce.target,V,Y,ce.sequenceNumber);Xl(y,Ee)}),y.remoteSyncer.applyRemoteEvent(P)}(u,i))}catch(o){Se("RemoteStore","Failed to raise snapshot:",o),yield Bd(u,o)}var o}),zc.apply(this,arguments)}function Bd(u,e,i){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,d.A)(function*(u,e,i){if(!Yn(e))throw e;u.L_.add(1),yield zu(u),u.q_.set("Offline"),i||(i=()=>Md(u.localStore)),u.asyncQueue.enqueueRetryable((0,d.A)(function*(){Se("RemoteStore","Retrying IndexedDB access"),yield i(),u.L_.delete(1),yield Yl(u)}))})).apply(this,arguments)}function r_(u,e){return e().catch(i=>Bd(u,i,e))}function $d(u){return ap.apply(this,arguments)}function ap(){return(ap=(0,d.A)(function*(u){const e=gt(u),i=Zl(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ey(e);)try{const h=yield ip(e.localStore,o);if(null===h){0===e.O_.length&&i.o_();break}o=h.batchId,by(e,h)}catch(h){yield Bd(e,h)}Zo(e)&&Jh(e)})).apply(this,arguments)}function Ey(u){return Ga(u)&&u.O_.length<10}function by(u,e){u.O_.push(e);const i=Zl(u);i.r_()&&i.V_&&i.m_(e.mutations)}function Zo(u){return Ga(u)&&!Zl(u).n_()&&u.O_.length>0}function Jh(u){Zl(u).start()}function i_(u){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,d.A)(function*(u){Zl(u).p_()})).apply(this,arguments)}function Eo(u){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,d.A)(function*(u){const e=Zl(u);for(const i of u.O_)e.m_(i.mutations)})).apply(this,arguments)}function Jl(u,e,i){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,d.A)(function*(u,e,i){const o=u.O_.shift(),h=Us.from(o,e,i);yield r_(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield $d(u)})).apply(this,arguments)}function Mg(u,e){return cp.apply(this,arguments)}function cp(){return cp=(0,d.A)(function*(u,e){var i;e&&Zl(u).V_&&(yield(i=(0,d.A)(function*(h,y){if(Xo(P=y.code)&&P!==je.ABORTED){const C=h.O_.shift();Zl(h).s_(),yield r_(h,()=>h.remoteSyncer.rejectFailedWrite(C.batchId,y)),yield $d(h)}var P}),function o(h,y){return i.apply(this,arguments)})(u,e)),Zo(u)&&Jh(u)}),cp.apply(this,arguments)}function Rg(u,e){return lp.apply(this,arguments)}function lp(){return(lp=(0,d.A)(function*(u,e){const i=gt(u);i.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const o=Ga(i);i.L_.add(3),yield zu(i),o&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),yield Yl(i)})).apply(this,arguments)}function ef(u,e){return up.apply(this,arguments)}function up(){return(up=(0,d.A)(function*(u,e){const i=gt(u);e?(i.L_.delete(2),yield Yl(i)):e||(i.L_.add(2),yield zu(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Hd(u){return u.K_||(u.K_=function(i,o,h){const y=gt(i);return y.w_(),new Kl(o,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(u.datastore,u.asyncQueue,{Eo:n_.bind(null,u),Ro:sp.bind(null,u),mo:op.bind(null,u),d_:kv.bind(null,u)}),u.B_.push(function(){var e=(0,d.A)(function*(i){i?(u.K_.s_(),Dg(u)?Qh(u):u.q_.set("Unknown")):(yield u.K_.stop(),Sg(u))});return function(i){return e.apply(this,arguments)}}())),u.K_}function Zl(u){return u.U_||(u.U_=function(i,o,h){const y=gt(i);return y.w_(),new Tg(o,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(u.datastore,u.asyncQueue,{Eo:()=>Promise.resolve(),Ro:i_.bind(null,u),mo:Mg.bind(null,u),f_:Eo.bind(null,u),g_:Jl.bind(null,u)}),u.B_.push(function(){var e=(0,d.A)(function*(i){i?(u.U_.s_(),yield $d(u)):(yield u.U_.stop(),u.O_.length>0&&(Se("RemoteStore",`Stopping write stream with ${u.O_.length} pending writes`),u.O_=[]))});return function(i){return e.apply(this,arguments)}}())),u.U_}class zd{constructor(e,i,o,h,y){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=o,this.op=h,this.removalCallback=y,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,o,h,y){const C=Date.now()+o,P=new zd(e,i,C,h,y);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ot(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wc(u,e){if(on("AsyncQueue",`${e}: ${u}`),Yn(u))return new ot(je.UNAVAILABLE,`${e}: ${u}`);throw u}class Wd{constructor(e){this.comparator=e?(i,o)=>e(i,o)||zt.comparator(i.key,o.key):(i,o)=>zt.comparator(i.key,o.key),this.keyedMap=ao(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new Wd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,o)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Wd)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=o.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const o=new Wd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=i,o}}class gc{constructor(){this.W_=new _e(zt.comparator)}track(e){const i=e.doc.key,o=this.W_.get(i);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(i,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(i,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(i):1===e.type&&2===o.type?this.W_=this.W_.insert(i,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Ft():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal((i,o)=>{e.push(o)}),e}}class Kd{constructor(e,i,o,h,y,C,P,V,Y){this.query=e,this.docs=i,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=y,this.fromCache=C,this.syncStateChanged=P,this.excludesMetadataChanges=V,this.hasCachedResults=Y}static fromInitialDocuments(e,i,o,h,y){const C=[];return i.forEach(P=>{C.push({type:0,doc:P})}),new Kd(e,i,Wd.emptySet(i),C,o,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,o=e.docChanges;if(i.length!==o.length)return!1;for(let h=0;h<i.length;h++)if(i[h].type!==o[h].type||!i[h].doc.isEqual(o[h].doc))return!1;return!0}}class Fv{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class gl{constructor(){this.queries=Og(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,o){const h=gt(i),y=h.queries;h.queries=Og(),y.forEach((C,P)=>{for(const V of P.j_)V.onError(o)})}(this,new ot(je.ABORTED,"Firestore shutting down"))}}function Og(){return new Yi(u=>oo(u),mo)}function dp(u,e){return eu.apply(this,arguments)}function eu(){return(eu=(0,d.A)(function*(u,e){const i=gt(u);let o=3;const h=e.query;let y=i.queries.get(h);y?!y.H_()&&e.J_()&&(o=2):(y=new Fv,o=e.J_()?0:1);try{switch(o){case 0:y.z_=yield i.onListen(h,!0);break;case 1:y.z_=yield i.onListen(h,!1);break;case 2:yield i.onFirstRemoteStoreListen(h)}}catch(C){const P=Wc(C,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(P)}i.queries.set(h,y),y.j_.push(e),e.Z_(i.onlineState),y.z_&&e.X_(y.z_)&&kg(i)})).apply(this,arguments)}function qd(u,e){return hp.apply(this,arguments)}function hp(){return(hp=(0,d.A)(function*(u,e){const i=gt(u),o=e.query;let h=3;const y=i.queries.get(o);if(y){const C=y.j_.indexOf(e);C>=0&&(y.j_.splice(C,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return i.queries.delete(o),i.onUnlisten(o,!0);case 1:return i.queries.delete(o),i.onUnlisten(o,!1);case 2:return i.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Ng(u,e){const i=gt(u);let o=!1;for(const h of e){const C=i.queries.get(h.query);if(C){for(const P of C.j_)P.X_(h)&&(o=!0);C.z_=h}}o&&kg(i)}function fp(u,e,i){const o=gt(u),h=o.queries.get(e);if(h)for(const y of h.j_)y.onError(i);o.queries.delete(e)}function kg(u){u.Y_.forEach(e=>{e.next()})}var Fg,Lg;(Lg=Fg||(Fg={})).ea="default",Lg.Cache="cache";class Yd{constructor(e,i,o){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new Kd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===i)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fg.Cache}}class pp{constructor(e,i){this.aa=e,this.byteLength=i}ua(){return"metadata"in this.aa}}class s_{constructor(e){this.serializer=e}Es(e){return uo(this.serializer,e)}ds(e){return e.metadata.exists?il(this.serializer,e.document,!1):bt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return hs(e)}}class o_{constructor(e,i,o){this.ca=e,this.localStore=i,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tu(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++i;const o=gn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(e){const i=new Map,o=new s_(this.serializer);for(const h of e)if(h.metadata.queries){const y=o.Es(h.metadata.name);for(const C of h.metadata.queries){const P=(i.get(C)||xr()).add(y);i.set(C,P)}}return i}complete(){var e=this;return(0,d.A)(function*(){const i=yield function Gc(u,e,i,o){return Yh.apply(this,arguments)}(e.localStore,new s_(e.serializer),e.documents,e.ca.id),o=e.ha(e.documents);for(const h of e.queries)yield Xh(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:i}})()}}function tu(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class tf{constructor(e){this.key=e}}class vi{constructor(e){this.key=e}}class a_{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xr(),this.mutatedKeys=xr(),this.Aa=Ms(e),this.Ra=new Wd(this.Aa)}get Va(){return this.Ta}ma(e,i){const o=i?i.fa:new gc,h=i?i.Ra:this.Ra;let y=i?i.mutatedKeys:this.mutatedKeys,C=h,P=!1;const V="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,Y="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ce,Ee)=>{const We=h.get(ce),Ct=Fo(this.query,Ee)?Ee:null,qt=!!We&&this.mutatedKeys.has(We.key),En=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let rn=!1;We&&Ct?We.data.isEqual(Ct.data)?qt!==En&&(o.track({type:3,doc:Ct}),rn=!0):this.ga(We,Ct)||(o.track({type:2,doc:Ct}),rn=!0,(V&&this.Aa(Ct,V)>0||Y&&this.Aa(Ct,Y)<0)&&(P=!0)):!We&&Ct?(o.track({type:0,doc:Ct}),rn=!0):We&&!Ct&&(o.track({type:1,doc:We}),rn=!0,(V||Y)&&(P=!0)),rn&&(Ct?(C=C.add(Ct),y=En?y.add(ce):y.delete(ce)):(C=C.delete(ce),y=y.delete(ce)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const ce="F"===this.query.limitType?C.last():C.first();C=C.delete(ce.key),y=y.delete(ce.key),o.track({type:1,doc:ce})}return{Ra:C,fa:o,ns:P,mutatedKeys:y}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,o,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const C=e.fa.G_();C.sort((ce,Ee)=>function(Ct,qt){const En=rn=>{switch(rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return En(Ct)-En(qt)}(ce.type,Ee.type)||this.Aa(ce.doc,Ee.doc)),this.pa(o),h=null!=h&&h;const P=i&&!h?this.ya():[],V=0===this.da.size&&this.current&&!h?1:0,Y=V!==this.Ea;return this.Ea=V,0!==C.length||Y?{snapshot:new Kd(this.query,e.Ra,y,C,e.mutatedKeys,0===V,Y,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xr(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const i=[];return e.forEach(o=>{this.da.has(o)||i.push(new vi(o))}),this.da.forEach(o=>{e.has(o)||i.push(new tf(o))}),i}ba(e){this.Ta=e.Ts,this.da=xr();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return Kd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Cy{constructor(e,i,o){this.query=e,this.targetId=i,this.view=o}}class Vg{constructor(e){this.key=e,this.va=!1}}class c_{constructor(e,i,o,h,y,C){this.localStore=e,this.remoteStore=i,this.eventManager=o,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=C,this.Ca={},this.Fa=new Yi(P=>oo(P),mo),this.Ma=new Map,this.xa=new Set,this.Oa=new _e(zt.comparator),this.Na=new Map,this.La=new ja,this.Ba={},this.ka=new Map,this.qa=Ws.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function nu(u,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,d.A)(function*(u,e,i=!0){const o=wp(u);let h;const y=o.Fa.get(e);return y?(o.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield Ty(o,e,i,!0),h})).apply(this,arguments)}function l_(u,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,d.A)(function*(u,e){const i=wp(u);yield Ty(i,e,!0,!1)})).apply(this,arguments)}function Ty(u,e,i,o){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,d.A)(function*(u,e,i,o){const h=yield $c(u.localStore,Dn(e)),y=h.targetId,C=u.sharedClientState.addLocalQueryTarget(y,i);let P;return o&&(P=yield jg(u,e,y,"current"===C,h.resumeToken)),u.isPrimaryClient&&i&&pc(u.remoteStore,h),P})).apply(this,arguments)}function jg(u,e,i,o,h){return mp.apply(this,arguments)}function mp(){return mp=(0,d.A)(function*(u,e,i,o,h){u.Ka=(Ee,We,Ct)=>{return(qt=(0,d.A)(function*(rn,ar,vr,pr){let Lr=ar.view.ma(vr);Lr.ns&&(Lr=yield dc(rn.localStore,ar.query,!1).then(({documents:Ve})=>ar.view.ma(Ve,Lr)));const Vi=pr&&pr.targetChanges.get(ar.targetId),oi=pr&&null!=pr.targetMismatches.get(ar.targetId),ut=ar.view.applyChanges(Lr,rn.isPrimaryClient,Vi,oi);return ru(rn,ar.targetId,ut.wa),ut.snapshot}),function En(rn,ar,vr,pr){return qt.apply(this,arguments)})(u,Ee,We,Ct);var qt};const y=yield dc(u.localStore,e,!0),C=new a_(e,y.Ts),P=C.ma(y.documents),V=ka.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==u.onlineState,h),Y=C.applyChanges(P,u.isPrimaryClient,V);ru(u,i,Y.wa);const ce=new Cy(e,i,C);return u.Fa.set(e,ce),u.Ma.has(i)?u.Ma.get(i).push(e):u.Ma.set(i,[e]),Y.snapshot}),mp.apply(this,arguments)}function u_(u,e,i){return _p.apply(this,arguments)}function _p(){return(_p=(0,d.A)(function*(u,e,i){const o=gt(u),h=o.Fa.get(e),y=o.Ma.get(h.targetId);if(y.length>1)return o.Ma.set(h.targetId,y.filter(C=>!mo(C,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(h.targetId),o.sharedClientState.isActiveQueryTarget(h.targetId)||(yield zl(o.localStore,h.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(h.targetId),i&&pl(o.remoteStore,h.targetId),ml(o,h.targetId)}).catch(Fn))):(ml(o,h.targetId),yield zl(o.localStore,h.targetId,!0))})).apply(this,arguments)}function Bg(u,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,d.A)(function*(u,e){const i=gt(u),o=i.Fa.get(e),h=i.Ma.get(o.targetId);i.isPrimaryClient&&1===h.length&&(i.sharedClientState.removeLocalQueryTarget(o.targetId),pl(i.remoteStore,o.targetId))})).apply(this,arguments)}function Wu(){return(Wu=(0,d.A)(function*(u,e,i){const o=tm(u);try{const h=yield function(C,P){const V=gt(C),Y=Qt.now(),ce=P.reduce((Ct,qt)=>Ct.add(qt.key),xr());let Ee,We;return V.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let qt=ns(),En=xr();return V.cs.getEntries(Ct,ce).next(rn=>{qt=rn,qt.forEach((ar,vr)=>{vr.isValidDocument()||(En=En.add(ar))})}).next(()=>V.localDocuments.getOverlayedDocuments(Ct,qt)).next(rn=>{Ee=rn;const ar=[];for(const vr of P){const pr=Ti(vr,Ee.get(vr.key).overlayedDocument);null!=pr&&ar.push(new yi(vr.key,pr,rt(pr.value.mapValue),Q.exists(!0)))}return V.mutationQueue.addMutationBatch(Ct,Y,ar,P)}).next(rn=>{We=rn;const ar=rn.applyToLocalDocumentSet(Ee,En);return V.documentOverlayCache.saveOverlays(Ct,rn.batchId,ar)})}).then(()=>({batchId:We.batchId,changes:tn(Ee)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(C,P,V){let Y=C.Ba[C.currentUser.toKey()];Y||(Y=new _e(nn)),Y=Y.insert(P,V),C.Ba[C.currentUser.toKey()]=Y}(o,h.batchId,i),yield iu(o,h.changes),yield $d(o.remoteStore)}catch(h){const y=Wc(h,"Failed to persist write");i.reject(y)}})).apply(this,arguments)}function $g(u,e){return nf.apply(this,arguments)}function nf(){return(nf=(0,d.A)(function*(u,e){const i=gt(u);try{const o=yield function Cg(u,e){const i=gt(u),o=e.snapshotVersion;let h=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const C=i.cs.newChangeBuffer({trackRemovals:!0});h=i.os;const P=[];e.targetChanges.forEach((ce,Ee)=>{const We=h.get(Ee);if(!We)return;P.push(i.Ur.removeMatchingKeys(y,ce.removedDocuments,Ee).next(()=>i.Ur.addMatchingKeys(y,ce.addedDocuments,Ee)));let Ct=We.withSequenceNumber(y.currentSequenceNumber);var En,rn,ar;null!==e.targetMismatches.get(Ee)?Ct=Ct.withResumeToken(li.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):ce.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(ce.resumeToken,o)),h=h.insert(Ee,Ct),rn=Ct,ar=ce,(0===(En=We).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-En.snapshotVersion.toMicroseconds()>=3e8||ar.addedDocuments.size+ar.modifiedDocuments.size+ar.removedDocuments.size>0)&&P.push(i.Ur.updateTargetData(y,Ct))});let V=ns(),Y=xr();if(e.documentUpdates.forEach(ce=>{e.resolvedLimboDocuments.has(ce)&&P.push(i.persistence.referenceDelegate.updateLimboDocument(y,ce))}),P.push(Wh(y,C,e.documentUpdates).next(ce=>{V=ce.Ps,Y=ce.Is})),!o.isEqual(Ht.min())){const ce=i.Ur.getLastRemoteSnapshotVersion(y).next(Ee=>i.Ur.setTargetsMetadata(y,y.currentSequenceNumber,o));P.push(ce)}return nt.waitFor(P).next(()=>C.apply(y)).next(()=>i.localDocuments.getLocalViewOfDocuments(y,V,Y)).next(()=>V)}).then(y=>(i.os=h,y))}(i.localStore,e);e.targetChanges.forEach((h,y)=>{const C=i.Na.get(y);C&&(Yt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?C.va=!0:h.modifiedDocuments.size>0?Yt(C.va):h.removedDocuments.size>0&&(Yt(C.va),C.va=!1))}),yield iu(i,o,e)}catch(o){yield Fn(o)}})).apply(this,arguments)}function rf(u,e,i){const o=gt(u);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const h=[];o.Fa.forEach((y,C)=>{const P=C.view.Z_(e);P.snapshot&&h.push(P.snapshot)}),function(C,P){const V=gt(C);V.onlineState=P;let Y=!1;V.queries.forEach((ce,Ee)=>{for(const We of Ee.j_)We.Z_(P)&&(Y=!0)}),Y&&kg(V)}(o.eventManager,e),h.length&&o.Ca.d_(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function d_(u,e,i){return sf.apply(this,arguments)}function sf(){return(sf=(0,d.A)(function*(u,e,i){const o=gt(u);o.sharedClientState.updateQueryState(e,"rejected",i);const h=o.Na.get(e),y=h&&h.key;if(y){let C=new _e(zt.comparator);C=C.insert(y,bt.newNoDocument(y,Ht.min()));const P=xr().add(y),V=new Rs(Ht.min(),new Map,new _e(nn),C,P);yield $g(o,V),o.Oa=o.Oa.remove(y),o.Na.delete(e),Wg(o)}else yield zl(o.localStore,e,!1).then(()=>ml(o,e,i)).catch(Fn)})).apply(this,arguments)}function af(u,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,d.A)(function*(u,e){const i=gt(u),o=e.batch.batchId;try{const h=yield function rp(u,e){const i=gt(u);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),y=i.cs.newChangeBuffer({trackRemovals:!0});return function(P,V,Y,ce){const Ee=Y.batch,We=Ee.keys();let Ct=nt.resolve();return We.forEach(qt=>{Ct=Ct.next(()=>ce.getEntry(V,qt)).next(En=>{const rn=Y.docVersions.get(qt);Yt(null!==rn),En.version.compareTo(rn)<0&&(Ee.applyToRemoteDocument(En,Y),En.isValidDocument()&&(En.setReadTime(Y.commitVersion),ce.addEntry(En)))})}),Ct.next(()=>P.mutationQueue.removeMutationBatch(V,Ee))}(i,o,e,y).next(()=>y.apply(o)).next(()=>i.mutationQueue.performConsistencyCheck(o)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(o,h,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(P){let V=xr();for(let Y=0;Y<P.mutationResults.length;++Y)P.mutationResults[Y].transformResults.length>0&&(V=V.add(P.batch.mutations[Y].key));return V}(e))).next(()=>i.localDocuments.getDocuments(o,h))})}(i.localStore,e);bp(i,o,null),Ep(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield iu(i,h)}catch(h){yield Fn(h)}})).apply(this,arguments)}function h_(u,e,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,d.A)(function*(u,e,i){const o=gt(u);try{const h=yield function(C,P){const V=gt(C);return V.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let ce;return V.mutationQueue.lookupMutationBatch(Y,P).next(Ee=>(Yt(null!==Ee),ce=Ee.keys(),V.mutationQueue.removeMutationBatch(Y,Ee))).next(()=>V.mutationQueue.performConsistencyCheck(Y)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(Y,ce,P)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,ce)).next(()=>V.localDocuments.getDocuments(Y,ce))})}(o.localStore,e);bp(o,e,i),Ep(o,e),o.sharedClientState.updateMutationState(e,"rejected",i),yield iu(o,h)}catch(h){yield Fn(h)}})).apply(this,arguments)}function zg(){return(zg=(0,d.A)(function*(u,e){const i=gt(u);Ga(i.remoteStore)||Se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(C){const P=gt(C);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>P.mutationQueue.getHighestUnacknowledgedBatchId(V))}(i.localStore);if(-1===o)return void e.resolve();const h=i.ka.get(o)||[];h.push(e),i.ka.set(o,h)}catch(o){const h=Wc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Ep(u,e){(u.ka.get(e)||[]).forEach(i=>{i.resolve()}),u.ka.delete(e)}function bp(u,e,i){const o=gt(u);let h=o.Ba[o.currentUser.toKey()];if(h){const y=h.get(e);y&&(i?y.reject(i):y.resolve(),h=h.remove(e)),o.Ba[o.currentUser.toKey()]=h}}function ml(u,e,i=null){u.sharedClientState.removeLocalQueryTarget(e);for(const o of u.Ma.get(e))u.Fa.delete(o),i&&u.Ca.$a(o,i);u.Ma.delete(e),u.isPrimaryClient&&u.La.gr(e).forEach(o=>{u.La.containsKey(o)||Cp(u,o)})}function Cp(u,e){u.xa.delete(e.path.canonicalString());const i=u.Oa.get(e);null!==i&&(pl(u.remoteStore,i),u.Oa=u.Oa.remove(e),u.Na.delete(i),Wg(u))}function ru(u,e,i){for(const o of i)o instanceof tf?(u.La.addReference(o.key,e),wy(u,o)):o instanceof vi?(Se("SyncEngine","Document no longer in limbo: "+o.key),u.La.removeReference(o.key,e),u.La.containsKey(o.key)||Cp(u,o.key)):Ft()}function wy(u,e){const i=e.key,o=i.path.canonicalString();u.Oa.get(i)||u.xa.has(o)||(Se("SyncEngine","New document in limbo: "+i),u.xa.add(o),Wg(u))}function Wg(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const e=u.xa.values().next().value;u.xa.delete(e);const i=new zt(gn.fromString(e)),o=u.qa.next();u.Na.set(o,new Vg(i)),u.Oa=u.Oa.insert(i,o),pc(u.remoteStore,new k(Dn(Z(i.path)),o,"TargetPurposeLimboResolution",L.oe))}}function iu(u,e,i){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,d.A)(function*(u,e,i){const o=gt(u),h=[],y=[],C=[];var P;o.Fa.isEmpty()||(o.Fa.forEach((P,V)=>{C.push(o.Ka(V,e,i).then(Y=>{var ce;if((Y||i)&&o.isPrimaryClient){const Ee=Y?!Y.fromCache:null===(ce=i?.targetChanges.get(V.targetId))||void 0===ce?void 0:ce.current;o.sharedClientState.updateQueryState(V.targetId,Ee?"current":"not-current")}if(Y){h.push(Y);const Ee=np.Wi(V.targetId,Y);y.push(Ee)}}))}),yield Promise.all(C),o.Ca.d_(h),yield(P=(0,d.A)(function*(Y,ce){const Ee=gt(Y);try{yield Ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>nt.forEach(ce,Ct=>nt.forEach(Ct.$i,qt=>Ee.persistence.referenceDelegate.addReference(We,Ct.targetId,qt)).next(()=>nt.forEach(Ct.Ui,qt=>Ee.persistence.referenceDelegate.removeReference(We,Ct.targetId,qt)))))}catch(We){if(!Yn(We))throw We;Se("LocalStore","Failed to update sequence numbers: "+We)}for(const We of ce){const Ct=We.targetId;if(!We.fromCache){const qt=Ee.os.get(Ct),rn=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);Ee.os=Ee.os.insert(Ct,rn)}}}),function V(Y,ce){return P.apply(this,arguments)})(o.localStore,y))}),Kg.apply(this,arguments)}function qg(u,e){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,d.A)(function*(u,e){const i=gt(u);if(!i.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const o=yield Ba(i.localStore,e);i.currentUser=e,(y=i).ka.forEach(P=>{P.forEach(V=>{V.reject(new ot(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),i.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield iu(i,o.hs)}var y})).apply(this,arguments)}function Qd(u,e){const i=gt(u),o=i.Na.get(e);if(o&&o.va)return xr().add(o.key);{let h=xr();const y=i.Ma.get(e);if(!y)return h;for(const C of y){const P=i.Fa.get(C);h=h.unionWith(P.view.Va)}return h}}function Tp(u,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,d.A)(function*(u,e){const i=gt(u),o=yield dc(i.localStore,e.query,!0),h=e.view.ba(o);return i.isPrimaryClient&&ru(i,e.targetId,h.wa),h})).apply(this,arguments)}function f_(u,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,d.A)(function*(u,e){const i=gt(u);return $a(i.localStore,e).then(o=>iu(i,o))})).apply(this,arguments)}function p_(u,e,i,o){return _l.apply(this,arguments)}function _l(){return(_l=(0,d.A)(function*(u,e,i,o){const h=gt(u),y=yield function(P,V){const Y=gt(P),ce=gt(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Ee=>ce.Mn(Ee,V).next(We=>We?Y.localDocuments.getDocuments(Ee,We):nt.resolve(null)))}(h.localStore,e);var V;null!==y?("pending"===i?yield $d(h.remoteStore):"acknowledged"===i||"rejected"===i?(bp(h,e,o||null),Ep(h,e),V=e,gt(gt(h.localStore).mutationQueue).On(V)):Ft(),yield iu(h,y)):Se("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Xg(){return(Xg=(0,d.A)(function*(u,e){const i=gt(u);if(wp(i),tm(i),!0===e&&!0!==i.Qa){const o=i.sharedClientState.getAllActiveQueryTargets(),h=yield g_(i,o.toArray());i.Qa=!0,yield ef(i.remoteStore,!0);for(const y of h)pc(i.remoteStore,y)}else if(!1===e&&!1!==i.Qa){const o=[];let h=Promise.resolve();i.Ma.forEach((y,C)=>{i.sharedClientState.isLocalQueryTarget(C)?o.push(C):h=h.then(()=>(ml(i,C),zl(i.localStore,C,!0))),pl(i.remoteStore,C)}),yield h,yield g_(i,o),function(C){const P=gt(C);P.Na.forEach((V,Y)=>{pl(P.remoteStore,Y)}),P.La.pr(),P.Na=new Map,P.Oa=new _e(zt.comparator)}(i),i.Qa=!1,yield ef(i.remoteStore,!1)}})).apply(this,arguments)}function g_(u,e,i){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,d.A)(function*(u,e,i){const o=gt(u),h=[],y=[];for(const C of e){let P;const V=o.Ma.get(C);if(V&&0!==V.length){P=yield $c(o.localStore,Dn(V[0]));for(const Y of V){const ce=o.Fa.get(Y),Ee=yield Tp(o,ce);Ee.snapshot&&y.push(Ee.snapshot)}}else{const Y=yield Kh(o.localStore,C);P=yield $c(o.localStore,Y),yield jg(o,Jg(Y),C,!1,P.resumeToken)}h.push(P)}return o.Ca.d_(y),h})).apply(this,arguments)}function Jg(u){return q(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function yl(u){return i=gt(u).localStore,gt(gt(i).persistence).Qi();var i}function Ku(u,e,i,o){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,d.A)(function*(u,e,i,o){const h=gt(u);if(h.Qa)return void Se("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(i){case"current":case"not-current":{const C=yield $a(h.localStore,Nl(y[0])),P=Rs.createSynthesizedRemoteEventForCurrentChange(e,"current"===i,li.EMPTY_BYTE_STRING);yield iu(h,C,P);break}case"rejected":yield zl(h.localStore,e,!0),ml(h,e,o);break;default:Ft()}})).apply(this,arguments)}function m_(u,e,i){return em.apply(this,arguments)}function em(){return(em=(0,d.A)(function*(u,e,i){const o=wp(u);if(o.Qa){for(const h of e){if(o.Ma.has(h)&&o.sharedClientState.isActiveQueryTarget(h)){Se("SyncEngine","Adding an already active target "+h);continue}const y=yield Kh(o.localStore,h),C=yield $c(o.localStore,y);yield jg(o,Jg(y),C.targetId,!1,C.resumeToken),pc(o.remoteStore,C)}for(const h of i)o.Ma.has(h)&&(yield zl(o.localStore,h,!1).then(()=>{pl(o.remoteStore,h),ml(o,h)}).catch(Fn))}})).apply(this,arguments)}function wp(u){const e=gt(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=$g.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d_.bind(null,e),e.Ca.d_=Ng.bind(null,e.eventManager),e.Ca.$a=fp.bind(null,e.eventManager),e}function tm(u){const e=gt(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=af.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h_.bind(null,e),e}let qu=(()=>{class u{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var o=this;return(0,d.A)(function*(){o.serializer=fl(i.databaseInfo.databaseId),o.sharedClientState=o.Wa(i),o.persistence=o.Ga(i),yield o.persistence.start(),o.localStore=o.za(i),o.gcScheduler=o.ja(i,o.localStore),o.indexBackfillerScheduler=o.Ha(i,o.localStore)})()}ja(i,o){return null}Ha(i,o){return null}za(i){return zh(this.persistence,new bg,i.initialUser,this.serializer)}Ga(i){return new Sd($u.Zr,this.serializer)}Wa(i){return new x}terminate(){var i=this;return(0,d.A)(function*(){var o,h;null===(o=i.gcScheduler)||void 0===o||o.stop(),null===(h=i.indexBackfillerScheduler)||void 0===h||h.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return u.provider={build:()=>new u},u})();class nm extends qu{constructor(e,i,o){super(),this.Ja=e,this.cacheSizeBytes=i,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,o=this;return(0,d.A)(function*(){yield i().call(o,e),yield o.Ja.initialize(o,e),yield tm(o.Ja.syncEngine),yield $d(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return zh(this.persistence,new bg,e.initialUser,this.serializer)}ja(e,i){return new Vc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,i)}Ha(e,i){const o=new R(i,this.persistence);return new G(e.asyncQueue,o)}Ga(e){const i=xd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new Gu(this.synchronizeTabs,i,e.clientId,o,e.asyncQueue,Bo(),_a(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new x}}class Ap extends nm{constructor(e,i){super(e,i,!1),this.Ja=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,o=this;return(0,d.A)(function*(){yield i().call(o,e);const h=o.Ja.syncEngine;o.sharedClientState instanceof E&&(o.sharedClientState.syncEngine={no:p_.bind(null,h),ro:Ku.bind(null,h),io:m_.bind(null,h),Qi:yl.bind(null,h),eo:f_.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var y=(0,d.A)(function*(C){yield function Ay(u,e){return Xg.apply(this,arguments)}(o.Ja.syncEngine,C),o.gcScheduler&&(C&&!o.gcScheduler.started?o.gcScheduler.start():C||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(C&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():C||o.indexBackfillerScheduler.stop())});return function(C){return y.apply(this,arguments)}}())})()}Wa(e){const i=Bo();if(!E.D(i))throw new ot(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=xd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new E(i,e.asyncQueue,o,e.clientId,e.initialUser)}}let Jd=(()=>{class u{initialize(i,o){var h=this;return(0,d.A)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(o),h.remoteStore=h.createRemoteStore(o),h.eventManager=h.createEventManager(o),h.syncEngine=h.createSyncEngine(o,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>rf(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=qg.bind(null,h.syncEngine),yield ef(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new gl}createDatastore(i){const o=fl(i.databaseInfo.databaseId),h=new zr(i.databaseInfo);return new Ig(i.authCredentials,i.appCheckCredentials,h,o)}createRemoteStore(i){return h=this.localStore,y=this.datastore,C=i.asyncQueue,P=o=>rf(this.syncEngine,o,0),V=he.D()?new he:new J,new wg(h,y,C,P,V);var h,y,C,P,V}createSyncEngine(i,o){return function(y,C,P,V,Y,ce,Ee){const We=new c_(y,C,P,V,Y,ce);return Ee&&(We.Qa=!0),We}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){var i=this;return(0,d.A)(function*(){var o,h,y;yield(y=(0,d.A)(function*(P){const V=gt(P);Se("RemoteStore","RemoteStore shutting down."),V.L_.add(5),yield zu(V),V.k_.shutdown(),V.q_.set("Unknown")}),function C(P){return y.apply(this,arguments)})(i.remoteStore),null===(o=i.datastore)||void 0===o||o.terminate(),null===(h=i.eventManager)||void 0===h||h.terminate()})()}}return u.provider={build:()=>new u},u})();function lf(u,e=10240){let i=0;return{read:()=>(0,d.A)(function*(){if(i<u.byteLength){const o={value:u.slice(i,i+e),done:!1};return i+=e,o}return{done:!0}})(),cancel:()=>(0,d.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ha{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):on("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout(()=>{this.muted||e(i)},0)}}class uf{constructor(e,i){this.Xa=e,this.serializer=i,this.metadata=new un,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,d.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,d.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,d.A)(function*(){const i=yield e.nu();if(null===i)return null;const o=e.eu.decode(i),h=Number(o);isNaN(h)&&e.ru(`length string (${o}) is not valid number`);const y=yield e.iu(h);return new pp(JSON.parse(y),i.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,d.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const i=e.su();i<0&&e.ru("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),o})()}iu(e){var i=this;return(0,d.A)(function*(){for(;i.buffer.length<e;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const o=i.eu.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),o})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,d.A)(function*(){const i=yield e.Xa.read();if(!i.done){const o=new Uint8Array(e.buffer.length+i.value.length);o.set(e.buffer),o.set(i.value,e.buffer.length),e.buffer=o}return i.done})()}}class __{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,d.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new ot(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const o=yield(h=(0,d.A)(function*(C,P){const V=gt(C),Y={documents:P.map(Ct=>Gr(V.serializer,Ct))},ce=yield V.Lo("BatchGetDocuments",V.serializer.databaseId,gn.emptyPath(),Y,P.length),Ee=new Map;ce.forEach(Ct=>{const qt=function sl(u,e){return"found"in e?function(o,h){Yt(!!h.found);const y=uo(o,h.found.name),C=hs(h.found.updateTime),P=h.found.createTime?hs(h.found.createTime):Ht.min(),V=new Fe({mapValue:{fields:h.found.fields}});return bt.newFoundDocument(y,C,P,V)}(u,e):"missing"in e?function(o,h){Yt(!!h.missing),Yt(!!h.readTime);const y=uo(o,h.missing),C=hs(h.readTime);return bt.newNoDocument(y,C)}(u,e):Ft()}(V.serializer,Ct);Ee.set(qt.key.toString(),qt)});const We=[];return P.forEach(Ct=>{const qt=Ee.get(Ct.toString());Yt(!!qt),We.push(qt)}),We}),function y(C,P){return h.apply(this,arguments)})(i.datastore,e);var h;return o.forEach(h=>i.recordVersion(h)),o})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new vs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const i=e.readVersions;var o;e.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,h)=>{const y=zt.fromPath(h);e.mutations.push(new ua(y,e.precondition(y)))}),yield(o=(0,d.A)(function*(y,C){const P=gt(y),V={writes:C.map(Y=>tc(P.serializer,Y))};yield P.Mo("Commit",P.serializer.databaseId,gn.emptyPath(),V)}),function h(y,C){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Ft();i=Ht.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!i.isEqual(o))throw new ot(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(Ht.min())?Q.exists(!1):Q.updateTime(i):Q.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Ht.min()))throw new ot(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Q.updateTime(i)}return Q.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class y_{constructor(e,i,o,h,y){this.asyncQueue=e,this.datastore=i,this.options=o,this.updateFunction=h,this.deferred=y,this._u=o.maxAttempts,this.t_=new kd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,d.A)(function*(){const i=new __(e.datastore),o=e.cu(i);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const i=this.updateFunction(e);return!se(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Xo(i)}return!1}}class v_{constructor(e,i,o,h,y){var C=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=h,this.user=Je.UNAUTHENTICATED,this.clientId=Bn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(o,function(){var P=(0,d.A)(function*(V){Se("FirestoreClient","Received user=",V.uid),yield C.authCredentialListener(V),C.user=V});return function(V){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(o,P=>(Se("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(o){const h=Wc(o,"Failed to shutdown persistence");i.reject(h)}})),i.promise}}function E_(u,e){return b_.apply(this,arguments)}function b_(){return b_=(0,d.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const i=u.configuration;yield e.initialize(i);let o=i.initialUser;u.setCredentialChangeListener(function(){var h=(0,d.A)(function*(y){o.isEqual(y)||(yield Ba(e.localStore,y),o=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),b_.apply(this,arguments)}function xy(u,e){return su.apply(this,arguments)}function su(){return(su=(0,d.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const i=yield Kc(u);Se("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,u.configuration),u.setCredentialChangeListener(o=>Rg(e.remoteStore,o)),u.setAppCheckTokenChangeListener((o,h)=>Rg(e.remoteStore,h)),u._onlineComponents=e})).apply(this,arguments)}function Kc(u){return df.apply(this,arguments)}function df(){return(df=(0,d.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield E_(u,u._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===je.FAILED_PRECONDITION||h.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;bn("Error using user provided cache. Falling back to memory cache: "+e),yield E_(u,new qu)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),yield E_(u,new qu);var h;return u._offlineComponents})).apply(this,arguments)}function Zd(u){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,d.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),yield xy(u,u._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),yield xy(u,new Jd))),u._onlineComponents})).apply(this,arguments)}function hf(u){return Kc(u).then(e=>e.persistence)}function eh(u){return Kc(u).then(e=>e.localStore)}function C_(u){return Zd(u).then(e=>e.remoteStore)}function Dp(u){return Zd(u).then(e=>e.syncEngine)}function vl(u){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,d.A)(function*(u){const e=yield Zd(u),i=e.eventManager;return i.onListen=nu.bind(null,e.syncEngine),i.onUnlisten=u_.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=l_.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Bg.bind(null,e.syncEngine),i})).apply(this,arguments)}function sm(u,e,i={}){const o=new un;return u.asyncQueue.enqueueAndForget((0,d.A)(function*(){return function(y,C,P,V,Y){const ce=new Ha({next:We=>{ce.Za(),C.enqueueAndForget(()=>qd(y,Ee));const Ct=We.docs.has(P);!Ct&&We.fromCache?Y.reject(new ot(je.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&We.fromCache&&V&&"server"===V.source?Y.reject(new ot(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(We)},error:We=>Y.reject(We)}),Ee=new Yd(Z(P.path),ce,{includeMetadataChanges:!0,_a:!0});return dp(y,Ee)}(yield vl(u),u.asyncQueue,e,i,o)})),o.promise}function xp(u,e,i={}){const o=new un;return u.asyncQueue.enqueueAndForget((0,d.A)(function*(){return function(y,C,P,V,Y){const ce=new Ha({next:We=>{ce.Za(),C.enqueueAndForget(()=>qd(y,Ee)),We.fromCache&&"server"===V.source?Y.reject(new ot(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(We)},error:We=>Y.reject(We)}),Ee=new Yd(P,ce,{includeMetadataChanges:!0,_a:!0});return dp(y,Ee)}(yield vl(u),u.asyncQueue,e,i,o)})),o.promise}function w_(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const Da=new Map;function As(u,e,i){if(!i)throw new ot(je.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function ou(u,e,i,o){if(!0===e&&!0===o)throw new ot(je.INVALID_ARGUMENT,`${u} and ${i} cannot be used together.`)}function ff(u){if(!zt.isDocumentKey(u))throw new ot(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function om(u){if(zt.isDocumentKey(u))throw new ot(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function th(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(o=u).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof u?"a function":Ft()}function si(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new ot(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=th(u);throw new ot(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return u}function am(u,e){if(e<=0)throw new ot(je.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}class cm{constructor(e){var i,o;if(void 0===e.host){if(void 0!==e.ssl)throw new ot(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ot(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ou("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=w_(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class au{constructor(e,i,o,h){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=o,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ot(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cm(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Ae;switch(o.type){case"firstParty":return new et(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ot(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,d.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=Da.get(i);o&&(Se("ComponentProvider","Removing Datastore"),Da.delete(i),o.terminate())}(this),Promise.resolve()}}function Fy(u,e,i,o={}){var h;const y=(u=si(u,au))._getSettings(),C=`${e}:${i}`;if("firestore.googleapis.com"!==y.host&&y.host!==C&&bn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},y),{host:C,ssl:!1})),o.mockUserToken){let P,V;if("string"==typeof o.mockUserToken)P=o.mockUserToken,V=Je.MOCK_USER;else{P=(0,pe.Fy)(o.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const Y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Y)throw new ot(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Je(Y)}u._authCredentials=new be(new Ke(P,V))}}class ho{constructor(e,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class qs{constructor(e,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qs(this.firestore,e,this._key)}}class mc extends ho{constructor(e,i,o){super(e,i,Z(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qs(this.firestore,null,new zt(e))}withConverter(e){return new mc(this.firestore,e,this._path)}}function Ly(u,e,...i){if(u=(0,pe.Ku)(u),As("collection","path",e),u instanceof au){const o=gn.fromString(e,...i);return om(o),new mc(u,null,o)}{if(!(u instanceof qs||u instanceof mc))throw new ot(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=u._path.child(gn.fromString(e,...i));return om(o),new mc(u.firestore,null,o)}}function A_(u,e){if(u=si(u,au),As("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ot(je.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ho(u,null,(o=e,new qo(gn.emptyPath(),o)));var o}function Qu(u,e,...i){if(u=(0,pe.Ku)(u),1===arguments.length&&(e=Bn.newId()),As("doc","path",e),u instanceof au){const o=gn.fromString(e,...i);return ff(o),new qs(u,null,new zt(o))}{if(!(u instanceof qs||u instanceof mc))throw new ot(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=u._path.child(gn.fromString(e,...i));return ff(o),new qs(u.firestore,u instanceof mc?u.converter:null,new zt(o))}}function Vv(u,e){return u=(0,pe.Ku)(u),e=(0,pe.Ku)(e),(u instanceof qs||u instanceof mc)&&(e instanceof qs||e instanceof mc)&&u.firestore===e.firestore&&u.path===e.path&&u.converter===e.converter}function Pp(u,e){return u=(0,pe.Ku)(u),e=(0,pe.Ku)(e),u instanceof ho&&e instanceof ho&&u.firestore===e.firestore&&mo(u._query,e._query)&&u.converter===e.converter}class Mp{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kd(this,"async_queue_retry"),this.Vu=()=>{const o=_a();o&&Se("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const i=_a();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=_a();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new un;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,d.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(i){if(!Yn(i))throw i;Se("AsyncQueue","Operation failed with retryable error: "+i)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const i=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,on("INTERNAL UNHANDLED ERROR: ",function(C){let P=C.message||"";return C.stack&&(P=C.stack.includes(C.message)?C.stack:C.message+"\n"+C.stack),P}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=i,i}enqueueAfterDelay(e,i,o){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const h=zd.createAndSchedule(this,e,i,o,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Ft()}verifyOperationInProgress(){}wu(){var e=this;return(0,d.A)(function*(){let i;do{i=e.mu,yield i}while(i!==e.mu)})()}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function D_(u){return function(i,o){if("object"!=typeof i||null===i)return!1;const h=i;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(u)}class S_{constructor(){this._progressObserver={},this._taskCompletionResolver=new un,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,o){this._progressObserver={next:e,error:i,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const lm=-1;class Pi extends au{constructor(e,i,o,h){super(e,i,o,h),this.type="firestore",this._queue=new Mp,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,d.A)(function*(){if(e._firestoreClient){const i=e._firestoreClient.terminate();e._queue=new Mp(i),e._firestoreClient=void 0,yield i}})()}}function pf(u,e){const i="object"==typeof u?u:(0,p.getApp)(),o="string"==typeof u?u:e||"(default)",h=(0,p._getProvider)(i,"firestore").getImmediate({identifier:o});if(!h._initialized){const y=(0,pe.yU)("firestore");y&&Fy(h,...y)}return h}function fs(u){if(u._terminated)throw new ot(je.FAILED_PRECONDITION,"The client has already been terminated.");return u._firestoreClient||Vy(u),u._firestoreClient}function Vy(u){var e,i,o;const h=u._freezeSettings(),y=(V=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new jr(u._databaseId,V,u._persistenceKey,(ce=h).host,ce.ssl,ce.experimentalForceLongPolling,ce.experimentalAutoDetectLongPolling,w_(ce.experimentalLongPollingOptions),ce.useFetchStreams));var V,ce;u._componentsProvider||!(null===(i=h.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(o=h.localCache)||void 0===o)&&o._onlineComponentProvider&&(u._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),u._firestoreClient=new v_(u._authCredentials,u._appCheckCredentials,u._queue,y,u._componentsProvider&&function(P){const V=P?._online.build();return{_offline:P?._offline.build(V),_online:V}}(u._componentsProvider))}function Rp(u,e){bn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=u._freezeSettings();return Uy(u,Jd.provider,{build:o=>new nm(o,i.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function rh(u){return um.apply(this,arguments)}function um(){return(um=(0,d.A)(function*(u){bn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=u._freezeSettings();Uy(u,Jd.provider,{build:i=>new Ap(i,e.cacheSizeBytes)})})).apply(this,arguments)}function Uy(u,e,i){if((u=si(u,Pi))._firestoreClient||u._terminated)throw new ot(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(u._componentsProvider||u._getSettings().localCache)throw new ot(je.FAILED_PRECONDITION,"SDK cache is already specified.");u._componentsProvider={_online:e,_offline:i},Vy(u)}function Uv(u){if(u._initialized&&!u._terminated)throw new ot(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new un;return u._queue.enqueueAndForgetEvenWhileRestricted((0,d.A)(function*(){try{yield(i=(0,d.A)(function*(h){if(!ae.D())return Promise.resolve();const y=h+"main";yield ae.delete(y)}),function o(h){return i.apply(this,arguments)})(xd(u._databaseId,u._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}function dm(u){return function(i){const o=new un;return i.asyncQueue.enqueueAndForget((0,d.A)(function*(){return function Iy(u,e){return zg.apply(this,arguments)}(yield Dp(i),o)})),o.promise}(fs(u=si(u,Pi)))}function jy(u){return function im(u){return u.asyncQueue.enqueue((0,d.A)(function*(){const e=yield hf(u),i=yield C_(u);return e.setNetworkEnabled(!0),function(h){const y=gt(h);return y.L_.delete(0),Yl(y)}(i)}))}(fs(u=si(u,Pi)))}function jv(u){return function Py(u){return u.asyncQueue.enqueue((0,d.A)(function*(){const e=yield hf(u),i=yield C_(u);return e.setNetworkEnabled(!1),(o=(0,d.A)(function*(y){const C=gt(y);C.L_.add(0),yield zu(C),C.q_.set("Offline")}),function h(y){return o.apply(this,arguments)})(i);var o}))}(fs(u=si(u,Pi)))}function x_(u,e){const i=fs(u=si(u,Pi)),o=new S_;return function Oy(u,e,i,o){const h=function(C,P){let V;return V="string"==typeof C?fd().encode(C):C,ce=function(ce,Ee){if(ce instanceof Uint8Array)return lf(ce,void 0);if(ce instanceof ArrayBuffer)return lf(new Uint8Array(ce),void 0);if(ce instanceof ReadableStream)return ce.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new uf(ce,P);var ce}(i,fl(e));u.asyncQueue.enqueueAndForget((0,d.A)(function*(){!function Dy(u,e,i){const o=gt(u);var h;(h=(0,d.A)(function*(C,P,V){try{const Y=yield P.getMetadata();if(yield function(qt,En){const rn=gt(qt),ar=hs(En.createTime);return rn.persistence.runTransaction("hasNewerBundle","readonly",vr=>rn.Gr.getBundleMetadata(vr,En.id)).then(vr=>!!vr&&vr.createTime.compareTo(ar)>=0)}(C.localStore,Y))return yield P.close(),V._completeWith({taskState:"Success",documentsLoaded:(qt=Y).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);V._updateProgress(tu(Y));const ce=new o_(Y,C.localStore,P.serializer);let Ee=yield P.Ua();for(;Ee;){const Ct=yield ce.la(Ee);Ct&&V._updateProgress(Ct),Ee=yield P.Ua()}const We=yield ce.complete();return yield iu(C,We.Ia,void 0),yield function(qt,En){const rn=gt(qt);return rn.persistence.runTransaction("Save bundle","readwrite",ar=>rn.Gr.saveBundleMetadata(ar,En))}(C.localStore,Y),V._completeWith(We.progress),Promise.resolve(We.Pa)}catch(Y){return bn("SyncEngine",`Loading bundle failed with ${Y}`),V._failWith(Y),Promise.resolve(new Set)}var qt}),function y(C,P,V){return h.apply(this,arguments)})(o,e,i).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield Dp(u),h,o)}))}(i,u._databaseId,e,o),o}function eE(u,e){return function Ny(u,e){return u.asyncQueue.enqueue((0,d.A)(function*(){return function(o,h){const y=gt(o);return y.persistence.runTransaction("Get named query","readonly",C=>y.Gr.getNamedQuery(C,h))}(yield eh(u),e)}))}(fs(u=si(u,Pi)),e).then(i=>i?new ho(u,null,i.query):null)}class Ju{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ju(li.fromBase64String(e))}catch(i){throw new ot(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ju(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ih{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new ot(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class El{constructor(e){this._methodName=e}}class hm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}class gf{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,h){if(o.length!==h.length)return!1;for(let y=0;y<o.length;++y)if(o[y]!==h[y])return!1;return!0}(this._values,e._values)}}const P_=/^__.*__$/;class mf{constructor(e,i,o){this.data=e,this.fieldMask=i,this.fieldTransforms=o}toMutation(e,i){return null!==this.fieldMask?new yi(e,this.data,this.fieldMask,i,this.fieldTransforms):new Pr(e,this.data,i,this.fieldTransforms)}}class fm{constructor(e,i,o){this.data=e,this.fieldMask=i,this.fieldTransforms=o}toMutation(e,i){return new yi(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function pm(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class Zu{constructor(e,i,o,h,y,C){this.settings=e,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=C||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Zu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:o,xu:!1});return h.Ou(e),h}Nu(e){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:o,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(pm(this.Cu)&&P_.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class gm{constructor(e,i,o){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=o||fl(e)}Qu(e,i,o,h=!1){return new Zu({Cu:e,methodName:i,qu:o,path:lr.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _c(u){const e=u._freezeSettings(),i=fl(u._databaseId);return new gm(u._databaseId,!!e.ignoreUndefinedProperties,i)}function _f(u,e,i,o,h,y={}){const C=u.Qu(y.merge||y.mergeFields?2:0,e,i,h);N_("Data must be an object, but it was:",C,o);const P=O_(o,C);let V,Y;if(y.merge)V=new er(C.fieldMask),Y=C.fieldTransforms;else if(y.mergeFields){const ce=[];for(const Ee of y.mergeFields){const We=_m(e,Ee,i);if(!C.contains(We))throw new ot(je.INVALID_ARGUMENT,`Field '${We}' is specified in your field mask but missing from your input data.`);Hy(ce,We)||ce.push(We)}V=new er(ce),Y=C.fieldTransforms.filter(Ee=>V.covers(Ee.field))}else V=null,Y=C.fieldTransforms;return new mf(new Fe(P),V,Y)}class sh extends El{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sh}}function Np(u,e,i){return new Zu({Cu:3,qu:e.settings.qu,methodName:u._methodName,xu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class By extends El{_toFieldTransform(e){return new M(e.path,new Ac)}isEqual(e){return e instanceof By}}class kp extends El{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=Np(this,e,!0),o=this.Ku.map(y=>cu(y,i)),h=new Yo(o);return new M(e.path,h)}isEqual(e){return e instanceof kp&&(0,pe.bD)(this.Ku,e.Ku)}}class oh extends El{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=Np(this,e,!0),o=this.Ku.map(y=>cu(y,i)),h=new Na(o);return new M(e.path,h)}isEqual(e){return e instanceof oh&&(0,pe.bD)(this.Ku,e.Ku)}}class M_ extends El{constructor(e,i){super(e),this.$u=i}_toFieldTransform(e){const i=new Xa(e.serializer,Au(e.serializer,this.$u));return new M(e.path,i)}isEqual(e){return e instanceof M_&&this.$u===e.$u}}function mm(u,e,i,o){const h=u.Qu(1,e,i);N_("Data must be an object, but it was:",h,o);const y=[],C=Fe.empty();ri(o,(V,Y)=>{const ce=ah(e,V,i);Y=(0,pe.Ku)(Y);const Ee=h.Nu(ce);if(Y instanceof sh)y.push(ce);else{const We=cu(Y,Ee);null!=We&&(y.push(ce),C.set(ce,We))}});const P=new er(y);return new fm(C,P,h.fieldTransforms)}function R_(u,e,i,o,h,y){const C=u.Qu(1,e,i),P=[_m(e,o,i)],V=[h];if(y.length%2!=0)throw new ot(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let We=0;We<y.length;We+=2)P.push(_m(e,y[We])),V.push(y[We+1]);const Y=[],ce=Fe.empty();for(let We=P.length-1;We>=0;--We)if(!Hy(Y,P[We])){const Ct=P[We];let qt=V[We];qt=(0,pe.Ku)(qt);const En=C.Nu(Ct);if(qt instanceof sh)Y.push(Ct);else{const rn=cu(qt,En);null!=rn&&(Y.push(Ct),ce.set(Ct,rn))}}const Ee=new er(Y);return new fm(ce,Ee,C.fieldTransforms)}function $y(u,e,i,o=!1){return cu(i,u.Qu(o?4:3,e))}function cu(u,e){if(Gy(u=(0,pe.Ku)(u)))return N_("Unsupported field value:",e,u),O_(u,e);if(u instanceof El)return function(o,h){if(!pm(h.Cu))throw h.Bu(`${o._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${o._methodName}() is not currently supported inside arrays`);const y=o._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,h){const y=[];let C=0;for(const P of o){let V=cu(P,h.Lu(C));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),C++}return{arrayValue:{values:y}}}(u,e)}return function(o,h){if(null===(o=(0,pe.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Au(h.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const y=Qt.fromDate(o);return{timestampValue:fa(h.serializer,y)}}if(o instanceof Qt){const y=new Qt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:fa(h.serializer,y)}}if(o instanceof hm)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Ju)return{bytesValue:md(h.serializer,o._byteString)};if(o instanceof qs){const y=h.databaseId,C=o.firestore._databaseId;if(!C.isEqual(y))throw h.Bu(`Document reference is for database ${C.projectId}/${C.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:nl(o.firestore._databaseId||h.databaseId,o._key.path)}}if(o instanceof gf)return P=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(V=>{if("number"!=typeof V)throw P.Bu("VectorValues must only contain numeric values.");return rr(P.serializer,V)})}}}}};var P;throw h.Bu(`Unsupported field value: ${th(o)}`)}(u,e)}function O_(u,e){const i={};return is(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ri(u,(o,h)=>{const y=cu(h,e.Mu(o));null!=y&&(i[o]=y)}),{mapValue:{fields:i}}}function Gy(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Qt||u instanceof hm||u instanceof Ju||u instanceof qs||u instanceof El||u instanceof gf)}function N_(u,e,i){if(!Gy(i)||"object"!=typeof(h=i)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const o=th(i);throw e.Bu("an object"===o?u+" a custom object":u+" "+o)}var h}function _m(u,e,i){if((e=(0,pe.Ku)(e))instanceof ih)return e._internalPath;if("string"==typeof e)return ah(u,e);throw yf("Field path arguments must be of type string or ",u,!1,void 0,i)}const Gv=new RegExp("[~\\*/\\[\\]]");function ah(u,e,i){if(e.search(Gv)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,i);try{return new ih(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,i)}}function yf(u,e,i,o,h){const y=o&&!o.isEmpty(),C=void 0!==h;let P=`Function ${e}() called with invalid data`;i&&(P+=" (via `toFirestore()`)"),P+=". ";let V="";return(y||C)&&(V+=" (found",y&&(V+=` in field ${o}`),C&&(V+=` in document ${h}`),V+=")"),new ot(je.INVALID_ARGUMENT,P+u+V)}function Hy(u,e){return u.some(i=>i.isEqual(e))}class vf{constructor(e,i,o,h,y){this._firestore=e,this._userDataWriter=i,this._key=o,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new qs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new k_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ch("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class k_ extends vf{data(){return super.data()}}function ch(u,e){return"string"==typeof e?ah(u,e):e instanceof ih?e._internalPath:e._delegate._internalPath}function zy(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new ot(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ym{}class Fp extends ym{}function Wy(u,e,...i){let o=[];e instanceof ym&&o.push(e),o=o.concat(i),function(y){const C=y.filter(V=>V instanceof lu).length,P=y.filter(V=>V instanceof vm).length;if(C>1||C>0&&P>0)throw new ot(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const h of o)u=h._apply(u);return u}class vm extends Fp{constructor(e,i,o){super(),this._field=e,this._op=i,this._value=o,this.type="where"}static _create(e,i,o){return new vm(e,i,o)}_apply(e){const i=this._parse(e);return bm(e._query,i),new ho(e.firestore,e.converter,Vs(e._query,i))}_parse(e){const i=_c(e.firestore);return function(y,C,P,V,Y,ce,Ee){let We;if(Y.isKeyField()){if("array-contains"===ce||"array-contains-any"===ce)throw new ot(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ce}' queries on documentId().`);if("in"===ce||"not-in"===ce){U_(Ee,ce);const Ct=[];for(const qt of Ee)Ct.push(V_(V,y,qt));We={arrayValue:{values:Ct}}}else We=V_(V,y,Ee)}else"in"!==ce&&"not-in"!==ce&&"array-contains-any"!==ce||U_(Ee,ce),We=$y(P,"where",Ee,"in"===ce||"not-in"===ce);return Qn.create(Y,ce,We)}(e._query,0,i,e.firestore._databaseId,this._field,this._op,this._value)}}function Hv(u,e,i){const o=e,h=ch("where",u);return vm._create(h,o,i)}class lu extends ym{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new lu(e,i)}_parse(e){const i=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===i.length?i[0]:fr.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return 0===i.getFilters().length?e:(function(h,y){let C=h;const P=y.getFlattenedFilters();for(const V of P)bm(C,V),C=Vs(C,V)}(e._query,i),new ho(e.firestore,e.converter,Vs(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lh extends Fp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new lh(e,i)}_apply(e){const i=function(h,y,C){if(null!==h.startAt)throw new ot(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new ot(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hr(y,C)}(e._query,this._field,this._direction);return new ho(e.firestore,e.converter,function(h,y){const C=h.explicitOrderBy.concat([y]);return new qo(h.path,h.collectionGroup,C,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,i))}}function zv(u,e="asc"){const i=e,o=ch("orderBy",u);return lh._create(o,i)}class Vp extends Fp{constructor(e,i,o){super(),this.type=e,this._limit=i,this._limitType=o}static _create(e,i,o){return new Vp(e,i,o)}_apply(e){return new ho(e.firestore,e.converter,us(e._query,this._limit,this._limitType))}}function Wv(u){return am("limit",u),Vp._create("limit",u,"F")}function Kv(u){return am("limitToLast",u),Vp._create("limitToLast",u,"L")}class Em extends Fp{constructor(e,i,o){super(),this.type=e,this._docOrFields=i,this._inclusive=o}static _create(e,i,o){return new Em(e,i,o)}_apply(e){const i=Ef(e,this.type,this._docOrFields,this._inclusive);return new ho(e.firestore,e.converter,(y=i,new qo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function F_(...u){return Em._create("startAt",u,!0)}function Up(...u){return Em._create("startAfter",u,!1)}class ed extends Fp{constructor(e,i,o){super(),this.type=e,this._docOrFields=i,this._inclusive=o}static _create(e,i,o){return new ed(e,i,o)}_apply(e){const i=Ef(e,this.type,this._docOrFields,this._inclusive);return new ho(e.firestore,e.converter,(y=i,new qo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function qv(...u){return ed._create("endBefore",u,!1)}function L_(...u){return ed._create("endAt",u,!0)}function Ef(u,e,i,o){if(i[0]=(0,pe.Ku)(i[0]),i[0]instanceof vf)return function(y,C,P,V,Y){if(!V)throw new ot(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ce=[];for(const Ee of Ge(y))if(Ee.field.isKeyField())ce.push(Dr(C,V.key));else{const We=V.data.field(Ee.field);if(Ss(We))throw new ot(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const Ct=Ee.field.canonicalString();throw new ot(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}ce.push(We)}return new cn(ce,Y)}(u._query,u.firestore._databaseId,e,i[0]._document,o);{const h=_c(u.firestore);return function(C,P,V,Y,ce,Ee){const We=C.explicitOrderBy;if(ce.length>We.length)throw new ot(je.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let qt=0;qt<ce.length;qt++){const En=ce[qt];if(We[qt].field.isKeyField()){if("string"!=typeof En)throw new ot(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof En}`);if(!ue(C)&&-1!==En.indexOf("/"))throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${En}' contains a slash.`);const rn=C.path.child(gn.fromString(En));if(!zt.isDocumentKey(rn))throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${rn}' is not because it contains an odd number of segments.`);const ar=new zt(rn);Ct.push(Dr(P,ar))}else{const rn=$y(V,Y,En);Ct.push(rn)}}return new cn(Ct,Ee)}(u._query,u.firestore._databaseId,h,e,i,o)}}function V_(u,e,i){if("string"==typeof(i=(0,pe.Ku)(i))){if(""===i)throw new ot(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ue(e)&&-1!==i.indexOf("/"))throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=e.path.child(gn.fromString(i));if(!zt.isDocumentKey(o))throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Dr(u,new zt(o))}if(i instanceof qs)return Dr(u,i._key);throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(i)}.`)}function U_(u,e){if(!Array.isArray(u)||0===u.length)throw new ot(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bm(u,e){const i=function(h,y){for(const C of h)for(const P of C.getFlattenedFilters())if(y.indexOf(P.op)>=0)return P.op;return null}(u.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ot(je.INVALID_ARGUMENT,i===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class jp{convertValue(e,i="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const o={};return ri(e,(h,y)=>{o[h]=this.convertValue(y,i)}),o}convertVectorValue(e){var i,o,h;const y=null===(h=null===(o=null===(i=e.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.map(C=>ui(C.doubleValue));return new gf(y)}convertGeoPoint(e){return new hm(ui(e.latitude),ui(e.longitude))}convertArray(e,i){return(e.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(e,i){switch(i){case"previous":const o=ro(e);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(Gs(e));default:return null}}convertTimestamp(e){const i=Ds(e);return new Qt(i.seconds,i.nanos)}convertDocumentKey(e,i){const o=gn.fromString(e);Yt(A(o));const h=new di(o.get(1),o.get(3)),y=new zt(o.popFirst(5));return h.isEqual(i)||on(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),y}}function Bp(u,e,i){let o;return o=u?i&&(i.merge||i.mergeFields)?u.toFirestore(e,i):u.toFirestore(e):e,o}class Yv extends jp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qs(this.firestore,null,i)}}class bf{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends vf{constructor(e,i,o,h,y,C){super(e,i,o,h,C),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const o=this._document.data.field(ch("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class yc extends uu{data(e={}){return super.data(e)}}class Cl{constructor(e,i,o,h){this._firestore=e,this._userDataWriter=i,this._snapshot=h,this.metadata=new bf(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(o=>{e.call(i,new yc(this._firestore,this._userDataWriter,o.key,o,new bf(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let C=0;return h._snapshot.docChanges.map(P=>({type:"added",doc:new yc(h._firestore,h._userDataWriter,P.doc.key,P.doc,new bf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:C++}))}{let C=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(P=>y||3!==P.type).map(P=>{const V=new yc(h._firestore,h._userDataWriter,P.doc.key,P.doc,new bf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter);let Y=-1,ce=-1;return 0!==P.type&&(Y=C.indexOf(P.doc.key),C=C.delete(P.doc.key)),1!==P.type&&(C=C.add(P.doc),ce=C.indexOf(P.doc.key)),{type:Jv(P.type),doc:V,oldIndex:Y,newIndex:ce}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Jv(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function Zv(u,e){return u instanceof uu&&e instanceof uu?u._firestore===e._firestore&&u._key.isEqual(e._key)&&(null===u._document?null===e._document:u._document.isEqual(e._document))&&u._converter===e._converter:u instanceof Cl&&e instanceof Cl&&u._firestore===e._firestore&&Pp(u.query,e.query)&&u.metadata.isEqual(e.metadata)&&u._snapshot.isEqual(e._snapshot)}function e0(u){u=si(u,qs);const e=si(u.firestore,Pi);return sm(fs(e),u._key).then(i=>G_(e,u,i))}class Tl extends jp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qs(this.firestore,null,i)}}function Il(u){u=si(u,qs);const e=si(u.firestore,Pi),i=fs(e),o=new Tl(e);return function Xu(u,e){const i=new un;return u.asyncQueue.enqueueAndForget((0,d.A)(function*(){return(o=(0,d.A)(function*(y,C,P){try{const V=yield function(ce,Ee){const We=gt(ce);return We.persistence.runTransaction("read document","readonly",Ct=>We.localDocuments.getDocument(Ct,Ee))}(y,C);V.isFoundDocument()?P.resolve(V):V.isNoDocument()?P.resolve(null):P.reject(new ot(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const Y=Wc(V,`Failed to get document '${C} from cache`);P.reject(Y)}}),function h(y,C,P){return o.apply(this,arguments)})(yield eh(u),e,i);var o})),i.promise}(i,u._key).then(h=>new uu(e,o,u._key,h,new bf(null!==h&&h.hasLocalMutations,!0),u.converter))}function qy(u){u=si(u,qs);const e=si(u.firestore,Pi);return sm(fs(e),u._key,{source:"server"}).then(i=>G_(e,u,i))}function t0(u){u=si(u,ho);const e=si(u.firestore,Pi),i=fs(e),o=new Tl(e);return zy(u._query),xp(i,u._query).then(h=>new Cl(e,o,u,h))}function nE(u){u=si(u,ho);const e=si(u.firestore,Pi),i=fs(e),o=new Tl(e);return function My(u,e){const i=new un;return u.asyncQueue.enqueueAndForget((0,d.A)(function*(){return(o=(0,d.A)(function*(y,C,P){try{const V=yield dc(y,C,!0),Y=new a_(C,V.Ts),ce=Y.ma(V.documents),Ee=Y.applyChanges(ce,!1);P.resolve(Ee.snapshot)}catch(V){const Y=Wc(V,`Failed to execute query '${C} against cache`);P.reject(Y)}}),function h(y,C,P){return o.apply(this,arguments)})(yield eh(u),e,i);var o})),i.promise}(i,u._query).then(h=>new Cl(e,o,u,h))}function Mo(u){u=si(u,ho);const e=si(u.firestore,Pi),i=fs(e),o=new Tl(e);return xp(i,u._query,{source:"server"}).then(h=>new Cl(e,o,u,h))}function n0(u,e,i){u=si(u,qs);const o=si(u.firestore,Pi),h=Bp(u.converter,e,i);return uh(o,[_f(_c(o),"setDoc",u._key,h,null!==u.converter,i).toMutation(u._key,Q.none())])}function B_(u,e,i,...o){u=si(u,qs);const h=si(u.firestore,Pi),y=_c(h);let C;return C="string"==typeof(e=(0,pe.Ku)(e))||e instanceof ih?R_(y,"updateDoc",u._key,e,i,o):mm(y,"updateDoc",u._key,e),uh(h,[C.toMutation(u._key,Q.exists(!0))])}function r0(u){return uh(si(u.firestore,Pi),[new vs(u._key,Q.none())])}function s0(u,e){const i=si(u.firestore,Pi),o=Qu(u),h=Bp(u.converter,e);return uh(i,[_f(_c(u.firestore),"addDoc",o._key,h,null!==u.converter,{}).toMutation(o._key,Q.exists(!1))]).then(()=>o)}function $_(u,...e){var i,o,h;u=(0,pe.Ku)(u);let y={includeMetadataChanges:!1,source:"default"},C=0;"object"!=typeof e[C]||D_(e[C])||(y=e[C],C++);const P={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(D_(e[C])){const Ee=e[C];e[C]=null===(i=Ee.next)||void 0===i?void 0:i.bind(Ee),e[C+1]=null===(o=Ee.error)||void 0===o?void 0:o.bind(Ee),e[C+2]=null===(h=Ee.complete)||void 0===h?void 0:h.bind(Ee)}let V,Y,ce;if(u instanceof qs)Y=si(u.firestore,Pi),ce=Z(u._key.path),V={next:Ee=>{e[C]&&e[C](G_(Y,u,Ee))},error:e[C+1],complete:e[C+2]};else{const Ee=si(u,ho);Y=si(Ee.firestore,Pi),ce=Ee._query;const We=new Tl(Y);V={next:Ct=>{e[C]&&e[C](new Cl(Y,We,Ee,Ct))},error:e[C+1],complete:e[C+2]},zy(u._query)}return function(We,Ct,qt,En){const rn=new Ha(En),ar=new Yd(Ct,rn,qt);return We.asyncQueue.enqueueAndForget((0,d.A)(function*(){return dp(yield vl(We),ar)})),()=>{rn.Za(),We.asyncQueue.enqueueAndForget((0,d.A)(function*(){return qd(yield vl(We),ar)}))}}(fs(Y),ce,P,V)}function Yy(u,e){return function Ry(u,e){const i=new Ha(e);return u.asyncQueue.enqueueAndForget((0,d.A)(function*(){return h=yield vl(u),y=i,gt(h).Y_.add(y),void y.next();var h,y})),()=>{i.Za(),u.asyncQueue.enqueueAndForget((0,d.A)(function*(){return h=yield vl(u),y=i,void gt(h).Y_.delete(y);var h,y}))}}(fs(u=si(u,Pi)),D_(e)?e:{next:e})}function uh(u,e){return function(o,h){const y=new un;return o.asyncQueue.enqueueAndForget((0,d.A)(function*(){return function vp(u,e,i){return Wu.apply(this,arguments)}(yield Dp(o),h,y)})),y.promise}(fs(u),e)}function G_(u,e,i){const o=i.docs.get(e._key),h=new Tl(u);return new uu(u,h,e._key,o,new bf(i.hasPendingWrites,i.fromCache),e.converter)}const Hp={maxAttempts:5};class zp{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=_c(e)}set(e,i,o){this._verifyNotCommitted();const h=du(e,this._firestore),y=Bp(h.converter,i,o),C=_f(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,o);return this._mutations.push(C.toMutation(h._key,Q.none())),this}update(e,i,o,...h){this._verifyNotCommitted();const y=du(e,this._firestore);let C;return C="string"==typeof(i=(0,pe.Ku)(i))||i instanceof ih?R_(this._dataReader,"WriteBatch.update",y._key,i,o,h):mm(this._dataReader,"WriteBatch.update",y._key,i),this._mutations.push(C.toMutation(y._key,Q.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=du(e,this._firestore);return this._mutations=this._mutations.concat(new vs(i._key,Q.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function du(u,e){if((u=(0,pe.Ku)(u)).firestore!==e)throw new ot(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class H_ extends class{constructor(i,o){this._firestore=i,this._transaction=o,this._dataReader=_c(i)}get(i){const o=du(i,this._firestore),h=new Yv(this._firestore);return this._transaction.lookup([o._key]).then(y=>{if(!y||1!==y.length)return Ft();const C=y[0];if(C.isFoundDocument())return new vf(this._firestore,h,C.key,C,o.converter);if(C.isNoDocument())return new vf(this._firestore,h,o._key,null,o.converter);throw Ft()})}set(i,o,h){const y=du(i,this._firestore),C=Bp(y.converter,o,h),P=_f(this._dataReader,"Transaction.set",y._key,C,null!==y.converter,h);return this._transaction.set(y._key,P),this}update(i,o,h,...y){const C=du(i,this._firestore);let P;return P="string"==typeof(o=(0,pe.Ku)(o))||o instanceof ih?R_(this._dataReader,"Transaction.update",C._key,o,h,y):mm(this._dataReader,"Transaction.update",C._key,o),this._transaction.update(C._key,P),this}delete(i){const o=du(i,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=du(e,this._firestore),o=new Tl(this._firestore);return super.get(e).then(h=>new uu(this._firestore,o,i._key,h._document,new bf(!1,!1),i.converter))}}function u0(u,e,i){u=si(u,Pi);const o=Object.assign(Object.assign({},Hp),i);return function(y){if(y.maxAttempts<1)throw new ot(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(y,C,P){const V=new un;return y.asyncQueue.enqueueAndForget((0,d.A)(function*(){const Y=yield function rm(u){return Zd(u).then(e=>e.datastore)}(y);new y_(y.asyncQueue,Y,P,C,V).au()})),V.promise}(fs(u),h=>e(new H_(u,h)),o)}function d0(){return new sh("deleteField")}function h0(){return new By("serverTimestamp")}function f0(...u){return new kp("arrayUnion",u)}function nv(...u){return new oh("arrayRemove",u)}function iE(u){return new M_("increment",u)}!function(e,i=!0){Ue=p.SDK_VERSION,(0,p._registerComponent)(new n.uA("firestore",(o,{instanceIdentifier:h,options:y})=>{const C=o.getProvider("app").getImmediate(),P=new Pi(new Be(o.getProvider("auth-internal")),new Rn(o.getProvider("app-check-internal")),function(Y,ce){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new ot(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new di(Y.options.projectId,ce)}(C,h),C);return y=Object.assign({useFetchStreams:i},y),P._setSettings(y),P},"PUBLIC").setMultipleInstances(!0)),(0,p.registerVersion)(fe,"4.7.3",e),(0,p.registerVersion)(fe,"4.7.3","esm2017")}()},4535:(ln,Ye,F)=>{F.d(Ye,{Ad:()=>vn,D5:()=>An,KR:()=>Bi,Mp:()=>Qs,Mx:()=>br,TZ:()=>Xt,UC:()=>ri,UY:()=>jn,XR:()=>as,ZH:()=>Nn,_w:()=>Dr,bp:()=>Fs,c7:()=>ii,nb:()=>_s,nw:()=>xn,p_:()=>_r,qk:()=>es,uj:()=>on,xc:()=>Vn,yb:()=>Wr});var d=F(467),p=F(7852),n=F(1076),Ce=F(1362);const pe="firebasestorage.googleapis.com",ye="storageBucket";class W extends n.g{constructor(ee,De,Fe=0){super(ve(ee),`Firebase Storage: ${De} (${ve(ee)})`),this.status_=Fe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,W.prototype)}get status(){return this.status_}set status(ee){this.status_=ee}_codeEquals(ee){return ve(ee)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(ee){this.customData.serverResponse=ee,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ie=function(te){return te.UNKNOWN="unknown",te.OBJECT_NOT_FOUND="object-not-found",te.BUCKET_NOT_FOUND="bucket-not-found",te.PROJECT_NOT_FOUND="project-not-found",te.QUOTA_EXCEEDED="quota-exceeded",te.UNAUTHENTICATED="unauthenticated",te.UNAUTHORIZED="unauthorized",te.UNAUTHORIZED_APP="unauthorized-app",te.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",te.INVALID_CHECKSUM="invalid-checksum",te.CANCELED="canceled",te.INVALID_EVENT_NAME="invalid-event-name",te.INVALID_URL="invalid-url",te.INVALID_DEFAULT_BUCKET="invalid-default-bucket",te.NO_DEFAULT_BUCKET="no-default-bucket",te.CANNOT_SLICE_BLOB="cannot-slice-blob",te.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",te.NO_DOWNLOAD_URL="no-download-url",te.INVALID_ARGUMENT="invalid-argument",te.INVALID_ARGUMENT_COUNT="invalid-argument-count",te.APP_DELETED="app-deleted",te.INVALID_ROOT_OPERATION="invalid-root-operation",te.INVALID_FORMAT="invalid-format",te.INTERNAL_ERROR="internal-error",te.UNSUPPORTED_ENVIRONMENT="unsupported-environment",te}(ie||{});function ve(te){return"storage/"+te}function st(){return new W(ie.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pn(){return new W(ie.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function He(){return new W(ie.CANCELED,"User canceled the upload/download.")}function it(){return new W(ie.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function on(te){return new W(ie.INVALID_ARGUMENT,te)}function bn(){return new W(ie.APP_DELETED,"The Firebase app was deleted.")}function jn(te){return new W(ie.INVALID_ROOT_OPERATION,"The operation '"+te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ft(te,ee){return new W(ie.INVALID_FORMAT,"String does not match format '"+te+"': "+ee)}function Yt(te){throw new W(ie.INTERNAL_ERROR,"Internal error: "+te)}class Xt{constructor(ee,De){this.bucket=ee,this.path_=De}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const ee=encodeURIComponent;return"/b/"+ee(this.bucket)+"/o/"+ee(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(ee,De){let Fe;try{Fe=Xt.makeFromUrl(ee,De)}catch{return new Xt(ee,"")}if(""===Fe.path)return Fe;throw function Je(te){return new W(ie.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+te+"'.")}(ee)}static makeFromUrl(ee,De){let Fe=null;const rt="([A-Za-z0-9.\\-_]+)",Un=new RegExp("^gs://"+rt+"(/(.*))?$","i");function hr(Fi){Fi.path_=decodeURIComponent(Fi.path)}const Xn=De.replace(/[.]/g,"\\."),Ir=[{regex:Un,indices:{bucket:1,path:3},postModify:function bt(Fi){"/"===Fi.path.charAt(Fi.path.length-1)&&(Fi.path_=Fi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Xn}/v[A-Za-z0-9_]+/b/${rt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:hr},{regex:new RegExp(`^https?://${De===pe?"(?:storage.googleapis.com|storage.cloud.google.com)":De}/${rt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:hr}];for(let Fi=0;Fi<Ir.length;Fi++){const ji=Ir[Fi],ti=ji.regex.exec(ee);if(ti){let cs=ti[ji.indices.path];cs||(cs=""),Fe=new Xt(ti[ji.indices.bucket],cs),ji.postModify(Fe);break}}if(null==Fe)throw function fe(te){return new W(ie.INVALID_URL,"Invalid URL '"+te+"'.")}(ee);return Fe}}class gt{constructor(ee){this.promise_=Promise.reject(ee)}getPromise(){return this.promise_}cancel(ee=!1){}}function be(te){return"string"==typeof te||te instanceof String}function Be(te){return at()&&te instanceof Blob}function at(){return typeof Blob<"u"}function et(te,ee,De,Fe){if(Fe<ee)throw on(`Invalid value for '${te}'. Expected ${ee} or greater.`);if(Fe>De)throw on(`Invalid value for '${te}'. Expected ${De} or less.`)}function Bt(te,ee,De){let Fe=ee;return null==De&&(Fe=`https://${ee}`),`${De}://${Fe}/v0${te}`}function Rn(te){const ee=encodeURIComponent;let De="?";for(const Fe in te)te.hasOwnProperty(Fe)&&(De=De+(ee(Fe)+"=")+ee(te[Fe])+"&");return De=De.slice(0,-1),De}var mr=function(te){return te[te.NO_ERROR=0]="NO_ERROR",te[te.NETWORK_ERROR=1]="NETWORK_ERROR",te[te.ABORT=2]="ABORT",te}(mr||{});function hn(te,ee){const De=te>=500&&te<600,rt=-1!==[408,429].indexOf(te),bt=-1!==ee.indexOf(te);return De||rt||bt}class Bn{constructor(ee,De,Fe,rt,bt,cn,Un,Sn,hr,Br,Xn,Qn=!0){this.url_=ee,this.method_=De,this.headers_=Fe,this.body_=rt,this.successCodes_=bt,this.additionalRetryCodes_=cn,this.callback_=Un,this.errorCallback_=Sn,this.timeout_=hr,this.progressCallback_=Br,this.connectionFactory_=Xn,this.retry=Qn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fr,wi)=>{this.resolve_=fr,this.reject_=wi,this.start_()})}start_(){const De=(Fe,rt)=>{const bt=this.resolve_,cn=this.reject_,Un=rt.connection;if(rt.wasSuccessCode)try{const Sn=this.callback_(Un,Un.getResponse());!function un(te){return void 0!==te}(Sn)?bt():bt(Sn)}catch(Sn){cn(Sn)}else if(null!==Un){const Sn=st();Sn.serverResponse=Un.getErrorText(),cn(this.errorCallback_?this.errorCallback_(Un,Sn):Sn)}else cn(rt.canceled?this.appDelete_?bn():He():pn())};this.canceled_?De(0,new nn(!1,null,!0)):this.backoffId_=function je(te,ee,De){let Fe=1,rt=null,bt=null,cn=!1,Un=0;function Sn(){return 2===Un}let hr=!1;function Br(...Si){hr||(hr=!0,ee.apply(null,Si))}function Xn(Si){rt=setTimeout(()=>{rt=null,te(fr,Sn())},Si)}function Qn(){bt&&clearTimeout(bt)}function fr(Si,...ts){if(hr)return void Qn();if(Si)return Qn(),void Br.call(null,Si,...ts);if(Sn()||cn)return Qn(),void Br.call(null,Si,...ts);let Ir;Fe<64&&(Fe*=2),1===Un?(Un=2,Ir=0):Ir=1e3*(Fe+Math.random()),Xn(Ir)}let wi=!1;function fi(Si){wi||(wi=!0,Qn(),!hr&&(null!==rt?(Si||(Un=2),clearTimeout(rt),Xn(0)):Si||(Un=1)))}return Xn(0),bt=setTimeout(()=>{cn=!0,fi(!0)},De),fi}((Fe,rt)=>{if(rt)return void Fe(!1,new nn(!1,null,!0));const bt=this.connectionFactory_();this.pendingConnection_=bt;const cn=Un=>{null!==this.progressCallback_&&this.progressCallback_(Un.loaded,Un.lengthComputable?Un.total:-1)};null!==this.progressCallback_&&bt.addUploadProgressListener(cn),bt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&bt.removeUploadProgressListener(cn),this.pendingConnection_=null;const Un=bt.getErrorCode()===mr.NO_ERROR,Sn=bt.getStatus();if(!Un||hn(Sn,this.additionalRetryCodes_)&&this.retry){const Br=bt.getErrorCode()===mr.ABORT;return void Fe(!1,new nn(!1,null,Br))}const hr=-1!==this.successCodes_.indexOf(Sn);Fe(!0,new nn(hr,bt))})},De,this.timeout_)}getPromise(){return this.promise_}cancel(ee){this.canceled_=!0,this.appDelete_=ee||!1,null!==this.backoffId_&&function ot(te){te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nn{constructor(ee,De,Fe){this.wasSuccessCode=ee,this.connection=De,this.canceled=!!Fe}}function Vr(...te){const ee=function gn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==ee){const De=new ee;for(let Fe=0;Fe<te.length;Fe++)De.append(te[Fe]);return De.getBlob()}if(at())return new Blob(te);throw new W(ie.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zn{constructor(ee,De){this.data=ee,this.contentType=De||null}}function Nn(te,ee){switch(te){case xn.RAW:return new Zn(Xr(ee));case xn.BASE64:case xn.BASE64URL:return new Zn(Qr(te,ee));case xn.DATA_URL:return new Zn(function Jr(te){const ee=new nr(te);return ee.base64?Qr(xn.BASE64,ee.rest):function kr(te){let ee;try{ee=decodeURIComponent(te)}catch{throw Ft(xn.DATA_URL,"Malformed data URL.")}return Xr(ee)}(ee.rest)}(ee),function gs(te){return new nr(te).contentType}(ee))}throw st()}function Xr(te){const ee=[];for(let De=0;De<te.length;De++){let Fe=te.charCodeAt(De);Fe<=127?ee.push(Fe):Fe<=2047?ee.push(192|Fe>>6,128|63&Fe):55296==(64512&Fe)?De<te.length-1&&56320==(64512&te.charCodeAt(De+1))?(Fe=65536|(1023&Fe)<<10|1023&te.charCodeAt(++De),ee.push(240|Fe>>18,128|Fe>>12&63,128|Fe>>6&63,128|63&Fe)):ee.push(239,191,189):56320==(64512&Fe)?ee.push(239,191,189):ee.push(224|Fe>>12,128|Fe>>6&63,128|63&Fe)}return new Uint8Array(ee)}function Qr(te,ee){switch(te){case xn.BASE64:{const rt=-1!==ee.indexOf("-"),bt=-1!==ee.indexOf("_");if(rt||bt)throw Ft(te,"Invalid character '"+(rt?"-":"_")+"' found: is it base64url encoded?");break}case xn.BASE64URL:{const rt=-1!==ee.indexOf("+"),bt=-1!==ee.indexOf("/");if(rt||bt)throw Ft(te,"Invalid character '"+(rt?"+":"/")+"' found: is it base64 encoded?");ee=ee.replace(/-/g,"+").replace(/_/g,"/");break}}let De;try{De=function zt(te){if(typeof atob>"u")throw function Se(te){return new W(ie.UNSUPPORTED_ENVIRONMENT,`${te} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(te)}(ee)}catch(rt){throw rt.message.includes("polyfill")?rt:Ft(te,"Invalid character found")}const Fe=new Uint8Array(De.length);for(let rt=0;rt<De.length;rt++)Fe[rt]=De.charCodeAt(rt);return Fe}class nr{constructor(ee){this.base64=!1,this.contentType=null;const De=ee.match(/^data:([^,]+)?,/);if(null===De)throw Ft(xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Fe=De[1]||null;null!=Fe&&(this.base64=function Cn(te,ee){return te.length>=ee.length&&te.substring(te.length-ee.length)===ee}(Fe,";base64"),this.contentType=this.base64?Fe.substring(0,Fe.length-7):Fe),this.rest=ee.substring(ee.indexOf(",")+1)}}class br{constructor(ee,De){let Fe=0,rt="";Be(ee)?(this.data_=ee,Fe=ee.size,rt=ee.type):ee instanceof ArrayBuffer?(De?this.data_=new Uint8Array(ee):(this.data_=new Uint8Array(ee.byteLength),this.data_.set(new Uint8Array(ee))),Fe=this.data_.length):ee instanceof Uint8Array&&(De?this.data_=ee:(this.data_=new Uint8Array(ee.length),this.data_.set(ee)),Fe=ee.length),this.size_=Fe,this.type_=rt}size(){return this.size_}type(){return this.type_}slice(ee,De){if(Be(this.data_)){const rt=function lr(te,ee,De){return te.webkitSlice?te.webkitSlice(ee,De):te.mozSlice?te.mozSlice(ee,De):te.slice?te.slice(ee,De):null}(this.data_,ee,De);return null===rt?null:new br(rt)}{const Fe=new Uint8Array(this.data_.buffer,ee,De-ee);return new br(Fe,!0)}}static getBlob(...ee){if(at()){const De=ee.map(Fe=>Fe instanceof br?Fe.data_:Fe);return new br(Vr.apply(null,De))}{const De=ee.map(cn=>be(cn)?Nn(xn.RAW,cn).data:cn.data_);let Fe=0;De.forEach(cn=>{Fe+=cn.byteLength});const rt=new Uint8Array(Fe);let bt=0;return De.forEach(cn=>{for(let Un=0;Un<cn.length;Un++)rt[bt++]=cn[Un]}),new br(rt,!0)}}uploadData(){return this.data_}}function Kn(te){let ee;try{ee=JSON.parse(te)}catch{return null}return function Ae(te){return"object"==typeof te&&!Array.isArray(te)}(ee)?ee:null}function bi(te){const ee=te.lastIndexOf("/",te.length-2);return-1===ee?te:te.slice(ee+1)}function nt(te,ee){return ee}class ft{constructor(ee,De,Fe,rt){this.server=ee,this.local=De||ee,this.writable=!!Fe,this.xform=rt||nt}}let ae=null;function Dt(){if(ae)return ae;const te=[];te.push(new ft("bucket")),te.push(new ft("generation")),te.push(new ft("metageneration")),te.push(new ft("name","fullPath",!0));const De=new ft("name");De.xform=function ee(bt,cn){return function Re(te){return!be(te)||te.length<2?te:bi(te)}(cn)},te.push(De);const rt=new ft("size");return rt.xform=function Fe(bt,cn){return void 0!==cn?Number(cn):cn},te.push(rt),te.push(new ft("timeCreated")),te.push(new ft("updated")),te.push(new ft("md5Hash",null,!0)),te.push(new ft("cacheControl",null,!0)),te.push(new ft("contentDisposition",null,!0)),te.push(new ft("contentEncoding",null,!0)),te.push(new ft("contentLanguage",null,!0)),te.push(new ft("contentType",null,!0)),te.push(new ft("metadata","customMetadata",!0)),ae=te,ae}function Hr(te,ee,De){const Fe=Kn(ee);return null===Fe?null:function Yn(te,ee,De){const Fe={type:"file"},rt=De.length;for(let bt=0;bt<rt;bt++){const cn=De[bt];Fe[cn.local]=cn.xform(Fe,ee[cn.server])}return function Kt(te,ee){Object.defineProperty(te,"ref",{get:function De(){const bt=new Xt(te.bucket,te.fullPath);return ee._makeStorageReference(bt)}})}(Fe,te),Fe}(te,Fe,De)}function _i(te,ee){const De={},Fe=ee.length;for(let rt=0;rt<Fe;rt++){const bt=ee[rt];bt.writable&&(De[bt.server]=te[bt.local])}return JSON.stringify(De)}const Tt="prefixes",G="items";class se{constructor(ee,De,Fe,rt){this.url=ee,this.method=De,this.handler=Fe,this.timeout=rt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ge(te){if(!te)throw st()}function lt(te,ee){return function De(Fe,rt){const bt=Hr(te,rt,ee);return ge(null!==bt),bt}}function Wt(te){return function ee(De,Fe){let rt;return rt=401===De.getStatus()?De.getErrorText().includes("Firebase App Check token is invalid")?function jt(){return new W(ie.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function dt(){return new W(ie.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===De.getStatus()?function At(te){return new W(ie.QUOTA_EXCEEDED,"Quota for bucket '"+te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(te.bucket):403===De.getStatus()?function Ot(te){return new W(ie.UNAUTHORIZED,"User does not have permission to access '"+te+"'.")}(te.path):Fe,rt.status=De.getStatus(),rt.serverResponse=Fe.serverResponse,rt}}function In(te){const ee=Wt(te);return function De(Fe,rt){let bt=ee(Fe,rt);return 404===Fe.getStatus()&&(bt=function $e(te){return new W(ie.OBJECT_NOT_FOUND,"Object '"+te+"' does not exist.")}(te.path)),bt.serverResponse=rt.serverResponse,bt}}function gr(te,ee,De){const rt=Bt(ee.fullServerUrl(),te.host,te._protocol),cn=te.maxOperationRetryTime,Un=new se(rt,"GET",lt(te,De),cn);return Un.errorHandler=In(ee),Un}function xe(te,ee,De,Fe,rt){const bt={};bt.prefix=ee.isRoot?"":ee.path+"/",De&&De.length>0&&(bt.delimiter=De),Fe&&(bt.pageToken=Fe),rt&&(bt.maxResults=rt);const Un=Bt(ee.bucketOnlyServerUrl(),te.host,te._protocol),hr=te.maxOperationRetryTime,Br=new se(Un,"GET",function Mt(te,ee){return function De(Fe,rt){const bt=function L(te,ee,De){const Fe=Kn(De);return null===Fe?null:function R(te,ee,De){const Fe={prefixes:[],items:[],nextPageToken:De.nextPageToken};if(De[Tt])for(const rt of De[Tt]){const bt=rt.replace(/\/$/,""),cn=te._makeStorageReference(new Xt(ee,bt));Fe.prefixes.push(cn)}if(De[G])for(const rt of De[G]){const bt=te._makeStorageReference(new Xt(ee,rt.name));Fe.items.push(bt)}return Fe}(te,ee,Fe)}(te,ee,rt);return ge(null!==bt),bt}}(te,ee.bucket),hr);return Br.urlParams=bt,Br.errorHandler=Wt(ee),Br}function dn(te,ee,De){const Fe=Object.assign({},De);return Fe.fullPath=te.path,Fe.size=ee.size(),Fe.contentType||(Fe.contentType=function _n(te,ee){return te&&te.contentType||ee&&ee.type()||"application/octet-stream"}(null,ee)),Fe}class yn{constructor(ee,De,Fe,rt){this.current=ee,this.total=De,this.finalized=!!Fe,this.metadata=rt||null}}function ci(te,ee){let De=null;try{De=te.getResponseHeader("X-Goog-Upload-Status")}catch{ge(!1)}return ge(!!De&&-1!==(ee||["active"]).indexOf(De)),De}const Vn={STATE_CHANGED:"state_changed"},vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function On(te){switch(te){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;default:return vn.ERROR}}class Cr{constructor(ee,De,Fe){if(function Ke(te){return"function"==typeof te}(ee)||null!=De||null!=Fe)this.next=ee,this.error=De??void 0,this.complete=Fe??void 0;else{const bt=ee;this.next=bt.next,this.error=bt.error,this.complete=bt.complete}}}function Ur(te){return(...ee)=>{Promise.resolve().then(()=>te(...ee))}}let or=null;class Ci{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mr.NO_ERROR,this.sendPromise_=new Promise(ee=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mr.ABORT,ee()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mr.NETWORK_ERROR,ee()}),this.xhr_.addEventListener("load",()=>{ee()})})}send(ee,De,Fe,rt){if(this.sent_)throw Yt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(De,ee,!0),void 0!==rt)for(const bt in rt)rt.hasOwnProperty(bt)&&this.xhr_.setRequestHeader(bt,rt[bt].toString());return void 0!==Fe?this.xhr_.send(Fe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(ee){return this.xhr_.getResponseHeader(ee)}addUploadProgressListener(ee){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ee)}removeUploadProgressListener(ee){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ee)}}class Hi extends Ci{initXhr(){this.xhr_.responseType="text"}}function Ii(){return or?or():new Hi}class ri{constructor(ee,De,Fe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ee,this._blob=De,this._metadata=Fe,this._mappings=Dt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=rt=>{if(this._request=void 0,this._chunkMultiplier=1,rt._codeEquals(ie.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const bt=this.isExponentialBackoffExpired();if(hn(rt.status,[])){if(!bt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();rt=pn()}this._error=rt,this._transition("error")}},this._metadataErrorHandler=rt=>{this._request=void 0,rt._codeEquals(ie.CANCELED)?this.completeTransitions_():(this._error=rt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((rt,bt)=>{this._resolve=rt,this._reject=bt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const ee=this._transferred;return De=>this._updateProgress(ee+De)}_shouldDoResumable(ee){return ee.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(ee){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([De,Fe])=>{switch(this._state){case"running":ee(De,Fe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((ee,De)=>{const Fe=function vt(te,ee,De,Fe,rt){const bt=ee.bucketOnlyServerUrl(),cn=dn(ee,Fe,rt),Un={name:cn.fullPath},Sn=Bt(bt,te.host,te._protocol),Br={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Fe.size()}`,"X-Goog-Upload-Header-Content-Type":cn.contentType,"Content-Type":"application/json; charset=utf-8"},Xn=_i(cn,De),wi=new se(Sn,"POST",function fr(fi){let Si;ci(fi);try{Si=fi.getResponseHeader("X-Goog-Upload-URL")}catch{ge(!1)}return ge(be(Si)),Si},te.maxUploadRetryTime);return wi.urlParams=Un,wi.headers=Br,wi.body=Xn,wi.errorHandler=Wt(ee),wi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),rt=this._ref.storage._makeRequest(Fe,Ii,ee,De);this._request=rt,rt.getPromise().then(bt=>{this._request=void 0,this._uploadUrl=bt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const ee=this._uploadUrl;this._resolveToken((De,Fe)=>{const rt=function Ze(te,ee,De,Fe){const Sn=new se(De,"POST",function bt(hr){const Br=ci(hr,["active","final"]);let Xn=null;try{Xn=hr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ge(!1)}Xn||ge(!1);const Qn=Number(Xn);return ge(!isNaN(Qn)),new yn(Qn,Fe.size(),"final"===Br)},te.maxUploadRetryTime);return Sn.headers={"X-Goog-Upload-Command":"query"},Sn.errorHandler=Wt(ee),Sn}(this._ref.storage,this._ref._location,ee,this._blob),bt=this._ref.storage._makeRequest(rt,Ii,De,Fe);this._request=bt,bt.getPromise().then(cn=>{this._request=void 0,this._updateProgress(cn.current),this._needToFetchStatus=!1,cn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const ee=262144*this._chunkMultiplier,De=new yn(this._transferred,this._blob.size()),Fe=this._uploadUrl;this._resolveToken((rt,bt)=>{let cn;try{cn=function fn(te,ee,De,Fe,rt,bt,cn,Un){const Sn=new yn(0,0);if(cn?(Sn.current=cn.current,Sn.total=cn.total):(Sn.current=0,Sn.total=Fe.size()),Fe.size()!==Sn.total)throw function Et(){return new W(ie.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const hr=Sn.total-Sn.current;let Br=hr;rt>0&&(Br=Math.min(Br,rt));const Xn=Sn.current;let fr="";fr=0===Br?"finalize":hr===Br?"upload, finalize":"upload";const wi={"X-Goog-Upload-Command":fr,"X-Goog-Upload-Offset":`${Sn.current}`},fi=Fe.slice(Xn,Xn+Br);if(null===fi)throw it();const Ir=new se(De,"POST",function Si(Fi,ji){const ti=ci(Fi,["active","final"]),Ao=Sn.current+Br,cs=Fe.size();let so;return so="final"===ti?lt(ee,bt)(Fi,ji):null,new yn(Ao,cs,"final"===ti,so)},ee.maxUploadRetryTime);return Ir.headers=wi,Ir.body=fi.uploadData(),Ir.progressCallback=Un||null,Ir.errorHandler=Wt(te),Ir}(this._ref._location,this._ref.storage,Fe,this._blob,ee,this._mappings,De,this._makeProgressCallback())}catch(Sn){return this._error=Sn,void this._transition("error")}const Un=this._ref.storage._makeRequest(cn,Ii,rt,bt,!1);this._request=Un,Un.getPromise().then(Sn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Sn.current),Sn.finalized?(this._metadata=Sn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((ee,De)=>{const Fe=gr(this._ref.storage,this._ref._location,this._mappings),rt=this._ref.storage._makeRequest(Fe,Ii,ee,De);this._request=rt,rt.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((ee,De)=>{const Fe=function ur(te,ee,De,Fe,rt){const bt=ee.bucketOnlyServerUrl(),cn={"X-Goog-Upload-Protocol":"multipart"},Sn=function Un(){let Ir="";for(let Fi=0;Fi<2;Fi++)Ir+=Math.random().toString().slice(2);return Ir}();cn["Content-Type"]="multipart/related; boundary="+Sn;const hr=dn(ee,Fe,rt),Br=_i(hr,De),fr=br.getBlob("--"+Sn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Br+"\r\n--"+Sn+"\r\nContent-Type: "+hr.contentType+"\r\n\r\n",Fe,"\r\n--"+Sn+"--");if(null===fr)throw it();const wi={name:hr.fullPath},fi=Bt(bt,te.host,te._protocol),ts=te.maxUploadRetryTime,ki=new se(fi,"POST",lt(te,De),ts);return ki.urlParams=wi,ki.headers=cn,ki.body=fr.uploadData(),ki.errorHandler=Wt(ee),ki}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),rt=this._ref.storage._makeRequest(Fe,Ii,ee,De);this._request=rt,rt.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(ee){const De=this._transferred;this._transferred=ee,this._transferred!==De&&this._notifyObservers()}_transition(ee){if(this._state!==ee)switch(ee){case"canceling":case"pausing":this._state=ee,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const De="paused"===this._state;this._state=ee,De&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=ee,this._notifyObservers();break;case"canceled":this._error=He(),this._state=ee,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const ee=On(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ee,metadata:this._metadata,task:this,ref:this._ref}}on(ee,De,Fe,rt){const bt=new Cr(De||void 0,Fe||void 0,rt||void 0);return this._addObserver(bt),()=>{this._removeObserver(bt)}}then(ee,De){return this._promise.then(ee,De)}catch(ee){return this.then(null,ee)}_addObserver(ee){this._observers.push(ee),this._notifyObserver(ee)}_removeObserver(ee){const De=this._observers.indexOf(ee);-1!==De&&this._observers.splice(De,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(De=>{this._notifyObserver(De)})}_finishPromise(){if(void 0!==this._resolve){let ee=!0;switch(On(this._state)){case vn.SUCCESS:Ur(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:Ur(this._reject.bind(null,this._error))();break;default:ee=!1}ee&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(ee){switch(On(this._state)){case vn.RUNNING:case vn.PAUSED:ee.next&&Ur(ee.next.bind(ee,this.snapshot))();break;case vn.SUCCESS:ee.complete&&Ur(ee.complete.bind(ee))();break;default:ee.error&&Ur(ee.error.bind(ee,this._error))()}}resume(){const ee="paused"===this._state||"pausing"===this._state;return ee&&this._transition("running"),ee}pause(){const ee="running"===this._state;return ee&&this._transition("pausing"),ee}cancel(){const ee="running"===this._state||"pausing"===this._state;return ee&&this._transition("canceling"),ee}}class qi{constructor(ee,De){this._service=ee,this._location=De instanceof Xt?De:Xt.makeFromUrl(De,ee.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(ee,De){return new qi(ee,De)}get root(){const ee=new Xt(this._location.bucket,"");return this._newRef(this._service,ee)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bi(this._location.path)}get storage(){return this._service}get parent(){const ee=function sr(te){if(0===te.length)return null;const ee=te.lastIndexOf("/");return-1===ee?"":te.slice(0,ee)}(this._location.path);if(null===ee)return null;const De=new Xt(this._location.bucket,ee);return new qi(this._service,De)}_throwIfRoot(ee){if(""===this._location.path)throw jn(ee)}}function $r(te,ee,De){return er.apply(this,arguments)}function er(){return(er=(0,d.A)(function*(te,ee,De){const rt=yield $i(te,{pageToken:De});ee.prefixes.push(...rt.prefixes),ee.items.push(...rt.items),null!=rt.nextPageToken&&(yield $r(te,ee,rt.nextPageToken))})).apply(this,arguments)}function $i(te,ee){null!=ee&&"number"==typeof ee.maxResults&&et("options.maxResults",1,1e3,ee.maxResults);const De=ee||{},Fe=xe(te.storage,te._location,"/",De.pageToken,De.maxResults);return te.storage.makeRequestWithTokens(Fe,Ii)}function ia(te){te._throwIfRoot("getDownloadURL");const ee=function ze(te,ee,De){const rt=Bt(ee.fullServerUrl(),te.host,te._protocol),cn=te.maxOperationRetryTime,Un=new se(rt,"GET",function mn(te,ee){return function De(Fe,rt){const bt=Hr(te,rt,ee);return ge(null!==bt),function Sr(te,ee,De,Fe){const rt=Kn(ee);if(null===rt||!be(rt.downloadTokens))return null;const bt=rt.downloadTokens;if(0===bt.length)return null;const cn=encodeURIComponent;return bt.split(",").map(hr=>{const Xn=te.fullPath;return Bt("/b/"+cn(te.bucket)+"/o/"+cn(Xn),De,Fe)+Rn({alt:"media",token:hr})})[0]}(bt,rt,te.host,te._protocol)}}(te,De),cn);return Un.errorHandler=In(ee),Un}(te.storage,te._location,Dt());return te.storage.makeRequestWithTokens(ee,Ii).then(De=>{if(null===De)throw function Ut(){return new W(ie.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return De})}function ui(te,ee){const De=function Fn(te,ee){const De=ee.split("/").filter(Fe=>Fe.length>0).join("/");return 0===te.length?De:te+"/"+De}(te._location.path,ee),Fe=new Xt(te._location.bucket,De);return new qi(te.storage,Fe)}function ro(te,ee){if(te instanceof Di){const De=te;if(null==De._bucket)throw function Ue(){return new W(ie.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ye+"' property when initializing the app?")}();const Fe=new qi(De,De._bucket);return null!=ee?ro(Fe,ee):Fe}return void 0!==ee?ui(te,ee):te}function Gs(te,ee){if(ee&&function ks(te){return/^[A-Za-z]+:\/\//.test(te)}(ee)){if(te instanceof Di)return function Ss(te,ee){return new qi(te,ee)}(te,ee);throw on("To use ref(service, url), the first argument must be a Storage instance.")}return ro(te,ee)}function jr(te,ee){const De=ee?.[ye];return null==De?null:Xt.makeFromBucketSpec(De,te)}class Di{constructor(ee,De,Fe,rt,bt){this.app=ee,this._authProvider=De,this._appCheckProvider=Fe,this._url=rt,this._firebaseVersion=bt,this._bucket=null,this._host=pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=rt?Xt.makeFromBucketSpec(rt,this._host):jr(this._host,this.app.options)}get host(){return this._host}set host(ee){this._host=ee,this._bucket=null!=this._url?Xt.makeFromBucketSpec(this._url,ee):jr(ee,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(ee){et("time",0,Number.POSITIVE_INFINITY,ee),this._maxUploadRetryTime=ee}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(ee){et("time",0,Number.POSITIVE_INFINITY,ee),this._maxOperationRetryTime=ee}_getAuthToken(){var ee=this;return(0,d.A)(function*(){if(ee._overrideAuthToken)return ee._overrideAuthToken;const De=ee._authProvider.getImmediate({optional:!0});if(De){const Fe=yield De.getToken();if(null!==Fe)return Fe.accessToken}return null})()}_getAppCheckToken(){var ee=this;return(0,d.A)(function*(){const De=ee._appCheckProvider.getImmediate({optional:!0});return De?(yield De.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(ee=>ee.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ee){return new qi(this,ee)}_makeRequest(ee,De,Fe,rt,bt=!0){if(this._deleted)return new gt(bn());{const cn=function Jn(te,ee,De,Fe,rt,bt,cn=!0){const Un=Rn(te.urlParams),Sn=te.url+Un,hr=Object.assign({},te.headers);return function Qt(te,ee){ee&&(te["X-Firebase-GMPID"]=ee)}(hr,ee),function ir(te,ee){null!==ee&&ee.length>0&&(te.Authorization="Firebase "+ee)}(hr,De),function $n(te,ee){te["X-Firebase-Storage-Version"]="webjs/"+(ee??"AppManager")}(hr,bt),function Ht(te,ee){null!==ee&&(te["X-Firebase-AppCheck"]=ee)}(hr,Fe),new Bn(Sn,te.method,hr,te.body,te.successCodes,te.additionalRetryCodes,te.handler,te.errorHandler,te.timeout,te.progressCallback,rt,cn)}(ee,this._appId,Fe,rt,De,this._firebaseVersion,bt);return this._requests.add(cn),cn.getPromise().then(()=>this._requests.delete(cn),()=>this._requests.delete(cn)),cn}}makeRequestWithTokens(ee,De){var Fe=this;return(0,d.A)(function*(){const[rt,bt]=yield Promise.all([Fe._getAuthToken(),Fe._getAppCheckToken()]);return Fe._makeRequest(ee,De,rt,bt).getPromise()})()}}const ss="@firebase/storage",ms="storage";function Fs(te,ee,De){return function K(te,ee,De){return te._throwIfRoot("uploadBytesResumable"),new ri(te,new br(ee),De)}(te=(0,n.Ku)(te),ee,De)}function Wr(te){return function wo(te){te._throwIfRoot("getMetadata");const ee=gr(te.storage,te._location,Dt());return te.storage.makeRequestWithTokens(ee,Ii)}(te=(0,n.Ku)(te))}function An(te,ee){return function li(te,ee){te._throwIfRoot("updateMetadata");const De=function Vt(te,ee,De,Fe){const bt=Bt(ee.fullServerUrl(),te.host,te._protocol),Un=_i(De,Fe),hr=te.maxOperationRetryTime,Br=new se(bt,"PATCH",lt(te,Fe),hr);return Br.headers={"Content-Type":"application/json; charset=utf-8"},Br.body=Un,Br.errorHandler=In(ee),Br}(te.storage,te._location,ee,Dt());return te.storage.makeRequestWithTokens(De,Ii)}(te=(0,n.Ku)(te),ee)}function _r(te,ee){return $i(te=(0,n.Ku)(te),ee)}function Dr(te){return function Lt(te){const ee={prefixes:[],items:[]};return $r(te,ee).then(()=>ee)}(te=(0,n.Ku)(te))}function es(te){return ia(te=(0,n.Ku)(te))}function as(te){return function Ds(te){te._throwIfRoot("deleteObject");const ee=function Zt(te,ee){const Fe=Bt(ee.fullServerUrl(),te.host,te._protocol),Un=new se(Fe,"DELETE",function cn(Sn,hr){},te.maxOperationRetryTime);return Un.successCodes=[200,204],Un.errorHandler=In(ee),Un}(te.storage,te._location);return te.storage.makeRequestWithTokens(ee,Ii)}(te=(0,n.Ku)(te))}function Bi(te,ee){return Gs(te=(0,n.Ku)(te),ee)}function Qs(te,ee){return ui(te,ee)}function ii(te=(0,p.getApp)(),ee){te=(0,n.Ku)(te);const Fe=(0,p._getProvider)(te,ms).getImmediate({identifier:ee}),rt=(0,n.yU)("storage");return rt&&_s(Fe,...rt),Fe}function _s(te,ee,De,Fe={}){!function di(te,ee,De,Fe={}){te.host=`${ee}:${De}`,te._protocol="http";const{mockUserToken:rt}=Fe;rt&&(te._overrideAuthToken="string"==typeof rt?rt:(0,n.Fy)(rt,te.app.options.projectId))}(te,ee,De,Fe)}function Ts(te,{instanceIdentifier:ee}){const De=te.getProvider("app").getImmediate(),Fe=te.getProvider("auth-internal"),rt=te.getProvider("app-check-internal");return new Di(De,Fe,rt,ee,p.SDK_VERSION)}!function Ps(){(0,p._registerComponent)(new Ce.uA(ms,Ts,"PUBLIC").setMultipleInstances(!0)),(0,p.registerVersion)(ss,"0.13.2",""),(0,p.registerVersion)(ss,"0.13.2","esm2017")}()},1076:(ln,Ye,F)=>{F.d(Ye,{Am:()=>Zn,Bd:()=>on,FA:()=>et,Fy:()=>it,I9:()=>Nn,Im:()=>gn,Ku:()=>Tt,Ll:()=>Se,T9:()=>fe,Uj:()=>ke,XA:()=>Je,ZQ:()=>Et,bD:()=>lr,c1:()=>jn,cY:()=>Ue,eX:()=>Ae,g:()=>at,gR:()=>Ht,hp:()=>Xr,jZ:()=>Ut,lT:()=>gt,lV:()=>Yt,mS:()=>$e,nr:()=>un,p7:()=>bn,sr:()=>Ft,tD:()=>Qr,u:()=>W,yU:()=>He,zW:()=>Ke,zw:()=>ve});const Ce=function(G){const R=[];let L=0;for(let se=0;se<G.length;se++){let ge=G.charCodeAt(se);ge<128?R[L++]=ge:ge<2048?(R[L++]=ge>>6|192,R[L++]=63&ge|128):55296==(64512&ge)&&se+1<G.length&&56320==(64512&G.charCodeAt(se+1))?(ge=65536+((1023&ge)<<10)+(1023&G.charCodeAt(++se)),R[L++]=ge>>18|240,R[L++]=ge>>12&63|128,R[L++]=ge>>6&63|128,R[L++]=63&ge|128):(R[L++]=ge>>12|224,R[L++]=ge>>6&63|128,R[L++]=63&ge|128)}return R},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,R){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let ge=0;ge<G.length;ge+=3){const lt=G[ge],Mt=ge+1<G.length,mn=Mt?G[ge+1]:0,Wt=ge+2<G.length,In=Wt?G[ge+2]:0;let Pe=(15&mn)<<2|In>>6,ze=63&In;Wt||(ze=64,Mt||(Pe=64)),se.push(L[lt>>2],L[(3&lt)<<4|mn>>4],L[Pe],L[ze])}return se.join("")},encodeString(G,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(G):this.encodeByteArray(Ce(G),R)},decodeString(G,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(G):function(G){const R=[];let L=0,se=0;for(;L<G.length;){const ge=G[L++];if(ge<128)R[se++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const lt=G[L++];R[se++]=String.fromCharCode((31&ge)<<6|63&lt)}else if(ge>239&&ge<365){const Wt=((7&ge)<<18|(63&G[L++])<<12|(63&G[L++])<<6|63&G[L++])-65536;R[se++]=String.fromCharCode(55296+(Wt>>10)),R[se++]=String.fromCharCode(56320+(1023&Wt))}else{const lt=G[L++],Mt=G[L++];R[se++]=String.fromCharCode((15&ge)<<12|(63&lt)<<6|63&Mt)}}return R.join("")}(this.decodeStringToByteArray(G,R))},decodeStringToByteArray(G,R){this.init_();const L=R?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let ge=0;ge<G.length;){const lt=L[G.charAt(ge++)],mn=ge<G.length?L[G.charAt(ge)]:0;++ge;const In=ge<G.length?L[G.charAt(ge)]:64;++ge;const xe=ge<G.length?L[G.charAt(ge)]:64;if(++ge,null==lt||null==mn||null==In||null==xe)throw new Te;se.push(lt<<2|mn>>4),64!==In&&(se.push(mn<<4&240|In>>2),64!==xe&&se.push(In<<6&192|xe))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(G){return function(G){const R=Ce(G);return ye.encodeByteArray(R,!0)}(G).replace(/\./g,"")},W=function(G){try{return ye.decodeString(G,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function ve(G,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return R}for(const L in R)!R.hasOwnProperty(L)||!st(L)||(G[L]=ve(G[L],R[L]));return G}function st(G){return"__proto__"!==G}function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ot=()=>{try{return $e().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=G&&W(G[1]);return R&&JSON.parse(R)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},He=G=>{const R=(G=>{var R,L;return null===(L=null===(R=Ot())||void 0===R?void 0:R.emulatorHosts)||void 0===L?void 0:L[G]})(G);if(!R)return;const L=R.lastIndexOf(":");if(L<=0||L+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const se=parseInt(R.substring(L+1),10);return"["===R[0]?[R.substring(1,L-1),se]:[R.substring(0,L),se]},fe=()=>{var G;return null===(G=Ot())||void 0===G?void 0:G.config},Je=G=>{var R;return null===(R=Ot())||void 0===R?void 0:R[`_${G}`]};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,L)=>{this.resolve=R,this.reject=L})}wrapCallback(R){return(L,se)=>{L?this.reject(L):this.resolve(se),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(L):R(L,se))}}}function it(G,R){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=R||"demo-project",ge=G.iat||0,lt=G.sub||G.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:ge,exp:ge+3600,auth_time:ge,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(Mt)),""].join(".")}function Et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function Se(){var G;const R=null===(G=Ot())||void 0===G?void 0:G.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function on(){return typeof window<"u"||bn()}function bn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function jn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ft(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const G=Et();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function un(){return!Se()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise((G,R)=>{try{let L=!0;const se="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(se);ge.onsuccess=()=>{ge.result.close(),L||self.indexedDB.deleteDatabase(se),G(!0)},ge.onupgradeneeded=()=>{L=!1},ge.onerror=()=>{var lt;R((null===(lt=ge.error)||void 0===lt?void 0:lt.message)||"")}}catch(L){R(L)}})}class at extends Error{constructor(R,L,se){super(L),this.code=R,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{constructor(R,L,se){this.service=R,this.serviceName=L,this.errors=se}create(R,...L){const se=L[0]||{},ge=`${this.service}/${R}`,lt=this.errors[R],Mt=lt?function Bt(G,R){return G.replace(Rn,(L,se)=>{const ge=R[se];return null!=ge?String(ge):`<${se}?>`})}(lt,se):"Error";return new at(ge,`${this.serviceName}: ${Mt} (${ge}).`,se)}}const Rn=/\{\$([^}]+)}/g;function Ht(G,R){return Object.prototype.hasOwnProperty.call(G,R)}function gn(G){for(const R in G)if(Object.prototype.hasOwnProperty.call(G,R))return!1;return!0}function lr(G,R){if(G===R)return!0;const L=Object.keys(G),se=Object.keys(R);for(const ge of L){if(!se.includes(ge))return!1;const lt=G[ge],Mt=R[ge];if(zt(lt)&&zt(Mt)){if(!lr(lt,Mt))return!1}else if(lt!==Mt)return!1}for(const ge of se)if(!L.includes(ge))return!1;return!0}function zt(G){return null!==G&&"object"==typeof G}function Zn(G){const R=[];for(const[L,se]of Object.entries(G))Array.isArray(se)?se.forEach(ge=>{R.push(encodeURIComponent(L)+"="+encodeURIComponent(ge))}):R.push(encodeURIComponent(L)+"="+encodeURIComponent(se));return R.length?"&"+R.join("&"):""}function Nn(G){const R={};return G.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[ge,lt]=se.split("=");R[decodeURIComponent(ge)]=decodeURIComponent(lt)}}),R}function Xr(G){const R=G.indexOf("?");if(!R)return"";const L=G.indexOf("#",R);return G.substring(R,L>0?L:void 0)}function Qr(G,R){const L=new nr(G,R);return L.subscribe.bind(L)}class nr{constructor(R,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{R(this)}).catch(se=>{this.error(se)})}next(R){this.forEachObserver(L=>{L.next(R)})}error(R){this.forEachObserver(L=>{L.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,L,se){let ge;if(void 0===R&&void 0===L&&void 0===se)throw new Error("Missing Observer.");ge=function gs(G,R){if("object"!=typeof G||null===G)return!1;for(const L of R)if(L in G&&"function"==typeof G[L])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:L,complete:se},void 0===ge.next&&(ge.next=Cn),void 0===ge.error&&(ge.error=Cn),void 0===ge.complete&&(ge.complete=Cn);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch{}}),this.observers.push(ge),lt}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,R)}sendOne(R,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{L(this.observers[R])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Tt(G){return G&&G._delegate?G._delegate:G}},3739:(ln,Ye,F)=>{F.d(Ye,{W:()=>He});var d=F(7705),p=F(345),n=F(6814),Ce=F(177),pe=F(5031);function ye(fe,Je){if(1&fe){const Ue=d.RV6();d.j41(0,"button",10),d.bIt("click",function(){d.eBV(Ue);const Et=d.XpG(2);return d.Njj(Et.navigateToContact())}),d.EFF(1,"Contact Us"),d.k0s()}}const Te=function(fe){return{businessName:fe}};function Ne(fe,Je){if(1&fe&&(d.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3")(4,"span",6),d.EFF(5),d.nI1(6,"replaceKeyword"),d.k0s()(),d.j41(7,"h1"),d.EFF(8),d.k0s(),d.nrm(9,"p",7),d.j41(10,"div",8),d.DNE(11,ye,2,0,"button",9),d.k0s()()()()),2&fe){const Ue=d.XpG();d.Y8G("ngClass",Ue.themeType),d.R7$(5),d.JRh(d.i5U(6,5,Ue.subTitle,d.eq3(8,Te,Ue._businessName))),d.R7$(3),d.JRh(Ue.title),d.R7$(1),d.Y8G("innerHTML",Ue.sanitizedContent,d.npT),d.R7$(2),d.Y8G("ngIf",Ue.showBtn)}}function ke(fe,Je){if(1&fe&&d.nrm(0,"img",16),2&fe){const Ue=d.XpG(2);d.Y8G("src",Ue.imageURL,d.B4B)}}function W(fe,Je){1&fe&&(d.j41(0,"button",17),d.EFF(1,"Schedule A Visit"),d.k0s())}function ie(fe,Je){if(1&fe&&(d.j41(0,"div",11),d.DNE(1,ke,1,1,"img",12),d.j41(2,"h3",13),d.EFF(3),d.nI1(4,"replaceKeyword"),d.k0s(),d.j41(5,"h2",13),d.EFF(6),d.k0s(),d.nrm(7,"h4",14),d.DNE(8,W,2,0,"button",15),d.k0s()),2&fe){const Ue=d.XpG();d.Y8G("ngClass",Ue.themeType),d.R7$(1),d.Y8G("ngIf",Ue.imageURL&&Ue.showImage),d.R7$(2),d.JRh(d.i5U(4,6,Ue.subTitle,d.eq3(9,Te,Ue._businessName))),d.R7$(3),d.JRh(Ue.title),d.R7$(1),d.Y8G("innerHTML",Ue.sanitizedContent,d.npT),d.R7$(1),d.Y8G("ngIf",Ue.showBtn)}}function ve(fe,Je){if(1&fe&&d.nrm(0,"img",16),2&fe){const Ue=d.XpG(2);d.Y8G("src",Ue.imageURL,d.B4B)}}function st(fe,Je){if(1&fe&&(d.j41(0,"span"),d.EFF(1),d.k0s()),2&fe){const Ue=d.XpG(2);d.R7$(1),d.SpI(" ",Ue.titleParts.part2,"")}}function $e(fe,Je){1&fe&&(d.j41(0,"button",17),d.EFF(1,"Schedule A Visit"),d.k0s())}function At(fe,Je){if(1&fe&&(d.j41(0,"div",18),d.DNE(1,ve,1,1,"img",12),d.j41(2,"div",19)(3,"h3"),d.EFF(4),d.k0s(),d.j41(5,"h2"),d.DNE(6,st,2,1,"span",20),d.k0s(),d.nrm(7,"div",21)(8,"p",14),d.k0s(),d.DNE(9,$e,2,0,"button",15),d.k0s()),2&fe){const Ue=d.XpG();d.Y8G("ngClass",Ue.themeType),d.R7$(1),d.Y8G("ngIf",Ue.imageURL&&Ue.showImage),d.R7$(3),d.SpI(" ",Ue.titleParts.part1,""),d.R7$(2),d.Y8G("ngIf",Ue.titleParts.part2),d.R7$(2),d.Y8G("innerHTML",Ue.sanitizedContent,d.npT),d.R7$(1),d.Y8G("ngIf",Ue.showBtn)}}function dt(fe,Je){if(1&fe&&d.nrm(0,"img",16),2&fe){const Ue=d.XpG(2);d.Y8G("src",Ue.imageURL,d.B4B)}}function jt(fe,Je){if(1&fe&&(d.j41(0,"span"),d.EFF(1),d.k0s()),2&fe){const Ue=d.XpG(2);d.R7$(1),d.SpI(" ",Ue.titleParts.part2,"")}}function Ot(fe,Je){1&fe&&(d.j41(0,"button",17),d.EFF(1,"Schedule A Visit"),d.k0s())}function pn(fe,Je){if(1&fe&&(d.j41(0,"div",18),d.DNE(1,dt,1,1,"img",12),d.j41(2,"div",19)(3,"h3"),d.EFF(4),d.k0s(),d.j41(5,"h2"),d.DNE(6,jt,2,1,"span",20),d.k0s(),d.nrm(7,"div",21)(8,"p",14),d.k0s(),d.DNE(9,Ot,2,0,"button",15),d.k0s()),2&fe){const Ue=d.XpG();d.Y8G("ngClass",Ue.themeType),d.R7$(1),d.Y8G("ngIf",Ue.imageURL&&Ue.showImage),d.R7$(3),d.SpI(" ",Ue.titleParts.part1,""),d.R7$(2),d.Y8G("ngIf",Ue.titleParts.part2),d.R7$(2),d.Y8G("innerHTML",Ue.sanitizedContent,d.npT),d.R7$(1),d.Y8G("ngIf",Ue.showBtn)}}let He=(()=>{class fe{constructor(Ue,it){this.sanitizer=Ue,this.router=it,this.showBtn=!1,this.showImage=!1,this._businessName=""}set content(Ue){this._content=Ue,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Ue,it]=this.title.split("|").map(Et=>Et.trim());return{part1:Ue,part2:it}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(){this.router.navigate(["/contact-us"])}static{this.\u0275fac=function(it){return new(it||fe)(d.rXU(p.up),d.rXU(n.Ix))}}static{this.\u0275cmp=d.VBU({type:fe,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",content:"content"},decls:4,vars:4,consts:[["class","welcome-info-container",3,"ngClass",4,"ngIf"],["class","center-text-section",3,"ngClass",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass",4,"ngIf"],[1,"welcome-info-container",3,"ngClass"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],["type","button",1,"afhBtn",3,"click"],[1,"center-text-section",3,"ngClass"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass"],[1,"text-container"],[4,"ngIf"],[1,"separator2"]],template:function(it,Et){1&it&&(d.DNE(0,Ne,12,10,"div",0),d.DNE(1,ie,9,11,"div",1),d.DNE(2,At,10,6,"div",2),d.DNE(3,pn,10,6,"div",2)),2&it&&(d.Y8G("ngIf","hh"==Et.themeType),d.R7$(1),d.Y8G("ngIf","clemo"!=Et.themeType&&"hh"!=Et.themeType&&"sb"!=Et.themeType&&"sp"!=Et.themeType),d.R7$(1),d.Y8G("ngIf","clemo"==Et.themeType),d.R7$(1),d.Y8G("ngIf","sb"==Et.themeType||"sp"==Et.themeType))},dependencies:[Ce.YU,Ce.bT,pe.m],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-section-clemo[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{line-height:2rem}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.clemo-center-title[_ngcontent-%COMP%]{padding-bottom:3rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}"]})}}return fe})()},3711:(ln,Ye,F)=>{F.d(Ye,{a:()=>ye});var d=F(7705),p=F(4710),n=F(177);function Ce(Te,Ne){1&Te&&(d.qex(0),d.nrm(1,"div",3),d.bVm())}function pe(Te,Ne){1&Te&&(d.qex(0),d.nrm(1,"div",4),d.bVm())}let ye=(()=>{class Te{constructor(ke){this.googleMapsLoader=ke,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(ke=>{console.error("Error loading Google Maps script:",ke)})}ngOnChanges(ke){ke.address&&!ke.address.firstChange&&this.showAddressOnMap(ke.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(ke){this.geocoder.geocode({address:ke},(W,ie)=>{if("OK"===ie){this.map.setCenter(W[0].geometry.location);const ve=new google.maps.LatLngBounds;ve.extend(W[0].geometry.location),this.map.fitBounds(ve),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:W[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ie)})}getZoomLevel(ke){document.getElementById("map");const ve=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(ke*ve)))}static{this.\u0275fac=function(W){return new(W||Te)(d.rXU(p.L))}}static{this.\u0275cmp=d.VBU({type:Te,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[d.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(W,ie){1&W&&(d.j41(0,"div",0),d.qex(1),d.DNE(2,Ce,2,0,"ng-container",1),d.DNE(3,pe,2,0,"ng-container",2),d.bVm(),d.k0s()),2&W&&(d.Y8G("ngSwitch",ie.layoutType),d.R7$(2),d.Y8G("ngSwitchCase","clemo"))},dependencies:[n.ux,n.e1,n.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return Te})()},1915:(ln,Ye,F)=>{F.d(Ye,{j:()=>st});var d=F(7705),p=F(177),n=F(4591);function Ce($e,At){if(1&$e&&(d.j41(0,"div",13),d.nrm(1,"i",14),d.j41(2,"h3",15),d.EFF(3),d.k0s()()),2&$e){const dt=At.$implicit;d.R7$(1),d.Y8G("ngClass",dt.icon),d.R7$(2),d.JRh(dt.name)}}function pe($e,At){if(1&$e&&(d.j41(0,"div")(1,"section",6)(2,"div",7)(3,"span",8),d.EFF(4,"Our "),d.k0s(),d.j41(5,"span",9),d.EFF(6,"Services"),d.k0s()(),d.j41(7,"h3",10),d.EFF(8,"Home Care From Trained Professionals"),d.k0s(),d.j41(9,"div",11),d.DNE(10,Ce,4,2,"div",12),d.k0s()()()),2&$e){const dt=d.XpG(2);d.R7$(10),d.Y8G("ngForOf",dt.services)}}function ye($e,At){if(1&$e&&(d.j41(0,"li",18)(1,"h2"),d.EFF(2),d.k0s(),d.j41(3,"div",19)(4,"p"),d.EFF(5),d.k0s()()()),2&$e){const dt=At.$implicit;d.R7$(2),d.JRh(dt.name),d.R7$(3),d.JRh(dt.description)}}function Te($e,At){if(1&$e&&(d.j41(0,"div",16)(1,"ul"),d.DNE(2,ye,6,2,"li",17),d.k0s()()),2&$e){const dt=d.XpG(2);d.R7$(2),d.Y8G("ngForOf",dt.services)}}function Ne($e,At){if(1&$e&&(d.j41(0,"section",3),d.DNE(1,pe,11,1,"div",4),d.DNE(2,Te,3,1,"div",5),d.k0s()),2&$e){const dt=d.XpG();d.R7$(1),d.Y8G("ngIf",dt.minimal),d.R7$(1),d.Y8G("ngIf",!dt.minimal)}}function ke($e,At){if(1&$e&&(d.j41(0,"div",24),d.nrm(1,"i",25),d.j41(2,"h2"),d.EFF(3),d.k0s(),d.j41(4,"p"),d.EFF(5),d.k0s()()),2&$e){const dt=At.$implicit;d.R7$(1),d.Y8G("ngClass",dt.icon),d.R7$(2),d.JRh(dt.name),d.R7$(2),d.JRh(dt.description)}}function W($e,At){if(1&$e&&(d.j41(0,"section",20),d.nrm(1,"app-section-tilte",21),d.j41(2,"div",22),d.DNE(3,ke,6,3,"div",23),d.k0s()()),2&$e){const dt=d.XpG();d.R7$(1),d.Y8G("title","Our Services"),d.R7$(2),d.Y8G("ngForOf",dt.services)}}function ie($e,At){if(1&$e&&(d.j41(0,"div",29)(1,"div",30),d.nrm(2,"i",31),d.k0s(),d.j41(3,"div",32)(4,"h2",33),d.EFF(5),d.k0s(),d.j41(6,"p",34),d.EFF(7),d.k0s()()()),2&$e){const dt=At.$implicit;d.R7$(2),d.Y8G("ngClass",dt.icon),d.R7$(3),d.JRh(dt.name),d.R7$(2),d.JRh(dt.description)}}function ve($e,At){if(1&$e&&(d.j41(0,"section",26),d.nrm(1,"app-section-tilte",21),d.j41(2,"div",27),d.DNE(3,ie,8,3,"div",28),d.k0s()()),2&$e){const dt=d.XpG();d.R7$(1),d.Y8G("title","Our Services"),d.R7$(2),d.Y8G("ngForOf",dt.services)}}let st=(()=>{class $e{constructor(){this.layoutType="demo",this.minimal=!1}ngOnInit(){console.log("List Items: ",this.services),console.log("List Items layoutType",this.layoutType)}static{this.\u0275fac=function(jt){return new(jt||$e)}}static{this.\u0275cmp=d.VBU({type:$e,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType",minimal:"minimal"},decls:3,vars:3,consts:[["class","services-list-section",4,"ngIf"],["class","services-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section"],[4,"ngIf"],["class","services-list",4,"ngIf"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"services-list"],["class","service-list-item",4,"ngFor","ngForOf"],[1,"service-list-item"],[1,"our-services-item-description"],[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"sb-services-section"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(jt,Ot){1&jt&&(d.DNE(0,Ne,3,2,"section",0),d.DNE(1,W,4,2,"section",1),d.DNE(2,ve,4,2,"section",2)),2&jt&&(d.Y8G("ngIf","hh"==Ot.layoutType),d.R7$(1),d.Y8G("ngIf","hh"!=Ot.layoutType&&"sb"!=Ot.layoutType&&"sp"!=Ot.layoutType),d.R7$(1),d.Y8G("ngIf","sb"==Ot.layoutType||"sp"==Ot.layoutType))},dependencies:[p.YU,p.Sq,p.bT,n.L],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.minimal-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}"]})}}return $e})()},8035:(ln,Ye,F)=>{F.d(Ye,{H:()=>ke});var d=F(7705),p=F(345),n=F(177),Ce=F(4591);function pe(W,ie){if(1&W&&(d.j41(0,"div",6),d.nrm(1,"img",7),d.j41(2,"h3"),d.EFF(3),d.k0s(),d.j41(4,"span",8),d.EFF(5),d.k0s(),d.nrm(6,"p",9),d.k0s()),2&W){const ve=ie.$implicit,st=d.XpG(2);d.R7$(1),d.Y8G("src",ve.image,d.B4B)("alt",ve.title),d.R7$(2),d.JRh(ve.title),d.R7$(2),d.JRh(ve.category),d.R7$(1),d.Y8G("innerHTML",st.getSanitizedDescription(ve.description),d.npT)}}function ye(W,ie){if(1&W&&(d.j41(0,"div",1),d.nrm(1,"app-section-tilte",2),d.j41(2,"p",3),d.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),d.k0s(),d.j41(4,"div",4),d.DNE(5,pe,7,5,"div",5),d.k0s()()),2&W){const ve=d.XpG();d.R7$(1),d.Y8G("title","Website Packages"),d.R7$(4),d.Y8G("ngForOf",ve.displayItems)}}function Te(W,ie){if(1&W&&(d.j41(0,"div",6)(1,"div",10),d.nrm(2,"img",11),d.j41(3,"span",12),d.EFF(4),d.nI1(5,"number"),d.k0s()(),d.j41(6,"h3",13),d.EFF(7),d.k0s(),d.nrm(8,"p",9),d.j41(9,"a",14),d.EFF(10,"Visit"),d.k0s()()),2&W){const ve=ie.$implicit,st=ie.index,$e=d.XpG(2);d.R7$(2),d.Mz_("alt","",ve.title," Logo"),d.Y8G("src",ve.companyLogo||ve.image,d.B4B),d.R7$(2),d.JRh(d.i5U(5,6,st+1,"2.0")),d.R7$(3),d.JRh(ve.title),d.R7$(1),d.Y8G("innerHTML",$e.getSanitizedDescription(ve.description),d.npT),d.R7$(1),d.FS9("href",ve.url,d.B4B)}}function Ne(W,ie){if(1&W&&(d.j41(0,"div",1),d.nrm(1,"app-section-tilte",2),d.j41(2,"p",3),d.EFF(3,"Using carefully vetted providers and vendors."),d.k0s(),d.j41(4,"div",4),d.DNE(5,Te,11,9,"div",5),d.k0s()()),2&W){const ve=d.XpG();d.R7$(1),d.Y8G("title","Trusted Partners"),d.R7$(4),d.Y8G("ngForOf",ve.displayItems)}}let ke=(()=>{class W{constructor(ve){this.sanitizer=ve,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$799",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1500",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"Pricing varies",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(ve){return this.sanitizer.bypassSecurityTrustHtml(ve)}ngOnInit(){this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(st){return new(st||W)(d.rXU(p.up))}}static{this.\u0275cmp=d.VBU({type:W,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(st,$e){1&st&&(d.DNE(0,ye,6,2,"div",0),d.DNE(1,Ne,6,2,"div",0)),2&st&&(d.Y8G("ngIf","sb"==$e.layoutType),d.R7$(1),d.Y8G("ngIf","sb"!=$e.layoutType))},dependencies:[n.Sq,n.bT,Ce.L,n.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return W})()},491:(ln,Ye,F)=>{F.d(Ye,{G:()=>ye});var d=F(7705),p=F(177);function n(Te,Ne){if(1&Te&&(d.j41(0,"section",2)(1,"div",3)(2,"h2"),d.EFF(3),d.k0s(),d.j41(4,"h4"),d.EFF(5),d.k0s()(),d.j41(6,"div",4),d.nrm(7,"img",5),d.k0s()()),2&Te){const ke=d.XpG();d.R7$(3),d.JRh(ke.title),d.R7$(2),d.JRh(ke.content),d.R7$(2),d.FS9("src",ke.imageURL,d.B4B),d.FS9("alt",ke.title)}}function Ce(Te,Ne){if(1&Te&&(d.j41(0,"span"),d.EFF(1),d.k0s()),2&Te){const ke=d.XpG(2);d.R7$(1),d.SpI(" ",ke.titleParts.part2,"")}}function pe(Te,Ne){if(1&Te&&(d.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",3)(4,"h3"),d.EFF(5),d.k0s(),d.j41(6,"h2"),d.DNE(7,Ce,2,1,"span",9),d.k0s(),d.nrm(8,"div",10),d.j41(9,"p"),d.EFF(10),d.k0s()(),d.j41(11,"div",11),d.nrm(12,"img",5),d.k0s()()()()),2&Te){const ke=d.XpG();d.R7$(5),d.SpI(" ",ke.titleParts.part1,""),d.R7$(2),d.Y8G("ngIf",ke.titleParts.part2),d.R7$(3),d.JRh(ke.content),d.R7$(2),d.FS9("src",ke.imageURL,d.B4B),d.FS9("alt",ke.title)}}let ye=(()=>{class Te{get titleParts(){if(this.title.includes("|")){const[ke,W]=this.title.split("|").map(ie=>ie.trim());return{part1:ke,part2:W}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(W){return new(W||Te)}}static{this.\u0275cmp=d.VBU({type:Te,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","left-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"]],template:function(W,ie){1&W&&(d.DNE(0,n,8,4,"section",0),d.DNE(1,pe,13,5,"section",1)),2&W&&(d.Y8G("ngIf","clemo"!=ie.themeType&&"sb"!=ie.themeType&&"sp"!=ie.themeType),d.R7$(1),d.Y8G("ngIf","clemo"==ie.themeType||"sb"==ie.themeType||"sp"==ie.themeType))},dependencies:[p.bT],styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Te})()},4593:(ln,Ye,F)=>{F.d(Ye,{F:()=>Te});var d=F(7705),p=F(345),n=F(177);function Ce(Ne,ke){if(1&Ne&&(d.j41(0,"section",2)(1,"div",3),d.nrm(2,"img",4),d.k0s(),d.j41(3,"div",5)(4,"h2"),d.EFF(5),d.k0s(),d.j41(6,"h4"),d.EFF(7),d.k0s()()()),2&Ne){const W=d.XpG();d.R7$(2),d.FS9("src",W.imageURL,d.B4B),d.FS9("alt",W.title),d.R7$(3),d.JRh(W.title),d.R7$(2),d.JRh(W.content)}}function pe(Ne,ke){if(1&Ne&&(d.j41(0,"span"),d.EFF(1),d.k0s()),2&Ne){const W=d.XpG(2);d.R7$(1),d.SpI(" ",W.titleParts.part2,"")}}function ye(Ne,ke){if(1&Ne&&(d.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9),d.nrm(4,"img",4),d.k0s(),d.j41(5,"div",5)(6,"h3"),d.EFF(7),d.k0s(),d.j41(8,"h2"),d.DNE(9,pe,2,1,"span",10),d.k0s(),d.nrm(10,"div",11),d.j41(11,"p",12),d.EFF(12),d.k0s()()()()()),2&Ne){const W=d.XpG();d.R7$(4),d.FS9("src",W.imageURL,d.B4B),d.FS9("alt",W.title),d.R7$(3),d.SpI(" ",W.titleParts.part1,""),d.R7$(2),d.Y8G("ngIf",W.titleParts.part2),d.R7$(2),d.Y8G("innerHTML",W.sanitizedContent,d.npT),d.R7$(1),d.JRh(W.content)}}let Te=(()=>{class Ne{set content(W){this._content=W,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(W)}constructor(W){this.sanitizer=W}get titleParts(){if(this.title.includes("|")){const[W,ie]=this.title.split("|").map(ve=>ve.trim());return{part1:W,part2:ie}}return{part1:this.title,part2:null}}get content(){return this._content}static{this.\u0275fac=function(ie){return new(ie||Ne)(d.rXU(p.up))}}static{this.\u0275cmp=d.VBU({type:Ne,selectors:[["app-right-text"]],inputs:{title:"title",imageURL:"imageURL",themeType:"themeType",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[3,"innerHTML"]],template:function(ie,ve){1&ie&&(d.DNE(0,Ce,8,4,"section",0),d.DNE(1,ye,13,6,"section",1)),2&ie&&(d.Y8G("ngIf","clemo"!=ve.themeType&&"sb"!=ve.themeType&&"sp"!=ve.themeType),d.R7$(1),d.Y8G("ngIf","clemo"==ve.themeType||"sb"==ve.themeType||"sp"==ve.themeType))},dependencies:[n.bT],styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Ne})()},4591:(ln,Ye,F)=>{F.d(Ye,{L:()=>p});var d=F(7705);let p=(()=>{class n{static{this.\u0275fac=function(ye){return new(ye||n)}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["app-section-tilte"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(ye,Te){1&ye&&(d.j41(0,"div",0)(1,"h2",1),d.EFF(2),d.k0s()()),2&ye&&(d.R7$(2),d.JRh(Te.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return n})()},8059:(ln,Ye,F)=>{F.d(Ye,{B:()=>is});var d=F(5558),p=F(7705),n=F(6814),Ce=F(6861),pe=F(923),ye=F(177);function Te(_e,kt){if(1&_e&&(p.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),p.EFF(5),p.k0s(),p.j41(6,"strong"),p.EFF(7),p.k0s()()()()()),2&_e){const K=kt.$implicit;p.R7$(5),p.SpI('" ',K.quote,' "'),p.R7$(2),p.JRh(K.name)}}function Ne(_e,kt){if(1&_e&&(p.qex(0),p.j41(1,"section",3)(2,"div",4)(3,"span",5),p.EFF(4,"Testimonials"),p.k0s()(),p.j41(5,"div",6),p.DNE(6,Te,8,2,"div",7),p.k0s()(),p.bVm()),2&_e){const K=p.XpG();p.R7$(6),p.Y8G("ngForOf",K.testimonials)}}function ke(_e,kt){if(1&_e&&(p.j41(0,"div",21)(1,"div",22)(2,"div",23),p.EFF(3,"\u275d"),p.k0s(),p.j41(4,"p",24),p.EFF(5),p.k0s(),p.j41(6,"h4",25),p.EFF(7),p.k0s()()()),2&_e){const K=kt.$implicit;p.R7$(5),p.JRh(K.quote),p.R7$(2),p.JRh(K.name)}}function W(_e,kt){if(1&_e&&(p.qex(0),p.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),p.EFF(5,"Word of mouth"),p.k0s(),p.j41(6,"p",15),p.EFF(7,"You should hear what people have to say about us"),p.k0s()(),p.j41(8,"div",16)(9,"div",17),p.DNE(10,ke,8,2,"div",18),p.nI1(11,"slice"),p.k0s(),p.j41(12,"div",19)(13,"button",20),p.EFF(14," View All Testimonials "),p.k0s()()()()(),p.bVm()),2&_e){const K=p.XpG();p.R7$(10),p.Y8G("ngForOf",p.brH(11,1,K.testimonials,0,4))}}function ie(_e,kt){if(1&_e&&(p.j41(0,"div",21)(1,"div",22)(2,"div",23),p.EFF(3,"\u275d"),p.k0s(),p.j41(4,"p",24),p.EFF(5),p.k0s(),p.j41(6,"h4",25),p.EFF(7),p.k0s()()()),2&_e){const K=kt.$implicit;p.R7$(5),p.JRh(K.quote),p.R7$(2),p.JRh(K.name)}}function ve(_e,kt){if(1&_e&&(p.qex(0),p.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),p.EFF(5,"Word of mouth"),p.k0s(),p.j41(6,"p",15),p.EFF(7,"You should hear what people have to say about us"),p.k0s()(),p.j41(8,"div",16)(9,"div",17),p.DNE(10,ie,8,2,"div",18),p.nI1(11,"slice"),p.k0s(),p.j41(12,"div",19)(13,"button",20),p.EFF(14," View All Testimonials "),p.k0s()()()()(),p.bVm()),2&_e){const K=p.XpG();p.R7$(10),p.Y8G("ngForOf",p.brH(11,1,K.testimonials,0,4))}}function st(_e,kt){if(1&_e&&(p.j41(0,"div",33)(1,"div",34),p.nrm(2,"div",35),p.j41(3,"p",36),p.EFF(4),p.k0s()(),p.j41(5,"div",37)(6,"p",38),p.EFF(7),p.k0s()()()),2&_e){const K=kt.$implicit;p.R7$(4),p.JRh(K.quote),p.R7$(3),p.JRh(K.name)}}function $e(_e,kt){if(1&_e&&(p.qex(0),p.j41(1,"section",26)(2,"div",27)(3,"h2",28),p.EFF(4,"Word of Mouth"),p.k0s(),p.j41(5,"p",29),p.EFF(6,"You should hear what people have to say about us"),p.k0s()(),p.j41(7,"div",30)(8,"div",31),p.DNE(9,st,8,2,"div",32),p.k0s()()(),p.bVm()),2&_e){const K=p.XpG();p.R7$(9),p.Y8G("ngForOf",K.testimonials)}}let At=(()=>{class _e{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(K){this.currentIndex=K,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(Ie){return new(Ie||_e)}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0),p.DNE(1,Ne,7,1,"ng-container",1),p.DNE(2,W,15,5,"ng-container",1),p.DNE(3,ve,15,5,"ng-container",1),p.DNE(4,$e,10,1,"ng-container",2),p.k0s()),2&Ie&&(p.Y8G("ngSwitch",Lt.layoutType),p.R7$(1),p.Y8G("ngSwitchCase","hh"),p.R7$(1),p.Y8G("ngSwitchCase","ae"),p.R7$(1),p.Y8G("ngSwitchCase","clemo"))},dependencies:[ye.Sq,ye.ux,ye.e1,ye.fG,n.Wk,ye.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return _e})();function dt(_e,kt){if(1&_e){const K=p.RV6();p.qex(0),p.j41(1,"div",2)(2,"div",3)(3,"span",4),p.EFF(4,"Ready to "),p.k0s(),p.j41(5,"span",5),p.EFF(6,"Take the Next Step?"),p.k0s()(),p.j41(7,"p",6),p.EFF(8," We\u2019d love to welcome you into our home. Fill out our resident intake form, and let\u2019s start planning the care and comfort your loved one deserves. "),p.k0s(),p.j41(9,"button",7),p.bIt("click",function(){p.eBV(K);const Lt=p.XpG();return p.Njj(Lt.navigateTo("resident-form"))}),p.EFF(10,"Get Started"),p.k0s()(),p.bVm()}}function jt(_e,kt){if(1&_e){const K=p.RV6();p.qex(0),p.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),p.EFF(6,"Ready to experience "),p.k0s(),p.j41(7,"span",13),p.EFF(8),p.k0s()(),p.j41(9,"p"),p.EFF(10,"Discover what makes our services unique and tailored to your needs."),p.k0s(),p.j41(11,"div",14)(12,"button",15),p.bIt("click",function(){p.eBV(K);const Lt=p.XpG();return p.Njj(Lt.navigateToContact(Lt.id))}),p.EFF(13,"Schedule a Visit"),p.k0s()()()()(),p.bVm()}if(2&_e){const K=p.XpG();p.R7$(8),p.SpI("",K.businessName,"?")}}function Ot(_e,kt){if(1&_e){const K=p.RV6();p.qex(0),p.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),p.EFF(6,"Ready to experience "),p.k0s(),p.j41(7,"span",13),p.EFF(8),p.k0s()(),p.j41(9,"p"),p.EFF(10,"Discover what makes our services unique and tailored to your needs."),p.k0s(),p.j41(11,"div",14)(12,"button",16),p.bIt("click",function(){p.eBV(K);const Lt=p.XpG();return p.Njj(Lt.navigateToContact(Lt.id))}),p.EFF(13,"Let's Talk"),p.k0s()()()()(),p.bVm()}if(2&_e){const K=p.XpG();p.R7$(8),p.SpI("",K.businessName,"?")}}let pn=(()=>{class _e{constructor(K){this.router=K,this.id=null,this.layoutType="demo"}navigateToContact(K){this.router.navigate(["/contact-us"],{queryParams:{id:K}})}navigateTo(K){this.router.navigate(["/"+K],{queryParams:{id:this.id}})}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(n.Ix))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],[1,"btn",3,"click"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0),p.DNE(1,dt,11,0,"ng-container",1),p.DNE(2,jt,14,1,"ng-container",1),p.DNE(3,Ot,14,1,"ng-container",1),p.k0s()),2&Ie&&(p.Y8G("ngSwitch",Lt.layoutType),p.R7$(1),p.Y8G("ngSwitchCase","hh"),p.R7$(1),p.Y8G("ngSwitchCase","ae"),p.R7$(1),p.Y8G("ngSwitchCase","sb"))},dependencies:[ye.ux,ye.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return _e})();var He=F(8704);function fe(_e,kt){if(1&_e&&(p.j41(0,"div",10),p.nrm(1,"div",11)(2,"div",12),p.k0s()),2&_e){const K=kt.$implicit;p.R7$(1),p.Y8G("innerHTML",K.name,p.npT),p.R7$(1),p.Y8G("innerHTML",K.description,p.npT)}}function Je(_e,kt){if(1&_e&&(p.qex(0),p.j41(1,"section",2)(2,"div",3)(3,"span",4),p.EFF(4,"Our Unique "),p.k0s(),p.j41(5,"span",5),p.EFF(6," Features"),p.k0s()(),p.j41(7,"p",6),p.EFF(8," What sets us appart. "),p.k0s(),p.j41(9,"div",7)(10,"div",8),p.DNE(11,fe,3,2,"div",9),p.k0s()()(),p.bVm()),2&_e){const K=p.XpG();p.R7$(11),p.Y8G("ngForOf",K.uniqueService)}}function Ue(_e,kt){1&_e&&p.eu8(0)}let it=(()=>{class _e{constructor(K,Ie){this.webContent=K,this.route=Ie,this.layoutType="demo"}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(He.N),p.rXU(n.nX))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0),p.DNE(1,Je,12,1,"ng-container",1),p.DNE(2,Ue,1,0,"ng-container",1),p.k0s()),2&Ie&&(p.Y8G("ngSwitch",Lt.layoutType),p.R7$(1),p.Y8G("ngSwitchCase","hh"),p.R7$(1),p.Y8G("ngSwitchCase","ae"))},dependencies:[ye.Sq,ye.ux,ye.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return _e})();function Et(_e,kt){if(1&_e&&(p.j41(0,"div",10),p.nrm(1,"div",11)(2,"div",12),p.k0s()),2&_e){const K=kt.$implicit;p.R7$(1),p.Y8G("innerHTML",K.name,p.npT),p.R7$(1),p.Y8G("innerHTML",K.description,p.npT)}}function Ut(_e,kt){if(1&_e&&(p.qex(0),p.j41(1,"section",3)(2,"div",4)(3,"span",5),p.EFF(4,"Why Choose "),p.k0s(),p.j41(5,"span",6),p.EFF(6," US "),p.k0s()(),p.j41(7,"div",7)(8,"div",8),p.DNE(9,Et,3,2,"div",9),p.k0s()()(),p.bVm()),2&_e){const K=p.XpG();p.R7$(9),p.Y8G("ngForOf",K.whyChooseUs)}}function Se(_e,kt){1&_e&&p.eu8(0)}function on(_e,kt){if(1&_e&&(p.j41(0,"div",10),p.nrm(1,"div",11)(2,"div",12),p.k0s()),2&_e){const K=kt.$implicit;p.R7$(1),p.Y8G("innerHTML",K.name,p.npT),p.R7$(1),p.Y8G("innerHTML",K.description,p.npT)}}function bn(_e,kt){if(1&_e&&(p.qex(0),p.j41(1,"section",3)(2,"div",4)(3,"span",5),p.EFF(4,"Why Choose "),p.k0s(),p.j41(5,"span",6),p.EFF(6),p.k0s()(),p.j41(7,"p",13),p.EFF(8," What sets us appart. "),p.k0s(),p.j41(9,"div",7)(10,"div",8),p.DNE(11,on,3,2,"div",9),p.k0s()()(),p.bVm()),2&_e){const K=p.XpG();p.R7$(6),p.SpI(" ",K.businessName,""),p.R7$(5),p.Y8G("ngForOf",K.whyChooseUs)}}let jn=(()=>{class _e{constructor(K,Ie){this.webContent=K,this.route=Ie,this.layoutType="demo"}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(He.N),p.rXU(n.nX))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0),p.DNE(1,Ut,10,1,"ng-container",1),p.DNE(2,Se,1,0,"ng-container",1),p.DNE(3,bn,12,2,"ng-container",2),p.k0s()),2&Ie&&(p.Y8G("ngSwitch",Lt.layoutType),p.R7$(1),p.Y8G("ngSwitchCase","hh"),p.R7$(1),p.Y8G("ngSwitchCase","ae"))},dependencies:[ye.Sq,ye.ux,ye.e1,ye.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return _e})();var Ft=F(3739),Yt=F(4593),Xt=F(491),gt=F(1915);function je(_e,kt){if(1&_e&&(p.j41(0,"div",7),p.nrm(1,"i",8),p.j41(2,"h3",9),p.EFF(3),p.k0s()()),2&_e){const K=kt.$implicit;p.R7$(1),p.HbH(K.icon),p.R7$(2),p.JRh(K.title)}}let ot=(()=>{class _e{constructor(){this.services=[]}static{this.\u0275fac=function(Ie){return new(Ie||_e)}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),p.EFF(4,"Our Services"),p.k0s(),p.j41(5,"div",4),p.DNE(6,je,4,3,"div",5),p.k0s(),p.j41(7,"button",6),p.EFF(8,"Learn More"),p.k0s()()()()),2&Ie&&(p.R7$(6),p.Y8G("ngForOf",Lt.services))},dependencies:[ye.Sq,n.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return _e})(),un=(()=>{class _e{static{this.\u0275fac=function(Ie){return new(Ie||_e)}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0)(1,"div",1)(2,"h1"),p.EFF(3,"Our Motto"),p.k0s(),p.j41(4,"h4"),p.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),p.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px;overflow:hidden}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:var(--site-max-width);margin:0 auto}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:300px;background-attachment:scroll;background-size:cover}}@media (max-width: 480px){.parallax-container[_ngcontent-%COMP%]{height:250px}h1[_ngcontent-%COMP%]{font-size:1.5rem}h4[_ngcontent-%COMP%]{font-size:1rem}}']})}}return _e})(),Ke=(()=>{class _e{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(Ie){return new(Ie||_e)}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),p.EFF(4),p.k0s(),p.j41(5,"span",4),p.EFF(6,"Years of Experience"),p.k0s()(),p.j41(7,"div",2)(8,"span",3),p.EFF(9),p.k0s(),p.j41(10,"span",4),p.EFF(11,"Happy Families"),p.k0s()(),p.j41(12,"div",2)(13,"span",3),p.EFF(14),p.k0s(),p.j41(15,"span",4),p.EFF(16,"Services Offered"),p.k0s()(),p.j41(17,"div",2)(18,"span",3),p.EFF(19),p.k0s(),p.j41(20,"span",4),p.EFF(21,"Trained Staff"),p.k0s()()()()),2&Ie&&(p.xc7("background-image","url("+Lt.backgroundImage+")"),p.R7$(4),p.JRh(Lt.yearsOfExperience),p.R7$(5),p.JRh(Lt.happyFamilies),p.R7$(5),p.JRh(Lt.servicesOffered),p.R7$(5),p.JRh(Lt.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{width:100vw;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff;box-sizing:border-box}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:150px;width:100vw;height:100%;height:auto;justify-content:center;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:auto;background-attachment:scroll}.stats-overlay[_ngcontent-%COMP%]{gap:20px;padding:15px;flex-direction:column;align-items:center;width:100%}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:3rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return _e})();const Ae=function(_e,kt){return{"clemo-btn":_e,"clemo-btn-outline":kt}},be=function(_e){return{"border-radius":_e}};function Be(_e,kt){if(1&_e&&(p.qex(0),p.j41(1,"a",14),p.EFF(2),p.k0s(),p.bVm()),2&_e){const K=kt.$implicit,Ie=p.XpG(3);p.R7$(1),p.Y8G("routerLink",K.link)("ngClass",p.l_i(4,Ae,!K.outline,K.outline))("ngStyle",p.eq3(7,be,Ie.buttonBorderRadius)),p.R7$(1),p.SpI(" ",K.text," ")}}const at=function(_e,kt){return{"font-size":_e,"font-weight":kt}};function et(_e,kt){if(1&_e&&(p.j41(0,"div",6)(1,"h1"),p.EFF(2),p.k0s(),p.nrm(3,"div",7)(4,"h2",8),p.j41(5,"div",9),p.DNE(6,Be,3,9,"ng-container",10),p.k0s(),p.j41(7,"div",11)(8,"div",12),p.nrm(9,"div",13),p.k0s(),p.j41(10,"p"),p.EFF(11,"Scroll down"),p.k0s()()()),2&_e){const K=p.XpG().$implicit,Ie=p.XpG();p.R7$(2),p.JRh(K.title),p.R7$(2),p.Y8G("ngStyle",p.l_i(4,at,Ie.subtitleSize,Ie.subtitleWeight))("innerHTML",K.subtitle,p.npT),p.R7$(2),p.Y8G("ngForOf",K.buttons)}}const Bt=function(_e){return{background:_e,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Rn(_e,kt){if(1&_e&&(p.j41(0,"div",3),p.nrm(1,"div",4),p.DNE(2,et,12,7,"div",5),p.k0s()),2&_e){const K=kt.$implicit,Ie=kt.index,Lt=p.XpG();p.AVh("clemo-active",Ie===Lt.currentSlide),p.R7$(1),p.Y8G("ngStyle",p.eq3(4,Bt,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+K.backgroundImage+")")),p.R7$(1),p.Y8G("ngIf",null==K.title?null:K.title.trim())}}const mr=function(_e){return{"line-style":_e}};function hn(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"div",19),p.bIt("click",function(){const $r=p.eBV(K).index,er=p.XpG(2);return p.Njj(er.navigateToSlide($r))}),p.k0s()}if(2&_e){const K=kt.index,Ie=p.XpG(2);p.AVh("clemo-active",K===Ie.currentSlide),p.Y8G("ngClass",p.eq3(3,mr,"bottom"===Ie.navigation))}}function Bn(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"button",20),p.bIt("click",function(){p.eBV(K);const Lt=p.XpG(2);return p.Njj(Lt.prevSlide())}),p.nrm(1,"span",21),p.j41(2,"span",22),p.EFF(3,"Previous"),p.k0s()()}}function nn(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"button",23),p.bIt("click",function(){p.eBV(K);const Lt=p.XpG(2);return p.Njj(Lt.nextSlide())}),p.nrm(1,"span",24),p.j41(2,"span",22),p.EFF(3,"Next"),p.k0s()()}}const ir=function(_e){return{"bottom-nav":_e}};function $n(_e,kt){if(1&_e&&(p.j41(0,"div")(1,"div",15),p.DNE(2,hn,1,5,"div",16),p.k0s(),p.DNE(3,Bn,4,0,"button",17),p.DNE(4,nn,4,0,"button",18),p.k0s()),2&_e){const K=p.XpG();p.R7$(1),p.Y8G("ngClass",p.eq3(4,ir,"bottom"===K.navigation)),p.R7$(1),p.Y8G("ngForOf",K.slides),p.R7$(1),p.Y8G("ngIf",K.sideButtons),p.R7$(1),p.Y8G("ngIf",K.sideButtons)}}const Qt=function(_e,kt,K,Ie,Lt){return{"--slider-opacity":_e,height:kt,"--button-border-radius":K,"--subtitle-size":Ie,"--subtitle-weight":Lt}};let Ht=(()=>{class _e{constructor(K,Ie){this.router=K,this.businessDataService=Ie,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(K=>{K?(console.log("HeroSliderComponent - Retrieved business data:",K),this.business=K,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(Ie=>({title:this.replaceKeywords(Ie.title),subtitle:this.replaceKeywords(Ie.subtitle),backgroundImage:Ie.backgroundImage,buttons:Ie.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(K){return K&&this.business?.businessName?K.replace(/{{businessName}}/g,this.business.businessName):K}navigateToSlide(K){this.currentSlide=K}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const K=window.scrollY,Ie=window.innerHeight;this.sliderOpacity=Math.max(1-K/Ie,0)}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(n.Ix),p.rXU(pe.A))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-hero-slider"]],hostBindings:function(Ie,Lt){1&Ie&&p.bIt("scroll",function(er){return Lt.onScroll(er)},!1,p.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button","data-bs-target","#heroCarousel","data-bs-slide","next",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0),p.DNE(1,Rn,3,6,"div",1),p.DNE(2,$n,5,6,"div",2),p.k0s()),2&Ie&&(p.Y8G("ngStyle",p.s1E(3,Qt,Lt.sliderOpacity,Lt.sliderHeight,Lt.buttonBorderRadius,Lt.subtitleSize,Lt.subtitleWeight)),p.R7$(1),p.Y8G("ngForOf",Lt.slides),p.R7$(1),p.Y8G("ngIf",Lt.slides.length>1))},dependencies:[ye.YU,ye.Sq,ye.bT,ye.B3,n.Wk,n.wQ],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0;color:#fff}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:var(--subtitle-size, 1.5rem);font-weight:var(--subtitle-weight, 400);color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:var(--button-border-radius, 25px);text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:1px solid #fff;border-radius:var(--button-border-radius, 25px);text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-slider-navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.clemo-nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.clemo-nav-item.line-style[_ngcontent-%COMP%]{width:30px;height:4px;background-color:#fff;clip-path:none;border-radius:2px}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:calc(-50% + 40px);left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}@media (max-width: 1024px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 768px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1rem!important}.clemo-home-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.clemo-btn[_ngcontent-%COMP%], .clemo-btn-outline[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px;margin-right:0}.mouse-scroll[_ngcontent-%COMP%]{bottom:-150px}}@media (max-width: 480px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:.9rem!important;line-height:1.4}.clemo-btn[_ngcontent-%COMP%], .clemo-btn-outline[_ngcontent-%COMP%]{font-size:.85rem;padding:6px 12px}.mouse-scroll[_ngcontent-%COMP%]{bottom:-120px}}"]})}}return _e})();var Jn=F(9969),gn=F(4710);function Vr(_e,kt){1&_e&&(p.j41(0,"div",16),p.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),p.k0s())}function lr(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"span"),p.EFF(1,"[...]"),p.j41(2,"button",17),p.bIt("click",function(){p.eBV(K);const Lt=p.XpG(3);return p.Njj(Lt.navigateToTestimonials())}),p.EFF(3," Read More "),p.k0s()()}}function zt(_e,kt){if(1&_e&&(p.j41(0,"div",8)(1,"div",9)(2,"h3",10),p.EFF(3),p.k0s(),p.nrm(4,"div",11),p.j41(5,"p",12),p.EFF(6),p.k0s(),p.DNE(7,Vr,2,0,"div",13),p.k0s(),p.j41(8,"div",14)(9,"p"),p.EFF(10),p.DNE(11,lr,4,0,"span",15),p.k0s()()()),2&_e){const K=kt.$implicit,Ie=p.XpG(2);p.Y8G("@slideIn",void 0),p.R7$(1),p.Y8G("@fadeInRight",void 0),p.R7$(2),p.JRh(K.name),p.R7$(3),p.JRh(K.relationship),p.R7$(1),p.Y8G("ngIf",K.isGoogle),p.R7$(1),p.Y8G("@fadeInLeft",void 0),p.R7$(2),p.SpI(" ",Ie.truncateText(K.quote)," "),p.R7$(1),p.Y8G("ngIf",Ie.isTruncated(K.quote))}}function xn(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"button",18),p.bIt("click",function(){const $r=p.eBV(K).index,er=p.XpG(2);return p.Njj(er.goToSlide($r))}),p.EFF(1," \u25cf "),p.k0s()}if(2&_e){const K=kt.index,Ie=p.XpG(2);p.AVh("active",K===Ie.currentIndex)}}function Zn(_e,kt){if(1&_e&&(p.j41(0,"a",19),p.EFF(1," Leave a Google Review "),p.k0s()),2&_e){const K=p.XpG(2);p.Y8G("href",K.googleReviewLink,p.B4B)}}const Nn=function(_e){return[_e]};function Xr(_e,kt){if(1&_e&&(p.qex(0),p.DNE(1,zt,12,8,"div",4),p.j41(2,"div",5),p.DNE(3,xn,2,2,"button",6),p.k0s(),p.DNE(4,Zn,2,1,"a",7),p.bVm()),2&_e){const K=p.XpG();p.R7$(1),p.Y8G("ngForOf",p.eq3(4,Nn,K.currentTestimonial))("ngForTrackBy",K.trackByIndex),p.R7$(2),p.Y8G("ngForOf",K.testimonials),p.R7$(1),p.Y8G("ngIf",K.placeId)}}function kr(_e,kt){1&_e&&(p.j41(0,"p",20),p.EFF(1,"No testimonials available at the moment."),p.k0s())}let Qr=(()=>{class _e{constructor(K,Ie,Lt){this.businessDataService=K,this.googleMapsLoader=Ie,this.router=Lt,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(K=>{if(K&&K.testimonials){const Ie=K.testimonials.map(Lt=>({...Lt,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...Ie]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(Ie,Lt)=>{if(Lt===google.maps.places.PlacesServiceStatus.OK){const $r=Ie?.reviews?.map(er=>({name:er.author_name,quote:er.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...$r,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",Lt)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(K){this.currentIndex=K}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(K,Ie){return K}truncateText(K){return K.length>this.maxTextLength?K.slice(0,this.maxTextLength):K}isTruncated(K){return K.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(pe.A),p.rXU(gn.L),p.rXU(n.Ix))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:2,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],[4,"ngIf","ngIfElse"],["noTestimonials",""],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer","class","afhBtn leave-review",3,"href",4,"ngIf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],[1,"btn","read-more",3,"click"],[3,"click"],["target","_blank","rel","noopener noreferrer",1,"afhBtn","leave-review",3,"href"],[1,"no-testimonials-message"]],template:function(Ie,Lt){if(1&Ie&&(p.j41(0,"div",0)(1,"h1",1),p.EFF(2,"clients say\u2019s"),p.k0s(),p.DNE(3,Xr,5,6,"ng-container",2),p.DNE(4,kr,2,0,"ng-template",null,3,p.C5r),p.k0s()),2&Ie){const $r=p.sdS(5);p.R7$(3),p.Y8G("ngIf",Lt.currentTestimonial)("ngIfElse",$r)}},dependencies:[ye.Sq,ye.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,Jn.hZ)("slideIn",[(0,Jn.kY)(":enter",[(0,Jn.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Jn.i0)("0.5s ease-in",(0,Jn.iF)({opacity:1,transform:"translateX(0)"}))]),(0,Jn.kY)(":leave",[(0,Jn.i0)("0.5s ease-out",(0,Jn.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,Jn.hZ)("fadeInLeft",[(0,Jn.kY)(":enter",[(0,Jn.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Jn.i0)("0.5s ease-in",(0,Jn.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,Jn.hZ)("fadeInRight",[(0,Jn.kY)(":enter",[(0,Jn.iF)({opacity:0,transform:"translateX(100%)"}),(0,Jn.i0)("0.5s ease-in",(0,Jn.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return _e})();var nr=F(3711),Jr=F(4591);let gs=(()=>{class _e{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(Ie){return new(Ie||_e)}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(Ie,Lt){1&Ie&&(p.nrm(0,"app-section-tilte",0),p.j41(1,"div",1),p.nrm(2,"iframe",2),p.k0s()),2&Ie&&p.Y8G("title","Video")},dependencies:[Jr.L],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px;aspect-ratio:16 / 9}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{height:auto;padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-height:60vh}}"]})}}return _e})();var Cn=F(8035),br=F(467),Kn=F(8455),sr=F(6354);function Fn(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"div",5),p.bIt("click",function(){const $r=p.eBV(K).$implicit,er=p.XpG();return p.Njj(er.onImageClick($r.url))}),p.nrm(1,"img",6),p.k0s()}if(2&_e){const K=kt.$implicit;p.R7$(1),p.Y8G("src",K.url,p.B4B)}}let bi=(()=>{class _e{constructor(K,Ie,Lt){this.businessDataService=K,this.webContent=Ie,this.metaService=Lt,this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.heroImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(K=>{this.business=K,this.layoutType=K?.theme.themeType||"",K?.id&&(this.businessId=K.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}loadImages(){var K=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:Lt,target:$r})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,Lt).pipe((0,d.n)(er=>{console.log(`Raw Firestore images for ${Lt}:`,er);const $i=er.map(function(){var wo=(0,br.A)(function*(li){return(yield K.webContent.checkImageExists(li.url))?li:null});return function(li){return wo.apply(this,arguments)}}());return(0,Kn.H)(Promise.all($i))}),(0,sr.T)(er=>er.filter($i=>null!==$i)),(0,sr.T)(er=>(console.log(`Filtered images for ${$r}:`,er),er.map($i=>({url:$i.url,title:$i.title||"No Title",description:$i.description||"No Description",link:$i.link||"No Link",order:isNaN(Number($i.order))?999:Number($i.order)})).sort(($i,wo)=>$i.order-wo.order)))).subscribe(er=>{console.log(`Sorted images for ${$r}:`,er),this[$r]||(this[$r]=[]),this[$r]=er})})}closeLightbox(){this.selectedImageUrl=null}onImageClick(K){this.selectedImageUrl=K}onCloseModal(){this.selectedImageUrl=null}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(pe.A),p.rXU(He.N),p.rXU(Ce.R))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-sp-gallery-component"]],inputs:{businessId:"businessId"},decls:5,vars:2,consts:[[1,"gallery","ae-gallery"],[1,"section-heading"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"section",0)(1,"div",1),p.nrm(2,"app-section-tilte",2),p.k0s(),p.j41(3,"div",3),p.DNE(4,Fn,2,1,"div",4),p.k0s()()),2&Ie&&(p.R7$(2),p.Y8G("title","Our Home"),p.R7$(2),p.Y8G("ngForOf",Lt.images))},dependencies:[ye.Sq,Jr.L]})}}return _e})();var nt=F(345),ft=F(1626),ae=F(1334),Re=F(4341);function Dt(_e,kt){if(1&_e&&(p.j41(0,"div",4)(1,"p")(2,"a",17),p.EFF(3),p.k0s()()()),2&_e){const K=p.XpG(2);p.R7$(2),p.Mz_("href","mailto:",K.business.email,"",p.B4B),p.R7$(1),p.JRh(K.business.email)}}function Kt(_e,kt){if(1&_e&&(p.j41(0,"div",18)(1,"a",19),p.nrm(2,"i",20),p.k0s()()),2&_e){const K=p.XpG(2);p.R7$(1),p.FS9("href",K.business.socialMedia,p.B4B)}}function Yn(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"div")(1,"div",1)(2,"div",2)(3,"h2"),p.EFF(4,"Contact us"),p.k0s(),p.DNE(5,Dt,4,2,"div",3),p.j41(6,"div",4)(7,"p"),p.EFF(8),p.k0s()(),p.j41(9,"div",4)(10,"p"),p.EFF(11),p.k0s()(),p.DNE(12,Kt,3,1,"div",5),p.k0s(),p.j41(13,"div",6)(14,"form",7),p.bIt("submit",function(){p.eBV(K);const Lt=p.XpG();return p.Njj(Lt.onSubmit())}),p.j41(15,"div",8)(16,"label",9),p.EFF(17,"Name "),p.j41(18,"span"),p.EFF(19,"(required)"),p.k0s()(),p.j41(20,"div",10)(21,"input",11),p.bIt("ngModelChange",function(Lt){p.eBV(K);const $r=p.XpG();return p.Njj($r.formData.name=Lt)}),p.k0s()()(),p.j41(22,"div",8)(23,"label",12),p.EFF(24,"Email "),p.j41(25,"span"),p.EFF(26,"(required)"),p.k0s()(),p.j41(27,"input",13),p.bIt("ngModelChange",function(Lt){p.eBV(K);const $r=p.XpG();return p.Njj($r.formData.email=Lt)}),p.k0s()(),p.j41(28,"div",8)(29,"label",14),p.EFF(30,"Message "),p.j41(31,"span"),p.EFF(32,"(required)"),p.k0s()(),p.j41(33,"textarea",15),p.bIt("ngModelChange",function(Lt){p.eBV(K);const $r=p.XpG();return p.Njj($r.formData.message=Lt)}),p.k0s()(),p.j41(34,"button",16),p.EFF(35,"Send"),p.k0s()()()()()}if(2&_e){const K=p.XpG();p.R7$(5),p.Y8G("ngIf",K.business.email),p.R7$(3),p.JRh(K.business.phone),p.R7$(3),p.JRh(K.business.address),p.R7$(1),p.Y8G("ngIf",K.business.socialMedia),p.R7$(9),p.Y8G("ngModel",K.formData.name),p.R7$(6),p.Y8G("ngModel",K.formData.email),p.R7$(6),p.Y8G("ngModel",K.formData.message)}}let Hr=(()=>{class _e{constructor(K,Ie,Lt,$r,er,$i,wo){this.sanitizer=K,this.businessDataService=Ie,this.webContent=Lt,this.route=$r,this.http=er,this.emailService=$i,this.metaService=wo,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(K=>{this.business=K,K?.id&&(this.metaService.loadAndApplyMeta(K?.id),this.layoutType=this.business?.theme.themeType)})}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(K=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},K=>{console.error("Error sending email",K),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(K){const Ie=K.split(".");return Ie.length>2?Ie.slice(-2).join("."):K}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(nt.up),p.rXU(pe.A),p.rXU(He.N),p.rXU(n.nX),p.rXU(ft.Qq),p.rXU(ae._),p.rXU(Ce.R))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-sp-contact-us-component"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"contact-us-container"],[1,"contact-details"],["class","contact-item",4,"ngIf"],[1,"contact-item"],["class","social-media",4,"ngIf"],[1,"contact-form"],[3,"submit"],[1,"form-group"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"btnSBSend"],[3,"href"],[1,"social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(Ie,Lt){1&Ie&&p.DNE(0,Yn,36,7,"div",0),2&Ie&&p.Y8G("ngIf",Lt.business)},dependencies:[ye.bT,Re.qT,Re.me,Re.BC,Re.cb,Re.YS,Re.vS,Re.cV],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}"]})}}return _e})();function Sr(_e,kt){if(1&_e&&(p.j41(0,"a",11),p.EFF(1),p.k0s()),2&_e){const K=kt.$implicit,Ie=p.XpG(3);p.xc7("border-radius",Ie.buttonBorderRadius),p.AVh("btn-outline",K.outline),p.Y8G("routerLink",K.link),p.R7$(1),p.SpI(" ",K.text," ")}}function _i(_e,kt){if(1&_e&&(p.j41(0,"div",6)(1,"h1"),p.EFF(2),p.k0s(),p.nrm(3,"div",7)(4,"h2",8),p.j41(5,"div",9),p.DNE(6,Sr,2,6,"a",10),p.k0s()()),2&_e){const K=p.XpG().$implicit,Ie=p.XpG();p.R7$(2),p.JRh(K.title),p.R7$(2),p.xc7("font-size",Ie.subtitleSize)("font-weight",Ie.subtitleWeight),p.Y8G("innerHTML",K.subtitle,p.npT),p.R7$(2),p.Y8G("ngForOf",K.buttons)}}function Tt(_e,kt){if(1&_e&&(p.j41(0,"div",3),p.nrm(1,"div",4),p.DNE(2,_i,7,7,"div",5),p.k0s()),2&_e){const K=kt.$implicit,Ie=kt.index,Lt=p.XpG();p.AVh("active",Ie===Lt.currentSlide),p.R7$(1),p.xc7("background-image","url("+K.backgroundImage+")"),p.R7$(1),p.Y8G("ngIf",K.title)}}function G(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"div",16),p.bIt("click",function(){const $r=p.eBV(K).index,er=p.XpG(2);return p.Njj(er.navigateToSlide($r))}),p.k0s()}if(2&_e){const K=kt.index,Ie=p.XpG(2);p.AVh("active",K===Ie.currentSlide)}}function R(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"button",17),p.bIt("click",function(){p.eBV(K);const Lt=p.XpG(2);return p.Njj(Lt.prevSlide())}),p.EFF(1," \u2190 "),p.k0s()}}function L(_e,kt){if(1&_e){const K=p.RV6();p.j41(0,"button",18),p.bIt("click",function(){p.eBV(K);const Lt=p.XpG(2);return p.Njj(Lt.nextSlide())}),p.EFF(1," \u2192 "),p.k0s()}}const se=function(_e){return{"bottom-nav":_e}};function ge(_e,kt){if(1&_e&&(p.j41(0,"div")(1,"div",12),p.DNE(2,G,1,2,"div",13),p.k0s(),p.DNE(3,R,2,0,"button",14),p.DNE(4,L,2,0,"button",15),p.k0s()),2&_e){const K=p.XpG();p.R7$(1),p.Y8G("ngClass",p.eq3(4,se,"bottom"===K.navigation)),p.R7$(1),p.Y8G("ngForOf",K.slides),p.R7$(1),p.Y8G("ngIf",K.sideButtons),p.R7$(1),p.Y8G("ngIf",K.sideButtons)}}let lt=(()=>{class _e{constructor(K){this.businessDataService=K,this.slides=[],this.currentSlide=0,this.sliderOpacity=1,this.business=null,this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="400"}ngOnInit(){this.fetchHeroSliderData(),this.startAutoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(K=>{K?(this.business=K,this.slides=K.heroSlider?.map(Ie=>({...Ie,title:this.replaceKeywords(Ie.title),subtitle:this.replaceKeywords(Ie.subtitle)}))||[]):console.warn("No heroSlider data available.")})}replaceKeywords(K){return K&&this.business?.businessName?K.replace(/{{businessName}}/g,this.business.businessName):K}navigateToSlide(K){this.currentSlide=K}startAutoSlide(){this.autoSlideInterval=setInterval(()=>{this.nextSlide()},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.slides.length}onScroll(){const K=window.scrollY,Ie=window.innerHeight;this.sliderOpacity=Math.max(1-K/Ie,0)}ngOnDestroy(){clearInterval(this.autoSlideInterval)}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(pe.A))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-sp-hero-component"]],hostBindings:function(Ie,Lt){1&Ie&&p.bIt("scroll",function(er){return Lt.onScroll(er)},!1,p.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:6,consts:[["id","carousel",1,"sp-hero"],["class","slide",3,"active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"slide"],[1,"overlay"],["class","content",4,"ngIf"],[1,"content"],[1,"separator"],[1,"subtitle",3,"innerHTML"],[1,"buttons"],["class","btn",3,"routerLink","btn-outline","borderRadius",4,"ngFor","ngForOf"],[1,"btn",3,"routerLink"],[1,"navigation",3,"ngClass"],["class","nav-item",3,"active","click",4,"ngFor","ngForOf"],["class","control prev",3,"click",4,"ngIf"],["class","control next",3,"click",4,"ngIf"],[1,"nav-item",3,"click"],[1,"control","prev",3,"click"],[1,"control","next",3,"click"]],template:function(Ie,Lt){1&Ie&&(p.j41(0,"div",0),p.DNE(1,Tt,3,5,"div",1),p.DNE(2,ge,5,6,"div",2),p.k0s()),2&Ie&&(p.xc7("height",Lt.sliderHeight)("opacity",Lt.sliderOpacity),p.R7$(1),p.Y8G("ngForOf",Lt.slides),p.R7$(1),p.Y8G("ngIf",Lt.slides.length>1))},dependencies:[ye.YU,ye.Sq,ye.bT,n.Wk],styles:[".sp-hero[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;transition:opacity .3s ease}.slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.slide.active[_ngcontent-%COMP%]{display:block;opacity:1}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff}h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.5)}h2.subtitle[_ngcontent-%COMP%]{margin:20px 0;line-height:1.5;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.buttons[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;background-color:#fff;color:#000;text-decoration:none;margin-right:10px;transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#ccc}.btn-outline[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #fff;color:#fff}.btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.nav-item.active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;z-index:10}.control.prev[_ngcontent-%COMP%]{left:20px}.control.next[_ngcontent-%COMP%]{right:20px}"]})}}return _e})();var Mt=F(5449),mn=F(5031);const Wt=function(_e){return{businessName:_e}};function In(_e,kt){if(1&_e&&(p.nrm(0,"app-center-text",10),p.nI1(1,"replaceKeyword"),p.nI1(2,"replaceKeyword"),p.nI1(3,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",p.i5U(1,7,(null==K?null:K.sectionTitle)||"",p.eq3(16,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))("subTitle",p.i5U(2,10,(null==K?null:K.sectionSubTitle)||"",p.eq3(18,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))("content",p.i5U(3,13,(null==K?null:K.sectionContent)||"",p.eq3(20,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))("showBtn",!0)("_businessName",(null==Ie.business?null:Ie.business.businessName)||"")}}function gr(_e,kt){if(1&_e&&p.nrm(0,"app-testimonials",11),2&_e){const K=p.XpG(2);p.Y8G("testimonials",null==K.business?null:K.business.testimonials)("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo")}}function xe(_e,kt){if(1&_e&&p.nrm(0,"app-testimonial-carousel",12),2&_e){const K=p.XpG(2);p.Y8G("placeId",(null==K.business?null:K.business.placeId)||"")}}const Pe=function(){return[]};function ze(_e,kt){if(1&_e&&(p.j41(0,"section"),p.nrm(1,"app-hero-slider",3),p.DNE(2,In,4,22,"app-center-text",4),p.nI1(3,"sectionFilter"),p.nrm(4,"app-item-list",5)(5,"app-why-us",6)(6,"app-features",7),p.DNE(7,gr,1,2,"app-testimonials",8),p.DNE(8,xe,1,1,"app-testimonial-carousel",9),p.k0s()),2&_e){const K=p.XpG();p.R7$(1),p.Y8G("navigation","bottom")("sideButtons",!0),p.R7$(1),p.Y8G("ngIf",p.i5U(3,13,null==K.business?null:K.business.sections,"HomeCenterTop")),p.R7$(2),p.Y8G("layoutType","hh")("services",(null==K.business?null:K.business.services)||p.lJ4(16,Pe))("minimal",!0),p.R7$(1),p.Y8G("whyChooseUs",(null==K.business?null:K.business.whyChoose)||p.lJ4(17,Pe))("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo")("businessName",(null==K.business?null:K.business.businessName)||"Demo"),p.R7$(1),p.Y8G("uniqueService",(null==K.business?null:K.business.uniqueService)||p.lJ4(18,Pe))("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo"),p.R7$(1),p.Y8G("ngIf",!(null!=K.business&&K.business.placeId)),p.R7$(1),p.Y8G("ngIf",null==K.business?null:K.business.placeId)}}function Vt(_e,kt){if(1&_e&&(p.nrm(0,"app-center-text",10),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("subTitle",(null==K?null:K.sectionSubTitle)||"")("content",p.i5U(1,7,(null==K?null:K.sectionContent)||"",p.eq3(10,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))("showBtn",!0)("_businessName",(null==Ie.business?null:Ie.business.businessName)||"")}}function Zt(_e,kt){if(1&_e&&(p.j41(0,"section"),p.nrm(1,"app-hero-slider",3),p.DNE(2,Vt,2,12,"app-center-text",4),p.nI1(3,"sectionFilter"),p.nrm(4,"app-item-list",5)(5,"app-why-us",6)(6,"app-features",7)(7,"app-testimonials",11),p.k0s()),2&_e){const K=p.XpG();p.R7$(1),p.Y8G("navigation","bottom")("sideButtons",!0),p.R7$(1),p.Y8G("ngIf",p.i5U(3,13,null==K.business?null:K.business.sections,"HomeCenterTop")),p.R7$(2),p.Y8G("layoutType","hh")("services",(null==K.business?null:K.business.services)||p.lJ4(16,Pe))("minimal",!0),p.R7$(1),p.Y8G("whyChooseUs",(null==K.business?null:K.business.whyChoose)||p.lJ4(17,Pe))("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo")("businessName",(null==K.business?null:K.business.businessName)||"Demo"),p.R7$(1),p.Y8G("uniqueService",(null==K.business?null:K.business.uniqueService)||p.lJ4(18,Pe))("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo"),p.R7$(1),p.Y8G("testimonials",null==K.business?null:K.business.testimonials)("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo")}}function _n(_e,kt){if(1&_e&&(p.nrm(0,"app-center-text",17),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("content",p.i5U(1,5,(null==K?null:K.sectionContent)||"",p.eq3(8,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))("showBtn",!1)}}function dn(_e,kt){if(1&_e&&(p.nrm(0,"app-right-text",18),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("content",p.i5U(1,4,(null==K?null:K.sectionContent)||"",p.eq3(7,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))}}function ur(_e,kt){if(1&_e&&(p.nrm(0,"app-left-text",18),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("content",p.i5U(1,4,(null==K?null:K.sectionContent)||"",p.eq3(7,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))}}const yn=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},ci=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},vt=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},Ze=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Rt=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},fn=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},Vn=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},vn=function(_e,kt,K,Ie,Lt,$r,er){return[_e,kt,K,Ie,Lt,$r,er]};function On(_e,kt){if(1&_e&&(p.j41(0,"section"),p.nrm(1,"app-hero-slider",13),p.DNE(2,_n,2,10,"app-center-text",14),p.nI1(3,"sectionFilter"),p.DNE(4,dn,2,9,"app-right-text",15),p.nI1(5,"sectionFilter"),p.DNE(6,ur,2,9,"app-left-text",15),p.nI1(7,"sectionFilter"),p.nrm(8,"app-icon-list",16)(9,"app-testimonials",11),p.k0s()),2&_e){const K=p.XpG();p.R7$(1),p.Y8G("navigation","side")("sideButtons",!1),p.R7$(1),p.Y8G("ngIf",p.i5U(3,8,null==K.business?null:K.business.sections,"HomeCenterTop")),p.R7$(2),p.Y8G("ngIf",p.i5U(5,11,null==K.business?null:K.business.sections,"HomeRight")),p.R7$(2),p.Y8G("ngIf",p.i5U(7,14,null==K.business?null:K.business.sections,"HomeLeft")),p.R7$(2),p.Y8G("services",p.sGs(24,vn,p.lJ4(17,yn),p.lJ4(18,ci),p.lJ4(19,vt),p.lJ4(20,Ze),p.lJ4(21,Rt),p.lJ4(22,fn),p.lJ4(23,Vn))),p.R7$(1),p.Y8G("testimonials",null==K.business?null:K.business.testimonials)("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo")}}function Cr(_e,kt){if(1&_e&&(p.nrm(0,"app-right-text",18),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("content",p.i5U(1,4,(null==K?null:K.sectionContent)||"",p.eq3(7,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))}}function Ur(_e,kt){if(1&_e&&p.nrm(0,"app-google-maps",23),2&_e){const K=p.XpG(2);p.Y8G("address",(null==K.business?null:K.business.address)||"")("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo")}}function or(_e,kt){if(1&_e&&(p.j41(0,"section"),p.nrm(1,"app-hero-slider",19),p.DNE(2,Cr,2,9,"app-right-text",15),p.nI1(3,"sectionFilter"),p.nrm(4,"app-video",20)(5,"app-parallax-stats",21)(6,"app-testimonial-carousel",12)(7,"app-parallax-text"),p.DNE(8,Ur,1,2,"app-google-maps",22),p.k0s()),2&_e){const K=p.XpG();p.R7$(1),p.Y8G("navigation","side")("sideButtons",!1),p.R7$(1),p.Y8G("ngIf",p.i5U(3,11,null==K.business?null:K.business.sections,"HomeRight")),p.R7$(2),p.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX"),p.R7$(1),p.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4),p.R7$(1),p.Y8G("placeId",(null==K.business?null:K.business.placeId)||""),p.R7$(2),p.Y8G("ngIf","clemo"==(null==K.business||null==K.business.theme?null:K.business.theme.themeType))}}function Ci(_e,kt){if(1&_e&&(p.nrm(0,"app-center-text",10),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("subTitle",(null==K?null:K.sectionSubTitle)||"")("content",p.i5U(1,7,(null==K?null:K.sectionContent)||"",p.eq3(10,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))("showBtn",!1)("_businessName",(null==Ie.business?null:Ie.business.businessName)||"")}}function Hi(_e,kt){if(1&_e&&(p.j41(0,"section"),p.nrm(1,"app-hero-slider",24),p.DNE(2,Ci,2,12,"app-center-text",4),p.nI1(3,"sectionFilter"),p.nrm(4,"app-latest-products",25)(5,"app-item-list",5),p.k0s()),2&_e){const K=p.XpG();p.R7$(1),p.Y8G("navigation","side")("sideButtons",!1)("buttonBorderRadius","0px")("subtitleSize","50px")("subtitleWeight","100"),p.R7$(1),p.Y8G("ngIf",p.i5U(3,10,null==K.business?null:K.business.sections,"HomeCenterTop")),p.R7$(2),p.Y8G("layoutType","sb"),p.R7$(1),p.Y8G("layoutType","sb")("services",(null==K.business?null:K.business.services)||p.lJ4(13,Pe))("minimal",!0)}}function Ii(_e,kt){if(1&_e&&p.nrm(0,"app-consultation",26),2&_e){const K=p.XpG();p.Y8G("id",(null==K.business?null:K.business.id)||"")("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo")("businessName",(null==K.business?null:K.business.businessName)||"Demo")}}function no(_e,kt){if(1&_e&&(p.nrm(0,"app-center-text",10),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("subTitle",(null==K?null:K.sectionSubTitle)||"")("content",p.i5U(1,7,(null==K?null:K.sectionContent)||"",p.eq3(10,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))("showBtn",!1)("_businessName",(null==Ie.business?null:Ie.business.businessName)||"")}}function Xs(_e,kt){if(1&_e&&(p.nrm(0,"app-right-text",18),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("content",p.i5U(1,4,(null==K?null:K.sectionContent)||"",p.eq3(7,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))}}function Ui(_e,kt){if(1&_e&&(p.nrm(0,"app-left-text",18),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("content",p.i5U(1,4,(null==K?null:K.sectionContent)||"",p.eq3(7,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))}}function po(_e,kt){if(1&_e&&(p.nrm(0,"app-right-text",18),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("content",p.i5U(1,4,(null==K?null:K.sectionContent)||"",p.eq3(7,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))}}function ri(_e,kt){if(1&_e&&(p.nrm(0,"app-left-text",18),p.nI1(1,"replaceKeyword")),2&_e){const K=kt.ngIf,Ie=p.XpG(2);p.Y8G("themeType",(null==Ie.business||null==Ie.business.theme?null:Ie.business.theme.themeType)||"")("imageURL",(null==K?null:K.sectionImageUrl)||"")("title",(null==K?null:K.sectionTitle)||"")("content",p.i5U(1,4,(null==K?null:K.sectionContent)||"",p.eq3(7,Wt,(null==Ie.business?null:Ie.business.businessName)||"")))}}function qi(_e,kt){if(1&_e&&(p.j41(0,"section",27)(1,"section",28)(2,"app-sp-hero-component",29),p.EFF(3," >"),p.k0s()(),p.j41(4,"section",30),p.DNE(5,no,2,12,"app-center-text",4),p.nI1(6,"sectionFilter"),p.k0s(),p.j41(7,"section",31),p.nrm(8,"app-item-list",32),p.k0s(),p.j41(9,"section",33),p.DNE(10,Xs,2,9,"app-right-text",15),p.nI1(11,"sectionFilter"),p.DNE(12,Ui,2,9,"app-left-text",15),p.nI1(13,"sectionFilter"),p.DNE(14,po,2,9,"app-right-text",15),p.nI1(15,"sectionFilter"),p.DNE(16,ri,2,9,"app-left-text",15),p.nI1(17,"sectionFilter"),p.k0s(),p.j41(18,"section",34),p.nrm(19,"app-sp-gallery-component",35),p.k0s(),p.j41(20,"section",36),p.nrm(21,"app-sp-contact-us-component")(22,"app-google-maps",23),p.k0s()()),2&_e){const K=p.XpG();p.R7$(2),p.Y8G("navigation","side")("sideButtons",!1)("buttonBorderRadius","0px")("subtitleSize","50px")("subtitleWeight","100"),p.R7$(3),p.Y8G("ngIf",p.i5U(6,15,null==K.business?null:K.business.sections,"HomeCenterTop")),p.R7$(3),p.Y8G("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"")("services",(null==K.business?null:K.business.services)||p.lJ4(30,Pe)),p.R7$(2),p.Y8G("ngIf",p.i5U(11,18,null==K.business?null:K.business.sections,"HomeRight")),p.R7$(2),p.Y8G("ngIf",p.i5U(13,21,null==K.business?null:K.business.sections,"HomeLeft")),p.R7$(2),p.Y8G("ngIf",p.i5U(15,24,null==K.business?null:K.business.sections,"AboutUsRight")),p.R7$(2),p.Y8G("ngIf",p.i5U(17,27,null==K.business?null:K.business.sections,"AboutUsLeft")),p.R7$(3),p.Y8G("businessId",(null==K.business?null:K.business.id)||""),p.R7$(3),p.Y8G("address",(null==K.business?null:K.business.address)||"")("layoutType",(null==K.business||null==K.business.theme?null:K.business.theme.themeType)||"demo")}}let is=(()=>{class _e{constructor(K,Ie,Lt){this.route=K,this.metaService=Ie,this.businessDataService=Lt,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().pipe((0,d.n)(K=>K?(this.businessId=K,this.metaService.loadAndApplyMeta(K),this.businessDataService.loadBusinessData(K)):[])).subscribe(K=>{this.business=K})}getSectionByName(K){return this.business?.sections?.find(Ie=>Ie.sectionName===K)||null}static{this.\u0275fac=function(Ie){return new(Ie||_e)(p.rXU(n.nX),p.rXU(Ce.R),p.rXU(pe.A))}}static{this.\u0275cmp=p.VBU({type:_e,selectors:[["app-home"]],decls:7,vars:7,consts:[[4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],["class","single_page_container",4,"ngIf"],["sliderHeight","70vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName",4,"ngIf"],[3,"layoutType","services","minimal"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType",4,"ngIf"],[3,"placeId",4,"ngIf"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName"],[3,"testimonials","layoutType"],[3,"placeId"],["sliderHeight","80vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"services"],[3,"themeType","imageURL","title","content","showBtn"],[3,"themeType","imageURL","title","content"],["sliderHeight","100vh",3,"navigation","sideButtons"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"address","layoutType",4,"ngIf"],[3,"address","layoutType"],["sliderHeight","100vh",3,"navigation","sideButtons","buttonBorderRadius","subtitleSize","subtitleWeight"],[3,"layoutType"],[3,"id","layoutType","businessName"],[1,"single_page_container"],["id","hero"],["sliderHeight","50vh",3,"navigation","sideButtons","buttonBorderRadius","subtitleSize","subtitleWeight"],["id","home",1,"single_page_section"],["id","services",1,"single_page_section"],[1,"app-item-list",3,"layoutType","services"],["id","about-us",1,"single_page_section"],["id","gallery",1,"single_page_section"],[3,"businessId"],["id","contact-us",1,"single_page_section"]],template:function(Ie,Lt){1&Ie&&(p.DNE(0,ze,9,19,"section",0),p.DNE(1,Zt,8,19,"section",0),p.DNE(2,On,10,32,"section",0),p.DNE(3,or,9,14,"section",0),p.DNE(4,Hi,6,14,"section",0),p.DNE(5,Ii,1,3,"app-consultation",1),p.DNE(6,qi,23,31,"section",2)),2&Ie&&(p.Y8G("ngIf","hh"===(null==Lt.business||null==Lt.business.theme?null:Lt.business.theme.themeType)),p.R7$(1),p.Y8G("ngIf","demo"===(null==Lt.business||null==Lt.business.theme?null:Lt.business.theme.themeType)),p.R7$(1),p.Y8G("ngIf","ae"===(null==Lt.business||null==Lt.business.theme?null:Lt.business.theme.themeType)),p.R7$(1),p.Y8G("ngIf","clemo"===(null==Lt.business||null==Lt.business.theme?null:Lt.business.theme.themeType)),p.R7$(1),p.Y8G("ngIf","sb"===(null==Lt.business||null==Lt.business.theme?null:Lt.business.theme.themeType)),p.R7$(1),p.Y8G("ngIf","clemo"!=(null==Lt.business||null==Lt.business.theme?null:Lt.business.theme.themeType)),p.R7$(1),p.Y8G("ngIf","sp"===(null==Lt.business||null==Lt.business.theme?null:Lt.business.theme.themeType)))},dependencies:[ye.bT,At,pn,it,jn,Ft.W,Yt.F,Xt.G,gt.j,ot,un,Ke,Ht,Qr,nr.a,gs,Cn.H,bi,Hr,lt,Mt.W,mn.m]})}}return _e})()},214:(ln,Ye,F)=>{F.d(Ye,{W:()=>p});var d=F(7705);let p=(()=>{class n{constructor(){this.closeModal=new d.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(ye){return new(ye||n)}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(ye,Te){1&ye&&(d.j41(0,"div",0),d.bIt("click",function(){return Te.close()}),d.j41(1,"div",1),d.bIt("click",function(ke){return ke.stopPropagation()}),d.j41(2,"button",2),d.bIt("click",function(){return Te.close()}),d.EFF(3,"Close"),d.k0s(),d.nrm(4,"img",3),d.k0s()()),2&ye&&(d.R7$(4),d.Y8G("src",Te.imageUrl,d.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return n})()},5031:(ln,Ye,F)=>{F.d(Ye,{m:()=>p});var d=F(7705);let p=(()=>{class n{transform(pe,ye){if(!pe||!ye)return pe;let Te=pe;for(const Ne in ye)if(ye.hasOwnProperty(Ne)){const ke=new RegExp(`{{${Ne}}}`,"g");Te=Te.replace(ke,ye[Ne])}return Te}static{this.\u0275fac=function(ye){return new(ye||n)}}static{this.\u0275pipe=d.EJ8({name:"replaceKeyword",type:n,pure:!0})}}return n})()},5449:(ln,Ye,F)=>{F.d(Ye,{W:()=>p});var d=F(7705);let p=(()=>{class n{transform(pe,ye){return pe&&ye&&pe.find(Te=>Te.sectionName===ye)||null}static{this.\u0275fac=function(ye){return new(ye||n)}}static{this.\u0275pipe=d.EJ8({name:"sectionFilter",type:n,pure:!0})}}return n})()},4796:(ln,Ye,F)=>{F.d(Ye,{u:()=>pe});var d=F(6354),p=F(7705),n=F(1977),Ce=F(6814);let pe=(()=>{class ye{constructor(Ne,ke){this.afAuth=Ne,this.router=ke,this.user$=Ne.authState}login(Ne,ke){return this.afAuth.signInWithEmailAndPassword(Ne,ke)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,d.T)(Ne=>!!Ne))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(ke){return new(ke||ye)(p.KVO(n.DS),p.KVO(Ce.Ix))}}static{this.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},923:(ln,Ye,F)=>{F.d(Ye,{A:()=>ye});var d=F(4412),p=F(6354),n=F(8141),Ce=F(7705),pe=F(3012);let ye=(()=>{class Te{constructor(ke){this.businessService=ke,this.businessDataSubject=new d.t(null),this.businessIdSubject=new d.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(ke){return console.log("BusinessDataService - loadBusinessData for ID:",ke),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(ke).pipe((0,p.T)(W=>W?(W.sections||(W.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),W):null),(0,n.M)(W=>{console.log("\u2705 BusinessDataService - Business fetched:",W),this.businessDataSubject.next(W),this.businessIdSubject.next(ke)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(W){return new(W||Te)(Ce.KVO(pe.u))}}static{this.\u0275prov=Ce.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},3012:(ln,Ye,F)=>{F.d(Ye,{u:()=>Te});var d=F(7673),p=F(6354),n=F(5558),Ce=F(7705),pe=F(6340),ye=F(8721);let Te=(()=>{class Ne{constructor(W,ie){this.afs=W,this.storage=ie,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(W){console.log("Business Created");const ie=this.afs.createId();return this.afs.doc(`${this.basePath}/${ie}`).set({...W,id:ie}),this.afs.doc(`${this.basePath}/${ie}`).valueChanges().pipe((0,p.T)(ve=>{if(!ve)throw new Error("Business not found after creation");return ve}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,p.T)(W=>W.map(ie=>{const ve=ie.payload.doc.data(),st=ie.payload.doc.id,{id:$e,...At}=ve;return{id:st,...At}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,W=>W.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(W){return this.getBusinessData(W)}getBusinessData(W){const ie=W&&W.trim()?W:this.defaultBusinessId;return this.afs.collection("businesses").doc(ie).snapshotChanges().pipe((0,n.n)(ve=>{const st=ve.payload.data(),$e=ve.payload.id;if(!st)return(0,d.of)(void 0);const{id:At,...dt}=st,jt={id:$e,...dt};return this.afs.collection(`businesses/${$e}/sections`).snapshotChanges().pipe((0,p.T)(Ot=>{const pn=Ot.map(He=>{const fe=He.payload.doc.data();return{id:He.payload.doc.id,...fe}});return jt.sections=pn,jt}),(0,n.n)(Ot=>{const pn={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${$e}/theme`).doc("themeDoc").snapshotChanges().pipe((0,p.T)(He=>{const fe=He.payload.data()||pn;return Ot.theme=fe,Ot}))}))}))}updateBusiness(W,ie){return this.afs.doc(`${this.basePath}/${W}`).update(ie)}deleteBusiness(W){return this.afs.doc(`${this.basePath}/${W}`).delete()}uploadFile(W,ie){return this.storage.upload(W,ie)}getDownloadURL(W){return this.storage.ref(W).getDownloadURL()}updateThemeFileName(W,ie=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ie}`).update({"theme.themeFileName":W})}getThemeFileName(W=this.defaultBusinessId){const ve=this.afs.collection(this.basePath).doc(W).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${W}`),ve.get().toPromise().then(st=>{if(st&&st.exists){const $e=st.data();console.log("Theme document found:",$e);const At=$e?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${At}`),At}return console.warn(`No theme document found for business ID: ${W}. Using default theme.`),"default.css"}).catch(st=>(console.error(`Error fetching theme file name for business ID: ${W}`,st),"default.css"))}createSection(W,ie){return this.afs.collection(`${this.basePath}/${W}/sections`).add(ie)}getSections(W){return this.afs.collection(`${this.basePath}/${W}/sections`).snapshotChanges().pipe((0,p.T)(ie=>ie.map(ve=>{const st=ve.payload.doc.data();return{sectionId:ve.payload.doc.id,...st}})))}updateSection(W,ie,ve){return this.afs.doc(`${this.basePath}/${W}/sections/${ie}`).update(ve)}deleteSection(W,ie){return this.afs.doc(`${this.basePath}/${W}/sections/${ie}`).delete()}static{this.\u0275fac=function(ie){return new(ie||Ne)(Ce.KVO(pe.Qe),Ce.KVO(ye.ap))}}static{this.\u0275prov=Ce.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},1334:(ln,Ye,F)=>{F.d(Ye,{_:()=>n});var d=F(7705),p=F(1626);let n=(()=>{class Ce{constructor(ye){this.http=ye,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(ye){return this.http.post(this.emailEndpoint,ye)}static{this.\u0275fac=function(Te){return new(Te||Ce)(d.KVO(p.Qq))}}static{this.\u0275prov=d.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},4710:(ln,Ye,F)=>{F.d(Ye,{L:()=>n});var p=F(7705);let n=(()=>{class Ce{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((ye,Te)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void ye();const Ne=document.createElement("script");Ne.id="google-maps-script",Ne.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Ne.async=!0,Ne.defer=!0,Ne.onload=()=>{this.scriptLoaded=!0,ye()},Ne.onerror=ke=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Te(ke)},document.body.appendChild(Ne)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Te){return new(Te||Ce)}}static{this.\u0275prov=p.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},6861:(ln,Ye,F)=>{F.d(Ye,{R:()=>Ce});var d=F(7705),p=F(345),n=F(923);let Ce=(()=>{class pe{constructor(Te,Ne,ke){this.meta=Te,this.title=Ne,this.businessDataService=ke}updateMetaTags(Te){this.title.setTitle(Te.title),this.meta.updateTag({name:"description",content:Te.description}),this.meta.updateTag({name:"keywords",content:Te.keywords}),this.meta.updateTag({property:"og:title",content:Te.title}),this.meta.updateTag({property:"og:description",content:Te.description})}updateFavicon(Te){const Ne=document.getElementsByTagName("head")[0];let ke=document.querySelector("link[rel*='icon']");ke||(ke=document.createElement("link"),ke.rel="icon",Ne.appendChild(ke)),ke.href=Te}loadAndApplyMeta(Te){this.businessDataService.loadBusinessData(Te).subscribe(Ne=>{Ne?(this.updateMetaTags({title:Ne.metaTitle||"Default Title",description:Ne.metaDescription||"Default Description",keywords:Ne.metaKeywords||"default, keywords"}),Ne.faviconUrl&&this.updateFavicon(Ne.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Ne){return new(Ne||pe)(d.KVO(p.W8),d.KVO(p.hE),d.KVO(n.A))}}static{this.\u0275prov=d.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}}return pe})()},5009:(ln,Ye,F)=>{F.d(Ye,{F:()=>ke});var d=F(8810),p=F(8455),n=F(7673),Ce=F(6697),pe=F(5558),ye=F(9437),Te=F(7705),Ne=F(6340);let ke=(()=>{class W{constructor(ve){this.firestore=ve,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(ve){return this.firestore.collection("businesses").doc(ve).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(ve){console.log("Theme Service: - Fetching theme for business ID:",ve);const st=this.firestore.collection("businesses").doc(ve),$e=st.collection("theme").doc("themeDoc");return st.snapshotChanges().pipe((0,Ce.s)(1),(0,pe.n)(At=>At.payload.exists?$e.get().pipe((0,pe.n)(dt=>dt.exists?(dt.data(),$e.valueChanges()):(0,p.H)($e.set(this.defaultTheme)).pipe((0,pe.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),$e.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,d.$)("Theme Service: - Business document does not exist"))),(0,ye.W)(At=>(console.error("Error fetching theme:",At),this.applyThemeFile(this.defaultTheme.themeFileName),(0,n.of)(this.defaultTheme))))}updateColors(ve,st){const $e=this.firestore.collection("businesses").doc(ve).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+ve+" theme service updateColors: ",st),$e.set(st,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),st.themeFileName&&this.applyThemeFile(st.themeFileName)}).catch(At=>{throw console.error("Theme Service: - Error updating colors:",At),new Error(At)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(ve){return this.loadCss(`assets/themes/${ve}`)}loadCss(ve){return new Promise((st,$e)=>{console.log("Load css from  file:",ve);const At=document.createElement("link");At.rel="stylesheet",At.href=ve,At.onload=()=>{console.log(`Loaded theme: ${ve}`),st()},At.onerror=dt=>{console.error(`Failed to load theme: ${ve}`,dt),$e(dt)},document.head.appendChild(At)})}static{this.\u0275fac=function(st){return new(st||W)(Te.KVO(Ne.Qe))}}static{this.\u0275prov=Te.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},8704:(ln,Ye,F)=>{F.d(Ye,{N:()=>Te});var d=F(6354),p=F(9437),n=F(7673),Ce=F(7705),pe=F(6340),ye=F(8721);let Te=(()=>{class Ne{constructor(W,ie){this.firestore=W,this.storage=ie,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(W){const ie=W&&W.trim()?W:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ie).snapshotChanges().pipe((0,d.T)(ve=>{const st=ve.payload.data(),$e=ve.payload.id;if(st){const{id:At,testimonials:dt=[],...jt}=st;return{id:$e,testimonials:dt.map(pn=>({...pn,photoURL:pn.photoURL&&pn.photoURL.trim()?pn.photoURL:this.defaultImage})),...jt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(W){return this.storage.ref(W).getDownloadURL().pipe((0,p.W)(ie=>(console.error("Error fetching photo URL:",ie),(0,n.of)(""))))}getEmployeesByBusinessId(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).get().pipe((0,d.T)(ie=>{if(ie.exists){const ve=ie.data();return ve&&ve.employees?ve.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,p.W)(ie=>(console.error("Error fetching employees:",ie),(0,n.of)([]))))}getBusinessGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessUploadedImagesById(W,ie){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection(ie).valueChanges()}checkImageExists(W){return this.storage.refFromURL(W).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ie){return new(ie||Ne)(Ce.KVO(pe.Qe),Ce.KVO(ye.ap))}}static{this.\u0275prov=Ce.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},7875:(ln,Ye,F)=>{var d={};F.r(d),F.d(d,{afterMain:()=>se,afterRead:()=>G,afterWrite:()=>Mt,applyStyles:()=>Zt,arrow:()=>_e,auto:()=>bi,basePlacements:()=>nt,beforeMain:()=>R,beforeRead:()=>_i,beforeWrite:()=>ge,bottom:()=>Kn,clippingParents:()=>Re,computeStyles:()=>er,createPopper:()=>Si,createPopperBase:()=>wi,createPopperLite:()=>ki,detectOverflow:()=>Wr,end:()=>ae,eventListeners:()=>li,flip:()=>es,hide:()=>ii,left:()=>Fn,main:()=>L,modifierPhases:()=>mn,offset:()=>dr,placements:()=>Sr,popper:()=>Kt,popperGenerator:()=>fr,popperOffsets:()=>Ps,preventOverflow:()=>De,read:()=>Tt,reference:()=>Yn,right:()=>sr,start:()=>ft,top:()=>br,variationPlacements:()=>Hr,viewport:()=>Dt,write:()=>lt});var p=F(345),n=F(7705),Ce=F(1626),pe=F(6814),ye=F(8059),Te=F(8704),Ne=F(6861),ke=F(923),W=F(177),ie=F(7673),ve=F(6354),st=F(5558),$e=F(9437),At=F(4591);function dt(g,l){if(1&g&&(n.j41(0,"div",5),n.nrm(1,"img",6),n.j41(2,"h3"),n.EFF(3),n.k0s(),n.j41(4,"h4"),n.EFF(5),n.k0s(),n.j41(6,"p"),n.EFF(7),n.k0s()()),2&g){const a=l.$implicit;n.R7$(1),n.FS9("alt",a.name),n.Y8G("src",a.photoURL,n.B4B),n.R7$(2),n.JRh(a.name),n.R7$(2),n.JRh(a.role),n.R7$(2),n.JRh(a.bio)}}function jt(g,l){if(1&g&&(n.j41(0,"div",1),n.nrm(1,"app-section-tilte",2),n.j41(2,"div",3),n.DNE(3,dt,8,5,"div",4),n.nI1(4,"async"),n.k0s()()),2&g){const a=n.XpG();n.R7$(1),n.Y8G("title","Meet the Team"),n.R7$(2),n.Y8G("ngForOf",n.bMT(4,2,a.employees$))}}let Ot=(()=>{class g{constructor(a,v){this.route=a,this.employeeService=v}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,ve.T)(a=>a.get("id")||""),(0,st.n)(a=>this.employeeService.getEmployeesByBusinessId(a)),(0,$e.W)(a=>(console.error("Error fetching employees:",a),(0,ie.of)([]))))}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(pe.nX),n.rXU(Te.N))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(v,I){1&v&&n.DNE(0,jt,5,4,"div",0),2&v&&n.Y8G("ngIf",I.employees$)},dependencies:[W.Sq,W.bT,At.L,W.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return g})();var pn=F(4593),He=F(491);let fe=(()=>{class g{constructor(a,v){this.route=a,this.router=v,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const v=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",v);const I="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;v&&I[v]?(this.backgroundImage=`url(${I[v].image})`,this.message=I[v].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(pe.nX),n.rXU(pe.Ix))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(v,I){1&v&&(n.j41(0,"div",0)(1,"div",1)(2,"h1"),n.EFF(3),n.k0s()()()),2&v&&(n.xc7("background-image",I.backgroundImage),n.R7$(3),n.JRh(I.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;color:var(--primary-color)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return g})(),Je=(()=>{class g{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(v,I){1&v&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"img",2),n.j41(3,"div",3)(4,"p",4),n.EFF(5),n.k0s(),n.j41(6,"p",5),n.EFF(7),n.k0s()()()()),2&v&&(n.R7$(2),n.FS9("src",I.imageURL,n.B4B),n.R7$(3),n.SpI('" ',I.text,'"'),n.R7$(2),n.SpI("\u2013 ",I.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return g})();function Ue(g,l){if(1&g&&(n.qex(0),n.j41(1,"button",3),n.EFF(2),n.k0s(),n.bVm()),2&g){const a=n.XpG();n.R7$(2),n.JRh(a.buttonText)}}function it(g,l){if(1&g&&(n.j41(0,"a",4),n.EFF(1),n.k0s()),2&g){const a=n.XpG();n.R7$(1),n.JRh(a.buttonText)}}const Et=function(g,l){return{"background-color":g,color:l}};let Ut=(()=>{class g{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(v,I){if(1&v&&(n.j41(0,"div",0)(1,"h2"),n.EFF(2),n.k0s(),n.DNE(3,Ue,3,1,"ng-container",1),n.DNE(4,it,2,1,"ng-template",null,2,n.C5r),n.k0s()),2&v){const $=n.sdS(5);n.Y8G("ngStyle",n.l_i(4,Et,I.bgColor,I.textColor)),n.R7$(2),n.JRh(I.text),n.R7$(1),n.Y8G("ngIf",I.isButton)("ngIfElse",$)}},dependencies:[W.bT,W.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return g})();var Se=F(8035),on=F(5449),bn=F(5031);const jn=function(g){return{businessName:g}};function Ft(g,l){if(1&g&&(n.j41(0,"section",17)(1,"div",18),n.nrm(2,"h2",19),n.k0s(),n.nrm(3,"div",20),n.nI1(4,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(4,2,a.sectionContent||"",n.eq3(5,jn,v.business.businessName)),n.npT)}}function Yt(g,l){if(1&g&&(n.j41(0,"div",21),n.nrm(1,"img",22),n.j41(2,"div",18),n.nrm(3,"h2",19),n.k0s(),n.nrm(4,"div",20),n.nI1(5,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(1),n.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",n.B4B),n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(5,3,a.sectionContent||"",n.eq3(6,jn,v.business.businessName)),n.npT)}}function Xt(g,l){if(1&g&&(n.j41(0,"div",23),n.nrm(1,"img",22),n.j41(2,"div",18),n.nrm(3,"h2",19),n.k0s(),n.nrm(4,"div",20),n.nI1(5,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(1),n.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",n.B4B),n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(5,3,a.sectionContent||"",n.eq3(6,jn,v.business.businessName)),n.npT)}}function gt(g,l){if(1&g&&(n.j41(0,"section",17)(1,"div",18),n.nrm(2,"h2",19),n.k0s(),n.nrm(3,"div",20),n.nI1(4,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(4,2,a.sectionContent||"",n.eq3(5,jn,v.business.businessName)),n.npT)}}function je(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"About Us"),n.k0s(),n.j41(5,"div",6)(6,"p"),n.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),n.k0s()()()(),n.j41(8,"div",7),n.DNE(9,Ft,5,7,"section",8),n.nI1(10,"sectionFilter"),n.j41(11,"section",9),n.DNE(12,Yt,6,8,"div",10),n.nI1(13,"sectionFilter"),n.DNE(14,Xt,6,8,"div",11),n.nI1(15,"sectionFilter"),n.k0s(),n.DNE(16,gt,5,7,"section",8),n.nI1(17,"sectionFilter"),n.j41(18,"section",12),n.nrm(19,"app-meet-the-team",13),n.k0s()(),n.j41(20,"div",14)(21,"div",15)(22,"h2"),n.EFF(23,"Come Meet Our Family"),n.k0s(),n.j41(24,"p"),n.EFF(25," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),n.k0s(),n.j41(26,"button",16),n.bIt("click",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.navigateToContact())}),n.EFF(27," Schedule a Visit "),n.k0s()()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(9),n.Y8G("ngIf",n.i5U(10,5,a.business.sections,"AboutUsCenterTop")),n.R7$(3),n.Y8G("ngIf",n.i5U(13,8,a.business.sections,"AboutUsLeft")),n.R7$(2),n.Y8G("ngIf",n.i5U(15,11,a.business.sections,"AboutUsRight")),n.R7$(2),n.Y8G("ngIf",n.i5U(17,14,a.business.sections,"AboutUsCenterBottom")),n.R7$(3),n.Y8G("businessId",a.business.id)}}function ot(g,l){if(1&g&&(n.nrm(0,"app-right-text",29),n.nI1(1,"replaceKeyword")),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",n.i5U(1,4,a.sectionContent||"",n.eq3(7,jn,v.business.businessName)))}}function un(g,l){if(1&g&&(n.nrm(0,"app-left-text",29),n.nI1(1,"replaceKeyword")),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",(null==a?null:a.sectionTitle)||"")("content",n.i5U(1,4,a.sectionContent||"",n.eq3(7,jn,v.business.businessName)))}}function Ke(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",24)(3,"section",25),n.DNE(4,ot,2,9,"app-right-text",26),n.nI1(5,"sectionFilter"),n.DNE(6,un,2,9,"app-left-text",26),n.nI1(7,"sectionFilter"),n.k0s(),n.nrm(8,"app-testimonial-image",27)(9,"app-call-to-action",28)(10,"app-meet-the-team"),n.k0s(),n.bVm()),2&g){const a=n.XpG(2);n.R7$(4),n.Y8G("ngIf",n.i5U(5,10,a.business.sections,"AboutUsRight")),n.R7$(2),n.Y8G("ngIf",n.i5U(7,13,a.business.sections,"AboutUsLeft")),n.R7$(2),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[0].name)("text",a.business.testimonials[0].quote),n.R7$(1),n.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Ae(g,l){if(1&g&&(n.nrm(0,"app-right-text",29),n.nI1(1,"replaceKeyword")),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",n.i5U(1,4,a.sectionContent||"",n.eq3(7,jn,v.business.businessName)))}}function be(g,l){if(1&g&&(n.nrm(0,"app-left-text",29),n.nI1(1,"replaceKeyword")),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",n.i5U(1,4,a.sectionContent||"",n.eq3(7,jn,v.business.businessName)))}}function Be(g,l){if(1&g&&(n.nrm(0,"app-right-text",29),n.nI1(1,"replaceKeyword")),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",n.i5U(1,4,a.sectionContent||"",n.eq3(7,jn,v.business.businessName)))}}function at(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"section",25),n.DNE(3,Ae,2,9,"app-right-text",26),n.nI1(4,"sectionFilter"),n.DNE(5,be,2,9,"app-left-text",26),n.nI1(6,"sectionFilter"),n.DNE(7,Be,2,9,"app-right-text",26),n.nI1(8,"sectionFilter"),n.k0s(),n.j41(9,"section"),n.nrm(10,"app-latest-products",30),n.k0s(),n.nrm(11,"app-testimonial-image",27)(12,"app-call-to-action",28)(13,"app-meet-the-team"),n.bVm()),2&g){const a=n.XpG(2);n.R7$(3),n.Y8G("ngIf",n.i5U(4,12,a.business.sections,"AboutUsRight")),n.R7$(2),n.Y8G("ngIf",n.i5U(6,15,a.business.sections,"AboutUsLeft")),n.R7$(2),n.Y8G("ngIf",n.i5U(8,18,a.business.sections,"AboutUsCenterBottom")),n.R7$(3),n.Y8G("layoutType","clemo"),n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[2].name)("text",a.business.testimonials[2].quote),n.R7$(1),n.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function et(g,l){if(1&g&&(n.nrm(0,"app-right-text",29),n.nI1(1,"replaceKeyword")),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",n.i5U(1,4,a.sectionContent||"",n.eq3(7,jn,v.business.businessName)))}}function Bt(g,l){if(1&g&&(n.nrm(0,"app-left-text",29),n.nI1(1,"replaceKeyword")),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",n.i5U(1,4,a.sectionContent||"",n.eq3(7,jn,v.business.businessName)))}}function Rn(g,l){if(1&g&&(n.nrm(0,"app-right-text",29),n.nI1(1,"replaceKeyword")),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",n.i5U(1,4,a.sectionContent||"",n.eq3(7,jn,v.business.businessName)))}}function mr(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero",30),n.j41(2,"section",25),n.DNE(3,et,2,9,"app-right-text",26),n.nI1(4,"sectionFilter"),n.DNE(5,Bt,2,9,"app-left-text",26),n.nI1(6,"sectionFilter"),n.DNE(7,Rn,2,9,"app-right-text",26),n.nI1(8,"sectionFilter"),n.k0s(),n.nrm(9,"app-call-to-action",28)(10,"app-meet-the-team"),n.bVm()),2&g){const a=n.XpG(2);n.R7$(1),n.Y8G("layoutType","sb"),n.R7$(2),n.Y8G("ngIf",n.i5U(4,9,a.business.sections,"AboutUsRight")),n.R7$(2),n.Y8G("ngIf",n.i5U(6,12,a.business.sections,"AboutUsLeft")),n.R7$(2),n.Y8G("ngIf",n.i5U(8,15,a.business.sections,"AboutUsCenterBottom")),n.R7$(2),n.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function hn(g,l){if(1&g&&(n.j41(0,"section",17)(1,"div",18),n.nrm(2,"h2",19),n.k0s(),n.nrm(3,"div",20),n.nI1(4,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(4,2,a.sectionContent||"",n.eq3(5,jn,v.business.businessName)),n.npT)}}function Bn(g,l){if(1&g&&(n.j41(0,"div",21),n.nrm(1,"img",22),n.j41(2,"div",18),n.nrm(3,"h2",19),n.k0s(),n.nrm(4,"div",20),n.nI1(5,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(1),n.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",n.B4B),n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(5,3,a.sectionContent||"",n.eq3(6,jn,v.business.businessName)),n.npT)}}function nn(g,l){if(1&g&&(n.j41(0,"div",23),n.nrm(1,"img",22),n.j41(2,"div",18),n.nrm(3,"h2",19),n.k0s(),n.nrm(4,"div",20),n.nI1(5,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(1),n.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",n.B4B),n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(5,3,a.sectionContent||"",n.eq3(6,jn,v.business.businessName)),n.npT)}}function ir(g,l){if(1&g&&(n.j41(0,"section",17)(1,"div",18),n.nrm(2,"h2",19),n.k0s(),n.nrm(3,"div",20),n.nI1(4,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(4,2,a.sectionContent||"",n.eq3(5,jn,v.business.businessName)),n.npT)}}function $n(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"About Us"),n.k0s(),n.j41(5,"div",6)(6,"p"),n.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),n.k0s()()()(),n.j41(8,"div",7),n.DNE(9,hn,5,7,"section",8),n.nI1(10,"sectionFilter"),n.j41(11,"section",9),n.DNE(12,Bn,6,8,"div",10),n.nI1(13,"sectionFilter"),n.DNE(14,nn,6,8,"div",11),n.nI1(15,"sectionFilter"),n.k0s(),n.DNE(16,ir,5,7,"section",8),n.nI1(17,"sectionFilter"),n.j41(18,"section",12),n.nrm(19,"app-meet-the-team",13),n.k0s()(),n.j41(20,"div",14)(21,"div",15)(22,"h2"),n.EFF(23,"Come Meet Our Family"),n.k0s(),n.j41(24,"p"),n.EFF(25," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),n.k0s(),n.j41(26,"button",16),n.bIt("click",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.navigateToContact())}),n.EFF(27," Schedule a Visit "),n.k0s()()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(9),n.Y8G("ngIf",n.i5U(10,5,a.business.sections,"AboutUsCenterTop")),n.R7$(3),n.Y8G("ngIf",n.i5U(13,8,a.business.sections,"AboutUsLeft")),n.R7$(2),n.Y8G("ngIf",n.i5U(15,11,a.business.sections,"AboutUsRight")),n.R7$(2),n.Y8G("ngIf",n.i5U(17,14,a.business.sections,"AboutUsCenterBottom")),n.R7$(3),n.Y8G("businessId",a.business.id)}}function Qt(g,l){if(1&g&&(n.j41(0,"div")(1,"div",1),n.DNE(2,je,28,17,"ng-container",2),n.DNE(3,Ke,11,16,"ng-container",2),n.DNE(4,at,14,21,"ng-container",2),n.DNE(5,mr,11,18,"ng-container",2),n.DNE(6,$n,28,17,"ng-container",3),n.k0s()()),2&g){const a=n.XpG();n.R7$(1),n.Y8G("ngSwitch",a.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb")}}let Ht=(()=>{class g{constructor(a,v,I,$,ne){this.webContent=a,this.route=v,this.router=I,this.metaService=$,this.businessDataService=ne,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.businessId=a?.id||null,console.log("About Us Business.Sections",a?.sections),this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(Te.N),n.rXU(pe.nX),n.rXU(pe.Ix),n.rXU(Ne.R),n.rXU(ke.A))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","business-story",4,"ngIf"],[1,"mission-vision"],["class","mission",4,"ngIf"],["class","vision",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"content-wrapper"],[1,"our-approach"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"themeType","imageURL","title","content"],[3,"layoutType"]],template:function(v,I){1&v&&n.DNE(0,Qt,7,5,"div",0),2&v&&n.Y8G("ngIf",I.business)},dependencies:[W.bT,W.ux,W.e1,W.fG,Ot,pn.F,He.G,fe,Je,Ut,Se.H,on.W,bn.m],styles:[".hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:1 / 1;object-fit:cover;display:block}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}"]})}}return g})();var Jn=F(1915);const gn=function(g){return{businessName:g}};function Vr(g,l){if(1&g&&(n.j41(0,"section",19)(1,"div",9),n.nrm(2,"h2",20),n.k0s(),n.nrm(3,"h3",21),n.nI1(4,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(4,2,a.sectionContent||"",n.eq3(5,gn,v.business.businessName||"")),n.npT)}}function lr(g,l){if(1&g&&(n.j41(0,"div",22),n.nrm(1,"img",23),n.j41(2,"div",9),n.nrm(3,"h2",20),n.k0s(),n.nrm(4,"div",21),n.nI1(5,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(1),n.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",n.B4B),n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(5,3,a.sectionContent||"",n.eq3(6,gn,v.business.businessName||"")),n.npT)}}function zt(g,l){if(1&g&&(n.j41(0,"div",24),n.nrm(1,"img",23),n.j41(2,"div",9),n.nrm(3,"h2",20),n.k0s(),n.nrm(4,"div",21),n.nI1(5,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(1),n.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",n.B4B),n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(5,3,a.sectionContent||"",n.eq3(6,gn,v.business.businessName||"")),n.npT)}}function xn(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"Our Services"),n.k0s(),n.j41(5,"div",6)(6,"p"),n.EFF(7,"Providing exceptional care tailored to your needs"),n.k0s()()()(),n.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),n.EFF(12,"Our Services"),n.k0s()(),n.nrm(13,"app-item-list",11),n.k0s(),n.j41(14,"section",8)(15,"div",9)(16,"h2",10),n.EFF(17,"Our Benefits"),n.k0s()(),n.nrm(18,"app-item-list",11),n.k0s(),n.DNE(19,Vr,5,7,"section",12),n.nI1(20,"sectionFilter"),n.j41(21,"section",13),n.DNE(22,lr,6,8,"div",14),n.nI1(23,"sectionFilter"),n.DNE(24,zt,6,8,"div",15),n.nI1(25,"sectionFilter"),n.k0s()(),n.j41(26,"div",16)(27,"div",17)(28,"h2"),n.EFF(29,"Ready to Experience Exceptional Care?"),n.k0s(),n.j41(30,"p"),n.EFF(31," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),n.k0s(),n.j41(32,"button",18),n.bIt("click",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.navigateToContact())}),n.EFF(33," Book a Consultation "),n.k0s()()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(13),n.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services)("minimal",!1),n.R7$(5),n.Y8G("layoutType",a.business.theme.themeType)("services",a.business.benefits)("minimal",!1),n.R7$(1),n.Y8G("ngIf",n.i5U(20,9,a.business.sections,"ServicesCenterTop")),n.R7$(3),n.Y8G("ngIf",n.i5U(23,12,a.business.sections,"ServicesLeft")),n.R7$(2),n.Y8G("ngIf",n.i5U(25,15,a.business.sections,"ServicesRight"))}}function Zn(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",25),n.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),n.k0s(),n.bVm()),2&g){const a=n.XpG(2);n.R7$(3),n.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services),n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[1].name)("text",a.business.testimonials[1].quote),n.R7$(1),n.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Nn(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",25),n.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),n.k0s(),n.bVm()),2&g){const a=n.XpG(2);n.R7$(3),n.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services),n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[4].quote),n.R7$(1),n.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Xr(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero",29),n.j41(2,"div",25),n.nrm(3,"app-item-list",26)(4,"app-call-to-action",28),n.k0s(),n.bVm()),2&g){const a=n.XpG(2);n.R7$(1),n.Y8G("layoutType","sb"),n.R7$(2),n.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services),n.R7$(1),n.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function kr(g,l){if(1&g&&(n.j41(0,"section",19)(1,"div",9),n.nrm(2,"h2",20),n.k0s(),n.nrm(3,"h3",21),n.nI1(4,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(4,2,a.sectionContent||"",n.eq3(5,gn,v.business.businessName||"")),n.npT)}}function Qr(g,l){if(1&g&&(n.j41(0,"div",22),n.nrm(1,"img",23),n.j41(2,"div",9),n.nrm(3,"h2",20),n.k0s(),n.nrm(4,"div",21),n.nI1(5,"replaceKeyword"),n.k0s()),2&g){const a=l.ngIf,v=n.XpG(3);n.R7$(1),n.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",n.B4B),n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",n.i5U(5,3,a.sectionContent||"",n.eq3(6,gn,v.business.businessName||"")),n.npT)}}function nr(g,l){if(1&g&&(n.j41(0,"div",24),n.nrm(1,"img",23),n.j41(2,"div",9),n.nrm(3,"h2",20),n.k0s(),n.nrm(4,"div",21),n.k0s()),2&g){const a=l.ngIf;n.R7$(1),n.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",n.B4B),n.R7$(2),n.Y8G("innerHTML",a.sectionTitle||"",n.npT),n.R7$(1),n.Y8G("innerHTML",a.sectionContent||"",n.npT)}}function Jr(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"Our Services"),n.k0s(),n.j41(5,"div",6)(6,"p"),n.EFF(7,"Providing exceptional care tailored to your needs"),n.k0s()()()(),n.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),n.EFF(12,"Our Services"),n.k0s()(),n.nrm(13,"app-item-list",11),n.k0s(),n.j41(14,"section",8)(15,"div",9)(16,"h2",10),n.EFF(17,"Our Benefits"),n.k0s()(),n.nrm(18,"app-item-list",11),n.k0s(),n.DNE(19,kr,5,7,"section",12),n.nI1(20,"sectionFilter"),n.j41(21,"section",13),n.DNE(22,Qr,6,8,"div",14),n.nI1(23,"sectionFilter"),n.DNE(24,nr,5,3,"div",15),n.nI1(25,"sectionFilter"),n.k0s()(),n.j41(26,"div",16)(27,"div",17)(28,"h2"),n.EFF(29,"Ready to Experience Exceptional Care?"),n.k0s(),n.j41(30,"p"),n.EFF(31," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),n.k0s(),n.j41(32,"button",18),n.bIt("click",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.navigateToContact())}),n.EFF(33," Book a Consultation "),n.k0s()()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(13),n.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services)("minimal",!1),n.R7$(5),n.Y8G("layoutType",a.business.theme.themeType)("services",a.business.benefits)("minimal",!1),n.R7$(1),n.Y8G("ngIf",n.i5U(20,9,a.business.sections,"ServicesCenterTop")),n.R7$(3),n.Y8G("ngIf",n.i5U(23,12,a.business.sections,"ServicesLeft")),n.R7$(2),n.Y8G("ngIf",n.i5U(25,15,a.business.sections,"ServicesRight"))}}function gs(g,l){if(1&g&&(n.j41(0,"div")(1,"div",1),n.DNE(2,xn,34,18,"ng-container",2),n.DNE(3,Zn,6,10,"ng-container",2),n.DNE(4,Nn,6,10,"ng-container",2),n.DNE(5,Xr,5,8,"ng-container",2),n.DNE(6,Jr,34,18,"ng-container",3),n.k0s()()),2&g){const a=n.XpG();n.R7$(1),n.Y8G("ngSwitch",a.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb")}}let Cn=(()=>{class g{constructor(a,v,I){this.router=a,this.businessDataService=v,this.metaService=I,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.businessId=a?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(pe.Ix),n.rXU(ke.A),n.rXU(Ne.R))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[3,"layoutType","services","minimal"],["class","special-programs",4,"ngIf"],[1,"tours-consulting"],["class","tours",4,"ngIf"],["class","consulting",4,"ngIf"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"special-programs"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"tours"],["alt","Contact Image",3,"src"],[1,"consulting"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"layoutType"]],template:function(v,I){1&v&&n.DNE(0,gs,7,5,"div",0),2&v&&n.Y8G("ngIf",I.business)},dependencies:[W.bT,W.ux,W.e1,W.fG,Jn.j,fe,Je,Ut,on.W,bn.m],styles:[".hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:1 / 1;object-fit:cover;display:block}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}}return g})();var br="top",Kn="bottom",sr="right",Fn="left",bi="auto",nt=[br,Kn,sr,Fn],ft="start",ae="end",Re="clippingParents",Dt="viewport",Kt="popper",Yn="reference",Hr=nt.reduce(function(g,l){return g.concat([l+"-"+ft,l+"-"+ae])},[]),Sr=[].concat(nt,[bi]).reduce(function(g,l){return g.concat([l,l+"-"+ft,l+"-"+ae])},[]),_i="beforeRead",Tt="read",G="afterRead",R="beforeMain",L="main",se="afterMain",ge="beforeWrite",lt="write",Mt="afterWrite",mn=[_i,Tt,G,R,L,se,ge,lt,Mt];function Wt(g){return g?(g.nodeName||"").toLowerCase():null}function In(g){if(null==g)return window;if("[object Window]"!==g.toString()){var l=g.ownerDocument;return l&&l.defaultView||window}return g}function gr(g){return g instanceof In(g).Element||g instanceof Element}function xe(g){return g instanceof In(g).HTMLElement||g instanceof HTMLElement}function Pe(g){return!(typeof ShadowRoot>"u")&&(g instanceof In(g).ShadowRoot||g instanceof ShadowRoot)}const Zt={name:"applyStyles",enabled:!0,phase:"write",fn:function ze(g){var l=g.state;Object.keys(l.elements).forEach(function(a){var v=l.styles[a]||{},I=l.attributes[a]||{},$=l.elements[a];!xe($)||!Wt($)||(Object.assign($.style,v),Object.keys(I).forEach(function(ne){var de=I[ne];!1===de?$.removeAttribute(ne):$.setAttribute(ne,!0===de?"":de)}))})},effect:function Vt(g){var l=g.state,a={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,a.popper),l.styles=a,l.elements.arrow&&Object.assign(l.elements.arrow.style,a.arrow),function(){Object.keys(l.elements).forEach(function(v){var I=l.elements[v],$=l.attributes[v]||{},de=Object.keys(l.styles.hasOwnProperty(v)?l.styles[v]:a[v]).reduce(function(Le,ct){return Le[ct]="",Le},{});!xe(I)||!Wt(I)||(Object.assign(I.style,de),Object.keys($).forEach(function(Le){I.removeAttribute(Le)}))})}},requires:["computeStyles"]};function _n(g){return g.split("-")[0]}var dn=Math.max,ur=Math.min,yn=Math.round;function ci(){var g=navigator.userAgentData;return null!=g&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function vt(){return!/^((?!chrome|android).)*safari/i.test(ci())}function Ze(g,l,a){void 0===l&&(l=!1),void 0===a&&(a=!1);var v=g.getBoundingClientRect(),I=1,$=1;l&&xe(g)&&(I=g.offsetWidth>0&&yn(v.width)/g.offsetWidth||1,$=g.offsetHeight>0&&yn(v.height)/g.offsetHeight||1);var de=(gr(g)?In(g):window).visualViewport,Le=!vt()&&a,ct=(v.left+(Le&&de?de.offsetLeft:0))/I,It=(v.top+(Le&&de?de.offsetTop:0))/$,sn=v.width/I,zn=v.height/$;return{width:sn,height:zn,top:It,right:ct+sn,bottom:It+zn,left:ct,x:ct,y:It}}function Rt(g){var l=Ze(g),a=g.offsetWidth,v=g.offsetHeight;return Math.abs(l.width-a)<=1&&(a=l.width),Math.abs(l.height-v)<=1&&(v=l.height),{x:g.offsetLeft,y:g.offsetTop,width:a,height:v}}function fn(g,l){var a=l.getRootNode&&l.getRootNode();if(g.contains(l))return!0;if(a&&Pe(a)){var v=l;do{if(v&&g.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function Vn(g){return In(g).getComputedStyle(g)}function vn(g){return["table","td","th"].indexOf(Wt(g))>=0}function On(g){return((gr(g)?g.ownerDocument:g.document)||window.document).documentElement}function Cr(g){return"html"===Wt(g)?g:g.assignedSlot||g.parentNode||(Pe(g)?g.host:null)||On(g)}function Ur(g){return xe(g)&&"fixed"!==Vn(g).position?g.offsetParent:null}function Ci(g){for(var l=In(g),a=Ur(g);a&&vn(a)&&"static"===Vn(a).position;)a=Ur(a);return a&&("html"===Wt(a)||"body"===Wt(a)&&"static"===Vn(a).position)?l:a||function or(g){var l=/firefox/i.test(ci());if(/Trident/i.test(ci())&&xe(g)&&"fixed"===Vn(g).position)return null;var I=Cr(g);for(Pe(I)&&(I=I.host);xe(I)&&["html","body"].indexOf(Wt(I))<0;){var $=Vn(I);if("none"!==$.transform||"none"!==$.perspective||"paint"===$.contain||-1!==["transform","perspective"].indexOf($.willChange)||l&&"filter"===$.willChange||l&&$.filter&&"none"!==$.filter)return I;I=I.parentNode}return null}(g)||l}function Hi(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function Ii(g,l,a){return dn(g,ur(l,a))}function Ui(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function po(g,l){return l.reduce(function(a,v){return a[v]=g,a},{})}const _e={name:"arrow",enabled:!0,phase:"main",fn:function qi(g){var l,a=g.state,v=g.name,I=g.options,$=a.elements.arrow,ne=a.modifiersData.popperOffsets,de=_n(a.placement),Le=Hi(de),It=[Fn,sr].indexOf(de)>=0?"height":"width";if($&&ne){var sn=function(l,a){return Ui("number"!=typeof(l="function"==typeof l?l(Object.assign({},a.rects,{placement:a.placement})):l)?l:po(l,nt))}(I.padding,a),zn=Rt($),Pn="y"===Le?br:Fn,Ln="y"===Le?Kn:sr,kn=a.rects.reference[It]+a.rects.reference[Le]-ne[Le]-a.rects.popper[It],Er=ne[Le]-a.rects.reference[Le],qr=Ci($),gi=qr?"y"===Le?qr.clientHeight||0:qr.clientWidth||0:0,ai=gi/2-zn[It]/2+(kn/2-Er/2),Ei=Ii(sn[Pn],ai,gi-zn[It]-sn[Ln]);a.modifiersData[v]=((l={})[Le]=Ei,l.centerOffset=Ei-ai,l)}},effect:function is(g){var l=g.state,v=g.options.element,I=void 0===v?"[data-popper-arrow]":v;null!=I&&("string"==typeof I&&!(I=l.elements.popper.querySelector(I))||fn(l.elements.popper,I)&&(l.elements.arrow=I))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kt(g){return g.split("-")[1]}var K={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lt(g){var l,a=g.popper,v=g.popperRect,I=g.placement,$=g.variation,ne=g.offsets,de=g.position,Le=g.gpuAcceleration,ct=g.adaptive,It=g.roundOffsets,sn=g.isFixed,zn=ne.x,Pn=void 0===zn?0:zn,Ln=ne.y,kn=void 0===Ln?0:Ln,Er="function"==typeof It?It({x:Pn,y:kn}):{x:Pn,y:kn};Pn=Er.x,kn=Er.y;var qr=ne.hasOwnProperty("x"),gi=ne.hasOwnProperty("y"),Mi=Fn,Mr=br,Ri=window;if(ct){var ai=Ci(a),Ei="clientHeight",ps="clientWidth";ai===In(a)&&"static"!==Vn(ai=On(a)).position&&"absolute"===de&&(Ei="scrollHeight",ps="scrollWidth"),(I===br||(I===Fn||I===sr)&&$===ae)&&(Mr=Kn,kn-=(sn&&ai===Ri&&Ri.visualViewport?Ri.visualViewport.height:ai[Ei])-v.height,kn*=Le?1:-1),I!==Fn&&(I!==br&&I!==Kn||$!==ae)||(Mi=sr,Pn-=(sn&&ai===Ri&&Ri.visualViewport?Ri.visualViewport.width:ai[ps])-v.width,Pn*=Le?1:-1)}var $s,Io=Object.assign({position:de},ct&&K),zo=!0===It?function Ie(g,l){var v=g.y,I=l.devicePixelRatio||1;return{x:yn(g.x*I)/I||0,y:yn(v*I)/I||0}}({x:Pn,y:kn},In(a)):{x:Pn,y:kn};return Pn=zo.x,kn=zo.y,Object.assign({},Io,Le?(($s={})[Mr]=gi?"0":"",$s[Mi]=qr?"0":"",$s.transform=(Ri.devicePixelRatio||1)<=1?"translate("+Pn+"px, "+kn+"px)":"translate3d("+Pn+"px, "+kn+"px, 0)",$s):((l={})[Mr]=gi?kn+"px":"",l[Mi]=qr?Pn+"px":"",l.transform="",l))}const er={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function $r(g){var l=g.state,a=g.options,v=a.gpuAcceleration,I=void 0===v||v,$=a.adaptive,ne=void 0===$||$,de=a.roundOffsets,Le=void 0===de||de,ct={placement:_n(l.placement),variation:kt(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:I,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,Lt(Object.assign({},ct,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:ne,roundOffsets:Le})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,Lt(Object.assign({},ct,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Le})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var $i={passive:!0};const li={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function wo(g){var l=g.state,a=g.instance,v=g.options,I=v.scroll,$=void 0===I||I,ne=v.resize,de=void 0===ne||ne,Le=In(l.elements.popper),ct=[].concat(l.scrollParents.reference,l.scrollParents.popper);return $&&ct.forEach(function(It){It.addEventListener("scroll",a.update,$i)}),de&&Le.addEventListener("resize",a.update,$i),function(){$&&ct.forEach(function(It){It.removeEventListener("scroll",a.update,$i)}),de&&Le.removeEventListener("resize",a.update,$i)}},data:{}};var ia={left:"right",right:"left",bottom:"top",top:"bottom"};function Ds(g){return g.replace(/left|right|bottom|top/g,function(l){return ia[l]})}var ui={start:"end",end:"start"};function ks(g){return g.replace(/start|end/g,function(l){return ui[l]})}function Ss(g){var l=In(g);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function ro(g){return Ze(On(g)).left+Ss(g).scrollLeft}function di(g){var l=Vn(g);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function Di(g){return["html","body","#document"].indexOf(Wt(g))>=0?g.ownerDocument.body:xe(g)&&di(g)?g:Di(Cr(g))}function ss(g,l){var a;void 0===l&&(l=[]);var v=Di(g),I=v===(null==(a=g.ownerDocument)?void 0:a.body),$=In(v),ne=I?[$].concat($.visualViewport||[],di(v)?v:[]):v,de=l.concat(ne);return I?de:de.concat(ss(Cr(ne)))}function hi(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function io(g,l,a){return l===Dt?hi(function Gs(g,l){var a=In(g),v=On(g),I=a.visualViewport,$=v.clientWidth,ne=v.clientHeight,de=0,Le=0;if(I){$=I.width,ne=I.height;var ct=vt();(ct||!ct&&"fixed"===l)&&(de=I.offsetLeft,Le=I.offsetTop)}return{width:$,height:ne,x:de+ro(g),y:Le}}(g,a)):gr(l)?function ms(g,l){var a=Ze(g,!1,"fixed"===l);return a.top=a.top+g.clientTop,a.left=a.left+g.clientLeft,a.bottom=a.top+g.clientHeight,a.right=a.left+g.clientWidth,a.width=g.clientWidth,a.height=g.clientHeight,a.x=a.left,a.y=a.top,a}(l,a):hi(function jr(g){var l,a=On(g),v=Ss(g),I=null==(l=g.ownerDocument)?void 0:l.body,$=dn(a.scrollWidth,a.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),ne=dn(a.scrollHeight,a.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),de=-v.scrollLeft+ro(g),Le=-v.scrollTop;return"rtl"===Vn(I||a).direction&&(de+=dn(a.clientWidth,I?I.clientWidth:0)-$),{width:$,height:ne,x:de,y:Le}}(On(g)))}function Fs(g){var Le,l=g.reference,a=g.element,v=g.placement,I=v?_n(v):null,$=v?kt(v):null,ne=l.x+l.width/2-a.width/2,de=l.y+l.height/2-a.height/2;switch(I){case br:Le={x:ne,y:l.y-a.height};break;case Kn:Le={x:ne,y:l.y+l.height};break;case sr:Le={x:l.x+l.width,y:de};break;case Fn:Le={x:l.x-a.width,y:de};break;default:Le={x:l.x,y:l.y}}var ct=I?Hi(I):null;if(null!=ct){var It="y"===ct?"height":"width";switch($){case ft:Le[ct]=Le[ct]-(l[It]/2-a[It]/2);break;case ae:Le[ct]=Le[ct]+(l[It]/2-a[It]/2)}}return Le}function Wr(g,l){void 0===l&&(l={});var v=l.placement,I=void 0===v?g.placement:v,$=l.strategy,ne=void 0===$?g.strategy:$,de=l.boundary,Le=void 0===de?Re:de,ct=l.rootBoundary,It=void 0===ct?Dt:ct,sn=l.elementContext,zn=void 0===sn?Kt:sn,Pn=l.altBoundary,Ln=void 0!==Pn&&Pn,kn=l.padding,Er=void 0===kn?0:kn,qr=Ui("number"!=typeof Er?Er:po(Er,nt)),Mi=g.rects.popper,Mr=g.elements[Ln?zn===Kt?Yn:Kt:zn],Ri=function xs(g,l,a,v){var I="clippingParents"===l?function os(g){var l=ss(Cr(g)),v=["absolute","fixed"].indexOf(Vn(g).position)>=0&&xe(g)?Ci(g):g;return gr(v)?l.filter(function(I){return gr(I)&&fn(I,v)&&"body"!==Wt(I)}):[]}(g):[].concat(l),$=[].concat(I,[a]),de=$.reduce(function(Le,ct){var It=io(g,ct,v);return Le.top=dn(It.top,Le.top),Le.right=ur(It.right,Le.right),Le.bottom=ur(It.bottom,Le.bottom),Le.left=dn(It.left,Le.left),Le},io(g,$[0],v));return de.width=de.right-de.left,de.height=de.bottom-de.top,de.x=de.left,de.y=de.top,de}(gr(Mr)?Mr:Mr.contextElement||On(g.elements.popper),Le,It,ne),ai=Ze(g.elements.reference),Ei=Fs({reference:ai,element:Mi,strategy:"absolute",placement:I}),ps=hi(Object.assign({},Mi,Ei)),rs=zn===Kt?ps:ai,Ji={top:Ri.top-rs.top+qr.top,bottom:rs.bottom-Ri.bottom+qr.bottom,left:Ri.left-rs.left+qr.left,right:rs.right-Ri.right+qr.right},Io=g.modifiersData.offset;if(zn===Kt&&Io){var zo=Io[I];Object.keys(Ji).forEach(function($s){var Rl=[sr,Kn].indexOf($s)>=0?1:-1,wu=[br,Kn].indexOf($s)>=0?"y":"x";Ji[$s]+=zo[wu]*Rl})}return Ji}const es={name:"flip",enabled:!0,phase:"main",fn:function Dr(g){var l=g.state,a=g.options,v=g.name;if(!l.modifiersData[v]._skip){for(var I=a.mainAxis,$=void 0===I||I,ne=a.altAxis,de=void 0===ne||ne,Le=a.fallbackPlacements,ct=a.padding,It=a.boundary,sn=a.rootBoundary,zn=a.altBoundary,Pn=a.flipVariations,Ln=void 0===Pn||Pn,kn=a.allowedAutoPlacements,Er=l.options.placement,qr=_n(Er),Mi=Le||(qr!==Er&&Ln?function _r(g){if(_n(g)===bi)return[];var l=Ds(g);return[ks(g),l,ks(l)]}(Er):[Ds(Er)]),Mr=[Er].concat(Mi).reduce(function(Zi,Ol){return Zi.concat(_n(Ol)===bi?function An(g,l){void 0===l&&(l={});var I=l.boundary,$=l.rootBoundary,ne=l.padding,de=l.flipVariations,Le=l.allowedAutoPlacements,ct=void 0===Le?Sr:Le,It=kt(l.placement),sn=It?de?Hr:Hr.filter(function(Ln){return kt(Ln)===It}):nt,zn=sn.filter(function(Ln){return ct.indexOf(Ln)>=0});0===zn.length&&(zn=sn);var Pn=zn.reduce(function(Ln,kn){return Ln[kn]=Wr(g,{placement:kn,boundary:I,rootBoundary:$,padding:ne})[_n(kn)],Ln},{});return Object.keys(Pn).sort(function(Ln,kn){return Pn[Ln]-Pn[kn]})}(l,{placement:Ol,boundary:It,rootBoundary:sn,padding:ct,flipVariations:Ln,allowedAutoPlacements:kn}):Ol)},[]),Ri=l.rects.reference,ai=l.rects.popper,Ei=new Map,ps=!0,rs=Mr[0],Ji=0;Ji<Mr.length;Ji++){var Io=Mr[Ji],zo=_n(Io),$s=kt(Io)===ft,Rl=[br,Kn].indexOf(zo)>=0,wu=Rl?"width":"height",Wn=Wr(l,{placement:Io,boundary:It,rootBoundary:sn,altBoundary:zn,padding:ct}),cr=Rl?$s?sr:Fn:$s?Kn:br;Ri[wu]>ai[wu]&&(cr=Ds(cr));var Rr=Ds(cr),mi=[];if($&&mi.push(Wn[zo]<=0),de&&mi.push(Wn[cr]<=0,Wn[Rr]<=0),mi.every(function(Zi){return Zi})){rs=Io,ps=!1;break}Ei.set(Io,mi)}if(ps)for(var Wa=function(Ol){var qf=Mr.find(function(fo){var Ma=Ei.get(fo);if(Ma)return Ma.slice(0,Ol).every(function(Ca){return Ca})});if(qf)return rs=qf,"break"},No=Ln?3:1;No>0&&"break"!==Wa(No);No--);l.placement!==rs&&(l.modifiersData[v]._skip=!0,l.placement=rs,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function as(g,l,a){return void 0===a&&(a={x:0,y:0}),{top:g.top-l.height-a.y,right:g.right-l.width+a.x,bottom:g.bottom-l.height+a.y,left:g.left-l.width-a.x}}function Bi(g){return[br,sr,Kn,Fn].some(function(l){return g[l]>=0})}const ii={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Qs(g){var l=g.state,a=g.name,v=l.rects.reference,I=l.rects.popper,$=l.modifiersData.preventOverflow,ne=Wr(l,{elementContext:"reference"}),de=Wr(l,{altBoundary:!0}),Le=as(ne,v),ct=as(de,I,$),It=Bi(Le),sn=Bi(ct);l.modifiersData[a]={referenceClippingOffsets:Le,popperEscapeOffsets:ct,isReferenceHidden:It,hasPopperEscaped:sn},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":It,"data-popper-escaped":sn})}},dr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ls(g){var l=g.state,v=g.name,I=g.options.offset,$=void 0===I?[0,0]:I,ne=Sr.reduce(function(It,sn){return It[sn]=function _s(g,l,a){var v=_n(g),I=[Fn,br].indexOf(v)>=0?-1:1,$="function"==typeof a?a(Object.assign({},l,{placement:g})):a,ne=$[0],de=$[1];return ne=ne||0,de=(de||0)*I,[Fn,sr].indexOf(v)>=0?{x:de,y:ne}:{x:ne,y:de}}(sn,l.rects,$),It},{}),de=ne[l.placement],ct=de.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=de.x,l.modifiersData.popperOffsets.y+=ct),l.modifiersData[v]=ne}},Ps={name:"popperOffsets",enabled:!0,phase:"read",fn:function Ts(g){var l=g.state;l.modifiersData[g.name]=Fs({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},De={name:"preventOverflow",enabled:!0,phase:"main",fn:function ee(g){var l=g.state,a=g.options,v=g.name,I=a.mainAxis,$=void 0===I||I,ne=a.altAxis,de=void 0!==ne&&ne,zn=a.tether,Pn=void 0===zn||zn,Ln=a.tetherOffset,kn=void 0===Ln?0:Ln,Er=Wr(l,{boundary:a.boundary,rootBoundary:a.rootBoundary,padding:a.padding,altBoundary:a.altBoundary}),qr=_n(l.placement),gi=kt(l.placement),Mi=!gi,Mr=Hi(qr),Ri=function te(g){return"x"===g?"y":"x"}(Mr),ai=l.modifiersData.popperOffsets,Ei=l.rects.reference,ps=l.rects.popper,rs="function"==typeof kn?kn(Object.assign({},l.rects,{placement:l.placement})):kn,Ji="number"==typeof rs?{mainAxis:rs,altAxis:rs}:Object.assign({mainAxis:0,altAxis:0},rs),Io=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,zo={x:0,y:0};if(ai){if($){var $s,Rl="y"===Mr?br:Fn,wu="y"===Mr?Kn:sr,Wn="y"===Mr?"height":"width",cr=ai[Mr],Rr=cr+Er[Rl],mi=cr-Er[wu],Ys=Pn?-ps[Wn]/2:0,Wa=gi===ft?Ei[Wn]:ps[Wn],No=gi===ft?-ps[Wn]:-Ei[Wn],Tc=l.elements.arrow,Zi=Pn&&Tc?Rt(Tc):{width:0,height:0},Ol=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},qf=Ol[Rl],fo=Ol[wu],Ma=Ii(0,Ei[Wn],Zi[Wn]),Ca=Mi?Ei[Wn]/2-Ys-Ma-qf-Ji.mainAxis:Wa-Ma-qf-Ji.mainAxis,_g=Mi?-Ei[Wn]/2+Ys+Ma+fo+Ji.mainAxis:No+Ma+fo+Ji.mainAxis,Yf=l.elements.arrow&&Ci(l.elements.arrow),_E=Yf?"y"===Mr?Yf.clientTop||0:Yf.clientLeft||0:0,Ev=null!=($s=Io?.[Mr])?$s:0,k0=cr+_g-Ev,bv=Ii(Pn?ur(Rr,cr+Ca-Ev-_E):Rr,cr,Pn?dn(mi,k0):mi);ai[Mr]=bv,zo[Mr]=bv-cr}if(de){var Cv,Ph=ai[Ri],Ym="y"===Ri?"height":"width",Tv=Ph+Er["x"===Mr?br:Fn],Iv=Ph-Er["x"===Mr?Kn:sr],dd=-1!==[br,Fn].indexOf(qr),V0=null!=(Cv=Io?.[Ri])?Cv:0,U0=dd?Tv:Ph-Ei[Ym]-ps[Ym]-V0+Ji.altAxis,Xf=dd?Ph+Ei[Ym]+ps[Ym]-V0-Ji.altAxis:Iv,yE=Pn&&dd?function no(g,l,a){var v=Ii(g,l,a);return v>a?a:v}(U0,Ph,Xf):Ii(Pn?U0:Tv,Ph,Pn?Xf:Iv);ai[Ri]=yE,zo[Ri]=yE-Ph}l.modifiersData[v]=zo}},requiresIfExists:["offset"]};function cn(g,l,a){void 0===a&&(a=!1);var v=xe(l),I=xe(l)&&function bt(g){var l=g.getBoundingClientRect(),a=yn(l.width)/g.offsetWidth||1,v=yn(l.height)/g.offsetHeight||1;return 1!==a||1!==v}(l),$=On(l),ne=Ze(g,I,a),de={scrollLeft:0,scrollTop:0},Le={x:0,y:0};return(v||!v&&!a)&&(("body"!==Wt(l)||di($))&&(de=function rt(g){return g!==In(g)&&xe(g)?function Fe(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}(g):Ss(g)}(l)),xe(l)?((Le=Ze(l,!0)).x+=l.clientLeft,Le.y+=l.clientTop):$&&(Le.x=ro($))),{x:ne.left+de.scrollLeft-Le.x,y:ne.top+de.scrollTop-Le.y,width:ne.width,height:ne.height}}function Un(g){var l=new Map,a=new Set,v=[];function I($){a.add($.name),[].concat($.requires||[],$.requiresIfExists||[]).forEach(function(de){if(!a.has(de)){var Le=l.get(de);Le&&I(Le)}}),v.push($)}return g.forEach(function($){l.set($.name,$)}),g.forEach(function($){a.has($.name)||I($)}),v}function hr(g){var l;return function(){return l||(l=new Promise(function(a){Promise.resolve().then(function(){l=void 0,a(g())})})),l}}var Xn={placement:"bottom",modifiers:[],strategy:"absolute"};function Qn(){for(var g=arguments.length,l=new Array(g),a=0;a<g;a++)l[a]=arguments[a];return!l.some(function(v){return!(v&&"function"==typeof v.getBoundingClientRect)})}function fr(g){void 0===g&&(g={});var a=g.defaultModifiers,v=void 0===a?[]:a,I=g.defaultOptions,$=void 0===I?Xn:I;return function(de,Le,ct){void 0===ct&&(ct=$);var It={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xn,$),modifiersData:{},elements:{reference:de,popper:Le},attributes:{},styles:{}},sn=[],zn=!1,Pn={state:It,setOptions:function(qr){var gi="function"==typeof qr?qr(It.options):qr;kn(),It.options=Object.assign({},$,It.options,gi),It.scrollParents={reference:gr(de)?ss(de):de.contextElement?ss(de.contextElement):[],popper:ss(Le)};var Mi=function Sn(g){var l=Un(g);return mn.reduce(function(a,v){return a.concat(l.filter(function(I){return I.phase===v}))},[])}(function Br(g){var l=g.reduce(function(a,v){var I=a[v.name];return a[v.name]=I?Object.assign({},I,v,{options:Object.assign({},I.options,v.options),data:Object.assign({},I.data,v.data)}):v,a},{});return Object.keys(l).map(function(a){return l[a]})}([].concat(v,It.options.modifiers)));return It.orderedModifiers=Mi.filter(function(Mr){return Mr.enabled}),function Ln(){It.orderedModifiers.forEach(function(Er){var gi=Er.options,Mr=Er.effect;if("function"==typeof Mr){var Ri=Mr({state:It,name:Er.name,instance:Pn,options:void 0===gi?{}:gi});sn.push(Ri||function(){})}})}(),Pn.update()},forceUpdate:function(){if(!zn){var qr=It.elements,gi=qr.reference,Mi=qr.popper;if(Qn(gi,Mi)){It.rects={reference:cn(gi,Ci(Mi),"fixed"===It.options.strategy),popper:Rt(Mi)},It.reset=!1,It.placement=It.options.placement,It.orderedModifiers.forEach(function(Ji){return It.modifiersData[Ji.name]=Object.assign({},Ji.data)});for(var Mr=0;Mr<It.orderedModifiers.length;Mr++)if(!0!==It.reset){var Ri=It.orderedModifiers[Mr],ai=Ri.fn,Ei=Ri.options;"function"==typeof ai&&(It=ai({state:It,options:void 0===Ei?{}:Ei,name:Ri.name,instance:Pn})||It)}else It.reset=!1,Mr=-1}}},update:hr(function(){return new Promise(function(Er){Pn.forceUpdate(),Er(It)})}),destroy:function(){kn(),zn=!0}};if(!Qn(de,Le))return Pn;function kn(){sn.forEach(function(Er){return Er()}),sn=[]}return Pn.setOptions(ct).then(function(Er){!zn&&ct.onFirstUpdate&&ct.onFirstUpdate(Er)}),Pn}}var wi=fr(),Si=fr({defaultModifiers:[li,Ps,er,Zt,dr,es,De,_e,ii]}),ki=fr({defaultModifiers:[li,Ps,er,Zt]});const Ir=new Map,Fi={set(g,l,a){Ir.has(g)||Ir.set(g,new Map);const v=Ir.get(g);v.has(l)||0===v.size?v.set(l,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`)},get:(g,l)=>Ir.has(g)&&Ir.get(g).get(l)||null,remove(g,l){if(!Ir.has(g))return;const a=Ir.get(g);a.delete(l),0===a.size&&Ir.delete(g)}},Ao="transitionend",cs=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(l,a)=>`#${CSS.escape(a)}`)),g),Ra=g=>{g.dispatchEvent(new Event(Ao))},Hs=g=>!(!g||"object"!=typeof g)&&(typeof g.jquery<"u"&&(g=g[0]),typeof g.nodeType<"u"),Wo=g=>Hs(g)?g.jquery?g[0]:g:"string"==typeof g&&g.length>0?document.querySelector(cs(g)):null,ls=g=>{if(!Hs(g)||0===g.getClientRects().length)return!1;const l="visible"===getComputedStyle(g).getPropertyValue("visibility"),a=g.closest("details:not([open])");if(!a)return l;if(a!==g){const v=g.closest("summary");if(v&&v.parentNode!==a||null===v)return!1}return l},zi=g=>!(g&&g.nodeType===Node.ELEMENT_NODE&&!g.classList.contains("disabled"))||(typeof g.disabled<"u"?g.disabled:g.hasAttribute("disabled")&&"false"!==g.getAttribute("disabled")),Do=g=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof g.getRootNode){const l=g.getRootNode();return l instanceof ShadowRoot?l:null}return g instanceof ShadowRoot?g:g.parentNode?Do(g.parentNode):null},oa=()=>{},xi=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ko=[],q=()=>"rtl"===document.documentElement.dir,Z=g=>{(g=>{"loading"===document.readyState?(Ko.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of Ko)l()}),Ko.push(g)):g()})(()=>{const l=xi();if(l){const a=g.NAME,v=l.fn[a];l.fn[a]=g.jQueryInterface,l.fn[a].Constructor=g,l.fn[a].noConflict=()=>(l.fn[a]=v,g.jQueryInterface)}})},U=(g,l=[],a=g)=>"function"==typeof g?g(...l):a,ue=(g,l,a=!0)=>{if(!a)return void U(g);const I=(g=>{if(!g)return 0;let{transitionDuration:l,transitionDelay:a}=window.getComputedStyle(g);const v=Number.parseFloat(l),I=Number.parseFloat(a);return v||I?(l=l.split(",")[0],a=a.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(a))):0})(l)+5;let $=!1;const ne=({target:de})=>{de===l&&($=!0,l.removeEventListener(Ao,ne),U(g))};l.addEventListener(Ao,ne),setTimeout(()=>{$||Ra(l)},I)},Ge=(g,l,a,v)=>{const I=g.length;let $=g.indexOf(l);return-1===$?!a&&v?g[I-1]:g[0]:($+=a?1:-1,v&&($=($+I)%I),g[Math.max(0,Math.min($,I-1))])},Dn=/[^.]*(?=\..*)\.|.*/,yr=/\..*/,Is=/::\d+$/,Vs={};let us=1;const mo={mouseenter:"mouseover",mouseleave:"mouseout"},oo=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ds(g,l){return l&&`${l}::${us++}`||g.uidEvent||us++}function Fo(g){const l=ds(g);return g.uidEvent=l,Vs[l]=Vs[l]||{},Vs[l]}function aa(g,l,a=null){return Object.values(g).find(v=>v.callable===l&&v.delegationSelector===a)}function Yi(g,l,a){const v="string"==typeof l,I=v?a:l||a;let $=ao(g);return oo.has($)||($=g),[v,I,$]}function wc(g,l,a,v,I){if("string"!=typeof l||!g)return;let[$,ne,de]=Yi(l,a,v);var Ln;l in mo&&(Ln=ne,ne=function(kn){if(!kn.relatedTarget||kn.relatedTarget!==kn.delegateTarget&&!kn.delegateTarget.contains(kn.relatedTarget))return Ln.call(this,kn)});const Le=Fo(g),ct=Le[de]||(Le[de]={}),It=aa(ct,ne,$?a:null);if(It)return void(It.oneOff=It.oneOff&&I);const sn=ds(ne,l.replace(Dn,"")),zn=$?function Ms(g,l,a){return function v(I){const $=g.querySelectorAll(l);for(let{target:ne}=I;ne&&ne!==this;ne=ne.parentNode)for(const de of $)if(de===ne)return ys(I,{delegateTarget:ne}),v.oneOff&&tn.off(g,I.type,l,a),a.apply(ne,[I])}}(g,a,ne):function Nl(g,l){return function a(v){return ys(v,{delegateTarget:g}),a.oneOff&&tn.off(g,v.type,l),l.apply(g,[v])}}(g,ne);zn.delegationSelector=$?a:null,zn.callable=ne,zn.oneOff=I,zn.uidEvent=sn,ct[sn]=zn,g.addEventListener(de,zn,$)}function ns(g,l,a,v,I){const $=aa(l[a],v,I);$&&(g.removeEventListener(a,$,!!I),delete l[a][$.uidEvent])}function Ka(g,l,a,v){const I=l[a]||{};for(const[$,ne]of Object.entries(I))$.includes(v)&&ns(g,l,a,ne.callable,ne.delegationSelector)}function ao(g){return g=g.replace(yr,""),mo[g]||g}const tn={on(g,l,a,v){wc(g,l,a,v,!1)},one(g,l,a,v){wc(g,l,a,v,!0)},off(g,l,a,v){if("string"!=typeof l||!g)return;const[I,$,ne]=Yi(l,a,v),de=ne!==l,Le=Fo(g),ct=Le[ne]||{},It=l.startsWith(".");if(typeof $<"u"){if(!Object.keys(ct).length)return;ns(g,Le,ne,$,I?a:null)}else{if(It)for(const sn of Object.keys(Le))Ka(g,Le,sn,l.slice(1));for(const[sn,zn]of Object.entries(ct)){const Pn=sn.replace(Is,"");(!de||l.includes(Pn))&&ns(g,Le,ne,zn.callable,zn.delegationSelector)}}},trigger(g,l,a){if("string"!=typeof l||!g)return null;const v=xi();let ne=null,de=!0,Le=!0,ct=!1;l!==ao(l)&&v&&(ne=v.Event(l,a),v(g).trigger(ne),de=!ne.isPropagationStopped(),Le=!ne.isImmediatePropagationStopped(),ct=ne.isDefaultPrevented());const It=ys(new Event(l,{bubbles:de,cancelable:!0}),a);return ct&&It.preventDefault(),Le&&g.dispatchEvent(It),It.defaultPrevented&&ne&&ne.preventDefault(),It}};function ys(g,l={}){for(const[a,v]of Object.entries(l))try{g[a]=v}catch{Object.defineProperty(g,a,{configurable:!0,get:()=>v})}return g}function Ta(g){if("true"===g)return!0;if("false"===g)return!1;if(g===Number(g).toString())return Number(g);if(""===g||"null"===g)return null;if("string"!=typeof g)return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function ca(g){return g.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const So={setDataAttribute(g,l,a){g.setAttribute(`data-bs-${ca(l)}`,a)},removeDataAttribute(g,l){g.removeAttribute(`data-bs-${ca(l)}`)},getDataAttributes(g){if(!g)return{};const l={},a=Object.keys(g.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of a){let I=v.replace(/^bs/,"");I=I.charAt(0).toLowerCase()+I.slice(1,I.length),l[I]=Ta(g.dataset[v])}return l},getDataAttribute:(g,l)=>Ta(g.getAttribute(`data-bs-${ca(l)}`))};class qa{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,a){const v=Hs(a)?So.getDataAttribute(a,"config"):{};return{...this.constructor.Default,..."object"==typeof v?v:{},...Hs(a)?So.getDataAttributes(a):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,a=this.constructor.DefaultType){for(const[v,I]of Object.entries(a)){const $=l[v],ne=Hs($)?"element":null==(g=$)?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(ne))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${ne}" but expected type "${I}".`)}var g}}class co extends qa{constructor(l,a){super(),(l=Wo(l))&&(this._element=l,this._config=this._getConfig(a),Fi.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Fi.remove(this._element,this.constructor.DATA_KEY),tn.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,a,v=!0){ue(l,a,v)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return Fi.get(Wo(l),this.DATA_KEY)}static getOrCreateInstance(l,a={}){return this.getInstance(l)||new this(l,"object"==typeof a?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const lo=g=>{let l=g.getAttribute("data-bs-target");if(!l||"#"===l){let a=g.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),l=a&&"#"!==a?a.trim():null}return l?l.split(",").map(a=>cs(a)).join(","):null},rr={find:(g,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,g)),findOne:(g,l=document.documentElement)=>Element.prototype.querySelector.call(l,g),children:(g,l)=>[].concat(...g.children).filter(a=>a.matches(l)),parents(g,l){const a=[];let v=g.parentNode.closest(l);for(;v;)a.push(v),v=v.parentNode.closest(l);return a},prev(g,l){let a=g.previousElementSibling;for(;a;){if(a.matches(l))return[a];a=a.previousElementSibling}return[]},next(g,l){let a=g.nextElementSibling;for(;a;){if(a.matches(l))return[a];a=a.nextElementSibling}return[]},focusableChildren(g){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(l,g).filter(a=>!zi(a)&&ls(a))},getSelectorFromElement(g){const l=lo(g);return l&&rr.findOne(l)?l:null},getElementFromSelector(g){const l=lo(g);return l?rr.findOne(l):null},getMultipleElementsFromSelector(g){const l=lo(g);return l?rr.find(l):[]}},la=(g,l="hide")=>{const v=g.NAME;tn.on(document,`click.dismiss${g.EVENT_KEY}`,`[data-bs-dismiss="${v}"]`,function(I){if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),zi(this))return;const $=rr.getElementFromSelector(this)||this.closest(`.${v}`);g.getOrCreateInstance($)[l]()})},hd=".bs.alert",Ya=`close${hd}`,Du=`closed${hd}`;class Oa extends co{static get NAME(){return"alert"}close(){if(tn.trigger(this._element,Ya).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),tn.trigger(this._element,Du),this.dispose()}static jQueryInterface(l){return this.each(function(){const a=Oa.getOrCreateInstance(this);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l](this)}})}}la(Oa,"close"),Z(Oa);const M='[data-bs-toggle="button"]';class B extends co{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const a=B.getOrCreateInstance(this);"toggle"===l&&a[l]()})}}tn.on(document,"click.bs.button.data-api",M,g=>{g.preventDefault();const l=g.target.closest(M);B.getOrCreateInstance(l).toggle()}),Z(B);const Me=".bs.swipe",xt=`touchstart${Me}`,$t=`touchmove${Me}`,tr=`touchend${Me}`,ni=`pointerdown${Me}`,Ti=`pointerup${Me}`,Li={endCallback:null,leftCallback:null,rightCallback:null},_o={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class vs extends qa{constructor(l,a){super(),this._element=l,l&&vs.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Li}static get DefaultType(){return _o}static get NAME(){return"swipe"}dispose(){tn.off(this._element,Me)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),U(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const a=l/this._deltaX;this._deltaX=0,a&&U(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(tn.on(this._element,ni,l=>this._start(l)),tn.on(this._element,Ti,l=>this._end(l)),this._element.classList.add("pointer-event")):(tn.on(this._element,xt,l=>this._start(l)),tn.on(this._element,$t,l=>this._move(l)),tn.on(this._element,tr,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Us=".bs.carousel",Es=".data-api",Nr="next",Xo="prev",ws="left",Sc="right",fd=`slide${Us}`,Ja=`slid${Us}`,Wi=`keydown${Us}`,Rh=`mouseenter${Us}`,Su=`mouseleave${Us}`,da=`dragstart${Us}`,Rs=`load${Us}${Es}`,ka=`click${Us}${Es}`,xc="carousel",tl="active",Ll=".active",ha=".carousel-item",Vl=Ll+ha,Mu={ArrowLeft:Sc,ArrowRight:ws},hs={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},nl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Za extends co{constructor(l,a){super(l,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=rr.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xc&&this.cycle()}static get Default(){return hs}static get DefaultType(){return nl}static get NAME(){return"carousel"}next(){this._slide(Nr)}nextWhenVisible(){!document.hidden&&ls(this._element)&&this.next()}prev(){this._slide(Xo)}pause(){this._isSliding&&Ra(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void tn.one(this._element,Ja,()=>this.cycle());this.cycle()}}to(l){const a=this._getItems();if(l>a.length-1||l<0)return;if(this._isSliding)return void tn.one(this._element,Ja,()=>this.to(l));const v=this._getItemIndex(this._getActive());v!==l&&this._slide(l>v?Nr:Xo,a[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&tn.on(this._element,Wi,l=>this._keydown(l)),"hover"===this._config.pause&&(tn.on(this._element,Rh,()=>this.pause()),tn.on(this._element,Su,()=>this._maybeEnableCycle())),this._config.touch&&vs.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of rr.find(".carousel-item img",this._element))tn.on(v,da,I=>I.preventDefault());this._swipeHelper=new vs(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ws)),rightCallback:()=>this._slide(this._directionToOrder(Sc)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const a=Mu[l.key];a&&(l.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const a=rr.findOne(Ll,this._indicatorsElement);a.classList.remove(tl),a.removeAttribute("aria-current");const v=rr.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);v&&(v.classList.add(tl),v.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const a=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(l,a=null){if(this._isSliding)return;const v=this._getActive(),I=l===Nr,$=a||Ge(this._getItems(),v,I,this._config.wrap);if($===v)return;const ne=this._getItemIndex($),de=Pn=>tn.trigger(this._element,Pn,{relatedTarget:$,direction:this._orderToDirection(l),from:this._getItemIndex(v),to:ne});if(de(fd).defaultPrevented||!v||!$)return;const ct=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ne),this._activeElement=$;const It=I?"carousel-item-start":"carousel-item-end",sn=I?"carousel-item-next":"carousel-item-prev";$.classList.add(sn),v.classList.add(It),$.classList.add(It),this._queueCallback(()=>{$.classList.remove(It,sn),$.classList.add(tl),v.classList.remove(tl,sn,It),this._isSliding=!1,de(Ja)},v,this._isAnimated()),ct&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return rr.findOne(Vl,this._element)}_getItems(){return rr.find(ha,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return q()?l===ws?Xo:Nr:l===ws?Nr:Xo}_orderToDirection(l){return q()?l===Xo?ws:Sc:l===Xo?Sc:ws}static jQueryInterface(l){return this.each(function(){const a=Za.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}}else a.to(l)})}}tn.on(document,ka,"[data-bs-slide], [data-bs-slide-to]",function(g){const l=rr.getElementFromSelector(this);if(!l||!l.classList.contains(xc))return;g.preventDefault();const a=Za.getOrCreateInstance(l),v=this.getAttribute("data-bs-slide-to");return v?(a.to(v),void a._maybeEnableCycle()):"next"===So.getDataAttribute(this,"slide")?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),tn.on(window,Rs,()=>{const g=rr.find('[data-bs-ride="carousel"]');for(const l of g)Za.getOrCreateInstance(l)}),Z(Za);const uo=".bs.collapse",zs=`show${uo}`,rl=`shown${uo}`,Pc=`hide${uo}`,Vo=`hidden${uo}`,il=`click${uo}.data-api`,sl="show",ec="collapse",tc="collapsing",Zs=`:scope .${ec} .${ec}`,Ul='[data-bs-toggle="collapse"]',jl={parent:null,toggle:!0},Jf={parent:"(null|element)",toggle:"boolean"};class Mc extends co{constructor(l,a){super(l,a),this._isTransitioning=!1,this._triggerArray=[];const v=rr.find(Ul);for(const I of v){const $=rr.getSelectorFromElement(I),ne=rr.find($).filter(de=>de===this._element);null!==$&&ne.length&&this._triggerArray.push(I)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return jl}static get DefaultType(){return Jf}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(de=>de!==this._element).map(de=>Mc.getOrCreateInstance(de,{toggle:!1}))),l.length&&l[0]._isTransitioning||tn.trigger(this._element,zs).defaultPrevented)return;for(const de of l)de.hide();const v=this._getDimension();this._element.classList.remove(ec),this._element.classList.add(tc),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ne=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(tc),this._element.classList.add(ec,sl),this._element.style[v]="",tn.trigger(this._element,rl)},this._element,!0),this._element.style[v]=`${this._element[ne]}px`}hide(){if(this._isTransitioning||!this._isShown()||tn.trigger(this._element,Pc).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,this._element.classList.add(tc),this._element.classList.remove(ec,sl);for(const I of this._triggerArray){const $=rr.getElementFromSelector(I);$&&!this._isShown($)&&this._addAriaAndCollapsedClass([I],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(tc),this._element.classList.add(ec),tn.trigger(this._element,Vo)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(sl)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=Wo(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Ul);for(const a of l){const v=rr.getElementFromSelector(a);v&&this._addAriaAndCollapsedClass([a],this._isShown(v))}}_getFirstLevelChildren(l){const a=rr.find(Zs,this._config.parent);return rr.find(l,this._config.parent).filter(v=>!a.includes(v))}_addAriaAndCollapsedClass(l,a){if(l.length)for(const v of l)v.classList.toggle("collapsed",!a),v.setAttribute("aria-expanded",a)}static jQueryInterface(l){const a={};return"string"==typeof l&&/show|hide/.test(l)&&(a.toggle=!1),this.each(function(){const v=Mc.getOrCreateInstance(this,a);if("string"==typeof l){if(typeof v[l]>"u")throw new TypeError(`No method named "${l}"`);v[l]()}})}}tn.on(document,il,Ul,function(g){("A"===g.target.tagName||g.delegateTarget&&"A"===g.delegateTarget.tagName)&&g.preventDefault();for(const l of rr.getMultipleElementsFromSelector(this))Mc.getOrCreateInstance(l,{toggle:!1}).toggle()}),Z(Mc);const Bl="dropdown",Uo=".bs.dropdown",S=".data-api",k="ArrowUp",H="ArrowDown",Oe=`hide${Uo}`,wt=`hidden${Uo}`,yt=`show${Uo}`,Mn=`shown${Uo}`,Ar=`click${Uo}${S}`,Or=`keydown${Uo}${S}`,Kr=`keyup${Uo}${S}`,Zr="show",sc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',oc=`${sc}.${Zr}`,Po=".dropdown-menu",Ou=q()?"top-end":"top-start",Nu=q()?"top-start":"top-end",ku=q()?"bottom-end":"bottom-start",_d=q()?"bottom-start":"bottom-end",Fu=q()?"left-start":"right-start",jo=q()?"right-start":"left-start",kh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},yd={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ac extends co{constructor(l,a){super(l,a),this._popper=null,this._parent=this._element.parentNode,this._menu=rr.next(this._element,Po)[0]||rr.prev(this._element,Po)[0]||rr.findOne(Po,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return kh}static get DefaultType(){return yd}static get NAME(){return Bl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(zi(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!tn.trigger(this._element,yt,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))tn.on(v,"mouseover",oa);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zr),this._element.classList.add(Zr),tn.trigger(this._element,Mn,l)}}hide(){!zi(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!tn.trigger(this._element,Oe,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))tn.off(v,"mouseover",oa);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zr),this._element.classList.remove(Zr),this._element.setAttribute("aria-expanded","false"),So.removeDataAttribute(this._menu,"popper"),tn.trigger(this._element,wt,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!Hs(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${Bl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof d>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:Hs(this._config.reference)?l=Wo(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const a=this._getPopperConfig();this._popper=Si(l,this._menu,a)}_isShown(){return this._menu.classList.contains(Zr)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return Fu;if(l.classList.contains("dropstart"))return jo;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const a="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?a?Nu:Ou:a?_d:ku}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof l?a=>l(a,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(So.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...U(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:a}){const v=rr.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I=>ls(I));v.length&&Ge(v,a,l===H,!v.includes(a)).focus()}static jQueryInterface(l){return this.each(function(){const a=ac.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const a=rr.find(oc);for(const v of a){const I=ac.getInstance(v);if(!I||!1===I._config.autoClose)continue;const $=l.composedPath(),ne=$.includes(I._menu);if($.includes(I._element)||"inside"===I._config.autoClose&&!ne||"outside"===I._config.autoClose&&ne||I._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const de={relatedTarget:I._element};"click"===l.type&&(de.clickEvent=l),I._completeHide(de)}}static dataApiKeydownHandler(l){const a=/input|textarea/i.test(l.target.tagName),v="Escape"===l.key,I=[k,H].includes(l.key);if(!I&&!v||a&&!v)return;l.preventDefault();const $=this.matches(sc)?this:rr.prev(this,sc)[0]||rr.next(this,sc)[0]||rr.findOne(sc,l.delegateTarget.parentNode),ne=ac.getOrCreateInstance($);if(I)return l.stopPropagation(),ne.show(),void ne._selectMenuItem(l);ne._isShown()&&(l.stopPropagation(),ne.hide(),$.focus())}}tn.on(document,Or,sc,ac.dataApiKeydownHandler),tn.on(document,Or,Po,ac.dataApiKeydownHandler),tn.on(document,Ar,ac.clearMenus),tn.on(document,Kr,ac.clearMenus),tn.on(document,Ar,sc,function(g){g.preventDefault(),ac.getOrCreateInstance(this).toggle()}),Z(ac);const vd="backdrop",Lh=`mousedown.bs.${vd}`,Vu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Uu extends qa{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return Vu}static get DefaultType(){return kc}static get NAME(){return vd}show(l){if(!this._config.isVisible)return void U(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{U(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),U(l)})):U(l)}dispose(){this._isAppended&&(tn.off(this._element,Lh),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=Wo(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),tn.on(l,Lh,()=>{U(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){ue(l,this._getElement(),this._config.isAnimated)}}const ga=".bs.focustrap",Zf=`focusin${ga}`,Vh=`keydown.tab${ga}`,vo="backward",bd={autofocus:!0,trapElement:null},cl={autofocus:"boolean",trapElement:"element"};class Os extends qa{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return bd}static get DefaultType(){return cl}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),tn.off(document,ga),tn.on(document,Zf,l=>this._handleFocusin(l)),tn.on(document,Vh,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,tn.off(document,ga))}_handleFocusin(l){const{trapElement:a}=this._config;if(l.target===document||l.target===a||a.contains(l.target))return;const v=rr.focusableChildren(a);0===v.length?a.focus():this._lastTabNavDirection===vo?v[v.length-1].focus():v[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?vo:"forward")}}const Cd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",cc=".sticky-top",Ua="padding-right",Td="margin-right";class wa{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ua,a=>a+l),this._setElementAttributes(Cd,Ua,a=>a+l),this._setElementAttributes(cc,Td,a=>a-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ua),this._resetElementAttributes(Cd,Ua),this._resetElementAttributes(cc,Td)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,a,v){const I=this.getWidth();this._applyManipulationCallback(l,ne=>{if(ne!==this._element&&window.innerWidth>ne.clientWidth+I)return;this._saveInitialAttribute(ne,a);const de=window.getComputedStyle(ne).getPropertyValue(a);ne.style.setProperty(a,`${v(Number.parseFloat(de))}px`)})}_saveInitialAttribute(l,a){const v=l.style.getPropertyValue(a);v&&So.setDataAttribute(l,a,v)}_resetElementAttributes(l,a){this._applyManipulationCallback(l,I=>{const $=So.getDataAttribute(I,a);null!==$?(So.removeDataAttribute(I,a),I.style.setProperty(a,$)):I.style.removeProperty(a)})}_applyManipulationCallback(l,a){if(Hs(l))a(l);else for(const v of rr.find(l,this._element))a(v)}}const Ws=".bs.modal",Fc=`hide${Ws}`,Lc=`hidePrevented${Ws}`,Gl=`hidden${Ws}`,Uh=`show${Ws}`,Vc=`shown${Ws}`,jh=`resize${Ws}`,eo=`click.dismiss${Ws}`,ep=`mousedown.dismiss${Ws}`,ul=`keydown.dismiss${Ws}`,wd=`click${Ws}.data-api`,Bh="modal-open",lc="modal-static",Hl={backdrop:!0,focus:!0,keyboard:!0},Gh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class dl extends co{constructor(l,a){super(l,a),this._dialog=rr.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new wa,this._addEventListeners()}static get Default(){return Hl}static get DefaultType(){return Gh}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||tn.trigger(this._element,Uh,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Bh),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||tn.trigger(this._element,Fc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){tn.off(window,Ws),tn.off(this._dialog,Ws),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Uu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Os({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=rr.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tn.trigger(this._element,Vc,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){tn.on(this._element,ul,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),tn.on(window,jh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),tn.on(this._element,ep,l=>{tn.one(this._element,eo,a=>{if(this._element===l.target&&this._element===a.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Bh),this._resetAdjustments(),this._scrollBar.reset(),tn.trigger(this._element,Gl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(tn.trigger(this._element,Lc).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;"hidden"===v||this._element.classList.contains(lc)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(lc),this._queueCallback(()=>{this._element.classList.remove(lc),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),v=a>0;if(v&&!l){const I=q()?"paddingLeft":"paddingRight";this._element.style[I]=`${a}px`}if(!v&&l){const I=q()?"paddingRight":"paddingLeft";this._element.style[I]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,a){return this.each(function(){const v=dl.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof v[l]>"u")throw new TypeError(`No method named "${l}"`);v[l](a)}})}}tn.on(document,wd,'[data-bs-toggle="modal"]',function(g){const l=rr.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),tn.one(l,Uh,I=>{I.defaultPrevented||tn.one(l,Gl,()=>{ls(this)&&this.focus()})});const a=rr.findOne(".modal.show");a&&dl.getInstance(a).hide(),dl.getOrCreateInstance(l).toggle(this)}),la(dl),Z(dl);const ja=".bs.offcanvas",Ns=".data-api",e_=`load${ja}${Ns}`,tp="showing",$u=".offcanvas.show",Uc=`show${ja}`,Hh=`shown${ja}`,Jo=`hide${ja}`,uc=`hidePrevented${ja}`,Gu=`hidden${ja}`,jc=`resize${ja}`,Bc=`click${ja}${Ns}`,xd=`keydown.dismiss${ja}`,Eg={backdrop:!0,keyboard:!0,scroll:!1},bg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class js extends co{constructor(l,a){super(l,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Eg}static get DefaultType(){return bg}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||tn.trigger(this._element,Uc,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new wa).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(tp),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(tp),tn.trigger(this._element,Hh,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!tn.trigger(this._element,Jo).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new wa).reset(),tn.trigger(this._element,Gu)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new Uu({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{"static"!==this._config.backdrop?this.hide():tn.trigger(this._element,uc)}:null})}_initializeFocusTrap(){return new Os({trapElement:this._element})}_addEventListeners(){tn.on(this._element,xd,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();tn.trigger(this._element,uc)}})}static jQueryInterface(l){return this.each(function(){const a=js.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l](this)}})}}tn.on(document,Bc,'[data-bs-toggle="offcanvas"]',function(g){const l=rr.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),zi(this))return;tn.one(l,Gu,()=>{ls(this)&&this.focus()});const a=rr.findOne($u);a&&a!==l&&js.getInstance(a).hide(),js.getOrCreateInstance(l).toggle(this)}),tn.on(window,e_,()=>{for(const g of rr.find($u))js.getOrCreateInstance(g).show()}),tn.on(window,jc,()=>{for(const g of rr.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(g).position&&js.getOrCreateInstance(g).hide()}),la(js),Z(js);const Ba={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Pd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),rp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Md=(g,l)=>{const a=g.nodeName.toLowerCase();return l.includes(a)?!Pd.has(a)||!!rp.test(g.nodeValue):l.filter(v=>v instanceof RegExp).some(v=>v.test(a))},ip={allowList:Ba,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},$c={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},zl={entry:"(string|element|function|null)",selector:"(string|element)"};class Rd extends qa{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return ip}static get DefaultType(){return $c}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[I,$]of Object.entries(this._config.content))this._setContent(l,$,I);const a=l.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&a.classList.add(...v.split(" ")),a}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[a,v]of Object.entries(l))super._typeCheckConfig({selector:a,entry:v},zl)}_setContent(l,a,v){const I=rr.findOne(v,l);if(I){if(!(a=this._resolvePossibleFunction(a)))return void I.remove();if(Hs(a))return void this._putElementInTemplate(Wo(a),I);if(this._config.html)return void(I.innerHTML=this._maybeSanitize(a));I.textContent=a}}_maybeSanitize(l){return this._config.sanitize?function Cg(g,l,a){if(!g.length)return g;if(a&&"function"==typeof a)return a(g);const I=(new window.DOMParser).parseFromString(g,"text/html"),$=[].concat(...I.body.querySelectorAll("*"));for(const ne of $){const de=ne.nodeName.toLowerCase();if(!Object.keys(l).includes(de)){ne.remove();continue}const Le=[].concat(...ne.attributes),ct=[].concat(l["*"]||[],l[de]||[]);for(const It of Le)Md(It,ct)||ne.removeAttribute(It.nodeName)}return I.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return U(l,[this])}_putElementInTemplate(l,a){if(this._config.html)return a.innerHTML="",void a.append(l);a.textContent=l.textContent}}const Kh=new Set(["sanitize","allowList","sanitizeFn"]),$a="fade",Gc="show",Wl="hide.bs.modal",hc="hover",Hu="focus",Jt={AUTO:"auto",TOP:"top",RIGHT:q()?"left":"right",BOTTOM:"bottom",LEFT:q()?"right":"left"},Gn={allowList:Ba,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Hn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zr extends co{constructor(l,a){if(typeof d>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Gn}static get DefaultType(){return Hn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),tn.off(this._element.closest(".modal"),Wl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=tn.trigger(this._element,this.constructor.eventName("show")),v=(Do(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!v)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:$}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||($.append(I),tn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(Gc),"ontouchstart"in document.documentElement)for(const de of[].concat(...document.body.children))tn.on(de,"mouseover",oa);this._queueCallback(()=>{tn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!tn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Gc),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))tn.off(I,"mouseover",oa);this._activeTrigger.click=!1,this._activeTrigger[Hu]=!1,this._activeTrigger[hc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),tn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const a=this._getTemplateFactory(l).toHtml();if(!a)return null;a.classList.remove($a,Gc),a.classList.add(`bs-${this.constructor.NAME}-auto`);const v=(g=>{do{g+=Math.floor(1e6*Math.random())}while(document.getElementById(g));return g})(this.constructor.NAME).toString();return a.setAttribute("id",v),this._isAnimated()&&a.classList.add($a),a}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new Rd({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains($a)}_isShown(){return this.tip&&this.tip.classList.contains(Gc)}_createPopper(l){const a=U(this._config.placement,[this,l,this._element]),v=Jt[a.toUpperCase()];return Si(this._element,l,this._getPopperConfig(v))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof l?a=>l(a,this._element):l}_resolvePossibleFunction(l){return U(l,[this._element])}_getPopperConfig(l){const a={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...a,...U(this._config.popperConfig,[a])}}_setListeners(){const l=this._config.trigger.split(" ");for(const a of l)if("click"===a)tn.on(this._element,this.constructor.eventName("click"),this._config.selector,v=>{this._initializeOnDelegatedTarget(v).toggle()});else if("manual"!==a){const v=this.constructor.eventName(a===hc?"mouseenter":"focusin"),I=this.constructor.eventName(a===hc?"mouseleave":"focusout");tn.on(this._element,v,this._config.selector,$=>{const ne=this._initializeOnDelegatedTarget($);ne._activeTrigger["focusin"===$.type?Hu:hc]=!0,ne._enter()}),tn.on(this._element,I,this._config.selector,$=>{const ne=this._initializeOnDelegatedTarget($);ne._activeTrigger["focusout"===$.type?Hu:hc]=ne._element.contains($.relatedTarget),ne._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},tn.on(this._element.closest(".modal"),Wl,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,a){clearTimeout(this._timeout),this._timeout=setTimeout(l,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const a=So.getDataAttributes(this._element);for(const v of Object.keys(a))Kh.has(v)&&delete a[v];return l={...a,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:Wo(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[a,v]of Object.entries(this._config))this.constructor.Default[a]!==v&&(l[a]=v);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const a=zr.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}}Z(zr);const kd={...zr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Fd={...zr.DefaultType,content:"(null|string|element|function)"};class Kl extends zr{static get Default(){return kd}static get DefaultType(){return Fd}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const a=Kl.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}}Z(Kl);const ql=".bs.scrollspy",Yl=`activate${ql}`,Ld=`click${ql}`,zu=`load${ql}.data-api`,pc="active",Xl="[href]",Qh=".nav-link",Sg=`${Qh}, .nav-item > ${Qh}, .list-group-item`,sp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},jd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class op extends co{constructor(l,a){super(l,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return sp}static get DefaultType(){return jd}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=Wo(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(a=>Number.parseFloat(a))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(tn.off(this._config.target,Ld),tn.on(this._config.target,Ld,Xl,l=>{const a=this._observableSections.get(l.target.hash);if(a){l.preventDefault();const v=this._rootElement||window,I=a.offsetTop-this._element.offsetTop;if(v.scrollTo)return void v.scrollTo({top:I,behavior:"smooth"});v.scrollTop=I}}))}_getNewObserver(){return new IntersectionObserver(a=>this._observerCallback(a),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const a=ne=>this._targetLinks.get(`#${ne.target.id}`),v=ne=>{this._previousScrollData.visibleEntryTop=ne.target.offsetTop,this._process(a(ne))},I=(this._rootElement||document.documentElement).scrollTop,$=I>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=I;for(const ne of l){if(!ne.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(ne));continue}const de=ne.target.offsetTop>=this._previousScrollData.visibleEntryTop;if($&&de){if(v(ne),!I)return}else!$&&!de&&v(ne)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=rr.find(Xl,this._config.target);for(const a of l){if(!a.hash||zi(a))continue;const v=rr.findOne(decodeURI(a.hash),this._element);ls(v)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,v))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(pc),this._activateParents(l),tn.trigger(this._element,Yl,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))rr.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(pc);else for(const a of rr.parents(l,".nav, .list-group"))for(const v of rr.prev(a,Sg))v.classList.add(pc)}_clearActiveClass(l){l.classList.remove(pc);const a=rr.find(`${Xl}.${pc}`,l);for(const v of a)v.classList.remove(pc)}static jQueryInterface(l){return this.each(function(){const a=op.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}})}}tn.on(window,zu,()=>{for(const g of rr.find('[data-bs-spy="scroll"]'))op.getOrCreateInstance(g)}),Z(op);const zc=".bs.tab",Bd=`hide${zc}`,Pg=`hidden${zc}`,r_=`show${zc}`,$d=`shown${zc}`,ap=`click${zc}`,Ey=`keydown${zc}`,by=`load${zc}`,Zo="ArrowLeft",Jh="ArrowRight",i_="ArrowUp",Gd="ArrowDown",Eo="Home",Ql="End",Jl="active",Mg="show",Rg=".dropdown-toggle",ef=`:not(${Rg})`,zd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Wc=`.nav-link${ef}, .list-group-item${ef}, [role="tab"]${ef}, ${zd}`,Wd=`.${Jl}[data-bs-toggle="tab"], .${Jl}[data-bs-toggle="pill"], .${Jl}[data-bs-toggle="list"]`;class gc extends co{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),tn.on(this._element,Ey,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const a=this._getActiveElem(),v=a?tn.trigger(a,Bd,{relatedTarget:l}):null;tn.trigger(l,r_,{relatedTarget:a}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(a,l),this._activate(l,a))}_activate(l,a){l&&(l.classList.add(Jl),this._activate(rr.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),tn.trigger(l,$d,{relatedTarget:a})):l.classList.add(Mg)},l,l.classList.contains("fade")))}_deactivate(l,a){l&&(l.classList.remove(Jl),l.blur(),this._deactivate(rr.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),tn.trigger(l,Pg,{relatedTarget:a})):l.classList.remove(Mg)},l,l.classList.contains("fade")))}_keydown(l){if(![Zo,Jh,i_,Gd,Eo,Ql].includes(l.key))return;l.stopPropagation(),l.preventDefault();const a=this._getChildren().filter(I=>!zi(I));let v;if([Eo,Ql].includes(l.key))v=a[l.key===Eo?0:a.length-1];else{const I=[Jh,Gd].includes(l.key);v=Ge(a,l.target,I,!0)}v&&(v.focus({preventScroll:!0}),gc.getOrCreateInstance(v).show())}_getChildren(){return rr.find(Wc,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,a){this._setAttributeIfNotExists(l,"role","tablist");for(const v of a)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const a=this._elemIsActive(l),v=this._getOuterElement(l);l.setAttribute("aria-selected",a),v!==l&&this._setAttributeIfNotExists(v,"role","presentation"),a||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const a=rr.getElementFromSelector(l);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,a){const v=this._getOuterElement(l);if(!v.classList.contains("dropdown"))return;const I=($,ne)=>{const de=rr.findOne($,v);de&&de.classList.toggle(ne,a)};I(Rg,Jl),I(".dropdown-menu",Mg),v.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(l,a,v){l.hasAttribute(a)||l.setAttribute(a,v)}_elemIsActive(l){return l.classList.contains(Jl)}_getInnerElement(l){return l.matches(Wc)?l:rr.findOne(Wc,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const a=gc.getOrCreateInstance(this);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}})}}tn.on(document,ap,zd,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),!zi(this)&&gc.getOrCreateInstance(this).show()}),tn.on(window,by,()=>{for(const g of rr.find(Wd))gc.getOrCreateInstance(g)}),Z(gc);const gl=".bs.toast",Og=`mouseover${gl}`,dp=`mouseout${gl}`,eu=`focusin${gl}`,qd=`focusout${gl}`,hp=`hide${gl}`,Ng=`hidden${gl}`,fp=`show${gl}`,kg=`shown${gl}`,Yd="show",pp="showing",s_={animation:"boolean",autohide:"boolean",delay:"number"},o_={animation:!0,autohide:!0,delay:5e3};class tu extends co{constructor(l,a){super(l,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return o_}static get DefaultType(){return s_}static get NAME(){return"toast"}show(){tn.trigger(this._element,fp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Yd,pp),this._queueCallback(()=>{this._element.classList.remove(pp),tn.trigger(this._element,kg),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!tn.trigger(this._element,hp).defaultPrevented&&(this._element.classList.add(pp),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(pp,Yd),tn.trigger(this._element,Ng)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Yd),super.dispose()}isShown(){return this._element.classList.contains(Yd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,a){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const v=l.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){tn.on(this._element,Og,l=>this._onInteraction(l,!0)),tn.on(this._element,dp,l=>this._onInteraction(l,!1)),tn.on(this._element,eu,l=>this._onInteraction(l,!0)),tn.on(this._element,qd,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const a=tu.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l](this)}})}}la(tu),Z(tu);var tf=F(1334),vi=F(4341);let a_=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(v,I){1&v&&(n.j41(0,"section",0)(1,"div",1)(2,"div",2),n.nrm(3,"i",3),n.j41(4,"p"),n.EFF(5),n.k0s()(),n.j41(6,"div",2),n.nrm(7,"i",4),n.j41(8,"p"),n.EFF(9),n.k0s()(),n.j41(10,"div",2),n.nrm(11,"i",5),n.j41(12,"p"),n.EFF(13),n.k0s()()()()),2&v&&(n.R7$(5),n.JRh(I.phoneNumber),n.R7$(4),n.JRh(I.address),n.R7$(4),n.JRh(I.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return g})();var Cy=F(3711);function Vg(g,l){if(1&g&&(n.j41(0,"div",5)(1,"p"),n.EFF(2),n.k0s()()),2&g){const a=n.XpG().$implicit;n.R7$(2),n.JRh(a.answer)}}function c_(g,l){if(1&g){const a=n.RV6();n.j41(0,"div",2)(1,"button",3),n.bIt("click",function(){const $=n.eBV(a).$implicit;return n.Njj($.open=!$.open)}),n.EFF(2),n.k0s(),n.DNE(3,Vg,3,1,"div",4),n.k0s()}if(2&g){const a=l.$implicit;n.R7$(2),n.SpI(" ",a.question," "),n.R7$(1),n.Y8G("ngIf",a.open)}}let nu=(()=>{class g{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(v,I){1&v&&(n.j41(0,"div",0)(1,"h2"),n.EFF(2,"Frequently Asked Questions (FAQs)"),n.k0s(),n.DNE(3,c_,4,2,"div",1),n.k0s()),2&v&&(n.R7$(3),n.Y8G("ngForOf",I.faqs))},dependencies:[W.Sq,W.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return g})();function gp(g,l){if(1&g&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Email"),n.k0s(),n.j41(3,"p")(4,"a",47),n.EFF(5),n.k0s()()()),2&g){const a=n.XpG(3);n.R7$(4),n.Mz_("href","mailto:",a.business.email,"",n.B4B),n.R7$(1),n.JRh(a.business.email)}}function l_(g,l){if(1&g&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.k0s()()),2&g){const a=n.XpG(3);n.R7$(4),n.JRh(a.business.fax)}}function Ug(g,l){if(1&g&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Social Media"),n.k0s(),n.j41(3,"p")(4,"a",47),n.EFF(5),n.k0s()()()),2&g){const a=n.XpG(3);n.R7$(4),n.FS9("href",a.business.socialMedia,n.B4B),n.R7$(1),n.JRh(a.business.socialMedia)}}function Ty(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"div",13)(2,"div",14)(3,"h1"),n.EFF(4,"Contact Us"),n.k0s(),n.j41(5,"div",15)(6,"p"),n.EFF(7,"We're here to answer any questions you have"),n.k0s()()()(),n.j41(8,"div",16)(9,"section",17)(10,"div",18),n.EFF(11,"Get in Touch"),n.k0s(),n.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),n.EFF(17,"Address"),n.k0s(),n.j41(18,"p"),n.EFF(19),n.k0s()(),n.j41(20,"div",22)(21,"h3"),n.EFF(22,"Phone"),n.k0s(),n.j41(23,"p"),n.EFF(24),n.k0s()(),n.DNE(25,gp,6,2,"div",23),n.DNE(26,l_,5,1,"div",23),n.DNE(27,Ug,6,2,"div",23),n.j41(28,"div")(29,"h3"),n.EFF(30,"Visitation Hours"),n.k0s(),n.nrm(31,"div",24),n.k0s()()(),n.j41(32,"div",25)(33,"div",26),n.nrm(34,"img",27),n.k0s()()()(),n.j41(35,"section",28)(36,"div",18),n.EFF(37,"Send Us a Message"),n.k0s(),n.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),n.EFF(42,"How can we help?"),n.k0s(),n.j41(43,"p",33),n.EFF(44," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),n.k0s()()(),n.j41(45,"div",34)(46,"form",35,36),n.bIt("ngSubmit",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.onSubmit())}),n.j41(48,"div",37)(49,"label",38),n.EFF(50,"Name"),n.k0s(),n.j41(51,"input",39),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.name=I)}),n.k0s()(),n.j41(52,"div",37)(53,"label",40),n.EFF(54,"Email"),n.k0s(),n.j41(55,"input",41),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.email=I)}),n.k0s()(),n.j41(56,"div",37)(57,"label",42),n.EFF(58,"Message"),n.k0s(),n.j41(59,"textarea",43),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.message=I)}),n.k0s()(),n.j41(60,"button",44),n.EFF(61," Send "),n.k0s()()()()(),n.nrm(62,"app-information",45)(63,"app-google-maps",46),n.k0s(),n.nrm(64,"app-faq"),n.bVm()}if(2&g){const a=n.sdS(47),v=n.XpG(2);n.R7$(19),n.JRh(v.business.address),n.R7$(5),n.JRh(v.business.phone),n.R7$(1),n.Y8G("ngIf",v.business.email),n.R7$(1),n.Y8G("ngIf",v.business.fax),n.R7$(1),n.Y8G("ngIf",v.business.socialMedia),n.R7$(4),n.Y8G("innerHTML",v.sanitizedBusinessHours,n.npT),n.R7$(3),n.Y8G("src",v.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",n.B4B),n.R7$(17),n.Y8G("ngModel",v.formData.name),n.R7$(4),n.Y8G("ngModel",v.formData.email),n.R7$(4),n.Y8G("ngModel",v.formData.message),n.R7$(1),n.Y8G("disabled",!a.form.valid),n.R7$(2),n.Y8G("phoneNumber",v.business.phone)("address",v.business.address)("email",v.business.email),n.R7$(1),n.Y8G("address",v.business.address||"")("layoutType",v.business.theme.themeType||"demo")}}function Xd(g,l){if(1&g&&(n.j41(0,"div",51)(1,"p")(2,"a",47),n.EFF(3),n.k0s()()()),2&g){const a=n.XpG(3);n.R7$(2),n.Mz_("href","mailto:",a.business.email,"",n.B4B),n.R7$(1),n.JRh(a.business.email)}}function jg(g,l){if(1&g&&(n.j41(0,"div",62)(1,"a",63),n.nrm(2,"i",64),n.k0s()()),2&g){const a=n.XpG(3);n.R7$(1),n.FS9("href",a.business.socialMedia,n.B4B)}}function mp(g,l){if(1&g){const a=n.RV6();n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",48)(3,"div",49)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,Xd,4,2,"div",50),n.j41(7,"div",51)(8,"p"),n.EFF(9),n.k0s()(),n.j41(10,"div",51)(11,"p"),n.EFF(12),n.k0s()(),n.DNE(13,jg,3,1,"div",52),n.k0s(),n.j41(14,"div",53)(15,"form",54),n.bIt("submit",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.onSubmit())}),n.j41(16,"div",37)(17,"label",55),n.EFF(18,"Name "),n.j41(19,"span"),n.EFF(20,"(required)"),n.k0s()(),n.j41(21,"div",56)(22,"input",57),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.name=I)}),n.k0s()()(),n.j41(23,"div",37)(24,"label",40),n.EFF(25,"Email "),n.j41(26,"span"),n.EFF(27,"(required)"),n.k0s()(),n.j41(28,"input",58),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.email=I)}),n.k0s()(),n.j41(29,"div",37)(30,"label",42),n.EFF(31,"Message "),n.j41(32,"span"),n.EFF(33,"(required)"),n.k0s()(),n.j41(34,"textarea",59),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.message=I)}),n.k0s()(),n.j41(35,"button",60),n.EFF(36,"Send"),n.k0s()()()(),n.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),n.EFF(41,"Visitation Hours"),n.k0s(),n.nrm(42,"div",24),n.k0s()(),n.j41(43,"div",61),n.nrm(44,"app-google-maps",46),n.k0s()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(6),n.Y8G("ngIf",a.business.email),n.R7$(3),n.JRh(a.business.phone),n.R7$(3),n.JRh(a.business.address),n.R7$(1),n.Y8G("ngIf",a.business.socialMedia),n.R7$(9),n.Y8G("ngModel",a.formData.name),n.R7$(6),n.Y8G("ngModel",a.formData.email),n.R7$(6),n.Y8G("ngModel",a.formData.message),n.R7$(8),n.Y8G("innerHTML",a.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function u_(g,l){if(1&g&&(n.j41(0,"div",51)(1,"p")(2,"a",47),n.EFF(3),n.k0s()()()),2&g){const a=n.XpG(3);n.R7$(2),n.Mz_("href","mailto:",a.business.email,"",n.B4B),n.R7$(1),n.JRh(a.business.email)}}function _p(g,l){if(1&g&&(n.j41(0,"div",62)(1,"a",63),n.nrm(2,"i",64),n.k0s()()),2&g){const a=n.XpG(3);n.R7$(1),n.FS9("href",a.business.socialMedia,n.B4B)}}function Bg(g,l){if(1&g){const a=n.RV6();n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",48)(3,"div",49)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,u_,4,2,"div",50),n.j41(7,"div",51)(8,"p"),n.EFF(9),n.k0s()(),n.j41(10,"div",51)(11,"p"),n.EFF(12),n.k0s()(),n.DNE(13,_p,3,1,"div",52),n.k0s(),n.j41(14,"div",53)(15,"form",54),n.bIt("submit",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.onSubmit())}),n.j41(16,"div",37)(17,"label",55),n.EFF(18,"Name "),n.j41(19,"span"),n.EFF(20,"(required)"),n.k0s()(),n.j41(21,"div",56)(22,"input",57),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.name=I)}),n.k0s()()(),n.j41(23,"div",37)(24,"label",40),n.EFF(25,"Email "),n.j41(26,"span"),n.EFF(27,"(required)"),n.k0s()(),n.j41(28,"input",58),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.email=I)}),n.k0s()(),n.j41(29,"div",37)(30,"label",42),n.EFF(31,"Message "),n.j41(32,"span"),n.EFF(33,"(required)"),n.k0s()(),n.j41(34,"textarea",59),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.message=I)}),n.k0s()(),n.j41(35,"button",60),n.EFF(36,"Send"),n.k0s()()()(),n.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),n.EFF(41,"Visitation Hours"),n.k0s(),n.nrm(42,"div",24),n.k0s()(),n.j41(43,"div",61),n.nrm(44,"app-google-maps",46),n.k0s()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(6),n.Y8G("ngIf",a.business.email),n.R7$(3),n.JRh(a.business.phone),n.R7$(3),n.JRh(a.business.address),n.R7$(1),n.Y8G("ngIf",a.business.socialMedia),n.R7$(9),n.Y8G("ngModel",a.formData.name),n.R7$(6),n.Y8G("ngModel",a.formData.email),n.R7$(6),n.Y8G("ngModel",a.formData.message),n.R7$(8),n.Y8G("innerHTML",a.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function yp(g,l){if(1&g&&(n.j41(0,"div",51)(1,"p")(2,"a",47),n.EFF(3),n.k0s()()()),2&g){const a=n.XpG(3);n.R7$(2),n.Mz_("href","mailto:",a.business.email,"",n.B4B),n.R7$(1),n.JRh(a.business.email)}}function vp(g,l){if(1&g&&(n.j41(0,"div",62)(1,"a",63),n.nrm(2,"i",64),n.k0s()()),2&g){const a=n.XpG(3);n.R7$(1),n.FS9("href",a.business.socialMedia,n.B4B)}}function Wu(g,l){if(1&g){const a=n.RV6();n.qex(0),n.nrm(1,"app-hero",65),n.j41(2,"div",48)(3,"div",49)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,yp,4,2,"div",50),n.j41(7,"div",51)(8,"p"),n.EFF(9),n.k0s()(),n.j41(10,"div",51)(11,"p"),n.EFF(12),n.k0s()(),n.DNE(13,vp,3,1,"div",52),n.k0s(),n.j41(14,"div",53)(15,"form",54),n.bIt("submit",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.onSubmit())}),n.j41(16,"div",37)(17,"label",55),n.EFF(18,"Name "),n.j41(19,"span"),n.EFF(20,"(required)"),n.k0s()(),n.j41(21,"div",56)(22,"input",57),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.name=I)}),n.k0s()()(),n.j41(23,"div",37)(24,"label",40),n.EFF(25,"Email "),n.j41(26,"span"),n.EFF(27,"(required)"),n.k0s()(),n.j41(28,"input",58),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.email=I)}),n.k0s()(),n.j41(29,"div",37)(30,"label",42),n.EFF(31,"Message "),n.j41(32,"span"),n.EFF(33,"(required)"),n.k0s()(),n.j41(34,"textarea",59),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.message=I)}),n.k0s()(),n.j41(35,"button",66),n.EFF(36,"Send"),n.k0s()()()(),n.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),n.EFF(41,"Hours"),n.k0s(),n.nrm(42,"div",24),n.k0s()(),n.j41(43,"div",61),n.nrm(44,"app-google-maps",46),n.k0s()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(1),n.Y8G("layoutType","sb"),n.R7$(5),n.Y8G("ngIf",a.business.email),n.R7$(3),n.JRh(a.business.phone),n.R7$(3),n.JRh(a.business.address),n.R7$(1),n.Y8G("ngIf",a.business.socialMedia),n.R7$(9),n.Y8G("ngModel",a.formData.name),n.R7$(6),n.Y8G("ngModel",a.formData.email),n.R7$(6),n.Y8G("ngModel",a.formData.message),n.R7$(8),n.Y8G("innerHTML",a.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function $g(g,l){if(1&g&&(n.j41(0,"div",51)(1,"p")(2,"a",47),n.EFF(3),n.k0s()()()),2&g){const a=n.XpG(3);n.R7$(2),n.Mz_("href","mailto:",a.business.email,"",n.B4B),n.R7$(1),n.JRh(a.business.email)}}function nf(g,l){if(1&g&&(n.j41(0,"div",62)(1,"a",63),n.nrm(2,"i",64),n.k0s()()),2&g){const a=n.XpG(3);n.R7$(1),n.FS9("href",a.business.socialMedia,n.B4B)}}function rf(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"div",48)(2,"div",49)(3,"h2"),n.EFF(4,"Contact us"),n.k0s(),n.DNE(5,$g,4,2,"div",50),n.j41(6,"div",51)(7,"p"),n.EFF(8),n.k0s()(),n.j41(9,"div",51)(10,"p"),n.EFF(11),n.k0s()(),n.DNE(12,nf,3,1,"div",52),n.k0s(),n.j41(13,"div",53)(14,"form",54),n.bIt("submit",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.onSubmit())}),n.j41(15,"div",37)(16,"label",55),n.EFF(17,"Name "),n.j41(18,"span"),n.EFF(19,"(required)"),n.k0s()(),n.j41(20,"div",56)(21,"input",57),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.name=I)}),n.k0s()()(),n.j41(22,"div",37)(23,"label",40),n.EFF(24,"Email "),n.j41(25,"span"),n.EFF(26,"(required)"),n.k0s()(),n.j41(27,"input",58),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.email=I)}),n.k0s()(),n.j41(28,"div",37)(29,"label",42),n.EFF(30,"Message "),n.j41(31,"span"),n.EFF(32,"(required)"),n.k0s()(),n.j41(33,"textarea",59),n.bIt("ngModelChange",function(I){n.eBV(a);const $=n.XpG(2);return n.Njj($.formData.message=I)}),n.k0s()(),n.j41(34,"button",60),n.EFF(35,"Send"),n.k0s()()()(),n.j41(36,"div",48)(37,"div",49)(38,"div"),n.nrm(39,"div",24),n.k0s()(),n.j41(40,"div",61),n.nrm(41,"app-google-maps",46),n.k0s()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(5),n.Y8G("ngIf",a.business.email),n.R7$(3),n.JRh(a.business.phone),n.R7$(3),n.JRh(a.business.address),n.R7$(1),n.Y8G("ngIf",a.business.socialMedia),n.R7$(9),n.Y8G("ngModel",a.formData.name),n.R7$(6),n.Y8G("ngModel",a.formData.email),n.R7$(6),n.Y8G("ngModel",a.formData.message),n.R7$(6),n.Y8G("innerHTML",a.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function d_(g,l){if(1&g&&(n.j41(0,"div")(1,"div",1),n.DNE(2,Ty,65,16,"ng-container",2),n.DNE(3,mp,45,10,"ng-container",2),n.DNE(4,Bg,45,10,"ng-container",2),n.DNE(5,Wu,45,11,"ng-container",2),n.DNE(6,rf,42,10,"ng-container",3),n.k0s(),n.j41(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),n.EFF(12),n.k0s(),n.nrm(13,"button",9),n.k0s(),n.j41(14,"div",10),n.EFF(15),n.k0s(),n.j41(16,"div",11)(17,"button",12),n.EFF(18," Close "),n.k0s()()()()()()),2&g){const a=n.XpG();n.R7$(1),n.Y8G("ngSwitch",a.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(7),n.JRh(a.modalTitle),n.R7$(3),n.SpI(" ",a.modalMessage," ")}}let sf=(()=>{class g{constructor(a,v,I,$,ne,de,Le,ct){this.sanitizer=a,this.businessDataService=v,this.webContent=I,this.route=$,this.http=ne,this.emailService=de,this.router=Le,this.metaService=ct,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const a=document.getElementById("responseModal");a?this.responseModal=new dl(a):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(a=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},a=>{console.error("Error sending email",a),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(a){const v=a.split(".");return v.length>2?v.slice(-2).join("."):a}showModal(){this.responseModal&&this.responseModal.show()}navigateTo(a){this.router.navigate(["/"+a],{queryParams:{id:this.business?.id}})}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(p.up),n.rXU(ke.A),n.rXU(Te.N),n.rXU(pe.nX),n.rXU(Ce.Qq),n.rXU(tf._),n.rXU(pe.Ix),n.rXU(Ne.R))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(v,I){1&v&&n.DNE(0,d_,19,7,"div",0),2&v&&n.Y8G("ngIf",I.business)},dependencies:[W.bT,W.ux,W.e1,W.fG,vi.qT,vi.me,vi.BC,vi.cb,vi.YS,vi.vS,vi.cV,a_,fe,Cy.a,nu],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}.btnSBSend[_ngcontent-%COMP%]{display:inline-block;min-width:180px;padding:.4em;height:45px;text-align:center;color:#fff;letter-spacing:1px;margin:20px 0 0;font-size:1.125rem;background-color:var(--dark-background-color);transition:.5s;border:1px solid var(--primary-color)}"]})}}return g})();var af=F(467),Gg=F(8455),h_=F(214),Hg=F(3739);let Iy=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(v,I){1&v&&(n.nrm(0,"app-section-tilte",0),n.j41(1,"div",1),n.nrm(2,"iframe",2),n.k0s()),2&v&&n.Y8G("title","Virtual Tour")},dependencies:[At.L],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return g})();function zg(g,l){if(1&g&&(n.j41(0,"section",17),n.nrm(1,"div",18),n.j41(2,"div"),n.nrm(3,"p",19),n.k0s()()),2&g){const a=l.ngIf;n.R7$(1),n.Y8G("innerHTML",a.sectionTitle,n.npT),n.R7$(2),n.Y8G("innerHTML",a.sectionContent,n.npT)}}function Ep(g,l){if(1&g){const a=n.RV6();n.j41(0,"div",20),n.bIt("click",function(){const $=n.eBV(a).$implicit,ne=n.XpG(3);return n.Njj(ne.onImageClick($.url))}),n.nrm(1,"img",21),n.k0s()}if(2&g){const a=l.$implicit;n.R7$(1),n.Y8G("src",a.url,n.B4B)}}function bp(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"div",5)(2,"div",6)(3,"h1"),n.EFF(4,"Our Home"),n.k0s(),n.j41(5,"div",7)(6,"p"),n.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),n.k0s()()()(),n.j41(8,"div",8),n.DNE(9,zg,4,2,"section",9),n.nI1(10,"sectionFilter"),n.j41(11,"section",10)(12,"div",11),n.EFF(13,"Explore Our Gallery"),n.k0s(),n.j41(14,"div",12),n.DNE(15,Ep,2,1,"div",13),n.k0s()(),n.j41(16,"div",14)(17,"div",15)(18,"h2"),n.EFF(19,"Come Meet Our Family"),n.k0s(),n.j41(20,"p"),n.EFF(21,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),n.k0s(),n.j41(22,"button",16),n.bIt("click",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.navigateToContact(I.business.id))}),n.EFF(23,"Schedule a Visit"),n.k0s()()()(),n.bVm()}if(2&g){const a=n.XpG(2);n.R7$(9),n.Y8G("ngIf",n.i5U(10,2,null==a.business?null:a.business.sections,"GalleryCenterTop")),n.R7$(6),n.Y8G("ngForOf",a.images)}}function ml(g,l){if(1&g&&n.nrm(0,"app-center-text",27),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")("showBtn",!1)}}function Cp(g,l){if(1&g){const a=n.RV6();n.j41(0,"div",20),n.bIt("click",function(){const $=n.eBV(a).$implicit,ne=n.XpG(3);return n.Njj(ne.onImageClick($.url))}),n.nrm(1,"img",21),n.k0s()}if(2&g){const a=l.$implicit;n.R7$(1),n.Y8G("src",a.url,n.B4B)}}function ru(g,l){if(1&g){const a=n.RV6();n.j41(0,"div",20),n.bIt("click",function(){const $=n.eBV(a).$implicit,ne=n.XpG(3);return n.Njj(ne.onImageClick($.url))}),n.nrm(1,"img",28),n.k0s()}if(2&g){const a=l.$implicit;n.R7$(1),n.Y8G("src",a.url,n.B4B)}}function wy(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero"),n.DNE(2,ml,1,5,"app-center-text",22),n.nI1(3,"sectionFilter"),n.j41(4,"section",23)(5,"div",11),n.nrm(6,"app-section-tilte",24),n.k0s(),n.j41(7,"div",25),n.DNE(8,Cp,2,1,"div",13),n.k0s()(),n.j41(9,"section",23)(10,"div",11),n.nrm(11,"app-section-tilte",24),n.k0s(),n.j41(12,"div",25),n.DNE(13,ru,2,1,"div",13),n.k0s()(),n.nrm(14,"app-testimonial-image",26),n.bVm()),2&g){const a=n.XpG(2);n.R7$(2),n.Y8G("ngIf",n.i5U(3,8,null==a.business?null:a.business.sections,"GalleryCenterTop")),n.R7$(4),n.Y8G("title","Gallery"),n.R7$(2),n.Y8G("ngForOf",a.images),n.R7$(3),n.Y8G("title","Lifestyle Images"),n.R7$(2),n.Y8G("ngForOf",a.lifeStyleImages),n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[5].quote)}}function Wg(g,l){if(1&g&&n.nrm(0,"app-center-text",27),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")("showBtn",!1)}}function iu(g,l){if(1&g){const a=n.RV6();n.j41(0,"div",20),n.bIt("click",function(){const $=n.eBV(a).$implicit,ne=n.XpG(3);return n.Njj(ne.onImageClick($.url))}),n.nrm(1,"img",21),n.k0s()}if(2&g){const a=l.$implicit;n.R7$(1),n.Y8G("src",a.url,n.B4B)}}function Kg(g,l){if(1&g){const a=n.RV6();n.j41(0,"div",20),n.bIt("click",function(){const $=n.eBV(a).$implicit,ne=n.XpG(3);return n.Njj(ne.onImageClick($.url))}),n.nrm(1,"img",28),n.k0s()}if(2&g){const a=l.$implicit;n.R7$(1),n.Y8G("src",a.url,n.B4B)}}function qg(g,l){1&g&&n.nrm(0,"app-tour-3-d")}function Yg(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero"),n.DNE(2,Wg,1,5,"app-center-text",22),n.nI1(3,"sectionFilter"),n.j41(4,"section",23)(5,"div",11),n.nrm(6,"app-section-tilte",24),n.k0s(),n.j41(7,"div",25),n.DNE(8,iu,2,1,"div",13),n.k0s()(),n.j41(9,"section",23)(10,"div",11),n.nrm(11,"app-section-tilte",24),n.k0s(),n.j41(12,"div",25),n.DNE(13,Kg,2,1,"div",13),n.k0s()(),n.DNE(14,qg,1,0,"app-tour-3-d",0),n.nrm(15,"app-testimonial-image",26),n.bVm()),2&g){const a=n.XpG(2);n.R7$(2),n.Y8G("ngIf",n.i5U(3,9,null==a.business?null:a.business.sections,"GalleryCenterTop")),n.R7$(4),n.Y8G("title","Gallery"),n.R7$(2),n.Y8G("ngForOf",a.images),n.R7$(3),n.Y8G("title","Lifestyle Images"),n.R7$(2),n.Y8G("ngForOf",a.lifeStyleImages),n.R7$(1),n.Y8G("ngIf","clemo"===(null==a.business||null==a.business.theme?null:a.business.theme.themeType)),n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[4].quote)}}function Qd(g,l){if(1&g&&n.nrm(0,"app-center-text",27),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")("showBtn",!1)}}function Tp(g,l){if(1&g&&(n.j41(0,"a",34),n.EFF(1),n.k0s()),2&g){const a=n.XpG(2).$implicit;n.FS9("href",a.link,n.B4B),n.R7$(1),n.JRh(a.title)}}function cf(g,l){if(1&g&&(n.j41(0,"div",32)(1,"p"),n.DNE(2,Tp,2,2,"a",33),n.k0s()()),2&g){const a=n.XpG().$implicit;n.R7$(2),n.Y8G("ngIf",a.link)}}function f_(g,l){if(1&g){const a=n.RV6();n.j41(0,"div",20),n.bIt("click",function(){const $=n.eBV(a).$implicit,ne=n.XpG(3);return n.Njj(ne.onImageClick($.url))}),n.nrm(1,"img",30),n.DNE(2,cf,3,1,"div",31),n.k0s()}if(2&g){const a=l.$implicit;n.R7$(1),n.FS9("alt",a.title),n.Y8G("src",a.url,n.B4B),n.R7$(1),n.Y8G("ngIf",a.title)}}function Ip(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero",29),n.DNE(2,Qd,1,5,"app-center-text",22),n.nI1(3,"sectionFilter"),n.j41(4,"section",23)(5,"div",11),n.nrm(6,"app-section-tilte",24),n.k0s(),n.j41(7,"div",25),n.DNE(8,f_,3,3,"div",13),n.k0s()(),n.bVm()),2&g){const a=n.XpG(2);n.R7$(1),n.Y8G("layoutType","sb"),n.R7$(1),n.Y8G("ngIf",n.i5U(3,4,null==a.business?null:a.business.sections,"GalleryCenterTop")),n.R7$(4),n.Y8G("title","Small Business Websites Gallery"),n.R7$(2),n.Y8G("ngForOf",a.images)}}function p_(g,l){if(1&g&&n.nrm(0,"app-center-text",27),2&g){const a=l.ngIf,v=n.XpG(3);n.Y8G("themeType",v.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")("showBtn",!1)}}function _l(g,l){if(1&g){const a=n.RV6();n.j41(0,"div",20),n.bIt("click",function(){const $=n.eBV(a).$implicit,ne=n.XpG(3);return n.Njj(ne.onImageClick($.url))}),n.nrm(1,"img",21),n.k0s()}if(2&g){const a=l.$implicit;n.R7$(1),n.Y8G("src",a.url,n.B4B)}}function Ay(g,l){if(1&g&&(n.qex(0),n.nrm(1,"app-hero"),n.DNE(2,p_,1,5,"app-center-text",22),n.nI1(3,"sectionFilter"),n.j41(4,"section",10)(5,"div",11)(6,"h2"),n.EFF(7,"Explore Our Gallery"),n.k0s()(),n.j41(8,"div",12),n.DNE(9,_l,2,1,"div",13),n.k0s()(),n.bVm()),2&g){const a=n.XpG(2);n.R7$(2),n.Y8G("ngIf",n.i5U(3,2,null==a.business?null:a.business.sections,"GalleryCenterTop")),n.R7$(7),n.Y8G("ngForOf",a.images)}}function Xg(g,l){if(1&g){const a=n.RV6();n.j41(0,"app-image-viewer-modal",35),n.bIt("closeModal",function(){n.eBV(a);const I=n.XpG(2);return n.Njj(I.onCloseModal())}),n.k0s()}if(2&g){const a=n.XpG(2);n.Y8G("imageUrl",a.selectedImageUrl)}}function g_(g,l){if(1&g&&(n.j41(0,"div")(1,"div",1),n.DNE(2,bp,24,5,"ng-container",2),n.DNE(3,wy,15,11,"ng-container",2),n.DNE(4,Yg,16,12,"ng-container",2),n.DNE(5,Ip,9,7,"ng-container",2),n.DNE(6,Ay,10,5,"ng-container",3),n.DNE(7,Xg,1,1,"app-image-viewer-modal",4),n.k0s()()),2&g){const a=n.XpG();n.R7$(1),n.Y8G("ngSwitch",a.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(2),n.Y8G("ngIf",a.selectedImageUrl)}}let Qg=(()=>{class g{constructor(a,v,I,$,ne){this.businessDataService=a,this.route=v,this.webContent=I,this.metaService=$,this.router=ne,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.layoutType=a?.theme.themeType||"",a?.id&&(this.businessId=a.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var a=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:I,target:$})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,I).pipe((0,st.n)(ne=>{console.log(`Raw Firestore images for ${I}:`,ne);const de=ne.map(function(){var Le=(0,af.A)(function*(ct){return(yield a.webContent.checkImageExists(ct.url))?ct:null});return function(ct){return Le.apply(this,arguments)}}());return(0,Gg.H)(Promise.all(de))}),(0,ve.T)(ne=>ne.filter(de=>null!==de)),(0,ve.T)(ne=>(console.log(`Filtered images for ${$}:`,ne),ne.map(de=>({url:de.url,title:de.title||"No Title",description:de.description||"No Description",link:de.link||"No Link",order:isNaN(Number(de.order))?999:Number(de.order)})).sort((de,Le)=>de.order-Le.order)))).subscribe(ne=>{console.log(`Sorted images for ${$}:`,ne),this[$]||(this[$]=[]),this[$]=ne})})}onImageClick(a){this.selectedImageUrl=a}onCloseModal(){this.selectedImageUrl=null}navigateToContact(a){this.router.navigate(["/contact-us"],{queryParams:{id:a}})}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(ke.A),n.rXU(pe.nX),n.rXU(Te.N),n.rXU(Ne.R),n.rXU(pe.Ix))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","home-description",4,"ngIf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"home-description"],[1,"section-heading",3,"innerHTML"],[3,"innerHTML"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],[3,"themeType","imageURL","title","content","showBtn"],["alt","Lifestyle Image",3,"src"],[3,"layoutType"],["alt","Gallery Image",3,"src","alt"],["class","image-info",4,"ngIf"],[1,"image-info"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[3,"imageUrl","closeModal"]],template:function(v,I){1&v&&n.DNE(0,g_,8,6,"div",0),2&v&&n.Y8G("ngIf",I.business)},dependencies:[W.Sq,W.bT,W.ux,W.e1,W.fG,h_.W,Hg.W,fe,Je,At.L,Iy,on.W],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%], .ae-gallery-item[_ngcontent-%COMP%]{overflow:visible!important;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;width:300px;height:200px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:200px;object-fit:cover;object-position:top;overflow:hidden;display:block;border-radius:8px}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{border-radius:8px;padding:40px 120px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block;position:relative;z-index:1}.image-info[_ngcontent-%COMP%]{position:relative;z-index:2}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.image-info[_ngcontent-%COMP%]{color:#000;background:rgba(255,255,255,.8);padding:10px;text-align:center;width:100%}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return g})();var Jg=F(4796);function yl(g,l){if(1&g&&(n.j41(0,"div",11),n.EFF(1),n.k0s()),2&g){const a=n.XpG();n.R7$(1),n.JRh(a.errorMessage)}}let Ku=(()=>{class g{constructor(a,v){this.authService=a,this.router=v,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(a=>{this.errorMessage=a.message})}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(Jg.u),n.rXU(pe.Ix))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(v,I){1&v&&(n.j41(0,"div",0)(1,"div",1)(2,"h2",2),n.EFF(3,"Login"),n.k0s(),n.j41(4,"form",3),n.bIt("submit",function(){return I.login()}),n.j41(5,"div",4)(6,"label",5),n.EFF(7,"Email"),n.k0s(),n.j41(8,"input",6),n.bIt("ngModelChange",function(ne){return I.email=ne}),n.k0s()(),n.j41(9,"div",4)(10,"label",7),n.EFF(11,"Password"),n.k0s(),n.j41(12,"input",8),n.bIt("ngModelChange",function(ne){return I.password=ne}),n.k0s()(),n.j41(13,"button",9),n.EFF(14,"Login"),n.k0s(),n.DNE(15,yl,2,1,"div",10),n.k0s()()()),2&v&&(n.R7$(8),n.Y8G("ngModel",I.email),n.R7$(4),n.Y8G("ngModel",I.password),n.R7$(3),n.Y8G("ngIf",I.errorMessage))},dependencies:[W.bT,vi.qT,vi.me,vi.BC,vi.cb,vi.YS,vi.vS,vi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return g})();var Zg=F(1985),m_=F(6340);let em=(()=>{class g{constructor(a){this.afs=a,this.basePath="businesses"}saveIntakeForm(a,v){const I=this.afs.createId(),$=this.afs.collection(`${this.basePath}/${v}/intake`).doc(I);return new Zg.c(ne=>{$.set(a).then(()=>{ne.next(a),ne.complete()}).catch(de=>{console.error("Error saving intake form data",de),ne.error(de)})})}getIntakeForms(a){return this.afs.collection(`${this.basePath}/${a}/intake`).snapshotChanges().pipe((0,ve.T)(v=>v.map(I=>{const $=I.payload.doc.data();return{id:I.payload.doc.id,...$}})))}getIntakeForm(a,v){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(v).valueChanges().pipe((0,ve.T)(I=>I||void 0))}updateIntakeForm(a,v,I){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(v).update(I)}deleteIntakeForm(a,v){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(v).delete()}static{this.\u0275fac=function(v){return new(v||g)(n.KVO(m_.Qe))}}static{this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function tm(g,l){if(1&g&&(n.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),n.EFF(3),n.k0s()(),n.j41(4,"div",6)(5,"p"),n.EFF(6),n.k0s()()()),2&g){const a=l.$implicit;n.R7$(3),n.SpI('"',a.quote,'"'),n.R7$(3),n.JRh(a.name)}}function Dy(g,l){if(1&g&&(n.j41(0,"div",2),n.DNE(1,tm,7,2,"div",3),n.k0s()),2&g){const a=n.XpG();n.R7$(1),n.Y8G("ngForOf",a.testimonials)}}const Sy=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ye.B},{path:"about-us",component:Ht},{path:"services",component:Cn},{path:"contact-us",component:sf},{path:"gallery",component:Qg},{path:"login",component:Ku},{path:"resident-form",component:(()=>{class g{constructor(a,v,I,$,ne){this.fb=a,this.intakeService=v,this.businessDataService=I,this.emailService=$,this.metaService=ne,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",vi.k0.required],email:["",[vi.k0.required,vi.k0.email]],phoneNumber:["",vi.k0.required],referralSource:["",vi.k0.required],relationToResident:[""],residentName:["",vi.k0.required],age:["",vi.k0.required],gender:["",vi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const a=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(a,this.businessId).subscribe(I=>{console.log("Intake form saved successfully!",I)},I=>{console.error("Error saving intake form:",I)});const v={name:a.name,email:a.email,message:this.generateEmailMessage(a),website:window.location.hostname};this.emailService.sendEmail(v).subscribe(I=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},I=>{console.error("Error sending email",I),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(a){return`\n      Name: ${a.name}\n      Email: ${a.email}\n      Phone Number: ${a.phoneNumber}\n      Referral Source: ${a.referralSource}\n      Relation to Resident: ${a.relationToResident}\n      Resident Name: ${a.residentName}\n      Age: ${a.age}\n      Gender: ${a.gender}\n      Medical History: ${a.medicalHistory}\n      Height: ${a.height}\n      Weight: ${a.weight}\n      Reason for Moving: ${a.reasonForMoving}\n      RN Assessment: ${a.rnAssessment}\n      Eating: ${a.eating}\n      Personal Hygiene: ${a.personalHygiene}\n      Bathing: ${a.bathing}\n      Toileting: ${a.toileting}\n      Mobility: ${a.mobility}\n      Transfers: ${a.transfers}\n      Medication Assistance: ${a.medicationAssistance}\n      Memory Issues: ${a.memoryIssues}\n      Behavior: ${a.behavior}\n      Skin Condition: ${a.skinCondition}\n      Additional Info: ${a.additionalInfo}\n      Current Living Situation: ${a.currentLivingSituation}\n      Target Move-In Date: ${a.targetMoveInDate}\n      Disclosure Summary: ${a.disclosureSummary}\n      Questions: ${a.questions}\n    `}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(vi.ok),n.rXU(em),n.rXU(ke.A),n.rXU(tf._),n.rXU(Ne.R))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(v,I){1&v&&(n.nrm(0,"app-hero"),n.j41(1,"form",0),n.bIt("ngSubmit",function(){return I.onSubmit()}),n.j41(2,"div",1)(3,"h2"),n.EFF(4,"Personal Information"),n.k0s(),n.j41(5,"label",2),n.EFF(6,"Name *"),n.k0s(),n.nrm(7,"input",3),n.j41(8,"label",4),n.EFF(9,"Email *"),n.k0s(),n.nrm(10,"input",5),n.j41(11,"label",6),n.EFF(12,"Phone number *"),n.k0s(),n.nrm(13,"input",7),n.k0s(),n.j41(14,"div",1)(15,"h2"),n.EFF(16,"Referral Source"),n.k0s(),n.j41(17,"label",8),n.EFF(18,"How did you find out about us? *"),n.k0s(),n.j41(19,"select",9)(20,"option",10),n.EFF(21,"Google"),n.k0s(),n.j41(22,"option",11),n.EFF(23,"Facebook"),n.k0s(),n.j41(24,"option",12),n.EFF(25,"Placement Agency"),n.k0s(),n.j41(26,"option",13),n.EFF(27,"Friends and/or Family"),n.k0s(),n.j41(28,"option",14),n.EFF(29,"Other"),n.k0s()(),n.j41(30,"label",15),n.EFF(31,"What is your relation to the resident? *"),n.k0s(),n.nrm(32,"input",16),n.k0s(),n.j41(33,"div",1)(34,"h2"),n.EFF(35,"Resident Information"),n.k0s(),n.j41(36,"label",17),n.EFF(37,"Resident's name *"),n.k0s(),n.nrm(38,"input",18),n.j41(39,"label",19),n.EFF(40,"Age *"),n.k0s(),n.nrm(41,"input",20),n.j41(42,"label",21),n.EFF(43,"Gender *"),n.k0s(),n.j41(44,"select",22)(45,"option",23),n.EFF(46,"Male"),n.k0s(),n.j41(47,"option",24),n.EFF(48,"Female"),n.k0s(),n.j41(49,"option",25),n.EFF(50,"Prefer not to say"),n.k0s(),n.j41(51,"option",14),n.EFF(52,"Other"),n.k0s()()(),n.j41(53,"div",1)(54,"h2"),n.EFF(55,"Medical History"),n.k0s(),n.j41(56,"label",26),n.EFF(57,"Relevant medical and surgical history *"),n.k0s(),n.nrm(58,"textarea",27),n.j41(59,"label",28),n.EFF(60,"Height *"),n.k0s(),n.nrm(61,"input",29),n.j41(62,"label",30),n.EFF(63,"Weight *"),n.k0s(),n.nrm(64,"input",31),n.j41(65,"label",32),n.EFF(66,"Reason for moving to an adult family home *"),n.k0s(),n.nrm(67,"textarea",33),n.j41(68,"label",34),n.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),n.k0s(),n.j41(70,"select",35)(71,"option",36),n.EFF(72,"Yes"),n.k0s(),n.j41(73,"option",37),n.EFF(74,"No"),n.k0s()()(),n.j41(75,"div",1)(76,"h2"),n.EFF(77,"Care Levels"),n.k0s(),n.j41(78,"label",38),n.EFF(79,"Eating *"),n.k0s(),n.j41(80,"select",39)(81,"option",40),n.EFF(82,"Independent"),n.k0s(),n.j41(83,"option",41),n.EFF(84,"Needing Assistance"),n.k0s(),n.j41(85,"option",42),n.EFF(86,"Dependent"),n.k0s()(),n.j41(87,"label",43),n.EFF(88,"Personal Hygiene *"),n.k0s(),n.j41(89,"select",44)(90,"option",40),n.EFF(91,"Independent"),n.k0s(),n.j41(92,"option",41),n.EFF(93,"Needing Assistance"),n.k0s(),n.j41(94,"option",42),n.EFF(95,"Dependent"),n.k0s()(),n.j41(96,"label",45),n.EFF(97,"Bathing *"),n.k0s(),n.j41(98,"select",46)(99,"option",40),n.EFF(100,"Independent"),n.k0s(),n.j41(101,"option",41),n.EFF(102,"Needing Assistance"),n.k0s(),n.j41(103,"option",42),n.EFF(104,"Dependent"),n.k0s()(),n.j41(105,"label",47),n.EFF(106,"Toileting *"),n.k0s(),n.j41(107,"select",48)(108,"option",40),n.EFF(109,"Independent"),n.k0s(),n.j41(110,"option",41),n.EFF(111,"Needing Assistance"),n.k0s(),n.j41(112,"option",42),n.EFF(113,"Dependent"),n.k0s()(),n.j41(114,"label",49),n.EFF(115,"Mobility *"),n.k0s(),n.j41(116,"select",50)(117,"option",40),n.EFF(118,"Independent"),n.k0s(),n.j41(119,"option",41),n.EFF(120,"Needing Assistance"),n.k0s(),n.j41(121,"option",42),n.EFF(122,"Dependent"),n.k0s()(),n.j41(123,"label",51),n.EFF(124,"Transfers *"),n.k0s(),n.j41(125,"select",52)(126,"option",40),n.EFF(127,"Independent"),n.k0s(),n.j41(128,"option",41),n.EFF(129,"Needing Assistance"),n.k0s(),n.j41(130,"option",42),n.EFF(131,"Dependent"),n.k0s()(),n.j41(132,"label",53),n.EFF(133,"Medication Assistance *"),n.k0s(),n.j41(134,"select",54)(135,"option",36),n.EFF(136,"Yes"),n.k0s(),n.j41(137,"option",37),n.EFF(138,"No"),n.k0s()()(),n.j41(139,"div",1)(140,"h2"),n.EFF(141,"Other Medical Information"),n.k0s(),n.j41(142,"label",55),n.EFF(143,"Memory Issues *"),n.k0s(),n.j41(144,"select",56)(145,"option",36),n.EFF(146,"Yes"),n.k0s(),n.j41(147,"option",37),n.EFF(148,"No"),n.k0s()(),n.j41(149,"label",57),n.EFF(150,"Behavior"),n.k0s(),n.nrm(151,"textarea",58),n.j41(152,"label",59),n.EFF(153,"Skin Condition"),n.k0s(),n.nrm(154,"textarea",60),n.j41(155,"label",61),n.EFF(156,"Other information you want us to know"),n.k0s(),n.nrm(157,"textarea",62),n.k0s(),n.j41(158,"div",1)(159,"h2"),n.EFF(160,"Living Situation"),n.k0s(),n.j41(161,"label",63),n.EFF(162,"Current living situation *"),n.k0s(),n.j41(163,"select",64)(164,"option",65),n.EFF(165,"Own Home"),n.k0s(),n.j41(166,"option",66),n.EFF(167,"Relative's Home"),n.k0s(),n.j41(168,"option",67),n.EFF(169,"Hospital"),n.k0s(),n.j41(170,"option",68),n.EFF(171,"Adult Family Home"),n.k0s(),n.j41(172,"option",69),n.EFF(173,"Senior Living"),n.k0s(),n.j41(174,"option",14),n.EFF(175,"Other"),n.k0s()()(),n.j41(176,"div",1)(177,"label",70),n.EFF(178,"Target move in date *"),n.k0s(),n.nrm(179,"input",71),n.k0s(),n.j41(180,"div",1)(181,"label",72),n.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),n.k0s(),n.j41(183,"select",73)(184,"option",36),n.EFF(185,"Yes"),n.k0s(),n.j41(186,"option",37),n.EFF(187,"No"),n.k0s()()(),n.j41(188,"div",1)(189,"label",74),n.EFF(190,"Do you have any questions for us?"),n.k0s(),n.nrm(191,"textarea",75),n.k0s(),n.j41(192,"button",76),n.EFF(193,"Submit"),n.k0s()()),2&v&&(n.R7$(1),n.Y8G("formGroup",I.intakeForm),n.R7$(191),n.Y8G("disabled",I.intakeForm.invalid))},dependencies:[vi.qT,vi.xH,vi.y7,vi.me,vi.Q0,vi.wz,vi.BC,vi.cb,vi.j4,vi.JD,fe],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return g})()},{path:"testimonials",component:(()=>{class g{constructor(a,v){this.businessDataService=a,this.metaService=v,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{console.log("Testimonial List - :",a),a&&(this.testimonials=a.testimonials||[],this.themeType=a.theme.themeType,this.metaService.loadAndApplyMeta(a?.id))})}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(ke.A),n.rXU(Ne.R))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(v,I){1&v&&(n.nrm(0,"app-hero"),n.j41(1,"div",0),n.DNE(2,Dy,2,1,"div",1),n.k0s()),2&v&&(n.R7$(2),n.Y8G("ngIf",I.testimonials.length>0))},dependencies:[W.Sq,W.bT,fe],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return g})()},{path:"faq",component:nu},{path:"login",component:Ku},{path:"admin",loadChildren:()=>F.e(496).then(F.bind(F,4496)).then(g=>g.AdminModule)},{path:":id",component:ye.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let nm=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=n.$C({type:g})}static{this.\u0275inj=n.G2t({imports:[pe.iI.forRoot(Sy),pe.iI]})}}return g})();var Ap=F(5009);function Jd(g,l){if(1&g&&n.nrm(0,"img",11),2&g){const a=n.XpG();n.Y8G("src",null==a.business?null:a.business.logoImage,n.B4B)}}function lf(g,l){if(1&g){const a=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("gallery"))}),n.EFF(2,"Our Home"),n.k0s()()}}function Ha(g,l){if(1&g){const a=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("gallery"))}),n.EFF(2,"Our Work"),n.k0s()()}}function uf(g,l){if(1&g){const a=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("resident-form"))}),n.EFF(2,"Resident Form"),n.k0s()()}}const __=function(g){return{"clemo-shrink":g}},y_=function(){return["/home"]},v_=function(g){return{id:g}},E_=function(g){return{"clemo-show":g}};let b_=(()=>{class g{constructor(a,v,I){this.route=a,this.router=v,this.businessDataService=I,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(v=>{this.business=v,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(a){const v=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:v}).then(I=>{I||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(pe.nX),n.rXU(pe.Ix),n.rXU(ke.A))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-expandable-navigation"]],hostBindings:function(v,I){1&v&&n.bIt("scroll",function(){return I.onWindowScroll()},!1,n.tSv)},decls:23,vars:15,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-item",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(v,I){1&v&&(n.j41(0,"nav",0)(1,"div",1)(2,"a",2),n.DNE(3,Jd,1,1,"img",3),n.k0s(),n.j41(4,"button",4),n.bIt("click",function(){return I.toggleMenu()}),n.nrm(5,"span",5),n.k0s(),n.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),n.bIt("click",function(){return I.navigateTo("home")}),n.EFF(10,"Home"),n.k0s()(),n.j41(11,"li",8)(12,"span",9),n.bIt("click",function(){return I.navigateTo("about-us")}),n.EFF(13,"About Us"),n.k0s()(),n.j41(14,"li",8)(15,"span",9),n.bIt("click",function(){return I.navigateTo("services")}),n.EFF(16,"Services"),n.k0s()(),n.DNE(17,lf,3,0,"li",10),n.DNE(18,Ha,3,0,"li",10),n.DNE(19,uf,3,0,"li",10),n.j41(20,"li",8)(21,"span",9),n.bIt("click",function(){return I.navigateTo("contact-us")}),n.EFF(22,"Contact"),n.k0s()()()()()()),2&v&&(n.Y8G("ngClass",n.eq3(8,__,I.isShrunk)),n.R7$(2),n.Y8G("routerLink",n.lJ4(10,y_))("queryParams",n.eq3(11,v_,I.businessId)),n.R7$(1),n.Y8G("ngIf",null==I.business?null:I.business.logoImage),n.R7$(3),n.Y8G("ngClass",n.eq3(13,E_,I.menuOpen)),n.R7$(11),n.Y8G("ngIf","sb"!=I.layoutType),n.R7$(1),n.Y8G("ngIf","sb"==I.layoutType),n.R7$(1),n.Y8G("ngIf","sb"!=I.layoutType))},dependencies:[W.YU,W.bT,pe.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:0 6px 12px #0000001a}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease;cursor:pointer}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:var(--dark-background-color)}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-nav[_ngcontent-%COMP%]{display:block;height:80vh}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:var(--background-color);position:absolute;top:170px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;padding:30px}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block;padding:20px;background-color:transparent;border:0px}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-collapse[_ngcontent-%COMP%]{top:170px}}']})}}return g})();function xy(g,l){if(1&g&&n.nrm(0,"img",13),2&g){const a=n.XpG(2);n.Y8G("src",null==a.business?null:a.business.logoImage,n.B4B)}}const su=function(){return["/home"]},Kc=function(g){return{id:g}},df=function(g){return{"open-bar1":g}},Zd=function(g){return{"open-bar2":g}},Yu=function(g){return{"open-bar3":g}},hf=function(g){return{active:g}};function eh(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),n.DNE(5,xy,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("contact-us"))}),n.EFF(20,"Contact"),n.k0s()()()(),n.bVm()}if(2&g){const a=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(7,su))("queryParams",n.eq3(8,Kc,a.businessId)),n.R7$(1),n.Y8G("ngIf",null==a.business?null:a.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(10,df,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(12,Zd,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,Yu,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,hf,a.menuOpen))}}function C_(g,l){if(1&g&&n.nrm(0,"img",13),2&g){const a=n.XpG(2);n.Y8G("src",null==a.business?null:a.business.logoImage,n.B4B)}}const Dp=function(){return["/contact-us"]};function rm(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),n.DNE(5,C_,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("testimonials"))}),n.EFF(20,"Testimonials"),n.k0s(),n.j41(21,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("contact-us"))}),n.EFF(22,"Contact"),n.k0s(),n.j41(23,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("resident-form"))}),n.EFF(24,"Resident Form"),n.k0s()(),n.j41(25,"div",4)(26,"a",5)(27,"button",15),n.EFF(28,"Schedule a Visit"),n.k0s()()()()(),n.bVm()}if(2&g){const a=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(9,su))("queryParams",n.eq3(10,Kc,a.businessId)),n.R7$(1),n.Y8G("ngIf",null==a.business?null:a.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(12,df,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,Zd,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,Yu,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(18,hf,a.menuOpen)),n.R7$(16),n.Y8G("routerLink",n.lJ4(20,Dp))("queryParams",n.eq3(21,Kc,a.businessId))}}function vl(g,l){1&g&&(n.qex(0),n.nrm(1,"app-expandable-navigation"),n.bVm())}function Sp(g,l){1&g&&(n.qex(0),n.nrm(1,"app-expandable-navigation"),n.bVm())}function im(g,l){if(1&g&&n.nrm(0,"img",13),2&g){const a=n.XpG(2);n.Y8G("src",null==a.business?null:a.business.logoImage,n.B4B)}}function Py(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),n.DNE(5,im,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.scrollToSection("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.scrollToSection("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.scrollToSection("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.scrollToSection("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.scrollToSection("contact-us"))}),n.EFF(20,"Contact"),n.k0s()()()(),n.bVm()}if(2&g){const a=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(7,su))("queryParams",n.eq3(8,Kc,a.businessId)),n.R7$(1),n.Y8G("ngIf",null==a.business?null:a.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(10,df,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(12,Zd,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,Yu,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,hf,a.menuOpen))}}function Xu(g,l){if(1&g&&n.nrm(0,"img",13),2&g){const a=n.XpG(2);n.Y8G("src",null==a.business?null:a.business.logoImage,n.B4B)}}function sm(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),n.DNE(5,Xu,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("gallery"))}),n.EFF(18,"gallery"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("contact-us"))}),n.EFF(20,"Contact"),n.k0s(),n.j41(21,"li",12),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("resident-form"))}),n.EFF(22,"Intake Form"),n.k0s()(),n.j41(23,"div",4)(24,"a",5)(25,"button",15),n.EFF(26,"Schedule a Visit"),n.k0s()()()()(),n.bVm()}if(2&g){const a=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(9,su))("queryParams",n.eq3(10,Kc,a.businessId)),n.R7$(1),n.Y8G("ngIf",null==a.business?null:a.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(12,df,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,Zd,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,Yu,a.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(18,hf,a.menuOpen)),n.R7$(14),n.Y8G("routerLink",n.lJ4(20,Dp))("queryParams",n.eq3(21,Kc,a.businessId))}}let My=(()=>{class g{constructor(a,v,I){this.route=a,this.router=v,this.businessDataService=I,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(v=>{this.business=v,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(a){const v=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:v}).then(I=>{I||console.error("Navigation failed!")})}scrollToSection(a){const v=document.getElementById(a);v&&v.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(pe.nX),n.rXU(pe.Ix),n.rXU(ke.A))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-navigation"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(v,I){1&v&&(n.j41(0,"div",0),n.DNE(1,eh,21,18,"ng-container",1),n.DNE(2,rm,29,23,"ng-container",1),n.DNE(3,vl,2,0,"ng-container",1),n.DNE(4,Sp,2,0,"ng-container",1),n.DNE(5,Py,21,18,"ng-container",1),n.DNE(6,sm,27,23,"ng-container",1),n.k0s()),2&v&&(n.Y8G("ngSwitch",I.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","sp"),n.R7$(1),n.Y8G("ngSwitchCase","demo"))},dependencies:[W.YU,W.bT,W.ux,W.e1,pe.Wk,b_],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return g})();function xp(g,l){if(1&g&&(n.qex(0),n.j41(1,"footer",4)(2,"div",5)(3,"h2",6),n.EFF(4),n.k0s(),n.nrm(5,"hr",7),n.j41(6,"div",8)(7,"div",9)(8,"h3",10),n.EFF(9,"Location:"),n.k0s(),n.j41(10,"address"),n.EFF(11),n.k0s()(),n.j41(12,"div",9)(13,"h3",10),n.EFF(14),n.k0s(),n.j41(15,"p"),n.EFF(16,"Email: "),n.j41(17,"a",11),n.EFF(18),n.k0s()(),n.j41(19,"p"),n.EFF(20,"Phone: "),n.j41(21,"a",11),n.EFF(22),n.k0s()()(),n.j41(23,"div",9)(24,"h3",10),n.EFF(25),n.k0s(),n.j41(26,"p"),n.EFF(27,"Email: "),n.j41(28,"a",11),n.EFF(29),n.k0s()(),n.j41(30,"p"),n.EFF(31,"Phone: "),n.j41(32,"a",11),n.EFF(33),n.k0s()()()()(),n.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),n.EFF(38,"DESIGNED BY "),n.j41(39,"a",15),n.EFF(40,"SB MEDIA HUB"),n.k0s()()(),n.j41(41,"div",16)(42,"p"),n.EFF(43," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()(),n.bVm()),2&g){const a=n.XpG();n.R7$(4),n.JRh(null==a.business?null:a.business.businessName),n.R7$(7),n.SpI(" ",null==a.business?null:a.business.address," "),n.R7$(3),n.SpI("Provider:",null==a.business?null:a.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==a.business?null:a.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==a.business?null:a.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==a.business?null:a.business.phone),n.R7$(3),n.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==a.business?null:a.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==a.business?null:a.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==a.business?null:a.business.phone)}}function T_(g,l){if(1&g&&(n.qex(0),n.j41(1,"footer",17)(2,"div",18)(3,"div",19),n.nrm(4,"hr",20),n.j41(5,"h2",21),n.EFF(6),n.k0s(),n.nrm(7,"hr",20),n.k0s(),n.j41(8,"div",22)(9,"div",23)(10,"h3",24),n.EFF(11,"Owner:"),n.k0s(),n.j41(12,"p"),n.EFF(13),n.k0s()(),n.j41(14,"div",23)(15,"h3",24),n.EFF(16,"Location:"),n.k0s(),n.j41(17,"p"),n.EFF(18),n.k0s()(),n.j41(19,"div",23)(20,"h3",24),n.EFF(21,"Provider:"),n.k0s(),n.j41(22,"p"),n.EFF(23),n.k0s(),n.j41(24,"p"),n.EFF(25,"Email: "),n.j41(26,"a",11),n.EFF(27),n.k0s()(),n.j41(28,"p"),n.EFF(29,"Phone: "),n.j41(30,"a",11),n.EFF(31),n.k0s()()()(),n.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),n.EFF(36,"DESIGNED BY "),n.j41(37,"a",15),n.EFF(38,"SB MEDIA HUB"),n.k0s()()(),n.j41(39,"div",16)(40,"p"),n.EFF(41),n.k0s()()()()()(),n.bVm()),2&g){const a=n.XpG();n.R7$(6),n.JRh(null==a.business?null:a.business.businessName),n.R7$(7),n.JRh(null==a.business?null:a.business.providerName),n.R7$(5),n.JRh(null==a.business?null:a.business.address),n.R7$(5),n.JRh(null==a.business?null:a.business.providerName),n.R7$(3),n.Mz_("href","mailto:",null==a.business?null:a.business.email,"",n.B4B),n.R7$(1),n.JRh(null==a.business?null:a.business.email),n.R7$(3),n.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==a.business?null:a.business.phone),n.R7$(10),n.Lme("\xa9 ",2024," ",null==a.business?null:a.business.businessName,". All rights reserved.")}}function Ry(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"footer",25)(2,"div",26)(3,"div",27),n.nrm(4,"img",28),n.j41(5,"h4"),n.EFF(6),n.k0s(),n.j41(7,"p",29),n.EFF(8),n.k0s(),n.j41(9,"p",30),n.EFF(10),n.k0s()(),n.j41(11,"div",31)(12,"a",32),n.nrm(13,"i",33),n.k0s(),n.j41(14,"a",32),n.nrm(15,"i",34),n.k0s()(),n.j41(16,"nav",35)(17,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("home"))}),n.EFF(18,"HOME"),n.k0s(),n.j41(19,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("about-us"))}),n.EFF(20,"ABOUT US"),n.k0s(),n.j41(21,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("services"))}),n.EFF(22,"SERVICES"),n.k0s(),n.j41(23,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("gallery"))}),n.EFF(24,"OUR HOME"),n.k0s(),n.j41(25,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("resident-form"))}),n.EFF(26,"RESIDENT FORM"),n.k0s(),n.j41(27,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("contact-us"))}),n.EFF(28,"CONTACT"),n.k0s()(),n.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),n.EFF(33,"DESIGNED BY "),n.j41(34,"a",15),n.EFF(35,"SB MEDIA HUB"),n.k0s()()(),n.j41(36,"div",16)(37,"p"),n.EFF(38," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()()(),n.bVm()}if(2&g){const a=n.XpG();n.R7$(4),n.FS9("src",null==a.business?null:a.business.logoImage,n.B4B),n.R7$(2),n.JRh(null==a.business?null:a.business.businessName),n.R7$(2),n.JRh(null==a.business?null:a.business.phone),n.R7$(2),n.JRh(null==a.business?null:a.business.address)}}function Oy(g,l){if(1&g){const a=n.RV6();n.qex(0),n.j41(1,"footer",25)(2,"div",26)(3,"div",27),n.nrm(4,"img",28),n.j41(5,"p",29),n.EFF(6),n.k0s(),n.j41(7,"p",30),n.EFF(8),n.k0s()(),n.j41(9,"div",31)(10,"a",32),n.nrm(11,"i",33),n.k0s(),n.j41(12,"a",32),n.nrm(13,"i",34),n.k0s()(),n.j41(14,"nav",35)(15,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("home"))}),n.EFF(16,"HOME"),n.k0s(),n.j41(17,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("about-us"))}),n.EFF(18,"ABOUT US"),n.k0s(),n.j41(19,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("services"))}),n.EFF(20,"SERVICES"),n.k0s(),n.j41(21,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("gallery"))}),n.EFF(22,"OUR WORK"),n.k0s(),n.j41(23,"span",36),n.bIt("click",function(){n.eBV(a);const I=n.XpG();return n.Njj(I.navigateTo("contact-us"))}),n.EFF(24,"CONTACT"),n.k0s()(),n.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),n.EFF(29,"DESIGNED BY "),n.j41(30,"a",15),n.EFF(31,"SB MEDIA HUB"),n.k0s()()(),n.j41(32,"div",16)(33,"p"),n.EFF(34," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()()(),n.bVm()}if(2&g){const a=n.XpG();n.R7$(4),n.FS9("src",null==a.business?null:a.business.logoImage,n.B4B),n.R7$(2),n.JRh(null==a.business?null:a.business.phone),n.R7$(2),n.JRh(null==a.business?null:a.business.address)}}function Ny(g,l){if(1&g&&(n.qex(0),n.j41(1,"footer",4)(2,"div",5)(3,"h2",6),n.EFF(4),n.k0s(),n.nrm(5,"hr",7),n.j41(6,"div",8)(7,"div",9)(8,"h3",10),n.EFF(9,"Location:"),n.k0s(),n.j41(10,"address"),n.EFF(11),n.k0s()(),n.j41(12,"div",9)(13,"h3",10),n.EFF(14),n.k0s(),n.j41(15,"p"),n.EFF(16,"Email: "),n.j41(17,"a",11),n.EFF(18),n.k0s()(),n.j41(19,"p"),n.EFF(20,"Phone: "),n.j41(21,"a",11),n.EFF(22),n.k0s()()(),n.j41(23,"div",9)(24,"h3",10),n.EFF(25),n.k0s(),n.j41(26,"p"),n.EFF(27,"Email: "),n.j41(28,"a",11),n.EFF(29),n.k0s()(),n.j41(30,"p"),n.EFF(31,"Phone: "),n.j41(32,"a",11),n.EFF(33),n.k0s()()()()()(),n.bVm()),2&g){const a=n.XpG();n.R7$(4),n.JRh(null==a.business?null:a.business.businessName),n.R7$(7),n.SpI(" ",null==a.business?null:a.business.address," "),n.R7$(3),n.SpI("Provider:",null==a.business?null:a.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==a.business?null:a.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==a.business?null:a.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==a.business?null:a.business.phone),n.R7$(3),n.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==a.business?null:a.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==a.business?null:a.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==a.business?null:a.business.phone)}}function ky(g,l){if(1&g&&(n.j41(0,"div",37)(1,"h1",38),n.EFF(2,"Debugger:"),n.k0s(),n.j41(3,"div",39)(4,"div",40)(5,"span",41),n.EFF(6,"Theme File:"),n.k0s(),n.j41(7,"span",42),n.EFF(8),n.k0s()(),n.j41(9,"div",40)(10,"span",41),n.EFF(11,"Business ID:"),n.k0s(),n.j41(12,"span",42),n.EFF(13),n.k0s()(),n.j41(14,"div",40)(15,"span",41),n.EFF(16,"Business Name:"),n.k0s(),n.j41(17,"span",42),n.EFF(18),n.k0s()()()()),2&g){const a=n.XpG();n.R7$(8),n.JRh(a.themeFileName),n.R7$(5),n.JRh(null==a.business?null:a.business.id),n.R7$(5),n.JRh(null==a.business?null:a.business.businessName)}}let I_=(()=>{class g{constructor(a,v,I,$,ne,de){this.route=a,this.webContentService=v,this.authService=I,this.themeService=$,this.businessDataService=ne,this.router=de,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(a){this.router.navigate([`/${a}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(I=>{I||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(a=>{this.business=a}),this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(v=>{v&&(this.themeFileName=v.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(pe.nX),n.rXU(Te.N),n.rXU(Jg.u),n.rXU(Ap.F),n.rXU(ke.A),n.rXU(pe.Ix))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-footer"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(v,I){1&v&&(n.j41(0,"div",0),n.DNE(1,xp,44,12,"ng-container",1),n.DNE(2,T_,42,10,"ng-container",1),n.DNE(3,Ry,39,4,"ng-container",1),n.DNE(4,Oy,35,3,"ng-container",1),n.DNE(5,Ny,34,12,"ng-container",2),n.k0s(),n.DNE(6,ky,19,3,"div",3),n.nI1(7,"async")),2&v&&(n.Y8G("ngSwitch",I.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(2),n.Y8G("ngIf",n.bMT(7,6,I.isAuthenticated$)))},dependencies:[W.bT,W.ux,W.e1,W.fG,W.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:var(--site-max-width);margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.clemo-footer[_ngcontent-%COMP%]{background-color:var(--background-color);text-align:center;padding:40px 20px;font-family:Arial,sans-serif;color:var(--text-color)}.clemo-footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.clemo-footer-logo-text[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-color);margin-bottom:10px}.clemo-footer-phone[_ngcontent-%COMP%], .clemo-footer-address[_ngcontent-%COMP%]{font-size:14px;margin:5px 0}.clemo-footer-social[_ngcontent-%COMP%]{margin:15px 0}.clemo-social-icon[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:18px;color:var(--text-color);text-decoration:none}.clemo-social-icon[_ngcontent-%COMP%]:hover{color:var(--text-color)}.clemo-footer-nav[_ngcontent-%COMP%]{margin:20px 0}.clemo-footer-link[_ngcontent-%COMP%]{font-size:14px;color:#333;text-decoration:none;margin:0 15px;font-weight:700;cursor:pointer}.clemo-footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.clemo-footer-bottom[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:20px}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}.footer[_ngcontent-%COMP%], .ae-footer[_ngcontent-%COMP%], .clemo-footer[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%], .clemo-footer-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;max-width:100%;box-sizing:border-box;padding:0 10px}.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:flex-start;width:100%;max-width:var(--site-max-width, 1200px);margin:0 auto;box-sizing:border-box;padding:0 20px}.clemo-footer-content[_ngcontent-%COMP%]{display:grid}.footer-column[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px;text-align:left}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%], .clemo-footer-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.footer-column[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]{width:100%}}.copy[_ngcontent-%COMP%]{max-width:var(--site-max-width);display:flex;justify-content:space-between;align-items:center;padding:10px;margin:0 auto}.design[_ngcontent-%COMP%], .rights[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return g})(),Lv=(()=>{class g{constructor(a,v,I,$,ne){this.route=a,this.webContent=v,this.metaService=I,this.router=$,this.themeService=ne,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(a=>{this.businessId=a.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(a=>{a&&(this.business=a)})}static{this.\u0275fac=function(v){return new(v||g)(n.rXU(pe.nX),n.rXU(Te.N),n.rXU(Ne.R),n.rXU(pe.Ix),n.rXU(Ap.F))}}static{this.\u0275cmp=n.VBU({type:g,selectors:[["app-root"]],decls:3,vars:0,template:function(v,I){1&v&&n.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[pe.n3,My,I_]})}}return g})();const w__firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Da=F(2214),As=F(5407);class ou{constructor(l){return l}}class ff{constructor(){return(0,Da.Dk)()}}const si=new n.nKC("angularfire2._apps"),am={provide:ou,useFactory:function th(g){return g&&1===g.length?g[0]:new ou((0,Da.Sx)())},deps:[[new n.Xx1,si]]},cm={provide:ff,deps:[[new n.Xx1,si]]};function au(g){return(l,a)=>{const v=l.runOutsideAngular(()=>g(a));return new ou(v)}}let Fy=(()=>{class g{constructor(a){(0,Da.KO)("angularfire",As.xv.full,"core"),(0,Da.KO)("angularfire",As.xv.full,"app"),(0,Da.KO)("angular",n.xvI.full,a.toString())}static \u0275fac=function(v){return new(v||g)(n.KVO(n.Agw))};static \u0275mod=n.$C({type:g});static \u0275inj=n.G2t({providers:[am,cm]})}return g})();function ho(g,...l){return{ngModule:Fy,providers:[{provide:si,useFactory:au(g),multi:!0,deps:[n.SKi,n.zZn,As.u0,...l]}]}}const A_=(0,As.S3)(Da.Wp,!0);F(5504),F(7852),F(1076),F(8041),F(1362);class fs{constructor(){return(0,As.CA)("auth")}}var F_=F(9583);class Up{constructor(l){return l}}const ed="firestore",Ef=new n.nKC("angularfire2.firestore-instances");function U_(g){return(l,a)=>{const v=l.runOutsideAngular(()=>g(a));return new Up(v)}}const bm={provide:class qv{constructor(){return(0,As.CA)(ed)}},deps:[[new n.Xx1,Ef]]},j_={provide:Up,useFactory:function V_(g,l){const a=(0,As.lR)(ed,g,l);return a&&new Up(a)},deps:[[new n.Xx1,Ef],ou]};let jp=(()=>{class g{constructor(){(0,Da.KO)("angularfire",As.xv.full,"fst")}static \u0275fac=function(v){return new(v||g)};static \u0275mod=n.$C({type:g});static \u0275inj=n.G2t({providers:[j_,bm]})}return g})();function Bp(g,...l){return{ngModule:jp,providers:[{provide:Ef,useFactory:U_(g),multi:!0,deps:[n.SKi,n.zZn,As.u0,ff,[new n.Xx1,fs],[new n.Xx1,As.Jv],...l]}]}}const H_=(0,As.S3)(F_.aU,!0);var We=F(9253),Ct=F(8721),qt=F(1977),En=F(4535);class rn{constructor(l){return l}}const ar="storage",Lr=new n.nKC("angularfire2.storage-instances");function oi(g){return(l,a)=>{const v=l.runOutsideAngular(()=>g(a));return new rn(v)}}const ut={provide:class vr{constructor(){return(0,As.CA)(ar)}},deps:[[new n.Xx1,Lr]]},Ve={provide:rn,useFactory:function Vi(g,l){const a=(0,As.lR)(ar,g,l);return a&&new rn(a)},deps:[[new n.Xx1,Lr],ou]};let Qe=(()=>{class g{constructor(){(0,Da.KO)("angularfire",As.xv.full,"gcs")}static \u0275fac=function(v){return new(v||g)};static \u0275mod=n.$C({type:g});static \u0275inj=n.G2t({providers:[Ve,ut]})}return g})();function ht(g,...l){return{ngModule:Qe,providers:[{provide:Lr,useFactory:oi(g),multi:!0,deps:[n.SKi,n.zZn,As.u0,ff,[new n.Xx1,fs],[new n.Xx1,As.Jv],...l]}]}}const Tm=(0,As.S3)(En.c7,!0);var sv=F(3012);let q_=(()=>{class g{constructor(a,v,I){this.http=a,this.themeService=v,this.businessService=I,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(a){return new Promise((v,I)=>{this.themeService.getBusinessTheme(a).subscribe({next:$=>{this.themeService.applyThemeFile($?$.themeFileName:"default.css").then(()=>v()).catch(de=>{console.error("Error applying theme file:",de),v()}),this.themeService.getThemeColors(a).subscribe(de=>{this.applyTheme(de),v()},de=>{console.error("Error loading theme:",de),v()})},error:$=>{console.error("Error loading business theme:",$),this.themeService.applyThemeFile("default.css").then(()=>v()).catch(ne=>{console.error("Error applying default theme file:",ne),v()})}})})}applyTheme(a){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",a.primaryColor),document.documentElement.style.setProperty("--secondary-color",a.secondaryColor),document.documentElement.style.setProperty("--accent-color",a.accentColor),document.documentElement.style.setProperty("--background-color",a.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",a.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",a.textColor),document.documentElement.style.setProperty("--nav-background-color",a.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",a.navTextColor),document.documentElement.style.setProperty("--nav-active-background",a.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",a.navActiveText),document.documentElement.style.setProperty("--button-color",a.buttonColor),document.documentElement.style.setProperty("--button-hover-color",a.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(a){return a.primaryColor&&a.secondaryColor&&a.accentColor&&a.backgroundColor&&a.darkBackgroundColor&&a.textColor&&a.navBackgroundColor&&a.navTextColor&&a.navActiveBackground&&a.navActiveText&&a.buttonColor&&a.buttonHoverColor}static{this.\u0275fac=function(v){return new(v||g)(n.KVO(Ce.Qq),n.KVO(Ap.F),n.KVO(sv.u))}}static{this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var Ki=F(9969);function Tf(g){return new n.wOt(3e3,!1)}function za(g){switch(g.length){case 0:return new Ki.sf;case 1:return g[0];default:return new Ki.ui(g)}}function Nm(g,l,a=new Map,v=new Map){const I=[],$=[];let ne=-1,de=null;if(l.forEach(Le=>{const ct=Le.get("offset"),It=ct==ne,sn=It&&de||new Map;Le.forEach((zn,Pn)=>{let Ln=Pn,kn=zn;if("offset"!==Pn)switch(Ln=g.normalizePropertyName(Ln,I),kn){case Ki.FX:kn=a.get(Pn);break;case Ki.kp:kn=v.get(Pn);break;default:kn=g.normalizeStyleValue(Pn,Ln,kn,I)}sn.set(Ln,kn)}),It||$.push(sn),de=sn,ne=ct}),I.length)throw function Rm(g){return new n.wOt(3502,!1)}();return $}function Ro(g,l,a,v){switch(l){case"start":g.onStart(()=>v(a&&tg(a,"start",g)));break;case"done":g.onDone(()=>v(a&&tg(a,"done",g)));break;case"destroy":g.onDestroy(()=>v(a&&tg(a,"destroy",g)))}}function tg(g,l,a){const $=id(g.element,g.triggerName,g.fromState,g.toState,l||g.phaseName,a.totalTime??g.totalTime,!!a.disabled),ne=g._data;return null!=ne&&($._data=ne),$}function id(g,l,a,v,I="",$=0,ne){return{element:g,triggerName:l,fromState:a,toState:v,phaseName:I,totalTime:$,disabled:!!ne}}function Oo(g,l,a){let v=g.get(l);return v||g.set(l,v=a),v}function km(g){const l=g.indexOf(":");return[g.substring(1,l),g.slice(l+1)]}const Fm=(()=>typeof document>"u"?null:document.documentElement)();function gu(g){const l=g.parentNode||g.host||null;return l===Fm?null:l}let sd=null,xf=!1;function Al(g,l){for(;l;){if(l===g)return!0;l=gu(l)}return!1}function Lm(g,l,a){if(a)return Array.from(g.querySelectorAll(l));const v=g.querySelector(l);return v?[v]:[]}let Pf=(()=>{class g{validateStyleProperty(a){return function ty(g){sd||(sd=function rg(){return typeof document<"u"?document.body:null}()||{},xf=!!sd.style&&"WebkitAppearance"in sd.style);let l=!0;return sd.style&&!function ng(g){return"ebkit"==g.substring(1,6)}(g)&&(l=g in sd.style,!l&&xf&&(l="Webkit"+g.charAt(0).toUpperCase()+g.slice(1)in sd.style)),l}(a)}matchesElement(a,v){return!1}containsElement(a,v){return Al(a,v)}getParentElement(a){return gu(a)}query(a,v,I){return Lm(a,v,I)}computeStyle(a,v,I){return I||""}animate(a,v,I,$,ne,de=[],Le){return new Ki.sf(I,$)}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac})}}return g})(),Mf=(()=>{class g{static{this.NOOP=new Pf}}return g})();const av=1e3,Rf="ng-enter",mu="ng-leave",gh="ng-trigger",_u=".ng-trigger",qc="ng-animating",Of=".ng-animating";function Co(g){if("number"==typeof g)return g;const l=g.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:yu(parseFloat(l[1]),l[2])}function yu(g,l){return"s"===l?g*av:g}function to(g,l,a){return g.hasOwnProperty("duration")?g:function vu(g,l,a){let I,$=0,ne="";if("string"==typeof g){const de=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return l.push(Tf()),{duration:0,delay:0,easing:""};I=yu(parseFloat(de[1]),de[2]);const Le=de[3];null!=Le&&($=yu(parseFloat(Le),de[4]));const ct=de[5];ct&&(ne=ct)}else I=g;if(!a){let de=!1,Le=l.length;I<0&&(l.push(function hh(){return new n.wOt(3100,!1)}()),de=!0),$<0&&(l.push(function If(){return new n.wOt(3101,!1)}()),de=!0),de&&l.splice(Le,0,Tf())}return{duration:I,delay:$,easing:ne}}(g,l,a)}function Yc(g,l={}){return Object.keys(g).forEach(a=>{l[a]=g[a]}),l}function ta(g){const l=new Map;return Object.keys(g).forEach(a=>{l.set(a,g[a])}),l}function Sa(g,l=new Map,a){if(a)for(let[v,I]of a)l.set(v,I);for(let[v,I]of g)l.set(v,I);return l}function na(g,l,a){l.forEach((v,I)=>{const $=Xi(I);a&&!a.has(I)&&a.set(I,g.style[$]),g.style[$]=v})}function xa(g,l){l.forEach((a,v)=>{const I=Xi(v);g.style[I]=""})}function Ec(g){return Array.isArray(g)?1==g.length?g[0]:(0,Ki.K2)(g):g}const ya=new RegExp("{{\\s*(.+?)\\s*}}","g");function ra(g){let l=[];if("string"==typeof g){let a;for(;a=ya.exec(g);)l.push(a[1]);ya.lastIndex=0}return l}function Pa(g,l,a){const v=g.toString(),I=v.replace(ya,($,ne)=>{let de=l[ne];return null==de&&(a.push(function wm(g){return new n.wOt(3003,!1)}()),de=""),de.toString()});return I==v?g:I}function bu(g){const l=[];let a=g.next();for(;!a.done;)l.push(a.value),a=g.next();return l}const Vm=/-+([a-z0-9])/g;function Xi(g){return g.replace(Vm,(...l)=>l[1].toUpperCase())}function va(g,l,a){switch(l.type){case 7:return g.visitTrigger(l,a);case 0:return g.visitState(l,a);case 1:return g.visitTransition(l,a);case 2:return g.visitSequence(l,a);case 3:return g.visitGroup(l,a);case 4:return g.visitAnimate(l,a);case 5:return g.visitKeyframes(l,a);case 6:return g.visitStyle(l,a);case 8:return g.visitReference(l,a);case 9:return g.visitAnimateChild(l,a);case 10:return g.visitAnimateRef(l,a);case 11:return g.visitQuery(l,a);case 12:return g.visitStagger(l,a);default:throw function Am(g){return new n.wOt(3004,!1)}()}}function ag(g,l){return window.getComputedStyle(g)[l]}const Nf="*";function lv(g,l){const a=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(v=>function oy(g,l,a){if(":"==g[0]){const Le=function kf(g,l){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,v)=>parseFloat(v)>parseFloat(a);case":decrement":return(a,v)=>parseFloat(v)<parseFloat(a);default:return l.push(function C0(g){return new n.wOt(3016,!1)}()),"* => *"}}(g,a);if("function"==typeof Le)return void l.push(Le);g=Le}const v=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==v||v.length<4)return a.push(function Af(g){return new n.wOt(3015,!1)}()),l;const I=v[1],$=v[2],ne=v[3];l.push(ay(I,ne));"<"==$[0]&&!(I==Nf&&ne==Nf)&&l.push(ay(ne,I))}(v,a,l)):a.push(g),a}const cg=new Set(["true","1"]),lg=new Set(["false","0"]);function ay(g,l){const a=cg.has(g)||lg.has(g),v=cg.has(l)||lg.has(l);return(I,$)=>{let ne=g==Nf||g==I,de=l==Nf||l==$;return!ne&&a&&"boolean"==typeof I&&(ne=I?cg.has(g):lg.has(g)),!de&&v&&"boolean"==typeof $&&(de=$?cg.has(l):lg.has(l)),ne&&de}}const Ff=new RegExp("s*:selfs*,?","g");function Lf(g,l,a,v){return new Vf(g).build(l,a,v)}class Vf{constructor(l){this._driver=l}build(l,a,v){const I=new Uf(a);return this._resetContextStyleTimingState(I),va(this,Ec(l),I)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,a){let v=a.queryCount=0,I=a.depCount=0;const $=[],ne=[];return"@"==l.name.charAt(0)&&a.errors.push(function Dm(){return new n.wOt(3006,!1)}()),l.definitions.forEach(de=>{if(this._resetContextStyleTimingState(a),0==de.type){const Le=de,ct=Le.name;ct.toString().split(/\s*,\s*/).forEach(It=>{Le.name=It,$.push(this.visitState(Le,a))}),Le.name=ct}else if(1==de.type){const Le=this.visitTransition(de,a);v+=Le.queryCount,I+=Le.depCount,ne.push(Le)}else a.errors.push(function Xp(){return new n.wOt(3007,!1)}())}),{type:7,name:l.name,states:$,transitions:ne,queryCount:v,depCount:I,options:null}}visitState(l,a){const v=this.visitStyle(l.styles,a),I=l.options&&l.options.params||null;if(v.containsDynamicStyles){const $=new Set,ne=I||{};v.styles.forEach(de=>{de instanceof Map&&de.forEach(Le=>{ra(Le).forEach(ct=>{ne.hasOwnProperty(ct)||$.add(ct)})})}),$.size&&(bu($.values()),a.errors.push(function vc(g,l){return new n.wOt(3008,!1)}()))}return{type:0,name:l.name,style:v,options:I?{params:I}:null}}visitTransition(l,a){a.queryCount=0,a.depCount=0;const v=va(this,Ec(l.animation),a);return{type:1,matchers:lv(l.expr,a.errors),animation:v,queryCount:a.queryCount,depCount:a.depCount,options:Qi(l.options)}}visitSequence(l,a){return{type:2,steps:l.steps.map(v=>va(this,v,a)),options:Qi(l.options)}}visitGroup(l,a){const v=a.currentTime;let I=0;const $=l.steps.map(ne=>{a.currentTime=v;const de=va(this,ne,a);return I=Math.max(I,a.currentTime),de});return a.currentTime=I,{type:3,steps:$,options:Qi(l.options)}}visitAnimate(l,a){const v=function jm(g,l){if(g.hasOwnProperty("duration"))return g;if("number"==typeof g)return Bm(to(g,l).duration,0,"");const a=g;if(a.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=Bm(0,0,"");return $.dynamic=!0,$.strValue=a,$}const I=to(a,l);return Bm(I.duration,I.delay,I.easing)}(l.timings,a.errors);a.currentAnimateTimings=v;let I,$=l.styles?l.styles:(0,Ki.iF)({});if(5==$.type)I=this.visitKeyframes($,a);else{let ne=l.styles,de=!1;if(!ne){de=!0;const ct={};v.easing&&(ct.easing=v.easing),ne=(0,Ki.iF)(ct)}a.currentTime+=v.duration+v.delay;const Le=this.visitStyle(ne,a);Le.isEmptyStep=de,I=Le}return a.currentAnimateTimings=null,{type:4,timings:v,style:I,options:null}}visitStyle(l,a){const v=this._makeStyleAst(l,a);return this._validateStyleAst(v,a),v}_makeStyleAst(l,a){const v=[],I=Array.isArray(l.styles)?l.styles:[l.styles];for(let de of I)"string"==typeof de?de===Ki.kp?v.push(de):a.errors.push(new n.wOt(3002,!1)):v.push(ta(de));let $=!1,ne=null;return v.forEach(de=>{if(de instanceof Map&&(de.has("easing")&&(ne=de.get("easing"),de.delete("easing")),!$))for(let Le of de.values())if(Le.toString().indexOf("{{")>=0){$=!0;break}}),{type:6,styles:v,easing:ne,offset:l.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(l,a){const v=a.currentAnimateTimings;let I=a.currentTime,$=a.currentTime;v&&$>0&&($-=v.duration+v.delay),l.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((de,Le)=>{const ct=a.collectedStyles.get(a.currentQuerySelector),It=ct.get(Le);let sn=!0;It&&($!=I&&$>=It.startTime&&I<=It.endTime&&(a.errors.push(function wf(g,l,a,v,I){return new n.wOt(3010,!1)}()),sn=!1),$=It.startTime),sn&&ct.set(Le,{startTime:$,endTime:I}),a.options&&function mh(g,l,a){const v=l.params||{},I=ra(g);I.length&&I.forEach($=>{v.hasOwnProperty($)||a.push(function Y_(g){return new n.wOt(3001,!1)}())})}(de,a.options,a.errors)})})}visitKeyframes(l,a){const v={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Sm(){return new n.wOt(3011,!1)}()),v;let $=0;const ne=[];let de=!1,Le=!1,ct=0;const It=l.steps.map(qr=>{const gi=this._makeStyleAst(qr,a);let Mi=null!=gi.offset?gi.offset:function bh(g){if("string"==typeof g)return null;let l=null;if(Array.isArray(g))g.forEach(a=>{if(a instanceof Map&&a.has("offset")){const v=a;l=parseFloat(v.get("offset")),v.delete("offset")}});else if(g instanceof Map&&g.has("offset")){const a=g;l=parseFloat(a.get("offset")),a.delete("offset")}return l}(gi.styles),Mr=0;return null!=Mi&&($++,Mr=gi.offset=Mi),Le=Le||Mr<0||Mr>1,de=de||Mr<ct,ct=Mr,ne.push(Mr),gi});Le&&a.errors.push(function Qp(){return new n.wOt(3012,!1)}()),de&&a.errors.push(function $o(){return new n.wOt(3200,!1)}());const sn=l.steps.length;let zn=0;$>0&&$<sn?a.errors.push(function bo(){return new n.wOt(3202,!1)}()):0==$&&(zn=1/(sn-1));const Pn=sn-1,Ln=a.currentTime,kn=a.currentAnimateTimings,Er=kn.duration;return It.forEach((qr,gi)=>{const Mi=zn>0?gi==Pn?1:zn*gi:ne[gi],Mr=Mi*Er;a.currentTime=Ln+kn.delay+Mr,kn.duration=Mr,this._validateStyleAst(qr,a),qr.offset=Mi,v.styles.push(qr)}),v}visitReference(l,a){return{type:8,animation:va(this,Ec(l.animation),a),options:Qi(l.options)}}visitAnimateChild(l,a){return a.depCount++,{type:9,options:Qi(l.options)}}visitAnimateRef(l,a){return{type:10,animation:this.visitReference(l.animation,a),options:Qi(l.options)}}visitQuery(l,a){const v=a.currentQuerySelector,I=l.options||{};a.queryCount++,a.currentQuery=l;const[$,ne]=function vh(g){const l=!!g.split(/\s*,\s*/).find(a=>":self"==a);return l&&(g=g.replace(Ff,"")),g=g.replace(/@\*/g,_u).replace(/@\w+/g,a=>_u+"-"+a.slice(1)).replace(/:animating/g,Of),[g,l]}(l.selector);a.currentQuerySelector=v.length?v+" "+$:$,Oo(a.collectedStyles,a.currentQuerySelector,new Map);const de=va(this,Ec(l.animation),a);return a.currentQuery=null,a.currentQuerySelector=v,{type:11,selector:$,limit:I.limit||0,optional:!!I.optional,includeSelf:ne,animation:de,originalSelector:l.selector,options:Qi(l.options)}}visitStagger(l,a){a.currentQuery||a.errors.push(function pu(){return new n.wOt(3013,!1)}());const v="full"===l.timings?{duration:0,delay:0,easing:"full"}:to(l.timings,a.errors,!0);return{type:12,animation:va(this,Ec(l.animation),a),timings:v,options:null}}}class Uf{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qi(g){return g?(g=Yc(g)).params&&(g.params=function Eh(g){return g?Yc(g):null}(g.params)):g={},g}function Bm(g,l,a){return{duration:g,delay:l,easing:a}}function $m(g,l,a,v,I,$,ne=null,de=!1){return{type:1,element:g,keyframes:l,preStyleProps:a,postStyleProps:v,duration:I,delay:$,totalTime:I+$,easing:ne,subTimeline:de}}class ad{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,a){let v=this._map.get(l);v||this._map.set(l,v=[]),v.push(...a)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Gm=new RegExp(":enter","g"),Sl=new RegExp(":leave","g");function Ch(g,l,a,v,I,$=new Map,ne=new Map,de,Le,ct=[]){return(new uv).buildKeyframes(g,l,a,v,I,$,ne,de,Le,ct)}class uv{buildKeyframes(l,a,v,I,$,ne,de,Le,ct,It=[]){ct=ct||new ad;const sn=new ug(l,a,ct,I,$,It,[]);sn.options=Le;const zn=Le.delay?Co(Le.delay):0;sn.currentTimeline.delayNextStep(zn),sn.currentTimeline.setStyles([ne],null,sn.errors,Le),va(this,v,sn);const Pn=sn.timelines.filter(Ln=>Ln.containsAnimation());if(Pn.length&&de.size){let Ln;for(let kn=Pn.length-1;kn>=0;kn--){const Er=Pn[kn];if(Er.element===a){Ln=Er;break}}Ln&&!Ln.allowOnlyTimelineStyles()&&Ln.setStyles([de],null,sn.errors,Le)}return Pn.length?Pn.map(Ln=>Ln.buildKeyframes()):[$m(a,[],[],[],0,zn,"",!1)]}visitTrigger(l,a){}visitState(l,a){}visitTransition(l,a){}visitAnimateChild(l,a){const v=a.subInstructions.get(a.element);if(v){const I=a.createSubContext(l.options),$=a.currentTimeline.currentTime,ne=this._visitSubInstructions(v,I,I.options);$!=ne&&a.transformIntoNewTimeline(ne)}a.previousNode=l}visitAnimateRef(l,a){const v=a.createSubContext(l.options);v.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],a,v),this.visitReference(l.animation,v),a.transformIntoNewTimeline(v.currentTimeline.currentTime),a.previousNode=l}_applyAnimationRefDelays(l,a,v){for(const I of l){const $=I?.delay;if($){const ne="number"==typeof $?$:Co(Pa($,I?.params??{},a.errors));v.delayNextStep(ne)}}}_visitSubInstructions(l,a,v){let $=a.currentTimeline.currentTime;const ne=null!=v.duration?Co(v.duration):null,de=null!=v.delay?Co(v.delay):null;return 0!==ne&&l.forEach(Le=>{const ct=a.appendInstructionToTimeline(Le,ne,de);$=Math.max($,ct.duration+ct.delay)}),$}visitReference(l,a){a.updateOptions(l.options,!0),va(this,l.animation,a),a.previousNode=l}visitSequence(l,a){const v=a.subContextCount;let I=a;const $=l.options;if($&&($.params||$.delay)&&(I=a.createSubContext($),I.transformIntoNewTimeline(),null!=$.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=xl);const ne=Co($.delay);I.delayNextStep(ne)}l.steps.length&&(l.steps.forEach(ne=>va(this,ne,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>v&&I.transformIntoNewTimeline()),a.previousNode=l}visitGroup(l,a){const v=[];let I=a.currentTimeline.currentTime;const $=l.options&&l.options.delay?Co(l.options.delay):0;l.steps.forEach(ne=>{const de=a.createSubContext(l.options);$&&de.delayNextStep($),va(this,ne,de),I=Math.max(I,de.currentTimeline.currentTime),v.push(de.currentTimeline)}),v.forEach(ne=>a.currentTimeline.mergeTimelineCollectedStyles(ne)),a.transformIntoNewTimeline(I),a.previousNode=l}_visitTiming(l,a){if(l.dynamic){const v=l.strValue;return to(a.params?Pa(v,a.params,a.errors):v,a.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,a){const v=a.currentAnimateTimings=this._visitTiming(l.timings,a),I=a.currentTimeline;v.delay&&(a.incrementTime(v.delay),I.snapshotCurrentStyles());const $=l.style;5==$.type?this.visitKeyframes($,a):(a.incrementTime(v.duration),this.visitStyle($,a),I.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=l}visitStyle(l,a){const v=a.currentTimeline,I=a.currentAnimateTimings;!I&&v.hasCurrentStyleProperties()&&v.forwardFrame();const $=I&&I.easing||l.easing;l.isEmptyStep?v.applyEmptyStep($):v.setStyles(l.styles,$,a.errors,a.options),a.previousNode=l}visitKeyframes(l,a){const v=a.currentAnimateTimings,I=a.currentTimeline.duration,$=v.duration,de=a.createSubContext().currentTimeline;de.easing=v.easing,l.styles.forEach(Le=>{de.forwardTime((Le.offset||0)*$),de.setStyles(Le.styles,Le.easing,a.errors,a.options),de.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(de),a.transformIntoNewTimeline(I+$),a.previousNode=l}visitQuery(l,a){const v=a.currentTimeline.currentTime,I=l.options||{},$=I.delay?Co(I.delay):0;$&&(6===a.previousNode.type||0==v&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=xl);let ne=v;const de=a.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!I.optional,a.errors);a.currentQueryTotal=de.length;let Le=null;de.forEach((ct,It)=>{a.currentQueryIndex=It;const sn=a.createSubContext(l.options,ct);$&&sn.delayNextStep($),ct===a.element&&(Le=sn.currentTimeline),va(this,l.animation,sn),sn.currentTimeline.applyStylesToKeyframe(),ne=Math.max(ne,sn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(ne),Le&&(a.currentTimeline.mergeTimelineCollectedStyles(Le),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=l}visitStagger(l,a){const v=a.parentContext,I=a.currentTimeline,$=l.timings,ne=Math.abs($.duration),de=ne*(a.currentQueryTotal-1);let Le=ne*a.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":Le=de-Le;break;case"full":Le=v.currentStaggerTime}const It=a.currentTimeline;Le&&It.delayNextStep(Le);const sn=It.currentTime;va(this,l.animation,a),a.previousNode=l,v.currentStaggerTime=I.currentTime-sn+(I.startTime-v.currentTimeline.startTime)}}const xl={};class ug{constructor(l,a,v,I,$,ne,de,Le){this._driver=l,this.element=a,this.subInstructions=v,this._enterClassName=I,this._leaveClassName=$,this.errors=ne,this.timelines=de,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Le||new Th(this._driver,a,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,a){if(!l)return;const v=l;let I=this.options;null!=v.duration&&(I.duration=Co(v.duration)),null!=v.delay&&(I.delay=Co(v.delay));const $=v.params;if($){let ne=I.params;ne||(ne=this.options.params={}),Object.keys($).forEach(de=>{(!a||!ne.hasOwnProperty(de))&&(ne[de]=Pa($[de],ne,this.errors))})}}_copyOptions(){const l={};if(this.options){const a=this.options.params;if(a){const v=l.params={};Object.keys(a).forEach(I=>{v[I]=a[I]})}}return l}createSubContext(l=null,a,v){const I=a||this.element,$=new ug(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,v||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(l),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(l){return this.previousNode=xl,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,a,v){const I={duration:a??l.duration,delay:this.currentTimeline.currentTime+(v??0)+l.delay,easing:""},$=new $f(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,I,l.stretchStartingKeyframe);return this.timelines.push($),I}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,a,v,I,$,ne){let de=[];if(I&&de.push(this.element),l.length>0){l=(l=l.replace(Gm,"."+this._enterClassName)).replace(Sl,"."+this._leaveClassName);let ct=this._driver.query(this.element,l,1!=v);0!==v&&(ct=v<0?ct.slice(ct.length+v,ct.length):ct.slice(0,v)),de.push(...ct)}return!$&&0==de.length&&ne.push(function xm(g){return new n.wOt(3014,!1)}()),de}}class Th{constructor(l,a,v,I){this._driver=l,this.element=a,this.startTime=v,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+l),a&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,a){return this.applyStylesToKeyframe(),new Th(this._driver,l,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,a){this._localTimelineStyles.set(l,a),this._globalTimelineStyles.set(l,a),this._styleSummary.set(l,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[a,v]of this._globalTimelineStyles)this._backFill.set(a,v||Ki.kp),this._currentKeyframe.set(a,Ki.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,a,v,I){a&&this._previousKeyframe.set("easing",a);const $=I&&I.params||{},ne=function Gf(g,l){const a=new Map;let v;return g.forEach(I=>{if("*"===I){v=v||l.keys();for(let $ of v)a.set($,Ki.kp)}else Sa(I,a)}),a}(l,this._globalTimelineStyles);for(let[de,Le]of ne){const ct=Pa(Le,$,v);this._pendingStyles.set(de,ct),this._localTimelineStyles.has(de)||this._backFill.set(de,this._globalTimelineStyles.get(de)??Ki.kp),this._updateStyle(de,ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,a)=>{this._currentKeyframe.set(a,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,l)}))}snapshotCurrentStyles(){for(let[l,a]of this._localTimelineStyles)this._pendingStyles.set(l,a),this._updateStyle(l,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let a in this._currentKeyframe)l.push(a);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((a,v)=>{const I=this._styleSummary.get(v);(!I||a.time>I.time)&&this._updateStyle(v,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,a=new Set,v=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((de,Le)=>{const ct=Sa(de,new Map,this._backFill);ct.forEach((It,sn)=>{It===Ki.FX?l.add(sn):It===Ki.kp&&a.add(sn)}),v||ct.set("offset",Le/this.duration),I.push(ct)});const $=l.size?bu(l.values()):[],ne=a.size?bu(a.values()):[];if(v){const de=I[0],Le=new Map(de);de.set("offset",0),Le.set("offset",1),I=[de,Le]}return $m(this.element,I,$,ne,this.duration,this.startTime,this.easing,!1)}}class $f extends Th{constructor(l,a,v,I,$,ne,de=!1){super(l,a,ne.delay),this.keyframes=v,this.preStyleProps=I,this.postStyleProps=$,this._stretchStartingKeyframe=de,this.timings={duration:ne.duration,delay:ne.delay,easing:ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:a,duration:v,easing:I}=this.timings;if(this._stretchStartingKeyframe&&a){const $=[],ne=v+a,de=a/ne,Le=Sa(l[0]);Le.set("offset",0),$.push(Le);const ct=Sa(l[0]);ct.set("offset",dg(de)),$.push(ct);const It=l.length-1;for(let sn=1;sn<=It;sn++){let zn=Sa(l[sn]);const Pn=zn.get("offset");zn.set("offset",dg((a+Pn*v)/ne)),$.push(zn)}v=ne,a=0,I="",l=$}return $m(this.element,l,this.preStyleProps,this.postStyleProps,v,a,I,!0)}}function dg(g,l=3){const a=Math.pow(10,l-1);return Math.round(g*a)/a}class hg{}const Hm=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class pg extends hg{normalizePropertyName(l,a){return Xi(l)}normalizeStyleValue(l,a,v,I){let $="";const ne=v.toString().trim();if(Hm.has(a)&&0!==v&&"0"!==v)if("number"==typeof v)$="px";else{const de=v.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&I.push(function X_(g,l){return new n.wOt(3005,!1)}())}return ne+$}}function Ih(g,l,a,v,I,$,ne,de,Le,ct,It,sn,zn){return{type:0,element:g,triggerName:l,isRemovalTransition:I,fromState:a,fromStyles:$,toState:v,toStyles:ne,timelines:de,queriedElements:Le,preStyleProps:ct,postStyleProps:It,totalTime:sn,errors:zn}}const Hf={};class wh{constructor(l,a,v){this._triggerName=l,this.ast=a,this._stateStyles=v}match(l,a,v,I){return function gg(g,l,a,v,I){return g.some($=>$(l,a,v,I))}(this.ast.matchers,l,a,v,I)}buildStyles(l,a,v){let I=this._stateStyles.get("*");return void 0!==l&&(I=this._stateStyles.get(l?.toString())||I),I?I.buildStyles(a,v):new Map}build(l,a,v,I,$,ne,de,Le,ct,It){const sn=[],zn=this.ast.options&&this.ast.options.params||Hf,Ln=this.buildStyles(v,de&&de.params||Hf,sn),kn=Le&&Le.params||Hf,Er=this.buildStyles(I,kn,sn),qr=new Set,gi=new Map,Mi=new Map,Mr="void"===I,Ri={params:zm(kn,zn),delay:this.ast.options?.delay},ai=It?[]:Ch(l,a,this.ast.animation,$,ne,Ln,Er,Ri,ct,sn);let Ei=0;if(ai.forEach(rs=>{Ei=Math.max(rs.duration+rs.delay,Ei)}),sn.length)return Ih(a,this._triggerName,v,I,Mr,Ln,Er,[],[],gi,Mi,Ei,sn);ai.forEach(rs=>{const Ji=rs.element,Io=Oo(gi,Ji,new Set);rs.preStyleProps.forEach($s=>Io.add($s));const zo=Oo(Mi,Ji,new Set);rs.postStyleProps.forEach($s=>zo.add($s)),Ji!==a&&qr.add(Ji)});const ps=bu(qr.values());return Ih(a,this._triggerName,v,I,Mr,Ln,Er,ai,ps,gi,Mi,Ei)}}function zm(g,l){const a=Yc(l);for(const v in g)g.hasOwnProperty(v)&&null!=g[v]&&(a[v]=g[v]);return a}class cd{constructor(l,a,v){this.styles=l,this.defaultParams=a,this.normalizer=v}buildStyles(l,a){const v=new Map,I=Yc(this.defaultParams);return Object.keys(l).forEach($=>{const ne=l[$];null!==ne&&(I[$]=ne)}),this.styles.styles.forEach($=>{"string"!=typeof $&&$.forEach((ne,de)=>{ne&&(ne=Pa(ne,I,a));const Le=this.normalizer.normalizePropertyName(de,a);ne=this.normalizer.normalizeStyleValue(de,Le,ne,a),v.set(de,ne)})}),v}}class uy{constructor(l,a,v){this.name=l,this.ast=a,this._normalizer=v,this.transitionFactories=[],this.states=new Map,a.states.forEach(I=>{this.states.set(I.name,new cd(I.style,I.options&&I.options.params||{},v))}),Dh(this.states,"true","1"),Dh(this.states,"false","0"),a.transitions.forEach(I=>{this.transitionFactories.push(new wh(l,I,this.states))}),this.fallbackTransition=function zf(g,l,a){return new wh(g,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ne,de)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,a,v,I){return this.transitionFactories.find(ne=>ne.match(l,a,v,I))||null}matchStyles(l,a,v){return this.fallbackTransition.buildStyles(l,a,v)}}function Dh(g,l,a){g.has(l)?g.has(a)||g.set(a,g.get(l)):g.has(a)&&g.set(l,g.get(a))}const Sh=new ad;class Ea{constructor(l,a,v){this.bodyNode=l,this._driver=a,this._normalizer=v,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,a){const v=[],$=Lf(this._driver,a,v,[]);if(v.length)throw function ov(g){return new n.wOt(3503,!1)}();this._animations.set(l,$)}_buildPlayer(l,a,v){const I=l.element,$=Nm(this._normalizer,l.keyframes,a,v);return this._driver.animate(I,$,l.duration,l.delay,l.easing,[],!0)}create(l,a,v={}){const I=[],$=this._animations.get(l);let ne;const de=new Map;if($?(ne=Ch(this._driver,a,$,Rf,mu,new Map,new Map,v,Sh,I),ne.forEach(It=>{const sn=Oo(de,It.element,new Map);It.postStyleProps.forEach(zn=>sn.set(zn,null))})):(I.push(function J_(){return new n.wOt(3300,!1)}()),ne=[]),I.length)throw function Jp(g){return new n.wOt(3504,!1)}();de.forEach((It,sn)=>{It.forEach((zn,Pn)=>{It.set(Pn,this._driver.computeStyle(sn,Pn,Ki.kp))})});const ct=za(ne.map(It=>{const sn=de.get(It.element);return this._buildPlayer(It,new Map,sn)}));return this._playersById.set(l,ct),ct.onDestroy(()=>this.destroy(l)),this.players.push(ct),ct}destroy(l){const a=this._getPlayer(l);a.destroy(),this._playersById.delete(l);const v=this.players.indexOf(a);v>=0&&this.players.splice(v,1)}_getPlayer(l){const a=this._playersById.get(l);if(!a)throw function fh(g){return new n.wOt(3301,!1)}();return a}listen(l,a,v,I){const $=id(a,"","","");return Ro(this._getPlayer(l),v,$,I),()=>{}}command(l,a,v,I){if("register"==v)return void this.register(l,I[0]);if("create"==v)return void this.create(l,a,I[0]||{});const $=this._getPlayer(l);switch(v){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(l)}}}const Wm="ng-animate-queued",Pl="ng-animate-disabled",me=[],_t={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wn="__ng_removed";class Gi{get params(){return this.options.params}constructor(l,a=""){this.namespaceId=a;const v=l&&l.hasOwnProperty("value");if(this.value=function Wf(g){return g??null}(v?l.value:l),v){const $=Yc(l);delete $.value,this.options=$}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const a=l.params;if(a){const v=this.options.params;Object.keys(a).forEach(I=>{null==v[I]&&(v[I]=a[I])})}}}const Bs="void",Ni=new Gi(Bs);class Go{constructor(l,a,v){this.id=l,this.hostElement=a,this._engine=v,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,Cc(a,this._hostClassName)}listen(l,a,v,I){if(!this._triggers.has(a))throw function Z_(g,l){return new n.wOt(3302,!1)}();if(null==v||0==v.length)throw function ph(g){return new n.wOt(3303,!1)}();if(!function w0(g){return"start"==g||"done"==g}(v))throw function Zp(g,l){return new n.wOt(3400,!1)}();const $=Oo(this._elementListeners,l,[]),ne={name:a,phase:v,callback:I};$.push(ne);const de=Oo(this._engine.statesByElement,l,new Map);return de.has(a)||(Cc(l,gh),Cc(l,gh+"-"+a),de.set(a,Ni)),()=>{this._engine.afterFlush(()=>{const Le=$.indexOf(ne);Le>=0&&$.splice(Le,1),this._triggers.has(a)||de.delete(a)})}}register(l,a){return!this._triggers.has(l)&&(this._triggers.set(l,a),!0)}_getTrigger(l){const a=this._triggers.get(l);if(!a)throw function Om(g){return new n.wOt(3401,!1)}();return a}trigger(l,a,v,I=!0){const $=this._getTrigger(a),ne=new Xc(this.id,a,l);let de=this._engine.statesByElement.get(l);de||(Cc(l,gh),Cc(l,gh+"-"+a),this._engine.statesByElement.set(l,de=new Map));let Le=de.get(a);const ct=new Gi(v,this.id);if(!(v&&v.hasOwnProperty("value"))&&Le&&ct.absorbOptions(Le.options),de.set(a,ct),Le||(Le=Ni),ct.value!==Bs&&Le.value===ct.value){if(!function aE(g,l){const a=Object.keys(g),v=Object.keys(l);if(a.length!=v.length)return!1;for(let I=0;I<a.length;I++){const $=a[I];if(!l.hasOwnProperty($)||g[$]!==l[$])return!1}return!0}(Le.params,ct.params)){const kn=[],Er=$.matchStyles(Le.value,Le.params,kn),qr=$.matchStyles(ct.value,ct.params,kn);kn.length?this._engine.reportError(kn):this._engine.afterFlush(()=>{xa(l,Er),na(l,qr)})}return}const zn=Oo(this._engine.playersByElement,l,[]);zn.forEach(kn=>{kn.namespaceId==this.id&&kn.triggerName==a&&kn.queued&&kn.destroy()});let Pn=$.matchTransition(Le.value,ct.value,l,ct.params),Ln=!1;if(!Pn){if(!I)return;Pn=$.fallbackTransition,Ln=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:a,transition:Pn,fromState:Le,toState:ct,player:ne,isFallbackTransition:Ln}),Ln||(Cc(l,Wm),ne.onStart(()=>{Kf(l,Wm)})),ne.onDone(()=>{let kn=this.players.indexOf(ne);kn>=0&&this.players.splice(kn,1);const Er=this._engine.playersByElement.get(l);if(Er){let qr=Er.indexOf(ne);qr>=0&&Er.splice(qr,1)}}),this.players.push(ne),zn.push(ne),ne}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(a=>a.delete(l)),this._elementListeners.forEach((a,v)=>{this._elementListeners.set(v,a.filter(I=>I.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const a=this._engine.playersByElement.get(l);a&&(a.forEach(v=>v.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,a){const v=this._engine.driver.query(l,_u,!0);v.forEach(I=>{if(I[wn])return;const $=this._engine.fetchNamespacesByElement(I);$.size?$.forEach(ne=>ne.triggerLeaveAnimation(I,a,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>v.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(l,a,v,I){const $=this._engine.statesByElement.get(l),ne=new Map;if($){const de=[];if($.forEach((Le,ct)=>{if(ne.set(ct,Le.value),this._triggers.has(ct)){const It=this.trigger(l,ct,Bs,I);It&&de.push(It)}}),de.length)return this._engine.markElementAsRemoved(this.id,l,!0,a,ne),v&&za(de).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const a=this._elementListeners.get(l),v=this._engine.statesByElement.get(l);if(a&&v){const I=new Set;a.forEach($=>{const ne=$.name;if(I.has(ne))return;I.add(ne);const Le=this._triggers.get(ne).fallbackTransition,ct=v.get(ne)||Ni,It=new Gi(Bs),sn=new Xc(this.id,ne,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:ne,transition:Le,fromState:ct,toState:It,player:sn,isFallbackTransition:!0})})}}removeNode(l,a){const v=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,a),this.triggerLeaveAnimation(l,a,!0))return;let I=!1;if(v.totalAnimations){const $=v.players.length?v.playersByQueriedElement.get(l):[];if($&&$.length)I=!0;else{let ne=l;for(;ne=ne.parentNode;)if(v.statesByElement.get(ne)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(l),I)v.markElementAsRemoved(this.id,l,!1,a);else{const $=l[wn];(!$||$===_t)&&(v.afterFlush(()=>this.clearElementCache(l)),v.destroyInnerAnimations(l),v._onRemovalComplete(l,a))}}insertNode(l,a){Cc(l,this._hostClassName)}drainQueuedTransitions(l){const a=[];return this._queue.forEach(v=>{const I=v.player;if(I.destroyed)return;const $=v.element,ne=this._elementListeners.get($);ne&&ne.forEach(de=>{if(de.name==v.triggerName){const Le=id($,v.triggerName,v.fromState.value,v.toState.value);Le._data=l,Ro(v.player,de.phase,Le,de.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):a.push(v)}),this._queue=[],a.sort((v,I)=>{const $=v.transition.ast.depCount,ne=I.transition.ast.depCount;return 0==$||0==ne?$-ne:this._engine.driver.containsElement(v.element,I.element)?1:-1})}destroy(l){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class Ho{_onRemovalComplete(l,a){this.onRemovalComplete(l,a)}constructor(l,a,v){this.bodyNode=l,this.driver=a,this._normalizer=v,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,$)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(a=>{a.players.forEach(v=>{v.queued&&l.push(v)})}),l}createNamespace(l,a){const v=new Go(l,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(v,a):(this.newHostElements.set(a,v),this.collectEnterElement(a)),this._namespaceLookup[l]=v}_balanceNamespaceList(l,a){const v=this._namespaceList,I=this.namespacesByHostElement;if(v.length-1>=0){let ne=!1,de=this.driver.getParentElement(a);for(;de;){const Le=I.get(de);if(Le){const ct=v.indexOf(Le);v.splice(ct+1,0,l),ne=!0;break}de=this.driver.getParentElement(de)}ne||v.unshift(l)}else v.push(l);return I.set(a,l),l}register(l,a){let v=this._namespaceLookup[l];return v||(v=this.createNamespace(l,a)),v}registerTrigger(l,a,v){let I=this._namespaceLookup[l];I&&I.register(a,v)&&this.totalAnimations++}destroy(l,a){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const v=this._fetchNamespace(l);this.namespacesByHostElement.delete(v.hostElement);const I=this._namespaceList.indexOf(v);I>=0&&this._namespaceList.splice(I,1),v.destroy(a),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const a=new Set,v=this.statesByElement.get(l);if(v)for(let I of v.values())if(I.namespaceId){const $=this._fetchNamespace(I.namespaceId);$&&a.add($)}return a}trigger(l,a,v,I){if(ld(a)){const $=this._fetchNamespace(l);if($)return $.trigger(a,v,I),!0}return!1}insertNode(l,a,v,I){if(!ld(a))return;const $=a[wn];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const ne=this.collectedLeaveElements.indexOf(a);ne>=0&&this.collectedLeaveElements.splice(ne,1)}if(l){const ne=this._fetchNamespace(l);ne&&ne.insertNode(a,v)}I&&this.collectEnterElement(a)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,a){a?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Cc(l,Pl)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Kf(l,Pl))}removeNode(l,a,v){if(ld(a)){const I=l?this._fetchNamespace(l):null;I?I.removeNode(a,v):this.markElementAsRemoved(l,a,!1,v);const $=this.namespacesByHostElement.get(a);$&&$.id!==l&&$.removeNode(a,v)}else this._onRemovalComplete(a,v)}markElementAsRemoved(l,a,v,I,$){this.collectedLeaveElements.push(a),a[wn]={namespaceId:l,setForRemoval:I,hasAnimation:v,removedBeforeQueried:!1,previousTriggersValues:$}}listen(l,a,v,I,$){return ld(a)?this._fetchNamespace(l).listen(a,v,I,$):()=>{}}_buildInstruction(l,a,v,I,$){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,v,I,l.fromState.options,l.toState.options,a,$)}destroyInnerAnimations(l){let a=this.driver.query(l,_u,!0);a.forEach(v=>this.destroyActiveAnimationsForElement(v)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(l,Of,!0),a.forEach(v=>this.finishActiveQueriedAnimationOnElement(v)))}destroyActiveAnimationsForElement(l){const a=this.playersByElement.get(l);a&&a.forEach(v=>{v.queued?v.markedForDestroy=!0:v.destroy()})}finishActiveQueriedAnimationOnElement(l){const a=this.playersByQueriedElement.get(l);a&&a.forEach(v=>v.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return za(this.players).onDone(()=>l());l()})}processLeaveNode(l){const a=l[wn];if(a&&a.setForRemoval){if(l[wn]=_t,a.namespaceId){this.destroyInnerAnimations(l);const v=this._fetchNamespace(a.namespaceId);v&&v.clearElementCache(l)}this._onRemovalComplete(l,a.setForRemoval)}l.classList?.contains(Pl)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(v=>{this.markElementAsDisabled(v,!1)})}flush(l=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((v,I)=>this._balanceNamespaceList(v,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let v=0;v<this.collectedEnterElements.length;v++)Cc(this.collectedEnterElements[v],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const v=[];try{a=this._flushAnimations(v,l)}finally{for(let I=0;I<v.length;I++)v[I]()}}else for(let v=0;v<this.collectedLeaveElements.length;v++)this.processLeaveNode(this.collectedLeaveElements[v]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(v=>v()),this._flushFns=[],this._whenQuietFns.length){const v=this._whenQuietFns;this._whenQuietFns=[],a.length?za(a).onDone(()=>{v.forEach(I=>I())}):v.forEach(I=>I())}}reportError(l){throw function rd(g){return new n.wOt(3402,!1)}()}_flushAnimations(l,a){const v=new ad,I=[],$=new Map,ne=[],de=new Map,Le=new Map,ct=new Map,It=new Set;this.disabledNodes.forEach(Wn=>{It.add(Wn);const cr=this.driver.query(Wn,".ng-animate-queued",!0);for(let Rr=0;Rr<cr.length;Rr++)It.add(cr[Rr])});const sn=this.bodyNode,zn=Array.from(this.statesByElement.keys()),Pn=fv(zn,this.collectedEnterElements),Ln=new Map;let kn=0;Pn.forEach((Wn,cr)=>{const Rr=Rf+kn++;Ln.set(cr,Rr),Wn.forEach(mi=>Cc(mi,Rr))});const Er=[],qr=new Set,gi=new Set;for(let Wn=0;Wn<this.collectedLeaveElements.length;Wn++){const cr=this.collectedLeaveElements[Wn],Rr=cr[wn];Rr&&Rr.setForRemoval&&(Er.push(cr),qr.add(cr),Rr.hasAnimation?this.driver.query(cr,".ng-star-inserted",!0).forEach(mi=>qr.add(mi)):gi.add(cr))}const Mi=new Map,Mr=fv(zn,Array.from(qr));Mr.forEach((Wn,cr)=>{const Rr=mu+kn++;Mi.set(cr,Rr),Wn.forEach(mi=>Cc(mi,Rr))}),l.push(()=>{Pn.forEach((Wn,cr)=>{const Rr=Ln.get(cr);Wn.forEach(mi=>Kf(mi,Rr))}),Mr.forEach((Wn,cr)=>{const Rr=Mi.get(cr);Wn.forEach(mi=>Kf(mi,Rr))}),Er.forEach(Wn=>{this.processLeaveNode(Wn)})});const Ri=[],ai=[];for(let Wn=this._namespaceList.length-1;Wn>=0;Wn--)this._namespaceList[Wn].drainQueuedTransitions(a).forEach(Rr=>{const mi=Rr.player,Ys=Rr.element;if(Ri.push(mi),this.collectedEnterElements.length){const fo=Ys[wn];if(fo&&fo.setForMove){if(fo.previousTriggersValues&&fo.previousTriggersValues.has(Rr.triggerName)){const Ma=fo.previousTriggersValues.get(Rr.triggerName),Ca=this.statesByElement.get(Rr.element);if(Ca&&Ca.has(Rr.triggerName)){const _g=Ca.get(Rr.triggerName);_g.value=Ma,Ca.set(Rr.triggerName,_g)}}return void mi.destroy()}}const Wa=!sn||!this.driver.containsElement(sn,Ys),No=Mi.get(Ys),Tc=Ln.get(Ys),Zi=this._buildInstruction(Rr,v,Tc,No,Wa);if(Zi.errors&&Zi.errors.length)return void ai.push(Zi);if(Wa)return mi.onStart(()=>xa(Ys,Zi.fromStyles)),mi.onDestroy(()=>na(Ys,Zi.toStyles)),void I.push(mi);if(Rr.isFallbackTransition)return mi.onStart(()=>xa(Ys,Zi.fromStyles)),mi.onDestroy(()=>na(Ys,Zi.toStyles)),void I.push(mi);const Ol=[];Zi.timelines.forEach(fo=>{fo.stretchStartingKeyframe=!0,this.disabledNodes.has(fo.element)||Ol.push(fo)}),Zi.timelines=Ol,v.append(Ys,Zi.timelines),ne.push({instruction:Zi,player:mi,element:Ys}),Zi.queriedElements.forEach(fo=>Oo(de,fo,[]).push(mi)),Zi.preStyleProps.forEach((fo,Ma)=>{if(fo.size){let Ca=Le.get(Ma);Ca||Le.set(Ma,Ca=new Set),fo.forEach((_g,Yf)=>Ca.add(Yf))}}),Zi.postStyleProps.forEach((fo,Ma)=>{let Ca=ct.get(Ma);Ca||ct.set(Ma,Ca=new Set),fo.forEach((_g,Yf)=>Ca.add(Yf))})});if(ai.length){const Wn=[];ai.forEach(cr=>{Wn.push(function eg(g,l){return new n.wOt(3505,!1)}())}),Ri.forEach(cr=>cr.destroy()),this.reportError(Wn)}const Ei=new Map,ps=new Map;ne.forEach(Wn=>{const cr=Wn.element;v.has(cr)&&(ps.set(cr,cr),this._beforeAnimationBuild(Wn.player.namespaceId,Wn.instruction,Ei))}),I.forEach(Wn=>{const cr=Wn.element;this._getPreviousPlayers(cr,!1,Wn.namespaceId,Wn.triggerName,null).forEach(mi=>{Oo(Ei,cr,[]).push(mi),mi.destroy()})});const rs=Er.filter(Wn=>fy(Wn,Le,ct)),Ji=new Map;hv(Ji,this.driver,gi,ct,Ki.kp).forEach(Wn=>{fy(Wn,Le,ct)&&rs.push(Wn)});const zo=new Map;Pn.forEach((Wn,cr)=>{hv(zo,this.driver,new Set(Wn),Le,Ki.FX)}),rs.forEach(Wn=>{const cr=Ji.get(Wn),Rr=zo.get(Wn);Ji.set(Wn,new Map([...cr?.entries()??[],...Rr?.entries()??[]]))});const $s=[],Rl=[],wu={};ne.forEach(Wn=>{const{element:cr,player:Rr,instruction:mi}=Wn;if(v.has(cr)){if(It.has(cr))return Rr.onDestroy(()=>na(cr,mi.toStyles)),Rr.disabled=!0,Rr.overrideTotalTime(mi.totalTime),void I.push(Rr);let Ys=wu;if(ps.size>1){let No=cr;const Tc=[];for(;No=No.parentNode;){const Zi=ps.get(No);if(Zi){Ys=Zi;break}Tc.push(No)}Tc.forEach(Zi=>ps.set(Zi,Ys))}const Wa=this._buildAnimation(Rr.namespaceId,mi,Ei,$,zo,Ji);if(Rr.setRealPlayer(Wa),Ys===wu)$s.push(Rr);else{const No=this.playersByElement.get(Ys);No&&No.length&&(Rr.parentPlayer=za(No)),I.push(Rr)}}else xa(cr,mi.fromStyles),Rr.onDestroy(()=>na(cr,mi.toStyles)),Rl.push(Rr),It.has(cr)&&I.push(Rr)}),Rl.forEach(Wn=>{const cr=$.get(Wn.element);if(cr&&cr.length){const Rr=za(cr);Wn.setRealPlayer(Rr)}}),I.forEach(Wn=>{Wn.parentPlayer?Wn.syncPlayerEvents(Wn.parentPlayer):Wn.destroy()});for(let Wn=0;Wn<Er.length;Wn++){const cr=Er[Wn],Rr=cr[wn];if(Kf(cr,mu),Rr&&Rr.hasAnimation)continue;let mi=[];if(de.size){let Wa=de.get(cr);Wa&&Wa.length&&mi.push(...Wa);let No=this.driver.query(cr,Of,!0);for(let Tc=0;Tc<No.length;Tc++){let Zi=de.get(No[Tc]);Zi&&Zi.length&&mi.push(...Zi)}}const Ys=mi.filter(Wa=>!Wa.destroyed);Ys.length?hy(this,cr,Ys):this.processLeaveNode(cr)}return Er.length=0,$s.forEach(Wn=>{this.players.push(Wn),Wn.onDone(()=>{Wn.destroy();const cr=this.players.indexOf(Wn);this.players.splice(cr,1)}),Wn.play()}),$s}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,a,v,I,$){let ne=[];if(a){const de=this.playersByQueriedElement.get(l);de&&(ne=de)}else{const de=this.playersByElement.get(l);if(de){const Le=!$||$==Bs;de.forEach(ct=>{ct.queued||!Le&&ct.triggerName!=I||ne.push(ct)})}}return(v||I)&&(ne=ne.filter(de=>!(v&&v!=de.namespaceId||I&&I!=de.triggerName))),ne}_beforeAnimationBuild(l,a,v){const $=a.element,ne=a.isRemovalTransition?void 0:l,de=a.isRemovalTransition?void 0:a.triggerName;for(const Le of a.timelines){const ct=Le.element,It=ct!==$,sn=Oo(v,ct,[]);this._getPreviousPlayers(ct,It,ne,de,a.toState).forEach(Pn=>{const Ln=Pn.getRealPlayer();Ln.beforeDestroy&&Ln.beforeDestroy(),Pn.destroy(),sn.push(Pn)})}xa($,a.fromStyles)}_buildAnimation(l,a,v,I,$,ne){const de=a.triggerName,Le=a.element,ct=[],It=new Set,sn=new Set,zn=a.timelines.map(Ln=>{const kn=Ln.element;It.add(kn);const Er=kn[wn];if(Er&&Er.removedBeforeQueried)return new Ki.sf(Ln.duration,Ln.delay);const qr=kn!==Le,gi=function xh(g){const l=[];return A0(g,l),l}((v.get(kn)||me).map(Ei=>Ei.getRealPlayer())).filter(Ei=>!!Ei.element&&Ei.element===kn),Mi=$.get(kn),Mr=ne.get(kn),Ri=Nm(this._normalizer,Ln.keyframes,Mi,Mr),ai=this._buildPlayer(Ln,Ri,gi);if(Ln.subTimeline&&I&&sn.add(kn),qr){const Ei=new Xc(l,de,kn);Ei.setRealPlayer(ai),ct.push(Ei)}return ai});ct.forEach(Ln=>{Oo(this.playersByQueriedElement,Ln.element,[]).push(Ln),Ln.onDone(()=>function ba(g,l,a){let v=g.get(l);if(v){if(v.length){const I=v.indexOf(a);v.splice(I,1)}0==v.length&&g.delete(l)}return v}(this.playersByQueriedElement,Ln.element,Ln))}),It.forEach(Ln=>Cc(Ln,qc));const Pn=za(zn);return Pn.onDestroy(()=>{It.forEach(Ln=>Kf(Ln,qc)),na(Le,a.toStyles)}),sn.forEach(Ln=>{Oo(I,Ln,[]).push(Pn)}),Pn}_buildPlayer(l,a,v){return a.length>0?this.driver.animate(l.element,a,l.duration,l.delay,l.easing,v):new Ki.sf(l.duration,l.delay)}}class Xc{constructor(l,a,v){this.namespaceId=l,this.triggerName=a,this.element=v,this._player=new Ki.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((a,v)=>{a.forEach(I=>Ro(l,v,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const a=this._player;a.triggerCallback&&l.onStart(()=>a.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,a){Oo(this._queuedCallbacks,l,[]).push(a)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const a=this._player;a.triggerCallback&&a.triggerCallback(l)}}function ld(g){return g&&1===g.nodeType}function dv(g,l){const a=g.style.display;return g.style.display=l??"none",a}function hv(g,l,a,v,I){const $=[];a.forEach(Le=>$.push(dv(Le)));const ne=[];v.forEach((Le,ct)=>{const It=new Map;Le.forEach(sn=>{const zn=l.computeStyle(ct,sn,I);It.set(sn,zn),(!zn||0==zn.length)&&(ct[wn]=Nt,ne.push(ct))}),g.set(ct,It)});let de=0;return a.forEach(Le=>dv(Le,$[de++])),ne}function fv(g,l){const a=new Map;if(g.forEach(de=>a.set(de,[])),0==l.length)return a;const I=new Set(l),$=new Map;function ne(de){if(!de)return 1;let Le=$.get(de);if(Le)return Le;const ct=de.parentNode;return Le=a.has(ct)?ct:I.has(ct)?1:ne(ct),$.set(de,Le),Le}return l.forEach(de=>{const Le=ne(de);1!==Le&&a.get(Le).push(de)}),a}function Cc(g,l){g.classList?.add(l)}function Kf(g,l){g.classList?.remove(l)}function hy(g,l,a){za(a).onDone(()=>g.processLeaveNode(l))}function A0(g,l){for(let a=0;a<g.length;a++){const v=g[a];v instanceof Ki.ui?A0(v.players,l):l.push(v)}}function fy(g,l,a){const v=a.get(g);if(!v)return!1;let I=l.get(g);return I?v.forEach($=>I.add($)):l.set(g,v),a.delete(g),!0}class Cu{constructor(l,a,v){this.bodyNode=l,this._driver=a,this._normalizer=v,this._triggerCache={},this.onRemovalComplete=(I,$)=>{},this._transitionEngine=new Ho(l,a,v),this._timelineEngine=new Ea(l,a,v),this._transitionEngine.onRemovalComplete=(I,$)=>this.onRemovalComplete(I,$)}registerTrigger(l,a,v,I,$){const ne=l+"-"+I;let de=this._triggerCache[ne];if(!de){const Le=[],It=Lf(this._driver,$,Le,[]);if(Le.length)throw function Mm(g,l){return new n.wOt(3404,!1)}();de=function ly(g,l,a){return new uy(g,l,a)}(I,It,this._normalizer),this._triggerCache[ne]=de}this._transitionEngine.registerTrigger(a,I,de)}register(l,a){this._transitionEngine.register(l,a)}destroy(l,a){this._transitionEngine.destroy(l,a)}onInsert(l,a,v,I){this._transitionEngine.insertNode(l,a,v,I)}onRemove(l,a,v){this._transitionEngine.removeNode(l,a,v)}disableAnimations(l,a){this._transitionEngine.markElementAsDisabled(l,a)}process(l,a,v,I){if("@"==v.charAt(0)){const[$,ne]=km(v);this._timelineEngine.command($,a,ne,I)}else this._transitionEngine.trigger(l,a,v,I)}listen(l,a,v,I,$){if("@"==v.charAt(0)){const[ne,de]=km(v);return this._timelineEngine.listen(ne,a,de,$)}return this._transitionEngine.listen(l,a,v,I,$)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let cE=(()=>{class g{static{this.initialStylesByElement=new WeakMap}constructor(a,v,I){this._element=a,this._startStyles=v,this._endStyles=I,this._state=0;let $=g.initialStylesByElement.get(a);$||g.initialStylesByElement.set(a,$=new Map),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&na(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(na(this._element,this._initialStyles),this._endStyles&&(na(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g.initialStylesByElement.delete(this._element),this._startStyles&&(xa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xa(this._element,this._endStyles),this._endStyles=null),na(this._element,this._initialStyles),this._state=3)}}return g})();function Km(g){let l=null;return g.forEach((a,v)=>{(function ab(g){return"display"===g||"position"===g})(v)&&(l=l||new Map,l.set(v,a))}),l}class lE{constructor(l,a,v,I){this.element=l,this.keyframes=a,this.options=v,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=v.duration,this._delay=v.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const a=[];return l.forEach(v=>{a.push(Object.fromEntries(v))}),a}_triggerWebAnimation(l,a,v){return l.animate(this._convertKeyframesToObject(a),v)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((v,I)=>{"offset"!==I&&l.set(I,this._finished?v:ag(this.element,I))}),this.currentSnapshot=l}triggerCallback(l){const a="start"===l?this._onStartFns:this._onDoneFns;a.forEach(v=>v()),a.length=0}}class uE{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,a){return!1}containsElement(l,a){return Al(l,a)}getParentElement(l){return gu(l)}query(l,a,v){return Lm(l,a,v)}computeStyle(l,a,v){return window.getComputedStyle(l)[a]}animate(l,a,v,I,$,ne=[]){const Le={duration:v,delay:I,fill:0==I?"both":"forwards"};$&&(Le.easing=$);const ct=new Map,It=ne.filter(Pn=>Pn instanceof lE);(function _h(g,l){return 0===g||0===l})(v,I)&&It.forEach(Pn=>{Pn.currentSnapshot.forEach((Ln,kn)=>ct.set(kn,Ln))});let sn=function sg(g){return g.length?g[0]instanceof Map?g:g.map(l=>ta(l)):[]}(a).map(Pn=>Sa(Pn));sn=function yh(g,l,a){if(a.size&&l.length){let v=l[0],I=[];if(a.forEach(($,ne)=>{v.has(ne)||I.push(ne),v.set(ne,$)}),I.length)for(let $=1;$<l.length;$++){let ne=l[$];I.forEach(de=>ne.set(de,ag(g,de)))}}return l}(l,sn,ct);const zn=function pv(g,l){let a=null,v=null;return Array.isArray(l)&&l.length?(a=Km(l[0]),l.length>1&&(v=Km(l[l.length-1]))):l instanceof Map&&(a=Km(l)),a||v?new cE(g,a,v):null}(l,sn);return new lE(l,sn,Le,zn)}}let dE=(()=>{class g extends Ki.S6{constructor(a,v){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(v.body,{id:"0",encapsulation:n.gXe.None,styles:[],data:{animation:[]}})}build(a){const v=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(a)?(0,Ki.K2)(a):a;return To(this._renderer,null,v,"register",[I]),new D0(v,this._renderer)}static{this.\u0275fac=function(v){return new(v||g)(n.KVO(n._9s),n.KVO(W.qQ))}}static{this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac})}}return g})();class D0 extends Ki.Ro{constructor(l,a){super(),this._id=l,this._renderer=a}create(l,a){return new hE(this._id,l,a||{},this._renderer)}}class hE{constructor(l,a,v,I){this.id=l,this.element=a,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",v)}_listen(l,a){return this._renderer.listen(this.element,`@@${this.id}:${l}`,a)}_command(l,...a){return To(this._renderer,this.element,this.id,l,a)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function To(g,l,a,v,I){return g.setProperty(l,`@@${a}:${v}`,I)}const S0="@.disabled";let fE=(()=>{class g{constructor(a,v,I){this.delegate=a,this.engine=v,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,v.onRemovalComplete=($,ne)=>{const de=ne?.parentNode($);de&&ne.removeChild(de,$)}}createRenderer(a,v){const $=this.delegate.createRenderer(a,v);if(!(a&&v&&v.data&&v.data.animation)){let It=this._rendererCache.get($);return It||(It=new gv("",$,this.engine,()=>this._rendererCache.delete($)),this._rendererCache.set($,It)),It}const ne=v.id,de=v.id+"-"+this._currentId;this._currentId++,this.engine.register(de,a);const Le=It=>{Array.isArray(It)?It.forEach(Le):this.engine.registerTrigger(ne,de,a,It.name,It)};return v.data.animation.forEach(Le),new pE(this,de,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,v,I){a>=0&&a<this._microtaskId?this._zone.run(()=>v(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($=>{const[ne,de]=$;ne(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([v,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(v){return new(v||g)(n.KVO(n._9s),n.KVO(Cu),n.KVO(n.SKi))}}static{this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac})}}return g})();class gv{constructor(l,a,v,I){this.namespaceId=l,this.delegate=a,this.engine=v,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,a){return this.delegate.createElement(l,a)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,a){this.delegate.appendChild(l,a),this.engine.onInsert(this.namespaceId,a,l,!1)}insertBefore(l,a,v,I=!0){this.delegate.insertBefore(l,a,v),this.engine.onInsert(this.namespaceId,a,l,I)}removeChild(l,a,v){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(l,a){return this.delegate.selectRootElement(l,a)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,a,v,I){this.delegate.setAttribute(l,a,v,I)}removeAttribute(l,a,v){this.delegate.removeAttribute(l,a,v)}addClass(l,a){this.delegate.addClass(l,a)}removeClass(l,a){this.delegate.removeClass(l,a)}setStyle(l,a,v,I){this.delegate.setStyle(l,a,v,I)}removeStyle(l,a,v){this.delegate.removeStyle(l,a,v)}setProperty(l,a,v){"@"==a.charAt(0)&&a==S0?this.disableAnimations(l,!!v):this.delegate.setProperty(l,a,v)}setValue(l,a){this.delegate.setValue(l,a)}listen(l,a,v){return this.delegate.listen(l,a,v)}disableAnimations(l,a){this.engine.disableAnimations(l,a)}}class pE extends gv{constructor(l,a,v,I,$){super(a,v,I,$),this.factory=l,this.namespaceId=a}setProperty(l,a,v){"@"==a.charAt(0)?"."==a.charAt(1)&&a==S0?this.disableAnimations(l,v=void 0===v||!!v):this.engine.process(this.namespaceId,l,a.slice(1),v):this.delegate.setProperty(l,a,v)}listen(l,a,v){if("@"==a.charAt(0)){const I=function x0(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(l);let $=a.slice(1),ne="";return"@"!=$.charAt(0)&&([$,ne]=function P0(g){const l=g.indexOf(".");return[g.substring(0,l),g.slice(l+1)]}($)),this.engine.listen(this.namespaceId,I,$,ne,de=>{this.factory.scheduleListenerCallback(de._data||-1,v,de)})}return this.delegate.listen(l,a,v)}}const mv=[{provide:Ki.S6,useClass:dE},{provide:hg,useFactory:function gE(){return new pg}},{provide:Cu,useClass:(()=>{class g extends Cu{constructor(a,v,I,$){super(a.body,v,I)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(v){return new(v||g)(n.KVO(W.qQ),n.KVO(Mf),n.KVO(hg),n.KVO(n.o8S))}}static{this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac})}}return g})()},{provide:n._9s,useFactory:function mE(g,l,a){return new fE(g,l,a)},deps:[p.B7,Cu,n.SKi]}],_v=[{provide:Mf,useFactory:()=>new uE},{provide:n.bc$,useValue:"BrowserAnimations"},...mv],yv=[{provide:Mf,useClass:Pf},{provide:n.bc$,useValue:"NoopAnimations"},...mv];let cb=(()=>{class g{static withConfig(a){return{ngModule:g,providers:a.disableAnimations?yv:_v}}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=n.$C({type:g})}static{this.\u0275inj=n.G2t({providers:_v,imports:[p.Bb]})}}return g})();const vv={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function O0(g,l,a){return()=>{const v=window.location.hostname,I=new URL(window.location.href);let $=vv[v]||I.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("themeInitializerFactory app.module businessId: "+$+" - hostname: "+v),g.loadTheme($)}}function Tu(g,l,a){const v=window.location.hostname,I=new URL(window.location.href);let $=vv[v]||I.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("initializeBusinessData app.module businessId:: "+$+" - hostname: "+v),()=>{g.loadBusinessData($).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(ne=>{console.error("Error loading business data:",ne)})}}let Ml=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=n.$C({type:g,bootstrap:[Lv]})}static{this.\u0275inj=n.G2t({providers:[{provide:n.hnV,useFactory:O0,deps:[q_,W.aZ,pe.Ix],multi:!0},{provide:n.hnV,useFactory:Tu,deps:[ke.A,W.aZ,pe.Ix],multi:!0}],imports:[p.Bb,pe.iI,nm,m_.cM,Ct.y5,qt.X8,We.bf.initializeApp(w__firebase),ho(()=>A_(w__firebase)),Bp(()=>H_()),ht(()=>Tm()),vi.X1,vi.YN,Ce.q1,cb]})}}return g})();p.sG().bootstrapModule(Ml).catch(g=>console.error(g))},4412:(ln,Ye,F)=>{F.d(Ye,{t:()=>p});var d=F(1413);class p extends d.B{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const pe=super._subscribe(Ce);return!pe.closed&&Ce.next(this._value),pe}getValue(){const{hasError:Ce,thrownError:pe,_value:ye}=this;if(Ce)throw pe;return this._throwIfClosed(),ye}next(Ce){super.next(this._value=Ce)}}},1985:(ln,Ye,F)=>{F.d(Ye,{c:()=>Ne});var d=F(7707),p=F(8359),n=F(3494),Ce=F(1203),pe=F(1026),ye=F(8071),Te=F(9786);let Ne=(()=>{class ve{constructor($e){$e&&(this._subscribe=$e)}lift($e){const At=new ve;return At.source=this,At.operator=$e,At}subscribe($e,At,dt){const jt=function ie(ve){return ve&&ve instanceof d.vU||function W(ve){return ve&&(0,ye.T)(ve.next)&&(0,ye.T)(ve.error)&&(0,ye.T)(ve.complete)}(ve)&&(0,p.Uv)(ve)}($e)?$e:new d.Ms($e,At,dt);return(0,Te.Y)(()=>{const{operator:Ot,source:pn}=this;jt.add(Ot?Ot.call(jt,pn):pn?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe($e){try{return this._subscribe($e)}catch(At){$e.error(At)}}forEach($e,At){return new(At=ke(At))((dt,jt)=>{const Ot=new d.Ms({next:pn=>{try{$e(pn)}catch(He){jt(He),Ot.unsubscribe()}},error:jt,complete:dt});this.subscribe(Ot)})}_subscribe($e){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe($e)}[n.s](){return this}pipe(...$e){return(0,Ce.m)($e)(this)}toPromise($e){return new($e=ke($e))((At,dt)=>{let jt;this.subscribe(Ot=>jt=Ot,Ot=>dt(Ot),()=>At(jt))})}}return ve.create=st=>new ve(st),ve})();function ke(ve){var st;return null!==(st=ve??pe.$.Promise)&&void 0!==st?st:Promise}},1413:(ln,Ye,F)=>{F.d(Ye,{B:()=>Te});var d=F(1985),p=F(8359);const Ce=(0,F(1853).L)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=F(7908),ye=F(9786);let Te=(()=>{class ke extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const ve=new Ne(this,this);return ve.operator=ie,ve}_throwIfClosed(){if(this.closed)throw new Ce}next(ie){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(ie)}})}error(ie){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ie)}})}complete(){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:ve,isStopped:st,observers:$e}=this;return ve||st?p.Kn:(this.currentObservers=null,$e.push(ie),new p.yU(()=>{this.currentObservers=null,(0,pe.o)($e,ie)}))}_checkFinalizedStatuses(ie){const{hasError:ve,thrownError:st,isStopped:$e}=this;ve?ie.error(st):$e&&ie.complete()}asObservable(){const ie=new d.c;return ie.source=this,ie}}return ke.create=(W,ie)=>new Ne(W,ie),ke})();class Ne extends Te{constructor(W,ie){super(),this.destination=W,this.source=ie}next(W){var ie,ve;null===(ve=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===ve||ve.call(ie,W)}error(W){var ie,ve;null===(ve=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===ve||ve.call(ie,W)}complete(){var W,ie;null===(ie=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===ie||ie.call(W)}_subscribe(W){var ie,ve;return null!==(ve=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(W))&&void 0!==ve?ve:p.Kn}}},7707:(ln,Ye,F)=>{F.d(Ye,{Ms:()=>dt,vU:()=>ve});var d=F(8071),p=F(8359),n=F(1026),Ce=F(5334),pe=F(5343);const ye=ke("C",void 0,void 0);function ke(fe,Je,Ue){return{kind:fe,value:Je,error:Ue}}var W=F(9270),ie=F(9786);class ve extends p.yU{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,p.Uv)(Je)&&Je.add(this)):this.destination=He}static create(Je,Ue,it){return new dt(Je,Ue,it)}next(Je){this.isStopped?pn(function Ne(fe){return ke("N",fe,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?pn(function Te(fe){return ke("E",void 0,fe)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?pn(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function $e(fe,Je){return st.call(fe,Je)}class At{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(Je)}catch(it){jt(it)}}error(Je){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(Je)}catch(it){jt(it)}else jt(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(Ue){jt(Ue)}}}class dt extends ve{constructor(Je,Ue,it){let Et;if(super(),(0,d.T)(Je)||!Je)Et={next:Je??void 0,error:Ue??void 0,complete:it??void 0};else{let Ut;this&&n.$.useDeprecatedNextContext?(Ut=Object.create(Je),Ut.unsubscribe=()=>this.unsubscribe(),Et={next:Je.next&&$e(Je.next,Ut),error:Je.error&&$e(Je.error,Ut),complete:Je.complete&&$e(Je.complete,Ut)}):Et=Je}this.destination=new At(Et)}}function jt(fe){n.$.useDeprecatedSynchronousErrorHandling?(0,ie.l)(fe):(0,Ce.m)(fe)}function pn(fe,Je){const{onStoppedNotification:Ue}=n.$;Ue&&W.f.setTimeout(()=>Ue(fe,Je))}const He={closed:!0,next:pe.l,error:function Ot(fe){throw fe},complete:pe.l}},8359:(ln,Ye,F)=>{F.d(Ye,{Kn:()=>ye,yU:()=>pe,Uv:()=>Te});var d=F(8071);const n=(0,F(1853).L)(ke=>function(ie){ke(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((ve,st)=>`${st+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var Ce=F(7908);class pe{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const $e of ie)$e.remove(this);else ie.remove(this);const{initialTeardown:ve}=this;if((0,d.T)(ve))try{ve()}catch($e){W=$e instanceof n?$e.errors:[$e]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const $e of st)try{Ne($e)}catch(At){W=W??[],At instanceof n?W=[...W,...At.errors]:W.push(At)}}if(W)throw new n(W)}}add(W){var ie;if(W&&W!==this)if(this.closed)Ne(W);else{if(W instanceof pe){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(W)}}_hasParent(W){const{_parentage:ie}=this;return ie===W||Array.isArray(ie)&&ie.includes(W)}_addParent(W){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(W),ie):ie?[ie,W]:W}_removeParent(W){const{_parentage:ie}=this;ie===W?this._parentage=null:Array.isArray(ie)&&(0,Ce.o)(ie,W)}remove(W){const{_finalizers:ie}=this;ie&&(0,Ce.o)(ie,W),W instanceof pe&&W._removeParent(this)}}pe.EMPTY=(()=>{const ke=new pe;return ke.closed=!0,ke})();const ye=pe.EMPTY;function Te(ke){return ke instanceof pe||ke&&"closed"in ke&&(0,d.T)(ke.remove)&&(0,d.T)(ke.add)&&(0,d.T)(ke.unsubscribe)}function Ne(ke){(0,d.T)(ke)?ke():ke.unsubscribe()}},1026:(ln,Ye,F)=>{F.d(Ye,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(ln,Ye,F)=>{F.d(Ye,{x:()=>pe});var d=F(6365),n=F(3794),Ce=F(8455);function pe(...ye){return function p(){return(0,d.U)(1)}()((0,Ce.H)(ye,(0,n.lI)(ye)))}},983:(ln,Ye,F)=>{F.d(Ye,{w:()=>p});const p=new(F(1985).c)(pe=>pe.complete())},8455:(ln,Ye,F)=>{F.d(Ye,{H:()=>Je});var d=F(8750),p=F(941),n=F(6745),ye=F(1985),Ne=F(4761),ke=F(8071),W=F(5225);function ve(Ue,it){if(!Ue)throw new Error("Iterable cannot be null");return new ye.c(Et=>{(0,W.N)(Et,it,()=>{const Ut=Ue[Symbol.asyncIterator]();(0,W.N)(Et,it,()=>{Ut.next().then(Se=>{Se.done?Et.complete():Et.next(Se.value)})},0,!0)})})}var st=F(5055),$e=F(9858),At=F(7441),dt=F(5397),jt=F(7953),Ot=F(591),pn=F(5196);function Je(Ue,it){return it?function fe(Ue,it){if(null!=Ue){if((0,st.l)(Ue))return function Ce(Ue,it){return(0,d.Tg)(Ue).pipe((0,n._)(it),(0,p.Q)(it))}(Ue,it);if((0,At.X)(Ue))return function Te(Ue,it){return new ye.c(Et=>{let Ut=0;return it.schedule(function(){Ut===Ue.length?Et.complete():(Et.next(Ue[Ut++]),Et.closed||this.schedule())})})}(Ue,it);if((0,$e.y)(Ue))return function pe(Ue,it){return(0,d.Tg)(Ue).pipe((0,n._)(it),(0,p.Q)(it))}(Ue,it);if((0,jt.T)(Ue))return ve(Ue,it);if((0,dt.x)(Ue))return function ie(Ue,it){return new ye.c(Et=>{let Ut;return(0,W.N)(Et,it,()=>{Ut=Ue[Ne.l](),(0,W.N)(Et,it,()=>{let Se,on;try{({value:Se,done:on}=Ut.next())}catch(bn){return void Et.error(bn)}on?Et.complete():Et.next(Se)},0,!0)}),()=>(0,ke.T)(Ut?.return)&&Ut.return()})}(Ue,it);if((0,pn.U)(Ue))return function He(Ue,it){return ve((0,pn.C)(Ue),it)}(Ue,it)}throw(0,Ot.L)(Ue)}(Ue,it):(0,d.Tg)(Ue)}},8750:(ln,Ye,F)=>{F.d(Ye,{Tg:()=>st});var d=F(1635),p=F(7441),n=F(9858),Ce=F(1985),pe=F(5055),ye=F(7953),Te=F(591),Ne=F(5397),ke=F(5196),W=F(8071),ie=F(5334),ve=F(3494);function st(fe){if(fe instanceof Ce.c)return fe;if(null!=fe){if((0,pe.l)(fe))return function $e(fe){return new Ce.c(Je=>{const Ue=fe[ve.s]();if((0,W.T)(Ue.subscribe))return Ue.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,p.X)(fe))return function At(fe){return new Ce.c(Je=>{for(let Ue=0;Ue<fe.length&&!Je.closed;Ue++)Je.next(fe[Ue]);Je.complete()})}(fe);if((0,n.y)(fe))return function dt(fe){return new Ce.c(Je=>{fe.then(Ue=>{Je.closed||(Je.next(Ue),Je.complete())},Ue=>Je.error(Ue)).then(null,ie.m)})}(fe);if((0,ye.T)(fe))return Ot(fe);if((0,Ne.x)(fe))return function jt(fe){return new Ce.c(Je=>{for(const Ue of fe)if(Je.next(Ue),Je.closed)return;Je.complete()})}(fe);if((0,ke.U)(fe))return function pn(fe){return Ot((0,ke.C)(fe))}(fe)}throw(0,Te.L)(fe)}function Ot(fe){return new Ce.c(Je=>{(function He(fe,Je){var Ue,it,Et,Ut;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Ue=(0,d.xN)(fe);!(it=yield Ue.next()).done;)if(Je.next(it.value),Je.closed)return}catch(Se){Et={error:Se}}finally{try{it&&!it.done&&(Ut=Ue.return)&&(yield Ut.call(Ue))}finally{if(Et)throw Et.error}}Je.complete()})})(fe,Je).catch(Ue=>Je.error(Ue))})}},7786:(ln,Ye,F)=>{F.d(Ye,{h:()=>ye});var d=F(6365),p=F(8750),n=F(983),Ce=F(3794),pe=F(8455);function ye(...Te){const Ne=(0,Ce.lI)(Te),ke=(0,Ce.R0)(Te,1/0),W=Te;return W.length?1===W.length?(0,p.Tg)(W[0]):(0,d.U)(ke)((0,pe.H)(W,Ne)):n.w}},7673:(ln,Ye,F)=>{F.d(Ye,{of:()=>n});var d=F(3794),p=F(8455);function n(...Ce){const pe=(0,d.lI)(Ce);return(0,p.H)(Ce,pe)}},8810:(ln,Ye,F)=>{F.d(Ye,{$:()=>n});var d=F(1985),p=F(8071);function n(Ce,pe){const ye=(0,p.T)(Ce)?Ce:()=>Ce,Te=Ne=>Ne.error(ye());return new d.c(pe?Ne=>pe.schedule(Te,0,Ne):Te)}},4360:(ln,Ye,F)=>{F.d(Ye,{_:()=>p});var d=F(7707);function p(Ce,pe,ye,Te,Ne){return new n(Ce,pe,ye,Te,Ne)}class n extends d.vU{constructor(pe,ye,Te,Ne,ke,W){super(pe),this.onFinalize=ke,this.shouldUnsubscribe=W,this._next=ye?function(ie){try{ye(ie)}catch(ve){pe.error(ve)}}:super._next,this._error=Ne?function(ie){try{Ne(ie)}catch(ve){pe.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ie){pe.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},9437:(ln,Ye,F)=>{F.d(Ye,{W:()=>Ce});var d=F(8750),p=F(4360),n=F(9974);function Ce(pe){return(0,n.N)((ye,Te)=>{let W,Ne=null,ke=!1;Ne=ye.subscribe((0,p._)(Te,void 0,void 0,ie=>{W=(0,d.Tg)(pe(ie,Ce(pe)(ye))),Ne?(Ne.unsubscribe(),Ne=null,W.subscribe(Te)):ke=!0})),ke&&(Ne.unsubscribe(),Ne=null,W.subscribe(Te))})}},274:(ln,Ye,F)=>{F.d(Ye,{H:()=>n});var d=F(1397),p=F(8071);function n(Ce,pe){return(0,p.T)(pe)?(0,d.Z)(Ce,pe,1):(0,d.Z)(Ce,1)}},9901:(ln,Ye,F)=>{F.d(Ye,{U:()=>n});var d=F(9974),p=F(4360);function n(Ce){return(0,d.N)((pe,ye)=>{let Te=!1;pe.subscribe((0,p._)(ye,Ne=>{Te=!0,ye.next(Ne)},()=>{Te||ye.next(Ce),ye.complete()}))})}},3294:(ln,Ye,F)=>{F.d(Ye,{F:()=>Ce});var d=F(3669),p=F(9974),n=F(4360);function Ce(ye,Te=d.D){return ye=ye??pe,(0,p.N)((Ne,ke)=>{let W,ie=!0;Ne.subscribe((0,n._)(ke,ve=>{const st=Te(ve);(ie||!ye(W,st))&&(ie=!1,W=st,ke.next(ve))}))})}function pe(ye,Te){return ye===Te}},5964:(ln,Ye,F)=>{F.d(Ye,{p:()=>n});var d=F(9974),p=F(4360);function n(Ce,pe){return(0,d.N)((ye,Te)=>{let Ne=0;ye.subscribe((0,p._)(Te,ke=>Ce.call(pe,ke,Ne++)&&Te.next(ke)))})}},980:(ln,Ye,F)=>{F.d(Ye,{j:()=>p});var d=F(9974);function p(n){return(0,d.N)((Ce,pe)=>{try{Ce.subscribe(pe)}finally{pe.add(n)}})}},1594:(ln,Ye,F)=>{F.d(Ye,{$:()=>Te});var d=F(9350),p=F(5964),n=F(6697),Ce=F(9901),pe=F(3774),ye=F(3669);function Te(Ne,ke){const W=arguments.length>=2;return ie=>ie.pipe(Ne?(0,p.p)((ve,st)=>Ne(ve,st,ie)):ye.D,(0,n.s)(1),W?(0,Ce.U)(ke):(0,pe.v)(()=>new d.G))}},6354:(ln,Ye,F)=>{F.d(Ye,{T:()=>n});var d=F(9974),p=F(4360);function n(Ce,pe){return(0,d.N)((ye,Te)=>{let Ne=0;ye.subscribe((0,p._)(Te,ke=>{Te.next(Ce.call(pe,ke,Ne++))}))})}},6365:(ln,Ye,F)=>{F.d(Ye,{U:()=>n});var d=F(1397),p=F(3669);function n(Ce=1/0){return(0,d.Z)(p.D,Ce)}},1397:(ln,Ye,F)=>{F.d(Ye,{Z:()=>Ne});var d=F(6354),p=F(8750),n=F(9974),Ce=F(5225),pe=F(4360),Te=F(8071);function Ne(ke,W,ie=1/0){return(0,Te.T)(W)?Ne((ve,st)=>(0,d.T)(($e,At)=>W(ve,$e,st,At))((0,p.Tg)(ke(ve,st))),ie):("number"==typeof W&&(ie=W),(0,n.N)((ve,st)=>function ye(ke,W,ie,ve,st,$e,At,dt){const jt=[];let Ot=0,pn=0,He=!1;const fe=()=>{He&&!jt.length&&!Ot&&W.complete()},Je=it=>Ot<ve?Ue(it):jt.push(it),Ue=it=>{$e&&W.next(it),Ot++;let Et=!1;(0,p.Tg)(ie(it,pn++)).subscribe((0,pe._)(W,Ut=>{st?.(Ut),$e?Je(Ut):W.next(Ut)},()=>{Et=!0},void 0,()=>{if(Et)try{for(Ot--;jt.length&&Ot<ve;){const Ut=jt.shift();At?(0,Ce.N)(W,At,()=>Ue(Ut)):Ue(Ut)}fe()}catch(Ut){W.error(Ut)}}))};return ke.subscribe((0,pe._)(W,Je,()=>{He=!0,fe()})),()=>{dt?.()}}(ve,st,ke,ie)))}},941:(ln,Ye,F)=>{F.d(Ye,{Q:()=>Ce});var d=F(5225),p=F(9974),n=F(4360);function Ce(pe,ye=0){return(0,p.N)((Te,Ne)=>{Te.subscribe((0,n._)(Ne,ke=>(0,d.N)(Ne,pe,()=>Ne.next(ke),ye),()=>(0,d.N)(Ne,pe,()=>Ne.complete(),ye),ke=>(0,d.N)(Ne,pe,()=>Ne.error(ke),ye)))})}},2816:(ln,Ye,F)=>{F.d(Ye,{S:()=>Ce});var d=F(9974),p=F(4360);function Ce(pe,ye){return(0,d.N)(function n(pe,ye,Te,Ne,ke){return(W,ie)=>{let ve=Te,st=ye,$e=0;W.subscribe((0,p._)(ie,At=>{const dt=$e++;st=ve?pe(st,At,dt):(ve=!0,At),Ne&&ie.next(st)},ke&&(()=>{ve&&ie.next(st),ie.complete()})))}}(pe,ye,arguments.length>=2,!0))}},7647:(ln,Ye,F)=>{F.d(Ye,{u:()=>pe});var d=F(8750),p=F(1413),n=F(7707),Ce=F(9974);function pe(Te={}){const{connector:Ne=(()=>new p.B),resetOnError:ke=!0,resetOnComplete:W=!0,resetOnRefCountZero:ie=!0}=Te;return ve=>{let st,$e,At,dt=0,jt=!1,Ot=!1;const pn=()=>{$e?.unsubscribe(),$e=void 0},He=()=>{pn(),st=At=void 0,jt=Ot=!1},fe=()=>{const Je=st;He(),Je?.unsubscribe()};return(0,Ce.N)((Je,Ue)=>{dt++,!Ot&&!jt&&pn();const it=At=At??Ne();Ue.add(()=>{dt--,0===dt&&!Ot&&!jt&&($e=ye(fe,ie))}),it.subscribe(Ue),!st&&dt>0&&(st=new n.Ms({next:Et=>it.next(Et),error:Et=>{Ot=!0,pn(),$e=ye(He,ke,Et),it.error(Et)},complete:()=>{jt=!0,pn(),$e=ye(He,W),it.complete()}}),(0,d.Tg)(Je).subscribe(st))})(ve)}}function ye(Te,Ne,...ke){if(!0===Ne)return void Te();if(!1===Ne)return;const W=new n.Ms({next:()=>{W.unsubscribe(),Te()}});return(0,d.Tg)(Ne(...ke)).subscribe(W)}},9172:(ln,Ye,F)=>{F.d(Ye,{Z:()=>Ce});var d=F(8793),p=F(3794),n=F(9974);function Ce(...pe){const ye=(0,p.lI)(pe);return(0,n.N)((Te,Ne)=>{(ye?(0,d.x)(pe,Te,ye):(0,d.x)(pe,Te)).subscribe(Ne)})}},6745:(ln,Ye,F)=>{F.d(Ye,{_:()=>p});var d=F(9974);function p(n,Ce=0){return(0,d.N)((pe,ye)=>{ye.add(n.schedule(()=>pe.subscribe(ye),Ce))})}},5558:(ln,Ye,F)=>{F.d(Ye,{n:()=>Ce});var d=F(8750),p=F(9974),n=F(4360);function Ce(pe,ye){return(0,p.N)((Te,Ne)=>{let ke=null,W=0,ie=!1;const ve=()=>ie&&!ke&&Ne.complete();Te.subscribe((0,n._)(Ne,st=>{ke?.unsubscribe();let $e=0;const At=W++;(0,d.Tg)(pe(st,At)).subscribe(ke=(0,n._)(Ne,dt=>Ne.next(ye?ye(st,dt,At,$e++):dt),()=>{ke=null,ve()}))},()=>{ie=!0,ve()}))})}},6697:(ln,Ye,F)=>{F.d(Ye,{s:()=>Ce});var d=F(983),p=F(9974),n=F(4360);function Ce(pe){return pe<=0?()=>d.w:(0,p.N)((ye,Te)=>{let Ne=0;ye.subscribe((0,n._)(Te,ke=>{++Ne<=pe&&(Te.next(ke),pe<=Ne&&Te.complete())}))})}},8141:(ln,Ye,F)=>{F.d(Ye,{M:()=>pe});var d=F(8071),p=F(9974),n=F(4360),Ce=F(3669);function pe(ye,Te,Ne){const ke=(0,d.T)(ye)||Te||Ne?{next:ye,error:Te,complete:Ne}:ye;return ke?(0,p.N)((W,ie)=>{var ve;null===(ve=ke.subscribe)||void 0===ve||ve.call(ke);let st=!0;W.subscribe((0,n._)(ie,$e=>{var At;null===(At=ke.next)||void 0===At||At.call(ke,$e),ie.next($e)},()=>{var $e;st=!1,null===($e=ke.complete)||void 0===$e||$e.call(ke),ie.complete()},$e=>{var At;st=!1,null===(At=ke.error)||void 0===At||At.call(ke,$e),ie.error($e)},()=>{var $e,At;st&&(null===($e=ke.unsubscribe)||void 0===$e||$e.call(ke)),null===(At=ke.finalize)||void 0===At||At.call(ke)}))}):Ce.D}},3774:(ln,Ye,F)=>{F.d(Ye,{v:()=>Ce});var d=F(9350),p=F(9974),n=F(4360);function Ce(ye=pe){return(0,p.N)((Te,Ne)=>{let ke=!1;Te.subscribe((0,n._)(Ne,W=>{ke=!0,Ne.next(W)},()=>ke?Ne.complete():Ne.error(ye())))})}function pe(){return new d.G}},6780:(ln,Ye,F)=>{F.d(Ye,{R:()=>pe});var d=F(8359);class p extends d.yU{constructor(Te,Ne){super()}schedule(Te,Ne=0){return this}}const n={setInterval(ye,Te,...Ne){const{delegate:ke}=n;return ke?.setInterval?ke.setInterval(ye,Te,...Ne):setInterval(ye,Te,...Ne)},clearInterval(ye){const{delegate:Te}=n;return(Te?.clearInterval||clearInterval)(ye)},delegate:void 0};var Ce=F(7908);class pe extends p{constructor(Te,Ne){super(Te,Ne),this.scheduler=Te,this.work=Ne,this.pending=!1}schedule(Te,Ne=0){var ke;if(this.closed)return this;this.state=Te;const W=this.id,ie=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(ie,W,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(ie,this.id,Ne),this}requestAsyncId(Te,Ne,ke=0){return n.setInterval(Te.flush.bind(Te,this),ke)}recycleAsyncId(Te,Ne,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return Ne;null!=Ne&&n.clearInterval(Ne)}execute(Te,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Te,Ne);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ne){let W,ke=!1;try{this.work(Te)}catch(ie){ke=!0,W=ie||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ne}=this,{actions:ke}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.o)(ke,this),null!=Te&&(this.id=this.recycleAsyncId(Ne,Te,null)),this.delay=null,super.unsubscribe()}}}},9687:(ln,Ye,F)=>{F.d(Ye,{q:()=>n});var d=F(6129);class p{constructor(pe,ye=p.now){this.schedulerActionCtor=pe,this.now=ye}schedule(pe,ye=0,Te){return new this.schedulerActionCtor(this,pe).schedule(Te,ye)}}p.now=d.U.now;class n extends p{constructor(pe,ye=p.now){super(pe,ye),this.actions=[],this._active=!1}flush(pe){const{actions:ye}=this;if(this._active)return void ye.push(pe);let Te;this._active=!0;do{if(Te=pe.execute(pe.state,pe.delay))break}while(pe=ye.shift());if(this._active=!1,Te){for(;pe=ye.shift();)pe.unsubscribe();throw Te}}}},3236:(ln,Ye,F)=>{F.d(Ye,{E:()=>n});var d=F(6780);const n=new(F(9687).q)(d.R)},6129:(ln,Ye,F)=>{F.d(Ye,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(ln,Ye,F)=>{F.d(Ye,{f:()=>d});const d={setTimeout(p,n,...Ce){const{delegate:pe}=d;return pe?.setTimeout?pe.setTimeout(p,n,...Ce):setTimeout(p,n,...Ce)},clearTimeout(p){const{delegate:n}=d;return(n?.clearTimeout||clearTimeout)(p)},delegate:void 0}},4761:(ln,Ye,F)=>{F.d(Ye,{l:()=>p});const p=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(ln,Ye,F)=>{F.d(Ye,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(ln,Ye,F)=>{F.d(Ye,{G:()=>p});const p=(0,F(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(ln,Ye,F)=>{F.d(Ye,{R0:()=>ye,ms:()=>Ce,lI:()=>pe});var d=F(8071);function n(Te){return Te[Te.length-1]}function Ce(Te){return(0,d.T)(n(Te))?Te.pop():void 0}function pe(Te){return function p(Te){return Te&&(0,d.T)(Te.schedule)}(n(Te))?Te.pop():void 0}function ye(Te,Ne){return"number"==typeof n(Te)?Te.pop():Ne}},3073:(ln,Ye,F)=>{F.d(Ye,{D:()=>pe});const{isArray:d}=Array,{getPrototypeOf:p,prototype:n,keys:Ce}=Object;function pe(Te){if(1===Te.length){const Ne=Te[0];if(d(Ne))return{args:Ne,keys:null};if(function ye(Te){return Te&&"object"==typeof Te&&p(Te)===n}(Ne)){const ke=Ce(Ne);return{args:ke.map(W=>Ne[W]),keys:ke}}}return{args:Te,keys:null}}},7908:(ln,Ye,F)=>{function d(p,n){if(p){const Ce=p.indexOf(n);0<=Ce&&p.splice(Ce,1)}}F.d(Ye,{o:()=>d})},1853:(ln,Ye,F)=>{function d(p){const Ce=p(pe=>{Error.call(pe),pe.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}F.d(Ye,{L:()=>d})},8496:(ln,Ye,F)=>{function d(p,n){return p.reduce((Ce,pe,ye)=>(Ce[pe]=n[ye],Ce),{})}F.d(Ye,{e:()=>d})},9786:(ln,Ye,F)=>{F.d(Ye,{Y:()=>n,l:()=>Ce});var d=F(1026);let p=null;function n(pe){if(d.$.useDeprecatedSynchronousErrorHandling){const ye=!p;if(ye&&(p={errorThrown:!1,error:null}),pe(),ye){const{errorThrown:Te,error:Ne}=p;if(p=null,Te)throw Ne}}else pe()}function Ce(pe){d.$.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=pe)}},5225:(ln,Ye,F)=>{function d(p,n,Ce,pe=0,ye=!1){const Te=n.schedule(function(){Ce(),ye?p.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(p.add(Te),!ye)return Te}F.d(Ye,{N:()=>d})},3669:(ln,Ye,F)=>{function d(p){return p}F.d(Ye,{D:()=>d})},7441:(ln,Ye,F)=>{F.d(Ye,{X:()=>d});const d=p=>p&&"number"==typeof p.length&&"function"!=typeof p},7953:(ln,Ye,F)=>{F.d(Ye,{T:()=>p});var d=F(8071);function p(n){return Symbol.asyncIterator&&(0,d.T)(n?.[Symbol.asyncIterator])}},8071:(ln,Ye,F)=>{function d(p){return"function"==typeof p}F.d(Ye,{T:()=>d})},5055:(ln,Ye,F)=>{F.d(Ye,{l:()=>n});var d=F(3494),p=F(8071);function n(Ce){return(0,p.T)(Ce[d.s])}},5397:(ln,Ye,F)=>{F.d(Ye,{x:()=>n});var d=F(4761),p=F(8071);function n(Ce){return(0,p.T)(Ce?.[d.l])}},9858:(ln,Ye,F)=>{F.d(Ye,{y:()=>p});var d=F(8071);function p(n){return(0,d.T)(n?.then)}},5196:(ln,Ye,F)=>{F.d(Ye,{C:()=>n,U:()=>Ce});var d=F(1635),p=F(8071);function n(pe){return(0,d.AQ)(this,arguments,function*(){const Te=pe.getReader();try{for(;;){const{value:Ne,done:ke}=yield(0,d.N3)(Te.read());if(ke)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Ne)}}finally{Te.releaseLock()}})}function Ce(pe){return(0,p.T)(pe?.getReader)}},9974:(ln,Ye,F)=>{F.d(Ye,{N:()=>n,S:()=>p});var d=F(8071);function p(Ce){return(0,d.T)(Ce?.lift)}function n(Ce){return pe=>{if(p(pe))return pe.lift(function(ye){try{return Ce(ye,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(ln,Ye,F)=>{F.d(Ye,{I:()=>Ce});var d=F(6354);const{isArray:p}=Array;function Ce(pe){return(0,d.T)(ye=>function n(pe,ye){return p(ye)?pe(...ye):pe(ye)}(pe,ye))}},5343:(ln,Ye,F)=>{function d(){}F.d(Ye,{l:()=>d})},1203:(ln,Ye,F)=>{F.d(Ye,{F:()=>p,m:()=>n});var d=F(3669);function p(...Ce){return n(Ce)}function n(Ce){return 0===Ce.length?d.D:1===Ce.length?Ce[0]:function(ye){return Ce.reduce((Te,Ne)=>Ne(Te),ye)}}},5334:(ln,Ye,F)=>{F.d(Ye,{m:()=>n});var d=F(1026),p=F(9270);function n(Ce){p.f.setTimeout(()=>{const{onUnhandledError:pe}=d.$;if(!pe)throw Ce;pe(Ce)})}},591:(ln,Ye,F)=>{function d(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ye,{L:()=>d})},9969:(ln,Ye,F)=>{F.d(Ye,{FX:()=>pn,K2:()=>Te,Ro:()=>p,S6:()=>d,hZ:()=>Ce,i0:()=>pe,iF:()=>Ne,kY:()=>ie,kp:()=>n,sf:()=>jt,ui:()=>Ot});class d{}class p{}const n="*";function Ce(He,fe){return{type:7,name:He,definitions:fe,options:{}}}function pe(He,fe=null){return{type:4,styles:fe,timings:He}}function Te(He,fe=null){return{type:2,steps:He,options:fe}}function Ne(He){return{type:6,styles:He,offset:null}}function ie(He,fe,Je=null){return{type:1,expr:He,animation:fe,options:Je}}class jt{constructor(fe=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=fe+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}onStart(fe){this._originalOnStartFns.push(fe),this._onStartFns.push(fe)}onDone(fe){this._originalOnDoneFns.push(fe),this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fe=>fe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(fe){this._position=this.totalTime?fe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(fe){const Je="start"==fe?this._onStartFns:this._onDoneFns;Je.forEach(Ue=>Ue()),Je.length=0}}class Ot{constructor(fe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=fe;let Je=0,Ue=0,it=0;const Et=this.players.length;0==Et?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ut=>{Ut.onDone(()=>{++Je==Et&&this._onFinish()}),Ut.onDestroy(()=>{++Ue==Et&&this._onDestroy()}),Ut.onStart(()=>{++it==Et&&this._onStart()})}),this.totalTime=this.players.reduce((Ut,Se)=>Math.max(Ut,Se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}init(){this.players.forEach(fe=>fe.init())}onStart(fe){this._onStartFns.push(fe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fe=>fe()),this._onStartFns=[])}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(fe=>fe.play())}pause(){this.players.forEach(fe=>fe.pause())}restart(){this.players.forEach(fe=>fe.restart())}finish(){this._onFinish(),this.players.forEach(fe=>fe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(fe=>fe.destroy()),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this.players.forEach(fe=>fe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(fe){const Je=fe*this.totalTime;this.players.forEach(Ue=>{const it=Ue.totalTime?Math.min(1,Je/Ue.totalTime):1;Ue.setPosition(it)})}getPosition(){const fe=this.players.reduce((Je,Ue)=>null===Je||Ue.totalTime>Je.totalTime?Ue:Je,null);return null!=fe?fe.getPosition():0}beforeDestroy(){this.players.forEach(fe=>{fe.beforeDestroy&&fe.beforeDestroy()})}triggerCallback(fe){const Je="start"==fe?this._onStartFns:this._onDoneFns;Je.forEach(Ue=>Ue()),Je.length=0}}const pn="!"},177:(ln,Ye,F)=>{F.d(Ye,{AJ:()=>ii,B3:()=>Ie,Jj:()=>Ds,MD:()=>Qs,N0:()=>Un,P9:()=>as,QT:()=>n,QX:()=>Wr,Sm:()=>At,Sq:()=>Ci,VF:()=>pe,Vy:()=>Ps,Xr:()=>Fe,YU:()=>On,ZD:()=>Ce,_b:()=>fn,aZ:()=>jt,bT:()=>no,e1:()=>qi,fG:()=>is,fw:()=>dt,hb:()=>st,hj:()=>Ne,lG:()=>xs,qQ:()=>ye,ux:()=>ri});var d=F(7705);let p=null;function n(){return p}function Ce(M){p||(p=M)}class pe{}const ye=new d.nKC("DocumentToken");let Te=(()=>{class M{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Q){return new(Q||M)}}static{this.\u0275prov=d.jDH({token:M,factory:function(){return(0,d.WQX)(ke)},providedIn:"platform"})}}return M})();const Ne=new d.nKC("Location Initialized");let ke=(()=>{class M extends Te{constructor(){super(),this._doc=(0,d.WQX)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return n().getBaseHref(this._doc)}onPopState(B){const Q=n().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",B,!1),()=>Q.removeEventListener("popstate",B)}onHashChange(B){const Q=n().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",B,!1),()=>Q.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,Q,Me){this._history.pushState(B,Q,Me)}replaceState(B,Q,Me){this._history.replaceState(B,Q,Me)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(Q){return new(Q||M)}}static{this.\u0275prov=d.jDH({token:M,factory:function(){return new M},providedIn:"platform"})}}return M})();function W(M,re){if(0==M.length)return re;if(0==re.length)return M;let B=0;return M.endsWith("/")&&B++,re.startsWith("/")&&B++,2==B?M+re.substring(1):1==B?M+re:M+"/"+re}function ie(M){const re=M.match(/#|\?|$/),B=re&&re.index||M.length;return M.slice(0,B-("/"===M[B-1]?1:0))+M.slice(B)}function ve(M){return M&&"?"!==M[0]?"?"+M:M}let st=(()=>{class M{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Q){return new(Q||M)}}static{this.\u0275prov=d.jDH({token:M,factory:function(){return(0,d.WQX)(At)},providedIn:"root"})}}return M})();const $e=new d.nKC("appBaseHref");let At=(()=>{class M extends st{constructor(B,Q){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return W(this._baseHref,B)}path(B=!1){const Q=this._platformLocation.pathname+ve(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&B?`${Q}${Me}`:Q}pushState(B,Q,Me,xt){const $t=this.prepareExternalUrl(Me+ve(xt));this._platformLocation.pushState(B,Q,$t)}replaceState(B,Q,Me,xt){const $t=this.prepareExternalUrl(Me+ve(xt));this._platformLocation.replaceState(B,Q,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Q){return new(Q||M)(d.KVO(Te),d.KVO($e,8))}}static{this.\u0275prov=d.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),dt=(()=>{class M extends st{constructor(B,Q){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(B){const Q=W(this._baseHref,B);return Q.length>0?"#"+Q:Q}pushState(B,Q,Me,xt){let $t=this.prepareExternalUrl(Me+ve(xt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(B,Q,$t)}replaceState(B,Q,Me,xt){let $t=this.prepareExternalUrl(Me+ve(xt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(B,Q,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Q){return new(Q||M)(d.KVO(Te),d.KVO($e,8))}}static{this.\u0275prov=d.jDH({token:M,factory:M.\u0275fac})}}return M})(),jt=(()=>{class M{constructor(B){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const Q=this._locationStrategy.getBaseHref();this._basePath=function fe(M){if(new RegExp("^(https?:)?//").test(M)){const[,B]=M.split(/\/\/[^\/]+/);return B}return M}(ie(He(Q))),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,Q=""){return this.path()==this.normalize(B+ve(Q))}normalize(B){return M.stripTrailingSlash(function pn(M,re){if(!M||!re.startsWith(M))return re;const B=re.substring(M.length);return""===B||["/",";","?","#"].includes(B[0])?B:re}(this._basePath,He(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,Q="",Me=null){this._locationStrategy.pushState(Me,"",B,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+ve(Q)),Me)}replaceState(B,Q="",Me=null){this._locationStrategy.replaceState(Me,"",B,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+ve(Q)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",Q){this._urlChangeListeners.forEach(Me=>Me(B,Q))}subscribe(B,Q,Me){return this._subject.subscribe({next:B,error:Q,complete:Me})}static{this.normalizeQueryParams=ve}static{this.joinWithSlash=W}static{this.stripTrailingSlash=ie}static{this.\u0275fac=function(Q){return new(Q||M)(d.KVO(st))}}static{this.\u0275prov=d.jDH({token:M,factory:function(){return function Ot(){return new jt((0,d.KVO)(st))}()},providedIn:"root"})}}return M})();function He(M){return M.replace(/\/index.html$/,"")}var Ue=function(M){return M[M.Decimal=0]="Decimal",M[M.Percent=1]="Percent",M[M.Currency=2]="Currency",M[M.Scientific=3]="Scientific",M}(Ue||{}),on=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(on||{});function be(M,re){const B=(0,d.H5H)(M),Q=B[d.KH2.NumberSymbols][re];if(typeof Q>"u"){if(re===on.CurrencyDecimal)return B[d.KH2.NumberSymbols][on.Decimal];if(re===on.CurrencyGroup)return B[d.KH2.NumberSymbols][on.Group]}return Q}const L=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yn(M){const re=parseInt(M);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+M);return re}function fn(M,re){re=encodeURIComponent(re);for(const B of M.split(";")){const Q=B.indexOf("="),[Me,xt]=-1==Q?[B,""]:[B.slice(0,Q),B.slice(Q+1)];if(Me.trim()===re)return decodeURIComponent(xt)}return null}const Vn=/\s+/,vn=[];let On=(()=>{class M{constructor(B,Q,Me,xt){this._iterableDiffers=B,this._keyValueDiffers=Q,this._ngEl=Me,this._renderer=xt,this.initialClasses=vn,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Vn):vn}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Vn):B}ngDoCheck(){for(const Q of this.initialClasses)this._updateState(Q,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const Q of B)this._updateState(Q,!0);else if(null!=B)for(const Q of Object.keys(B))this._updateState(Q,!!B[Q]);this._applyStateDiff()}_updateState(B,Q){const Me=this.stateMap.get(B);void 0!==Me?(Me.enabled!==Q&&(Me.changed=!0,Me.enabled=Q),Me.touched=!0):this.stateMap.set(B,{enabled:Q,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const Q=B[0],Me=B[1];Me.changed?(this._toggleClass(Q,Me.enabled),Me.changed=!1):Me.touched||(Me.enabled&&this._toggleClass(Q,!1),this.stateMap.delete(Q)),Me.touched=!1}}_toggleClass(B,Q){(B=B.trim()).length>0&&B.split(Vn).forEach(Me=>{Q?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d._q3),d.rXU(d.MKu),d.rXU(d.aKT),d.rXU(d.sFG))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return M})();class or{constructor(re,B,Q,Me){this.$implicit=re,this.ngForOf=B,this.index=Q,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ci=(()=>{class M{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,Q,Me){this._viewContainer=B,this._template=Q,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const Q=this._viewContainer;B.forEachOperation((Me,xt,$t)=>{if(null==Me.previousIndex)Q.createEmbeddedView(this._template,new or(Me.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)Q.remove(null===xt?void 0:xt);else if(null!==xt){const tr=Q.get(xt);Q.move(tr,$t),Hi(tr,Me)}});for(let Me=0,xt=Q.length;Me<xt;Me++){const tr=Q.get(Me).context;tr.index=Me,tr.count=xt,tr.ngForOf=this._ngForOf}B.forEachIdentityChange(Me=>{Hi(Q.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(B,Q){return!0}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return M})();function Hi(M,re){M.context.$implicit=re.item}let no=(()=>{class M{constructor(B,Q){this._viewContainer=B,this._context=new Xs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Ui("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Ui("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,Q){return!0}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d.c1b),d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return M})();class Xs{constructor(){this.$implicit=null,this.ngIf=null}}function Ui(M,re){if(re&&!re.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,d.Tbb)(re)}'.`)}class po{constructor(re,B){this._viewContainerRef=re,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let ri=(()=>{class M{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const Q=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const Q of this._defaultViews)Q.enforceState(B)}}static{this.\u0275fac=function(Q){return new(Q||M)}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return M})(),qi=(()=>{class M{constructor(B,Q,Me){this.ngSwitch=Me,Me._addCase(),this._view=new po(B,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(ri,9))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return M})(),is=(()=>{class M{constructor(B,Q,Me){Me._addDefault(new po(B,Q))}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(ri,9))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return M})(),Ie=(()=>{class M{constructor(B,Q,Me){this._ngEl=B,this._differs=Q,this._renderer=Me,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,Q){const[Me,xt]=B.split("."),$t=-1===Me.indexOf("-")?void 0:d.czy.DashCase;null!=Q?this._renderer.setStyle(this._ngEl.nativeElement,Me,xt?`${Q}${xt}`:Q,$t):this._renderer.removeStyle(this._ngEl.nativeElement,Me,$t)}_applyChanges(B){B.forEachRemovedItem(Q=>this._setStyle(Q.key,null)),B.forEachAddedItem(Q=>this._setStyle(Q.key,Q.currentValue)),B.forEachChangedItem(Q=>this._setStyle(Q.key,Q.currentValue))}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d.aKT),d.rXU(d.MKu),d.rXU(d.sFG))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return M})();function er(M,re){return new d.wOt(2100,!1)}class $i{createSubscription(re,B){return(0,d.O8t)(()=>re.subscribe({next:B,error:Q=>{throw Q}}))}dispose(re){(0,d.O8t)(()=>re.unsubscribe())}}class wo{createSubscription(re,B){return re.then(B,Q=>{throw Q})}dispose(re){}}const li=new wo,ia=new $i;let Ds=(()=>{class M{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,Q=>this._updateLatestValue(B,Q))}_selectStrategy(B){if((0,d.jNT)(B))return li;if((0,d.zjR)(B))return ia;throw er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,Q){B===this._obj&&(this._latestValue=Q,this._ref.markForCheck())}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d.gRc,16))}}static{this.\u0275pipe=d.EJ8({name:"async",type:M,pure:!1,standalone:!0})}}return M})(),xs=(()=>{class M{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=Fs}transform(B,Q=Fs){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Me=this.differ.diff(B),xt=Q!==this.compareFn;return Me&&(this.keyValues=[],Me.forEachItem($t=>{this.keyValues.push(function os(M,re){return{key:M,value:re}}($t.key,$t.currentValue))})),(Me||xt)&&(this.keyValues.sort(Q),this.compareFn=Q),this.keyValues}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d.MKu,16))}}static{this.\u0275pipe=d.EJ8({name:"keyvalue",type:M,pure:!1,standalone:!0})}}return M})();function Fs(M,re){const B=M.key,Q=re.key;if(B===Q)return 0;if(void 0===B)return 1;if(void 0===Q)return-1;if(null===B)return 1;if(null===Q)return-1;if("string"==typeof B&&"string"==typeof Q)return B<Q?-1:1;if("number"==typeof B&&"number"==typeof Q)return B-Q;if("boolean"==typeof B&&"boolean"==typeof Q)return B<Q?-1:1;const Me=String(B),xt=String(Q);return Me==xt?0:Me<xt?-1:1}let Wr=(()=>{class M{constructor(B){this._locale=B}transform(B,Q,Me){if(!function Dr(M){return!(null==M||""===M||M!=M)}(B))return null;Me=Me||this._locale;try{return function Vt(M,re,B){return function xe(M,re,B,Q,Me,xt,$t=!1){let tr="",ni=!1;if(isFinite(M)){let Ti=function dn(M){let Q,Me,xt,$t,tr,re=Math.abs(M)+"",B=0;for((Me=re.indexOf("."))>-1&&(re=re.replace(".","")),(xt=re.search(/e/i))>0?(Me<0&&(Me=xt),Me+=+re.slice(xt+1),re=re.substring(0,xt)):Me<0&&(Me=re.length),xt=0;"0"===re.charAt(xt);xt++);if(xt===(tr=re.length))Q=[0],Me=1;else{for(tr--;"0"===re.charAt(tr);)tr--;for(Me-=xt,Q=[],$t=0;xt<=tr;xt++,$t++)Q[$t]=Number(re.charAt(xt))}return Me>22&&(Q=Q.splice(0,21),B=Me-1,Me=1),{digits:Q,exponent:B,integerLen:Me}}(M);$t&&(Ti=function _n(M){if(0===M.digits[0])return M;const re=M.digits.length-M.integerLen;return M.exponent?M.exponent+=2:(0===re?M.digits.push(0,0):1===re&&M.digits.push(0),M.integerLen+=2),M}(Ti));let pi=re.minInt,Pr=re.minFrac,yi=re.maxFrac;if(xt){const Js=xt.match(L);if(null===Js)throw new Error(`${xt} is not a valid digit info`);const Us=Js[1],Es=Js[3],Lo=Js[5];null!=Us&&(pi=yn(Us)),null!=Es&&(Pr=yn(Es)),null!=Lo?yi=yn(Lo):null!=Es&&Pr>yi&&(yi=Pr)}!function ur(M,re,B){if(re>B)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${B}).`);let Q=M.digits,Me=Q.length-M.integerLen;const xt=Math.min(Math.max(re,Me),B);let $t=xt+M.integerLen,tr=Q[$t];if($t>0){Q.splice(Math.max(M.integerLen,$t));for(let Pr=$t;Pr<Q.length;Pr++)Q[Pr]=0}else{Me=Math.max(0,Me),M.integerLen=1,Q.length=Math.max(1,$t=xt+1),Q[0]=0;for(let Pr=1;Pr<$t;Pr++)Q[Pr]=0}if(tr>=5)if($t-1<0){for(let Pr=0;Pr>$t;Pr--)Q.unshift(0),M.integerLen++;Q.unshift(1),M.integerLen++}else Q[$t-1]++;for(;Me<Math.max(0,xt);Me++)Q.push(0);let ni=0!==xt;const Ti=re+M.integerLen,pi=Q.reduceRight(function(Pr,yi,Oi,Li){return Li[Oi]=(yi+=Pr)<10?yi:yi-10,ni&&(0===Li[Oi]&&Oi>=Ti?Li.pop():ni=!1),yi>=10?1:0},0);pi&&(Q.unshift(pi),M.integerLen++)}(Ti,Pr,yi);let Oi=Ti.digits,Li=Ti.integerLen;const _o=Ti.exponent;let vs=[];for(ni=Oi.every(Js=>!Js);Li<pi;Li++)Oi.unshift(0);for(;Li<0;Li++)Oi.unshift(0);Li>0?vs=Oi.splice(Li,Oi.length):(vs=Oi,Oi=[0]);const ua=[];for(Oi.length>=re.lgSize&&ua.unshift(Oi.splice(-re.lgSize,Oi.length).join(""));Oi.length>re.gSize;)ua.unshift(Oi.splice(-re.gSize,Oi.length).join(""));Oi.length&&ua.unshift(Oi.join("")),tr=ua.join(be(B,Q)),vs.length&&(tr+=be(B,Me)+vs.join("")),_o&&(tr+=be(B,on.Exponential)+"+"+_o)}else tr=be(B,on.Infinity);return tr=M<0&&!ni?re.negPre+tr+re.negSuf:re.posPre+tr+re.posSuf,tr}(M,function Zt(M,re="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Q=M.split(";"),Me=Q[0],xt=Q[1],$t=-1!==Me.indexOf(".")?Me.split("."):[Me.substring(0,Me.lastIndexOf("0")+1),Me.substring(Me.lastIndexOf("0")+1)],tr=$t[0],ni=$t[1]||"";B.posPre=tr.substring(0,tr.indexOf("#"));for(let pi=0;pi<ni.length;pi++){const Pr=ni.charAt(pi);"0"===Pr?B.minFrac=B.maxFrac=pi+1:"#"===Pr?B.maxFrac=pi+1:B.posSuf+=Pr}const Ti=tr.split(",");if(B.gSize=Ti[1]?Ti[1].length:0,B.lgSize=Ti[2]||Ti[1]?(Ti[2]||Ti[1]).length:0,xt){const pi=Me.length-B.posPre.length-B.posSuf.length,Pr=xt.indexOf("#");B.negPre=xt.substring(0,Pr).replace(/'/g,""),B.negSuf=xt.slice(Pr+pi).replace(/'/g,"")}else B.negPre=re+B.posPre,B.negSuf=B.posSuf;return B}(function Be(M,re){return(0,d.H5H)(M)[d.KH2.NumberFormats][re]}(re,Ue.Decimal),be(re,on.MinusSign)),re,on.Group,on.Decimal,B)}(function es(M){if("string"==typeof M&&!isNaN(Number(M)-parseFloat(M)))return Number(M);if("number"!=typeof M)throw new Error(`${M} is not a number`);return M}(B),Me,Q)}catch(xt){throw er()}}static{this.\u0275fac=function(Q){return new(Q||M)(d.rXU(d.xe9,16))}}static{this.\u0275pipe=d.EJ8({name:"number",type:M,pure:!0,standalone:!0})}}return M})();let as=(()=>{class M{transform(B,Q,Me){if(null==B)return null;if(!this.supports(B))throw er();return B.slice(Q,Me)}supports(B){return"string"==typeof B||Array.isArray(B)}static{this.\u0275fac=function(Q){return new(Q||M)}}static{this.\u0275pipe=d.EJ8({name:"slice",type:M,pure:!1,standalone:!0})}}return M})(),Qs=(()=>{class M{static{this.\u0275fac=function(Q){return new(Q||M)}}static{this.\u0275mod=d.$C({type:M})}static{this.\u0275inj=d.G2t({})}}return M})();const ii="browser",_s="server";function Ps(M){return M===_s}let Fe=(()=>{class M{static{this.\u0275prov=(0,d.jDH)({token:M,providedIn:"root",factory:()=>new rt((0,d.KVO)(ye),window)})}}return M})();class rt{constructor(re,B){this.document=re,this.window=B,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const B=function bt(M,re){const B=M.getElementById(re)||M.getElementsByName(re)[0];if(B)return B;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const Q=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Me=Q.currentNode;for(;Me;){const xt=Me.shadowRoot;if(xt){const $t=xt.getElementById(re)||xt.querySelector(`[name="${re}"]`);if($t)return $t}Me=Q.nextNode()}}return null}(this.document,re);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const B=re.getBoundingClientRect(),Q=B.left+this.window.pageXOffset,Me=B.top+this.window.pageYOffset,xt=this.offset();this.window.scrollTo(Q-xt[0],Me-xt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Un{}},1626:(ln,Ye,F)=>{F.d(Ye,{Qq:()=>ot,q1:()=>L});var d=F(7705),p=F(7673),n=F(8455),Ce=F(1985),pe=F(274),ye=F(5964),Te=F(6354),Ne=F(980),ke=F(5558),W=F(177);class ie{}class ve{}class st{constructor(Pe){this.normalizedNames=new Map,this.lazyUpdate=null,Pe?"string"==typeof Pe?this.lazyInit=()=>{this.headers=new Map,Pe.split("\n").forEach(ze=>{const Vt=ze.indexOf(":");if(Vt>0){const Zt=ze.slice(0,Vt),_n=Zt.toLowerCase(),dn=ze.slice(Vt+1).trim();this.maybeSetNormalizedName(Zt,_n),this.headers.has(_n)?this.headers.get(_n).push(dn):this.headers.set(_n,[dn])}})}:typeof Headers<"u"&&Pe instanceof Headers?(this.headers=new Map,Pe.forEach((ze,Vt)=>{this.setHeaderEntries(Vt,ze)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Pe).forEach(([ze,Vt])=>{this.setHeaderEntries(ze,Vt)})}:this.headers=new Map}has(Pe){return this.init(),this.headers.has(Pe.toLowerCase())}get(Pe){this.init();const ze=this.headers.get(Pe.toLowerCase());return ze&&ze.length>0?ze[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Pe){return this.init(),this.headers.get(Pe.toLowerCase())||null}append(Pe,ze){return this.clone({name:Pe,value:ze,op:"a"})}set(Pe,ze){return this.clone({name:Pe,value:ze,op:"s"})}delete(Pe,ze){return this.clone({name:Pe,value:ze,op:"d"})}maybeSetNormalizedName(Pe,ze){this.normalizedNames.has(ze)||this.normalizedNames.set(ze,Pe)}init(){this.lazyInit&&(this.lazyInit instanceof st?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Pe=>this.applyUpdate(Pe)),this.lazyUpdate=null))}copyFrom(Pe){Pe.init(),Array.from(Pe.headers.keys()).forEach(ze=>{this.headers.set(ze,Pe.headers.get(ze)),this.normalizedNames.set(ze,Pe.normalizedNames.get(ze))})}clone(Pe){const ze=new st;return ze.lazyInit=this.lazyInit&&this.lazyInit instanceof st?this.lazyInit:this,ze.lazyUpdate=(this.lazyUpdate||[]).concat([Pe]),ze}applyUpdate(Pe){const ze=Pe.name.toLowerCase();switch(Pe.op){case"a":case"s":let Vt=Pe.value;if("string"==typeof Vt&&(Vt=[Vt]),0===Vt.length)return;this.maybeSetNormalizedName(Pe.name,ze);const Zt=("a"===Pe.op?this.headers.get(ze):void 0)||[];Zt.push(...Vt),this.headers.set(ze,Zt);break;case"d":const _n=Pe.value;if(_n){let dn=this.headers.get(ze);if(!dn)return;dn=dn.filter(ur=>-1===_n.indexOf(ur)),0===dn.length?(this.headers.delete(ze),this.normalizedNames.delete(ze)):this.headers.set(ze,dn)}else this.headers.delete(ze),this.normalizedNames.delete(ze)}}setHeaderEntries(Pe,ze){const Vt=(Array.isArray(ze)?ze:[ze]).map(_n=>_n.toString()),Zt=Pe.toLowerCase();this.headers.set(Zt,Vt),this.maybeSetNormalizedName(Pe,Zt)}forEach(Pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(ze=>Pe(this.normalizedNames.get(ze),this.headers.get(ze)))}}class At{encodeKey(Pe){return pn(Pe)}encodeValue(Pe){return pn(Pe)}decodeKey(Pe){return decodeURIComponent(Pe)}decodeValue(Pe){return decodeURIComponent(Pe)}}const jt=/%(\d[a-f0-9])/gi,Ot={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pn(xe){return encodeURIComponent(xe).replace(jt,(Pe,ze)=>Ot[ze]??Pe)}function He(xe){return`${xe}`}class fe{constructor(Pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Pe.encoder||new At,Pe.fromString){if(Pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dt(xe,Pe){const ze=new Map;return xe.length>0&&xe.replace(/^\?/,"").split("&").forEach(Zt=>{const _n=Zt.indexOf("="),[dn,ur]=-1==_n?[Pe.decodeKey(Zt),""]:[Pe.decodeKey(Zt.slice(0,_n)),Pe.decodeValue(Zt.slice(_n+1))],yn=ze.get(dn)||[];yn.push(ur),ze.set(dn,yn)}),ze}(Pe.fromString,this.encoder)}else Pe.fromObject?(this.map=new Map,Object.keys(Pe.fromObject).forEach(ze=>{const Vt=Pe.fromObject[ze],Zt=Array.isArray(Vt)?Vt.map(He):[He(Vt)];this.map.set(ze,Zt)})):this.map=null}has(Pe){return this.init(),this.map.has(Pe)}get(Pe){this.init();const ze=this.map.get(Pe);return ze?ze[0]:null}getAll(Pe){return this.init(),this.map.get(Pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Pe,ze){return this.clone({param:Pe,value:ze,op:"a"})}appendAll(Pe){const ze=[];return Object.keys(Pe).forEach(Vt=>{const Zt=Pe[Vt];Array.isArray(Zt)?Zt.forEach(_n=>{ze.push({param:Vt,value:_n,op:"a"})}):ze.push({param:Vt,value:Zt,op:"a"})}),this.clone(ze)}set(Pe,ze){return this.clone({param:Pe,value:ze,op:"s"})}delete(Pe,ze){return this.clone({param:Pe,value:ze,op:"d"})}toString(){return this.init(),this.keys().map(Pe=>{const ze=this.encoder.encodeKey(Pe);return this.map.get(Pe).map(Vt=>ze+"="+this.encoder.encodeValue(Vt)).join("&")}).filter(Pe=>""!==Pe).join("&")}clone(Pe){const ze=new fe({encoder:this.encoder});return ze.cloneFrom=this.cloneFrom||this,ze.updates=(this.updates||[]).concat(Pe),ze}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Pe=>this.map.set(Pe,this.cloneFrom.map.get(Pe))),this.updates.forEach(Pe=>{switch(Pe.op){case"a":case"s":const ze=("a"===Pe.op?this.map.get(Pe.param):void 0)||[];ze.push(He(Pe.value)),this.map.set(Pe.param,ze);break;case"d":if(void 0===Pe.value){this.map.delete(Pe.param);break}{let Vt=this.map.get(Pe.param)||[];const Zt=Vt.indexOf(He(Pe.value));-1!==Zt&&Vt.splice(Zt,1),Vt.length>0?this.map.set(Pe.param,Vt):this.map.delete(Pe.param)}}}),this.cloneFrom=this.updates=null)}}class Ue{constructor(){this.map=new Map}set(Pe,ze){return this.map.set(Pe,ze),this}get(Pe){return this.map.has(Pe)||this.map.set(Pe,Pe.defaultValue()),this.map.get(Pe)}delete(Pe){return this.map.delete(Pe),this}has(Pe){return this.map.has(Pe)}keys(){return this.map.keys()}}function Et(xe){return typeof ArrayBuffer<"u"&&xe instanceof ArrayBuffer}function Ut(xe){return typeof Blob<"u"&&xe instanceof Blob}function Se(xe){return typeof FormData<"u"&&xe instanceof FormData}class bn{constructor(Pe,ze,Vt,Zt){let _n;if(this.url=ze,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Pe.toUpperCase(),function it(xe){switch(xe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Zt?(this.body=void 0!==Vt?Vt:null,_n=Zt):_n=Vt,_n&&(this.reportProgress=!!_n.reportProgress,this.withCredentials=!!_n.withCredentials,_n.responseType&&(this.responseType=_n.responseType),_n.headers&&(this.headers=_n.headers),_n.context&&(this.context=_n.context),_n.params&&(this.params=_n.params)),this.headers||(this.headers=new st),this.context||(this.context=new Ue),this.params){const dn=this.params.toString();if(0===dn.length)this.urlWithParams=ze;else{const ur=ze.indexOf("?");this.urlWithParams=ze+(-1===ur?"?":ur<ze.length-1?"&":"")+dn}}else this.params=new fe,this.urlWithParams=ze}serializeBody(){return null===this.body?null:Et(this.body)||Ut(this.body)||Se(this.body)||function on(xe){return typeof URLSearchParams<"u"&&xe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Se(this.body)?null:Ut(this.body)?this.body.type||null:Et(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Pe={}){const ze=Pe.method||this.method,Vt=Pe.url||this.url,Zt=Pe.responseType||this.responseType,_n=void 0!==Pe.body?Pe.body:this.body,dn=void 0!==Pe.withCredentials?Pe.withCredentials:this.withCredentials,ur=void 0!==Pe.reportProgress?Pe.reportProgress:this.reportProgress;let yn=Pe.headers||this.headers,ci=Pe.params||this.params;const vt=Pe.context??this.context;return void 0!==Pe.setHeaders&&(yn=Object.keys(Pe.setHeaders).reduce((Ze,Rt)=>Ze.set(Rt,Pe.setHeaders[Rt]),yn)),Pe.setParams&&(ci=Object.keys(Pe.setParams).reduce((Ze,Rt)=>Ze.set(Rt,Pe.setParams[Rt]),ci)),new bn(ze,Vt,_n,{params:ci,headers:yn,context:vt,reportProgress:ur,responseType:Zt,withCredentials:dn})}}var jn=function(xe){return xe[xe.Sent=0]="Sent",xe[xe.UploadProgress=1]="UploadProgress",xe[xe.ResponseHeader=2]="ResponseHeader",xe[xe.DownloadProgress=3]="DownloadProgress",xe[xe.Response=4]="Response",xe[xe.User=5]="User",xe}(jn||{});class Ft{constructor(Pe,ze=200,Vt="OK"){this.headers=Pe.headers||new st,this.status=void 0!==Pe.status?Pe.status:ze,this.statusText=Pe.statusText||Vt,this.url=Pe.url||null,this.ok=this.status>=200&&this.status<300}}class Yt extends Ft{constructor(Pe={}){super(Pe),this.type=jn.ResponseHeader}clone(Pe={}){return new Yt({headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class Xt extends Ft{constructor(Pe={}){super(Pe),this.type=jn.Response,this.body=void 0!==Pe.body?Pe.body:null}clone(Pe={}){return new Xt({body:void 0!==Pe.body?Pe.body:this.body,headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class gt extends Ft{constructor(Pe){super(Pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Pe.url||"(unknown url)"}`:`Http failure response for ${Pe.url||"(unknown url)"}: ${Pe.status} ${Pe.statusText}`,this.error=Pe.error||null}}function je(xe,Pe){return{body:Pe,headers:xe.headers,context:xe.context,observe:xe.observe,params:xe.params,reportProgress:xe.reportProgress,responseType:xe.responseType,withCredentials:xe.withCredentials}}let ot=(()=>{class xe{constructor(ze){this.handler=ze}request(ze,Vt,Zt={}){let _n;if(ze instanceof bn)_n=ze;else{let yn,ci;yn=Zt.headers instanceof st?Zt.headers:new st(Zt.headers),Zt.params&&(ci=Zt.params instanceof fe?Zt.params:new fe({fromObject:Zt.params})),_n=new bn(ze,Vt,void 0!==Zt.body?Zt.body:null,{headers:yn,context:Zt.context,params:ci,reportProgress:Zt.reportProgress,responseType:Zt.responseType||"json",withCredentials:Zt.withCredentials})}const dn=(0,p.of)(_n).pipe((0,pe.H)(yn=>this.handler.handle(yn)));if(ze instanceof bn||"events"===Zt.observe)return dn;const ur=dn.pipe((0,ye.p)(yn=>yn instanceof Xt));switch(Zt.observe||"body"){case"body":switch(_n.responseType){case"arraybuffer":return ur.pipe((0,Te.T)(yn=>{if(null!==yn.body&&!(yn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return yn.body}));case"blob":return ur.pipe((0,Te.T)(yn=>{if(null!==yn.body&&!(yn.body instanceof Blob))throw new Error("Response is not a Blob.");return yn.body}));case"text":return ur.pipe((0,Te.T)(yn=>{if(null!==yn.body&&"string"!=typeof yn.body)throw new Error("Response is not a string.");return yn.body}));default:return ur.pipe((0,Te.T)(yn=>yn.body))}case"response":return ur;default:throw new Error(`Unreachable: unhandled observe type ${Zt.observe}}`)}}delete(ze,Vt={}){return this.request("DELETE",ze,Vt)}get(ze,Vt={}){return this.request("GET",ze,Vt)}head(ze,Vt={}){return this.request("HEAD",ze,Vt)}jsonp(ze,Vt){return this.request("JSONP",ze,{params:(new fe).append(Vt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ze,Vt={}){return this.request("OPTIONS",ze,Vt)}patch(ze,Vt,Zt={}){return this.request("PATCH",ze,je(Zt,Vt))}post(ze,Vt,Zt={}){return this.request("POST",ze,je(Zt,Vt))}put(ze,Vt,Zt={}){return this.request("PUT",ze,je(Zt,Vt))}static{this.\u0275fac=function(Vt){return new(Vt||xe)(d.KVO(ie))}}static{this.\u0275prov=d.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();function Bt(xe,Pe){return Pe(xe)}function Rn(xe,Pe){return(ze,Vt)=>Pe.intercept(ze,{handle:Zt=>xe(Zt,Vt)})}const hn=new d.nKC(""),Bn=new d.nKC(""),nn=new d.nKC("");function ir(){let xe=null;return(Pe,ze)=>{null===xe&&(xe=((0,d.WQX)(hn,{optional:!0})??[]).reduceRight(Rn,Bt));const Vt=(0,d.WQX)(d.$K3),Zt=Vt.add();return xe(Pe,ze).pipe((0,Ne.j)(()=>Vt.remove(Zt)))}}let $n=(()=>{class xe extends ie{constructor(ze,Vt){super(),this.backend=ze,this.injector=Vt,this.chain=null,this.pendingTasks=(0,d.WQX)(d.$K3)}handle(ze){if(null===this.chain){const Zt=Array.from(new Set([...this.injector.get(Bn),...this.injector.get(nn,[])]));this.chain=Zt.reduceRight((_n,dn)=>function mr(xe,Pe,ze){return(Vt,Zt)=>ze.runInContext(()=>Pe(Vt,_n=>xe(_n,Zt)))}(_n,dn,this.injector),Bt)}const Vt=this.pendingTasks.add();return this.chain(ze,Zt=>this.backend.handle(Zt)).pipe((0,Ne.j)(()=>this.pendingTasks.remove(Vt)))}static{this.\u0275fac=function(Vt){return new(Vt||xe)(d.KVO(ve),d.KVO(d.uvJ))}}static{this.\u0275prov=d.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const kr=/^\)\]\}',?\n/;let nr=(()=>{class xe{constructor(ze){this.xhrFactory=ze}handle(ze){if("JSONP"===ze.method)throw new d.wOt(-2800,!1);const Vt=this.xhrFactory;return(Vt.\u0275loadImpl?(0,n.H)(Vt.\u0275loadImpl()):(0,p.of)(null)).pipe((0,ke.n)(()=>new Ce.c(_n=>{const dn=Vt.build();if(dn.open(ze.method,ze.urlWithParams),ze.withCredentials&&(dn.withCredentials=!0),ze.headers.forEach((vn,On)=>dn.setRequestHeader(vn,On.join(","))),ze.headers.has("Accept")||dn.setRequestHeader("Accept","application/json, text/plain, */*"),!ze.headers.has("Content-Type")){const vn=ze.detectContentTypeHeader();null!==vn&&dn.setRequestHeader("Content-Type",vn)}if(ze.responseType){const vn=ze.responseType.toLowerCase();dn.responseType="json"!==vn?vn:"text"}const ur=ze.serializeBody();let yn=null;const ci=()=>{if(null!==yn)return yn;const vn=dn.statusText||"OK",On=new st(dn.getAllResponseHeaders()),Cr=function Qr(xe){return"responseURL"in xe&&xe.responseURL?xe.responseURL:/^X-Request-URL:/m.test(xe.getAllResponseHeaders())?xe.getResponseHeader("X-Request-URL"):null}(dn)||ze.url;return yn=new Yt({headers:On,status:dn.status,statusText:vn,url:Cr}),yn},vt=()=>{let{headers:vn,status:On,statusText:Cr,url:Ur}=ci(),or=null;204!==On&&(or=typeof dn.response>"u"?dn.responseText:dn.response),0===On&&(On=or?200:0);let Ci=On>=200&&On<300;if("json"===ze.responseType&&"string"==typeof or){const Hi=or;or=or.replace(kr,"");try{or=""!==or?JSON.parse(or):null}catch(Ii){or=Hi,Ci&&(Ci=!1,or={error:Ii,text:or})}}Ci?(_n.next(new Xt({body:or,headers:vn,status:On,statusText:Cr,url:Ur||void 0})),_n.complete()):_n.error(new gt({error:or,headers:vn,status:On,statusText:Cr,url:Ur||void 0}))},Ze=vn=>{const{url:On}=ci(),Cr=new gt({error:vn,status:dn.status||0,statusText:dn.statusText||"Unknown Error",url:On||void 0});_n.error(Cr)};let Rt=!1;const fn=vn=>{Rt||(_n.next(ci()),Rt=!0);let On={type:jn.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&(On.total=vn.total),"text"===ze.responseType&&dn.responseText&&(On.partialText=dn.responseText),_n.next(On)},Vn=vn=>{let On={type:jn.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&(On.total=vn.total),_n.next(On)};return dn.addEventListener("load",vt),dn.addEventListener("error",Ze),dn.addEventListener("timeout",Ze),dn.addEventListener("abort",Ze),ze.reportProgress&&(dn.addEventListener("progress",fn),null!==ur&&dn.upload&&dn.upload.addEventListener("progress",Vn)),dn.send(ur),_n.next({type:jn.Sent}),()=>{dn.removeEventListener("error",Ze),dn.removeEventListener("abort",Ze),dn.removeEventListener("load",vt),dn.removeEventListener("timeout",Ze),ze.reportProgress&&(dn.removeEventListener("progress",fn),null!==ur&&dn.upload&&dn.upload.removeEventListener("progress",Vn)),dn.readyState!==dn.DONE&&dn.abort()}})))}static{this.\u0275fac=function(Vt){return new(Vt||xe)(d.KVO(W.N0))}}static{this.\u0275prov=d.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const Jr=new d.nKC("XSRF_ENABLED"),Cn=new d.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kn=new d.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class sr{}let Fn=(()=>{class xe{constructor(ze,Vt,Zt){this.doc=ze,this.platform=Vt,this.cookieName=Zt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ze=this.doc.cookie||"";return ze!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,W._b)(ze,this.cookieName),this.lastCookieString=ze),this.lastToken}static{this.\u0275fac=function(Vt){return new(Vt||xe)(d.KVO(W.qQ),d.KVO(d.Agw),d.KVO(Cn))}}static{this.\u0275prov=d.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();function bi(xe,Pe){const ze=xe.url.toLowerCase();if(!(0,d.WQX)(Jr)||"GET"===xe.method||"HEAD"===xe.method||ze.startsWith("http://")||ze.startsWith("https://"))return Pe(xe);const Vt=(0,d.WQX)(sr).getToken(),Zt=(0,d.WQX)(Kn);return null!=Vt&&!xe.headers.has(Zt)&&(xe=xe.clone({headers:xe.headers.set(Zt,Vt)})),Pe(xe)}var ft=function(xe){return xe[xe.Interceptors=0]="Interceptors",xe[xe.LegacyInterceptors=1]="LegacyInterceptors",xe[xe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",xe[xe.NoXsrfProtection=3]="NoXsrfProtection",xe[xe.JsonpSupport=4]="JsonpSupport",xe[xe.RequestsMadeViaParent=5]="RequestsMadeViaParent",xe[xe.Fetch=6]="Fetch",xe}(ft||{});function ae(xe,Pe){return{\u0275kind:xe,\u0275providers:Pe}}function Re(...xe){const Pe=[ot,nr,$n,{provide:ie,useExisting:$n},{provide:ve,useExisting:nr},{provide:Bn,useValue:bi,multi:!0},{provide:Jr,useValue:!0},{provide:sr,useClass:Fn}];for(const ze of xe)Pe.push(...ze.\u0275providers);return(0,d.EmA)(Pe)}const Kt=new d.nKC("LEGACY_INTERCEPTOR_FN");let L=(()=>{class xe{static{this.\u0275fac=function(Vt){return new(Vt||xe)}}static{this.\u0275mod=d.$C({type:xe})}static{this.\u0275inj=d.G2t({providers:[Re(ae(ft.LegacyInterceptors,[{provide:Kt,useFactory:ir},{provide:Bn,useExisting:Kt,multi:!0}]))]})}}return xe})()},7705:(ln,Ye,F)=>{F.d(Ye,{$C:()=>ui,$GK:()=>xn,$K3:()=>zC,$MX:()=>lf,AVh:()=>R0,Agw:()=>x_,B4B:()=>xp,BIS:()=>$v,BMQ:()=>sg,C4Q:()=>Rv,C5r:()=>AC,Co$:()=>Vb,DNE:()=>$f,EFF:()=>qr,EJ8:()=>Gs,EmA:()=>th,FS9:()=>Xc,FsC:()=>ro,G2t:()=>nn,GBs:()=>EC,GFd:()=>iy,H3F:()=>HC,H5H:()=>vE,H8p:()=>Pp,HJs:()=>Kw,HbH:()=>O0,Hbi:()=>Nw,JRh:()=>Ri,JZv:()=>nr,Jv_:()=>Lb,KH2:()=>py,KVO:()=>Mt,Kcf:()=>m_,L39:()=>zw,LfX:()=>$n,Lme:()=>Ei,MKu:()=>ZE,Mz_:()=>ba,NEm:()=>uw,NYb:()=>ow,Njj:()=>bs,O8t:()=>xt,OA$:()=>Pr,Ocv:()=>k1,Ol2:()=>jb,PLl:()=>Bv,QTQ:()=>u,Ql9:()=>V1,QuC:()=>ss,R7$:()=>_0,RV6:()=>Pl,Rfq:()=>At,RxE:()=>F_,SKi:()=>Mo,SpI:()=>ai,TL$:()=>Yg,Tbb:()=>ve,UyX:()=>wp,VBU:()=>wo,Vns:()=>Xm,Vt3:()=>Fm,WHO:()=>YC,WPN:()=>Xu,WQX:()=>Wt,XpG:()=>Bs,Xx1:()=>$a,Y8G:()=>pg,Z63:()=>As,ZF7:()=>Ku,_9s:()=>Vp,_q3:()=>JE,aKT:()=>lh,aNF:()=>Bb,bIt:()=>X,bMT:()=>sC,bVm:()=>Dh,bc$:()=>Op,bkB:()=>Il,brH:()=>aC,c1b:()=>W0,cWb:()=>em,czy:()=>jd,e01:()=>XC,e5t:()=>Dy,eBV:()=>uo,eq3:()=>Yb,eu8:()=>Sh,fpN:()=>Ow,gRc:()=>vw,gXe:()=>dn,giA:()=>QC,h9k:()=>Sp,hnV:()=>GC,i5U:()=>oC,iLQ:()=>WE,j41:()=>wh,jDH:()=>hn,jNT:()=>b,k0s:()=>Ah,kS0:()=>Bu,kdw:()=>Gc,lJ4:()=>qb,lNU:()=>He,l_i:()=>Xb,lsd:()=>CC,mGM:()=>vC,mq5:()=>lb,n$t:()=>I_,nI1:()=>iC,nKC:()=>Cn,naY:()=>yw,npT:()=>sm,nrm:()=>gg,o8S:()=>yy,oH4:()=>tT,osQ:()=>tm,plB:()=>FE,qex:()=>zf,rXU:()=>hu,rcV:()=>yl,s1E:()=>Qb,sFG:()=>Wv,sGs:()=>Jb,sZ2:()=>jy,sdS:()=>Hm,tSv:()=>Qy,uvJ:()=>Pi,w6W:()=>DI,wOt:()=>fe,wni:()=>bC,xGo:()=>ul,xc7:()=>M0,xe9:()=>q0,xvI:()=>Up,zZn:()=>bl,zcH:()=>yc,zjR:()=>j});var d=F(1413),p=F(8359),n=F(1985),Ce=F(7786),pe=F(4412),ye=F(7673),Te=F(7647),Ne=F(5558),ke=F(3294);function W(t){for(let r in t)if(t[r]===W)return r;throw Error("Could not find renamed property on target object.")}function ie(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function st(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const $e=W({__forward_ref__:W});function At(t){return t.__forward_ref__=At,t.toString=function(){return ve(this())},t}function dt(t){return jt(t)?t():t}function jt(t){return"function"==typeof t&&t.hasOwnProperty($e)&&t.__forward_ref__===At}function Ot(t){return t&&!!t.\u0275providers}const He="https://g.co/ng/security#xss";class fe extends Error{constructor(r,s){super(function Je(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function on(t,r){throw new fe(-201,!1)}function at(t,r){null==t&&function et(t,r,s,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${s} ${c} ${r} <=Actual]`))}(r,t,null,"!=")}function hn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ir(t){return Qt(t,gn)||Qt(t,lr)}function $n(t){return null!==ir(t)}function Qt(t,r){return t.hasOwnProperty(r)?t[r]:null}function Jn(t){return t&&(t.hasOwnProperty(Vr)||t.hasOwnProperty(zt))?t[Vr]:null}const gn=W({\u0275prov:W}),Vr=W({\u0275inj:W}),lr=W({ngInjectableDef:W}),zt=W({ngInjectorDef:W});var xn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(xn||{});let Zn;function Xr(t){const r=Zn;return Zn=t,r}function kr(t,r,s){const c=ir(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&xn.Optional?null:void 0!==r?r:void on(ve(t))}const nr=globalThis;class Cn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=hn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yn={},Hr="__NG_DI_FLAG__",Sr="ngTempTokenPath",Tt=/\n/gm,R="__source";let L;function ge(t){const r=L;return L=t,r}function lt(t,r=xn.Default){if(void 0===L)throw new fe(-203,!1);return null===L?kr(t,void 0,r):L.get(t,r&xn.Optional?null:void 0,r)}function Mt(t,r=xn.Default){return(function Nn(){return Zn}()||lt)(dt(t),r)}function Wt(t,r=xn.Default){return Mt(t,In(r))}function In(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gr(t){const r=[];for(let s=0;s<t.length;s++){const c=dt(t[s]);if(Array.isArray(c)){if(0===c.length)throw new fe(900,!1);let f,m=xn.Default;for(let T=0;T<c.length;T++){const D=c[T],O=Pe(D);"number"==typeof O?-1===O?f=D.token:m|=O:f=D}r.push(Mt(f,m))}else r.push(Mt(c))}return r}function xe(t,r){return t[Hr]=r,t.prototype[Hr]=r,t}function Pe(t){return t[Hr]}function Zt(t){return{toString:t}.toString()}var _n=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_n||{}),dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(dn||{});const ur={},yn=[],ci=W({\u0275cmp:W}),vt=W({\u0275dir:W}),Ze=W({\u0275pipe:W}),Rt=W({\u0275mod:W}),fn=W({\u0275fac:W}),Vn=W({__NG_ELEMENT_ID__:W}),vn=W({__NG_ENV_ID__:W});function On(t,r,s){let c=t.length;for(;;){const f=t.indexOf(r,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=r.length;if(f+m===c||t.charCodeAt(f+m)<=32)return f}s=f+1}}function Cr(t,r,s){let c=0;for(;c<s.length;){const f=s[c];if("number"==typeof f){if(0!==f)break;c++;const m=s[c++],T=s[c++],D=s[c++];t.setAttribute(r,T,D,m)}else{const m=f,T=s[++c];or(m)?t.setProperty(r,m,T):t.setAttribute(r,m,T),c++}}return c}function Ur(t){return 3===t||4===t||6===t}function or(t){return 64===t.charCodeAt(0)}function Ci(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let c=0;c<r.length;c++){const f=r[c];"number"==typeof f?s=f:0===s||Hi(t,s,f,null,-1===s||2===s?r[++c]:null)}}return t}function Hi(t,r,s,c,f){let m=0,T=t.length;if(-1===r)T=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===r){T=-1;break}if(D>r){T=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===s){if(null===c)return void(null!==f&&(t[m+1]=f));if(c===t[m+1])return void(t[m+2]=f)}m++,null!==c&&m++,null!==f&&m++}-1!==T&&(t.splice(T,0,r),m=T+1),t.splice(m++,0,s),null!==c&&t.splice(m++,0,c),null!==f&&t.splice(m++,0,f)}const Ii="ng-template";function no(t,r,s){let c=0,f=!0;for(;c<t.length;){let m=t[c++];if("string"==typeof m&&f){const T=t[c++];if(s&&"class"===m&&-1!==On(T.toLowerCase(),r,0))return!0}else{if(1===m){for(;c<t.length&&"string"==typeof(m=t[c++]);)if(m.toLowerCase()===r)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Xs(t){return 4===t.type&&t.value!==Ii}function Ui(t,r,s){return r===(4!==t.type||s?t.value:Ii)}function po(t,r,s){let c=4;const f=t.attrs||[],m=function kt(t){for(let r=0;r<t.length;r++)if(Ur(t[r]))return r;return t.length}(f);let T=!1;for(let D=0;D<r.length;D++){const O=r[D];if("number"!=typeof O){if(!T)if(4&c){if(c=2|1&c,""!==O&&!Ui(t,O,s)||""===O&&1===r.length){if(ri(c))return!1;T=!0}}else{const z=8&c?O:r[++D];if(8&c&&null!==t.attrs){if(!no(t.attrs,z,s)){if(ri(c))return!1;T=!0}continue}const we=qi(8&c?"class":O,f,Xs(t),s);if(-1===we){if(ri(c))return!1;T=!0;continue}if(""!==z){let tt;tt=we>m?"":f[we+1].toLowerCase();const pt=8&c?tt:null;if(pt&&-1!==On(pt,z,0)||2&c&&z!==tt){if(ri(c))return!1;T=!0}}}}else{if(!T&&!ri(c)&&!ri(O))return!1;if(T&&ri(O))continue;T=!1,c=O|1&c}}return ri(c)||T}function ri(t){return 0==(1&t)}function qi(t,r,s,c){if(null===r)return-1;let f=0;if(c||!s){let m=!1;for(;f<r.length;){const T=r[f];if(T===t)return f;if(3===T||6===T)m=!0;else{if(1===T||2===T){let D=r[++f];for(;"string"==typeof D;)D=r[++f];continue}if(4===T)break;if(0===T){f+=4;continue}}f+=m?1:2}return-1}return function K(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const c=t[s];if("number"==typeof c)return-1;if(c===r)return s;s++}return-1}(r,t)}function is(t,r,s=!1){for(let c=0;c<r.length;c++)if(po(t,r[c],s))return!0;return!1}function Lt(t,r){return t?":not("+r.trim()+")":r}function $r(t){let r=t[0],s=1,c=2,f="",m=!1;for(;s<t.length;){let T=t[s];if("string"==typeof T)if(2&c){const D=t[++s];f+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?f+="."+T:4&c&&(f+=" "+T);else""!==f&&!ri(T)&&(r+=Lt(m,f),f=""),c=T,m=m||!ri(c);s++}return""!==f&&(r+=Lt(m,f)),r}function wo(t){return Zt(()=>{const r=ms(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||dn.Emulated,styles:t.styles||yn,_:null,schemas:t.schemas||null,tView:null,id:""};io(s);const c=t.dependencies;return s.directiveDefs=os(c,!1),s.pipeDefs=os(c,!0),s.id=function Fs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)r=Math.imul(31,r)+f.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function ia(t){return jr(t)||di(t)}function Ds(t){return null!==t}function ui(t){return Zt(()=>({type:t.type,bootstrap:t.bootstrap||yn,declarations:t.declarations||yn,imports:t.imports||yn,exports:t.exports||yn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ss(t,r){if(null==t)return ur;const s={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=c,r&&(r[f]=m)}return s}function ro(t){return Zt(()=>{const r=ms(t);return io(r),r})}function Gs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function jr(t){return t[ci]||null}function di(t){return t[vt]||null}function Di(t){return t[Ze]||null}function ss(t){const r=jr(t)||di(t)||Di(t);return null!==r&&r.standalone}function hi(t,r){const s=t[Rt]||null;if(!s&&!0===r)throw new Error(`Type ${ve(t)} does not have '\u0275mod' property.`);return s}function ms(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||ur,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||yn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ss(t.inputs,r),outputs:Ss(t.outputs)}}function io(t){t.features?.forEach(r=>r(t))}function os(t,r){if(!t)return null;const s=r?Di:ia;return()=>("function"==typeof t?t():t).map(c=>s(c)).filter(Ds)}const Wr=0,An=1,_r=2,Dr=3,es=4,as=5,Bi=6,Qs=7,ii=8,_s=9,Ls=10,dr=11,Ts=12,Ps=13,te=14,ee=15,De=16,Fe=17,rt=18,bt=19,cn=20,Un=21,Sn=22,hr=23,Br=24,Xn=25,fr=1,wi=2,fi=7,ts=9,Ir=11;function ji(t){return Array.isArray(t)&&"object"==typeof t[fr]}function ti(t){return Array.isArray(t)&&!0===t[fr]}function Ao(t){return 0!=(4&t.flags)}function cs(t){return t.componentOffset>-1}function so(t){return 1==(1&t.flags)}function go(t){return!!t.template}function sa(t){return 0!=(512&t[_r])}function oo(t,r){return t.hasOwnProperty(fn)?t[fn]:null}let Ms=null,aa=!1;function Yi(t){const r=Ms;return Ms=t,r}const wc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ka(t){if(!lo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!So(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ys(t){t.dirty=!0,function ao(t){if(void 0===t.liveConsumerNode)return;const r=aa;aa=!0;try{for(const s of t.liveConsumerNode)s.dirty||ys(s)}finally{aa=r}}(t),t.consumerMarkedDirty?.(t)}function Ta(t){return t&&(t.nextProducerIndex=0),Yi(t)}function ca(t,r){if(Yi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(lo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)co(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function So(t){rr(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],c=t.producerLastReadVersion[r];if(c!==s.version||(Ka(s),c!==s.version))return!0}return!1}function qa(t){if(rr(t),lo(t))for(let r=0;r<t.producerNode.length;r++)co(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function co(t,r){if(function la(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),rr(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)co(t.producerNode[c],t.producerIndexOfThis[c]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[r],f=t.liveConsumerNode[r];rr(f),f.producerIndexOfThis[c]=r}}function lo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function rr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Yo=null;function xt(t){const r=Yi(null);try{return t()}finally{Yi(r)}}const tr=()=>{},ni=(()=>({...wc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:tr}))();class pi{constructor(r,s,c){this.previousValue=r,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Pr(){return yi}function yi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Li),Oi}function Oi(){const t=vs(this),r=t?.current;if(r){const s=t.previous;if(s===ur)t.previous=r;else for(let c in r)s[c]=r[c];t.current=null,this.ngOnChanges(r)}}function Li(t,r,s,c){const f=this.declaredInputs[s],m=vs(t)||function ua(t,r){return t[_o]=r}(t,{previous:ur,current:null}),T=m.current||(m.current={}),D=m.previous,O=D[f];T[f]=new pi(O&&O.currentValue,r,D===ur),t[c]=r}Pr.ngInherit=!0;const _o="__ngSimpleChanges__";function vs(t){return t[_o]||null}const Es=function(t,r,s){};function Fr(t){for(;Array.isArray(t);)t=t[Wr];return t}function Xo(t,r){return Fr(r[t])}function ws(t,r){return Fr(r[t.index])}function fd(t,r){return t.data[r]}function Ja(t,r){return t[r]}function Wi(t,r){const s=r[t];return ji(s)?s:s[Wr]}function Rs(t,r){return null==r?null:t[r]}function ka(t){t[Fe]=0}function xc(t){1024&t[_r]||(t[_r]|=1024,pd(t,1))}function tl(t){1024&t[_r]&&(t[_r]&=-1025,pd(t,-1))}function pd(t,r){let s=t[Dr];if(null===s)return;s[as]+=r;let c=s;for(s=s[Dr];null!==s&&(1===r&&1===c[as]||-1===r&&0===c[as]);)s[as]+=r,c=s,s=s[Dr]}const wr={lFrame:le(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pu(){return wr.bindingsEnabled}function en(){return wr.lFrame.lView}function Gr(){return wr.lFrame.tView}function uo(t){return wr.lFrame.contextLView=t,t[ii]}function bs(t){return wr.lFrame.contextLView=null,t}function zs(){let t=rl();for(;null!==t&&64===t.type;)t=t.parent;return t}function rl(){return wr.lFrame.currentTNode}function Vo(t,r){const s=wr.lFrame;s.currentTNode=t,s.isParent=r}function il(){return wr.lFrame.isParent}function sl(){wr.lFrame.isParent=!1}function Zs(){const t=wr.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function rc(){return wr.lFrame.bindingIndex++}function xo(t){const r=wr.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Jf(t,r){const s=wr.lFrame;s.bindingIndex=s.bindingRootIndex=t,Bl(r)}function Bl(t){wr.lFrame.currentDirectiveIndex=t}function Uo(){return wr.lFrame.currentQueryIndex}function S(t){wr.lFrame.currentQueryIndex=t}function N(t){const r=t[An];return 2===r.type?r.declTNode:1===r.type?t[Bi]:null}function A(t,r,s){if(s&xn.SkipSelf){let f=r,m=t;for(;!(f=f.parent,null!==f||s&xn.Host||(f=N(m),null===f||(m=m[te],10&f.type))););if(null===f)return!1;r=f,t=m}const c=wr.lFrame=H();return c.currentTNode=r,c.lView=t,!0}function k(t){const r=H(),s=t[An];wr.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function H(){const t=wr.lFrame,r=null===t?null:t.child;return null===r?le(t):r}function le(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Oe(){const t=wr.lFrame;return wr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wt=Oe;function yt(){const t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Or(){return wr.lFrame.selectedIndex}function Kr(t){wr.lFrame.selectedIndex=t}function Zr(){const t=wr.lFrame;return fd(t.tView,t.selectedIndex)}let sc=!0;function oc(){return sc}function Po(t){sc=t}function Va(t,r){for(let s=r.directiveStart,c=r.directiveEnd;s<c;s++){const m=t.data[s].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:oe}=m;T&&(t.contentHooks??=[]).push(-s,T),D&&((t.contentHooks??=[]).push(s,D),(t.contentCheckHooks??=[]).push(s,D)),O&&(t.viewHooks??=[]).push(-s,O),z&&((t.viewHooks??=[]).push(s,z),(t.viewCheckHooks??=[]).push(s,z)),null!=oe&&(t.destroyHooks??=[]).push(s,oe)}}function $l(t,r,s){ku(t,r,3,s)}function Ou(t,r,s,c){(3&t[_r])===s&&ku(t,r,s,c)}function Nu(t,r){let s=t[_r];(3&s)===r&&(s&=8191,s+=1,t[_r]=s)}function ku(t,r,s,c){const m=c??-1,T=r.length-1;let D=0;for(let O=void 0!==c?65535&t[Fe]:0;O<T;O++)if("number"==typeof r[O+1]){if(D=r[O],null!=c&&D>=c)break}else r[O]<0&&(t[Fe]+=65536),(D<m||-1==m)&&(Fu(t,s,r,O),t[Fe]=(4294901760&t[Fe])+O+2),O++}function _d(t,r){Es(4,t,r);const s=Yi(null);try{r.call(t)}finally{Yi(s),Es(5,t,r)}}function Fu(t,r,s,c){const f=s[c]<0,m=s[c+1],D=t[f?-s[c]:s[c]];f?t[_r]>>13<t[Fe]>>16&&(3&t[_r])===r&&(t[_r]+=8192,_d(D,m)):_d(D,m)}const jo=-1;class pa{constructor(r,s,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Vu(t){return t!==jo}function kc(t){return 32767&t}function al(t,r){let s=function Uu(t){return t>>16}(t),c=r;for(;s>0;)c=c[te],s--;return c}let Ed=!0;function ga(t){const r=Ed;return Ed=t,r}const Vh=255,Ia=5;let ju=0;const vo={};function cl(t,r){const s=Cd(t,r);if(-1!==s)return s;const c=r[An];c.firstCreatePass&&(t.injectorIndex=r.length,Os(c.data,t),Os(r,null),Os(c.blueprint,null));const f=cc(t,r),m=t.injectorIndex;if(Vu(f)){const T=kc(f),D=al(f,r),O=D[An].data;for(let z=0;z<8;z++)r[m+z]=D[T+z]|O[T+z]}return r[m+8]=f,m}function Os(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Cd(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function cc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,c=null,f=r;for(;null!==f;){if(c=Ad(f),null===c)return jo;if(s++,f=f[te],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return jo}function Ua(t,r,s){!function bd(t,r,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Vn)&&(c=s[Vn]),null==c&&(c=s[Vn]=ju++);const f=c&Vh;r.data[t+(f>>Ia)]|=1<<f}(t,r,s)}function wa(t,r,s){if(s&xn.Optional||void 0!==t)return t;on()}function ll(t,r,s,c){if(s&xn.Optional&&void 0===c&&(c=null),!(s&(xn.Self|xn.Host))){const f=t[_s],m=Xr(void 0);try{return f?f.get(r,c,s&xn.Optional):kr(r,c,s&xn.Optional)}finally{Xr(m)}}return wa(c,0,s)}function Id(t,r,s,c=xn.Default,f){if(null!==t){if(2048&r[_r]&&!(c&xn.Self)){const T=function Bh(t,r,s,c,f){let m=t,T=r;for(;null!==m&&null!==T&&2048&T[_r]&&!(512&T[_r]);){const D=Ws(m,T,s,c|xn.Self,vo);if(D!==vo)return D;let O=m.parent;if(!O){const z=T[cn];if(z){const oe=z.get(s,vo,c);if(oe!==vo)return oe}O=Ad(T),T=T[te]}m=O}return f}(t,r,s,c,vo);if(T!==vo)return T}const m=Ws(t,r,s,c,vo);if(m!==vo)return m}return ll(r,s,c,f)}function Ws(t,r,s,c,f){const m=function Lc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Vn)?t[Vn]:void 0;return"number"==typeof r?r>=0?r&Vh:ep:r}(s);if("function"==typeof m){if(!A(r,t,c))return c&xn.Host?wa(f,0,c):ll(r,s,c,f);try{let T;if(T=m(c),null!=T||c&xn.Optional)return T;on()}finally{wt()}}else if("number"==typeof m){let T=null,D=Cd(t,r),O=jo,z=c&xn.Host?r[ee][Bi]:null;for((-1===D||c&xn.SkipSelf)&&(O=-1===D?cc(t,r):r[D+8],O!==jo&&Uh(c,!1)?(T=r[An],D=kc(O),r=al(O,r)):D=-1);-1!==D;){const oe=r[An];if(Gl(m,D,oe.data)){const we=vg(D,r,s,T,c,z);if(we!==vo)return we}O=r[D+8],O!==jo&&Uh(c,r[An].data[D+8]===z)&&Gl(m,D,r)?(T=oe,D=kc(O),r=al(O,r)):D=-1}}return f}function vg(t,r,s,c,f,m){const T=r[An],D=T.data[t+8],oe=Aa(D,T,s,null==c?cs(D)&&Ed:c!=T&&0!=(3&D.type),f&xn.Host&&m===D);return null!==oe?Fc(r,T,oe,D):vo}function Aa(t,r,s,c,f){const m=t.providerIndexes,T=r.data,D=1048575&m,O=t.directiveStart,oe=m>>20,tt=f?D+oe:t.directiveEnd;for(let pt=c?D:D+oe;pt<tt;pt++){const Gt=T[pt];if(pt<O&&s===Gt||pt>=O&&Gt.type===s)return pt}if(f){const pt=T[O];if(pt&&go(pt)&&pt.type===s)return O}return null}function Fc(t,r,s,c){let f=t[s];const m=r.data;if(function Nc(t){return t instanceof pa}(f)){const T=f;T.resolving&&function Et(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new fe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(m[s]));const D=ga(T.canSeeViewProviders);T.resolving=!0;const z=T.injectImpl?Xr(T.injectImpl):null;A(t,c,xn.Default);try{f=t[s]=T.factory(void 0,m,t,c),r.firstCreatePass&&s>=c.directiveStart&&function Nh(t,r,s){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:m}=r.type.prototype;if(c){const T=yi(r);(s.preOrderHooks??=[]).push(t,T),(s.preOrderCheckHooks??=[]).push(t,T)}f&&(s.preOrderHooks??=[]).push(0-t,f),m&&((s.preOrderHooks??=[]).push(t,m),(s.preOrderCheckHooks??=[]).push(t,m))}(s,m[s],r)}finally{null!==z&&Xr(z),ga(D),T.resolving=!1,wt()}}return f}function Gl(t,r,s){return!!(s[r+(t>>Ia)]&1<<t)}function Uh(t,r){return!(t&xn.Self||t&xn.Host&&r)}class eo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,c){return Id(this._tNode,this._lView,r,In(c),s)}}function ep(){return new eo(zs(),en())}function ul(t){return Zt(()=>{const r=t.prototype.constructor,s=r[fn]||wd(r),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const m=f[fn]||wd(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function wd(t){return jt(t)?()=>{const r=wd(dt(t));return r&&r()}:oo(t)}function Ad(t){const r=t[An],s=r.type;return 2===s?r.declTNode:1===s?t[Bi]:null}function Bu(t){return function Td(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const c=s.length;let f=0;for(;f<c;){const m=s[f];if(Ur(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<c&&"string"==typeof s[f];)f++;else{if(m===r)return s[f+1];f+=2}}}return null}(zs(),t)}const Qo="__parameters__";function Hl(t,r,s){return Zt(()=>{const c=function Dd(t){return function(...s){if(t){const c=t(...s);for(const f in c)this[f]=c[f]}}}(r);function f(...m){if(this instanceof f)return c.apply(this,m),this;const T=new f(...m);return D.annotation=T,D;function D(O,z,oe){const we=O.hasOwnProperty(Qo)?O[Qo]:Object.defineProperty(O,Qo,{value:[]})[Qo];for(;we.length<=oe;)we.push(null);return(we[oe]=we[oe]||[]).push(T),O}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function uc(t,r){t.forEach(s=>Array.isArray(s)?uc(s,r):r(s))}function Gu(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function jc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function js(t,r,s){let c=Ba(t,r);return c>=0?t[1|c]=s:(c=~c,function Eg(t,r,s,c){let f=t.length;if(f==r)t.push(s,c);else if(1===f)t.push(c,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>r;)t[f]=t[f-2],f--;t[r]=s,t[r+1]=c}}(t,c,r,s)),c}function zh(t,r){const s=Ba(t,r);if(s>=0)return t[1|s]}function Ba(t,r){return function rp(t,r,s){let c=0,f=t.length>>s;for(;f!==c;){const m=c+(f-c>>1),T=t[m<<s];if(r===T)return m<<s;T>r?f=m:c=m+1}return~(f<<s)}(t,r,1)}const $a=xe(Hl("Optional"),8),Gc=xe(Hl("SkipSelf"),4);function Ud(t){return 128==(128&t.flags)}var jd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jd||{});const op=/^>|^->|<!--|-->|--!>|<!-$/g,xg=/(<|>)/g,kv="\u200b$1\u200b";const Bd=new Map;let Pg=0;const Gd="__ngContext__";function Eo(t,r){ji(r)?(t[Gd]=r[bt],function $d(t){Bd.set(t[bt],t)}(r)):t[Gd]=r}let zd;function Wc(t,r){return zd(t,r)}function gc(t){const r=t[Dr];return ti(r)?r[Dr]:r}function gl(t){return dp(t[Ts])}function Og(t){return dp(t[es])}function dp(t){for(;null!==t&&!ti(t);)t=t[es];return t}function eu(t,r,s,c,f){if(null!=c){let m,T=!1;ti(c)?m=c:ji(c)&&(T=!0,c=c[Wr]);const D=Fr(c);0===t&&null!==s?null==f?gp(r,s,D):nu(r,s,D,f||null,!0):1===t&&null!==s?nu(r,s,D,f||null,!0):2===t?function rf(t,r,s){const c=Xd(t,r);c&&function Ug(t,r,s,c){t.removeChild(r,s,c)}(t,c,r,s)}(r,D,T):3===t&&r.destroyNode(D),null!=m&&function Hg(t,r,s,c,f){const m=s[fi];m!==Fr(s)&&eu(r,t,c,m,f);for(let D=Ir;D<s.length;D++){const O=s[D];af(O[An],O,t,r,c,m)}}(r,t,m,s,f)}}function Ng(t,r){return t.createComment(function zc(t){return t.replace(op,r=>r.replace(xg,kv))}(r))}function fp(t,r,s){return t.createElement(r,s)}function o_(t,r){const s=t[ts],c=s.indexOf(r);tl(r),s.splice(c,1)}function tu(t,r){if(t.length<=Ir)return;const s=Ir+r,c=t[s];if(c){const f=c[De];null!==f&&f!==t&&o_(f,c),r>0&&(t[s-1][es]=c[es]);const m=jc(t,Ir+r);!function kg(t,r){af(t,r,r[dr],2,null,null),r[Wr]=null,r[Bi]=null}(c[An],c);const T=m[rt];null!==T&&T.detachView(m[An]),c[Dr]=null,c[es]=null,c[_r]&=-129}return c}function tf(t,r){if(!(256&r[_r])){const s=r[dr];r[hr]&&qa(r[hr]),r[Br]&&qa(r[Br]),s.destroyNode&&af(t,r,s,3,null,null),function Yd(t){let r=t[Ts];if(!r)return vi(t[An],t);for(;r;){let s=null;if(ji(r))s=r[Ts];else{const c=r[Ir];c&&(s=c)}if(!s){for(;r&&!r[es]&&r!==t;)ji(r)&&vi(r[An],r),r=r[Dr];null===r&&(r=t),ji(r)&&vi(r[An],r),s=r&&r[es]}r=s}}(r)}}function vi(t,r){if(!(256&r[_r])){r[_r]&=-129,r[_r]|=256,function Cy(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let c=0;c<s.length;c+=2){const f=r[s[c]];if(!(f instanceof pa)){const m=s[c+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const D=f[m[T]],O=m[T+1];Es(4,D,O);try{O.call(D)}finally{Es(5,D,O)}}else{Es(4,f,m);try{m.call(f)}finally{Es(5,f,m)}}}}}(t,r),function a_(t,r){const s=t.cleanup,c=r[Qs];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const T=s[m+3];T>=0?c[T]():c[-T].unsubscribe(),m+=2}else s[m].call(c[s[m+1]]);null!==c&&(r[Qs]=null);const f=r[Un];if(null!==f){r[Un]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,r),1===r[An].type&&r[dr].destroy();const s=r[De];if(null!==s&&ti(r[Dr])){s!==r[Dr]&&o_(s,r);const c=r[rt];null!==c&&c.detachView(t)}!function Ey(t){Bd.delete(t[bt])}(r)}}function Vg(t,r,s){return function c_(t,r,s){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return s[Wr];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:m}=t.data[c.directiveStart+f];if(m===dn.None||m===dn.Emulated)return null}return ws(c,s)}}(t,r.parent,s)}function nu(t,r,s,c,f){t.insertBefore(r,s,c,f)}function gp(t,r,s){t.appendChild(r,s)}function l_(t,r,s,c,f){null!==c?nu(t,r,s,c,f):gp(t,r,s)}function Xd(t,r){return t.parentNode(r)}let Bg,ml,qg,Tp,_p=function u_(t,r,s){return 40&t.type?ws(t,s):null};function vp(t,r,s,c){const f=Vg(t,c,r),m=r[dr],D=function mp(t,r,s){return _p(t,r,s)}(c.parent||r[Bi],c,r);if(null!=f)if(Array.isArray(s))for(let O=0;O<s.length;O++)l_(m,f,s[O],D,!1);else l_(m,f,s,D,!1);void 0!==Bg&&Bg(m,c,r,s,f)}function Wu(t,r){if(null!==r){const s=r.type;if(3&s)return ws(r,t);if(4&s)return nf(-1,t[r.index]);if(8&s){const c=r.child;if(null!==c)return Wu(t,c);{const f=t[r.index];return ti(f)?nf(-1,f):Fr(f)}}if(32&s)return Wc(r,t)()||Fr(t[r.index]);{const c=$g(t,r);return null!==c?Array.isArray(c)?c[0]:Wu(gc(t[ee]),c):Wu(t,r.next)}}return null}function $g(t,r){return null!==r?t[ee][Bi].projection[r.projection]:null}function nf(t,r){const s=Ir+t+1;if(s<r.length){const c=r[s],f=c[An].firstChild;if(null!==f)return Wu(c,f)}return r[fi]}function sf(t,r,s,c,f,m,T){for(;null!=s;){const D=c[s.index],O=s.type;if(T&&0===r&&(D&&Eo(Fr(D),c),s.flags|=2),32!=(32&s.flags))if(8&O)sf(t,r,s.child,c,f,m,!1),eu(r,t,f,D,m);else if(32&O){const z=Wc(s,c);let oe;for(;oe=z();)eu(r,t,f,oe,m);eu(r,t,f,D,m)}else 16&O?h_(t,r,c,s,f,m):eu(r,t,f,D,m);s=T?s.projectionNext:s.next}}function af(t,r,s,c,f,m){sf(s,c,t.firstChild,r,f,m,!1)}function h_(t,r,s,c,f,m){const T=s[ee],O=T[Bi].projection[c.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)eu(r,t,f,O[z],m);else{let z=O;const oe=T[Dr];Ud(c)&&(z.flags|=128),sf(t,r,z,oe,f,m,!0)}}function Ep(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function bp(t,r,s){const{mergedAttrs:c,classes:f,styles:m}=s;null!==c&&Cr(t,r,c),null!==f&&Ep(t,r,f),null!==m&&function zg(t,r,s){t.setAttribute(r,"style",s)}(t,r,m)}function ru(t){return function Cp(){if(void 0===ml&&(ml=null,nr.trustedTypes))try{ml=nr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ml}()?.createHTML(t)||t}function Yg(t){qg=t}function Qd(){if(void 0!==qg)return qg;if(typeof document<"u")return document;throw new fe(210,!1)}function cf(){if(void 0===Tp&&(Tp=null,nr.trustedTypes))try{Tp=nr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tp}function f_(t){return cf()?.createHTML(t)||t}function p_(t){return cf()?.createScriptURL(t)||t}class _l{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}class Ay extends _l{getTypeName(){return"HTML"}}class Xg extends _l{getTypeName(){return"Style"}}class g_ extends _l{getTypeName(){return"Script"}}class Qg extends _l{getTypeName(){return"URL"}}class Jg extends _l{getTypeName(){return"ResourceURL"}}function yl(t){return t instanceof _l?t.changingThisBreaksApplicationSecurity:t}function Ku(t,r){const s=function Zg(t){return t instanceof _l&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${He})`)}return s===r}function m_(t){return new Ay(t)}function em(t){return new Xg(t)}function wp(t){return new g_(t)}function tm(t){return new Qg(t)}function Dy(t){return new Jg(t)}class Sy{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(ru(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class nm{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=ru(r),s}}const Jd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lf(t){return(t=String(t)).match(Jd)?t:"unsafe:"+t}function Ha(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function uf(...t){const r={};for(const s of t)for(const c in s)s.hasOwnProperty(c)&&(r[c]=!0);return r}const __=Ha("area,br,col,hr,img,wbr"),y_=Ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v_=Ha("rp,rt"),su=uf(__,uf(y_,Ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uf(v_,Ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uf(v_,y_)),Kc=Ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yu=uf(Kc,Ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hf=Ha("script,style,template");class eh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!su.hasOwnProperty(s))return this.sanitizedSomething=!0,!hf.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=r.attributes;for(let f=0;f<c.length;f++){const m=c.item(f),T=m.name,D=T.toLowerCase();if(!Yu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=m.value;Kc[D]&&(O=lf(O)),this.buf.push(" ",T,'="',rm(O),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();su.hasOwnProperty(s)&&!__.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(rm(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const C_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dp=/([^\#-~ |!])/g;function rm(t){return t.replace(/&/g,"&amp;").replace(C_,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Dp,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vl;function Sp(t,r){let s=null;try{vl=vl||function qu(t){const r=new nm(t);return function Ap(){try{return!!(new window.DOMParser).parseFromString(ru(""),"text/html")}catch{return!1}}()?new Sy(r):r}(t);let c=r?String(r):"";s=vl.getInertBodyElement(c);let f=5,m=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=m,m=s.innerHTML,s=vl.getInertBodyElement(c)}while(c!==m);return ru((new eh).sanitizeChildren(im(s)||s))}finally{if(s){const c=im(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function im(t){return"content"in t&&function Py(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Xu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xu||{});function sm(t){const r=Da();return r?f_(r.sanitize(Xu.HTML,t)||""):Ku(t,"HTML")?f_(yl(t)):Sp(Qd(),Ue(t))}function xp(t){const r=Da();return r?r.sanitize(Xu.URL,t)||"":Ku(t,"URL")?yl(t):lf(Ue(t))}function T_(t){const r=Da();if(r)return p_(r.sanitize(Xu.RESOURCE_URL,t)||"");if(Ku(t,"ResourceURL"))return p_(yl(t));throw new fe(904,!1)}function I_(t,r,s){return function ky(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?T_:xp}(r,s)(t)}function Da(){const t=en();return t&&t[Ls].sanitizer}const As=new Cn("ENVIRONMENT_INITIALIZER"),ou=new Cn("INJECTOR",-1),ff=new Cn("INJECTOR_DEF_TYPES");class om{get(r,s=Yn){if(s===Yn){const c=new Error(`NullInjectorError: No provider for ${ve(r)}!`);throw c.name="NullInjectorError",c}return s}}function th(t){return{\u0275providers:t}}function si(...t){return{\u0275providers:am(0,t),\u0275fromNgModule:!0}}function am(t,...r){const s=[],c=new Set;let f;const m=T=>{s.push(T)};return uc(r,T=>{const D=T;au(D,m,[],c)&&(f||=[],f.push(D))}),void 0!==f&&cm(f,m),s}function cm(t,r){for(let s=0;s<t.length;s++){const{ngModule:c,providers:f}=t[s];ho(f,m=>{r(m,c)})}}function au(t,r,s,c){if(!(t=dt(t)))return!1;let f=null,m=Jn(t);const T=!m&&jr(t);if(m||T){if(T&&!T.standalone)return!1;f=t}else{const O=t.ngModule;if(m=Jn(O),!m)return!1;f=O}const D=c.has(f);if(T){if(D)return!1;if(c.add(f),T.dependencies){const O="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const z of O)au(z,r,s,c)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let z;c.add(f);try{uc(m.imports,oe=>{au(oe,r,s,c)&&(z||=[],z.push(oe))})}finally{}void 0!==z&&cm(z,r)}if(!D){const z=oo(f)||(()=>new f);r({provide:f,useFactory:z,deps:yn},f),r({provide:ff,useValue:f,multi:!0},f),r({provide:As,useValue:()=>Mt(f),multi:!0},f)}const O=m.providers;if(null!=O&&!D){const z=t;ho(O,oe=>{r(oe,z)})}}}return f!==t&&void 0!==t.providers}function ho(t,r){for(let s of t)Ot(s)&&(s=s.\u0275providers),Array.isArray(s)?ho(s,r):r(s)}const qs=W({provide:String,useValue:W});function mc(t){return null!==t&&"object"==typeof t&&qs in t}function Qu(t){return"function"==typeof t}const Pp=new Cn("Set Injector scope."),Mp={},D_={};let S_;function lm(){return void 0===S_&&(S_=new om),S_}class Pi{}class nh extends Pi{get destroyed(){return this._destroyed}constructor(r,s,c,f){super(),this.parent=s,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dm(r,T=>this.processProvider(T)),this.records.set(ou,rh(void 0,this)),f.has("environment")&&this.records.set(Pi,rh(void 0,this));const m=this.records.get(Pp);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(ff.multi,yn,xn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=ge(this),c=Xr(void 0);try{return r()}finally{ge(s),Xr(c)}}get(r,s=Yn,c=xn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(vn))return r[vn](this);c=In(c);const m=ge(this),T=Xr(void 0);try{if(!(c&xn.SkipSelf)){let O=this.records.get(r);if(void 0===O){const z=function Uv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Cn}(r)&&ir(r);O=z&&this.injectableDefInScope(z)?rh(pf(r),Mp):null,this.records.set(r,O)}if(null!=O)return this.hydrate(r,O)}return(c&xn.Self?lm():this.parent).get(r,s=c&xn.Optional&&s===Yn?null:s)}catch(D){if("NullInjectorError"===D.name){if((D[Sr]=D[Sr]||[]).unshift(ve(r)),m)throw D;return function ze(t,r,s,c){const f=t[Sr];throw r[R]&&f.unshift(r[R]),t.message=function Vt(t,r,s,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=ve(r);if(Array.isArray(r))f=r.map(ve).join(" -> ");else if("object"==typeof r){let m=[];for(let T in r)if(r.hasOwnProperty(T)){let D=r[T];m.push(T+":"+("string"==typeof D?JSON.stringify(D):ve(D)))}f=`{${m.join(", ")}}`}return`${s}${c?"("+c+")":""}[${f}]: ${t.replace(Tt,"\n  ")}`}("\n"+t.message,f,s,c),t.ngTokenPath=f,t[Sr]=null,t}(D,r,"R3InjectorError",this.source)}throw D}finally{Xr(T),ge(m)}}resolveInjectorInitializers(){const r=ge(this),s=Xr(void 0);try{const f=this.get(As.multi,yn,xn.Self);for(const m of f)m()}finally{ge(r),Xr(s)}}toString(){const r=[],s=this.records;for(const c of s.keys())r.push(ve(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(r){let s=Qu(r=dt(r))?r:dt(r&&r.provide);const c=function Vy(t){return mc(t)?rh(void 0,t.useValue):rh(Rp(t),Mp)}(r);if(Qu(r)||!0!==r.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=rh(void 0,Mp,!0),f.factory=()=>gr(f.multi),this.records.set(s,f)),s=r,f.multi.push(r)}this.records.set(s,c)}hydrate(r,s){return s.value===Mp&&(s.value=D_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Uy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=dt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function pf(t){const r=ir(t),s=null!==r?r.factory:oo(t);if(null!==s)return s;if(t instanceof Cn)throw new fe(204,!1);if(t instanceof Function)return function fs(t){const r=t.length;if(r>0)throw function Bc(t,r){const s=[];for(let c=0;c<t;c++)s.push(r);return s}(r,"?"),new fe(204,!1);const s=function Ht(t){return t&&(t[gn]||t[lr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new fe(204,!1)}function Rp(t,r,s){let c;if(Qu(t)){const f=dt(t);return oo(f)||pf(f)}if(mc(t))c=()=>dt(t.useValue);else if(function A_(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...gr(t.deps||[]));else if(function Ly(t){return!(!t||!t.useExisting)}(t))c=()=>Mt(dt(t.useExisting));else{const f=dt(t&&(t.useClass||t.provide));if(!function um(t){return!!t.deps}(t))return oo(f)||pf(f);c=()=>new f(...gr(t.deps))}return c}function rh(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function dm(t,r){for(const s of t)Array.isArray(s)?dm(s,r):s&&Ot(s)?dm(s.\u0275providers,r):r(s)}const jy=new Cn("AppId",{providedIn:"root",factory:()=>jv}),jv="ng",Bv=new Cn("Platform Initializer"),x_=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Op=new Cn("AnimationModuleType"),$v=new Cn("CSP nonce",{providedIn:"root",factory:()=>Qd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let mm=(t,r,s)=>null;function cu(t,r,s=!1){return mm(t,r,s)}class zy{}class ym{}class Hv{resolveComponentFactory(r){throw function Fp(t){const r=Error(`No component factory found for ${ve(t)}.`);return r.ngComponent=t,r}(r)}}let lu=(()=>{class t{static{this.NULL=new Hv}}return t})();function tE(){return Lp(zs(),en())}function Lp(t,r){return new lh(ws(t,r))}let lh=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=tE}}return t})();function zv(t){return t instanceof lh?t.nativeElement:t}class Vp{}let Wv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Kv(){const t=en(),s=Wi(zs().index,t);return(ji(s)?s:t)[dr]}()}}return t})(),Em=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>null})}}return t})();class F_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Up=new F_("16.2.12"),ed={};function Xv(t,r=null,s=null,c){const f=Ky(t,r,s,c);return f.resolveInjectorInitializers(),f}function Ky(t,r=null,s=null,c,f=new Set){const m=[s||yn,si(t)];return c=c||("object"==typeof t?void 0:ve(t)),new nh(m,r||lm(),c||null,f)}let bl=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Yn}static{this.NULL=new om}static create(s,c){if(Array.isArray(s))return Xv({name:""},c,s,"");{const f=s.name??"";return Xv({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=hn({token:t,providedIn:"any",factory:()=>Mt(ou)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function uu(t){return t.ngOriginalError}class yc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&uu(r);for(;s&&uu(s);)s=uu(s);return s||null}}function Tl(t){return r=>{setTimeout(t,void 0,r)}}const Il=class e0 extends d.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,c){let f=r,m=s||(()=>null),T=c;if(r&&"object"==typeof r){const O=r;f=O.next?.bind(O),m=O.error?.bind(O),T=O.complete?.bind(O)}this.__isAsync&&(m=Tl(m),f&&(f=Tl(f)),T&&(T=Tl(T)));const D=super.subscribe({next:f,error:m,complete:T});return r instanceof p.yU&&r.add(D),D}};function qy(...t){}class Mo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&s,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function t0(){const t="function"==typeof nr.requestAnimationFrame;let r=nr[t?"requestAnimationFrame":"setTimeout"],s=nr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function s0(t){const r=()=>{!function r0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$_(t),t.isCheckStableRunning=!0,B_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,f,m,T,D)=>{if(function a0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return s.invokeTask(f,m,T,D);try{return Yy(t),s.invokeTask(f,m,T,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&r(),uh(t)}},onInvoke:(s,c,f,m,T,D,O)=>{try{return Yy(t),s.invoke(f,m,T,D,O)}finally{t.shouldCoalesceRunChangeDetection&&r(),uh(t)}},onHasTask:(s,c,f,m)=>{s.hasTask(f,m),c===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,$_(t),B_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,c,f,m)=>(s.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mo.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(Mo.isInAngularZone())throw new fe(909,!1)}run(r,s,c){return this._inner.run(r,s,c)}runTask(r,s,c,f){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+f,r,n0,qy,qy);try{return m.runTask(T,s,c)}finally{m.cancelTask(T)}}runGuarded(r,s,c){return this._inner.runGuarded(r,s,c)}runOutsideAngular(r){return this._outer.run(r)}}const n0={};function B_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Yy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uh(t){t._nesting--,B_(t)}class G_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(r,s,c){return r.apply(s,c)}runGuarded(r,s,c){return r.apply(s,c)}runOutsideAngular(r){return r()}runTask(r,s,c,f){return r.apply(s,c)}}const o0=new Cn("",{providedIn:"root",factory:Xy});function Xy(){const t=Wt(Mo);let r=!0;const s=new n.c(f=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(r),f.complete()})}),c=new n.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,f.next(!0))})})});const T=t.onUnstable.subscribe(()=>{Mo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,Ce.h)(s,c.pipe((0,Te.u)()))}function Qy(t){return t.ownerDocument.defaultView}function td(t){return t instanceof Function?t():t}let tv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Hp(t){for(;t;){t[_r]|=64;const r=gc(t);if(sa(t)&&!r)return t;t=r}return null}const H_=new Cn("",{providedIn:"root",factory:()=>!1});let W_=null;function p0(t,r){return t[r]??m0()}function g0(t,r){const s=m0();s.producerNode?.length&&(t[r]=W_,s.lView=t,W_=K_())}const iv={...wc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hp(t.lView)},lView:null};function K_(){return Object.create(iv)}function m0(){return W_??=K_(),W_}const ei={};function _0(t){Cm(Gr(),en(),Or()+t,!1)}function Cm(t,r,s,c){if(!c)if(3==(3&r[_r])){const m=t.preOrderCheckHooks;null!==m&&$l(r,m,s)}else{const m=t.preOrderHooks;null!==m&&Ou(r,m,0,s)}Kr(s)}function hu(t,r=xn.Default){const s=en();return null===s?Mt(t,r):Id(zs(),s,dt(t),r)}function u(){throw new Error("invalid")}function i(t,r,s,c,f,m,T,D,O,z,oe){const we=r.blueprint.slice();return we[Wr]=f,we[_r]=140|c,(null!==z||t&&2048&t[_r])&&(we[_r]|=2048),ka(we),we[Dr]=we[te]=t,we[ii]=s,we[Ls]=T||t&&t[Ls],we[dr]=D||t&&t[dr],we[_s]=O||t&&t[_s]||null,we[Bi]=m,we[bt]=function r_(){return Pg++}(),we[Sn]=oe,we[cn]=z,we[ee]=2==r.type?t[ee]:we,we}function o(t,r,s,c,f){let m=t.data[r];if(null===m)m=function h(t,r,s,c,f){const m=rl(),T=il(),O=t.data[r]=function pr(t,r,s,c,f,m){let T=r?r.injectorIndex:-1,D=0;return function fa(){return null!==wr.skipHydrationRootTNode}()&&(D|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,s,r,c,f);return null===t.firstChild&&(t.firstChild=O),null!==m&&(T?null==m.child&&null!==O.parent&&(m.child=O):null===m.next&&(m.next=O,O.prev=m)),O}(t,r,s,c,f),function Ul(){return wr.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=c,m.attrs=f;const T=function Pc(){const t=wr.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();m.injectorIndex=null===T?-1:T.injectorIndex}return Vo(m,!0),m}function y(t,r,s,c){if(0===s)return-1;const f=r.length;for(let m=0;m<s;m++)r.push(c),t.blueprint.push(c),t.data.push(null);return f}function C(t,r,s,c,f){const m=p0(r,hr),T=Or(),D=2&c;try{Kr(-1),D&&r.length>Xn&&Cm(t,r,Xn,!1),Es(D?2:0,f);const z=D?m:null,oe=Ta(z);try{null!==z&&(z.dirty=!1),s(c,f)}finally{ca(z,oe)}}finally{D&&null===r[hr]&&g0(r,hr),Kr(T),Es(D?3:1,f)}}function P(t,r,s){if(Ao(r)){const c=Yi(null);try{const m=r.directiveEnd;for(let T=r.directiveStart;T<m;T++){const D=t.data[T];D.contentQueries&&D.contentQueries(1,s[T],T)}}finally{Yi(c)}}}function V(t,r,s){Pu()&&(function y0(t,r,s,c){const f=s.directiveStart,m=s.directiveEnd;cs(s)&&function qp(t,r,s){const c=ws(r,t),f=ce(s);let T=16;s.signals?T=4096:s.onPush&&(T=64);const D=hh(t,i(t,f,null,T,c,r,null,t[Ls].rendererFactory.createRenderer(c,s),null,null,null));t[r.index]=D}(r,s,t.data[f+s.componentOffset]),t.firstCreatePass||cl(s,r),Eo(c,r);const T=s.initialInputs;for(let D=f;D<m;D++){const O=t.data[D],z=Fc(r,t,D,s);Eo(z,r),null!==T&&sv(0,D-f,z,O,0,T),go(O)&&(Wi(s.index,r)[ii]=Fc(r,t,D,s))}}(t,r,s,ws(s,r)),64==(64&s.flags)&&Cf(t,r,s))}function Y(t,r,s=ws){const c=r.localNames;if(null!==c){let f=r.index+1;for(let m=0;m<c.length;m+=2){const T=c[m+1],D=-1===T?s(r,t):t[T];t[f++]=D}}}function ce(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Ee(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Ee(t,r,s,c,f,m,T,D,O,z,oe){const we=Xn+c,tt=we+f,pt=function We(t,r){const s=[];for(let c=0;c<r;c++)s.push(c<t?null:ei);return s}(we,tt),Gt="function"==typeof z?z():z;return pt[An]={type:t,blueprint:pt,template:s,queries:null,viewQuery:D,declTNode:r,data:pt.slice().fill(null,we),bindingStartIndex:we,expandoStartIndex:tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:O,consts:Gt,incompleteFirstPass:!1,ssrId:oe}}let En=t=>null;function Lr(t,r,s,c){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const m=t[f];null===c?Vi(s,r,f,m):c.hasOwnProperty(f)&&Vi(s,r,c[f],m)}return s}function Vi(t,r,s,c){t.hasOwnProperty(s)?t[s].push(r,c):t[s]=[r,c]}function Ve(t,r,s,c,f,m,T,D){const O=ws(r,s);let oe,z=r.inputs;!D&&null!=z&&(oe=z[c])?(Xp(t,s,oe,c,f),cs(r)&&function Qe(t,r){const s=Wi(r,t);16&s[_r]||(s[_r]|=64)}(s,r.index)):3&r.type&&(c=function ut(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=T?T(f,r.value||"",c):f,m.setProperty(O,c,f))}function St(t,r,s,c){if(Pu()){const f=null===c?null:{"":-1},m=function Tm(t,r){const s=t.directiveRegistry;let c=null,f=null;if(s)for(let m=0;m<s.length;m++){const T=s[m];if(is(r,T.selectors,!1))if(c||(c=[]),go(T))if(null!==T.findHostDirectiveDefs){const D=[];f=f||new Map,T.findHostDirectiveDefs(T,D,f),c.unshift(...D,T),Im(t,r,D.length)}else c.unshift(T),Im(t,r,0);else f=f||new Map,T.findHostDirectiveDefs?.(T,c,f),c.push(T)}return null===c?null:[c,f]}(t,s);let T,D;null===m?T=D=null:[T,D]=m,null!==T&&qe(t,r,s,T,f,D),f&&function v0(t,r,s){if(r){const c=t.localNames=[];for(let f=0;f<r.length;f+=2){const m=s[r[f+1]];if(null==m)throw new fe(-301,!1);c.push(r[f],m)}}}(s,c,f)}s.mergedAttrs=Ci(s.mergedAttrs,s.attrs)}function qe(t,r,s,c,f,m){for(let z=0;z<c.length;z++)Ua(cl(s,r),t,c[z].type);!function ea(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,c.length);for(let z=0;z<c.length;z++){const oe=c[z];oe.providersResolver&&oe.providersResolver(oe)}let T=!1,D=!1,O=y(t,r,c.length,null);for(let z=0;z<c.length;z++){const oe=c[z];s.mergedAttrs=Ci(s.mergedAttrs,oe.hostAttrs),E0(t,s,r,O,oe),nd(O,oe,f),null!==oe.contentQueries&&(s.flags|=4),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(s.flags|=64);const we=oe.type.prototype;!T&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),T=!0),!D&&(we.ngOnChanges||we.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),D=!0),O++}!function oi(t,r,s){const f=r.directiveEnd,m=t.data,T=r.attrs,D=[];let O=null,z=null;for(let oe=r.directiveStart;oe<f;oe++){const we=m[oe],tt=s?s.get(we):null,Gt=tt?tt.outputs:null;O=Lr(we.inputs,oe,O,tt?tt.inputs:null),z=Lr(we.outputs,oe,z,Gt);const Tn=null===O||null===T||Xs(r)?null:Ki(O,oe,T);D.push(Tn)}null!==O&&(O.hasOwnProperty("class")&&(r.flags|=8),O.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=D,r.inputs=O,r.outputs=z}(t,s,m)}function Cf(t,r,s){const c=s.directiveStart,f=s.directiveEnd,m=s.index,T=function Mc(){return wr.lFrame.currentDirectiveIndex}();try{Kr(m);for(let D=c;D<f;D++){const O=t.data[D],z=r[D];Bl(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&Kp(O,z)}}finally{Kr(-1),Bl(T)}}function Kp(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Im(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function nd(t,r,s){if(s){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)s[r.exportAs[c]]=t;go(r)&&(s[""]=t)}}function E0(t,r,s,c,f){t.data[c]=f;const m=f.factory||(f.factory=oo(f.type)),T=new pa(m,go(f),hu);t.blueprint[c]=T,s[c]=T,function fu(t,r,s,c,f){const m=f.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const D=~r.index;(function Wp(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=D&&T.push(D),T.push(s,c,m)}}(t,r,c,y(t,s,f.hostVars,ei),f)}function wl(t,r,s,c,f,m){const T=ws(t,r);!function dh(t,r,s,c,f,m,T){if(null==m)t.removeAttribute(r,f,s);else{const D=null==T?Ue(m):T(m,c||"",f);t.setAttribute(r,f,D,s)}}(r[dr],T,m,t.value,s,c,f)}function sv(t,r,s,c,f,m){const T=m[r];if(null!==T)for(let D=0;D<T.length;)q_(c,s,T[D++],T[D++],T[D++])}function q_(t,r,s,c,f){const m=Yi(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(c)&&(f=T[c].call(r,f)),null!==t.setInput?t.setInput(r,f,s,c):r[c]=f}finally{Yi(m)}}function Ki(t,r,s){let c=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===c&&(c=[]);const T=t[m];for(let D=0;D<T.length;D+=2)if(T[D]===r){c.push(m,T[D+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function Yp(t,r,s,c){return[t,!0,!1,r,null,0,c,s,null,null,null]}function Tf(t,r){const s=t.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const m=s[c+1];if(-1!==m){const T=t.data[m];S(s[c]),T.contentQueries(2,r[m],m)}}}function hh(t,r){return t[Ts]?t[Ps][es]=r:t[Ts]=r,t[Ps]=r,r}function If(t,r,s){S(0);const c=Yi(null);try{r(t,s)}finally{Yi(c)}}function wm(t){return t[Qs]||(t[Qs]=[])}function Am(t){return t.cleanup||(t.cleanup=[])}function Dm(t,r){const s=t[_s],c=s?s.get(yc,null):null;c&&c.handleError(r)}function Xp(t,r,s,c,f){for(let m=0;m<s.length;){const T=s[m++],D=s[m++];q_(t.data[T],r[T],c,D,f)}}function vc(t,r,s){const c=Xo(r,t);!function hp(t,r,s){t.setValue(r,s)}(t[dr],c,s)}function Q_(t,r){const s=Wi(r,t),c=s[An];!function b0(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(c,s);const f=s[Wr];null!==f&&null===s[Sn]&&(s[Sn]=cu(f,s[_s])),wf(c,s,s[ii])}function wf(t,r,s){k(r);try{const c=t.viewQuery;null!==c&&If(1,c,s);const f=t.template;null!==f&&C(t,r,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Tf(t,r),t.staticViewQueries&&If(2,t.viewQuery,s);const m=t.components;null!==m&&function Sm(t,r){for(let s=0;s<r.length;s++)Q_(t,r[s])}(r,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[_r]&=-5,yt()}}let Qp=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,c,f){const m=typeof Zone>"u"?null:Zone.current,T=function $t(t,r,s){const c=Object.create(ni);s&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=r;const f=T=>{c.cleanupFn=T};return c.ref={notify:()=>ys(c),run:()=>{if(c.dirty=!1,c.hasRun&&!So(c))return;c.hasRun=!0;const T=Ta(c);try{c.cleanupFn(),c.cleanupFn=tr,c.fn(f)}finally{ca(c,T)}},cleanup:()=>c.cleanupFn()},c.ref}(s,z=>{this.all.has(z)&&this.queue.set(z,m)},f);let D;this.all.add(T),T.notify();const O=()=>{T.cleanup(),D?.(),this.all.delete(T),this.queue.delete(T)};return D=c?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function bo(t,r,s){let c=s?t.styles:null,f=s?t.classes:null,m=0;if(null!==r)for(let T=0;T<r.length;T++){const D=r[T];"number"==typeof D?m=D:1==m?f=st(f,D):2==m&&(c=st(c,D+": "+r[++T]+";"))}s?t.styles=c:t.stylesWithoutHost=c,s?t.classes=f:t.classesWithoutHost=f}function pu(t,r,s,c,f=!1){for(;null!==s;){const m=r[s.index];null!==m&&c.push(Fr(m)),ti(m)&&xm(m,c);const T=s.type;if(8&T)pu(t,r,s.child,c);else if(32&T){const D=Wc(s,r);let O;for(;O=D();)c.push(O)}else if(16&T){const D=$g(r,s);if(Array.isArray(D))c.push(...D);else{const O=gc(r[ee]);pu(O[An],O,D,c,!0)}}s=f?s.projectionNext:s.next}return c}function xm(t,r){for(let s=Ir;s<t.length;s++){const c=t[s],f=c[An].firstChild;null!==f&&pu(c[An],c,f,r)}t[fi]!==t[Wr]&&r.push(t[fi])}function Af(t,r,s,c=!0){const f=r[Ls],m=f.rendererFactory,T=f.afterRenderEventManager;m.begin?.(),T?.begin();try{Pm(t,r,t.template,s)}catch(O){throw c&&Dm(r,O),O}finally{m.end?.(),f.effectManager?.flush(),T?.end()}}function Pm(t,r,s,c){const f=r[_r];if(256!=(256&f)){r[Ls].effectManager?.flush(),k(r);try{ka(r),function Fa(t){return wr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&C(t,r,s,2,c);const T=3==(3&f);if(T){const z=t.preOrderCheckHooks;null!==z&&$l(r,z,null)}else{const z=t.preOrderHooks;null!==z&&Ou(r,z,0,null),Nu(r,0)}if(function Rm(t){for(let r=gl(t);null!==r;r=Og(r)){if(!r[wi])continue;const s=r[ts];for(let c=0;c<s.length;c++){xc(s[c])}}}(r),Mm(r,2),null!==t.contentQueries&&Tf(t,r),T){const z=t.contentCheckHooks;null!==z&&$l(r,z)}else{const z=t.contentHooks;null!==z&&Ou(r,z,1),Nu(r,1)}!function e(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const c=p0(r,Br);try{for(let f=0;f<s.length;f++){const m=s[f];if(m<0)Kr(~m);else{const T=m,D=s[++f],O=s[++f];Jf(D,T),c.dirty=!1;const z=Ta(c);try{O(2,r[T])}finally{ca(c,z)}}}}finally{null===r[Br]&&g0(r,Br),Kr(-1)}}(t,r);const D=t.components;null!==D&&Jp(r,D,0);const O=t.viewQuery;if(null!==O&&If(2,O,c),T){const z=t.viewCheckHooks;null!==z&&$l(r,z)}else{const z=t.viewHooks;null!==z&&Ou(r,z,2),Nu(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[_r]&=-73,tl(r)}finally{yt()}}}function Mm(t,r){for(let s=gl(t);null!==s;s=Og(s))for(let c=Ir;c<s.length;c++)J_(s[c],r)}function ov(t,r,s){J_(Wi(r,t),s)}function J_(t,r){if(!function Su(t){return 128==(128&t[_r])}(t))return;const s=t[An],c=t[_r];if(80&c&&0===r||1024&c||2===r)Pm(s,t,s.template,t[ii]);else if(t[as]>0){Mm(t,1);const f=s.components;null!==f&&Jp(t,f,1)}}function Jp(t,r,s){for(let c=0;c<r.length;c++)ov(t,r[c],s)}class fh{get rootNodes(){const r=this._lView,s=r[An];return pu(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ii]}set context(r){this._lView[ii]=r}get destroyed(){return 256==(256&this._lView[_r])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Dr];if(ti(r)){const s=r[8],c=s?s.indexOf(this):-1;c>-1&&(tu(r,c),jc(s,c))}this._attachedToViewContainer=!1}tf(this._lView[An],this._lView)}onDestroy(r){!function gd(t,r){if(256==(256&t[_r]))throw new fe(911,!1);null===t[Un]&&(t[Un]=[]),t[Un].push(r)}(this._lView,r)}markForCheck(){Hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[_r]&=-129}reattach(){this._lView[_r]|=128}detectChanges(){Af(this._lView[An],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lg(t,r){af(t,r,r[dr],2,null,null)}(this._lView[An],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=r}}class Z_ extends fh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Af(r[An],r,r[ii],!1)}checkNoChanges(){}get context(){return null}}class ph extends lu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=jr(r);return new Sf(s,this.ngModule)}}function Zp(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class rd{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,c){c=In(c);const f=this.injector.get(r,ed,c);return f!==ed||s===ed?f:this.parentInjector.get(r,s,c)}}class Sf extends ym{get inputs(){const r=this.componentDef,s=r.inputTransforms,c=Zp(r.inputs);if(null!==s)for(const f of c)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return c}get outputs(){return Zp(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function er(t){return t.map($r).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,c,f){let m=(f=f||this.ngModule)instanceof Pi?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new rd(r,m):r,D=T.get(Vp,null);if(null===D)throw new fe(407,!1);const we={rendererFactory:D,sanitizer:T.get(Em,null),effectManager:T.get(Qp,null),afterRenderEventManager:T.get(tv,null)},tt=D.createRenderer(null,this.componentDef),pt=this.componentDef.selectors[0][0]||"div",Gt=c?function Ct(t,r,s,c){const m=c.get(H_,!1)||s===dn.ShadowDom,T=t.selectRootElement(r,m);return function qt(t){En(t)}(T),T}(tt,c,this.componentDef.encapsulation,T):fp(tt,pt,function Om(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(pt)),Tr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let an=null;null!==Gt&&(an=cu(Gt,T,!0));const Yr=Ee(0,null,null,1,0,null,null,null,null,null,null),Ai=i(null,Yr,null,Tr,null,null,we,tt,T,null,an);let Cs,Zc;k(Ai);try{const Qf=this.componentDef;let vy,tb=null;Qf.findHostDirectiveDefs?(vy=[],tb=new Map,Qf.findHostDirectiveDefs(Qf,vy,tb),vy.push(Qf)):vy=[Qf];const qw=function ey(t,r){const s=t[An],c=Xn;return t[c]=r,o(s,c,2,"#host",null)}(Ai,Gt),Yw=function za(t,r,s,c,f,m,T){const D=f[An];!function Nm(t,r,s,c){for(const f of t)r.mergedAttrs=Ci(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(bo(r,r.mergedAttrs,!0),null!==s&&bp(c,s,r))}(c,t,r,T);let O=null;null!==r&&(O=cu(r,f[_s]));const z=m.rendererFactory.createRenderer(r,s);let oe=16;s.signals?oe=4096:s.onPush&&(oe=64);const we=i(f,ce(s),null,oe,f[t.index],t,m,z,null,null,O);return D.firstCreatePass&&Im(D,t,c.length-1),hh(f,we),f[t.index]=we}(qw,Gt,Qf,vy,Ai,we,tt);Zc=fd(Yr,Xn),Gt&&function tg(t,r,s,c){if(c)Cr(t,s,["ng-version",Up.full]);else{const{attrs:f,classes:m}=function $i(t){const r=[],s=[];let c=1,f=2;for(;c<t.length;){let m=t[c];if("string"==typeof m)2===f?""!==m&&r.push(m,t[++c]):8===f&&s.push(m);else{if(!ri(f))break;f=m}c++}return{attrs:r,classes:s}}(r.selectors[0]);f&&Cr(t,s,f),m&&m.length>0&&Ep(t,s,m.join(" "))}}(tt,Qf,Gt,c),void 0!==s&&function id(t,r,s){const c=t.projection=[];for(let f=0;f<r.length;f++){const m=s[f];c.push(null!=m?Array.from(m):null)}}(Zc,this.ngContentSelectors,s),Cs=function Ro(t,r,s,c,f,m){const T=zs(),D=f[An],O=ws(T,f);qe(D,f,T,s,null,c);for(let oe=0;oe<s.length;oe++)Eo(Fc(f,D,T.directiveStart+oe,T),f);Cf(D,f,T),O&&Eo(O,f);const z=Fc(f,D,T.directiveStart+T.componentOffset,T);if(t[ii]=f[ii]=z,null!==m)for(const oe of m)oe(z,r);return P(D,T,t),z}(Yw,Qf,vy,tb,Ai,[Oo]),wf(Yr,Ai,null)}finally{yt()}return new eg(this.componentType,Cs,Lp(Zc,Ai),Ai,Zc)}}class eg extends zy{constructor(r,s,c,f,m){super(),this.location=c,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Z_(f),this.componentType=r}setInput(r,s){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const m=this._rootLView;Xp(m[An],m,f,r,s),this.previousInputValues.set(r,s),Hp(Wi(this._tNode.index,m))}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Oo(){const t=zs();Va(en()[An],t)}function Fm(t){let r=function km(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const c=[t];for(;r;){let f;if(go(t))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new fe(903,!1);f=r.\u0275dir}if(f){if(s){c.push(f);const T=t;T.inputs=ng(t.inputs),T.inputTransforms=ng(t.inputTransforms),T.declaredInputs=ng(t.declaredInputs),T.outputs=ng(t.outputs);const D=f.hostBindings;D&&ty(t,D);const O=f.viewQuery,z=f.contentQueries;if(O&&sd(t,O),z&&xf(t,z),ie(t.inputs,f.inputs),ie(t.declaredInputs,f.declaredInputs),ie(t.outputs,f.outputs),null!==f.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),ie(T.inputTransforms,f.inputTransforms)),go(f)&&f.data.animation){const oe=t.data;oe.animation=(oe.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let T=0;T<m.length;T++){const D=m[T];D&&D.ngInherit&&D(t),D===Fm&&(s=!1)}}r=Object.getPrototypeOf(r)}!function gu(t){let r=0,s=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=r+=f.hostVars,f.hostAttrs=Ci(f.hostAttrs,s=Ci(s,f.hostAttrs))}}(c)}function ng(t){return t===ur?{}:t===yn?[]:t}function sd(t,r){const s=t.viewQuery;t.viewQuery=s?(c,f)=>{r(c,f),s(c,f)}:r}function xf(t,r){const s=t.contentQueries;t.contentQueries=s?(c,f,m)=>{r(c,f,m),s(c,f,m)}:r}function ty(t,r){const s=t.hostBindings;t.hostBindings=s?(c,f)=>{r(c,f),s(c,f)}:r}function iy(t){const r=t.inputConfig,s={};for(const c in r)if(r.hasOwnProperty(c)){const f=r[c];Array.isArray(f)&&f[2]&&(s[c]=f[2])}t.inputTransforms=s}function mu(t){return!!qc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function qc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Co(t,r,s){return t[r]=s}function yu(t,r){return t[r]}function to(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function vu(t,r,s,c){const f=to(t,r,s);return to(t,r+1,c)||f}function Yc(t,r,s,c,f){const m=vu(t,r,s,c);return to(t,r+2,f)||m}function ta(t,r,s,c,f,m){const T=vu(t,r,s,c);return vu(t,r+2,f,m)||T}function sg(t,r,s,c){const f=en();return to(f,rc(),r)&&(Gr(),wl(Zr(),f,t,r,s,c)),sg}function Sa(t,r,s,c){return to(t,rc(),s)?r+Ue(s)+c:ei}function na(t,r,s,c,f,m){const D=vu(t,function yo(){return wr.lFrame.bindingIndex}(),s,f);return xo(2),D?r+Ue(s)+c+Ue(f)+m:ei}function $f(t,r,s,c,f,m,T,D){const O=en(),z=Gr(),oe=t+Xn,we=z.firstCreatePass?function Th(t,r,s,c,f,m,T,D,O){const z=r.consts,oe=o(r,t,4,T||null,Rs(z,D));St(r,s,oe,Rs(z,O)),Va(r,oe);const we=oe.tView=Ee(2,oe,c,f,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z,null);return null!==r.queries&&(r.queries.template(r,oe),we.queries=r.queries.embeddedTView(oe)),oe}(oe,z,O,r,s,c,f,m,T):z.data[oe];Vo(we,!1);const tt=dg(z,O,we,t);oc()&&vp(z,O,tt,we),Eo(tt,O),hh(O,O[oe]=Yp(tt,O,tt,we)),so(we)&&V(z,O,we),null!=T&&Y(O,we,D)}let dg=function Gf(t,r,s,c){return Po(!0),r[dr].createComment("")};function Hm(t){return Ja(function ec(){return wr.lFrame.contextLView}(),Xn+t)}function pg(t,r,s){const c=en();return to(c,rc(),r)&&Ve(Gr(),Zr(),c,t,r,c[dr],s,!1),pg}function Ih(t,r,s,c,f){const T=f?"class":"style";Xp(t,s,r.inputs[T],T,c)}function wh(t,r,s,c){const f=en(),m=Gr(),T=Xn+t,D=f[dr],O=m.firstCreatePass?function Hf(t,r,s,c,f,m){const T=r.consts,O=o(r,t,2,c,Rs(T,f));return St(r,s,O,Rs(T,m)),null!==O.attrs&&bo(O,O.attrs,!1),null!==O.mergedAttrs&&bo(O,O.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,O),O}(T,m,f,r,s,c):m.data[T],z=zm(m,f,O,D,r,t);f[T]=z;const oe=so(O);return Vo(O,!0),bp(D,z,O),32!=(32&O.flags)&&oc()&&vp(m,f,z,O),0===function ha(){return wr.lFrame.elementDepthCount}()&&Eo(z,f),function Vl(){wr.lFrame.elementDepthCount++}(),oe&&(V(m,f,O),P(m,O,f)),null!==c&&Y(f,O),wh}function Ah(){let t=zs();il()?sl():(t=t.parent,Vo(t,!1));const r=t;(function md(t){return wr.skipHydrationRootTNode===t})(r)&&function Za(){wr.skipHydrationRootTNode=null}(),function Oh(){wr.lFrame.elementDepthCount--}();const s=Gr();return s.firstCreatePass&&(Va(s,t),Ao(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function vd(t){return 0!=(8&t.flags)}(r)&&Ih(s,r,en(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Lu(t){return 0!=(16&t.flags)}(r)&&Ih(s,r,en(),r.stylesWithoutHost,!1),Ah}function gg(t,r,s,c){return wh(t,r,s,c),Ah(),gg}let zm=(t,r,s,c,f,m)=>(Po(!0),fp(c,f,function Ru(){return wr.lFrame.currentNamespace}()));function zf(t,r,s){const c=en(),f=Gr(),m=t+Xn,T=f.firstCreatePass?function uy(t,r,s,c,f){const m=r.consts,T=Rs(m,c),D=o(r,t,8,"ng-container",T);return null!==T&&bo(D,T,!0),St(r,s,D,Rs(m,f)),null!==r.queries&&r.queries.elementStart(r,D),D}(m,f,c,r,s):f.data[m];Vo(T,!0);const D=Ea(f,c,T,t);return c[m]=D,oc()&&vp(f,c,D,T),Eo(D,c),so(T)&&(V(f,c,T),P(f,T,c)),null!=s&&Y(c,T),zf}function Dh(){let t=zs();const r=Gr();return il()?sl():(t=t.parent,Vo(t,!1)),r.firstCreatePass&&(Va(r,t),Ao(t)&&r.queries.elementEnd(t)),Dh}function Sh(t,r,s){return zf(t,r,s),Dh(),Sh}let Ea=(t,r,s,c)=>(Po(!0),Ng(r[dr],""));function Pl(){return en()}function b(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function X(t,r,s,c){const f=en(),m=Gr(),T=zs();return function Nt(t,r,s,c,f,m,T){const D=so(c),z=t.firstCreatePass&&Am(t),oe=r[ii],we=wm(r);let tt=!0;if(3&c.type||T){const Tn=ws(c,r),qn=T?T(Tn):Tn,Tr=we.length,an=T?Ai=>T(Fr(Ai[c.index])):c.index;let Yr=null;if(!T&&D&&(Yr=function _t(t,r,s,c){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const T=f[m];if(T===s&&f[m+1]===c){const D=r[Qs],O=f[m+2];return D.length>O?D[O]:null}"string"==typeof T&&(m+=2)}return null}(t,r,f,c.index)),null!==Yr)(Yr.__ngLastListenerFn__||Yr).__ngNextListenerFn__=m,Yr.__ngLastListenerFn__=m,tt=!1;else{m=Gi(c,r,oe,m,!1);const Ai=s.listen(qn,f,m);we.push(m,Ai),z&&z.push(f,an,Tr,Tr+1)}}else m=Gi(c,r,oe,m,!1);const pt=c.outputs;let Gt;if(tt&&null!==pt&&(Gt=pt[f])){const Tn=Gt.length;if(Tn)for(let qn=0;qn<Tn;qn+=2){const Cs=r[Gt[qn]][Gt[qn+1]].subscribe(m),Zc=we.length;we.push(m,Cs),z&&z.push(f,c.index,Zc,-(Zc+1))}}}(m,f,f[dr],T,t,r,c),X}function wn(t,r,s,c){try{return Es(6,r,s),!1!==s(c)}catch(f){return Dm(t,f),!1}finally{Es(7,r,s)}}function Gi(t,r,s,c,f){return function m(T){if(T===Function)return c;Hp(t.componentOffset>-1?Wi(t.index,r):r);let O=wn(r,s,c,T),z=m.__ngNextListenerFn__;for(;z;)O=wn(r,s,z,T)&&O,z=z.__ngNextListenerFn__;return f&&!1===O&&T.preventDefault(),O}}function Bs(t=1){return function Mn(t){return(wr.lFrame.contextLView=function Ar(t,r){for(;t>0;)r=r[te],t--;return r}(t,wr.lFrame.contextLView))[ii]}(t)}function Xc(t,r,s){return ba(t,"",r,"",s),Xc}function ba(t,r,s,c,f){const m=en(),T=Sa(m,r,s,c);return T!==ei&&Ve(Gr(),Zr(),m,t,T,m[dr],f,!1),ba}function hy(t,r){return t<<17|r<<2}function xh(t){return t>>17&32767}function fy(t){return 2|t}function Cu(t){return(131068&t)>>2}function pv(t,r){return-131069&t|r<<2}function Km(t){return 1|t}function D0(t,r,s,c,f){const m=t[s+1],T=null===r;let D=c?xh(m):Cu(m),O=!1;for(;0!==D&&(!1===O||T);){const oe=t[D+1];hE(t[D],r)&&(O=!0,t[D+1]=c?Km(oe):fy(oe)),D=c?xh(oe):Cu(oe)}O&&(t[s+1]=c?fy(m):Km(m))}function hE(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ba(t,r)>=0}const To={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qm(t){return t.substring(To.key,To.keyEnd)}function gv(t,r){const s=To.textEnd;return s===r?-1:(r=To.keyEnd=function gE(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,To.key=r,s),mg(t,r,s))}function mg(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function M0(t,r,s){return Iu(t,r,s,!1),M0}function R0(t,r){return Iu(t,r,null,!0),R0}function O0(t){!function Ml(t,r,s,c){const f=Gr(),m=xo(2);f.firstUpdatePass&&l(f,null,m,c);const T=en();if(s!==ei&&to(T,m,s)){const D=f.data[Or()];if(Er(D,c)&&!g(f,m)){let O=c?D.classesWithoutHost:D.stylesWithoutHost;null!==O&&(s=st(O,s||"")),Ih(f,D,T,s,c)}else!function sn(t,r,s,c,f,m,T,D){f===ei&&(f=yn);let O=0,z=0,oe=0<f.length?f[0]:null,we=0<m.length?m[0]:null;for(;null!==oe||null!==we;){const tt=O<f.length?f[O+1]:void 0,pt=z<m.length?m[z+1]:void 0;let Tn,Gt=null;oe===we?(O+=2,z+=2,tt!==pt&&(Gt=we,Tn=pt)):null===we||null!==oe&&oe<we?(O+=2,Gt=oe):(z+=2,Gt=we,Tn=pt),null!==Gt&&zn(t,r,s,c,Gt,Tn,T,D),oe=O<f.length?f[O]:null,we=z<m.length?m[z]:null}}(f,D,T,T[dr],T[m+1],T[m+1]=function Le(t,r,s){if(null==s||""===s)return yn;const c=[],f=yl(s);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(c,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(c,m,f[m]);else"string"==typeof f&&r(c,f);return c}(t,r,s),c,m)}}(It,Tu,t,!0)}function Tu(t,r){for(let s=function fE(t){return function P0(t){To.key=0,To.keyEnd=0,To.value=0,To.valueEnd=0,To.textEnd=t.length}(t),gv(t,mg(t,0,To.textEnd))}(r);s>=0;s=gv(r,s))js(t,qm(r),!0)}function Iu(t,r,s,c){const f=en(),m=Gr(),T=xo(2);m.firstUpdatePass&&l(m,t,T,c),r!==ei&&to(f,T,r)&&zn(m,m.data[Or()],f,f[dr],t,f[T+1]=function kn(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ve(yl(t)))),t}(r,s),c,T)}function g(t,r){return r>=t.expandoStartIndex}function l(t,r,s,c){const f=t.data;if(null===f[s+1]){const m=f[Or()],T=g(t,s);Er(m,c)&&null===r&&!T&&(r=!1),r=function a(t,r,s,c){const f=function La(t){const r=wr.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let m=c?r.residualClasses:r.residualStyles;if(null===f)0===(c?r.classBindings:r.styleBindings)&&(s=de(s=ne(null,t,r,s,c),r.attrs,c),m=null);else{const T=r.directiveStylingLast;if(-1===T||t[T]!==f)if(s=ne(f,t,r,s,c),null===m){let O=function v(t,r,s){const c=s?r.classBindings:r.styleBindings;if(0!==Cu(c))return t[xh(c)]}(t,r,c);void 0!==O&&Array.isArray(O)&&(O=ne(null,t,r,O[1],c),O=de(O,r.attrs,c),function I(t,r,s,c){t[xh(s?r.classBindings:r.styleBindings)]=c}(t,r,c,O))}else m=function $(t,r,s){let c;const f=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<f;m++)c=de(c,t[m].hostAttrs,s);return de(c,r.attrs,s)}(t,r,c)}return void 0!==m&&(c?r.residualClasses=m:r.residualStyles=m),s}(f,m,r,c),function uE(t,r,s,c,f,m){let T=m?r.classBindings:r.styleBindings,D=xh(T),O=Cu(T);t[c]=s;let oe,z=!1;if(Array.isArray(s)?(oe=s[1],(null===oe||Ba(s,oe)>0)&&(z=!0)):oe=s,f)if(0!==O){const tt=xh(t[D+1]);t[c+1]=hy(tt,D),0!==tt&&(t[tt+1]=pv(t[tt+1],c)),t[D+1]=function aE(t,r){return 131071&t|r<<17}(t[D+1],c)}else t[c+1]=hy(D,0),0!==D&&(t[D+1]=pv(t[D+1],c)),D=c;else t[c+1]=hy(O,0),0===D?D=c:t[O+1]=pv(t[O+1],c),O=c;z&&(t[c+1]=fy(t[c+1])),D0(t,oe,c,!0),D0(t,oe,c,!1),function dE(t,r,s,c,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof r&&Ba(m,r)>=0&&(s[c+1]=Km(s[c+1]))}(r,oe,t,c,m),T=hy(D,O),m?r.classBindings=T:r.styleBindings=T}(f,m,r,s,T,c)}}function ne(t,r,s,c,f){let m=null;const T=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<T&&(m=r[D],c=de(c,m.hostAttrs,f),m!==t);)D++;return null!==t&&(s.directiveStylingLast=D),c}function de(t,r,s){const c=s?1:2;let f=-1;if(null!==r)for(let m=0;m<r.length;m++){const T=r[m];"number"==typeof T?f=T:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),js(t,T,!!s||r[++m]))}return void 0===t?null:t}function It(t,r,s){const c=String(r);""!==c&&!c.includes(" ")&&js(t,c,s)}function zn(t,r,s,c,f,m,T,D){if(!(3&r.type))return;const O=t.data,z=O[D+1],oe=function cE(t){return 1==(1&t)}(z)?Pn(O,r,s,f,Cu(z),T):void 0;Ln(oe)||(Ln(m)||function A0(t){return 2==(2&t)}(z)&&(m=Pn(O,null,s,f,D,T)),function Iy(t,r,s,c,f){if(r)f?t.addClass(s,c):t.removeClass(s,c);else{let m=-1===c.indexOf("-")?void 0:jd.DashCase;null==f?t.removeStyle(s,c,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=jd.Important),t.setStyle(s,c,f,m))}}(c,T,Xo(Or(),s),f,m))}function Pn(t,r,s,c,f,m){const T=null===r;let D;for(;f>0;){const O=t[f],z=Array.isArray(O),oe=z?O[1]:O,we=null===oe;let tt=s[f+1];tt===ei&&(tt=we?yn:void 0);let pt=we?zh(tt,c):oe===c?tt:void 0;if(z&&!Ln(pt)&&(pt=zh(O,c)),Ln(pt)&&(D=pt,T))return D;const Gt=t[f+1];f=T?xh(Gt):Cu(Gt)}if(null!==r){let O=m?r.residualClasses:r.residualStyles;null!=O&&(D=zh(O,c))}return D}function Ln(t){return void 0!==t}function Er(t,r){return 0!=(t.flags&(r?8:16))}function qr(t,r=""){const s=en(),c=Gr(),f=t+Xn,m=c.firstCreatePass?o(c,f,1,r,null):c.data[f],T=gi(c,s,m,r,t);s[f]=T,oc()&&vp(c,s,T,m),Vo(m,!1)}let gi=(t,r,s,c,f)=>(Po(!0),function qd(t,r){return t.createText(r)}(r[dr],c));function Ri(t){return ai("",t,""),Ri}function ai(t,r,s){const c=en(),f=Sa(c,t,r,s);return f!==ei&&vc(c,Or(),f),ai}function Ei(t,r,s,c,f){const m=en(),T=na(m,t,r,s,c,f);return T!==ei&&vc(m,Or(),T),Ei}const dd=void 0;var U0=["en",[["a","p"],["AM","PM"],dd],[["AM","PM"],dd,dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dd,"{1} 'at' {0}",dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function V0(t){const s=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Xf={};function vE(t){const r=function ST(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ub(r);if(s)return s;const c=r.split("-")[0];if(s=ub(c),s)return s;if("en"===c)return U0;throw new fe(701,!1)}function lb(t){return vE(t)[py.PluralCase]}function ub(t){return t in Xf||(Xf[t]=nr.ng&&nr.ng.common&&nr.ng.common.locales&&nr.ng.common.locales[t]),Xf[t]}var py=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(py||{});const gy="en-US";let db=gy;function CE(t,r,s,c,f){if(t=dt(t),Array.isArray(t))for(let m=0;m<t.length;m++)CE(t[m],r,s,c,f);else{const m=Gr(),T=en(),D=zs();let O=Qu(t)?t:dt(t.provide);const z=Rp(t),oe=1048575&D.providerIndexes,we=D.directiveStart,tt=D.providerIndexes>>20;if(Qu(t)||!t.multi){const pt=new pa(z,f,hu),Gt=IE(O,r,f?oe:oe+tt,we);-1===Gt?(Ua(cl(D,T),m,O),TE(m,t,r.length),r.push(O),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),s.push(pt),T.push(pt)):(s[Gt]=pt,T[Gt]=pt)}else{const pt=IE(O,r,oe+tt,we),Gt=IE(O,r,oe,oe+tt),qn=Gt>=0&&s[Gt];if(f&&!qn||!f&&!(pt>=0&&s[pt])){Ua(cl(D,T),m,O);const Tr=function AI(t,r,s,c,f){const m=new pa(t,s,hu);return m.multi=[],m.index=r,m.componentProviders=0,Fb(m,f,c&&!s),m}(f?wI:II,s.length,f,c,z);!f&&qn&&(s[Gt].providerFactory=Tr),TE(m,t,r.length,0),r.push(O),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),s.push(Tr),T.push(Tr)}else TE(m,t,pt>-1?pt:Gt,Fb(s[f?Gt:pt],z,!f&&c));!f&&c&&qn&&s[Gt].componentProviders++}}}function TE(t,r,s,c){const f=Qu(r),m=function Vv(t){return!!t.useClass}(r);if(f||m){const O=(m?dt(r.useClass):r).prototype.ngOnDestroy;if(O){const z=t.destroyHooks||(t.destroyHooks=[]);if(!f&&r.multi){const oe=z.indexOf(s);-1===oe?z.push(s,[c,O]):z[oe+1].push(c,O)}else z.push(s,O)}}}function Fb(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function IE(t,r,s,c){for(let f=s;f<c;f++)if(r[f]===t)return f;return-1}function II(t,r,s,c){return wE(this.multi,[])}function wI(t,r,s,c){const f=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=Fc(s,s[An],this.providerFactory.index,c);m=D.slice(0,T),wE(f,m);for(let O=T;O<D.length;O++)m.push(D[O])}else m=[],wE(f,m);return m}function wE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Lb(t,r=[]){return s=>{s.providersResolver=(c,f)=>function TI(t,r,s){const c=Gr();if(c.firstCreatePass){const f=go(t);CE(s,c.data,c.blueprint,f,!0),CE(r,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,r)}}class Xm{}class Vb{}function DI(t,r){return new AE(t,r??null,[])}class AE extends Xm{constructor(r,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ph(this);const f=hi(r);this._bootstrapComponents=td(f.bootstrap),this._r3Injector=Ky(r,s,[{provide:Xm,useValue:this},{provide:lu,useValue:this.componentFactoryResolver},...c],ve(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class DE extends Vb{constructor(r){super(),this.moduleType=r}create(r){return new AE(this.moduleType,r,[])}}class Ub extends Xm{constructor(r){super(),this.componentFactoryResolver=new ph(this),this.instance=null;const s=new nh([...r.providers,{provide:Xm,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],r.parent||lm(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function jb(t,r,s=null){return new Ub({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let xI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=am(0,s.type),f=c.length>0?jb([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=hn({token:t,providedIn:"environment",factory:()=>new t(Mt(Pi))})}}return t})();function Bb(t){t.getStandaloneInjector=r=>r.get(xI).getOrCreateStandaloneInjector(t)}function qb(t,r,s){const c=Zs()+t,f=en();return f[c]===ei?Co(f,c,s?r.call(s):r()):yu(f,c)}function Yb(t,r,s,c){return Zb(en(),Zs(),t,r,s,c)}function Xb(t,r,s,c,f){return eC(en(),Zs(),t,r,s,c,f)}function Qb(t,r,s,c,f,m,T,D){const O=Zs()+t,z=en(),oe=ta(z,O,s,c,f,m);return to(z,O+4,T)||oe?Co(z,O+5,D?r.call(D,s,c,f,m,T):r(s,c,f,m,T)):yu(z,O+5)}function Jb(t,r,s,c,f,m,T,D,O,z){const oe=Zs()+t,we=en();let tt=ta(we,oe,s,c,f,m);return Yc(we,oe+4,T,D,O)||tt?Co(we,oe+7,z?r.call(z,s,c,f,m,T,D,O):r(s,c,f,m,T,D,O)):yu(we,oe+7)}function Pv(t,r){const s=t[r];return s===ei?void 0:s}function Zb(t,r,s,c,f,m){const T=r+s;return to(t,T,f)?Co(t,T+1,m?c.call(m,f):c(f)):Pv(t,T+1)}function eC(t,r,s,c,f,m,T){const D=r+s;return vu(t,D,f,m)?Co(t,D+2,T?c.call(T,f,m):c(f,m)):Pv(t,D+2)}function iC(t,r){const s=Gr();let c;const f=t+Xn;s.firstCreatePass?(c=function GI(t,r){if(r)for(let s=r.length-1;s>=0;s--){const c=r[s];if(t===c.name)return c}}(r,s.pipeRegistry),s.data[f]=c,c.onDestroy&&(s.destroyHooks??=[]).push(f,c.onDestroy)):c=s.data[f];const m=c.factory||(c.factory=oo(c.type)),D=Xr(hu);try{const O=ga(!1),z=m();return ga(O),function fg(t,r,s,c){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=c}(s,en(),f,z),z}finally{Xr(D)}}function sC(t,r,s){const c=t+Xn,f=en(),m=Ja(f,c);return Mv(f,c)?Zb(f,Zs(),r,m.transform,s,m):m.transform(s)}function oC(t,r,s,c){const f=t+Xn,m=en(),T=Ja(m,f);return Mv(m,f)?eC(m,Zs(),r,T.transform,s,c,T):T.transform(s,c)}function aC(t,r,s,c,f){const m=t+Xn,T=en(),D=Ja(T,m);return Mv(T,m)?function tC(t,r,s,c,f,m,T,D){const O=r+s;return Yc(t,O,f,m,T)?Co(t,O+3,D?c.call(D,f,m,T):c(f,m,T)):Pv(t,O+3)}(T,Zs(),r,D.transform,s,c,f,D):D.transform(s,c,f)}function Mv(t,r){return t[An].data[r].pure}function WI(){return this._results[Symbol.iterator]()}class xE{get changes(){return this._changes||(this._changes=new Il)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=xE.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=WI)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const c=this;c.dirty=!1;const f=function Jo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Hh(t,r,s){if(t.length!==r.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],m=r[c];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(c._results,f,s))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qI(t,r,s,c=!0){const f=r[An];if(function pp(t,r,s,c){const f=Ir+c,m=s.length;c>0&&(s[f-1][es]=r),c<m-Ir?(r[es]=s[f],Gu(s,Ir+c,r)):(s.push(r),r[es]=null),r[Dr]=s;const T=r[De];null!==T&&s!==T&&function s_(t,r){const s=t[ts];r[ee]!==r[Dr][Dr][ee]&&(t[wi]=!0),null===s?t[ts]=[r]:s.push(r)}(T,r);const D=r[rt];null!==D&&D.insertView(t),r[_r]|=128}(f,r,t,s),c){const m=nf(s,t),T=r[dr],D=Xd(T,t[fi]);null!==D&&function Fg(t,r,s,c,f,m){c[Wr]=f,c[Bi]=r,af(t,c,s,1,f,m)}(f,t[Bi],T,r,D,m)}}let Rv=(()=>{class t{static{this.__NG_ELEMENT_ID__=QI}}return t})();const YI=Rv,XI=class extends YI{constructor(r,s,c){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,c){const f=function KI(t,r,s,c){const f=r.tView,D=i(t,f,s,4096&t[_r]?4096:16,null,r,null,null,null,c?.injector??null,c?.hydrationInfo??null);D[De]=t[r.index];const z=t[rt];return null!==z&&(D[rt]=z.createEmbeddedView(f)),wf(f,D,s),D}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:c});return new fh(f)}};function QI(){return H0(zs(),en())}function H0(t,r){return 4&t.type?new XI(r,t,Lp(t,r)):null}let W0=(()=>{class t{static{this.__NG_ELEMENT_ID__=r1}}return t})();function r1(){return pC(zs(),en())}const i1=W0,hC=class extends i1{constructor(r,s,c){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=c}get element(){return Lp(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const r=cc(this._hostTNode,this._hostLView);if(Vu(r)){const s=al(r,this._hostLView),c=kc(r);return new eo(s[An].data[c+8],s)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=fC(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(r,s,c){let f,m;"number"==typeof c?f=c:null!=c&&(f=c.index,m=c.injector);const D=r.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(D,f,false),D}createComponent(r,s,c,f,m){const T=r&&!function Uc(t){return"function"==typeof t}(r);let D;if(T)D=s;else{const Tn=s||{};D=Tn.index,c=Tn.injector,f=Tn.projectableNodes,m=Tn.environmentInjector||Tn.ngModuleRef}const O=T?r:new Sf(jr(r)),z=c||this.parentInjector;if(!m&&null==O.ngModule){const qn=(T?z:this.parentInjector).get(Pi,null);qn&&(m=qn)}jr(O.componentType??{});const pt=O.create(z,f,null,m);return this.insertImpl(pt.hostView,D,false),pt}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,c){const f=r._lView;if(function da(t){return ti(t[Dr])}(f)){const O=this.indexOf(r);if(-1!==O)this.detach(O);else{const z=f[Dr],oe=new hC(z,z[Bi],z[Dr]);oe.detach(oe.indexOf(r))}}const T=this._adjustIndex(s),D=this._lContainer;return qI(D,f,T,!c),r.attachToViewContainerRef(),Gu(PE(D),T,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=fC(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),c=tu(this._lContainer,s);c&&(jc(PE(this._lContainer),s),tf(c[An],c))}detach(r){const s=this._adjustIndex(r,-1),c=tu(this._lContainer,s);return c&&null!=jc(PE(this._lContainer),s)?new fh(c):null}_adjustIndex(r,s=0){return r??this.length+s}};function fC(t){return t[8]}function PE(t){return t[8]||(t[8]=[])}function pC(t,r){let s;const c=r[t.index];return ti(c)?s=c:(s=Yp(c,r,null,t),r[t.index]=s,hh(r,s)),gC(s,r,t,c),new hC(s,t,r)}let gC=function mC(t,r,s,c){if(t[fi])return;let f;f=8&s.type?Fr(c):function s1(t,r){const s=t[dr],c=s.createComment(""),f=ws(r,t);return nu(s,Xd(s,f),c,function jg(t,r){return t.nextSibling(r)}(s,f),!1),c}(r,s),t[fi]=f};class ME{constructor(r){this.queryList=r,this.matches=null}clone(){return new ME(this.queryList)}setDirty(){this.queryList.setDirty()}}class RE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const c=null!==r.contentQueries?r.contentQueries[0]:s.length,f=[];for(let m=0;m<c;m++){const T=s.getByIndex(m);f.push(this.queries[T.indexInDeclarationView].clone())}return new RE(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==wC(r,s).matches&&this.queries[s].setDirty()}}class _C{constructor(r,s,c=null){this.predicate=r,this.flags=s,this.read=c}}class OE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let c=0;c<this.length;c++){const f=null!==s?s.length:0,m=this.getByIndex(c).embeddedTView(r,f);m&&(m.indexInDeclarationView=c,null!==s?s.push(m):s=[m])}return null!==s?new OE(s):null}template(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class NE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new NE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const m=c[f];this.matchTNodeWithReadOption(r,s,c1(s,m)),this.matchTNodeWithReadOption(r,s,Aa(s,r,m,!1,!1))}else c===Rv?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Aa(s,r,c,!1,!1))}matchTNodeWithReadOption(r,s,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===lh||f===W0||f===Rv&&4&s.type)this.addMatch(s.index,-2);else{const m=Aa(s,r,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,c)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function c1(t,r){const s=t.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===r)return s[c+1];return null}function u1(t,r,s,c){return-1===s?function l1(t,r){return 11&t.type?Lp(t,r):4&t.type?H0(t,r):null}(r,t):-2===s?function d1(t,r,s){return s===lh?Lp(r,t):s===Rv?H0(r,t):s===W0?pC(r,t):void 0}(t,r,c):Fc(t,t[An],s,r)}function yC(t,r,s,c){const f=r[rt].queries[c];if(null===f.matches){const m=t.data,T=s.matches,D=[];for(let O=0;O<T.length;O+=2){const z=T[O];D.push(z<0?null:u1(r,m[z],T[O+1],s.metadata.read))}f.matches=D}return f.matches}function kE(t,r,s,c){const f=t.queries.getByIndex(s),m=f.matches;if(null!==m){const T=yC(t,r,f,s);for(let D=0;D<m.length;D+=2){const O=m[D];if(O>0)c.push(T[D/2]);else{const z=m[D+1],oe=r[-O];for(let we=Ir;we<oe.length;we++){const tt=oe[we];tt[De]===tt[Dr]&&kE(tt[An],tt,z,c)}if(null!==oe[ts]){const we=oe[ts];for(let tt=0;tt<we.length;tt++){const pt=we[tt];kE(pt[An],pt,z,c)}}}}}return c}function vC(t){const r=en(),s=Gr(),c=Uo();S(c+1);const f=wC(s,c);if(t.dirty&&function Rh(t){return 4==(4&t[_r])}(r)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?kE(s,r,c,[]):yC(s,r,f,c);t.reset(m,zv),t.notifyOnChanges()}return!0}return!1}function EC(t,r,s){const c=Gr();c.firstCreatePass&&(IC(c,new _C(t,r,s),-1),2==(2&r)&&(c.staticViewQueries=!0)),TC(c,en(),r)}function bC(t,r,s,c){const f=Gr();if(f.firstCreatePass){const m=zs();IC(f,new _C(r,s,c),m.index),function f1(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}TC(f,en(),s)}function CC(){return function h1(t,r){return t[rt].queries[r].queryList}(en(),Uo())}function TC(t,r,s){const c=new xE(4==(4&s));(function vr(t,r,s,c){const f=wm(r);f.push(s),t.firstCreatePass&&Am(t).push(c,f.length-1)})(t,r,c,c.destroy),null===r[rt]&&(r[rt]=new RE),r[rt].queries.push(new ME(c))}function IC(t,r,s){null===t.queries&&(t.queries=new OE),t.queries.track(new NE(r,s))}function wC(t,r){return t.queries.getByIndex(r)}function AC(t,r){return H0(t,r)}function FE(t){return!!hi(t)}const GC=new Cn("Application Initializer");let BE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=Wt(GC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const m=f();if(b(m))s.push(m);else if(j(m)){const T=new Promise((D,O)=>{m.subscribe({complete:D,error:O})});s.push(T)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(f=>{this.reject(f)}),0===s.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HC=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const q0=new Cn("LocaleId",{providedIn:"root",factory:()=>Wt(q0,xn.Optional|xn.SkipSelf)||function N1(){return typeof $localize<"u"&&$localize.locale||gy}()}),k1=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let zC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class L1{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let V1=(()=>{class t{compileModuleSync(s){return new DE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),m=td(hi(s).declarations).reduce((T,D)=>{const O=jr(D);return O&&T.push(new Sf(O)),T},[]);return new L1(c,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const YC=new Cn(""),XC=new Cn("");let HE,ow=(()=>{class t{constructor(s,c,f){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,HE||(function aw(t){HE=t}(f),f.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,f){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:f})}whenStable(s,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(Mt(Mo),Mt(QC),Mt(XC))}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac})}}return t})(),QC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return HE?.findTestabilityInTree(this,s,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),yg=null;const JC=new Cn("AllowMultipleToken"),zE=new Cn("PlatformDestroyListeners"),WE=new Cn("appBootstrapListener");class uw{constructor(r,s){this.name=r,this.token=s}}function tT(t,r,s=[]){const c=`Platform: ${r}`,f=new Cn(c);return(m=[])=>{let T=KE();if(!T||T.injector.get(JC,!1)){const D=[...s,...m,{provide:f,useValue:!0}];t?t(D):function dw(t){if(yg&&!yg.get(JC,!1))throw new fe(400,!1);(function ZC(){!function Na(t){Yo=t}(()=>{throw new fe(600,!1)})})(),yg=t;const r=t.get(rT);(function eT(t){t.get(Bv,null)?.forEach(s=>s())})(t)}(function nT(t=[],r){return bl.create({name:r,providers:[{provide:Pp,useValue:"platform"},{provide:zE,useValue:new Set([()=>yg=null])},...t]})}(D,c))}return function fw(t){const r=KE();if(!r)throw new fe(401,!1);return r}()}}function KE(){return yg?.get(rT)??null}let rT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const f=function pw(t="zone.js",r){return"noop"===t?new G_:"zone.js"===t?new Mo(r):t}(c?.ngZone,function iT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const m=function SI(t,r,s){return new AE(t,r,s)}(s.moduleType,this.injector,function lT(t){return[{provide:Mo,useFactory:t},{provide:As,multi:!0,useFactory:()=>{const r=Wt(mw,{optional:!0});return()=>r.initialize()}},{provide:cT,useFactory:gw},{provide:o0,useFactory:Xy}]}(()=>f)),T=m.injector.get(yc,null);return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:O=>{T.handleError(O)}});m.onDestroy(()=>{X0(this._modules,m),D.unsubscribe()})}),function sT(t,r,s){try{const c=s();return b(c)?c.catch(f=>{throw r.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw r.runOutsideAngular(()=>t.handleError(c)),c}}(T,f,()=>{const D=m.injector.get(BE);return D.runInitializers(),D.donePromise.then(()=>(function hb(t){at(t,"Expected localeId to be defined"),"string"==typeof t&&(db=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(q0,gy)||gy),this._moduleDoBootstrap(m),m))})})}bootstrapModule(s,c=[]){const f=oT({},c);return function cw(t,r,s){const c=new DE(s);return Promise.resolve(c)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(s){const c=s.injector.get(yy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new fe(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(zE,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Mt(bl))}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function oT(t,r){return Array.isArray(r)?r.reduce(oT,t):{...t,...r}}let yy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wt(cT),this.zoneIsStable=Wt(o0),this.componentTypes=[],this.components=[],this.isStable=Wt(zC).hasPendingTasks.pipe((0,Ne.n)(s=>s?(0,ye.of)(!1):this.zoneIsStable),(0,ke.F)(),(0,Te.u)()),this._injector=Wt(Pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const f=s instanceof ym;if(!this._injector.get(BE).done)throw!f&&ss(s),new fe(405,!1);let T;T=f?s:this._injector.get(lu).resolveComponentFactory(s),this.componentTypes.push(T.componentType);const D=function lw(t){return t.isBoundToModule}(T)?void 0:this._injector.get(Xm),z=T.create(bl.NULL,[],c||T.selector,D),oe=z.location.nativeElement,we=z.injector.get(YC,null);return we?.registerApplication(oe),z.onDestroy(()=>{this.detachView(z.hostView),X0(this.components,z),we?.unregisterApplication(oe)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;X0(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(WE,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>X0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new fe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function X0(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const cT=new Cn("",{providedIn:"root",factory:()=>Wt(yc).handleError.bind(void 0)});function gw(){const t=Wt(Mo),r=Wt(yc);return s=>t.runOutsideAngular(()=>r.handleError(s))}let mw=(()=>{class t{constructor(){this.zone=Wt(Mo),this.applicationRef=Wt(yy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yw(){return!1}let vw=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ew}}return t})();function Ew(t){return function bw(t,r,s){if(cs(t)&&!s){const c=Wi(t.index,r);return new fh(c,c)}return 47&t.type?new fh(r[ee],r):null}(zs(),en(),16==(16&t))}class pT{constructor(){}supports(r){return mu(r)}create(r){return new Aw(r)}}const ww=(t,r)=>r;class Aw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ww}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,c=this._removalsHead,f=0,m=null;for(;s||c;){const T=!c||s&&s.currentIndex<mT(c,f,m)?s:c,D=mT(T,f,m),O=T.currentIndex;if(T===c)f--,c=c._nextRemoved;else if(s=s._next,null==T.previousIndex)f++;else{m||(m=[]);const z=D-f,oe=O-f;if(z!=oe){for(let tt=0;tt<z;tt++){const pt=tt<m.length?m[tt]:m[tt]=0,Gt=pt+tt;oe<=Gt&&Gt<z&&(m[tt]=pt+1)}m[T.previousIndex]=oe-z}}D!==O&&r(T,D,O)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!mu(r))throw new fe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,m,T,s=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)m=r[D],T=this._trackByFn(D,m),null!==s&&Object.is(s.trackById,T)?(c&&(s=this._verifyReinsertion(s,m,T,D)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,T,D),c=!0),s=s._next}else f=0,function _u(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let c;for(;!(c=s.next()).done;)r(c.value)}}(r,D=>{T=this._trackByFn(f,D),null!==s&&Object.is(s.trackById,T)?(c&&(s=this._verifyReinsertion(s,D,T,f)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,T,f),c=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,c,f){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,m,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,m,f)):r=this._addAfter(new Dw(s,c),m,f),r}_verifyReinsertion(r,s,c,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?r=this._reinsertAfter(m,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,m=r._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(r,s,c),this._addToMoves(r,c),r}_moveAfter(r,s,c){return this._unlink(r),this._insertAfter(r,s,c),this._addToMoves(r,c),r}_addAfter(r,s,c){return this._insertAfter(r,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,c){const f=null===s?this._itHead:s._next;return r._next=f,r._prev=s,null===f?this._itTail=r:f._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new gT),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,c=r._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gT),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Dw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const s=r._prevDup,c=r._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class gT{constructor(){this.map=new Map}put(r){const s=r.trackById;let c=this.map.get(s);c||(c=new Sw,this.map.set(s,c)),c.add(r)}get(r,s){const f=this.map.get(r);return f?f.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mT(t,r,s){const c=t.previousIndex;if(null===c)return c;let f=0;return s&&c<s.length&&(f=s[c]),c+r+f}class _T{constructor(){}supports(r){return r instanceof Map||qc(r)}create(){return new xw}}class xw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||qc(r)))throw new fe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,c);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const c=r._prev;return s._next=r,s._prev=c,r._prev=s,c&&(c._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,s);const m=f._prev,T=f._next;return m&&(m._next=T),T&&(T._prev=m),f._next=null,f._prev=null,f}const c=new Pw(r);return this._records.set(r,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(c=>s(r[c],c))}}class Pw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yT(){return new JE([new pT])}let JE=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:yT})}constructor(s){this.factories=s}static create(s,c){if(null!=c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||yT()),deps:[[t,new Gc,new $a]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(null!=c)return c;throw new fe(901,!1)}}return t})();function vT(){return new ZE([new _T])}let ZE=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:vT})}constructor(s){this.factories=s}static create(s,c){if(c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||vT()),deps:[[t,new Gc,new $a]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(c)return c;throw new fe(901,!1)}}return t})();const Ow=tT(null,"core",[]);let Nw=(()=>{class t{constructor(s){}static{this.\u0275fac=function(c){return new(c||t)(Mt(yy))}}static{this.\u0275mod=ui({type:t})}static{this.\u0275inj=nn({})}}return t})();function zw(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Kw(t){const r=jr(t);if(!r)return null;const s=new Sf(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1977:(ln,Ye,F)=>{F.d(Ye,{DS:()=>Yt,X8:()=>Xt,$z:()=>on,UB:()=>jn,yy:()=>Ut,ZP:()=>Se,AU:()=>bn,CP:()=>Et,gF:()=>Ft}),F(2438);var p=F(177),n=F(7705),Ce=F(5407),pe=F(9253),ye=F(1413),Te=F(7673),Ne=F(1985),ke=F(8455),W=F(7786),ie=F(941),ve=F(5558),st=F(6354),$e=F(6129);class At extends ye.B{constructor(je=1/0,ot=1/0,un=$e.U){super(),this._bufferSize=je,this._windowTime=ot,this._timestampProvider=un,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ot===1/0,this._bufferSize=Math.max(1,je),this._windowTime=Math.max(1,ot)}next(je){const{isStopped:ot,_buffer:un,_infiniteTimeWindow:Ke,_timestampProvider:Ae,_windowTime:be}=this;ot||(un.push(je),!Ke&&un.push(Ae.now()+be)),this._trimBuffer(),super.next(je)}_subscribe(je){this._throwIfClosed(),this._trimBuffer();const ot=this._innerSubscribe(je),{_infiniteTimeWindow:un,_buffer:Ke}=this,Ae=Ke.slice();for(let be=0;be<Ae.length&&!je.closed;be+=un?1:2)je.next(Ae[be]);return this._checkFinalizedStatuses(je),ot}_trimBuffer(){const{_bufferSize:je,_timestampProvider:ot,_buffer:un,_infiniteTimeWindow:Ke}=this,Ae=(Ke?1:2)*je;if(je<1/0&&Ae<un.length&&un.splice(0,un.length-Ae),!Ke){const be=ot.now();let Be=0;for(let at=1;at<un.length&&un[at]<=be;at+=2)Be=at;Be&&un.splice(0,Be+1)}}}var dt=F(7647);function jt(gt,je,ot){let un,Ke=!1;return gt&&"object"==typeof gt?({bufferSize:un=1/0,windowTime:je=1/0,refCount:Ke=!1,scheduler:ot}=gt):un=gt??1/0,(0,dt.u)({connector:()=>new At(un,je,ot),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ke})}var Ot=F(1594),pn=F(8071);function He(gt,je){return(0,pn.T)(je)?(0,ve.n)(()=>gt,je):(0,ve.n)(()=>gt)}var fe=F(6745),Je=F(5964),Ue=F(7935);const Et=new n.nKC("angularfire2.auth.use-emulator"),Ut=new n.nKC("angularfire2.auth.settings"),Se=new n.nKC("angularfire2.auth.tenant-id"),on=new n.nKC("angularfire2.auth.langugage-code"),bn=new n.nKC("angularfire2.auth.use-device-language"),jn=new n.nKC("angularfire.auth.persistence"),Ft=(gt,je,ot,un,Ke,Ae,be,Be)=>(0,pe.BM)(`${gt.name}.auth`,"AngularFireAuth",gt.name,()=>{const at=je.runOutsideAngular(()=>gt.auth());if(ot&&at.useEmulator(...ot),un&&(at.tenantId=un),at.languageCode=Ke,Ae&&at.useDeviceLanguage(),be)for(const[et,Bt]of Object.entries(be))at.settings[et]=Bt;return Be&&at.setPersistence(Be),at},[ot,un,Ke,Ae,be,Be]);let Yt=(()=>{class gt{authState;idToken;user;idTokenResult;credential;constructor(ot,un,Ke,Ae,be,Be,at,et,Bt,Rn,mr,hn){const Bn=new ye.B,nn=(0,Te.of)(void 0).pipe((0,ie.Q)(be.outsideAngular),(0,ve.n)(()=>Ae.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2438)))),(0,st.T)(()=>(0,pe.iB)(ot,Ae,un)),(0,st.T)(ir=>Ft(ir,Ae,Be,et,Bt,Rn,at,mr)),jt({bufferSize:1,refCount:!1}));if((0,p.Vy)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Te.of)(null);else{nn.pipe((0,Ot.$)()).subscribe();const ir=nn.pipe((0,ve.n)(Ht=>Ht.getRedirectResult().then(Jn=>Jn,()=>null)),Ce.U0,jt({bufferSize:1,refCount:!1})),$n=nn.pipe((0,ve.n)(Ht=>new Ne.c(Jn=>({unsubscribe:Ae.runOutsideAngular(()=>Ht.onAuthStateChanged(gn=>Jn.next(gn),gn=>Jn.error(gn),()=>Jn.complete()))})))),Qt=nn.pipe((0,ve.n)(Ht=>new Ne.c(Jn=>({unsubscribe:Ae.runOutsideAngular(()=>Ht.onIdTokenChanged(gn=>Jn.next(gn),gn=>Jn.error(gn),()=>Jn.complete()))}))));this.authState=ir.pipe(He($n),(0,fe._)(be.outsideAngular),(0,ie.Q)(be.insideAngular)),this.user=ir.pipe(He(Qt),(0,fe._)(be.outsideAngular),(0,ie.Q)(be.insideAngular)),this.idToken=this.user.pipe((0,ve.n)(Ht=>Ht?(0,ke.H)(Ht.getIdToken()):(0,Te.of)(null))),this.idTokenResult=this.user.pipe((0,ve.n)(Ht=>Ht?(0,ke.H)(Ht.getIdTokenResult()):(0,Te.of)(null))),this.credential=(0,W.h)(ir,Bn,this.authState.pipe((0,Je.p)(Ht=>!Ht))).pipe((0,st.T)(Ht=>Ht?.user?Ht:null),(0,fe._)(be.outsideAngular),(0,ie.Q)(be.insideAngular))}return(0,pe.Gt)(this,nn,Ae,{spy:{apply:(ir,$n,Qt)=>{(ir.startsWith("signIn")||ir.startsWith("createUser"))&&Qt.then(Ht=>Bn.next(Ht))}}})}static \u0275fac=function(un){return new(un||gt)(n.KVO(pe.rx),n.KVO(pe.uP,8),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(Ce.u0),n.KVO(Et,8),n.KVO(Ut,8),n.KVO(Se,8),n.KVO(on,8),n.KVO(bn,8),n.KVO(jn,8),n.KVO(Ce.Jv,8))};static \u0275prov=n.jDH({token:gt,factory:gt.\u0275fac,providedIn:"any"})}return gt})(),Xt=(()=>{class gt{constructor(){Ue.A.registerVersion("angularfire",Ce.xv.full,"auth-compat")}static \u0275fac=function(un){return new(un||gt)};static \u0275mod=n.$C({type:gt});static \u0275inj=n.G2t({providers:[Yt]})}return gt})()},6340:(ln,Ye,F)=>{F.d(Ye,{Qe:()=>bi,cM:()=>nt});var d=F(177),p=F(7705),n=F(5407),Ce=F(9253),pe=F(1977),ye=F(3236),Te=F(1985),Ne=F(8455),ke=F(7673),W=F(9172),ie=F(9974),ve=F(4360);function st(){return(0,ie.N)((ft,ae)=>{let Re,Dt=!1;ft.subscribe((0,ve._)(ae,Kt=>{const Yn=Re;Re=Kt,Dt&&ae.next([Yn,Kt]),Dt=!0}))})}var $e=F(6354),At=F(2816),dt=F(3294),jt=F(5964),pn=(F(2438),F(3345)),He=F(9583),fe=F(1076),Je=F(1362);function Et(ft,ae){if(void 0===ae)return{merge:!1};if(void 0!==ae.mergeFields&&void 0!==ae.merge)throw new He.W6("invalid-argument",`Invalid options passed to function ${ft}(): You cannot specify both "merge" and "mergeFields".`);return ae}function Ut(){if(typeof Uint8Array>"u")throw new He.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Se(){if(!(0,He.qG)())throw new He.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class on{constructor(ae){this._delegate=ae}static fromBase64String(ae){return Se(),new on(He.Ix.fromBase64String(ae))}static fromUint8Array(ae){return Ut(),new on(He.Ix.fromUint8Array(ae))}toBase64(){return Se(),this._delegate.toBase64()}toUint8Array(){return Ut(),this._delegate.toUint8Array()}isEqual(ae){return this._delegate.isEqual(ae._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bn(ft){return function jn(ft,ae){if("object"!=typeof ft||null===ft)return!1;const Re=ft;for(const Dt of ae)if(Dt in Re&&"function"==typeof Re[Dt])return!0;return!1}(ft,["next","error","complete"])}class Ft{enableIndexedDbPersistence(ae,Re){return(0,He.ol)(ae._delegate,{forceOwnership:Re})}enableMultiTabIndexedDbPersistence(ae){return(0,He.Q5)(ae._delegate)}clearIndexedDbPersistence(ae){return(0,He.me)(ae._delegate)}}class Yt{constructor(ae,Re,Dt){this._delegate=Re,this._persistenceProvider=Dt,this.INTERNAL={delete:()=>this.terminate()},ae instanceof He.cm||(this._appCompat=ae)}get _databaseId(){return this._delegate._databaseId}settings(ae){const Re=this._delegate._getSettings();!ae.merge&&Re.host!==ae.host&&(0,He.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ae.merge&&delete(ae=Object.assign(Object.assign({},Re),ae)).merge,this._delegate._setSettings(ae)}useEmulator(ae,Re,Dt={}){(0,He.vN)(this._delegate,ae,Re,Dt)}enableNetwork(){return(0,He.Os)(this._delegate)}disableNetwork(){return(0,He.LA)(this._delegate)}enablePersistence(ae){let Re=!1,Dt=!1;return ae&&(Re=!!ae.synchronizeTabs,Dt=!!ae.experimentalForceOwningTab,(0,He.c8)("synchronizeTabs",Re,"experimentalForceOwningTab",Dt)),Re?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Dt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.iB)(this._delegate)}onSnapshotsInSync(ae){return(0,He.FC)(this._delegate,ae)}get app(){if(!this._appCompat)throw new He.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ae){try{return new hn(this,(0,He.rJ)(this._delegate,ae))}catch(Re){throw Ae(Re,"collection()","Firestore.collection()")}}doc(ae){try{return new Ke(this,(0,He.H9)(this._delegate,ae))}catch(Re){throw Ae(Re,"doc()","Firestore.doc()")}}collectionGroup(ae){try{return new Bt(this,(0,He.Cs)(this._delegate,ae))}catch(Re){throw Ae(Re,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ae){return(0,He.c4)(this._delegate,Re=>ae(new je(this,Re)))}batch(){return(0,He.Ws)(this._delegate),new ot(new He.GA(this._delegate,ae=>(0,He.z6)(this._delegate,ae)))}loadBundle(ae){return(0,He.po)(this._delegate,ae)}namedQuery(ae){return(0,He.St)(this._delegate,ae).then(Re=>Re?new Bt(this,Re):null)}}class Xt extends He.fS{constructor(ae){super(),this.firestore=ae}convertBytes(ae){return new on(new He.Ix(ae))}convertReference(ae){const Re=this.convertDocumentKey(ae,this.firestore._databaseId);return Ke.forKey(Re,this.firestore,null)}}class je{constructor(ae,Re){this._firestore=ae,this._delegate=Re,this._userDataWriter=new Xt(ae)}get(ae){const Re=Bn(ae);return this._delegate.get(Re).then(Dt=>new at(this._firestore,new He.Wq(this._firestore._delegate,this._userDataWriter,Dt._key,Dt._document,Dt.metadata,Re.converter)))}set(ae,Re,Dt){const Kt=Bn(ae);return Dt?(Et("Transaction.set",Dt),this._delegate.set(Kt,Re,Dt)):this._delegate.set(Kt,Re),this}update(ae,Re,Dt,...Kt){const Yn=Bn(ae);return 2===arguments.length?this._delegate.update(Yn,Re):this._delegate.update(Yn,Re,Dt,...Kt),this}delete(ae){const Re=Bn(ae);return this._delegate.delete(Re),this}}class ot{constructor(ae){this._delegate=ae}set(ae,Re,Dt){const Kt=Bn(ae);return Dt?(Et("WriteBatch.set",Dt),this._delegate.set(Kt,Re,Dt)):this._delegate.set(Kt,Re),this}update(ae,Re,Dt,...Kt){const Yn=Bn(ae);return 2===arguments.length?this._delegate.update(Yn,Re):this._delegate.update(Yn,Re,Dt,...Kt),this}delete(ae){const Re=Bn(ae);return this._delegate.delete(Re),this}commit(){return this._delegate.commit()}}class un{constructor(ae,Re,Dt){this._firestore=ae,this._userDataWriter=Re,this._delegate=Dt}fromFirestore(ae,Re){const Dt=new He.YQ(this._firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,null);return this._delegate.fromFirestore(new et(this._firestore,Dt),Re??{})}toFirestore(ae,Re){return Re?this._delegate.toFirestore(ae,Re):this._delegate.toFirestore(ae)}static getInstance(ae,Re){const Dt=un.INSTANCES;let Kt=Dt.get(ae);Kt||(Kt=new WeakMap,Dt.set(ae,Kt));let Yn=Kt.get(Re);return Yn||(Yn=new un(ae,new Xt(ae),Re),Kt.set(Re,Yn)),Yn}}un.INSTANCES=new WeakMap;class Ke{constructor(ae,Re){this.firestore=ae,this._delegate=Re,this._userDataWriter=new Xt(ae)}static forPath(ae,Re,Dt){if(ae.length%2!=0)throw new He.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ae.canonicalString()} has ${ae.length}`);return new Ke(Re,new He.T1(Re._delegate,Dt,new He.K$(ae)))}static forKey(ae,Re,Dt){return new Ke(Re,new He.T1(Re._delegate,Dt,ae))}get id(){return this._delegate.id}get parent(){return new hn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ae){try{return new hn(this.firestore,(0,He.rJ)(this._delegate,ae))}catch(Re){throw Ae(Re,"collection()","DocumentReference.collection()")}}isEqual(ae){return(ae=(0,fe.Ku)(ae))instanceof He.T1&&(0,He.yx)(this._delegate,ae)}set(ae,Re){Re=Et("DocumentReference.set",Re);try{return Re?(0,He.BN)(this._delegate,ae,Re):(0,He.BN)(this._delegate,ae)}catch(Dt){throw Ae(Dt,"setDoc()","DocumentReference.set()")}}update(ae,Re,...Dt){try{return 1===arguments.length?(0,He.mZ)(this._delegate,ae):(0,He.mZ)(this._delegate,ae,Re,...Dt)}catch(Kt){throw Ae(Kt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.kd)(this._delegate)}onSnapshot(...ae){const Re=be(ae),Dt=Be(ae,Kt=>new at(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,Kt._key,Kt._document,Kt.metadata,this._delegate.converter)));return(0,He.aQ)(this._delegate,Re,Dt)}get(ae){let Re;return Re="cache"===ae?.source?(0,He.nY)(this._delegate):"server"===ae?.source?(0,He._e)(this._delegate):(0,He.x7)(this._delegate),Re.then(Dt=>new at(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,Dt._key,Dt._document,Dt.metadata,this._delegate.converter)))}withConverter(ae){return new Ke(this.firestore,this._delegate.withConverter(ae?un.getInstance(this.firestore,ae):null))}}function Ae(ft,ae,Re){return ft.message=ft.message.replace(ae,Re),ft}function be(ft){for(const ae of ft)if("object"==typeof ae&&!bn(ae))return ae;return{}}function Be(ft,ae){var Re,Dt;let Kt;return Kt=bn(ft[0])?ft[0]:bn(ft[1])?ft[1]:"function"==typeof ft[0]?{next:ft[0],error:ft[1],complete:ft[2]}:{next:ft[1],error:ft[2],complete:ft[3]},{next:Yn=>{Kt.next&&Kt.next(ae(Yn))},error:null===(Re=Kt.error)||void 0===Re?void 0:Re.bind(Kt),complete:null===(Dt=Kt.complete)||void 0===Dt?void 0:Dt.bind(Kt)}}class at{constructor(ae,Re){this._firestore=ae,this._delegate=Re}get ref(){return new Ke(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ae){return this._delegate.data(ae)}get(ae,Re){return this._delegate.get(ae,Re)}isEqual(ae){return(0,He.lN)(this._delegate,ae._delegate)}}class et extends at{data(ae){const Re=this._delegate.data(ae);return this._delegate._converter||(0,He.bI)(void 0!==Re,"Document in a QueryDocumentSnapshot should exist"),Re}}class Bt{constructor(ae,Re){this.firestore=ae,this._delegate=Re,this._userDataWriter=new Xt(ae)}where(ae,Re,Dt){try{return new Bt(this.firestore,(0,He.P)(this._delegate,(0,He._M)(ae,Re,Dt)))}catch(Kt){throw Ae(Kt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ae,Re){try{return new Bt(this.firestore,(0,He.P)(this._delegate,(0,He.My)(ae,Re)))}catch(Dt){throw Ae(Dt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ae){try{return new Bt(this.firestore,(0,He.P)(this._delegate,(0,He.AB)(ae)))}catch(Re){throw Ae(Re,"limit()","Query.limit()")}}limitToLast(ae){try{return new Bt(this.firestore,(0,He.P)(this._delegate,(0,He.$1)(ae)))}catch(Re){throw Ae(Re,"limitToLast()","Query.limitToLast()")}}startAt(...ae){try{return new Bt(this.firestore,(0,He.P)(this._delegate,(0,He.EO)(...ae)))}catch(Re){throw Ae(Re,"startAt()","Query.startAt()")}}startAfter(...ae){try{return new Bt(this.firestore,(0,He.P)(this._delegate,(0,He.HM)(...ae)))}catch(Re){throw Ae(Re,"startAfter()","Query.startAfter()")}}endBefore(...ae){try{return new Bt(this.firestore,(0,He.P)(this._delegate,(0,He.rf)(...ae)))}catch(Re){throw Ae(Re,"endBefore()","Query.endBefore()")}}endAt(...ae){try{return new Bt(this.firestore,(0,He.P)(this._delegate,(0,He.FD)(...ae)))}catch(Re){throw Ae(Re,"endAt()","Query.endAt()")}}isEqual(ae){return(0,He.B)(this._delegate,ae._delegate)}get(ae){let Re;return Re="cache"===ae?.source?(0,He.kU)(this._delegate):"server"===ae?.source?(0,He.Rr)(this._delegate):(0,He.GG)(this._delegate),Re.then(Dt=>new mr(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Dt._snapshot)))}onSnapshot(...ae){const Re=be(ae),Dt=Be(ae,Kt=>new mr(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Kt._snapshot)));return(0,He.aQ)(this._delegate,Re,Dt)}withConverter(ae){return new Bt(this.firestore,this._delegate.withConverter(ae?un.getInstance(this.firestore,ae):null))}}class Rn{constructor(ae,Re){this._firestore=ae,this._delegate=Re}get type(){return this._delegate.type}get doc(){return new et(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mr{constructor(ae,Re){this._firestore=ae,this._delegate=Re}get query(){return new Bt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ae=>new et(this._firestore,ae))}docChanges(ae){return this._delegate.docChanges(ae).map(Re=>new Rn(this._firestore,Re))}forEach(ae,Re){this._delegate.forEach(Dt=>{ae.call(Re,new et(this._firestore,Dt))})}isEqual(ae){return(0,He.lN)(this._delegate,ae._delegate)}}class hn extends Bt{constructor(ae,Re){super(ae,Re),this.firestore=ae,this._delegate=Re}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ae=this._delegate.parent;return ae?new Ke(this.firestore,ae):null}doc(ae){try{return new Ke(this.firestore,void 0===ae?(0,He.H9)(this._delegate):(0,He.H9)(this._delegate,ae))}catch(Re){throw Ae(Re,"doc()","CollectionReference.doc()")}}add(ae){return(0,He.gS)(this._delegate,ae).then(Re=>new Ke(this.firestore,Re))}isEqual(ae){return(0,He.yx)(this._delegate,ae._delegate)}withConverter(ae){return new hn(this.firestore,this._delegate.withConverter(ae?un.getInstance(this.firestore,ae):null))}}function Bn(ft){return(0,He.lo)(ft,He.T1)}class nn{constructor(...ae){this._delegate=new He.uY(...ae)}static documentId(){return new nn(He.FA.keyField().canonicalString())}isEqual(ae){return(ae=(0,fe.Ku)(ae))instanceof He.uY&&this._delegate._internalPath.isEqual(ae._internalPath)}}class ir{constructor(ae){this._delegate=ae}static serverTimestamp(){const ae=(0,He.O5)();return ae._methodName="FieldValue.serverTimestamp",new ir(ae)}static delete(){const ae=(0,He.CL)();return ae._methodName="FieldValue.delete",new ir(ae)}static arrayUnion(...ae){const Re=(0,He.hq)(...ae);return Re._methodName="FieldValue.arrayUnion",new ir(Re)}static arrayRemove(...ae){const Re=(0,He.C3)(...ae);return Re._methodName="FieldValue.arrayRemove",new ir(Re)}static increment(ae){const Re=(0,He.GV)(ae);return Re._methodName="FieldValue.increment",new ir(Re)}isEqual(ae){return this._delegate.isEqual(ae._delegate)}}const $n={Firestore:Yt,GeoPoint:He.Ci,Timestamp:He.Dc,Blob:on,Transaction:je,WriteBatch:ot,DocumentReference:Ke,DocumentSnapshot:at,Query:Bt,QueryDocumentSnapshot:et,QuerySnapshot:mr,CollectionReference:hn,FieldPath:nn,FieldValue:ir,setLogLevel:function gt(ft){(0,He.He)(ft)},CACHE_SIZE_UNLIMITED:He.H6};!function Ht(ft){(function Qt(ft,ae){ft.INTERNAL.registerComponent(new Je.uA("firestore-compat",Re=>{const Dt=Re.getProvider("app-compat").getImmediate(),Kt=Re.getProvider("firestore").getImmediate();return ae(Dt,Kt)},"PUBLIC").setServiceProps(Object.assign({},$n)))})(ft,(ae,Re)=>new Yt(ae,Re,new Ft)),ft.registerVersion("@firebase/firestore-compat","0.3.38")}(pn.A);var Jn=F(7935);function Vr(ft,ae){return function gn(ft,ae=ye.E){return new Te.c(Re=>{let Dt;return null!=ae?ae.schedule(()=>{Dt=ft.onSnapshot({includeMetadataChanges:!0},Re)}):Dt=ft.onSnapshot({includeMetadataChanges:!0},Re),()=>{Dt?.()}})}(ft,ae)}function zt(ft,ae){return Vr(ft,ae).pipe((0,$e.T)(Re=>({payload:Re,type:"query"})))}class xn{ref;afs;constructor(ae,Re){this.ref=ae,this.afs=Re}set(ae,Re){return this.ref.set(ae,Re)}update(ae){return this.ref.update(ae)}delete(){return this.ref.delete()}collection(ae,Re){const Dt=this.ref.collection(ae),{ref:Kt,query:Yn}=Fn(Dt,Re);return new Jr(Kt,Yn,this.afs)}snapshotChanges(){return function lr(ft,ae){return Vr(ft,ae).pipe((0,W.Z)(void 0),st(),(0,$e.T)(Re=>{const[Dt,Kt]=Re;return Kt.exists?Dt?.exists?{payload:Kt,type:"modified"}:{payload:Kt,type:"added"}:{payload:Kt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(ae={}){return this.snapshotChanges().pipe((0,$e.T)(({payload:Re})=>ae.idField?{...Re.data(),[ae.idField]:Re.id}:Re.data()))}get(ae){return(0,Ne.H)(this.ref.get(ae)).pipe(n.U0)}}function Zn(ft,ae){return zt(ft,ae).pipe((0,W.Z)(void 0),st(),(0,$e.T)(Re=>{const[Dt,Kt]=Re,Yn=Kt.payload.docChanges(),Hr=Yn.map(Sr=>({type:Sr.type,payload:Sr}));return Dt&&JSON.stringify(Dt.payload.metadata)!==JSON.stringify(Kt.payload.metadata)&&Kt.payload.docs.forEach((Sr,_i)=>{const Tt=Yn.find(R=>R.doc.ref.isEqual(Sr.ref)),G=Dt?.payload.docs.find(R=>R.ref.isEqual(Sr.ref));Tt&&JSON.stringify(Tt.doc.metadata)===JSON.stringify(Sr.metadata)||!Tt&&G&&JSON.stringify(G.metadata)===JSON.stringify(Sr.metadata)||Hr.push({type:"modified",payload:{oldIndex:_i,newIndex:_i,type:"modified",doc:Sr}})}),Hr}))}function Nn(ft,ae,Re){return Zn(ft,Re).pipe((0,At.S)((Dt,Kt)=>function Xr(ft,ae,Re){return ae.forEach(Dt=>{Re.indexOf(Dt.type)>-1&&(ft=function Qr(ft,ae){switch(ae.type){case"added":if(!ft[ae.newIndex]||!ft[ae.newIndex].doc.ref.isEqual(ae.doc.ref))return kr(ft,ae.newIndex,0,ae);break;case"modified":if(null==ft[ae.oldIndex]||ft[ae.oldIndex].doc.ref.isEqual(ae.doc.ref)){if(ae.oldIndex!==ae.newIndex){const Re=ft.slice();return Re.splice(ae.oldIndex,1),Re.splice(ae.newIndex,0,ae),Re}return kr(ft,ae.newIndex,1,ae)}break;case"removed":if(ft[ae.oldIndex]&&ft[ae.oldIndex].doc.ref.isEqual(ae.doc.ref))return kr(ft,ae.oldIndex,1)}return ft}(ft,Dt))}),ft}(Dt,Kt.map(Yn=>Yn.payload),ae),[]),(0,dt.F)(),(0,$e.T)(Dt=>Dt.map(Kt=>({type:Kt.type,payload:Kt}))))}function kr(ft,ae,Re,...Dt){const Kt=ft.slice();return Kt.splice(ae,Re,...Dt),Kt}function nr(ft){return(!ft||0===ft.length)&&(ft=["added","removed","modified"]),ft}class Jr{ref;query;afs;constructor(ae,Re,Dt){this.ref=ae,this.query=Re,this.afs=Dt}stateChanges(ae){let Re=Zn(this.query,this.afs.schedulers.outsideAngular);return ae&&ae.length>0&&(Re=Re.pipe((0,$e.T)(Dt=>Dt.filter(Kt=>ae.indexOf(Kt.type)>-1)))),Re.pipe((0,W.Z)(void 0),st(),(0,jt.p)(([Dt,Kt])=>Kt.length>0||!Dt),(0,$e.T)(([,Dt])=>Dt),n.U0)}auditTrail(ae){return this.stateChanges(ae).pipe((0,At.S)((Re,Dt)=>[...Re,...Dt],[]))}snapshotChanges(ae){const Re=nr(ae);return Nn(this.query,Re,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(ae={}){return zt(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.T)(Re=>Re.payload.docs.map(Dt=>ae.idField?{...Dt.data(),[ae.idField]:Dt.id}:Dt.data())),n.U0)}get(ae){return(0,Ne.H)(this.query.get(ae)).pipe(n.U0)}add(ae){return this.ref.add(ae)}doc(ae){return new xn(this.ref.doc(ae),this.afs)}}class gs{query;afs;constructor(ae,Re){this.query=ae,this.afs=Re}stateChanges(ae){return ae&&0!==ae.length?Zn(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.T)(Re=>Re.filter(Dt=>ae.indexOf(Dt.type)>-1)),(0,jt.p)(Re=>Re.length>0),n.U0):Zn(this.query,this.afs.schedulers.outsideAngular).pipe(n.U0)}auditTrail(ae){return this.stateChanges(ae).pipe((0,At.S)((Re,Dt)=>[...Re,...Dt],[]))}snapshotChanges(ae){const Re=nr(ae);return Nn(this.query,Re,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(ae={}){return zt(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.T)(Dt=>Dt.payload.docs.map(Kt=>ae.idField?{[ae.idField]:Kt.id,...Kt.data()}:Kt.data())),n.U0)}get(ae){return(0,Ne.H)(this.query.get(ae)).pipe(n.U0)}}const Cn=new p.nKC("angularfire2.enableFirestorePersistence"),br=new p.nKC("angularfire2.firestore.persistenceSettings"),Kn=new p.nKC("angularfire2.firestore.settings"),sr=new p.nKC("angularfire2.firestore.use-emulator");function Fn(ft,ae=(Re=>Re)){return{query:ae(ft),ref:ft}}let bi=(()=>{class ft{schedulers;firestore;persistenceEnabled$;constructor(Re,Dt,Kt,Yn,Hr,Sr,_i,Tt,G,R,L,se,ge,lt,Mt,mn,Wt){this.schedulers=_i;const In=(0,Ce.iB)(Re,Sr,Dt),gr=G;R&&(0,pe.gF)(In,Sr,L,ge,lt,Mt,se,mn),[this.firestore,this.persistenceEnabled$]=(0,Ce.BM)(`${In.name}.firestore`,"AngularFirestore",In.name,()=>{const xe=Sr.runOutsideAngular(()=>In.firestore());if(Yn&&xe.settings(Yn),gr&&xe.useEmulator(...gr),Kt&&!(0,d.Vy)(Hr)){const Pe=()=>{try{return(0,Ne.H)(xe.enablePersistence(Tt||void 0).then(()=>!0,()=>!1))}catch(ze){return typeof console<"u"&&console.warn(ze),(0,ke.of)(!1)}};return[xe,Sr.runOutsideAngular(Pe)]}return[xe,(0,ke.of)(!1)]},[Yn,gr,Kt])}collection(Re,Dt){let Kt;Kt="string"==typeof Re?this.firestore.collection(Re):Re;const{ref:Yn,query:Hr}=Fn(Kt,Dt),Sr=this.schedulers.ngZone.run(()=>Yn);return new Jr(Sr,Hr,this)}collectionGroup(Re,Dt){const Kt=Dt||(Hr=>Hr),Yn=this.firestore.collectionGroup(Re);return new gs(Kt(Yn),this)}doc(Re){let Dt;Dt="string"==typeof Re?this.firestore.doc(Re):Re;const Kt=this.schedulers.ngZone.run(()=>Dt);return new xn(Kt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Dt){return new(Dt||ft)(p.KVO(Ce.rx),p.KVO(Ce.uP,8),p.KVO(Cn,8),p.KVO(Kn,8),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(n.u0),p.KVO(br,8),p.KVO(sr,8),p.KVO(pe.DS,8),p.KVO(pe.CP,8),p.KVO(pe.yy,8),p.KVO(pe.ZP,8),p.KVO(pe.$z,8),p.KVO(pe.AU,8),p.KVO(pe.UB,8),p.KVO(n.Jv,8))};static \u0275prov=p.jDH({token:ft,factory:ft.\u0275fac,providedIn:"any"})}return ft})(),nt=(()=>{class ft{constructor(){Jn.A.registerVersion("angularfire",n.xv.full,"fst-compat")}static enablePersistence(Re){return{ngModule:ft,providers:[{provide:Cn,useValue:!0},{provide:br,useValue:Re}]}}static \u0275fac=function(Dt){return new(Dt||ft)};static \u0275mod=p.$C({type:ft});static \u0275inj=p.G2t({providers:[bi]})}return ft})()},8721:(ln,Ye,F)=>{F.d(Ye,{ap:()=>je,y5:()=>Ke});var d=F(5407),p=F(1985),n=F(7673),Ce=F(8455),pe=F(3236),ye=F(9974),Te=F(4360),ke=F(6354),W=F(5558),ie=F(7705),ve=F(9253),st=F(3345),$e=F(4535),At=F(1362);class dt{constructor(be,Be,at){this._delegate=be,this.task=Be,this.ref=at}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jt{constructor(be,Be){this._delegate=be,this._ref=Be,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new dt(this._delegate.snapshot,this,this._ref)}then(be,Be){return this._delegate.then(at=>{if(be)return be(new dt(at,this,this._ref))},Be)}on(be,Be,at,et){let Bt;return Be&&(Bt="function"==typeof Be?Rn=>Be(new dt(Rn,this,this._ref)):{next:Be.next?Rn=>Be.next(new dt(Rn,this,this._ref)):void 0,complete:Be.complete||void 0,error:Be.error||void 0}),this._delegate.on(be,Bt,at||void 0,et||void 0)}}class Ot{constructor(be,Be){this._delegate=be,this._service=Be}get prefixes(){return this._delegate.prefixes.map(be=>new pn(be,this._service))}get items(){return this._delegate.items.map(be=>new pn(be,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pn{constructor(be,Be){this._delegate=be,this.storage=Be}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(be){const Be=(0,$e.Mp)(this._delegate,be);return new pn(Be,this.storage)}get root(){return new pn(this._delegate.root,this.storage)}get parent(){const be=this._delegate.parent;return null==be?null:new pn(be,this.storage)}put(be,Be){return this._throwIfRoot("put"),new jt((0,$e.bp)(this._delegate,be,Be),this)}putString(be,Be=$e.nw.RAW,at){this._throwIfRoot("putString");const et=(0,$e.ZH)(Be,be),Bt=Object.assign({},at);return null==Bt.contentType&&null!=et.contentType&&(Bt.contentType=et.contentType),new jt(new $e.UC(this._delegate,new $e.Mx(et.data,!0),Bt),this)}listAll(){return(0,$e._w)(this._delegate).then(be=>new Ot(be,this.storage))}list(be){return(0,$e.p_)(this._delegate,be||void 0).then(Be=>new Ot(Be,this.storage))}getMetadata(){return(0,$e.yb)(this._delegate)}updateMetadata(be){return(0,$e.D5)(this._delegate,be)}getDownloadURL(){return(0,$e.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,$e.XR)(this._delegate)}_throwIfRoot(be){if(""===this._delegate._location.path)throw(0,$e.UY)(be)}}class He{constructor(be,Be){this.app=be,this._delegate=Be}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(be){if(fe(be))throw(0,$e.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new pn((0,$e.KR)(this._delegate,be),this)}refFromURL(be){if(!fe(be))throw(0,$e.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$e.TZ.makeFromUrl(be,this._delegate.host)}catch{throw(0,$e.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new pn((0,$e.KR)(this._delegate,be),this)}setMaxUploadRetryTime(be){this._delegate.maxUploadRetryTime=be}setMaxOperationRetryTime(be){this._delegate.maxOperationRetryTime=be}useEmulator(be,Be,at={}){(0,$e.nb)(this._delegate,be,Be,at)}}function fe(Ae){return/^[A-Za-z]+:\/\//.test(Ae)}function Et(Ae,{instanceIdentifier:be}){const Be=Ae.getProvider("app-compat").getImmediate(),at=Ae.getProvider("storage").getImmediate({identifier:be});return new He(Be,at)}!function Ut(Ae){const be={TaskState:$e.Ad,TaskEvent:$e.xc,StringFormat:$e.nw,Storage:He,Reference:pn};Ae.INTERNAL.registerComponent(new At.uA("storage-compat",Et,"PUBLIC").setServiceProps(be).setMultipleInstances(!0)),Ae.registerVersion("@firebase/storage-compat","0.3.12")}(st.A);var Se=F(7935);function bn(Ae){const be=function on(Ae){return new p.c(be=>{const Be=Rn=>be.next(Rn);Be(Ae.snapshot);const Bt=Ae.on("state_changed",Be);return Ae.then(Rn=>{Be(Rn),be.complete()},Rn=>{Be(Ae.snapshot),(Rn=>{be.error(Rn)})(Rn)}),function(){Bt()}}).pipe(function Ne(Ae,be=pe.E){return(0,ye.N)((Be,at)=>{let et=null,Bt=null,Rn=null;const mr=()=>{if(et){et.unsubscribe(),et=null;const Bn=Bt;Bt=null,at.next(Bn)}};function hn(){const Bn=Rn+Ae,nn=be.now();if(nn<Bn)return et=this.schedule(void 0,Bn-nn),void at.add(et);mr()}Be.subscribe((0,Te._)(at,Bn=>{Bt=Bn,Rn=be.now(),et||(et=be.schedule(hn,Ae),at.add(et))},()=>{mr(),at.complete()},void 0,()=>{Bt=et=null}))})}(0))}(Ae);return{task:Ae,then:Ae.then.bind(Ae),catch:Ae.catch.bind(Ae),pause:Ae.pause.bind(Ae),cancel:Ae.cancel.bind(Ae),resume:Ae.resume.bind(Ae),snapshotChanges:()=>be,percentageChanges:()=>be.pipe((0,ke.T)(Be=>Be.bytesTransferred/Be.totalBytes*100))}}function jn(Ae){return{getDownloadURL:()=>(0,n.of)(void 0).pipe(d.Oe,(0,W.n)(()=>Ae.getDownloadURL()),d.U0),getMetadata:()=>(0,n.of)(void 0).pipe(d.Oe,(0,W.n)(()=>Ae.getMetadata()),d.U0),delete:()=>(0,Ce.H)(Ae.delete()),child:be=>jn(Ae.child(be)),updateMetadata:be=>(0,Ce.H)(Ae.updateMetadata(be)),put:(be,Be)=>bn(Ae.put(be,Be)),putString:(be,Be,at)=>bn(Ae.putString(be,Be,at)),list:be=>(0,Ce.H)(Ae.list(be)),listAll:()=>(0,Ce.H)(Ae.listAll())}}const Ft=new ie.nKC("angularfire2.storageBucket"),Yt=new ie.nKC("angularfire2.storage.maxUploadRetryTime"),Xt=new ie.nKC("angularfire2.storage.maxOperationRetryTime"),gt=new ie.nKC("angularfire2.storage.use-emulator");let je=(()=>{class Ae{storage;constructor(Be,at,et,Bt,Rn,mr,hn,Bn,nn,ir){const $n=(0,ve.iB)(Be,Rn,at);this.storage=(0,ve.BM)(`${$n.name}.storage.${et}`,"AngularFireStorage",$n.name,()=>{const Qt=Rn.runOutsideAngular(()=>$n.storage(et||void 0)),Ht=nn;return Ht&&Qt.useEmulator(...Ht),hn&&Qt.setMaxUploadRetryTime(hn),Bn&&Qt.setMaxOperationRetryTime(Bn),Qt},[hn,Bn])}ref(Be){return jn(this.storage.ref(Be))}refFromURL(Be){return jn(this.storage.refFromURL(Be))}upload(Be,at,et){return jn(this.storage.ref(Be)).put(at,et)}static \u0275fac=function(at){return new(at||Ae)(ie.KVO(ve.rx),ie.KVO(ve.uP,8),ie.KVO(Ft,8),ie.KVO(ie.Agw),ie.KVO(ie.SKi),ie.KVO(d.u0),ie.KVO(Yt,8),ie.KVO(Xt,8),ie.KVO(gt,8),ie.KVO(d.Jv,8))};static \u0275prov=ie.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"any"})}return Ae})(),un=(()=>{class Ae{static \u0275fac=function(at){return new(at||Ae)};static \u0275mod=ie.$C({type:Ae});static \u0275inj=ie.G2t({})}return Ae})(),Ke=(()=>{class Ae{constructor(){Se.A.registerVersion("angularfire",d.xv.full,"gcs-compat")}static \u0275fac=function(at){return new(at||Ae)};static \u0275mod=ie.$C({type:Ae});static \u0275inj=ie.G2t({providers:[je],imports:[un]})}return Ae})()},9253:(ln,Ye,F)=>{F.d(Ye,{BM:()=>$e,Gt:()=>pe,bf:()=>st,e7:()=>ye,iB:()=>W,rx:()=>Ne,uP:()=>ke});var d=F(7705),p=F(5407),n=F(7935);const Ce=["ngOnDestroy"],pe=(Ot,pn,He,fe={})=>new Proxy(Ot,{get:(Je,Ue)=>He.runOutsideAngular(()=>{if(Ot[Ue])return fe?.spy?.get&&fe.spy.get(Ue,Ot[Ue]),Ot[Ue];if(Ce.indexOf(Ue)>-1)return()=>{};const it=pn.toPromise().then(Et=>{const Ut=Et?.[Ue];return"function"==typeof Ut?Ut.bind(Et):Ut?.then?Ut.then(Se=>He.run(()=>Se)):He.run(()=>Ut)});return new Proxy(()=>{},{get:(Et,Ut)=>it[Ut],apply:(Et,Ut,Se)=>it.then(on=>{const bn=on?.(...Se);return fe?.spy?.apply&&fe.spy.apply(Ue,Se,bn),bn})})})}),ye=(Ot,pn)=>{pn.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(fe=>{Object.defineProperty(Ot.prototype,fe,Object.getOwnPropertyDescriptor(He.prototype||He,fe))})})};class Te{constructor(pn){return pn}}const Ne=new d.nKC("angularfire2.app.options"),ke=new d.nKC("angularfire2.app.name");function W(Ot,pn,He){const Je="object"==typeof He&&He||{};Je.name=Je.name||"string"==typeof He&&He||"[DEFAULT]";const it=n.A.apps.filter(Et=>Et&&Et.name===Je.name)[0]||pn.runOutsideAngular(()=>n.A.initializeApp(Ot,Je));try{if(JSON.stringify(Ot)!==JSON.stringify(it.options)){const Et=!!module.hot;ie("error",`${it.name} Firebase App already initialized with different options${Et?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Te(it)}const ie=(Ot,...pn)=>{(0,d.naY)()&&typeof console<"u"&&console[Ot](...pn)},ve={provide:Te,useFactory:W,deps:[Ne,d.SKi,[new d.Xx1,ke]]};let st=(()=>{class Ot{static initializeApp(He,fe){return{ngModule:Ot,providers:[{provide:Ne,useValue:He},{provide:ke,useValue:fe}]}}constructor(He){n.A.registerVersion("angularfire",p.xv.full,"core"),n.A.registerVersion("angularfire",p.xv.full,"app-compat"),n.A.registerVersion("angular",d.xvI.full,He.toString())}static \u0275fac=function(fe){return new(fe||Ot)(d.KVO(d.Agw))};static \u0275mod=d.$C({type:Ot});static \u0275inj=d.G2t({providers:[ve]})}return Ot})();function $e(Ot,pn,He,fe,Je){const[,Ue,it]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===Ot)||[];if(Ue)return function At(Ot,pn){try{return Ot.toString()===pn.toString()}catch{return Ot===pn}}(Je,it)||(jt("error",`${pn} was already initialized on the ${He} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),jt("warn",{is:Je,was:it})),Ue;{const Et=fe();return globalThis.\u0275AngularfireInstanceCache.push([Ot,Et,Je]),Et}}const dt=typeof module<"u"&&!!module.hot,jt=(Ot,...pn)=>{(0,d.naY)()&&typeof console<"u"&&console[Ot](...pn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(ln,Ye,F)=>{F.d(Ye,{xv:()=>$e,U0:()=>bn,Oe:()=>Se,u0:()=>Ue,Jv:()=>Ot,CA:()=>jt,lR:()=>dt,S3:()=>Yt});var d=F(7705),p=F(2214),n=F(6780),pe=F(9687);const Te=new class ye extends pe.q{}(class Ce extends n.R{constructor(gt,je){super(gt,je),this.scheduler=gt,this.work=je}schedule(gt,je=0){return je>0?super.schedule(gt,je):(this.delay=je,this.state=gt,this.scheduler.flush(this),this)}execute(gt,je){return je>0||this.closed?super.execute(gt,je):this._execute(gt,je)}requestAsyncId(gt,je,ot=0){return null!=ot&&ot>0||null==ot&&this.delay>0?super.requestAsyncId(gt,je,ot):(gt.flush(this),0)}});var ke=F(3236),W=F(1985),ie=F(8141),ve=F(941),st=F(6745);const $e=new d.RxE("ANGULARFIRE2_VERSION");function dt(Xt,gt,je){if(gt){if(1===gt.length)return gt[0];const Ke=gt.filter(Ae=>Ae.app===je);if(1===Ke.length)return Ke[0]}return je.container.getProvider(Xt).getImmediate({optional:!0})}const jt=(Xt,gt)=>{const je=gt?[gt]:(0,p.Dk)(),ot=[];return je.forEach(un=>{un.container.getProvider(Xt).instances.forEach(Ae=>{ot.includes(Ae)||ot.push(Ae)})}),ot};class Ot{constructor(){return jt(pn)}}const pn="app-check";function He(){}class fe{zone;delegate;constructor(gt,je=Te){this.zone=gt,this.delegate=je}now(){return this.delegate.now()}schedule(gt,je,ot){const un=this.zone;return this.delegate.schedule(function(Ae){un.runGuarded(()=>{gt.apply(this,[Ae])})},je,ot)}}class Je{zone;task=null;constructor(gt){this.zone=gt}call(gt,je){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),je.pipe((0,ie.M)({next:ot,complete:ot,error:ot})).subscribe(gt).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ue=(()=>{class Xt{ngZone;outsideAngular;insideAngular;constructor(je){this.ngZone=je,this.outsideAngular=je.runOutsideAngular(()=>new fe(Zone.current)),this.insideAngular=je.run(()=>new fe(Zone.current,ke.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ot){return new(ot||Xt)(d.KVO(d.SKi))};static \u0275prov=d.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();function it(){const Xt=globalThis.\u0275AngularFireScheduler;if(!Xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Xt}function Ut(Xt){return it().ngZone.run(()=>Xt())}function Se(Xt){return Xt.pipe((0,ve.Q)(it().outsideAngular))}function bn(Xt){return function jn(Xt){return function(je){return(je=je.lift(new Je(Xt.ngZone))).pipe((0,st._)(Xt.outsideAngular),(0,ve.Q)(Xt.insideAngular))}}(it())(Xt)}const Ft=(Xt,gt)=>function(){const ot=arguments;return gt&&setTimeout(()=>{"scheduled"===gt.state&&gt.invoke()},10),Ut(()=>Xt.apply(void 0,ot))},Yt=(Xt,gt)=>function(){let je;const ot=arguments;for(let Ke=0;Ke<arguments.length;Ke++)"function"==typeof ot[Ke]&&(gt&&(je||=Ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He))),ot[Ke]=Ft(ot[Ke],je));const un=function Et(Xt){return it().ngZone.runOutsideAngular(()=>Xt())}(()=>Xt.apply(this,ot));if(!gt){if(un instanceof W.c){const Ke=it();return un.pipe((0,st._)(Ke.outsideAngular),(0,ve.Q)(Ke.insideAngular))}return Ut(()=>un)}return un instanceof W.c?un.pipe(bn):un instanceof Promise?Ut(()=>new Promise((Ke,Ae)=>un.then(be=>Ut(()=>Ke(be)),be=>Ut(()=>Ae(be))))):"function"==typeof un&&je?function(){return setTimeout(()=>{je&&"scheduled"===je.state&&je.invoke()},10),un.apply(this,arguments)}:Ut(()=>un)}},4341:(ln,Ye,F)=>{F.d(Ye,{Zm:()=>jt,me:()=>fe,v8:()=>as,ok:()=>Do,JD:()=>ii,j4:()=>An,$R:()=>Dr,YN:()=>Ko,BC:()=>Zn,cb:()=>Nn,cV:()=>qi,vS:()=>ks,xH:()=>Ps,Q0:()=>Gs,Fm:()=>hi,X1:()=>qo,YS:()=>fi,wz:()=>Ts,k0:()=>Se,qT:()=>Ss,y7:()=>bt});var d=F(7705),p=F(177),n=F(8455),Ce=F(1985),pe=F(3073),ye=F(8750),Te=F(3794),Ne=F(4360),ke=F(6450),W=F(8496),ve=F(6354);let st=(()=>{class q{constructor(U,ue){this._renderer=U,this._elementRef=ue,this.onChange=Ge=>{},this.onTouched=()=>{}}setProperty(U,ue){this._renderer.setProperty(this._elementRef.nativeElement,U,ue)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(d.sFG),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:q})}}return q})(),$e=(()=>{class q extends st{static{this.\u0275fac=function(){let U;return function(Ge){return(U||(U=d.xGo(q)))(Ge||q)}}()}static{this.\u0275dir=d.FsC({type:q,features:[d.Vt3]})}}return q})();const At=new d.nKC("NgValueAccessor"),dt={provide:At,useExisting:(0,d.Rfq)(()=>jt),multi:!0};let jt=(()=>{class q extends $e{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(Ge){return(U||(U=d.xGo(q)))(Ge||q)}}()}static{this.\u0275dir=d.FsC({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ue,Ge){1&ue&&d.bIt("change",function(yr){return Ge.onChange(yr.target.checked)})("blur",function(){return Ge.onTouched()})},features:[d.Jv_([dt]),d.Vt3]})}}return q})();const Ot={provide:At,useExisting:(0,d.Rfq)(()=>fe),multi:!0},He=new d.nKC("CompositionEventMode");let fe=(()=>{class q extends st{constructor(U,ue,Ge){super(U,ue),this._compositionMode=Ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pn(){const q=(0,p.QT)()?(0,p.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(He,8))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,Ge){1&ue&&d.bIt("input",function(yr){return Ge._handleInput(yr.target.value)})("blur",function(){return Ge.onTouched()})("compositionstart",function(){return Ge._compositionStart()})("compositionend",function(yr){return Ge._compositionEnd(yr.target.value)})},features:[d.Jv_([Ot]),d.Vt3]})}}return q})();function Je(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function Ue(q){return null!=q&&"number"==typeof q.length}const it=new d.nKC("NgValidators"),Et=new d.nKC("NgAsyncValidators"),Ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Se{static min(Z){return function on(q){return Z=>{if(Je(Z.value)||Je(q))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U<q?{min:{min:q,actual:Z.value}}:null}}(Z)}static max(Z){return function bn(q){return Z=>{if(Je(Z.value)||Je(q))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U>q?{max:{max:q,actual:Z.value}}:null}}(Z)}static required(Z){return jn(Z)}static requiredTrue(Z){return function Ft(q){return!0===q.value?null:{required:!0}}(Z)}static email(Z){return function Yt(q){return Je(q.value)||Ut.test(q.value)?null:{email:!0}}(Z)}static minLength(Z){return function Xt(q){return Z=>Je(Z.value)||!Ue(Z.value)?null:Z.value.length<q?{minlength:{requiredLength:q,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function gt(q){return Z=>Ue(Z.value)&&Z.value.length>q?{maxlength:{requiredLength:q,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function je(q){if(!q)return ot;let Z,U;return"string"==typeof q?(U="","^"!==q.charAt(0)&&(U+="^"),U+=q,"$"!==q.charAt(q.length-1)&&(U+="$"),Z=new RegExp(U)):(U=q.toString(),Z=q),ue=>{if(Je(ue.value))return null;const Ge=ue.value;return Z.test(Ge)?null:{pattern:{requiredPattern:U,actualValue:Ge}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return et(Z)}static composeAsync(Z){return Rn(Z)}}function jn(q){return Je(q.value)?{required:!0}:null}function ot(q){return null}function un(q){return null!=q}function Ke(q){return(0,d.jNT)(q)?(0,n.H)(q):q}function Ae(q){let Z={};return q.forEach(U=>{Z=null!=U?{...Z,...U}:Z}),0===Object.keys(Z).length?null:Z}function be(q,Z){return Z.map(U=>U(q))}function at(q){return q.map(Z=>function Be(q){return!q.validate}(Z)?Z:U=>Z.validate(U))}function et(q){if(!q)return null;const Z=q.filter(un);return 0==Z.length?null:function(U){return Ae(be(U,Z))}}function Bt(q){return null!=q?et(at(q)):null}function Rn(q){if(!q)return null;const Z=q.filter(un);return 0==Z.length?null:function(U){return function ie(...q){const Z=(0,Te.ms)(q),{args:U,keys:ue}=(0,pe.D)(q),Ge=new Ce.c(Dn=>{const{length:yr}=U;if(!yr)return void Dn.complete();const Is=new Array(yr);let Vs=yr,us=yr;for(let mo=0;mo<yr;mo++){let oo=!1;(0,ye.Tg)(U[mo]).subscribe((0,Ne._)(Dn,ds=>{oo||(oo=!0,us--),Is[mo]=ds},()=>Vs--,void 0,()=>{(!Vs||!oo)&&(us||Dn.next(ue?(0,W.e)(ue,Is):Is),Dn.complete())}))}});return Z?Ge.pipe((0,ke.I)(Z)):Ge}(be(U,Z).map(Ke)).pipe((0,ve.T)(Ae))}}function mr(q){return null!=q?Rn(at(q)):null}function hn(q,Z){return null===q?[Z]:Array.isArray(q)?[...q,Z]:[q,Z]}function Bn(q){return q._rawValidators}function nn(q){return q._rawAsyncValidators}function ir(q){return q?Array.isArray(q)?q:[q]:[]}function $n(q,Z){return Array.isArray(q)?q.includes(Z):q===Z}function Qt(q,Z){const U=ir(Z);return ir(q).forEach(Ge=>{$n(U,Ge)||U.push(Ge)}),U}function Ht(q,Z){return ir(Z).filter(U=>!$n(q,U))}class Jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=mr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,U){return!!this.control&&this.control.hasError(Z,U)}getError(Z,U){return this.control?this.control.getError(Z,U):null}}class gn extends Jn{get formDirective(){return null}get path(){return null}}class Vr extends Jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lr{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zn=(()=>{class q extends lr{constructor(U){super(U)}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(Vr,2))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,Ge){2&ue&&d.AVh("ng-untouched",Ge.isUntouched)("ng-touched",Ge.isTouched)("ng-pristine",Ge.isPristine)("ng-dirty",Ge.isDirty)("ng-valid",Ge.isValid)("ng-invalid",Ge.isInvalid)("ng-pending",Ge.isPending)},features:[d.Vt3]})}}return q})(),Nn=(()=>{class q extends lr{constructor(U){super(U)}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(gn,10))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,Ge){2&ue&&d.AVh("ng-untouched",Ge.isUntouched)("ng-touched",Ge.isTouched)("ng-pristine",Ge.isPristine)("ng-dirty",Ge.isDirty)("ng-valid",Ge.isValid)("ng-invalid",Ge.isInvalid)("ng-pending",Ge.isPending)("ng-submitted",Ge.isSubmitted)},features:[d.Vt3]})}}return q})();const Kt="VALID",Yn="INVALID",Hr="PENDING",Sr="DISABLED";function _i(q){return(L(q)?q.validators:q)||null}function G(q,Z){return(L(Z)?Z.asyncValidators:q)||null}function L(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function se(q,Z,U){const ue=q.controls;if(!(Z?Object.keys(ue):ue).length)throw new d.wOt(1e3,"");if(!ue[U])throw new d.wOt(1001,"")}function ge(q,Z,U){q._forEachChild((ue,Ge)=>{if(void 0===U[Ge])throw new d.wOt(1002,"")})}class lt{constructor(Z,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===Yn}get pending(){return this.status==Hr}get disabled(){return this.status===Sr}get enabled(){return this.status!==Sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Qt(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Qt(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(Ht(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(Ht(Z,this._rawAsyncValidators))}hasValidator(Z){return $n(this._rawValidators,Z)}hasAsyncValidator(Z){return $n(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=Hr,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Sr,this.errors=null,this._forEachChild(ue=>{ue.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Kt,this._forEachChild(ue=>{ue.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===Hr)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sr:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=Hr,this._hasOwnPendingAsyncValidator=!0;const U=Ke(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,U={}){this.errors=Z,this._updateControlsErrors(!1!==U.emitEvent)}get(Z){let U=Z;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((ue,Ge)=>ue&&ue._find(Ge),this)}getError(Z,U){const ue=U?this.get(U):this;return ue&&ue.errors?ue.errors[Z]:null}hasError(Z,U){return!!this.getError(Z,U)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?Sr:this.errors?Yn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hr)?Hr:this._anyControlsHaveStatus(Yn)?Yn:Kt}_anyControlsHaveStatus(Z){return this._anyControls(U=>U.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){L(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function Tt(q){return Array.isArray(q)?Bt(q):q||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function R(q){return Array.isArray(q)?mr(q):q||null}(this._rawAsyncValidators)}}class Mt extends lt{constructor(Z,U,ue){super(_i(U),G(ue,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,U){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(Z,U,ue={}){this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(Z,U={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(Z,U,ue={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],U&&this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,U={}){ge(this,0,Z),Object.keys(Z).forEach(ue=>{se(this,!0,ue),this.controls[ue].setValue(Z[ue],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Object.keys(Z).forEach(ue=>{const Ge=this.controls[ue];Ge&&Ge.patchValue(Z[ue],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z={},U={}){this._forEachChild((ue,Ge)=>{ue.reset(Z?Z[Ge]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(Z,U,ue)=>(Z[ue]=U.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(U,ue)=>!!ue._syncPendingControls()||U);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(U=>{const ue=this.controls[U];ue&&Z(ue,U)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[U,ue]of Object.entries(this.controls))if(this.contains(U)&&Z(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,ue,Ge)=>((ue.enabled||this.disabled)&&(U[Ge]=ue.value),U))}_reduceChildren(Z,U){let ue=Z;return this._forEachChild((Ge,Dn)=>{ue=U(ue,Ge,Dn)}),ue}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class In extends Mt{}const xe=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Pe}),Pe="always";function ze(q,Z){return[...Z.path,q]}function Vt(q,Z,U=Pe){ur(q,Z),Z.valueAccessor.writeValue(q.value),(q.disabled||"always"===U)&&Z.valueAccessor.setDisabledState?.(q.disabled),function ci(q,Z){Z.valueAccessor.registerOnChange(U=>{q._pendingValue=U,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Ze(q,Z)})}(q,Z),function Rt(q,Z){const U=(ue,Ge)=>{Z.valueAccessor.writeValue(ue),Ge&&Z.viewToModelUpdate(ue)};q.registerOnChange(U),Z._registerOnDestroy(()=>{q._unregisterOnChange(U)})}(q,Z),function vt(q,Z){Z.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Ze(q,Z),"submit"!==q.updateOn&&q.markAsTouched()})}(q,Z),function dn(q,Z){if(Z.valueAccessor.setDisabledState){const U=ue=>{Z.valueAccessor.setDisabledState(ue)};q.registerOnDisabledChange(U),Z._registerOnDestroy(()=>{q._unregisterOnDisabledChange(U)})}}(q,Z)}function Zt(q,Z,U=!0){const ue=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(ue),Z.valueAccessor.registerOnTouched(ue)),yn(q,Z),q&&(Z._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function _n(q,Z){q.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(Z)})}function ur(q,Z){const U=Bn(q);null!==Z.validator?q.setValidators(hn(U,Z.validator)):"function"==typeof U&&q.setValidators([U]);const ue=nn(q);null!==Z.asyncValidator?q.setAsyncValidators(hn(ue,Z.asyncValidator)):"function"==typeof ue&&q.setAsyncValidators([ue]);const Ge=()=>q.updateValueAndValidity();_n(Z._rawValidators,Ge),_n(Z._rawAsyncValidators,Ge)}function yn(q,Z){let U=!1;if(null!==q){if(null!==Z.validator){const Ge=Bn(q);if(Array.isArray(Ge)&&Ge.length>0){const Dn=Ge.filter(yr=>yr!==Z.validator);Dn.length!==Ge.length&&(U=!0,q.setValidators(Dn))}}if(null!==Z.asyncValidator){const Ge=nn(q);if(Array.isArray(Ge)&&Ge.length>0){const Dn=Ge.filter(yr=>yr!==Z.asyncValidator);Dn.length!==Ge.length&&(U=!0,q.setAsyncValidators(Dn))}}}const ue=()=>{};return _n(Z._rawValidators,ue),_n(Z._rawAsyncValidators,ue),U}function Ze(q,Z){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function fn(q,Z){ur(q,Z)}function Ci(q,Z){if(!q.hasOwnProperty("model"))return!1;const U=q.model;return!!U.isFirstChange()||!Object.is(Z,U.currentValue)}function Ii(q,Z){q._syncPendingControls(),Z.forEach(U=>{const ue=U.control;"submit"===ue.updateOn&&ue._pendingChange&&(U.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}function no(q,Z){if(!Z)return null;let U,ue,Ge;return Array.isArray(Z),Z.forEach(Dn=>{Dn.constructor===fe?U=Dn:function Hi(q){return Object.getPrototypeOf(q.constructor)===$e}(Dn)?ue=Dn:Ge=Dn}),Ge||ue||U||null}const po={provide:gn,useExisting:(0,d.Rfq)(()=>qi)},ri=(()=>Promise.resolve())();let qi=(()=>{class q extends gn{constructor(U,ue,Ge){super(),this.callSetDisabledState=Ge,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new Mt({},Bt(U),mr(ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){ri.then(()=>{const ue=this._findContainer(U.path);U.control=ue.registerControl(U.name,U.control),Vt(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){ri.then(()=>{const ue=this._findContainer(U.path);ue&&ue.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){ri.then(()=>{const ue=this._findContainer(U.path),Ge=new Mt({});fn(Ge,U),ue.registerControl(U.name,Ge),Ge.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){ri.then(()=>{const ue=this._findContainer(U.path);ue&&ue.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,ue){ri.then(()=>{this.form.get(U.path).setValue(ue)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Ii(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(it,10),d.rXU(Et,10),d.rXU(xe,8))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ue,Ge){1&ue&&d.bIt("submit",function(yr){return Ge.onSubmit(yr)})("reset",function(){return Ge.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([po]),d.Vt3]})}}return q})();function is(q,Z){const U=q.indexOf(Z);U>-1&&q.splice(U,1)}function _e(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const kt=class extends lt{constructor(Z=null,U,ue){super(_i(U),G(ue,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=_e(Z)?Z.value:Z)}setValue(Z,U={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(Z,U={}){this.setValue(Z,U)}reset(Z=this.defaultValue,U={}){this._applyFormState(Z),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){is(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){is(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){_e(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}};let Lt=(()=>{class q extends gn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ze(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(Ge){return(U||(U=d.xGo(q)))(Ge||q)}}()}static{this.\u0275dir=d.FsC({type:q,features:[d.Vt3]})}}return q})();const Ds={provide:Vr,useExisting:(0,d.Rfq)(()=>ks)},ui=(()=>Promise.resolve())();let ks=(()=>{class q extends Vr{constructor(U,ue,Ge,Dn,yr,Is){super(),this._changeDetectorRef=yr,this.callSetDisabledState=Is,this.control=new kt,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=U,this._setValidators(ue),this._setAsyncValidators(Ge),this.valueAccessor=no(0,Dn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const ue=U.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Ci(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){ui.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const ue=U.isDisabled.currentValue,Ge=0!==ue&&(0,d.L39)(ue);ui.then(()=>{Ge&&!this.control.disabled?this.control.disable():!Ge&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?ze(U,this._parent):[U]}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(gn,9),d.rXU(it,10),d.rXU(Et,10),d.rXU(At,10),d.rXU(d.gRc,8),d.rXU(xe,8))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Ds]),d.Vt3,d.OA$]})}}return q})(),Ss=(()=>{class q{static{this.\u0275fac=function(ue){return new(ue||q)}}static{this.\u0275dir=d.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return q})();const ro={provide:At,useExisting:(0,d.Rfq)(()=>Gs),multi:!0};let Gs=(()=>{class q extends $e{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=ue=>{U(""==ue?null:parseFloat(ue))}}static{this.\u0275fac=function(){let U;return function(Ge){return(U||(U=d.xGo(q)))(Ge||q)}}()}static{this.\u0275dir=d.FsC({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ue,Ge){1&ue&&d.bIt("input",function(yr){return Ge.onChange(yr.target.value)})("blur",function(){return Ge.onTouched()})},features:[d.Jv_([ro]),d.Vt3]})}}return q})();const jr={provide:At,useExisting:(0,d.Rfq)(()=>hi),multi:!0};let Di=(()=>{class q{static{this.\u0275fac=function(ue){return new(ue||q)}}static{this.\u0275mod=d.$C({type:q})}static{this.\u0275inj=d.G2t({})}}return q})(),ss=(()=>{class q{constructor(){this._accessors=[]}add(U,ue){this._accessors.push([U,ue])}remove(U){for(let ue=this._accessors.length-1;ue>=0;--ue)if(this._accessors[ue][1]===U)return void this._accessors.splice(ue,1)}select(U){this._accessors.forEach(ue=>{this._isSameGroup(ue,U)&&ue[1]!==U&&ue[1].fireUncheck(U.value)})}_isSameGroup(U,ue){return!!U[0].control&&U[0]._parent===ue._control._parent&&U[1].name===ue.name}static{this.\u0275fac=function(ue){return new(ue||q)}}static{this.\u0275prov=d.jDH({token:q,factory:q.\u0275fac,providedIn:Di})}}return q})(),hi=(()=>{class q extends $e{constructor(U,ue,Ge,Dn){super(U,ue),this._registry=Ge,this._injector=Dn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,d.WQX)(xe,{optional:!0})??Pe}ngOnInit(){this._control=this._injector.get(Vr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(ss),d.rXU(d.zZn))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ue,Ge){1&ue&&d.bIt("change",function(){return Ge.onChange()})("blur",function(){return Ge.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[d.Jv_([jr]),d.Vt3]})}}return q})();const os=new d.nKC("NgModelWithFormControlWarning"),Wr={provide:gn,useExisting:(0,d.Rfq)(()=>An)};let An=(()=>{class q extends gn{constructor(U,ue,Ge){super(),this.callSetDisabledState=Ge,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(U),this._setAsyncValidators(ue)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const ue=this.form.get(U.path);return Vt(ue,U,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),ue}getControl(U){return this.form.get(U.path)}removeControl(U){Zt(U.control||null,U,!1),function Xs(q,Z){const U=q.indexOf(Z);U>-1&&q.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,ue){this.form.get(U.path).setValue(ue)}onSubmit(U){return this.submitted=!0,Ii(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const ue=U.control,Ge=this.form.get(U.path);ue!==Ge&&(Zt(ue||null,U),(q=>q instanceof kt)(Ge)&&(Vt(Ge,U,this.callSetDisabledState),U.control=Ge))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const ue=this.form.get(U.path);fn(ue,U),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const ue=this.form.get(U.path);ue&&function Vn(q,Z){return yn(q,Z)}(ue,U)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ur(this.form,this),this._oldForm&&yn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(it,10),d.rXU(Et,10),d.rXU(xe,8))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["","formGroup",""]],hostBindings:function(ue,Ge){1&ue&&d.bIt("submit",function(yr){return Ge.onSubmit(yr)})("reset",function(){return Ge.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([Wr]),d.Vt3,d.OA$]})}}return q})();const _r={provide:gn,useExisting:(0,d.Rfq)(()=>Dr)};let Dr=(()=>{class q extends Lt{constructor(U,ue,Ge){super(),this.name=null,this._parent=U,this._setValidators(ue),this._setAsyncValidators(Ge)}_checkParentType(){Bi(this._parent)}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(gn,13),d.rXU(it,10),d.rXU(Et,10))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d.Jv_([_r]),d.Vt3]})}}return q})();const es={provide:gn,useExisting:(0,d.Rfq)(()=>as)};let as=(()=>{class q extends gn{constructor(U,ue,Ge){super(),this.name=null,this._parent=U,this._setValidators(ue),this._setAsyncValidators(Ge)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ze(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Bi(this._parent)}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(gn,13),d.rXU(it,10),d.rXU(Et,10))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d.Jv_([es]),d.Vt3]})}}return q})();function Bi(q){return!(q instanceof Dr||q instanceof An||q instanceof as)}const Qs={provide:Vr,useExisting:(0,d.Rfq)(()=>ii)};let ii=(()=>{class q extends Vr{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,ue,Ge,Dn,yr){super(),this._ngModelWarningConfig=yr,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(ue),this._setAsyncValidators(Ge),this.valueAccessor=no(0,Dn)}ngOnChanges(U){this._added||this._setUpControl(),Ci(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return ze(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(gn,13),d.rXU(it,10),d.rXU(Et,10),d.rXU(At,10),d.rXU(os,8))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([Qs]),d.Vt3,d.OA$]})}}return q})();const _s={provide:At,useExisting:(0,d.Rfq)(()=>Ts),multi:!0};function Ls(q,Z){return null==q?`${Z}`:(Z&&"object"==typeof Z&&(Z="Object"),`${q}: ${Z}`.slice(0,50))}let Ts=(()=>{class q extends $e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const Ge=Ls(this._getOptionId(U),U);this.setProperty("value",Ge)}registerOnChange(U){this.onChange=ue=>{this.value=this._getOptionValue(ue),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue),U))return ue;return null}_getOptionValue(U){const ue=function dr(q){return q.split(":")[0]}(U);return this._optionMap.has(ue)?this._optionMap.get(ue):U}static{this.\u0275fac=function(){let U;return function(Ge){return(U||(U=d.xGo(q)))(Ge||q)}}()}static{this.\u0275dir=d.FsC({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ue,Ge){1&ue&&d.bIt("change",function(yr){return Ge.onChange(yr.target.value)})("blur",function(){return Ge.onTouched()})},inputs:{compareWith:"compareWith"},features:[d.Jv_([_s]),d.Vt3]})}}return q})(),Ps=(()=>{class q{constructor(U,ue,Ge){this._element=U,this._renderer=ue,this._select=Ge,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Ls(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(Ts,9))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})();const te={provide:At,useExisting:(0,d.Rfq)(()=>rt),multi:!0};function ee(q,Z){return null==q?`${Z}`:("string"==typeof Z&&(Z=`'${Z}'`),Z&&"object"==typeof Z&&(Z="Object"),`${q}: ${Z}`.slice(0,50))}let rt=(()=>{class q extends $e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let ue;if(this.value=U,Array.isArray(U)){const Ge=U.map(Dn=>this._getOptionId(Dn));ue=(Dn,yr)=>{Dn._setSelected(Ge.indexOf(yr.toString())>-1)}}else ue=(Ge,Dn)=>{Ge._setSelected(!1)};this._optionMap.forEach(ue)}registerOnChange(U){this.onChange=ue=>{const Ge=[],Dn=ue.selectedOptions;if(void 0!==Dn){const yr=Dn;for(let Is=0;Is<yr.length;Is++){const us=this._getOptionValue(yr[Is].value);Ge.push(us)}}else{const yr=ue.options;for(let Is=0;Is<yr.length;Is++){const Vs=yr[Is];if(Vs.selected){const us=this._getOptionValue(Vs.value);Ge.push(us)}}}this.value=Ge,U(Ge)}}_registerOption(U){const ue=(this._idCounter++).toString();return this._optionMap.set(ue,U),ue}_getOptionId(U){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue)._value,U))return ue;return null}_getOptionValue(U){const ue=function De(q){return q.split(":")[0]}(U);return this._optionMap.has(ue)?this._optionMap.get(ue)._value:U}static{this.\u0275fac=function(){let U;return function(Ge){return(U||(U=d.xGo(q)))(Ge||q)}}()}static{this.\u0275dir=d.FsC({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ue,Ge){1&ue&&d.bIt("change",function(yr){return Ge.onChange(yr.target)})("blur",function(){return Ge.onTouched()})},inputs:{compareWith:"compareWith"},features:[d.Jv_([te]),d.Vt3]})}}return q})(),bt=(()=>{class q{constructor(U,ue,Ge){this._element=U,this._renderer=ue,this._select=Ge,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(ee(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(ee(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ue){return new(ue||q)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(rt,9))}}static{this.\u0275dir=d.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})(),Sn=(()=>{class q{constructor(){this._validator=ot}ngOnChanges(U){if(this.inputName in U){const ue=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):ot,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(ue){return new(ue||q)}}static{this.\u0275dir=d.FsC({type:q,features:[d.OA$]})}}return q})();const fr={provide:it,useExisting:(0,d.Rfq)(()=>fi),multi:!0};let fi=(()=>{class q extends Sn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=U=>jn}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(Ge){return(U||(U=d.xGo(q)))(Ge||q)}}()}static{this.\u0275dir=d.FsC({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ue,Ge){2&ue&&d.BMQ("required",Ge._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([fr]),d.Vt3]})}}return q})(),Ra=(()=>{class q{static{this.\u0275fac=function(ue){return new(ue||q)}}static{this.\u0275mod=d.$C({type:q})}static{this.\u0275inj=d.G2t({imports:[Di]})}}return q})();class Hs extends lt{constructor(Z,U,ue){super(_i(U),G(ue,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,U={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(Z,U,ue={}){this.controls.splice(Z,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(Z,U={}){let ue=this._adjustIndex(Z);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(Z,U,ue={}){let Ge=this._adjustIndex(Z);Ge<0&&(Ge=0),this.controls[Ge]&&this.controls[Ge]._registerOnCollectionChange(()=>{}),this.controls.splice(Ge,1),U&&(this.controls.splice(Ge,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,U={}){ge(this,0,Z),Z.forEach((ue,Ge)=>{se(this,!1,Ge),this.at(Ge).setValue(ue,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Z.forEach((ue,Ge)=>{this.at(Ge)&&this.at(Ge).patchValue(ue,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z=[],U={}){this._forEachChild((ue,Ge)=>{ue.reset(Z[Ge],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((U,ue)=>!!ue._syncPendingControls()||U,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((U,ue)=>{Z(U,ue)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(U=>U.enabled&&Z(U))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function zi(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let Do=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new q;return U.useNonNullable=!0,U}group(U,ue=null){const Ge=this._reduceControls(U);let Dn={};return zi(ue)?Dn=ue:null!==ue&&(Dn.validators=ue.validator,Dn.asyncValidators=ue.asyncValidator),new Mt(Ge,Dn)}record(U,ue=null){const Ge=this._reduceControls(U);return new In(Ge,ue)}control(U,ue,Ge){let Dn={};return this.useNonNullable?(zi(ue)?Dn=ue:(Dn.validators=ue,Dn.asyncValidators=Ge),new kt(U,{...Dn,nonNullable:!0})):new kt(U,ue,Ge)}array(U,ue,Ge){const Dn=U.map(yr=>this._createControl(yr));return new Hs(Dn,ue,Ge)}_reduceControls(U){const ue={};return Object.keys(U).forEach(Ge=>{ue[Ge]=this._createControl(U[Ge])}),ue}_createControl(U){return U instanceof kt||U instanceof lt?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(ue){return new(ue||q)}}static{this.\u0275prov=d.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),Ko=(()=>{class q{static withConfig(U){return{ngModule:q,providers:[{provide:xe,useValue:U.callSetDisabledState??Pe}]}}static{this.\u0275fac=function(ue){return new(ue||q)}}static{this.\u0275mod=d.$C({type:q})}static{this.\u0275inj=d.G2t({imports:[Ra]})}}return q})(),qo=(()=>{class q{static withConfig(U){return{ngModule:q,providers:[{provide:os,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:xe,useValue:U.callSetDisabledState??Pe}]}}static{this.\u0275fac=function(ue){return new(ue||q)}}static{this.\u0275mod=d.$C({type:q})}static{this.\u0275inj=d.G2t({imports:[Ra]})}}return q})()},345:(ln,Ye,F)=>{F.d(Ye,{B7:()=>Ut,Bb:()=>$n,W8:()=>Ht,hE:()=>Vr,sG:()=>hn,up:()=>bi});var d=F(7705),p=F(177);class n extends p.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends n{static makeCurrent(){(0,p.ZD)(new Ce)}onAndCancel(G,R,L){return G.addEventListener(R,L),()=>{G.removeEventListener(R,L)}}dispatchEvent(G,R){G.dispatchEvent(R)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,R){return(R=R||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,R){return"window"===R?window:"document"===R?G:"body"===R?G.body:null}getBaseHref(G){const R=function ye(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==R?null:function Ne(Tt){Te=Te||document.createElement("a"),Te.setAttribute("href",Tt);const G=Te.pathname;return"/"===G.charAt(0)?G:`/${G}`}(R)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,p._b)(document.cookie,G)}}let Te,pe=null,W=(()=>{class Tt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(L){return new(L||Tt)}}static{this.\u0275prov=d.jDH({token:Tt,factory:Tt.\u0275fac})}}return Tt})();const ie=new d.nKC("EventManagerPlugins");let ve=(()=>{class Tt{constructor(R,L){this._zone=L,this._eventNameToPlugin=new Map,R.forEach(se=>{se.manager=this}),this._plugins=R.slice().reverse()}addEventListener(R,L,se){return this._findPluginFor(L).addEventListener(R,L,se)}getZone(){return this._zone}_findPluginFor(R){let L=this._eventNameToPlugin.get(R);if(L)return L;if(L=this._plugins.find(ge=>ge.supports(R)),!L)throw new d.wOt(5101,!1);return this._eventNameToPlugin.set(R,L),L}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(ie),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:Tt,factory:Tt.\u0275fac})}}return Tt})();class st{constructor(G){this._doc=G}}const $e="ng-app-id";let At=(()=>{class Tt{constructor(R,L,se,ge={}){this.doc=R,this.appId=L,this.nonce=se,this.platformId=ge,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,p.Vy)(ge),this.resetHostNodes()}addStyles(R){for(const L of R)1===this.changeUsageCount(L,1)&&this.onStyleAdded(L)}removeStyles(R){for(const L of R)this.changeUsageCount(L,-1)<=0&&this.onStyleRemoved(L)}ngOnDestroy(){const R=this.styleNodesInDOM;R&&(R.forEach(L=>L.remove()),R.clear());for(const L of this.getAllStyles())this.onStyleRemoved(L);this.resetHostNodes()}addHost(R){this.hostNodes.add(R);for(const L of this.getAllStyles())this.addStyleToHost(R,L)}removeHost(R){this.hostNodes.delete(R)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(R){for(const L of this.hostNodes)this.addStyleToHost(L,R)}onStyleRemoved(R){const L=this.styleRef;L.get(R)?.elements?.forEach(se=>se.remove()),L.delete(R)}collectServerRenderedStyles(){const R=this.doc.head?.querySelectorAll(`style[${$e}="${this.appId}"]`);if(R?.length){const L=new Map;return R.forEach(se=>{null!=se.textContent&&L.set(se.textContent,se)}),L}return null}changeUsageCount(R,L){const se=this.styleRef;if(se.has(R)){const ge=se.get(R);return ge.usage+=L,ge.usage}return se.set(R,{usage:L,elements:[]}),L}getStyleElement(R,L){const se=this.styleNodesInDOM,ge=se?.get(L);if(ge?.parentNode===R)return se.delete(L),ge.removeAttribute($e),ge;{const lt=this.doc.createElement("style");return this.nonce&&lt.setAttribute("nonce",this.nonce),lt.textContent=L,this.platformIsServer&&lt.setAttribute($e,this.appId),lt}}addStyleToHost(R,L){const se=this.getStyleElement(R,L);R.appendChild(se);const ge=this.styleRef,lt=ge.get(L)?.elements;lt?lt.push(se):ge.set(L,{elements:[se],usage:1})}resetHostNodes(){const R=this.hostNodes;R.clear(),R.add(this.doc.head)}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(p.qQ),d.KVO(d.sZ2),d.KVO(d.BIS,8),d.KVO(d.Agw))}}static{this.\u0275prov=d.jDH({token:Tt,factory:Tt.\u0275fac})}}return Tt})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jt=/%COMP%/g,Je=new d.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Et(Tt,G){return G.map(R=>R.replace(jt,Tt))}let Ut=(()=>{class Tt{constructor(R,L,se,ge,lt,Mt,mn,Wt=null){this.eventManager=R,this.sharedStylesHost=L,this.appId=se,this.removeStylesOnCompDestroy=ge,this.doc=lt,this.platformId=Mt,this.ngZone=mn,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,p.Vy)(Mt),this.defaultRenderer=new Se(R,lt,mn,this.platformIsServer)}createRenderer(R,L){if(!R||!L)return this.defaultRenderer;this.platformIsServer&&L.encapsulation===d.gXe.ShadowDom&&(L={...L,encapsulation:d.gXe.Emulated});const se=this.getOrCreateRenderer(R,L);return se instanceof Xt?se.applyToHost(R):se instanceof Yt&&se.applyStyles(),se}getOrCreateRenderer(R,L){const se=this.rendererByCompId;let ge=se.get(L.id);if(!ge){const lt=this.doc,Mt=this.ngZone,mn=this.eventManager,Wt=this.sharedStylesHost,In=this.removeStylesOnCompDestroy,gr=this.platformIsServer;switch(L.encapsulation){case d.gXe.Emulated:ge=new Xt(mn,Wt,L,this.appId,In,lt,Mt,gr);break;case d.gXe.ShadowDom:return new Ft(mn,Wt,R,L,lt,Mt,this.nonce,gr);default:ge=new Yt(mn,Wt,L,In,lt,Mt,gr)}se.set(L.id,ge)}return ge}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(ve),d.KVO(At),d.KVO(d.sZ2),d.KVO(Je),d.KVO(p.qQ),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(d.BIS))}}static{this.\u0275prov=d.jDH({token:Tt,factory:Tt.\u0275fac})}}return Tt})();class Se{constructor(G,R,L,se){this.eventManager=G,this.doc=R,this.ngZone=L,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,R){return R?this.doc.createElementNS(dt[R]||R,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,R){(jn(G)?G.content:G).appendChild(R)}insertBefore(G,R,L){G&&(jn(G)?G.content:G).insertBefore(R,L)}removeChild(G,R){G&&G.removeChild(R)}selectRootElement(G,R){let L="string"==typeof G?this.doc.querySelector(G):G;if(!L)throw new d.wOt(-5104,!1);return R||(L.textContent=""),L}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,R,L,se){if(se){R=se+":"+R;const ge=dt[se];ge?G.setAttributeNS(ge,R,L):G.setAttribute(R,L)}else G.setAttribute(R,L)}removeAttribute(G,R,L){if(L){const se=dt[L];se?G.removeAttributeNS(se,R):G.removeAttribute(`${L}:${R}`)}else G.removeAttribute(R)}addClass(G,R){G.classList.add(R)}removeClass(G,R){G.classList.remove(R)}setStyle(G,R,L,se){se&(d.czy.DashCase|d.czy.Important)?G.style.setProperty(R,L,se&d.czy.Important?"important":""):G.style[R]=L}removeStyle(G,R,L){L&d.czy.DashCase?G.style.removeProperty(R):G.style[R]=""}setProperty(G,R,L){G[R]=L}setValue(G,R){G.nodeValue=R}listen(G,R,L){if("string"==typeof G&&!(G=(0,p.QT)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${R}`);return this.eventManager.addEventListener(G,R,this.decoratePreventDefault(L))}decoratePreventDefault(G){return R=>{if("__ngUnwrap__"===R)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(R)):G(R))&&R.preventDefault()}}}function jn(Tt){return"TEMPLATE"===Tt.tagName&&void 0!==Tt.content}class Ft extends Se{constructor(G,R,L,se,ge,lt,Mt,mn){super(G,ge,lt,mn),this.sharedStylesHost=R,this.hostEl=L,this.shadowRoot=L.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=Et(se.id,se.styles);for(const In of Wt){const gr=document.createElement("style");Mt&&gr.setAttribute("nonce",Mt),gr.textContent=In,this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,R){return super.appendChild(this.nodeOrShadowRoot(G),R)}insertBefore(G,R,L){return super.insertBefore(this.nodeOrShadowRoot(G),R,L)}removeChild(G,R){return super.removeChild(this.nodeOrShadowRoot(G),R)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yt extends Se{constructor(G,R,L,se,ge,lt,Mt,mn){super(G,ge,lt,Mt),this.sharedStylesHost=R,this.removeStylesOnCompDestroy=se,this.styles=mn?Et(mn,L.styles):L.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xt extends Yt{constructor(G,R,L,se,ge,lt,Mt,mn){const Wt=se+"-"+L.id;super(G,R,L,ge,lt,Mt,mn,Wt),this.contentAttr=function Ue(Tt){return"_ngcontent-%COMP%".replace(jt,Tt)}(Wt),this.hostAttr=function it(Tt){return"_nghost-%COMP%".replace(jt,Tt)}(Wt)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,R){const L=super.createElement(G,R);return super.setAttribute(L,this.contentAttr,""),L}}let gt=(()=>{class Tt extends st{constructor(R){super(R)}supports(R){return!0}addEventListener(R,L,se){return R.addEventListener(L,se,!1),()=>this.removeEventListener(R,L,se)}removeEventListener(R,L,se){return R.removeEventListener(L,se)}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(p.qQ))}}static{this.\u0275prov=d.jDH({token:Tt,factory:Tt.\u0275fac})}}return Tt})();const je=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},un={alt:Tt=>Tt.altKey,control:Tt=>Tt.ctrlKey,meta:Tt=>Tt.metaKey,shift:Tt=>Tt.shiftKey};let Ke=(()=>{class Tt extends st{constructor(R){super(R)}supports(R){return null!=Tt.parseEventName(R)}addEventListener(R,L,se){const ge=Tt.parseEventName(L),lt=Tt.eventCallback(ge.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.QT)().onAndCancel(R,ge.domEventName,lt))}static parseEventName(R){const L=R.toLowerCase().split("."),se=L.shift();if(0===L.length||"keydown"!==se&&"keyup"!==se)return null;const ge=Tt._normalizeKey(L.pop());let lt="",Mt=L.indexOf("code");if(Mt>-1&&(L.splice(Mt,1),lt="code."),je.forEach(Wt=>{const In=L.indexOf(Wt);In>-1&&(L.splice(In,1),lt+=Wt+".")}),lt+=ge,0!=L.length||0===ge.length)return null;const mn={};return mn.domEventName=se,mn.fullKey=lt,mn}static matchEventFullKeyCode(R,L){let se=ot[R.key]||R.key,ge="";return L.indexOf("code.")>-1&&(se=R.code,ge="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),je.forEach(lt=>{lt!==se&&(0,un[lt])(R)&&(ge+=lt+".")}),ge+=se,ge===L)}static eventCallback(R,L,se){return ge=>{Tt.matchEventFullKeyCode(ge,R)&&se.runGuarded(()=>L(ge))}}static _normalizeKey(R){return"esc"===R?"escape":R}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(p.qQ))}}static{this.\u0275prov=d.jDH({token:Tt,factory:Tt.\u0275fac})}}return Tt})();const hn=(0,d.oH4)(d.fpN,"browser",[{provide:d.Agw,useValue:p.AJ},{provide:d.PLl,useValue:function et(){Ce.makeCurrent()},multi:!0},{provide:p.qQ,useFactory:function Rn(){return(0,d.TL$)(document),document},deps:[]}]),Bn=new d.nKC(""),nn=[{provide:d.e01,useClass:class ke{addToWindow(G){d.JZv.getAngularTestability=(L,se=!0)=>{const ge=G.findTestabilityInTree(L,se);if(null==ge)throw new d.wOt(5103,!1);return ge},d.JZv.getAllAngularTestabilities=()=>G.getAllTestabilities(),d.JZv.getAllAngularRootElements=()=>G.getAllRootElements(),d.JZv.frameworkStabilizers||(d.JZv.frameworkStabilizers=[]),d.JZv.frameworkStabilizers.push(L=>{const se=d.JZv.getAllAngularTestabilities();let ge=se.length,lt=!1;const Mt=function(mn){lt=lt||mn,ge--,0==ge&&L(lt)};se.forEach(mn=>{mn.whenStable(Mt)})})}findTestabilityInTree(G,R,L){return null==R?null:G.getTestability(R)??(L?(0,p.QT)().isShadowRoot(R)?this.findTestabilityInTree(G,R.host,!0):this.findTestabilityInTree(G,R.parentElement,!0):null)}},deps:[]},{provide:d.WHO,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]},{provide:d.NYb,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]}],ir=[{provide:d.H8p,useValue:"root"},{provide:d.zcH,useFactory:function Bt(){return new d.zcH},deps:[]},{provide:ie,useClass:gt,multi:!0,deps:[p.qQ,d.SKi,d.Agw]},{provide:ie,useClass:Ke,multi:!0,deps:[p.qQ]},Ut,At,ve,{provide:d._9s,useExisting:Ut},{provide:p.N0,useClass:W,deps:[]},[]];let $n=(()=>{class Tt{constructor(R){}static withServerTransition(R){return{ngModule:Tt,providers:[{provide:d.sZ2,useValue:R.appId}]}}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(Bn,12))}}static{this.\u0275mod=d.$C({type:Tt})}static{this.\u0275inj=d.G2t({providers:[...ir,...nn],imports:[p.MD,d.Hbi]})}}return Tt})(),Ht=(()=>{class Tt{constructor(R){this._doc=R,this._dom=(0,p.QT)()}addTag(R,L=!1){return R?this._getOrCreateElement(R,L):null}addTags(R,L=!1){return R?R.reduce((se,ge)=>(ge&&se.push(this._getOrCreateElement(ge,L)),se),[]):[]}getTag(R){return R&&this._doc.querySelector(`meta[${R}]`)||null}getTags(R){if(!R)return[];const L=this._doc.querySelectorAll(`meta[${R}]`);return L?[].slice.call(L):[]}updateTag(R,L){if(!R)return null;L=L||this._parseSelector(R);const se=this.getTag(L);return se?this._setMetaElementAttributes(R,se):this._getOrCreateElement(R,!0)}removeTag(R){this.removeTagElement(this.getTag(R))}removeTagElement(R){R&&this._dom.remove(R)}_getOrCreateElement(R,L=!1){if(!L){const lt=this._parseSelector(R),Mt=this.getTags(lt).filter(mn=>this._containsAttributes(R,mn))[0];if(void 0!==Mt)return Mt}const se=this._dom.createElement("meta");return this._setMetaElementAttributes(R,se),this._doc.getElementsByTagName("head")[0].appendChild(se),se}_setMetaElementAttributes(R,L){return Object.keys(R).forEach(se=>L.setAttribute(this._getMetaKeyMap(se),R[se])),L}_parseSelector(R){const L=R.name?"name":"property";return`${L}="${R[L]}"`}_containsAttributes(R,L){return Object.keys(R).every(se=>L.getAttribute(this._getMetaKeyMap(se))===R[se])}_getMetaKeyMap(R){return Jn[R]||R}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(p.qQ))}}static{this.\u0275prov=d.jDH({token:Tt,factory:function(L){let se=null;return se=L?new L:function Qt(){return new Ht((0,d.KVO)(p.qQ))}(),se},providedIn:"root"})}}return Tt})();const Jn={httpEquiv:"http-equiv"};let Vr=(()=>{class Tt{constructor(R){this._doc=R}getTitle(){return this._doc.title}setTitle(R){this._doc.title=R||""}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(p.qQ))}}static{this.\u0275prov=d.jDH({token:Tt,factory:function(L){let se=null;return se=L?new L:function gn(){return new Vr((0,d.KVO)(p.qQ))}(),se},providedIn:"root"})}}return Tt})();typeof window<"u"&&window;let bi=(()=>{class Tt{static{this.\u0275fac=function(L){return new(L||Tt)}}static{this.\u0275prov=d.jDH({token:Tt,factory:function(L){let se=null;return se=L?new(L||Tt):d.KVO(ft),se},providedIn:"root"})}}return Tt})(),ft=(()=>{class Tt extends bi{constructor(R){super(),this._doc=R}sanitize(R,L){if(null==L)return null;switch(R){case d.WPN.NONE:return L;case d.WPN.HTML:return(0,d.ZF7)(L,"HTML")?(0,d.rcV)(L):(0,d.h9k)(this._doc,String(L)).toString();case d.WPN.STYLE:return(0,d.ZF7)(L,"Style")?(0,d.rcV)(L):L;case d.WPN.SCRIPT:if((0,d.ZF7)(L,"Script"))return(0,d.rcV)(L);throw new d.wOt(5200,!1);case d.WPN.URL:return(0,d.ZF7)(L,"URL")?(0,d.rcV)(L):(0,d.$MX)(String(L));case d.WPN.RESOURCE_URL:if((0,d.ZF7)(L,"ResourceURL"))return(0,d.rcV)(L);throw new d.wOt(5201,!1);default:throw new d.wOt(5202,!1)}}bypassSecurityTrustHtml(R){return(0,d.Kcf)(R)}bypassSecurityTrustStyle(R){return(0,d.cWb)(R)}bypassSecurityTrustScript(R){return(0,d.UyX)(R)}bypassSecurityTrustUrl(R){return(0,d.osQ)(R)}bypassSecurityTrustResourceUrl(R){return(0,d.e5t)(R)}static{this.\u0275fac=function(L){return new(L||Tt)(d.KVO(p.qQ))}}static{this.\u0275prov=d.jDH({token:Tt,factory:function(L){let se=null;return se=L?new L:function nt(Tt){return new ft(Tt.get(p.qQ))}(d.KVO(d.zZn)),se},providedIn:"root"})}}return Tt})()},6814:(ln,Ye,F)=>{F.d(Ye,{nX:()=>Dr,Ix:()=>Wi,Wk:()=>da,wQ:()=>Rs,iI:()=>tc,n3:()=>Ts});var d=F(7705),p=F(1985),n=F(8071),pe=F(8455),ye=F(7673),Te=F(4412),Ne=F(3073),ke=F(3669),W=F(6450),ie=F(3794),ve=F(8496),st=F(4360),$e=F(5225);function At(...S){const N=(0,ie.lI)(S),A=(0,ie.ms)(S),{args:k,keys:H}=(0,Ne.D)(S);if(0===k.length)return(0,pe.H)([],N);const le=new p.c(function dt(S,N,A=ke.D){return k=>{jt(N,()=>{const{length:H}=S,le=new Array(H);let Oe=H,wt=H;for(let yt=0;yt<H;yt++)jt(N,()=>{const Mn=(0,pe.H)(S[yt],N);let Ar=!1;Mn.subscribe((0,st._)(k,Or=>{le[yt]=Or,Ar||(Ar=!0,wt--),wt||k.next(A(le.slice()))},()=>{--Oe||k.complete()}))},k)},k)}}(k,N,H?Oe=>(0,ve.e)(H,Oe):ke.D));return A?le.pipe((0,W.I)(A)):le}function jt(S,N,A){S?(0,$e.N)(A,S,N):N()}var Ot=F(9350),pn=F(8793),He=F(8750);function fe(S){return new p.c(N=>{(0,He.Tg)(S()).subscribe(N)})}var Je=F(1203),Ue=F(8810),it=F(983),Et=F(8359),Ut=F(9974);function Se(){return(0,Ut.N)((S,N)=>{let A=null;S._refCount++;const k=(0,st._)(N,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(A=null);const H=S._connection,le=A;A=null,H&&(!le||H===le)&&H.unsubscribe(),N.unsubscribe()});S.subscribe(k),k.closed||(A=S.connect())})}class on extends p.c{constructor(N,A){super(),this.source=N,this.subjectFactory=A,this._subject=null,this._refCount=0,this._connection=null,(0,Ut.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Et.yU;const A=this.getSubject();N.add(this.source.subscribe((0,st._)(A,void 0,()=>{this._teardown(),A.complete()},k=>{this._teardown(),A.error(k)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Et.yU.EMPTY)}return N}refCount(){return Se()(this)}}var bn=F(1413),jn=F(177),Ft=F(6354),Yt=F(5558),Xt=F(6697),gt=F(9172),je=F(5964),ot=F(1397),un=F(1594),Ke=F(274),Ae=F(8141),be=F(9437),Be=F(2816),at=F(9901);function et(S){return S<=0?()=>it.w:(0,Ut.N)((N,A)=>{let k=[];N.subscribe((0,st._)(A,H=>{k.push(H),S<k.length&&k.shift()},()=>{for(const H of k)A.next(H);A.complete()},void 0,()=>{k=null}))})}var Bt=F(3774),hn=F(980),Bn=F(5343),ir=F(6365),$n=F(345);const Qt="primary",Ht=Symbol("RouteTitle");class Jn{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const A=this.params[N];return Array.isArray(A)?A[0]:A}return null}getAll(N){if(this.has(N)){const A=this.params[N];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function gn(S){return new Jn(S)}function Vr(S,N,A){const k=A.path.split("/");if(k.length>S.length||"full"===A.pathMatch&&(N.hasChildren()||k.length<S.length))return null;const H={};for(let le=0;le<k.length;le++){const Oe=k[le],wt=S[le];if(Oe.startsWith(":"))H[Oe.substring(1)]=wt;else if(Oe!==wt.path)return null}return{consumed:S.slice(0,k.length),posParams:H}}function zt(S,N){const A=S?Object.keys(S):void 0,k=N?Object.keys(N):void 0;if(!A||!k||A.length!=k.length)return!1;let H;for(let le=0;le<A.length;le++)if(H=A[le],!xn(S[H],N[H]))return!1;return!0}function xn(S,N){if(Array.isArray(S)&&Array.isArray(N)){if(S.length!==N.length)return!1;const A=[...S].sort(),k=[...N].sort();return A.every((H,le)=>k[le]===H)}return S===N}function Zn(S){return S.length>0?S[S.length-1]:null}function Nn(S){return function Ce(S){return!!S&&(S instanceof p.c||(0,n.T)(S.lift)&&(0,n.T)(S.subscribe))}(S)?S:(0,d.jNT)(S)?(0,pe.H)(Promise.resolve(S)):(0,ye.of)(S)}const Xr={exact:function Jr(S,N,A){if(!ft(S.segments,N.segments)||!Kn(S.segments,N.segments,A)||S.numberOfChildren!==N.numberOfChildren)return!1;for(const k in N.children)if(!S.children[k]||!Jr(S.children[k],N.children[k],A))return!1;return!0},subset:Cn},kr={exact:function nr(S,N){return zt(S,N)},subset:function gs(S,N){return Object.keys(N).length<=Object.keys(S).length&&Object.keys(N).every(A=>xn(S[A],N[A]))},ignored:()=>!0};function Qr(S,N,A){return Xr[A.paths](S.root,N.root,A.matrixParams)&&kr[A.queryParams](S.queryParams,N.queryParams)&&!("exact"===A.fragment&&S.fragment!==N.fragment)}function Cn(S,N,A){return br(S,N,N.segments,A)}function br(S,N,A,k){if(S.segments.length>A.length){const H=S.segments.slice(0,A.length);return!(!ft(H,A)||N.hasChildren()||!Kn(H,A,k))}if(S.segments.length===A.length){if(!ft(S.segments,A)||!Kn(S.segments,A,k))return!1;for(const H in N.children)if(!S.children[H]||!Cn(S.children[H],N.children[H],k))return!1;return!0}{const H=A.slice(0,S.segments.length),le=A.slice(S.segments.length);return!!(ft(S.segments,H)&&Kn(S.segments,H,k)&&S.children[Qt])&&br(S.children[Qt],N,le,k)}}function Kn(S,N,A){return N.every((k,H)=>kr[A](S[H].parameters,k.parameters))}class sr{constructor(N=new Fn([],{}),A={},k=null){this.root=N,this.queryParams=A,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class Fn{constructor(N,A){this.segments=N,this.children=A,this.parent=null,Object.values(A).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yn(this)}}class bi{constructor(N,A){this.path=N,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return se(this)}}function ft(S,N){return S.length===N.length&&S.every((A,k)=>A.path===N[k].path)}let Re=(()=>{class S{static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:function(){return new Dt},providedIn:"root"})}}return S})();class Dt{parse(N){const A=new Vt(N);return new sr(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(N){const A=`/${Hr(N.root,!0)}`,k=function lt(S){const N=Object.keys(S).map(A=>{const k=S[A];return Array.isArray(k)?k.map(H=>`${_i(A)}=${_i(H)}`).join("&"):`${_i(A)}=${_i(k)}`}).filter(A=>!!A);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${A}${k}${"string"==typeof N.fragment?`#${function Tt(S){return encodeURI(S)}(N.fragment)}`:""}`}}const Kt=new Dt;function Yn(S){return S.segments.map(N=>se(N)).join("/")}function Hr(S,N){if(!S.hasChildren())return Yn(S);if(N){const A=S.children[Qt]?Hr(S.children[Qt],!1):"",k=[];return Object.entries(S.children).forEach(([H,le])=>{H!==Qt&&k.push(`${H}:${Hr(le,!1)}`)}),k.length>0?`${A}(${k.join("//")})`:A}{const A=function ae(S,N){let A=[];return Object.entries(S.children).forEach(([k,H])=>{k===Qt&&(A=A.concat(N(H,k)))}),Object.entries(S.children).forEach(([k,H])=>{k!==Qt&&(A=A.concat(N(H,k)))}),A}(S,(k,H)=>H===Qt?[Hr(S.children[Qt],!1)]:[`${H}:${Hr(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Qt]?`${Yn(S)}/${A[0]}`:`${Yn(S)}/(${A.join("//")})`}}function Sr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _i(S){return Sr(S).replace(/%3B/gi,";")}function G(S){return Sr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function R(S){return decodeURIComponent(S)}function L(S){return R(S.replace(/\+/g,"%20"))}function se(S){return`${G(S.path)}${function ge(S){return Object.keys(S).map(N=>`;${G(N)}=${G(S[N])}`).join("")}(S.parameters)}`}const Mt=/^[^\/()?;#]+/;function mn(S){const N=S.match(Mt);return N?N[0]:""}const Wt=/^[^\/()?;=#]+/,gr=/^[^=?&#]+/,Pe=/^[^&#]+/;class Vt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(N.length>0||Object.keys(A).length>0)&&(k[Qt]=new Fn(N,A)),k}parseSegment(){const N=mn(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(N),new bi(R(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const A=function In(S){const N=S.match(Wt);return N?N[0]:""}(this.remaining);if(!A)return;this.capture(A);let k="";if(this.consumeOptional("=")){const H=mn(this.remaining);H&&(k=H,this.capture(k))}N[R(A)]=R(k)}parseQueryParam(N){const A=function xe(S){const N=S.match(gr);return N?N[0]:""}(this.remaining);if(!A)return;this.capture(A);let k="";if(this.consumeOptional("=")){const Oe=function ze(S){const N=S.match(Pe);return N?N[0]:""}(this.remaining);Oe&&(k=Oe,this.capture(k))}const H=L(A),le=L(k);if(N.hasOwnProperty(H)){let Oe=N[H];Array.isArray(Oe)||(Oe=[Oe],N[H]=Oe),Oe.push(le)}else N[H]=le}parseParens(N){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=mn(this.remaining),H=this.remaining[k.length];if("/"!==H&&")"!==H&&";"!==H)throw new d.wOt(4010,!1);let le;k.indexOf(":")>-1?(le=k.slice(0,k.indexOf(":")),this.capture(le),this.capture(":")):N&&(le=Qt);const Oe=this.parseChildren();A[le]=1===Object.keys(Oe).length?Oe[Qt]:new Fn([],Oe),this.consumeOptional("//")}return A}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new d.wOt(4011,!1)}}function Zt(S){return S.segments.length>0?new Fn([],{[Qt]:S}):S}function _n(S){const N={};for(const k of Object.keys(S.children)){const le=_n(S.children[k]);if(k===Qt&&0===le.segments.length&&le.hasChildren())for(const[Oe,wt]of Object.entries(le.children))N[Oe]=wt;else(le.segments.length>0||le.hasChildren())&&(N[k]=le)}return function dn(S){if(1===S.numberOfChildren&&S.children[Qt]){const N=S.children[Qt];return new Fn(S.segments.concat(N.segments),N.children)}return S}(new Fn(S.segments,N))}function ur(S){return S instanceof sr}function ci(S){let N;const H=Zt(function A(le){const Oe={};for(const yt of le.children){const Mn=A(yt);Oe[yt.outlet]=Mn}const wt=new Fn(le.url,Oe);return le===S&&(N=wt),wt}(S.root));return N??H}function vt(S,N,A,k){let H=S;for(;H.parent;)H=H.parent;if(0===N.length)return fn(H,H,H,A,k);const le=function On(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new vn(!0,0,S);let N=0,A=!1;const k=S.reduce((H,le,Oe)=>{if("object"==typeof le&&null!=le){if(le.outlets){const wt={};return Object.entries(le.outlets).forEach(([yt,Mn])=>{wt[yt]="string"==typeof Mn?Mn.split("/"):Mn}),[...H,{outlets:wt}]}if(le.segmentPath)return[...H,le.segmentPath]}return"string"!=typeof le?[...H,le]:0===Oe?(le.split("/").forEach((wt,yt)=>{0==yt&&"."===wt||(0==yt&&""===wt?A=!0:".."===wt?N++:""!=wt&&H.push(wt))}),H):[...H,le]},[]);return new vn(A,N,k)}(N);if(le.toRoot())return fn(H,H,new Fn([],{}),A,k);const Oe=function Ur(S,N,A){if(S.isAbsolute)return new Cr(N,!0,0);if(!A)return new Cr(N,!1,NaN);if(null===A.parent)return new Cr(A,!0,0);const k=Ze(S.commands[0])?0:1;return function or(S,N,A){let k=S,H=N,le=A;for(;le>H;){if(le-=H,k=k.parent,!k)throw new d.wOt(4005,!1);H=k.segments.length}return new Cr(k,!1,H-le)}(A,A.segments.length-1+k,S.numberOfDoubleDots)}(le,H,S),wt=Oe.processChildren?Ii(Oe.segmentGroup,Oe.index,le.commands):Hi(Oe.segmentGroup,Oe.index,le.commands);return fn(H,Oe.segmentGroup,wt,A,k)}function Ze(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Rt(S){return"object"==typeof S&&null!=S&&S.outlets}function fn(S,N,A,k,H){let Oe,le={};k&&Object.entries(k).forEach(([yt,Mn])=>{le[yt]=Array.isArray(Mn)?Mn.map(Ar=>`${Ar}`):`${Mn}`}),Oe=S===N?A:Vn(S,N,A);const wt=Zt(_n(Oe));return new sr(wt,le,H)}function Vn(S,N,A){const k={};return Object.entries(S.children).forEach(([H,le])=>{k[H]=le===N?A:Vn(le,N,A)}),new Fn(S.segments,k)}class vn{constructor(N,A,k){if(this.isAbsolute=N,this.numberOfDoubleDots=A,this.commands=k,N&&k.length>0&&Ze(k[0]))throw new d.wOt(4003,!1);const H=k.find(Rt);if(H&&H!==Zn(k))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cr{constructor(N,A,k){this.segmentGroup=N,this.processChildren=A,this.index=k}}function Hi(S,N,A){if(S||(S=new Fn([],{})),0===S.segments.length&&S.hasChildren())return Ii(S,N,A);const k=function no(S,N,A){let k=0,H=N;const le={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(k>=A.length)return le;const Oe=S.segments[H],wt=A[k];if(Rt(wt))break;const yt=`${wt}`,Mn=k<A.length-1?A[k+1]:null;if(H>0&&void 0===yt)break;if(yt&&Mn&&"object"==typeof Mn&&void 0===Mn.outlets){if(!ri(yt,Mn,Oe))return le;k+=2}else{if(!ri(yt,{},Oe))return le;k++}H++}return{match:!0,pathIndex:H,commandIndex:k}}(S,N,A),H=A.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const le=new Fn(S.segments.slice(0,k.pathIndex),{});return le.children[Qt]=new Fn(S.segments.slice(k.pathIndex),S.children),Ii(le,0,H)}return k.match&&0===H.length?new Fn(S.segments,{}):k.match&&!S.hasChildren()?Xs(S,N,A):k.match?Ii(S,0,H):Xs(S,N,A)}function Ii(S,N,A){if(0===A.length)return new Fn(S.segments,{});{const k=function Ci(S){return Rt(S[0])?S[0].outlets:{[Qt]:S}}(A),H={};if(Object.keys(k).some(le=>le!==Qt)&&S.children[Qt]&&1===S.numberOfChildren&&0===S.children[Qt].segments.length){const le=Ii(S.children[Qt],N,A);return new Fn(S.segments,le.children)}return Object.entries(k).forEach(([le,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(H[le]=Hi(S.children[le],N,Oe))}),Object.entries(S.children).forEach(([le,Oe])=>{void 0===k[le]&&(H[le]=Oe)}),new Fn(S.segments,H)}}function Xs(S,N,A){const k=S.segments.slice(0,N);let H=0;for(;H<A.length;){const le=A[H];if(Rt(le)){const yt=Ui(le.outlets);return new Fn(k,yt)}if(0===H&&Ze(A[0])){k.push(new bi(S.segments[N].path,po(A[0]))),H++;continue}const Oe=Rt(le)?le.outlets[Qt]:`${le}`,wt=H<A.length-1?A[H+1]:null;Oe&&wt&&Ze(wt)?(k.push(new bi(Oe,po(wt))),H+=2):(k.push(new bi(Oe,{})),H++)}return new Fn(k,{})}function Ui(S){const N={};return Object.entries(S).forEach(([A,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(N[A]=Xs(new Fn([],{}),0,k))}),N}function po(S){const N={};return Object.entries(S).forEach(([A,k])=>N[A]=`${k}`),N}function ri(S,N,A){return S==A.path&&zt(N,A.parameters)}const qi="imperative";class is{constructor(N,A){this.id=N,this.url=A}}class _e extends is{constructor(N,A,k="imperative",H=null){super(N,A),this.type=0,this.navigationTrigger=k,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kt extends is{constructor(N,A,k){super(N,A),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class K extends is{constructor(N,A,k,H){super(N,A),this.reason=k,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends is{constructor(N,A,k,H){super(N,A),this.reason=k,this.code=H,this.type=16}}class Lt extends is{constructor(N,A,k,H){super(N,A),this.error=k,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $r extends is{constructor(N,A,k,H){super(N,A),this.urlAfterRedirects=k,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends is{constructor(N,A,k,H){super(N,A),this.urlAfterRedirects=k,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $i extends is{constructor(N,A,k,H,le){super(N,A),this.urlAfterRedirects=k,this.state=H,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wo extends is{constructor(N,A,k,H){super(N,A),this.urlAfterRedirects=k,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends is{constructor(N,A,k,H){super(N,A),this.urlAfterRedirects=k,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ia{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ds{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ui{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ro{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gs{constructor(N,A,k){this.routerEvent=N,this.position=A,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jr{}class di{constructor(N){this.url=N}}class ss{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hi,this.attachRef=null}}let hi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(A,k){const H=this.getOrCreateContext(A);H.outlet=k,this.contexts.set(A,H)}onChildOutletDestroyed(A){const k=this.getContext(A);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let k=this.getContext(A);return k||(k=new ss,this.contexts.set(A,k)),k}getContext(A){return this.contexts.get(A)||null}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();class ms{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const A=this.pathFromRoot(N);return A.length>1?A[A.length-2]:null}children(N){const A=io(N,this._root);return A?A.children.map(k=>k.value):[]}firstChild(N){const A=io(N,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(N){const A=os(N,this._root);return A.length<2?[]:A[A.length-2].children.map(H=>H.value).filter(H=>H!==N)}pathFromRoot(N){return os(N,this._root).map(A=>A.value)}}function io(S,N){if(S===N.value)return N;for(const A of N.children){const k=io(S,A);if(k)return k}return null}function os(S,N){if(S===N.value)return[N];for(const A of N.children){const k=os(S,A);if(k.length)return k.unshift(N),k}return[]}class xs{constructor(N,A){this.value=N,this.children=A}toString(){return`TreeNode(${this.value})`}}function Fs(S){const N={};return S&&S.children.forEach(A=>N[A.value.outlet]=A),N}class Wr extends ms{constructor(N,A){super(N),this.snapshot=A,ii(this,N)}toString(){return this.snapshot.toString()}}function An(S,N){const A=function _r(S,N){const Oe=new Bi([],{},{},"",{},Qt,N,null,{});return new Qs("",new xs(Oe,[]))}(0,N),k=new Te.t([new bi("",{})]),H=new Te.t({}),le=new Te.t({}),Oe=new Te.t({}),wt=new Te.t(""),yt=new Dr(k,H,Oe,wt,le,Qt,N,A.root);return yt.snapshot=A.root,new Wr(new xs(yt,[]),A)}class Dr{constructor(N,A,k,H,le,Oe,wt,yt){this.urlSubject=N,this.paramsSubject=A,this.queryParamsSubject=k,this.fragmentSubject=H,this.dataSubject=le,this.outlet=Oe,this.component=wt,this._futureSnapshot=yt,this.title=this.dataSubject?.pipe((0,Ft.T)(Mn=>Mn[Ht]))??(0,ye.of)(void 0),this.url=N,this.params=A,this.queryParams=k,this.fragment=H,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.T)(N=>gn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.T)(N=>gn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function es(S,N="emptyOnly"){const A=S.pathFromRoot;let k=0;if("always"!==N)for(k=A.length-1;k>=1;){const H=A[k],le=A[k-1];if(H.routeConfig&&""===H.routeConfig.path)k--;else{if(le.component)break;k--}}return function as(S){return S.reduce((N,A)=>({params:{...N.params,...A.params},data:{...N.data,...A.data},resolve:{...A.data,...N.resolve,...A.routeConfig?.data,...A._resolvedData}}),{params:{},data:{},resolve:{}})}(A.slice(k))}class Bi{get title(){return this.data?.[Ht]}constructor(N,A,k,H,le,Oe,wt,yt,Mn){this.url=N,this.params=A,this.queryParams=k,this.fragment=H,this.data=le,this.outlet=Oe,this.component=wt,this.routeConfig=yt,this._resolve=Mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qs extends ms{constructor(N,A){super(A),this.url=N,ii(this,A)}toString(){return _s(this._root)}}function ii(S,N){N.value._routerState=S,N.children.forEach(A=>ii(S,A))}function _s(S){const N=S.children.length>0?` { ${S.children.map(_s).join(", ")} } `:"";return`${S.value}${N}`}function Ls(S){if(S.snapshot){const N=S.snapshot,A=S._futureSnapshot;S.snapshot=A,zt(N.queryParams,A.queryParams)||S.queryParamsSubject.next(A.queryParams),N.fragment!==A.fragment&&S.fragmentSubject.next(A.fragment),zt(N.params,A.params)||S.paramsSubject.next(A.params),function lr(S,N){if(S.length!==N.length)return!1;for(let A=0;A<S.length;++A)if(!zt(S[A],N[A]))return!1;return!0}(N.url,A.url)||S.urlSubject.next(A.url),zt(N.data,A.data)||S.dataSubject.next(A.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function dr(S,N){const A=zt(S.params,N.params)&&function nt(S,N){return ft(S,N)&&S.every((A,k)=>zt(A.parameters,N[k].parameters))}(S.url,N.url);return A&&!(!S.parent!=!N.parent)&&(!S.parent||dr(S.parent,N.parent))}let Ts=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(hi),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.environmentInjector=(0,d.WQX)(d.uvJ),this.inputBinder=(0,d.WQX)(te,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(A){if(A.name){const{firstChange:k,previousValue:H}=A.name;if(k)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){return this.parentContexts.getContext(A)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);A?.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,k){this.activated=A,this._activatedRoute=k,this.location.insert(A.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,k){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=A;const H=this.location,Oe=A.snapshot.component,wt=this.parentContexts.getOrCreateContext(this.name).children,yt=new Ps(A,wt,H.injector);this.activated=H.createComponent(Oe,{index:H.length,injector:yt,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275dir=d.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}}return S})();class Ps{constructor(N,A,k){this.route=N,this.childContexts=A,this.parent=k}get(N,A){return N===Dr?this.route:N===hi?this.childContexts:this.parent.get(N,A)}}const te=new d.nKC("");let ee=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){this.outletDataSubscriptions.get(A)?.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:k}=A,H=At([k.queryParams,k.params,k.data]).pipe((0,Yt.n)(([le,Oe,wt],yt)=>(wt={...le,...Oe,...wt},0===yt?(0,ye.of)(wt):Promise.resolve(wt)))).subscribe(le=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(A);const Oe=(0,d.HJs)(k.component);if(Oe)for(const{templateName:wt}of Oe.inputs)A.activatedComponentRef.setInput(wt,le[wt]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,H)}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac})}}return S})();function Fe(S,N,A){if(A&&S.shouldReuseRoute(N.value,A.value.snapshot)){const k=A.value;k._futureSnapshot=N.value;const H=function rt(S,N,A){return N.children.map(k=>{for(const H of A.children)if(S.shouldReuseRoute(k.value,H.value.snapshot))return Fe(S,k,H);return Fe(S,k)})}(S,N,A);return new xs(k,H)}{if(S.shouldAttach(N.value)){const le=S.retrieve(N.value);if(null!==le){const Oe=le.route;return Oe.value._futureSnapshot=N.value,Oe.children=N.children.map(wt=>Fe(S,wt)),Oe}}const k=function bt(S){return new Dr(new Te.t(S.url),new Te.t(S.params),new Te.t(S.queryParams),new Te.t(S.fragment),new Te.t(S.data),S.outlet,S.component,S)}(N.value),H=N.children.map(le=>Fe(S,le));return new xs(k,H)}}const cn="ngNavigationCancelingError";function Un(S,N){const{redirectTo:A,navigationBehaviorOptions:k}=ur(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,H=Sn(!1,0,N);return H.url=A,H.navigationBehaviorOptions=k,H}function Sn(S,N,A){const k=new Error("NavigationCancelingError: "+(S||""));return k[cn]=!0,k.cancellationCode=N,A&&(k.url=A),k}function Br(S){return S&&S[cn]}let Xn=(()=>{class S{static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275cmp=d.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(k,H){1&k&&d.nrm(0,"router-outlet")},dependencies:[Ts],encapsulation:2})}}return S})();function ji(S){const N=S.children&&S.children.map(ji),A=N?{...S,children:N}:{...S};return!A.component&&!A.loadComponent&&(N||A.loadChildren)&&A.outlet&&A.outlet!==Qt&&(A.component=Xn),A}function ti(S){return S.outlet||Qt}function cs(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let N=S.parent;N;N=N.parent){const A=N.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class sa{constructor(N,A,k,H,le){this.routeReuseStrategy=N,this.futureState=A,this.currState=k,this.forwardEvent=H,this.inputBindingEnabled=le}activate(N){const A=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,k,N),Ls(this.futureState.root),this.activateChildRoutes(A,k,N)}deactivateChildRoutes(N,A,k){const H=Fs(A);N.children.forEach(le=>{const Oe=le.value.outlet;this.deactivateRoutes(le,H[Oe],k),delete H[Oe]}),Object.values(H).forEach(le=>{this.deactivateRouteAndItsChildren(le,k)})}deactivateRoutes(N,A,k){const H=N.value,le=A?A.value:null;if(H===le)if(H.component){const Oe=k.getContext(H.outlet);Oe&&this.deactivateChildRoutes(N,A,Oe.children)}else this.deactivateChildRoutes(N,A,k);else le&&this.deactivateRouteAndItsChildren(A,k)}deactivateRouteAndItsChildren(N,A){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,A):this.deactivateRouteAndOutlet(N,A)}detachAndStoreRouteSubtree(N,A){const k=A.getContext(N.value.outlet),H=k&&N.value.component?k.children:A,le=Fs(N);for(const Oe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Oe],H);if(k&&k.outlet){const Oe=k.outlet.detach(),wt=k.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Oe,route:N,contexts:wt})}}deactivateRouteAndOutlet(N,A){const k=A.getContext(N.value.outlet),H=k&&N.value.component?k.children:A,le=Fs(N);for(const Oe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Oe],H);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(N,A,k){const H=Fs(A);N.children.forEach(le=>{this.activateRoutes(le,H[le.value.outlet],k),this.forwardEvent(new ro(le.value.snapshot))}),N.children.length&&this.forwardEvent(new ks(N.value.snapshot))}activateRoutes(N,A,k){const H=N.value,le=A?A.value:null;if(Ls(H),H===le)if(H.component){const Oe=k.getOrCreateContext(H.outlet);this.activateChildRoutes(N,A,Oe.children)}else this.activateChildRoutes(N,A,k);else if(H.component){const Oe=k.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const wt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Oe.children.onOutletReAttached(wt.contexts),Oe.attachRef=wt.componentRef,Oe.route=wt.route.value,Oe.outlet&&Oe.outlet.attach(wt.componentRef,wt.route.value),Ls(wt.route.value),this.activateChildRoutes(N,null,Oe.children)}else{const wt=cs(H.snapshot);Oe.attachRef=null,Oe.route=H,Oe.injector=wt,Oe.outlet&&Oe.outlet.activateWith(H,Oe.injector),this.activateChildRoutes(N,null,Oe.children)}}else this.activateChildRoutes(N,null,k)}}class Ra{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class Hs{constructor(N,A){this.component=N,this.route=A}}function Wo(S,N,A){const k=S._root;return Do(k,N?N._root:null,A,[k.value])}function zi(S,N){const A=Symbol(),k=N.get(S,A);return k===A?"function"!=typeof S||(0,d.LfX)(S)?N.get(S):S:k}function Do(S,N,A,k,H={canDeactivateChecks:[],canActivateChecks:[]}){const le=Fs(N);return S.children.forEach(Oe=>{(function oa(S,N,A,k,H={canDeactivateChecks:[],canActivateChecks:[]}){const le=S.value,Oe=N?N.value:null,wt=A?A.getContext(S.value.outlet):null;if(Oe&&le.routeConfig===Oe.routeConfig){const yt=function ko(S,N,A){if("function"==typeof A)return A(S,N);switch(A){case"pathParamsChange":return!ft(S.url,N.url);case"pathParamsOrQueryParamsChange":return!ft(S.url,N.url)||!zt(S.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dr(S,N)||!zt(S.queryParams,N.queryParams);default:return!dr(S,N)}}(Oe,le,le.routeConfig.runGuardsAndResolvers);yt?H.canActivateChecks.push(new Ra(k)):(le.data=Oe.data,le._resolvedData=Oe._resolvedData),Do(S,N,le.component?wt?wt.children:null:A,k,H),yt&&wt&&wt.outlet&&wt.outlet.isActivated&&H.canDeactivateChecks.push(new Hs(wt.outlet.component,Oe))}else Oe&&xi(N,wt,H),H.canActivateChecks.push(new Ra(k)),Do(S,null,le.component?wt?wt.children:null:A,k,H)})(Oe,le[Oe.value.outlet],A,k.concat([Oe.value]),H),delete le[Oe.value.outlet]}),Object.entries(le).forEach(([Oe,wt])=>xi(wt,A.getContext(Oe),H)),H}function xi(S,N,A){const k=Fs(S),H=S.value;Object.entries(k).forEach(([le,Oe])=>{xi(Oe,H.component?N?N.children.getContext(le):null:N,A)}),A.canDeactivateChecks.push(new Hs(H.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,H))}function Ko(S){return"function"==typeof S}function Is(S){return S instanceof Ot.G||"EmptyError"===S?.name}const Vs=Symbol("INITIAL_VALUE");function us(){return(0,Yt.n)(S=>At(S.map(N=>N.pipe((0,Xt.s)(1),(0,gt.Z)(Vs)))).pipe((0,Ft.T)(N=>{for(const A of N)if(!0!==A){if(A===Vs)return Vs;if(!1===A||A instanceof sr)return A}return!0}),(0,je.p)(N=>N!==Vs),(0,Xt.s)(1)))}function ns(S){return(0,Je.F)((0,Ae.M)(N=>{if(ur(N))throw Un(0,N)}),(0,Ft.T)(N=>!0===N))}class ao{constructor(N){this.segmentGroup=N||null}}class tn{constructor(N){this.urlTree=N}}function ys(S){return(0,Ue.$)(new ao(S))}function Ta(S){return(0,Ue.$)(new tn(S))}class qa{constructor(N,A){this.urlSerializer=N,this.urlTree=A}noMatchError(N){return new d.wOt(4002,!1)}lineralizeSegments(N,A){let k=[],H=A.root;for(;;){if(k=k.concat(H.segments),0===H.numberOfChildren)return(0,ye.of)(k);if(H.numberOfChildren>1||!H.children[Qt])return(0,Ue.$)(new d.wOt(4e3,!1));H=H.children[Qt]}}applyRedirectCommands(N,A,k){return this.applyRedirectCreateUrlTree(A,this.urlSerializer.parse(A),N,k)}applyRedirectCreateUrlTree(N,A,k,H){const le=this.createSegmentGroup(N,A.root,k,H);return new sr(le,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(N,A){const k={};return Object.entries(N).forEach(([H,le])=>{if("string"==typeof le&&le.startsWith(":")){const wt=le.substring(1);k[H]=A[wt]}else k[H]=le}),k}createSegmentGroup(N,A,k,H){const le=this.createSegments(N,A.segments,k,H);let Oe={};return Object.entries(A.children).forEach(([wt,yt])=>{Oe[wt]=this.createSegmentGroup(N,yt,k,H)}),new Fn(le,Oe)}createSegments(N,A,k,H){return A.map(le=>le.path.startsWith(":")?this.findPosParam(N,le,H):this.findOrReturn(le,k))}findPosParam(N,A,k){const H=k[A.path.substring(1)];if(!H)throw new d.wOt(4001,!1);return H}findOrReturn(N,A){let k=0;for(const H of A){if(H.path===N.path)return A.splice(k),H;k++}return N}}const xr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function co(S,N,A,k,H){const le=lo(S,N,A);return le.matched?(k=function Qn(S,N){return S.providers&&!S._injector&&(S._injector=(0,d.Ol2)(S.providers,N,`Route: ${S.path}`)),S._injector??N}(N,k),function Ka(S,N,A,k){const H=N.canMatch;if(!H||0===H.length)return(0,ye.of)(!0);const le=H.map(Oe=>{const wt=zi(Oe,S);return Nn(function Ge(S){return S&&Ko(S.canMatch)}(wt)?wt.canMatch(N,A):S.runInContext(()=>wt(N,A)))});return(0,ye.of)(le).pipe(us(),ns())}(k,N,A).pipe((0,Ft.T)(Oe=>!0===Oe?le:{...xr}))):(0,ye.of)(le)}function lo(S,N,A){if(""===N.path)return"full"===N.pathMatch&&(S.hasChildren()||A.length>0)?{...xr}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const H=(N.matcher||Vr)(A,S,N);if(!H)return{...xr};const le={};Object.entries(H.posParams??{}).forEach(([wt,yt])=>{le[wt]=yt.path});const Oe=H.consumed.length>0?{...le,...H.consumed[H.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:H.consumed,remainingSegments:A.slice(H.consumed.length),parameters:Oe,positionalParamSegments:H.posParams??{}}}function rr(S,N,A,k){return A.length>0&&function el(S,N,A){return A.some(k=>Ya(S,N,k)&&ti(k)!==Qt)}(S,A,k)?{segmentGroup:new Fn(N,Au(k,new Fn(A,S.children))),slicedSegments:[]}:0===A.length&&function hd(S,N,A){return A.some(k=>Ya(S,N,k))}(S,A,k)?{segmentGroup:new Fn(S.segments,la(S,0,A,k,S.children)),slicedSegments:A}:{segmentGroup:new Fn(S.segments,S.children),slicedSegments:A}}function la(S,N,A,k,H){const le={};for(const Oe of k)if(Ya(S,A,Oe)&&!H[ti(Oe)]){const wt=new Fn([],{});le[ti(Oe)]=wt}return{...H,...le}}function Au(S,N){const A={};A[Qt]=N;for(const k of S)if(""===k.path&&ti(k)!==Qt){const H=new Fn([],{});A[ti(k)]=H}return A}function Ya(S,N,A){return(!(S.hasChildren()||N.length>0)||"full"!==A.pathMatch)&&""===A.path}class Oa{constructor(N,A,k,H,le,Oe,wt){this.injector=N,this.configLoader=A,this.rootComponentType=k,this.config=H,this.urlTree=le,this.paramsInheritanceStrategy=Oe,this.urlSerializer=wt,this.allowRedirects=!0,this.applyRedirects=new qa(this.urlSerializer,this.urlTree)}noMatchError(N){return new d.wOt(4002,!1)}recognize(){const N=rr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Qt).pipe((0,be.W)(A=>{if(A instanceof tn)return this.allowRedirects=!1,this.urlTree=A.urlTree,this.match(A.urlTree);throw A instanceof ao?this.noMatchError(A):A}),(0,Ft.T)(A=>{const k=new Bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,{}),H=new xs(k,A),le=new Qs("",H),Oe=function yn(S,N,A=null,k=null){return vt(ci(S),N,A,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return Oe.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(Oe),this.inheritParamsAndData(le._root),{state:le,tree:Oe}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Qt).pipe((0,be.W)(k=>{throw k instanceof ao?this.noMatchError(k):k}))}inheritParamsAndData(N){const A=N.value,k=es(A,this.paramsInheritanceStrategy);A.params=Object.freeze(k.params),A.data=Object.freeze(k.data),N.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(N,A,k,H){return 0===k.segments.length&&k.hasChildren()?this.processChildren(N,A,k):this.processSegment(N,A,k,k.segments,H,!0)}processChildren(N,A,k){const H=[];for(const le of Object.keys(k.children))"primary"===le?H.unshift(le):H.push(le);return(0,pe.H)(H).pipe((0,Ke.H)(le=>{const Oe=k.children[le],wt=function Ao(S,N){const A=S.filter(k=>ti(k)===N);return A.push(...S.filter(k=>ti(k)!==N)),A}(A,le);return this.processSegmentGroup(N,wt,Oe,le)}),(0,Be.S)((le,Oe)=>(le.push(...Oe),le)),(0,at.U)(null),function Rn(S,N){const A=arguments.length>=2;return k=>k.pipe(S?(0,je.p)((H,le)=>S(H,le,k)):ke.D,et(1),A?(0,at.U)(N):(0,Bt.v)(()=>new Ot.G))}(),(0,ot.Z)(le=>{if(null===le)return ys(k);const Oe=Xa(le);return function Na(S){S.sort((N,A)=>N.value.outlet===Qt?-1:A.value.outlet===Qt?1:N.value.outlet.localeCompare(A.value.outlet))}(Oe),(0,ye.of)(Oe)}))}processSegment(N,A,k,H,le,Oe){return(0,pe.H)(A).pipe((0,Ke.H)(wt=>this.processSegmentAgainstRoute(wt._injector??N,A,wt,k,H,le,Oe).pipe((0,be.W)(yt=>{if(yt instanceof ao)return(0,ye.of)(null);throw yt}))),(0,un.$)(wt=>!!wt),(0,be.W)(wt=>{if(Is(wt))return function Ac(S,N,A){return 0===N.length&&!S.children[A]}(k,H,le)?(0,ye.of)([]):ys(k);throw wt}))}processSegmentAgainstRoute(N,A,k,H,le,Oe,wt){return function Du(S,N,A,k){return!!(ti(S)===k||k!==Qt&&Ya(N,A,S))&&("**"===S.path||lo(N,S,A).matched)}(k,H,le,Oe)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(N,H,k,le,Oe,wt):wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,H,A,k,le,Oe):ys(H):ys(H)}expandSegmentAgainstRouteUsingRedirect(N,A,k,H,le,Oe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,k,H,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(N,A,k,H,le,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,A,k,H){const le=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Ta(le):this.applyRedirects.lineralizeSegments(k,le).pipe((0,ot.Z)(Oe=>{const wt=new Fn(Oe,{});return this.processSegment(N,A,wt,Oe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,A,k,H,le,Oe){const{matched:wt,consumedSegments:yt,remainingSegments:Mn,positionalParamSegments:Ar}=lo(A,H,le);if(!wt)return ys(A);const Or=this.applyRedirects.applyRedirectCommands(yt,H.redirectTo,Ar);return H.redirectTo.startsWith("/")?Ta(Or):this.applyRedirects.lineralizeSegments(H,Or).pipe((0,ot.Z)(Kr=>this.processSegment(N,k,A,Kr.concat(Mn),Oe,!1)))}matchSegmentAgainstRoute(N,A,k,H,le,Oe){let wt;if("**"===k.path){const yt=H.length>0?Zn(H).parameters:{},Mn=new Bi(H,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kl(k),ti(k),k.component??k._loadedComponent??null,k,M(k));wt=(0,ye.of)({snapshot:Mn,consumedSegments:[],remainingSegments:[]}),A.children={}}else wt=co(A,k,H,N).pipe((0,Ft.T)(({matched:yt,consumedSegments:Mn,remainingSegments:Ar,parameters:Or})=>yt?{snapshot:new Bi(Mn,Or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kl(k),ti(k),k.component??k._loadedComponent??null,k,M(k)),consumedSegments:Mn,remainingSegments:Ar}:null));return wt.pipe((0,Yt.n)(yt=>null===yt?ys(A):this.getChildConfig(N=k._injector??N,k,H).pipe((0,Yt.n)(({routes:Mn})=>{const Ar=k._loadedInjector??N,{snapshot:Or,consumedSegments:Kr,remainingSegments:Zr}=yt,{segmentGroup:ic,slicedSegments:Rc}=rr(A,Kr,Zr,Mn);if(0===Rc.length&&ic.hasChildren())return this.processChildren(Ar,Mn,ic).pipe((0,Ft.T)(Oc=>null===Oc?null:[new xs(Or,Oc)]));if(0===Mn.length&&0===Rc.length)return(0,ye.of)([new xs(Or,[])]);const ol=ti(k)===le;return this.processSegment(Ar,Mn,ic,Rc,ol?Qt:le,!0).pipe((0,Ft.T)(Oc=>[new xs(Or,Oc)]))}))))}getChildConfig(N,A,k){return A.children?(0,ye.of)({routes:A.children,injector:N}):A.loadChildren?void 0!==A._loadedRoutes?(0,ye.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function wc(S,N,A,k){const H=N.canLoad;if(void 0===H||0===H.length)return(0,ye.of)(!0);const le=H.map(Oe=>{const wt=zi(Oe,S);return Nn(function q(S){return S&&Ko(S.canLoad)}(wt)?wt.canLoad(N,A):S.runInContext(()=>wt(N,A)))});return(0,ye.of)(le).pipe(us(),ns())}(N,A,k).pipe((0,ot.Z)(H=>H?this.configLoader.loadChildren(N,A).pipe((0,Ae.M)(le=>{A._loadedRoutes=le.routes,A._loadedInjector=le.injector})):function So(S){return(0,Ue.$)(Sn(!1,3))}())):(0,ye.of)({routes:[],injector:N})}}function Dc(S){const N=S.value.routeConfig;return N&&""===N.path}function Xa(S){const N=[],A=new Set;for(const k of S){if(!Dc(k)){N.push(k);continue}const H=N.find(le=>k.value.routeConfig===le.value.routeConfig);void 0!==H?(H.children.push(...k.children),A.add(H)):N.push(k)}for(const k of A){const H=Xa(k.children);N.push(new xs(k.value,H))}return N.filter(k=>!A.has(k))}function kl(S){return S.data||{}}function M(S){return S.resolve||{}}function tr(S){return"string"==typeof S.title||null===S.title}function ni(S){return(0,Yt.n)(N=>{const A=S(N);return A?(0,pe.H)(A).pipe((0,Ft.T)(()=>N)):(0,ye.of)(N)})}const Ti=new d.nKC("ROUTES");let pi=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,ye.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const k=Nn(A.loadComponent()).pipe((0,Ft.T)(Oi),(0,Ae.M)(le=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=le}),(0,hn.j)(()=>{this.componentLoaders.delete(A)})),H=new on(k,()=>new bn.B).pipe(Se());return this.componentLoaders.set(A,H),H}loadChildren(A,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,ye.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const le=function Pr(S,N,A,k){return Nn(S.loadChildren()).pipe((0,Ft.T)(Oi),(0,ot.Z)(H=>H instanceof d.Co$||Array.isArray(H)?(0,ye.of)(H):(0,pe.H)(N.compileModuleAsync(H))),(0,Ft.T)(H=>{k&&k(S);let le,Oe,wt=!1;return Array.isArray(H)?(Oe=H,!0):(le=H.create(A).injector,Oe=le.get(Ti,[],{optional:!0,self:!0}).flat()),{routes:Oe.map(ji),injector:le}}))}(k,this.compiler,A,this.onLoadEndListener).pipe((0,hn.j)(()=>{this.childrenLoaders.delete(k)})),Oe=new on(le,()=>new bn.B).pipe(Se());return this.childrenLoaders.set(k,Oe),Oe}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Oi(S){return function yi(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Li=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bn.B,this.transitionAbortSubject=new bn.B,this.configLoader=(0,d.WQX)(pi),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Re),this.rootContexts=(0,d.WQX)(hi),this.inputBindingEnabled=null!==(0,d.WQX)(te,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Ds(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new ia(H))}complete(){this.transitions?.complete()}handleNavigationRequest(A){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...A,id:k})}setupNavigations(A,k,H){return this.transitions=new Te.t({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:A.urlHandlingStrategy.extract(k),urlAfterRedirects:A.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qi,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,je.p)(le=>0!==le.id),(0,Ft.T)(le=>({...le,extractedUrl:A.urlHandlingStrategy.extract(le.rawUrl)})),(0,Yt.n)(le=>{this.currentTransition=le;let Oe=!1,wt=!1;return(0,ye.of)(le).pipe((0,Ae.M)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Yt.n)(yt=>{const Mn=yt.currentBrowserUrl.toString(),Ar=!A.navigated||yt.extractedUrl.toString()!==Mn||Mn!==yt.currentUrlTree.toString();if(!Ar&&"reload"!==(yt.extras.onSameUrlNavigation??A.onSameUrlNavigation)){const Kr="";return this.events.next(new Ie(yt.id,this.urlSerializer.serialize(yt.rawUrl),Kr,0)),yt.resolve(null),it.w}if(A.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,ye.of)(yt).pipe((0,Yt.n)(Kr=>{const Zr=this.transitions?.getValue();return this.events.next(new _e(Kr.id,this.urlSerializer.serialize(Kr.extractedUrl),Kr.source,Kr.restoredState)),Zr!==this.transitions?.getValue()?it.w:Promise.resolve(Kr)}),function re(S,N,A,k,H,le){return(0,ot.Z)(Oe=>function Yo(S,N,A,k,H,le,Oe="emptyOnly"){return new Oa(S,N,A,k,H,Oe,le).recognize()}(S,N,A,k,Oe.extractedUrl,H,le).pipe((0,Ft.T)(({state:wt,tree:yt})=>({...Oe,targetSnapshot:wt,urlAfterRedirects:yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,A.paramsInheritanceStrategy),(0,Ae.M)(Kr=>{le.targetSnapshot=Kr.targetSnapshot,le.urlAfterRedirects=Kr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Kr.urlAfterRedirects};const Zr=new $r(Kr.id,this.urlSerializer.serialize(Kr.extractedUrl),this.urlSerializer.serialize(Kr.urlAfterRedirects),Kr.targetSnapshot);this.events.next(Zr)}));if(Ar&&A.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:Kr,extractedUrl:Zr,source:ic,restoredState:Rc,extras:ol}=yt,Oc=new _e(Kr,this.urlSerializer.serialize(Zr),ic,Rc);this.events.next(Oc);const Ru=An(0,this.rootComponentType).snapshot;return this.currentTransition=le={...yt,targetSnapshot:Ru,urlAfterRedirects:Zr,extras:{...ol,skipLocationChange:!1,replaceUrl:!1}},(0,ye.of)(le)}{const Kr="";return this.events.next(new Ie(yt.id,this.urlSerializer.serialize(yt.extractedUrl),Kr,1)),yt.resolve(null),it.w}}),(0,Ae.M)(yt=>{const Mn=new er(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(Mn)}),(0,Ft.T)(yt=>(this.currentTransition=le={...yt,guards:Wo(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},le)),function mo(S,N){return(0,ot.Z)(A=>{const{targetSnapshot:k,currentSnapshot:H,guards:{canActivateChecks:le,canDeactivateChecks:Oe}}=A;return 0===Oe.length&&0===le.length?(0,ye.of)({...A,guardsResult:!0}):function oo(S,N,A,k){return(0,pe.H)(S).pipe((0,ot.Z)(H=>function Yi(S,N,A,k,H){const le=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,ye.of)(!0);const Oe=le.map(wt=>{const yt=cs(N)??H,Mn=zi(wt,yt);return Nn(function ue(S){return S&&Ko(S.canDeactivate)}(Mn)?Mn.canDeactivate(S,N,A,k):yt.runInContext(()=>Mn(S,N,A,k))).pipe((0,un.$)())});return(0,ye.of)(Oe).pipe(us())}(H.component,H.route,A,N,k)),(0,un.$)(H=>!0!==H,!0))}(Oe,k,H,S).pipe((0,ot.Z)(wt=>wt&&function qo(S){return"boolean"==typeof S}(wt)?function ds(S,N,A,k){return(0,pe.H)(N).pipe((0,Ke.H)(H=>(0,pn.x)(function Nl(S,N){return null!==S&&N&&N(new ui(S)),(0,ye.of)(!0)}(H.route.parent,k),function Fo(S,N){return null!==S&&N&&N(new Ss(S)),(0,ye.of)(!0)}(H.route,k),function aa(S,N,A){const k=N[N.length-1],le=N.slice(0,N.length-1).reverse().map(Oe=>function ls(S){const N=S.routeConfig?S.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:S,guards:N}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>fe(()=>{const wt=Oe.guards.map(yt=>{const Mn=cs(Oe.node)??A,Ar=zi(yt,Mn);return Nn(function U(S){return S&&Ko(S.canActivateChild)}(Ar)?Ar.canActivateChild(k,S):Mn.runInContext(()=>Ar(k,S))).pipe((0,un.$)())});return(0,ye.of)(wt).pipe(us())}));return(0,ye.of)(le).pipe(us())}(S,H.path,A),function Ms(S,N,A){const k=N.routeConfig?N.routeConfig.canActivate:null;if(!k||0===k.length)return(0,ye.of)(!0);const H=k.map(le=>fe(()=>{const Oe=cs(N)??A,wt=zi(le,Oe);return Nn(function Z(S){return S&&Ko(S.canActivate)}(wt)?wt.canActivate(N,S):Oe.runInContext(()=>wt(N,S))).pipe((0,un.$)())}));return(0,ye.of)(H).pipe(us())}(S,H.route,A))),(0,un.$)(H=>!0!==H,!0))}(k,le,S,N):(0,ye.of)(wt)),(0,Ft.T)(wt=>({...A,guardsResult:wt})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,Ae.M)(yt=>{if(le.guardsResult=yt.guardsResult,ur(yt.guardsResult))throw Un(0,yt.guardsResult);const Mn=new $i(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(Mn)}),(0,je.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),ni(yt=>{if(yt.guards.canActivateChecks.length)return(0,ye.of)(yt).pipe((0,Ae.M)(Mn=>{const Ar=new wo(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(Ar)}),(0,Yt.n)(Mn=>{let Ar=!1;return(0,ye.of)(Mn).pipe(function B(S,N){return(0,ot.Z)(A=>{const{targetSnapshot:k,guards:{canActivateChecks:H}}=A;if(!H.length)return(0,ye.of)(A);let le=0;return(0,pe.H)(H).pipe((0,Ke.H)(Oe=>function Q(S,N,A,k){const H=S.routeConfig,le=S._resolve;return void 0!==H?.title&&!tr(H)&&(le[Ht]=H.title),function Me(S,N,A,k){const H=function xt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===H.length)return(0,ye.of)({});const le={};return(0,pe.H)(H).pipe((0,ot.Z)(Oe=>function $t(S,N,A,k){const H=cs(N)??k,le=zi(S,H);return Nn(le.resolve?le.resolve(N,A):H.runInContext(()=>le(N,A)))}(S[Oe],N,A,k).pipe((0,un.$)(),(0,Ae.M)(wt=>{le[Oe]=wt}))),et(1),function mr(S){return(0,Ft.T)(()=>S)}(le),(0,be.W)(Oe=>Is(Oe)?it.w:(0,Ue.$)(Oe)))}(le,S,N,k).pipe((0,Ft.T)(Oe=>(S._resolvedData=Oe,S.data=es(S,A).resolve,H&&tr(H)&&(S.data[Ht]=H.title),null)))}(Oe.route,k,S,N)),(0,Ae.M)(()=>le++),et(1),(0,ot.Z)(Oe=>le===H.length?(0,ye.of)(A):it.w))})}(A.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.M)({next:()=>Ar=!0,complete:()=>{Ar||this.cancelNavigationTransition(Mn,"",2)}}))}),(0,Ae.M)(Mn=>{const Ar=new li(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(Ar)}))}),ni(yt=>{const Mn=Ar=>{const Or=[];Ar.routeConfig?.loadComponent&&!Ar.routeConfig._loadedComponent&&Or.push(this.configLoader.loadComponent(Ar.routeConfig).pipe((0,Ae.M)(Kr=>{Ar.component=Kr}),(0,Ft.T)(()=>{})));for(const Kr of Ar.children)Or.push(...Mn(Kr));return Or};return At(Mn(yt.targetSnapshot.root)).pipe((0,at.U)(),(0,Xt.s)(1))}),ni(()=>this.afterPreactivation()),(0,Ft.T)(yt=>{const Mn=function De(S,N,A){const k=Fe(S,N._root,A?A._root:void 0);return new Wr(k,N)}(A.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=le={...yt,targetRouterState:Mn},le}),(0,Ae.M)(()=>{this.events.next(new jr)}),((S,N,A,k)=>(0,Ft.T)(H=>(new sa(N,H.targetRouterState,H.currentRouterState,A,k).activate(S),H)))(this.rootContexts,A.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,Xt.s)(1),(0,Ae.M)({next:yt=>{Oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kt(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),A.titleStrategy?.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{Oe=!0}}),function nn(S){return(0,Ut.N)((N,A)=>{(0,He.Tg)(S).subscribe((0,st._)(A,()=>A.complete(),Bn.l)),!A.closed&&N.subscribe(A)})}(this.transitionAbortSubject.pipe((0,Ae.M)(yt=>{throw yt}))),(0,hn.j)(()=>{Oe||wt||this.cancelNavigationTransition(le,"",1),this.currentNavigation?.id===le.id&&(this.currentNavigation=null)}),(0,be.W)(yt=>{if(wt=!0,Br(yt))this.events.next(new K(le.id,this.urlSerializer.serialize(le.extractedUrl),yt.message,yt.cancellationCode)),function hr(S){return Br(S)&&ur(S.url)}(yt)?this.events.next(new di(yt.url)):le.resolve(!1);else{this.events.next(new Lt(le.id,this.urlSerializer.serialize(le.extractedUrl),yt,le.targetSnapshot??void 0));try{le.resolve(A.errorHandler(yt))}catch(Mn){le.reject(Mn)}}return it.w}))}))}cancelNavigationTransition(A,k,H){const le=new K(A.id,this.urlSerializer.serialize(A.extractedUrl),k,H);this.events.next(le),A.resolve(!1)}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function _o(S){return S!==qi}let vs=(()=>{class S{buildTitle(A){let k,H=A.root;for(;void 0!==H;)k=this.getResolvedTitleForRoute(H)??k,H=H.children.find(le=>le.outlet===Qt);return k}getResolvedTitleForRoute(A){return A.data[Ht]}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:function(){return(0,d.WQX)(ua)},providedIn:"root"})}}return S})(),ua=(()=>{class S extends vs{constructor(A){super(),this.title=A}updateTitle(A){const k=this.buildTitle(A);void 0!==k&&this.title.setTitle(k)}static{this.\u0275fac=function(k){return new(k||S)(d.KVO($n.hE))}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Js=(()=>{class S{static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:function(){return(0,d.WQX)(Es)},providedIn:"root"})}}return S})();class Us{shouldDetach(N){return!1}store(N,A){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,A){return N.routeConfig===A.routeConfig}}let Es=(()=>{class S extends Us{static{this.\u0275fac=function(){let A;return function(H){return(A||(A=d.xGo(S)))(H||S)}}()}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Lo=new d.nKC("",{providedIn:"root",factory:()=>({})});let Mh=(()=>{class S{static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:function(){return(0,d.WQX)(Fr)},providedIn:"root"})}}return S})(),Fr=(()=>{class S{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,k){return A}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var Nr=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Nr||{});function Xo(S,N){S.events.pipe((0,je.p)(A=>A instanceof kt||A instanceof K||A instanceof Lt||A instanceof Ie),(0,Ft.T)(A=>A instanceof kt||A instanceof Ie?Nr.COMPLETE:A instanceof K&&(0===A.code||1===A.code)?Nr.REDIRECTING:Nr.FAILED),(0,je.p)(A=>A!==Nr.REDIRECTING),(0,Xt.s)(1)).subscribe(()=>{N()})}function ws(S){throw S}function Sc(S,N,A){return N.parse("/")}const fd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ja={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.WQX)(d.H3F),this.isNgZoneEnabled=!1,this._events=new bn.B,this.options=(0,d.WQX)(Lo,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.$K3),this.errorHandler=this.options.errorHandler||ws,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.WQX)(Mh),this.routeReuseStrategy=(0,d.WQX)(Js),this.titleStrategy=(0,d.WQX)(vs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.WQX)(Ti,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.WQX)(Li),this.urlSerializer=(0,d.WQX)(Re),this.location=(0,d.WQX)(jn.aZ),this.componentInputBindingEnabled=!!(0,d.WQX)(te,{optional:!0}),this.eventsSubscription=new Et.yU,this.isNgZoneEnabled=(0,d.WQX)(d.SKi)instanceof d.SKi&&d.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new sr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=An(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(A=>{this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Su(k)&&this._events.next(k));if(k instanceof _e)_o(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(k instanceof Ie)this.rawUrlTree=H.rawUrl;else if(k instanceof $r){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const le=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(le,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(k instanceof jr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(k instanceof K)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(H);else if(k instanceof di){const le=this.urlHandlingStrategy.merge(k.url,H.currentRawUrl),Oe={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_o(H.source)};this.scheduleNavigation(le,qi,null,Oe,{resolve:H.resolve,reject:H.reject,promise:H.promise})}k instanceof Lt&&this.restoreHistory(H,!0),k instanceof kt&&(this.navigated=!0),Su(k)&&this._events.next(k)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const A=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qi,A)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const k="popstate"===A.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(A.url,k,A.state)},0)}))}navigateToSyncWithBrowser(A,k,H){const le={replaceUrl:!0},Oe=H?.navigationId?H:null;if(H){const yt={...H};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(le.state=yt)}const wt=this.parseUrl(A);this.scheduleNavigation(wt,k,Oe,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(ji),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,k={}){const{relativeTo:H,queryParams:le,fragment:Oe,queryParamsHandling:wt,preserveFragment:yt}=k,Mn=yt?this.currentUrlTree.fragment:Oe;let Or,Ar=null;switch(wt){case"merge":Ar={...this.currentUrlTree.queryParams,...le};break;case"preserve":Ar=this.currentUrlTree.queryParams;break;default:Ar=le||null}null!==Ar&&(Ar=this.removeEmptyProps(Ar));try{Or=ci(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||!A[0].startsWith("/"))&&(A=[]),Or=this.currentUrlTree.root}return vt(Or,A,Ar,Mn??null)}navigateByUrl(A,k={skipLocationChange:!1}){const H=ur(A)?A:this.parseUrl(A),le=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(le,qi,null,k)}navigate(A,k={skipLocationChange:!1}){return function Rh(S){for(let N=0;N<S.length;N++)if(null==S[N])throw new d.wOt(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,k),k)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let k;try{k=this.urlSerializer.parse(A)}catch(H){k=this.malformedUriErrorHandler(H,this.urlSerializer,A)}return k}isActive(A,k){let H;if(H=!0===k?{...fd}:!1===k?{...Ja}:k,ur(A))return Qr(this.currentUrlTree,A,H);const le=this.parseUrl(A);return Qr(this.currentUrlTree,le,H)}removeEmptyProps(A){return Object.keys(A).reduce((k,H)=>{const le=A[H];return null!=le&&(k[H]=le),k},{})}scheduleNavigation(A,k,H,le,Oe){if(this.disposed)return Promise.resolve(!1);let wt,yt,Mn;Oe?(wt=Oe.resolve,yt=Oe.reject,Mn=Oe.promise):Mn=new Promise((Or,Kr)=>{wt=Or,yt=Kr});const Ar=this.pendingTasks.add();return Xo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ar))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:A,extras:le,resolve:wt,reject:yt,promise:Mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mn.catch(Or=>Promise.reject(Or))}setBrowserUrl(A,k){const H=this.urlSerializer.serialize(A);if(this.location.isCurrentPathEqualTo(H)||k.extras.replaceUrl){const Oe={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(H,"",Oe)}else{const le={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(H,"",le)}}restoreHistory(A,k=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-this.browserPageId;0!==le?this.location.historyGo(le):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===le&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,k){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:k}:{navigationId:A}}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Su(S){return!(S instanceof jr||S instanceof di)}let da=(()=>{class S{constructor(A,k,H,le,Oe,wt){this.router=A,this.route=k,this.tabIndexAttribute=H,this.renderer=le,this.el=Oe,this.locationStrategy=wt,this.href=null,this.commands=null,this.onChanges=new bn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const yt=Oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=A.events.subscribe(Mn=>{Mn instanceof kt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(A,k,H,le,Oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==A||k||H||le||Oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const A=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",A)}applyAttributeValue(A,k){const H=this.renderer,le=this.el.nativeElement;null!==k?H.setAttribute(le,A,k):H.removeAttribute(le,A)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(k){return new(k||S)(d.rXU(Wi),d.rXU(Dr),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(jn.hb))}}static{this.\u0275dir=d.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,H){1&k&&d.bIt("click",function(Oe){return H.onClick(Oe.button,Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey)}),2&k&&d.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.L39],skipLocationChange:["skipLocationChange","skipLocationChange",d.L39],replaceUrl:["replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]})}}return S})(),Rs=(()=>{class S{get isActive(){return this._isActive}constructor(A,k,H,le,Oe){this.router=A,this.element=k,this.renderer=H,this.cdr=le,this.link=Oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.bkB,this.routerEventsSubscription=A.events.subscribe(wt=>{wt instanceof kt&&this.update()})}ngAfterContentInit(){(0,ye.of)(this.links.changes,(0,ye.of)(null)).pipe((0,ir.U)()).subscribe(A=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const A=[...this.links.toArray(),this.link].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,pe.H)(A).pipe((0,ir.U)()).subscribe(k=>{this._isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(A){const k=Array.isArray(A)?A:A.split(" ");this.classes=k.filter(H=>!!H)}ngOnChanges(A){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const A=this.hasActiveLinks();this._isActive!==A&&(this._isActive=A,this.cdr.markForCheck(),this.classes.forEach(k=>{A?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),A&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(A))})}isLinkActive(A){const k=function ka(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&A.isActive(H.urlTree,k)}hasActiveLinks(){const A=this.isLinkActive(this.router);return this.link&&A(this.link)||this.links.some(A)}static{this.\u0275fac=function(k){return new(k||S)(d.rXU(Wi),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(da,8))}}static{this.\u0275dir=d.FsC({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(k,H,le){if(1&k&&d.wni(le,da,5),2&k){let Oe;d.mGM(Oe=d.lsd())&&(H.links=Oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.OA$]})}}return S})();class xc{}let gd=(()=>{class S{constructor(A,k,H,le,Oe){this.router=A,this.injector=H,this.preloadingStrategy=le,this.loader=Oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,je.p)(A=>A instanceof kt),(0,Ke.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,k){const H=[];for(const le of k){le.providers&&!le._injector&&(le._injector=(0,d.Ol2)(le.providers,A,`Route: ${le.path}`));const Oe=le._injector??A,wt=le._loadedInjector??Oe;(le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent)&&H.push(this.preloadConfig(Oe,le)),(le.children||le._loadedRoutes)&&H.push(this.processRoutes(wt,le.children??le._loadedRoutes))}return(0,pe.H)(H).pipe((0,ir.U)())}preloadConfig(A,k){return this.preloadingStrategy.preload(k,()=>{let H;H=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(A,k):(0,ye.of)(null);const le=H.pipe((0,ot.Z)(Oe=>null===Oe?(0,ye.of)(void 0):(k._loadedRoutes=Oe.routes,k._loadedInjector=Oe.injector,this.processRoutes(Oe.injector??A,Oe.routes))));if(k.loadComponent&&!k._loadedComponent){const Oe=this.loader.loadComponent(k);return(0,pe.H)([le,Oe]).pipe((0,ir.U)())}return le})}static{this.\u0275fac=function(k){return new(k||S)(d.KVO(Wi),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(xc),d.KVO(pi))}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const xu=new d.nKC("");let wr=(()=>{class S{constructor(A,k,H,le,Oe={}){this.urlSerializer=A,this.transitions=k,this.viewportScroller=H,this.zone=le,this.options=Oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Oe.scrollPositionRestoration=Oe.scrollPositionRestoration||"disabled",Oe.anchorScrolling=Oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof kt?(this.lastId=A.id,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.urlAfterRedirects).fragment)):A instanceof Ie&&0===A.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof Gs&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gs(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(k){d.QTQ()}}static{this.\u0275prov=d.jDH({token:S,factory:S.\u0275fac})}}return S})();function ha(S,N){return{\u0275kind:S,\u0275providers:N}}function md(){const S=(0,d.WQX)(d.zZn);return N=>{const A=S.get(d.o8S);if(N!==A.components[0])return;const k=S.get(Wi),H=S.get(Mu);1===S.get(hs)&&k.initialNavigation(),S.get(Gr,null,d.$GK.Optional)?.setUpPreloading(),S.get(xu,null,d.$GK.Optional)?.init(),k.resetRootComponentType(A.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Mu=new d.nKC("",{factory:()=>new bn.B}),hs=new d.nKC("",{providedIn:"root",factory:()=>1}),Gr=new d.nKC("");function uo(S){return ha(0,[{provide:Gr,useExisting:gd},{provide:xc,useExisting:S}])}const il=new d.nKC("ROUTER_FORROOT_GUARD"),sl=[jn.aZ,{provide:Re,useClass:Dt},Wi,hi,{provide:Dr,useFactory:function Ll(S){return S.routerState.root},deps:[Wi]},pi,[]];function ec(){return new d.NEm("Router",Wi)}let tc=(()=>{class S{constructor(A){}static forRoot(A,k){return{ngModule:S,providers:[sl,[],{provide:Ti,multi:!0,useValue:A},{provide:il,useFactory:Fa,deps:[[Wi,new d.Xx1,new d.kdw]]},{provide:Lo,useValue:k||{}},k?.useHash?{provide:jn.hb,useClass:jn.fw}:{provide:jn.hb,useClass:jn.Sm},{provide:xu,useFactory:()=>{const S=(0,d.WQX)(jn.Xr),N=(0,d.WQX)(d.SKi),A=(0,d.WQX)(Lo),k=(0,d.WQX)(Li),H=(0,d.WQX)(Re);return A.scrollOffset&&S.setOffset(A.scrollOffset),new wr(H,k,S,N,A)}},k?.preloadingStrategy?uo(k.preloadingStrategy).\u0275providers:[],{provide:d.NEm,multi:!0,useFactory:ec},k?.initialNavigation?rc(k):[],k?.bindToComponentInputs?ha(8,[ee,{provide:te,useExisting:ee}]).\u0275providers:[],[{provide:xo,useFactory:md},{provide:d.iLQ,multi:!0,useExisting:xo}]]}}static forChild(A){return{ngModule:S,providers:[{provide:Ti,multi:!0,useValue:A}]}}static{this.\u0275fac=function(k){return new(k||S)(d.KVO(il,8))}}static{this.\u0275mod=d.$C({type:S})}static{this.\u0275inj=d.G2t({})}}return S})();function Fa(S){return"guarded"}function rc(S){return["disabled"===S.initialNavigation?ha(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const N=(0,d.WQX)(Wi);return()=>{N.setUpLocationChangeListener()}}},{provide:hs,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ha(2,[{provide:hs,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:N=>{const A=N.get(jn.hj,Promise.resolve());return()=>A.then(()=>new Promise(k=>{const H=N.get(Wi),le=N.get(Mu);Xo(H,()=>{k(!0)}),N.get(Li).afterPreactivation=()=>(k(!0),le.closed?(0,ye.of)(void 0):le),H.initialNavigation()}))}}]).\u0275providers:[]]}const xo=new d.nKC("")},3345:(ln,Ye,F)=>{F.d(Ye,{A:()=>At});var d=F(1076),p=F(1362),n=F(7852),Ce=F(8041);class pe{constructor(jt,Ot){this._delegate=jt,this.firebase=Ot,(0,n._addComponent)(jt,new p.uA("app-compat",()=>this,"PUBLIC")),this.container=jt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this._delegate.automaticDataCollectionEnabled=jt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(jt=>{this._delegate.checkDestroyed(),jt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,n.deleteApp)(this._delegate)))}_getService(jt,Ot=n._DEFAULT_ENTRY_NAME){var pn;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(jt);return!He.isInitialized()&&"EXPLICIT"===(null===(pn=He.getComponent())||void 0===pn?void 0:pn.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Ot})}_removeServiceInstance(jt,Ot=n._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(jt).clearInstance(Ot)}_addComponent(jt){(0,n._addComponent)(this._delegate,jt)}_addOrOverwriteComponent(jt){(0,n._addOrOverwriteComponent)(this._delegate,jt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ke(){const dt=function Ne(dt){const jt={},Ot={__esModule:!0,initializeApp:function fe(Et,Ut={}){const Se=n.initializeApp(Et,Ut);if((0,d.gR)(jt,Se.name))return jt[Se.name];const on=new dt(Se,Ot);return jt[Se.name]=on,on},app:He,registerVersion:n.registerVersion,setLogLevel:n.setLogLevel,onLog:n.onLog,apps:null,SDK_VERSION:n.SDK_VERSION,INTERNAL:{registerComponent:function Ue(Et){const Ut=Et.name,Se=Ut.replace("-compat","");if(n._registerComponent(Et)&&"PUBLIC"===Et.type){const on=(bn=He())=>{if("function"!=typeof bn[Se])throw Te.create("invalid-app-argument",{appName:Ut});return bn[Se]()};void 0!==Et.serviceProps&&(0,d.zw)(on,Et.serviceProps),Ot[Se]=on,dt.prototype[Se]=function(...bn){return this._getService.bind(this,Ut).apply(this,Et.multipleInstances?bn:[])}}return"PUBLIC"===Et.type?Ot[Se]:null},removeApp:function pn(Et){delete jt[Et]},useAsService:function it(Et,Ut){return"serverAuth"===Ut?null:Ut},modularAPIs:n}};function He(Et){if(!(0,d.gR)(jt,Et=Et||n._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:Et});return jt[Et]}return Ot.default=Ot,Object.defineProperty(Ot,"apps",{get:function Je(){return Object.keys(jt).map(Et=>jt[Et])}}),He.App=dt,Ot}(pe);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function jt(Ot){(0,d.zw)(dt,Ot)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),dt}(),ie=new Ce.Vy("@firebase/app-compat");try{const dt=(0,d.mS)();if(void 0!==dt.firebase){ie.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const jt=dt.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&ie.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const At=W;!function $e(dt){(0,n.registerVersion)("@firebase/app-compat","0.2.43",dt)}()},7852:(ln,Ye,F)=>{F.r(Ye),F.d(Ye,{FirebaseError:()=>Ce.g,SDK_VERSION:()=>Dt,_DEFAULT_ENTRY_NAME:()=>Nn,_addComponent:()=>Jr,_addOrOverwriteComponent:()=>gs,_apps:()=>kr,_clearComponents:()=>bi,_components:()=>nr,_getProvider:()=>br,_isFirebaseApp:()=>sr,_isFirebaseServerApp:()=>Fn,_registerComponent:()=>Cn,_removeServiceInstance:()=>Kn,_serverApps:()=>Qr,deleteApp:()=>_i,getApp:()=>Hr,getApps:()=>Sr,initializeApp:()=>Kt,initializeServerApp:()=>Yn,onLog:()=>R,registerVersion:()=>G,setLogLevel:()=>L});var d=F(467),p=F(1362),n=F(8041),Ce=F(1076);const pe=(vt,Ze)=>Ze.some(Rt=>vt instanceof Rt);let ye,Te;const W=new WeakMap,ie=new WeakMap,ve=new WeakMap,st=new WeakMap,$e=new WeakMap;let jt={get(vt,Ze,Rt){if(vt instanceof IDBTransaction){if("done"===Ze)return ie.get(vt);if("objectStoreNames"===Ze)return vt.objectStoreNames||ve.get(vt);if("store"===Ze)return Rt.objectStoreNames[1]?void 0:Rt.objectStore(Rt.objectStoreNames[0])}return fe(vt[Ze])},set:(vt,Ze,Rt)=>(vt[Ze]=Rt,!0),has:(vt,Ze)=>vt instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in vt};function He(vt){return"function"==typeof vt?function pn(vt){return vt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(vt)?function(...Ze){return vt.apply(Je(this),Ze),fe(W.get(this))}:function(...Ze){return fe(vt.apply(Je(this),Ze))}:function(Ze,...Rt){const fn=vt.call(Je(this),Ze,...Rt);return ve.set(fn,Ze.sort?Ze.sort():[Ze]),fe(fn)}}(vt):(vt instanceof IDBTransaction&&function dt(vt){if(ie.has(vt))return;const Ze=new Promise((Rt,fn)=>{const Vn=()=>{vt.removeEventListener("complete",vn),vt.removeEventListener("error",On),vt.removeEventListener("abort",On)},vn=()=>{Rt(),Vn()},On=()=>{fn(vt.error||new DOMException("AbortError","AbortError")),Vn()};vt.addEventListener("complete",vn),vt.addEventListener("error",On),vt.addEventListener("abort",On)});ie.set(vt,Ze)}(vt),pe(vt,function Ne(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(vt,jt):vt)}function fe(vt){if(vt instanceof IDBRequest)return function At(vt){const Ze=new Promise((Rt,fn)=>{const Vn=()=>{vt.removeEventListener("success",vn),vt.removeEventListener("error",On)},vn=()=>{Rt(fe(vt.result)),Vn()},On=()=>{fn(vt.error),Vn()};vt.addEventListener("success",vn),vt.addEventListener("error",On)});return Ze.then(Rt=>{Rt instanceof IDBCursor&&W.set(Rt,vt)}).catch(()=>{}),$e.set(Ze,vt),Ze}(vt);if(st.has(vt))return st.get(vt);const Ze=He(vt);return Ze!==vt&&(st.set(vt,Ze),$e.set(Ze,vt)),Ze}const Je=vt=>$e.get(vt),Et=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],Se=new Map;function on(vt,Ze){if(!(vt instanceof IDBDatabase)||Ze in vt||"string"!=typeof Ze)return;if(Se.get(Ze))return Se.get(Ze);const Rt=Ze.replace(/FromIndex$/,""),fn=Ze!==Rt,Vn=Ut.includes(Rt);if(!(Rt in(fn?IDBIndex:IDBObjectStore).prototype)||!Vn&&!Et.includes(Rt))return;const vn=function(){var On=(0,d.A)(function*(Cr,...Ur){const or=this.transaction(Cr,Vn?"readwrite":"readonly");let Ci=or.store;return fn&&(Ci=Ci.index(Ur.shift())),(yield Promise.all([Ci[Rt](...Ur),Vn&&or.done]))[0]});return function(Ur){return On.apply(this,arguments)}}();return Se.set(Ze,vn),vn}!function Ot(vt){jt=vt(jt)}(vt=>({...vt,get:(Ze,Rt,fn)=>on(Ze,Rt)||vt.get(Ze,Rt,fn),has:(Ze,Rt)=>!!on(Ze,Rt)||vt.has(Ze,Rt)}));class bn{constructor(Ze){this.container=Ze}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function jn(vt){const Ze=vt.getComponent();return"VERSION"===Ze?.type}(Rt)){const fn=Rt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Rt=>Rt).join(" ")}}const Ft="@firebase/app",Yt="0.10.13",Xt=new n.Vy("@firebase/app"),Nn="[DEFAULT]",Xr={[Ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},kr=new Map,Qr=new Map,nr=new Map;function Jr(vt,Ze){try{vt.container.addComponent(Ze)}catch(Rt){Xt.debug(`Component ${Ze.name} failed to register with FirebaseApp ${vt.name}`,Rt)}}function gs(vt,Ze){vt.container.addOrOverwriteComponent(Ze)}function Cn(vt){const Ze=vt.name;if(nr.has(Ze))return Xt.debug(`There were multiple attempts to register component ${Ze}.`),!1;nr.set(Ze,vt);for(const Rt of kr.values())Jr(Rt,vt);for(const Rt of Qr.values())Jr(Rt,vt);return!0}function br(vt,Ze){const Rt=vt.container.getProvider("heartbeat").getImmediate({optional:!0});return Rt&&Rt.triggerHeartbeat(),vt.container.getProvider(Ze)}function Kn(vt,Ze,Rt=Nn){br(vt,Ze).clearInstance(Rt)}function sr(vt){return void 0!==vt.options}function Fn(vt){return void 0!==vt.settings}function bi(){nr.clear()}const ft=new Ce.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ae{constructor(Ze,Rt,fn){this._isDeleted=!1,this._options=Object.assign({},Ze),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new p.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ze){this._isDeleted=Ze}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}class Re extends ae{constructor(Ze,Rt,fn,Vn){const vn=void 0!==Rt.automaticDataCollectionEnabled&&Rt.automaticDataCollectionEnabled,On={name:fn,automaticDataCollectionEnabled:vn};super(void 0!==Ze.apiKey?Ze:Ze.options,On,Vn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:vn},Rt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Rt.releaseOnDeref=void 0,G(Ft,Yt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ze){this.isDeleted||(this._refCount++,void 0!==Ze&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(Ze,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){_i(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ft.create("server-app-deleted")}}const Dt="10.14.1";function Kt(vt,Ze={}){let Rt=vt;"object"!=typeof Ze&&(Ze={name:Ze});const fn=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},Ze),Vn=fn.name;if("string"!=typeof Vn||!Vn)throw ft.create("bad-app-name",{appName:String(Vn)});if(Rt||(Rt=(0,Ce.T9)()),!Rt)throw ft.create("no-options");const vn=kr.get(Vn);if(vn){if((0,Ce.bD)(Rt,vn.options)&&(0,Ce.bD)(fn,vn.config))return vn;throw ft.create("duplicate-app",{appName:Vn})}const On=new p.h1(Vn);for(const Ur of nr.values())On.addComponent(Ur);const Cr=new ae(Rt,fn,On);return kr.set(Vn,Cr),Cr}function Yn(vt,Ze){if((0,Ce.Bd)()&&!(0,Ce.p7)())throw ft.create("invalid-server-app-environment");let Rt;void 0===Ze.automaticDataCollectionEnabled&&(Ze.automaticDataCollectionEnabled=!1),Rt=sr(vt)?vt.options:vt;const fn=Object.assign(Object.assign({},Ze),Rt);if(void 0!==fn.releaseOnDeref&&delete fn.releaseOnDeref,void 0!==Ze.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ft.create("finalization-registry-not-supported",{});const vn=""+(or=JSON.stringify(fn),[...or].reduce((Ci,Hi)=>Math.imul(31,Ci)+Hi.charCodeAt(0)|0,0)),On=Qr.get(vn);var or;if(On)return On.incRefCount(Ze.releaseOnDeref),On;const Cr=new p.h1(vn);for(const or of nr.values())Cr.addComponent(or);const Ur=new Re(Rt,Ze,vn,Cr);return Qr.set(vn,Ur),Ur}function Hr(vt=Nn){const Ze=kr.get(vt);if(!Ze&&vt===Nn&&(0,Ce.T9)())return Kt();if(!Ze)throw ft.create("no-app",{appName:vt});return Ze}function Sr(){return Array.from(kr.values())}function _i(vt){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.A)(function*(vt){let Ze=!1;const Rt=vt.name;kr.has(Rt)?(Ze=!0,kr.delete(Rt)):Qr.has(Rt)&&vt.decRefCount()<=0&&(Qr.delete(Rt),Ze=!0),Ze&&(yield Promise.all(vt.container.getProviders().map(fn=>fn.delete())),vt.isDeleted=!0)})).apply(this,arguments)}function G(vt,Ze,Rt){var fn;let Vn=null!==(fn=Xr[vt])&&void 0!==fn?fn:vt;Rt&&(Vn+=`-${Rt}`);const vn=Vn.match(/\s|\//),On=Ze.match(/\s|\//);if(vn||On){const Cr=[`Unable to register library "${Vn}" with version "${Ze}":`];return vn&&Cr.push(`library name "${Vn}" contains illegal characters (whitespace or "/")`),vn&&On&&Cr.push("and"),On&&Cr.push(`version name "${Ze}" contains illegal characters (whitespace or "/")`),void Xt.warn(Cr.join(" "))}Cn(new p.uA(`${Vn}-version`,()=>({library:Vn,version:Ze}),"VERSION"))}function R(vt,Ze){if(null!==vt&&"function"!=typeof vt)throw ft.create("invalid-log-argument");(0,n.Ey)(vt,Ze)}function L(vt){(0,n.He)(vt)}const se="firebase-heartbeat-database",ge=1,lt="firebase-heartbeat-store";let Mt=null;function mn(){return Mt||(Mt=function Ue(vt,Ze,{blocked:Rt,upgrade:fn,blocking:Vn,terminated:vn}={}){const On=indexedDB.open(vt,Ze),Cr=fe(On);return fn&&On.addEventListener("upgradeneeded",Ur=>{fn(fe(On.result),Ur.oldVersion,Ur.newVersion,fe(On.transaction),Ur)}),Rt&&On.addEventListener("blocked",Ur=>Rt(Ur.oldVersion,Ur.newVersion,Ur)),Cr.then(Ur=>{vn&&Ur.addEventListener("close",()=>vn()),Vn&&Ur.addEventListener("versionchange",or=>Vn(or.oldVersion,or.newVersion,or))}).catch(()=>{}),Cr}(se,ge,{upgrade:(vt,Ze)=>{if(0===Ze)try{vt.createObjectStore(lt)}catch(Rt){console.warn(Rt)}}}).catch(vt=>{throw ft.create("idb-open",{originalErrorMessage:vt.message})})),Mt}function In(){return(In=(0,d.A)(function*(vt){try{const Rt=(yield mn()).transaction(lt),fn=yield Rt.objectStore(lt).get(Pe(vt));return yield Rt.done,fn}catch(Ze){if(Ze instanceof Ce.g)Xt.warn(Ze.message);else{const Rt=ft.create("idb-get",{originalErrorMessage:Ze?.message});Xt.warn(Rt.message)}}})).apply(this,arguments)}function gr(vt,Ze){return xe.apply(this,arguments)}function xe(){return(xe=(0,d.A)(function*(vt,Ze){try{const fn=(yield mn()).transaction(lt,"readwrite");yield fn.objectStore(lt).put(Ze,Pe(vt)),yield fn.done}catch(Rt){if(Rt instanceof Ce.g)Xt.warn(Rt.message);else{const fn=ft.create("idb-set",{originalErrorMessage:Rt?.message});Xt.warn(fn.message)}}})).apply(this,arguments)}function Pe(vt){return`${vt.name}!${vt.options.appId}`}class Zt{constructor(Ze){this.container=Ze,this._heartbeatsCache=null;const Rt=this.container.getProvider("app").getImmediate();this._storage=new ur(Rt),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var Ze=this;return(0,d.A)(function*(){var Rt,fn;try{const vn=Ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),On=_n();return null==(null===(Rt=Ze._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)&&(Ze._heartbeatsCache=yield Ze._heartbeatsCachePromise,null==(null===(fn=Ze._heartbeatsCache)||void 0===fn?void 0:fn.heartbeats))||Ze._heartbeatsCache.lastSentHeartbeatDate===On||Ze._heartbeatsCache.heartbeats.some(Cr=>Cr.date===On)?void 0:(Ze._heartbeatsCache.heartbeats.push({date:On,agent:vn}),Ze._heartbeatsCache.heartbeats=Ze._heartbeatsCache.heartbeats.filter(Cr=>{const Ur=new Date(Cr.date).valueOf();return Date.now()-Ur<=2592e6}),Ze._storage.overwrite(Ze._heartbeatsCache))}catch(Vn){Xt.warn(Vn)}})()}getHeartbeatsHeader(){var Ze=this;return(0,d.A)(function*(){var Rt;try{if(null===Ze._heartbeatsCache&&(yield Ze._heartbeatsCachePromise),null==(null===(Rt=Ze._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)||0===Ze._heartbeatsCache.heartbeats.length)return"";const fn=_n(),{heartbeatsToSend:Vn,unsentEntries:vn}=function dn(vt,Ze=1024){const Rt=[];let fn=vt.slice();for(const Vn of vt){const vn=Rt.find(On=>On.agent===Vn.agent);if(vn){if(vn.dates.push(Vn.date),yn(Rt)>Ze){vn.dates.pop();break}}else if(Rt.push({agent:Vn.agent,dates:[Vn.date]}),yn(Rt)>Ze){Rt.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Rt,unsentEntries:fn}}(Ze._heartbeatsCache.heartbeats),On=(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Vn}));return Ze._heartbeatsCache.lastSentHeartbeatDate=fn,vn.length>0?(Ze._heartbeatsCache.heartbeats=vn,yield Ze._storage.overwrite(Ze._heartbeatsCache)):(Ze._heartbeatsCache.heartbeats=[],Ze._storage.overwrite(Ze._heartbeatsCache)),On}catch(fn){return Xt.warn(fn),""}})()}}function _n(){return(new Date).toISOString().substring(0,10)}class ur{constructor(Ze){this.app=Ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,Ce.zW)()&&(0,Ce.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ze=this;return(0,d.A)(function*(){if(yield Ze._canUseIndexedDBPromise){const fn=yield function Wt(vt){return In.apply(this,arguments)}(Ze.app);return fn?.heartbeats?fn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ze){var Rt=this;return(0,d.A)(function*(){var fn;if(yield Rt._canUseIndexedDBPromise){const vn=yield Rt.read();return gr(Rt.app,{lastSentHeartbeatDate:null!==(fn=Ze.lastSentHeartbeatDate)&&void 0!==fn?fn:vn.lastSentHeartbeatDate,heartbeats:Ze.heartbeats})}})()}add(Ze){var Rt=this;return(0,d.A)(function*(){var fn;if(yield Rt._canUseIndexedDBPromise){const vn=yield Rt.read();return gr(Rt.app,{lastSentHeartbeatDate:null!==(fn=Ze.lastSentHeartbeatDate)&&void 0!==fn?fn:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...Ze.heartbeats]})}})()}}function yn(vt){return(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:vt})).length}!function ci(vt){Cn(new p.uA("platform-logger",Ze=>new bn(Ze),"PRIVATE")),Cn(new p.uA("heartbeat",Ze=>new Zt(Ze),"PRIVATE")),G(Ft,Yt,vt),G(Ft,Yt,"esm2017"),G("fire-js","")}("")},1362:(ln,Ye,F)=>{F.d(Ye,{h1:()=>Ne,uA:()=>n});var d=F(467),p=F(1076);class n{constructor(W,ie,ve){this.name=W,this.instanceFactory=ie,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Ce="[DEFAULT]";class pe{constructor(W,ie){this.name=W,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const ie=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(ie)){const ve=new p.cY;if(this.instancesDeferred.set(ie,ve),this.isInitialized(ie)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:ie});st&&ve.resolve(st)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(W){var ie;const ve=this.normalizeInstanceIdentifier(W?.identifier),st=null!==(ie=W?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch($e){if(st)return null;throw $e}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Te(ke){return"EAGER"===ke.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ie,ve]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(ie);try{const $e=this.getOrInitializeService({instanceIdentifier:st});ve.resolve($e)}catch{}}}}clearInstance(W=Ce){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,d.A)(function*(){const ie=Array.from(W.instances.values());yield Promise.all([...ie.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...ie.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=Ce){return this.instances.has(W)}getOptions(W=Ce){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:ie={}}=W,ve=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:ve,options:ie});for(const[$e,At]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier($e)&&At.resolve(st);return st}onInit(W,ie){var ve;const st=this.normalizeInstanceIdentifier(ie),$e=null!==(ve=this.onInitCallbacks.get(st))&&void 0!==ve?ve:new Set;$e.add(W),this.onInitCallbacks.set(st,$e);const At=this.instances.get(st);return At&&W(At,st),()=>{$e.delete(W)}}invokeOnInitCallbacks(W,ie){const ve=this.onInitCallbacks.get(ie);if(ve)for(const st of ve)try{st(W,ie)}catch{}}getOrInitializeService({instanceIdentifier:W,options:ie={}}){let ve=this.instances.get(W);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=W,ke===Ce?void 0:ke),options:ie}),this.instances.set(W,ve),this.instancesOptions.set(W,ie),this.invokeOnInitCallbacks(ve,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ve)}catch{}var ke;return ve||null}normalizeInstanceIdentifier(W=Ce){return this.component?this.component.multipleInstances?W:Ce:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const ie=this.getProvider(W.name);if(ie.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);ie.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const ie=new pe(W,this);return this.providers.set(W,ie),ie}getProviders(){return Array.from(this.providers.values())}}},8041:(ln,Ye,F)=>{F.d(Ye,{$b:()=>p,Ey:()=>ke,He:()=>Ne,Vy:()=>Te});const d=[];var p=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(p||{});const n={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},Ce=p.INFO,pe={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},ye=(W,ie,...ve)=>{if(ie<W.logLevel)return;const st=(new Date).toISOString(),$e=pe[ie];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[$e](`[${st}]  ${W.name}:`,...ve)};class Te{constructor(ie){this.name=ie,this._logLevel=Ce,this._logHandler=ye,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in p))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?n[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...ie),this._logHandler(this,p.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...ie),this._logHandler(this,p.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,p.INFO,...ie),this._logHandler(this,p.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,p.WARN,...ie),this._logHandler(this,p.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...ie),this._logHandler(this,p.ERROR,...ie)}}function Ne(W){d.forEach(ie=>{ie.setLogLevel(W)})}function ke(W,ie){for(const ve of d){let st=null;ie&&ie.level&&(st=n[ie.level]),ve.userLogHandler=null===W?null:($e,At,...dt)=>{const jt=dt.map(Ot=>{if(null==Ot)return null;if("string"==typeof Ot)return Ot;if("number"==typeof Ot||"boolean"==typeof Ot)return Ot.toString();if(Ot instanceof Error)return Ot.message;try{return JSON.stringify(Ot)}catch{return null}}).filter(Ot=>Ot).join(" ");At>=(st??$e.logLevel)&&W({level:p[At].toLowerCase(),message:jt,args:dt,type:$e.name})}}}},2214:(ln,Ye,F)=>{F.d(Ye,{Dk:()=>d.getApps,KO:()=>d.registerVersion,Sx:()=>d.getApp,Wp:()=>d.initializeApp});var d=F(7852);(0,d.registerVersion)("firebase","10.14.1","app")},7935:(ln,Ye,F)=>{F.d(Ye,{A:()=>d.A});var d=F(3345);d.A.registerVersion("firebase","10.14.1","app-compat")},2438:(ln,Ye,F)=>{var d=F(467),p=F(3345),n=F(5504),Ce=F(1076),Te=(F(7852),F(8041),F(1362));function Ne(){return window}function ie(){return ie=(0,d.A)(function*(G,R,L){var se;const{BuildInfo:ge}=Ne();(0,n.au)(R.sessionId,"AuthEvent did not contain a session ID");const lt=yield function Ot(G){return pn.apply(this,arguments)}(R.sessionId),Mt={};return(0,n.av)()?Mt.ibi=ge.packageName:(0,n.aw)()?Mt.apn=ge.packageName:(0,n.ax)(G,"operation-not-supported-in-this-environment"),ge.displayName&&(Mt.appDisplayName=ge.displayName),Mt.sessionId=lt,(0,n.ay)(G,L,R.type,void 0,null!==(se=R.eventId)&&void 0!==se?se:void 0,Mt)}),ie.apply(this,arguments)}function st(){return(st=(0,d.A)(function*(G){const{BuildInfo:R}=Ne(),L={};(0,n.av)()?L.iosBundleId=R.packageName:(0,n.aw)()?L.androidPackageName=R.packageName:(0,n.ax)(G,"operation-not-supported-in-this-environment"),yield(0,n.az)(G,L)})).apply(this,arguments)}function dt(){return(dt=(0,d.A)(function*(G,R,L){const{cordova:se}=Ne();let ge=()=>{};try{yield new Promise((lt,Mt)=>{let mn=null;function Wt(){var xe;lt();const Pe=null===(xe=se.plugins.browsertab)||void 0===xe?void 0:xe.close;"function"==typeof Pe&&Pe(),"function"==typeof L?.close&&L.close()}function In(){mn||(mn=window.setTimeout(()=>{Mt((0,n.aB)(G,"redirect-cancelled-by-user"))},2e3))}function gr(){"visible"===document?.visibilityState&&In()}R.addPassiveListener(Wt),document.addEventListener("resume",In,!1),(0,n.aw)()&&document.addEventListener("visibilitychange",gr,!1),ge=()=>{R.removePassiveListener(Wt),document.removeEventListener("resume",In,!1),document.removeEventListener("visibilitychange",gr,!1),mn&&window.clearTimeout(mn)}})}finally{ge()}})).apply(this,arguments)}function pn(){return(pn=(0,d.A)(function*(G){const R=function He(G){if((0,n.au)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const R=new ArrayBuffer(G.length),L=new Uint8Array(R);for(let se=0;se<G.length;se++)L[se]=G.charCodeAt(se);return L}(G),L=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(L)).map(ge=>ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Je extends n.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInitialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInitialized(),this.passiveListeners.forEach(L=>L(R)),super.onEvent(R)}initialized(){var R=this;return(0,d.A)(function*(){yield R.initPromise})()}}function Et(G){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.A)(function*(G){const R=yield bn()._get(jn(G));return R&&(yield bn()._remove(jn(G))),R})).apply(this,arguments)}function on(){const G=[];for(let L=0;L<20;L++){const se=Math.floor(62*Math.random());G.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(se))}return G.join("")}function bn(){return(0,n.aE)(n.b)}function jn(G){return(0,n.aF)("authEvent",G.config.apiKey,G.name)}function Xt(G){if(!G?.includes("?"))return{};const[R,...L]=G.split("?");return(0,Ce.I9)(L.join("?"))}const ot=class je{constructor(){this._redirectPersistence=n.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=n.aG,this._overrideRedirectResult=n.aH}_initialize(R){var L=this;return(0,d.A)(function*(){const se=R._key();let ge=L.eventManagers.get(se);return ge||(ge=new Je(R),L.eventManagers.set(se,ge),L.attachCallbackListeners(R,ge)),ge})()}_openPopup(R){(0,n.ax)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,L,se,ge){var lt=this;return(0,d.A)(function*(){!function jt(G){var R,L,se,ge,lt,Mt,mn,Wt,In,gr;const xe=Ne();(0,n.aC)("function"==typeof(null===(R=xe?.universalLinks)||void 0===R?void 0:R.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,n.aC)(typeof(null===(L=xe?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,n.aC)("function"==typeof(null===(lt=null===(ge=null===(se=xe?.cordova)||void 0===se?void 0:se.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===lt?void 0:lt.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,n.aC)("function"==typeof(null===(Wt=null===(mn=null===(Mt=xe?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===mn?void 0:mn.browsertab)||void 0===Wt?void 0:Wt.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,n.aC)("function"==typeof(null===(gr=null===(In=xe?.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===gr?void 0:gr.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const Mt=yield lt._initialize(R);yield Mt.initialized(),Mt.resetRedirect(),(0,n.aI)(),yield lt._originValidation(R);const mn=function Ue(G,R,L=null){return{type:R,eventId:L,urlResponse:null,sessionId:on(),postBody:null,tenantId:G.tenantId,error:(0,n.aB)(G,"no-auth-event")}}(R,se,ge);yield function it(G,R){return bn()._set(jn(G),R)}(R,mn);const Wt=yield function W(G,R,L){return ie.apply(this,arguments)}(R,mn,L),In=yield function $e(G){const{cordova:R}=Ne();return new Promise(L=>{R.plugins.browsertab.isAvailable(se=>{let ge=null;se?R.plugins.browsertab.openUrl(G):ge=R.InAppBrowser.open(G,(0,n.aA)()?"_blank":"_system","location=yes"),L(ge)})})}(Wt);return function At(G,R,L){return dt.apply(this,arguments)}(R,Mt,In)})()}_isIframeWebStorageSupported(R,L){throw new Error("Method not implemented.")}_originValidation(R){const L=R._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function ve(G){return st.apply(this,arguments)}(R)),this.originValidationPromises[L]}attachCallbackListeners(R,L){const{universalLinks:se,handleOpenURL:ge,BuildInfo:lt}=Ne(),Mt=setTimeout((0,d.A)(function*(){yield Et(R),L.onEvent(un())}),500),mn=function(){var gr=(0,d.A)(function*(xe){clearTimeout(Mt);const Pe=yield Et(R);let ze=null;Pe&&xe?.url&&(ze=function Se(G,R){var L,se;const ge=function Yt(G){const R=Xt(G),L=R.link?decodeURIComponent(R.link):void 0,se=Xt(L).link,ge=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return Xt(ge).link||ge||se||L||G}(R);if(ge.includes("/__/auth/callback")){const lt=Xt(ge),Mt=lt.firebaseError?function Ft(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(lt.firebaseError)):null,mn=null===(se=null===(L=Mt?.code)||void 0===L?void 0:L.split("auth/"))||void 0===se?void 0:se[1],Wt=mn?(0,n.aB)(mn):null;return Wt?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:Wt,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:ge,postBody:null}}return null}(Pe,xe.url)),L.onEvent(ze||un())});return function(Pe){return gr.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,mn);const Wt=ge,In=`${lt.packageName.toLowerCase()}://`;Ne().handleOpenURL=function(){var gr=(0,d.A)(function*(xe){if(xe.toLowerCase().startsWith(In)&&mn({url:xe}),"function"==typeof Wt)try{Wt(xe)}catch(Pe){console.error(Pe)}});return function(xe){return gr.apply(this,arguments)}}()}};function un(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,n.aB)("no-auth-event")}}function at(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function Bt(G=(0,Ce.ZQ)()){return!("file:"!==at()&&"ionic:"!==at()&&"capacitor:"!==at()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function nn(){try{const G=self.localStorage,R=n.aN();if(G)return G.setItem(R,"1"),G.removeItem(R),!function Bn(G=(0,Ce.ZQ)()){return function mr(){return(0,Ce.lT)()&&11===document?.documentMode}()||function hn(G=(0,Ce.ZQ)()){return/Edge\/\d+/.test(G)}(G)}()||(0,Ce.zW)()}catch{return ir()&&(0,Ce.zW)()}return!1}function ir(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function et(){return"http:"===at()||"https:"===at()}()||(0,Ce.sr)()||Bt())&&!function Rn(){return(0,Ce.lV)()||(0,Ce.Ll)()}()&&nn()&&!ir()}function Qt(){return Bt()&&typeof document<"u"}function Jn(){return(Jn=(0,d.A)(function*(){return!!Qt()&&new Promise(G=>{const R=setTimeout(()=>{G(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),G(!0)})})})).apply(this,arguments)}const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},lr=n.aC,zt="persistence";function Zn(G){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.A)(function*(G){yield G._initializationPromise;const R=kr(),L=n.aF(zt,G.config.apiKey,G.name);R&&R.setItem(L,G._getPersistence())})).apply(this,arguments)}function kr(){var G;try{return(null===(G=function gn(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const Qr=n.aC;class nr{constructor(){this.browserResolver=n.aE(n.k),this.cordovaResolver=n.aE(ot),this.underlyingResolver=null,this._redirectPersistence=n.a,this._completeRedirectFn=n.aG,this._overrideRedirectResult=n.aH}_initialize(R){var L=this;return(0,d.A)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,L,se,ge){var lt=this;return(0,d.A)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(R,L,se,ge)})()}_openRedirect(R,L,se,ge){var lt=this;return(0,d.A)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(R,L,se,ge)})()}_isIframeWebStorageSupported(R,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,L)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Qt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,d.A)(function*(){if(R.underlyingResolver)return;const L=yield function Ht(){return Jn.apply(this,arguments)}();R.underlyingResolver=L?R.cordovaResolver:R.browserResolver})()}}function Jr(G){return G.unwrap()}function Cn(G){return Kn(G)}function Kn(G){const{_tokenResponse:R}=G instanceof Ce.g?G.customData:G;if(!R)return null;if(!(G instanceof Ce.g)&&"temporaryProof"in R&&"phoneNumber"in R)return n.P.credentialFromResult(G);const L=R.providerId;if(!L||L===n.p.PASSWORD)return null;let se;switch(L){case n.p.GOOGLE:se=n.X;break;case n.p.FACEBOOK:se=n.W;break;case n.p.GITHUB:se=n.Y;break;case n.p.TWITTER:se=n.$;break;default:const{oauthIdToken:ge,oauthAccessToken:lt,oauthTokenSecret:Mt,pendingToken:mn,nonce:Wt}=R;return lt||Mt||ge||mn?mn?L.startsWith("saml.")?n.aQ._create(L,mn):n.N._fromParams({providerId:L,signInMethod:L,pendingToken:mn,idToken:ge,accessToken:lt}):new n.Z(L).credential({idToken:ge,accessToken:lt,rawNonce:Wt}):null}return G instanceof Ce.g?se.credentialFromError(G):se.credentialFromResult(G)}function sr(G,R){return R.catch(L=>{throw L instanceof Ce.g&&function br(G,R){var L;const se=null===(L=R.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new nt(G,n.as(G,R));else if(se){const ge=Kn(R),lt=R;ge&&(lt.credential=ge,lt.tenantId=se.tenantId||void 0,lt.email=se.email||void 0,lt.phoneNumber=se.phoneNumber||void 0)}}(G,L),L}).then(L=>{const ge=L.user;return{operationType:L.operationType,credential:Cn(L),additionalUserInfo:n.aq(L),user:ft.getOrCreate(ge)}})}function Fn(G,R){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.A)(function*(G,R){const L=yield R;return{verificationId:L.verificationId,confirm:se=>sr(G,L.confirm(se))}})).apply(this,arguments)}class nt{constructor(R,L){this.resolver=L,this.auth=function gs(G){return G.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return sr(Jr(this.auth),this.resolver.resolveSignIn(R))}}class ft{constructor(R){this._delegate=R,this.multiFactor=n.at(R)}static getOrCreate(R){return ft.USER_MAP.has(R)||ft.USER_MAP.set(R,new ft(R)),ft.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var L=this;return(0,d.A)(function*(){return sr(L.auth,n.a2(L._delegate,R))})()}linkWithPhoneNumber(R,L){var se=this;return(0,d.A)(function*(){return Fn(se.auth,n.l(se._delegate,R,L))})()}linkWithPopup(R){var L=this;return(0,d.A)(function*(){return sr(L.auth,n.d(L._delegate,R,nr))})()}linkWithRedirect(R){var L=this;return(0,d.A)(function*(){return yield Zn(n.aJ(L.auth)),n.g(L._delegate,R,nr)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var L=this;return(0,d.A)(function*(){return sr(L.auth,n.a3(L._delegate,R))})()}reauthenticateWithPhoneNumber(R,L){return Fn(this.auth,n.r(this._delegate,R,L))}reauthenticateWithPopup(R){return sr(this.auth,n.e(this._delegate,R,nr))}reauthenticateWithRedirect(R){var L=this;return(0,d.A)(function*(){return yield Zn(n.aJ(L.auth)),n.h(L._delegate,R,nr)})()}sendEmailVerification(R){return n.ag(this._delegate,R)}unlink(R){var L=this;return(0,d.A)(function*(){return yield n.ap(L._delegate,R),L})()}updateEmail(R){return n.al(this._delegate,R)}updatePassword(R){return n.am(this._delegate,R)}updatePhoneNumber(R){return n.u(this._delegate,R)}updateProfile(R){return n.ak(this._delegate,R)}verifyBeforeUpdateEmail(R,L){return n.ah(this._delegate,R,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ft.USER_MAP=new WeakMap;const ae=n.aC;let Re=(()=>{class G{constructor(L,se){if(this.app=L,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ge}=L.options;ae(ge,"invalid-api-key",{appName:L.name}),ae(ge,"invalid-api-key",{appName:L.name});const lt=typeof window<"u"?nr:void 0;this._delegate=se.initialize({options:{persistence:Kt(ge,L.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(n.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ft.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,se){n.K(this._delegate,L,se)}applyActionCode(L){return n.a7(this._delegate,L)}checkActionCode(L){return n.a8(this._delegate,L)}confirmPasswordReset(L,se){return n.a6(this._delegate,L,se)}createUserWithEmailAndPassword(L,se){var ge=this;return(0,d.A)(function*(){return sr(ge._delegate,n.aa(ge._delegate,L,se))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return n.af(this._delegate,L)}isSignInWithEmailLink(L){return n.ad(this._delegate,L)}getRedirectResult(){var L=this;return(0,d.A)(function*(){ae($n(),L._delegate,"operation-not-supported-in-this-environment");const se=yield n.j(L._delegate,nr);return se?sr(L._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function Ke(G,R){(0,n.aJ)(G)._logFramework(R)}(this._delegate,L)}onAuthStateChanged(L,se,ge){const{next:lt,error:Mt,complete:mn}=Dt(L,se,ge);return this._delegate.onAuthStateChanged(lt,Mt,mn)}onIdTokenChanged(L,se,ge){const{next:lt,error:Mt,complete:mn}=Dt(L,se,ge);return this._delegate.onIdTokenChanged(lt,Mt,mn)}sendSignInLinkToEmail(L,se){return n.ac(this._delegate,L,se)}sendPasswordResetEmail(L,se){return n.a5(this._delegate,L,se||void 0)}setPersistence(L){var se=this;return(0,d.A)(function*(){let ge;switch(function xn(G,R){lr(Object.values(Vr).includes(R),G,"invalid-persistence-type"),(0,Ce.lV)()?lr(R!==Vr.SESSION,G,"unsupported-persistence-type"):(0,Ce.Ll)()?lr(R===Vr.NONE,G,"unsupported-persistence-type"):ir()?lr(R===Vr.NONE||R===Vr.LOCAL&&(0,Ce.zW)(),G,"unsupported-persistence-type"):lr(R===Vr.NONE||nn(),G,"unsupported-persistence-type")}(se._delegate,L),L){case Vr.SESSION:ge=n.a;break;case Vr.LOCAL:ge=(yield n.aE(n.i)._isAvailable())?n.i:n.b;break;case Vr.NONE:ge=n.U;break;default:return n.ax("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(ge)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return sr(this._delegate,n.a0(this._delegate))}signInWithCredential(L){return sr(this._delegate,n.a1(this._delegate,L))}signInWithCustomToken(L){return sr(this._delegate,n.a4(this._delegate,L))}signInWithEmailAndPassword(L,se){return sr(this._delegate,n.ab(this._delegate,L,se))}signInWithEmailLink(L,se){return sr(this._delegate,n.ae(this._delegate,L,se))}signInWithPhoneNumber(L,se){return Fn(this._delegate,n.s(this._delegate,L,se))}signInWithPopup(L){var se=this;return(0,d.A)(function*(){return ae($n(),se._delegate,"operation-not-supported-in-this-environment"),sr(se._delegate,n.c(se._delegate,L,nr))})()}signInWithRedirect(L){var se=this;return(0,d.A)(function*(){return ae($n(),se._delegate,"operation-not-supported-in-this-environment"),yield Zn(se._delegate),n.f(se._delegate,L,nr)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return n.a9(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=Vr,G})();function Dt(G,R,L){let se=G;"function"!=typeof G&&({next:se,error:R,complete:L}=G);const ge=se;return{next:Mt=>ge(Mt&&ft.getOrCreate(Mt)),error:R,complete:L}}function Kt(G,R){const L=function Xr(G,R){const L=kr();if(!L)return[];const se=n.aF(zt,G,R);switch(L.getItem(se)){case Vr.NONE:return[n.U];case Vr.LOCAL:return[n.i,n.a];case Vr.SESSION:return[n.a];default:return[]}}(G,R);if(typeof self<"u"&&!L.includes(n.i)&&L.push(n.i),typeof window<"u")for(const se of[n.b,n.a])L.includes(se)||L.push(se);return L.includes(n.U)||L.push(n.U),L}class Yn{constructor(){this.providerId="phone",this._delegate=new n.P(Jr(p.A.auth()))}static credential(R,L){return n.P.credential(R,L)}verifyPhoneNumber(R,L){return this._delegate.verifyPhoneNumber(R,L)}unwrap(){return this._delegate}}Yn.PHONE_SIGN_IN_METHOD=n.P.PHONE_SIGN_IN_METHOD,Yn.PROVIDER_ID=n.P.PROVIDER_ID;const Hr=n.aC;class Sr{constructor(R,L,se=p.A.app()){var ge;Hr(null===(ge=se.options)||void 0===ge?void 0:ge.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new n.R(se.auth(),R,L),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tt(G){G.INTERNAL.registerComponent(new Te.uA("auth-compat",R=>{const L=R.getProvider("app-compat").getImmediate(),se=R.getProvider("auth");return new Re(L,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:n.A.EMAIL_SIGNIN,PASSWORD_RESET:n.A.PASSWORD_RESET,RECOVER_EMAIL:n.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:n.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:n.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:n.A.VERIFY_EMAIL}},EmailAuthProvider:n.V,FacebookAuthProvider:n.W,GithubAuthProvider:n.Y,GoogleAuthProvider:n.X,OAuthProvider:n.Z,SAMLAuthProvider:n._,PhoneAuthProvider:Yn,PhoneMultiFactorGenerator:n.m,RecaptchaVerifier:Sr,TwitterAuthProvider:n.$,Auth:Re,AuthCredential:n.L,Error:Ce.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.5.14")}(p.A)},467:(ln,Ye,F)=>{function d(n,Ce,pe,ye,Te,Ne,ke){try{var W=n[Ne](ke),ie=W.value}catch(ve){return void pe(ve)}W.done?Ce(ie):Promise.resolve(ie).then(ye,Te)}function p(n){return function(){var Ce=this,pe=arguments;return new Promise(function(ye,Te){var Ne=n.apply(Ce,pe);function ke(ie){d(Ne,ye,Te,ke,W,"next",ie)}function W(ie){d(Ne,ye,Te,ke,W,"throw",ie)}ke(void 0)})}}F.d(Ye,{A:()=>p})},1635:(ln,Ye,F)=>{function Ce(Ke,Ae){var be={};for(var Be in Ke)Object.prototype.hasOwnProperty.call(Ke,Be)&&Ae.indexOf(Be)<0&&(be[Be]=Ke[Be]);if(null!=Ke&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(Be=Object.getOwnPropertySymbols(Ke);at<Be.length;at++)Ae.indexOf(Be[at])<0&&Object.prototype.propertyIsEnumerable.call(Ke,Be[at])&&(be[Be[at]]=Ke[Be[at]])}return be}function ve(Ke,Ae,be,Be){return new(be||(be=Promise))(function(et,Bt){function Rn(Bn){try{hn(Be.next(Bn))}catch(nn){Bt(nn)}}function mr(Bn){try{hn(Be.throw(Bn))}catch(nn){Bt(nn)}}function hn(Bn){Bn.done?et(Bn.value):function at(et){return et instanceof be?et:new be(function(Bt){Bt(et)})}(Bn.value).then(Rn,mr)}hn((Be=Be.apply(Ke,Ae||[])).next())})}function fe(Ke){return this instanceof fe?(this.v=Ke,this):new fe(Ke)}function Je(Ke,Ae,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Be=be.apply(Ke,Ae||[]),et=[];return at=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Rn("next"),Rn("throw"),Rn("return",function Bt($n){return function(Qt){return Promise.resolve(Qt).then($n,nn)}}),at[Symbol.asyncIterator]=function(){return this},at;function Rn($n,Qt){Be[$n]&&(at[$n]=function(Ht){return new Promise(function(Jn,gn){et.push([$n,Ht,Jn,gn])>1||mr($n,Ht)})},Qt&&(at[$n]=Qt(at[$n])))}function mr($n,Qt){try{!function hn($n){$n.value instanceof fe?Promise.resolve($n.value.v).then(Bn,nn):ir(et[0][2],$n)}(Be[$n](Qt))}catch(Ht){ir(et[0][3],Ht)}}function Bn($n){mr("next",$n)}function nn($n){mr("throw",$n)}function ir($n,Qt){$n(Qt),et.shift(),et.length&&mr(et[0][0],et[0][1])}}function it(Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Ae=Ke[Symbol.asyncIterator];return Ae?Ae.call(Ke):(Ke=function dt(Ke){var Ae="function"==typeof Symbol&&Symbol.iterator,be=Ae&&Ke[Ae],Be=0;if(be)return be.call(Ke);if(Ke&&"number"==typeof Ke.length)return{next:function(){return Ke&&Be>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Be++],done:!Ke}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ke),be={},Be("next"),Be("throw"),Be("return"),be[Symbol.asyncIterator]=function(){return this},be);function Be(et){be[et]=Ke[et]&&function(Bt){return new Promise(function(Rn,mr){!function at(et,Bt,Rn,mr){Promise.resolve(mr).then(function(hn){et({value:hn,done:Rn})},Bt)}(Rn,mr,(Bt=Ke[et](Bt)).done,Bt.value)})}}}F.d(Ye,{AQ:()=>Je,N3:()=>fe,Tt:()=>Ce,sH:()=>ve,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},ln=>{ln(ln.s=7875)}]);