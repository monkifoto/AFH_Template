"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{4033:(Zt,Qe,B)=>{B.d(Qe,{$:()=>Cs,A:()=>de,G:()=>We,K:()=>bi,L:()=>ds,N:()=>we,P:()=>zf,R:()=>Sa,U:()=>on,V:()=>Gi,W:()=>mr,X:()=>Js,Y:()=>Ki,Z:()=>Yr,_:()=>Is,a:()=>xt,a0:()=>Do,a1:()=>So,a2:()=>$s,a3:()=>Tl,a4:()=>nc,a5:()=>Tu,a6:()=>wa,a7:()=>_o,a8:()=>$a,a9:()=>oo,aA:()=>Zn,aB:()=>Je,aC:()=>Ie,aD:()=>zc,aE:()=>pt,aF:()=>Kt,aG:()=>Wd,aH:()=>Vh,aI:()=>Io,aJ:()=>dr,aN:()=>za,aQ:()=>as,aa:()=>ao,ab:()=>wu,ac:()=>yo,ad:()=>Au,ae:()=>pa,af:()=>D,ag:()=>U,ah:()=>Ce,ak:()=>Tr,al:()=>Vr,am:()=>cr,ap:()=>z,aq:()=>to,as:()=>Su,at:()=>Pu,au:()=>en,av:()=>ni,aw:()=>Xr,ax:()=>Ue,ay:()=>Oa,az:()=>Kd,b:()=>xo,c:()=>tu,d:()=>Wf,e:()=>xu,f:()=>Pa,g:()=>Lh,h:()=>$c,i:()=>O,j:()=>Gf,k:()=>Xd,l:()=>ma,m:()=>Kc,p:()=>Fe,r:()=>Lc,s:()=>Pl,u:()=>Ou});var l=B(467),le=B(7852),g=B(1076),Ae=B(8041),ye=B(1635),Se=B(1362);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},It=function ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new g.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new Ae.Vy("@firebase/auth");function Ke(C,...f){bt.logLevel<=Ae.$b.ERROR&&bt.error(`Auth (${le.SDK_VERSION}): ${C}`,...f)}function Ue(C,...f){throw St(C,...f)}function Je(C,...f){return St(C,...f)}function ze(C,f,_){const A=Object.assign(Object.assign({},It()),{[f]:_});return new g.FA("auth","Firebase",A).create(f,{appName:C.name})}function Xe(C){return ze(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mt(C,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&Ue(C,"argument-error"),ze(C,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(C,...f){if("string"!=typeof C){const _=f[0],A=[...f.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(_,...A)}return gt.create(C,...f)}function Ie(C,f,..._){if(!C)throw St(f,..._)}function jt(C){const f="INTERNAL ASSERTION FAILED: "+C;throw Ke(f),new Error(f)}function en(C,f){C||jt(f)}function zn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Et(){return"http:"===Mt()||"https:"===Mt()}function Mt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class fe{constructor(f,_){this.shortDelay=f,this.longDelay=_,en(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,g.jZ)()||(0,g.lV)()}get(){return function Vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Et()||(0,g.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ue(C,f){en(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class ge{static initialize(f,_,A){this.fetchImpl=f,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const De={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pe=new fe(3e4,6e4);function Te(C,f){return C.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:C.tenantId}):f}function Le(C,f,_,A){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.A)(function*(C,f,_,A,q={}){return _t(C,q,(0,l.A)(function*(){let oe={},ke={};A&&("GET"===f?ke=A:oe={body:JSON.stringify(A)});const ot=(0,g.Am)(Object.assign({key:C.config.apiKey},ke)).slice(1),Nt=yield C._getAdditionalHeaders();return Nt["Content-Type"]="application/json",C.languageCode&&(Nt["X-Firebase-Locale"]=C.languageCode),ge.fetch()(gn(C,C.config.apiHost,_,ot),Object.assign({method:f,headers:Nt,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function _t(C,f,_){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.A)(function*(C,f,_){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},De),f);try{const q=new Ft(C),oe=yield Promise.race([_(),q.promise]);q.clearNetworkTimeout();const ke=yield oe.json();if("needConfirmation"in ke)throw _n(C,"account-exists-with-different-credential",ke);if(oe.ok&&!("errorMessage"in ke))return ke;{const ot=oe.ok?ke.errorMessage:ke.error.message,[Nt,In]=ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw _n(C,"credential-already-in-use",ke);if("EMAIL_EXISTS"===Nt)throw _n(C,"email-already-in-use",ke);if("USER_DISABLED"===Nt)throw _n(C,"user-disabled",ke);const Ln=A[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw ze(C,Ln,In);Ue(C,Ln)}}catch(q){if(q instanceof g.g)throw q;Ue(C,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function qt(C,f,_,A){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.A)(function*(C,f,_,A,q={}){const oe=yield Le(C,f,_,A,q);return"mfaPendingCredential"in oe&&Ue(C,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function gn(C,f,_,A){const q=`${f}${_}?${A}`;return C.config.emulator?ue(C.config,q):`${C.config.apiScheme}://${q}`}function ar(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ft{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(Je(this.auth,"network-request-failed")),pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _n(C,f,_){const A={appName:C.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const q=Je(C,f,A);return q.customData._tokenResponse=_,q}function On(C){return void 0!==C&&void 0!==C.getResponse}function Lt(C){return void 0!==C&&void 0!==C.enterprise}class Pt{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===f)return ar(_.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function sn(){return(sn=(0,l.A)(function*(C){return(yield Le(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pr(C,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.A)(function*(C,f){return Le(C,"GET","/v2/recaptchaConfig",Te(C,f))})).apply(this,arguments)}function un(){return(un=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function mn(){return(mn=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ur(C,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Zr(C){if(C)try{const f=new Date(Number(C));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Ji(){return(Ji=(0,l.A)(function*(C,f=!1){const _=(0,g.Ku)(C),A=yield _.getIdToken(f),q=ti(A);Ie(q&&q.exp&&q.auth_time&&q.iat,_.auth,"internal-error");const oe="object"==typeof q.firebase?q.firebase:void 0,ke=oe?.sign_in_provider;return{claims:q,token:A,authTime:Zr(Yt(q.auth_time)),issuedAtTime:Zr(Yt(q.iat)),expirationTime:Zr(Yt(q.exp)),signInProvider:ke||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function Yt(C){return 1e3*Number(C)}function ti(C){const[f,_,A]=C.split(".");if(void 0===f||void 0===_||void 0===A)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,g.u)(_);return q?JSON.parse(q):(Ke("Failed to decode base64 JWT payload"),null)}catch(q){return Ke("Caught error parsing JWT payload as JSON",q?.toString()),null}}function jn(C){const f=ti(C);return Ie(f,"internal-error"),Ie(typeof f.exp<"u","internal-error"),Ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function lr(C,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.A)(function*(C,f,_=!1){if(_)return f;try{return yield f}catch(A){throw A instanceof g.g&&function mi({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}class je{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const q=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(f);this.timerId=setTimeout((0,l.A)(function*(){yield _.iteration()}),A)}iteration(){var f=this;return(0,l.A)(function*(){try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&f.schedule(!0))}f.schedule()})()}}class ct{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function se(C){return be.apply(this,arguments)}function be(){return(be=(0,l.A)(function*(C){var f;const _=C.auth,A=yield C.getIdToken(),q=yield lr(C,ur(_,{idToken:A}));Ie(q?.users.length,_,"internal-error");const oe=q.users[0];C._notifyReloadListener(oe);const ke=null!==(f=oe.providerUserInfo)&&void 0!==f&&f.length?Sr(oe.providerUserInfo):[],ot=function Tn(C,f){return[...C.filter(A=>!f.some(q=>q.providerId===A.providerId)),...f]}(C.providerData,ke),Ln=!!C.isAnonymous&&!(C.email&&oe.passwordHash||ot?.length),Ur={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:ot,metadata:new ct(oe.createdAt,oe.lastLoginAt),isAnonymous:Ln};Object.assign(C,Ur)})).apply(this,arguments)}function Ut(){return(Ut=(0,l.A)(function*(C){const f=(0,g.Ku)(C);yield se(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Sr(C){return C.map(f=>{var{providerId:_}=f,A=(0,ye.Tt)(f,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Me(){return(Me=(0,l.A)(function*(C,f){const _=yield _t(C,{},(0,l.A)(function*(){const A=(0,g.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:q,apiKey:oe}=C.config,ke=gn(C,q,"/v1/token",`key=${oe}`),ot=yield C._getAdditionalHeaders();return ot["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()(ke,{method:"POST",headers:ot,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,l.A)(function*(C,f){return Le(C,"POST","/v2/accounts:revokeToken",Te(C,f))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ie(f.idToken,"internal-error"),Ie(typeof f.idToken<"u","internal-error"),Ie(typeof f.refreshToken<"u","internal-error");const _="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):jn(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}updateFromIdToken(f){Ie(0!==f.length,"internal-error");const _=jn(f);this.updateTokensAndExpiration(f,null,_)}getToken(f,_=!1){var A=this;return(0,l.A)(function*(){return _||!A.accessToken||A.isExpired?(Ie(A.refreshToken,f,"user-token-expired"),A.refreshToken?(yield A.refresh(f,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var A=this;return(0,l.A)(function*(){const{accessToken:q,refreshToken:oe,expiresIn:ke}=yield function nr(C,f){return Me.apply(this,arguments)}(f,_);A.updateTokensAndExpiration(q,oe,Number(ke))})()}updateTokensAndExpiration(f,_,A){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(f,_){const{refreshToken:A,accessToken:q,expirationTime:oe}=_,ke=new V;return A&&(Ie("string"==typeof A,"internal-error",{appName:f}),ke.refreshToken=A),q&&(Ie("string"==typeof q,"internal-error",{appName:f}),ke.accessToken=q),oe&&(Ie("number"==typeof oe,"internal-error",{appName:f}),ke.expirationTime=oe),ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return jt("not implemented")}}function F(C,f){Ie("string"==typeof C||typeof C>"u","internal-error",{appName:f})}class ce{constructor(f){var{uid:_,auth:A,stsTokenManager:q}=f,oe=(0,ye.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new je(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new ct(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,l.A)(function*(){const A=yield lr(_,_.stsTokenManager.getToken(_.auth,f));return Ie(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(f){return function ei(C){return Ji.apply(this,arguments)}(this,f)}reload(){return function st(C){return Ut.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const _=new ce(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(f){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var A=this;return(0,l.A)(function*(){let q=!1;f.idToken&&f.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(f),q=!0),_&&(yield se(A)),yield A.auth._persistUserIfCurrent(A),q&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var f=this;return(0,l.A)(function*(){if((0,le._isFirebaseServerApp)(f.auth.app))return Promise.reject(Xe(f.auth));const _=yield f.getIdToken();return yield lr(f,function Ot(C,f){return un.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var A,q,oe,ke,ot,Nt,In,Ln;const Ur=null!==(A=_.displayName)&&void 0!==A?A:void 0,Vo=null!==(q=_.email)&&void 0!==q?q:void 0,ou=null!==(oe=_.phoneNumber)&&void 0!==oe?oe:void 0,au=null!==(ke=_.photoURL)&&void 0!==ke?ke:void 0,Lo=null!==(ot=_.tenantId)&&void 0!==ot?ot:void 0,_c=null!==(Nt=_._redirectEventId)&&void 0!==Nt?Nt:void 0,Gl=null!==(In=_.createdAt)&&void 0!==In?In:void 0,ju=null!==(Ln=_.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:Hu,emailVerified:th,isAnonymous:Hh,providerData:Kl,stsTokenManager:nh}=_;Ie(Hu&&nh,f,"internal-error");const uu=V.fromJSON(this.name,nh);Ie("string"==typeof Hu,f,"internal-error"),F(Ur,f.name),F(Vo,f.name),Ie("boolean"==typeof th,f,"internal-error"),Ie("boolean"==typeof Hh,f,"internal-error"),F(ou,f.name),F(au,f.name),F(Lo,f.name),F(_c,f.name),F(Gl,f.name),F(ju,f.name);const zu=new ce({uid:Hu,auth:f,email:Vo,emailVerified:th,displayName:Ur,isAnonymous:Hh,photoURL:au,phoneNumber:ou,tenantId:Lo,stsTokenManager:uu,createdAt:Gl,lastLoginAt:ju});return Kl&&Array.isArray(Kl)&&(zu.providerData=Kl.map(ql=>Object.assign({},ql))),_c&&(zu._redirectEventId=_c),zu}static _fromIdTokenResponse(f,_,A=!1){return(0,l.A)(function*(){const q=new V;q.updateFromServerResponse(_);const oe=new ce({uid:_.localId,auth:f,stsTokenManager:q,isAnonymous:A});return yield se(oe),oe})()}static _fromGetAccountInfoResponse(f,_,A){return(0,l.A)(function*(){const q=_.users[0];Ie(void 0!==q.localId,"internal-error");const oe=void 0!==q.providerUserInfo?Sr(q.providerUserInfo):[],ke=!(q.email&&q.passwordHash||oe?.length),ot=new V;ot.updateFromIdToken(A);const Nt=new ce({uid:q.localId,auth:f,stsTokenManager:ot,isAnonymous:ke}),In={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:oe,metadata:new ct(q.createdAt,q.lastLoginAt),isAnonymous:!(q.email&&q.passwordHash||oe?.length)};return Object.assign(Nt,In),Nt})()}}const Ne=new Map;function pt(C){en(C instanceof Function,"Expected a class definition");let f=Ne.get(C);return f?(en(f instanceof C,"Instance stored in cache mismatched with class"),f):(f=new C,Ne.set(C,f),f)}const on=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(_,A){var q=this;return(0,l.A)(function*(){q.storage[_]=A})()}_get(_){var A=this;return(0,l.A)(function*(){const q=A.storage[_];return void 0===q?null:q})()}_remove(_){var A=this;return(0,l.A)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return C.type="NONE",C})();function Kt(C,f,_){return`firebase:${C}:${f}:${_}`}class Jt{constructor(f,_,A){this.persistence=f,this.auth=_,this.userKey=A;const{config:q,name:oe}=this.auth;this.fullUserKey=Kt(this.userKey,q.apiKey,oe),this.fullPersistenceKey=Kt("persistence",q.apiKey,oe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.A)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?ce._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,l.A)(function*(){if(_.persistence===f)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,A="authUser"){return(0,l.A)(function*(){if(!_.length)return new Jt(pt(on),f,A);const q=(yield Promise.all(_.map(function(){var In=(0,l.A)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return In.apply(this,arguments)}}()))).filter(In=>In);let oe=q[0]||pt(on);const ke=Kt(A,f.config.apiKey,f.name);let ot=null;for(const In of _)try{const Ln=yield In._get(ke);if(Ln){const Ur=ce._fromJSON(f,Ln);In!==oe&&(ot=Ur),oe=In;break}}catch{}const Nt=q.filter(In=>In._shouldAllowMigration);return oe._shouldAllowMigration&&Nt.length?(oe=Nt[0],ot&&(yield oe._set(ke,ot.toJSON())),yield Promise.all(_.map(function(){var In=(0,l.A)(function*(Ln){if(Ln!==oe)try{yield Ln._remove(ke)}catch{}});return function(Ln){return In.apply(this,arguments)}}())),new Jt(oe,f,A)):new Jt(oe,f,A)})()}}function Jn(C){const f=C.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Us(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(vn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(zi(f))return"Blackberry";if(ls(f))return"Webos";if(ci(f))return"Safari";if((f.includes("chrome/")||kr(f))&&!f.includes("edge/"))return"Chrome";if(Xr(f))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function vn(C=(0,g.ZQ)()){return/firefox\//i.test(C)}function ci(C=(0,g.ZQ)()){const f=C.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function kr(C=(0,g.ZQ)()){return/crios\//i.test(C)}function Us(C=(0,g.ZQ)()){return/iemobile/i.test(C)}function Xr(C=(0,g.ZQ)()){return/android/i.test(C)}function zi(C=(0,g.ZQ)()){return/blackberry/i.test(C)}function ls(C=(0,g.ZQ)()){return/webos/i.test(C)}function ni(C=(0,g.ZQ)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Zn(C=(0,g.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function yt(C=(0,g.ZQ)()){return ni(C)||Xr(C)||ls(C)||zi(C)||/windows phone/i.test(C)||Us(C)}function bn(C,f=[]){let _;switch(C){case"Browser":_=Jn((0,g.ZQ)());break;case"Worker":_=`${Jn((0,g.ZQ)())}-${C}`;break;default:_=C}const A=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${le.SDK_VERSION}/${A}`}class Mn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const A=oe=>new Promise((ke,ot)=>{try{ke(f(oe))}catch(Nt){ot(Nt)}});A.onAbort=_,this.queue.push(A);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,l.A)(function*(){if(_.auth.currentUser===f)return;const A=[];try{for(const q of _.queue)yield q(f),q.onAbort&&A.push(q.onAbort)}catch(q){A.reverse();for(const oe of A)try{oe()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}function Wn(){return(Wn=(0,l.A)(function*(C,f={}){return Le(C,"GET","/v2/passwordPolicy",Te(C,f))})).apply(this,arguments)}class Mr{constructor(f){var _,A,q,oe;const ke=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=ke.minPasswordLength)&&void 0!==_?_:6,ke.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ke.maxPasswordLength),void 0!==ke.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ke.containsLowercaseCharacter),void 0!==ke.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ke.containsUppercaseCharacter),void 0!==ke.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ke.containsNumericCharacter),void 0!==ke.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ke.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(A=f.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(oe=f.forceUpgradeOnSignin)&&void 0!==oe&&oe,this.schemaVersion=f.schemaVersion}validatePassword(f){var _,A,q,oe,ke,ot;const Nt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Nt),this.validatePasswordCharacterOptions(f,Nt),Nt.isValid&&(Nt.isValid=null===(_=Nt.meetsMinPasswordLength)||void 0===_||_),Nt.isValid&&(Nt.isValid=null===(A=Nt.meetsMaxPasswordLength)||void 0===A||A),Nt.isValid&&(Nt.isValid=null===(q=Nt.containsLowercaseLetter)||void 0===q||q),Nt.isValid&&(Nt.isValid=null===(oe=Nt.containsUppercaseLetter)||void 0===oe||oe),Nt.isValid&&(Nt.isValid=null===(ke=Nt.containsNumericCharacter)||void 0===ke||ke),Nt.isValid&&(Nt.isValid=null===(ot=Nt.containsNonAlphanumericCharacter)||void 0===ot||ot),Nt}validatePasswordLengthOptions(f,_){const A=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;A&&(_.meetsMinPasswordLength=f.length>=A),q&&(_.meetsMaxPasswordLength=f.length<=q)}validatePasswordCharacterOptions(f,_){let A;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let q=0;q<f.length;q++)A=f.charAt(q),this.updatePasswordCharacterOptionsStatuses(_,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(f,_,A,q,oe){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=oe))}}class li{constructor(f,_,A,q){this.app=f,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ys(this),this.idTokenSubscription=new ys(this),this.beforeStateQueue=new Mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(f,_){var A=this;return _&&(this._popupRedirectResolver=pt(_)),this._initializationPromise=this.queue((0,l.A)(function*(){var q,oe;if(!A._deleted&&(A.persistenceManager=yield Jt.create(A,f),!A._deleted)){if(null!==(q=A._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(oe=A.currentUser)||void 0===oe?void 0:oe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.A)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(f){var _=this;return(0,l.A)(function*(){try{const A=yield ur(_,{idToken:f}),q=yield ce._fromGetAccountInfoResponse(_,A,f);yield _.directlySetCurrentUser(q)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var _=this;return(0,l.A)(function*(){var A;if((0,le._isFirebaseServerApp)(_.app)){const ot=_.app.settings.authIdToken;return ot?new Promise(Nt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(ot).then(Nt,Nt))}):_.directlySetCurrentUser(null)}const q=yield _.assertedPersistence.getCurrentUser();let oe=q,ke=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ot=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,Nt=oe?._redirectEventId,In=yield _.tryRedirectSignIn(f);(!ot||ot===Nt)&&In?.user&&(oe=In.user,ke=!0)}if(!oe)return _.directlySetCurrentUser(null);if(!oe._redirectEventId){if(ke)try{yield _.beforeStateQueue.runMiddleware(oe)}catch(ot){oe=q,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ot))}return oe?_.reloadAndSetCurrentUserOrClear(oe):_.directlySetCurrentUser(null)}return Ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===oe._redirectEventId?_.directlySetCurrentUser(oe):_.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(f){var _=this;return(0,l.A)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,l.A)(function*(){try{yield se(f)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var f=this;return(0,l.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,l.A)(function*(){if((0,le._isFirebaseServerApp)(_.app))return Promise.reject(Xe(_));const A=f?(0,g.Ku)(f):null;return A&&Ie(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(f,_=!1){var A=this;return(0,l.A)(function*(){if(!A._deleted)return f&&Ie(A.tenantId===f.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(f)),A.queue((0,l.A)(function*(){yield A.directlySetCurrentUser(f),A.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.A)(function*(){return(0,le._isFirebaseServerApp)(f.app)?Promise.reject(Xe(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var _=this;return(0,le._isFirebaseServerApp)(this.app)?Promise.reject(Xe(this)):this.queue((0,l.A)(function*(){yield _.assertedPersistence.setPersistence(pt(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var _=this;return(0,l.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const A=_._getPasswordPolicyInternal();return A.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,l.A)(function*(){const _=yield function wn(C){return Wn.apply(this,arguments)}(f),A=new Mr(_);null===f.tenantId?f._projectPasswordPolicy=A:f._tenantPasswordPolicies[f.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new g.FA("auth","Firebase",f())}onAuthStateChanged(f,_,A){return this.registerStateListener(this.authStateSubscription,f,_,A)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,A){return this.registerStateListener(this.idTokenSubscription,f,_,A)}authStateReady(){return new Promise((f,_)=>{if(this.currentUser)f();else{const A=this.onAuthStateChanged(()=>{A(),f()},_)}})}revokeAccessToken(f){var _=this;return(0,l.A)(function*(){if(_.currentUser){const A=yield _.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:A};null!=_.tenantId&&(q.tenantId=_.tenantId),yield function ee(C,f){return H.apply(this,arguments)}(_,q)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var A=this;return(0,l.A)(function*(){const q=yield A.getOrInitRedirectPersistenceManager(_);return null===f?q.removeCurrentUser():q.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,l.A)(function*(){if(!_.redirectPersistenceManager){const A=f&&pt(f)||_._popupRedirectResolver;Ie(A,_,"argument-error"),_.redirectPersistenceManager=yield Jt.create(_,[pt(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,l.A)(function*(){var A,q;return _._isInitialized&&(yield _.queue((0,l.A)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===f?_._currentUser:(null===(q=_.redirectUser)||void 0===q?void 0:q._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,l.A)(function*(){if(f===_.currentUser)return _.queue((0,l.A)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,A,q){if(this._deleted)return()=>{};const oe="function"==typeof _?_:_.next.bind(_);let ke=!1;const ot=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(ot,this,"internal-error"),ot.then(()=>{ke||oe(this.currentUser)}),"function"==typeof _){const Nt=f.addObserver(_,A,q);return()=>{ke=!0,Nt()}}{const Nt=f.addObserver(_);return()=>{ke=!0,Nt()}}}directlySetCurrentUser(f){var _=this;return(0,l.A)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.A)(function*(){var _;const A={"X-Client-Version":f.clientVersion};f.app.options.appId&&(A["X-Firebase-gmpid"]=f.app.options.appId);const q=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();q&&(A["X-Firebase-Client"]=q);const oe=yield f._getAppCheckToken();return oe&&(A["X-Firebase-AppCheck"]=oe),A})()}_getAppCheckToken(){var f=this;return(0,l.A)(function*(){var _;const A=yield null===(_=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function Xt(C,...f){bt.logLevel<=Ae.$b.WARN&&bt.warn(`Auth (${le.SDK_VERSION}): ${C}`,...f)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function dr(C){return(0,g.Ku)(C)}class ys{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,g.tD)(_=>this.observer=_)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ri={loadJS:()=>(0,l.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ai(C){return ri.loadJS(C)}function Si(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Pr{constructor(f){this.type="recaptcha-enterprise",this.auth=dr(f)}verify(f="verify",_=!1){var A=this;return(0,l.A)(function*(){function oe(){return oe=(0,l.A)(function*(ot){if(!_){if(null==ot.tenantId&&null!=ot._agentRecaptchaConfig)return ot._agentRecaptchaConfig.siteKey;if(null!=ot.tenantId&&void 0!==ot._tenantRecaptchaConfigs[ot.tenantId])return ot._tenantRecaptchaConfigs[ot.tenantId].siteKey}return new Promise(function(){var Nt=(0,l.A)(function*(In,Ln){pr(ot,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ur=>{if(void 0!==Ur.recaptchaKey){const Vo=new Pt(Ur);return null==ot.tenantId?ot._agentRecaptchaConfig=Vo:ot._tenantRecaptchaConfigs[ot.tenantId]=Vo,In(Vo.siteKey)}Ln(new Error("recaptcha Enterprise site key undefined"))}).catch(Ur=>{Ln(Ur)})});return function(In,Ln){return Nt.apply(this,arguments)}}())}),oe.apply(this,arguments)}function ke(ot,Nt,In){const Ln=window.grecaptcha;Lt(Ln)?Ln.enterprise.ready(()=>{Ln.enterprise.execute(ot,{action:f}).then(Ur=>{Nt(Ur)}).catch(()=>{Nt("NO_RECAPTCHA")})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ot,Nt)=>{(function q(ot){return oe.apply(this,arguments)})(A.auth).then(In=>{if(!_&&Lt(window.grecaptcha))ke(In,ot,Nt);else{if(typeof window>"u")return void Nt(new Error("RecaptchaVerifier is only supported in browser"));let Ln=function Ui(){return ri.recaptchaEnterpriseScript}();0!==Ln.length&&(Ln+=In),ai(Ln).then(()=>{ke(In,ot,Nt)}).catch(Ur=>{Nt(Ur)})}}).catch(In=>{Nt(In)})})})()}}function Rr(C,f,_){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.A)(function*(C,f,_,A=!1){const q=new Pr(C);let oe;try{oe=yield q.verify(_)}catch{oe=yield q.verify(_,!0)}const ke=Object.assign({},f);return Object.assign(ke,A?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ke})).apply(this,arguments)}function Wi(C,f,_,A){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,l.A)(function*(C,f,_,A){var q;if(null!==(q=C._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const oe=yield Rr(C,f,_,"getOobCode"===_);return A(C,oe)}return A(C,f).catch(function(){var oe=(0,l.A)(function*(ke){if("auth/missing-recaptcha-token"===ke.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ot=yield Rr(C,f,_,"getOobCode"===_);return A(C,ot)}return Promise.reject(ke)});return function(ke){return oe.apply(this,arguments)}}())}),Ni.apply(this,arguments)}function bi(C,f,_){const A=dr(C);Ie(A._canInitEmulator,A,"emulator-config-failed"),Ie(/^https?:\/\//.test(f),A,"invalid-emulator-scheme");const q=!!_?.disableWarnings,oe=hr(f),{host:ke,port:ot}=function Ai(C){const f=hr(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(f.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(A);if(q){const oe=q[1];return{host:oe,port:Pi(A.substr(oe.length+1))}}{const[oe,ke]=A.split(":");return{host:oe,port:Pi(ke)}}}(f);A.config.emulator={url:`${oe}//${ke}${null===ot?"":`:${ot}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ke,port:ot,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Xs(){function C(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function hr(C){const f=C.indexOf(":");return f<0?"":C.substr(0,f+1)}function Pi(C){if(!C)return null;const f=Number(C);return isNaN(f)?null:f}class ds{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return jt("not implemented")}_getIdTokenResponse(f){return jt("not implemented")}_linkToIdToken(f,_){return jt("not implemented")}_getReauthenticationResolver(f){return jt("not implemented")}}function wo(C,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:resetPassword",Te(C,f))})).apply(this,arguments)}function Wr(){return(Wr=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ki(C,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function es(){return(es=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:update",Te(C,f))})).apply(this,arguments)}function is(C,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.A)(function*(C,f){return qt(C,"POST","/v1/accounts:signInWithPassword",Te(C,f))})).apply(this,arguments)}function ts(C,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:sendOobCode",Te(C,f))})).apply(this,arguments)}function Sn(){return(Sn=(0,l.A)(function*(C,f){return ts(C,f)})).apply(this,arguments)}function er(C,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.A)(function*(C,f){return ts(C,f)})).apply(this,arguments)}function Ys(C,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,l.A)(function*(C,f){return ts(C,f)})).apply(this,arguments)}function br(){return(br=(0,l.A)(function*(C,f){return ts(C,f)})).apply(this,arguments)}function Es(){return(Es=(0,l.A)(function*(C,f){return qt(C,"POST","/v1/accounts:signInWithEmailLink",Te(C,f))})).apply(this,arguments)}function os(){return(os=(0,l.A)(function*(C,f){return qt(C,"POST","/v1/accounts:signInWithEmailLink",Te(C,f))})).apply(this,arguments)}class di extends ds{constructor(f,_,A,q=null){super("password",A),this._email=f,this._password=_,this._tenantId=q}static _fromEmailAndPassword(f,_){return new di(f,_,"password")}static _fromEmailAndCode(f,_,A=null){return new di(f,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,l.A)(function*(){switch(_.signInMethod){case"password":return Wi(f,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",is);case"emailLink":return function Ps(C,f){return Es.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:Ue(f,"internal-error")}})()}_linkToIdToken(f,_){var A=this;return(0,l.A)(function*(){switch(A.signInMethod){case"password":return Wi(f,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ki);case"emailLink":return function Vn(C,f){return os.apply(this,arguments)}(f,{idToken:_,email:A._email,oobCode:A._password});default:Ue(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function J(C,f){return G.apply(this,arguments)}function G(){return(G=(0,l.A)(function*(C,f){return qt(C,"POST","/v1/accounts:signInWithIdp",Te(C,f))})).apply(this,arguments)}class we extends ds{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new we(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):Ue("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:q}=_,oe=(0,ye.Tt)(_,["providerId","signInMethod"]);if(!A||!q)return null;const ke=new we(A,q);return ke.idToken=oe.idToken||void 0,ke.accessToken=oe.accessToken||void 0,ke.secret=oe.secret,ke.nonce=oe.nonce,ke.pendingToken=oe.pendingToken||null,ke}_getIdTokenResponse(f){return J(f,this.buildRequest())}_linkToIdToken(f,_){const A=this.buildRequest();return A.idToken=_,J(f,A)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,J(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,g.Am)(_)}return f}}function ft(){return(ft=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:sendVerificationCode",Te(C,f))})).apply(this,arguments)}function cn(){return(cn=(0,l.A)(function*(C,f){return qt(C,"POST","/v1/accounts:signInWithPhoneNumber",Te(C,f))})).apply(this,arguments)}function nn(){return(nn=(0,l.A)(function*(C,f){const _=yield qt(C,"POST","/v1/accounts:signInWithPhoneNumber",Te(C,f));if(_.temporaryProof)throw _n(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const tr={USER_NOT_FOUND:"user-not-found"};function hi(){return(hi=(0,l.A)(function*(C,f){return qt(C,"POST","/v1/accounts:signInWithPhoneNumber",Te(C,Object.assign(Object.assign({},f),{operation:"REAUTH"})),tr)})).apply(this,arguments)}class $r extends ds{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new $r({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new $r({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function Ht(C,f){return cn.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function Dt(C,f){return nn.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function En(C,f){return hi.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:A,verificationCode:q}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:A,code:q}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:A,phoneNumber:q,temporaryProof:oe}=f;return A||_||q||oe?new $r({verificationId:_,verificationCode:A,phoneNumber:q,temporaryProof:oe}):null}}class jr{constructor(f){var _,A,q,oe,ke,ot;const Nt=(0,g.I9)((0,g.hp)(f)),In=null!==(_=Nt.apiKey)&&void 0!==_?_:null,Ln=null!==(A=Nt.oobCode)&&void 0!==A?A:null,Ur=function fi(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=Nt.mode)&&void 0!==q?q:null);Ie(In&&Ln&&Ur,"argument-error"),this.apiKey=In,this.operation=Ur,this.code=Ln,this.continueUrl=null!==(oe=Nt.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(ke=Nt.languageCode)&&void 0!==ke?ke:null,this.tenantId=null!==(ot=Nt.tenantId)&&void 0!==ot?ot:null}static parseLink(f){const _=function si(C){const f=(0,g.I9)((0,g.hp)(C)).link,_=f?(0,g.I9)((0,g.hp)(f)).deep_link_id:null,A=(0,g.I9)((0,g.hp)(C)).deep_link_id;return(A?(0,g.I9)((0,g.hp)(A)).link:null)||A||_||f||C}(f);try{return new jr(_)}catch{return null}}}let Gi=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,A){return di._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const q=jr.parseLink(A);return Ie(q,"argument-error"),di._fromEmailAndCode(_,q.code,q.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ir{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class pi extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Yr extends pi{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return Ie("providerId"in _&&"signInMethod"in _,"argument-error"),we._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ie(f.idToken||f.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Yr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Yr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:q,pendingToken:oe,nonce:ke,providerId:ot}=f;if(!A&&!q&&!_&&!oe||!ot)return null;try{return new Yr(ot)._credential({idToken:_,accessToken:A,nonce:ke,pendingToken:oe})}catch{return null}}}let mr=(()=>{class C extends pi{constructor(){super("facebook.com")}static credential(_){return we._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Js=(()=>{class C extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return we._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:q}=_;if(!A&&!q)return null;try{return C.credential(A,q)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ki=(()=>{class C extends pi{constructor(){super("github.com")}static credential(_){return we._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class as extends ds{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return J(f,this.buildRequest())}_linkToIdToken(f,_){const A=this.buildRequest();return A.idToken=_,J(f,A)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,J(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:q,pendingToken:oe}=_;return A&&q&&oe&&A===q?new as(A,oe):null}static _create(f,_){return new as(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Is extends ir{constructor(f){Ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Is.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Is.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=as.fromJSON(f);return Ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:A}=f;if(!_||!A)return null;try{return as._create(A,_)}catch{return null}}}let Cs=(()=>{class C extends pi{constructor(){super("twitter.com")}static credential(_,A){return we._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:q}=_;if(!A||!q)return null;try{return C.credential(A,q)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Va(C,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.A)(function*(C,f){return qt(C,"POST","/v1/accounts:signUp",Te(C,f))})).apply(this,arguments)}class Fi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,A,q=!1){return(0,l.A)(function*(){const oe=yield ce._fromIdTokenResponse(f,A,q),ke=Ao(A);return new Fi({user:oe,providerId:ke,_tokenResponse:A,operationType:_})})()}static _forOperation(f,_,A){return(0,l.A)(function*(){yield f._updateTokensIfNecessary(A,!0);const q=Ao(A);return new Fi({user:f,providerId:q,_tokenResponse:A,operationType:_})})()}}function Ao(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Do(C){return La.apply(this,arguments)}function La(){return(La=(0,l.A)(function*(C){var f;if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C));const _=dr(C);if(yield _._initializationPromise,null!==(f=_.currentUser)&&void 0!==f&&f.isAnonymous)return new Fi({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Va(_,{returnSecureToken:!0}),q=yield Fi._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(q.user),q})).apply(this,arguments)}class Fr extends g.g{constructor(f,_,A,q){var oe;super(_.code,_.message),this.operationType=A,this.user=q,Object.setPrototypeOf(this,Fr.prototype),this.customData={appName:f.name,tenantId:null!==(oe=f.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(f,_,A,q){return new Fr(f,_,A,q)}}function Go(C,f,_,A){return("reauthenticate"===f?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Fr._fromErrorAndOperation(C,oe,f,A):oe})}function Ua(C){return new Set(C.map(({providerId:f})=>f).filter(f=>!!f))}function z(C,f){return X.apply(this,arguments)}function X(){return X=(0,l.A)(function*(C,f){const _=(0,g.Ku)(C);yield Oe(!0,_,f);const{providerUserInfo:A}=yield function Cn(C,f){return mn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),q=Ua(A||[]);return _.providerData=_.providerData.filter(oe=>q.has(oe.providerId)),q.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),X.apply(this,arguments)}function x(C,f){return ie.apply(this,arguments)}function ie(){return(ie=(0,l.A)(function*(C,f,_=!1){const A=yield lr(C,f._linkToIdToken(C.auth,yield C.getIdToken()),_);return Fi._forOperation(C,"link",A)})).apply(this,arguments)}function Oe(C,f,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.A)(function*(C,f,_){yield se(f);const q=!1===C?"provider-already-linked":"no-such-provider";Ie(Ua(f.providerData).has(_)===C,f.auth,q)})).apply(this,arguments)}function Nn(C,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.A)(function*(C,f,_=!1){const{auth:A}=C;if((0,le._isFirebaseServerApp)(A.app))return Promise.reject(Xe(A));const q="reauthenticate";try{const oe=yield lr(C,Go(A,q,f,C),_);Ie(oe.idToken,A,"internal-error");const ke=ti(oe.idToken);Ie(ke,A,"internal-error");const{sub:ot}=ke;return Ie(C.uid===ot,A,"user-mismatch"),Fi._forOperation(C,q,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&Ue(A,"user-mismatch"),oe}})).apply(this,arguments)}function hs(C,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.A)(function*(C,f,_=!1){if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C));const A="signIn",q=yield Go(C,A,f),oe=yield Fi._fromIdTokenResponse(C,A,q);return _||(yield C._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function So(C,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.A)(function*(C,f){return hs(dr(C),f)})).apply(this,arguments)}function $s(C,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.A)(function*(C,f){const _=(0,g.Ku)(C);return yield Oe(!1,_,f.providerId),x(_,f)})).apply(this,arguments)}function Tl(C,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.A)(function*(C,f){return Nn((0,g.Ku)(C),f)})).apply(this,arguments)}function Oi(){return(Oi=(0,l.A)(function*(C,f){return qt(C,"POST","/v1/accounts:signInWithCustomToken",Te(C,f))})).apply(this,arguments)}function nc(C,f){return js.apply(this,arguments)}function js(){return js=(0,l.A)(function*(C,f){if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C));const _=dr(C),A=yield function ta(C,f){return Oi.apply(this,arguments)}(_,{token:f,returnSecureToken:!0}),q=yield Fi._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(q.user),q}),js.apply(this,arguments)}class Po{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?Zs._fromServerResponse(f,_):"totpInfo"in _?Ta._fromServerResponse(f,_):Ue(f,"internal-error")}}class Zs extends Po{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new Zs(_)}}class Ta extends Po{constructor(f){super("totp",f)}static _fromServerResponse(f,_){return new Ta(_)}}function fs(C,f,_){var A;Ie((null===(A=_.url)||void 0===A?void 0:A.length)>0,C,"invalid-continue-uri"),Ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ie(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(Ie(_.android.packageName.length>0,C,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function Kn(C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.A)(function*(C){const f=dr(C);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Tu(C,f,_){return da.apply(this,arguments)}function da(){return(da=(0,l.A)(function*(C,f,_){const A=dr(C),q={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};_&&fs(A,q,_),yield Wi(A,q,"getOobCode",er)})).apply(this,arguments)}function wa(C,f,_){return ha.apply(this,arguments)}function ha(){return ha=(0,l.A)(function*(C,f,_){yield wo((0,g.Ku)(C),{oobCode:f,newPassword:_}).catch(function(){var A=(0,l.A)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&Kn(C),q});return function(q){return A.apply(this,arguments)}}())}),ha.apply(this,arguments)}function _o(C,f){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,l.A)(function*(C,f){yield function Ss(C,f){return es.apply(this,arguments)}((0,g.Ku)(C),{oobCode:f})}),Ko.apply(this,arguments)}function $a(C,f){return so.apply(this,arguments)}function so(){return(so=(0,l.A)(function*(C,f){const _=(0,g.Ku)(C),A=yield wo(_,{oobCode:f}),q=A.requestType;switch(Ie(q,_,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(A.mfaInfo,_,"internal-error");default:Ie(A.email,_,"internal-error")}let oe=null;return A.mfaInfo&&(oe=Po._fromServerResponse(dr(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:oe},operation:q}})).apply(this,arguments)}function oo(C,f){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.A)(function*(C,f){const{data:_}=yield $a((0,g.Ku)(C),f);return _.email})).apply(this,arguments)}function ao(C,f,_){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,l.A)(function*(C,f,_){if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C));const A=dr(C),ke=yield Wi(A,{returnSecureToken:!0,email:f,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Va).catch(Nt=>{throw"auth/password-does-not-meet-requirements"===Nt.code&&Kn(C),Nt}),ot=yield Fi._fromIdTokenResponse(A,"signIn",ke);return yield A._updateCurrentUser(ot.user),ot})).apply(this,arguments)}function wu(C,f,_){return(0,le._isFirebaseServerApp)(C.app)?Promise.reject(Xe(C)):So((0,g.Ku)(C),Gi.credential(f,_)).catch(function(){var A=(0,l.A)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&Kn(C),q});return function(q){return A.apply(this,arguments)}}())}function yo(C,f,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.A)(function*(C,f,_){const A=dr(C),q={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function oe(ke,ot){Ie(ot.handleCodeInApp,A,"argument-error"),ot&&fs(A,ke,ot)})(q,_),yield Wi(A,q,"getOobCode",Ys)})).apply(this,arguments)}function Au(C,f){const _=jr.parseLink(f);return"EMAIL_SIGNIN"===_?.operation}function pa(C,f,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.A)(function*(C,f,_){if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C));const A=(0,g.Ku)(C),q=Gi.credentialWithLink(f,_||zn());return Ie(q._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),So(A,q)})).apply(this,arguments)}function _r(){return(_r=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:createAuthUri",Te(C,f))})).apply(this,arguments)}function D(C,f){return Z.apply(this,arguments)}function Z(){return Z=(0,l.A)(function*(C,f){const A={identifier:f,continueUri:Et()?zn():"http://localhost"},{signinMethods:q}=yield function zs(C,f){return _r.apply(this,arguments)}((0,g.Ku)(C),A);return q||[]}),Z.apply(this,arguments)}function U(C,f){return Y.apply(this,arguments)}function Y(){return Y=(0,l.A)(function*(C,f){const _=(0,g.Ku)(C),q={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};f&&fs(_.auth,q,f);const{email:oe}=yield function Qt(C,f){return Sn.apply(this,arguments)}(_.auth,q);oe!==C.email&&(yield C.reload())}),Y.apply(this,arguments)}function Ce(C,f,_){return at.apply(this,arguments)}function at(){return at=(0,l.A)(function*(C,f,_){const A=(0,g.Ku)(C),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:f};_&&fs(A.auth,oe,_);const{email:ke}=yield function ss(C,f){return br.apply(this,arguments)}(A.auth,oe);ke!==C.email&&(yield C.reload())}),at.apply(this,arguments)}function fn(){return(fn=(0,l.A)(function*(C,f){return Le(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Tr(C,f){return Or.apply(this,arguments)}function Or(){return Or=(0,l.A)(function*(C,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const A=(0,g.Ku)(C),oe={idToken:yield A.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},ke=yield lr(A,function Tt(C,f){return fn.apply(this,arguments)}(A.auth,oe));A.displayName=ke.displayName||null,A.photoURL=ke.photoUrl||null;const ot=A.providerData.find(({providerId:Nt})=>"password"===Nt);ot&&(ot.displayName=A.displayName,ot.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ke)}),Or.apply(this,arguments)}function Vr(C,f){const _=(0,g.Ku)(C);return(0,le._isFirebaseServerApp)(_.auth.app)?Promise.reject(Xe(_.auth)):ui(_,f,null)}function cr(C,f){return ui((0,g.Ku)(C),null,f)}function ui(C,f,_){return qr.apply(this,arguments)}function qr(){return qr=(0,l.A)(function*(C,f,_){const{auth:A}=C,oe={idToken:yield C.getIdToken(),returnSecureToken:!0};f&&(oe.email=f),_&&(oe.password=_);const ke=yield lr(C,function Er(C,f){return Wr.apply(this,arguments)}(A,oe));yield C._updateTokensIfNecessary(ke,!0)}),qr.apply(this,arguments)}class ns{constructor(f,_,A={}){this.isNewUser=f,this.providerId=_,this.profile=A}}class ps extends ns{constructor(f,_,A,q){super(f,_,A),this.username=q}}class na extends ns{constructor(f,_){super(f,"facebook.com",_)}}class Os extends ps{constructor(f,_){super(f,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Ct extends ns{constructor(f,_){super(f,"google.com",_)}}class Un extends ps{constructor(f,_,A){super(f,"twitter.com",_,A)}}function to(C){const{user:f,_tokenResponse:_}=C;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ti(C){var f,_;if(!C)return null;const{providerId:A}=C,q=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},oe=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!A&&C?.idToken){const ke=null===(_=null===(f=ti(C.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(ke)return new ns(oe,"anonymous"!==ke&&"custom"!==ke?ke:null)}if(!A)return null;switch(A){case"facebook.com":return new na(oe,q);case"github.com":return new Os(oe,q);case"google.com":return new Ct(oe,q);case"twitter.com":return new Un(oe,q,C.screenName||null);case"custom":case"anonymous":return new ns(oe,null);default:return new ns(oe,A,q)}}(_)}class ra{constructor(f,_,A){this.type=f,this.credential=_,this.user=A}static _fromIdtoken(f,_){return new ra("enroll",f,_)}static _fromMfaPendingCredential(f){return new ra("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,A;if(f?.multiFactorSession){if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ra._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(A=f.multiFactorSession)&&void 0!==A&&A.idToken)return ra._fromIdtoken(f.multiFactorSession.idToken)}return null}}class oc{constructor(f,_,A){this.session=f,this.hints=_,this.signInResolver=A}static _fromError(f,_){const A=dr(f),q=_.customData._serverResponse,oe=(q.mfaInfo||[]).map(ot=>Po._fromServerResponse(A,ot));Ie(q.mfaPendingCredential,A,"internal-error");const ke=ra._fromMfaPendingCredential(q.mfaPendingCredential);return new oc(ke,oe,function(){var ot=(0,l.A)(function*(Nt){const In=yield Nt._process(A,ke);delete q.mfaInfo,delete q.mfaPendingCredential;const Ln=Object.assign(Object.assign({},q),{idToken:In.idToken,refreshToken:In.refreshToken});switch(_.operationType){case"signIn":const Ur=yield Fi._fromIdTokenResponse(A,_.operationType,Ln);return yield A._updateCurrentUser(Ur.user),Ur;case"reauthenticate":return Ie(_.user,A,"internal-error"),Fi._forOperation(_.user,_.operationType,Ln);default:Ue(A,"internal-error")}});return function(Nt){return ot.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,l.A)(function*(){return _.signInResolver(f)})()}}function Su(C,f){var _;const A=(0,g.Ku)(C),q=f;return Ie(f.customData.operationType,A,"argument-error"),Ie(null===(_=q.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),oc._fromError(A,q)}class ja{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>Po._fromServerResponse(f.auth,A)))})}static _fromUser(f){return new ja(f)}getSession(){var f=this;return(0,l.A)(function*(){return ra._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,_){var A=this;return(0,l.A)(function*(){const q=f,oe=yield A.getSession(),ke=yield lr(A.user,q._process(A.user.auth,oe,_));return yield A.user._updateTokensIfNecessary(ke),A.user.reload()})()}unenroll(f){var _=this;return(0,l.A)(function*(){const A="string"==typeof f?f:f.uid,q=yield _.user.getIdToken();try{const oe=yield lr(_.user,function $d(C,f){return Le(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(C,f))}(_.user.auth,{idToken:q,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ke})=>ke!==A),yield _.user._updateTokensIfNecessary(oe),yield _.user.reload()}catch(oe){throw oe}})()}}const xs=new WeakMap;function Pu(C){const f=(0,g.Ku)(C);return xs.has(f)||xs.set(f,ja._fromUser(f)),xs.get(f)}const Oc="__sak";class yi{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const xo=(()=>{class C extends yi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Da(){const C=(0,g.ZQ)();return ci(C)||ni(C)}()&&function tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const q=this.storage.getItem(A),oe=this.localCache[A];q!==oe&&_(A,oe,q)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((ot,Nt,In)=>{this.notifyListeners(ot,In)});const q=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ot=this.storage.getItem(q);if(_.newValue!==ot)null!==_.newValue?this.storage.setItem(q,_.newValue):this.storage.removeItem(q);else if(this.localCache[q]===_.newValue&&!A)return}const oe=()=>{const ot=this.storage.getItem(q);!A&&this.localCache[q]===ot||this.notifyListeners(q,ot)},ke=this.storage.getItem(q);!function qe(){return(0,g.lT)()&&10===document.documentMode}()||ke===_.newValue||_.newValue===_.oldValue?oe():setTimeout(oe,10)}notifyListeners(_,A){this.localCache[_]=A;const q=this.listeners[_];if(q)for(const oe of Array.from(q))oe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var q=()=>super._set,oe=this;return(0,l.A)(function*(){yield q().call(oe,_,A),oe.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,q=this;return(0,l.A)(function*(){const oe=yield A().call(q,_);return q.localCache[_]=JSON.stringify(oe),oe})()}_remove(_){var A=()=>super._remove,q=this;return(0,l.A)(function*(){yield A().call(q,_),delete q.localCache[_]})()}}return C.type="LOCAL",C})(),xt=(()=>{class C extends yi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return C.type="SESSION",C})();let Nc=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(oe=>oe.isListeningto(_));if(A)return A;const q=new C(_);return this.receivers.push(q),q}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,l.A)(function*(){const q=_,{eventId:oe,eventType:ke,data:ot}=q.data,Nt=A.handlersMap[ke];if(!Nt?.size)return;q.ports[0].postMessage({status:"ack",eventId:oe,eventType:ke});const In=Array.from(Nt).map(function(){var Ur=(0,l.A)(function*(Vo){return Vo(q.origin,ot)});return function(Vo){return Ur.apply(this,arguments)}}()),Ln=yield function xr(C){return Promise.all(C.map(function(){var f=(0,l.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return f.apply(this,arguments)}}()))}(In);q.ports[0].postMessage({status:"done",eventId:oe,eventType:ke,response:Ln})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function za(C="",f=10){let _="";for(let A=0;A<f;A++)_+=Math.floor(10*Math.random());return C+_}class bs{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,A=50){var q=this;return(0,l.A)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let ke,ot;return new Promise((Nt,In)=>{const Ln=za("",20);oe.port1.start();const Ur=setTimeout(()=>{In(new Error("unsupported_event"))},A);ot={messageChannel:oe,onMessage(Vo){const ou=Vo;if(ou.data.eventId===Ln)switch(ou.data.status){case"ack":clearTimeout(Ur),ke=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(ke),Nt(ou.data.response);break;default:clearTimeout(Ur),clearTimeout(ke),In(new Error("invalid_response"))}}},q.handlers.add(ot),oe.port1.addEventListener("message",ot.onMessage),q.target.postMessage({eventType:f,eventId:Ln,data:_},[oe.port2])}).finally(()=>{ot&&q.removeMessageHandler(ot)})})()}}function Vi(){return window}function no(){return typeof Vi().WorkerGlobalScope<"u"&&"function"==typeof Vi().importScripts}function Wa(){return(Wa=(0,l.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uc="firebaseLocalStorageDb",Ts="firebaseLocalStorage",ia="fbase_key";class co{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function lo(C,f){return C.transaction([Ts],f?"readwrite":"readonly").objectStore(Ts)}function qo(){const C=indexedDB.open(uc,1);return new Promise((f,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(Ts,{keyPath:ia})}catch(q){_(q)}}),C.addEventListener("success",(0,l.A)(function*(){const A=C.result;A.objectStoreNames.contains(Ts)?f(A):(A.close(),yield function Fc(){const C=indexedDB.deleteDatabase(uc);return new co(C).toPromise()}(),f(yield qo()))}))})}function Ga(C,f,_){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,l.A)(function*(C,f,_){const A=lo(C,!0).put({[ia]:f,value:_});return new co(A).toPromise()})).apply(this,arguments)}function Mu(){return(Mu=(0,l.A)(function*(C,f){const _=lo(C,!1).get(f),A=yield new co(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Qo(C,f){const _=lo(C,!0).delete(f);return new co(_).toPromise()}const O=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.A)(function*(){return _.db||(_.db=yield qo()),_.db})()}_withRetries(_){var A=this;return(0,l.A)(function*(){let q=0;for(;;)try{const oe=yield A._openDb();return yield _(oe)}catch(oe){if(q++>3)throw oe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.A)(function*(){return no()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.A)(function*(){_.receiver=Nc._getInstance(function kc(){return no()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,l.A)(function*(q,oe){return{keyProcessed:(yield _._poll()).includes(oe.key)}});return function(q,oe){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,l.A)(function*(q,oe){return["keyChanged"]});return function(q,oe){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.A)(function*(){var A,q;if(_.activeServiceWorker=yield function uo(){return Wa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new bs(_.activeServiceWorker);const oe=yield _.sender._send("ping",{},800);oe&&null!==(A=oe[0])&&void 0!==A&&A.fulfilled&&null!==(q=oe[0])&&void 0!==q&&q.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,l.A)(function*(){if(A.sender&&A.activeServiceWorker&&function Dl(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const _=yield qo();return yield Ga(_,Oc,"1"),yield Qo(_,Oc),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,l.A)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var q=this;return(0,l.A)(function*(){return q._withPendingWrite((0,l.A)(function*(){return yield q._withRetries(oe=>Ga(oe,_,A)),q.localCache[_]=A,q.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,l.A)(function*(){const q=yield A._withRetries(oe=>function Sl(C,f){return Mu.apply(this,arguments)}(oe,_));return A.localCache[_]=q,q})()}_remove(_){var A=this;return(0,l.A)(function*(){return A._withPendingWrite((0,l.A)(function*(){return yield A._withRetries(q=>Qo(q,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.A)(function*(){const A=yield _._withRetries(ke=>{const ot=lo(ke,!1).getAll();return new co(ot).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const q=[],oe=new Set;if(0!==A.length)for(const{fbase_key:ke,value:ot}of A)oe.add(ke),JSON.stringify(_.localCache[ke])!==JSON.stringify(ot)&&(_.notifyListeners(ke,ot),q.push(ke));for(const ke of Object.keys(_.localCache))_.localCache[ke]&&!oe.has(ke)&&(_.notifyListeners(ke,null),q.push(ke));return q})()}notifyListeners(_,A){this.localCache[_]=A;const q=this.listeners[_];if(q)for(const oe of Array.from(q))oe(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),an=1e12;class sr{constructor(f){this.auth=f,this.counter=an,this._widgets=new Map}render(f,_){const A=this.counter;return this._widgets.set(A,new yr(f,this.auth.name,_||{})),this.counter++,A}reset(f){var _;const A=f||an;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(f){var _;return(null===(_=this._widgets.get(f||an))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,l.A)(function*(){var A;return null===(A=_._widgets.get(f||an))||void 0===A||A.execute(),""})()}}class yr{constructor(f,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof f?document.getElementById(f):f;Ie(q,"argument-error",{appName:_}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ir(C){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<C;A++)f.push(_.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jr=Si("rcb"),Ka=new fe(3e4,6e4);class qa{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Vi().grecaptcha)||void 0===f||!f.render)}load(f,_=""){return Ie(function Qa(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),f,"argument-error"),this.shouldResolveImmediately(_)&&On(Vi().grecaptcha)?Promise.resolve(Vi().grecaptcha):new Promise((A,q)=>{const oe=Vi().setTimeout(()=>{q(Je(f,"network-request-failed"))},Ka.get());Vi()[Jr]=()=>{Vi().clearTimeout(oe),delete Vi()[Jr];const ot=Vi().grecaptcha;if(!ot||!On(ot))return void q(Je(f,"internal-error"));const Nt=ot.render;ot.render=(In,Ln)=>{const Ur=Nt(In,Ln);return this.counter++,Ur},this.hostLanguage=_,A(ot)},ai(`${function Ho(){return ri.recaptchaV2Script}()}?${(0,g.Am)({onload:Jr,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(oe),q(Je(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!(null===(_=Vi().grecaptcha)||void 0===_||!_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ro{load(f){return(0,l.A)(function*(){return new sr(f)})()}clearedOneInstance(){}}const sa="recaptcha",Hf={theme:"light",type:"image"};class Sa{constructor(f,_,A=Object.assign({},Hf)){this.parameters=A,this.type=sa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(f),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof _?document.getElementById(_):_;Ie(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ro:new qa,this.validateStartingState()}verify(){var f=this;return(0,l.A)(function*(){f.assertNotDestroyed();const _=yield f.render(),A=f.getAssertedRecaptcha();return A.getResponse(_)||new Promise(oe=>{const ke=ot=>{ot&&(f.tokenChangeListeners.delete(ke),oe(ot))};f.tokenChangeListeners.add(ke),f.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof f)f(_);else if("string"==typeof f){const A=Vi()[f];"function"==typeof A&&A(_)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.A)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.A)(function*(){Ie(Et()&&!no(),f.auth,"internal-error"),yield function Xa(){let C=null;return new Promise(f=>{"complete"!==document.readyState?(C=()=>f(),window.addEventListener("load",C)):f()}).catch(f=>{throw C&&window.removeEventListener("load",C),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function Br(C){return sn.apply(this,arguments)}(f.auth);Ie(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hd{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=$r._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function Pl(C,f,_){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.A)(function*(C,f,_){if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C));const A=dr(C),q=yield Ya(A,f,(0,g.Ku)(_));return new Hd(q,oe=>So(A,oe))})).apply(this,arguments)}function ma(C,f,_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,l.A)(function*(C,f,_){const A=(0,g.Ku)(C);yield Oe(!1,A,"phone");const q=yield Ya(A.auth,f,(0,g.Ku)(_));return new Hd(q,oe=>$s(A,oe))})).apply(this,arguments)}function Lc(C,f,_){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.A)(function*(C,f,_){const A=(0,g.Ku)(C);if((0,le._isFirebaseServerApp)(A.auth.app))return Promise.reject(Xe(A.auth));const q=yield Ya(A.auth,f,(0,g.Ku)(_));return new Hd(q,oe=>Tl(A,oe))})).apply(this,arguments)}function Ya(C,f,_){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,l.A)(function*(C,f,_){var A;const q=yield _.verify();try{let oe;if(Ie("string"==typeof q,C,"argument-error"),Ie(_.type===sa,C,"argument-error"),oe="string"==typeof f?{phoneNumber:f}:f,"session"in oe){const ke=oe.session;if("phoneNumber"in oe)return Ie("enroll"===ke.type,C,"internal-error"),(yield function wl(C,f){return Le(C,"POST","/v2/accounts/mfaEnrollment:start",Te(C,f))}(C,{idToken:ke.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Ie("signin"===ke.type,C,"internal-error");const ot=(null===(A=oe.multiFactorHint)||void 0===A?void 0:A.uid)||oe.multiFactorUid;return Ie(ot,C,"missing-multi-factor-info"),(yield function $(C,f){return Le(C,"POST","/v2/accounts/mfaSignIn:start",Te(C,f))}(C,{mfaPendingCredential:ke.credential,mfaEnrollmentId:ot,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ke}=yield function He(C,f){return ft.apply(this,arguments)}(C,{phoneNumber:oe.phoneNumber,recaptchaToken:q});return ke}}finally{_._reset()}}),Ja.apply(this,arguments)}function Ou(C,f){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.A)(function*(C,f){const _=(0,g.Ku)(C);if((0,le._isFirebaseServerApp)(_.auth.app))return Promise.reject(Xe(_.auth));yield x(_,f)})).apply(this,arguments)}let zf=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=dr(_)}verifyPhoneNumber(_,A){return Ya(this.auth,_,(0,g.Ku)(A))}static credential(_,A){return $r._fromVerification(_,A)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:q}=_;return A&&q?$r._fromTokenResponse(A,q):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function oa(C,f){return f?pt(f):(Ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Rl extends ds{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return J(f,this._buildIdpRequest())}_linkToIdToken(f,_){return J(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return J(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Ml(C){return hs(C.auth,new Rl(C),C.bypassAuthState)}function Ol(C){const{auth:f,user:_}=C;return Ie(_,f,"internal-error"),Nn(_,new Rl(C),C.bypassAuthState)}function ag(C){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.A)(function*(C){const{auth:f,user:_}=C;return Ie(_,f,"internal-error"),x(_,new Rl(C),C.bypassAuthState)})).apply(this,arguments)}class eu{constructor(f,_,A,q,oe=!1){this.auth=f,this.resolver=A,this.user=q,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,l.A)(function*(A,q){f.pendingPromise={resolve:A,reject:q};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(oe){f.reject(oe)}});return function(A,q){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,l.A)(function*(){const{urlResponse:A,sessionId:q,postBody:oe,tenantId:ke,error:ot,type:Nt}=f;if(ot)return void _.reject(ot);const In={auth:_.auth,requestUri:A,sessionId:q,tenantId:ke||void 0,postBody:oe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Nt)(In))}catch(Ln){_.reject(Ln)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ml;case"linkViaPopup":case"linkViaRedirect":return ag;case"reauthViaPopup":case"reauthViaRedirect":return Ol;default:Ue(this.auth,"internal-error")}}resolve(f){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xl=new fe(2e3,1e4);function tu(C,f,_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.A)(function*(C,f,_){if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Je(C,"operation-not-supported-in-this-environment"));const A=dr(C);mt(C,f,ir);const q=oa(A,_);return new ws(A,"signInViaPopup",f,q).executeNotNull()})).apply(this,arguments)}function xu(C,f,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.A)(function*(C,f,_){const A=(0,g.Ku)(C);if((0,le._isFirebaseServerApp)(A.auth.app))return Promise.reject(Je(A.auth,"operation-not-supported-in-this-environment"));mt(A.auth,f,ir);const q=oa(A.auth,_);return new ws(A.auth,"reauthViaPopup",f,q,A).executeNotNull()})).apply(this,arguments)}function Wf(C,f,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,l.A)(function*(C,f,_){const A=(0,g.Ku)(C);mt(A.auth,f,ir);const q=oa(A.auth,_);return new ws(A.auth,"linkViaPopup",f,q,A).executeNotNull()})).apply(this,arguments)}let ws=(()=>{class C extends eu{constructor(_,A,q,oe,ke){super(_,A,oe,ke),this.provider=q,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.A)(function*(){const A=yield _.execute();return Ie(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,l.A)(function*(){en(1===_.filter.length,"Popup operations only handle one event");const A=za();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(q=>{_.reject(q)}),_.resolver._isIframeWebStorageSupported(_.auth,q=>{q||_.reject(Je(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,q;this.pollId=null!==(q=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,xl.get())};_()}}return C.currentPopupAction=null,C})();const Fh="pendingRedirect",Ws=new Map;class Nl extends eu{constructor(f,_,A=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,l.A)(function*(){let A=Ws.get(_.auth._key());if(!A){try{const oe=(yield function Bc(C,f){return No.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;A=()=>Promise.resolve(oe)}catch(q){A=()=>Promise.reject(q)}Ws.set(_.auth._key(),A)}return _.bypassAuthState||Ws.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,A=this;return(0,l.A)(function*(){if("signInViaRedirect"===f.type)return _().call(A,f);if("unknown"!==f.type){if(f.eventId){const q=yield A.auth._redirectUserForId(f.eventId);if(q)return A.user=q,_().call(A,f);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function No(){return(No=(0,l.A)(function*(C,f){const _=kl(f),A=nu(C);if(!(yield A._isAvailable()))return!1;const q="true"===(yield A._get(_));return yield A._remove(_),q})).apply(this,arguments)}function ya(C,f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,l.A)(function*(C,f){return nu(C)._set(kl(f),"true")})).apply(this,arguments)}function Io(){Ws.clear()}function Vh(C,f){Ws.set(C._key(),f)}function nu(C){return pt(C._redirectPersistence)}function kl(C){return Kt(Fh,C.config.apiKey,C.name)}function Pa(C,f,_){return function zd(C,f,_){return Ra.apply(this,arguments)}(C,f,_)}function Ra(){return(Ra=(0,l.A)(function*(C,f,_){if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C));const A=dr(C);mt(C,f,ir),yield A._initializationPromise;const q=oa(A,_);return yield ya(q,A),q._openRedirect(A,f,"signInViaRedirect")})).apply(this,arguments)}function $c(C,f,_){return function va(C,f,_){return Fl.apply(this,arguments)}(C,f,_)}function Fl(){return(Fl=(0,l.A)(function*(C,f,_){const A=(0,g.Ku)(C);if(mt(A.auth,f,ir),(0,le._isFirebaseServerApp)(A.auth.app))return Promise.reject(Xe(A.auth));yield A.auth._initializationPromise;const q=oa(A.auth,_);yield ya(q,A.auth);const oe=yield Ea(A);return q._openRedirect(A.auth,f,"reauthViaRedirect",oe)})).apply(this,arguments)}function Lh(C,f,_){return function jc(C,f,_){return ru.apply(this,arguments)}(C,f,_)}function ru(){return(ru=(0,l.A)(function*(C,f,_){const A=(0,g.Ku)(C);mt(A.auth,f,ir),yield A.auth._initializationPromise;const q=oa(A.auth,_);yield Oe(!1,A,f.providerId),yield ya(q,A.auth);const oe=yield Ea(A);return q._openRedirect(A.auth,f,"linkViaRedirect",oe)})).apply(this,arguments)}function Gf(C,f){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,l.A)(function*(C,f){return yield dr(C)._initializationPromise,Wd(C,f,!1)})).apply(this,arguments)}function Wd(C,f){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.A)(function*(C,f,_=!1){if((0,le._isFirebaseServerApp)(C.app))return Promise.reject(Xe(C));const A=dr(C),q=oa(A,f),ke=yield new Nl(A,q,_).execute();return ke&&!_&&(delete ke.user._redirectEventId,yield A._persistUserIfCurrent(ke.user),yield A._setRedirectUser(null,f)),ke})).apply(this,arguments)}function Ea(C){return ku.apply(this,arguments)}function ku(){return(ku=(0,l.A)(function*(C){const f=za(`${C.uid}:::`);return C._redirectEventId=f,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),f})).apply(this,arguments)}class zc{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(f,A)&&(_=!0,this.sendToConsumer(f,A),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Vu(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gs(C);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var A;if(f.error&&!Gs(f)){const q=(null===(A=f.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(Je(this.auth,q))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const A=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&A}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fu(f))}saveEventToCache(f){this.cachedEventUids.add(Fu(f)),this.lastProcessedEventTime=Date.now()}}function Fu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(f=>f).join("-")}function Gs({type:C,error:f}){return"unknown"===C&&"auth/no-auth-event"===f?.code}function Kd(C){return iu.apply(this,arguments)}function iu(){return(iu=(0,l.A)(function*(C,f={}){return Le(C,"GET","/v1/projects",f)})).apply(this,arguments)}const $i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ug=/^https?/;function qd(){return(qd=(0,l.A)(function*(C){if(C.config.emulator)return;const{authorizedDomains:f}=yield Kd(C);for(const _ of f)try{if(cg(_))return}catch{}Ue(C,"unauthorized-domain")})).apply(this,arguments)}function cg(C){const f=zn(),{protocol:_,hostname:A}=new URL(f);if(C.startsWith("chrome-extension://")){const ke=new URL(C);return""===ke.hostname&&""===A?"chrome-extension:"===_&&C.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&ke.hostname===A}if(!ug.test(_))return!1;if($i.test(C))return A===C;const q=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(A)}const qf=new fe(3e4,6e4);function Vl(){const C=Vi().___jsl;if(C?.H)for(const f of Object.keys(C.H))if(C.H[f].r=C.H[f].r||[],C.H[f].L=C.H[f].L||[],C.H[f].r=[...C.H[f].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let lc=null;const Uh=new fe(5e3,15e3),Ll="__/auth/iframe",us="emulator/auth/iframe",Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ma=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ul(C){const f=C.config;Ie(f.authDomain,C,"auth-domain-config-required");const _=f.emulator?ue(f,us):`https://${C.config.authDomain}/${Ll}`,A={apiKey:f.apiKey,appName:C.name,v:le.SDK_VERSION},q=Ma.get(C.config.apiHost);q&&(A.eid=q);const oe=C._getFrameworks();return oe.length&&(A.fw=oe.join(",")),`${_}?${(0,g.Am)(A).slice(1)}`}function aa(){return aa=(0,l.A)(function*(C){const f=yield function dc(C){return lc=lc||function Qd(C){return new Promise((f,_)=>{var A,q,oe;function ke(){Vl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Vl(),_(Je(C,"network-request-failed"))},timeout:qf.get()})}if(null!==(q=null===(A=Vi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==q&&q.Iframe)f(gapi.iframes.getContext());else{if(null===(oe=Vi().gapi)||void 0===oe||!oe.load){const ot=Si("iframefcb");return Vi()[ot]=()=>{gapi.load?ke():_(Je(C,"network-request-failed"))},ai(`${function _i(){return ri.gapiScript}()}?onload=${ot}`).catch(Nt=>_(Nt))}ke()}}).catch(f=>{throw lc=null,f})}(C),lc}(C),_=Vi().gapi;return Ie(_,C,"internal-error"),f.open({where:document.body,url:Ul(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},A=>new Promise(function(){var q=(0,l.A)(function*(oe,ke){yield A.restyle({setHideOnLeave:!1});const ot=Je(C,"network-request-failed"),Nt=Vi().setTimeout(()=>{ke(ot)},Uh.get());function In(){Vi().clearTimeout(Nt),oe(A)}A.ping(In).then(In,()=>{ke(ot)})});return function(oe,ke){return q.apply(this,arguments)}}()))}),aa.apply(this,arguments)}const Bl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $l="__/auth/handler",Lu="emulator/auth/handler",pc=encodeURIComponent("fac");function Oa(C,f,_,A,q,oe){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.A)(function*(C,f,_,A,q,oe){Ie(C.config.authDomain,C,"auth-domain-config-required"),Ie(C.config.apiKey,C,"invalid-api-key");const ke={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:A,v:le.SDK_VERSION,eventId:q};if(f instanceof ir){f.setDefaultLanguage(C.languageCode),ke.providerId=f.providerId||"",(0,g.Im)(f.getCustomParameters())||(ke.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ln,Ur]of Object.entries(oe||{}))ke[Ln]=Ur}if(f instanceof pi){const Ln=f.getScopes().filter(Ur=>""!==Ur);Ln.length>0&&(ke.scopes=Ln.join(","))}C.tenantId&&(ke.tid=C.tenantId);const ot=ke;for(const Ln of Object.keys(ot))void 0===ot[Ln]&&delete ot[Ln];const Nt=yield C._getAppCheckToken(),In=Nt?`#${pc}=${encodeURIComponent(Nt)}`:"";return`${function jl({config:C}){return C.emulator?ue(C,Lu):`https://${C.authDomain}/${$l}`}(C)}?${(0,g.Am)(ot).slice(1)}${In}`})).apply(this,arguments)}const Hl="webStorageSupport",Xd=class $h{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xt,this._completeRedirectFn=Wd,this._overrideRedirectResult=Vh}_openPopup(f,_,A,q){var oe=this;return(0,l.A)(function*(){var ke;en(null===(ke=oe.eventManagers[f._key()])||void 0===ke?void 0:ke.manager,"_initialize() not called before _openPopup()");const ot=yield Oa(f,_,A,zn(),q);return function Xf(C,f,_,A=500,q=600){const oe=Math.max((window.screen.availHeight-q)/2,0).toString(),ke=Math.max((window.screen.availWidth-A)/2,0).toString();let ot="";const Nt=Object.assign(Object.assign({},Bl),{width:A.toString(),height:q.toString(),top:oe,left:ke}),In=(0,g.ZQ)().toLowerCase();_&&(ot=kr(In)?"_blank":_),vn(In)&&(f=f||"http://localhost",Nt.scrollbars="yes");const Ln=Object.entries(Nt).reduce((Vo,[ou,au])=>`${Vo}${ou}=${au},`,"");if(function rt(C=(0,g.ZQ)()){var f;return ni(C)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(In)&&"_self"!==ot)return function Fo(C,f){const _=document.createElement("a");_.href=C,_.target=f;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(f||"",ot),new Bh(null);const Ur=window.open(f||"",ot,Ln);Ie(Ur,C,"popup-blocked");try{Ur.focus()}catch{}return new Bh(Ur)}(f,ot,za())})()}_openRedirect(f,_,A,q){var oe=this;return(0,l.A)(function*(){return yield oe._originValidation(f),function Ru(C){Vi().location.href=C}(yield Oa(f,_,A,zn(),q)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:q,promise:oe}=this.eventManagers[_];return q?Promise.resolve(q):(en(oe,"If manager is not set, promise should be"),oe)}const A=this.initAndGetManager(f);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(f){var _=this;return(0,l.A)(function*(){const A=yield function ho(C){return aa.apply(this,arguments)}(f),q=new zc(f);return A.register("authEvent",oe=>(Ie(oe?.authEvent,f,"invalid-auth-event"),{status:q.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:q},_.iframes[f._key()]=A,q})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(Hl,{type:Hl},q=>{var oe;const ke=null===(oe=q?.[0])||void 0===oe?void 0:oe[Hl];void 0!==ke&&_(!!ke),Ue(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Kf(C){return qd.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return yt()||ci()||ni()}};class Yd{constructor(f){this.factorId=f}_process(f,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,A);case"signin":return this._finalizeSignIn(f,_.credential);default:return jt("unexpected MultiFactorSessionType")}}}class Uu extends Yd{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Uu(f)}_finalizeEnroll(f,_,A){return function Bd(C,f){return Le(C,"POST","/v2/accounts/mfaEnrollment:finalize",Te(C,f))}(f,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function ne(C,f){return Le(C,"POST","/v2/accounts/mfaSignIn:finalize",Te(C,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kc=(()=>{class C{constructor(){}static assertion(_){return Uu._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var qc="@firebase/auth";class gc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,l.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(A=>{f(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);_&&(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,g.XA)("authIdTokenMaxAge"),function vs(C){ri=C}({loadJS:C=>new Promise((f,_)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=f,A.onerror=q=>{const oe=Je("internal-error");oe.customData=q,_(oe)},A.type="text/javascript",A.charset="UTF-8",function eh(){var C,f;return null!==(f=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==f?f:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Wl(C){(0,le._registerComponent)(new Se.uA("auth",(f,{options:_})=>{const A=f.getProvider("app").getImmediate(),q=f.getProvider("heartbeat"),oe=f.getProvider("app-check-internal"),{apiKey:ke,authDomain:ot}=A.options;Ie(ke&&!ke.includes(":"),"invalid-api-key",{appName:A.name});const Nt={apiKey:ke,authDomain:ot,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(C)},In=new li(A,q,oe,Nt);return function ca(C,f){const _=f?.persistence||[],A=(Array.isArray(_)?_:[_]).map(pt);f?.errorMap&&C._updateErrorMap(f.errorMap),C._initializeWithPersistence(A,f?.popupRedirectResolver)}(In,_),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,A)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new Se.uA("auth-internal",f=>{const _=dr(f.getProvider("auth").getImmediate());return new gc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(qc,"1.7.4",function Jo(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,le.registerVersion)(qc,"1.7.4","esm2017")}("Browser")},9583:(Zt,Qe,B)=>{B.d(Qe,{fS:()=>Zm,Ix:()=>il,H6:()=>hd,T1:()=>Ds,Wq:()=>Id,uY:()=>Ic,W6:()=>ue,Ci:()=>Vg,YQ:()=>Up,NJ:()=>ul,Dc:()=>Lt,GA:()=>bd,cm:()=>Fn,K$:()=>Ot,FA:()=>Bn,lo:()=>wr,bI:()=>Vt,qG:()=>zo,qi:()=>en,c8:()=>_f,gS:()=>Kg,C3:()=>$p,hq:()=>Df,me:()=>Fg,rJ:()=>Bm,Cs:()=>wp,vN:()=>yf,kd:()=>Yu,CL:()=>c_,LA:()=>Hm,H9:()=>z_,ol:()=>Pp,Q5:()=>Qu,Os:()=>G_,FD:()=>ny,rf:()=>Xm,Ws:()=>cs,z6:()=>gs,x7:()=>r_,nY:()=>Wg,_e:()=>cl,GG:()=>Bp,kU:()=>iy,Rr:()=>sy,aU:()=>Dp,GV:()=>l_,AB:()=>ty,$1:()=>kp,po:()=>K_,St:()=>q_,aQ:()=>ay,FC:()=>hv,My:()=>Qm,P:()=>qm,B:()=>Ng,yx:()=>xg,c4:()=>u_,O5:()=>Xg,BN:()=>oy,He:()=>St,lN:()=>yu,HM:()=>wf,EO:()=>wh,mZ:()=>Gg,iB:()=>W_,_M:()=>Bg});var Fe,Be,l=B(467),le=B(7852),g=B(1362),Ae=B(8041),ye=B(1076),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ge,v,d){d||(d=0);var m=Array(16);if("string"==typeof v)for(var P=0;16>P;++P)m[P]=v.charCodeAt(d++)|v.charCodeAt(d++)<<8|v.charCodeAt(d++)<<16|v.charCodeAt(d++)<<24;else for(P=0;16>P;++P)m[P]=v[d++]|v[d++]<<8|v[d++]<<16|v[d++]<<24;var L=Ge.g[3],K=(v=Ge.g[0])+(L^(d=Ge.g[1])&((P=Ge.g[2])^L))+m[0]+3614090360&4294967295;K=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=(d=(P=(L=(v=d+(K<<7&4294967295|K>>>25))+((K=L+(P^v&(d^P))+m[1]+3905402710&4294967295)<<12&4294967295|K>>>20))+((K=P+(d^L&(v^d))+m[2]+606105819&4294967295)<<17&4294967295|K>>>15))+((K=d+(v^P&(L^v))+m[3]+3250441966&4294967295)<<22&4294967295|K>>>10))+((K=v+(L^d&(P^L))+m[4]+4118548399&4294967295)<<7&4294967295|K>>>25))+((K=L+(P^v&(d^P))+m[5]+1200080426&4294967295)<<12&4294967295|K>>>20))+((K=P+(d^L&(v^d))+m[6]+2821735955&4294967295)<<17&4294967295|K>>>15))+((K=d+(v^P&(L^v))+m[7]+4249261313&4294967295)<<22&4294967295|K>>>10))+((K=v+(L^d&(P^L))+m[8]+1770035416&4294967295)<<7&4294967295|K>>>25))+((K=L+(P^v&(d^P))+m[9]+2336552879&4294967295)<<12&4294967295|K>>>20))+((K=P+(d^L&(v^d))+m[10]+4294925233&4294967295)<<17&4294967295|K>>>15))+((K=d+(v^P&(L^v))+m[11]+2304563134&4294967295)<<22&4294967295|K>>>10))+((K=v+(L^d&(P^L))+m[12]+1804603682&4294967295)<<7&4294967295|K>>>25))+((K=L+(P^v&(d^P))+m[13]+4254626195&4294967295)<<12&4294967295|K>>>20))+((K=P+(d^L&(v^d))+m[14]+2792965006&4294967295)<<17&4294967295|K>>>15))+((K=d+(v^P&(L^v))+m[15]+1236535329&4294967295)<<22&4294967295|K>>>10))+((K=v+(P^L&(d^P))+m[1]+4129170786&4294967295)<<5&4294967295|K>>>27))+((K=L+(d^P&(v^d))+m[6]+3225465664&4294967295)<<9&4294967295|K>>>23))+((K=P+(v^d&(L^v))+m[11]+643717713&4294967295)<<14&4294967295|K>>>18))+((K=d+(L^v&(P^L))+m[0]+3921069994&4294967295)<<20&4294967295|K>>>12))+((K=v+(P^L&(d^P))+m[5]+3593408605&4294967295)<<5&4294967295|K>>>27))+((K=L+(d^P&(v^d))+m[10]+38016083&4294967295)<<9&4294967295|K>>>23))+((K=P+(v^d&(L^v))+m[15]+3634488961&4294967295)<<14&4294967295|K>>>18))+((K=d+(L^v&(P^L))+m[4]+3889429448&4294967295)<<20&4294967295|K>>>12))+((K=v+(P^L&(d^P))+m[9]+568446438&4294967295)<<5&4294967295|K>>>27))+((K=L+(d^P&(v^d))+m[14]+3275163606&4294967295)<<9&4294967295|K>>>23))+((K=P+(v^d&(L^v))+m[3]+4107603335&4294967295)<<14&4294967295|K>>>18))+((K=d+(L^v&(P^L))+m[8]+1163531501&4294967295)<<20&4294967295|K>>>12))+((K=v+(P^L&(d^P))+m[13]+2850285829&4294967295)<<5&4294967295|K>>>27))+((K=L+(d^P&(v^d))+m[2]+4243563512&4294967295)<<9&4294967295|K>>>23))+((K=P+(v^d&(L^v))+m[7]+1735328473&4294967295)<<14&4294967295|K>>>18))+((K=d+(L^v&(P^L))+m[12]+2368359562&4294967295)<<20&4294967295|K>>>12))+((K=v+(d^P^L)+m[5]+4294588738&4294967295)<<4&4294967295|K>>>28))+((K=L+(v^d^P)+m[8]+2272392833&4294967295)<<11&4294967295|K>>>21))+((K=P+(L^v^d)+m[11]+1839030562&4294967295)<<16&4294967295|K>>>16))+((K=d+(P^L^v)+m[14]+4259657740&4294967295)<<23&4294967295|K>>>9))+((K=v+(d^P^L)+m[1]+2763975236&4294967295)<<4&4294967295|K>>>28))+((K=L+(v^d^P)+m[4]+1272893353&4294967295)<<11&4294967295|K>>>21))+((K=P+(L^v^d)+m[7]+4139469664&4294967295)<<16&4294967295|K>>>16))+((K=d+(P^L^v)+m[10]+3200236656&4294967295)<<23&4294967295|K>>>9))+((K=v+(d^P^L)+m[13]+681279174&4294967295)<<4&4294967295|K>>>28))+((K=L+(v^d^P)+m[0]+3936430074&4294967295)<<11&4294967295|K>>>21))+((K=P+(L^v^d)+m[3]+3572445317&4294967295)<<16&4294967295|K>>>16))+((K=d+(P^L^v)+m[6]+76029189&4294967295)<<23&4294967295|K>>>9))+((K=v+(d^P^L)+m[9]+3654602809&4294967295)<<4&4294967295|K>>>28))+((K=L+(v^d^P)+m[12]+3873151461&4294967295)<<11&4294967295|K>>>21))+((K=P+(L^v^d)+m[15]+530742520&4294967295)<<16&4294967295|K>>>16))+((K=d+(P^L^v)+m[2]+3299628645&4294967295)<<23&4294967295|K>>>9))+((K=v+(P^(d|~L))+m[0]+4096336452&4294967295)<<6&4294967295|K>>>26))+((K=L+(d^(v|~P))+m[7]+1126891415&4294967295)<<10&4294967295|K>>>22))+((K=P+(v^(L|~d))+m[14]+2878612391&4294967295)<<15&4294967295|K>>>17))+((K=d+(L^(P|~v))+m[5]+4237533241&4294967295)<<21&4294967295|K>>>11))+((K=v+(P^(d|~L))+m[12]+1700485571&4294967295)<<6&4294967295|K>>>26))+((K=L+(d^(v|~P))+m[3]+2399980690&4294967295)<<10&4294967295|K>>>22))+((K=P+(v^(L|~d))+m[10]+4293915773&4294967295)<<15&4294967295|K>>>17))+((K=d+(L^(P|~v))+m[1]+2240044497&4294967295)<<21&4294967295|K>>>11))+((K=v+(P^(d|~L))+m[8]+1873313359&4294967295)<<6&4294967295|K>>>26))+((K=L+(d^(v|~P))+m[15]+4264355552&4294967295)<<10&4294967295|K>>>22))+((K=P+(v^(L|~d))+m[6]+2734768916&4294967295)<<15&4294967295|K>>>17))+((K=d+(L^(P|~v))+m[13]+1309151649&4294967295)<<21&4294967295|K>>>11))+((L=(v=d+((K=v+(P^(d|~L))+m[4]+4149444226&4294967295)<<6&4294967295|K>>>26))+((K=L+(d^(v|~P))+m[11]+3174756917&4294967295)<<10&4294967295|K>>>22))^((P=L+((K=P+(v^(L|~d))+m[2]+718787259&4294967295)<<15&4294967295|K>>>17))|~v))+m[9]+3951481745&4294967295,Ge.g[0]=Ge.g[0]+v&4294967295,Ge.g[1]=Ge.g[1]+(P+(K<<21&4294967295|K>>>11))&4294967295,Ge.g[2]=Ge.g[2]+P&4294967295,Ge.g[3]=Ge.g[3]+L&4294967295}function E(Ge,v){this.h=v;for(var d=[],m=!0,P=Ge.length-1;0<=P;P--){var L=0|Ge[P];m&&L==v||(d[P]=L,m=!1)}this.g=d}(function e(Ge,v){function d(){}d.prototype=v.prototype,Ge.D=v.prototype,Ge.prototype=new d,Ge.prototype.constructor=Ge,Ge.C=function(m,P,L){for(var K=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)K[Pe-2]=arguments[Pe];return v.prototype[P].apply(m,K)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ge,v){void 0===v&&(v=Ge.length);for(var d=v-this.blockSize,m=this.B,P=this.h,L=0;L<v;){if(0==P)for(;L<=d;)u(this,Ge,L),L+=this.blockSize;if("string"==typeof Ge){for(;L<v;)if(m[P++]=Ge.charCodeAt(L++),P==this.blockSize){u(this,m),P=0;break}}else for(;L<v;)if(m[P++]=Ge[L++],P==this.blockSize){u(this,m),P=0;break}}this.h=P,this.o+=v},s.prototype.v=function(){var Ge=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ge[0]=128;for(var v=1;v<Ge.length-8;++v)Ge[v]=0;var d=8*this.o;for(v=Ge.length-8;v<Ge.length;++v)Ge[v]=255&d,d/=256;for(this.u(Ge),Ge=Array(16),v=d=0;4>v;++v)for(var m=0;32>m;m+=8)Ge[d++]=this.g[v]>>>m&255;return Ge};var S={};function N(Ge){return-128<=Ge&&128>Ge?function p(Ge,v){var d=S;return Object.prototype.hasOwnProperty.call(d,Ge)?d[Ge]:d[Ge]=v(Ge)}(Ge,function(v){return new E([0|v],0>v?-1:0)}):new E([0|Ge],0>Ge?-1:0)}function W(Ge){if(isNaN(Ge)||!isFinite(Ge))return me;if(0>Ge)return Bt(W(-Ge));for(var v=[],d=1,m=0;Ge>=d;m++)v[m]=Ge/d|0,d*=4294967296;return new E(v,0)}var me=N(0),xe=N(1),tt=N(16777216);function Rt(Ge){if(0!=Ge.h)return!1;for(var v=0;v<Ge.g.length;v++)if(0!=Ge.g[v])return!1;return!0}function Gt(Ge){return-1==Ge.h}function Bt(Ge){for(var v=Ge.g.length,d=[],m=0;m<v;m++)d[m]=~Ge.g[m];return new E(d,~Ge.h).add(xe)}function An(Ge,v){return Ge.add(Bt(v))}function $n(Ge,v){for(;(65535&Ge[v])!=Ge[v];)Ge[v+1]+=Ge[v]>>>16,Ge[v]&=65535,v++}function Rn(Ge,v){this.g=Ge,this.h=v}function Cr(Ge,v){if(Rt(v))throw Error("division by zero");if(Rt(Ge))return new Rn(me,me);if(Gt(Ge))return v=Cr(Bt(Ge),v),new Rn(Bt(v.g),Bt(v.h));if(Gt(v))return v=Cr(Ge,Bt(v)),new Rn(Bt(v.g),v.h);if(30<Ge.g.length){if(Gt(Ge)||Gt(v))throw Error("slowDivide_ only works with positive integers.");for(var d=xe,m=v;0>=m.l(Ge);)d=vi(d),m=vi(m);var P=Hr(d,1),L=Hr(m,1);for(m=Hr(m,2),d=Hr(d,2);!Rt(m);){var K=L.add(m);0>=K.l(Ge)&&(P=P.add(d),L=K),m=Hr(m,1),d=Hr(d,1)}return v=An(Ge,P.j(v)),new Rn(P,v)}for(P=me;0<=Ge.l(v);){for(d=Math.max(1,Math.floor(Ge.m()/v.m())),m=48>=(m=Math.ceil(Math.log(d)/Math.LN2))?1:Math.pow(2,m-48),K=(L=W(d)).j(v);Gt(K)||0<K.l(Ge);)K=(L=W(d-=m)).j(v);Rt(L)&&(L=xe),P=P.add(L),Ge=An(Ge,K)}return new Rn(P,Ge)}function vi(Ge){for(var v=Ge.g.length+1,d=[],m=0;m<v;m++)d[m]=Ge.i(m)<<1|Ge.i(m-1)>>>31;return new E(d,Ge.h)}function Hr(Ge,v){var d=v>>5;v%=32;for(var m=Ge.g.length-d,P=[],L=0;L<m;L++)P[L]=0<v?Ge.i(L+d)>>>v|Ge.i(L+d+1)<<32-v:Ge.i(L+d);return new E(P,Ge.h)}(a=E.prototype).m=function(){if(Gt(this))return-Bt(this).m();for(var Ge=0,v=1,d=0;d<this.g.length;d++){var m=this.i(d);Ge+=(0<=m?m:4294967296+m)*v,v*=4294967296}return Ge},a.toString=function(Ge){if(2>(Ge=Ge||10)||36<Ge)throw Error("radix out of range: "+Ge);if(Rt(this))return"0";if(Gt(this))return"-"+Bt(this).toString(Ge);for(var v=W(Math.pow(Ge,6)),d=this,m="";;){var P=Cr(d,v).g,L=((0<(d=An(d,P.j(v))).g.length?d.g[0]:d.h)>>>0).toString(Ge);if(Rt(d=P))return L+m;for(;6>L.length;)L="0"+L;m=L+m}},a.i=function(Ge){return 0>Ge?0:Ge<this.g.length?this.g[Ge]:this.h},a.l=function(Ge){return Gt(Ge=An(this,Ge))?-1:Rt(Ge)?0:1},a.abs=function(){return Gt(this)?Bt(this):this},a.add=function(Ge){for(var v=Math.max(this.g.length,Ge.g.length),d=[],m=0,P=0;P<=v;P++){var L=m+(65535&this.i(P))+(65535&Ge.i(P)),K=(L>>>16)+(this.i(P)>>>16)+(Ge.i(P)>>>16);m=K>>>16,d[P]=(K&=65535)<<16|(L&=65535)}return new E(d,-2147483648&d[d.length-1]?-1:0)},a.j=function(Ge){if(Rt(this)||Rt(Ge))return me;if(Gt(this))return Gt(Ge)?Bt(this).j(Bt(Ge)):Bt(Bt(this).j(Ge));if(Gt(Ge))return Bt(this.j(Bt(Ge)));if(0>this.l(tt)&&0>Ge.l(tt))return W(this.m()*Ge.m());for(var v=this.g.length+Ge.g.length,d=[],m=0;m<2*v;m++)d[m]=0;for(m=0;m<this.g.length;m++)for(var P=0;P<Ge.g.length;P++){var L=this.i(m)>>>16,K=65535&this.i(m),Pe=Ge.i(P)>>>16,dt=65535&Ge.i(P);d[2*m+2*P]+=K*dt,$n(d,2*m+2*P),d[2*m+2*P+1]+=L*dt,$n(d,2*m+2*P+1),d[2*m+2*P+1]+=K*Pe,$n(d,2*m+2*P+1),d[2*m+2*P+2]+=L*Pe,$n(d,2*m+2*P+2)}for(m=0;m<v;m++)d[m]=d[2*m+1]<<16|d[2*m];for(m=v;m<2*v;m++)d[m]=0;return new E(d,0)},a.A=function(Ge){return Cr(this,Ge).h},a.and=function(Ge){for(var v=Math.max(this.g.length,Ge.g.length),d=[],m=0;m<v;m++)d[m]=this.i(m)&Ge.i(m);return new E(d,this.h&Ge.h)},a.or=function(Ge){for(var v=Math.max(this.g.length,Ge.g.length),d=[],m=0;m<v;m++)d[m]=this.i(m)|Ge.i(m);return new E(d,this.h|Ge.h)},a.xor=function(Ge){for(var v=Math.max(this.g.length,Ge.g.length),d=[],m=0;m<v;m++)d[m]=this.i(m)^Ge.i(m);return new E(d,this.h^Ge.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Be=Ve.Md5=s,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=W,E.fromString=function re(Ge,v){if(0==Ge.length)throw Error("number format error: empty string");if(2>(v=v||10)||36<v)throw Error("radix out of range: "+v);if("-"==Ge.charAt(0))return Bt(re(Ge.substring(1),v));if(0<=Ge.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=W(Math.pow(v,8)),m=me,P=0;P<Ge.length;P+=8){var L=Math.min(8,Ge.length-P),K=parseInt(Ge.substring(P,P+L),v);8>L?(L=W(Math.pow(v,L)),m=m.j(L).add(W(K))):m=(m=m.j(d)).add(W(K))}return m},Fe=Ve.Integer=E}).apply(typeof Se<"u"?Se:typeof self<"u"?self:typeof window<"u"?window:{});var Re,ut,We,It,gt,kt,bt,Xt,Ke,ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(y,k,Q){return y==Array.prototype||y==Object.prototype||(y[k]=Q.value),y},s=function r(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ae&&ae];for(var k=0;k<y.length;++k){var Q=y[k];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}(this);!function u(y,k){if(k)e:{var Q=s;y=y.split(".");for(var he=0;he<y.length-1;he++){var et=y[he];if(!(et in Q))break e;Q=Q[et]}(k=k(he=Q[y=y[y.length-1]]))!=he&&null!=k&&e(Q,y,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(y){return y||function(){return function p(y,k){y instanceof String&&(y+="");var Q=0,he=!1,et={next:function(){if(!he&&Q<y.length){var vt=Q++;return{value:k(vt,y[vt]),done:!1}}return he=!0,{done:!0,value:void 0}}};return et[Symbol.iterator]=function(){return et},et}(this,function(k,Q){return Q})}});var E=E||{},S=this||self;function N(y){var k=typeof y;return"array"==(k="object"!=k?k:y?Array.isArray(y)?"array":k:"null")||"object"==k&&"number"==typeof y.length}function W(y){var k=typeof y;return"object"==k&&null!=y||"function"==k}function re(y,k,Q){return y.call.apply(y.bind,arguments)}function me(y,k,Q){if(!y)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(et,he),y.apply(k,et)}}return function(){return y.apply(k,arguments)}}function xe(y,k,Q){return(xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?re:me).apply(null,arguments)}function tt(y,k){var Q=Array.prototype.slice.call(arguments,1);return function(){var he=Q.slice();return he.push.apply(he,arguments),y.apply(this,he)}}function Rt(y,k){function Q(){}Q.prototype=k.prototype,y.aa=k.prototype,y.prototype=new Q,y.prototype.constructor=y,y.Qb=function(he,et,vt){for(var hn=Array(arguments.length-2),Hi=2;Hi<arguments.length;Hi++)hn[Hi-2]=arguments[Hi];return k.prototype[et].apply(he,hn)}}function Gt(y){const k=y.length;if(0<k){const Q=Array(k);for(let he=0;he<k;he++)Q[he]=y[he];return Q}return[]}function Bt(y,k){for(let Q=1;Q<arguments.length;Q++){const he=arguments[Q];if(N(he)){const et=y.length||0,vt=he.length||0;y.length=et+vt;for(let hn=0;hn<vt;hn++)y[et+hn]=he[hn]}else y.push(he)}}function $n(y){return/^[\s\xa0]*$/.test(y)}function Rn(){var y=S.navigator;return y&&(y=y.userAgent)?y:""}function Cr(y){return Cr[" "](y),y}Cr[" "]=function(){};var vi=!(-1==Rn().indexOf("Gecko")||-1!=Rn().toLowerCase().indexOf("webkit")&&-1==Rn().indexOf("Edge")||-1!=Rn().indexOf("Trident")||-1!=Rn().indexOf("MSIE")||-1!=Rn().indexOf("Edge"));function Hr(y,k,Q){for(const he in y)k.call(Q,y[he],he,y)}function v(y){const k={};for(const Q in y)k[Q]=y[Q];return k}const d="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m(y,k){let Q,he;for(let et=1;et<arguments.length;et++){for(Q in he=arguments[et],he)y[Q]=he[Q];for(let vt=0;vt<d.length;vt++)Q=d[vt],Object.prototype.hasOwnProperty.call(he,Q)&&(y[Q]=he[Q])}}function P(y){var k=1;y=y.split(":");const Q=[];for(;0<k&&y.length;)Q.push(y.shift()),k--;return y.length&&Q.push(y.join(":")),Q}function L(y){S.setTimeout(()=>{throw y},0)}function K(){var y=qn;let k=null;return y.g&&(k=y.g,y.g=y.g.next,y.g||(y.h=null),k.next=null),k}var dt=new class An{constructor(k,Q){this.i=k,this.j=Q,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new lt,y=>y.reset());class lt{constructor(){this.next=this.g=this.h=null}set(k,Q){this.h=k,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let dn,zt=!1,qn=new class Pe{constructor(){this.h=this.g=null}add(k,Q){const he=dt.get();he.set(k,Q),this.h?this.h.next=he:this.g=he,this.h=he}},Qn=()=>{const y=S.Promise.resolve(void 0);dn=()=>{y.then(or)}};var or=()=>{for(var y;y=K();){try{y.h.call(y.g)}catch(Q){L(Q)}var k=dt;k.j(y),100>k.h&&(k.h++,y.next=k.g,k.g=y)}zt=!1};function zr(){this.s=this.s,this.C=this.C}function pn(y,k){this.type=y,this.g=this.target=k,this.defaultPrevented=!1}zr.prototype.s=!1,zr.prototype.ma=function(){this.s||(this.s=!0,this.N())},zr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},pn.prototype.h=function(){this.defaultPrevented=!0};var Xn=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var y=!1,k=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const Q=()=>{};S.addEventListener("test",Q,k),S.removeEventListener("test",Q,k)}catch{}return y}();function Qr(y,k){if(pn.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var Q=this.type=y.type,he=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=k,k=y.relatedTarget){if(vi){e:{try{Cr(k.nodeName);var et=!0;break e}catch{}et=!1}et||(k=null)}}else"mouseover"==Q?k=y.fromElement:"mouseout"==Q&&(k=y.toElement);this.relatedTarget=k,he?(this.clientX=void 0!==he.clientX?he.clientX:he.pageX,this.clientY=void 0!==he.clientY?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:Xi[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Qr.aa.h.call(this)}}Rt(Qr,pn);var Xi={2:"touch",3:"pen",4:"mouse"};Qr.prototype.h=function(){Qr.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Nr="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function Ei(y,k,Q,he,et){this.listener=y,this.proxy=null,this.src=k,this.type=Q,this.capture=!!he,this.ha=et,this.key=++Ar,this.da=this.fa=!1}function oi(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ji(y){this.src=y,this.g={},this.h=0}function ks(y,k){var Q=k.type;if(Q in y.g){var vt,he=y.g[Q],et=Array.prototype.indexOf.call(he,k,void 0);(vt=0<=et)&&Array.prototype.splice.call(he,et,1),vt&&(oi(k),0==y.g[Q].length&&(delete y.g[Q],y.h--))}}function Fs(y,k,Q,he){for(var et=0;et<y.length;++et){var vt=y[et];if(!vt.da&&vt.listener==k&&vt.capture==!!Q&&vt.ha==he)return et}return-1}ji.prototype.add=function(y,k,Q,he,et){var vt=y.toString();(y=this.g[vt])||(y=this.g[vt]=[],this.h++);var hn=Fs(y,k,he,et);return-1<hn?(k=y[hn],Q||(k.fa=!1)):((k=new Ei(k,this.src,vt,!!he,et)).fa=Q,y.push(k)),k};var wi="closure_lm_"+(1e6*Math.random()|0),Vs={};function ba(y,k,Q,he,et){if(he&&he.once)return Ju(y,k,Q,he,et);if(Array.isArray(k)){for(var vt=0;vt<k.length;vt++)ba(y,k[vt],Q,he,et);return null}return Q=wc(Q),y&&y[Nr]?y.K(k,Q,W(he)?!!he.capture:!!he,et):po(y,k,Q,!1,he,et)}function po(y,k,Q,he,et,vt){if(!k)throw Error("Invalid event type");var hn=W(et)?!!et.capture:!!et,Hi=pl(y);if(Hi||(y[wi]=Hi=new ji(y)),(Q=Hi.add(k,Q,he,hn,vt)).proxy)return Q;if(he=function hl(){const k=Td;return function y(Q){return k.call(y.src,y.listener,Q)}}(),Q.proxy=he,he.src=y,he.listener=Q,y.addEventListener)Xn||(et=hn),void 0===et&&(et=!1),y.addEventListener(k.toString(),he,et);else if(y.attachEvent)y.attachEvent(fl(k.toString()),he);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(he)}return Q}function Ju(y,k,Q,he,et){if(Array.isArray(k)){for(var vt=0;vt<k.length;vt++)Ju(y,k[vt],Q,he,et);return null}return Q=wc(Q),y&&y[Nr]?y.L(k,Q,W(he)?!!he.capture:!!he,et):po(y,k,Q,!0,he,et)}function Uo(y,k,Q,he,et){if(Array.isArray(k))for(var vt=0;vt<k.length;vt++)Uo(y,k[vt],Q,he,et);else he=W(he)?!!he.capture:!!he,Q=wc(Q),y&&y[Nr]?(y=y.i,(k=String(k).toString())in y.g&&-1<(Q=Fs(vt=y.g[k],Q,he,et))&&(oi(vt[Q]),Array.prototype.splice.call(vt,Q,1),0==vt.length&&(delete y.g[k],y.h--))):y&&(y=pl(y))&&(k=y.g[k.toString()],y=-1,k&&(y=Fs(k,Q,he,et)),(Q=-1<y?k[y]:null)&&Co(Q))}function Co(y){if("number"!=typeof y&&y&&!y.da){var k=y.src;if(k&&k[Nr])ks(k.i,y);else{var Q=y.type,he=y.proxy;k.removeEventListener?k.removeEventListener(Q,he,y.capture):k.detachEvent?k.detachEvent(fl(Q),he):k.addListener&&k.removeListener&&k.removeListener(he),(Q=pl(k))?(ks(Q,y),0==Q.h&&(Q.src=null,k[wi]=null)):oi(y)}}}function fl(y){return y in Vs?Vs[y]:Vs[y]="on"+y}function Td(y,k){if(y.da)y=!0;else{k=new Qr(k,this);var Q=y.listener,he=y.ha||y.src;y.fa&&Co(y),y=Q.call(he,k)}return y}function pl(y){return(y=y[wi])instanceof ji?y:null}var wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function wc(y){return"function"==typeof y?y:(y[wd]||(y[wd]=function(k){return y.handleEvent(k)}),y[wd])}function Ls(){zr.call(this),this.i=new ji(this),this.M=this,this.F=null}function ms(y,k){var Q,he=y.F;if(he)for(Q=[];he;he=he.F)Q.push(he);if(y=y.M,he=k.type||k,"string"==typeof k)k=new pn(k,y);else if(k instanceof pn)k.target=k.target||y;else{var et=k;m(k=new pn(he,y),et)}if(et=!0,Q)for(var vt=Q.length-1;0<=vt;vt--){var hn=k.g=Q[vt];et=qs(hn,he,!0,k)&&et}if(et=qs(hn=k.g=y,he,!0,k)&&et,et=qs(hn,he,!1,k)&&et,Q)for(vt=0;vt<Q.length;vt++)et=qs(hn=k.g=Q[vt],he,!1,k)&&et}function qs(y,k,Q,he){if(!(k=y.i.g[String(k)]))return!0;k=k.concat();for(var et=!0,vt=0;vt<k.length;++vt){var hn=k[vt];if(hn&&!hn.da&&hn.capture==Q){var Hi=hn.listener,mo=hn.ha||hn.src;hn.fa&&ks(y.i,hn),et=!1!==Hi.call(mo,he)&&et}}return et&&!he.defaultPrevented}function Ad(y,k,Q){if("function"==typeof y)Q&&(y=xe(y,Q));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=xe(y.handleEvent,y)}return 2147483647<Number(k)?-1:S.setTimeout(y,k||0)}function Sh(y){y.g=Ad(()=>{y.g=null,y.i&&(y.i=!1,Sh(y))},y.l);const k=y.h;y.h=null,y.m.apply(null,k)}Rt(Ls,zr),Ls.prototype[Nr]=!0,Ls.prototype.removeEventListener=function(y,k,Q,he){Uo(this,y,k,Q,he)},Ls.prototype.N=function(){if(Ls.aa.N.call(this),this.i){var k,y=this.i;for(k in y.g){for(var Q=y.g[k],he=0;he<Q.length;he++)oi(Q[he]);delete y.g[k],y.h--}}this.F=null},Ls.prototype.K=function(y,k,Q,he){return this.i.add(String(y),k,!1,Q,he)},Ls.prototype.L=function(y,k,Q,he){return this.i.add(String(y),k,!0,Q,he)};class Zu extends zr{constructor(k,Q){super(),this.m=k,this.l=Q,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Sh(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gl(y){zr.call(this),this.h=y,this.g={}}Rt(gl,zr);var Hp=[];function Sf(y){Hr(y.g,function(k,Q){this.g.hasOwnProperty(Q)&&Co(k)},y),y.g={}}gl.prototype.N=function(){gl.aa.N.call(this),Sf(this)},gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dd=S.JSON.stringify,Sd=S.JSON.parse,Jg=class{stringify(y){return S.JSON.stringify(y,void 0)}parse(y){return S.JSON.parse(y,void 0)}};function Pd(){}function zp(){}Pd.prototype.h=null;var Rd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pf(){pn.call(this,"d")}function ec(){pn.call(this,"c")}Rt(Pf,pn),Rt(ec,pn);var vu={},Rf=null;function Md(){return Rf=Rf||new Ls}function Ac(y){pn.call(this,vu.La,y)}function Od(y){const k=Md();ms(k,new Ac(k))}function Mf(y,k){pn.call(this,vu.STAT_EVENT,y),this.stat=k}function go(y){const k=Md();ms(k,new Mf(k,y))}function Wp(y,k){pn.call(this,vu.Ma,y),this.size=k}function Gp(y,k){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){y()},k)}function ml(){this.g=!0}function Of(y,k,Q,he){y.info(function(){return"XMLHTTP TEXT ("+k+"): "+function Cv(y,k){if(!y.g)return k;if(!k)return null;try{var Q=JSON.parse(k);if(Q)for(y=0;y<Q.length;y++)if(Array.isArray(Q[y])){var he=Q[y];if(!(2>he.length)){var et=he[1];if(Array.isArray(et)&&!(1>et.length)){var vt=et[0];if("noop"!=vt&&"stop"!=vt&&"close"!=vt)for(var hn=1;hn<et.length;hn++)et[hn]=""}}}return Dd(Q)}catch{return k}}(y,Q)+(he?" "+he:"")})}vu.La="serverreachability",Rt(Ac,pn),vu.STAT_EVENT="statevent",Rt(Mf,pn),vu.Ma="timingevent",Rt(Wp,pn),ml.prototype.xa=function(){this.g=!1},ml.prototype.info=function(){};var p_,em={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Kp(){}function Dc(y,k,Q,he){this.j=y,this.i=k,this.l=Q,this.R=he||1,this.U=new gl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ey}function Ey(){this.i=null,this.g="",this.h=!1}Rt(Kp,Pd),Kp.prototype.g=function(){return new XMLHttpRequest},Kp.prototype.i=function(){return{}},p_=new Kp;var qp={},g_={};function m_(y,k,Q){y.L=1,y.v=vl(tc(k)),y.m=Q,y.P=!0,Iy(y,null)}function Iy(y,k){y.F=Date.now(),tm(y),y.A=tc(y.v);var Q=y.A,he=y.R;Array.isArray(he)||(he=[String(he)]),C_(Q.i,"t",he),y.C=0,Q=y.j.J,y.h=new Ey,y.g=jy(y.j,Q?k:null,!y.m),0<y.O&&(y.M=new Zu(xe(y.Y,y,y.g),y.O)),k=y.U,Q=y.g,he=y.ca;var et="readystatechange";Array.isArray(et)||(et&&(Hp[0]=et.toString()),et=Hp);for(var vt=0;vt<et.length;vt++){var hn=ba(Q,et[vt],he||k.handleEvent,!1,k.h||k);if(!hn)break;k.g[hn.key]=hn}k=y.H?v(y.H):{},y.m?(y.u||(y.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,k)):(y.u="GET",y.g.ea(y.A,y.u,null,k)),Od(),function vv(y,k,Q,he,et,vt){y.info(function(){if(y.g)if(vt)for(var hn="",Hi=vt.split("&"),mo=0;mo<Hi.length;mo++){var Ii=Hi[mo].split("=");if(1<Ii.length){var To=Ii[0];Ii=Ii[1];var $o=To.split("_");hn=2<=$o.length&&"type"==$o[1]?hn+(To+"=")+Ii+"&":hn+(To+"=redacted&")}}else hn=null;else hn=vt;return"XMLHTTP REQ ("+he+") [attempt "+et+"]: "+k+"\n"+Q+"\n"+hn})}(y.i,y.u,y.A,y.l,y.R,y.m)}function Cy(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function bv(y,k){var Q=y.C,he=k.indexOf("\n",Q);return-1==he?g_:(Q=Number(k.substring(Q,he)),isNaN(Q)?qp:(he+=1)+Q>k.length?g_:(k=k.slice(he,he+Q),y.C=he+Q,k))}function tm(y){y.S=Date.now()+y.I,by(y,y.I)}function by(y,k){if(null!=y.B)throw Error("WatchDog timer not null");y.B=Gp(xe(y.ba,y),k)}function nm(y){y.B&&(S.clearTimeout(y.B),y.B=null)}function xf(y){0==y.j.G||y.J||By(y.j,y)}function Ph(y){nm(y);var k=y.M;k&&"function"==typeof k.ma&&k.ma(),y.M=null,Sf(y.U),y.g&&(k=y.g,y.g=null,k.abort(),k.ma())}function Ty(y,k){try{var Q=y.j;if(0!=Q.G&&(Q.g==y||y_(Q.h,y)))if(!y.K&&y_(Q.h,y)&&3==Q.G){try{var he=Q.Da.g.parse(k)}catch{he=null}if(Array.isArray(he)&&3==he.length){var et=he;if(0==et[0]){e:if(!Q.u){if(Q.g){if(!(Q.g.F+3e3<y.F))break e;lm(Q),w_(Q)}um(Q),go(18)}}else Q.za=et[1],0<Q.za-Q.T&&37500>et[2]&&Q.F&&0==Q.v&&!Q.C&&(Q.C=Gp(xe(Q.Za,Q),6e3));if(1>=Qp(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Vd(Q,11)}else if((y.K||Q.g==y)&&lm(Q),!$n(k))for(et=Q.Da.g.parse(k),k=0;k<et.length;k++){let Ii=et[k];if(Q.T=Ii[0],Ii=Ii[1],2==Q.G)if("c"==Ii[0]){Q.K=Ii[1],Q.ia=Ii[2];const To=Ii[3];null!=To&&(Q.la=To,Q.j.info("VER="+Q.la));const $o=Ii[4];null!=$o&&(Q.Aa=$o,Q.j.info("SVER="+Q.Aa));const Bf=Ii[5];null!=Bf&&"number"==typeof Bf&&0<Bf&&(Q.L=he=1.5*Bf,Q.j.info("backChannelRequestTimeoutMs_="+he)),he=Q;const Eu=y.g;if(Eu){const ng=Eu.g?Eu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ng){var vt=he.h;vt.g||-1==ng.indexOf("spdy")&&-1==ng.indexOf("quic")&&-1==ng.indexOf("h2")||(vt.j=vt.l,vt.g=new Set,vt.h&&(v_(vt,vt.h),vt.h=null))}if(he.D){const fm=Eu.g?Eu.g.getResponseHeader("X-HTTP-Session-Id"):null;fm&&(he.ya=fm,xi(he.I,he.D,fm))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-y.F,Q.j.info("Handshake RTT: "+Q.R+"ms"));var hn=y;if((he=Q).qa=hm(he,he.J?he.ia:null,he.W),hn.K){rm(he.h,hn);var Hi=hn,mo=he.L;mo&&(Hi.I=mo),Hi.B&&(nm(Hi),tm(Hi)),he.g=hn}else Uy(he);0<Q.i.length&&am(Q)}else"stop"!=Ii[0]&&"close"!=Ii[0]||Vd(Q,7);else 3==Q.G&&("stop"==Ii[0]||"close"==Ii[0]?"stop"==Ii[0]?Vd(Q,7):Vf(Q):"noop"!=Ii[0]&&Q.l&&Q.l.ta(Ii),Q.v=0)}Od()}catch{}}function __(y){this.l=y||10,y=S.PerformanceNavigationTiming?0<(y=S.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tv(y){return!!y.h||!!y.g&&y.g.size>=y.j}function Qp(y){return y.h?1:y.g?y.g.size:0}function y_(y,k){return y.h?y.h==k:!!y.g&&y.g.has(k)}function v_(y,k){y.g?y.g.add(k):y.h=k}function rm(y,k){y.h&&y.h==k?y.h=null:y.g&&y.g.has(k)&&y.g.delete(k)}function Ay(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let k=y.i;for(const Q of y.g.values())k=k.concat(Q.D);return k}return Gt(y.i)}function Bo(y,k){if(y.forEach&&"function"==typeof y.forEach)y.forEach(k,void 0);else if(N(y)||"string"==typeof y)Array.prototype.forEach.call(y,k,void 0);else for(var Q=function Xp(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(N(y)||"string"==typeof y){var k=[];y=y.length;for(var Q=0;Q<y;Q++)k.push(Q);return k}k=[],Q=0;for(const he in y)k[Q++]=he;return k}}}(y),he=function Sc(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(N(y)){for(var k=[],Q=y.length,he=0;he<Q;he++)k.push(y[he]);return k}for(he in k=[],Q=0,y)k[Q++]=y[he];return k}(y),et=he.length,vt=0;vt<et;vt++)k.call(void 0,he[vt],Q&&Q[vt],y)}Dc.prototype.ca=function(y){y=y.target;const k=this.M;k&&3==Il(y)?k.j():this.Y(y)},Dc.prototype.Y=function(y){try{if(y==this.g)e:{const $o=Il(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>$o)&&(3!=$o||this.g&&(this.h.h||this.g.oa()||ky(this.g)))){this.J||4!=$o||7==k||Od(),nm(this);var Q=this.g.Z();this.X=Q;t:if(Cy(this)){var he=ky(this.g);y="";var et=he.length,vt=4==Il(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ph(this),xf(this);var hn="";break t}this.h.i=new S.TextDecoder}for(k=0;k<et;k++)this.h.h=!0,y+=this.h.i.decode(he[k],{stream:!(vt&&k==et-1)});he.length=0,this.h.g+=y,this.C=0,hn=this.h.g}else hn=this.g.oa();if(this.o=200==Q,function Ev(y,k,Q,he,et,vt,hn){y.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+et+"]: "+k+"\n"+Q+"\n"+vt+" "+hn})}(this.i,this.u,this.A,this.l,this.R,$o,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Hi,mo=this.g;if((Hi=mo.g?mo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$n(Hi)){var Ii=Hi;break t}}Ii=null}if(!(Q=Ii)){this.o=!1,this.s=3,go(12),Ph(this),xf(this);break e}Of(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ty(this,Q)}if(this.P){let Eu;for(Q=!0;!this.J&&this.C<hn.length;){if(Eu=bv(this,hn),Eu==g_){4==$o&&(this.s=4,go(14),Q=!1),Of(this.i,this.l,null,"[Incomplete Response]");break}if(Eu==qp){this.s=4,go(15),Of(this.i,this.l,hn,"[Invalid Chunk]"),Q=!1;break}Of(this.i,this.l,Eu,null),Ty(this,Eu)}if(Cy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=$o||0!=hn.length||this.h.h||(this.s=1,go(16),Q=!1),this.o=this.o&&Q,Q){if(0<hn.length&&!this.W){this.W=!0;var To=this.j;To.g==this&&To.ba&&!To.M&&(To.j.info("Great, no buffering proxy detected. Bytes received: "+hn.length),cm(To),To.M=!0,go(11))}}else Of(this.i,this.l,hn,"[Invalid Chunked Response]"),Ph(this),xf(this)}else Of(this.i,this.l,hn,null),Ty(this,hn);4==$o&&Ph(this),this.o&&!this.J&&(4==$o?By(this.j,this):(this.o=!1,tm(this)))}else(function Dv(y){const k={};y=(y.g&&2<=Il(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let he=0;he<y.length;he++){if($n(y[he]))continue;var Q=P(y[he]);const et=Q[0];if("string"!=typeof(Q=Q[1]))continue;Q=Q.trim();const vt=k[et]||[];k[et]=vt,vt.push(Q)}!function Ge(y,k){for(const Q in y)k.call(void 0,y[Q],Q,y)}(k,function(he){return he.join(", ")})})(this.g),400==Q&&0<hn.indexOf("Unknown SID")?(this.s=3,go(12)):(this.s=0,go(13)),Ph(this),xf(this)}}}catch{}},Dc.prototype.cancel=function(){this.J=!0,Ph(this)},Dc.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function Iv(y,k){y.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(Od(),go(17)),Ph(this),this.s=2,xf(this)):by(this,this.S-y)},__.prototype.cancel=function(){if(this.i=Ay(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var xd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bo(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof bo){this.h=y.h,_l(this,y.j),this.o=y.o,this.g=y.g,yl(this,y.s),this.l=y.l;var k=y.i,Q=new kf;Q.i=k.i,k.g&&(Q.g=new Map(k.g),Q.h=k.h),Rh(this,Q),this.m=y.m}else y&&(k=String(y).match(xd))?(this.h=!1,_l(this,k[1]||"",!0),this.o=Pc(k[2]||""),this.g=Pc(k[3]||"",!0),yl(this,k[4]),this.l=Pc(k[5]||"",!0),Rh(this,k[6]||"",!0),this.m=Pc(k[7]||"")):(this.h=!1,this.i=new kf(null,this.h))}function tc(y){return new bo(y)}function _l(y,k,Q){y.j=Q?Pc(k,!0):k,y.j&&(y.j=y.j.replace(/:$/,""))}function yl(y,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);y.s=k}else y.s=null}function Rh(y,k,Q){k instanceof kf?(y.i=k,function wv(y,k){k&&!y.j&&(El(y),y.i=null,y.g.forEach(function(Q,he){var et=he.toLowerCase();he!=et&&(E_(this,he),C_(this,et,Q))},y)),y.j=k}(y.i,y.h)):(Q||(k=Rc(k,Py)),y.i=new kf(k,y.h))}function xi(y,k,Q){y.i.set(k,Q)}function vl(y){return xi(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Pc(y,k){return y?k?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Rc(y,k,Q){return"string"==typeof y?(y=encodeURI(y).replace(k,Nf),Q&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Nf(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}bo.prototype.toString=function(){var y=[],k=this.j;k&&y.push(Rc(k,Mh,!0),":");var Q=this.g;return(Q||"file"==k)&&(y.push("//"),(k=this.o)&&y.push(Rc(k,Mh,!0),"@"),y.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Q=this.s)&&y.push(":",String(Q))),(Q=this.l)&&(this.g&&"/"!=Q.charAt(0)&&y.push("/"),y.push(Rc(Q,"/"==Q.charAt(0)?Sy:Dy,!0))),(Q=this.i.toString())&&y.push("?",Q),(Q=this.m)&&y.push("#",Rc(Q,Ry)),y.join("")};var y,Mh=/[#\/\?@]/g,Dy=/[#\?:]/g,Sy=/[#\?]/g,Py=/[#\?@]/g,Ry=/#/g;function kf(y,k){this.h=this.g=null,this.i=y||null,this.j=!!k}function El(y){y.g||(y.g=new Map,y.h=0,y.i&&function im(y,k){if(y){y=y.split("&");for(var Q=0;Q<y.length;Q++){var he=y[Q].indexOf("="),et=null;if(0<=he){var vt=y[Q].substring(0,he);et=y[Q].substring(he+1)}else vt=y[Q];k(vt,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}(y.i,function(k,Q){y.add(decodeURIComponent(k.replace(/\+/g," ")),Q)}))}function E_(y,k){El(y),k=Nd(y,k),y.g.has(k)&&(y.i=null,y.h-=y.g.get(k).length,y.g.delete(k))}function I_(y,k){return El(y),k=Nd(y,k),y.g.has(k)}function C_(y,k,Q){E_(y,k),0<Q.length&&(y.i=null,y.g.set(Nd(y,k),Gt(Q)),y.h+=Q.length)}function Nd(y,k){return k=String(k),y.j&&(k=k.toLowerCase()),k}function kd(y,k,Q,he,et){try{et&&(et.onload=null,et.onerror=null,et.onabort=null,et.ontimeout=null),he(Q)}catch{}}function Av(){this.g=new Jg}function IE(y,k,Q){const he=Q||"";try{Bo(y,function(et,vt){let hn=et;W(et)&&(hn=Dd(et)),k.push(he+vt+"="+encodeURIComponent(hn))})}catch(et){throw k.push(he+"type="+encodeURIComponent("_badmap")),et}}function Yp(y){this.l=y.Ub||null,this.j=y.eb||!1}function b_(y,k){Ls.call(this),this.D=y,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function My(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function Jp(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Zp(y)}function Zp(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function sm(y){let k="";return Hr(y,function(Q,he){k+=he,k+=":",k+=Q,k+="\r\n"}),k}function Oh(y,k,Q){e:{for(he in Q){var he=!1;break e}he=!0}he||(Q=sm(Q),"string"==typeof y?null!=Q&&encodeURIComponent(String(Q)):xi(y,k,Q))}function _s(y){Ls.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=kf.prototype).add=function(y,k){El(this),this.i=null,y=Nd(this,y);var Q=this.g.get(y);return Q||this.g.set(y,Q=[]),Q.push(k),this.h+=1,this},a.forEach=function(y,k){El(this),this.g.forEach(function(Q,he){Q.forEach(function(et){y.call(k,et,he,this)},this)},this)},a.na=function(){El(this);const y=Array.from(this.g.values()),k=Array.from(this.g.keys()),Q=[];for(let he=0;he<k.length;he++){const et=y[he];for(let vt=0;vt<et.length;vt++)Q.push(k[he])}return Q},a.V=function(y){El(this);let k=[];if("string"==typeof y)I_(this,y)&&(k=k.concat(this.g.get(Nd(this,y))));else{y=Array.from(this.g.values());for(let Q=0;Q<y.length;Q++)k=k.concat(y[Q])}return k},a.set=function(y,k){return El(this),this.i=null,I_(this,y=Nd(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[k]),this.h+=1,this},a.get=function(y,k){return y&&0<(y=this.V(y)).length?String(y[0]):k},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],k=Array.from(this.g.keys());for(var Q=0;Q<k.length;Q++){var he=k[Q];const vt=encodeURIComponent(String(he)),hn=this.V(he);for(he=0;he<hn.length;he++){var et=vt;""!==hn[he]&&(et+="="+encodeURIComponent(String(hn[he]))),y.push(et)}}return this.i=y.join("&")},Rt(Yp,Pd),Yp.prototype.g=function(){return new b_(this.l,this.j)},Yp.prototype.i=(y={},function(){return y}),Rt(b_,Ls),(a=b_.prototype).open=function(y,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=k,this.readyState=1,Zp(this)},a.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(k.body=y),(this.D||S).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jp(this)),this.readyState=0},a.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Zp(this)),this.g&&(this.readyState=3,Zp(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;My(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var k=y.value?y.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!y.done}))&&(this.response=this.responseText+=k)}y.done?Jp(this):Zp(this),3==this.readyState&&My(this)}},a.Ra=function(y){this.g&&(this.response=this.responseText=y,Jp(this))},a.Qa=function(y){this.g&&(this.response=y,Jp(this))},a.ga=function(){this.g&&Jp(this)},a.setRequestHeader=function(y,k){this.u.append(y,k)},a.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],k=this.h.entries();for(var Q=k.next();!Q.done;)y.push((Q=Q.value)[0]+": "+Q[1]),Q=k.next();return y.join("\r\n")},Object.defineProperty(b_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),Rt(_s,Ls);var om=/^https?$/i,Oy=["POST","PUT"];function Ff(y,k){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=k,y.m=5,T_(y),Fd(y)}function T_(y){y.A||(y.A=!0,ms(y,"complete"),ms(y,"error"))}function xy(y){if(y.h&&typeof E<"u"&&(!y.v[1]||4!=Il(y)||2!=y.Z()))if(y.u&&4==Il(y))Ad(y.Ea,0,y);else if(ms(y,"readystatechange"),4==Il(y)){y.h=!1;try{const hn=y.Z();e:switch(hn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var Q;if(!(Q=k)){var he;if(he=0===hn){var et=String(y.D).match(xd)[1]||null;!et&&S.self&&S.self.location&&(et=S.self.location.protocol.slice(0,-1)),he=!om.test(et?et.toLowerCase():"")}Q=he}if(Q)ms(y,"complete"),ms(y,"success");else{y.m=6;try{var vt=2<Il(y)?y.g.statusText:""}catch{vt=""}y.l=vt+" ["+y.Z()+"]",T_(y)}}finally{Fd(y)}}}function Fd(y,k){if(y.g){Ny(y);const Q=y.g,he=y.v[0]?()=>{}:null;y.g=null,y.v=null,k||ms(y,"ready");try{Q.onreadystatechange=he}catch{}}}function Ny(y){y.I&&(S.clearTimeout(y.I),y.I=null)}function Il(y){return y.g?y.g.readyState:0}function ky(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(y,k,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[y]||k}function eg(y){this.Aa=0,this.i=[],this.j=new ml,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xh("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xh("baseRetryDelayMs",5e3,y),this.cb=xh("retryDelaySeedMs",1e4,y),this.Wa=xh("forwardChannelMaxRetries",2,y),this.wa=xh("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new __(y&&y.concurrentRequestLimit),this.Da=new Av,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Vf(y){if(Fy(y),3==y.G){var k=y.U++,Q=tc(y.I);if(xi(Q,"SID",y.K),xi(Q,"RID",k),xi(Q,"TYPE","terminate"),Lf(y,Q),(k=new Dc(y,y.j,k)).L=2,k.v=vl(tc(Q)),Q=!1,S.navigator&&S.navigator.sendBeacon)try{Q=S.navigator.sendBeacon(k.v.toString(),"")}catch{}!Q&&S.Image&&((new Image).src=k.v,Q=!0),Q||(k.g=jy(k.j,null),k.g.ea(k.v)),k.F=Date.now(),tm(k)}dm(y)}function w_(y){y.g&&(cm(y),y.g.cancel(),y.g=null)}function Fy(y){w_(y),y.u&&(S.clearTimeout(y.u),y.u=null),lm(y),y.h.cancel(),y.s&&("number"==typeof y.s&&S.clearTimeout(y.s),y.s=null)}function am(y){if(!Tv(y.h)&&!y.s){y.s=!0;var k=y.Ga;dn||Qn(),zt||(dn(),zt=!0),qn.add(k,y),y.B=0}}function Vy(y,k){var Q;Q=k?k.l:y.U++;const he=tc(y.I);xi(he,"SID",y.K),xi(he,"RID",Q),xi(he,"AID",y.T),Lf(y,he),y.m&&y.o&&Oh(he,y.m,y.o),Q=new Dc(y,y.j,Q,y.B+1),null===y.m&&(Q.H=y.o),k&&(y.i=k.D.concat(y.i)),k=Ly(y,Q,1e3),Q.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),v_(y.h,Q),m_(Q,he,k)}function Lf(y,k){y.H&&Hr(y.H,function(Q,he){xi(k,he,Q)}),y.l&&Bo({},function(Q,he){xi(k,he,Q)})}function Ly(y,k,Q){Q=Math.min(y.i.length,Q);var he=y.l?xe(y.l.Na,y.l,y):null;e:{var et=y.i;let vt=-1;for(;;){const hn=["count="+Q];-1==vt?0<Q?(vt=et[0].g,hn.push("ofs="+vt)):vt=0:hn.push("ofs="+vt);let Hi=!0;for(let mo=0;mo<Q;mo++){let Ii=et[mo].g;const To=et[mo].map;if(Ii-=vt,0>Ii)vt=Math.max(0,et[mo].g-100),Hi=!1;else try{IE(To,hn,"req"+Ii+"_")}catch{he&&he(To)}}if(Hi){he=hn.join("&");break e}}}return y=y.i.splice(0,Q),k.D=y,he}function Uy(y){if(!y.g&&!y.u){y.Y=1;var k=y.Fa;dn||Qn(),zt||(dn(),zt=!0),qn.add(k,y),y.v=0}}function um(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=Gp(xe(y.Fa,y),$y(y,y.v)),y.v++,0))}function cm(y){null!=y.A&&(S.clearTimeout(y.A),y.A=null)}function D_(y){y.g=new Dc(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var k=tc(y.qa);xi(k,"RID","rpc"),xi(k,"SID",y.K),xi(k,"AID",y.T),xi(k,"CI",y.F?"0":"1"),!y.F&&y.ja&&xi(k,"TO",y.ja),xi(k,"TYPE","xmlhttp"),Lf(y,k),y.m&&y.o&&Oh(k,y.m,y.o),y.L&&(y.g.I=y.L);var Q=y.g;y=y.ia,Q.L=1,Q.v=vl(tc(k)),Q.m=null,Q.P=!0,Iy(Q,y)}function lm(y){null!=y.C&&(S.clearTimeout(y.C),y.C=null)}function By(y,k){var Q=null;if(y.g==k){lm(y),cm(y),y.g=null;var he=2}else{if(!y_(y.h,k))return;Q=k.D,rm(y.h,k),he=1}if(0!=y.G)if(k.o)if(1==he){Q=k.m?k.m.length:0,k=Date.now()-k.F;var et=y.B;ms(he=Md(),new Wp(he,Q)),am(y)}else Uy(y);else if(3==(et=k.s)||0==et&&0<k.X||!(1==he&&function A_(y,k){return!(Qp(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=k.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=Gp(xe(y.Ga,y,k),$y(y,y.B)),y.B++,0)))}(y,k)||2==he&&um(y)))switch(Q&&0<Q.length&&(k=y.h,k.i=k.i.concat(Q)),et){case 1:Vd(y,5);break;case 4:Vd(y,10);break;case 3:Vd(y,6);break;default:Vd(y,2)}}function $y(y,k){let Q=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(Q*=2),Q*k}function Vd(y,k){if(y.j.info("Error code "+k),2==k){var Q=xe(y.fb,y),he=y.Xa;const et=!he;he=new bo(he||"//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||_l(he,"https"),vl(he),et?function vE(y,k){const Q=new ml;if(S.Image){const he=new Image;he.onload=tt(kd,Q,"TestLoadImage: loaded",!0,k,he),he.onerror=tt(kd,Q,"TestLoadImage: error",!1,k,he),he.onabort=tt(kd,Q,"TestLoadImage: abort",!1,k,he),he.ontimeout=tt(kd,Q,"TestLoadImage: timeout",!1,k,he),S.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=y}else k(!1)}(he.toString(),Q):function EE(y,k){new ml;const he=new AbortController,et=setTimeout(()=>{he.abort(),kd(0,0,!1,k)},1e4);fetch(y,{signal:he.signal}).then(vt=>{clearTimeout(et),kd(0,0,!!vt.ok,k)}).catch(()=>{clearTimeout(et),kd(0,0,!1,k)})}(he.toString(),Q)}else go(2);y.G=0,y.l&&y.l.sa(k),dm(y),Fy(y)}function dm(y){if(y.G=0,y.ka=[],y.l){const k=Ay(y.h);(0!=k.length||0!=y.i.length)&&(Bt(y.ka,k),Bt(y.ka,y.i),y.h.i.length=0,Gt(y.i),y.i.length=0),y.l.ra()}}function hm(y,k,Q){var he=Q instanceof bo?tc(Q):new bo(Q);if(""!=he.g)k&&(he.g=k+"."+he.g),yl(he,he.s);else{var et=S.location;he=et.protocol,k=k?k+"."+et.hostname:et.hostname,et=+et.port;var vt=new bo(null);he&&_l(vt,he),k&&(vt.g=k),et&&yl(vt,et),Q&&(vt.l=Q),he=vt}return k=y.ya,(Q=y.D)&&k&&xi(he,Q,k),xi(he,"VER",y.la),Lf(y,he),he}function jy(y,k,Q){if(k&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new _s(y.Ca&&!y.pa?new Yp({eb:Q}):y.pa)).Ha(y.J),k}function tg(){}function Nh(){}function ua(y,k){Ls.call(this),this.g=new eg(k),this.l=y,this.h=k&&k.messageUrlParams||null,y=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(y?y["X-WebChannel-Content-Type"]=k.messageContentType:y={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(y?y["X-WebChannel-Client-Profile"]=k.va:y={"X-WebChannel-Client-Profile":k.va}),this.g.S=y,(y=k&&k.Sb)&&!$n(y)&&(this.g.m=y),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!$n(k)&&(this.g.D=k,null!==(y=this.h)&&k in y&&k in(y=this.h)&&delete y[k]),this.j=new Uf(this)}function S_(y){Pf.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var k=y.__sm__;if(k){e:{for(const Q in k){y=Q;break e}y=void 0}(this.i=y)&&(y=this.i,k=null!==k&&y in k?k[y]:void 0),this.data=k}else this.data=y}function Hy(){ec.call(this),this.status=1}function Uf(y){this.g=y}(a=_s.prototype).Ha=function(y){this.J=y},a.ea=function(y,k,Q,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);k=k?k.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():p_.g(),this.v=function Zg(y){return y.h||(y.h=y.i())}(this.o?this.o:p_),this.g.onreadystatechange=xe(this.Ea,this);try{this.B=!0,this.g.open(k,String(y),!0),this.B=!1}catch(vt){return void Ff(this,vt)}if(y=Q||"",Q=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var et in he)Q.set(et,he[et]);else{if("function"!=typeof he.keys||"function"!=typeof he.get)throw Error("Unknown input type for opt_headers: "+String(he));for(const vt of he.keys())Q.set(vt,he.get(vt))}he=Array.from(Q.keys()).find(vt=>"content-type"==vt.toLowerCase()),et=S.FormData&&y instanceof S.FormData,!(0<=Array.prototype.indexOf.call(Oy,k,void 0))||he||et||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[vt,hn]of Q)this.g.setRequestHeader(vt,hn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ny(this),this.u=!0,this.g.send(y),this.u=!1}catch(vt){Ff(this,vt)}},a.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,ms(this,"complete"),ms(this,"abort"),Fd(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fd(this,!0)),_s.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?xy(this):this.bb())},a.bb=function(){xy(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Il(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(y){if(this.g){var k=this.g.responseText;return y&&0==k.indexOf(y)&&(k=k.substring(y.length)),Sd(k)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=eg.prototype).la=8,a.G=1,a.connect=function(y,k,Q,he){go(0),this.W=y,this.H=k||{},Q&&void 0!==he&&(this.H.OSID=Q,this.H.OAID=he),this.F=this.X,this.I=hm(this,null,this.W),am(this)},a.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const et=new Dc(this,this.j,y);let vt=this.o;if(this.S&&(vt?(vt=v(vt),m(vt,this.S)):vt=this.S),null!==this.m||this.O||(et.H=vt,vt=null),this.P)e:{for(var k=0,Q=0;Q<this.i.length;Q++){var he=this.i[Q];if(void 0===(he="__data__"in he.map&&"string"==typeof(he=he.map.__data__)?he.length:void 0))break;if(4096<(k+=he)){k=Q;break e}if(4096===k||Q===this.i.length-1){k=Q+1;break e}}k=1e3}else k=1e3;k=Ly(this,et,k),xi(Q=tc(this.I),"RID",y),xi(Q,"CVER",22),this.D&&xi(Q,"X-HTTP-Session-Id",this.D),Lf(this,Q),vt&&(this.O?k="headers="+encodeURIComponent(String(sm(vt)))+"&"+k:this.m&&Oh(Q,this.m,vt)),v_(this.h,et),this.Ua&&xi(Q,"TYPE","init"),this.P?(xi(Q,"$req",k),xi(Q,"SID","null"),et.T=!0,m_(et,Q,null)):m_(et,Q,k),this.G=2}}else 3==this.G&&(y?Vy(this,y):0==this.i.length||Tv(this.h)||Vy(this))},a.Fa=function(){if(this.u=null,D_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Gp(xe(this.ab,this),y)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,go(10),w_(this),D_(this))},a.Za=function(){null!=this.C&&(this.C=null,w_(this),um(this),go(19))},a.fb=function(y){y?(this.j.info("Successfully pinged google.com"),go(2)):(this.j.info("Failed to ping google.com"),go(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=tg.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},Nh.prototype.g=function(y,k){return new ua(y,k)},Rt(ua,Ls),ua.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ua.prototype.close=function(){Vf(this.g)},ua.prototype.o=function(y){var k=this.g;if("string"==typeof y){var Q={};Q.__data__=y,y=Q}else this.u&&((Q={}).__data__=Dd(y),y=Q);k.i.push(new class{constructor(y,k){this.g=y,this.map=k}}(k.Ya++,y)),3==k.G&&am(k)},ua.prototype.N=function(){this.g.l=null,delete this.j,Vf(this.g),delete this.g,ua.aa.N.call(this)},Rt(S_,Pf),Rt(Hy,ec),Rt(Uf,tg),Uf.prototype.ua=function(){ms(this.g,"a")},Uf.prototype.ta=function(y){ms(this.g,new S_(y))},Uf.prototype.sa=function(y){ms(this.g,new Hy)},Uf.prototype.ra=function(){ms(this.g,"b")},Nh.prototype.createWebChannel=Nh.prototype.g,ua.prototype.send=ua.prototype.o,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,Ke=de.createWebChannelTransport=function(){return new Nh},Xt=de.getStatEventTarget=function(){return Md()},bt=de.Event=vu,kt=de.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},em.NO_ERROR=0,em.TIMEOUT=8,em.HTTP_ERROR=6,gt=de.ErrorCode=em,vy.COMPLETE="complete",It=de.EventType=vy,zp.EventType=Rd,Rd.OPEN="a",Rd.CLOSE="b",Rd.ERROR="c",Rd.MESSAGE="d",Ls.prototype.listen=Ls.prototype.K,We=de.WebChannel=zp,ut=de.FetchXmlHttpFactory=Yp,_s.prototype.listenOnce=_s.prototype.L,_s.prototype.getLastError=_s.prototype.Ka,_s.prototype.getLastErrorCode=_s.prototype.Ba,_s.prototype.getStatus=_s.prototype.Z,_s.prototype.getResponseJson=_s.prototype.Oa,_s.prototype.getResponseText=_s.prototype.oa,_s.prototype.send=_s.prototype.ea,_s.prototype.setWithCredentials=_s.prototype.Ha,Re=de.XhrIo=_s}).apply(typeof ae<"u"?ae:typeof self<"u"?self:typeof window<"u"?window:{});const Ue="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ze="10.12.1";const Xe=new Ae.Vy("@firebase/firestore");function mt(){return Xe.logLevel}function St(a){Xe.setLogLevel(a)}function Ie(a,...e){if(Xe.logLevel<=Ae.$b.DEBUG){const r=e.map(zn);Xe.debug(`Firestore (${ze}): ${a}`,...r)}}function jt(a,...e){if(Xe.logLevel<=Ae.$b.ERROR){const r=e.map(zn);Xe.error(`Firestore (${ze}): ${a}`,...r)}}function en(a,...e){if(Xe.logLevel<=Ae.$b.WARN){const r=e.map(zn);Xe.warn(`Firestore (${ze}): ${a}`,...r)}}function zn(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Et(a="Unexpected state"){const e=`FIRESTORE (${ze}) INTERNAL ASSERTION FAILED: `+a;throw jt(e),new Error(e)}function Mt(a,e){a||Et()}function Vt(a,e){a||Et()}function Ze(a,e){return a}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ye.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ge{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class De{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Je.UNAUTHENTICATED))}shutdown(){}}class Te{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Le{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const p=W=>this.i!==u?(u=this.i,r(W)):Promise.resolve();let E=new ge;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ge,e.enqueueRetryable(()=>p(this.currentUser))};const S=()=>{const W=E;e.enqueueRetryable((0,l.A)(function*(){yield W.promise,yield p(s.currentUser)}))},N=W=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(W=>N(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?N(W):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ge)}},0),S()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Mt("string"==typeof s.accessToken),new De(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new Je(e)}}class ht{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _t{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new ht(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=p=>{null!=p.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const E=p.token!==this.R;return this.R=p.token,Ie("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const u=p=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Mt("string"==typeof r.token),this.R=r.token,new rn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gn(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class ar{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=gn(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function Ft(a,e){return a<e?-1:a>e?1:0}function _n(a,e,r){return a.length===e.length&&a.every((s,u)=>r(s,e[u]))}function On(a){return a+"\0"}class Lt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ue(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ue(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ue(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Lt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Lt(0,0))}static max(){return new Pt(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Br{constructor(e,r,s){void 0===r?r=0:r>e.length&&Et(),void 0===s?s=e.length-r:s>e.length-r&&Et(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Br.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const p=e.get(u),E=r.get(u);if(p<E)return-1;if(p>E)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class sn extends Br{construct(e,r,s){return new sn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(fe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new sn(r)}static emptyPath(){return new sn([])}}const pr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Br{construct(e,r,s){return new Bn(e,r,s)}static isValidIdentifier(e){return pr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const p=()=>{if(0===s.length)throw new ue(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let E=!1;for(;u<e.length;){const S=e[u];if("\\"===S){if(u+1===e.length)throw new ue(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new ue(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,u+=2}else"`"===S?(E=!E,u++):"."!==S||E?(s+=S,u++):(p(),u++)}if(p(),E)throw new ue(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(r)}static emptyPath(){return new Bn([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(sn.fromString(e))}static fromName(e){return new Ot(sn.fromString(e).popFirst(5))}static empty(){return new Ot(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return sn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new sn(e.slice()))}}class un{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function Cn(a){return a.fields.find(e=>2===e.kind)}function mn(a){return a.fields.filter(e=>2!==e.kind)}un.UNKNOWN_ID=-1;class vr{constructor(e,r){this.fieldPath=e,this.kind=r}}class xn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new xn(0,Yt.min())}}function ei(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Pt.fromTimestamp(1e9===s?new Lt(r+1,0):new Lt(r,s));return new Yt(u,Ot.empty(),e)}function Ji(a){return new Yt(a.readTime,a.key,-1)}class Yt{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Yt(Pt.min(),Ot.empty(),-1)}static max(){return new Yt(Pt.max(),Ot.empty(),-1)}}function ti(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ot.comparator(a.documentKey,e.documentKey),0!==r?r:Ft(a.largestBatchId,e.largestBatchId))}const jn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dn(a){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.A)(function*(a){if(a.code!==fe.FAILED_PRECONDITION||a.message!==jn)throw a;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new je((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(r,p).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof je?r:je.resolve(r)}catch(r){return je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):je.reject(r)}static resolve(e){return new je((r,s)=>{r(e)})}static reject(e){return new je((r,s)=>{s(e)})}static waitFor(e){return new je((r,s)=>{let u=0,p=0,E=!1;e.forEach(S=>{++u,S.next(()=>{++p,E&&p===u&&r()},N=>s(N))}),E=!0,p===u&&r()})}static or(e){let r=je.resolve(!1);for(const s of e)r=r.next(u=>u?je.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,p)=>{s.push(r.call(this,u,p))}),this.waitFor(s)}static mapArray(e,r){return new je((s,u)=>{const p=e.length,E=new Array(p);let S=0;for(let N=0;N<p;N++){const W=N;r(e[W]).next(re=>{E[W]=re,++S,S===p&&s(E)},re=>u(re))}})}static doWhile(e,r){return new je((s,u)=>{const p=()=>{!0===e()?r().next(()=>{p()},u):s()};p()})}}class ct{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new ge,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Ut(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=ee(s.target.error);this.V.reject(new Ut(e,u))}}static open(e,r,s,u){try{return new ct(r,e.transaction(u,s))}catch(p){throw new Ut(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Sr(r)}}class se{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===se.S((0,ye.ZQ)())&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),nr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ye.zW)())return!1;if(se.C())return!0;const e=(0,ye.ZQ)(),r=se.S(e),s=0<r&&r<10,u=be(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,l.A)(function*(){return r.db||(Ie("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=E=>{s(E.target.result)},p.onblocked=()=>{u(new Ut(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=E=>{const S=E.target.error;u("VersionError"===S.name?new ue(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new ue(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Ut(e,S))},p.onupgradeneeded=E=>{Ie("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',E.oldVersion),r.p.O(E.target.result,p.transaction,E.oldVersion,r.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var p=this;return(0,l.A)(function*(){const E="readonly"===r;let S=0;for(;;){++S;try{p.db=yield p.M(e);const N=ct.open(p.db,e,E?"readonly":"readwrite",s),W=u(N).next(re=>(N.g(),re)).catch(re=>(N.abort(re),je.reject(re))).toPromise();return W.catch(()=>{}),yield N.m,W}catch(N){const W=N,re="FirebaseError"!==W.name&&S<3;if(Ie("SimpleDb","Transaction failed with error:",W.message,"Retrying:",re),p.close(),!re)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function be(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class st{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return nr(this.B.delete())}}class Ut extends ue{constructor(e,r){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Tn(a){return"IndexedDbTransactionError"===a.name}class Sr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ie("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),nr(s)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),nr(this.store.add(e))}get(e){return nr(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ie("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),nr(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),nr(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new je((E,S)=>{p.onerror=N=>{S(N.target.error)},p.onsuccess=N=>{E(N.target.result)}})}{const p=this.cursor(s),E=[];return this.W(p,(S,N)=>{E.push(N)}).next(()=>E)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new je((u,p)=>{s.onerror=E=>{p(E.target.error)},s.onsuccess=E=>{u(E.target.result)}})}j(e,r){Ie("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(p,E,S)=>S.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new je((s,u)=>{r.onerror=p=>{const E=ee(p.target.error);u(E)},r.onsuccess=p=>{const E=p.target.result;E?e(E.primaryKey,E.value).next(S=>{S?E.continue():s()}):s()}})}W(e,r){const s=[];return new je((u,p)=>{e.onerror=E=>{p(E.target.error)},e.onsuccess=E=>{const S=E.target.result;if(!S)return void u();const N=new st(S),W=r(S.primaryKey,S.value,N);if(W instanceof je){const re=W.catch(me=>(N.done(),je.reject(me)));s.push(re)}N.isDone?u():null===N.K?S.continue():S.continue(N.K)}}).next(()=>je.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function nr(a){return new je((e,r)=>{a.onsuccess=s=>{e(s.target.result)},a.onerror=s=>{const u=ee(s.target.error);r(u)}})}let Me=!1;function ee(a){const e=se.S((0,ye.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const s=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Me||(Me=!0,setTimeout(()=>{throw s},0)),s}}return a}class H{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.A)(function*(){r.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Tn(s)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Dn(s)}yield r.X(6e4)}))}}class V{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,l.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,p=!0;return je.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!s.has(E))return Ie("IndexBackfiller",`Processing collection: ${E}`),this.ne(e,E,u).next(S=>{u-=S,s.add(E)});p=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(p=>{const E=p.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.re(u,p)).next(S=>(Ie("IndexBackfiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,r,S))).next(()=>E.size)}))}re(e,r){let s=e;return r.changes.forEach((u,p)=>{const E=Ji(p);ti(E,s)>0&&(s=E)}),new Yt(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function ce(a){return null==a}function Ne(a){return 0===a&&1/a==-1/0}function pt(a){return"number"==typeof a&&Number.isInteger(a)&&!Ne(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function At(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Kt(e)),e=on(a.get(r),e);return Kt(e)}function on(a,e){let r=e;const s=a.length;for(let u=0;u<s;u++){const p=a.charAt(u);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function Kt(a){return a+"\x01\x01"}function Jt(a){const e=a.length;if(Mt(e>=2),2===e)return Mt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),sn.emptyPath();const r=e-2,s=[];let u="";for(let p=0;p<e;){const E=a.indexOf("\x01",p);switch((E<0||E>r)&&Et(),a.charAt(E+1)){case"\x01":const S=a.substring(p,E);let N;0===u.length?N=S:(u+=S,N=u,u=""),s.push(N);break;case"\x10":u+=a.substring(p,E),u+="\0";break;case"\x11":u+=a.substring(p,E+1);break;default:Et()}p=E+2}return new sn(s)}const Jn=["userId","batchId"];function vn(a,e){return[a,At(e)]}function ci(a,e,r){return[a,At(e),r]}const kr={},Us=["prefixPath","collectionGroup","readTime","documentId"],Xr=["prefixPath","collectionGroup","documentId"],zi=["collectionGroup","readTime","prefixPath","documentId"],ls=["canonicalId","targetId"],ni=["targetId","path"],Zn=["path","targetId"],rt=["collectionId","parent"],qe=["indexId","uid"],yt=["uid","sequenceNumber"],tn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bn=["indexId","uid","orderedDocumentKey"],Mn=["userId","collectionPath","documentId"],wn=["userId","collectionPath","largestBatchId"],Wn=["userId","collectionGroup","largestBatchId"],Gn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mr=[...Gn,"documentOverlays"],li=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dr=li,ys=[...dr,"indexConfiguration","indexState","indexEntries"],ri=ys;class vs extends lr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function ai(a,e){const r=Ze(a);return se.F(r._e,e)}function Ho(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Ui(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Si(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class rr{constructor(e,r){this.comparator=e,this.root=r||Pr.EMPTY}insert(e,r){return new rr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qs(this.root,e,this.comparator,!0)}}class Qs{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?s(e.key,r):1,r&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,r,s,u,p){this.key=e,this.value=r,this.color=s??Pr.RED,this.left=u??Pr.EMPTY,this.right=p??Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,p){return new Pr(e??this.key,r??this.value,s??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const p=s(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===p?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Pr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,r,s,u,p){return this}insert(e,r,s){return new Pr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rr{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Bs(this.data.getIterator())}getIteratorFrom(e){return new Bs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Rr(this.comparator);return r.data=e,r}}class Bs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wi(a){return a.hasNext()?a.getNext():void 0}class Ni{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Ni([])}unionWith(e){let r=new Rr(Bn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Ni(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return _n(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Zi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function zo(){return typeof atob<"u"}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new Zi("Invalid base64 string: "+p):p}}(e);return new Ci(r)}static fromUint8Array(e){const r=function(u){let p="";for(let E=0;E<u.length;++E)p+=String.fromCharCode(u[E]);return p}(e);return new Ci(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const ca=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(a){if(Mt(!!a),"string"==typeof a){let e=0;const r=ca.exec(a);if(Mt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:hr(a.seconds),nanos:hr(a.nanos)}}function hr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Ai(a){return"string"==typeof a?Ci.fromBase64String(a):Ci.fromUint8Array(a)}function Pi(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Xs(a){const e=a.mapValue.fields.__previous_value__;return Pi(e)?Xs(e):e}function ds(a){const e=bi(a.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}class wo{constructor(e,r,s,u,p,E,S,N,W){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=E,this.autoDetectLongPolling=S,this.longPollingOptions=N,this.useFetchStreams=W}}class Fn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Fn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fn&&e.projectId===this.projectId&&e.database===this.database}}const Er={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wr={nullValue:"NULL_VALUE"};function ki(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Pi(a)?4:br(a)?9007199254740991:10:Et()}function gr(a,e){if(a===e)return!0;const r=ki(a);if(r!==ki(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ds(a).isEqual(ds(e));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const E=bi(u.timestampValue),S=bi(p.timestampValue);return E.seconds===S.seconds&&E.nanos===S.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return p=e,Ai(a.bytesValue).isEqual(Ai(p.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,p){return hr(u.geoPointValue.latitude)===hr(p.geoPointValue.latitude)&&hr(u.geoPointValue.longitude)===hr(p.geoPointValue.longitude)}(a,e);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return hr(u.integerValue)===hr(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const E=hr(u.doubleValue),S=hr(p.doubleValue);return E===S?Ne(E)===Ne(S):isNaN(E)&&isNaN(S)}return!1}(a,e);case 9:return _n(a.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:return function(u,p){const E=u.mapValue.fields||{},S=p.mapValue.fields||{};if(Ho(E)!==Ho(S))return!1;for(const N in E)if(E.hasOwnProperty(N)&&(void 0===S[N]||!gr(E[N],S[N])))return!1;return!0}(a,e);default:return Et()}var p}function Ss(a,e){return void 0!==(a.values||[]).find(r=>gr(r,e))}function es(a,e){if(a===e)return 0;const r=ki(a),s=ki(e);if(r!==s)return Ft(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ft(a.booleanValue,e.booleanValue);case 2:return function(p,E){const S=hr(p.integerValue||p.doubleValue),N=hr(E.integerValue||E.doubleValue);return S<N?-1:S>N?1:S===N?0:isNaN(S)?isNaN(N)?0:-1:1}(a,e);case 3:return is(a.timestampValue,e.timestampValue);case 4:return is(ds(a),ds(e));case 5:return Ft(a.stringValue,e.stringValue);case 6:return function(p,E){const S=Ai(p),N=Ai(E);return S.compareTo(N)}(a.bytesValue,e.bytesValue);case 7:return function(p,E){const S=p.split("/"),N=E.split("/");for(let W=0;W<S.length&&W<N.length;W++){const re=Ft(S[W],N[W]);if(0!==re)return re}return Ft(S.length,N.length)}(a.referenceValue,e.referenceValue);case 8:return function(p,E){const S=Ft(hr(p.latitude),hr(E.latitude));return 0!==S?S:Ft(hr(p.longitude),hr(E.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(p,E){const S=p.values||[],N=E.values||[];for(let W=0;W<S.length&&W<N.length;++W){const re=es(S[W],N[W]);if(re)return re}return Ft(S.length,N.length)}(a.arrayValue,e.arrayValue);case 10:return function(p,E){if(p===Er.mapValue&&E===Er.mapValue)return 0;if(p===Er.mapValue)return 1;if(E===Er.mapValue)return-1;const S=p.fields||{},N=Object.keys(S),W=E.fields||{},re=Object.keys(W);N.sort(),re.sort();for(let me=0;me<N.length&&me<re.length;++me){const xe=Ft(N[me],re[me]);if(0!==xe)return xe;const tt=es(S[N[me]],W[re[me]]);if(0!==tt)return tt}return Ft(N.length,re.length)}(a.mapValue,e.mapValue);default:throw Et()}}function is(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Ft(a,e);const r=bi(a),s=bi(e),u=Ft(r.seconds,s.seconds);return 0!==u?u:Ft(r.nanos,s.nanos)}function Ri(a){return ts(a)}function ts(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=bi(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Ai(a.bytesValue).toBase64():"referenceValue"in a?Ot.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const p of r.values||[])u?u=!1:s+=",",s+=ts(p);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",p=!0;for(const E of s)p?p=!1:u+=",",u+=`${E}:${ts(r.fields[E])}`;return u+"}"}(a.mapValue):Et()}function Qt(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Sn(a){return!!a&&"integerValue"in a}function er(a){return!!a&&"arrayValue"in a}function Mi(a){return!!a&&"nullValue"in a}function Ys(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Gr(a){return!!a&&"mapValue"in a}function ss(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ui(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ss(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ss(a.arrayValue.values[r]);return e}return Object.assign({},a)}function br(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ps(a){return"nullValue"in a?Wr:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Qt(Fn.empty(),Ot.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:Et()}function Es(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Qt(Fn.empty(),Ot.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?Er:Et()}function Vn(a,e){const r=es(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function os(a,e){const r=es(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Gr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ss(r)}setAll(e){let r=Bn.emptyPath(),s={},u=[];e.forEach((E,S)=>{if(!r.isImmediateParentOf(S)){const N=this.getFieldsMap(r);this.applyChanges(N,s,u),s={},u=[],r=S.popLast()}E?s[S.lastSegment()]=ss(E):u.push(S.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,s,u)}delete(e){const r=this.field(e.popLast());Gr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];Gr(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){Ui(r,(u,p)=>e[u]=p);for(const u of s)delete e[u]}clone(){return new di(ss(this.value))}}function J(a){const e=[];return Ui(a.fields,(r,s)=>{const u=new Bn([r]);if(Gr(s)){const p=J(s.mapValue).fields;if(0===p.length)e.push(u);else for(const E of p)e.push(u.child(E))}else e.push(u)}),new Ni(e)}class G{constructor(e,r,s,u,p,E,S){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=p,this.data=E,this.documentState=S}static newInvalidDocument(e){return new G(e,0,Pt.min(),Pt.min(),Pt.min(),di.empty(),0)}static newFoundDocument(e,r,s,u){return new G(e,1,r,Pt.min(),s,u,0)}static newNoDocument(e,r){return new G(e,2,r,Pt.min(),Pt.min(),di.empty(),0)}static newUnknownDocument(e,r){return new G(e,3,r,Pt.min(),Pt.min(),di.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof G&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new G(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ve{constructor(e,r){this.position=e,this.inclusive=r}}function we(a,e,r){let s=0;for(let u=0;u<a.position.length;u++){const p=e[u],E=a.position[u];if(s=p.field.isKeyField()?Ot.comparator(Ot.fromName(E.referenceValue),r.key):es(E,r.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function He(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!gr(a.position[r],e.position[r]))return!1;return!0}class ft{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ht(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class cn{}class Dt extends cn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Gi(e,r,s):"array-contains"===r?new mr(e,s):"in"===r?new Js(e,s):"not-in"===r?new Ki(e,s):"array-contains-any"===r?new Wo(e,s):new Dt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ir(e,s):new pi(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(es(r,this.value)):null!==r&&ki(this.value)===ki(r)&&this.matchesComparison(es(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends cn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new nn(e,r)}matches(e){return tr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tr(a){return"and"===a.op}function En(a){return"or"===a.op}function hi(a){return $r(a)&&tr(a)}function $r(a){for(const e of a.filters)if(e instanceof nn)return!1;return!0}function fi(a){if(a instanceof Dt)return a.field.canonicalString()+a.op.toString()+Ri(a.value);if(hi(a))return a.filters.map(e=>fi(e)).join(",");{const e=a.filters.map(r=>fi(r)).join(",");return`${a.op}(${e})`}}function si(a,e){return a instanceof Dt?(s=a,(u=e)instanceof Dt&&s.op===u.op&&s.field.isEqual(u.field)&&gr(s.value,u.value)):a instanceof nn?function(s,u){return u instanceof nn&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,E,S)=>p&&si(E,u.filters[S]),!0)}(a,e):void Et();var s,u}function jr(a,e){const r=a.filters.concat(e);return nn.create(r,a.op)}function Bi(a){return a instanceof Dt?`${(r=a).field.canonicalString()} ${r.op} ${Ri(r.value)}`:a instanceof nn?function(r){return r.op.toString()+" {"+r.getFilters().map(Bi).join(" ,")+"}"}(a):"Filter";var r}class Gi extends Dt{constructor(e,r,s){super(e,r,s),this.key=Ot.fromName(s.referenceValue)}matches(e){const r=Ot.comparator(e.key,this.key);return this.matchesComparison(r)}}class ir extends Dt{constructor(e,r){super(e,"in",r),this.keys=Yr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class pi extends Dt{constructor(e,r){super(e,"not-in",r),this.keys=Yr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Yr(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Ot.fromName(s.referenceValue))}class mr extends Dt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return er(r)&&Ss(r.arrayValue,this.value)}}class Js extends Dt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ss(this.value.arrayValue,r)}}class Ki extends Dt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ss(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ss(this.value.arrayValue,r)}}class Wo extends Dt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!er(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Ss(this.value.arrayValue,s))}}class as{constructor(e,r=null,s=[],u=[],p=null,E=null,S=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=E,this.endAt=S,this.ue=null}}function la(a,e=null,r=[],s=[],u=null,p=null,E=null){return new as(a,e,r,s,u,p,E)}function Is(a){const e=Ze(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>fi(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),ce(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Ri(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Ri(s)).join(",")),e.ue=r}return e.ue}function Cs(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Ht(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!si(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!He(a.startAt,e.startAt)&&He(a.endAt,e.endAt)}function Va(a){return Ot.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function ea(a,e){return a.filters.filter(r=>r instanceof Dt&&r.field.isEqual(e))}function Fi(a,e,r){let s=Wr,u=!0;for(const p of ea(a,e)){let E=Wr,S=!0;switch(p.op){case"<":case"<=":E=Ps(p.value);break;case"==":case"in":case">=":E=p.value;break;case">":E=p.value,S=!1;break;case"!=":case"not-in":E=Wr}Vn({value:s,inclusive:u},{value:E,inclusive:S})<0&&(s=E,u=S)}if(null!==r)for(let p=0;p<a.orderBy.length;++p)if(a.orderBy[p].field.isEqual(e)){const E=r.position[p];Vn({value:s,inclusive:u},{value:E,inclusive:r.inclusive})<0&&(s=E,u=r.inclusive);break}return{value:s,inclusive:u}}function Ao(a,e,r){let s=Er,u=!0;for(const p of ea(a,e)){let E=Er,S=!0;switch(p.op){case">=":case">":E=Es(p.value),S=!1;break;case"==":case"in":case"<=":E=p.value;break;case"<":E=p.value,S=!1;break;case"!=":case"not-in":E=Er}os({value:s,inclusive:u},{value:E,inclusive:S})>0&&(s=E,u=S)}if(null!==r)for(let p=0;p<a.orderBy.length;++p)if(a.orderBy[p].field.isEqual(e)){const E=r.position[p];os({value:s,inclusive:u},{value:E,inclusive:r.inclusive})>0&&(s=E,u=r.inclusive);break}return{value:s,inclusive:u}}class Do{constructor(e,r=null,s=[],u=[],p=null,E="F",S=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=E,this.startAt=S,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function La(a,e,r,s,u,p,E,S){return new Do(a,e,r,s,u,p,E,S)}function Fr(a){return new Do(a)}function Go(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Ua(a){return null!==a.collectionGroup}function z(a){const e=Ze(a);if(null===e.ce){e.ce=[];const r=new Set;for(const p of e.explicitOrderBy)e.ce.push(p),r.add(p.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(E){let S=new Rr(Bn.comparator);return E.filters.forEach(N=>{N.getFlattenedFilters().forEach(W=>{W.isInequality()&&(S=S.add(W.field))})}),S})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.ce.push(new ft(p,s))}),r.has(Bn.keyField().canonicalString())||e.ce.push(new ft(Bn.keyField(),s))}return e.ce}function X(a){const e=Ze(a);return e.le||(e.le=function ie(a,e){if("F"===a.limitType)return la(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new ft(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new ve(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ve(a.startAt.position,a.startAt.inclusive):null;return la(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,z(a))),e.le}function Oe(a,e){const r=a.filters.concat([e]);return new Do(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function ln(a,e,r){return new Do(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Nn(a,e){return Cs(X(a),X(e))&&a.limitType===e.limitType}function qi(a){return`${Is(X(a))}|lt:${a.limitType}`}function hs(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>Bi(u)).join(", ")}]`),ce(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(E=u).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Ri(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Ri(u)).join(",")),`Target(${s})`}(X(a))}; limitType=${a.limitType})`}function Qi(a,e){return e.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):Ot.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(a,e)&&function(s,u){for(const p of z(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(a,e)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(a,e)&&(u=e,!((s=a).startAt&&!function(E,S,N){const W=we(E,S,N);return E.inclusive?W<=0:W<0}(s.startAt,z(s),u)||s.endAt&&!function(E,S,N){const W=we(E,S,N);return E.inclusive?W>=0:W>0}(s.endAt,z(s),u)));var s,u}function So(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Rs(a){return(e,r)=>{let s=!1;for(const u of z(a)){const p=$s(u,e,r);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function $s(a,e,r){const s=a.field.isKeyField()?Ot.comparator(e.key,r.key):function(p,E,S){const N=E.data.field(p),W=S.data.field(p);return null!==N&&null!==W?es(N,W):Et()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}class Ms{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(r,s)=>{for(const[u,p]of s)e(u,p)})}isEmpty(){return Si(this.inner)}size(){return this.innerSize}}const Tl=new rr(Ot.comparator);function Kr(){return Tl}const ta=new rr(Ot.comparator);function Oi(...a){let e=ta;for(const r of a)e=e.insert(r.key,r);return e}function nc(a){let e=ta;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function js(){return Zs()}function Po(){return Zs()}function Zs(){return new Ms(a=>a.toString(),(a,e)=>a.isEqual(e))}const Ta=new rr(Ot.comparator),fs=new Rr(Ot.comparator);function Kn(...a){let e=fs;for(const r of a)e=e.add(r);return e}const Ba=new Rr(Ft);function Tu(){return Ba}function da(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ne(e)?"-0":e}}function wa(a){return{integerValue:""+a}}function ha(a,e){return pt(e)?wa(e):da(a,e)}class _o{constructor(){this._=void 0}}function Ko(a,e,r){return a instanceof oo?function(u,p){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&Pi(p)&&(p=Xs(p)),p&&(E.fields.__previous_value__=p),{mapValue:E}}(r,e):a instanceof eo?ao(a,e):a instanceof Ro?wu(a,e):function(u,p){const E=so(u,p),S=fa(E)+fa(u.Pe);return Sn(E)&&Sn(u.Pe)?wa(S):da(u.serializer,S)}(a,e)}function $a(a,e,r){return a instanceof eo?ao(a,e):a instanceof Ro?wu(a,e):r}function so(a,e){return a instanceof yo?Sn(s=e)||(p=s)&&"doubleValue"in p?e:{integerValue:0}:null;var s,p}class oo extends _o{}class eo extends _o{constructor(e){super(),this.elements=e}}function ao(a,e){const r=Au(e);for(const s of a.elements)r.some(u=>gr(u,s))||r.push(s);return{arrayValue:{values:r}}}class Ro extends _o{constructor(e){super(),this.elements=e}}function wu(a,e){let r=Au(e);for(const s of a.elements)r=r.filter(u=>!gr(u,s));return{arrayValue:{values:r}}}class yo extends _o{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function fa(a){return hr(a.integerValue||a.doubleValue)}function Au(a){return er(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class pa{constructor(e,r){this.field=e,this.transform=r}}class zs{constructor(e,r){this.version=e,this.transformResults=r}}class _r{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Z{}function U(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new ui(a.key,_r.none()):new fn(a.key,a.data,_r.none());{const r=a.data,s=di.empty();let u=new Rr(Bn.comparator);for(let p of e.fields)if(!u.has(p)){let E=r.field(p);null===E&&p.length>1&&(p=p.popLast(),E=r.field(p)),null===E?s.delete(p):s.set(p,E),u=u.add(p)}return new Tr(a.key,s,new Ni(u.toArray()),_r.none())}}function Y(a,e,r){a instanceof fn?function(u,p,E){const S=u.value.clone(),N=Vr(u.fieldTransforms,p,E.transformResults);S.setAll(N),p.convertToFoundDocument(E.version,S).setHasCommittedMutations()}(a,e,r):a instanceof Tr?function(u,p,E){if(!D(u.precondition,p))return void p.convertToUnknownDocument(E.version);const S=Vr(u.fieldTransforms,p,E.transformResults),N=p.data;N.setAll(Or(u)),N.setAll(S),p.convertToFoundDocument(E.version,N).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ce(a,e,r,s){return a instanceof fn?function(p,E,S,N){if(!D(p.precondition,E))return S;const W=p.value.clone(),re=cr(p.fieldTransforms,N,E);return W.setAll(re),E.convertToFoundDocument(E.version,W).setHasLocalMutations(),null}(a,e,r,s):a instanceof Tr?function(p,E,S,N){if(!D(p.precondition,E))return S;const W=cr(p.fieldTransforms,N,E),re=E.data;return re.setAll(Or(p)),re.setAll(W),E.convertToFoundDocument(E.version,re).setHasLocalMutations(),null===S?null:S.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(me=>me.field))}(a,e,r,s):(S=r,D(a.precondition,E=e)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):S);var E,S}function at(a,e){let r=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),p=so(s.transform,u||null);null!=p&&(null===r&&(r=di.empty()),r.set(s.field,p))}return r||null}function Tt(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&_n(s,u,(p,E)=>function Hs(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(s=a.transform)instanceof eo&&u instanceof eo||s instanceof Ro&&u instanceof Ro?_n(s.elements,u.elements,gr):s instanceof yo&&u instanceof yo?gr(s.Pe,u.Pe):s instanceof oo&&u instanceof oo);var s,u}(p,E))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,u}class fn extends Z{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Tr extends Z{constructor(e,r,s,u,p=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Or(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function Vr(a,e,r){const s=new Map;Mt(a.length===r.length);for(let u=0;u<r.length;u++){const p=a[u],E=p.transform,S=e.data.field(p.field);s.set(p.field,$a(E,S,r[u]))}return s}function cr(a,e,r){const s=new Map;for(const u of a){const p=u.transform,E=r.data.field(u.field);s.set(u.field,Ko(p,E,e))}return s}class ui extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ti{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&Y(p,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ce(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ce(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Po();return this.mutations.forEach(u=>{const p=e.get(u.key),E=p.overlayedDocument;let S=this.applyToLocalView(E,p.mutatedFields);S=r.has(u.key)?null:S;const N=U(E,S);null!==N&&s.set(u.key,N),E.isValidDocument()||E.convertToNoDocument(Pt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Kn())}isEqual(e){return this.batchId===e.batchId&&_n(this.mutations,e.mutations,(r,s)=>Tt(r,s))&&_n(this.baseMutations,e.baseMutations,(r,s)=>Tt(r,s))}}class ns{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Mt(e.mutations.length===s.length);let u=Ta;const p=e.mutations;for(let E=0;E<p.length;E++)u=u.insert(p[E].key,s[E].version);return new ns(e,r,s,u)}}class ps{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Os{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ct,Un;function to(a){switch(a){default:return Et();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function rc(a){if(void 0===a)return jt("GRPC error has no .code"),fe.UNKNOWN;switch(a){case Ct.OK:return fe.OK;case Ct.CANCELLED:return fe.CANCELLED;case Ct.UNKNOWN:return fe.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return fe.INTERNAL;case Ct.UNAVAILABLE:return fe.UNAVAILABLE;case Ct.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Ct.NOT_FOUND:return fe.NOT_FOUND;case Ct.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Ct.ABORTED:return fe.ABORTED;case Ct.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Ct.DATA_LOSS:return fe.DATA_LOSS;default:return Et()}}(Un=Ct||(Ct={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";function Mo(){return new TextEncoder}const Aa=new Fe([4294967295,4294967295],0);function Di(a){const e=Mo().encode(a),r=new Be;return r.update(e),new Uint8Array(r.digest())}function ic(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Fe([r,s],0),new Fe([u,p],0)]}class kn{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new vo(`Invalid padding: ${r}`);if(s<0)throw new vo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new vo(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new vo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Fe.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(Fe.fromNumber(s)));return 1===u.compare(Aa)&&(u=new Fe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Di(e),[s,u]=ic(r);for(let p=0;p<this.hashCount;p++){const E=this.Ee(s,u,p);if(!this.de(E))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),E=new kn(p,u,r);return s.forEach(S=>E.insert(S)),E}insert(e){if(0===this.Ie)return;const r=Di(e),[s,u]=ic(r);for(let p=0;p<this.hashCount;p++){const E=this.Ee(s,u,p);this.Ae(E)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gi{constructor(e,r,s,u,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new gi(Pt.min(),u,new rr(Ft),Kr(),Kn())}}class Mc{constructor(e,r,s,u,p){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Mc(s,r,Kn(),Kn(),Kn())}}class Du{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class sc{constructor(e,r){this.targetId=e,this.me=r}}class Oo{constructor(e,r,s=Ci.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class ra{constructor(){this.fe=0,this.ge=wl(),this.pe=Ci.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Kn(),r=Kn(),s=Kn();return this.ge.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Et()}}),new Mc(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=wl()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oc{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kr(),this.qe=Su(),this.Qe=new rr(Ft)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Et()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const p=u.target;if(Va(p))if(0===s){const E=new Ot(p.path);this.Ue(r,E,G.newNoDocument(E,Pt.min()))}else Mt(1===s);else{const E=this.Ye(r);if(E!==s){const S=this.Ze(e),N=S?this.Xe(S,e,E):1;0!==N&&(this.je(r),this.Qe=this.Qe.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=r;let E,S;try{E=Ai(s).toUint8Array()}catch(N){if(N instanceof Zi)return en("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{S=new kn(E,u,p)}catch(N){return en(N instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===S.Ie?null:S}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(p=>{const E=this.Le.tt(),S=`projects/${E.projectId}/databases/${E.database}/documents/${p.path.canonicalString()}`;e.mightContain(S)||(this.Ue(r,p,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((p,E)=>{const S=this.Je(E);if(S){if(p.current&&Va(S.target)){const N=new Ot(S.target.path);null!==this.ke.get(N)||this.it(E,N)||this.Ue(E,N,G.newNoDocument(N,e))}p.be&&(r.set(E,p.Ce()),p.ve())}});let s=Kn();this.qe.forEach((p,E)=>{let S=!0;E.forEachWhile(N=>{const W=this.Je(N);return!W||"TargetPurposeLimboResolution"===W.purpose||(S=!1,!1)}),S&&(s=s.add(p))}),this.ke.forEach((p,E)=>E.setReadTime(e));const u=new gi(e,r,this.Qe,this.ke,s);return this.ke=Kr(),this.qe=Su(),this.Qe=new rr(Ft),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new ra,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Rr(Ft),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ra),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Su(){return new rr(Ot.comparator)}function wl(){return new rr(Ot.comparator)}const Bd={asc:"ASCENDING",desc:"DESCENDING"},Al={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yn={and:"AND",or:"OR"};class $d{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ja(a,e){return a.useProto3Json||ce(e)?e:{value:e}}function xs(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pu(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Oc(a,e){return xs(a,e.toTimestamp())}function yi(a){return Mt(!!a),Pt.fromTimestamp(function(r){const s=bi(r);return new Lt(s.seconds,s.nanos)}(a))}function Da(a,e){return ac(a,e).canonicalString()}function ac(a,e){const r=(u=a,new sn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function xc(a){const e=sn.fromString(a);return Mt(Mu(e)),e}function Ha(a,e){return Da(a.databaseId,e.path)}function xo(a,e){const r=xc(e);if(r.get(1)!==a.databaseId.projectId)throw new ue(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ue(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Ot(Nc(r))}function jd(a,e){return Da(a.databaseId,e)}function xt(a){const e=xc(a);return 4===e.length?sn.emptyPath():Nc(e)}function xr(a){return new sn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Nc(a){return Mt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function za(a,e,r){return{name:Ha(a,e),fields:r.value.mapValue.fields}}function bs(a,e,r){const s=xo(a,e.name),u=yi(e.updateTime),p=e.createTime?yi(e.createTime):Pt.min(),E=new di({mapValue:{fields:e.fields}}),S=G.newFoundDocument(s,u,p,E);return r&&S.setHasCommittedMutations(),r?S.setHasCommittedMutations():S}function no(a,e){let r;if(e instanceof fn)r={update:za(a,e.key,e.value)};else if(e instanceof ui)r={delete:Ha(a,e.key)};else if(e instanceof Tr)r={update:za(a,e.key,e.data),updateMask:Sl(e.fieldMask)};else{if(!(e instanceof qr))return Et();r={verify:Ha(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(p,E){const S=E.transform;if(S instanceof oo)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof eo)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Ro)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof yo)return{fieldPath:E.field.canonicalString(),increment:S.Pe};throw Et()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:Oc(a,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Et()),r;var p}function uo(a,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?_r.updateTime(yi(p.updateTime)):void 0!==p.exists?_r.exists(p.exists):_r.none():_r.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(E,S){let N=null;"setToServerValue"in S?(Mt("REQUEST_TIME"===S.setToServerValue),N=new oo):"appendMissingElements"in S?N=new eo(S.appendMissingElements.values||[]):"removeAllFromArray"in S?N=new Ro(S.removeAllFromArray.values||[]):"increment"in S?N=new yo(E,S.increment):Et();const W=Bn.fromServerFormat(S.fieldPath);return new pa(W,N)}(a,u)):[];var p;if(e.update){const u=xo(a,e.update.name),p=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new Ni((e.updateMask.fieldPaths||[]).map(re=>Bn.fromServerFormat(re)));return new Tr(u,p,E,r,s)}return new fn(u,p,r,s)}if(e.delete){const u=xo(a,e.delete);return new ui(u,r)}if(e.verify){const u=xo(a,e.verify);return new qr(u,r)}return Et()}function Dl(a,e){return{documents:[jd(a,e.path)]}}function kc(a,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=jd(a,u);const p=function(W){if(0!==W.length)return Vc(nn.create(W,"and"))}(e.filters);p&&(r.structuredQuery.where=p);const E=function(W){if(0!==W.length)return W.map(re=>{return{field:qo((xe=re).field),direction:co(xe.dir)};var xe})}(e.orderBy);E&&(r.structuredQuery.orderBy=E);const S=ja(a,e.limit);return null!==S&&(r.structuredQuery.limit=S),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:u};var W}function rs(a){let e=xt(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Mt(1===s);const re=r.from[0];re.allDescendants?u=re.collectionId:e=e.child(re.collectionId)}let p=[];r.where&&(p=function(me){const xe=ia(me);return xe instanceof nn&&hi(xe)?xe.getFilters():[xe]}(r.where));let E=[];r.orderBy&&(E=r.orderBy.map(xe=>{return new ft(Ga((Rt=xe).field),function(Bt){switch(Bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Rt.direction));var Rt}));let S=null;r.limit&&(S=function(me){let xe;return xe="object"==typeof me?me.value:me,ce(xe)?null:xe}(r.limit));let N=null;var me;r.startAt&&(N=new ve((me=r.startAt).values||[],!!me.before));let W=null;return r.endAt&&(W=function(me){return new ve(me.values||[],!me.before)}(r.endAt)),La(e,u,E,p,S,"F",N,W)}function ia(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ga(r.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ga(r.unaryFilter.field);return Dt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Ga(r.unaryFilter.field);return Dt.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=Ga(r.unaryFilter.field);return Dt.create(E,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(a):void 0!==a.fieldFilter?Dt.create(Ga((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return nn.create(r.compositeFilter.filters.map(s=>ia(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Et()}}(r.compositeFilter.op))}(a):Et();var r}function co(a){return Bd[a]}function lo(a){return Al[a]}function Fc(a){return Yn[a]}function qo(a){return{fieldPath:a.canonicalString()}}function Ga(a){return Bn.fromServerFormat(a.fieldPath)}function Vc(a){return a instanceof Dt?function(r){if("=="===r.op){if(Ys(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NAN"}};if(Mi(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ys(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NAN"}};if(Mi(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(r.field),op:lo(r.op),value:r.value}}}(a):a instanceof nn?function(r){const s=r.getFilters().map(u=>Vc(u));return 1===s.length?s[0]:{compositeFilter:{op:Fc(r.op),filters:s}}}(a):Et()}function Sl(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Mu(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Qo{constructor(e,r,s,u,p=Pt.min(),E=Pt.min(),S=Ci.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=S,this.expectedCount=N}withSequenceNumber(e){return new Qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w{constructor(e){this.ct=e}}function b(a,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:O(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ha(p=a.ct,(E=e).key),fields:E.data.value.mapValue.fields,updateTime:xs(p,E.version.toTimestamp()),createTime:xs(p,E.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:$(e.version)};else{if(!e.isUnknownDocument())return Et();s.unknownDocument={path:r.path.toArray(),version:$(e.version)}}var p,E;return s}function O(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function $(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ne(a){const e=new Lt(a.seconds,a.nanoseconds);return Pt.fromTimestamp(e)}function Ee(a,e){const r=(e.baseMutations||[]).map(p=>uo(a.ct,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const s=e.mutations.map(p=>uo(a.ct,p)),u=Lt.fromMillis(e.localWriteTimeMs);return new Ti(e.batchId,u,r,s)}function it(a){const e=ne(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?ne(a.lastLimboFreeSnapshotVersion):Pt.min();let s;return s=void 0!==a.query.documents?(Mt(1===(p=a.query).documents.length),X(Fr(xt(p.documents[0])))):function(p){return X(rs(p))}(a.query),new Qo(s,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,Ci.fromBase64String(a.resumeToken));var p}function nt(a,e){const r=$(e.snapshotVersion),s=$(e.lastLimboFreeSnapshotVersion);let u;u=Va(e.target)?Dl(a.ct,e.target):kc(a.ct,e.target)._t;const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Is(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function an(a){const e=rs({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?ln(e,e.limit,"L"):e}function sr(a,e){return new ps(e.largestBatchId,uo(a.ct,e.overlayMutation))}function yr(a,e){const r=e.path.lastSegment();return[a,At(e.path.popLast()),r]}function Ir(a,e,r,s){return{indexId:a,uid:e,sequenceNumber:r,readTime:$(s.readTime),documentKey:At(s.documentKey.path),largestBatchId:s.largestBatchId}}class Jr{getBundleMetadata(e,r){return Ka(e).get(r).next(s=>{if(s)return{id:(p=s).bundleId,createTime:ne(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Ka(e).put({bundleId:(u=r).id,createTime:$(yi(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return qa(e).get(r).next(s=>{if(s)return{name:(p=s).name,query:an(p.bundledQuery),readTime:ne(p.readTime)};var p})}saveNamedQuery(e,r){return qa(e).put({name:(u=r).name,readTime:$(yi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Ka(a){return ai(a,"bundles")}function qa(a){return ai(a,"namedQueries")}class Qa{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Qa(e,r.uid||"")}getOverlay(e,r){return ro(e).get(yr(this.userId,r)).next(s=>s?sr(this.serializer,s):null)}getOverlays(e,r){const s=js();return je.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((p,E)=>{const S=new ps(r,E);u.push(this.ht(e,S))}),je.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(E=>u.add(At(E.getCollectionPath())));const p=[];return u.forEach(E=>{const S=IDBKeyRange.bound([this.userId,E,s],[this.userId,E,s+1],!1,!0);p.push(ro(e).j("collectionPathOverlayIndex",S))}),je.waitFor(p)}getOverlaysForCollection(e,r,s){const u=js(),p=At(r),E=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return ro(e).U("collectionPathOverlayIndex",E).next(S=>{for(const N of S){const W=sr(this.serializer,N);u.set(W.getKey(),W)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const p=js();let E;const S=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ro(e).J({index:"collectionGroupOverlayIndex",range:S},(N,W,re)=>{const me=sr(this.serializer,W);p.size()<u||me.largestBatchId===E?(p.set(me.getKey(),me),E=me.largestBatchId):re.done()}).next(()=>p)}ht(e,r){return ro(e).put(function(u,p,E){const[S,N,W]=yr(p,E.mutation.key);return{userId:p,collectionPath:N,documentId:W,collectionGroup:E.mutation.key.getCollectionGroup(),largestBatchId:E.largestBatchId,overlayMutation:no(u.ct,E.mutation)}}(this.serializer,this.userId,r))}}function ro(a){return ai(a,"documentOverlays")}class sa{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(hr(e.integerValue));else if("doubleValue"in e){const s=hr(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Ne(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=bi(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ai(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?br(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Et()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),Ot.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Hf(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function Sa(a){const e=64-function(s){let u=0;for(let p=0;p<8;++p){const E=Hf(255&s[p]);if(u+=E,8!==E)break}return u}(a);return Math.ceil(e/8)}sa.bt=new sa;class Xa{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=Sa(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=Sa(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(p){const E=new DataView(new ArrayBuffer(8));return E.setFloat64(0,p,!1),new Uint8Array(E.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Hd{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Pl{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ga{constructor(){this.Gt=new Xa,this.zt=new Hd(this.Gt),this.jt=new Pl(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ma{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ma(this.indexId,this.documentKey,this.arrayValue,s)}}function Xo(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=Lc(a.arrayValue,e.arrayValue),0!==r?r:(r=Lc(a.directionalValue,e.directionalValue),0!==r?r:Ot.comparator(a.documentKey,e.documentKey)))}function Lc(a,e){for(let r=0;r<a.length&&r<e.length;++r){const s=a[r]-e[r];if(0!==s)return s}return a.length-e.length}class _a{constructor(e){this.Yt=new Rr((r,s)=>Bn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Mt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Cn(e);if(void 0!==r&&!this.nn(r))return!1;const s=mn(e);let u=new Set,p=0,E=0;for(;p<s.length&&this.nn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Yt.size>0){const S=this.Yt.getIterator().getNext();if(!u.has(S.field.canonicalString())){const N=s[p];if(!this.rn(S,N)||!this.sn(this.Zt[E++],N))return!1}++p}for(;p<s.length;++p)if(E>=this.Zt.length||!this.sn(this.Zt[E++],s[p]))return!1;return!0}on(){if(this.en)return null;let e=new Rr(Bn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new vr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new vr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new vr(s.field,"asc"===s.dir?0:1)));return new un(un.UNKNOWN_ID,this.collectionId,r,xn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Ya(a){var e,r;if(Mt(a instanceof Dt||a instanceof nn),a instanceof Dt){if(a instanceof Js){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>Dt.create(a.field,"==",p)))||[];return nn.create(u,"or")}return a}const s=a.filters.map(u=>Ya(u));return nn.create(s,a.op)}function Ja(a){if(0===a.getFilters().length)return[];const e=oa(Ya(a));return Mt(zf(e)),Ou(e)||Uc(e)?[e]:e.getFilters()}function Ou(a){return a instanceof Dt}function Uc(a){return a instanceof nn&&hi(a)}function zf(a){return Ou(a)||Uc(a)||function(r){if(r instanceof nn&&En(r)){for(const s of r.getFilters())if(!Ou(s)&&!Uc(s))return!1;return!0}return!1}(a)}function oa(a){if(Mt(a instanceof Dt||a instanceof nn),a instanceof Dt)return a;if(1===a.filters.length)return oa(a.filters[0]);const e=a.filters.map(s=>oa(s));let r=nn.create(e,a.op);return r=Ol(r),zf(r)?r:(Mt(r instanceof nn),Mt(tr(r)),Mt(r.filters.length>1),r.filters.reduce((s,u)=>Rl(s,u)))}function Rl(a,e){let r;return Mt(a instanceof Dt||a instanceof nn),Mt(e instanceof Dt||e instanceof nn),r=a instanceof Dt?e instanceof Dt?nn.create([a,e],"and"):Ml(a,e):e instanceof Dt?Ml(e,a):function(u,p){if(Mt(u.filters.length>0&&p.filters.length>0),tr(u)&&tr(p))return jr(u,p.getFilters());const E=En(u)?u:p,S=En(u)?p:u,N=E.filters.map(W=>Rl(W,S));return nn.create(N,"or")}(a,e),Ol(r)}function Ml(a,e){if(tr(e))return jr(e,a.getFilters());{const r=e.filters.map(s=>Rl(a,s));return nn.create(r,"or")}}function Ol(a){if(Mt(a instanceof Dt||a instanceof nn),a instanceof Dt)return a;const e=a.getFilters();if(1===e.length)return Ol(e[0]);if($r(a))return a;const r=e.map(u=>Ol(u)),s=[];return r.forEach(u=>{u instanceof Dt?s.push(u):u instanceof nn&&(u.op===a.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:nn.create(s,a.op)}class ag{constructor(){this._n=new Za}addToCollectionParentIndex(e,r){return this._n.add(r),je.resolve()}getCollectionParents(e,r){return je.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return je.resolve()}deleteFieldIndex(e,r){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,r){return je.resolve()}getDocumentsMatchingTarget(e,r){return je.resolve(null)}getIndexType(e,r){return je.resolve(0)}getFieldIndexes(e,r){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,r){return je.resolve(Yt.min())}getMinOffsetFromCollectionGroup(e,r){return je.resolve(Yt.min())}updateCollectionGroup(e,r,s){return je.resolve()}updateIndexEntries(e,r){return je.resolve()}}class Za{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new Rr(sn.comparator),p=!u.has(s);return this.index[r]=u.add(s),p}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Rr(sn.comparator)).toArray()}}const eu=new Uint8Array(0);class xl{constructor(e,r){this.databaseId=r,this.an=new Za,this.un=new Ms(s=>Is(s),(s,u)=>Cs(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const p={collectionId:s,parent:At(u)};return tu(e).put(p)}return je.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return tu(e).U(u).next(p=>{for(const E of p){if(E.collectionId!==r)break;s.push(Jt(E.parent))}return s})}addFieldIndex(e,r){const s=xu(e),u={indexId:(S=r).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var S;delete u.indexId;const p=s.add(u);if(r.indexState){const E=Yo(e);return p.next(S=>{E.put(Ir(S,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const s=xu(e),u=Yo(e),p=Eo(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=xu(e),s=Eo(e),u=Yo(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return je.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const p=new _a(s).on();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const s=Eo(e);let u=!0;const p=new Map;return je.forEach(this.cn(r),E=>this.ln(e,E).next(S=>{u&&(u=!!S),p.set(E,S)})).next(()=>{if(u){let E=Kn();const S=[];return je.forEach(p,(N,W)=>{var Rn;Ie("IndexedDbIndexManager",`Using index ${Rn=N,`id=${Rn.indexId}|cg=${Rn.collectionGroup}|f=${Rn.fields.map(Cr=>`${Cr.fieldPath}:${Cr.kind}`).join(",")}`} to execute ${Is(r)}`);const re=function(Rn,Cr){const vi=Cn(Cr);if(void 0===vi)return null;for(const Hr of ea(Rn,vi.fieldPath))switch(Hr.op){case"array-contains-any":return Hr.value.arrayValue.values||[];case"array-contains":return[Hr.value]}return null}(W,N),me=function(Rn,Cr){const vi=new Map;for(const Hr of mn(Cr))for(const Ge of ea(Rn,Hr.fieldPath))switch(Ge.op){case"==":case"in":vi.set(Hr.fieldPath.canonicalString(),Ge.value);break;case"not-in":case"!=":return vi.set(Hr.fieldPath.canonicalString(),Ge.value),Array.from(vi.values())}return null}(W,N),xe=function(Rn,Cr){const vi=[];let Hr=!0;for(const Ge of mn(Cr)){const v=0===Ge.kind?Fi(Rn,Ge.fieldPath,Rn.startAt):Ao(Rn,Ge.fieldPath,Rn.startAt);vi.push(v.value),Hr&&(Hr=v.inclusive)}return new ve(vi,Hr)}(W,N),tt=function(Rn,Cr){const vi=[];let Hr=!0;for(const Ge of mn(Cr)){const v=0===Ge.kind?Ao(Rn,Ge.fieldPath,Rn.endAt):Fi(Rn,Ge.fieldPath,Rn.endAt);vi.push(v.value),Hr&&(Hr=v.inclusive)}return new ve(vi,Hr)}(W,N),Rt=this.hn(N,W,xe),Gt=this.hn(N,W,tt),Bt=this.Pn(N,W,me),An=this.In(N.indexId,re,Rt,xe.inclusive,Gt,tt.inclusive,Bt);return je.forEach(An,$n=>s.G($n,r.limit).next(Rn=>{Rn.forEach(Cr=>{const vi=Ot.fromSegments(Cr.documentKey);E.has(vi)||(E=E.add(vi),S.push(vi))})}))}).next(()=>S)}return je.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Ja(nn.create(e.filters,"and")).map(s=>la(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,p,E,S){const N=(null!=r?r.length:1)*Math.max(s.length,p.length),W=N/(null!=r?r.length:1),re=[];for(let me=0;me<N;++me){const xe=r?this.Tn(r[me/W]):eu,tt=this.En(e,xe,s[me%W],u),Rt=this.dn(e,xe,p[me%W],E),Gt=S.map(Bt=>this.En(e,xe,Bt,!0));re.push(...this.createRange(tt,Rt,Gt))}return re}En(e,r,s,u){const p=new ma(e,Ot.empty(),r,s);return u?p:p.Jt()}dn(e,r,s,u){const p=new ma(e,Ot.empty(),r,s);return u?p.Jt():p}ln(e,r){const s=new _a(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let E=null;for(const S of p)s.tn(S)&&(!E||S.fields.length>E.fields.length)&&(E=S);return E})}getIndexType(e,r){let s=2;const u=this.cn(r);return je.forEach(u,p=>this.ln(e,p).next(E=>{E?0!==s&&E.fields.length<function(N){let W=new Rr(Bn.comparator),re=!1;for(const me of N.filters)for(const xe of me.getFlattenedFilters())xe.field.isKeyField()||("array-contains"===xe.op||"array-contains-any"===xe.op?re=!0:W=W.add(xe.field));for(const me of N.orderBy)me.field.isKeyField()||(W=W.add(me.field));return W.size+(re?1:0)}(p)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new ga;for(const u of mn(e)){const p=r.data.field(u.fieldPath);if(null==p)return null;const E=s.Ht(u.kind);sa.bt.Pt(p,E)}return s.Wt()}Tn(e){const r=new ga;return sa.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new ga;return sa.bt.Pt(Qt(this.databaseId,r),s.Ht(function(p){const E=mn(p);return 0===E.length?0:E[E.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new ga);let p=0;for(const E of mn(e)){const S=s[p++];for(const N of u)if(this.Vn(r,E.fieldPath)&&er(S))u=this.mn(u,E,S);else{const W=N.Ht(E.kind);sa.bt.Pt(S,W)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],p=[];for(const E of s.arrayValue.values||[])for(const S of u){const N=new ga;N.seed(S.Wt()),sa.bt.Pt(E,N.Ht(r.kind)),p.push(N)}return p}Vn(e,r){return!!e.filters.find(s=>s instanceof Dt&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=xu(e),u=Yo(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(p=>{const E=[];return je.forEach(p,S=>u.get([S.indexId,this.uid]).next(N=>{E.push(function(re,me){const xe=me?new xn(me.sequenceNumber,new Yt(ne(me.readTime),new Ot(Jt(me.documentKey)),me.largestBatchId)):xn.empty(),tt=re.fields.map(([Rt,Gt])=>new vr(Bn.fromServerFormat(Rt),Gt));return new un(re.indexId,re.collectionGroup,tt,xe)}(S,N))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:Ft(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=xu(e),p=Yo(e);return this.gn(e).next(E=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(S=>je.forEach(S,N=>p.put(Ir(N.indexId,this.uid,E,s)))))}updateIndexEntries(e,r){const s=new Map;return je.forEach(r,(u,p)=>{const E=s.get(u.collectionGroup);return(E?je.resolve(E):this.getFieldIndexes(e,u.collectionGroup)).next(S=>(s.set(u.collectionGroup,S),je.forEach(S,N=>this.pn(e,u,N).next(W=>{const re=this.yn(p,N);return W.isEqual(re)?je.resolve():this.wn(e,p,N,W,re)}))))})}Sn(e,r,s,u){return Eo(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return Eo(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=Eo(e);let p=new Rr(Xo);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(E,S)=>{p=p.add(new ma(s.indexId,r,S.arrayValue,S.directionalValue))}).next(()=>p)}yn(e,r){let s=new Rr(Xo);const u=this.An(r,e);if(null==u)return s;const p=Cn(r);if(null!=p){const E=e.data.field(p.fieldPath);if(er(E))for(const S of E.arrayValue.values||[])s=s.add(new ma(r.indexId,e.key,this.Tn(S),u))}else s=s.add(new ma(r.indexId,e.key,eu,u));return s}wn(e,r,s,u,p){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const E=[];return function(N,W,re,me,xe){const tt=N.getIterator(),Rt=W.getIterator();let Gt=Wi(tt),Bt=Wi(Rt);for(;Gt||Bt;){let An=!1,$n=!1;if(Gt&&Bt){const Rn=re(Gt,Bt);Rn<0?$n=!0:Rn>0&&(An=!0)}else null!=Gt?$n=!0:An=!0;An?(me(Bt),Bt=Wi(Rt)):$n?(xe(Gt),Gt=Wi(tt)):(Gt=Wi(tt),Bt=Wi(Rt))}}(u,p,Xo,S=>{E.push(this.Sn(e,r,s,S))},S=>{E.push(this.bn(e,r,s,S))}),je.waitFor(E)}gn(e){let r=1;return Yo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((E,S)=>Xo(E,S)).filter((E,S,N)=>!S||0!==Xo(E,N[S-1]));const u=[];u.push(e);for(const E of s){const S=Xo(E,e),N=Xo(E,r);if(0===S)u[0]=e.Jt();else if(S>0&&N<0)u.push(E),u.push(E.Jt());else if(N>0)break}u.push(r);const p=[];for(let E=0;E<u.length;E+=2){if(this.Dn(u[E],u[E+1]))return[];p.push(IDBKeyRange.bound([u[E].indexId,this.uid,u[E].arrayValue,u[E].directionalValue,eu,[]],[u[E+1].indexId,this.uid,u[E+1].arrayValue,u[E+1].directionalValue,eu,[]]))}return p}Dn(e,r){return Xo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Wf)}getMinOffset(e,r){return je.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||Et())).next(Wf)}}function tu(a){return ai(a,"collectionParents")}function Eo(a){return ai(a,"indexEntries")}function xu(a){return ai(a,"indexConfiguration")}function Yo(a){return ai(a,"indexState")}function Wf(a){Mt(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<a.length;s++){const u=a[s].indexState.offset;ti(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Yt(e.readTime,e.documentKey,r)}const cc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fh(a,e,r){const s=a.store("mutations"),u=a.store("documentMutations"),p=[],E=IDBKeyRange.only(r.batchId);let S=0;const N=s.J({range:E},(re,me,xe)=>(S++,xe.delete()));p.push(N.next(()=>{Mt(1===S)}));const W=[];for(const re of r.mutations){const me=ci(e,re.key.path,r.batchId);p.push(u.delete(me)),W.push(re.key)}return je.waitFor(p).next(()=>W)}function Ws(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw Et();e=a.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class Nl{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){Mt(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Nl(p,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return No(e).J({index:"userMutationsIndex",range:s},(u,p,E)=>{r=!1,E.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const p=ya(e),E=No(e);return E.add({}).next(S=>{Mt("number"==typeof S);const N=new Ti(S,r,s,u),W=function(tt,Rt,Gt){const Bt=Gt.baseMutations.map($n=>no(tt.ct,$n)),An=Gt.mutations.map($n=>no(tt.ct,$n));return{userId:Rt,batchId:Gt.batchId,localWriteTimeMs:Gt.localWriteTime.toMillis(),baseMutations:Bt,mutations:An}}(this.serializer,this.userId,N),re=[];let me=new Rr((xe,tt)=>Ft(xe.canonicalString(),tt.canonicalString()));for(const xe of u){const tt=ci(this.userId,xe.key.path,S);me=me.add(xe.key.path.popLast()),re.push(E.put(W)),re.push(p.put(tt,kr))}return me.forEach(xe=>{re.push(this.indexManager.addToCollectionParentIndex(e,xe))}),e.addOnCommittedListener(()=>{this.Cn[S]=N.keys()}),je.waitFor(re).next(()=>N)})}lookupMutationBatch(e,r){return No(e).get(r).next(s=>s?(Mt(s.userId===this.userId),Ee(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?je.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return No(e).J({index:"userMutationsIndex",range:u},(E,S,N)=>{S.userId===this.userId&&(Mt(S.batchId>=s),p=Ee(this.serializer,S)),N.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return No(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,p,E)=>{s=p.batchId,E.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return No(e).U("userMutationsIndex",r).next(s=>s.map(u=>Ee(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=vn(this.userId,r.path),u=IDBKeyRange.lowerBound(s),p=[];return ya(e).J({range:u},(E,S,N)=>{const[W,re,me]=E,xe=Jt(re);if(W===this.userId&&r.path.isEqual(xe))return No(e).get(me).next(tt=>{if(!tt)throw Et();Mt(tt.userId===this.userId),p.push(Ee(this.serializer,tt))});N.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Rr(Ft);const u=[];return r.forEach(p=>{const E=vn(this.userId,p.path),S=IDBKeyRange.lowerBound(E),N=ya(e).J({range:S},(W,re,me)=>{const[xe,tt,Rt]=W,Gt=Jt(tt);xe===this.userId&&p.path.isEqual(Gt)?s=s.add(Rt):me.done()});u.push(N)}),je.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,p=vn(this.userId,s),E=IDBKeyRange.lowerBound(p);let S=new Rr(Ft);return ya(e).J({range:E},(N,W,re)=>{const[me,xe,tt]=N,Rt=Jt(xe);me===this.userId&&s.isPrefixOf(Rt)?Rt.length===u&&(S=S.add(tt)):re.done()}).next(()=>this.Fn(e,S))}Fn(e,r){const s=[],u=[];return r.forEach(p=>{u.push(No(e).get(p).next(E=>{if(null===E)throw Et();Mt(E.userId===this.userId),s.push(Ee(this.serializer,E))}))}),je.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return Fh(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),je.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return je.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return ya(e).J({range:s},(p,E,S)=>{if(p[0]===this.userId){const N=Jt(p[1]);u.push(N)}else S.done()}).next(()=>{Mt(0===u.length)})})}containsKey(e,r){return Bc(e,this.userId,r)}xn(e){return Nu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bc(a,e,r){const s=vn(e,r.path),u=s[1],p=IDBKeyRange.lowerBound(s);let E=!1;return ya(a).J({range:p,H:!0},(S,N,W)=>{const[re,me,xe]=S;re===e&&me===u&&(E=!0),W.done()}).next(()=>E)}function No(a){return ai(a,"mutations")}function ya(a){return ai(a,"documentMutations")}function Nu(a){return ai(a,"mutationQueues")}class Io{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Io(0)}static Ln(){return new Io(-1)}}class Vh{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Io(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Pt.fromTimestamp(new Lt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>nu(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Mt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const p=[];return nu(e).J((E,S)=>{const N=it(S);N.sequenceNumber<=r&&null===s.get(N.targetId)&&(u++,p.push(this.removeTargetData(e,N)))}).next(()=>je.waitFor(p)).next(()=>u)}forEachTarget(e,r){return nu(e).J((s,u)=>{const p=it(u);r(p)})}Bn(e){return kl(e).get("targetGlobalKey").next(r=>(Mt(null!==r),r))}kn(e,r){return kl(e).put("targetGlobalKey",r)}qn(e,r){return nu(e).put(nt(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Is(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return nu(e).J({range:u,index:"queryTargetsIndex"},(E,S,N)=>{const W=it(S);Cs(r,W.target)&&(p=W,N.done())}).next(()=>p)}addMatchingKeys(e,r,s){const u=[],p=Pa(e);return r.forEach(E=>{const S=At(E.path);u.push(p.put({targetId:s,path:S})),u.push(this.referenceDelegate.addReference(e,s,E))}),je.waitFor(u)}removeMatchingKeys(e,r,s){const u=Pa(e);return je.forEach(r,p=>{const E=At(p.path);return je.waitFor([u.delete([s,E]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,r){const s=Pa(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=Pa(e);let p=Kn();return u.J({range:s,H:!0},(E,S,N)=>{const W=Jt(E[1]),re=new Ot(W);p=p.add(re)}).next(()=>p)}containsKey(e,r){const s=At(r.path),u=IDBKeyRange.bound([s],[On(s)],!1,!0);let p=0;return Pa(e).J({index:"documentTargetsIndex",H:!0,range:u},([E,S],N,W)=>{0!==E&&(p++,W.done())}).next(()=>p>0)}ot(e,r){return nu(e).get(r).next(s=>s?it(s):null)}}function nu(a){return ai(a,"targets")}function kl(a){return ai(a,"targetGlobal")}function Pa(a){return ai(a,"targetDocuments")}function zd([a,e],[r,s]){const u=Ft(a,r);return 0===u?Ft(e,s):u}class Ra{constructor(e){this.Kn=e,this.buffer=new Rr(zd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();zd(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class $c{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Tn(s)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Dn(s)}yield r.zn(3e5)}))}}class va{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return je.resolve(F.oe);const s=new Ra(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(cc)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cc):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,p,E,S,N,W;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(me=>(me>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${me}`),u=this.params.maximumSequenceNumbersToCollect):u=me,E=Date.now(),this.nthSequenceNumber(e,u))).next(me=>(s=me,S=Date.now(),this.removeTargets(e,s,r))).next(me=>(p=me,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(me=>(W=Date.now(),mt()<=Ae.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-re}ms\n\tDetermined least recently used ${u} in `+(S-E)+`ms\n\tRemoved ${p} targets in `+(N-S)+`ms\n\tRemoved ${me} documents in `+(W-N)+`ms\nTotal Duration: ${W-re}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:me})))}}class Lh{constructor(e,r){this.db=e,this.garbageCollector=function Fl(a,e){return new va(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return jc(e,s)}removeReference(e,r,s){return jc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return jc(e,r)}er(e,r){return function(u,p){let E=!1;return Nu(u).Y(S=>Bc(u,S,p).next(N=>(N&&(E=!0),je.resolve(!N)))).next(()=>E)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Xn(e,(E,S)=>{if(S<=r){const N=this.er(e,E).next(W=>{if(!W)return p++,s.getEntry(e,E).next(()=>(s.removeEntry(E,Pt.min()),Pa(e).delete([0,At(E.path)])))});u.push(N)}}).next(()=>je.waitFor(u)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return jc(e,r)}Xn(e,r){const s=Pa(e);let u,p=F.oe;return s.J({index:"documentTargetsIndex"},([E,S],{path:N,sequenceNumber:W})=>{0===E?(p!==F.oe&&r(new Ot(Jt(u)),p),p=W,u=N):p=F.oe}).next(()=>{p!==F.oe&&r(new Ot(Jt(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(a,e){return Pa(a).put((u=a.currentSequenceNumber,{targetId:0,path:At(e.path),sequenceNumber:u}));var u}class ru{constructor(){this.changes=new Ms(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,G.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?je.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ea(e).put(s)}removeEntry(e,r,s){return Ea(e).delete(function(p,E){const S=p.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],O(E),S[S.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=G.newInvalidDocument(r);return Ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ku(r))},(u,p)=>{s=this.nr(r,p)}).next(()=>s)}rr(e,r){let s={size:0,document:G.newInvalidDocument(r)};return Ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ku(r))},(u,p)=>{s={document:this.nr(r,p),size:Ws(p)}}).next(()=>s)}getEntries(e,r){let s=Kr();return this.ir(e,r,(u,p)=>{const E=this.nr(u,p);s=s.insert(u,E)}).next(()=>s)}sr(e,r){let s=Kr(),u=new rr(Ot.comparator);return this.ir(e,r,(p,E)=>{const S=this.nr(p,E);s=s.insert(p,S),u=u.insert(p,Ws(E))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return je.resolve();let u=new Rr(zc);r.forEach(N=>u=u.add(N));const p=IDBKeyRange.bound(ku(u.first()),ku(u.last())),E=u.getIterator();let S=E.getNext();return Ea(e).J({index:"documentKeyIndex",range:p},(N,W,re)=>{const me=Ot.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;S&&zc(S,me)<0;)s(S,null),S=E.getNext();S&&S.isEqual(me)&&(s(S,W),S=E.hasNext()?E.getNext():null),S?re.$(ku(S)):re.done()}).next(()=>{for(;S;)s(S,null),S=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,p){const E=r.path,S=[E.popLast().toArray(),E.lastSegment(),O(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[E.popLast().toArray(),E.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ea(e).U(IDBKeyRange.bound(S,N,!0)).next(W=>{p?.incrementDocumentReadCount(W.length);let re=Kr();for(const me of W){const xe=this.nr(Ot.fromSegments(me.prefixPath.concat(me.collectionGroup,me.documentId)),me);xe.isFoundDocument()&&(Qi(r,xe)||u.has(xe.key))&&(re=re.insert(xe.key,xe))}return re})}getAllFromCollectionGroup(e,r,s,u){let p=Kr();const E=Gd(r,s),S=Gd(r,Yt.max());return Ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,S,!0)},(N,W,re)=>{const me=this.nr(Ot.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);p=p.insert(me.key,me),p.size===u&&re.done()}).next(()=>p)}newChangeBuffer(e){return new Wd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Hc(e).get("remoteDocumentGlobalKey").next(r=>(Mt(!!r),r))}tr(e,r){return Hc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function M(a,e){let r;if(e.document)r=bs(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ot.fromSegments(e.noDocument.path),u=ne(e.noDocument.readTime);r=G.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Et();{const s=Ot.fromSegments(e.unknownDocument.path),u=ne(e.unknownDocument.version);r=G.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const p=new Lt(u[0],u[1]);return Pt.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Pt.min()))return s}return G.newInvalidDocument(e)}}function Ns(a){return new Gf(a)}class Wd extends ru{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Ms(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new Rr((p,E)=>Ft(p.canonicalString(),E.canonicalString()));return this.changes.forEach((p,E)=>{const S=this.ur.get(p);if(r.push(this.ar.removeEntry(e,p,S.readTime)),E.isValidDocument()){const N=b(this.ar.serializer,E);u=u.add(p.path.popLast());const W=Ws(N);s+=W-S.size,r.push(this.ar.addEntry(e,p,N))}else if(s-=S.size,this.trackRemovals){const N=b(this.ar.serializer,E.convertToNoDocument(Pt.min()));r.push(this.ar.addEntry(e,p,N))}}),u.forEach(p=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,p))}),r.push(this.ar.updateMetadata(e,s)),je.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((p,E)=>{this.ur.set(p,{size:E,readTime:s.get(p).readTime})}),s))}}function Hc(a){return ai(a,"remoteDocumentGlobal")}function Ea(a){return ai(a,"remoteDocumentsV14")}function ku(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gd(a,e){const r=e.documentKey.path.toArray();return[a,O(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function zc(a,e){const r=a.path.toArray(),s=e.path.toArray();let u=0;for(let p=0;p<r.length-2&&p<s.length-2;++p)if(u=Ft(r[p],s[p]),u)return u;return u=Ft(r.length,s.length),u||(u=Ft(r[r.length-2],s[s.length-2]),u||Ft(r[r.length-1],s[s.length-1]))}class Fu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Gs{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&Ce(s.mutation,u,Ni.empty(),Lt.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Kn()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Kn()){const u=js();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(p=>{let E=Oi();return p.forEach((S,N)=>{E=E.insert(S,N.overlayedDocument)}),E}))}getOverlayedDocuments(e,r){const s=js();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Kn()))}populateOverlays(e,r,s){const u=[];return s.forEach(p=>{r.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((E,S)=>{r.set(E,S)})})}computeViews(e,r,s,u){let p=Kr();const E=Zs(),S=Zs();return r.forEach((N,W)=>{const re=s.get(W.key);u.has(W.key)&&(void 0===re||re.mutation instanceof Tr)?p=p.insert(W.key,W):void 0!==re?(E.set(W.key,re.mutation.getFieldMask()),Ce(re.mutation,W,re.mutation.getFieldMask(),Lt.now())):E.set(W.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,p).next(N=>(N.forEach((W,re)=>E.set(W,re)),r.forEach((W,re)=>{var me;return S.set(W,new Fu(re,null!==(me=E.get(W))&&void 0!==me?me:null))}),S))}recalculateAndSaveOverlays(e,r){const s=Zs();let u=new rr((E,S)=>E-S),p=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(E=>{for(const S of E)S.keys().forEach(N=>{const W=r.get(N);if(null===W)return;let re=s.get(N)||Ni.empty();re=S.applyToLocalView(W,re),s.set(N,re);const me=(u.get(S.batchId)||Kn()).add(N);u=u.insert(S.batchId,me)})}).next(()=>{const E=[],S=u.getReverseIterator();for(;S.hasNext();){const N=S.getNext(),W=N.key,re=N.value,me=Po();re.forEach(xe=>{if(!p.has(xe)){const tt=U(r.get(xe),s.get(xe));null!==tt&&me.set(xe,tt),p=p.add(xe)}}),E.push(this.documentOverlayCache.saveOverlays(e,W,me))}return je.waitFor(E)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Ot.isDocumentKey((E=r).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Ua(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var E}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(p=>{const E=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-p.size):je.resolve(js());let S=-1,N=p;return E.next(W=>je.forEach(W,(re,me)=>(S<me.largestBatchId&&(S=me.largestBatchId),p.get(re)?je.resolve():this.remoteDocumentCache.getEntry(e,re).next(xe=>{N=N.insert(re,xe)}))).next(()=>this.populateOverlays(e,W,p)).next(()=>this.computeViews(e,N,W,Kn())).next(re=>({batchId:S,changes:nc(re)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ot(r)).next(s=>{let u=Oi();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const p=r.collectionGroup;let E=Oi();return this.indexManager.getCollectionParents(e,p).next(S=>je.forEach(S,N=>{const W=(me=r,xe=N.child(p),new Do(xe,null,me.explicitOrderBy.slice(),me.filters.slice(),me.limit,me.limitType,me.startAt,me.endAt));var me,xe;return this.getDocumentsMatchingCollectionQuery(e,W,s,u).next(re=>{re.forEach((me,xe)=>{E=E.insert(me,xe)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(e,r,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(E=>(p=E,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,p,u))).next(E=>{p.forEach((N,W)=>{const re=W.getKey();null===E.get(re)&&(E=E.insert(re,G.newInvalidDocument(re)))});let S=Oi();return E.forEach((N,W)=>{const re=p.get(N);void 0!==re&&Ce(re.mutation,W,Ni.empty(),Lt.now()),Qi(r,W)&&(S=S.insert(N,W))}),S})}}class Vu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return je.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:yi(u.createTime)}),je.resolve();var u}getNamedQuery(e,r){return je.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:an(u.bundledQuery),readTime:yi(u.readTime)}),je.resolve();var u}}class Kd{constructor(){this.overlays=new rr(Ot.comparator),this.hr=new Map}getOverlay(e,r){return je.resolve(this.overlays.get(r))}getOverlays(e,r){const s=js();return je.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,p)=>{this.ht(e,r,p)}),je.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.hr.delete(s)),je.resolve()}getOverlaysForCollection(e,r,s){const u=js(),p=r.length+1,E=new Ot(r.child("")),S=this.overlays.getIteratorFrom(E);for(;S.hasNext();){const N=S.getNext().value,W=N.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===p&&N.largestBatchId>s&&u.set(N.getKey(),N)}return je.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let p=new rr((W,re)=>W-re);const E=this.overlays.getIterator();for(;E.hasNext();){const W=E.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>s){let re=p.get(W.largestBatchId);null===re&&(re=js(),p=p.insert(W.largestBatchId,re)),re.set(W.getKey(),W)}}const S=js(),N=p.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((W,re)=>S.set(W,re)),!(S.size()>=u)););return je.resolve(S)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const E=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(s.key,new ps(r,s));let p=this.hr.get(r);void 0===p&&(p=Kn(),this.hr.set(r,p)),this.hr.set(r,p.add(s.key))}}class iu{constructor(){this.Pr=new Rr($i.Ir),this.Tr=new Rr($i.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new $i(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new $i(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Ot(new sn([])),s=new $i(r,e),u=new $i(r,e+1),p=[];return this.Tr.forEachInRange([s,u],E=>{this.Ar(E),p.push(E.key)}),p}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ot(new sn([])),s=new $i(r,e),u=new $i(r,e+1);let p=Kn();return this.Tr.forEachInRange([s,u],E=>{p=p.add(E.key)}),p}containsKey(e){const r=new $i(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class $i{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ot.comparator(e.key,r.key)||Ft(e.pr,r.pr)}static Er(e,r){return Ft(e.pr,r.pr)||Ot.comparator(e.key,r.key)}}class ug{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Rr($i.Ir)}checkEmpty(e){return je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const p=this.yr;this.yr++;const E=new Ti(p,r,s,u);this.mutationQueue.push(E);for(const S of u)this.wr=this.wr.add(new $i(S.key,p)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return je.resolve(E)}lookupMutationBatch(e,r){return je.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),p=u<0?0:u;return je.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new $i(r,0),u=new $i(r,Number.POSITIVE_INFINITY),p=[];return this.wr.forEachInRange([s,u],E=>{const S=this.Sr(E.pr);p.push(S)}),je.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Rr(Ft);return r.forEach(u=>{const p=new $i(u,0),E=new $i(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([p,E],S=>{s=s.add(S.pr)})}),je.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let p=s;Ot.isDocumentKey(p)||(p=p.child(""));const E=new $i(new Ot(p),0);let S=new Rr(Ft);return this.wr.forEachWhile(N=>{const W=N.key.path;return!!s.isPrefixOf(W)&&(W.length===u&&(S=S.add(N.pr)),!0)},E),je.resolve(this.Dr(S))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Mt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return je.forEach(r.mutations,u=>{const p=new $i(u.key,r.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new $i(r,0),u=this.wr.firstAfterOrEqual(s);return je.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return je.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Kf{constructor(e){this.vr=e,this.docs=new rr(Ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),p=u?u.size:0,E=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:E}),this.size+=E-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return je.resolve(s?s.document.mutableCopy():G.newInvalidDocument(r))}getEntries(e,r){let s=Kr();return r.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():G.newInvalidDocument(u))}),je.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let p=Kr();const E=r.path,S=new Ot(E.child("")),N=this.docs.getIteratorFrom(S);for(;N.hasNext();){const{key:W,value:{document:re}}=N.getNext();if(!E.isPrefixOf(W.path))break;W.path.length>E.length+1||ti(Ji(re),s)<=0||(u.has(re.key)||Qi(r,re))&&(p=p.insert(re.key,re.mutableCopy()))}return je.resolve(p)}getAllFromCollectionGroup(e,r,s,u){Et()}Fr(e,r){return je.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new qd(this)}getSize(e){return je.resolve(this.size)}}class qd extends ru{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),je.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class cg{constructor(e){this.persistence=e,this.Mr=new Ms(r=>Is(r),Cs),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new iu,this.targetCount=0,this.Lr=Io.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),je.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Io(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,je.resolve()}updateTargetData(e,r){return this.qn(r),je.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,r,s){let u=0;const p=[];return this.Mr.forEach((E,S)=>{S.sequenceNumber<=r&&null===s.get(S.targetId)&&(this.Mr.delete(E),p.push(this.removeMatchingKeysForTargetId(e,S.targetId)),u++)}),je.waitFor(p).next(()=>u)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return je.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),je.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,p=[];return u&&r.forEach(E=>{p.push(u.markPotentiallyOrphaned(e,E))}),je.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),je.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return je.resolve(s)}containsKey(e,r){return je.resolve(this.Nr.containsKey(r))}}class qf{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new cg(this),this.indexManager=new ag,this.remoteDocumentCache=new Kf(s=>this.referenceDelegate.Kr(s)),this.serializer=new w(r),this.$r=new Vu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Kd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new ug(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ie("MemoryPersistence","Starting transaction:",e);const u=new Vl(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(p=>this.referenceDelegate.Wr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Gr(e,r){return je.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Vl extends lr{constructor(e){super(),this.currentSequenceNumber=e}}class Qd{constructor(e){this.persistence=e,this.zr=new iu,this.jr=null}static Hr(e){return new Qd(e)}get Jr(){if(this.jr)return this.jr;throw Et()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),je.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),je.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),je.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(p=>this.Jr.add(p.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Jr,s=>{const u=Ot.fromPath(s);return this.Yr(e,u).next(p=>{p||r.removeEntry(u,Pt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return je.or([()=>je.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class dc{constructor(e){this.serializer=e}O(e,r,s,u){const p=new ct("createOrUpgrade",r);var N;s<1&&u>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0}),N.createObjectStore("documentMutations"),Uh(e),function(N){N.createObjectStore("remoteDocuments")}(e));let E=je.resolve();return s<3&&u>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Uh(e)),E=E.next(()=>function(N){const W=N.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",re)}(p))),s<4&&u>=4&&(0!==s&&(E=E.next(()=>function(N,W){return W.store("mutations").U().next(re=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0});const me=W.store("mutations"),xe=re.map(tt=>me.put(tt));return je.waitFor(xe)})}(e,p))),E=E.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(E=E.next(()=>this.Xr(p))),s<6&&u>=6&&(E=E.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.ei(p)))),s<7&&u>=7&&(E=E.next(()=>this.ti(p))),s<8&&u>=8&&(E=E.next(()=>this.ni(e,p))),s<9&&u>=9&&(E=E.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(E=E.next(()=>this.ri(p))),s<11&&u>=11&&(E=E.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(E=E.next(()=>{!function(N){const W=N.createObjectStore("documentOverlays",{keyPath:Mn});W.createIndex("collectionPathOverlayIndex",wn,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Wn,{unique:!1})}(e)})),s<13&&u>=13&&(E=E.next(()=>function(N){const W=N.createObjectStore("remoteDocumentsV14",{keyPath:Us});W.createIndex("documentKeyIndex",Xr),W.createIndex("collectionGroupIndex",zi)}(e)).next(()=>this.ii(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(E=E.next(()=>this.si(e,p))),s<15&&u>=15&&(E=E.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:qe}).createIndex("sequenceNumberIndex",yt,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:tn}).createIndex("documentKeyIndex",bn,{unique:!1})}(e))),s<16&&u>=16&&(E=E.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),E}ei(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=Ws(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>je.forEach(u,p=>{const E=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",E).next(S=>je.forEach(S,N=>{Mt(N.userId===p.userId);const W=Ee(this.serializer,N);return Fh(e,p.userId,W).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((E,S)=>{const N=new sn(E),W=[0,At(N)];p.push(r.get(W).next(re=>re?je.resolve():r.put({targetId:0,path:At(N),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>je.waitFor(p))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:rt});const s=r.store("collectionParents"),u=new Za,p=E=>{if(u.add(E)){const S=E.lastSegment(),N=E.popLast();return s.put({collectionId:S,parent:At(N)})}};return r.store("remoteDocuments").J({H:!0},(E,S)=>{const N=new sn(E);return p(N.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([E,S,N],W)=>{const re=Jt(S);return p(re.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,u)=>{const p=it(u),E=nt(this.serializer,p);return r.put(E)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((p,E)=>{const S=r.store("remoteDocumentsV14"),N=(me=E,me.document?new Ot(sn.fromString(me.document.name).popFirst(5)):me.noDocument?Ot.fromSegments(me.noDocument.path):me.unknownDocument?Ot.fromSegments(me.unknownDocument.path):Et()).path.toArray(),W={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};var me;u.push(S.put(W))}).next(()=>je.waitFor(u))}si(e,r){const s=r.store("mutations"),u=Ns(this.serializer),p=new qf(Qd.Hr,this.serializer.ct);return s.U().next(E=>{const S=new Map;return E.forEach(N=>{var W;let re=null!==(W=S.get(N.userId))&&void 0!==W?W:Kn();Ee(this.serializer,N).keys().forEach(me=>re=re.add(me)),S.set(N.userId,re)}),je.forEach(S,(N,W)=>{const re=new Je(W),me=Qa.lt(this.serializer,re),xe=p.getIndexManager(re),tt=Nl.lt(re,this.serializer,xe,p.referenceDelegate);return new Gs(u,tt,me,xe).recalculateAndSaveOverlaysForDocumentKeys(new vs(r,F.oe),N).next()})})}}function Uh(a){a.createObjectStore("targetDocuments",{keyPath:ni}).createIndex("documentTargetsIndex",Zn,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ls,{unique:!0}),a.createObjectStore("targetGlobal")}const Ll="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class us{constructor(e,r,s,u,p,E,S,N,W,re,me=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=p,this.window=E,this.document=S,this._i=W,this.ai=re,this.ui=me,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=xe=>Promise.resolve(),!us.D())throw new ue(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lh(this,u),this.Ti=r+"main",this.serializer=new w(N),this.Ei=new se(this.Ti,this.ui,new dc(this.serializer)),this.Qr=new Vh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ns(this.serializer),this.$r=new Jr,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===re&&jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(fe.FAILED_PRECONDITION,Ll);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,l.A)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ma(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Tn(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Wc(e).get("owner").next(r=>je.resolve(this.Si(r)))}bi(e){return Ma(e).delete(this.clientId)}Di(){var e=this;return(0,l.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=ai(s,"clientMetadata");return u.U().next(p=>{const E=e.vi(p,18e5),S=p.filter(N=>-1===E.indexOf(N));return je.forEach(S,N=>u.delete(N.clientId)).next(()=>S)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?je.resolve(!0):Wc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new ue(fe.FAILED_PRECONDITION,Ll);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ma(e).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ie("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new vs(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ma(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Nl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xl(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Qa.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Ie("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",p=16===(N=this.ui)?ri:15===N?ys:14===N?dr:13===N?li:12===N?Mr:11===N?Gn:void Et();var N;let E;return this.Ei.runTransaction(e,u,p,S=>(E=new vs(S,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(E).next(N=>!!N||this.pi(E)).next(N=>{if(!N)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ue(fe.FAILED_PRECONDITION,jn);return s(E)}).next(N=>this.wi(E).next(()=>N)):this.ki(E).next(()=>s(E)))).then(S=>(E.raiseOnCommittedEvent(),S))}ki(e){return Wc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ue(fe.FAILED_PRECONDITION,Ll)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wc(e).put("owner",r)}static D(){return se.D()}yi(e){const r=Wc(e);return r.get("owner").next(s=>this.Si(s)?(Ie("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):je.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(jt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,ye.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return jt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wc(a){return ai(a,"owner")}function Ma(a){return ai(a,"clientMetadata")}function Ul(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class ho{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=Kn(),u=Kn();for(const p of r.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new ho(e,r.fromCache,s,u)}}class aa{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bl{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ye.nr)()?8:be((0,ye.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const p={result:null};return this.ji(e,r).next(E=>{p.result=E}).next(()=>{if(!p.result)return this.Hi(e,r,u,s).next(E=>{p.result=E})}).next(()=>{if(p.result)return;const E=new aa;return this.Ji(e,r,E).next(S=>{if(p.result=S,this.Ui)return this.Yi(e,r,E,S.size)})}).next(()=>p.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(mt()<=Ae.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",hs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),je.resolve()):(mt()<=Ae.$b.DEBUG&&Ie("QueryEngine","Query:",hs(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(mt()<=Ae.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",hs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,X(r))):je.resolve())}ji(e,r){if(Go(r))return je.resolve(null);let s=X(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=ln(r,null,"F"),s=X(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(p=>{const E=Kn(...p);return this.zi.getDocuments(e,E).next(S=>this.indexManager.getMinOffset(e,s).next(N=>{const W=this.Zi(r,S);return this.Xi(r,W,E,N.readTime)?this.ji(e,ln(r,null,"F")):this.es(e,W,r,N)}))})))}Hi(e,r,s,u){return Go(r)||u.isEqual(Pt.min())?je.resolve(null):this.zi.getDocuments(e,s).next(p=>{const E=this.Zi(r,p);return this.Xi(r,E,s,u)?je.resolve(null):(mt()<=Ae.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),hs(r)),this.es(e,E,r,ei(u,-1)).next(S=>S))})}Zi(e,r){let s=new Rr(Rs(e));return r.forEach((u,p)=>{Qi(e,p)&&(s=s.add(p))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Ji(e,r,s){return mt()<=Ae.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",hs(r)),this.zi.getDocumentsMatchingQuery(e,r,Yt.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(p=>(r.forEach(E=>{p=p.insert(E.key,E)}),p))}}class hc{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new rr(Ft),this.rs=new Ms(p=>Is(p),Cs),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gs(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function fc(a,e,r,s){return new hc(a,e,r,s)}function Qf(a,e){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.A)(function*(a,e){const r=Ze(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(p=>{const E=[],S=[];let N=Kn();for(const W of u){E.push(W.batchId);for(const re of W.mutations)N=N.add(re.key)}for(const W of p){S.push(W.batchId);for(const re of W.mutations)N=N.add(re.key)}return r.localDocuments.getDocuments(s,N).next(W=>({us:W,removedBatchIds:E,addedBatchIds:S}))})})})).apply(this,arguments)}function Xf(a){const e=Ze(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function $l(a,e,r){let s=Kn(),u=Kn();return r.forEach(p=>s=s.add(p)),e.getEntries(a,s).next(p=>{let E=Kr();return r.forEach((S,N)=>{const W=p.get(S);N.isFoundDocument()!==W.isFoundDocument()&&(u=u.add(S)),N.isNoDocument()&&N.version.isEqual(Pt.min())?(e.removeEntry(S,N.readTime),E=E.insert(S,N)):!W.isValidDocument()||N.version.compareTo(W.version)>0||0===N.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(N),E=E.insert(S,N)):Ie("LocalStore","Ignoring outdated watch update for ",S,". Current version:",W.version," Watch version:",N.version)}),{cs:E,ls:u}})}function Lu(a,e){const r=Ze(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function pc(a,e){const r=Ze(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(p=>p?(u=p,je.resolve(u)):r.Qr.allocateTargetId(s).next(E=>(u=new Qo(e,E,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Oa(a,e,r){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.A)(function*(a,e,r){const s=Ze(a),u=s.ns.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",p,E=>s.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!Tn(E))throw E;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)})).apply(this,arguments)}function jl(a,e,r){const s=Ze(a);let u=Pt.min(),p=Kn();return s.persistence.runTransaction("Execute query","readwrite",E=>function(N,W,re){const me=Ze(N),xe=me.rs.get(re);return void 0!==xe?je.resolve(me.ns.get(xe)):me.Qr.getTargetData(W,re)}(s,E,X(e)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(E,S.targetId).next(N=>{p=N})}).next(()=>s.ts.getDocumentsMatchingQuery(E,e,r?u:Pt.min(),r?p:Kn())).next(S=>(Xd(s,So(e),S),{documents:S,hs:p})))}function Hl(a,e){const r=Ze(a),s=Ze(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,e).next(E=>E?E.target:null))}function $h(a,e){const r=Ze(a),s=r.ss.get(e)||Pt.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,ei(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Xd(r,e,u),u))}function Xd(a,e,r){let s=a.ss.get(e)||Pt.min();r.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),a.ss.set(e,s)}function Uu(){return(Uu=(0,l.A)(function*(a,e,r,s){const u=Ze(a);let p=Kn(),E=Kr();for(const W of r){const re=e.Ps(W.metadata.name);W.document&&(p=p.add(re));const me=e.Is(W);me.setReadTime(e.Ts(W.metadata.readTime)),E=E.insert(re,me)}const S=u.os.newChangeBuffer({trackRemovals:!0}),N=yield pc(u,(re=s,X(Fr(sn.fromString(`__bundle__/docs/${re}`)))));var re;return u.persistence.runTransaction("Apply bundle documents","readwrite",W=>$l(W,S,E).next(re=>(S.apply(W),re)).next(re=>u.Qr.removeMatchingKeysForTargetId(W,N.targetId).next(()=>u.Qr.addMatchingKeys(W,p,N.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(W,re.cs,re.ls)).next(()=>re.cs)))})).apply(this,arguments)}function Kc(a,e){return zl.apply(this,arguments)}function zl(){return(zl=(0,l.A)(function*(a,e,r=Kn()){const s=yield pc(a,X(an(e.bundledQuery))),u=Ze(a);return u.persistence.runTransaction("Save named query","readwrite",p=>{const E=yi(e.readTime);if(s.snapshotVersion.compareTo(E)>=0)return u.$r.saveNamedQuery(p,e);const S=s.withResumeToken(Ci.EMPTY_BYTE_STRING,E);return u.ns=u.ns.insert(S.targetId,S),u.Qr.updateTargetData(p,S).next(()=>u.Qr.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Qr.addMatchingKeys(p,r,s.targetId)).next(()=>u.$r.saveNamedQuery(p,e))})})).apply(this,arguments)}function Bu(a,e){return`firestore_clients_${a}_${e}`}function Jd(a,e,r){let s=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function xa(a,e){return`firestore_targets_${a}_${e}`}class qc{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let p,E="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return E&&u.error&&(E="string"==typeof u.error.message&&"string"==typeof u.error.code,E&&(p=new ue(u.error.code,u.error.message))),E?new qc(e,r,u.state,p):(jt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $u{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new ue(s.error.code,s.error.message))),p?new $u(e,s.state,u):(jt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=Tu();for(let E=0;u&&E<s.activeTargetIds.length;++E)u=pt(s.activeTargetIds[E]),p=p.add(s.activeTargetIds[E]);return u?new gc(e,p):(jt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Jo{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Jo(r.clientId,r.onlineState):(jt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wl{constructor(){this.activeTargetIds=Tu()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jh{constructor(e,r,s,u,p){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new rr(Ft),this.started=!1,this.ys=[];const E=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ws=Bu(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Wl),this.bs=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.A)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const p=e.getItem(Bu(e.persistenceKey,u));if(p){const E=gc.Es(u,p);E&&(e.ps=e.ps.insert(E.clientId,E))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(xa(this.persistenceKey,e));if(s){const u=$u.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xa(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ie("SharedClientState","READ",e,r),r}setItem(e,r){Ie("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ie("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(E){let S=F.oe;if(null!=E)try{const N=JSON.parse(E);Mt("number"==typeof N),S=N}catch(N){jt("SharedClientState","Failed to read sequence number from WebStorage",N)}return S}(s.newValue);u!==F.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(p=>r.syncEngine.Ys(p)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new qc(this.currentUser,e,r,s),p=Jd(this.persistenceKey,this.currentUser,e);this.setItem(p,u.ds())}Bs(e){const r=Jd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=xa(this.persistenceKey,e),p=new $u(e,r,s);this.setItem(u,p.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return gc.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return qc.Es(new Je(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return $u.Es(u,r)}xs(e){return Jo.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),p=this.Ns(s),E=[],S=[];return p.forEach(N=>{u.has(N)||E.push(N)}),u.forEach(N=>{p.has(N)||S.push(N)}),this.syncEngine.eo(E,S).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Tu();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Ia{constructor(){this.no=new Wl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Wl,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class su{io(e){}shutdown(){}}class mc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zd=null;function eh(){return null===Zd?Zd=268435456+Math.round(2147483648*Math.random()):Zd++,"0x"+Zd.toString(16)}const C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const _="WebChannelConnection";class A extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${u}/databases/${p}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Do(){return!1}Co(r,s,u,p,E){const S=eh(),N=this.vo(r,s.toUriEncodedString());Ie("RestConnection",`Sending RPC '${r}' ${S}:`,N,u);const W={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(W,p,E),this.Mo(r,N,W,u).then(re=>(Ie("RestConnection",`Received RPC '${r}' ${S}: `,re),re),re=>{throw en("RestConnection",`RPC '${r}' ${S} failed with error: `,re,"url: ",N,"request:",u),re})}xo(r,s,u,p,E,S){return this.Co(r,s,u,p,E)}Fo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,E)=>r[E]=p),u&&u.headers.forEach((p,E)=>r[E]=p)}vo(r,s){return`${this.wo}/v1/${s}:${C[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,u){const p=eh();return new Promise((E,S)=>{const N=new Re;N.setWithCredentials(!0),N.listenOnce(It.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case gt.NO_ERROR:const re=N.getResponseJson();Ie(_,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(re)),E(re);break;case gt.TIMEOUT:Ie(_,`RPC '${e}' ${p} timed out`),S(new ue(fe.DEADLINE_EXCEEDED,"Request time out"));break;case gt.HTTP_ERROR:const me=N.getStatus();if(Ie(_,`RPC '${e}' ${p} failed with status:`,me,"response text:",N.getResponseText()),me>0){let xe=N.getResponseJson();Array.isArray(xe)&&(xe=xe[0]);const tt=xe?.error;if(tt&&tt.status&&tt.message){const Rt=function(Bt){const An=Bt.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(An)>=0?An:fe.UNKNOWN}(tt.status);S(new ue(Rt,tt.message))}else S(new ue(fe.UNKNOWN,"Server responded with status "+N.getStatus()))}else S(new ue(fe.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{Ie(_,`RPC '${e}' ${p} completed.`)}});const W=JSON.stringify(u);Ie(_,`RPC '${e}' ${p} sending request:`,u),N.send(r,"POST",W,s,15)})}Oo(e,r,s){const u=eh(),p=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=Ke(),S=Xt(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(N.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(N.xmlHttpFactory=new ut({})),this.Fo(N.initMessageHeaders,r,s),N.encodeInitMessageHeaders=!0;const re=p.join("");Ie(_,`Creating RPC '${e}' stream ${u}: ${re}`,N);const me=E.createWebChannel(re,N);let xe=!1,tt=!1;const Rt=new f({lo:Bt=>{tt?Ie(_,`Not sending because RPC '${e}' stream ${u} is closed:`,Bt):(xe||(Ie(_,`Opening RPC '${e}' stream ${u} transport.`),me.open(),xe=!0),Ie(_,`RPC '${e}' stream ${u} sending:`,Bt),me.send(Bt))},ho:()=>me.close()}),Gt=(Bt,An,$n)=>{Bt.listen(An,Rn=>{try{$n(Rn)}catch(Cr){setTimeout(()=>{throw Cr},0)}})};return Gt(me,We.EventType.OPEN,()=>{tt||(Ie(_,`RPC '${e}' stream ${u} transport opened.`),Rt.mo())}),Gt(me,We.EventType.CLOSE,()=>{tt||(tt=!0,Ie(_,`RPC '${e}' stream ${u} transport closed`),Rt.po())}),Gt(me,We.EventType.ERROR,Bt=>{tt||(tt=!0,en(_,`RPC '${e}' stream ${u} transport errored:`,Bt),Rt.po(new ue(fe.UNAVAILABLE,"The operation could not be completed")))}),Gt(me,We.EventType.MESSAGE,Bt=>{var An;if(!tt){const $n=Bt.data[0];Mt(!!$n);const Cr=$n.error||(null===(An=$n[0])||void 0===An?void 0:An.error);if(Cr){Ie(_,`RPC '${e}' stream ${u} received error:`,Cr);const vi=Cr.status;let Hr=function(d){const m=Ct[d];if(void 0!==m)return rc(m)}(vi),Ge=Cr.message;void 0===Hr&&(Hr=fe.INTERNAL,Ge="Unknown error status: "+vi+" with message "+Cr.message),tt=!0,Rt.po(new ue(Hr,Ge)),me.close()}else Ie(_,`RPC '${e}' stream ${u} received:`,$n),Rt.yo($n)}}),Gt(S,bt.STAT_EVENT,Bt=>{Bt.stat===kt.PROXY?Ie(_,`RPC '${e}' stream ${u} detected buffering proxy`):Bt.stat===kt.NOPROXY&&Ie(_,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Rt.fo()},0),Rt}}function q(){return typeof window<"u"?window:null}function oe(){return typeof document<"u"?document:null}function ke(a){return new $d(a,!0)}class ot{constructor(e,r,s=1e3,u=1.5,p=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=u,this.Bo=p,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-s);u>0&&Ie("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Nt{constructor(e,r,s,u,p,E,S,N){this.oi=e,this.Go=s,this.zo=u,this.connection=p,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=S,this.listener=N,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ot(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,l.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,l.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,l.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===fe.RESOURCE_EXHAUSTED?(jt(r.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===fe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===r&&this.u_(s,u)},s=>{e(()=>{const u=new ue(fe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,l.A)(function*(){e.state=0,e.start()}))}c_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class In extends Nt{constructor(e,r,s,u,p,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,E),this.serializer=p}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Ru(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Et(),u=e.targetChange.targetIds||[],p=function(W,re){return W.useProto3Json?(Mt(void 0===re||"string"==typeof re),Ci.fromBase64String(re||"")):(Mt(void 0===re||re instanceof Buffer||re instanceof Uint8Array),Ci.fromUint8Array(re||new Uint8Array))}(a,e.targetChange.resumeToken),E=e.targetChange.cause,S=E&&function(W){const re=void 0===W.code?fe.UNKNOWN:rc(W.code);return new ue(re,W.message||"")}(E);r=new Oo(s,u,p,S||null)}else if("documentChange"in e){const s=e.documentChange,u=xo(a,s.document.name),p=yi(s.document.updateTime),E=s.document.createTime?yi(s.document.createTime):Pt.min(),S=new di({mapValue:{fields:s.document.fields}}),N=G.newFoundDocument(u,p,E,S);r=new Du(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,u=xo(a,s.document),p=s.readTime?yi(s.readTime):Pt.min(),E=G.newNoDocument(u,p);r=new Du([],s.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const s=e.documentRemove,u=xo(a,s.document);r=new Du([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Et();{const s=e.filter,{count:u=0,unchangedNames:p}=s,E=new Os(u,p);r=new sc(s.targetId,E)}}var W;return r}(this.serializer,e),s=function(p){if(!("targetChange"in p))return Pt.min();const E=p.targetChange;return E.targetIds&&E.targetIds.length?Pt.min():E.readTime?yi(E.readTime):Pt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=xr(this.serializer),r.addTarget=function(p,E){let S;const N=E.target;if(S=Va(N)?{documents:Dl(p,N)}:{query:kc(p,N)._t},S.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){S.resumeToken=Pu(p,E.resumeToken);const W=ja(p,E.expectedCount);null!==W&&(S.expectedCount=W)}else if(E.snapshotVersion.compareTo(Pt.min())>0){S.readTime=xs(p,E.snapshotVersion.toTimestamp());const W=ja(p,E.expectedCount);null!==W&&(S.expectedCount=W)}return S}(this.serializer,e);const s=function Ts(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=xr(this.serializer),r.removeTarget=e,this.i_(r)}}class Ln extends Nt{constructor(e,r,s,u,p,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,E),this.serializer=p,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Wa(a,e){return a&&a.length>0?(Mt(void 0!==e),a.map(r=>function(u,p){let E=yi(u.updateTime?u.updateTime:p);return E.isEqual(Pt.min())&&(E=yi(p)),new zs(E,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.A_(s,r)}return Mt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=xr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>no(this.serializer,s))};this.i_(r)}}class Ur extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new ue(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,E])=>this.connection.Co(e,ac(r,s),u,p,E)).catch(p=>{throw"FirebaseError"===p.name?(p.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ue(fe.UNKNOWN,p.toString())})}xo(e,r,s,u,p){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,S])=>this.connection.xo(e,ac(r,s),u,E,S,p)).catch(E=>{throw"FirebaseError"===E.name?(E.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new ue(fe.UNKNOWN,E.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Vo{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(jt(r),this.y_=!1):Ie("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class ou{constructor(e,r,s,u,p){var E=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=p,this.O_.io(S=>{s.enqueueAndForget((0,l.A)(function*(){var N;uu(E)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,l.A)(function*(re){const me=Ze(re);me.M_.add(4),yield _c(me),me.N_.set("Unknown"),me.M_.delete(4),yield au(me)}),function W(re){return N.apply(this,arguments)})(E))}))}),this.N_=new Vo(s,u)}}function au(a){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.A)(function*(a){if(uu(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function _c(a){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,l.A)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function ju(a,e){const r=Ze(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),nh(r)?Kl(r):Jl(r).Xo()&&th(r,e))}function Hu(a,e){const r=Ze(a),s=Jl(r);r.F_.delete(e),s.Xo()&&Hh(r,e),0===r.F_.size&&(s.Xo()?s.n_():uu(r)&&r.N_.set("Unknown"))}function th(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Jl(a).P_(e)}function Hh(a,e){a.L_.xe(e),Jl(a).I_(e)}function Kl(a){a.L_=new oc({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Jl(a).start(),a.N_.w_()}function nh(a){return uu(a)&&!Jl(a).Zo()&&a.F_.size>0}function uu(a){return 0===Ze(a).M_.size}function zu(a){a.L_=void 0}function ql(a){return zh.apply(this,arguments)}function zh(){return(zh=(0,l.A)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function lg(a){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,l.A)(function*(a){a.F_.forEach((e,r)=>{th(a,e)})})).apply(this,arguments)}function Xl(a,e){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,l.A)(function*(a,e){zu(a),nh(a)?(a.N_.D_(e),Kl(a)):a.N_.set("Unknown")})).apply(this,arguments)}function dg(a,e,r){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,l.A)(function*(a,e,r){if(a.N_.set("Online"),e instanceof Oo&&2===e.state&&e.cause)try{yield(s=(0,l.A)(function*(p,E){const S=E.cause;for(const N of E.targetIds)p.F_.has(N)&&(yield p.remoteSyncer.rejectListen(N,S),p.F_.delete(N),p.L_.removeTarget(N))}),function u(p,E){return s.apply(this,arguments)})(a,e)}catch(s){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield yc(a,s)}else if(e instanceof Du?a.L_.Ke(e):e instanceof sc?a.L_.He(e):a.L_.We(e),!r.isEqual(Pt.min()))try{const s=yield Xf(a.localStore);r.compareTo(s)>=0&&(yield function(p,E){const S=p.L_.rt(E);return S.targetChanges.forEach((N,W)=>{if(N.resumeToken.approximateByteSize()>0){const re=p.F_.get(W);re&&p.F_.set(W,re.withResumeToken(N.resumeToken,E))}}),S.targetMismatches.forEach((N,W)=>{const re=p.F_.get(N);if(!re)return;p.F_.set(N,re.withResumeToken(Ci.EMPTY_BYTE_STRING,re.snapshotVersion)),Hh(p,N);const me=new Qo(re.target,N,W,re.sequenceNumber);th(p,me)}),p.remoteSyncer.applyRemoteEvent(S)}(a,r))}catch(s){Ie("RemoteStore","Failed to raise snapshot:",s),yield yc(a,s)}var s}),Xc.apply(this,arguments)}function yc(a,e,r){return cu.apply(this,arguments)}function cu(){return(cu=(0,l.A)(function*(a,e,r){if(!Tn(e))throw e;a.M_.add(1),yield _c(a),a.N_.set("Offline"),r||(r=()=>Xf(a.localStore)),a.asyncQueue.enqueueRetryable((0,l.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield au(a)}))})).apply(this,arguments)}function Wh(a,e){return e().catch(r=>yc(a,r,e))}function Yl(a){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,l.A)(function*(a){const e=Ze(a),r=Wu(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;hg(e);)try{const u=yield Lu(e.localStore,s);if(null===u){0===e.v_.length&&r.n_();break}s=u.batchId,Jf(e,u)}catch(u){yield yc(e,u)}fg(e)&&pg(e)})).apply(this,arguments)}function hg(a){return uu(a)&&a.v_.length<10}function Jf(a,e){a.v_.push(e);const r=Wu(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function fg(a){return uu(a)&&!Wu(a).Zo()&&a.v_.length>0}function pg(a){Wu(a).start()}function Cm(a){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,l.A)(function*(a){Wu(a).V_()})).apply(this,arguments)}function bm(a){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,l.A)(function*(a){const e=Wu(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function Zo(a,e,r){return rh.apply(this,arguments)}function rh(){return(rh=(0,l.A)(function*(a,e,r){const s=a.v_.shift(),u=ns.from(s,e,r);yield Wh(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Yl(a)})).apply(this,arguments)}function gg(a,e){return ih.apply(this,arguments)}function ih(){return ih=(0,l.A)(function*(a,e){var r;e&&Wu(a).E_&&(yield(r=(0,l.A)(function*(u,p){if(to(S=p.code)&&S!==fe.ABORTED){const E=u.v_.shift();Wu(u).t_(),yield Wh(u,()=>u.remoteSyncer.rejectFailedWrite(E.batchId,p)),yield Yl(u)}var S}),function s(u,p){return r.apply(this,arguments)})(a,e)),fg(a)&&pg(a)}),ih.apply(this,arguments)}function fo(a,e){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.A)(function*(a,e){const r=Ze(a);r.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const s=uu(r);r.M_.add(3),yield _c(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield au(r)})).apply(this,arguments)}function Kh(a,e){return qh.apply(this,arguments)}function qh(){return(qh=(0,l.A)(function*(a,e){const r=Ze(a);e?(r.M_.delete(2),yield au(r)):e||(r.M_.add(2),yield _c(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Jl(a){return a.B_||(a.B_=function(r,s,u){const p=Ze(r);return p.f_(),new In(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(a.datastore,a.asyncQueue,{Po:ql.bind(null,a),To:lg.bind(null,a),Ao:Xl.bind(null,a),h_:dg.bind(null,a)}),a.x_.push(function(){var e=(0,l.A)(function*(r){r?(a.B_.t_(),nh(a)?Kl(a):a.N_.set("Unknown")):(yield a.B_.stop(),zu(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Wu(a){return a.k_||(a.k_=function(r,s,u){const p=Ze(r);return p.f_(),new Ln(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:Cm.bind(null,a),Ao:gg.bind(null,a),R_:bm.bind(null,a),A_:Zo.bind(null,a)}),a.x_.push(function(){var e=(0,l.A)(function*(r){r?(a.k_.t_(),yield Yl(a)):(yield a.k_.stop(),a.v_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class ep{constructor(e,r,s,u,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new ge,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,p){const E=Date.now()+s,S=new ep(e,r,E,u,p);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ue(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gu(a,e){if(jt("AsyncQueue",`${e}: ${a}`),Tn(a))return new ue(fe.UNAVAILABLE,`${e}: ${a}`);throw a}class Zl{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ot.comparator(r.key,s.key):(r,s)=>Ot.comparator(r.key,s.key),this.keyedMap=Oi(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new Zl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Zl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class mg{constructor(){this.q_=new rr(Ot.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Et():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class vc{constructor(e,r,s,u,p,E,S,N,W){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=E,this.syncStateChanged=S,this.excludesMetadataChanges=N,this.hasCachedResults=W}static fromInitialDocuments(e,r,s,u,p){const E=[];return r.forEach(S=>{E.push({type:0,doc:S})}),new vc(e,r,Zl.emptySet(r),E,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class Tm{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class tp{constructor(){this.queries=new Ms(e=>qi(e),Nn),this.onlineState="Unknown",this.z_=new Set}}function ed(a,e){return np.apply(this,arguments)}function np(){return(np=(0,l.A)(function*(a,e){const r=Ze(a);let s=3;const u=e.query;let p=r.queries.get(u);p?!p.W_()&&e.G_()&&(s=2):(p=new Tm,s=e.G_()?0:1);try{switch(s){case 0:p.K_=yield r.onListen(u,!0);break;case 1:p.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(E){const S=Gu(E,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(S)}r.queries.set(u,p),p.U_.push(e),e.j_(r.onlineState),p.K_&&e.H_(p.K_)&&Xh(r)})).apply(this,arguments)}function Yc(a,e){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,l.A)(function*(a,e){const r=Ze(a),s=e.query;let u=3;const p=r.queries.get(s);if(p){const E=p.U_.indexOf(e);E>=0&&(p.U_.splice(E,1),0===p.U_.length?u=e.G_()?0:1:!p.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function wm(a,e){const r=Ze(a);let s=!1;for(const u of e){const E=r.queries.get(u.query);if(E){for(const S of E.U_)S.H_(u)&&(s=!0);E.K_=u}}s&&Xh(r)}function Qh(a,e,r){const s=Ze(a),u=s.queries.get(e);if(u)for(const p of u.U_)p.onError(r);s.queries.delete(e)}function Xh(a){a.z_.forEach(e=>{e.next()})}var sh,td;(td=sh||(sh={})).J_="default",td.Cache="cache";class oh{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new vc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==sh.Cache}}class _g{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Yh{constructor(e){this.serializer=e}Ps(e){return xo(this.serializer,e)}Is(e){return e.metadata.exists?bs(this.serializer,e.document,!1):G.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return yi(e)}}class Jh{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yg(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=sn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new Yh(this.serializer);for(const u of e)if(u.metadata.queries){const p=s.Ps(u.metadata.name);for(const E of u.metadata.queries){const S=(r.get(E)||Kn()).add(p);r.set(E,S)}}return r}complete(){var e=this;return(0,l.A)(function*(){const r=yield function Yd(a,e,r,s){return Uu.apply(this,arguments)}(e.localStore,new Yh(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield Kc(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function yg(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class vg{constructor(e){this.key=e}}class ah{constructor(e){this.key=e}}class Eg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Kn(),this.mutatedKeys=Kn(),this.Ia=Rs(e),this.Ta=new Zl(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new mg,u=r?r.Ta:this.Ta;let p=r?r.mutatedKeys:this.mutatedKeys,E=u,S=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,W="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((re,me)=>{const xe=u.get(re),tt=Qi(this.query,me)?me:null,Rt=!!xe&&this.mutatedKeys.has(xe.key),Gt=!!tt&&(tt.hasLocalMutations||this.mutatedKeys.has(tt.key)&&tt.hasCommittedMutations);let Bt=!1;xe&&tt?xe.data.isEqual(tt.data)?Rt!==Gt&&(s.track({type:3,doc:tt}),Bt=!0):this.Ra(xe,tt)||(s.track({type:2,doc:tt}),Bt=!0,(N&&this.Ia(tt,N)>0||W&&this.Ia(tt,W)<0)&&(S=!0)):!xe&&tt?(s.track({type:0,doc:tt}),Bt=!0):xe&&!tt&&(s.track({type:1,doc:xe}),Bt=!0,(N||W)&&(S=!0)),Bt&&(tt?(E=E.add(tt),p=Gt?p.add(re):p.delete(re)):(E=E.delete(re),p=p.delete(re)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const re="F"===this.query.limitType?E.last():E.first();E=E.delete(re.key),p=p.delete(re.key),s.track({type:1,doc:re})}return{Ta:E,Aa:s,Xi:S,mutatedKeys:p}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const p=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const E=e.Aa.Q_();E.sort((re,me)=>function(tt,Rt){const Gt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return Gt(tt)-Gt(Rt)}(re.type,me.type)||this.Ia(re.doc,me.doc)),this.Va(s),u=null!=u&&u;const S=r&&!u?this.ma():[],N=0===this.Pa.size&&this.current&&!u?1:0,W=N!==this.ha;return this.ha=N,0!==E.length||W?{snapshot:new vc(this.query,e.Ta,p,E,e.mutatedKeys,0===N,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:S}:{fa:S}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new mg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Kn(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new ah(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new vg(s))}),r}pa(e){this.la=e.hs,this.Pa=Kn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return vc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class B_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Jc{constructor(e){this.key=e,this.wa=!1}}class Ig{constructor(e,r,s,u,p,E){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=E,this.Sa={},this.ba=new Ms(S=>qi(S),Nn),this.Da=new Map,this.Ca=new Set,this.va=new rr(Ot.comparator),this.Fa=new Map,this.Ma=new iu,this.xa={},this.Oa=new Map,this.Na=Io.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Zh(a,e){return uh.apply(this,arguments)}function uh(){return(uh=(0,l.A)(function*(a,e,r=!0){const s=hf(a);let u;const p=s.ba.get(e);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.ya()):u=yield Cg(s,e,r,!0),u})).apply(this,arguments)}function rp(a,e){return ip.apply(this,arguments)}function ip(){return(ip=(0,l.A)(function*(a,e){const r=hf(a);yield Cg(r,e,!0,!1)})).apply(this,arguments)}function Cg(a,e,r,s){return ch.apply(this,arguments)}function ch(){return(ch=(0,l.A)(function*(a,e,r,s){const u=yield pc(a.localStore,X(e)),p=u.targetId,E=r?a.sharedClientState.addLocalQueryTarget(p):"not-current";let S;return s&&(S=yield ef(a,e,p,"current"===E,u.resumeToken)),a.isPrimaryClient&&r&&ju(a.remoteStore,u),S})).apply(this,arguments)}function ef(a,e,r,s,u){return lu.apply(this,arguments)}function lu(){return lu=(0,l.A)(function*(a,e,r,s,u){a.Ba=(me,xe,tt)=>{return(Rt=(0,l.A)(function*(Bt,An,$n,Rn){let Cr=An.view.da($n);Cr.Xi&&(Cr=yield jl(Bt.localStore,An.query,!1).then(({documents:v})=>An.view.da(v,Cr)));const vi=Rn&&Rn.targetChanges.get(An.targetId),Hr=Rn&&null!=Rn.targetMismatches.get(An.targetId),Ge=An.view.applyChanges(Cr,Bt.isPrimaryClient,vi,Hr);return up(Bt,An.targetId,Ge.fa),Ge.snapshot}),function Gt(Bt,An,$n,Rn){return Rt.apply(this,arguments)})(a,me,xe,tt);var Rt};const p=yield jl(a.localStore,e,!0),E=new Eg(e,p.hs),S=E.da(p.documents),N=Mc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,u),W=E.applyChanges(S,a.isPrimaryClient,N);up(a,r,W.fa);const re=new B_(e,r,E);return a.ba.set(e,re),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),W.snapshot}),lu.apply(this,arguments)}function bg(a,e,r){return lh.apply(this,arguments)}function lh(){return(lh=(0,l.A)(function*(a,e,r){const s=Ze(a),u=s.ba.get(e),p=s.Da.get(u.targetId);if(p.length>1)return s.Da.set(u.targetId,p.filter(E=>!Nn(E,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Oa(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Hu(s.remoteStore,u.targetId),hh(s,u.targetId)}).catch(Dn))):(hh(s,u.targetId),yield Oa(s.localStore,u.targetId,!0))})).apply(this,arguments)}function sp(a,e){return op.apply(this,arguments)}function op(){return(op=(0,l.A)(function*(a,e){const r=Ze(a),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Hu(r.remoteStore,s.targetId))})).apply(this,arguments)}function tf(){return(tf=(0,l.A)(function*(a,e,r){const s=mp(a);try{const u=yield function(E,S){const N=Ze(E),W=Lt.now(),re=S.reduce((tt,Rt)=>tt.add(Rt.key),Kn());let me,xe;return N.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let Rt=Kr(),Gt=Kn();return N.os.getEntries(tt,re).next(Bt=>{Rt=Bt,Rt.forEach((An,$n)=>{$n.isValidDocument()||(Gt=Gt.add(An))})}).next(()=>N.localDocuments.getOverlayedDocuments(tt,Rt)).next(Bt=>{me=Bt;const An=[];for(const $n of S){const Rn=at($n,me.get($n.key).overlayedDocument);null!=Rn&&An.push(new Tr($n.key,Rn,J(Rn.value.mapValue),_r.exists(!0)))}return N.mutationQueue.addMutationBatch(tt,W,An,S)}).next(Bt=>{xe=Bt;const An=Bt.applyToLocalDocumentSet(me,Gt);return N.documentOverlayCache.saveOverlays(tt,Bt.batchId,An)})}).then(()=>({batchId:xe.batchId,changes:nc(me)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(E,S,N){let W=E.xa[E.currentUser.toKey()];W||(W=new rr(Ft)),W=W.insert(S,N),E.xa[E.currentUser.toKey()]=W}(s,u.batchId,r),yield pu(s,u.changes),yield Yl(s.remoteStore)}catch(u){const p=Gu(u,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function dh(a,e){return nf.apply(this,arguments)}function nf(){return(nf=(0,l.A)(function*(a,e){const r=Ze(a);try{const s=yield function Fo(a,e){const r=Ze(a),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const E=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const S=[];e.targetChanges.forEach((re,me)=>{const xe=u.get(me);if(!xe)return;S.push(r.Qr.removeMatchingKeys(p,re.removedDocuments,me).next(()=>r.Qr.addMatchingKeys(p,re.addedDocuments,me)));let tt=xe.withSequenceNumber(p.currentSequenceNumber);var Gt,Bt,An;null!==e.targetMismatches.get(me)?tt=tt.withResumeToken(Ci.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):re.resumeToken.approximateByteSize()>0&&(tt=tt.withResumeToken(re.resumeToken,s)),u=u.insert(me,tt),Bt=tt,An=re,(0===(Gt=xe).resumeToken.approximateByteSize()||Bt.snapshotVersion.toMicroseconds()-Gt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&S.push(r.Qr.updateTargetData(p,tt))});let N=Kr(),W=Kn();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&S.push(r.persistence.referenceDelegate.updateLimboDocument(p,re))}),S.push($l(p,E,e.documentUpdates).next(re=>{N=re.cs,W=re.ls})),!s.isEqual(Pt.min())){const re=r.Qr.getLastRemoteSnapshotVersion(p).next(me=>r.Qr.setTargetsMetadata(p,p.currentSequenceNumber,s));S.push(re)}return je.waitFor(S).next(()=>E.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,N,W)).next(()=>N)}).then(p=>(r.ns=u,p))}(r.localStore,e);e.targetChanges.forEach((u,p)=>{const E=r.Fa.get(p);E&&(Mt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?E.wa=!0:u.modifiedDocuments.size>0?Mt(E.wa):u.removedDocuments.size>0&&(Mt(E.wa),E.wa=!1))}),yield pu(r,s,e)}catch(s){yield Dn(s)}})).apply(this,arguments)}function rf(a,e,r){const s=Ze(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((p,E)=>{const S=E.view.j_(e);S.snapshot&&u.push(S.snapshot)}),function(E,S){const N=Ze(E);N.onlineState=S;let W=!1;N.queries.forEach((re,me)=>{for(const xe of me.U_)xe.j_(S)&&(W=!0)}),W&&Xh(N)}(s.eventManager,e),u.length&&s.Sa.h_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ap(a,e,r){return nd.apply(this,arguments)}function nd(){return(nd=(0,l.A)(function*(a,e,r){const s=Ze(a);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),p=u&&u.key;if(p){let E=new rr(Ot.comparator);E=E.insert(p,G.newNoDocument(p,Pt.min()));const S=Kn().add(p),N=new gi(Pt.min(),new Map,new rr(Ft),E,S);yield dh(s,N),s.va=s.va.remove(p),s.Fa.delete(e),cp(s)}else yield Oa(s.localStore,e,!1).then(()=>hh(s,e,r)).catch(Dn)})).apply(this,arguments)}function sf(a,e){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,l.A)(function*(a,e){const r=Ze(a),s=e.batch.batchId;try{const u=yield function Bh(a,e){const r=Ze(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),p=r.os.newChangeBuffer({trackRemovals:!0});return function(S,N,W,re){const me=W.batch,xe=me.keys();let tt=je.resolve();return xe.forEach(Rt=>{tt=tt.next(()=>re.getEntry(N,Rt)).next(Gt=>{const Bt=W.docVersions.get(Rt);Mt(null!==Bt),Gt.version.compareTo(Bt)<0&&(me.applyToRemoteDocument(Gt,W),Gt.isValidDocument()&&(Gt.setReadTime(W.commitVersion),re.addEntry(Gt)))})}),tt.next(()=>S.mutationQueue.removeMutationBatch(N,me))}(r,s,e,p).next(()=>p.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let N=Kn();for(let W=0;W<S.mutationResults.length;++W)S.mutationResults[W].transformResults.length>0&&(N=N.add(S.batch.mutations[W].key));return N}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);el(r,s,null),hu(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield pu(r,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function Tg(a,e,r){return rd.apply(this,arguments)}function rd(){return(rd=(0,l.A)(function*(a,e,r){const s=Ze(a);try{const u=yield function(E,S){const N=Ze(E);return N.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let re;return N.mutationQueue.lookupMutationBatch(W,S).next(me=>(Mt(null!==me),re=me.keys(),N.mutationQueue.removeMutationBatch(W,me))).next(()=>N.mutationQueue.performConsistencyCheck(W)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(W,re,S)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,re)).next(()=>N.localDocuments.getDocuments(W,re))})}(s.localStore,e);el(s,e,r),hu(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield pu(s,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function af(){return(af=(0,l.A)(function*(a,e){const r=Ze(a);uu(r.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(E){const S=Ze(E);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>S.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=Gu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function hu(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function el(a,e,r){const s=Ze(a);let u=s.xa[s.currentUser.toKey()];if(u){const p=u.get(e);p&&(r?p.reject(r):p.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function hh(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Da.get(e))a.ba.delete(s),r&&a.Sa.ka(s,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(s=>{a.Ma.containsKey(s)||fu(a,s)})}function fu(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(Hu(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),cp(a))}function up(a,e,r){for(const s of r)s instanceof vg?(a.Ma.addReference(s.key,e),Am(a,s)):s instanceof ah?(Ie("SyncEngine","Document no longer in limbo: "+s.key),a.Ma.removeReference(s.key,e),a.Ma.containsKey(s.key)||fu(a,s.key)):Et()}function Am(a,e){const r=e.key,s=r.path.canonicalString();a.va.get(r)||a.Ca.has(s)||(Ie("SyncEngine","New document in limbo: "+r),a.Ca.add(s),cp(a))}function cp(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new Ot(sn.fromString(e)),s=a.Na.next();a.Fa.set(s,new Jc(r)),a.va=a.va.insert(r,s),ju(a.remoteStore,new Qo(X(Fr(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function pu(a,e,r){return uf.apply(this,arguments)}function uf(){return uf=(0,l.A)(function*(a,e,r){const s=Ze(a),u=[],p=[],E=[];var S;s.ba.isEmpty()||(s.ba.forEach((S,N)=>{E.push(s.Ba(N,e,r).then(W=>{if((W||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,W&&!W.fromCache?"current":"not-current"),W){u.push(W);const re=ho.Ki(N.targetId,W);p.push(re)}}))}),yield Promise.all(E),s.Sa.h_(u),yield(S=(0,l.A)(function*(W,re){const me=Ze(W);try{yield me.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>je.forEach(re,tt=>je.forEach(tt.qi,Rt=>me.persistence.referenceDelegate.addReference(xe,tt.targetId,Rt)).next(()=>je.forEach(tt.Qi,Rt=>me.persistence.referenceDelegate.removeReference(xe,tt.targetId,Rt)))))}catch(xe){if(!Tn(xe))throw xe;Ie("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of re){const tt=xe.targetId;if(!xe.fromCache){const Rt=me.ns.get(tt),Bt=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);me.ns=me.ns.insert(tt,Bt)}}}),function N(W,re){return S.apply(this,arguments)})(s.localStore,p))}),uf.apply(this,arguments)}function cf(a,e){return fh.apply(this,arguments)}function fh(){return(fh=(0,l.A)(function*(a,e){const r=Ze(a);if(!r.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const s=yield Qf(r.localStore,e);r.currentUser=e,(p=r).Oa.forEach(S=>{S.forEach(N=>{N.reject(new ue(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield pu(r,s.us)}var p})).apply(this,arguments)}function sd(a,e){const r=Ze(a),s=r.Fa.get(e);if(s&&s.wa)return Kn().add(s.key);{let u=Kn();const p=r.Da.get(e);if(!p)return u;for(const E of p){const S=r.ba.get(E);u=u.unionWith(S.view.Ea)}return u}}function Dm(a,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,l.A)(function*(a,e){const r=Ze(a),s=yield jl(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&up(r,e.targetId,u.fa),u})).apply(this,arguments)}function lp(a,e){return od.apply(this,arguments)}function od(){return(od=(0,l.A)(function*(a,e){const r=Ze(a);return $h(r.localStore,e).then(s=>pu(r,s))})).apply(this,arguments)}function dp(a,e,r,s){return hp.apply(this,arguments)}function hp(){return(hp=(0,l.A)(function*(a,e,r,s){const u=Ze(a),p=yield function(S,N){const W=Ze(S),re=Ze(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",me=>re.vn(me,N).next(xe=>xe?W.localDocuments.getDocuments(me,xe):je.resolve(null)))}(u.localStore,e);var N;null!==p?("pending"===r?yield Yl(u.remoteStore):"acknowledged"===r||"rejected"===r?(el(u,e,s||null),hu(u,e),N=e,Ze(Ze(u.localStore).mutationQueue).Mn(N)):Et(),yield pu(u,p)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function As(){return(As=(0,l.A)(function*(a,e){const r=Ze(a);if(hf(r),mp(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield df(r,s.toArray());r.La=!0,yield Kh(r.remoteStore,!0);for(const p of u)ju(r.remoteStore,p)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((p,E)=>{r.sharedClientState.isLocalQueryTarget(E)?s.push(E):u=u.then(()=>(hh(r,E),Oa(r.localStore,E,!0))),Hu(r.remoteStore,E)}),yield u,yield df(r,s),function(E){const S=Ze(E);S.Fa.forEach((N,W)=>{Hu(S.remoteStore,W)}),S.Ma.mr(),S.Fa=new Map,S.va=new rr(Ot.comparator)}(r),r.La=!1,yield Kh(r.remoteStore,!1)}})).apply(this,arguments)}function df(a,e,r){return ph.apply(this,arguments)}function ph(){return(ph=(0,l.A)(function*(a,e,r){const s=Ze(a),u=[],p=[];for(const E of e){let S;const N=s.Da.get(E);if(N&&0!==N.length){S=yield pc(s.localStore,X(N[0]));for(const W of N){const re=s.ba.get(W),me=yield Dm(s,re);me.snapshot&&p.push(me.snapshot)}}else{const W=yield Hl(s.localStore,E);S=yield pc(s.localStore,W),yield ef(s,fp(W),E,!1,S.resumeToken)}u.push(S)}return s.Sa.h_(p),u})).apply(this,arguments)}function fp(a){return La(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function wg(a){return r=Ze(a).localStore,Ze(Ze(r).persistence).Bi();var r}function tl(a,e,r,s){return pp.apply(this,arguments)}function pp(){return(pp=(0,l.A)(function*(a,e,r,s){const u=Ze(a);if(u.La)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const p=u.Da.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const E=yield $h(u.localStore,So(p[0])),S=gi.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ci.EMPTY_BYTE_STRING);yield pu(u,E,S);break}case"rejected":yield Oa(u.localStore,e,!0),hh(u,e,s);break;default:Et()}})).apply(this,arguments)}function Sm(a,e,r){return gp.apply(this,arguments)}function gp(){return(gp=(0,l.A)(function*(a,e,r){const s=hf(a);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){Ie("SyncEngine","Adding an already active target "+u);continue}const p=yield Hl(s.localStore,u),E=yield pc(s.localStore,p);yield ef(s,fp(p),E.targetId,!1,E.resumeToken),ju(s.remoteStore,E)}for(const u of r)s.Da.has(u)&&(yield Oa(s.localStore,u,!1).then(()=>{Hu(s.remoteStore,u),hh(s,u)}).catch(Dn))}})).apply(this,arguments)}function hf(a){const e=Ze(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=dh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ap.bind(null,e),e.Sa.h_=wm.bind(null,e.eventManager),e.Sa.ka=Qh.bind(null,e.eventManager),e}function mp(a){const e=Ze(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tg.bind(null,e),e}class Na{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.A)(function*(){r.serializer=ke(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return fc(this.persistence,new Bl,e.initialUser,this.serializer)}createPersistence(e){return new qf(Qd.Hr,this.serializer)}createSharedClientState(e){return new Ia}terminate(){var e=this;return(0,l.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _p extends Na{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,l.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield mp(s.Qa.syncEngine),yield Yl(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return fc(this.persistence,new Bl,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new $c(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new V(r,this.persistence);return new H(e.asyncQueue,s)}createPersistence(e){const r=Ul(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new us(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,q(),oe(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ia}}class Ag extends _p{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,l.A)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof jh&&(s.sharedClientState.syncEngine={Zs:dp.bind(null,u),Xs:tl.bind(null,u),eo:Sm.bind(null,u),Bi:wg.bind(null,u),Ys:lp.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var p=(0,l.A)(function*(E){yield function Ku(a,e){return As.apply(this,arguments)}(s.Qa.syncEngine,E),s.gcScheduler&&(E&&!s.gcScheduler.started?s.gcScheduler.start():E||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(E&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():E||s.indexBackfillerScheduler.stop())});return function(E){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const r=q();if(!jh.D(r))throw new ue(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Ul(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jh(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class ad{initialize(e,r){var s=this;return(0,l.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>rf(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=cf.bind(null,s.syncEngine),yield Kh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tp}createDatastore(e){const r=ke(e.databaseInfo.databaseId),s=new A(e.databaseInfo);return new Ur(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,p=e.asyncQueue,E=r=>rf(this.syncEngine,r,0),S=mc.D()?new mc:new su,new ou(s,u,p,E,S);var s,u,p,E,S}createSyncEngine(e,r){return function(u,p,E,S,N,W,re){const me=new Ig(u,p,E,S,N,W);return re&&(me.La=!0),me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.A)(function*(){var r,s;yield(s=(0,l.A)(function*(p){const E=Ze(p);Ie("RemoteStore","RemoteStore shutting down."),E.M_.add(5),yield _c(E),E.O_.shutdown(),E.N_.set("Unknown")}),function u(p){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function yp(a,e=10240){let r=0;return{read:()=>(0,l.A)(function*(){if(r<a.byteLength){const s={value:a.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,l.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Dg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new ge,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,l.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,l.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,l.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const p=yield e.Ha(u);return new _g(JSON.parse(p),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,l.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,l.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,l.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Rm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new ue(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,l.A)(function*(E,S){const N=Ze(E),W={documents:S.map(tt=>Ha(N.serializer,tt))},re=yield N.xo("BatchGetDocuments",N.serializer.databaseId,sn.emptyPath(),W,S.length),me=new Map;re.forEach(tt=>{const Rt=function Vi(a,e){return"found"in e?function(s,u){Mt(!!u.found);const p=xo(s,u.found.name),E=yi(u.found.updateTime),S=u.found.createTime?yi(u.found.createTime):Pt.min(),N=new di({mapValue:{fields:u.found.fields}});return G.newFoundDocument(p,E,S,N)}(a,e):"missing"in e?function(s,u){Mt(!!u.missing),Mt(!!u.readTime);const p=xo(s,u.missing),E=yi(u.readTime);return G.newNoDocument(p,E)}(a,e):Et()}(N.serializer,tt);me.set(Rt.key.toString(),Rt)});const xe=[];return S.forEach(tt=>{const Rt=me.get(tt.toString());Mt(!!Rt),xe.push(Rt)}),xe}),function p(E,S){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ui(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const p=Ot.fromPath(u);e.mutations.push(new qr(p,e.precondition(p)))}),yield(s=(0,l.A)(function*(p,E){const S=Ze(p),N={writes:E.map(W=>no(S.serializer,W))};yield S.Co("Commit",S.serializer.databaseId,sn.emptyPath(),N)}),function u(p,E){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Et();r=Pt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new ue(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Pt.min())?_r.exists(!1):_r.updateTime(r):_r.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Pt.min()))throw new ue(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _r.updateTime(r)}return _r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Mm{constructor(e,r,s,u,p){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=p,this.Za=s.maxAttempts,this.Yo=new ot(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,l.A)(function*(){const r=new Rm(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.nu(p)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!ce(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!to(r)}return!1}}class Om{constructor(e,r,s,u){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=Je.UNAUTHENTICATED,this.clientId=ar.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var E=(0,l.A)(function*(S){Ie("FirestoreClient","Received user=",S.uid),yield p.authCredentialListener(S),p.user=S});return function(S){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(s,E=>(Ie("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ge;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=Gu(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function pf(a,e){return ud.apply(this,arguments)}function ud(){return ud=(0,l.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,l.A)(function*(p){s.isEqual(p)||(yield Qf(e.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),ud.apply(this,arguments)}function ka(a,e){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield gf(a);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>fo(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>fo(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function vp(a){return"FirebaseError"===a.name?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function gf(a){return gh.apply(this,arguments)}function gh(){return(gh=(0,l.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pf(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!vp(r))throw r;en("Error using user provided cache. Falling back to memory cache: "+r),yield pf(a,new Na)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield pf(a,new Na);return a._offlineComponents})).apply(this,arguments)}function gu(a){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,l.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield ka(a,a._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield ka(a,new ad))),a._onlineComponents})).apply(this,arguments)}function cd(a){return gf(a).then(e=>e.persistence)}function mu(a){return gf(a).then(e=>e.localStore)}function Ep(a){return gu(a).then(e=>e.remoteStore)}function Sg(a){return gu(a).then(e=>e.syncEngine)}function rl(a){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,l.A)(function*(a){const e=yield gu(a),r=e.eventManager;return r.onListen=Zh.bind(null,e.syncEngine),r.onUnlisten=bg.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=rp.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=sp.bind(null,e.syncEngine),r})).apply(this,arguments)}function Pg(a,e,r={}){const s=new ge;return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function(p,E,S,N,W){const re=new ff({next:xe=>{E.enqueueAndForget(()=>Yc(p,me));const tt=xe.docs.has(S);!tt&&xe.fromCache?W.reject(new ue(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&xe.fromCache&&N&&"server"===N.source?W.reject(new ue(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(xe)},error:xe=>W.reject(xe)}),me=new oh(Fr(S.path),re,{includeMetadataChanges:!0,ra:!0});return ed(p,me)}(yield rl(a),a.asyncQueue,e,r,s)})),s.promise}function Rg(a,e,r={}){const s=new ge;return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function(p,E,S,N,W){const re=new ff({next:xe=>{E.enqueueAndForget(()=>Yc(p,me)),xe.fromCache&&"server"===N.source?W.reject(new ue(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(xe)},error:xe=>W.reject(xe)}),me=new oh(S,re,{includeMetadataChanges:!0,ra:!0});return ed(p,me)}(yield rl(a),a.asyncQueue,e,r,s)})),s.promise}function Lm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Um=new Map;function mf(a,e,r){if(!r)throw new ue(fe.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function _f(a,e,r,s){if(!0===e&&!0===s)throw new ue(fe.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function mh(a){if(!Ot.isDocumentKey(a))throw new ue(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function H_(a){if(Ot.isDocumentKey(a))throw new ue(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function _h(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":Et()}function wr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ue(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_h(a);throw new ue(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function dd(a,e){if(e<=0)throw new ue(fe.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class Og{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ue(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ue(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_f("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Lm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new ue(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new ue(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new ue(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Og({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ue(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Og(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new pe;switch(s.type){case"firstParty":return new _t(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Um.get(r);s&&(Ie("ComponentProvider","Removing Datastore"),Um.delete(r),s.terminate())}(this),Promise.resolve()}}function yf(a,e,r,s={}){var u;const p=(a=wr(a,yh))._getSettings(),E=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==E&&en("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},p),{host:E,ssl:!1})),s.mockUserToken){let S,N;if("string"==typeof s.mockUserToken)S=s.mockUserToken,N=Je.MOCK_USER;else{S=(0,ye.Fy)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new ue(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Je(W)}a._authCredentials=new Te(new De(S,N))}}class io{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class Ds{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ds(this.firestore,e,this._key)}}class _u extends io{constructor(e,r,s){super(e,r,Fr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ds(this.firestore,null,new Ot(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function Bm(a,e,...r){if(a=(0,ye.Ku)(a),mf("collection","path",e),a instanceof yh){const s=sn.fromString(e,...r);return H_(s),new _u(a,null,s)}{if(!(a instanceof Ds||a instanceof _u))throw new ue(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(sn.fromString(e,...r));return H_(s),new _u(a.firestore,null,s)}}function wp(a,e){if(a=wr(a,yh),mf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ue(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(a,null,(s=e,new Do(sn.emptyPath(),s)));var s}function z_(a,e,...r){if(a=(0,ye.Ku)(a),1===arguments.length&&(e=ar.newId()),mf("doc","path",e),a instanceof yh){const s=sn.fromString(e,...r);return mh(s),new Ds(a,null,new Ot(s))}{if(!(a instanceof Ds||a instanceof _u))throw new ue(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(sn.fromString(e,...r));return mh(s),new Ds(a.firestore,a instanceof _u?a.converter:null,new Ot(s))}}function xg(a,e){return a=(0,ye.Ku)(a),e=(0,ye.Ku)(e),(a instanceof Ds||a instanceof _u)&&(e instanceof Ds||e instanceof _u)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function Ng(a,e){return a=(0,ye.Ku)(a),e=(0,ye.Ku)(e),a instanceof io&&e instanceof io&&a.firestore===e.firestore&&Nn(a._query,e._query)&&a.converter===e.converter}class kg{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ot(this,"async_queue_retry"),this.hu=()=>{const r=oe();r&&Ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=oe();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=oe();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new ge;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,l.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Tn(r))throw r;Ie("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,jt("INTERNAL UNHANDLED ERROR: ",function(E){let S=E.message||"";return E.stack&&(S=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),S}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=ep.createAndSchedule(this,e,r,s,p=>this.Eu(p));return this._u.push(u),u}Pu(){this.au&&Et()}verifyOperationInProgress(){}du(){var e=this;return(0,l.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Ap(a){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(a)}class $m{constructor(){this._progressObserver={},this._taskCompletionResolver=new ge,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const hd=-1;class Li extends yh{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new kg,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Sp(this),this._firestoreClient.terminate()}}function Dp(a,e){const r="object"==typeof a?a:(0,le.getApp)(),s="string"==typeof a?a:e||"(default)",u=(0,le._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const p=(0,ye.yU)("firestore");p&&yf(u,...p)}return u}function cs(a){return a._firestoreClient||Sp(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Sp(a){var e,r,s;const u=a._freezeSettings(),p=(N=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new wo(a._databaseId,N,a._persistenceKey,(re=u).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,Lm(re.experimentalLongPollingOptions),re.useFetchStreams));var N,re;a._firestoreClient=new Om(a._authCredentials,a._appCheckCredentials,a._queue,p),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Pp(a,e){zm(a=wr(a,Li));const r=cs(a);if(r._uninitializedComponentsProvider)throw new ue(fe.FAILED_PRECONDITION,"SDK cache is already specified.");en("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=a._freezeSettings(),u=new ad;return fd(r,u,new _p(u,s.cacheSizeBytes,e?.forceOwnership))}function Qu(a){zm(a=wr(a,Li));const e=cs(a);if(e._uninitializedComponentsProvider)throw new ue(fe.FAILED_PRECONDITION,"SDK cache is already specified.");en("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),s=new ad;return fd(e,s,new Ag(s,r.cacheSizeBytes))}function fd(a,e,r){const s=new ge;return a.asyncQueue.enqueue((0,l.A)(function*(){try{yield pf(a,r),yield ka(a,e),s.resolve()}catch(u){const p=u;if(!vp(p))throw p;en("Error enabling indexeddb cache. Falling back to memory cache: "+p),s.reject(p)}})).then(()=>s.promise)}function Fg(a){if(a._initialized&&!a._terminated)throw new ue(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ge;return a._queue.enqueueAndForgetEvenWhileRestricted((0,l.A)(function*(){try{yield(r=(0,l.A)(function*(u){if(!se.D())return Promise.resolve();const p=u+"main";yield se.delete(p)}),function s(u){return r.apply(this,arguments)})(Ul(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function W_(a){return function(r){const s=new ge;return r.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function id(a,e){return af.apply(this,arguments)}(yield Sg(r),s)})),s.promise}(cs(a=wr(a,Li)))}function G_(a){return function xm(a){return a.asyncQueue.enqueue((0,l.A)(function*(){const e=yield cd(a),r=yield Ep(a);return e.setNetworkEnabled(!0),function(u){const p=Ze(u);return p.M_.delete(0),au(p)}(r)}))}(cs(a=wr(a,Li)))}function Hm(a){return function Nm(a){return a.asyncQueue.enqueue((0,l.A)(function*(){const e=yield cd(a),r=yield Ep(a);return e.setNetworkEnabled(!1),(s=(0,l.A)(function*(p){const E=Ze(p);E.M_.add(0),yield _c(E),E.N_.set("Offline")}),function u(p){return s.apply(this,arguments)})(r);var s}))}(cs(a=wr(a,Li)))}function K_(a,e){const r=cs(a=wr(a,Li)),s=new $m;return function ld(a,e,r,s){const u=function(E,S){let N;return N="string"==typeof E?Mo().encode(E):E,re=function(re,me){if(re instanceof Uint8Array)return yp(re,void 0);if(re instanceof ArrayBuffer)return yp(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Dg(re,S);var re}(r,ke(e));a.asyncQueue.enqueueAndForget((0,l.A)(function*(){!function qu(a,e,r){const s=Ze(a);var u;(u=(0,l.A)(function*(E,S,N){try{const W=yield S.getMetadata();if(yield function(Rt,Gt){const Bt=Ze(Rt),An=yi(Gt.createTime);return Bt.persistence.runTransaction("hasNewerBundle","readonly",$n=>Bt.$r.getBundleMetadata($n,Gt.id)).then($n=>!!$n&&$n.createTime.compareTo(An)>=0)}(E.localStore,W))return yield S.close(),N._completeWith({taskState:"Success",documentsLoaded:(Rt=W).totalDocuments,bytesLoaded:Rt.totalBytes,totalDocuments:Rt.totalDocuments,totalBytes:Rt.totalBytes}),Promise.resolve(new Set);N._updateProgress(yg(W));const re=new Jh(W,E.localStore,S.serializer);let me=yield S.qa();for(;me;){const tt=yield re._a(me);tt&&N._updateProgress(tt),me=yield S.qa()}const xe=yield re.complete();return yield pu(E,xe.ca,void 0),yield function(Rt,Gt){const Bt=Ze(Rt);return Bt.persistence.runTransaction("Save bundle","readwrite",An=>Bt.$r.saveBundleMetadata(An,Gt))}(E.localStore,W),N._completeWith(xe.progress),Promise.resolve(xe.ua)}catch(W){return en("SyncEngine",`Loading bundle failed with ${W}`),N._failWith(W),Promise.resolve(new Set)}var Rt}),function p(E,S,N){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Sg(a),u,s)}))}(r,a._databaseId,e,s),s}function q_(a,e){return function Fm(a,e){return a.asyncQueue.enqueue((0,l.A)(function*(){return function(s,u){const p=Ze(s);return p.persistence.runTransaction("Get named query","readonly",E=>p.$r.getNamedQuery(E,u))}(yield mu(a),e)}))}(cs(a=wr(a,Li)),e).then(r=>r?new io(a,null,r.query):null)}function zm(a){if(a._initialized||a._terminated)throw new ue(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new il(Ci.fromBase64String(e))}catch(r){throw new ue(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new il(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ic{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ue(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vh{constructor(e){this._methodName=e}}class Vg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ue(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ue(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const Q_=/^__.*__$/;class X_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Tr(e,this.data,this.fieldMask,r,this.fieldTransforms):new fn(e,this.data,r,this.fieldTransforms)}}class Y_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Tr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function J_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class gd{constructor(e,r,s,u,p,E){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.mu(),this.fieldTransforms=p||[],this.fieldMask=E||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new gd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ol(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(J_(this.fu)&&Q_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Z_{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||ke(e)}Fu(e,r,s,u=!1){return new gd({fu:e,methodName:r,vu:s,path:Bn.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cc(a){const e=a._freezeSettings(),r=ke(a._databaseId);return new Z_(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Eh(a,e,r,s,u,p={}){const E=a.Fu(p.merge||p.mergeFields?2:0,e,r,u);Lg("Data must be an object, but it was:",E,s);const S=Mp(s,E);let N,W;if(p.merge)N=new Ni(E.fieldMask),W=E.fieldTransforms;else if(p.mergeFields){const re=[];for(const me of p.mergeFields){const xe=Th(e,me,r);if(!E.contains(xe))throw new ue(fe.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);Op(re,xe)||re.push(xe)}N=new Ni(re),W=E.fieldTransforms.filter(me=>N.covers(me.field))}else N=null,W=E.fieldTransforms;return new X_(new di(S),N,W)}class Xu extends vh{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xu}}function Rp(a,e,r){return new gd({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ef extends vh{_toFieldTransform(e){return new pa(e.path,new oo)}isEqual(e){return e instanceof Ef}}class md extends vh{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Rp(this,e,!0),s=this.Mu.map(p=>Ch(p,r)),u=new eo(s);return new pa(e.path,u)}isEqual(e){return e instanceof md&&(0,ye.bD)(this.Mu,e.Mu)}}class Ih extends vh{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Rp(this,e,!0),s=this.Mu.map(p=>Ch(p,r)),u=new Ro(s);return new pa(e.path,u)}isEqual(e){return e instanceof Ih&&(0,ye.bD)(this.Mu,e.Mu)}}class sl extends vh{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new yo(e.serializer,ha(e.serializer,this.xu));return new pa(e.path,r)}isEqual(e){return e instanceof sl&&this.xu===e.xu}}function If(a,e,r,s){const u=a.Fu(1,e,r);Lg("Data must be an object, but it was:",u,s);const p=[],E=di.empty();Ui(s,(N,W)=>{const re=_d(e,N,r);W=(0,ye.Ku)(W);const me=u.Su(re);if(W instanceof Xu)p.push(re);else{const xe=Ch(W,me);null!=xe&&(p.push(re),E.set(re,xe))}});const S=new Ni(p);return new Y_(E,S,u.fieldTransforms)}function Cf(a,e,r,s,u,p){const E=a.Fu(1,e,r),S=[Th(e,s,r)],N=[u];if(p.length%2!=0)throw new ue(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<p.length;xe+=2)S.push(Th(e,p[xe])),N.push(p[xe+1]);const W=[],re=di.empty();for(let xe=S.length-1;xe>=0;--xe)if(!Op(W,S[xe])){const tt=S[xe];let Rt=N[xe];Rt=(0,ye.Ku)(Rt);const Gt=E.Su(tt);if(Rt instanceof Xu)W.push(tt);else{const Bt=Ch(Rt,Gt);null!=Bt&&(W.push(tt),re.set(tt,Bt))}}const me=new Ni(W);return new Y_(re,me,E.fieldTransforms)}function bf(a,e,r,s=!1){return Ch(r,a.Fu(s?4:3,e))}function Ch(a,e){if(bh(a=(0,ye.Ku)(a)))return Lg("Unsupported field value:",e,a),Mp(a,e);if(a instanceof vh)return function(s,u){if(!J_(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const p=[];let E=0;for(const S of s){let N=Ch(S,u.bu(E));null==N&&(N={nullValue:"NULL_VALUE"}),p.push(N),E++}return{arrayValue:{values:p}}}(a,e)}return function(s,u){if(null===(s=(0,ye.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ha(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=Lt.fromDate(s);return{timestampValue:xs(u.serializer,p)}}if(s instanceof Lt){const p=new Lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xs(u.serializer,p)}}if(s instanceof Vg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof il)return{bytesValue:Pu(u.serializer,s._byteString)};if(s instanceof Ds){const p=u.databaseId,E=s.firestore._databaseId;if(!E.isEqual(p))throw u.Du(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Da(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${_h(s)}`)}(a,e)}function Mp(a,e){const r={};return Si(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(a,(s,u)=>{const p=Ch(u,e.pu(s));null!=p&&(r[s]=p)}),{mapValue:{fields:r}}}function bh(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Lt||a instanceof Vg||a instanceof il||a instanceof Ds||a instanceof vh)}function Lg(a,e,r){if(!bh(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=_h(r);throw e.Du("an object"===s?a+" a custom object":a+" "+s)}var u}function Th(a,e,r){if((e=(0,ye.Ku)(e))instanceof Ic)return e._internalPath;if("string"==typeof e)return _d(a,e);throw ol("Field path arguments must be of type string or ",a,!1,void 0,r)}const Km=new RegExp("[~\\*/\\[\\]]");function _d(a,e,r){if(e.search(Km)>=0)throw ol(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Ic(...e.split("."))._internalPath}catch{throw ol(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function ol(a,e,r,s,u){const p=s&&!s.isEmpty(),E=void 0!==u;let S=`Function ${e}() called with invalid data`;r&&(S+=" (via `toFirestore()`)"),S+=". ";let N="";return(p||E)&&(N+=" (found",p&&(N+=` in field ${s}`),E&&(N+=` in document ${u}`),N+=")"),new ue(fe.INVALID_ARGUMENT,S+a+N)}function Op(a,e){return a.some(r=>r.isEqual(e))}class Tf{constructor(e,r,s,u,p){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ds(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Np("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class xp extends Tf{data(){return super.data()}}function Np(a,e){return"string"==typeof e?_d(a,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}function Ug(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new ue(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yd{}class al extends yd{}function qm(a,e,...r){let s=[];e instanceof yd&&s.push(e),s=s.concat(r),function(p){const E=p.filter(N=>N instanceof bc).length,S=p.filter(N=>N instanceof vd).length;if(E>1||E>0&&S>0)throw new ue(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class vd extends al{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new vd(e,r,s)}_apply(e){const r=this._parse(e);return zg(e._query,r),new io(e.firestore,e.converter,Oe(e._query,r))}_parse(e){const r=Cc(e.firestore);return function(p,E,S,N,W,re,me){let xe;if(W.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new ue(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){Hg(me,re);const tt=[];for(const Rt of me)tt.push(Jm(N,p,Rt));xe={arrayValue:{values:tt}}}else xe=Jm(N,p,me)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||Hg(me,re),xe=bf(S,"where",me,"in"===re||"not-in"===re);return Dt.create(W,re,xe)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Bg(a,e,r){const s=e,u=Np("where",a);return vd._create(u,s,r)}class bc extends yd{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new bc(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:nn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,p){let E=u;const S=p.getFlattenedFilters();for(const N of S)zg(E,N),E=Oe(E,N)}(e._query,r),new io(e.firestore,e.converter,Oe(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $g extends al{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new $g(e,r)}_apply(e){const r=function(u,p,E){if(null!==u.startAt)throw new ue(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ue(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ft(p,E)}(e._query,this._field,this._direction);return new io(e.firestore,e.converter,function(u,p){const E=u.explicitOrderBy.concat([p]);return new Do(u.path,u.collectionGroup,E,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Qm(a,e="asc"){const r=e,s=Np("orderBy",a);return $g._create(s,r)}class jg extends al{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new jg(e,r,s)}_apply(e){return new io(e.firestore,e.converter,ln(e._query,this._limit,this._limitType))}}function ty(a){return dd("limit",a),jg._create("limit",a,"F")}function kp(a){return dd("limitToLast",a),jg._create("limitToLast",a,"L")}class Fp extends al{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Fp(e,r,s)}_apply(e){const r=Ym(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(p=r,new Do((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}function wh(...a){return Fp._create("startAt",a,!0)}function wf(...a){return Fp._create("startAfter",a,!1)}class Vp extends al{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Vp(e,r,s)}_apply(e){const r=Ym(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(p=r,new Do((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function Xm(...a){return Vp._create("endBefore",a,!1)}function ny(...a){return Vp._create("endAt",a,!0)}function Ym(a,e,r,s){if(r[0]=(0,ye.Ku)(r[0]),r[0]instanceof Tf)return function(p,E,S,N,W){if(!N)throw new ue(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const re=[];for(const me of z(p))if(me.field.isKeyField())re.push(Qt(E,N.key));else{const xe=N.data.field(me.field);if(Pi(xe))throw new ue(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xe){const tt=me.field.canonicalString();throw new ue(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tt}' (used as the orderBy) does not exist.`)}re.push(xe)}return new ve(re,W)}(a._query,a.firestore._databaseId,e,r[0]._document,s);{const u=Cc(a.firestore);return function(E,S,N,W,re,me){const xe=E.explicitOrderBy;if(re.length>xe.length)throw new ue(fe.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tt=[];for(let Rt=0;Rt<re.length;Rt++){const Gt=re[Rt];if(xe[Rt].field.isKeyField()){if("string"!=typeof Gt)throw new ue(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Gt}`);if(!Ua(E)&&-1!==Gt.indexOf("/"))throw new ue(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${Gt}' contains a slash.`);const Bt=E.path.child(sn.fromString(Gt));if(!Ot.isDocumentKey(Bt))throw new ue(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Bt}' is not because it contains an odd number of segments.`);const An=new Ot(Bt);tt.push(Qt(S,An))}else{const Bt=bf(N,W,Gt);tt.push(Bt)}}return new ve(tt,me)}(a._query,a.firestore._databaseId,u,e,r,s)}}function Jm(a,e,r){if("string"==typeof(r=(0,ye.Ku)(r))){if(""===r)throw new ue(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ua(e)&&-1!==r.indexOf("/"))throw new ue(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(sn.fromString(r));if(!Ot.isDocumentKey(s))throw new ue(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qt(a,new Ot(s))}if(r instanceof Ds)return Qt(a,r._key);throw new ue(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(r)}.`)}function Hg(a,e){if(!Array.isArray(a)||0===a.length)throw new ue(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zg(a,e){const r=function(u,p){for(const E of u)for(const S of E.getFlattenedFilters())if(p.indexOf(S.op)>=0)return S.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new ue(fe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Zm{convertValue(e,r="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Et()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ui(e,(u,p)=>{s[u]=this.convertValue(p,r)}),s}convertGeoPoint(e){return new Vg(hr(e.latitude),hr(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Xs(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ds(e));default:return null}}convertTimestamp(e){const r=bi(e);return new Lt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=sn.fromString(e);Mt(Mu(s));const u=new Fn(s.get(1),s.get(3)),p=new Ot(s.popFirst(5));return u.isEqual(r)||jt(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Ah(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}class e_ extends Zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,r)}}class Ed{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Id extends Tf{constructor(e,r,s,u,p,E){super(e,r,s,u,E),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Np("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Up extends Id{data(e={}){return super.data(e)}}class ul{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Ed(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Up(this._firestore,this._userDataWriter,s.key,s,new Ed(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ue(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let E=0;return u._snapshot.docChanges.map(S=>({type:"added",doc:new Up(u._firestore,u._userDataWriter,S.doc.key,S.doc,new Ed(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:E++}))}{let E=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(S=>p||3!==S.type).map(S=>{const N=new Up(u._firestore,u._userDataWriter,S.doc.key,S.doc,new Ed(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter);let W=-1,re=-1;return 0!==S.type&&(W=E.indexOf(S.doc.key),E=E.delete(S.doc.key)),1!==S.type&&(E=E.add(S.doc),re=E.indexOf(S.doc.key)),{type:n_(S.type),doc:N,oldIndex:W,newIndex:re}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function n_(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function yu(a,e){return a instanceof Id&&e instanceof Id?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof ul&&e instanceof ul&&a._firestore===e._firestore&&Ng(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function r_(a){a=wr(a,Ds);const e=wr(a.firestore,Li);return Pg(cs(e),a._key).then(r=>qg(e,a,r))}class Cd extends Zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,r)}}function Wg(a){a=wr(a,Ds);const e=wr(a.firestore,Li),r=cs(e),s=new Cd(e);return function km(a,e){const r=new ge;return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return(s=(0,l.A)(function*(p,E,S){try{const N=yield function(re,me){const xe=Ze(re);return xe.persistence.runTransaction("read document","readonly",tt=>xe.localDocuments.getDocument(tt,me))}(p,E);N.isFoundDocument()?S.resolve(N):N.isNoDocument()?S.resolve(null):S.reject(new ue(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const W=Gu(N,`Failed to get document '${E} from cache`);S.reject(W)}}),function u(p,E,S){return s.apply(this,arguments)})(yield mu(a),e,r);var s})),r.promise}(r,a._key).then(u=>new Id(e,s,a._key,u,new Ed(null!==u&&u.hasLocalMutations,!0),a.converter))}function cl(a){a=wr(a,Ds);const e=wr(a.firestore,Li);return Pg(cs(e),a._key,{source:"server"}).then(r=>qg(e,a,r))}function Bp(a){a=wr(a,io);const e=wr(a.firestore,Li),r=cs(e),s=new Cd(e);return Ug(a._query),Rg(r,a._query).then(u=>new ul(e,s,a,u))}function iy(a){a=wr(a,io);const e=wr(a.firestore,Li),r=cs(e),s=new Cd(e);return function bp(a,e){const r=new ge;return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return(s=(0,l.A)(function*(p,E,S){try{const N=yield jl(p,E,!0),W=new Eg(E,N.hs),re=W.da(N.documents),me=W.applyChanges(re,!1);S.resolve(me.snapshot)}catch(N){const W=Gu(N,`Failed to execute query '${E} against cache`);S.reject(W)}}),function u(p,E,S){return s.apply(this,arguments)})(yield mu(a),e,r);var s})),r.promise}(r,a._query).then(u=>new ul(e,s,a,u))}function sy(a){a=wr(a,io);const e=wr(a.firestore,Li),r=cs(e),s=new Cd(e);return Rg(r,a._query,{source:"server"}).then(u=>new ul(e,s,a,u))}function oy(a,e,r){a=wr(a,Ds);const s=wr(a.firestore,Li),u=Ah(a.converter,e,r);return gs(s,[Eh(Cc(s),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,_r.none())])}function Gg(a,e,r,...s){a=wr(a,Ds);const u=wr(a.firestore,Li),p=Cc(u);let E;return E="string"==typeof(e=(0,ye.Ku)(e))||e instanceof Ic?Cf(p,"updateDoc",a._key,e,r,s):If(p,"updateDoc",a._key,e),gs(u,[E.toMutation(a._key,_r.exists(!0))])}function Yu(a){return gs(wr(a.firestore,Li),[new ui(a._key,_r.none())])}function Kg(a,e){const r=wr(a.firestore,Li),s=z_(a),u=Ah(a.converter,e);return gs(r,[Eh(Cc(a.firestore),"addDoc",s._key,u,null!==a.converter,{}).toMutation(s._key,_r.exists(!1))]).then(()=>s)}function ay(a,...e){var r,s,u;a=(0,ye.Ku)(a);let p={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof e[E]||Ap(e[E])||(p=e[E],E++);const S={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Ap(e[E])){const me=e[E];e[E]=null===(r=me.next)||void 0===r?void 0:r.bind(me),e[E+1]=null===(s=me.error)||void 0===s?void 0:s.bind(me),e[E+2]=null===(u=me.complete)||void 0===u?void 0:u.bind(me)}let N,W,re;if(a instanceof Ds)W=wr(a.firestore,Li),re=Fr(a._key.path),N={next:me=>{e[E]&&e[E](qg(W,a,me))},error:e[E+1],complete:e[E+2]};else{const me=wr(a,io);W=wr(me.firestore,Li),re=me._query;const xe=new Cd(W);N={next:tt=>{e[E]&&e[E](new ul(W,xe,me,tt))},error:e[E+1],complete:e[E+2]},Ug(a._query)}return function(xe,tt,Rt,Gt){const Bt=new ff(Gt),An=new oh(tt,Bt,Rt);return xe.asyncQueue.enqueueAndForget((0,l.A)(function*(){return ed(yield rl(xe),An)})),()=>{Bt.$a(),xe.asyncQueue.enqueueAndForget((0,l.A)(function*(){return Yc(yield rl(xe),An)}))}}(cs(W),re,S,N)}function hv(a,e){return function $_(a,e){const r=new ff(e);return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return u=yield rl(a),p=r,Ze(u).z_.add(p),void p.next();var u,p})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return u=yield rl(a),p=r,void Ze(u).z_.delete(p);var u,p}))}}(cs(a=wr(a,Li)),Ap(e)?e:{next:e})}function gs(a,e){return function(s,u){const p=new ge;return s.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function du(a,e,r){return tf.apply(this,arguments)}(yield Sg(s),u,p)})),p.promise}(cs(a),e)}function qg(a,e,r){const s=r.docs.get(e._key),u=new Cd(a);return new Id(a,u,e._key,s,new Ed(r.hasPendingWrites,r.fromCache),e.converter)}const Tc={maxAttempts:5};class bd{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Cc(e)}set(e,r,s){this._verifyNotCommitted();const u=ll(e,this._firestore),p=Ah(u.converter,r,s),E=Eh(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(E.toMutation(u._key,_r.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const p=ll(e,this._firestore);let E;return E="string"==typeof(r=(0,ye.Ku)(r))||r instanceof Ic?Cf(this._dataReader,"WriteBatch.update",p._key,r,s,u):If(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(E.toMutation(p._key,_r.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=ll(e,this._firestore);return this._mutations=this._mutations.concat(new ui(r._key,_r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ll(a,e){if((a=(0,ye.Ku)(a)).firestore!==e)throw new ue(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class py extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Cc(r)}get(r){const s=ll(r,this._firestore),u=new e_(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return Et();const E=p[0];if(E.isFoundDocument())return new Tf(this._firestore,u,E.key,E,s.converter);if(E.isNoDocument())return new Tf(this._firestore,u,s._key,null,s.converter);throw Et()})}set(r,s,u){const p=ll(r,this._firestore),E=Ah(p.converter,s,u),S=Eh(this._dataReader,"Transaction.set",p._key,E,null!==p.converter,u);return this._transaction.set(p._key,S),this}update(r,s,u,...p){const E=ll(r,this._firestore);let S;return S="string"==typeof(s=(0,ye.Ku)(s))||s instanceof Ic?Cf(this._dataReader,"Transaction.update",E._key,s,u,p):If(this._dataReader,"Transaction.update",E._key,s),this._transaction.update(E._key,S),this}delete(r){const s=ll(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=ll(e,this._firestore),s=new Cd(this._firestore);return super.get(e).then(u=>new Id(this._firestore,s,r._key,u._document,new Ed(!1,!1),r.converter))}}function u_(a,e,r){a=wr(a,Li);const s=Object.assign(Object.assign({},Tc),r);return function(p){if(p.maxAttempts<1)throw new ue(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,E,S){const N=new ge;return p.asyncQueue.enqueueAndForget((0,l.A)(function*(){const W=yield function Ip(a){return gu(a).then(e=>e.datastore)}(p);new Mm(p.asyncQueue,W,S,E,N).Xa()})),N.promise}(cs(a),u=>e(new py(a,u)),s)}function c_(){return new Xu("deleteField")}function Xg(){return new Ef("serverTimestamp")}function Df(...a){return new md("arrayUnion",a)}function $p(...a){return new Ih("arrayRemove",a)}function l_(a){return new sl("increment",a)}!function(e,r=!0){ze=le.SDK_VERSION,(0,le._registerComponent)(new g.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const E=s.getProvider("app").getImmediate(),S=new Li(new Le(s.getProvider("auth-internal")),new qt(s.getProvider("app-check-internal")),function(W,re){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new ue(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fn(W.options.projectId,re)}(E,u),E);return p=Object.assign({useFetchStreams:r},p),S._setSettings(p),S},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Ue,"4.6.3",e),(0,le.registerVersion)(Ue,"4.6.3","esm2017")}()},4535:(Zt,Qe,B)=>{B.d(Qe,{Ad:()=>wn,D5:()=>Qt,KR:()=>Gr,Mp:()=>ss,Mx:()=>ti,TZ:()=>Vt,UC:()=>_i,UY:()=>zn,XR:()=>Ys,ZH:()=>mn,_w:()=>er,bp:()=>ts,c7:()=>br,nb:()=>Ps,nw:()=>un,p_:()=>Sn,qk:()=>Mi,uj:()=>jt,xc:()=>Mn,yb:()=>fr});var l=B(467),le=B(7852),g=B(1076),Ae=B(1362);const ye="firebasestorage.googleapis.com",Se="storageBucket";class ae extends g.g{constructor(G,ve,we=0){super(Re(G),`Firebase Storage: ${ve} (${Re(G)})`),this.status_=we,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ae.prototype)}get status(){return this.status_}set status(G){this.status_=G}_codeEquals(G){return Re(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var de=function(J){return J.UNKNOWN="unknown",J.OBJECT_NOT_FOUND="object-not-found",J.BUCKET_NOT_FOUND="bucket-not-found",J.PROJECT_NOT_FOUND="project-not-found",J.QUOTA_EXCEEDED="quota-exceeded",J.UNAUTHENTICATED="unauthenticated",J.UNAUTHORIZED="unauthorized",J.UNAUTHORIZED_APP="unauthorized-app",J.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",J.INVALID_CHECKSUM="invalid-checksum",J.CANCELED="canceled",J.INVALID_EVENT_NAME="invalid-event-name",J.INVALID_URL="invalid-url",J.INVALID_DEFAULT_BUCKET="invalid-default-bucket",J.NO_DEFAULT_BUCKET="no-default-bucket",J.CANNOT_SLICE_BLOB="cannot-slice-blob",J.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",J.NO_DOWNLOAD_URL="no-download-url",J.INVALID_ARGUMENT="invalid-argument",J.INVALID_ARGUMENT_COUNT="invalid-argument-count",J.APP_DELETED="app-deleted",J.INVALID_ROOT_OPERATION="invalid-root-operation",J.INVALID_FORMAT="invalid-format",J.INTERNAL_ERROR="internal-error",J.UNSUPPORTED_ENVIRONMENT="unsupported-environment",J}(de||{});function Re(J){return"storage/"+J}function ut(){return new ae(de.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xt(){return new ae(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ke(){return new ae(de.CANCELED,"User canceled the upload/download.")}function Xe(){return new ae(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jt(J){return new ae(de.INVALID_ARGUMENT,J)}function en(){return new ae(de.APP_DELETED,"The Firebase app was deleted.")}function zn(J){return new ae(de.INVALID_ROOT_OPERATION,"The operation '"+J+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Et(J,G){return new ae(de.INVALID_FORMAT,"String does not match format '"+J+"': "+G)}function Mt(J){throw new ae(de.INTERNAL_ERROR,"Internal error: "+J)}class Vt{constructor(G,ve){this.bucket=G,this.path_=ve}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,ve){let we;try{we=Vt.makeFromUrl(G,ve)}catch{return new Vt(G,"")}if(""===we.path)return we;throw function Je(J){return new ae(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+J+"'.")}(G)}static makeFromUrl(G,ve){let we=null;const He="([A-Za-z0-9.\\-_]+)",cn=new RegExp("^gs://"+He+"(/(.*))?$","i");function nn(pi){pi.path_=decodeURIComponent(pi.path)}const En=ve.replace(/[.]/g,"\\."),ir=[{regex:cn,indices:{bucket:1,path:3},postModify:function ft(pi){"/"===pi.path.charAt(pi.path.length-1)&&(pi.path_=pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${En}/v[A-Za-z0-9_]+/b/${He}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:nn},{regex:new RegExp(`^https?://${ve===ye?"(?:storage.googleapis.com|storage.cloud.google.com)":ve}/${He}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:nn}];for(let pi=0;pi<ir.length;pi++){const Yr=ir[pi],mr=Yr.regex.exec(G);if(mr){let Ki=mr[Yr.indices.path];Ki||(Ki=""),we=new Vt(mr[Yr.indices.bucket],Ki),Yr.postModify(we);break}}if(null==we)throw function Ue(J){return new ae(de.INVALID_URL,"Invalid URL '"+J+"'.")}(G);return we}}class Ze{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function Te(J){return"string"==typeof J||J instanceof String}function Le(J){return ht()&&J instanceof Blob}function ht(){return typeof Blob<"u"}function _t(J,G,ve,we){if(we<G)throw jt(`Invalid value for '${J}'. Expected ${G} or greater.`);if(we>ve)throw jt(`Invalid value for '${J}'. Expected ${ve} or less.`)}function rn(J,G,ve){let we=G;return null==ve&&(we=`https://${G}`),`${ve}://${we}/v0${J}`}function qt(J){const G=encodeURIComponent;let ve="?";for(const we in J)J.hasOwnProperty(we)&&(ve=ve+(G(we)+"=")+G(J[we])+"&");return ve=ve.slice(0,-1),ve}var Pn=function(J){return J[J.NO_ERROR=0]="NO_ERROR",J[J.NETWORK_ERROR=1]="NETWORK_ERROR",J[J.ABORT=2]="ABORT",J}(Pn||{});function gn(J,G){const ve=J>=500&&J<600,He=-1!==[408,429].indexOf(J),ft=-1!==G.indexOf(J);return ve||He||ft}class ar{constructor(G,ve,we,He,ft,Ht,cn,Dt,nn,tr,En,hi=!0){this.url_=G,this.method_=ve,this.headers_=we,this.body_=He,this.successCodes_=ft,this.additionalRetryCodes_=Ht,this.callback_=cn,this.errorCallback_=Dt,this.timeout_=nn,this.progressCallback_=tr,this.connectionFactory_=En,this.retry=hi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($r,fi)=>{this.resolve_=$r,this.reject_=fi,this.start_()})}start_(){const ve=(we,He)=>{const ft=this.resolve_,Ht=this.reject_,cn=He.connection;if(He.wasSuccessCode)try{const Dt=this.callback_(cn,cn.getResponse());!function ge(J){return void 0!==J}(Dt)?ft():ft(Dt)}catch(Dt){Ht(Dt)}else if(null!==cn){const Dt=ut();Dt.serverResponse=cn.getErrorText(),Ht(this.errorCallback_?this.errorCallback_(cn,Dt):Dt)}else Ht(He.canceled?this.appDelete_?en():Ke():Xt())};this.canceled_?ve(0,new Ft(!1,null,!0)):this.backoffId_=function fe(J,G,ve){let we=1,He=null,ft=null,Ht=!1,cn=0;function Dt(){return 2===cn}let nn=!1;function tr(...jr){nn||(nn=!0,G.apply(null,jr))}function En(jr){He=setTimeout(()=>{He=null,J($r,Dt())},jr)}function hi(){ft&&clearTimeout(ft)}function $r(jr,...Bi){if(nn)return void hi();if(jr)return hi(),void tr.call(null,jr,...Bi);if(Dt()||Ht)return hi(),void tr.call(null,jr,...Bi);let ir;we<64&&(we*=2),1===cn?(cn=2,ir=0):ir=1e3*(we+Math.random()),En(ir)}let fi=!1;function si(jr){fi||(fi=!0,hi(),!nn&&(null!==He?(jr||(cn=2),clearTimeout(He),En(0)):jr||(cn=1)))}return En(0),ft=setTimeout(()=>{Ht=!0,si(!0)},ve),si}((we,He)=>{if(He)return void we(!1,new Ft(!1,null,!0));const ft=this.connectionFactory_();this.pendingConnection_=ft;const Ht=cn=>{null!==this.progressCallback_&&this.progressCallback_(cn.loaded,cn.lengthComputable?cn.total:-1)};null!==this.progressCallback_&&ft.addUploadProgressListener(Ht),ft.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ft.removeUploadProgressListener(Ht),this.pendingConnection_=null;const cn=ft.getErrorCode()===Pn.NO_ERROR,Dt=ft.getStatus();if(!cn||gn(Dt,this.additionalRetryCodes_)&&this.retry){const tr=ft.getErrorCode()===Pn.ABORT;return void we(!1,new Ft(!1,null,tr))}const nn=-1!==this.successCodes_.indexOf(Dt);we(!0,new Ft(nn,ft))})},ve,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function ue(J){J(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ft{constructor(G,ve,we){this.wasSuccessCode=G,this.connection=ve,this.canceled=!!we}}function pr(...J){const G=function sn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==G){const ve=new G;for(let we=0;we<J.length;we++)ve.append(J[we]);return ve.getBlob()}if(ht())return new Blob(J);throw new ae(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cn{constructor(G,ve){this.data=G,this.contentType=ve||null}}function mn(J,G){switch(J){case un.RAW:return new Cn(ur(G));case un.BASE64:case un.BASE64URL:return new Cn(Zr(J,G));case un.DATA_URL:return new Cn(function ei(J){const G=new xn(J);return G.base64?Zr(un.BASE64,G.rest):function vr(J){let G;try{G=decodeURIComponent(J)}catch{throw Et(un.DATA_URL,"Malformed data URL.")}return ur(G)}(G.rest)}(G),function Ji(J){return new xn(J).contentType}(G))}throw ut()}function ur(J){const G=[];for(let ve=0;ve<J.length;ve++){let we=J.charCodeAt(ve);we<=127?G.push(we):we<=2047?G.push(192|we>>6,128|63&we):55296==(64512&we)?ve<J.length-1&&56320==(64512&J.charCodeAt(ve+1))?(we=65536|(1023&we)<<10|1023&J.charCodeAt(++ve),G.push(240|we>>18,128|we>>12&63,128|we>>6&63,128|63&we)):G.push(239,191,189):56320==(64512&we)?G.push(239,191,189):G.push(224|we>>12,128|we>>6&63,128|63&we)}return new Uint8Array(G)}function Zr(J,G){switch(J){case un.BASE64:{const He=-1!==G.indexOf("-"),ft=-1!==G.indexOf("_");if(He||ft)throw Et(J,"Invalid character '"+(He?"-":"_")+"' found: is it base64url encoded?");break}case un.BASE64URL:{const He=-1!==G.indexOf("+"),ft=-1!==G.indexOf("/");if(He||ft)throw Et(J,"Invalid character '"+(He?"+":"/")+"' found: is it base64 encoded?");G=G.replace(/-/g,"+").replace(/_/g,"/");break}}let ve;try{ve=function Ot(J){if(typeof atob>"u")throw function Ie(J){return new ae(de.UNSUPPORTED_ENVIRONMENT,`${J} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(J)}(G)}catch(He){throw He.message.includes("polyfill")?He:Et(J,"Invalid character found")}const we=new Uint8Array(ve.length);for(let He=0;He<ve.length;He++)we[He]=ve.charCodeAt(He);return we}class xn{constructor(G){this.base64=!1,this.contentType=null;const ve=G.match(/^data:([^,]+)?,/);if(null===ve)throw Et(un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const we=ve[1]||null;null!=we&&(this.base64=function Yt(J,G){return J.length>=G.length&&J.substring(J.length-G.length)===G}(we,";base64"),this.contentType=this.base64?we.substring(0,we.length-7):we),this.rest=G.substring(G.indexOf(",")+1)}}class ti{constructor(G,ve){let we=0,He="";Le(G)?(this.data_=G,we=G.size,He=G.type):G instanceof ArrayBuffer?(ve?this.data_=new Uint8Array(G):(this.data_=new Uint8Array(G.byteLength),this.data_.set(new Uint8Array(G))),we=this.data_.length):G instanceof Uint8Array&&(ve?this.data_=G:(this.data_=new Uint8Array(G.length),this.data_.set(G)),we=G.length),this.size_=we,this.type_=He}size(){return this.size_}type(){return this.type_}slice(G,ve){if(Le(this.data_)){const He=function Bn(J,G,ve){return J.webkitSlice?J.webkitSlice(G,ve):J.mozSlice?J.mozSlice(G,ve):J.slice?J.slice(G,ve):null}(this.data_,G,ve);return null===He?null:new ti(He)}{const we=new Uint8Array(this.data_.buffer,G,ve-G);return new ti(we,!0)}}static getBlob(...G){if(ht()){const ve=G.map(we=>we instanceof ti?we.data_:we);return new ti(pr.apply(null,ve))}{const ve=G.map(Ht=>Te(Ht)?mn(un.RAW,Ht).data:Ht.data_);let we=0;ve.forEach(Ht=>{we+=Ht.byteLength});const He=new Uint8Array(we);let ft=0;return ve.forEach(Ht=>{for(let cn=0;cn<Ht.length;cn++)He[ft++]=Ht[cn]}),new ti(He,!0)}}uploadData(){return this.data_}}function jn(J){let G;try{G=JSON.parse(J)}catch{return null}return function pe(J){return"object"==typeof J&&!Array.isArray(J)}(G)?G:null}function mi(J){const G=J.lastIndexOf("/",J.length-2);return-1===G?J:J.slice(G+1)}function je(J,G){return G}class ct{constructor(G,ve,we,He){this.server=G,this.local=ve||G,this.writable=!!we,this.xform=He||je}}let se=null;function st(){if(se)return se;const J=[];J.push(new ct("bucket")),J.push(new ct("generation")),J.push(new ct("metageneration")),J.push(new ct("name","fullPath",!0));const ve=new ct("name");ve.xform=function G(ft,Ht){return function be(J){return!Te(J)||J.length<2?J:mi(J)}(Ht)},J.push(ve);const He=new ct("size");return He.xform=function we(ft,Ht){return void 0!==Ht?Number(Ht):Ht},J.push(He),J.push(new ct("timeCreated")),J.push(new ct("updated")),J.push(new ct("md5Hash",null,!0)),J.push(new ct("cacheControl",null,!0)),J.push(new ct("contentDisposition",null,!0)),J.push(new ct("contentEncoding",null,!0)),J.push(new ct("contentLanguage",null,!0)),J.push(new ct("contentType",null,!0)),J.push(new ct("metadata","customMetadata",!0)),se=J,se}function Sr(J,G,ve){const we=jn(G);return null===we?null:function Tn(J,G,ve){const we={type:"file"},He=ve.length;for(let ft=0;ft<He;ft++){const Ht=ve[ft];we[Ht.local]=Ht.xform(we,G[Ht.server])}return function Ut(J,G){Object.defineProperty(J,"ref",{get:function ve(){const ft=new Vt(J.bucket,J.fullPath);return G._makeStorageReference(ft)}})}(we,J),we}(J,we,ve)}function Me(J,G){const ve={},we=G.length;for(let He=0;He<we;He++){const ft=G[He];ft.writable&&(ve[ft.server]=J[ft.local])}return JSON.stringify(ve)}const ee="prefixes",H="items";class ce{constructor(G,ve,we,He){this.url=G,this.method=ve,this.handler=we,this.timeout=He,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ne(J){if(!J)throw ut()}function pt(J,G){return function ve(we,He){const ft=Sr(J,He,G);return Ne(null!==ft),ft}}function Kt(J){return function G(ve,we){let He;return He=401===ve.getStatus()?ve.getErrorText().includes("Firebase App Check token is invalid")?function kt(){return new ae(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function gt(){return new ae(de.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ve.getStatus()?function It(J){return new ae(de.QUOTA_EXCEEDED,"Quota for bucket '"+J+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(J.bucket):403===ve.getStatus()?function bt(J){return new ae(de.UNAUTHORIZED,"User does not have permission to access '"+J+"'.")}(J.path):we,He.status=ve.getStatus(),He.serverResponse=we.serverResponse,He}}function Jt(J){const G=Kt(J);return function ve(we,He){let ft=G(we,He);return 404===we.getStatus()&&(ft=function We(J){return new ae(de.OBJECT_NOT_FOUND,"Object '"+J+"' does not exist.")}(J.path)),ft.serverResponse=He.serverResponse,ft}}function Jn(J,G,ve){const He=rn(G.fullServerUrl(),J.host,J._protocol),Ht=J.maxOperationRetryTime,cn=new ce(He,"GET",pt(J,ve),Ht);return cn.errorHandler=Jt(G),cn}function vn(J,G,ve,we,He){const ft={};ft.prefix=G.isRoot?"":G.path+"/",ve&&ve.length>0&&(ft.delimiter=ve),we&&(ft.pageToken=we),He&&(ft.maxResults=He);const cn=rn(G.bucketOnlyServerUrl(),J.host,J._protocol),nn=J.maxOperationRetryTime,tr=new ce(cn,"GET",function At(J,G){return function ve(we,He){const ft=function F(J,G,ve){const we=jn(ve);return null===we?null:function V(J,G,ve){const we={prefixes:[],items:[],nextPageToken:ve.nextPageToken};if(ve[ee])for(const He of ve[ee]){const ft=He.replace(/\/$/,""),Ht=J._makeStorageReference(new Vt(G,ft));we.prefixes.push(Ht)}if(ve[H])for(const He of ve[H]){const ft=J._makeStorageReference(new Vt(G,He.name));we.items.push(ft)}return we}(J,G,we)}(J,G,He);return Ne(null!==ft),ft}}(J,G.bucket),nn);return tr.urlParams=ft,tr.errorHandler=Kt(G),tr}function ls(J,G,ve){const we=Object.assign({},ve);return we.fullPath=J.path,we.size=G.size(),we.contentType||(we.contentType=function zi(J,G){return J&&J.contentType||G&&G.type()||"application/octet-stream"}(null,G)),we}class Zn{constructor(G,ve,we,He){this.current=G,this.total=ve,this.finalized=!!we,this.metadata=He||null}}function rt(J,G){let ve=null;try{ve=J.getResponseHeader("X-Goog-Upload-Status")}catch{Ne(!1)}return Ne(!!ve&&-1!==(G||["active"]).indexOf(ve)),ve}const Mn={STATE_CHANGED:"state_changed"},wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wn(J){switch(J){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;default:return wn.ERROR}}class Gn{constructor(G,ve,we){if(function De(J){return"function"==typeof J}(G)||null!=ve||null!=we)this.next=G,this.error=ve??void 0,this.complete=we??void 0;else{const ft=G;this.next=ft.next,this.error=ft.error,this.complete=ft.complete}}}function Mr(J){return(...G)=>{Promise.resolve().then(()=>J(...G))}}let li=null;class dr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pn.NO_ERROR,this.sendPromise_=new Promise(G=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pn.ABORT,G()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pn.NETWORK_ERROR,G()}),this.xhr_.addEventListener("load",()=>{G()})})}send(G,ve,we,He){if(this.sent_)throw Mt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ve,G,!0),void 0!==He)for(const ft in He)He.hasOwnProperty(ft)&&this.xhr_.setRequestHeader(ft,He[ft].toString());return void 0!==we?this.xhr_.send(we):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(G){return this.xhr_.getResponseHeader(G)}addUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",G)}removeUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",G)}}class ys extends dr{initXhr(){this.xhr_.responseType="text"}}function ri(){return li?li():new ys}class _i{constructor(G,ve,we=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=G,this._blob=ve,this._metadata=we,this._mappings=st(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=He=>{if(this._request=void 0,this._chunkMultiplier=1,He._codeEquals(de.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const ft=this.isExponentialBackoffExpired();if(gn(He.status,[])){if(!ft)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();He=Xt()}this._error=He,this._transition("error")}},this._metadataErrorHandler=He=>{this._request=void 0,He._codeEquals(de.CANCELED)?this.completeTransitions_():(this._error=He,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((He,ft)=>{this._resolve=He,this._reject=ft,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const G=this._transferred;return ve=>this._updateProgress(G+ve)}_shouldDoResumable(G){return G.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(G){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ve,we])=>{switch(this._state){case"running":G(ve,we);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((G,ve)=>{const we=function qe(J,G,ve,we,He){const ft=G.bucketOnlyServerUrl(),Ht=ls(G,we,He),cn={name:Ht.fullPath},Dt=rn(ft,J.host,J._protocol),tr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${we.size()}`,"X-Goog-Upload-Header-Content-Type":Ht.contentType,"Content-Type":"application/json; charset=utf-8"},En=Me(Ht,ve),fi=new ce(Dt,"POST",function $r(si){let jr;rt(si);try{jr=si.getResponseHeader("X-Goog-Upload-URL")}catch{Ne(!1)}return Ne(Te(jr)),jr},J.maxUploadRetryTime);return fi.urlParams=cn,fi.headers=tr,fi.body=En,fi.errorHandler=Kt(G),fi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),He=this._ref.storage._makeRequest(we,ri,G,ve);this._request=He,He.getPromise().then(ft=>{this._request=void 0,this._uploadUrl=ft,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const G=this._uploadUrl;this._resolveToken((ve,we)=>{const He=function yt(J,G,ve,we){const Dt=new ce(ve,"POST",function ft(nn){const tr=rt(nn,["active","final"]);let En=null;try{En=nn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ne(!1)}En||Ne(!1);const hi=Number(En);return Ne(!isNaN(hi)),new Zn(hi,we.size(),"final"===tr)},J.maxUploadRetryTime);return Dt.headers={"X-Goog-Upload-Command":"query"},Dt.errorHandler=Kt(G),Dt}(this._ref.storage,this._ref._location,G,this._blob),ft=this._ref.storage._makeRequest(He,ri,ve,we);this._request=ft,ft.getPromise().then(Ht=>{this._request=void 0,this._updateProgress(Ht.current),this._needToFetchStatus=!1,Ht.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const G=262144*this._chunkMultiplier,ve=new Zn(this._transferred,this._blob.size()),we=this._uploadUrl;this._resolveToken((He,ft)=>{let Ht;try{Ht=function bn(J,G,ve,we,He,ft,Ht,cn){const Dt=new Zn(0,0);if(Ht?(Dt.current=Ht.current,Dt.total=Ht.total):(Dt.current=0,Dt.total=we.size()),we.size()!==Dt.total)throw function mt(){return new ae(de.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const nn=Dt.total-Dt.current;let tr=nn;He>0&&(tr=Math.min(tr,He));const En=Dt.current;let $r="";$r=0===tr?"finalize":nn===tr?"upload, finalize":"upload";const fi={"X-Goog-Upload-Command":$r,"X-Goog-Upload-Offset":`${Dt.current}`},si=we.slice(En,En+tr);if(null===si)throw Xe();const ir=new ce(ve,"POST",function jr(pi,Yr){const mr=rt(pi,["active","final"]),Js=Dt.current+tr,Ki=we.size();let Wo;return Wo="final"===mr?pt(G,ft)(pi,Yr):null,new Zn(Js,Ki,"final"===mr,Wo)},G.maxUploadRetryTime);return ir.headers=fi,ir.body=si.uploadData(),ir.progressCallback=cn||null,ir.errorHandler=Kt(J),ir}(this._ref._location,this._ref.storage,we,this._blob,G,this._mappings,ve,this._makeProgressCallback())}catch(Dt){return this._error=Dt,void this._transition("error")}const cn=this._ref.storage._makeRequest(Ht,ri,He,ft,!1);this._request=cn,cn.getPromise().then(Dt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Dt.current),Dt.finalized?(this._metadata=Dt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((G,ve)=>{const we=Jn(this._ref.storage,this._ref._location,this._mappings),He=this._ref.storage._makeRequest(we,ri,G,ve);this._request=He,He.getPromise().then(ft=>{this._request=void 0,this._metadata=ft,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((G,ve)=>{const we=function ni(J,G,ve,we,He){const ft=G.bucketOnlyServerUrl(),Ht={"X-Goog-Upload-Protocol":"multipart"},Dt=function cn(){let ir="";for(let pi=0;pi<2;pi++)ir+=Math.random().toString().slice(2);return ir}();Ht["Content-Type"]="multipart/related; boundary="+Dt;const nn=ls(G,we,He),tr=Me(nn,ve),$r=ti.getBlob("--"+Dt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+tr+"\r\n--"+Dt+"\r\nContent-Type: "+nn.contentType+"\r\n\r\n",we,"\r\n--"+Dt+"--");if(null===$r)throw Xe();const fi={name:nn.fullPath},si=rn(ft,J.host,J._protocol),Bi=J.maxUploadRetryTime,Gi=new ce(si,"POST",pt(J,ve),Bi);return Gi.urlParams=fi,Gi.headers=Ht,Gi.body=$r.uploadData(),Gi.errorHandler=Kt(G),Gi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),He=this._ref.storage._makeRequest(we,ri,G,ve);this._request=He,He.getPromise().then(ft=>{this._request=void 0,this._metadata=ft,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(G){const ve=this._transferred;this._transferred=G,this._transferred!==ve&&this._notifyObservers()}_transition(G){if(this._state!==G)switch(G){case"canceling":case"pausing":this._state=G,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ve="paused"===this._state;this._state=G,ve&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=G,this._notifyObservers();break;case"canceled":this._error=Ke(),this._state=G,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const G=Wn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:G,metadata:this._metadata,task:this,ref:this._ref}}on(G,ve,we,He){const ft=new Gn(ve||void 0,we||void 0,He||void 0);return this._addObserver(ft),()=>{this._removeObserver(ft)}}then(G,ve){return this._promise.then(G,ve)}catch(G){return this.then(null,G)}_addObserver(G){this._observers.push(G),this._notifyObserver(G)}_removeObserver(G){const ve=this._observers.indexOf(G);-1!==ve&&this._observers.splice(ve,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ve=>{this._notifyObserver(ve)})}_finishPromise(){if(void 0!==this._resolve){let G=!0;switch(Wn(this._state)){case wn.SUCCESS:Mr(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:Mr(this._reject.bind(null,this._error))();break;default:G=!1}G&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(G){switch(Wn(this._state)){case wn.RUNNING:case wn.PAUSED:G.next&&Mr(G.next.bind(G,this.snapshot))();break;case wn.SUCCESS:G.complete&&Mr(G.complete.bind(G))();break;default:G.error&&Mr(G.error.bind(G,this._error))()}}resume(){const G="paused"===this._state||"pausing"===this._state;return G&&this._transition("running"),G}pause(){const G="running"===this._state;return G&&this._transition("pausing"),G}cancel(){const G="running"===this._state||"pausing"===this._state;return G&&this._transition("canceling"),G}}class Si{constructor(G,ve){this._service=G,this._location=ve instanceof Vt?ve:Vt.makeFromUrl(ve,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,ve){return new Si(G,ve)}get root(){const G=new Vt(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mi(this._location.path)}get storage(){return this._service}get parent(){const G=function lr(J){if(0===J.length)return null;const G=J.lastIndexOf("/");return-1===G?"":J.slice(0,G)}(this._location.path);if(null===G)return null;const ve=new Vt(this._location.bucket,G);return new Si(this._service,ve)}_throwIfRoot(G){if(""===this._location.path)throw zn(G)}}function Ni(J,G,ve){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.A)(function*(J,G,ve){const He=yield zo(J,{pageToken:ve});G.prefixes.push(...He.prefixes),G.items.push(...He.items),null!=He.nextPageToken&&(yield Ni(J,G,He.nextPageToken))})).apply(this,arguments)}function zo(J,G){null!=G&&"number"==typeof G.maxResults&&_t("options.maxResults",1,1e3,G.maxResults);const ve=G||{},we=vn(J.storage,J._location,"/",ve.pageToken,ve.maxResults);return J.storage.makeRequestWithTokens(we,ri)}function bi(J){J._throwIfRoot("getDownloadURL");const G=function kr(J,G,ve){const He=rn(G.fullServerUrl(),J.host,J._protocol),Ht=J.maxOperationRetryTime,cn=new ce(He,"GET",function on(J,G){return function ve(we,He){const ft=Sr(J,He,G);return Ne(null!==ft),function nr(J,G,ve,we){const He=jn(G);if(null===He||!Te(He.downloadTokens))return null;const ft=He.downloadTokens;if(0===ft.length)return null;const Ht=encodeURIComponent;return ft.split(",").map(nn=>{const En=J.fullPath;return rn("/b/"+Ht(J.bucket)+"/o/"+Ht(En),ve,we)+qt({alt:"media",token:nn})})[0]}(ft,He,J.host,J._protocol)}}(J,ve),Ht);return cn.errorHandler=Jt(G),cn}(J.storage,J._location,st());return J.storage.makeRequestWithTokens(G,ri).then(ve=>{if(null===ve)throw function St(){return new ae(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ve})}function Ai(J,G){const ve=function Dn(J,G){const ve=G.split("/").filter(we=>we.length>0).join("/");return 0===J.length?ve:J+"/"+ve}(J._location.path,G),we=new Vt(J._location.bucket,ve);return new Si(J.storage,we)}function ds(J,G){if(J instanceof Wr){const ve=J;if(null==ve._bucket)throw function ze(){return new ae(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Se+"' property when initializing the app?")}();const we=new Si(ve,ve._bucket);return null!=G?ds(we,G):we}return void 0!==G?Ai(J,G):J}function wo(J,G){if(G&&function Pi(J){return/^[A-Za-z]+:\/\//.test(J)}(G)){if(J instanceof Wr)return function Xs(J,G){return new Si(J,G)}(J,G);throw jt("To use ref(service, url), the first argument must be a Storage instance.")}return ds(J,G)}function Fn(J,G){const ve=G?.[Se];return null==ve?null:Vt.makeFromBucketSpec(ve,J)}class Wr{constructor(G,ve,we,He,ft){this.app=G,this._authProvider=ve,this._appCheckProvider=we,this._url=He,this._firebaseVersion=ft,this._bucket=null,this._host=ye,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=He?Vt.makeFromBucketSpec(He,this._host):Fn(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?Vt.makeFromBucketSpec(this._url,G):Fn(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){_t("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){_t("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,l.A)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const ve=G._authProvider.getImmediate({optional:!0});if(ve){const we=yield ve.getToken();if(null!==we)return we.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,l.A)(function*(){const ve=G._appCheckProvider.getImmediate({optional:!0});return ve?(yield ve.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new Si(this,G)}_makeRequest(G,ve,we,He,ft=!0){if(this._deleted)return new Ze(en());{const Ht=function Br(J,G,ve,we,He,ft,Ht=!0){const cn=qt(J.urlParams),Dt=J.url+cn,nn=Object.assign({},J.headers);return function Lt(J,G){G&&(J["X-Firebase-GMPID"]=G)}(nn,G),function _n(J,G){null!==G&&G.length>0&&(J.Authorization="Firebase "+G)}(nn,ve),function On(J,G){J["X-Firebase-Storage-Version"]="webjs/"+(G??"AppManager")}(nn,ft),function Pt(J,G){null!==G&&(J["X-Firebase-AppCheck"]=G)}(nn,we),new ar(Dt,J.method,nn,J.body,J.successCodes,J.additionalRetryCodes,J.handler,J.errorHandler,J.timeout,J.progressCallback,He,Ht)}(G,this._appId,we,He,ve,this._firebaseVersion,ft);return this._requests.add(Ht),Ht.getPromise().then(()=>this._requests.delete(Ht),()=>this._requests.delete(Ht)),Ht}}makeRequestWithTokens(G,ve){var we=this;return(0,l.A)(function*(){const[He,ft]=yield Promise.all([we._getAuthToken(),we._getAppCheckToken()]);return we._makeRequest(G,ve,He,ft).getPromise()})()}}const ki="@firebase/storage",Ss="storage";function ts(J,G,ve){return function Rr(J,G,ve){return J._throwIfRoot("uploadBytesResumable"),new _i(J,new ti(G),ve)}(J=(0,g.Ku)(J),G,ve)}function fr(J){return function Ci(J){J._throwIfRoot("getMetadata");const G=Jn(J.storage,J._location,st());return J.storage.makeRequestWithTokens(G,ri)}(J=(0,g.Ku)(J))}function Qt(J,G){return function ca(J,G){J._throwIfRoot("updateMetadata");const ve=function Us(J,G,ve,we){const ft=rn(G.fullServerUrl(),J.host,J._protocol),cn=Me(ve,we),nn=J.maxOperationRetryTime,tr=new ce(ft,"PATCH",pt(J,we),nn);return tr.headers={"Content-Type":"application/json; charset=utf-8"},tr.body=cn,tr.errorHandler=Jt(G),tr}(J.storage,J._location,G,st());return J.storage.makeRequestWithTokens(ve,ri)}(J=(0,g.Ku)(J),G)}function Sn(J,G){return zo(J=(0,g.Ku)(J),G)}function er(J){return function Wi(J){const G={prefixes:[],items:[]};return Ni(J,G).then(()=>G)}(J=(0,g.Ku)(J))}function Mi(J){return bi(J=(0,g.Ku)(J))}function Ys(J){return function hr(J){J._throwIfRoot("deleteObject");const G=function Xr(J,G){const we=rn(G.fullServerUrl(),J.host,J._protocol),cn=new ce(we,"DELETE",function Ht(Dt,nn){},J.maxOperationRetryTime);return cn.successCodes=[200,204],cn.errorHandler=Jt(G),cn}(J.storage,J._location);return J.storage.makeRequestWithTokens(G,ri)}(J=(0,g.Ku)(J))}function Gr(J,G){return wo(J=(0,g.Ku)(J),G)}function ss(J,G){return Ai(J,G)}function br(J=(0,le.getApp)(),G){J=(0,g.Ku)(J);const we=(0,le._getProvider)(J,Ss).getImmediate({identifier:G}),He=(0,g.yU)("storage");return He&&Ps(we,...He),we}function Ps(J,G,ve,we={}){!function Er(J,G,ve,we={}){J.host=`${G}:${ve}`,J._protocol="http";const{mockUserToken:He}=we;He&&(J._overrideAuthToken="string"==typeof He?He:(0,g.Fy)(He,J.app.options.projectId))}(J,G,ve,we)}function os(J,{instanceIdentifier:G}){const ve=J.getProvider("app").getImmediate(),we=J.getProvider("auth-internal"),He=J.getProvider("app-check-internal");return new Wr(ve,we,He,G,le.SDK_VERSION)}!function di(){(0,le._registerComponent)(new Ae.uA(Ss,os,"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(ki,"0.12.5",""),(0,le.registerVersion)(ki,"0.12.5","esm2017")}()},1076:(Zt,Qe,B)=>{B.d(Qe,{Am:()=>Ot,Bd:()=>jt,FA:()=>Le,Fy:()=>Xe,I9:()=>un,Im:()=>Pt,Ku:()=>nr,Ll:()=>Ie,T9:()=>Ue,Uj:()=>Be,XA:()=>Je,ZQ:()=>mt,bD:()=>sn,cY:()=>ze,eX:()=>ge,g:()=>Te,gR:()=>On,hp:()=>Cn,jZ:()=>St,lT:()=>Mt,lV:()=>zn,nr:()=>fe,sr:()=>en,tD:()=>ur,u:()=>ae,yU:()=>Ke,zW:()=>ue,zw:()=>Re});const Ae=function(Me){const ee=[];let H=0;for(let V=0;V<Me.length;V++){let F=Me.charCodeAt(V);F<128?ee[H++]=F:F<2048?(ee[H++]=F>>6|192,ee[H++]=63&F|128):55296==(64512&F)&&V+1<Me.length&&56320==(64512&Me.charCodeAt(V+1))?(F=65536+((1023&F)<<10)+(1023&Me.charCodeAt(++V)),ee[H++]=F>>18|240,ee[H++]=F>>12&63|128,ee[H++]=F>>6&63|128,ee[H++]=63&F|128):(ee[H++]=F>>12|224,ee[H++]=F>>6&63|128,ee[H++]=63&F|128)}return ee},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,ee){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let F=0;F<Me.length;F+=3){const ce=Me[F],Ne=F+1<Me.length,pt=Ne?Me[F+1]:0,At=F+2<Me.length,on=At?Me[F+2]:0;let Jn=(15&pt)<<2|on>>6,vn=63&on;At||(vn=64,Ne||(Jn=64)),V.push(H[ce>>2],H[(3&ce)<<4|pt>>4],H[Jn],H[vn])}return V.join("")},encodeString(Me,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(Me):this.encodeByteArray(Ae(Me),ee)},decodeString(Me,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(Me):function(Me){const ee=[];let H=0,V=0;for(;H<Me.length;){const F=Me[H++];if(F<128)ee[V++]=String.fromCharCode(F);else if(F>191&&F<224){const ce=Me[H++];ee[V++]=String.fromCharCode((31&F)<<6|63&ce)}else if(F>239&&F<365){const At=((7&F)<<18|(63&Me[H++])<<12|(63&Me[H++])<<6|63&Me[H++])-65536;ee[V++]=String.fromCharCode(55296+(At>>10)),ee[V++]=String.fromCharCode(56320+(1023&At))}else{const ce=Me[H++],Ne=Me[H++];ee[V++]=String.fromCharCode((15&F)<<12|(63&ce)<<6|63&Ne)}}return ee.join("")}(this.decodeStringToByteArray(Me,ee))},decodeStringToByteArray(Me,ee){this.init_();const H=ee?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let F=0;F<Me.length;){const ce=H[Me.charAt(F++)],pt=F<Me.length?H[Me.charAt(F)]:0;++F;const on=F<Me.length?H[Me.charAt(F)]:64;++F;const Jt=F<Me.length?H[Me.charAt(F)]:64;if(++F,null==ce||null==pt||null==on||null==Jt)throw new Ve;V.push(ce<<2|pt>>4),64!==on&&(V.push(pt<<4&240|on>>2),64!==Jt&&V.push(on<<6&192|Jt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(Me){return function(Me){const ee=Ae(Me);return Se.encodeByteArray(ee,!0)}(Me).replace(/\./g,"")},ae=function(Me){try{return Se.decodeString(Me,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function Re(Me,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return ee}for(const H in ee)!ee.hasOwnProperty(H)||!ut(H)||(Me[H]=Re(Me[H],ee[H]));return Me}function ut(Me){return"__proto__"!==Me}const bt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if(typeof document>"u")return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ee=Me&&ae(Me[1]);return ee&&JSON.parse(ee)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},Ke=Me=>{const ee=(Me=>{var ee,H;return null===(H=null===(ee=bt())||void 0===ee?void 0:ee.emulatorHosts)||void 0===H?void 0:H[Me]})(Me);if(!ee)return;const H=ee.lastIndexOf(":");if(H<=0||H+1===ee.length)throw new Error(`Invalid host ${ee} with no separate hostname and port!`);const V=parseInt(ee.substring(H+1),10);return"["===ee[0]?[ee.substring(1,H-1),V]:[ee.substring(0,H),V]},Ue=()=>{var Me;return null===(Me=bt())||void 0===Me?void 0:Me.config},Je=Me=>{var ee;return null===(ee=bt())||void 0===ee?void 0:ee[`_${Me}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,H)=>{this.resolve=ee,this.reject=H})}wrapCallback(ee){return(H,V)=>{H?this.reject(H):this.resolve(V),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(H):ee(H,V))}}}function Xe(Me,ee){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=ee||"demo-project",F=Me.iat||0,ce=Me.sub||Me.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:F,exp:F+3600,auth_time:F,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(Ne)),""].join(".")}function mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function Ie(){var Me;const ee=null===(Me=bt())||void 0===Me?void 0:Me.forceEnvironment;if("node"===ee)return!0;if("browser"===ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jt(){return"object"==typeof self&&self.self===self}function en(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function zn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mt(){const Me=mt();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function fe(){return!Ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((Me,ee)=>{try{let H=!0;const V="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(V);F.onsuccess=()=>{F.result.close(),H||self.indexedDB.deleteDatabase(V),Me(!0)},F.onupgradeneeded=()=>{H=!1},F.onerror=()=>{var ce;ee((null===(ce=F.error)||void 0===ce?void 0:ce.message)||"")}}catch(H){ee(H)}})}class Te extends Error{constructor(ee,H,V){super(H),this.code=ee,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(ee,H,V){this.service=ee,this.serviceName=H,this.errors=V}create(ee,...H){const V=H[0]||{},F=`${this.service}/${ee}`,ce=this.errors[ee],Ne=ce?function ht(Me,ee){return Me.replace(_t,(H,V)=>{const F=ee[V];return null!=F?String(F):`<${V}?>`})}(ce,V):"Error";return new Te(F,`${this.serviceName}: ${Ne} (${F}).`,V)}}const _t=/\{\$([^}]+)}/g;function On(Me,ee){return Object.prototype.hasOwnProperty.call(Me,ee)}function Pt(Me){for(const ee in Me)if(Object.prototype.hasOwnProperty.call(Me,ee))return!1;return!0}function sn(Me,ee){if(Me===ee)return!0;const H=Object.keys(Me),V=Object.keys(ee);for(const F of H){if(!V.includes(F))return!1;const ce=Me[F],Ne=ee[F];if(pr(ce)&&pr(Ne)){if(!sn(ce,Ne))return!1}else if(ce!==Ne)return!1}for(const F of V)if(!H.includes(F))return!1;return!0}function pr(Me){return null!==Me&&"object"==typeof Me}function Ot(Me){const ee=[];for(const[H,V]of Object.entries(Me))Array.isArray(V)?V.forEach(F=>{ee.push(encodeURIComponent(H)+"="+encodeURIComponent(F))}):ee.push(encodeURIComponent(H)+"="+encodeURIComponent(V));return ee.length?"&"+ee.join("&"):""}function un(Me){const ee={};return Me.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[F,ce]=V.split("=");ee[decodeURIComponent(F)]=decodeURIComponent(ce)}}),ee}function Cn(Me){const ee=Me.indexOf("?");if(!ee)return"";const H=Me.indexOf("#",ee);return Me.substring(ee,H>0?H:void 0)}function ur(Me,ee){const H=new vr(Me,ee);return H.subscribe.bind(H)}class vr{constructor(ee,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{ee(this)}).catch(V=>{this.error(V)})}next(ee){this.forEachObserver(H=>{H.next(ee)})}error(ee){this.forEachObserver(H=>{H.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,H,V){let F;if(void 0===ee&&void 0===H&&void 0===V)throw new Error("Missing Observer.");F=function xn(Me,ee){if("object"!=typeof Me||null===Me)return!1;for(const H of ee)if(H in Me&&"function"==typeof Me[H])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:H,complete:V},void 0===F.next&&(F.next=ei),void 0===F.error&&(F.error=ei),void 0===F.complete&&(F.complete=ei);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),ce}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,ee)}sendOne(ee,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{H(this.observers[ee])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}function nr(Me){return Me&&Me._delegate?Me._delegate:Me}},9616:(Zt,Qe,B)=>{B.d(Qe,{B:()=>Ze});var l=B(7705),le=B(8704),g=B(6814),Ae=B(6861),ye=B(177),Se=B(467),Ve=B(5558),Fe=B(8455),Be=B(6354);function ae(fe,ue){if(1&fe&&l.nrm(0,"button",11),2&fe){const ge=ue.index;l.AVh("active",0===ge),l.BMQ("data-bs-slide-to",ge)("aria-current",0===ge?"true":null)("aria-label","Slide "+(ge+1))}}function de(fe,ue){if(1&fe){const ge=l.RV6();l.j41(0,"div",12),l.nrm(1,"img",13),l.j41(2,"div",14)(3,"h1"),l.EFF(4,"Welcome to "),l.nrm(5,"br"),l.EFF(6),l.k0s(),l.j41(7,"div",15),l.nrm(8,"br"),l.j41(9,"p"),l.EFF(10),l.k0s()(),l.j41(11,"button",16),l.bIt("click",function(){l.eBV(ge);const pe=l.XpG(2);return l.Njj(pe.navigateToContact(pe.businessId))}),l.EFF(12," Book Consultation "),l.k0s()()()}if(2&fe){const ge=ue.$implicit,De=ue.index,pe=l.XpG(2);l.AVh("active",0===De),l.R7$(1),l.Y8G("src",ge.url,l.B4B),l.R7$(5),l.SpI(" ",pe.business.businessName,""),l.R7$(4),l.JRh(pe.business.tagline)}}function Re(fe,ue){if(1&fe&&(l.j41(0,"div",1)(1,"div",2),l.DNE(2,ae,1,5,"button",3),l.k0s(),l.j41(3,"div",4),l.DNE(4,de,13,5,"div",5),l.k0s(),l.j41(5,"button",6),l.nrm(6,"span",7),l.j41(7,"span",8),l.EFF(8,"Previous"),l.k0s()(),l.j41(9,"button",9),l.nrm(10,"span",10),l.j41(11,"span",8),l.EFF(12,"Next"),l.k0s()()()),2&fe){const ge=l.XpG();l.R7$(2),l.Y8G("ngForOf",ge.heroImages),l.R7$(2),l.Y8G("ngForOf",ge.heroImages)}}let ut=(()=>{class fe{constructor(ge,De,pe){this.router=ge,this.route=De,this.webContentService=pe,this.heroImages=[]}ngOnInit(){this.route.queryParams.subscribe(ge=>{this.businessId=ge.id,this.webContentService.getBusinessData(this.businessId).subscribe(De=>{De&&(this.business=De,this.loadHeroImages())})})}loadHeroImages(){var ge=this;this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Ve.n)(pe=>{const Te=pe.map(function(){var Le=(0,Se.A)(function*(ht){return(yield ge.webContentService.checkImageExists(ht.url))?ht:null});return function(ht){return Le.apply(this,arguments)}}());return(0,Fe.H)(Promise.all(Te))}),(0,Be.T)(pe=>pe.filter(Te=>null!==Te))).subscribe(pe=>{this.heroImages=pe,this.heroImages.forEach(Te=>{})})}navigateToContact(ge){this.router.navigate(["/contact-us"],{queryParams:{id:ge}})}static#e=this.\u0275fac=function(De){return new(De||fe)(l.rXU(g.Ix),l.rXU(g.nX),l.rXU(le.N))};static#t=this.\u0275cmp=l.VBU({type:fe,selectors:[["app-hero-carousel"]],decls:1,vars:1,consts:[["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],[1,"action-btn",3,"click"]],template:function(De,pe){1&De&&l.DNE(0,Re,13,2,"div",0),2&De&&l.Y8G("ngIf",pe.business)},dependencies:[ye.Sq,ye.bT],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]{position:relative;height:800px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}"]})}return fe})();function We(fe,ue){if(1&fe&&(l.j41(0,"div",5)(1,"div",6),l.nrm(2,"img",7),l.k0s(),l.j41(3,"div")(4,"div",8)(5,"div",9)(6,"p"),l.EFF(7),l.k0s(),l.j41(8,"strong"),l.EFF(9),l.k0s()()()()()),2&fe){const ge=ue.$implicit;l.R7$(2),l.FS9("src",ge.photoURL,l.B4B),l.FS9("alt",ge.name),l.R7$(5),l.SpI('" ',ge.quote,' "'),l.R7$(2),l.JRh(ge.name)}}let It=(()=>{class fe{static#e=this.\u0275fac=function(De){return new(De||fe)};static#t=this.\u0275cmp=l.VBU({type:fe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials"},decls:6,vars:1,consts:[[1,"testimonial-comp"],[1,"testimonial-heading"],[1,"section-heading"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-image"],[3,"src","alt"],[1,"testimonial-content","garamond"],[1,""]],template:function(De,pe){1&De&&(l.j41(0,"section",0)(1,"div",1)(2,"div",2),l.EFF(3,"Testimonials"),l.k0s()(),l.j41(4,"div",3),l.DNE(5,We,10,4,"div",4),l.k0s()()),2&De&&(l.R7$(5),l.Y8G("ngForOf",pe.testimonials))},dependencies:[ye.Sq],styles:[".testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-content[_ngcontent-%COMP%]{max-width:300px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);line-height:1.7}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--accent-color)}"]})}return fe})();function gt(fe,ue){if(1&fe&&(l.j41(0,"div",7),l.nrm(1,"i",8),l.j41(2,"h3",9),l.EFF(3),l.k0s(),l.j41(4,"div",10)(5,"p"),l.EFF(6),l.k0s()()()),2&fe){const ge=ue.$implicit;l.R7$(1),l.Y8G("ngClass",ge.icon),l.R7$(2),l.JRh(ge.title),l.R7$(3),l.JRh(ge.description)}}let kt=(()=>{class fe{static#e=this.\u0275fac=function(De){return new(De||fe)};static#t=this.\u0275cmp=l.VBU({type:fe,selectors:[["app-our-services-home"]],inputs:{services:"services"},decls:10,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"services-container"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"service-item-icon",3,"ngClass"],[1,"service-item-title"],[1,"service-item-description"]],template:function(De,pe){1&De&&(l.j41(0,"section",0)(1,"div",1)(2,"span",2),l.EFF(3,"Our"),l.k0s(),l.j41(4,"span",3),l.EFF(5,"Services"),l.k0s()(),l.j41(6,"h3",4),l.EFF(7,"Home Care From Trained Professionals"),l.k0s(),l.j41(8,"div",5),l.DNE(9,gt,7,3,"div",6),l.k0s()()),2&De&&(l.R7$(9),l.Y8G("ngForOf",pe.services))},dependencies:[ye.YU,ye.Sq],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.service-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.service-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.service-item[_ngcontent-%COMP%]{margin-bottom:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}"]})}return fe})(),bt=(()=>{class fe{constructor(ge){this.router=ge}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(De){return new(De||fe)(l.rXU(g.Ix))};static#t=this.\u0275cmp=l.VBU({type:fe,selectors:[["app-welcome"]],inputs:{welcomeMsg:"welcomeMsg",keyServicesHighlights:"keyServicesHighlights",businessName:"businessName"},decls:14,vars:3,consts:[[1,"info-container"],[1,"overlay"],[1,"content","garamond"],[1,"brand-name"],[1,"buttons"],[1,"contact-btn",3,"click"]],template:function(De,pe){1&De&&(l.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),l.EFF(4,"We Are "),l.j41(5,"span",3),l.EFF(6),l.k0s()(),l.j41(7,"h1"),l.EFF(8),l.k0s(),l.j41(9,"p"),l.EFF(10),l.k0s(),l.j41(11,"div",4)(12,"button",5),l.bIt("click",function(){return pe.navigateToContact()}),l.EFF(13,"Contact Us"),l.k0s()()()()()),2&De&&(l.R7$(6),l.JRh(pe.businessName),l.R7$(2),l.JRh(pe.welcomeMsg),l.R7$(2),l.JRh(pe.keyServicesHighlights))},styles:[".info-container[_ngcontent-%COMP%]{position:relative;width:100%;min-height:600px;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}"]})}return fe})(),Xt=(()=>{class fe{constructor(ge,De){this.router=ge,this.route=De,this.id=null}ngOnInit(){this.route.queryParams.subscribe(ge=>{this.id=ge.id})}navigateToContact(ge){this.router.navigate(["/contact-us"],{queryParams:{id:ge}})}static#e=this.\u0275fac=function(De){return new(De||fe)(l.rXU(g.Ix),l.rXU(g.nX))};static#t=this.\u0275cmp=l.VBU({type:fe,selectors:[["app-consultation"]],decls:10,vars:0,consts:[[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"btn-book-consultation",3,"click"]],template:function(De,pe){1&De&&(l.j41(0,"div",0)(1,"div",1)(2,"span",2),l.EFF(3,"Book a "),l.k0s(),l.j41(4,"span",3),l.EFF(5," Consultation"),l.k0s()(),l.j41(6,"p",4),l.EFF(7," We would love to meet you! Contact us to schedule a tour. "),l.k0s(),l.j41(8,"button",5),l.bIt("click",function(){return pe.navigateToContact(pe.id)}),l.EFF(9,"Book Consultation"),l.k0s()())},styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}"]})}return fe})();function Ke(fe,ue){if(1&fe&&(l.j41(0,"div",8),l.nrm(1,"div",9)(2,"div",10),l.k0s()),2&fe){const ge=ue.$implicit;l.R7$(1),l.Y8G("innerHTML",ge.name,l.npT),l.R7$(1),l.Y8G("innerHTML",ge.description,l.npT)}}let Ue=(()=>{class fe{constructor(ge,De){this.webContent=ge,this.route=De}ngOnInit(){this.route.queryParams.subscribe(ge=>{this.webContent.getBusinessData(ge.id).subscribe(pe=>{pe&&(this.business=pe)})})}static#e=this.\u0275fac=function(De){return new(De||fe)(l.rXU(le.N),l.rXU(g.nX))};static#t=this.\u0275cmp=l.VBU({type:fe,selectors:[["app-features"]],decls:11,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"features-section"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(De,pe){1&De&&(l.j41(0,"section",0)(1,"div",1)(2,"span",2),l.EFF(3,"Our Unique "),l.k0s(),l.j41(4,"span",3),l.EFF(5," Features"),l.k0s()(),l.j41(6,"p",4),l.EFF(7," What sets us appart. "),l.k0s(),l.j41(8,"div",5)(9,"div",6),l.DNE(10,Ke,3,2,"div",7),l.k0s()()()),2&De&&(l.R7$(10),l.Y8G("ngForOf",null==pe.business?null:pe.business.uniqueService))},dependencies:[ye.Sq],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.service-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return fe})();function Je(fe,ue){if(1&fe&&(l.j41(0,"div",7)(1,"h3"),l.nrm(2,"div",8),l.k0s(),l.nrm(3,"div",9),l.k0s()),2&fe){const ge=ue.$implicit;l.R7$(2),l.Y8G("innerHTML",ge.name,l.npT),l.R7$(1),l.Y8G("innerHTML",ge.description,l.npT)}}const ze=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},Xe=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},St=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},jt=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},zn=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Mt=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"ll the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},Vt=function(fe,ue,ge,De,pe,Te){return[fe,ue,ge,De,pe,Te]};let Ze=(()=>{class fe{constructor(ge,De,pe){this.webContent=ge,this.route=De,this.metaService=pe,this.business={businessName:"",businessURL:"",providerName:"",keyWords:"",tagline:"",uniqueService:[],whyChoose:[],businessStory:"",motivation:"",mission:"",vision:"",certifications:"",services:[],specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:[],address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",benefits:[],contactFormDetails:"",mapIframeUrl:"",photoGalleryText:"",employees:[],id:"",faqs:"",blogNews:"",isActive:!1}}ngOnInit(){this.route.queryParams.subscribe(ge=>{let De=ge.id;this.metaService.getMetaData(De).subscribe(pe=>{this.metaService.updateMetaTags(pe)}),this.webContent.getBusinessData(De).subscribe(pe=>{pe&&(this.business=pe)})})}static#e=this.\u0275fac=function(De){return new(De||fe)(l.rXU(le.N),l.rXU(g.nX),l.rXU(Ae.R))};static#t=this.\u0275cmp=l.VBU({type:fe,selectors:[["app-home"]],decls:11,vars:19,consts:[[3,"welcomeMsg","keyServicesHighlights","businessName"],[3,"services"],[1,"features-section"],[1,"section-heading"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[3,"testimonials"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(De,pe){1&De&&(l.nrm(0,"app-hero-carousel")(1,"app-welcome",0)(2,"app-our-services-home",1),l.j41(3,"div",2)(4,"div",3),l.EFF(5,"Why Choose Us"),l.k0s(),l.j41(6,"div",4),l.DNE(7,Je,4,2,"div",5),l.k0s()(),l.nrm(8,"app-features")(9,"app-testimonials",6)(10,"app-consultation")),2&De&&(l.R7$(1),l.Y8G("welcomeMsg",pe.business.welcomeMessage)("keyServicesHighlights",pe.business.keyServicesHighlights)("businessName",pe.business.businessName),l.R7$(1),l.Y8G("services",l.l4e(12,Vt,l.lJ4(6,ze),l.lJ4(7,Xe),l.lJ4(8,St),l.lJ4(9,jt),l.lJ4(10,zn),l.lJ4(11,Mt))),l.R7$(5),l.Y8G("ngForOf",pe.business.whyChoose),l.R7$(2),l.Y8G("testimonials",pe.business.testimonials))},dependencies:[ye.Sq,ut,It,kt,bt,Xt,Ue],styles:[".container[_ngcontent-%COMP%]{padding:40px 20px}.intro-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;max-width:1200px;margin:0 auto;padding:40px 20px;text-align:left;min-height:400px}.left[_ngcontent-%COMP%]{flex:1;margin-right:20px}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:400;margin:0}.right[_ngcontent-%COMP%]{flex:1;margin-left:20px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.6;margin:0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{margin:0;text-align:center}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1024px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;background-color:var(--background-color);text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return fe})()},214:(Zt,Qe,B)=>{B.d(Qe,{W:()=>le});var l=B(7705);let le=(()=>{class g{constructor(){this.closeModal=new l.bkB}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(Se){return new(Se||g)};static#t=this.\u0275cmp=l.VBU({type:g,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Se,Ve){1&Se&&(l.j41(0,"div",0),l.bIt("click",function(){return Ve.close()}),l.j41(1,"div",1),l.bIt("click",function(Be){return Be.stopPropagation()}),l.j41(2,"button",2),l.bIt("click",function(){return Ve.close()}),l.EFF(3,"Close"),l.k0s(),l.nrm(4,"img",3),l.k0s()()),2&Se&&(l.R7$(4),l.Y8G("src",Ve.imageUrl,l.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return g})()},4796:(Zt,Qe,B)=>{B.d(Qe,{u:()=>ye});var l=B(6354),le=B(7705),g=B(1977),Ae=B(6814);let ye=(()=>{class Se{constructor(Fe,Be){this.afAuth=Fe,this.router=Be,this.user$=Fe.authState}login(Fe,Be){return this.afAuth.signInWithEmailAndPassword(Fe,Be)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,l.T)(Fe=>!!Fe))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(Be){return new(Be||Se)(le.KVO(g.DS),le.KVO(Ae.Ix))};static#t=this.\u0275prov=le.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},6861:(Zt,Qe,B)=>{B.d(Qe,{R:()=>ye});var l=B(6354),le=B(7705),g=B(345),Ae=B(6340);let ye=(()=>{class Se{constructor(Fe,Be,ae){this.meta=Fe,this.title=Be,this.firestore=ae,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}updateMetaTags(Fe){this.title.setTitle(Fe.title),this.meta.updateTag({name:"description",content:Fe.description}),this.meta.updateTag({name:"keywords",content:Fe.keywords}),this.meta.updateTag({property:"og:title",content:Fe.title}),this.meta.updateTag({property:"og:description",content:Fe.description})}getMetaData(Fe){return(null==Fe||""==Fe||""===Fe)&&(Fe=this.defaultBusinessId),this.firestore.collection("businesses").doc(Fe).valueChanges().pipe((0,l.T)(Be=>Be?{title:Be.metaTitle||"Adult Family Home",description:Be.metaDescription||"Best Adult Family home in Washington State",keywords:Be.metaKeywords||"default, keywords"}:{title:"No Metadata Title",description:"No Default Description",keywords:"default, keywords"}))}static#e=this.\u0275fac=function(Be){return new(Be||Se)(le.KVO(g.W8),le.KVO(g.hE),le.KVO(Ae.Qe))};static#t=this.\u0275prov=le.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},5009:(Zt,Qe,B)=>{B.d(Qe,{F:()=>Be});var l=B(8810),le=B(8455),g=B(7673),Ae=B(6697),ye=B(5558),Se=B(9437),Ve=B(7705),Fe=B(6340);let Be=(()=>{class ae{constructor(Re){this.firestore=Re,this.defaultTheme={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}getThemeColors(Re){console.log("Fetching theme for business ID:",Re);const ut=this.firestore.collection("businesses").doc(Re),We=ut.collection("theme").doc("themeDoc");return ut.snapshotChanges().pipe((0,Ae.s)(1),(0,ye.n)(It=>It.payload.exists?We.get().pipe((0,ye.n)(gt=>gt.exists?We.valueChanges():(0,le.H)(We.set(this.defaultTheme)).pipe((0,ye.n)(()=>(console.log("Created new theme for business with default values."),We.valueChanges()))))):(console.error("Business document does not exist"),(0,l.$)("Business document does not exist"))),(0,Se.W)(It=>(console.error("Error fetching theme:",It),(0,g.of)(this.defaultTheme))))}updateColors(Re,ut){const We=this.firestore.collection("businesses").doc(Re).collection("theme").doc("themeDoc");return console.log("BusinessId: "+Re+" theme service updateColors: ",ut),We.set(ut,{merge:!0}).then(()=>{console.log("Colors updated successfully")}).catch(It=>{throw console.error("Error updating colors:",It),new Error(It)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}static#e=this.\u0275fac=function(ut){return new(ut||ae)(Ve.KVO(Fe.Qe))};static#t=this.\u0275prov=Ve.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},8704:(Zt,Qe,B)=>{B.d(Qe,{N:()=>Ve});var l=B(6354),le=B(9437),g=B(7673),Ae=B(7705),ye=B(6340),Se=B(8721);let Ve=(()=>{class Fe{constructor(ae,de){this.firestore=ae,this.storage=de,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(ae){const de=ae&&ae.trim()?ae:this.defaultBusinessId;return this.firestore.collection("businesses").doc(de).snapshotChanges().pipe((0,l.T)(Re=>{const ut=Re.payload.data(),We=Re.payload.id;if(ut){const{id:It,testimonials:gt=[],...kt}=ut;return{id:We,testimonials:gt.map(Xt=>({...Xt,photoURL:Xt.photoURL&&Xt.photoURL.trim()?Xt.photoURL:this.defaultImage})),...kt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ae){return this.storage.ref(ae).getDownloadURL().pipe((0,le.W)(de=>(console.error("Error fetching photo URL:",de),(0,g.of)(""))))}getEmployeesByBusinessId(ae){return(null==ae||""==ae||""===ae)&&(ae=this.defaultBusinessId),this.firestore.collection("businesses").doc(ae).get().pipe((0,l.T)(de=>{if(de.exists){const Re=de.data();return Re&&Re.employees?Re.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,le.W)(de=>(console.error("Error fetching employees:",de),(0,g.of)([]))))}getBusinessGalleryImagesById(ae){return(null==ae||""==ae||""===ae)&&(ae=this.defaultBusinessId),this.firestore.collection("businesses").doc(ae).collection("gallery").valueChanges()}getBusinessUploadedImagesById(ae,de){return(null==ae||""==ae||""===ae)&&(ae=this.defaultBusinessId),this.firestore.collection("businesses").doc(ae).collection(de).valueChanges()}checkImageExists(ae){return this.storage.refFromURL(ae).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static#e=this.\u0275fac=function(de){return new(de||Fe)(Ae.KVO(ye.Qe),Ae.KVO(Se.ap))};static#t=this.\u0275prov=Ae.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},4520:(Zt,Qe,B)=>{var l={};B.r(l),B.d(l,{afterMain:()=>Ni,afterRead:()=>Rr,afterWrite:()=>Ci,applyStyles:()=>Fn,arrow:()=>ve,auto:()=>dr,basePlacements:()=>ys,beforeMain:()=>Bs,beforeRead:()=>Qs,beforeWrite:()=>Zi,bottom:()=>Gn,clippingParents:()=>ai,computeStyles:()=>Dt,createPopper:()=>Po,createPopperBase:()=>nc,createPopperLite:()=>Ta,detectOverflow:()=>Cs,end:()=>vs,eventListeners:()=>En,flip:()=>Ao,hide:()=>Go,left:()=>li,main:()=>Wi,modifierPhases:()=>ca,offset:()=>X,placements:()=>rr,popper:()=>Ui,popperGenerator:()=>Oi,popperOffsets:()=>ie,preventOverflow:()=>Nn,read:()=>Pr,reference:()=>_i,right:()=>Mr,start:()=>ri,top:()=>Wn,variationPlacements:()=>Si,viewport:()=>Ho,write:()=>zo});var le=B(345),g=B(7705),Ae=B(7673),ye=B(8455),Se=B(1985),Ve=B(274),Fe=B(5964),Be=B(6354),ae=B(980),de=B(5558),Re=B(177);class ut{}class We{}class It{constructor(d){this.normalizedNames=new Map,this.lazyUpdate=null,d?"string"==typeof d?this.lazyInit=()=>{this.headers=new Map,d.split("\n").forEach(m=>{const P=m.indexOf(":");if(P>0){const L=m.slice(0,P),K=L.toLowerCase(),Pe=m.slice(P+1).trim();this.maybeSetNormalizedName(L,K),this.headers.has(K)?this.headers.get(K).push(Pe):this.headers.set(K,[Pe])}})}:typeof Headers<"u"&&d instanceof Headers?(this.headers=new Map,d.forEach((m,P)=>{this.setHeaderEntries(P,m)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(d).forEach(([m,P])=>{this.setHeaderEntries(m,P)})}:this.headers=new Map}has(d){return this.init(),this.headers.has(d.toLowerCase())}get(d){this.init();const m=this.headers.get(d.toLowerCase());return m&&m.length>0?m[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(d){return this.init(),this.headers.get(d.toLowerCase())||null}append(d,m){return this.clone({name:d,value:m,op:"a"})}set(d,m){return this.clone({name:d,value:m,op:"s"})}delete(d,m){return this.clone({name:d,value:m,op:"d"})}maybeSetNormalizedName(d,m){this.normalizedNames.has(m)||this.normalizedNames.set(m,d)}init(){this.lazyInit&&(this.lazyInit instanceof It?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(d=>this.applyUpdate(d)),this.lazyUpdate=null))}copyFrom(d){d.init(),Array.from(d.headers.keys()).forEach(m=>{this.headers.set(m,d.headers.get(m)),this.normalizedNames.set(m,d.normalizedNames.get(m))})}clone(d){const m=new It;return m.lazyInit=this.lazyInit&&this.lazyInit instanceof It?this.lazyInit:this,m.lazyUpdate=(this.lazyUpdate||[]).concat([d]),m}applyUpdate(d){const m=d.name.toLowerCase();switch(d.op){case"a":case"s":let P=d.value;if("string"==typeof P&&(P=[P]),0===P.length)return;this.maybeSetNormalizedName(d.name,m);const L=("a"===d.op?this.headers.get(m):void 0)||[];L.push(...P),this.headers.set(m,L);break;case"d":const K=d.value;if(K){let Pe=this.headers.get(m);if(!Pe)return;Pe=Pe.filter(dt=>-1===K.indexOf(dt)),0===Pe.length?(this.headers.delete(m),this.normalizedNames.delete(m)):this.headers.set(m,Pe)}else this.headers.delete(m),this.normalizedNames.delete(m)}}setHeaderEntries(d,m){const P=(Array.isArray(m)?m:[m]).map(K=>K.toString()),L=d.toLowerCase();this.headers.set(L,P),this.maybeSetNormalizedName(d,L)}forEach(d){this.init(),Array.from(this.normalizedNames.keys()).forEach(m=>d(this.normalizedNames.get(m),this.headers.get(m)))}}class kt{encodeKey(d){return Ue(d)}encodeValue(d){return Ue(d)}decodeKey(d){return decodeURIComponent(d)}decodeValue(d){return decodeURIComponent(d)}}const Xt=/%(\d[a-f0-9])/gi,Ke={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ue(v){return encodeURIComponent(v).replace(Xt,(d,m)=>Ke[m]??d)}function Je(v){return`${v}`}class ze{constructor(d={}){if(this.updates=null,this.cloneFrom=null,this.encoder=d.encoder||new kt,d.fromString){if(d.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bt(v,d){const m=new Map;return v.length>0&&v.replace(/^\?/,"").split("&").forEach(L=>{const K=L.indexOf("="),[Pe,dt]=-1==K?[d.decodeKey(L),""]:[d.decodeKey(L.slice(0,K)),d.decodeValue(L.slice(K+1))],lt=m.get(Pe)||[];lt.push(dt),m.set(Pe,lt)}),m}(d.fromString,this.encoder)}else d.fromObject?(this.map=new Map,Object.keys(d.fromObject).forEach(m=>{const P=d.fromObject[m],L=Array.isArray(P)?P.map(Je):[Je(P)];this.map.set(m,L)})):this.map=null}has(d){return this.init(),this.map.has(d)}get(d){this.init();const m=this.map.get(d);return m?m[0]:null}getAll(d){return this.init(),this.map.get(d)||null}keys(){return this.init(),Array.from(this.map.keys())}append(d,m){return this.clone({param:d,value:m,op:"a"})}appendAll(d){const m=[];return Object.keys(d).forEach(P=>{const L=d[P];Array.isArray(L)?L.forEach(K=>{m.push({param:P,value:K,op:"a"})}):m.push({param:P,value:L,op:"a"})}),this.clone(m)}set(d,m){return this.clone({param:d,value:m,op:"s"})}delete(d,m){return this.clone({param:d,value:m,op:"d"})}toString(){return this.init(),this.keys().map(d=>{const m=this.encoder.encodeKey(d);return this.map.get(d).map(P=>m+"="+this.encoder.encodeValue(P)).join("&")}).filter(d=>""!==d).join("&")}clone(d){const m=new ze({encoder:this.encoder});return m.cloneFrom=this.cloneFrom||this,m.updates=(this.updates||[]).concat(d),m}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(d=>this.map.set(d,this.cloneFrom.map.get(d))),this.updates.forEach(d=>{switch(d.op){case"a":case"s":const m=("a"===d.op?this.map.get(d.param):void 0)||[];m.push(Je(d.value)),this.map.set(d.param,m);break;case"d":if(void 0===d.value){this.map.delete(d.param);break}{let P=this.map.get(d.param)||[];const L=P.indexOf(Je(d.value));-1!==L&&P.splice(L,1),P.length>0?this.map.set(d.param,P):this.map.delete(d.param)}}}),this.cloneFrom=this.updates=null)}}class mt{constructor(){this.map=new Map}set(d,m){return this.map.set(d,m),this}get(d){return this.map.has(d)||this.map.set(d,d.defaultValue()),this.map.get(d)}delete(d){return this.map.delete(d),this}has(d){return this.map.has(d)}keys(){return this.map.keys()}}function Ie(v){return typeof ArrayBuffer<"u"&&v instanceof ArrayBuffer}function jt(v){return typeof Blob<"u"&&v instanceof Blob}function en(v){return typeof FormData<"u"&&v instanceof FormData}class Et{constructor(d,m,P,L){let K;if(this.url=m,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=d.toUpperCase(),function St(v){switch(v){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||L?(this.body=void 0!==P?P:null,K=L):K=P,K&&(this.reportProgress=!!K.reportProgress,this.withCredentials=!!K.withCredentials,K.responseType&&(this.responseType=K.responseType),K.headers&&(this.headers=K.headers),K.context&&(this.context=K.context),K.params&&(this.params=K.params)),this.headers||(this.headers=new It),this.context||(this.context=new mt),this.params){const Pe=this.params.toString();if(0===Pe.length)this.urlWithParams=m;else{const dt=m.indexOf("?");this.urlWithParams=m+(-1===dt?"?":dt<m.length-1?"&":"")+Pe}}else this.params=new ze,this.urlWithParams=m}serializeBody(){return null===this.body?null:Ie(this.body)||jt(this.body)||en(this.body)||function zn(v){return typeof URLSearchParams<"u"&&v instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||en(this.body)?null:jt(this.body)?this.body.type||null:Ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(d={}){const m=d.method||this.method,P=d.url||this.url,L=d.responseType||this.responseType,K=void 0!==d.body?d.body:this.body,Pe=void 0!==d.withCredentials?d.withCredentials:this.withCredentials,dt=void 0!==d.reportProgress?d.reportProgress:this.reportProgress;let lt=d.headers||this.headers,dn=d.params||this.params;const zt=d.context??this.context;return void 0!==d.setHeaders&&(lt=Object.keys(d.setHeaders).reduce((qn,Qn)=>qn.set(Qn,d.setHeaders[Qn]),lt)),d.setParams&&(dn=Object.keys(d.setParams).reduce((qn,Qn)=>qn.set(Qn,d.setParams[Qn]),dn)),new Et(m,P,K,{params:dn,headers:lt,context:zt,reportProgress:dt,responseType:L,withCredentials:Pe})}}var Mt=function(v){return v[v.Sent=0]="Sent",v[v.UploadProgress=1]="UploadProgress",v[v.ResponseHeader=2]="ResponseHeader",v[v.DownloadProgress=3]="DownloadProgress",v[v.Response=4]="Response",v[v.User=5]="User",v}(Mt||{});class Vt{constructor(d,m=200,P="OK"){this.headers=d.headers||new It,this.status=void 0!==d.status?d.status:m,this.statusText=d.statusText||P,this.url=d.url||null,this.ok=this.status>=200&&this.status<300}}class Ze extends Vt{constructor(d={}){super(d),this.type=Mt.ResponseHeader}clone(d={}){return new Ze({headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class fe extends Vt{constructor(d={}){super(d),this.type=Mt.Response,this.body=void 0!==d.body?d.body:null}clone(d={}){return new fe({body:void 0!==d.body?d.body:this.body,headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class ue extends Vt{constructor(d){super(d,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${d.url||"(unknown url)"}`:`Http failure response for ${d.url||"(unknown url)"}: ${d.status} ${d.statusText}`,this.error=d.error||null}}function ge(v,d){return{body:d,headers:v.headers,context:v.context,observe:v.observe,params:v.params,reportProgress:v.reportProgress,responseType:v.responseType,withCredentials:v.withCredentials}}let De=(()=>{class v{constructor(m){this.handler=m}request(m,P,L={}){let K;if(m instanceof Et)K=m;else{let lt,dn;lt=L.headers instanceof It?L.headers:new It(L.headers),L.params&&(dn=L.params instanceof ze?L.params:new ze({fromObject:L.params})),K=new Et(m,P,void 0!==L.body?L.body:null,{headers:lt,context:L.context,params:dn,reportProgress:L.reportProgress,responseType:L.responseType||"json",withCredentials:L.withCredentials})}const Pe=(0,Ae.of)(K).pipe((0,Ve.H)(lt=>this.handler.handle(lt)));if(m instanceof Et||"events"===L.observe)return Pe;const dt=Pe.pipe((0,Fe.p)(lt=>lt instanceof fe));switch(L.observe||"body"){case"body":switch(K.responseType){case"arraybuffer":return dt.pipe((0,Be.T)(lt=>{if(null!==lt.body&&!(lt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return lt.body}));case"blob":return dt.pipe((0,Be.T)(lt=>{if(null!==lt.body&&!(lt.body instanceof Blob))throw new Error("Response is not a Blob.");return lt.body}));case"text":return dt.pipe((0,Be.T)(lt=>{if(null!==lt.body&&"string"!=typeof lt.body)throw new Error("Response is not a string.");return lt.body}));default:return dt.pipe((0,Be.T)(lt=>lt.body))}case"response":return dt;default:throw new Error(`Unreachable: unhandled observe type ${L.observe}}`)}}delete(m,P={}){return this.request("DELETE",m,P)}get(m,P={}){return this.request("GET",m,P)}head(m,P={}){return this.request("HEAD",m,P)}jsonp(m,P){return this.request("JSONP",m,{params:(new ze).append(P,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(m,P={}){return this.request("OPTIONS",m,P)}patch(m,P,L={}){return this.request("PATCH",m,ge(L,P))}post(m,P,L={}){return this.request("POST",m,ge(L,P))}put(m,P,L={}){return this.request("PUT",m,ge(L,P))}static#e=this.\u0275fac=function(P){return new(P||v)(g.KVO(ut))};static#t=this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac})}return v})();function Pn(v,d){return d(v)}function gn(v,d){return(m,P)=>d.intercept(m,{handle:L=>v(L,P)})}const Ft=new g.nKC(""),_n=new g.nKC(""),On=new g.nKC("");function Lt(){let v=null;return(d,m)=>{null===v&&(v=((0,g.WQX)(Ft,{optional:!0})??[]).reduceRight(gn,Pn));const P=(0,g.WQX)(g.$K3),L=P.add();return v(d,m).pipe((0,ae.j)(()=>P.remove(L)))}}let Pt=(()=>{class v extends ut{constructor(m,P){super(),this.backend=m,this.injector=P,this.chain=null,this.pendingTasks=(0,g.WQX)(g.$K3)}handle(m){if(null===this.chain){const L=Array.from(new Set([...this.injector.get(_n),...this.injector.get(On,[])]));this.chain=L.reduceRight((K,Pe)=>function ar(v,d,m){return(P,L)=>m.runInContext(()=>d(P,K=>v(K,L)))}(K,Pe,this.injector),Pn)}const P=this.pendingTasks.add();return this.chain(m,L=>this.backend.handle(L)).pipe((0,ae.j)(()=>this.pendingTasks.remove(P)))}static#e=this.\u0275fac=function(P){return new(P||v)(g.KVO(We),g.KVO(g.uvJ))};static#t=this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac})}return v})();const xn=/^\)\]\}',?\n/;let Ji=(()=>{class v{constructor(m){this.xhrFactory=m}handle(m){if("JSONP"===m.method)throw new g.wOt(-2800,!1);const P=this.xhrFactory;return(P.\u0275loadImpl?(0,ye.H)(P.\u0275loadImpl()):(0,Ae.of)(null)).pipe((0,de.n)(()=>new Se.c(K=>{const Pe=P.build();if(Pe.open(m.method,m.urlWithParams),m.withCredentials&&(Pe.withCredentials=!0),m.headers.forEach((pn,Xn)=>Pe.setRequestHeader(pn,Xn.join(","))),m.headers.has("Accept")||Pe.setRequestHeader("Accept","application/json, text/plain, */*"),!m.headers.has("Content-Type")){const pn=m.detectContentTypeHeader();null!==pn&&Pe.setRequestHeader("Content-Type",pn)}if(m.responseType){const pn=m.responseType.toLowerCase();Pe.responseType="json"!==pn?pn:"text"}const dt=m.serializeBody();let lt=null;const dn=()=>{if(null!==lt)return lt;const pn=Pe.statusText||"OK",Xn=new It(Pe.getAllResponseHeaders()),Qr=function ei(v){return"responseURL"in v&&v.responseURL?v.responseURL:/^X-Request-URL:/m.test(v.getAllResponseHeaders())?v.getResponseHeader("X-Request-URL"):null}(Pe)||m.url;return lt=new Ze({headers:Xn,status:Pe.status,statusText:pn,url:Qr}),lt},zt=()=>{let{headers:pn,status:Xn,statusText:Qr,url:Xi}=dn(),Nr=null;204!==Xn&&(Nr=typeof Pe.response>"u"?Pe.responseText:Pe.response),0===Xn&&(Xn=Nr?200:0);let Ar=Xn>=200&&Xn<300;if("json"===m.responseType&&"string"==typeof Nr){const Ei=Nr;Nr=Nr.replace(xn,"");try{Nr=""!==Nr?JSON.parse(Nr):null}catch(oi){Nr=Ei,Ar&&(Ar=!1,Nr={error:oi,text:Nr})}}Ar?(K.next(new fe({body:Nr,headers:pn,status:Xn,statusText:Qr,url:Xi||void 0})),K.complete()):K.error(new ue({error:Nr,headers:pn,status:Xn,statusText:Qr,url:Xi||void 0}))},qn=pn=>{const{url:Xn}=dn(),Qr=new ue({error:pn,status:Pe.status||0,statusText:Pe.statusText||"Unknown Error",url:Xn||void 0});K.error(Qr)};let Qn=!1;const or=pn=>{Qn||(K.next(dn()),Qn=!0);let Xn={type:Mt.DownloadProgress,loaded:pn.loaded};pn.lengthComputable&&(Xn.total=pn.total),"text"===m.responseType&&Pe.responseText&&(Xn.partialText=Pe.responseText),K.next(Xn)},zr=pn=>{let Xn={type:Mt.UploadProgress,loaded:pn.loaded};pn.lengthComputable&&(Xn.total=pn.total),K.next(Xn)};return Pe.addEventListener("load",zt),Pe.addEventListener("error",qn),Pe.addEventListener("timeout",qn),Pe.addEventListener("abort",qn),m.reportProgress&&(Pe.addEventListener("progress",or),null!==dt&&Pe.upload&&Pe.upload.addEventListener("progress",zr)),Pe.send(dt),K.next({type:Mt.Sent}),()=>{Pe.removeEventListener("error",qn),Pe.removeEventListener("abort",qn),Pe.removeEventListener("load",zt),Pe.removeEventListener("timeout",qn),m.reportProgress&&(Pe.removeEventListener("progress",or),null!==dt&&Pe.upload&&Pe.upload.removeEventListener("progress",zr)),Pe.readyState!==Pe.DONE&&Pe.abort()}})))}static#e=this.\u0275fac=function(P){return new(P||v)(g.KVO(Re.N0))};static#t=this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac})}return v})();const Yt=new g.nKC("XSRF_ENABLED"),jn=new g.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dn=new g.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mi{}let je=(()=>{class v{constructor(m,P,L){this.doc=m,this.platform=P,this.cookieName=L,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const m=this.doc.cookie||"";return m!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Re._b)(m,this.cookieName),this.lastCookieString=m),this.lastToken}static#e=this.\u0275fac=function(P){return new(P||v)(g.KVO(Re.qQ),g.KVO(g.Agw),g.KVO(jn))};static#t=this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac})}return v})();function ct(v,d){const m=v.url.toLowerCase();if(!(0,g.WQX)(Yt)||"GET"===v.method||"HEAD"===v.method||m.startsWith("http://")||m.startsWith("https://"))return d(v);const P=(0,g.WQX)(mi).getToken(),L=(0,g.WQX)(Dn);return null!=P&&!v.headers.has(L)&&(v=v.clone({headers:v.headers.set(L,P)})),d(v)}var be=function(v){return v[v.Interceptors=0]="Interceptors",v[v.LegacyInterceptors=1]="LegacyInterceptors",v[v.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",v[v.NoXsrfProtection=3]="NoXsrfProtection",v[v.JsonpSupport=4]="JsonpSupport",v[v.RequestsMadeViaParent=5]="RequestsMadeViaParent",v[v.Fetch=6]="Fetch",v}(be||{});function Ut(...v){const d=[De,Ji,Pt,{provide:ut,useExisting:Pt},{provide:We,useExisting:Ji},{provide:_n,useValue:ct,multi:!0},{provide:Yt,useValue:!0},{provide:mi,useClass:je}];for(const m of v)d.push(...m.\u0275providers);return(0,g.EmA)(d)}const Sr=new g.nKC("LEGACY_INTERCEPTOR_FN");function nr(){return function st(v,d){return{\u0275kind:v,\u0275providers:d}}(be.LegacyInterceptors,[{provide:Sr,useFactory:Lt},{provide:_n,useExisting:Sr,multi:!0}])}let Ne=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275mod=g.$C({type:v});static#n=this.\u0275inj=g.G2t({providers:[Ut(nr())]})}return v})();var kr=B(6814),Us=B(9616),Xr=B(8704),zi=B(6861),ls=B(9437);function ni(v,d){if(1&v&&(g.j41(0,"div",4),g.nrm(1,"img",5),g.j41(2,"h3"),g.EFF(3),g.k0s(),g.j41(4,"h4"),g.EFF(5),g.k0s(),g.j41(6,"p"),g.EFF(7),g.k0s()()),2&v){const m=d.$implicit;g.R7$(1),g.FS9("alt",m.name),g.Y8G("src",m.photoURL,g.B4B),g.R7$(2),g.JRh(m.name),g.R7$(2),g.JRh(m.role),g.R7$(2),g.JRh(m.bio)}}function Zn(v,d){if(1&v&&(g.j41(0,"div",1)(1,"h2"),g.EFF(2,"Meet the Team"),g.k0s(),g.j41(3,"div",2),g.DNE(4,ni,8,5,"div",3),g.nI1(5,"async"),g.k0s()()),2&v){const m=g.XpG();g.R7$(4),g.Y8G("ngForOf",g.bMT(5,1,m.employees$))}}let rt=(()=>{class v{constructor(m,P){this.route=m,this.employeeService=P}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Be.T)(m=>m.get("id")||""),(0,de.n)(m=>this.employeeService.getEmployeesByBusinessId(m)),(0,ls.W)(m=>(console.error("Error fetching employees:",m),(0,Ae.of)([]))))}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(kr.nX),g.rXU(Xr.N))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(P,L){1&P&&g.DNE(0,Zn,6,3,"div",0),2&P&&g.Y8G("ngIf",L.employees$)},dependencies:[Re.Sq,Re.bT,Re.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return v})();function qe(v,d){if(1&v){const m=g.RV6();g.j41(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),g.EFF(4,"About Us"),g.k0s(),g.j41(5,"div",3)(6,"p"),g.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),g.k0s()()()(),g.j41(8,"div",4)(9,"section",5)(10,"div",6)(11,"h2",7),g.EFF(12,"Our Story"),g.k0s()(),g.nrm(13,"div",8),g.k0s(),g.j41(14,"section",9)(15,"div",10),g.nrm(16,"img",11),g.j41(17,"div",6)(18,"h2",7),g.EFF(19,"Our Mission"),g.k0s()(),g.nrm(20,"div",8),g.k0s(),g.j41(21,"div",12),g.nrm(22,"img",11),g.j41(23,"div",6)(24,"h2",7),g.EFF(25,"Our Vision"),g.k0s()(),g.nrm(26,"div",8),g.k0s()(),g.j41(27,"section",13),g.nrm(28,"app-meet-the-team",14),g.k0s()(),g.j41(29,"div",15)(30,"div",16)(31,"h2"),g.EFF(32,"Come Meet Our Family"),g.k0s(),g.j41(33,"p"),g.EFF(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),g.k0s(),g.j41(35,"button",17),g.bIt("click",function(){g.eBV(m);const L=g.XpG();return g.Njj(L.navigateToContact(L.business.id))}),g.EFF(36,"Schedule a Visit"),g.k0s()()()()}if(2&v){const m=g.XpG();g.R7$(13),g.Y8G("innerHTML",m.business.businessStory,g.npT),g.R7$(3),g.Y8G("src",m.business.lifestyleImages,g.B4B),g.R7$(4),g.Y8G("innerHTML",m.business.mission,g.npT),g.R7$(2),g.Y8G("src",m.business.facilityImages,g.B4B),g.R7$(4),g.Y8G("innerHTML",m.business.vision,g.npT),g.R7$(2),g.Y8G("businessId",m.business.id)}}let yt=(()=>{class v{constructor(m,P,L,K){this.webContent=m,this.route=P,this.router=L,this.metaService=K}navigateToContact(m){this.router.navigate(["/contact-us"],{queryParams:{id:m}})}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id}),this.metaService.getMetaData(this.businessId).subscribe(m=>{this.metaService.updateMetaTags(m)}),this.webContent.getBusinessData(this.businessId).subscribe(m=>{m&&(this.business=m)})}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(Xr.N),g.rXU(kr.nX),g.rXU(kr.Ix),g.rXU(zi.R))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],[3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(P,L){1&P&&g.DNE(0,qe,37,6,"div",0),2&P&&g.Y8G("ngIf",L.business)},dependencies:[Re.bT,rt],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return v})();function tn(v,d){if(1&v&&(g.j41(0,"li")(1,"h3"),g.EFF(2),g.k0s()()),2&v){const m=d.$implicit;g.R7$(2),g.JRh(m.name)}}function bn(v,d){if(1&v&&(g.j41(0,"li")(1,"h3"),g.EFF(2),g.k0s()()),2&v){const m=d.$implicit;g.R7$(2),g.JRh(m.name)}}function Mn(v,d){if(1&v){const m=g.RV6();g.j41(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),g.EFF(4,"Our Services"),g.k0s(),g.j41(5,"div",3)(6,"p"),g.EFF(7,"Providing exceptional care tailored to your needs"),g.k0s()()()(),g.j41(8,"div",4)(9,"section",5),g.nrm(10,"img",6),g.j41(11,"h2"),g.EFF(12,"Our Comprehensive Services"),g.k0s(),g.j41(13,"ul"),g.DNE(14,tn,3,1,"li",7),g.k0s()(),g.j41(15,"section",5),g.nrm(16,"img",6),g.j41(17,"h2"),g.EFF(18,"Our Benefits"),g.k0s(),g.j41(19,"ul"),g.DNE(20,bn,3,1,"li",7),g.k0s()(),g.j41(21,"section",8)(22,"h2"),g.EFF(23,"Special Programs"),g.k0s(),g.j41(24,"h3"),g.EFF(25),g.k0s()(),g.j41(26,"section",9)(27,"div",10),g.nrm(28,"img",11),g.j41(29,"div",12)(30,"h2",13),g.EFF(31,"Tours"),g.k0s()(),g.nrm(32,"div",14),g.k0s(),g.j41(33,"div",15),g.nrm(34,"img",16),g.j41(35,"div",12)(36,"h2",13),g.EFF(37,"Free Consulting"),g.k0s()(),g.nrm(38,"div",14),g.k0s()()(),g.j41(39,"div",17)(40,"div",18)(41,"h2"),g.EFF(42,"Ready to Experience Exceptional Care?"),g.k0s(),g.j41(43,"p"),g.EFF(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),g.k0s(),g.j41(45,"button",19),g.bIt("click",function(){g.eBV(m);const L=g.XpG();return g.Njj(L.navigateToContact(L.business.id))}),g.EFF(46,"Book a Consultation"),g.k0s()()()()}if(2&v){const m=g.XpG();g.R7$(14),g.Y8G("ngForOf",m.business.services),g.R7$(6),g.Y8G("ngForOf",m.business.benefits),g.R7$(5),g.JRh(m.business.specialPrograms),g.R7$(7),g.Y8G("innerHTML",m.business.tours,g.npT),g.R7$(6),g.Y8G("innerHTML",m.business.freeConsulting,g.npT)}}let wn=(()=>{class v{constructor(m,P,L,K){this.webContent=m,this.route=P,this.router=L,this.metaService=K}navigateToContact(m){this.router.navigate(["/contact-us"],{queryParams:{id:m}})}ngOnInit(){this.route.queryParams.subscribe(m=>{let P=m.id;this.metaService.getMetaData(P).subscribe(L=>{this.metaService.updateMetaTags(L)}),this.webContent.getBusinessData(P).subscribe(L=>{L&&(this.business=L)})})}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(Xr.N),g.rXU(kr.nX),g.rXU(kr.Ix),g.rXU(zi.R))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(P,L){1&P&&g.DNE(0,Mn,47,5,"div",0),2&P&&g.Y8G("ngIf",L.business)},dependencies:[Re.Sq,Re.bT],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return v})();var Wn="top",Gn="bottom",Mr="right",li="left",dr="auto",ys=[Wn,Gn,Mr,li],ri="start",vs="end",ai="clippingParents",Ho="viewport",Ui="popper",_i="reference",Si=ys.reduce(function(v,d){return v.concat([d+"-"+ri,d+"-"+vs])},[]),rr=[].concat(ys,[dr]).reduce(function(v,d){return v.concat([d,d+"-"+ri,d+"-"+vs])},[]),Qs="beforeRead",Pr="read",Rr="afterRead",Bs="beforeMain",Wi="main",Ni="afterMain",Zi="beforeWrite",zo="write",Ci="afterWrite",ca=[Qs,Pr,Rr,Bs,Wi,Ni,Zi,zo,Ci];function bi(v){return v?(v.nodeName||"").toLowerCase():null}function hr(v){if(null==v)return window;if("[object Window]"!==v.toString()){var d=v.ownerDocument;return d&&d.defaultView||window}return v}function Ai(v){return v instanceof hr(v).Element||v instanceof Element}function Pi(v){return v instanceof hr(v).HTMLElement||v instanceof HTMLElement}function Xs(v){return!(typeof ShadowRoot>"u")&&(v instanceof hr(v).ShadowRoot||v instanceof ShadowRoot)}const Fn={name:"applyStyles",enabled:!0,phase:"write",fn:function ds(v){var d=v.state;Object.keys(d.elements).forEach(function(m){var P=d.styles[m]||{},L=d.attributes[m]||{},K=d.elements[m];!Pi(K)||!bi(K)||(Object.assign(K.style,P),Object.keys(L).forEach(function(Pe){var dt=L[Pe];!1===dt?K.removeAttribute(Pe):K.setAttribute(Pe,!0===dt?"":dt)}))})},effect:function wo(v){var d=v.state,m={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,m.popper),d.styles=m,d.elements.arrow&&Object.assign(d.elements.arrow.style,m.arrow),function(){Object.keys(d.elements).forEach(function(P){var L=d.elements[P],K=d.attributes[P]||{},dt=Object.keys(d.styles.hasOwnProperty(P)?d.styles[P]:m[P]).reduce(function(lt,dn){return lt[dn]="",lt},{});!Pi(L)||!bi(L)||(Object.assign(L.style,dt),Object.keys(K).forEach(function(lt){L.removeAttribute(lt)}))})}},requires:["computeStyles"]};function Er(v){return v.split("-")[0]}var Wr=Math.max,ki=Math.min,gr=Math.round;function Ss(){var v=navigator.userAgentData;return null!=v&&v.brands&&Array.isArray(v.brands)?v.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function es(){return!/^((?!chrome|android).)*safari/i.test(Ss())}function is(v,d,m){void 0===d&&(d=!1),void 0===m&&(m=!1);var P=v.getBoundingClientRect(),L=1,K=1;d&&Pi(v)&&(L=v.offsetWidth>0&&gr(P.width)/v.offsetWidth||1,K=v.offsetHeight>0&&gr(P.height)/v.offsetHeight||1);var dt=(Ai(v)?hr(v):window).visualViewport,lt=!es()&&m,dn=(P.left+(lt&&dt?dt.offsetLeft:0))/L,zt=(P.top+(lt&&dt?dt.offsetTop:0))/K,qn=P.width/L,Qn=P.height/K;return{width:qn,height:Qn,top:zt,right:dn+qn,bottom:zt+Qn,left:dn,x:dn,y:zt}}function Ri(v){var d=is(v),m=v.offsetWidth,P=v.offsetHeight;return Math.abs(d.width-m)<=1&&(m=d.width),Math.abs(d.height-P)<=1&&(P=d.height),{x:v.offsetLeft,y:v.offsetTop,width:m,height:P}}function ts(v,d){var m=d.getRootNode&&d.getRootNode();if(v.contains(d))return!0;if(m&&Xs(m)){var P=d;do{if(P&&v.isSameNode(P))return!0;P=P.parentNode||P.host}while(P)}return!1}function fr(v){return hr(v).getComputedStyle(v)}function Qt(v){return["table","td","th"].indexOf(bi(v))>=0}function Sn(v){return((Ai(v)?v.ownerDocument:v.document)||window.document).documentElement}function er(v){return"html"===bi(v)?v:v.assignedSlot||v.parentNode||(Xs(v)?v.host:null)||Sn(v)}function Mi(v){return Pi(v)&&"fixed"!==fr(v).position?v.offsetParent:null}function Gr(v){for(var d=hr(v),m=Mi(v);m&&Qt(m)&&"static"===fr(m).position;)m=Mi(m);return m&&("html"===bi(m)||"body"===bi(m)&&"static"===fr(m).position)?d:m||function Ys(v){var d=/firefox/i.test(Ss());if(/Trident/i.test(Ss())&&Pi(v)&&"fixed"===fr(v).position)return null;var L=er(v);for(Xs(L)&&(L=L.host);Pi(L)&&["html","body"].indexOf(bi(L))<0;){var K=fr(L);if("none"!==K.transform||"none"!==K.perspective||"paint"===K.contain||-1!==["transform","perspective"].indexOf(K.willChange)||d&&"filter"===K.willChange||d&&K.filter&&"none"!==K.filter)return L;L=L.parentNode}return null}(v)||d}function ss(v){return["top","bottom"].indexOf(v)>=0?"x":"y"}function br(v,d,m){return Wr(v,ki(d,m))}function Vn(v){return Object.assign({},{top:0,right:0,bottom:0,left:0},v)}function os(v,d){return d.reduce(function(m,P){return m[P]=v,m},{})}const ve={name:"arrow",enabled:!0,phase:"main",fn:function J(v){var d,m=v.state,P=v.name,L=v.options,K=m.elements.arrow,Pe=m.modifiersData.popperOffsets,dt=Er(m.placement),lt=ss(dt),zt=[li,Mr].indexOf(dt)>=0?"height":"width";if(K&&Pe){var qn=function(d,m){return Vn("number"!=typeof(d="function"==typeof d?d(Object.assign({},m.rects,{placement:m.placement})):d)?d:os(d,ys))}(L.padding,m),Qn=Ri(K),or="y"===lt?Wn:li,zr="y"===lt?Gn:Mr,pn=m.rects.reference[zt]+m.rects.reference[lt]-Pe[lt]-m.rects.popper[zt],Xn=Pe[lt]-m.rects.reference[lt],Qr=Gr(K),Xi=Qr?"y"===lt?Qr.clientHeight||0:Qr.clientWidth||0:0,oi=Xi/2-Qn[zt]/2+(pn/2-Xn/2),ji=br(qn[or],oi,Xi-Qn[zt]-qn[zr]);m.modifiersData[P]=((d={})[lt]=ji,d.centerOffset=ji-oi,d)}},effect:function G(v){var d=v.state,P=v.options.element,L=void 0===P?"[data-popper-arrow]":P;null!=L&&("string"==typeof L&&!(L=d.elements.popper.querySelector(L))||ts(d.elements.popper,L)&&(d.elements.arrow=L))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function we(v){return v.split("-")[1]}var He={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ht(v){var d,m=v.popper,P=v.popperRect,L=v.placement,K=v.variation,Pe=v.offsets,dt=v.position,lt=v.gpuAcceleration,dn=v.adaptive,zt=v.roundOffsets,qn=v.isFixed,Qn=Pe.x,or=void 0===Qn?0:Qn,zr=Pe.y,pn=void 0===zr?0:zr,Xn="function"==typeof zt?zt({x:or,y:pn}):{x:or,y:pn};or=Xn.x,pn=Xn.y;var Qr=Pe.hasOwnProperty("x"),Xi=Pe.hasOwnProperty("y"),Nr=li,Ar=Wn,Ei=window;if(dn){var oi=Gr(m),ji="clientHeight",ks="clientWidth";oi===hr(m)&&"static"!==fr(oi=Sn(m)).position&&"absolute"===dt&&(ji="scrollHeight",ks="scrollWidth"),(L===Wn||(L===li||L===Mr)&&K===vs)&&(Ar=Gn,pn-=(qn&&oi===Ei&&Ei.visualViewport?Ei.visualViewport.height:oi[ji])-P.height,pn*=lt?1:-1),L!==li&&(L!==Wn&&L!==Gn||K!==vs)||(Nr=Mr,or-=(qn&&oi===Ei&&Ei.visualViewport?Ei.visualViewport.width:oi[ks])-P.width,or*=lt?1:-1)}var po,Vs=Object.assign({position:dt},dn&&He),ba=!0===zt?function ft(v,d){var P=v.y,L=d.devicePixelRatio||1;return{x:gr(v.x*L)/L||0,y:gr(P*L)/L||0}}({x:or,y:pn},hr(m)):{x:or,y:pn};return or=ba.x,pn=ba.y,Object.assign({},Vs,lt?((po={})[Ar]=Xi?"0":"",po[Nr]=Qr?"0":"",po.transform=(Ei.devicePixelRatio||1)<=1?"translate("+or+"px, "+pn+"px)":"translate3d("+or+"px, "+pn+"px, 0)",po):((d={})[Ar]=Xi?pn+"px":"",d[Nr]=Qr?or+"px":"",d.transform="",d))}const Dt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function cn(v){var d=v.state,m=v.options,P=m.gpuAcceleration,L=void 0===P||P,K=m.adaptive,Pe=void 0===K||K,dt=m.roundOffsets,lt=void 0===dt||dt,dn={placement:Er(d.placement),variation:we(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:L,isFixed:"fixed"===d.options.strategy};null!=d.modifiersData.popperOffsets&&(d.styles.popper=Object.assign({},d.styles.popper,Ht(Object.assign({},dn,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:Pe,roundOffsets:lt})))),null!=d.modifiersData.arrow&&(d.styles.arrow=Object.assign({},d.styles.arrow,Ht(Object.assign({},dn,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:lt})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var nn={passive:!0};const En={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function tr(v){var d=v.state,m=v.instance,P=v.options,L=P.scroll,K=void 0===L||L,Pe=P.resize,dt=void 0===Pe||Pe,lt=hr(d.elements.popper),dn=[].concat(d.scrollParents.reference,d.scrollParents.popper);return K&&dn.forEach(function(zt){zt.addEventListener("scroll",m.update,nn)}),dt&&lt.addEventListener("resize",m.update,nn),function(){K&&dn.forEach(function(zt){zt.removeEventListener("scroll",m.update,nn)}),dt&&lt.removeEventListener("resize",m.update,nn)}},data:{}};var hi={left:"right",right:"left",bottom:"top",top:"bottom"};function $r(v){return v.replace(/left|right|bottom|top/g,function(d){return hi[d]})}var fi={start:"end",end:"start"};function si(v){return v.replace(/start|end/g,function(d){return fi[d]})}function jr(v){var d=hr(v);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Bi(v){return is(Sn(v)).left+jr(v).scrollLeft}function pi(v){var d=fr(v);return/auto|scroll|overlay|hidden/.test(d.overflow+d.overflowY+d.overflowX)}function Yr(v){return["html","body","#document"].indexOf(bi(v))>=0?v.ownerDocument.body:Pi(v)&&pi(v)?v:Yr(er(v))}function mr(v,d){var m;void 0===d&&(d=[]);var P=Yr(v),L=P===(null==(m=v.ownerDocument)?void 0:m.body),K=hr(P),Pe=L?[K].concat(K.visualViewport||[],pi(P)?P:[]):P,dt=d.concat(Pe);return L?dt:dt.concat(mr(er(Pe)))}function Js(v){return Object.assign({},v,{left:v.x,top:v.y,right:v.x+v.width,bottom:v.y+v.height})}function Wo(v,d,m){return d===Ho?Js(function Gi(v,d){var m=hr(v),P=Sn(v),L=m.visualViewport,K=P.clientWidth,Pe=P.clientHeight,dt=0,lt=0;if(L){K=L.width,Pe=L.height;var dn=es();(dn||!dn&&"fixed"===d)&&(dt=L.offsetLeft,lt=L.offsetTop)}return{width:K,height:Pe,x:dt+Bi(v),y:lt}}(v,m)):Ai(d)?function Ki(v,d){var m=is(v,!1,"fixed"===d);return m.top=m.top+v.clientTop,m.left=m.left+v.clientLeft,m.bottom=m.top+v.clientHeight,m.right=m.left+v.clientWidth,m.width=v.clientWidth,m.height=v.clientHeight,m.x=m.left,m.y=m.top,m}(d,m):Js(function ir(v){var d,m=Sn(v),P=jr(v),L=null==(d=v.ownerDocument)?void 0:d.body,K=Wr(m.scrollWidth,m.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0),Pe=Wr(m.scrollHeight,m.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0),dt=-P.scrollLeft+Bi(v),lt=-P.scrollTop;return"rtl"===fr(L||m).direction&&(dt+=Wr(m.clientWidth,L?L.clientWidth:0)-K),{width:K,height:Pe,x:dt,y:lt}}(Sn(v)))}function Is(v){var lt,d=v.reference,m=v.element,P=v.placement,L=P?Er(P):null,K=P?we(P):null,Pe=d.x+d.width/2-m.width/2,dt=d.y+d.height/2-m.height/2;switch(L){case Wn:lt={x:Pe,y:d.y-m.height};break;case Gn:lt={x:Pe,y:d.y+d.height};break;case Mr:lt={x:d.x+d.width,y:dt};break;case li:lt={x:d.x-m.width,y:dt};break;default:lt={x:d.x,y:d.y}}var dn=L?ss(L):null;if(null!=dn){var zt="y"===dn?"height":"width";switch(K){case ri:lt[dn]=lt[dn]-(d[zt]/2-m[zt]/2);break;case vs:lt[dn]=lt[dn]+(d[zt]/2-m[zt]/2)}}return lt}function Cs(v,d){void 0===d&&(d={});var P=d.placement,L=void 0===P?v.placement:P,K=d.strategy,Pe=void 0===K?v.strategy:K,dt=d.boundary,lt=void 0===dt?ai:dt,dn=d.rootBoundary,zt=void 0===dn?Ho:dn,qn=d.elementContext,Qn=void 0===qn?Ui:qn,or=d.altBoundary,zr=void 0!==or&&or,pn=d.padding,Xn=void 0===pn?0:pn,Qr=Vn("number"!=typeof Xn?Xn:os(Xn,ys)),Nr=v.rects.popper,Ar=v.elements[zr?Qn===Ui?_i:Ui:Qn],Ei=function la(v,d,m,P){var L="clippingParents"===d?function as(v){var d=mr(er(v)),P=["absolute","fixed"].indexOf(fr(v).position)>=0&&Pi(v)?Gr(v):v;return Ai(P)?d.filter(function(L){return Ai(L)&&ts(L,P)&&"body"!==bi(L)}):[]}(v):[].concat(d),K=[].concat(L,[m]),dt=K.reduce(function(lt,dn){var zt=Wo(v,dn,P);return lt.top=Wr(zt.top,lt.top),lt.right=ki(zt.right,lt.right),lt.bottom=ki(zt.bottom,lt.bottom),lt.left=Wr(zt.left,lt.left),lt},Wo(v,K[0],P));return dt.width=dt.right-dt.left,dt.height=dt.bottom-dt.top,dt.x=dt.left,dt.y=dt.top,dt}(Ai(Ar)?Ar:Ar.contextElement||Sn(v.elements.popper),lt,zt,Pe),oi=is(v.elements.reference),ji=Is({reference:oi,element:Nr,strategy:"absolute",placement:L}),ks=Js(Object.assign({},Nr,ji)),Fs=Qn===Ui?ks:oi,wi={top:Ei.top-Fs.top+Qr.top,bottom:Fs.bottom-Ei.bottom+Qr.bottom,left:Ei.left-Fs.left+Qr.left,right:Fs.right-Ei.right+Qr.right},Vs=v.modifiersData.offset;if(Qn===Ui&&Vs){var ba=Vs[L];Object.keys(wi).forEach(function(po){var hl=[Mr,Gn].indexOf(po)>=0?1:-1,Ju=[Wn,Gn].indexOf(po)>=0?"y":"x";wi[po]+=ba[Ju]*hl})}return wi}const Ao={name:"flip",enabled:!0,phase:"main",fn:function Fi(v){var d=v.state,m=v.options,P=v.name;if(!d.modifiersData[P]._skip){for(var L=m.mainAxis,K=void 0===L||L,Pe=m.altAxis,dt=void 0===Pe||Pe,lt=m.fallbackPlacements,dn=m.padding,zt=m.boundary,qn=m.rootBoundary,Qn=m.altBoundary,or=m.flipVariations,zr=void 0===or||or,pn=m.allowedAutoPlacements,Xn=d.options.placement,Qr=Er(Xn),Nr=lt||(Qr!==Xn&&zr?function ea(v){if(Er(v)===dr)return[];var d=$r(v);return[si(v),d,si(d)]}(Xn):[$r(Xn)]),Ar=[Xn].concat(Nr).reduce(function(ms,qs){return ms.concat(Er(qs)===dr?function Va(v,d){void 0===d&&(d={});var L=d.boundary,K=d.rootBoundary,Pe=d.padding,dt=d.flipVariations,lt=d.allowedAutoPlacements,dn=void 0===lt?rr:lt,zt=we(d.placement),qn=zt?dt?Si:Si.filter(function(zr){return we(zr)===zt}):ys,Qn=qn.filter(function(zr){return dn.indexOf(zr)>=0});0===Qn.length&&(Qn=qn);var or=Qn.reduce(function(zr,pn){return zr[pn]=Cs(v,{placement:pn,boundary:L,rootBoundary:K,padding:Pe})[Er(pn)],zr},{});return Object.keys(or).sort(function(zr,pn){return or[zr]-or[pn]})}(d,{placement:qs,boundary:zt,rootBoundary:qn,padding:dn,flipVariations:zr,allowedAutoPlacements:pn}):qs)},[]),Ei=d.rects.reference,oi=d.rects.popper,ji=new Map,ks=!0,Fs=Ar[0],wi=0;wi<Ar.length;wi++){var Vs=Ar[wi],ba=Er(Vs),po=we(Vs)===ri,hl=[Wn,Gn].indexOf(ba)>=0,Ju=hl?"width":"height",Uo=Cs(d,{placement:Vs,boundary:zt,rootBoundary:qn,altBoundary:Qn,padding:dn}),Co=hl?po?Mr:li:po?Gn:Wn;Ei[Ju]>oi[Ju]&&(Co=$r(Co));var fl=$r(Co),Td=[];if(K&&Td.push(Uo[ba]<=0),dt&&Td.push(Uo[Co]<=0,Uo[fl]<=0),Td.every(function(ms){return ms})){Fs=Vs,ks=!1;break}ji.set(Vs,Td)}if(ks)for(var wd=function(qs){var Ad=Ar.find(function(Sh){var Zu=ji.get(Sh);if(Zu)return Zu.slice(0,qs).every(function(gl){return gl})});if(Ad)return Fs=Ad,"break"},wc=zr?3:1;wc>0&&"break"!==wd(wc);wc--);d.placement!==Fs&&(d.modifiersData[P]._skip=!0,d.placement=Fs,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Do(v,d,m){return void 0===m&&(m={x:0,y:0}),{top:v.top-d.height-m.y,right:v.right-d.width+m.x,bottom:v.bottom-d.height+m.y,left:v.left-d.width-m.x}}function La(v){return[Wn,Mr,Gn,li].some(function(d){return v[d]>=0})}const Go={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Fr(v){var d=v.state,m=v.name,P=d.rects.reference,L=d.rects.popper,K=d.modifiersData.preventOverflow,Pe=Cs(d,{elementContext:"reference"}),dt=Cs(d,{altBoundary:!0}),lt=Do(Pe,P),dn=Do(dt,L,K),zt=La(lt),qn=La(dn);d.modifiersData[m]={referenceClippingOffsets:lt,popperEscapeOffsets:dn,isReferenceHidden:zt,hasPopperEscaped:qn},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":zt,"data-popper-escaped":qn})}},X={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function z(v){var d=v.state,P=v.name,L=v.options.offset,K=void 0===L?[0,0]:L,Pe=rr.reduce(function(zt,qn){return zt[qn]=function Ua(v,d,m){var P=Er(v),L=[li,Wn].indexOf(P)>=0?-1:1,K="function"==typeof m?m(Object.assign({},d,{placement:v})):m,Pe=K[0],dt=K[1];return Pe=Pe||0,dt=(dt||0)*L,[li,Mr].indexOf(P)>=0?{x:dt,y:Pe}:{x:Pe,y:dt}}(qn,d.rects,K),zt},{}),dt=Pe[d.placement],dn=dt.y;null!=d.modifiersData.popperOffsets&&(d.modifiersData.popperOffsets.x+=dt.x,d.modifiersData.popperOffsets.y+=dn),d.modifiersData[P]=Pe}},ie={name:"popperOffsets",enabled:!0,phase:"read",fn:function x(v){var d=v.state;d.modifiersData[v.name]=Is({reference:d.rects.reference,element:d.rects.popper,strategy:"absolute",placement:d.placement})},data:{}},Nn={name:"preventOverflow",enabled:!0,phase:"main",fn:function ln(v){var d=v.state,m=v.options,P=v.name,L=m.mainAxis,K=void 0===L||L,Pe=m.altAxis,dt=void 0!==Pe&&Pe,Qn=m.tether,or=void 0===Qn||Qn,zr=m.tetherOffset,pn=void 0===zr?0:zr,Xn=Cs(d,{boundary:m.boundary,rootBoundary:m.rootBoundary,padding:m.padding,altBoundary:m.altBoundary}),Qr=Er(d.placement),Xi=we(d.placement),Nr=!Xi,Ar=ss(Qr),Ei=function Oe(v){return"x"===v?"y":"x"}(Ar),oi=d.modifiersData.popperOffsets,ji=d.rects.reference,ks=d.rects.popper,Fs="function"==typeof pn?pn(Object.assign({},d.rects,{placement:d.placement})):pn,wi="number"==typeof Fs?{mainAxis:Fs,altAxis:Fs}:Object.assign({mainAxis:0,altAxis:0},Fs),Vs=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,ba={x:0,y:0};if(oi){if(K){var po,hl="y"===Ar?Wn:li,Ju="y"===Ar?Gn:Mr,Uo="y"===Ar?"height":"width",Co=oi[Ar],fl=Co+Xn[hl],Td=Co-Xn[Ju],pl=or?-ks[Uo]/2:0,wd=Xi===ri?ji[Uo]:ks[Uo],wc=Xi===ri?-ks[Uo]:-ji[Uo],Ls=d.elements.arrow,ms=or&&Ls?Ri(Ls):{width:0,height:0},qs=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ad=qs[hl],Sh=qs[Ju],Zu=br(0,ji[Uo],ms[Uo]),gl=Nr?ji[Uo]/2-pl-Zu-Ad-wi.mainAxis:wd-Zu-Ad-wi.mainAxis,Hp=Nr?-ji[Uo]/2+pl+Zu+Sh+wi.mainAxis:wc+Zu+Sh+wi.mainAxis,Sf=d.elements.arrow&&Gr(d.elements.arrow),Dd=Sf?"y"===Ar?Sf.clientTop||0:Sf.clientLeft||0:0,Sd=null!=(po=Vs?.[Ar])?po:0,Pd=Co+Hp-Sd,Zg=br(or?ki(fl,Co+gl-Sd-Dd):fl,Co,or?Wr(Td,Pd):Td);oi[Ar]=Zg,ba[Ar]=Zg-Co}if(dt){var zp,ec=oi[Ei],vu="y"===Ei?"height":"width",Rf=ec+Xn["x"===Ar?Wn:li],Md=ec-Xn["x"===Ar?Gn:Mr],Ac=-1!==[Wn,li].indexOf(Qr),Od=null!=(zp=Vs?.[Ei])?zp:0,Mf=Ac?Rf:ec-ji[vu]-ks[vu]-Od+wi.altAxis,go=Ac?ec+ji[vu]+ks[vu]-Od-wi.altAxis:Md,Wp=or&&Ac?function Ps(v,d,m){var P=br(v,d,m);return P>m?m:P}(Mf,ec,go):br(or?Mf:Rf,ec,or?go:Md);oi[Ei]=Wp,ba[Ei]=Wp-ec}d.modifiersData[P]=ba}},requiresIfExists:["offset"]};function So(v,d,m){void 0===m&&(m=!1);var P=Pi(d),L=Pi(d)&&function Qi(v){var d=v.getBoundingClientRect(),m=gr(d.width)/v.offsetWidth||1,P=gr(d.height)/v.offsetHeight||1;return 1!==m||1!==P}(d),K=Sn(d),Pe=is(v,L,m),dt={scrollLeft:0,scrollTop:0},lt={x:0,y:0};return(P||!P&&!m)&&(("body"!==bi(d)||pi(K))&&(dt=function hs(v){return v!==hr(v)&&Pi(v)?function qi(v){return{scrollLeft:v.scrollLeft,scrollTop:v.scrollTop}}(v):jr(v)}(d)),Pi(d)?((lt=is(d,!0)).x+=d.clientLeft,lt.y+=d.clientTop):K&&(lt.x=Bi(K))),{x:Pe.left+dt.scrollLeft-lt.x,y:Pe.top+dt.scrollTop-lt.y,width:Pe.width,height:Pe.height}}function Rs(v){var d=new Map,m=new Set,P=[];function L(K){m.add(K.name),[].concat(K.requires||[],K.requiresIfExists||[]).forEach(function(dt){if(!m.has(dt)){var lt=d.get(dt);lt&&L(lt)}}),P.push(K)}return v.forEach(function(K){d.set(K.name,K)}),v.forEach(function(K){m.has(K.name)||L(K)}),P}function Ms(v){var d;return function(){return d||(d=new Promise(function(m){Promise.resolve().then(function(){d=void 0,m(v())})})),d}}var Kr={placement:"bottom",modifiers:[],strategy:"absolute"};function ta(){for(var v=arguments.length,d=new Array(v),m=0;m<v;m++)d[m]=arguments[m];return!d.some(function(P){return!(P&&"function"==typeof P.getBoundingClientRect)})}function Oi(v){void 0===v&&(v={});var m=v.defaultModifiers,P=void 0===m?[]:m,L=v.defaultOptions,K=void 0===L?Kr:L;return function(dt,lt,dn){void 0===dn&&(dn=K);var zt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kr,K),modifiersData:{},elements:{reference:dt,popper:lt},attributes:{},styles:{}},qn=[],Qn=!1,or={state:zt,setOptions:function(Qr){var Xi="function"==typeof Qr?Qr(zt.options):Qr;pn(),zt.options=Object.assign({},K,zt.options,Xi),zt.scrollParents={reference:Ai(dt)?mr(dt):dt.contextElement?mr(dt.contextElement):[],popper:mr(lt)};var Nr=function $s(v){var d=Rs(v);return ca.reduce(function(m,P){return m.concat(d.filter(function(L){return L.phase===P}))},[])}(function Tl(v){var d=v.reduce(function(m,P){var L=m[P.name];return m[P.name]=L?Object.assign({},L,P,{options:Object.assign({},L.options,P.options),data:Object.assign({},L.data,P.data)}):P,m},{});return Object.keys(d).map(function(m){return d[m]})}([].concat(P,zt.options.modifiers)));return zt.orderedModifiers=Nr.filter(function(Ar){return Ar.enabled}),function zr(){zt.orderedModifiers.forEach(function(Xn){var Xi=Xn.options,Ar=Xn.effect;if("function"==typeof Ar){var Ei=Ar({state:zt,name:Xn.name,instance:or,options:void 0===Xi?{}:Xi});qn.push(Ei||function(){})}})}(),or.update()},forceUpdate:function(){if(!Qn){var Qr=zt.elements,Xi=Qr.reference,Nr=Qr.popper;if(ta(Xi,Nr)){zt.rects={reference:So(Xi,Gr(Nr),"fixed"===zt.options.strategy),popper:Ri(Nr)},zt.reset=!1,zt.placement=zt.options.placement,zt.orderedModifiers.forEach(function(wi){return zt.modifiersData[wi.name]=Object.assign({},wi.data)});for(var Ar=0;Ar<zt.orderedModifiers.length;Ar++)if(!0!==zt.reset){var Ei=zt.orderedModifiers[Ar],oi=Ei.fn,ji=Ei.options;"function"==typeof oi&&(zt=oi({state:zt,options:void 0===ji?{}:ji,name:Ei.name,instance:or})||zt)}else zt.reset=!1,Ar=-1}}},update:Ms(function(){return new Promise(function(Xn){or.forceUpdate(),Xn(zt)})}),destroy:function(){pn(),Qn=!0}};if(!ta(dt,lt))return or;function pn(){qn.forEach(function(Xn){return Xn()}),qn=[]}return or.setOptions(dn).then(function(Xn){!Qn&&dn.onFirstUpdate&&dn.onFirstUpdate(Xn)}),or}}var nc=Oi(),Po=Oi({defaultModifiers:[En,ie,Dt,Fn,X,Ao,Nn,ve,Go]}),Ta=Oi({defaultModifiers:[En,ie,Dt,Fn]});const fs=new Map,Kn={set(v,d,m){fs.has(v)||fs.set(v,new Map);const P=fs.get(v);P.has(d)||0===P.size?P.set(d,m):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(P.keys())[0]}.`)},get:(v,d)=>fs.has(v)&&fs.get(v).get(d)||null,remove(v,d){if(!fs.has(v))return;const m=fs.get(v);m.delete(d),0===m.size&&fs.delete(v)}},da="transitionend",wa=v=>(v&&window.CSS&&window.CSS.escape&&(v=v.replace(/#([^\s"#']+)/g,(d,m)=>`#${CSS.escape(m)}`)),v),$a=v=>{v.dispatchEvent(new Event(da))},so=v=>!(!v||"object"!=typeof v)&&(typeof v.jquery<"u"&&(v=v[0]),typeof v.nodeType<"u"),oo=v=>so(v)?v.jquery?v[0]:v:"string"==typeof v&&v.length>0?document.querySelector(wa(v)):null,eo=v=>{if(!so(v)||0===v.getClientRects().length)return!1;const d="visible"===getComputedStyle(v).getPropertyValue("visibility"),m=v.closest("details:not([open])");if(!m)return d;if(m!==v){const P=v.closest("summary");if(P&&P.parentNode!==m||null===P)return!1}return d},ao=v=>!(v&&v.nodeType===Node.ELEMENT_NODE&&!v.classList.contains("disabled"))||(typeof v.disabled<"u"?v.disabled:v.hasAttribute("disabled")&&"false"!==v.getAttribute("disabled")),Ro=v=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof v.getRootNode){const d=v.getRootNode();return d instanceof ShadowRoot?d:null}return v instanceof ShadowRoot?v:v.parentNode?Ro(v.parentNode):null},wu=()=>{},fa=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Au=[],Hs=()=>"rtl"===document.documentElement.dir,zs=v=>{(v=>{"loading"===document.readyState?(Au.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of Au)d()}),Au.push(v)):v()})(()=>{const d=fa();if(d){const m=v.NAME,P=d.fn[m];d.fn[m]=v.jQueryInterface,d.fn[m].Constructor=v,d.fn[m].noConflict=()=>(d.fn[m]=P,v.jQueryInterface)}})},_r=(v,d=[],m=v)=>"function"==typeof v?v(...d):m,D=(v,d,m=!0)=>{if(!m)return void _r(v);const L=(v=>{if(!v)return 0;let{transitionDuration:d,transitionDelay:m}=window.getComputedStyle(v);const P=Number.parseFloat(d),L=Number.parseFloat(m);return P||L?(d=d.split(",")[0],m=m.split(",")[0],1e3*(Number.parseFloat(d)+Number.parseFloat(m))):0})(d)+5;let K=!1;const Pe=({target:dt})=>{dt===d&&(K=!0,d.removeEventListener(da,Pe),_r(v))};d.addEventListener(da,Pe),setTimeout(()=>{K||$a(d)},L)},Z=(v,d,m,P)=>{const L=v.length;let K=v.indexOf(d);return-1===K?!m&&P?v[L-1]:v[0]:(K+=m?1:-1,P&&(K=(K+L)%L),v[Math.max(0,Math.min(K,L-1))])},U=/[^.]*(?=\..*)\.|.*/,Y=/\..*/,Ce=/::\d+$/,at={};let Tt=1;const fn={mouseenter:"mouseover",mouseleave:"mouseout"},Tr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Or(v,d){return d&&`${d}::${Tt++}`||v.uidEvent||Tt++}function Vr(v){const d=Or(v);return v.uidEvent=d,at[d]=at[d]||{},at[d]}function qr(v,d,m=null){return Object.values(v).find(P=>P.callable===d&&P.delegationSelector===m)}function Ti(v,d,m){const P="string"==typeof d,L=P?m:d||m;let K=Os(v);return Tr.has(K)||(K=v),[P,L,K]}function ns(v,d,m,P,L){if("string"!=typeof d||!v)return;let[K,Pe,dt]=Ti(d,m,P);var zr;d in fn&&(zr=Pe,Pe=function(pn){if(!pn.relatedTarget||pn.relatedTarget!==pn.delegateTarget&&!pn.delegateTarget.contains(pn.relatedTarget))return zr.call(this,pn)});const lt=Vr(v),dn=lt[dt]||(lt[dt]={}),zt=qr(dn,Pe,K?m:null);if(zt)return void(zt.oneOff=zt.oneOff&&L);const qn=Or(Pe,d.replace(U,"")),Qn=K?function ui(v,d,m){return function P(L){const K=v.querySelectorAll(d);for(let{target:Pe}=L;Pe&&Pe!==this;Pe=Pe.parentNode)for(const dt of K)if(dt===Pe)return Un(L,{delegateTarget:Pe}),P.oneOff&&Ct.off(v,L.type,d,m),m.apply(Pe,[L])}}(v,m,Pe):function cr(v,d){return function m(P){return Un(P,{delegateTarget:v}),m.oneOff&&Ct.off(v,P.type,d),d.apply(v,[P])}}(v,Pe);Qn.delegationSelector=K?m:null,Qn.callable=Pe,Qn.oneOff=L,Qn.uidEvent=qn,dn[qn]=Qn,v.addEventListener(dt,Qn,K)}function ps(v,d,m,P,L){const K=qr(d[m],P,L);K&&(v.removeEventListener(m,K,!!L),delete d[m][K.uidEvent])}function na(v,d,m,P){const L=d[m]||{};for(const[K,Pe]of Object.entries(L))K.includes(P)&&ps(v,d,m,Pe.callable,Pe.delegationSelector)}function Os(v){return v=v.replace(Y,""),fn[v]||v}const Ct={on(v,d,m,P){ns(v,d,m,P,!1)},one(v,d,m,P){ns(v,d,m,P,!0)},off(v,d,m,P){if("string"!=typeof d||!v)return;const[L,K,Pe]=Ti(d,m,P),dt=Pe!==d,lt=Vr(v),dn=lt[Pe]||{},zt=d.startsWith(".");if(typeof K<"u"){if(!Object.keys(dn).length)return;ps(v,lt,Pe,K,L?m:null)}else{if(zt)for(const qn of Object.keys(lt))na(v,lt,qn,d.slice(1));for(const[qn,Qn]of Object.entries(dn)){const or=qn.replace(Ce,"");(!dt||d.includes(or))&&ps(v,lt,Pe,Qn.callable,Qn.delegationSelector)}}},trigger(v,d,m){if("string"!=typeof d||!v)return null;const P=fa();let Pe=null,dt=!0,lt=!0,dn=!1;d!==Os(d)&&P&&(Pe=P.Event(d,m),P(v).trigger(Pe),dt=!Pe.isPropagationStopped(),lt=!Pe.isImmediatePropagationStopped(),dn=Pe.isDefaultPrevented());const zt=Un(new Event(d,{bubbles:dt,cancelable:!0}),m);return dn&&zt.preventDefault(),lt&&v.dispatchEvent(zt),zt.defaultPrevented&&Pe&&Pe.preventDefault(),zt}};function Un(v,d={}){for(const[m,P]of Object.entries(d))try{v[m]=P}catch{Object.defineProperty(v,m,{configurable:!0,get:()=>P})}return v}function to(v){if("true"===v)return!0;if("false"===v)return!1;if(v===Number(v).toString())return Number(v);if(""===v||"null"===v)return null;if("string"!=typeof v)return v;try{return JSON.parse(decodeURIComponent(v))}catch{return v}}function rc(v){return v.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Lr={setDataAttribute(v,d,m){v.setAttribute(`data-bs-${rc(d)}`,m)},removeDataAttribute(v,d){v.removeAttribute(`data-bs-${rc(d)}`)},getDataAttributes(v){if(!v)return{};const d={},m=Object.keys(v.dataset).filter(P=>P.startsWith("bs")&&!P.startsWith("bsConfig"));for(const P of m){let L=P.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1,L.length),d[L]=to(v.dataset[P])}return d},getDataAttribute:(v,d)=>to(v.getAttribute(`data-bs-${rc(d)}`))};class Mo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,m){const P=so(m)?Lr.getDataAttribute(m,"config"):{};return{...this.constructor.Default,..."object"==typeof P?P:{},...so(m)?Lr.getDataAttributes(m):{},..."object"==typeof d?d:{}}}_typeCheckConfig(d,m=this.constructor.DefaultType){for(const[P,L]of Object.entries(m)){const K=d[P],Pe=so(K)?"element":null==(v=K)?`${v}`:Object.prototype.toString.call(v).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(L).test(Pe))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${P}" provided type "${Pe}" but expected type "${L}".`)}var v}}class Di extends Mo{constructor(d,m){super(),(d=oo(d))&&(this._element=d,this._config=this._getConfig(m),Kn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Kn.remove(this._element,this.constructor.DATA_KEY),Ct.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,m,P=!0){D(d,m,P)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return Kn.get(oo(d),this.DATA_KEY)}static getOrCreateInstance(d,m={}){return this.getInstance(d)||new this(d,"object"==typeof m?m:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const ic=v=>{let d=v.getAttribute("data-bs-target");if(!d||"#"===d){let m=v.getAttribute("href");if(!m||!m.includes("#")&&!m.startsWith("."))return null;m.includes("#")&&!m.startsWith("#")&&(m=`#${m.split("#")[1]}`),d=m&&"#"!==m?m.trim():null}return d?d.split(",").map(m=>wa(m)).join(","):null},kn={find:(v,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,v)),findOne:(v,d=document.documentElement)=>Element.prototype.querySelector.call(d,v),children:(v,d)=>[].concat(...v.children).filter(m=>m.matches(d)),parents(v,d){const m=[];let P=v.parentNode.closest(d);for(;P;)m.push(P),P=P.parentNode.closest(d);return m},prev(v,d){let m=v.previousElementSibling;for(;m;){if(m.matches(d))return[m];m=m.previousElementSibling}return[]},next(v,d){let m=v.nextElementSibling;for(;m;){if(m.matches(d))return[m];m=m.nextElementSibling}return[]},focusableChildren(v){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(m=>`${m}:not([tabindex^="-"])`).join(",");return this.find(d,v).filter(m=>!ao(m)&&eo(m))},getSelectorFromElement(v){const d=ic(v);return d&&kn.findOne(d)?d:null},getElementFromSelector(v){const d=ic(v);return d?kn.findOne(d):null},getMultipleElementsFromSelector(v){const d=ic(v);return d?kn.find(d):[]}},vo=(v,d="hide")=>{const P=v.NAME;Ct.on(document,`click.dismiss${v.EVENT_KEY}`,`[data-bs-dismiss="${P}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),ao(this))return;const K=kn.getElementFromSelector(this)||this.closest(`.${P}`);v.getOrCreateInstance(K)[d]()})},Du=".bs.alert",sc=`close${Du}`,Oo=`closed${Du}`;class Su extends Di{static get NAME(){return"alert"}close(){if(Ct.trigger(this._element,sc).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),Ct.trigger(this._element,Oo),this.dispose()}static jQueryInterface(d){return this.each(function(){const m=Su.getOrCreateInstance(this);if("string"==typeof d){if(void 0===m[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);m[d](this)}})}}vo(Su,"close"),zs(Su);const ja='[data-bs-toggle="button"]';class Pu extends Di{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const m=Pu.getOrCreateInstance(this);"toggle"===d&&m[d]()})}}Ct.on(document,"click.bs.button.data-api",ja,v=>{v.preventDefault();const d=v.target.closest(ja);Pu.getOrCreateInstance(d).toggle()}),zs(Pu);const yi=".bs.swipe",Da=`touchstart${yi}`,ac=`touchmove${yi}`,xc=`touchend${yi}`,Ha=`pointerdown${yi}`,xo=`pointerup${yi}`,za={endCallback:null,leftCallback:null,rightCallback:null},bs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Vi extends Mo{constructor(d,m){super(),this._element=d,d&&Vi.isSupported()&&(this._config=this._getConfig(m),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return za}static get DefaultType(){return bs}static get NAME(){return"swipe"}dispose(){Ct.off(this._element,yi)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),_r(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const m=d/this._deltaX;this._deltaX=0,m&&_r(m>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ct.on(this._element,Ha,d=>this._start(d)),Ct.on(this._element,xo,d=>this._end(d)),this._element.classList.add("pointer-event")):(Ct.on(this._element,Da,d=>this._start(d)),Ct.on(this._element,ac,d=>this._move(d)),Ct.on(this._element,xc,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&("pen"===d.pointerType||"touch"===d.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const uo=".bs.carousel",Wa=".data-api",rs="next",Ts="prev",ia="left",co="right",lo=`slide${uo}`,Fc=`slid${uo}`,qo=`keydown${uo}`,Ga=`mouseenter${uo}`,Vc=`mouseleave${uo}`,Sl=`dragstart${uo}`,Mu=`load${uo}${Wa}`,Qo=`click${uo}${Wa}`,w="carousel",M="active",it=".active",nt=".carousel-item",an=it+nt,Ka={ArrowLeft:co,ArrowRight:ia},qa={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qa={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ro extends Di{constructor(d,m){super(d,m),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=kn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===w&&this.cycle()}static get Default(){return qa}static get DefaultType(){return Qa}static get NAME(){return"carousel"}next(){this._slide(rs)}nextWhenVisible(){!document.hidden&&eo(this._element)&&this.next()}prev(){this._slide(Ts)}pause(){this._isSliding&&$a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Ct.one(this._element,Fc,()=>this.cycle());this.cycle()}}to(d){const m=this._getItems();if(d>m.length-1||d<0)return;if(this._isSliding)return void Ct.one(this._element,Fc,()=>this.to(d));const P=this._getItemIndex(this._getActive());P!==d&&this._slide(d>P?rs:Ts,m[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&Ct.on(this._element,qo,d=>this._keydown(d)),"hover"===this._config.pause&&(Ct.on(this._element,Ga,()=>this.pause()),Ct.on(this._element,Vc,()=>this._maybeEnableCycle())),this._config.touch&&Vi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const P of kn.find(".carousel-item img",this._element))Ct.on(P,Sl,L=>L.preventDefault());this._swipeHelper=new Vi(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ia)),rightCallback:()=>this._slide(this._directionToOrder(co)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const m=Ka[d.key];m&&(d.preventDefault(),this._slide(this._directionToOrder(m)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const m=kn.findOne(it,this._indicatorsElement);m.classList.remove(M),m.removeAttribute("aria-current");const P=kn.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);P&&(P.classList.add(M),P.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const m=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=m||this._config.defaultInterval}_slide(d,m=null){if(this._isSliding)return;const P=this._getActive(),L=d===rs,K=m||Z(this._getItems(),P,L,this._config.wrap);if(K===P)return;const Pe=this._getItemIndex(K),dt=or=>Ct.trigger(this._element,or,{relatedTarget:K,direction:this._orderToDirection(d),from:this._getItemIndex(P),to:Pe});if(dt(lo).defaultPrevented||!P||!K)return;const dn=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Pe),this._activeElement=K;const zt=L?"carousel-item-start":"carousel-item-end",qn=L?"carousel-item-next":"carousel-item-prev";K.classList.add(qn),P.classList.add(zt),K.classList.add(zt),this._queueCallback(()=>{K.classList.remove(zt,qn),K.classList.add(M),P.classList.remove(M,qn,zt),this._isSliding=!1,dt(Fc)},P,this._isAnimated()),dn&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return kn.findOne(an,this._element)}_getItems(){return kn.find(nt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return Hs()?d===ia?Ts:rs:d===ia?rs:Ts}_orderToDirection(d){return Hs()?d===Ts?ia:co:d===Ts?co:ia}static jQueryInterface(d){return this.each(function(){const m=ro.getOrCreateInstance(this,d);if("number"!=typeof d){if("string"==typeof d){if(void 0===m[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);m[d]()}}else m.to(d)})}}Ct.on(document,Qo,"[data-bs-slide], [data-bs-slide-to]",function(v){const d=kn.getElementFromSelector(this);if(!d||!d.classList.contains(w))return;v.preventDefault();const m=ro.getOrCreateInstance(d),P=this.getAttribute("data-bs-slide-to");return P?(m.to(P),void m._maybeEnableCycle()):"next"===Lr.getDataAttribute(this,"slide")?(m.next(),void m._maybeEnableCycle()):(m.prev(),void m._maybeEnableCycle())}),Ct.on(window,Mu,()=>{const v=kn.find('[data-bs-ride="carousel"]');for(const d of v)ro.getOrCreateInstance(d)}),zs(ro);const Sa=".bs.collapse",Hd=`show${Sa}`,Pl=`shown${Sa}`,ga=`hide${Sa}`,ma=`hidden${Sa}`,Xo=`click${Sa}.data-api`,Lc="show",_a="collapse",Ya="collapsing",Ou=`:scope .${_a} .${_a}`,Ml='[data-bs-toggle="collapse"]',Ol={parent:null,toggle:!0},ag={parent:"(null|element)",toggle:"boolean"};class Za extends Di{constructor(d,m){super(d,m),this._isTransitioning=!1,this._triggerArray=[];const P=kn.find(Ml);for(const L of P){const K=kn.getSelectorFromElement(L),Pe=kn.find(K).filter(dt=>dt===this._element);null!==K&&Pe.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ol}static get DefaultType(){return ag}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(dt=>dt!==this._element).map(dt=>Za.getOrCreateInstance(dt,{toggle:!1}))),d.length&&d[0]._isTransitioning||Ct.trigger(this._element,Hd).defaultPrevented)return;for(const dt of d)dt.hide();const P=this._getDimension();this._element.classList.remove(_a),this._element.classList.add(Ya),this._element.style[P]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Pe=`scroll${P[0].toUpperCase()+P.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ya),this._element.classList.add(_a,Lc),this._element.style[P]="",Ct.trigger(this._element,Pl)},this._element,!0),this._element.style[P]=`${this._element[Pe]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ct.trigger(this._element,ga).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,this._element.classList.add(Ya),this._element.classList.remove(_a,Lc);for(const L of this._triggerArray){const K=kn.getElementFromSelector(L);K&&!this._isShown(K)&&this._addAriaAndCollapsedClass([L],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ya),this._element.classList.add(_a),Ct.trigger(this._element,ma)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Lc)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=oo(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Ml);for(const m of d){const P=kn.getElementFromSelector(m);P&&this._addAriaAndCollapsedClass([m],this._isShown(P))}}_getFirstLevelChildren(d){const m=kn.find(Ou,this._config.parent);return kn.find(d,this._config.parent).filter(P=>!m.includes(P))}_addAriaAndCollapsedClass(d,m){if(d.length)for(const P of d)P.classList.toggle("collapsed",!m),P.setAttribute("aria-expanded",m)}static jQueryInterface(d){const m={};return"string"==typeof d&&/show|hide/.test(d)&&(m.toggle=!1),this.each(function(){const P=Za.getOrCreateInstance(this,m);if("string"==typeof d){if(typeof P[d]>"u")throw new TypeError(`No method named "${d}"`);P[d]()}})}}Ct.on(document,Xo,Ml,function(v){("A"===v.target.tagName||v.delegateTarget&&"A"===v.delegateTarget.tagName)&&v.preventDefault();for(const d of kn.getMultipleElementsFromSelector(this))Za.getOrCreateInstance(d,{toggle:!1}).toggle()}),zs(Za);const eu="dropdown",tu=".bs.dropdown",Eo=".data-api",Wf="ArrowUp",cc="ArrowDown",Fh=`hide${tu}`,Ws=`hidden${tu}`,Nl=`show${tu}`,Bc=`shown${tu}`,No=`click${tu}${Eo}`,ya=`keydown${tu}${Eo}`,Nu=`keyup${tu}${Eo}`,Io="show",Ra='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',$c=`${Ra}.${Io}`,va=".dropdown-menu",ru=Hs()?"top-end":"top-start",Gf=Hs()?"top-start":"top-end",Ns=Hs()?"bottom-end":"bottom-start",Wd=Hs()?"bottom-start":"bottom-end",Hc=Hs()?"left-start":"right-start",Ea=Hs()?"right-start":"left-start",zc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Fu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gs extends Di{constructor(d,m){super(d,m),this._popper=null,this._parent=this._element.parentNode,this._menu=kn.next(this._element,va)[0]||kn.prev(this._element,va)[0]||kn.findOne(va,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zc}static get DefaultType(){return Fu}static get NAME(){return eu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ao(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!Ct.trigger(this._element,Nl,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const P of[].concat(...document.body.children))Ct.on(P,"mouseover",wu);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Io),this._element.classList.add(Io),Ct.trigger(this._element,Bc,d)}}hide(){!ao(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!Ct.trigger(this._element,Fh,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const P of[].concat(...document.body.children))Ct.off(P,"mouseover",wu);this._popper&&this._popper.destroy(),this._menu.classList.remove(Io),this._element.classList.remove(Io),this._element.setAttribute("aria-expanded","false"),Lr.removeDataAttribute(this._menu,"popper"),Ct.trigger(this._element,Ws,d)}}_getConfig(d){if("object"==typeof(d=super._getConfig(d)).reference&&!so(d.reference)&&"function"!=typeof d.reference.getBoundingClientRect)throw new TypeError(`${eu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(typeof l>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;"parent"===this._config.reference?d=this._parent:so(this._config.reference)?d=oo(this._config.reference):"object"==typeof this._config.reference&&(d=this._config.reference);const m=this._getPopperConfig();this._popper=Po(d,this._menu,m)}_isShown(){return this._menu.classList.contains(Io)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return Hc;if(d.classList.contains("dropstart"))return Ea;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const m="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return d.classList.contains("dropup")?m?Gf:ru:m?Wd:Ns}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:d}=this._config;return"string"==typeof d?d.split(",").map(m=>Number.parseInt(m,10)):"function"==typeof d?m=>d(m,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Lr.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,..._r(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:m}){const P=kn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>eo(L));P.length&&Z(P,m,d===cc,!P.includes(m)).focus()}static jQueryInterface(d){return this.each(function(){const m=Gs.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof m[d]>"u")throw new TypeError(`No method named "${d}"`);m[d]()}})}static clearMenus(d){if(2===d.button||"keyup"===d.type&&"Tab"!==d.key)return;const m=kn.find($c);for(const P of m){const L=Gs.getInstance(P);if(!L||!1===L._config.autoClose)continue;const K=d.composedPath(),Pe=K.includes(L._menu);if(K.includes(L._element)||"inside"===L._config.autoClose&&!Pe||"outside"===L._config.autoClose&&Pe||L._menu.contains(d.target)&&("keyup"===d.type&&"Tab"===d.key||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const dt={relatedTarget:L._element};"click"===d.type&&(dt.clickEvent=d),L._completeHide(dt)}}static dataApiKeydownHandler(d){const m=/input|textarea/i.test(d.target.tagName),P="Escape"===d.key,L=[Wf,cc].includes(d.key);if(!L&&!P||m&&!P)return;d.preventDefault();const K=this.matches(Ra)?this:kn.prev(this,Ra)[0]||kn.next(this,Ra)[0]||kn.findOne(Ra,d.delegateTarget.parentNode),Pe=Gs.getOrCreateInstance(K);if(L)return d.stopPropagation(),Pe.show(),void Pe._selectMenuItem(d);Pe._isShown()&&(d.stopPropagation(),Pe.hide(),K.focus())}}Ct.on(document,ya,Ra,Gs.dataApiKeydownHandler),Ct.on(document,ya,va,Gs.dataApiKeydownHandler),Ct.on(document,No,Gs.clearMenus),Ct.on(document,Nu,Gs.clearMenus),Ct.on(document,No,Ra,function(v){v.preventDefault(),Gs.getOrCreateInstance(this).toggle()}),zs(Gs);const Vu="backdrop",$i=`mousedown.bs.${Vu}`,ug={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Kf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qd extends Mo{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return ug}static get DefaultType(){return Kf}static get NAME(){return Vu}show(d){if(!this._config.isVisible)return void _r(d);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{_r(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),_r(d)})):_r(d)}dispose(){this._isAppended&&(Ct.off(this._element,$i),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=oo(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),Ct.on(d,$i,()=>{_r(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){D(d,this._getElement(),this._config.isAnimated)}}const Vl=".bs.focustrap",Qd=`focusin${Vl}`,lc=`keydown.tab${Vl}`,Ll="backward",us={autofocus:!0,trapElement:null},Wc={autofocus:"boolean",trapElement:"element"};class Ma extends Mo{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return us}static get DefaultType(){return Wc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ct.off(document,Vl),Ct.on(document,Qd,d=>this._handleFocusin(d)),Ct.on(document,lc,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ct.off(document,Vl))}_handleFocusin(d){const{trapElement:m}=this._config;if(d.target===document||d.target===m||m.contains(d.target))return;const P=kn.focusableChildren(m);0===P.length?m.focus():this._lastTabNavDirection===Ll?P[P.length-1].focus():P[0].focus()}_handleKeydown(d){"Tab"===d.key&&(this._lastTabNavDirection=d.shiftKey?Ll:"forward")}}const Ul=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ho=".sticky-top",aa="padding-right",Bl="margin-right";class hc{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,aa,m=>m+d),this._setElementAttributes(Ul,aa,m=>m+d),this._setElementAttributes(ho,Bl,m=>m-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,aa),this._resetElementAttributes(Ul,aa),this._resetElementAttributes(ho,Bl)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,m,P){const L=this.getWidth();this._applyManipulationCallback(d,Pe=>{if(Pe!==this._element&&window.innerWidth>Pe.clientWidth+L)return;this._saveInitialAttribute(Pe,m);const dt=window.getComputedStyle(Pe).getPropertyValue(m);Pe.style.setProperty(m,`${P(Number.parseFloat(dt))}px`)})}_saveInitialAttribute(d,m){const P=d.style.getPropertyValue(m);P&&Lr.setDataAttribute(d,m,P)}_resetElementAttributes(d,m){this._applyManipulationCallback(d,L=>{const K=Lr.getDataAttribute(L,m);null!==K?(Lr.removeDataAttribute(L,m),L.style.setProperty(m,K)):L.style.removeProperty(m)})}_applyManipulationCallback(d,m){if(so(d))m(d);else for(const P of kn.find(d,this._element))m(P)}}const ko=".bs.modal",Fo=`hide${ko}`,$l=`hidePrevented${ko}`,Lu=`hidden${ko}`,pc=`show${ko}`,Oa=`shown${ko}`,Gc=`resize${ko}`,jl=`click.dismiss${ko}`,Hl=`mousedown.dismiss${ko}`,$h=`keydown.dismiss${ko}`,Xd=`click${ko}.data-api`,Yd="modal-open",zl="modal-static",$u={backdrop:!0,focus:!0,keyboard:!0},gc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Jo extends Di{constructor(d,m){super(d,m),this._dialog=kn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new hc,this._addEventListeners()}static get Default(){return $u}static get DefaultType(){return gc}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||Ct.trigger(this._element,pc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Yd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){!this._isShown||this._isTransitioning||Ct.trigger(this._element,Fo).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ct.off(window,ko),Ct.off(this._dialog,ko),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qd({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ma({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const m=kn.findOne(".modal-body",this._dialog);m&&(m.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ct.trigger(this._element,Oa,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){Ct.on(this._element,$h,d=>{if("Escape"===d.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Ct.on(window,Gc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ct.on(this._element,Hl,d=>{Ct.one(this._element,jl,m=>{if(this._element===d.target&&this._element===m.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Yd),this._resetAdjustments(),this._scrollBar.reset(),Ct.trigger(this._element,Lu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Ct.trigger(this._element,$l).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,P=this._element.style.overflowY;"hidden"===P||this._element.classList.contains(zl)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(zl),this._queueCallback(()=>{this._element.classList.remove(zl),this._queueCallback(()=>{this._element.style.overflowY=P},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,m=this._scrollBar.getWidth(),P=m>0;if(P&&!d){const L=Hs()?"paddingLeft":"paddingRight";this._element.style[L]=`${m}px`}if(!P&&d){const L=Hs()?"paddingRight":"paddingLeft";this._element.style[L]=`${m}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,m){return this.each(function(){const P=Jo.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof P[d]>"u")throw new TypeError(`No method named "${d}"`);P[d](m)}})}}Ct.on(document,Xd,'[data-bs-toggle="modal"]',function(v){const d=kn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&v.preventDefault(),Ct.one(d,pc,L=>{L.defaultPrevented||Ct.one(d,Lu,()=>{eo(this)&&this.focus()})});const m=kn.findOne(".modal.show");m&&Jo.getInstance(m).hide(),Jo.getOrCreateInstance(d).toggle(this)}),vo(Jo),zs(Jo);const Ia=".bs.offcanvas",su=".data-api",mc=`load${Ia}${su}`,C="showing",f="hiding",A=".offcanvas.show",q=`show${Ia}`,oe=`shown${Ia}`,ke=`hide${Ia}`,ot=`hidePrevented${Ia}`,Nt=`hidden${Ia}`,In=`resize${Ia}`,Ln=`click${Ia}${su}`,Ur=`keydown.dismiss${Ia}`,ou={backdrop:!0,keyboard:!0,scroll:!1},au={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Lo extends Di{constructor(d,m){super(d,m),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ou}static get DefaultType(){return au}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||Ct.trigger(this._element,q,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new hc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(C),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(C),Ct.trigger(this._element,oe,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&!Ct.trigger(this._element,ke).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(f),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show",f),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new hc).reset(),Ct.trigger(this._element,Nt)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new qd({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{"static"!==this._config.backdrop?this.hide():Ct.trigger(this._element,ot)}:null})}_initializeFocusTrap(){return new Ma({trapElement:this._element})}_addEventListeners(){Ct.on(this._element,Ur,d=>{if("Escape"===d.key){if(this._config.keyboard)return void this.hide();Ct.trigger(this._element,ot)}})}static jQueryInterface(d){return this.each(function(){const m=Lo.getOrCreateInstance(this,d);if("string"==typeof d){if(void 0===m[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);m[d](this)}})}}Ct.on(document,Ln,'[data-bs-toggle="offcanvas"]',function(v){const d=kn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),ao(this))return;Ct.one(d,Nt,()=>{eo(this)&&this.focus()});const m=kn.findOne(A);m&&m!==d&&Lo.getInstance(m).hide(),Lo.getOrCreateInstance(d).toggle(this)}),Ct.on(window,mc,()=>{for(const v of kn.find(A))Lo.getOrCreateInstance(v).show()}),Ct.on(window,In,()=>{for(const v of kn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(v).position&&Lo.getOrCreateInstance(v).hide()}),vo(Lo),zs(Lo);const Gl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ju=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,th=(v,d)=>{const m=v.nodeName.toLowerCase();return d.includes(m)?!ju.has(m)||!!Hu.test(v.nodeValue):d.filter(P=>P instanceof RegExp).some(P=>P.test(m))},nh={allowList:Gl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},uu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},zu={entry:"(string|element|function|null)",selector:"(string|element)"};class ql extends Mo{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return nh}static get DefaultType(){return uu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[L,K]of Object.entries(this._config.content))this._setContent(d,K,L);const m=d.children[0],P=this._resolvePossibleFunction(this._config.extraClass);return P&&m.classList.add(...P.split(" ")),m}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[m,P]of Object.entries(d))super._typeCheckConfig({selector:m,entry:P},zu)}_setContent(d,m,P){const L=kn.findOne(P,d);if(L){if(!(m=this._resolvePossibleFunction(m)))return void L.remove();if(so(m))return void this._putElementInTemplate(oo(m),L);if(this._config.html)return void(L.innerHTML=this._maybeSanitize(m));L.textContent=m}}_maybeSanitize(d){return this._config.sanitize?function Hh(v,d,m){if(!v.length)return v;if(m&&"function"==typeof m)return m(v);const L=(new window.DOMParser).parseFromString(v,"text/html"),K=[].concat(...L.body.querySelectorAll("*"));for(const Pe of K){const dt=Pe.nodeName.toLowerCase();if(!Object.keys(d).includes(dt)){Pe.remove();continue}const lt=[].concat(...Pe.attributes),dn=[].concat(d["*"]||[],d[dt]||[]);for(const zt of lt)th(zt,dn)||Pe.removeAttribute(zt.nodeName)}return L.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return _r(d,[this])}_putElementInTemplate(d,m){if(this._config.html)return m.innerHTML="",void m.append(d);m.textContent=d.textContent}}const lg=new Set(["sanitize","allowList","sanitizeFn"]),Ql="fade",Qc="show",yc="hide.bs.modal",cu="hover",Wh="focus",gg={AUTO:"auto",TOP:"top",RIGHT:Hs()?"left":"right",BOTTOM:"bottom",LEFT:Hs()?"right":"left"},ih={allowList:Gl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fo={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ca extends Di{constructor(d,m){if(typeof l>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,m),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ih}static get DefaultType(){return fo}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Ct.off(this._element.closest(".modal"),yc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=Ct.trigger(this._element,this.constructor.eventName("show")),P=(Ro(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!P)return;this._disposePopper();const L=this._getTipElement();this._element.setAttribute("aria-describedby",L.getAttribute("id"));const{container:K}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(K.append(L),Ct.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(L),L.classList.add(Qc),"ontouchstart"in document.documentElement)for(const dt of[].concat(...document.body.children))Ct.on(dt,"mouseover",wu);this._queueCallback(()=>{Ct.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Ct.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Qc),"ontouchstart"in document.documentElement)for(const L of[].concat(...document.body.children))Ct.off(L,"mouseover",wu);this._activeTrigger.click=!1,this._activeTrigger[Wh]=!1,this._activeTrigger[cu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ct.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const m=this._getTemplateFactory(d).toHtml();if(!m)return null;m.classList.remove(Ql,Qc),m.classList.add(`bs-${this.constructor.NAME}-auto`);const P=(v=>{do{v+=Math.floor(1e6*Math.random())}while(document.getElementById(v));return v})(this.constructor.NAME).toString();return m.setAttribute("id",P),this._isAnimated()&&m.classList.add(Ql),m}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new ql({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ql)}_isShown(){return this.tip&&this.tip.classList.contains(Qc)}_createPopper(d){const m=_r(this._config.placement,[this,d,this._element]),P=gg[m.toUpperCase()];return Po(this._element,d,this._getPopperConfig(P))}_getOffset(){const{offset:d}=this._config;return"string"==typeof d?d.split(",").map(m=>Number.parseInt(m,10)):"function"==typeof d?m=>d(m,this._element):d}_resolvePossibleFunction(d){return _r(d,[this._element])}_getPopperConfig(d){const m={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:P=>{this._getTipElement().setAttribute("data-popper-placement",P.state.placement)}}]};return{...m,..._r(this._config.popperConfig,[m])}}_setListeners(){const d=this._config.trigger.split(" ");for(const m of d)if("click"===m)Ct.on(this._element,this.constructor.eventName("click"),this._config.selector,P=>{this._initializeOnDelegatedTarget(P).toggle()});else if("manual"!==m){const P=this.constructor.eventName(m===cu?"mouseenter":"focusin"),L=this.constructor.eventName(m===cu?"mouseleave":"focusout");Ct.on(this._element,P,this._config.selector,K=>{const Pe=this._initializeOnDelegatedTarget(K);Pe._activeTrigger["focusin"===K.type?Wh:cu]=!0,Pe._enter()}),Ct.on(this._element,L,this._config.selector,K=>{const Pe=this._initializeOnDelegatedTarget(K);Pe._activeTrigger["focusout"===K.type?Wh:cu]=Pe._element.contains(K.relatedTarget),Pe._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ct.on(this._element.closest(".modal"),yc,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,m){clearTimeout(this._timeout),this._timeout=setTimeout(d,m)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const m=Lr.getDataAttributes(this._element);for(const P of Object.keys(m))lg.has(P)&&delete m[P];return d={...m,..."object"==typeof d&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=!1===d.container?document.body:oo(d.container),"number"==typeof d.delay&&(d.delay={show:d.delay,hide:d.delay}),"number"==typeof d.title&&(d.title=d.title.toString()),"number"==typeof d.content&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[m,P]of Object.entries(this._config))this.constructor.Default[m]!==P&&(d[m]=P);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const m=Ca.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof m[d]>"u")throw new TypeError(`No method named "${d}"`);m[d]()}})}}zs(Ca);const Wu={...Ca.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ep={...Ca.DefaultType,content:"(null|string|element|function)"};class Gu extends Ca{static get Default(){return Wu}static get DefaultType(){return ep}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const m=Gu.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof m[d]>"u")throw new TypeError(`No method named "${d}"`);m[d]()}})}}zs(Gu);const vc=".bs.scrollspy",tp=`activate${vc}`,ed=`click${vc}`,np=`load${vc}.data-api`,Ec="active",Qh="[href]",sh=".nav-link",_g=`${sh}, .nav-item > ${sh}, .list-group-item`,yg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},vg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ah extends Di{constructor(d,m){super(d,m),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return yg}static get DefaultType(){return vg}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=oo(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,"string"==typeof d.threshold&&(d.threshold=d.threshold.split(",").map(m=>Number.parseFloat(m))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ct.off(this._config.target,ed),Ct.on(this._config.target,ed,Qh,d=>{const m=this._observableSections.get(d.target.hash);if(m){d.preventDefault();const P=this._rootElement||window,L=m.offsetTop-this._element.offsetTop;if(P.scrollTo)return void P.scrollTo({top:L,behavior:"smooth"});P.scrollTop=L}}))}_getNewObserver(){return new IntersectionObserver(m=>this._observerCallback(m),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(d){const m=Pe=>this._targetLinks.get(`#${Pe.target.id}`),P=Pe=>{this._previousScrollData.visibleEntryTop=Pe.target.offsetTop,this._process(m(Pe))},L=(this._rootElement||document.documentElement).scrollTop,K=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const Pe of d){if(!Pe.isIntersecting){this._activeTarget=null,this._clearActiveClass(m(Pe));continue}const dt=Pe.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(K&&dt){if(P(Pe),!L)return}else!K&&!dt&&P(Pe)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=kn.find(Qh,this._config.target);for(const m of d){if(!m.hash||ao(m))continue;const P=kn.findOne(decodeURI(m.hash),this._element);eo(P)&&(this._targetLinks.set(decodeURI(m.hash),m),this._observableSections.set(m.hash,P))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(Ec),this._activateParents(d),Ct.trigger(this._element,tp,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))kn.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(Ec);else for(const m of kn.parents(d,".nav, .list-group"))for(const P of kn.prev(m,_g))P.classList.add(Ec)}_clearActiveClass(d){d.classList.remove(Ec);const m=kn.find(`${Qh}.${Ec}`,d);for(const P of m)P.classList.remove(Ec)}static jQueryInterface(d){return this.each(function(){const m=ah.getOrCreateInstance(this,d);if("string"==typeof d){if(void 0===m[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);m[d]()}})}}Ct.on(window,np,()=>{for(const v of kn.find('[data-bs-spy="scroll"]'))ah.getOrCreateInstance(v)}),zs(ah);const Jc=".bs.tab",Ig=`hide${Jc}`,Zh=`hidden${Jc}`,uh=`show${Jc}`,rp=`shown${Jc}`,ip=`click${Jc}`,Cg=`keydown${Jc}`,ch=`load${Jc}`,ef="ArrowLeft",lu="ArrowRight",bg="ArrowUp",lh="ArrowDown",sp="Home",op="End",du="active",dh="show",rf=".dropdown-toggle",nd=`:not(${rf})`,rd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',id=`.nav-link${nd}, .list-group-item${nd}, [role="tab"]${nd}, ${rd}`,af=`.${du}[data-bs-toggle="tab"], .${du}[data-bs-toggle="pill"], .${du}[data-bs-toggle="list"]`;class hu extends Di{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ct.on(this._element,Cg,m=>this._keydown(m)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const m=this._getActiveElem(),P=m?Ct.trigger(m,Ig,{relatedTarget:d}):null;Ct.trigger(d,uh,{relatedTarget:m}).defaultPrevented||P&&P.defaultPrevented||(this._deactivate(m,d),this._activate(d,m))}_activate(d,m){d&&(d.classList.add(du),this._activate(kn.getElementFromSelector(d)),this._queueCallback(()=>{"tab"===d.getAttribute("role")?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),Ct.trigger(d,rp,{relatedTarget:m})):d.classList.add(dh)},d,d.classList.contains("fade")))}_deactivate(d,m){d&&(d.classList.remove(du),d.blur(),this._deactivate(kn.getElementFromSelector(d)),this._queueCallback(()=>{"tab"===d.getAttribute("role")?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),Ct.trigger(d,Zh,{relatedTarget:m})):d.classList.remove(dh)},d,d.classList.contains("fade")))}_keydown(d){if(![ef,lu,bg,lh,sp,op].includes(d.key))return;d.stopPropagation(),d.preventDefault();const m=this._getChildren().filter(L=>!ao(L));let P;if([sp,op].includes(d.key))P=m[d.key===sp?0:m.length-1];else{const L=[lu,lh].includes(d.key);P=Z(m,d.target,L,!0)}P&&(P.focus({preventScroll:!0}),hu.getOrCreateInstance(P).show())}_getChildren(){return kn.find(id,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,m){this._setAttributeIfNotExists(d,"role","tablist");for(const P of m)this._setInitialAttributesOnChild(P)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const m=this._elemIsActive(d),P=this._getOuterElement(d);d.setAttribute("aria-selected",m),P!==d&&this._setAttributeIfNotExists(P,"role","presentation"),m||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const m=kn.getElementFromSelector(d);m&&(this._setAttributeIfNotExists(m,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(m,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,m){const P=this._getOuterElement(d);if(!P.classList.contains("dropdown"))return;const L=(K,Pe)=>{const dt=kn.findOne(K,P);dt&&dt.classList.toggle(Pe,m)};L(rf,du),L(".dropdown-menu",dh),P.setAttribute("aria-expanded",m)}_setAttributeIfNotExists(d,m,P){d.hasAttribute(m)||d.setAttribute(m,P)}_elemIsActive(d){return d.classList.contains(du)}_getInnerElement(d){return d.matches(id)?d:kn.findOne(id,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const m=hu.getOrCreateInstance(this);if("string"==typeof d){if(void 0===m[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);m[d]()}})}}Ct.on(document,ip,rd,function(v){["A","AREA"].includes(this.tagName)&&v.preventDefault(),!ao(this)&&hu.getOrCreateInstance(this).show()}),Ct.on(window,ch,()=>{for(const v of kn.find(af))hu.getOrCreateInstance(v)}),zs(hu);const fu=".bs.toast",up=`mouseover${fu}`,Am=`mouseout${fu}`,cp=`focusin${fu}`,pu=`focusout${fu}`,uf=`hide${fu}`,cf=`hidden${fu}`,fh=`show${fu}`,sd=`shown${fu}`,lp="show",od="showing",dp={animation:"boolean",autohide:"boolean",delay:"number"},hp={animation:!0,autohide:!0,delay:5e3};class Ku extends Di{constructor(d,m){super(d,m),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hp}static get DefaultType(){return dp}static get NAME(){return"toast"}show(){Ct.trigger(this._element,fh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(lp,od),this._queueCallback(()=>{this._element.classList.remove(od),Ct.trigger(this._element,sd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Ct.trigger(this._element,uf).defaultPrevented&&(this._element.classList.add(od),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(od,lp),Ct.trigger(this._element,cf)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lp),super.dispose()}isShown(){return this._element.classList.contains(lp)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,m){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=m;break;case"focusin":case"focusout":this._hasKeyboardInteraction=m}if(m)return void this._clearTimeout();const P=d.relatedTarget;this._element===P||this._element.contains(P)||this._maybeScheduleHide()}_setListeners(){Ct.on(this._element,up,d=>this._onInteraction(d,!0)),Ct.on(this._element,Am,d=>this._onInteraction(d,!1)),Ct.on(this._element,cp,d=>this._onInteraction(d,!0)),Ct.on(this._element,pu,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const m=Ku.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof m[d]>"u")throw new TypeError(`No method named "${d}"`);m[d](this)}})}}vo(Ku),zs(Ku);var As=B(4341);let df=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(P,L){1&P&&(g.j41(0,"section",0)(1,"div",1)(2,"div",2),g.nrm(3,"i",3),g.j41(4,"p"),g.EFF(5),g.k0s()(),g.j41(6,"div",2),g.nrm(7,"i",4),g.j41(8,"p"),g.EFF(9),g.k0s()(),g.j41(10,"div",2),g.nrm(11,"i",5),g.j41(12,"p"),g.EFF(13),g.k0s()()()()),2&P&&(g.R7$(5),g.JRh(L.phoneNumber),g.R7$(4),g.JRh(L.address),g.R7$(4),g.JRh(L.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return v})();var ph=B(6340);let fp=(()=>{class v{constructor(m,P,L){this.firestore=m,this.route=P,this.sanitizer=L,this.mapIframeUrl=null}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id,this.loadMapIframe()})}loadMapIframe(){this.firestore.collection("businesses").doc(this.businessId).valueChanges().subscribe(m=>{this.mapIframeUrl=this.sanitizer.bypassSecurityTrustHtml(m?.mapIframeUrl??null)})}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(ph.Qe),g.rXU(kr.nX),g.rXU(le.up))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-map-iframe"]],decls:5,vars:1,consts:[[1,"map-section"],[1,"section-heading"],[1,"map-container"],[1,"iframeMap",3,"innerHTML"]],template:function(P,L){1&P&&(g.j41(0,"section",0)(1,"div",1),g.EFF(2,"Find Us Here"),g.k0s(),g.j41(3,"div",2),g.nrm(4,"div",3),g.k0s()()),2&P&&(g.R7$(4),g.Y8G("innerHTML",L.mapIframeUrl,g.npT))},styles:[".map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]})}return v})();function wg(v,d){if(1&v&&(g.j41(0,"div",19)(1,"h3"),g.EFF(2,"Email"),g.k0s(),g.j41(3,"p")(4,"a",42),g.EFF(5),g.k0s()()()),2&v){const m=g.XpG(2);g.R7$(4),g.Mz_("href","mailto:",m.business.email,"",g.B4B),g.R7$(1),g.JRh(m.business.email)}}function tl(v,d){if(1&v&&(g.j41(0,"div",19)(1,"h3"),g.EFF(2,"Fax"),g.k0s(),g.j41(3,"p"),g.EFF(4),g.k0s()()),2&v){const m=g.XpG(2);g.R7$(4),g.JRh(m.business.fax)}}function pp(v,d){if(1&v&&(g.j41(0,"div",19)(1,"h3"),g.EFF(2,"Social Media"),g.k0s(),g.j41(3,"p")(4,"a",42),g.EFF(5),g.k0s()()()),2&v){const m=g.XpG(2);g.R7$(4),g.FS9("href",m.business.socialMedia,g.B4B),g.R7$(1),g.JRh(m.business.socialMedia)}}function Sm(v,d){if(1&v){const m=g.RV6();g.j41(0,"div")(1,"div",10)(2,"div",11)(3,"h1"),g.EFF(4,"Contact Us"),g.k0s(),g.j41(5,"div",12)(6,"p"),g.EFF(7,"We're here to answer any questions you have"),g.k0s()()()(),g.j41(8,"div",13)(9,"section",14)(10,"div",15),g.EFF(11,"Get in Touch"),g.k0s(),g.j41(12,"div",16)(13,"div",17)(14,"div",18)(15,"div",19)(16,"h3"),g.EFF(17,"Address"),g.k0s(),g.j41(18,"p"),g.EFF(19),g.k0s()(),g.j41(20,"div",19)(21,"h3"),g.EFF(22,"Phone"),g.k0s(),g.j41(23,"p"),g.EFF(24),g.k0s()(),g.DNE(25,wg,6,2,"div",20),g.DNE(26,tl,5,1,"div",20),g.DNE(27,pp,6,2,"div",20),g.j41(28,"div")(29,"h3"),g.EFF(30,"Visitation Hours"),g.k0s(),g.j41(31,"ul")(32,"li")(33,"strong"),g.EFF(34,"Monday:"),g.k0s(),g.EFF(35," 7:00am \u2013 7:00pm"),g.k0s(),g.j41(36,"li")(37,"strong"),g.EFF(38,"Tuesday:"),g.k0s(),g.EFF(39," 7:00am \u2013 7:00pm"),g.k0s(),g.j41(40,"li")(41,"strong"),g.EFF(42,"Wednesday:"),g.k0s(),g.EFF(43," 7:00am \u2013 7:00pm"),g.k0s(),g.j41(44,"li")(45,"strong"),g.EFF(46,"Thursday:"),g.k0s(),g.EFF(47," 7:00am \u2013 7:00pm"),g.k0s(),g.j41(48,"li")(49,"strong"),g.EFF(50,"Friday:"),g.k0s(),g.EFF(51," 7:00am \u2013 7:00pm"),g.k0s(),g.j41(52,"li")(53,"strong"),g.EFF(54,"Saturday:"),g.k0s(),g.EFF(55," 7:00am \u2013 7:00pm"),g.k0s(),g.j41(56,"li")(57,"strong"),g.EFF(58,"Sunday:"),g.k0s(),g.EFF(59," 7:00am \u2013 7:00pm"),g.k0s()()()()(),g.j41(60,"div",21)(61,"div",22),g.nrm(62,"img",23),g.k0s()()()(),g.j41(63,"section",24)(64,"div",15),g.EFF(65,"Send Us a Message"),g.k0s(),g.j41(66,"div",25)(67,"div",26)(68,"div",27)(69,"h2",28),g.EFF(70,"How can we help?"),g.k0s(),g.j41(71,"p",29),g.EFF(72,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),g.k0s()()(),g.j41(73,"div",30)(74,"form",31,32),g.bIt("ngSubmit",function(){g.eBV(m);const L=g.XpG();return g.Njj(L.onSubmit())}),g.j41(76,"div",33)(77,"label",34),g.EFF(78,"Name"),g.k0s(),g.j41(79,"input",35),g.bIt("ngModelChange",function(L){g.eBV(m);const K=g.XpG();return g.Njj(K.formData.name=L)}),g.k0s()(),g.j41(80,"div",33)(81,"label",36),g.EFF(82,"Email"),g.k0s(),g.j41(83,"input",37),g.bIt("ngModelChange",function(L){g.eBV(m);const K=g.XpG();return g.Njj(K.formData.email=L)}),g.k0s()(),g.j41(84,"div",33)(85,"label",38),g.EFF(86,"Message"),g.k0s(),g.j41(87,"textarea",39),g.bIt("ngModelChange",function(L){g.eBV(m);const K=g.XpG();return g.Njj(K.formData.message=L)}),g.k0s()(),g.j41(88,"button",40),g.EFF(89,"Submit"),g.k0s()()()()(),g.nrm(90,"app-information",41)(91,"app-map-iframe"),g.k0s()()}if(2&v){const m=g.sdS(75),P=g.XpG();g.R7$(19),g.JRh(P.business.address),g.R7$(5),g.JRh(P.business.phone),g.R7$(1),g.Y8G("ngIf",P.business.email),g.R7$(1),g.Y8G("ngIf",P.business.fax),g.R7$(1),g.Y8G("ngIf",P.business.socialMedia),g.R7$(52),g.Y8G("ngModel",P.formData.name),g.R7$(4),g.Y8G("ngModel",P.formData.email),g.R7$(4),g.Y8G("ngModel",P.formData.message),g.R7$(1),g.Y8G("disabled",!m.form.valid),g.R7$(2),g.Y8G("phoneNumber",P.business.phone)("address",P.business.address)("email",P.business.email)}}let gp=(()=>{class v{constructor(m,P,L,K){this.webContent=m,this.route=P,this.http=L,this.metaService=K,this.formData={name:"",email:"",message:""},this.modalTitle="",this.modalMessage=""}ngOnInit(){this.route.queryParams.subscribe(m=>{let P=m.id;this.metaService.getMetaData(P).subscribe(L=>{this.metaService.updateMetaTags(L)}),this.webContent.getBusinessData(P).subscribe(L=>{L&&(this.business=L)})})}ngAfterViewInit(){setTimeout(()=>{const m=document.getElementById("responseModal");m?this.responseModal=new Jo(m):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(m=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},m=>{console.error("Error sending email",m),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}showModal(){this.responseModal&&this.responseModal.show()}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(Xr.N),g.rXU(kr.nX),g.rXU(De),g.rXU(zi.R))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-contact-us"]],decls:13,vars:3,consts:[[4,"ngIf"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"right-info"],[1,"right-image"],["src","../../../assets/sharedAssets/image_fx_.jpg","alt","Contact Image"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[3,"phoneNumber","address","email"],[3,"href"]],template:function(P,L){1&P&&(g.DNE(0,Sm,92,12,"div",0),g.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),g.EFF(6),g.k0s(),g.nrm(7,"button",6),g.k0s(),g.j41(8,"div",7),g.EFF(9),g.k0s(),g.j41(10,"div",8)(11,"button",9),g.EFF(12,"Close"),g.k0s()()()()()),2&P&&(g.Y8G("ngIf",L.business),g.R7$(6),g.JRh(L.modalTitle),g.R7$(3),g.SpI(" ",L.modalMessage," "))},dependencies:[Re.bT,As.qT,As.me,As.BC,As.cb,As.YS,As.vS,As.cV,df,fp],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(/assets/splash2.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:#4caf50;color:var(--primary-color);padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#45a049}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}"]})}return v})();var hf=B(467),mp=B(214);function qu(v,d){if(1&v){const m=g.RV6();g.j41(0,"div",14),g.bIt("click",function(){const K=g.eBV(m).$implicit,Pe=g.XpG(2);return g.Njj(Pe.onImageClick(K.url))}),g.nrm(1,"img",15),g.k0s()}if(2&v){const m=d.$implicit;g.R7$(1),g.Y8G("src",m.url,g.B4B)}}function Na(v,d){if(1&v){const m=g.RV6();g.j41(0,"app-image-viewer-modal",16),g.bIt("closeModal",function(){g.eBV(m);const L=g.XpG(2);return g.Njj(L.onCloseModal())}),g.k0s()}if(2&v){const m=g.XpG(2);g.Y8G("imageUrl",m.selectedImageUrl)}}function Pm(v,d){if(1&v&&(g.j41(0,"div")(1,"div",4)(2,"div",5)(3,"h1"),g.EFF(4,"Our Home"),g.k0s(),g.j41(5,"div",6)(6,"p"),g.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),g.k0s()()()(),g.j41(8,"div",7)(9,"section",8)(10,"div",9),g.EFF(11,"Welcome to Our Home"),g.k0s(),g.j41(12,"p"),g.EFF(13),g.k0s()(),g.j41(14,"section",10)(15,"div",9),g.EFF(16,"Explore Our Gallery"),g.k0s(),g.j41(17,"div",11),g.DNE(18,qu,2,1,"div",12),g.k0s()()(),g.DNE(19,Na,1,1,"app-image-viewer-modal",13),g.k0s()),2&v){const m=g.XpG();g.R7$(13),g.SpI(" ",m.business.photoGalleryText," "),g.R7$(5),g.Y8G("ngForOf",m.images),g.R7$(1),g.Y8G("ngIf",m.selectedImageUrl)}}let _p=(()=>{class v{constructor(m,P,L,K){this.route=m,this.webContent=P,this.metaService=L,this.router=K,this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id,this.loadImages(),this.metaService.getMetaData(this.businessId).subscribe(P=>{this.metaService.updateMetaTags(P)}),this.webContent.getBusinessData(this.businessId).subscribe(P=>{P&&(this.business=P)})})}loadImages(){var m=this;this.webContent.getBusinessGalleryImagesById(this.businessId).pipe((0,de.n)(P=>{const L=P.map(function(){var K=(0,hf.A)(function*(Pe){return(yield m.webContent.checkImageExists(Pe.url))?Pe:null});return function(Pe){return K.apply(this,arguments)}}());return(0,ye.H)(Promise.all(L))}),(0,Be.T)(P=>P.filter(L=>null!==L))).subscribe(P=>{this.images=P})}onImageClick(m){this.selectedImageUrl=m}onCloseModal(){this.selectedImageUrl=null}navigateToContact(m){this.router.navigate(["/contact-us"],{queryParams:{id:m}})}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(kr.nX),g.rXU(Xr.N),g.rXU(zi.R),g.rXU(kr.Ix))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:9,vars:1,consts:[[4,"ngIf"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(P,L){1&P&&(g.DNE(0,Pm,20,3,"div",0),g.j41(1,"div",1)(2,"div",2)(3,"h2"),g.EFF(4,"Come Meet Our Family"),g.k0s(),g.j41(5,"p"),g.EFF(6,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),g.k0s(),g.j41(7,"button",3),g.bIt("click",function(){return L.navigateToContact(L.business.id)}),g.EFF(8,"Schedule a Visit"),g.k0s()()()),2&P&&g.Y8G("ngIf",L.business)},dependencies:[Re.Sq,Re.bT,mp.W],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}return v})();var Ag=B(4796);function ad(v,d){if(1&v&&(g.j41(0,"div",11),g.EFF(1),g.k0s()),2&v){const m=g.XpG();g.R7$(1),g.JRh(m.errorMessage)}}let yp=(()=>{class v{constructor(m,P){this.authService=m,this.router=P,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(m=>{this.errorMessage=m.message})}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(Ag.u),g.rXU(kr.Ix))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"login-button"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(P,L){1&P&&(g.j41(0,"div",0)(1,"div",1)(2,"h2",2),g.EFF(3,"Login"),g.k0s(),g.j41(4,"form",3),g.bIt("submit",function(){return L.login()}),g.j41(5,"div",4)(6,"label",5),g.EFF(7,"Email"),g.k0s(),g.j41(8,"input",6),g.bIt("ngModelChange",function(Pe){return L.email=Pe}),g.k0s()(),g.j41(9,"div",4)(10,"label",7),g.EFF(11,"Password"),g.k0s(),g.j41(12,"input",8),g.bIt("ngModelChange",function(Pe){return L.password=Pe}),g.k0s()(),g.j41(13,"button",9),g.EFF(14,"Login"),g.k0s(),g.DNE(15,ad,2,1,"div",10),g.k0s()()()),2&P&&(g.R7$(8),g.Y8G("ngModel",L.email),g.R7$(4),g.Y8G("ngModel",L.password),g.R7$(3),g.Y8G("ngIf",L.errorMessage))},dependencies:[Re.bT,As.qT,As.me,As.BC,As.cb,As.YS,As.vS,As.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return v})();const ff=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Us.B},{path:"about-us",component:yt},{path:"services",component:wn},{path:"contact-us",component:gp},{path:"gallery",component:_p},{path:"login",component:yp},{path:"login",component:yp},{path:"admin",loadChildren:()=>B.e(611).then(B.bind(B,6611)).then(v=>v.AdminModule)},{path:":id",component:Us.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Dg=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275mod=g.$C({type:v});static#n=this.\u0275inj=g.G2t({imports:[kr.iI.forRoot(ff),kr.iI]})}return v})();var Rm=B(5009);function Mm(v,d){if(1&v&&g.nrm(0,"img",11),2&v){const m=g.XpG();g.Y8G("src",null==m.business?null:m.business.logoImage,g.B4B)}}const Om=function(v){return{"open-bar1":v}},pf=function(v){return{"open-bar2":v}},ud=function(v){return{"open-bar3":v}},ka=function(v){return{active:v}};let nl=(()=>{class v{constructor(m,P,L){this.route=m,this.router=P,this.content=L,this.businessId="",this.menuActive=!1,this.menuOpen=!1}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id||"",this.content.getBusinessData(this.businessId).subscribe(P=>{this.business=P})})}navigateTo(m){const P=this.businessId?{id:this.businessId}:{};console.log("This Business id form query string",this.businessId),this.closeMenu(),this.router.navigate([`/${m}`],{queryParams:P}).then(L=>{L||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(kr.nX),g.rXU(kr.Ix),g.rXU(Xr.N))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-navigation"]],decls:20,vars:13,consts:[[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"click"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(P,L){1&P&&(g.j41(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),g.bIt("click",function(){return L.navigateTo("home")}),g.DNE(4,Mm,1,1,"img",4),g.k0s()(),g.j41(5,"div",5),g.bIt("click",function(){return L.toggleMenu()}),g.nrm(6,"div",6)(7,"div",7)(8,"div",8),g.k0s(),g.j41(9,"ul",9)(10,"li",10),g.bIt("click",function(){return L.navigateTo("home")}),g.EFF(11,"Home"),g.k0s(),g.j41(12,"li",10),g.bIt("click",function(){return L.navigateTo("services")}),g.EFF(13,"Services"),g.k0s(),g.j41(14,"li",10),g.bIt("click",function(){return L.navigateTo("about-us")}),g.EFF(15,"About Us"),g.k0s(),g.j41(16,"li",10),g.bIt("click",function(){return L.navigateTo("gallery")}),g.EFF(17,"gallery"),g.k0s(),g.j41(18,"li",10),g.bIt("click",function(){return L.navigateTo("contact-us")}),g.EFF(19,"Contact"),g.k0s()()()()),2&P&&(g.R7$(4),g.Y8G("ngIf",null==L.business?null:L.business.logoImage),g.R7$(2),g.Y8G("ngClass",g.eq3(5,Om,L.menuOpen)),g.R7$(1),g.Y8G("ngClass",g.eq3(7,pf,L.menuOpen)),g.R7$(1),g.Y8G("ngClass",g.eq3(9,ud,L.menuOpen)),g.R7$(1),g.Y8G("ngClass",g.eq3(11,ka,L.menuOpen)))},dependencies:[Re.YU,Re.bT],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return v})(),vp=(()=>{class v{constructor(m,P){this.route=m,this.webContentService=P}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id,this.webContentService.getBusinessData(this.businessId).subscribe(P=>{P&&(this.business=P)})})}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(kr.nX),g.rXU(Xr.N))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-footer"]],decls:33,vars:12,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"]],template:function(P,L){1&P&&(g.j41(0,"footer",0)(1,"div",1)(2,"h2",2),g.EFF(3),g.k0s(),g.nrm(4,"hr",3),g.j41(5,"div",4)(6,"div",5)(7,"h3",6),g.EFF(8,"Location:"),g.k0s(),g.j41(9,"address"),g.EFF(10),g.k0s()(),g.j41(11,"div",5)(12,"h3",6),g.EFF(13),g.k0s(),g.j41(14,"p"),g.EFF(15,"Email: "),g.j41(16,"a",7),g.EFF(17),g.k0s()(),g.j41(18,"p"),g.EFF(19,"Phone: "),g.j41(20,"a",7),g.EFF(21),g.k0s()()(),g.j41(22,"div",5)(23,"h3",6),g.EFF(24),g.k0s(),g.j41(25,"p"),g.EFF(26,"Email: "),g.j41(27,"a",7),g.EFF(28),g.k0s()(),g.j41(29,"p"),g.EFF(30,"Phone: "),g.j41(31,"a",7),g.EFF(32),g.k0s()()()()()()),2&P&&(g.R7$(3),g.JRh(null==L.business?null:L.business.businessName),g.R7$(7),g.SpI(" ",null==L.business?null:L.business.address," "),g.R7$(3),g.SpI("Provider:",null==L.business?null:L.business.providerName,""),g.R7$(3),g.Mz_("href","mailto:",null==L.business?null:L.business.email,"",g.B4B),g.R7$(1),g.SpI(" ",null==L.business?null:L.business.email,""),g.R7$(3),g.Mz_("href","tel:+",null==L.business?null:L.business.phone,"",g.B4B),g.R7$(1),g.JRh(null==L.business?null:L.business.phone),g.R7$(3),g.SpI("Resident Manager:",null==L.business?null:L.business.providerName,""),g.R7$(3),g.Mz_("href","mailto:",null==L.business?null:L.business.email,"",g.B4B),g.R7$(1),g.SpI(" ",null==L.business?null:L.business.email,""),g.R7$(3),g.Mz_("href","tel:+",null==L.business?null:L.business.phone,"",g.B4B),g.R7$(1),g.JRh(null==L.business?null:L.business.phone))},styles:[".footer[_ngcontent-%COMP%]{padding:40px;text-align:center}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;max-width:1200px;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}"]})}return v})(),gf=(()=>{class v{constructor(m,P,L,K,Pe){this.route=m,this.webContent=P,this.metaService=L,this.router=K,this.themeService=Pe,this.title="adult-family-home",this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id,this.loadBusinessData(),this.loadThemeColors()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(m=>{m&&(this.business=m)})}loadThemeColors(){this.themeService.getThemeColors(this.businessId).subscribe(m=>{console.log("Theme colors: ",m),m&&this.hasValidColors(m)?(this.colors=m,this.applyTheme()):(console.warn("No valid colors found in the database. Applying default theme."),this.themeService.resetToDefaultColors().subscribe(P=>{this.colors=P&&this.hasValidColors(P)?P:{primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.applyTheme()}))},m=>{console.error("Error fetching theme colors: ",m),this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.applyTheme()})}applyTheme(){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",this.colors.primaryColor),document.documentElement.style.setProperty("--secondary-color",this.colors.secondaryColor),document.documentElement.style.setProperty("--accent-color",this.colors.accentColor),document.documentElement.style.setProperty("--background-color",this.colors.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",this.colors.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",this.colors.textColor),document.documentElement.style.setProperty("--nav-background-color",this.colors.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",this.colors.navTextColor),document.documentElement.style.setProperty("--nav-active-background",this.colors.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",this.colors.navActiveText),document.documentElement.style.setProperty("--button-color",this.colors.buttonColor),document.documentElement.style.setProperty("--button-hover-color",this.colors.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(m){return m.primaryColor&&m.secondaryColor&&m.accentColor&&m.backgroundColor&&m.darkBackgroundColor&&m.textColor&&m.navBackgroundColor&&m.navTextColor&&m.navActiveBackground&&m.navActiveText&&m.buttonColor&&m.buttonHoverColor}static#e=this.\u0275fac=function(P){return new(P||v)(g.rXU(kr.nX),g.rXU(Xr.N),g.rXU(zi.R),g.rXU(kr.Ix),g.rXU(Rm.F))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["app-root"]],decls:3,vars:0,template:function(P,L){1&P&&g.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[kr.n3,nl,vp]})}return v})();const gh_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var gu=B(2214),Ks=B(5407);class cd{constructor(d){return d}}class mu{constructor(){return(0,gu.Dk)()}}const Ip=new g.nKC("angularfire2._apps"),rl={provide:cd,useFactory:function Sg(v){return v&&1===v.length?v[0]:new cd((0,gu.Sx)())},deps:[[new g.Xx1,Ip]]},Cp={provide:mu,deps:[[new g.Xx1,Ip]]};function xm(v){return(d,m)=>{const P=d.runOutsideAngular(()=>v(m));return new cd(P)}}let Nm=(()=>{class v{constructor(m){(0,gu.KO)("angularfire",Ks.xv.full,"core"),(0,gu.KO)("angularfire",Ks.xv.full,"app"),(0,gu.KO)("angular",g.xvI.full,m.toString())}static \u0275fac=function(P){return new(P||v)(g.KVO(g.Agw))};static \u0275mod=g.$C({type:v});static \u0275inj=g.G2t({providers:[rl,Cp]})}return v})();function km(v,...d){return{ngModule:Nm,providers:[{provide:Ip,useFactory:xm(v),multi:!0,deps:[g.SKi,g.zZn,Ks.u0,...d]}]}}const Tp=(0,Ks.S3)(gu.Wp,!0);B(4033),B(7852),B(1076),B(8041),B(1362);class mh{constructor(){return(0,Ks.CA)("auth")}}var Km=B(9583);class _d{constructor(d){return d}}const ol="firestore",xp=new g.nKC("angularfire2.firestore-instances");function Ug(v){return(d,m)=>{const P=d.runOutsideAngular(()=>v(m));return new _d(P)}}const yd={provide:class Op{constructor(){return(0,Ks.CA)(ol)}},deps:[[new g.Xx1,xp]]},al={provide:_d,useFactory:function Np(v,d){const m=(0,Ks.lR)(ol,v,d);return m&&new _d(m)},deps:[[new g.Xx1,xp],cd]};let qm=(()=>{class v{constructor(){(0,gu.KO)("angularfire",Ks.xv.full,"fst")}static \u0275fac=function(P){return new(P||v)};static \u0275mod=g.$C({type:v});static \u0275inj=g.G2t({providers:[al,yd]})}return v})();function vd(v,...d){return{ngModule:qm,providers:[{provide:xp,useFactory:Ug(v),multi:!0,deps:[g.SKi,g.zZn,Ks.u0,mu,[new g.Xx1,mh],[new g.Xx1,Ks.Jv],...d]}]}}const Kg=(0,Ks.S3)(Km.aU,!0);var _v=B(9253),yy=B(8721),h_=B(1977),f_=B(4535);class jp{constructor(d){return d}}const Yg="storage",dl=new g.nKC("angularfire2.storage-instances");function e(v){return(d,m)=>{const P=d.runOutsideAngular(()=>v(m));return new jp(P)}}const r={provide:class yv{constructor(){return(0,Ks.CA)(Yg)}},deps:[[new g.Xx1,dl]]},s={provide:jp,useFactory:function a(v,d){const m=(0,Ks.lR)(Yg,v,d);return m&&new jp(m)},deps:[[new g.Xx1,dl],cd]};let u=(()=>{class v{constructor(){(0,gu.KO)("angularfire",Ks.xv.full,"gcs")}static \u0275fac=function(P){return new(P||v)};static \u0275mod=g.$C({type:v});static \u0275inj=g.G2t({providers:[s,r]})}return v})();function p(v,...d){return{ngModule:u,providers:[{provide:dl,useFactory:e(v),multi:!0,deps:[g.SKi,g.zZn,Ks.u0,mu,[new g.Xx1,mh],[new g.Xx1,Ks.Jv],...d]}]}}const Rt=(0,Ks.S3)(f_.c7,!0);let Ge=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275mod=g.$C({type:v,bootstrap:[gf]});static#n=this.\u0275inj=g.G2t({imports:[le.Bb,kr.iI,Dg,ph.cM,yy.y5,h_.X8,_v.bf.initializeApp(gh_firebase),km(()=>Tp(gh_firebase)),vd(()=>Kg()),p(()=>Rt()),As.X1,As.YN,Ne]})}return v})();le.sG().bootstrapModule(Ge).catch(v=>console.error(v))},4412:(Zt,Qe,B)=>{B.d(Qe,{t:()=>le});var l=B(1413);class le extends l.B{constructor(Ae){super(),this._value=Ae}get value(){return this.getValue()}_subscribe(Ae){const ye=super._subscribe(Ae);return!ye.closed&&Ae.next(this._value),ye}getValue(){const{hasError:Ae,thrownError:ye,_value:Se}=this;if(Ae)throw ye;return this._throwIfClosed(),Se}next(Ae){super.next(this._value=Ae)}}},1985:(Zt,Qe,B)=>{B.d(Qe,{c:()=>Fe});var l=B(7707),le=B(8359),g=B(3494),Ae=B(1203),ye=B(1026),Se=B(8071),Ve=B(9786);let Fe=(()=>{class Re{constructor(We){We&&(this._subscribe=We)}lift(We){const It=new Re;return It.source=this,It.operator=We,It}subscribe(We,It,gt){const kt=function de(Re){return Re&&Re instanceof l.vU||function ae(Re){return Re&&(0,Se.T)(Re.next)&&(0,Se.T)(Re.error)&&(0,Se.T)(Re.complete)}(Re)&&(0,le.Uv)(Re)}(We)?We:new l.Ms(We,It,gt);return(0,Ve.Y)(()=>{const{operator:bt,source:Xt}=this;kt.add(bt?bt.call(kt,Xt):Xt?this._subscribe(kt):this._trySubscribe(kt))}),kt}_trySubscribe(We){try{return this._subscribe(We)}catch(It){We.error(It)}}forEach(We,It){return new(It=Be(It))((gt,kt)=>{const bt=new l.Ms({next:Xt=>{try{We(Xt)}catch(Ke){kt(Ke),bt.unsubscribe()}},error:kt,complete:gt});this.subscribe(bt)})}_subscribe(We){var It;return null===(It=this.source)||void 0===It?void 0:It.subscribe(We)}[g.s](){return this}pipe(...We){return(0,Ae.m)(We)(this)}toPromise(We){return new(We=Be(We))((It,gt)=>{let kt;this.subscribe(bt=>kt=bt,bt=>gt(bt),()=>It(kt))})}}return Re.create=ut=>new Re(ut),Re})();function Be(Re){var ut;return null!==(ut=Re??ye.$.Promise)&&void 0!==ut?ut:Promise}},1413:(Zt,Qe,B)=>{B.d(Qe,{B:()=>Ve});var l=B(1985),le=B(8359);const Ae=(0,B(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=B(7908),Se=B(9786);let Ve=(()=>{class Be extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Re=new Fe(this,this);return Re.operator=de,Re}_throwIfClosed(){if(this.closed)throw new Ae}next(de){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(de)}})}error(de){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Re}=this;for(;Re.length;)Re.shift().error(de)}})}complete(){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Re,isStopped:ut,observers:We}=this;return Re||ut?le.Kn:(this.currentObservers=null,We.push(de),new le.yU(()=>{this.currentObservers=null,(0,ye.o)(We,de)}))}_checkFinalizedStatuses(de){const{hasError:Re,thrownError:ut,isStopped:We}=this;Re?de.error(ut):We&&de.complete()}asObservable(){const de=new l.c;return de.source=this,de}}return Be.create=(ae,de)=>new Fe(ae,de),Be})();class Fe extends Ve{constructor(ae,de){super(),this.destination=ae,this.source=de}next(ae){var de,Re;null===(Re=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Re||Re.call(de,ae)}error(ae){var de,Re;null===(Re=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Re||Re.call(de,ae)}complete(){var ae,de;null===(de=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===de||de.call(ae)}_subscribe(ae){var de,Re;return null!==(Re=null===(de=this.source)||void 0===de?void 0:de.subscribe(ae))&&void 0!==Re?Re:le.Kn}}},7707:(Zt,Qe,B)=>{B.d(Qe,{Ms:()=>gt,vU:()=>Re});var l=B(8071),le=B(8359),g=B(1026),Ae=B(5334),ye=B(5343);const Se=Be("C",void 0,void 0);function Be(Ue,Je,ze){return{kind:Ue,value:Je,error:ze}}var ae=B(9270),de=B(9786);class Re extends le.yU{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,le.Uv)(Je)&&Je.add(this)):this.destination=Ke}static create(Je,ze,Xe){return new gt(Je,ze,Xe)}next(Je){this.isStopped?Xt(function Fe(Ue){return Be("N",Ue,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?Xt(function Ve(Ue){return Be("E",void 0,Ue)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?Xt(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function We(Ue,Je){return ut.call(Ue,Je)}class It{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Je)}catch(Xe){kt(Xe)}}error(Je){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Je)}catch(Xe){kt(Xe)}else kt(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(ze){kt(ze)}}}class gt extends Re{constructor(Je,ze,Xe){let mt;if(super(),(0,l.T)(Je)||!Je)mt={next:Je??void 0,error:ze??void 0,complete:Xe??void 0};else{let St;this&&g.$.useDeprecatedNextContext?(St=Object.create(Je),St.unsubscribe=()=>this.unsubscribe(),mt={next:Je.next&&We(Je.next,St),error:Je.error&&We(Je.error,St),complete:Je.complete&&We(Je.complete,St)}):mt=Je}this.destination=new It(mt)}}function kt(Ue){g.$.useDeprecatedSynchronousErrorHandling?(0,de.l)(Ue):(0,Ae.m)(Ue)}function Xt(Ue,Je){const{onStoppedNotification:ze}=g.$;ze&&ae.f.setTimeout(()=>ze(Ue,Je))}const Ke={closed:!0,next:ye.l,error:function bt(Ue){throw Ue},complete:ye.l}},8359:(Zt,Qe,B)=>{B.d(Qe,{Kn:()=>Se,yU:()=>ye,Uv:()=>Ve});var l=B(8071);const g=(0,B(1853).L)(Be=>function(de){Be(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Re,ut)=>`${ut+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ae=B(7908);class ye{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const We of de)We.remove(this);else de.remove(this);const{initialTeardown:Re}=this;if((0,l.T)(Re))try{Re()}catch(We){ae=We instanceof g?We.errors:[We]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const We of ut)try{Fe(We)}catch(It){ae=ae??[],It instanceof g?ae=[...ae,...It.errors]:ae.push(It)}}if(ae)throw new g(ae)}}add(ae){var de;if(ae&&ae!==this)if(this.closed)Fe(ae);else{if(ae instanceof ye){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ae)}}_hasParent(ae){const{_parentage:de}=this;return de===ae||Array.isArray(de)&&de.includes(ae)}_addParent(ae){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ae),de):de?[de,ae]:ae}_removeParent(ae){const{_parentage:de}=this;de===ae?this._parentage=null:Array.isArray(de)&&(0,Ae.o)(de,ae)}remove(ae){const{_finalizers:de}=this;de&&(0,Ae.o)(de,ae),ae instanceof ye&&ae._removeParent(this)}}ye.EMPTY=(()=>{const Be=new ye;return Be.closed=!0,Be})();const Se=ye.EMPTY;function Ve(Be){return Be instanceof ye||Be&&"closed"in Be&&(0,l.T)(Be.remove)&&(0,l.T)(Be.add)&&(0,l.T)(Be.unsubscribe)}function Fe(Be){(0,l.T)(Be)?Be():Be.unsubscribe()}},1026:(Zt,Qe,B)=>{B.d(Qe,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Zt,Qe,B)=>{B.d(Qe,{x:()=>ye});var l=B(6365),g=B(3794),Ae=B(8455);function ye(...Se){return function le(){return(0,l.U)(1)}()((0,Ae.H)(Se,(0,g.lI)(Se)))}},983:(Zt,Qe,B)=>{B.d(Qe,{w:()=>le});const le=new(B(1985).c)(ye=>ye.complete())},8455:(Zt,Qe,B)=>{B.d(Qe,{H:()=>Je});var l=B(8750),le=B(941),g=B(6745),Se=B(1985),Fe=B(4761),Be=B(8071),ae=B(5225);function Re(ze,Xe){if(!ze)throw new Error("Iterable cannot be null");return new Se.c(mt=>{(0,ae.N)(mt,Xe,()=>{const St=ze[Symbol.asyncIterator]();(0,ae.N)(mt,Xe,()=>{St.next().then(Ie=>{Ie.done?mt.complete():mt.next(Ie.value)})},0,!0)})})}var ut=B(5055),We=B(9858),It=B(7441),gt=B(5397),kt=B(7953),bt=B(591),Xt=B(5196);function Je(ze,Xe){return Xe?function Ue(ze,Xe){if(null!=ze){if((0,ut.l)(ze))return function Ae(ze,Xe){return(0,l.Tg)(ze).pipe((0,g._)(Xe),(0,le.Q)(Xe))}(ze,Xe);if((0,It.X)(ze))return function Ve(ze,Xe){return new Se.c(mt=>{let St=0;return Xe.schedule(function(){St===ze.length?mt.complete():(mt.next(ze[St++]),mt.closed||this.schedule())})})}(ze,Xe);if((0,We.y)(ze))return function ye(ze,Xe){return(0,l.Tg)(ze).pipe((0,g._)(Xe),(0,le.Q)(Xe))}(ze,Xe);if((0,kt.T)(ze))return Re(ze,Xe);if((0,gt.x)(ze))return function de(ze,Xe){return new Se.c(mt=>{let St;return(0,ae.N)(mt,Xe,()=>{St=ze[Fe.l](),(0,ae.N)(mt,Xe,()=>{let Ie,jt;try{({value:Ie,done:jt}=St.next())}catch(en){return void mt.error(en)}jt?mt.complete():mt.next(Ie)},0,!0)}),()=>(0,Be.T)(St?.return)&&St.return()})}(ze,Xe);if((0,Xt.U)(ze))return function Ke(ze,Xe){return Re((0,Xt.C)(ze),Xe)}(ze,Xe)}throw(0,bt.L)(ze)}(ze,Xe):(0,l.Tg)(ze)}},8750:(Zt,Qe,B)=>{B.d(Qe,{Tg:()=>ut});var l=B(1635),le=B(7441),g=B(9858),Ae=B(1985),ye=B(5055),Se=B(7953),Ve=B(591),Fe=B(5397),Be=B(5196),ae=B(8071),de=B(5334),Re=B(3494);function ut(Ue){if(Ue instanceof Ae.c)return Ue;if(null!=Ue){if((0,ye.l)(Ue))return function We(Ue){return new Ae.c(Je=>{const ze=Ue[Re.s]();if((0,ae.T)(ze.subscribe))return ze.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,le.X)(Ue))return function It(Ue){return new Ae.c(Je=>{for(let ze=0;ze<Ue.length&&!Je.closed;ze++)Je.next(Ue[ze]);Je.complete()})}(Ue);if((0,g.y)(Ue))return function gt(Ue){return new Ae.c(Je=>{Ue.then(ze=>{Je.closed||(Je.next(ze),Je.complete())},ze=>Je.error(ze)).then(null,de.m)})}(Ue);if((0,Se.T)(Ue))return bt(Ue);if((0,Fe.x)(Ue))return function kt(Ue){return new Ae.c(Je=>{for(const ze of Ue)if(Je.next(ze),Je.closed)return;Je.complete()})}(Ue);if((0,Be.U)(Ue))return function Xt(Ue){return bt((0,Be.C)(Ue))}(Ue)}throw(0,Ve.L)(Ue)}function bt(Ue){return new Ae.c(Je=>{(function Ke(Ue,Je){var ze,Xe,mt,St;return(0,l.sH)(this,void 0,void 0,function*(){try{for(ze=(0,l.xN)(Ue);!(Xe=yield ze.next()).done;)if(Je.next(Xe.value),Je.closed)return}catch(Ie){mt={error:Ie}}finally{try{Xe&&!Xe.done&&(St=ze.return)&&(yield St.call(ze))}finally{if(mt)throw mt.error}}Je.complete()})})(Ue,Je).catch(ze=>Je.error(ze))})}},7786:(Zt,Qe,B)=>{B.d(Qe,{h:()=>Se});var l=B(6365),le=B(8750),g=B(983),Ae=B(3794),ye=B(8455);function Se(...Ve){const Fe=(0,Ae.lI)(Ve),Be=(0,Ae.R0)(Ve,1/0),ae=Ve;return ae.length?1===ae.length?(0,le.Tg)(ae[0]):(0,l.U)(Be)((0,ye.H)(ae,Fe)):g.w}},7673:(Zt,Qe,B)=>{B.d(Qe,{of:()=>g});var l=B(3794),le=B(8455);function g(...Ae){const ye=(0,l.lI)(Ae);return(0,le.H)(Ae,ye)}},8810:(Zt,Qe,B)=>{B.d(Qe,{$:()=>g});var l=B(1985),le=B(8071);function g(Ae,ye){const Se=(0,le.T)(Ae)?Ae:()=>Ae,Ve=Fe=>Fe.error(Se());return new l.c(ye?Fe=>ye.schedule(Ve,0,Fe):Ve)}},4360:(Zt,Qe,B)=>{B.d(Qe,{_:()=>le});var l=B(7707);function le(Ae,ye,Se,Ve,Fe){return new g(Ae,ye,Se,Ve,Fe)}class g extends l.vU{constructor(ye,Se,Ve,Fe,Be,ae){super(ye),this.onFinalize=Be,this.shouldUnsubscribe=ae,this._next=Se?function(de){try{Se(de)}catch(Re){ye.error(Re)}}:super._next,this._error=Fe?function(de){try{Fe(de)}catch(Re){ye.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(de){ye.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},9437:(Zt,Qe,B)=>{B.d(Qe,{W:()=>Ae});var l=B(8750),le=B(4360),g=B(9974);function Ae(ye){return(0,g.N)((Se,Ve)=>{let ae,Fe=null,Be=!1;Fe=Se.subscribe((0,le._)(Ve,void 0,void 0,de=>{ae=(0,l.Tg)(ye(de,Ae(ye)(Se))),Fe?(Fe.unsubscribe(),Fe=null,ae.subscribe(Ve)):Be=!0})),Be&&(Fe.unsubscribe(),Fe=null,ae.subscribe(Ve))})}},274:(Zt,Qe,B)=>{B.d(Qe,{H:()=>g});var l=B(1397),le=B(8071);function g(Ae,ye){return(0,le.T)(ye)?(0,l.Z)(Ae,ye,1):(0,l.Z)(Ae,1)}},9901:(Zt,Qe,B)=>{B.d(Qe,{U:()=>g});var l=B(9974),le=B(4360);function g(Ae){return(0,l.N)((ye,Se)=>{let Ve=!1;ye.subscribe((0,le._)(Se,Fe=>{Ve=!0,Se.next(Fe)},()=>{Ve||Se.next(Ae),Se.complete()}))})}},3294:(Zt,Qe,B)=>{B.d(Qe,{F:()=>Ae});var l=B(3669),le=B(9974),g=B(4360);function Ae(Se,Ve=l.D){return Se=Se??ye,(0,le.N)((Fe,Be)=>{let ae,de=!0;Fe.subscribe((0,g._)(Be,Re=>{const ut=Ve(Re);(de||!Se(ae,ut))&&(de=!1,ae=ut,Be.next(Re))}))})}function ye(Se,Ve){return Se===Ve}},5964:(Zt,Qe,B)=>{B.d(Qe,{p:()=>g});var l=B(9974),le=B(4360);function g(Ae,ye){return(0,l.N)((Se,Ve)=>{let Fe=0;Se.subscribe((0,le._)(Ve,Be=>Ae.call(ye,Be,Fe++)&&Ve.next(Be)))})}},980:(Zt,Qe,B)=>{B.d(Qe,{j:()=>le});var l=B(9974);function le(g){return(0,l.N)((Ae,ye)=>{try{Ae.subscribe(ye)}finally{ye.add(g)}})}},1594:(Zt,Qe,B)=>{B.d(Qe,{$:()=>Ve});var l=B(9350),le=B(5964),g=B(6697),Ae=B(9901),ye=B(3774),Se=B(3669);function Ve(Fe,Be){const ae=arguments.length>=2;return de=>de.pipe(Fe?(0,le.p)((Re,ut)=>Fe(Re,ut,de)):Se.D,(0,g.s)(1),ae?(0,Ae.U)(Be):(0,ye.v)(()=>new l.G))}},6354:(Zt,Qe,B)=>{B.d(Qe,{T:()=>g});var l=B(9974),le=B(4360);function g(Ae,ye){return(0,l.N)((Se,Ve)=>{let Fe=0;Se.subscribe((0,le._)(Ve,Be=>{Ve.next(Ae.call(ye,Be,Fe++))}))})}},6365:(Zt,Qe,B)=>{B.d(Qe,{U:()=>g});var l=B(1397),le=B(3669);function g(Ae=1/0){return(0,l.Z)(le.D,Ae)}},1397:(Zt,Qe,B)=>{B.d(Qe,{Z:()=>Fe});var l=B(6354),le=B(8750),g=B(9974),Ae=B(5225),ye=B(4360),Ve=B(8071);function Fe(Be,ae,de=1/0){return(0,Ve.T)(ae)?Fe((Re,ut)=>(0,l.T)((We,It)=>ae(Re,We,ut,It))((0,le.Tg)(Be(Re,ut))),de):("number"==typeof ae&&(de=ae),(0,g.N)((Re,ut)=>function Se(Be,ae,de,Re,ut,We,It,gt){const kt=[];let bt=0,Xt=0,Ke=!1;const Ue=()=>{Ke&&!kt.length&&!bt&&ae.complete()},Je=Xe=>bt<Re?ze(Xe):kt.push(Xe),ze=Xe=>{We&&ae.next(Xe),bt++;let mt=!1;(0,le.Tg)(de(Xe,Xt++)).subscribe((0,ye._)(ae,St=>{ut?.(St),We?Je(St):ae.next(St)},()=>{mt=!0},void 0,()=>{if(mt)try{for(bt--;kt.length&&bt<Re;){const St=kt.shift();It?(0,Ae.N)(ae,It,()=>ze(St)):ze(St)}Ue()}catch(St){ae.error(St)}}))};return Be.subscribe((0,ye._)(ae,Je,()=>{Ke=!0,Ue()})),()=>{gt?.()}}(Re,ut,Be,de)))}},941:(Zt,Qe,B)=>{B.d(Qe,{Q:()=>Ae});var l=B(5225),le=B(9974),g=B(4360);function Ae(ye,Se=0){return(0,le.N)((Ve,Fe)=>{Ve.subscribe((0,g._)(Fe,Be=>(0,l.N)(Fe,ye,()=>Fe.next(Be),Se),()=>(0,l.N)(Fe,ye,()=>Fe.complete(),Se),Be=>(0,l.N)(Fe,ye,()=>Fe.error(Be),Se)))})}},2816:(Zt,Qe,B)=>{B.d(Qe,{S:()=>Ae});var l=B(9974),le=B(4360);function Ae(ye,Se){return(0,l.N)(function g(ye,Se,Ve,Fe,Be){return(ae,de)=>{let Re=Ve,ut=Se,We=0;ae.subscribe((0,le._)(de,It=>{const gt=We++;ut=Re?ye(ut,It,gt):(Re=!0,It),Fe&&de.next(ut)},Be&&(()=>{Re&&de.next(ut),de.complete()})))}}(ye,Se,arguments.length>=2,!0))}},7647:(Zt,Qe,B)=>{B.d(Qe,{u:()=>ye});var l=B(8750),le=B(1413),g=B(7707),Ae=B(9974);function ye(Ve={}){const{connector:Fe=(()=>new le.B),resetOnError:Be=!0,resetOnComplete:ae=!0,resetOnRefCountZero:de=!0}=Ve;return Re=>{let ut,We,It,gt=0,kt=!1,bt=!1;const Xt=()=>{We?.unsubscribe(),We=void 0},Ke=()=>{Xt(),ut=It=void 0,kt=bt=!1},Ue=()=>{const Je=ut;Ke(),Je?.unsubscribe()};return(0,Ae.N)((Je,ze)=>{gt++,!bt&&!kt&&Xt();const Xe=It=It??Fe();ze.add(()=>{gt--,0===gt&&!bt&&!kt&&(We=Se(Ue,de))}),Xe.subscribe(ze),!ut&&gt>0&&(ut=new g.Ms({next:mt=>Xe.next(mt),error:mt=>{bt=!0,Xt(),We=Se(Ke,Be,mt),Xe.error(mt)},complete:()=>{kt=!0,Xt(),We=Se(Ke,ae),Xe.complete()}}),(0,l.Tg)(Je).subscribe(ut))})(Re)}}function Se(Ve,Fe,...Be){if(!0===Fe)return void Ve();if(!1===Fe)return;const ae=new g.Ms({next:()=>{ae.unsubscribe(),Ve()}});return(0,l.Tg)(Fe(...Be)).subscribe(ae)}},9172:(Zt,Qe,B)=>{B.d(Qe,{Z:()=>Ae});var l=B(8793),le=B(3794),g=B(9974);function Ae(...ye){const Se=(0,le.lI)(ye);return(0,g.N)((Ve,Fe)=>{(Se?(0,l.x)(ye,Ve,Se):(0,l.x)(ye,Ve)).subscribe(Fe)})}},6745:(Zt,Qe,B)=>{B.d(Qe,{_:()=>le});var l=B(9974);function le(g,Ae=0){return(0,l.N)((ye,Se)=>{Se.add(g.schedule(()=>ye.subscribe(Se),Ae))})}},5558:(Zt,Qe,B)=>{B.d(Qe,{n:()=>Ae});var l=B(8750),le=B(9974),g=B(4360);function Ae(ye,Se){return(0,le.N)((Ve,Fe)=>{let Be=null,ae=0,de=!1;const Re=()=>de&&!Be&&Fe.complete();Ve.subscribe((0,g._)(Fe,ut=>{Be?.unsubscribe();let We=0;const It=ae++;(0,l.Tg)(ye(ut,It)).subscribe(Be=(0,g._)(Fe,gt=>Fe.next(Se?Se(ut,gt,It,We++):gt),()=>{Be=null,Re()}))},()=>{de=!0,Re()}))})}},6697:(Zt,Qe,B)=>{B.d(Qe,{s:()=>Ae});var l=B(983),le=B(9974),g=B(4360);function Ae(ye){return ye<=0?()=>l.w:(0,le.N)((Se,Ve)=>{let Fe=0;Se.subscribe((0,g._)(Ve,Be=>{++Fe<=ye&&(Ve.next(Be),ye<=Fe&&Ve.complete())}))})}},8141:(Zt,Qe,B)=>{B.d(Qe,{M:()=>ye});var l=B(8071),le=B(9974),g=B(4360),Ae=B(3669);function ye(Se,Ve,Fe){const Be=(0,l.T)(Se)||Ve||Fe?{next:Se,error:Ve,complete:Fe}:Se;return Be?(0,le.N)((ae,de)=>{var Re;null===(Re=Be.subscribe)||void 0===Re||Re.call(Be);let ut=!0;ae.subscribe((0,g._)(de,We=>{var It;null===(It=Be.next)||void 0===It||It.call(Be,We),de.next(We)},()=>{var We;ut=!1,null===(We=Be.complete)||void 0===We||We.call(Be),de.complete()},We=>{var It;ut=!1,null===(It=Be.error)||void 0===It||It.call(Be,We),de.error(We)},()=>{var We,It;ut&&(null===(We=Be.unsubscribe)||void 0===We||We.call(Be)),null===(It=Be.finalize)||void 0===It||It.call(Be)}))}):Ae.D}},3774:(Zt,Qe,B)=>{B.d(Qe,{v:()=>Ae});var l=B(9350),le=B(9974),g=B(4360);function Ae(Se=ye){return(0,le.N)((Ve,Fe)=>{let Be=!1;Ve.subscribe((0,g._)(Fe,ae=>{Be=!0,Fe.next(ae)},()=>Be?Fe.complete():Fe.error(Se())))})}function ye(){return new l.G}},6780:(Zt,Qe,B)=>{B.d(Qe,{R:()=>ye});var l=B(8359);class le extends l.yU{constructor(Ve,Fe){super()}schedule(Ve,Fe=0){return this}}const g={setInterval(Se,Ve,...Fe){const{delegate:Be}=g;return Be?.setInterval?Be.setInterval(Se,Ve,...Fe):setInterval(Se,Ve,...Fe)},clearInterval(Se){const{delegate:Ve}=g;return(Ve?.clearInterval||clearInterval)(Se)},delegate:void 0};var Ae=B(7908);class ye extends le{constructor(Ve,Fe){super(Ve,Fe),this.scheduler=Ve,this.work=Fe,this.pending=!1}schedule(Ve,Fe=0){var Be;if(this.closed)return this;this.state=Ve;const ae=this.id,de=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(de,ae,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(de,this.id,Fe),this}requestAsyncId(Ve,Fe,Be=0){return g.setInterval(Ve.flush.bind(Ve,this),Be)}recycleAsyncId(Ve,Fe,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return Fe;null!=Fe&&g.clearInterval(Fe)}execute(Ve,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(Ve,Fe);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ve,Fe){let ae,Be=!1;try{this.work(Ve)}catch(de){Be=!0,ae=de||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Ve,scheduler:Fe}=this,{actions:Be}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ae.o)(Be,this),null!=Ve&&(this.id=this.recycleAsyncId(Fe,Ve,null)),this.delay=null,super.unsubscribe()}}}},9687:(Zt,Qe,B)=>{B.d(Qe,{q:()=>g});var l=B(6129);class le{constructor(ye,Se=le.now){this.schedulerActionCtor=ye,this.now=Se}schedule(ye,Se=0,Ve){return new this.schedulerActionCtor(this,ye).schedule(Ve,Se)}}le.now=l.U.now;class g extends le{constructor(ye,Se=le.now){super(ye,Se),this.actions=[],this._active=!1}flush(ye){const{actions:Se}=this;if(this._active)return void Se.push(ye);let Ve;this._active=!0;do{if(Ve=ye.execute(ye.state,ye.delay))break}while(ye=Se.shift());if(this._active=!1,Ve){for(;ye=Se.shift();)ye.unsubscribe();throw Ve}}}},3236:(Zt,Qe,B)=>{B.d(Qe,{E:()=>g});var l=B(6780);const g=new(B(9687).q)(l.R)},6129:(Zt,Qe,B)=>{B.d(Qe,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(Zt,Qe,B)=>{B.d(Qe,{f:()=>l});const l={setTimeout(le,g,...Ae){const{delegate:ye}=l;return ye?.setTimeout?ye.setTimeout(le,g,...Ae):setTimeout(le,g,...Ae)},clearTimeout(le){const{delegate:g}=l;return(g?.clearTimeout||clearTimeout)(le)},delegate:void 0}},4761:(Zt,Qe,B)=>{B.d(Qe,{l:()=>le});const le=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Zt,Qe,B)=>{B.d(Qe,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Zt,Qe,B)=>{B.d(Qe,{G:()=>le});const le=(0,B(1853).L)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Zt,Qe,B)=>{B.d(Qe,{R0:()=>Se,ms:()=>Ae,lI:()=>ye});var l=B(8071);function g(Ve){return Ve[Ve.length-1]}function Ae(Ve){return(0,l.T)(g(Ve))?Ve.pop():void 0}function ye(Ve){return function le(Ve){return Ve&&(0,l.T)(Ve.schedule)}(g(Ve))?Ve.pop():void 0}function Se(Ve,Fe){return"number"==typeof g(Ve)?Ve.pop():Fe}},3073:(Zt,Qe,B)=>{B.d(Qe,{D:()=>ye});const{isArray:l}=Array,{getPrototypeOf:le,prototype:g,keys:Ae}=Object;function ye(Ve){if(1===Ve.length){const Fe=Ve[0];if(l(Fe))return{args:Fe,keys:null};if(function Se(Ve){return Ve&&"object"==typeof Ve&&le(Ve)===g}(Fe)){const Be=Ae(Fe);return{args:Be.map(ae=>Fe[ae]),keys:Be}}}return{args:Ve,keys:null}}},7908:(Zt,Qe,B)=>{function l(le,g){if(le){const Ae=le.indexOf(g);0<=Ae&&le.splice(Ae,1)}}B.d(Qe,{o:()=>l})},1853:(Zt,Qe,B)=>{function l(le){const Ae=le(ye=>{Error.call(ye),ye.stack=(new Error).stack});return Ae.prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae}B.d(Qe,{L:()=>l})},8496:(Zt,Qe,B)=>{function l(le,g){return le.reduce((Ae,ye,Se)=>(Ae[ye]=g[Se],Ae),{})}B.d(Qe,{e:()=>l})},9786:(Zt,Qe,B)=>{B.d(Qe,{Y:()=>g,l:()=>Ae});var l=B(1026);let le=null;function g(ye){if(l.$.useDeprecatedSynchronousErrorHandling){const Se=!le;if(Se&&(le={errorThrown:!1,error:null}),ye(),Se){const{errorThrown:Ve,error:Fe}=le;if(le=null,Ve)throw Fe}}else ye()}function Ae(ye){l.$.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=ye)}},5225:(Zt,Qe,B)=>{function l(le,g,Ae,ye=0,Se=!1){const Ve=g.schedule(function(){Ae(),Se?le.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(le.add(Ve),!Se)return Ve}B.d(Qe,{N:()=>l})},3669:(Zt,Qe,B)=>{function l(le){return le}B.d(Qe,{D:()=>l})},7441:(Zt,Qe,B)=>{B.d(Qe,{X:()=>l});const l=le=>le&&"number"==typeof le.length&&"function"!=typeof le},7953:(Zt,Qe,B)=>{B.d(Qe,{T:()=>le});var l=B(8071);function le(g){return Symbol.asyncIterator&&(0,l.T)(g?.[Symbol.asyncIterator])}},8071:(Zt,Qe,B)=>{function l(le){return"function"==typeof le}B.d(Qe,{T:()=>l})},5055:(Zt,Qe,B)=>{B.d(Qe,{l:()=>g});var l=B(3494),le=B(8071);function g(Ae){return(0,le.T)(Ae[l.s])}},5397:(Zt,Qe,B)=>{B.d(Qe,{x:()=>g});var l=B(4761),le=B(8071);function g(Ae){return(0,le.T)(Ae?.[l.l])}},9858:(Zt,Qe,B)=>{B.d(Qe,{y:()=>le});var l=B(8071);function le(g){return(0,l.T)(g?.then)}},5196:(Zt,Qe,B)=>{B.d(Qe,{C:()=>g,U:()=>Ae});var l=B(1635),le=B(8071);function g(ye){return(0,l.AQ)(this,arguments,function*(){const Ve=ye.getReader();try{for(;;){const{value:Fe,done:Be}=yield(0,l.N3)(Ve.read());if(Be)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(Fe)}}finally{Ve.releaseLock()}})}function Ae(ye){return(0,le.T)(ye?.getReader)}},9974:(Zt,Qe,B)=>{B.d(Qe,{N:()=>g,S:()=>le});var l=B(8071);function le(Ae){return(0,l.T)(Ae?.lift)}function g(Ae){return ye=>{if(le(ye))return ye.lift(function(Se){try{return Ae(Se,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Zt,Qe,B)=>{B.d(Qe,{I:()=>Ae});var l=B(6354);const{isArray:le}=Array;function Ae(ye){return(0,l.T)(Se=>function g(ye,Se){return le(Se)?ye(...Se):ye(Se)}(ye,Se))}},5343:(Zt,Qe,B)=>{function l(){}B.d(Qe,{l:()=>l})},1203:(Zt,Qe,B)=>{B.d(Qe,{F:()=>le,m:()=>g});var l=B(3669);function le(...Ae){return g(Ae)}function g(Ae){return 0===Ae.length?l.D:1===Ae.length?Ae[0]:function(Se){return Ae.reduce((Ve,Fe)=>Fe(Ve),Se)}}},5334:(Zt,Qe,B)=>{B.d(Qe,{m:()=>g});var l=B(1026),le=B(9270);function g(Ae){le.f.setTimeout(()=>{const{onUnhandledError:ye}=l.$;if(!ye)throw Ae;ye(Ae)})}},591:(Zt,Qe,B)=>{function l(le){return new TypeError(`You provided ${null!==le&&"object"==typeof le?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Qe,{L:()=>l})},177:(Zt,Qe,B)=>{B.d(Qe,{AJ:()=>br,Jj:()=>hr,MD:()=>ss,N0:()=>cn,QT:()=>g,Sm:()=>It,Sq:()=>dr,VF:()=>ye,Vy:()=>di,Xr:()=>we,YU:()=>Wn,ZD:()=>Ae,_b:()=>bn,aZ:()=>kt,bT:()=>vs,fw:()=>gt,hb:()=>ut,hj:()=>Fe,lG:()=>Ri,qQ:()=>Se});var l=B(7705);let le=null;function g(){return le}function Ae(D){le||(le=D)}class ye{}const Se=new l.nKC("DocumentToken");let Ve=(()=>{class D{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Y){return new(Y||D)};static#t=this.\u0275prov=l.jDH({token:D,factory:function(){return(0,l.WQX)(Be)},providedIn:"platform"})}return D})();const Fe=new l.nKC("Location Initialized");let Be=(()=>{class D extends Ve{constructor(){super(),this._doc=(0,l.WQX)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(U){const Y=g().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",U,!1),()=>Y.removeEventListener("popstate",U)}onHashChange(U){const Y=g().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",U,!1),()=>Y.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,Y,Ce){this._history.pushState(U,Y,Ce)}replaceState(U,Y,Ce){this._history.replaceState(U,Y,Ce)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(Y){return new(Y||D)};static#t=this.\u0275prov=l.jDH({token:D,factory:function(){return new D},providedIn:"platform"})}return D})();function ae(D,Z){if(0==D.length)return Z;if(0==Z.length)return D;let U=0;return D.endsWith("/")&&U++,Z.startsWith("/")&&U++,2==U?D+Z.substring(1):1==U?D+Z:D+"/"+Z}function de(D){const Z=D.match(/#|\?|$/),U=Z&&Z.index||D.length;return D.slice(0,U-("/"===D[U-1]?1:0))+D.slice(U)}function Re(D){return D&&"?"!==D[0]?"?"+D:D}let ut=(()=>{class D{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Y){return new(Y||D)};static#t=this.\u0275prov=l.jDH({token:D,factory:function(){return(0,l.WQX)(It)},providedIn:"root"})}return D})();const We=new l.nKC("appBaseHref");let It=(()=>{class D extends ut{constructor(U,Y){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return ae(this._baseHref,U)}path(U=!1){const Y=this._platformLocation.pathname+Re(this._platformLocation.search),Ce=this._platformLocation.hash;return Ce&&U?`${Y}${Ce}`:Y}pushState(U,Y,Ce,at){const Tt=this.prepareExternalUrl(Ce+Re(at));this._platformLocation.pushState(U,Y,Tt)}replaceState(U,Y,Ce,at){const Tt=this.prepareExternalUrl(Ce+Re(at));this._platformLocation.replaceState(U,Y,Tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(Y){return new(Y||D)(l.KVO(Ve),l.KVO(We,8))};static#t=this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),gt=(()=>{class D extends ut{constructor(U,Y){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(U){const Y=ae(this._baseHref,U);return Y.length>0?"#"+Y:Y}pushState(U,Y,Ce,at){let Tt=this.prepareExternalUrl(Ce+Re(at));0==Tt.length&&(Tt=this._platformLocation.pathname),this._platformLocation.pushState(U,Y,Tt)}replaceState(U,Y,Ce,at){let Tt=this.prepareExternalUrl(Ce+Re(at));0==Tt.length&&(Tt=this._platformLocation.pathname),this._platformLocation.replaceState(U,Y,Tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(Y){return new(Y||D)(l.KVO(Ve),l.KVO(We,8))};static#t=this.\u0275prov=l.jDH({token:D,factory:D.\u0275fac})}return D})(),kt=(()=>{class D{constructor(U){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const Y=this._locationStrategy.getBaseHref();this._basePath=function Ue(D){if(new RegExp("^(https?:)?//").test(D)){const[,U]=D.split(/\/\/[^\/]+/);return U}return D}(de(Ke(Y))),this._locationStrategy.onPopState(Ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ce.state,type:Ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,Y=""){return this.path()==this.normalize(U+Re(Y))}normalize(U){return D.stripTrailingSlash(function Xt(D,Z){if(!D||!Z.startsWith(D))return Z;const U=Z.substring(D.length);return""===U||["/",";","?","#"].includes(U[0])?U:Z}(this._basePath,Ke(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,Y="",Ce=null){this._locationStrategy.pushState(Ce,"",U,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Re(Y)),Ce)}replaceState(U,Y="",Ce=null){this._locationStrategy.replaceState(Ce,"",U,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Re(Y)),Ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",Y){this._urlChangeListeners.forEach(Ce=>Ce(U,Y))}subscribe(U,Y,Ce){return this._subject.subscribe({next:U,error:Y,complete:Ce})}static#e=this.normalizeQueryParams=Re;static#t=this.joinWithSlash=ae;static#n=this.stripTrailingSlash=de;static#r=this.\u0275fac=function(Y){return new(Y||D)(l.KVO(ut))};static#i=this.\u0275prov=l.jDH({token:D,factory:function(){return function bt(){return new kt((0,l.KVO)(ut))}()},providedIn:"root"})}return D})();function Ke(D){return D.replace(/\/index.html$/,"")}function bn(D,Z){Z=encodeURIComponent(Z);for(const U of D.split(";")){const Y=U.indexOf("="),[Ce,at]=-1==Y?[U,""]:[U.slice(0,Y),U.slice(Y+1)];if(Ce.trim()===Z)return decodeURIComponent(at)}return null}const Mn=/\s+/,wn=[];let Wn=(()=>{class D{constructor(U,Y,Ce,at){this._iterableDiffers=U,this._keyValueDiffers=Y,this._ngEl=Ce,this._renderer=at,this.initialClasses=wn,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(Mn):wn}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Mn):U}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const Y of U)this._updateState(Y,!0);else if(null!=U)for(const Y of Object.keys(U))this._updateState(Y,!!U[Y]);this._applyStateDiff()}_updateState(U,Y){const Ce=this.stateMap.get(U);void 0!==Ce?(Ce.enabled!==Y&&(Ce.changed=!0,Ce.enabled=Y),Ce.touched=!0):this.stateMap.set(U,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const Y=U[0],Ce=U[1];Ce.changed?(this._toggleClass(Y,Ce.enabled),Ce.changed=!1):Ce.touched||(Ce.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Ce.touched=!1}}_toggleClass(U,Y){(U=U.trim()).length>0&&U.split(Mn).forEach(Ce=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Ce):this._renderer.removeClass(this._ngEl.nativeElement,Ce)})}static#e=this.\u0275fac=function(Y){return new(Y||D)(l.rXU(l._q3),l.rXU(l.MKu),l.rXU(l.aKT),l.rXU(l.sFG))};static#t=this.\u0275dir=l.FsC({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return D})();class li{constructor(Z,U,Y,Ce){this.$implicit=Z,this.ngForOf=U,this.index=Y,this.count=Ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class D{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,Y,Ce){this._viewContainer=U,this._template=Y,this._differs=Ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const Y=this._viewContainer;U.forEachOperation((Ce,at,Tt)=>{if(null==Ce.previousIndex)Y.createEmbeddedView(this._template,new li(Ce.item,this._ngForOf,-1,-1),null===Tt?void 0:Tt);else if(null==Tt)Y.remove(null===at?void 0:at);else if(null!==at){const fn=Y.get(at);Y.move(fn,Tt),ys(fn,Ce)}});for(let Ce=0,at=Y.length;Ce<at;Ce++){const fn=Y.get(Ce).context;fn.index=Ce,fn.count=at,fn.ngForOf=this._ngForOf}U.forEachIdentityChange(Ce=>{ys(Y.get(Ce.currentIndex),Ce)})}static ngTemplateContextGuard(U,Y){return!0}static#e=this.\u0275fac=function(Y){return new(Y||D)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))};static#t=this.\u0275dir=l.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return D})();function ys(D,Z){D.context.$implicit=Z.item}let vs=(()=>{class D{constructor(U,Y){this._viewContainer=U,this._context=new ai,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Ho("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Ho("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,Y){return!0}static#e=this.\u0275fac=function(Y){return new(Y||D)(l.rXU(l.c1b),l.rXU(l.C4Q))};static#t=this.\u0275dir=l.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return D})();class ai{constructor(){this.$implicit=null,this.ngIf=null}}function Ho(D,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,l.Tbb)(Z)}'.`)}class zo{createSubscription(Z,U){return(0,l.O8t)(()=>Z.subscribe({next:U,error:Y=>{throw Y}}))}dispose(Z){(0,l.O8t)(()=>Z.unsubscribe())}}class Ci{createSubscription(Z,U){return Z.then(U,Y=>{throw Y})}dispose(Z){}}const ca=new Ci,bi=new zo;let hr=(()=>{class D{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,Y=>this._updateLatestValue(U,Y))}_selectStrategy(U){if((0,l.jNT)(U))return ca;if((0,l.zjR)(U))return bi;throw function Zi(D,Z){return new l.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,Y){U===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static#e=this.\u0275fac=function(Y){return new(Y||D)(l.rXU(l.gRc,16))};static#t=this.\u0275pipe=l.EJ8({name:"async",type:D,pure:!1,standalone:!0})}return D})(),Ri=(()=>{class D{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=ts}transform(U,Y=ts){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const Ce=this.differ.diff(U),at=Y!==this.compareFn;return Ce&&(this.keyValues=[],Ce.forEachItem(Tt=>{this.keyValues.push(function is(D,Z){return{key:D,value:Z}}(Tt.key,Tt.currentValue))})),(Ce||at)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static#e=this.\u0275fac=function(Y){return new(Y||D)(l.rXU(l.MKu,16))};static#t=this.\u0275pipe=l.EJ8({name:"keyvalue",type:D,pure:!1,standalone:!0})}return D})();function ts(D,Z){const U=D.key,Y=Z.key;if(U===Y)return 0;if(void 0===U)return 1;if(void 0===Y)return-1;if(null===U)return 1;if(null===Y)return-1;if("string"==typeof U&&"string"==typeof Y)return U<Y?-1:1;if("number"==typeof U&&"number"==typeof Y)return U-Y;if("boolean"==typeof U&&"boolean"==typeof Y)return U<Y?-1:1;const Ce=String(U),at=String(Y);return Ce==at?0:Ce<at?-1:1}let ss=(()=>{class D{static#e=this.\u0275fac=function(Y){return new(Y||D)};static#t=this.\u0275mod=l.$C({type:D});static#n=this.\u0275inj=l.G2t({})}return D})();const br="browser",Ps="server";function di(D){return D===Ps}let we=(()=>{class D{static#e=this.\u0275prov=(0,l.jDH)({token:D,providedIn:"root",factory:()=>new He((0,l.KVO)(Se),window)})}return D})();class He{constructor(Z,U){this.document=Z,this.window=U,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const U=function ft(D,Z){const U=D.getElementById(Z)||D.getElementsByName(Z)[0];if(U)return U;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const Y=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let Ce=Y.currentNode;for(;Ce;){const at=Ce.shadowRoot;if(at){const Tt=at.getElementById(Z)||at.querySelector(`[name="${Z}"]`);if(Tt)return Tt}Ce=Y.nextNode()}}return null}(this.document,Z);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const U=Z.getBoundingClientRect(),Y=U.left+this.window.pageXOffset,Ce=U.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(Y-at[0],Ce-at[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cn{}},7705:(Zt,Qe,B)=>{B.d(Qe,{$C:()=>Ai,$GK:()=>un,$K3:()=>jI,$MX:()=>ud,AVh:()=>xv,Agw:()=>Gm,B4B:()=>Mg,BIS:()=>Q_,BMQ:()=>tc,C4Q:()=>V_,Co$:()=>$0,DNE:()=>um,EFF:()=>zE,EJ8:()=>wo,EmA:()=>io,FS9:()=>Sv,FsC:()=>ds,G2t:()=>Ft,GFd:()=>__,H3F:()=>$I,H5H:()=>Fv,H8p:()=>jm,HJs:()=>HA,Hbi:()=>RA,JRh:()=>kv,JZv:()=>xn,Jv_:()=>B0,KH2:()=>mm,KVO:()=>At,Kcf:()=>_p,L39:()=>$A,LfX:()=>On,MKu:()=>mE,Mz_:()=>zy,NEm:()=>oA,NYb:()=>nA,Njj:()=>za,O8t:()=>at,OA$:()=>cr,Ocv:()=>Mw,Ol2:()=>H0,PLl:()=>Ic,QTQ:()=>N,Ql9:()=>Nw,QuC:()=>ki,R7$:()=>p,RV6:()=>Hi,Rfq:()=>It,RxE:()=>Hg,SKi:()=>gs,SpI:()=>Ky,TL$:()=>hp,Tbb:()=>Re,UyX:()=>ad,VBU:()=>Ci,Vns:()=>sg,Vt3:()=>Dc,WHO:()=>GI,WPN:()=>ld,WQX:()=>Kt,XpG:()=>CE,Xx1:()=>Bu,Y8G:()=>dm,Z63:()=>dd,ZF7:()=>Na,_9s:()=>Xm,_q3:()=>gE,aKT:()=>wf,aNF:()=>z0,bIt:()=>To,bMT:()=>oI,bVm:()=>Q,bkB:()=>Yu,c1b:()=>ev,cWb:()=>Ag,czy:()=>cu,e01:()=>KI,e5t:()=>ff,eBV:()=>Nc,eq3:()=>J0,fpN:()=>PA,gRc:()=>gA,gXe:()=>ls,giA:()=>qI,h9k:()=>Rg,hnV:()=>BI,iLQ:()=>cE,j41:()=>tg,jDH:()=>gn,jNT:()=>mo,k0s:()=>Nh,kS0:()=>zc,kdw:()=>xa,l4e:()=>Z0,lJ4:()=>Y0,lNU:()=>Ke,lsd:()=>EI,mGM:()=>yI,mq5:()=>h0,n$t:()=>mh,nI1:()=>sI,nKC:()=>Yt,naY:()=>pA,npT:()=>Fm,nrm:()=>ua,o8S:()=>Em,oH4:()=>JI,osQ:()=>yp,plB:()=>Zv,qex:()=>k,rXU:()=>S,rcV:()=>qu,sFG:()=>ny,sZ2:()=>Wm,sdS:()=>Vd,uvJ:()=>Qu,w6W:()=>_T,wOt:()=>Ue,wni:()=>vI,xGo:()=>Hc,xc7:()=>Ov,xe9:()=>nv,xvI:()=>zg,zZn:()=>yu,zcH:()=>cl,zjR:()=>Ii});var l=B(1413),le=B(8359),g=B(1985),Ae=B(7786),ye=B(4412),Se=B(7673),Ve=B(7647),Fe=B(5558),Be=B(3294);function ae(t){for(let n in t)if(t[n]===ae)return n;throw Error("Could not find renamed property on target object.")}function de(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function ut(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const We=ae({__forward_ref__:ae});function It(t){return t.__forward_ref__=It,t.toString=function(){return Re(this())},t}function gt(t){return kt(t)?t():t}function kt(t){return"function"==typeof t&&t.hasOwnProperty(We)&&t.__forward_ref__===It}function bt(t){return t&&!!t.\u0275providers}const Ke="https://g.co/ng/security#xss";class Ue extends Error{constructor(n,i){super(function Je(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function ze(t){return"string"==typeof t?t:null==t?"":String(t)}function jt(t,n){throw new Ue(-201,!1)}function ht(t,n){null==t&&function _t(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function gn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function _n(t){return Lt(t,sn)||Lt(t,Bn)}function On(t){return null!==_n(t)}function Lt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Br(t){return t&&(t.hasOwnProperty(pr)||t.hasOwnProperty(Ot))?t[pr]:null}const sn=ae({\u0275prov:ae}),pr=ae({\u0275inj:ae}),Bn=ae({ngInjectableDef:ae}),Ot=ae({ngInjectorDef:ae});var un=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(un||{});let Cn;function ur(t){const n=Cn;return Cn=t,n}function vr(t,n,i){const o=_n(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&un.Optional?null:void 0!==n?n:void jt(Re(t))}const xn=globalThis;class Yt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=gn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tn={},Sr="__NG_DI_FLAG__",nr="ngTempTokenPath",ee=/\n/gm,V="__source";let F;function Ne(t){const n=F;return F=t,n}function pt(t,n=un.Default){if(void 0===F)throw new Ue(-203,!1);return null===F?vr(t,void 0,n):F.get(t,n&un.Optional?null:void 0,n)}function At(t,n=un.Default){return(function mn(){return Cn}()||pt)(gt(t),n)}function Kt(t,n=un.Default){return At(t,Jt(n))}function Jt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jn(t){const n=[];for(let i=0;i<t.length;i++){const o=gt(t[i]);if(Array.isArray(o)){if(0===o.length)throw new Ue(900,!1);let c,h=un.Default;for(let I=0;I<o.length;I++){const T=o[I],R=ci(T);"number"==typeof R?-1===R?c=T.token:h|=R:c=T}n.push(At(c,h))}else n.push(At(o))}return n}function vn(t,n){return t[Sr]=n,t.prototype[Sr]=n,t}function ci(t){return t[Sr]}function Xr(t){return{toString:t}.toString()}var zi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zi||{}),ls=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ls||{});const ni={},Zn=[],rt=ae({\u0275cmp:ae}),qe=ae({\u0275dir:ae}),yt=ae({\u0275pipe:ae}),tn=ae({\u0275mod:ae}),bn=ae({\u0275fac:ae}),Mn=ae({__NG_ELEMENT_ID__:ae}),wn=ae({__NG_ENV_ID__:ae});function Wn(t,n,i){let o=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===o||t.charCodeAt(c+h)<=32)return c}i=c+1}}function Gn(t,n,i){let o=0;for(;o<i.length;){const c=i[o];if("number"==typeof c){if(0!==c)break;o++;const h=i[o++],I=i[o++],T=i[o++];t.setAttribute(n,I,T,h)}else{const h=c,I=i[++o];li(h)?t.setProperty(n,h,I):t.setAttribute(n,h,I),o++}}return o}function Mr(t){return 3===t||4===t||6===t}function li(t){return 64===t.charCodeAt(0)}function dr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:0===i||ys(t,i,c,null,-1===i||2===i?n[++o]:null)}}return t}function ys(t,n,i,o,c){let h=0,I=t.length;if(-1===n)I=-1;else for(;h<t.length;){const T=t[h++];if("number"==typeof T){if(T===n){I=-1;break}if(T>n){I=h-1;break}}}for(;h<t.length;){const T=t[h];if("number"==typeof T)break;if(T===i){if(null===o)return void(null!==c&&(t[h+1]=c));if(o===t[h+1])return void(t[h+2]=c)}h++,null!==o&&h++,null!==c&&h++}-1!==I&&(t.splice(I,0,n),h=I+1),t.splice(h++,0,i),null!==o&&t.splice(h++,0,o),null!==c&&t.splice(h++,0,c)}const ri="ng-template";function vs(t,n,i){let o=0,c=!0;for(;o<t.length;){let h=t[o++];if("string"==typeof h&&c){const I=t[o++];if(i&&"class"===h&&-1!==Wn(I.toLowerCase(),n,0))return!0}else{if(1===h){for(;o<t.length&&"string"==typeof(h=t[o++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function ai(t){return 4===t.type&&t.value!==ri}function Ho(t,n,i){return n===(4!==t.type||i?t.value:ri)}function Ui(t,n,i){let o=4;const c=t.attrs||[],h=function Pr(t){for(let n=0;n<t.length;n++)if(Mr(t[n]))return n;return t.length}(c);let I=!1;for(let T=0;T<n.length;T++){const R=n[T];if("number"!=typeof R){if(!I)if(4&o){if(o=2|1&o,""!==R&&!Ho(t,R,i)||""===R&&1===n.length){if(_i(o))return!1;I=!0}}else{const j=8&o?R:n[++T];if(8&o&&null!==t.attrs){if(!vs(t.attrs,j,i)){if(_i(o))return!1;I=!0}continue}const _e=Si(8&o?"class":R,c,ai(t),i);if(-1===_e){if(_i(o))return!1;I=!0;continue}if(""!==j){let $e;$e=_e>h?"":c[_e+1].toLowerCase();const Ye=8&o?$e:null;if(Ye&&-1!==Wn(Ye,j,0)||2&o&&j!==$e){if(_i(o))return!1;I=!0}}}}else{if(!I&&!_i(o)&&!_i(R))return!1;if(I&&_i(R))continue;I=!1,o=R|1&o}}return _i(o)||I}function _i(t){return 0==(1&t)}function Si(t,n,i,o){if(null===n)return-1;let c=0;if(o||!i){let h=!1;for(;c<n.length;){const I=n[c];if(I===t)return c;if(3===I||6===I)h=!0;else{if(1===I||2===I){let T=n[++c];for(;"string"==typeof T;)T=n[++c];continue}if(4===I)break;if(0===I){c+=4;continue}}c+=h?1:2}return-1}return function Rr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function rr(t,n,i=!1){for(let o=0;o<n.length;o++)if(Ui(t,n[o],i))return!0;return!1}function Wi(t,n){return t?":not("+n.trim()+")":n}function Ni(t){let n=t[0],i=1,o=2,c="",h=!1;for(;i<t.length;){let I=t[i];if("string"==typeof I)if(2&o){const T=t[++i];c+="["+I+(T.length>0?'="'+T+'"':"")+"]"}else 8&o?c+="."+I:4&o&&(c+=" "+I);else""!==c&&!_i(I)&&(n+=Wi(h,c),c=""),o=I,h=h||!_i(o);i++}return""!==c&&(n+=Wi(h,c)),n}function Ci(t){return Xr(()=>{const n=Ss(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ls.Emulated,styles:t.styles||Zn,_:null,schemas:t.schemas||null,tView:null,id:""};es(i);const o=t.dependencies;return i.directiveDefs=is(o,!1),i.pipeDefs=is(o,!0),i.id=function ts(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function bi(t){return Fn(t)||Er(t)}function hr(t){return null!==t}function Ai(t){return Xr(()=>({type:t.type,bootstrap:t.bootstrap||Zn,declarations:t.declarations||Zn,imports:t.imports||Zn,exports:t.exports||Zn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xs(t,n){if(null==t)return ni;const i={};for(const o in t)if(t.hasOwnProperty(o)){let c=t[o],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),i[c]=o,n&&(n[c]=h)}return i}function ds(t){return Xr(()=>{const n=Ss(t);return es(n),n})}function wo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fn(t){return t[rt]||null}function Er(t){return t[qe]||null}function Wr(t){return t[yt]||null}function ki(t){const n=Fn(t)||Er(t)||Wr(t);return null!==n&&n.standalone}function gr(t,n){const i=t[tn]||null;if(!i&&!0===n)throw new Error(`Type ${Re(t)} does not have '\u0275mod' property.`);return i}function Ss(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ni,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Zn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xs(t.inputs,n),outputs:Xs(t.outputs)}}function es(t){t.features?.forEach(n=>n(t))}function is(t,n){if(!t)return null;const i=n?Wr:bi;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(hr)}const fr=0,Qt=1,Sn=2,er=3,Mi=4,Ys=5,Gr=6,ss=7,br=8,Ps=9,Es=10,Vn=11,os=12,di=13,J=14,G=15,ve=16,we=17,He=18,ft=19,Ht=20,cn=21,Dt=22,nn=23,tr=24,En=25,$r=1,fi=2,si=7,Bi=9,ir=11;function Yr(t){return Array.isArray(t)&&"object"==typeof t[$r]}function mr(t){return Array.isArray(t)&&!0===t[$r]}function Js(t){return 0!=(4&t.flags)}function Ki(t){return t.componentOffset>-1}function Wo(t){return 1==(1&t.flags)}function as(t){return!!t.template}function la(t){return 0!=(512&t[Sn])}function Rs(t,n){return t.hasOwnProperty(bn)?t[bn]:null}let Kr=null,ta=!1;function Oi(t){const n=Kr;return Kr=t,n}const nc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Po(t){if(!_o(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Tu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function fs(t){t.dirty=!0,function Zs(t){if(void 0===t.liveConsumerNode)return;const n=ta;ta=!0;try{for(const i of t.liveConsumerNode)i.dirty||fs(i)}finally{ta=n}}(t),t.consumerMarkedDirty?.(t)}function Kn(t){return t&&(t.nextProducerIndex=0),Oi(t)}function Ba(t,n){if(Oi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(_o(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ha(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Tu(t){Ko(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(Po(i),o!==i.version))return!0}return!1}function da(t){if(Ko(t),_o(t))for(let n=0;n<t.producerNode.length;n++)ha(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ha(t,n){if(function $a(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ko(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)ha(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];Ko(c),c.producerIndexOfThis[o]=n}}function _o(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ko(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let yo=null;function at(t){const n=Oi(null);try{return t()}finally{Oi(n)}}const fn=()=>{},Tr=(()=>({...nc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:fn}))();class Vr{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function cr(){return ui}function ui(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ti),qr}function qr(){const t=ps(this),n=t?.current;if(n){const i=t.previous;if(i===ni)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Ti(t,n,i,o){const c=this.declaredInputs[i],h=ps(t)||function na(t,n){return t[ns]=n}(t,{previous:ni,current:null}),I=h.current||(h.current={}),T=h.previous,R=T[c];I[c]=new Vr(R&&R.currentValue,n,T===ni),t[o]=n}cr.ngInherit=!0;const ns="__ngSimpleChanges__";function ps(t){return t[ns]||null}const Un=function(t,n,i){};function Lr(t){for(;Array.isArray(t);)t=t[fr];return t}function Aa(t,n){return Lr(n[t])}function Di(t,n){return Lr(n[t.index])}function kn(t,n){return t.data[n]}function vo(t,n){return t[n]}function gi(t,n){const i=n[t];return Yr(i)?i:i[fr]}function Oo(t,n){return null==n?null:t[n]}function ra(t){t[we]=0}function oc(t){1024&t[Sn]||(t[Sn]|=1024,wl(t,1))}function Su(t){1024&t[Sn]&&(t[Sn]&=-1025,wl(t,-1))}function wl(t,n){let i=t[er];if(null===i)return;i[Ys]+=n;let o=i;for(i=i[er];null!==i&&(1===n&&1===o[Ys]||-1===n&&0===o[Ys]);)i[Ys]+=n,o=i,i=i[er]}const Yn={lFrame:ne(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yi(){return Yn.bindingsEnabled}function xt(){return Yn.lFrame.lView}function xr(){return Yn.lFrame.tView}function Nc(t){return Yn.lFrame.contextLView=t,t[br]}function za(t){return Yn.lFrame.contextLView=null,t}function bs(){let t=Vi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vi(){return Yn.lFrame.currentTNode}function no(t,n){const i=Yn.lFrame;i.currentTNode=t,i.isParent=n}function uo(){return Yn.lFrame.isParent}function Wa(){Yn.lFrame.isParent=!1}function rs(){const t=Yn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function co(){return Yn.lFrame.bindingIndex++}function Ga(t,n){const i=Yn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Sl(n)}function Sl(t){Yn.lFrame.currentDirectiveIndex=t}function Qo(){return Yn.lFrame.currentQueryIndex}function w(t){Yn.lFrame.currentQueryIndex=t}function M(t){const n=t[Qt];return 2===n.type?n.declTNode:1===n.type?t[Gr]:null}function b(t,n,i){if(i&un.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||i&un.Host||(c=M(h),null===c||(h=h[J],10&c.type))););if(null===c)return!1;n=c,t=h}const o=Yn.lFrame=$();return o.currentTNode=n,o.lView=t,!0}function O(t){const n=$(),i=t[Qt];Yn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function $(){const t=Yn.lFrame,n=null===t?null:t.child;return null===n?ne(t):n}function ne(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ee(){const t=Yn.lFrame;return Yn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const it=Ee;function nt(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yr(){return Yn.lFrame.selectedIndex}function Ir(t){Yn.lFrame.selectedIndex=t}function Jr(){const t=Yn.lFrame;return kn(t.tView,t.selectedIndex)}let Hf=!0;function Sa(){return Hf}function Xa(t){Hf=t}function Pl(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:T,ngAfterViewInit:R,ngAfterViewChecked:j,ngOnDestroy:te}=h;I&&(t.contentHooks??=[]).push(-i,I),T&&((t.contentHooks??=[]).push(i,T),(t.contentCheckHooks??=[]).push(i,T)),R&&(t.viewHooks??=[]).push(-i,R),j&&((t.viewHooks??=[]).push(i,j),(t.viewCheckHooks??=[]).push(i,j)),null!=te&&(t.destroyHooks??=[]).push(i,te)}}function ga(t,n,i){Lc(t,n,3,i)}function ma(t,n,i,o){(3&t[Sn])===i&&Lc(t,n,i,o)}function Xo(t,n){let i=t[Sn];(3&i)===n&&(i&=8191,i+=1,t[Sn]=i)}function Lc(t,n,i,o){const h=o??-1,I=n.length-1;let T=0;for(let R=void 0!==o?65535&t[we]:0;R<I;R++)if("number"==typeof n[R+1]){if(T=n[R],null!=o&&T>=o)break}else n[R]<0&&(t[we]+=65536),(T<h||-1==h)&&(Ya(t,i,n,R),t[we]=(4294901760&t[we])+R+2),R++}function _a(t,n){Un(4,t,n);const i=Oi(null);try{n.call(t)}finally{Oi(i),Un(5,t,n)}}function Ya(t,n,i,o){const c=i[o]<0,h=i[o+1],T=t[c?-i[o]:i[o]];c?t[Sn]>>13<t[we]>>16&&(3&t[Sn])===n&&(t[Sn]+=8192,_a(T,h)):_a(T,h)}const Ja=-1;class Ou{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function eu(t){return t!==Ja}function xl(t){return 32767&t}function Eo(t,n){let i=function tu(t){return t>>16}(t),o=n;for(;i>0;)o=o[J],i--;return o}let xu=!0;function Yo(t){const n=xu;return xu=t,n}const cc=255,ws=5;let Fh=0;const Ws={};function Bc(t,n){const i=ya(t,n);if(-1!==i)return i;const o=n[Qt];o.firstCreatePass&&(t.injectorIndex=n.length,No(o.data,t),No(n,null),No(o.blueprint,null));const c=Nu(t,n),h=t.injectorIndex;if(eu(c)){const I=xl(c),T=Eo(c,n),R=T[Qt].data;for(let j=0;j<8;j++)n[h+j]=T[I+j]|R[I+j]}return n[h+8]=c,h}function No(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ya(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Nu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,c=n;for(;null!==c;){if(o=Gd(c),null===o)return Ja;if(i++,c=c[J],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Ja}function Io(t,n,i){!function Nl(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Mn)&&(o=i[Mn]),null==o&&(o=i[Mn]=Fh++);const c=o&cc;n.data[t+(c>>ws)]|=1<<c}(t,n,i)}function nu(t,n,i){if(i&un.Optional||void 0!==t)return t;jt()}function kl(t,n,i,o){if(i&un.Optional&&void 0===o&&(o=null),!(i&(un.Self|un.Host))){const c=t[Ps],h=ur(void 0);try{return c?c.get(n,o,i&un.Optional):vr(n,o,i&un.Optional)}finally{ur(h)}}return nu(o,0,i)}function Pa(t,n,i,o=un.Default,c){if(null!==t){if(2048&n[Sn]&&!(o&un.Self)){const I=function ku(t,n,i,o,c){let h=t,I=n;for(;null!==h&&null!==I&&2048&I[Sn]&&!(512&I[Sn]);){const T=zd(h,I,i,o|un.Self,Ws);if(T!==Ws)return T;let R=h.parent;if(!R){const j=I[Ht];if(j){const te=j.get(i,Ws,o);if(te!==Ws)return te}R=Gd(I),I=I[J]}h=R}return c}(t,n,i,o,Ws);if(I!==Ws)return I}const h=zd(t,n,i,o,Ws);if(h!==Ws)return h}return kl(n,i,o,c)}function zd(t,n,i,o,c){const h=function Fl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Mn)?t[Mn]:void 0;return"number"==typeof n?n>=0?n&cc:Wd:n}(i);if("function"==typeof h){if(!b(n,t,o))return o&un.Host?nu(c,0,o):kl(n,i,o,c);try{let I;if(I=h(o),null!=I||o&un.Optional)return I;jt()}finally{it()}}else if("number"==typeof h){let I=null,T=ya(t,n),R=Ja,j=o&un.Host?n[G][Gr]:null;for((-1===T||o&un.SkipSelf)&&(R=-1===T?Nu(t,n):n[T+8],R!==Ja&&jc(o,!1)?(I=n[Qt],T=xl(R),n=Eo(R,n)):T=-1);-1!==T;){const te=n[Qt];if(Lh(h,T,te.data)){const _e=Ra(T,n,i,I,o,j);if(_e!==Ws)return _e}R=n[T+8],R!==Ja&&jc(o,n[Qt].data[T+8]===j)&&Lh(h,T,n)?(I=te,T=xl(R),n=Eo(R,n)):T=-1}}return c}function Ra(t,n,i,o,c,h){const I=n[Qt],T=I.data[t+8],te=$c(T,I,i,null==o?Ki(T)&&xu:o!=I&&0!=(3&T.type),c&un.Host&&h===T);return null!==te?va(n,I,te,T):Ws}function $c(t,n,i,o,c){const h=t.providerIndexes,I=n.data,T=1048575&h,R=t.directiveStart,te=h>>20,$e=c?T+te:t.directiveEnd;for(let Ye=o?T:T+te;Ye<$e;Ye++){const wt=I[Ye];if(Ye<R&&i===wt||Ye>=R&&wt.type===i)return Ye}if(c){const Ye=I[R];if(Ye&&as(Ye)&&Ye.type===i)return R}return null}function va(t,n,i,o){let c=t[i];const h=n.data;if(function Uc(t){return t instanceof Ou}(c)){const I=c;I.resolving&&function mt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ze(t)}(h[i]));const T=Yo(I.canSeeViewProviders);I.resolving=!0;const j=I.injectImpl?ur(I.injectImpl):null;b(t,o,un.Default);try{c=t[i]=I.factory(void 0,h,t,o),n.firstCreatePass&&i>=o.directiveStart&&function Hd(t,n,i){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(o){const I=ui(n);(i.preOrderHooks??=[]).push(t,I),(i.preOrderCheckHooks??=[]).push(t,I)}c&&(i.preOrderHooks??=[]).push(0-t,c),h&&((i.preOrderHooks??=[]).push(t,h),(i.preOrderCheckHooks??=[]).push(t,h))}(i,h[i],n)}finally{null!==j&&ur(j),Yo(T),I.resolving=!1,it()}}return c}function Lh(t,n,i){return!!(i[n+(t>>ws)]&1<<t)}function jc(t,n){return!(t&un.Self||t&un.Host&&n)}class Ns{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Pa(this._tNode,this._lView,n,Jt(o),i)}}function Wd(){return new Ns(bs(),xt())}function Hc(t){return Xr(()=>{const n=t.prototype.constructor,i=n[bn]||Ea(n),o=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==o;){const h=c[bn]||Ea(c);if(h&&h!==i)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Ea(t){return kt(t)?()=>{const n=Ea(gt(t));return n&&n()}:Rs(t)}function Gd(t){const n=t[Qt],i=n.type;return 2===i?n.declTNode:1===i?t[Gr]:null}function zc(t){return function Vh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let c=0;for(;c<o;){const h=i[c];if(Mr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<o&&"string"==typeof i[c];)c++;else{if(h===n)return i[c+1];c+=2}}}return null}(bs(),t)}const Gs="__parameters__";function $i(t,n,i){return Xr(()=>{const o=function iu(t){return function(...i){if(t){const o=t(...i);for(const c in o)this[c]=o[c]}}}(n);function c(...h){if(this instanceof c)return o.apply(this,h),this;const I=new c(...h);return T.annotation=I,T;function T(R,j,te){const _e=R.hasOwnProperty(Gs)?R[Gs]:Object.defineProperty(R,Gs,{value:[]})[Gs];for(;_e.length<=te;)_e.push(null);return(_e[te]=_e[te]||[]).push(I),R}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function aa(t,n){t.forEach(i=>Array.isArray(i)?aa(i,n):n(i))}function Bl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function hc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Fo(t,n,i){let o=Lu(t,n);return o>=0?t[1|o]=i:(o=~o,function Bh(t,n,i,o){let c=t.length;if(c==n)t.push(i,o);else if(1===c)t.push(o,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function $l(t,n){const i=Lu(t,n);if(i>=0)return t[1|i]}function Lu(t,n){return function Oa(t,n,i){let o=0,c=t.length>>i;for(;c!==o;){const h=o+(c-o>>1),I=t[h<<i];if(n===I)return h<<i;I>n?c=h:o=h+1}return~(c<<i)}(t,n,1)}const Bu=vn($i("Optional"),8),xa=vn($i("SkipSelf"),4);function Xc(t){return 128==(128&t.flags)}var cu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cu||{});const Wh=/^>|^->|<!--|-->|--!>|<!-$/g,Yl=/(<|>)/g,Yf="\u200b$1\u200b";const Jf=new Map;let fg=0;const ih="__ngContext__";function fo(t,n){Yr(n)?(t[ih]=n[ft],function Cm(t){Jf.set(t[ft],t)}(n)):t[ih]=n}let tp;function ed(t,n){return tp(t,n)}function Yc(t){const n=t[er];return mr(n)?n[er]:n}function Qh(t){return sh(t[os])}function Xh(t){return sh(t[Mi])}function sh(t){for(;null!==t&&!mr(t);)t=t[Mi];return t}function td(t,n,i,o,c){if(null!=o){let h,I=!1;mr(o)?h=o:Yr(o)&&(I=!0,o=o[fr]);const T=Lr(o);0===t&&null!==i?null==c?bg(n,i,T):lu(n,i,T,c||null,!0):1===t&&null!==i?lu(n,i,T,c||null,!0):2===t?function id(t,n,i){const o=du(t,n);o&&function sp(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,T,I):3===t&&n.destroyNode(T),null!=h&&function up(t,n,i,o,c){const h=i[si];h!==Lr(i)&&td(n,t,o,h,c);for(let T=ir;T<i.length;T++){const R=i[T];el(R[Qt],R,t,n,o,h)}}(n,t,h,i,c)}}function Yh(t,n){return t.createComment(function hg(t){return t.replace(Wh,n=>n.replace(Yl,Yf))}(n))}function Jh(t,n,i){return t.createElement(n,i)}function Ig(t,n){const i=t[Bi],o=i.indexOf(n);Su(n),i.splice(o,1)}function Zh(t,n){if(t.length<=ir)return;const i=ir+n,o=t[i];if(o){const c=o[ve];null!==c&&c!==t&&Ig(c,o),n>0&&(t[i-1][Mi]=o[Mi]);const h=hc(t,ir+n);!function yg(t,n){el(t,n,n[Vn],2,null,null),n[fr]=null,n[Gr]=null}(o[Qt],o);const I=h[He];null!==I&&I.detachView(h[Qt]),o[er]=null,o[Mi]=null,o[Sn]&=-129}return o}function uh(t,n){if(!(256&n[Sn])){const i=n[Vn];n[nn]&&da(n[nn]),n[tr]&&da(n[tr]),i.destroyNode&&el(t,n,i,3,null,null),function Eg(t){let n=t[os];if(!n)return rp(t[Qt],t);for(;n;){let i=null;if(Yr(n))i=n[os];else{const o=n[ir];o&&(i=o)}if(!i){for(;n&&!n[Mi]&&n!==t;)Yr(n)&&rp(n[Qt],n),n=n[er];null===n&&(n=t),Yr(n)&&rp(n[Qt],n),i=n&&n[Mi]}n=i}}(n)}}function rp(t,n){if(!(256&n[Sn])){n[Sn]&=-129,n[Sn]|=256,function Cg(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const c=n[i[o]];if(!(c instanceof Ou)){const h=i[o+1];if(Array.isArray(h))for(let I=0;I<h.length;I+=2){const T=c[h[I]],R=h[I+1];Un(4,T,R);try{R.call(T)}finally{Un(5,T,R)}}else{Un(4,c,h);try{h.call(c)}finally{Un(5,c,h)}}}}}(t,n),function ip(t,n){const i=t.cleanup,o=n[ss];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const I=i[h+3];I>=0?o[I]():o[-I].unsubscribe(),h+=2}else i[h].call(o[i[h+1]]);null!==o&&(n[ss]=null);const c=n[cn];if(null!==c){n[cn]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[Qt].type&&n[Vn].destroy();const i=n[ve];if(null!==i&&mr(n[er])){i!==n[er]&&Ig(i,n);const o=n[He];null!==o&&o.detachView(t)}!function bm(t){Jf.delete(t[ft])}(n)}}function ch(t,n,i){return function ef(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[fr];{const{componentOffset:c}=o;if(c>-1){const{encapsulation:h}=t.data[o.directiveStart+c];if(h===ls.None||h===ls.Emulated)return null}return Di(o,i)}}(t,n.parent,i)}function lu(t,n,i,o,c){t.insertBefore(n,i,o,c)}function bg(t,n,i){t.appendChild(n,i)}function lh(t,n,i,o,c){null!==o?lu(t,n,i,o,c):bg(t,n,i)}function du(t,n){return t.parentNode(n)}let ap,cf,dp,As,rf=function nf(t,n,i){return 40&t.type?Di(t,i):null};function sf(t,n,i,o){const c=ch(t,o,n),h=n[Vn],T=function dh(t,n,i){return rf(t,n,i)}(o.parent||n[Gr],o,n);if(null!=c)if(Array.isArray(i))for(let R=0;R<i.length;R++)lh(h,c,i[R],T,!1);else lh(h,c,i,T,!1);void 0!==ap&&ap(h,o,n,i,c)}function Zc(t,n){if(null!==n){const i=n.type;if(3&i)return Di(n,t);if(4&i)return rd(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return Zc(t,o);{const c=t[n.index];return mr(c)?rd(-1,c):Lr(c)}}if(32&i)return ed(n,t)()||Lr(t[n.index]);{const o=Tg(t,n);return null!==o?Array.isArray(o)?o[0]:Zc(Yc(t[G]),o):Zc(t,n.next)}}return null}function Tg(t,n){return null!==n?t[G][Gr].projection[n.projection]:null}function rd(t,n){const i=ir+t+1;if(i<n.length){const o=n[i],c=o[Qt].firstChild;if(null!==c)return Zc(o,c)}return n[si]}function hu(t,n,i,o,c,h,I){for(;null!=i;){const T=o[i.index],R=i.type;if(I&&0===n&&(T&&fo(Lr(T),o),i.flags|=2),32!=(32&i.flags))if(8&R)hu(t,n,i.child,o,c,h,!1),td(n,t,c,T,h);else if(32&R){const j=ed(i,o);let te;for(;te=j();)td(n,t,c,te,h);td(n,t,c,T,h)}else 16&R?fu(t,n,o,i,c,h):td(n,t,c,T,h);i=I?i.projectionNext:i.next}}function el(t,n,i,o,c,h){hu(i,o,t.firstChild,n,c,h,!1)}function fu(t,n,i,o,c,h){const I=i[G],R=I[Gr].projection[o.projection];if(Array.isArray(R))for(let j=0;j<R.length;j++)td(n,t,c,R[j],h);else{let j=R;const te=I[er];Xc(o)&&(j.flags|=128),hu(t,n,j,te,c,h,!0)}}function pu(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function uf(t,n,i){const{mergedAttrs:o,classes:c,styles:h}=i;null!==o&&Gn(t,n,o),null!==c&&pu(t,n,c),null!==h&&function cp(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}function sd(t){return function fh(){if(void 0===cf&&(cf=null,xn.trustedTypes))try{cf=xn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cf}()?.createHTML(t)||t}function hp(t){dp=t}function Ku(){if(void 0!==dp)return dp;if(typeof document<"u")return document;throw new Ue(210,!1)}function df(){if(void 0===As&&(As=null,xn.trustedTypes))try{As=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return As}function ph(t){return df()?.createHTML(t)||t}function wg(t){return df()?.createScriptURL(t)||t}class tl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ke})`}}class pp extends tl{getTypeName(){return"HTML"}}class Sm extends tl{getTypeName(){return"Style"}}class gp extends tl{getTypeName(){return"Script"}}class hf extends tl{getTypeName(){return"URL"}}class mp extends tl{getTypeName(){return"ResourceURL"}}function qu(t){return t instanceof tl?t.changingThisBreaksApplicationSecurity:t}function Na(t,n){const i=function Pm(t){return t instanceof tl&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Ke})`)}return i===n}function _p(t){return new pp(t)}function Ag(t){return new Sm(t)}function ad(t){return new gp(t)}function yp(t){return new hf(t)}function ff(t){return new mp(t)}class Rm{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(sd(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Mm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=sd(n),i}}const pf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ud(t){return(t=String(t)).match(pf)?t:"unsafe:"+t}function ka(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function nl(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const vp=ka("area,br,col,hr,img,wbr"),gf=ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gh=ka("rp,rt"),mu=nl(vp,nl(gf,ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nl(gh,ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nl(gh,gf)),Ep=ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rl=nl(Ep,ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cp=ka("script,style,template");class xm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!mu.hasOwnProperty(i))return this.sanitizedSomething=!0,!Cp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let c=0;c<o.length;c++){const h=o.item(c),I=h.name,T=I.toLowerCase();if(!rl.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let R=h.value;Ep[T]&&(R=ud(R)),this.buf.push(" ",I,'="',Pg(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();mu.hasOwnProperty(i)&&!vp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Pg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Nm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,km=/([^\#-~ |!])/g;function Pg(t){return t.replace(/&/g,"&amp;").replace(Nm,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(km,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bp;function Rg(t,n){let i=null;try{bp=bp||function Dg(t){const n=new Mm(t);return function Om(){try{return!!(new window.DOMParser).parseFromString(sd(""),"text/html")}catch{return!1}}()?new Rm(n):n}(t);let o=n?String(n):"";i=bp.getInertBodyElement(o);let c=5,h=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=h,h=i.innerHTML,i=bp.getInertBodyElement(o)}while(o!==h);return sd((new xm).sanitizeChildren(Tp(i)||i))}finally{if(i){const o=Tp(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Tp(t){return"content"in t&&function $_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ld=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ld||{});function Fm(t){const n=wr();return n?ph(n.sanitize(ld.HTML,t)||""):Na(t,"HTML")?ph(qu(t)):Rg(Ku(),ze(t))}function Mg(t){const n=wr();return n?n.sanitize(ld.URL,t)||"":Na(t,"URL")?qu(t):ud(ze(t))}function Vm(t){const n=wr();if(n)return wg(n.sanitize(ld.RESOURCE_URL,t)||"");if(Na(t,"ResourceURL"))return wg(qu(t));throw new Ue(904,!1)}function mh(t,n,i){return function _f(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Vm:Mg}(n,i)(t)}function wr(){const t=xt();return t&&t[Es].sanitizer}const dd=new Yt("ENVIRONMENT_INITIALIZER"),Og=new Yt("INJECTOR",-1),yh=new Yt("INJECTOR_DEF_TYPES");class yf{get(n,i=Tn){if(i===Tn){const o=new Error(`NullInjectorError: No provider for ${Re(n)}!`);throw o.name="NullInjectorError",o}return i}}function io(t){return{\u0275providers:t}}function Ds(...t){return{\u0275providers:_u(0,t),\u0275fromNgModule:!0}}function _u(t,...n){const i=[],o=new Set;let c;const h=I=>{i.push(I)};return aa(n,I=>{const T=I;wp(T,h,[],o)&&(c||=[],c.push(T))}),void 0!==c&&Bm(c,h),i}function Bm(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:c}=t[i];xg(c,h=>{n(h,o)})}}function wp(t,n,i,o){if(!(t=gt(t)))return!1;let c=null,h=Br(t);const I=!h&&Fn(t);if(h||I){if(I&&!I.standalone)return!1;c=t}else{const R=t.ngModule;if(h=Br(R),!h)return!1;c=R}const T=o.has(c);if(I){if(T)return!1;if(o.add(c),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const j of R)wp(j,n,i,o)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let j;o.add(c);try{aa(h.imports,te=>{wp(te,n,i,o)&&(j||=[],j.push(te))})}finally{}void 0!==j&&Bm(j,n)}if(!T){const j=Rs(c)||(()=>new c);n({provide:c,useFactory:j,deps:Zn},c),n({provide:yh,useValue:c,multi:!0},c),n({provide:dd,useValue:()=>At(c),multi:!0},c)}const R=h.providers;if(null!=R&&!T){const j=t;xg(R,te=>{n(te,j)})}}}return c!==t&&void 0!==t.providers}function xg(t,n){for(let i of t)bt(i)&&(i=i.\u0275providers),Array.isArray(i)?xg(i,n):n(i)}const Ng=ae({provide:String,useValue:ae});function kg(t){return null!==t&&"object"==typeof t&&Ng in t}function hd(t){return"function"==typeof t}const jm=new Yt("Set Injector scope."),Dp={},cs={};let Sp;function Pp(){return void 0===Sp&&(Sp=new yf),Sp}class Qu{}class fd extends Qu{get destroyed(){return this._destroyed}constructor(n,i,o,c){super(),this.parent=i,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pd(n,I=>this.processProvider(I)),this.records.set(Og,vf(void 0,this)),c.has("environment")&&this.records.set(Qu,vf(void 0,this));const h=this.records.get(jm);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(yh.multi,Zn,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Ne(this),o=ur(void 0);try{return n()}finally{Ne(i),ur(o)}}get(n,i=Tn,o=un.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(wn))return n[wn](this);o=Jt(o);const h=Ne(this),I=ur(void 0);try{if(!(o&un.SkipSelf)){let R=this.records.get(n);if(void 0===R){const j=function zm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Yt}(n)&&_n(n);R=j&&this.injectableDefInScope(j)?vf(Fg(n),Dp):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(o&un.Self?Pp():this.parent).get(n,i=o&un.Optional&&i===Tn?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[nr]=T[nr]||[]).unshift(Re(n)),h)throw T;return function kr(t,n,i,o){const c=t[nr];throw n[V]&&c.unshift(n[V]),t.message=function Us(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Re(n);if(Array.isArray(n))c=n.map(Re).join(" -> ");else if("object"==typeof n){let h=[];for(let I in n)if(n.hasOwnProperty(I)){let T=n[I];h.push(I+":"+("string"==typeof T?JSON.stringify(T):Re(T)))}c=`{${h.join(", ")}}`}return`${i}${o?"("+o+")":""}[${c}]: ${t.replace(ee,"\n  ")}`}("\n"+t.message,c,i,o),t.ngTokenPath=c,t[nr]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{ur(I),Ne(h)}}resolveInjectorInitializers(){const n=Ne(this),i=ur(void 0);try{const c=this.get(dd.multi,Zn,un.Self);for(const h of c)h()}finally{Ne(n),ur(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(Re(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(n){let i=hd(n=gt(n))?n:gt(n&&n.provide);const o=function G_(t){return kg(t)?vf(void 0,t.useValue):vf(Hm(t),Dp)}(n);if(hd(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=vf(void 0,Dp,!0),c.factory=()=>Jn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===Dp&&(i.value=cs,i.value=i.factory()),"object"==typeof i.value&&i.value&&function q_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=gt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Fg(t){const n=_n(t),i=null!==n?n.factory:Rs(t);if(null!==i)return i;if(t instanceof Yt)throw new Ue(204,!1);if(t instanceof Function)return function W_(t){const n=t.length;if(n>0)throw function fc(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}(n,"?"),new Ue(204,!1);const i=function Pt(t){return t&&(t[sn]||t[Bn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ue(204,!1)}function Hm(t,n,i){let o;if(hd(t)){const c=gt(t);return Rs(c)||Fg(c)}if(kg(t))o=()=>gt(t.useValue);else if(function $m(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Jn(t.deps||[]));else if(function Ap(t){return!(!t||!t.useExisting)}(t))o=()=>At(gt(t.useExisting));else{const c=gt(t&&(t.useClass||t.provide));if(!function K_(t){return!!t.deps}(t))return Rs(c)||Fg(c);o=()=>new c(...Jn(t.deps))}return o}function vf(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function pd(t,n){for(const i of t)Array.isArray(i)?pd(i,n):i&&bt(i)?pd(i.\u0275providers,n):n(i)}const Wm=new Yt("AppId",{providedIn:"root",factory:()=>il}),il="ng",Ic=new Yt("Platform Initializer"),Gm=new Yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Q_=new Yt("CSP nonce",{providedIn:"root",factory:()=>Ku().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Th=(t,n,i)=>null;function ol(t,n,i=!1){return Th(t,n,i)}class uv{}class ey{}class ty{resolveComponentFactory(n){throw function $g(t){const n=Error(`No component factory found for ${Re(t)}.`);return n.ngComponent=t,n}(n)}}let kp=(()=>{class t{static#e=this.NULL=new ty}return t})();function Fp(){return wh(bs(),xt())}function wh(t,n){return new wf(Di(t,n))}let wf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Fp}return t})();function Vp(t){return t instanceof wf?t.nativeElement:t}class Xm{}let ny=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ym(){const t=xt(),i=gi(bs().index,t);return(Yr(i)?i:t)[Vn]}()}return t})(),Jm=(()=>{class t{static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>null})}return t})();class Hg{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const zg=new Hg("16.2.12"),Lp={};function ul(t,n=null,i=null,o){const c=n_(t,n,i,o);return c.resolveInjectorInitializers(),c}function n_(t,n=null,i=null,o,c=new Set){const h=[i||Zn,Ds(t)];return o=o||("object"==typeof t?void 0:Re(t)),new fd(h,n||Pp(),o||null,c)}let yu=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Tn;static#t=this.NULL=new yf;static create(i,o){if(Array.isArray(i))return ul({name:""},o,i,"");{const c=i.name??"";return ul({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=gn({token:t,providedIn:"any",factory:()=>At(Og)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Wg(t){return t.ngOriginalError}class cl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Wg(n);for(;i&&Wg(i);)i=Wg(i);return i||null}}function Gg(t){return n=>{setTimeout(t,void 0,n)}}const Yu=class oy extends l.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let c=n,h=i||(()=>null),I=o;if(n&&"object"==typeof n){const R=n;c=R.next?.bind(R),h=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(h=Gg(h),c&&(c=Gg(c)),I&&(I=Gg(I)));const T=super.subscribe({next:c,error:h,complete:I});return n instanceof le.yU&&n.add(T),T}};function Kg(...t){}class gs{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yu(!1),this.onMicrotaskEmpty=new Yu(!1),this.onStable=new Yu(!1),this.onError=new Yu(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&i,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function ay(){const t="function"==typeof xn.requestAnimationFrame;let n=xn[t?"requestAnimationFrame":"setTimeout"],i=xn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function cy(t){const n=()=>{!function uy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qg(t),t.isCheckStableRunning=!0,i_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,c,h,I,T)=>{if(function pv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(T))return i.invokeTask(c,h,I,T);try{return s_(t),i.invokeTask(c,h,I,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),o_(t)}},onInvoke:(i,o,c,h,I,T,R)=>{try{return s_(t),i.invoke(c,h,I,T,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),o_(t)}},onHasTask:(i,o,c,h)=>{i.hasTask(c,h),o===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Qg(t),i_(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,o,c,h)=>(i.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new Ue(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,c){const h=this._inner,I=h.scheduleEventTask("NgZoneEvent: "+c,n,qg,Kg,Kg);try{return h.runTask(I,i,o)}finally{h.cancelTask(I)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const qg={};function i_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function s_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function o_(t){t._nesting--,i_(t)}class fv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yu,this.onMicrotaskEmpty=new Yu,this.onStable=new Yu,this.onError=new Yu}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,c){return n.apply(i,o)}}const ly=new Yt("",{providedIn:"root",factory:dy});function dy(){const t=Kt(gs);let n=!0;const i=new g.c(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),o=new g.c(c=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const I=t.onUnstable.subscribe(()=>{gs.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),I.unsubscribe()}});return(0,Ae.h)(i,o.pipe((0,Ve.u)()))}function Tc(t){return t instanceof Function?t():t}let Xg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Df(t){for(;t;){t[Sn]|=64;const n=Yc(t);if(la(t)&&!n)return t;t=n}return null}const gy=new Yt("",{providedIn:"root",factory:()=>!1});let Dh=null;function dl(t,n){return t[n]??s()}function a(t,n){const i=s();i.producerNode?.length&&(t[n]=Dh,i.lView=t,Dh=r())}const e={...nc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Df(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Dh??=r(),Dh}const u={};function p(t){E(xr(),xt(),yr()+t,!1)}function E(t,n,i,o){if(!o)if(3==(3&n[Sn])){const h=t.preOrderCheckHooks;null!==h&&ga(n,h,i)}else{const h=t.preOrderHooks;null!==h&&ma(n,h,0,i)}Ir(i)}function S(t,n=un.Default){const i=xt();return null===i?At(t,n):Pa(bs(),i,gt(t),n)}function N(){throw new Error("invalid")}function re(t,n,i,o,c,h,I,T,R,j,te){const _e=n.blueprint.slice();return _e[fr]=c,_e[Sn]=140|o,(null!==j||t&&2048&t[Sn])&&(_e[Sn]|=2048),ra(_e),_e[er]=_e[J]=t,_e[br]=i,_e[Es]=I||t&&t[Es],_e[Vn]=T||t&&t[Vn],_e[Ps]=R||t&&t[Ps]||null,_e[Gr]=h,_e[ft]=function pg(){return fg++}(),_e[Dt]=te,_e[Ht]=j,_e[G]=2==n.type?t[G]:_e,_e}function me(t,n,i,o,c){let h=t.data[n];if(null===h)h=function xe(t,n,i,o,c){const h=Vi(),I=uo(),R=t.data[n]=function P(t,n,i,o,c,h){let I=n?n.injectorIndex:-1,T=0;return function Da(){return null!==Yn.skipHydrationRootTNode}()&&(T|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?h:h&&h.parent,i,n,o,c);return null===t.firstChild&&(t.firstChild=R),null!==h&&(I?null==h.child&&null!==R.parent&&(h.child=R):null===h.next&&(h.next=R,R.prev=h)),R}(t,n,i,o,c),function Fc(){return Yn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=o,h.attrs=c;const I=function Ru(){const t=Yn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===I?-1:I.injectorIndex}return no(h,!0),h}function tt(t,n,i,o){if(0===i)return-1;const c=n.length;for(let h=0;h<i;h++)n.push(o),t.blueprint.push(o),t.data.push(null);return c}function Rt(t,n,i,o,c){const h=dl(n,nn),I=yr(),T=2&o;try{Ir(-1),T&&n.length>En&&E(t,n,En,!1),Un(T?2:0,c);const j=T?h:null,te=Kn(j);try{null!==j&&(j.dirty=!1),i(o,c)}finally{Ba(j,te)}}finally{T&&null===n[nn]&&a(n,nn),Ir(I),Un(T?3:1,c)}}function Gt(t,n,i){if(Js(n)){const o=Oi(null);try{const h=n.directiveEnd;for(let I=n.directiveStart;I<h;I++){const T=t.data[I];T.contentQueries&&T.contentQueries(1,i[I],I)}}finally{Oi(o)}}}function Bt(t,n,i){yi()&&(function Xn(t,n,i,o){const c=i.directiveStart,h=i.directiveEnd;Ki(i)&&function Fs(t,n,i){const o=Di(n,t),c=$n(i);let I=16;i.signals?I=4096:i.onPush&&(I=64);const T=Co(t,re(t,c,null,I,o,n,null,t[Es].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=T}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Bc(i,n),fo(o,n);const I=i.initialInputs;for(let T=c;T<h;T++){const R=t.data[T],j=va(n,t,T,i);fo(j,n),null!==I&&ba(0,T-c,j,R,0,I),as(R)&&(gi(i.index,n)[br]=va(n,t,T,i))}}(t,n,i,Di(i,n)),64==(64&i.flags)&&Qr(t,n,i))}function An(t,n,i=Di){const o=n.localNames;if(null!==o){let c=n.index+1;for(let h=0;h<o.length;h+=2){const I=o[h+1],T=-1===I?i(n,t):t[I];t[c++]=T}}}function $n(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Rn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Rn(t,n,i,o,c,h,I,T,R,j,te){const _e=En+o,$e=_e+c,Ye=function Cr(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:u);return i}(_e,$e),wt="function"==typeof j?j():j;return Ye[Qt]={type:t,blueprint:Ye,template:i,queries:null,viewQuery:T,declTNode:n,data:Ye.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:$e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:wt,incompleteFirstPass:!1,ssrId:te}}let Ge=t=>null;function L(t,n,i,o){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const h=t[c];null===o?K(i,n,c,h):o.hasOwnProperty(c)&&K(i,n,o[c],h)}return i}function K(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function lt(t,n,i,o,c,h,I,T){const R=Di(n,i);let te,j=n.inputs;!T&&null!=j&&(te=j[o])?(ms(t,i,te,o,c),Ki(n)&&function dn(t,n){const i=gi(n,t);16&i[Sn]||(i[Sn]|=64)}(i,n.index)):3&n.type&&(o=function dt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),c=null!=I?I(c,n.value||"",o):c,h.setProperty(R,o,c))}function Qn(t,n,i,o){if(yi()){const c=null===o?null:{"":-1},h=function Nr(t,n){const i=t.directiveRegistry;let o=null,c=null;if(i)for(let h=0;h<i.length;h++){const I=i[h];if(rr(n,I.selectors,!1))if(o||(o=[]),as(I))if(null!==I.findHostDirectiveDefs){const T=[];c=c||new Map,I.findHostDirectiveDefs(I,T,c),o.unshift(...T,I),Ar(t,n,T.length)}else o.unshift(I),Ar(t,n,0);else c=c||new Map,I.findHostDirectiveDefs?.(I,o,c),o.push(I)}return null===o?null:[o,c]}(t,i);let I,T;null===h?I=T=null:[I,T]=h,null!==I&&or(t,n,i,I,c,T),c&&function Ei(t,n,i){if(n){const o=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=i[n[c+1]];if(null==h)throw new Ue(-301,!1);o.push(n[c],h)}}}(i,o,c)}i.mergedAttrs=dr(i.mergedAttrs,i.attrs)}function or(t,n,i,o,c,h){for(let j=0;j<o.length;j++)Io(Bc(i,n),t,o[j].type);!function ji(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let j=0;j<o.length;j++){const te=o[j];te.providersResolver&&te.providersResolver(te)}let I=!1,T=!1,R=tt(t,n,o.length,null);for(let j=0;j<o.length;j++){const te=o[j];i.mergedAttrs=dr(i.mergedAttrs,te.hostAttrs),ks(t,i,n,R,te),oi(R,te,c),null!==te.contentQueries&&(i.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(i.flags|=64);const _e=te.type.prototype;!I&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),I=!0),!T&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),T=!0),R++}!function Pe(t,n,i){const c=n.directiveEnd,h=t.data,I=n.attrs,T=[];let R=null,j=null;for(let te=n.directiveStart;te<c;te++){const _e=h[te],$e=i?i.get(_e):null,wt=$e?$e.outputs:null;R=L(_e.inputs,te,R,$e?$e.inputs:null),j=L(_e.outputs,te,j,wt);const Wt=null===R||null===I||ai(n)?null:hl(R,te,I);T.push(Wt)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=R,n.outputs=j}(t,i,h)}function Qr(t,n,i){const o=i.directiveStart,c=i.directiveEnd,h=i.index,I=function Vc(){return Yn.lFrame.currentDirectiveIndex}();try{Ir(h);for(let T=o;T<c;T++){const R=t.data[T],j=n[T];Sl(T),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Xi(R,j)}}finally{Ir(-1),Sl(I)}}function Xi(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ar(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function oi(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;as(n)&&(i[""]=t)}}function ks(t,n,i,o,c){t.data[o]=c;const h=c.factory||(c.factory=Rs(c.type)),I=new Ou(h,as(c),S);t.blueprint[o]=I,i[o]=I,function zr(t,n,i,o,c){const h=c.hostBindings;if(h){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const T=~n.index;(function pn(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(I)!=T&&I.push(T),I.push(i,o,h)}}(t,n,o,tt(t,i,c.hostVars,u),c)}function wi(t,n,i,o,c,h){const I=Di(t,n);!function Vs(t,n,i,o,c,h,I){if(null==h)t.removeAttribute(n,c,i);else{const T=null==I?ze(h):I(h,o||"",c);t.setAttribute(n,c,T,i)}}(n[Vn],I,h,t.value,i,o,c)}function ba(t,n,i,o,c,h){const I=h[n];if(null!==I)for(let T=0;T<I.length;)po(o,i,I[T++],I[T++],I[T++])}function po(t,n,i,o,c){const h=Oi(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(o)&&(c=I[o].call(n,c)),null!==t.setInput?t.setInput(n,c,i,o):n[o]=c}finally{Oi(h)}}function hl(t,n,i){let o=null,c=0;for(;c<i.length;){const h=i[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===o&&(o=[]);const I=t[h];for(let T=0;T<I.length;T+=2)if(I[T]===n){o.push(h,I[T+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return o}function Ju(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function Uo(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const h=i[o+1];if(-1!==h){const I=t.data[h];w(i[o]),I.contentQueries(2,n[h],h)}}}function Co(t,n){return t[os]?t[di][Mi]=n:t[os]=n,t[di]=n,n}function fl(t,n,i){w(0);const o=Oi(null);try{n(t,i)}finally{Oi(o)}}function pl(t){return t[ss]||(t[ss]=[])}function wd(t){return t.cleanup||(t.cleanup=[])}function Ls(t,n){const i=t[Ps],o=i?i.get(cl,null):null;o&&o.handleError(n)}function ms(t,n,i,o,c){for(let h=0;h<i.length;){const I=i[h++],T=i[h++];po(t.data[I],n[I],o,T,c)}}function Ad(t,n){const i=gi(n,t),o=i[Qt];!function Sh(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const c=i[fr];null!==c&&null===i[Dt]&&(i[Dt]=ol(c,i[Ps])),Zu(o,i,i[br])}function Zu(t,n,i){O(n);try{const o=t.viewQuery;null!==o&&fl(1,o,i);const c=t.template;null!==c&&Rt(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Uo(t,n),t.staticViewQueries&&fl(2,t.viewQuery,i);const h=t.components;null!==h&&function gl(t,n){for(let i=0;i<n.length;i++)Ad(t,n[i])}(n,h)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[Sn]&=-5,nt()}}let Hp=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,c){const h=typeof Zone>"u"?null:Zone.current,I=function Tt(t,n,i){const o=Object.create(Tr);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const c=I=>{o.cleanupFn=I};return o.ref={notify:()=>fs(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Tu(o))return;o.hasRun=!0;const I=Kn(o);try{o.cleanupFn(),o.cleanupFn=fn,o.fn(c)}finally{Ba(o,I)}},cleanup:()=>o.cleanupFn()},o.ref}(i,j=>{this.all.has(j)&&this.queue.set(j,h)},c);let T;this.all.add(I),I.notify();const R=()=>{I.cleanup(),T?.(),this.all.delete(I),this.queue.delete(I)};return T=o?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Dd(t,n,i){let o=i?t.styles:null,c=i?t.classes:null,h=0;if(null!==n)for(let I=0;I<n.length;I++){const T=n[I];"number"==typeof T?h=T:1==h?c=ut(c,T):2==h&&(o=ut(o,T+": "+n[++I]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=c:t.classesWithoutHost=c}function Sd(t,n,i,o,c=!1){for(;null!==i;){const h=n[i.index];null!==h&&o.push(Lr(h)),mr(h)&&Jg(h,o);const I=i.type;if(8&I)Sd(t,n,i.child,o);else if(32&I){const T=ed(i,n);let R;for(;R=T();)o.push(R)}else if(16&I){const T=Tg(n,i);if(Array.isArray(T))o.push(...T);else{const R=Yc(n[G]);Sd(R[Qt],R,T,o,!0)}}i=c?i.projectionNext:i.next}return o}function Jg(t,n){for(let i=ir;i<t.length;i++){const o=t[i],c=o[Qt].firstChild;null!==c&&Sd(o[Qt],o,c,n)}t[si]!==t[fr]&&n.push(t[si])}function Pd(t,n,i,o=!0){const c=n[Es],h=c.rendererFactory,I=c.afterRenderEventManager;h.begin?.(),I?.begin();try{Rd(t,n,t.template,i)}catch(R){throw o&&Ls(n,R),R}finally{h.end?.(),c.effectManager?.flush(),I?.end()}}function Rd(t,n,i,o){const c=n[Sn];if(256!=(256&c)){n[Es].effectManager?.flush(),O(n);try{ra(n),function ia(t){return Yn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Rt(t,n,i,2,o);const I=3==(3&c);if(I){const j=t.preOrderCheckHooks;null!==j&&ga(n,j,null)}else{const j=t.preOrderHooks;null!==j&&ma(n,j,0,null),Xo(n,0)}if(function ec(t){for(let n=Qh(t);null!==n;n=Xh(n)){if(!n[fi])continue;const i=n[Bi];for(let o=0;o<i.length;o++){oc(i[o])}}}(n),Pf(n,2),null!==t.contentQueries&&Uo(t,n),I){const j=t.contentCheckHooks;null!==j&&ga(n,j)}else{const j=t.contentHooks;null!==j&&ma(n,j,1),Xo(n,1)}!function W(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=dl(n,tr);try{for(let c=0;c<i.length;c++){const h=i[c];if(h<0)Ir(~h);else{const I=h,T=i[++c],R=i[++c];Ga(T,I),o.dirty=!1;const j=Kn(o);try{R(2,n[I])}finally{Ba(o,j)}}}}finally{null===n[tr]&&a(n,tr),Ir(-1)}}(t,n);const T=t.components;null!==T&&Md(n,T,0);const R=t.viewQuery;if(null!==R&&fl(2,R,o),I){const j=t.viewCheckHooks;null!==j&&ga(n,j)}else{const j=t.viewHooks;null!==j&&ma(n,j,2),Xo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Sn]&=-73,Su(n)}finally{nt()}}}function Pf(t,n){for(let i=Qh(t);null!==i;i=Xh(i))for(let o=ir;o<i.length;o++)Rf(i[o],n)}function vu(t,n,i){Rf(gi(n,t),i)}function Rf(t,n){if(!function Du(t){return 128==(128&t[Sn])}(t))return;const i=t[Qt],o=t[Sn];if(80&o&&0===n||1024&o||2===n)Rd(i,t,i.template,t[br]);else if(t[Ys]>0){Pf(t,1);const c=i.components;null!==c&&Md(t,c,1)}}function Md(t,n,i){for(let o=0;o<n.length;o++)vu(t,n[o],i)}class Ac{get rootNodes(){const n=this._lView,i=n[Qt];return Sd(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[br]}set context(n){this._lView[br]=n}get destroyed(){return 256==(256&this._lView[Sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[er];if(mr(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Zh(n,o),hc(i,o))}this._attachedToViewContainer=!1}uh(this._lView[Qt],this._lView)}onDestroy(n){!function Bd(t,n){if(256==(256&t[Sn]))throw new Ue(911,!1);null===t[cn]&&(t[cn]=[]),t[cn].push(n)}(this._lView,n)}markForCheck(){Df(this._cdRefInjectingView||this._lView)}detach(){this._lView[Sn]&=-129}reattach(){this._lView[Sn]|=128}detectChanges(){Pd(this._lView[Qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ah(t,n){el(t,n,n[Vn],2,null,null)}(this._lView[Qt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=n}}class Od extends Ac{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Pd(n[Qt],n,n[br],!1)}checkNoChanges(){}get context(){return null}}class Mf extends kp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Fn(n);return new ml(i,this.ngModule)}}function go(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Gp{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=Jt(o);const c=this.injector.get(n,Lp,o);return c!==Lp||i===Lp?c:this.parentInjector.get(n,i,o)}}class ml extends ey{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=go(n.inputs);if(null!==i)for(const c of o)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return o}get outputs(){return go(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Zi(t){return t.map(Ni).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,c){let h=(c=c||this.ngModule)instanceof Qu?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const I=h?new Gp(n,h):n,T=I.get(Xm,null);if(null===T)throw new Ue(407,!1);const _e={rendererFactory:T,sanitizer:I.get(Jm,null),effectManager:I.get(Hp,null),afterRenderEventManager:I.get(Xg,null)},$e=T.createRenderer(null,this.componentDef),Ye=this.componentDef.selectors[0][0]||"div",wt=o?function vi(t,n,i,o){const h=o.get(gy,!1)||i===ls.ShadowDom,I=t.selectRootElement(n,h);return function Hr(t){Ge(t)}(I),I}($e,o,this.componentDef.encapsulation,I):Jh($e,Ye,function Wp(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Ye)),Hn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $t=null;null!==wt&&($t=ol(wt,I,!0));const Dr=Rn(0,null,null,1,0,null,null,null,null,null,null),ii=re(null,Dr,null,Hn,null,null,_e,$e,I,null,$t);let Yi,bu;O(ii);try{const kh=this.componentDef;let Im,yE=null;kh.findHostDirectiveDefs?(Im=[],yE=new Map,kh.findHostDirectiveDefs(kh,Im,yE),Im.push(kh)):Im=[kh];const zA=function Ev(t,n){const i=t[Qt],o=En;return t[o]=n,me(i,o,2,"#host",null)}(ii,wt),WA=function Of(t,n,i,o,c,h,I){const T=c[Qt];!function Iv(t,n,i,o){for(const c of t)n.mergedAttrs=dr(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Dd(n,n.mergedAttrs,!0),null!==i&&uf(o,i,n))}(o,t,n,I);let R=null;null!==n&&(R=ol(n,c[Ps]));const j=h.rendererFactory.createRenderer(n,i);let te=16;i.signals?te=4096:i.onPush&&(te=64);const _e=re(c,$n(i),null,te,c[t.index],t,h,j,null,null,R);return T.firstCreatePass&&Ar(T,t,o.length-1),Co(c,_e),c[t.index]=_e}(zA,wt,kh,Im,ii,_e,$e);bu=kn(Dr,En),wt&&function em(t,n,i,o){if(o)Gn(t,i,["ng-version",zg.full]);else{const{attrs:c,classes:h}=function zo(t){const n=[],i=[];let o=1,c=2;for(;o<t.length;){let h=t[o];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++o]):8===c&&i.push(h);else{if(!_i(c))break;c=h}o++}return{attrs:n,classes:i}}(n.selectors[0]);c&&Gn(t,i,c),h&&h.length>0&&pu(t,i,h.join(" "))}}($e,kh,wt,o),void 0!==i&&function vy(t,n,i){const o=t.projection=[];for(let c=0;c<n.length;c++){const h=i[c];o.push(null!=h?Array.from(h):null)}}(bu,this.ngContentSelectors,i),Yi=function Cv(t,n,i,o,c,h){const I=bs(),T=c[Qt],R=Di(I,c);or(T,c,I,i,null,o);for(let te=0;te<i.length;te++)fo(va(c,T,I.directiveStart+te,I),c);Qr(T,c,I),R&&fo(R,c);const j=va(c,T,I.directiveStart+I.componentOffset,I);if(t[br]=c[br]=j,null!==h)for(const te of h)te(j,n);return Gt(T,I,t),j}(WA,kh,Im,yE,ii,[p_]),Zu(Dr,ii,null)}finally{nt()}return new vv(this.componentType,Yi,wh(bu,ii),ii,bu)}}class vv extends uv{constructor(n,i,o,c,h){super(),this.location=o,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Od(c),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const h=this._rootLView;ms(h[Qt],h,c,n,i),this.previousInputValues.set(n,i),Df(gi(this._tNode.index,h))}}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function p_(){const t=bs();Pl(xt()[Qt],t)}function Dc(t){let n=function Kp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let c;if(as(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ue(903,!1);c=n.\u0275dir}if(c){if(i){o.push(c);const I=t;I.inputs=qp(t.inputs),I.inputTransforms=qp(t.inputTransforms),I.declaredInputs=qp(t.declaredInputs),I.outputs=qp(t.outputs);const T=c.hostBindings;T&&Iy(t,T);const R=c.viewQuery,j=c.contentQueries;if(R&&g_(t,R),j&&m_(t,j),de(t.inputs,c.inputs),de(t.declaredInputs,c.declaredInputs),de(t.outputs,c.outputs),null!==c.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),de(I.inputTransforms,c.inputTransforms)),as(c)&&c.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let I=0;I<h.length;I++){const T=h[I];T&&T.ngInherit&&T(t),T===Dc&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Ey(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const c=t[o];c.hostVars=n+=c.hostVars,c.hostAttrs=dr(c.hostAttrs,i=dr(i,c.hostAttrs))}}(o)}function qp(t){return t===ni?{}:t===Zn?[]:t}function g_(t,n){const i=t.viewQuery;t.viewQuery=i?(o,c)=>{n(o,c),i(o,c)}:n}function m_(t,n){const i=t.contentQueries;t.contentQueries=i?(o,c,h)=>{n(o,c,h),i(o,c,h)}:n}function Iy(t,n){const i=t.hostBindings;t.hostBindings=i?(o,c)=>{n(o,c),i(o,c)}:n}function __(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o];Array.isArray(c)&&c[2]&&(i[o]=c[2])}t.inputTransforms=i}function Qp(t){return!!rm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function rm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Sc(t,n,i){return t[n]=i}function Xp(t,n){return t[n]}function Bo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function xd(t,n,i,o){const c=Bo(t,n,i);return Bo(t,n+1,o)||c}function tc(t,n,i,o){const c=xt();return Bo(c,co(),n)&&(xr(),wi(Jr(),c,t,n,i,o)),tc}function yl(t,n,i,o){return Bo(t,co(),i)?n+ze(i)+o:u}function um(t,n,i,o,c,h,I,T){const R=xt(),j=xr(),te=t+En,_e=j.firstCreatePass?function Uy(t,n,i,o,c,h,I,T,R){const j=n.consts,te=me(n,t,4,I||null,Oo(j,T));Qn(n,i,te,Oo(j,R)),Pl(n,te);const _e=te.tView=Rn(2,te,o,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j,null);return null!==n.queries&&(n.queries.template(n,te),_e.queries=n.queries.embeddedTView(te)),te}(te,j,R,n,i,o,c,h,I):j.data[te];no(_e,!1);const $e=cm(j,R,_e,t);Sa()&&sf(j,R,$e,_e),fo($e,R),Co(R,R[te]=Ju($e,R,$e,_e)),Wo(_e)&&Bt(j,R,_e),null!=I&&An(R,_e,T)}let cm=function D_(t,n,i,o){return Xa(!0),n[Vn].createComment("")};function Vd(t){return vo(function Dl(){return Yn.lFrame.contextLView}(),En+t)}function dm(t,n,i){const o=xt();return Bo(o,co(),n)&&lt(xr(),Jr(),o,t,n,o[Vn],i,!1),dm}function hm(t,n,i,o,c){const I=c?"class":"style";ms(t,i,n.inputs[I],I,o)}function tg(t,n,i,o){const c=xt(),h=xr(),I=En+t,T=c[Vn],R=h.firstCreatePass?function jy(t,n,i,o,c,h){const I=n.consts,R=me(n,t,2,o,Oo(I,c));return Qn(n,i,R,Oo(I,h)),null!==R.attrs&&Dd(R,R.attrs,!1),null!==R.mergedAttrs&&Dd(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(I,h,c,n,i,o):h.data[I],j=S_(h,c,R,T,n,t);c[I]=j;const te=Wo(R);return no(R,!0),uf(T,j,R),32!=(32&R.flags)&&Sa()&&sf(h,c,j,R),0===function xs(){return Yn.lFrame.elementDepthCount}()&&fo(j,c),function Pu(){Yn.lFrame.elementDepthCount++}(),te&&(Bt(h,c,R),Gt(h,R,c)),null!==o&&An(c,R),tg}function Nh(){let t=bs();uo()?Wa():(t=t.parent,no(t,!1));const n=t;(function ac(t){return Yn.skipHydrationRootTNode===t})(n)&&function jd(){Yn.skipHydrationRootTNode=null}(),function Oc(){Yn.lFrame.elementDepthCount--}();const i=xr();return i.firstCreatePass&&(Pl(i,t),Js(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ml(t){return 0!=(8&t.flags)}(n)&&hm(i,n,xt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ol(t){return 0!=(16&t.flags)}(n)&&hm(i,n,xt(),n.stylesWithoutHost,!1),Nh}function ua(t,n,i,o){return tg(t,n,i,o),Nh(),ua}let S_=(t,n,i,o,c,h)=>(Xa(!0),Jh(o,c,function sa(){return Yn.lFrame.currentNamespace}()));function k(t,n,i){const o=xt(),c=xr(),h=t+En,I=c.firstCreatePass?function y(t,n,i,o,c){const h=n.consts,I=Oo(h,o),T=me(n,t,8,"ng-container",I);return null!==I&&Dd(T,I,!0),Qn(n,i,T,Oo(h,c)),null!==n.queries&&n.queries.elementStart(n,T),T}(h,c,o,n,i):c.data[h];no(I,!0);const T=et(c,o,I,t);return o[h]=T,Sa()&&sf(c,o,T,I),fo(T,o),Wo(I)&&(Bt(c,o,I),Gt(c,I,o)),null!=i&&An(o,I),k}function Q(){let t=bs();const n=xr();return uo()?Wa():(t=t.parent,no(t,!1)),n.firstCreatePass&&(Pl(n,t),Js(t)&&n.queries.elementEnd(t)),Q}let et=(t,n,i,o)=>(Xa(!0),Yh(n[Vn],""));function Hi(){return xt()}function mo(t){return!!t&&"function"==typeof t.then}function Ii(t){return!!t&&"function"==typeof t.subscribe}function To(t,n,i,o){const c=xt(),h=xr(),I=bs();return function Eu(t,n,i,o,c,h,I){const T=Wo(o),j=t.firstCreatePass&&wd(t),te=n[br],_e=pl(n);let $e=!0;if(3&o.type||I){const Wt=Di(o,n),yn=I?I(Wt):Wt,Hn=_e.length,$t=I?ii=>I(Lr(ii[o.index])):o.index;let Dr=null;if(!I&&T&&(Dr=function Bf(t,n,i,o){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const I=c[h];if(I===i&&c[h+1]===o){const T=n[ss],R=c[h+2];return T.length>R?T[R]:null}"string"==typeof I&&(h+=2)}return null}(t,n,c,o.index)),null!==Dr)(Dr.__ngLastListenerFn__||Dr).__ngNextListenerFn__=h,Dr.__ngLastListenerFn__=h,$e=!1;else{h=fm(o,n,te,h,!1);const ii=i.listen(yn,c,h);_e.push(h,ii),j&&j.push(c,$t,Hn,Hn+1)}}else h=fm(o,n,te,h,!1);const Ye=o.outputs;let wt;if($e&&null!==Ye&&(wt=Ye[c])){const Wt=wt.length;if(Wt)for(let yn=0;yn<Wt;yn+=2){const Yi=n[wt[yn]][wt[yn+1]].subscribe(h),bu=_e.length;_e.push(h,Yi),j&&j.push(c,o.index,bu,-(bu+1))}}}(h,c,c[Vn],I,t,n,o),To}function ng(t,n,i,o){try{return Un(6,n,i),!1!==i(o)}catch(c){return Ls(t,c),!1}finally{Un(7,n,i)}}function fm(t,n,i,o,c){return function h(I){if(I===Function)return o;Df(t.componentOffset>-1?gi(t.index,n):n);let R=ng(n,i,o,I),j=h.__ngNextListenerFn__;for(;j;)R=ng(n,i,j,I)&&R,j=j.__ngNextListenerFn__;return c&&!1===R&&I.preventDefault(),R}}function CE(t=1){return function an(t){return(Yn.lFrame.contextLView=function sr(t,n){for(;t>0;)n=n[J],t--;return n}(t,Yn.lFrame.contextLView))[br]}(t)}function Sv(t,n,i){return zy(t,"",n,"",i),Sv}function zy(t,n,i,o,c){const h=xt(),I=yl(h,n,i,o);return I!==u&&lt(xr(),Jr(),h,t,I,h[Vn],c,!1),zy}function Wy(t,n){return t<<17|n<<2}function $f(t){return t>>17&32767}function Pv(t){return 2|t}function rg(t){return(131068&t)>>2}function Rv(t,n){return-131069&t|n<<2}function Mv(t){return 1|t}function ME(t,n,i,o,c){const h=t[i+1],I=null===n;let T=o?$f(h):rg(h),R=!1;for(;0!==T&&(!1===R||I);){const te=t[T+1];xC(t[T],n)&&(R=!0,t[T+1]=o?Mv(te):Pv(te)),T=o?$f(te):rg(te)}R&&(t[i+1]=o?Pv(h):Mv(h))}function xC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Lu(t,n)>=0}function Ov(t,n,i){return Cl(t,n,i,!1),Ov}function xv(t,n){return Cl(t,n,null,!0),xv}function Cl(t,n,i,o){const c=xt(),h=xr(),I=function lo(t){const n=Yn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);h.firstUpdatePass&&function UE(t,n,i,o){const c=t.data;if(null===c[i+1]){const h=c[yr()],I=function LE(t,n){return n>=t.expandoStartIndex}(t,i);(function HE(t,n){return 0!=(t.flags&(n?8:16))})(h,o)&&null===n&&!I&&(n=!1),n=function jC(t,n,i,o){const c=function Mu(t){const n=Yn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(i=P_(i=Nv(null,t,n,i,o),n.attrs,o),h=null);else{const I=n.directiveStylingLast;if(-1===I||t[I]!==c)if(i=Nv(c,t,n,i,o),null===h){let R=function HC(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==rg(o))return t[$f(o)]}(t,n,o);void 0!==R&&Array.isArray(R)&&(R=Nv(null,t,n,R[1],o),R=P_(R,n.attrs,o),function zC(t,n,i,o){t[$f(i?n.classBindings:n.styleBindings)]=o}(t,n,o,R))}else h=function WC(t,n,i){let o;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)o=P_(o,t[h].hostAttrs,i);return P_(o,n.attrs,i)}(t,n,o)}return void 0!==h&&(o?n.residualClasses=h:n.residualStyles=h),i}(c,h,n,o),function MC(t,n,i,o,c,h){let I=h?n.classBindings:n.styleBindings,T=$f(I),R=rg(I);t[o]=i;let te,j=!1;if(Array.isArray(i)?(te=i[1],(null===te||Lu(i,te)>0)&&(j=!0)):te=i,c)if(0!==R){const $e=$f(t[T+1]);t[o+1]=Wy($e,T),0!==$e&&(t[$e+1]=Rv(t[$e+1],o)),t[T+1]=function PC(t,n){return 131071&t|n<<17}(t[T+1],o)}else t[o+1]=Wy(T,0),0!==T&&(t[T+1]=Rv(t[T+1],o)),T=o;else t[o+1]=Wy(R,0),0===T?T=o:t[R+1]=Rv(t[R+1],o),R=o;j&&(t[o+1]=Pv(t[o+1])),ME(t,te,o,!0),ME(t,te,o,!1),function OC(t,n,i,o,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Lu(h,n)>=0&&(i[o+1]=Mv(i[o+1]))}(n,te,t,o,h),I=Wy(T,R),h?n.classBindings=I:n.styleBindings=I}(c,h,n,i,I,o)}}(h,t,I,o),n!==u&&Bo(c,I,n)&&function $E(t,n,i,o,c,h,I,T){if(!(3&n.type))return;const R=t.data,j=R[T+1],te=function RC(t){return 1==(1&t)}(j)?jE(R,n,i,c,rg(j),I):void 0;Gy(te)||(Gy(h)||function SC(t){return 2==(2&t)}(j)&&(h=jE(R,null,i,c,T,I)),function Am(t,n,i,o,c){if(n)c?t.addClass(i,o):t.removeClass(i,o);else{let h=-1===o.indexOf("-")?void 0:cu.DashCase;null==c?t.removeStyle(i,o,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=cu.Important),t.setStyle(i,o,c,h))}}(o,I,Aa(yr(),i),c,h))}(h,h.data[yr()],c,c[Vn],t,c[I+1]=function QC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Re(qu(t)))),t}(n,i),o,I)}function Nv(t,n,i,o,c){let h=null;const I=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<I&&(h=n[T],o=P_(o,h.hostAttrs,c),h!==t);)T++;return null!==t&&(i.directiveStylingLast=T),o}function P_(t,n,i){const o=i?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const I=n[h];"number"==typeof I?c=I:c===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fo(t,I,!!i||n[++h]))}return void 0===t?null:t}function jE(t,n,i,o,c,h){const I=null===n;let T;for(;c>0;){const R=t[c],j=Array.isArray(R),te=j?R[1]:R,_e=null===te;let $e=i[c+1];$e===u&&($e=_e?Zn:void 0);let Ye=_e?$l($e,o):te===o?$e:void 0;if(j&&!Gy(Ye)&&(Ye=$l(R,o)),Gy(Ye)&&(T=Ye,I))return T;const wt=t[c+1];c=I?$f(wt):rg(wt)}if(null!==n){let R=h?n.residualClasses:n.residualStyles;null!=R&&(T=$l(R,o))}return T}function Gy(t){return void 0!==t}function zE(t,n=""){const i=xt(),o=xr(),c=t+En,h=o.firstCreatePass?me(o,c,1,n,null):o.data[c],I=WE(o,i,h,n,t);i[c]=I,Sa()&&sf(o,i,I,h),no(h,!1)}let WE=(t,n,i,o,c)=>(Xa(!0),function oh(t,n){return t.createText(n)}(n[Vn],o));function kv(t){return Ky("",t,""),kv}function Ky(t,n,i){const o=xt(),c=yl(o,t,n,i);return c!==u&&function qs(t,n,i){const o=Aa(n,t);!function _g(t,n,i){t.setValue(n,i)}(t[Vn],o,i)}(o,yr(),c),Ky}const ig=void 0;var _b=["en",[["a","p"],["AM","PM"],ig],[["AM","PM"],ig,ig],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ig,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ig,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ig,"{1} 'at' {0}",ig],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mb(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let gm={};function Fv(t){const n=function yb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=f0(n);if(i)return i;const o=n.split("-")[0];if(i=f0(o),i)return i;if("en"===o)return _b;throw new Ue(701,!1)}function h0(t){return Fv(t)[mm.PluralCase]}function f0(t){return t in gm||(gm[t]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[t]),gm[t]}var mm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(mm||{});const _m="en-US";let p0=_m;function Uv(t,n,i,o,c){if(t=gt(t),Array.isArray(t))for(let h=0;h<t.length;h++)Uv(t[h],n,i,o,c);else{const h=xr(),I=xt(),T=bs();let R=hd(t)?t:gt(t.provide);const j=Hm(t),te=1048575&T.providerIndexes,_e=T.directiveStart,$e=T.providerIndexes>>20;if(hd(t)||!t.multi){const Ye=new Ou(j,c,S),wt=$v(R,n,c?te:te+$e,_e);-1===wt?(Io(Bc(T,I),h,R),Bv(h,t,n.length),n.push(R),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),i.push(Ye),I.push(Ye)):(i[wt]=Ye,I[wt]=Ye)}else{const Ye=$v(R,n,te+$e,_e),wt=$v(R,n,te,te+$e),yn=wt>=0&&i[wt];if(c&&!yn||!c&&!(Ye>=0&&i[Ye])){Io(Bc(T,I),h,R);const Hn=function mT(t,n,i,o,c){const h=new Ou(t,i,S);return h.multi=[],h.index=n,h.componentProviders=0,U0(h,c,o&&!i),h}(c?gT:pT,i.length,c,o,j);!c&&yn&&(i[wt].providerFactory=Hn),Bv(h,t,n.length,0),n.push(R),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),i.push(Hn),I.push(Hn)}else Bv(h,t,Ye>-1?Ye:wt,U0(i[c?wt:Ye],j,!c&&o));!c&&o&&yn&&i[wt].componentProviders++}}}function Bv(t,n,i,o){const c=hd(n),h=function Li(t){return!!t.useClass}(n);if(c||h){const R=(h?gt(n.useClass):n).prototype.ngOnDestroy;if(R){const j=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const te=j.indexOf(i);-1===te?j.push(i,[o,R]):j[te+1].push(o,R)}else j.push(i,R)}}}function U0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function $v(t,n,i,o){for(let c=i;c<o;c++)if(n[c]===t)return c;return-1}function pT(t,n,i,o){return jv(this.multi,[])}function gT(t,n,i,o){const c=this.multi;let h;if(this.providerFactory){const I=this.providerFactory.componentProviders,T=va(i,i[Qt],this.providerFactory.index,o);h=T.slice(0,I),jv(c,h);for(let R=I;R<T.length;R++)h.push(T[R])}else h=[],jv(c,h);return h}function jv(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function B0(t,n=[]){return i=>{i.providersResolver=(o,c)=>function fT(t,n,i){const o=xr();if(o.firstCreatePass){const c=as(t);Uv(i,o.data,o.blueprint,c,!0),Uv(n,o.data,o.blueprint,c,!1)}}(o,c?c(t):t,n)}}class sg{}class $0{}function _T(t,n){return new Hv(t,n??null,[])}class Hv extends sg{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mf(this);const c=gr(n);this._bootstrapComponents=Tc(c.bootstrap),this._r3Injector=n_(n,i,[{provide:sg,useValue:this},{provide:kp,useValue:this.componentFactoryResolver},...o],Re(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class zv extends $0{constructor(n){super(),this.moduleType=n}create(n){return new Hv(this.moduleType,n,[])}}class j0 extends sg{constructor(n){super(),this.componentFactoryResolver=new Mf(this),this.instance=null;const i=new fd([...n.providers,{provide:sg,useValue:this},{provide:kp,useValue:this.componentFactoryResolver}],n.parent||Pp(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function H0(t,n,i=null){return new j0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let vT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=_u(0,i.type),c=o.length>0?H0([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=gn({token:t,providedIn:"environment",factory:()=>new t(At(Qu))})}return t})();function z0(t){t.getStandaloneInjector=n=>n.get(vT).getOrCreateStandaloneInjector(t)}function Y0(t,n,i){const o=rs()+t,c=xt();return c[o]===u?Sc(c,o,i?n.call(i):n()):Xp(c,o)}function J0(t,n,i,o){return eI(xt(),rs(),t,n,i,o)}function Z0(t,n,i,o,c,h,I,T,R){const j=rs()+t,te=xt(),_e=function bo(t,n,i,o,c,h){const I=xd(t,n,i,o);return xd(t,n+2,c,h)||I}(te,j,i,o,c,h);return xd(te,j+4,I,T)||_e?Sc(te,j+6,R?n.call(R,i,o,c,h,I,T):n(i,o,c,h,I,T)):Xp(te,j+6)}function eI(t,n,i,o,c,h){const I=n+i;return Bo(t,I,c)?Sc(t,I+1,h?o.call(h,c):o(c)):function k_(t,n){const i=t[n];return i===u?void 0:i}(t,I+1)}function sI(t,n){const i=xr();let o;const c=t+En;i.firstCreatePass?(o=function kT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(t===o.name)return o}}(n,i.pipeRegistry),i.data[c]=o,o.onDestroy&&(i.destroyHooks??=[]).push(c,o.onDestroy)):o=i.data[c];const h=o.factory||(o.factory=Rs(o.type)),T=ur(S);try{const R=Yo(!1),j=h();return Yo(R),function $y(t,n,i,o){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=o}(i,xt(),c,j),j}finally{ur(T)}}function oI(t,n,i){const o=t+En,c=xt(),h=vo(c,o);return function F_(t,n){return t[Qt].data[n].pure}(c,o)?eI(c,rs(),n,h.transform,i,h):h.transform(i)}function BT(){return this._results[Symbol.iterator]()}class Gv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Yu)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Gv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=BT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const c=function ho(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ul(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let c=t[o],h=n[o];if(i&&(c=i(c),h=i(h)),h!==c)return!1}return!0}(o._results,c,i))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jT(t,n,i,o=!0){const c=n[Qt];if(function B_(t,n,i,o){const c=ir+o,h=i.length;o>0&&(i[c-1][Mi]=n),o<h-ir?(n[Mi]=i[c],Bl(i,ir+o,n)):(i.push(n),n[Mi]=null),n[er]=i;const I=n[ve];null!==I&&i!==I&&function Jc(t,n){const i=t[Bi];n[G]!==n[er][er][G]&&(t[fi]=!0),null===i?t[Bi]=[n]:i.push(n)}(I,n);const T=n[He];null!==T&&T.insertView(t),n[Sn]|=128}(c,n,t,i),o){const h=rd(i,t),I=n[Vn],T=du(I,t[si]);null!==T&&function vg(t,n,i,o,c,h){o[fr]=c,o[Gr]=n,el(t,o,i,1,c,h)}(c,t[Gr],I,n,T,h)}}let V_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=WT}return t})();const HT=V_,zT=class extends HT{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const c=function $T(t,n,i,o){const c=n.tView,T=re(t,c,i,4096&t[Sn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);T[ve]=t[n.index];const j=t[He];return null!==j&&(T[He]=j.createEmbeddedView(c)),Zu(c,T,i),T}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new Ac(c)}};function WT(){return Jy(bs(),xt())}function Jy(t,n){return 4&t.type?new zT(n,t,wh(t,n)):null}let ev=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YT}return t})();function YT(){return fI(bs(),xt())}const JT=ev,dI=class extends JT{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return wh(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){const n=Nu(this._hostTNode,this._hostLView);if(eu(n)){const i=Eo(n,this._hostLView),o=xl(n);return new Ns(i[Qt].data[o+8],i)}return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=hI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ir}createEmbeddedView(n,i,o){let c,h;"number"==typeof o?c=o:null!=o&&(c=o.index,h=o.injector);const T=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(T,c,false),T}createComponent(n,i,o,c,h){const I=n&&!function Ma(t){return"function"==typeof t}(n);let T;if(I)T=i;else{const Wt=i||{};T=Wt.index,o=Wt.injector,c=Wt.projectableNodes,h=Wt.environmentInjector||Wt.ngModuleRef}const R=I?n:new ml(Fn(n)),j=o||this.parentInjector;if(!h&&null==R.ngModule){const yn=(I?j:this.parentInjector).get(Qu,null);yn&&(h=yn)}Fn(R.componentType??{});const Ye=R.create(j,c,null,h);return this.insertImpl(Ye.hostView,T,false),Ye}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const c=n._lView;if(function sc(t){return mr(t[er])}(c)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const j=c[er],te=new dI(j,j[Gr],j[er]);te.detach(te.indexOf(n))}}const I=this._adjustIndex(i),T=this._lContainer;return jT(T,c,I,!o),n.attachToViewContainerRef(),Bl(Kv(T),I,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=hI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Zh(this._lContainer,i);o&&(hc(Kv(this._lContainer),i),uh(o[Qt],o))}detach(n){const i=this._adjustIndex(n,-1),o=Zh(this._lContainer,i);return o&&null!=hc(Kv(this._lContainer),i)?new Ac(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function hI(t){return t[8]}function Kv(t){return t[8]||(t[8]=[])}function fI(t,n){let i;const o=n[t.index];return mr(o)?i=o:(i=Ju(o,n,null,t),n[t.index]=i,Co(n,i)),pI(i,n,t,o),new dI(i,t,n)}let pI=function gI(t,n,i,o){if(t[si])return;let c;c=8&i.type?Lr(o):function ZT(t,n){const i=t[Vn],o=i.createComment(""),c=Di(n,t);return lu(i,du(i,c),o,function tf(t,n){return t.nextSibling(n)}(i,c),!1),o}(n,i),t[si]=c};class qv{constructor(n){this.queryList=n,this.matches=null}clone(){return new qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let h=0;h<o;h++){const I=i.getByIndex(h);c.push(this.queries[I.indexInDeclarationView].clone())}return new Qv(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==bI(n,i).matches&&this.queries[i].setDirty()}}class mI{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class Xv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const c=null!==i?i.length:0,h=this.getByIndex(o).embeddedTView(n,c);h&&(h.indexInDeclarationView=o,null!==i?i.push(h):i=[h])}return null!==i?new Xv(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Yv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Yv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const h=o[c];this.matchTNodeWithReadOption(n,i,nw(i,h)),this.matchTNodeWithReadOption(n,i,$c(i,n,h,!1,!1))}else o===V_?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,$c(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===wf||c===ev||c===V_&&4&i.type)this.addMatch(i.index,-2);else{const h=$c(i,n,c,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function nw(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function iw(t,n,i,o){return-1===i?function rw(t,n){return 11&t.type?wh(t,n):4&t.type?Jy(t,n):null}(n,t):-2===i?function sw(t,n,i){return i===wf?wh(n,t):i===V_?Jy(n,t):i===ev?fI(n,t):void 0}(t,n,o):va(t,t[Qt],i,n)}function _I(t,n,i,o){const c=n[He].queries[o];if(null===c.matches){const h=t.data,I=i.matches,T=[];for(let R=0;R<I.length;R+=2){const j=I[R];T.push(j<0?null:iw(n,h[j],I[R+1],i.metadata.read))}c.matches=T}return c.matches}function Jv(t,n,i,o){const c=t.queries.getByIndex(i),h=c.matches;if(null!==h){const I=_I(t,n,c,i);for(let T=0;T<h.length;T+=2){const R=h[T];if(R>0)o.push(I[T/2]);else{const j=h[T+1],te=n[-R];for(let _e=ir;_e<te.length;_e++){const $e=te[_e];$e[ve]===$e[er]&&Jv($e[Qt],$e,j,o)}if(null!==te[Bi]){const _e=te[Bi];for(let $e=0;$e<_e.length;$e++){const Ye=_e[$e];Jv(Ye[Qt],Ye,j,o)}}}}}return o}function yI(t){const n=xt(),i=xr(),o=Qo();w(o+1);const c=bI(i,o);if(t.dirty&&function Mc(t){return 4==(4&t[Sn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?Jv(i,n,o,[]):_I(i,n,c,o);t.reset(h,Vp),t.notifyOnChanges()}return!0}return!1}function vI(t,n,i,o){const c=xr();if(c.firstCreatePass){const h=bs();(function CI(t,n,i){null===t.queries&&(t.queries=new Xv),t.queries.track(new Yv(n,i))})(c,new mI(n,i,o),h.index),function uw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}!function II(t,n,i){const o=new Gv(4==(4&i));(function m(t,n,i,o){const c=pl(n);c.push(i),t.firstCreatePass&&wd(t).push(o,c.length-1)})(t,n,o,o.destroy),null===n[He]&&(n[He]=new Qv),n[He].queries.push(new qv(o))}(c,xt(),i)}function EI(){return function aw(t,n){return t[He].queries[n].queryList}(xt(),Qo())}function bI(t,n){return t.queries.getByIndex(n)}function Zv(t){return!!gr(t)}const BI=new Yt("Application Initializer");let iE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Kt(BI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const h=c();if(mo(h))i.push(h);else if(Ii(h)){const I=new Promise((T,R)=>{h.subscribe({complete:T,error:R})});i.push(I)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(c=>{this.reject(c)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$I=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const nv=new Yt("LocaleId",{providedIn:"root",factory:()=>Kt(nv,un.Optional|un.SkipSelf)||function Rw(){return typeof $localize<"u"&&$localize.locale||_m}()}),Mw=new Yt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let jI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Nw=(()=>{class t{compileModuleSync(i){return new zv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),h=Tc(gr(i).declarations).reduce((I,T)=>{const R=Fn(T);return R&&I.push(new ml(R)),I},[]);return new xw(o,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const GI=new Yt(""),KI=new Yt("");let aE,nA=(()=>{class t{constructor(i,o,c){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aE||(function rA(t){aE=t}(c),c.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,c){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==h),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:c})}whenStable(i,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,c){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(At(gs),At(qI),At(KI))};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac})}return t})(),qI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return aE?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),jf=null;const QI=new Yt("AllowMultipleToken"),uE=new Yt("PlatformDestroyListeners"),cE=new Yt("appBootstrapListener");class oA{constructor(n,i){this.name=n,this.token=i}}function JI(t,n,i=[]){const o=`Platform: ${n}`,c=new Yt(o);return(h=[])=>{let I=lE();if(!I||I.injector.get(QI,!1)){const T=[...i,...h,{provide:c,useValue:!0}];t?t(T):function aA(t){if(jf&&!jf.get(QI,!1))throw new Ue(400,!1);(function XI(){!function Au(t){yo=t}(()=>{throw new Ue(600,!1)})})(),jf=t;const n=t.get(eC);(function YI(t){t.get(Ic,null)?.forEach(i=>i())})(t)}(function ZI(t=[],n){return yu.create({name:n,providers:[{provide:jm,useValue:"platform"},{provide:uE,useValue:new Set([()=>jf=null])},...t]})}(T,o))}return function cA(t){const n=lE();if(!n)throw new Ue(401,!1);return n}()}}function lE(){return jf?.get(eC)??null}let eC=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const c=function lA(t="zone.js",n){return"noop"===t?new fv:"zone.js"===t?new gs(n):t}(o?.ngZone,function tC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return c.run(()=>{const h=function yT(t,n,i){return new Hv(t,n,i)}(i.moduleType,this.injector,function oC(t){return[{provide:gs,useFactory:t},{provide:dd,multi:!0,useFactory:()=>{const n=Kt(hA,{optional:!0});return()=>n.initialize()}},{provide:sC,useFactory:dA},{provide:ly,useFactory:dy}]}(()=>c)),I=h.injector.get(cl,null);return c.runOutsideAngular(()=>{const T=c.onError.subscribe({next:R=>{I.handleError(R)}});h.onDestroy(()=>{iv(this._modules,h),T.unsubscribe()})}),function nC(t,n,i){try{const o=i();return mo(o)?o.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(I,c,()=>{const T=h.injector.get(iE);return T.runInitializers(),T.donePromise.then(()=>(function g0(t){ht(t,"Expected localeId to be defined"),"string"==typeof t&&(p0=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(nv,_m)||_m),this._moduleDoBootstrap(h),h))})})}bootstrapModule(i,o=[]){const c=rC({},o);return function iA(t,n,i){const o=new zv(i);return Promise.resolve(o)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(i){const o=i.injector.get(Em);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Ue(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(uE,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(At(yu))};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function rC(t,n){return Array.isArray(n)?n.reduce(rC,t):{...t,...n}}let Em=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(sC),this.zoneIsStable=Kt(ly),this.componentTypes=[],this.components=[],this.isStable=Kt(jI).hasPendingTasks.pipe((0,Fe.n)(i=>i?(0,Se.of)(!1):this.zoneIsStable),(0,Be.F)(),(0,Ve.u)()),this._injector=Kt(Qu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const c=i instanceof ey;if(!this._injector.get(iE).done)throw!c&&ki(i),new Ue(405,!1);let I;I=c?i:this._injector.get(kp).resolveComponentFactory(i),this.componentTypes.push(I.componentType);const T=function sA(t){return t.isBoundToModule}(I)?void 0:this._injector.get(sg),j=I.create(yu.NULL,[],o||I.selector,T),te=j.location.nativeElement,_e=j.injector.get(GI,null);return _e?.registerApplication(te),j.onDestroy(()=>{this.detachView(j.hostView),iv(this.components,j),_e?.unregisterApplication(te)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Ue(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;iv(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(cE,[]);o.push(...this._bootstrapListeners),o.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>iv(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ue(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iv(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const sC=new Yt("",{providedIn:"root",factory:()=>Kt(cl).handleError.bind(void 0)});function dA(){const t=Kt(gs),n=Kt(cl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let hA=(()=>{class t{constructor(){this.zone=Kt(gs),this.applicationRef=Kt(Em)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pA(){return!1}let gA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mA}return t})();function mA(t){return function _A(t,n,i){if(Ki(t)&&!i){const o=gi(t.index,n);return new Ac(o,o)}return 47&t.type?new Ac(n[G],n):null}(bs(),xt(),16==(16&t))}class dC{constructor(){}supports(n){return Qp(n)}create(n){return new CA(n)}}const IA=(t,n)=>n;class CA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||IA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,c=0,h=null;for(;i||o;){const I=!o||i&&i.currentIndex<fC(o,c,h)?i:o,T=fC(I,c,h),R=I.currentIndex;if(I===o)c--,o=o._nextRemoved;else if(i=i._next,null==I.previousIndex)c++;else{h||(h=[]);const j=T-c,te=R-c;if(j!=te){for(let $e=0;$e<j;$e++){const Ye=$e<h.length?h[$e]:h[$e]=0,wt=Ye+$e;te<=wt&&wt<j&&(h[$e]=Ye+1)}h[I.previousIndex]=te-j}}T!==R&&n(I,T,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Qp(n))throw new Ue(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,I,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)h=n[T],I=this._trackByFn(T,h),null!==i&&Object.is(i.trackById,I)?(o&&(i=this._verifyReinsertion(i,h,I,T)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,I,T),o=!0),i=i._next}else c=0,function v_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,T=>{I=this._trackByFn(c,T),null!==i&&Object.is(i.trackById,I)?(o&&(i=this._verifyReinsertion(i,T,I,c)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,I,c),o=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,c)):n=this._addAfter(new bA(i,o),h,c),n}_verifyReinsertion(n,i,o,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new hC),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class bA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class hC{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new TA,this.map.set(i,o)),o.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fC(t,n,i){const o=t.previousIndex;if(null===o)return o;let c=0;return i&&o<i.length&&(c=i[o]),o+n+c}class pC{constructor(){}supports(n){return n instanceof Map||rm(n)}create(){return new wA}}class wA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||rm(n)))throw new Ue(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(c,o);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const h=c._prev,I=c._next;return h&&(h._next=I),I&&(I._prev=h),c._next=null,c._prev=null,c}const o=new AA(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class AA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gC(){return new gE([new dC])}let gE=(()=>{class t{static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:gC});constructor(i){this.factories=i}static create(i,o){if(null!=o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||gC()),deps:[[t,new xa,new Bu]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(null!=o)return o;throw new Ue(901,!1)}}return t})();function mC(){return new mE([new pC])}let mE=(()=>{class t{static#e=this.\u0275prov=gn({token:t,providedIn:"root",factory:mC});constructor(i){this.factories=i}static create(i,o){if(o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||mC()),deps:[[t,new xa,new Bu]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(o)return o;throw new Ue(901,!1)}}return t})();const PA=JI(null,"core",[]);let RA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(At(Em))};static#t=this.\u0275mod=Ai({type:t});static#n=this.\u0275inj=Ft({})}return t})();function $A(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HA(t){const n=Fn(t);if(!n)return null;const i=new ml(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(Zt,Qe,B)=>{B.d(Qe,{DS:()=>Mt,X8:()=>Vt,$z:()=>jt,UB:()=>zn,yy:()=>St,ZP:()=>Ie,AU:()=>en,CP:()=>mt,gF:()=>Et}),B(2438);var le=B(177),g=B(7705),Ae=B(5407),ye=B(9253),Se=B(1413),Ve=B(7673),Fe=B(1985),Be=B(8455),ae=B(7786),de=B(941),Re=B(5558),ut=B(6354),We=B(6129);class It extends Se.B{constructor(fe=1/0,ue=1/0,ge=We.U){super(),this._bufferSize=fe,this._windowTime=ue,this._timestampProvider=ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,fe),this._windowTime=Math.max(1,ue)}next(fe){const{isStopped:ue,_buffer:ge,_infiniteTimeWindow:De,_timestampProvider:pe,_windowTime:Te}=this;ue||(ge.push(fe),!De&&ge.push(pe.now()+Te)),this._trimBuffer(),super.next(fe)}_subscribe(fe){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(fe),{_infiniteTimeWindow:ge,_buffer:De}=this,pe=De.slice();for(let Te=0;Te<pe.length&&!fe.closed;Te+=ge?1:2)fe.next(pe[Te]);return this._checkFinalizedStatuses(fe),ue}_trimBuffer(){const{_bufferSize:fe,_timestampProvider:ue,_buffer:ge,_infiniteTimeWindow:De}=this,pe=(De?1:2)*fe;if(fe<1/0&&pe<ge.length&&ge.splice(0,ge.length-pe),!De){const Te=ue.now();let Le=0;for(let ht=1;ht<ge.length&&ge[ht]<=Te;ht+=2)Le=ht;Le&&ge.splice(0,Le+1)}}}var gt=B(7647);function kt(Ze,fe,ue){let ge,De=!1;return Ze&&"object"==typeof Ze?({bufferSize:ge=1/0,windowTime:fe=1/0,refCount:De=!1,scheduler:ue}=Ze):ge=Ze??1/0,(0,gt.u)({connector:()=>new It(ge,fe,ue),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:De})}var bt=B(1594),Xt=B(8071);function Ke(Ze,fe){return(0,Xt.T)(fe)?(0,Re.n)(()=>Ze,fe):(0,Re.n)(()=>Ze)}var Ue=B(6745),Je=B(5964),ze=B(7935);const mt=new g.nKC("angularfire2.auth.use-emulator"),St=new g.nKC("angularfire2.auth.settings"),Ie=new g.nKC("angularfire2.auth.tenant-id"),jt=new g.nKC("angularfire2.auth.langugage-code"),en=new g.nKC("angularfire2.auth.use-device-language"),zn=new g.nKC("angularfire.auth.persistence"),Et=(Ze,fe,ue,ge,De,pe,Te,Le)=>(0,ye.BM)(`${Ze.name}.auth`,"AngularFireAuth",Ze.name,()=>{const ht=fe.runOutsideAngular(()=>Ze.auth());if(ue&&ht.useEmulator(...ue),ge&&(ht.tenantId=ge),ht.languageCode=De,pe&&ht.useDeviceLanguage(),Te)for(const[_t,rn]of Object.entries(Te))ht.settings[_t]=rn;return Le&&ht.setPersistence(Le),ht},[ue,ge,De,pe,Te,Le]);let Mt=(()=>{class Ze{authState;idToken;user;idTokenResult;credential;constructor(ue,ge,De,pe,Te,Le,ht,_t,rn,qt,Pn,gn){const ar=new Se.B,Ft=(0,Ve.of)(void 0).pipe((0,de.Q)(Te.outsideAngular),(0,Re.n)(()=>pe.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,2438)))),(0,ut.T)(()=>(0,ye.iB)(ue,pe,ge)),(0,ut.T)(_n=>Et(_n,pe,Le,_t,rn,qt,ht,Pn)),kt({bufferSize:1,refCount:!1}));if((0,le.Vy)(De))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ve.of)(null);else{Ft.pipe((0,bt.$)()).subscribe();const _n=Ft.pipe((0,Re.n)(Pt=>Pt.getRedirectResult().then(Br=>Br,()=>null)),Ae.U0,kt({bufferSize:1,refCount:!1})),On=Ft.pipe((0,Re.n)(Pt=>new Fe.c(Br=>({unsubscribe:pe.runOutsideAngular(()=>Pt.onAuthStateChanged(sn=>Br.next(sn),sn=>Br.error(sn),()=>Br.complete()))})))),Lt=Ft.pipe((0,Re.n)(Pt=>new Fe.c(Br=>({unsubscribe:pe.runOutsideAngular(()=>Pt.onIdTokenChanged(sn=>Br.next(sn),sn=>Br.error(sn),()=>Br.complete()))}))));this.authState=_n.pipe(Ke(On),(0,Ue._)(Te.outsideAngular),(0,de.Q)(Te.insideAngular)),this.user=_n.pipe(Ke(Lt),(0,Ue._)(Te.outsideAngular),(0,de.Q)(Te.insideAngular)),this.idToken=this.user.pipe((0,Re.n)(Pt=>Pt?(0,Be.H)(Pt.getIdToken()):(0,Ve.of)(null))),this.idTokenResult=this.user.pipe((0,Re.n)(Pt=>Pt?(0,Be.H)(Pt.getIdTokenResult()):(0,Ve.of)(null))),this.credential=(0,ae.h)(_n,ar,this.authState.pipe((0,Je.p)(Pt=>!Pt))).pipe((0,ut.T)(Pt=>Pt?.user?Pt:null),(0,Ue._)(Te.outsideAngular),(0,de.Q)(Te.insideAngular))}return(0,ye.Gt)(this,Ft,pe,{spy:{apply:(_n,On,Lt)=>{(_n.startsWith("signIn")||_n.startsWith("createUser"))&&Lt.then(Pt=>ar.next(Pt))}}})}static \u0275fac=function(ge){return new(ge||Ze)(g.KVO(ye.rx),g.KVO(ye.uP,8),g.KVO(g.Agw),g.KVO(g.SKi),g.KVO(Ae.u0),g.KVO(mt,8),g.KVO(St,8),g.KVO(Ie,8),g.KVO(jt,8),g.KVO(en,8),g.KVO(zn,8),g.KVO(Ae.Jv,8))};static \u0275prov=g.jDH({token:Ze,factory:Ze.\u0275fac,providedIn:"any"})}return Ze})(),Vt=(()=>{class Ze{constructor(){ze.A.registerVersion("angularfire",Ae.xv.full,"auth-compat")}static \u0275fac=function(ge){return new(ge||Ze)};static \u0275mod=g.$C({type:Ze});static \u0275inj=g.G2t({providers:[Mt]})}return Ze})()},6340:(Zt,Qe,B)=>{B.d(Qe,{Qe:()=>mi,cM:()=>je});var l=B(177),le=B(7705),g=B(5407),Ae=B(9253),ye=B(1977),Se=B(3236),Ve=B(1985),Fe=B(8455),Be=B(7673),ae=B(9172),de=B(9974),Re=B(4360);function ut(){return(0,de.N)((ct,se)=>{let be,st=!1;ct.subscribe((0,Re._)(se,Ut=>{const Tn=be;be=Ut,st&&se.next([Tn,Ut]),st=!0}))})}var We=B(6354),It=B(2816),gt=B(3294),kt=B(5964),Xt=(B(2438),B(3345)),Ke=B(9583),Ue=B(1076),Je=B(1362);function mt(ct,se){if(void 0===se)return{merge:!1};if(void 0!==se.mergeFields&&void 0!==se.merge)throw new Ke.W6("invalid-argument",`Invalid options passed to function ${ct}(): You cannot specify both "merge" and "mergeFields".`);return se}function St(){if(typeof Uint8Array>"u")throw new Ke.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,Ke.qG)())throw new Ke.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class jt{constructor(se){this._delegate=se}static fromBase64String(se){return Ie(),new jt(Ke.Ix.fromBase64String(se))}static fromUint8Array(se){return St(),new jt(Ke.Ix.fromUint8Array(se))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return St(),this._delegate.toUint8Array()}isEqual(se){return this._delegate.isEqual(se._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function en(ct){return function zn(ct,se){if("object"!=typeof ct||null===ct)return!1;const be=ct;for(const st of se)if(st in be&&"function"==typeof be[st])return!0;return!1}(ct,["next","error","complete"])}class Et{enableIndexedDbPersistence(se,be){return(0,Ke.ol)(se._delegate,{forceOwnership:be})}enableMultiTabIndexedDbPersistence(se){return(0,Ke.Q5)(se._delegate)}clearIndexedDbPersistence(se){return(0,Ke.me)(se._delegate)}}class Mt{constructor(se,be,st){this._delegate=be,this._persistenceProvider=st,this.INTERNAL={delete:()=>this.terminate()},se instanceof Ke.cm||(this._appCompat=se)}get _databaseId(){return this._delegate._databaseId}settings(se){const be=this._delegate._getSettings();!se.merge&&be.host!==se.host&&(0,Ke.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),se.merge&&delete(se=Object.assign(Object.assign({},be),se)).merge,this._delegate._setSettings(se)}useEmulator(se,be,st={}){(0,Ke.vN)(this._delegate,se,be,st)}enableNetwork(){return(0,Ke.Os)(this._delegate)}disableNetwork(){return(0,Ke.LA)(this._delegate)}enablePersistence(se){let be=!1,st=!1;return se&&(be=!!se.synchronizeTabs,st=!!se.experimentalForceOwningTab,(0,Ke.c8)("synchronizeTabs",be,"experimentalForceOwningTab",st)),be?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,st)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ke.iB)(this._delegate)}onSnapshotsInSync(se){return(0,Ke.FC)(this._delegate,se)}get app(){if(!this._appCompat)throw new Ke.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(se){try{return new gn(this,(0,Ke.rJ)(this._delegate,se))}catch(be){throw pe(be,"collection()","Firestore.collection()")}}doc(se){try{return new De(this,(0,Ke.H9)(this._delegate,se))}catch(be){throw pe(be,"doc()","Firestore.doc()")}}collectionGroup(se){try{return new rn(this,(0,Ke.Cs)(this._delegate,se))}catch(be){throw pe(be,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(se){return(0,Ke.c4)(this._delegate,be=>se(new fe(this,be)))}batch(){return(0,Ke.Ws)(this._delegate),new ue(new Ke.GA(this._delegate,se=>(0,Ke.z6)(this._delegate,se)))}loadBundle(se){return(0,Ke.po)(this._delegate,se)}namedQuery(se){return(0,Ke.St)(this._delegate,se).then(be=>be?new rn(this,be):null)}}class Vt extends Ke.fS{constructor(se){super(),this.firestore=se}convertBytes(se){return new jt(new Ke.Ix(se))}convertReference(se){const be=this.convertDocumentKey(se,this.firestore._databaseId);return De.forKey(be,this.firestore,null)}}class fe{constructor(se,be){this._firestore=se,this._delegate=be,this._userDataWriter=new Vt(se)}get(se){const be=ar(se);return this._delegate.get(be).then(st=>new ht(this._firestore,new Ke.Wq(this._firestore._delegate,this._userDataWriter,st._key,st._document,st.metadata,be.converter)))}set(se,be,st){const Ut=ar(se);return st?(mt("Transaction.set",st),this._delegate.set(Ut,be,st)):this._delegate.set(Ut,be),this}update(se,be,st,...Ut){const Tn=ar(se);return 2===arguments.length?this._delegate.update(Tn,be):this._delegate.update(Tn,be,st,...Ut),this}delete(se){const be=ar(se);return this._delegate.delete(be),this}}class ue{constructor(se){this._delegate=se}set(se,be,st){const Ut=ar(se);return st?(mt("WriteBatch.set",st),this._delegate.set(Ut,be,st)):this._delegate.set(Ut,be),this}update(se,be,st,...Ut){const Tn=ar(se);return 2===arguments.length?this._delegate.update(Tn,be):this._delegate.update(Tn,be,st,...Ut),this}delete(se){const be=ar(se);return this._delegate.delete(be),this}commit(){return this._delegate.commit()}}class ge{constructor(se,be,st){this._firestore=se,this._userDataWriter=be,this._delegate=st}fromFirestore(se,be){const st=new Ke.YQ(this._firestore._delegate,this._userDataWriter,se._key,se._document,se.metadata,null);return this._delegate.fromFirestore(new _t(this._firestore,st),be??{})}toFirestore(se,be){return be?this._delegate.toFirestore(se,be):this._delegate.toFirestore(se)}static getInstance(se,be){const st=ge.INSTANCES;let Ut=st.get(se);Ut||(Ut=new WeakMap,st.set(se,Ut));let Tn=Ut.get(be);return Tn||(Tn=new ge(se,new Vt(se),be),Ut.set(be,Tn)),Tn}}ge.INSTANCES=new WeakMap;class De{constructor(se,be){this.firestore=se,this._delegate=be,this._userDataWriter=new Vt(se)}static forPath(se,be,st){if(se.length%2!=0)throw new Ke.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${se.canonicalString()} has ${se.length}`);return new De(be,new Ke.T1(be._delegate,st,new Ke.K$(se)))}static forKey(se,be,st){return new De(be,new Ke.T1(be._delegate,st,se))}get id(){return this._delegate.id}get parent(){return new gn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(se){try{return new gn(this.firestore,(0,Ke.rJ)(this._delegate,se))}catch(be){throw pe(be,"collection()","DocumentReference.collection()")}}isEqual(se){return(se=(0,Ue.Ku)(se))instanceof Ke.T1&&(0,Ke.yx)(this._delegate,se)}set(se,be){be=mt("DocumentReference.set",be);try{return be?(0,Ke.BN)(this._delegate,se,be):(0,Ke.BN)(this._delegate,se)}catch(st){throw pe(st,"setDoc()","DocumentReference.set()")}}update(se,be,...st){try{return 1===arguments.length?(0,Ke.mZ)(this._delegate,se):(0,Ke.mZ)(this._delegate,se,be,...st)}catch(Ut){throw pe(Ut,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ke.kd)(this._delegate)}onSnapshot(...se){const be=Te(se),st=Le(se,Ut=>new ht(this.firestore,new Ke.Wq(this.firestore._delegate,this._userDataWriter,Ut._key,Ut._document,Ut.metadata,this._delegate.converter)));return(0,Ke.aQ)(this._delegate,be,st)}get(se){let be;return be="cache"===se?.source?(0,Ke.nY)(this._delegate):"server"===se?.source?(0,Ke._e)(this._delegate):(0,Ke.x7)(this._delegate),be.then(st=>new ht(this.firestore,new Ke.Wq(this.firestore._delegate,this._userDataWriter,st._key,st._document,st.metadata,this._delegate.converter)))}withConverter(se){return new De(this.firestore,this._delegate.withConverter(se?ge.getInstance(this.firestore,se):null))}}function pe(ct,se,be){return ct.message=ct.message.replace(se,be),ct}function Te(ct){for(const se of ct)if("object"==typeof se&&!en(se))return se;return{}}function Le(ct,se){var be,st;let Ut;return Ut=en(ct[0])?ct[0]:en(ct[1])?ct[1]:"function"==typeof ct[0]?{next:ct[0],error:ct[1],complete:ct[2]}:{next:ct[1],error:ct[2],complete:ct[3]},{next:Tn=>{Ut.next&&Ut.next(se(Tn))},error:null===(be=Ut.error)||void 0===be?void 0:be.bind(Ut),complete:null===(st=Ut.complete)||void 0===st?void 0:st.bind(Ut)}}class ht{constructor(se,be){this._firestore=se,this._delegate=be}get ref(){return new De(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(se){return this._delegate.data(se)}get(se,be){return this._delegate.get(se,be)}isEqual(se){return(0,Ke.lN)(this._delegate,se._delegate)}}class _t extends ht{data(se){const be=this._delegate.data(se);return this._delegate._converter||(0,Ke.bI)(void 0!==be,"Document in a QueryDocumentSnapshot should exist"),be}}class rn{constructor(se,be){this.firestore=se,this._delegate=be,this._userDataWriter=new Vt(se)}where(se,be,st){try{return new rn(this.firestore,(0,Ke.P)(this._delegate,(0,Ke._M)(se,be,st)))}catch(Ut){throw pe(Ut,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(se,be){try{return new rn(this.firestore,(0,Ke.P)(this._delegate,(0,Ke.My)(se,be)))}catch(st){throw pe(st,/(orderBy|where)\(\)/,"Query.$1()")}}limit(se){try{return new rn(this.firestore,(0,Ke.P)(this._delegate,(0,Ke.AB)(se)))}catch(be){throw pe(be,"limit()","Query.limit()")}}limitToLast(se){try{return new rn(this.firestore,(0,Ke.P)(this._delegate,(0,Ke.$1)(se)))}catch(be){throw pe(be,"limitToLast()","Query.limitToLast()")}}startAt(...se){try{return new rn(this.firestore,(0,Ke.P)(this._delegate,(0,Ke.EO)(...se)))}catch(be){throw pe(be,"startAt()","Query.startAt()")}}startAfter(...se){try{return new rn(this.firestore,(0,Ke.P)(this._delegate,(0,Ke.HM)(...se)))}catch(be){throw pe(be,"startAfter()","Query.startAfter()")}}endBefore(...se){try{return new rn(this.firestore,(0,Ke.P)(this._delegate,(0,Ke.rf)(...se)))}catch(be){throw pe(be,"endBefore()","Query.endBefore()")}}endAt(...se){try{return new rn(this.firestore,(0,Ke.P)(this._delegate,(0,Ke.FD)(...se)))}catch(be){throw pe(be,"endAt()","Query.endAt()")}}isEqual(se){return(0,Ke.B)(this._delegate,se._delegate)}get(se){let be;return be="cache"===se?.source?(0,Ke.kU)(this._delegate):"server"===se?.source?(0,Ke.Rr)(this._delegate):(0,Ke.GG)(this._delegate),be.then(st=>new Pn(this.firestore,new Ke.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,st._snapshot)))}onSnapshot(...se){const be=Te(se),st=Le(se,Ut=>new Pn(this.firestore,new Ke.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Ut._snapshot)));return(0,Ke.aQ)(this._delegate,be,st)}withConverter(se){return new rn(this.firestore,this._delegate.withConverter(se?ge.getInstance(this.firestore,se):null))}}class qt{constructor(se,be){this._firestore=se,this._delegate=be}get type(){return this._delegate.type}get doc(){return new _t(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pn{constructor(se,be){this._firestore=se,this._delegate=be}get query(){return new rn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(se=>new _t(this._firestore,se))}docChanges(se){return this._delegate.docChanges(se).map(be=>new qt(this._firestore,be))}forEach(se,be){this._delegate.forEach(st=>{se.call(be,new _t(this._firestore,st))})}isEqual(se){return(0,Ke.lN)(this._delegate,se._delegate)}}class gn extends rn{constructor(se,be){super(se,be),this.firestore=se,this._delegate=be}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const se=this._delegate.parent;return se?new De(this.firestore,se):null}doc(se){try{return new De(this.firestore,void 0===se?(0,Ke.H9)(this._delegate):(0,Ke.H9)(this._delegate,se))}catch(be){throw pe(be,"doc()","CollectionReference.doc()")}}add(se){return(0,Ke.gS)(this._delegate,se).then(be=>new De(this.firestore,be))}isEqual(se){return(0,Ke.yx)(this._delegate,se._delegate)}withConverter(se){return new gn(this.firestore,this._delegate.withConverter(se?ge.getInstance(this.firestore,se):null))}}function ar(ct){return(0,Ke.lo)(ct,Ke.T1)}class Ft{constructor(...se){this._delegate=new Ke.uY(...se)}static documentId(){return new Ft(Ke.FA.keyField().canonicalString())}isEqual(se){return(se=(0,Ue.Ku)(se))instanceof Ke.uY&&this._delegate._internalPath.isEqual(se._internalPath)}}class _n{constructor(se){this._delegate=se}static serverTimestamp(){const se=(0,Ke.O5)();return se._methodName="FieldValue.serverTimestamp",new _n(se)}static delete(){const se=(0,Ke.CL)();return se._methodName="FieldValue.delete",new _n(se)}static arrayUnion(...se){const be=(0,Ke.hq)(...se);return be._methodName="FieldValue.arrayUnion",new _n(be)}static arrayRemove(...se){const be=(0,Ke.C3)(...se);return be._methodName="FieldValue.arrayRemove",new _n(be)}static increment(se){const be=(0,Ke.GV)(se);return be._methodName="FieldValue.increment",new _n(be)}isEqual(se){return this._delegate.isEqual(se._delegate)}}const On={Firestore:Mt,GeoPoint:Ke.Ci,Timestamp:Ke.Dc,Blob:jt,Transaction:fe,WriteBatch:ue,DocumentReference:De,DocumentSnapshot:ht,Query:rn,QueryDocumentSnapshot:_t,QuerySnapshot:Pn,CollectionReference:gn,FieldPath:Ft,FieldValue:_n,setLogLevel:function Ze(ct){(0,Ke.He)(ct)},CACHE_SIZE_UNLIMITED:Ke.H6};!function Pt(ct){(function Lt(ct,se){ct.INTERNAL.registerComponent(new Je.uA("firestore-compat",be=>{const st=be.getProvider("app-compat").getImmediate(),Ut=be.getProvider("firestore").getImmediate();return se(st,Ut)},"PUBLIC").setServiceProps(Object.assign({},On)))})(ct,(se,be)=>new Mt(se,be,new Et)),ct.registerVersion("@firebase/firestore-compat","0.3.32")}(Xt.A);var Br=B(7935);function pr(ct,se){return function sn(ct,se=Se.E){return new Ve.c(be=>{let st;return null!=se?se.schedule(()=>{st=ct.onSnapshot({includeMetadataChanges:!0},be)}):st=ct.onSnapshot({includeMetadataChanges:!0},be),()=>{st?.()}})}(ct,se)}function Ot(ct,se){return pr(ct,se).pipe((0,We.T)(be=>({payload:be,type:"query"})))}class un{ref;afs;constructor(se,be){this.ref=se,this.afs=be}set(se,be){return this.ref.set(se,be)}update(se){return this.ref.update(se)}delete(){return this.ref.delete()}collection(se,be){const st=this.ref.collection(se),{ref:Ut,query:Tn}=Dn(st,be);return new ei(Ut,Tn,this.afs)}snapshotChanges(){return function Bn(ct,se){return pr(ct,se).pipe((0,ae.Z)(void 0),ut(),(0,We.T)(be=>{const[st,Ut]=be;return Ut.exists?st?.exists?{payload:Ut,type:"modified"}:{payload:Ut,type:"added"}:{payload:Ut,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(g.U0)}valueChanges(se={}){return this.snapshotChanges().pipe((0,We.T)(({payload:be})=>se.idField?{...be.data(),[se.idField]:be.id}:be.data()))}get(se){return(0,Fe.H)(this.ref.get(se)).pipe(g.U0)}}function Cn(ct,se){return Ot(ct,se).pipe((0,ae.Z)(void 0),ut(),(0,We.T)(be=>{const[st,Ut]=be,Tn=Ut.payload.docChanges(),Sr=Tn.map(nr=>({type:nr.type,payload:nr}));return st&&JSON.stringify(st.payload.metadata)!==JSON.stringify(Ut.payload.metadata)&&Ut.payload.docs.forEach((nr,Me)=>{const ee=Tn.find(V=>V.doc.ref.isEqual(nr.ref)),H=st?.payload.docs.find(V=>V.ref.isEqual(nr.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(nr.metadata)||!ee&&H&&JSON.stringify(H.metadata)===JSON.stringify(nr.metadata)||Sr.push({type:"modified",payload:{oldIndex:Me,newIndex:Me,type:"modified",doc:nr}})}),Sr}))}function mn(ct,se,be){return Cn(ct,be).pipe((0,It.S)((st,Ut)=>function ur(ct,se,be){return se.forEach(st=>{be.indexOf(st.type)>-1&&(ct=function Zr(ct,se){switch(se.type){case"added":if(!ct[se.newIndex]||!ct[se.newIndex].doc.ref.isEqual(se.doc.ref))return vr(ct,se.newIndex,0,se);break;case"modified":if(null==ct[se.oldIndex]||ct[se.oldIndex].doc.ref.isEqual(se.doc.ref)){if(se.oldIndex!==se.newIndex){const be=ct.slice();return be.splice(se.oldIndex,1),be.splice(se.newIndex,0,se),be}return vr(ct,se.newIndex,1,se)}break;case"removed":if(ct[se.oldIndex]&&ct[se.oldIndex].doc.ref.isEqual(se.doc.ref))return vr(ct,se.oldIndex,1)}return ct}(ct,st))}),ct}(st,Ut.map(Tn=>Tn.payload),se),[]),(0,gt.F)(),(0,We.T)(st=>st.map(Ut=>({type:Ut.type,payload:Ut}))))}function vr(ct,se,be,...st){const Ut=ct.slice();return Ut.splice(se,be,...st),Ut}function xn(ct){return(!ct||0===ct.length)&&(ct=["added","removed","modified"]),ct}class ei{ref;query;afs;constructor(se,be,st){this.ref=se,this.query=be,this.afs=st}stateChanges(se){let be=Cn(this.query,this.afs.schedulers.outsideAngular);return se&&se.length>0&&(be=be.pipe((0,We.T)(st=>st.filter(Ut=>se.indexOf(Ut.type)>-1)))),be.pipe((0,ae.Z)(void 0),ut(),(0,kt.p)(([st,Ut])=>Ut.length>0||!st),(0,We.T)(([,st])=>st),g.U0)}auditTrail(se){return this.stateChanges(se).pipe((0,It.S)((be,st)=>[...be,...st],[]))}snapshotChanges(se){const be=xn(se);return mn(this.query,be,this.afs.schedulers.outsideAngular).pipe(g.U0)}valueChanges(se={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.T)(be=>be.payload.docs.map(st=>se.idField?{...st.data(),[se.idField]:st.id}:st.data())),g.U0)}get(se){return(0,Fe.H)(this.query.get(se)).pipe(g.U0)}add(se){return this.ref.add(se)}doc(se){return new un(this.ref.doc(se),this.afs)}}class Ji{query;afs;constructor(se,be){this.query=se,this.afs=be}stateChanges(se){return se&&0!==se.length?Cn(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.T)(be=>be.filter(st=>se.indexOf(st.type)>-1)),(0,kt.p)(be=>be.length>0),g.U0):Cn(this.query,this.afs.schedulers.outsideAngular).pipe(g.U0)}auditTrail(se){return this.stateChanges(se).pipe((0,It.S)((be,st)=>[...be,...st],[]))}snapshotChanges(se){const be=xn(se);return mn(this.query,be,this.afs.schedulers.outsideAngular).pipe(g.U0)}valueChanges(se={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.T)(st=>st.payload.docs.map(Ut=>se.idField?{[se.idField]:Ut.id,...Ut.data()}:Ut.data())),g.U0)}get(se){return(0,Fe.H)(this.query.get(se)).pipe(g.U0)}}const Yt=new le.nKC("angularfire2.enableFirestorePersistence"),ti=new le.nKC("angularfire2.firestore.persistenceSettings"),jn=new le.nKC("angularfire2.firestore.settings"),lr=new le.nKC("angularfire2.firestore.use-emulator");function Dn(ct,se=(be=>be)){return{query:se(ct),ref:ct}}let mi=(()=>{class ct{schedulers;firestore;persistenceEnabled$;constructor(be,st,Ut,Tn,Sr,nr,Me,ee,H,V,F,ce,Ne,pt,At,on,Kt){this.schedulers=Me;const Jt=(0,Ae.iB)(be,nr,st),Jn=H;V&&(0,ye.gF)(Jt,nr,F,Ne,pt,At,ce,on),[this.firestore,this.persistenceEnabled$]=(0,Ae.BM)(`${Jt.name}.firestore`,"AngularFirestore",Jt.name,()=>{const vn=nr.runOutsideAngular(()=>Jt.firestore());if(Tn&&vn.settings(Tn),Jn&&vn.useEmulator(...Jn),Ut&&!(0,l.Vy)(Sr)){const ci=()=>{try{return(0,Fe.H)(vn.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(kr){return typeof console<"u"&&console.warn(kr),(0,Be.of)(!1)}};return[vn,nr.runOutsideAngular(ci)]}return[vn,(0,Be.of)(!1)]},[Tn,Jn,Ut])}collection(be,st){let Ut;Ut="string"==typeof be?this.firestore.collection(be):be;const{ref:Tn,query:Sr}=Dn(Ut,st),nr=this.schedulers.ngZone.run(()=>Tn);return new ei(nr,Sr,this)}collectionGroup(be,st){const Ut=st||(Sr=>Sr),Tn=this.firestore.collectionGroup(be);return new Ji(Ut(Tn),this)}doc(be){let st;st="string"==typeof be?this.firestore.doc(be):be;const Ut=this.schedulers.ngZone.run(()=>st);return new un(Ut,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(st){return new(st||ct)(le.KVO(Ae.rx),le.KVO(Ae.uP,8),le.KVO(Yt,8),le.KVO(jn,8),le.KVO(le.Agw),le.KVO(le.SKi),le.KVO(g.u0),le.KVO(ti,8),le.KVO(lr,8),le.KVO(ye.DS,8),le.KVO(ye.CP,8),le.KVO(ye.yy,8),le.KVO(ye.ZP,8),le.KVO(ye.$z,8),le.KVO(ye.AU,8),le.KVO(ye.UB,8),le.KVO(g.Jv,8))};static \u0275prov=le.jDH({token:ct,factory:ct.\u0275fac,providedIn:"any"})}return ct})(),je=(()=>{class ct{constructor(){Br.A.registerVersion("angularfire",g.xv.full,"fst-compat")}static enablePersistence(be){return{ngModule:ct,providers:[{provide:Yt,useValue:!0},{provide:ti,useValue:be}]}}static \u0275fac=function(st){return new(st||ct)};static \u0275mod=le.$C({type:ct});static \u0275inj=le.G2t({providers:[mi]})}return ct})()},8721:(Zt,Qe,B)=>{B.d(Qe,{ap:()=>fe,y5:()=>De});var l=B(5407),le=B(1985),g=B(7673),Ae=B(8455),ye=B(3236),Se=B(9974),Ve=B(4360),Be=B(6354),ae=B(5558),de=B(7705),Re=B(9253),ut=B(3345),We=B(4535),It=B(1362);class gt{constructor(Te,Le,ht){this._delegate=Te,this.task=Le,this.ref=ht}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class kt{constructor(Te,Le){this._delegate=Te,this._ref=Le,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gt(this._delegate.snapshot,this,this._ref)}then(Te,Le){return this._delegate.then(ht=>{if(Te)return Te(new gt(ht,this,this._ref))},Le)}on(Te,Le,ht,_t){let rn;return Le&&(rn="function"==typeof Le?qt=>Le(new gt(qt,this,this._ref)):{next:Le.next?qt=>Le.next(new gt(qt,this,this._ref)):void 0,complete:Le.complete||void 0,error:Le.error||void 0}),this._delegate.on(Te,rn,ht||void 0,_t||void 0)}}class bt{constructor(Te,Le){this._delegate=Te,this._service=Le}get prefixes(){return this._delegate.prefixes.map(Te=>new Xt(Te,this._service))}get items(){return this._delegate.items.map(Te=>new Xt(Te,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xt{constructor(Te,Le){this._delegate=Te,this.storage=Le}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Te){const Le=(0,We.Mp)(this._delegate,Te);return new Xt(Le,this.storage)}get root(){return new Xt(this._delegate.root,this.storage)}get parent(){const Te=this._delegate.parent;return null==Te?null:new Xt(Te,this.storage)}put(Te,Le){return this._throwIfRoot("put"),new kt((0,We.bp)(this._delegate,Te,Le),this)}putString(Te,Le=We.nw.RAW,ht){this._throwIfRoot("putString");const _t=(0,We.ZH)(Le,Te),rn=Object.assign({},ht);return null==rn.contentType&&null!=_t.contentType&&(rn.contentType=_t.contentType),new kt(new We.UC(this._delegate,new We.Mx(_t.data,!0),rn),this)}listAll(){return(0,We._w)(this._delegate).then(Te=>new bt(Te,this.storage))}list(Te){return(0,We.p_)(this._delegate,Te||void 0).then(Le=>new bt(Le,this.storage))}getMetadata(){return(0,We.yb)(this._delegate)}updateMetadata(Te){return(0,We.D5)(this._delegate,Te)}getDownloadURL(){return(0,We.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,We.XR)(this._delegate)}_throwIfRoot(Te){if(""===this._delegate._location.path)throw(0,We.UY)(Te)}}class Ke{constructor(Te,Le){this.app=Te,this._delegate=Le}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Te){if(Ue(Te))throw(0,We.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Xt((0,We.KR)(this._delegate,Te),this)}refFromURL(Te){if(!Ue(Te))throw(0,We.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{We.TZ.makeFromUrl(Te,this._delegate.host)}catch{throw(0,We.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xt((0,We.KR)(this._delegate,Te),this)}setMaxUploadRetryTime(Te){this._delegate.maxUploadRetryTime=Te}setMaxOperationRetryTime(Te){this._delegate.maxOperationRetryTime=Te}useEmulator(Te,Le,ht={}){(0,We.nb)(this._delegate,Te,Le,ht)}}function Ue(pe){return/^[A-Za-z]+:\/\//.test(pe)}function mt(pe,{instanceIdentifier:Te}){const Le=pe.getProvider("app-compat").getImmediate(),ht=pe.getProvider("storage").getImmediate({identifier:Te});return new Ke(Le,ht)}!function St(pe){const Te={TaskState:We.Ad,TaskEvent:We.xc,StringFormat:We.nw,Storage:Ke,Reference:Xt};pe.INTERNAL.registerComponent(new It.uA("storage-compat",mt,"PUBLIC").setServiceProps(Te).setMultipleInstances(!0)),pe.registerVersion("@firebase/storage-compat","0.3.8")}(ut.A);var Ie=B(7935);function en(pe){const Te=function jt(pe){return new le.c(Te=>{const Le=qt=>Te.next(qt);Le(pe.snapshot);const rn=pe.on("state_changed",Le);return pe.then(qt=>{Le(qt),Te.complete()},qt=>{Le(pe.snapshot),(qt=>{Te.error(qt)})(qt)}),function(){rn()}}).pipe(function Fe(pe,Te=ye.E){return(0,Se.N)((Le,ht)=>{let _t=null,rn=null,qt=null;const Pn=()=>{if(_t){_t.unsubscribe(),_t=null;const ar=rn;rn=null,ht.next(ar)}};function gn(){const ar=qt+pe,Ft=Te.now();if(Ft<ar)return _t=this.schedule(void 0,ar-Ft),void ht.add(_t);Pn()}Le.subscribe((0,Ve._)(ht,ar=>{rn=ar,qt=Te.now(),_t||(_t=Te.schedule(gn,pe),ht.add(_t))},()=>{Pn(),ht.complete()},void 0,()=>{rn=_t=null}))})}(0))}(pe);return{task:pe,then:pe.then.bind(pe),catch:pe.catch.bind(pe),pause:pe.pause.bind(pe),cancel:pe.cancel.bind(pe),resume:pe.resume.bind(pe),snapshotChanges:()=>Te,percentageChanges:()=>Te.pipe((0,Be.T)(Le=>Le.bytesTransferred/Le.totalBytes*100))}}function zn(pe){return{getDownloadURL:()=>(0,g.of)(void 0).pipe(l.Oe,(0,ae.n)(()=>pe.getDownloadURL()),l.U0),getMetadata:()=>(0,g.of)(void 0).pipe(l.Oe,(0,ae.n)(()=>pe.getMetadata()),l.U0),delete:()=>(0,Ae.H)(pe.delete()),child:Te=>zn(pe.child(Te)),updateMetadata:Te=>(0,Ae.H)(pe.updateMetadata(Te)),put:(Te,Le)=>en(pe.put(Te,Le)),putString:(Te,Le,ht)=>en(pe.putString(Te,Le,ht)),list:Te=>(0,Ae.H)(pe.list(Te)),listAll:()=>(0,Ae.H)(pe.listAll())}}const Et=new de.nKC("angularfire2.storageBucket"),Mt=new de.nKC("angularfire2.storage.maxUploadRetryTime"),Vt=new de.nKC("angularfire2.storage.maxOperationRetryTime"),Ze=new de.nKC("angularfire2.storage.use-emulator");let fe=(()=>{class pe{storage;constructor(Le,ht,_t,rn,qt,Pn,gn,ar,Ft,_n){const On=(0,Re.iB)(Le,qt,ht);this.storage=(0,Re.BM)(`${On.name}.storage.${_t}`,"AngularFireStorage",On.name,()=>{const Lt=qt.runOutsideAngular(()=>On.storage(_t||void 0)),Pt=Ft;return Pt&&Lt.useEmulator(...Pt),gn&&Lt.setMaxUploadRetryTime(gn),ar&&Lt.setMaxOperationRetryTime(ar),Lt},[gn,ar])}ref(Le){return zn(this.storage.ref(Le))}refFromURL(Le){return zn(this.storage.refFromURL(Le))}upload(Le,ht,_t){return zn(this.storage.ref(Le)).put(ht,_t)}static \u0275fac=function(ht){return new(ht||pe)(de.KVO(Re.rx),de.KVO(Re.uP,8),de.KVO(Et,8),de.KVO(de.Agw),de.KVO(de.SKi),de.KVO(l.u0),de.KVO(Mt,8),de.KVO(Vt,8),de.KVO(Ze,8),de.KVO(l.Jv,8))};static \u0275prov=de.jDH({token:pe,factory:pe.\u0275fac,providedIn:"any"})}return pe})(),ge=(()=>{class pe{static \u0275fac=function(ht){return new(ht||pe)};static \u0275mod=de.$C({type:pe});static \u0275inj=de.G2t({})}return pe})(),De=(()=>{class pe{constructor(){Ie.A.registerVersion("angularfire",l.xv.full,"gcs-compat")}static \u0275fac=function(ht){return new(ht||pe)};static \u0275mod=de.$C({type:pe});static \u0275inj=de.G2t({providers:[fe],imports:[ge]})}return pe})()},9253:(Zt,Qe,B)=>{B.d(Qe,{BM:()=>We,Gt:()=>ye,bf:()=>ut,e7:()=>Se,iB:()=>ae,rx:()=>Fe,uP:()=>Be});var l=B(7705),le=B(5407),g=B(7935);const Ae=["ngOnDestroy"],ye=(bt,Xt,Ke,Ue={})=>new Proxy(bt,{get:(Je,ze)=>Ke.runOutsideAngular(()=>{if(bt[ze])return Ue?.spy?.get&&Ue.spy.get(ze,bt[ze]),bt[ze];if(Ae.indexOf(ze)>-1)return()=>{};const Xe=Xt.toPromise().then(mt=>{const St=mt?.[ze];return"function"==typeof St?St.bind(mt):St?.then?St.then(Ie=>Ke.run(()=>Ie)):Ke.run(()=>St)});return new Proxy(()=>{},{get:(mt,St)=>Xe[St],apply:(mt,St,Ie)=>Xe.then(jt=>{const en=jt?.(...Ie);return Ue?.spy?.apply&&Ue.spy.apply(ze,Ie,en),en})})})}),Se=(bt,Xt)=>{Xt.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Ue=>{Object.defineProperty(bt.prototype,Ue,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Ue))})})};class Ve{constructor(Xt){return Xt}}const Fe=new l.nKC("angularfire2.app.options"),Be=new l.nKC("angularfire2.app.name");function ae(bt,Xt,Ke){const Je="object"==typeof Ke&&Ke||{};Je.name=Je.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Xe=g.A.apps.filter(mt=>mt&&mt.name===Je.name)[0]||Xt.runOutsideAngular(()=>g.A.initializeApp(bt,Je));try{if(JSON.stringify(bt)!==JSON.stringify(Xe.options)){const mt=!!module.hot;de("error",`${Xe.name} Firebase App already initialized with different options${mt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ve(Xe)}const de=(bt,...Xt)=>{(0,l.naY)()&&typeof console<"u"&&console[bt](...Xt)},Re={provide:Ve,useFactory:ae,deps:[Fe,l.SKi,[new l.Xx1,Be]]};let ut=(()=>{class bt{static initializeApp(Ke,Ue){return{ngModule:bt,providers:[{provide:Fe,useValue:Ke},{provide:Be,useValue:Ue}]}}constructor(Ke){g.A.registerVersion("angularfire",le.xv.full,"core"),g.A.registerVersion("angularfire",le.xv.full,"app-compat"),g.A.registerVersion("angular",l.xvI.full,Ke.toString())}static \u0275fac=function(Ue){return new(Ue||bt)(l.KVO(l.Agw))};static \u0275mod=l.$C({type:bt});static \u0275inj=l.G2t({providers:[Re]})}return bt})();function We(bt,Xt,Ke,Ue,Je){const[,ze,Xe]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===bt)||[];if(ze)return function It(bt,Xt){try{return bt.toString()===Xt.toString()}catch{return bt===Xt}}(Je,Xe)||(kt("error",`${Xt} was already initialized on the ${Ke} Firebase App with different settings.${gt?" You may need to reload as Firebase is not HMR aware.":""}`),kt("warn",{is:Je,was:Xe})),ze;{const mt=Ue();return globalThis.\u0275AngularfireInstanceCache.push([bt,mt,Je]),mt}}const gt=typeof module<"u"&&!!module.hot,kt=(bt,...Xt)=>{(0,l.naY)()&&typeof console<"u"&&console[bt](...Xt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(Zt,Qe,B)=>{B.d(Qe,{xv:()=>We,U0:()=>en,Oe:()=>Ie,u0:()=>ze,Jv:()=>bt,CA:()=>kt,lR:()=>gt,S3:()=>Mt});var l=B(7705),le=B(2214),g=B(6780),ye=B(9687);const Ve=new class Se extends ye.q{}(class Ae extends g.R{constructor(Ze,fe){super(Ze,fe),this.scheduler=Ze,this.work=fe}schedule(Ze,fe=0){return fe>0?super.schedule(Ze,fe):(this.delay=fe,this.state=Ze,this.scheduler.flush(this),this)}execute(Ze,fe){return fe>0||this.closed?super.execute(Ze,fe):this._execute(Ze,fe)}requestAsyncId(Ze,fe,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(Ze,fe,ue):(Ze.flush(this),0)}});var Be=B(3236),ae=B(1985),de=B(8141),Re=B(941),ut=B(6745);const We=new l.RxE("ANGULARFIRE2_VERSION");function gt(Vt,Ze,fe){if(Ze){if(1===Ze.length)return Ze[0];const De=Ze.filter(pe=>pe.app===fe);if(1===De.length)return De[0]}return fe.container.getProvider(Vt).getImmediate({optional:!0})}const kt=(Vt,Ze)=>{const fe=Ze?[Ze]:(0,le.Dk)(),ue=[];return fe.forEach(ge=>{ge.container.getProvider(Vt).instances.forEach(pe=>{ue.includes(pe)||ue.push(pe)})}),ue};class bt{constructor(){return kt(Xt)}}const Xt="app-check";function Ke(){}class Ue{zone;delegate;constructor(Ze,fe=Ve){this.zone=Ze,this.delegate=fe}now(){return this.delegate.now()}schedule(Ze,fe,ue){const ge=this.zone;return this.delegate.schedule(function(pe){ge.runGuarded(()=>{Ze.apply(this,[pe])})},fe,ue)}}class Je{zone;task=null;constructor(Ze){this.zone=Ze}call(Ze,fe){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke)),fe.pipe((0,de.M)({next:ue,complete:ue,error:ue})).subscribe(Ze).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ze=(()=>{class Vt{ngZone;outsideAngular;insideAngular;constructor(fe){this.ngZone=fe,this.outsideAngular=fe.runOutsideAngular(()=>new Ue(Zone.current)),this.insideAngular=fe.run(()=>new Ue(Zone.current,Be.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ue){return new(ue||Vt)(l.KVO(l.SKi))};static \u0275prov=l.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();function Xe(){const Vt=globalThis.\u0275AngularFireScheduler;if(!Vt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Vt}function St(Vt){return Xe().ngZone.run(()=>Vt())}function Ie(Vt){return Vt.pipe((0,Re.Q)(Xe().outsideAngular))}function en(Vt){return function zn(Vt){return function(fe){return(fe=fe.lift(new Je(Vt.ngZone))).pipe((0,ut._)(Vt.outsideAngular),(0,Re.Q)(Vt.insideAngular))}}(Xe())(Vt)}const Et=(Vt,Ze)=>function(){const ue=arguments;return Ze&&setTimeout(()=>{"scheduled"===Ze.state&&Ze.invoke()},10),St(()=>Vt.apply(void 0,ue))},Mt=(Vt,Ze)=>function(){let fe;const ue=arguments;for(let De=0;De<arguments.length;De++)"function"==typeof ue[De]&&(Ze&&(fe||=St(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke))),ue[De]=Et(ue[De],fe));const ge=function mt(Vt){return Xe().ngZone.runOutsideAngular(()=>Vt())}(()=>Vt.apply(this,ue));if(!Ze){if(ge instanceof ae.c){const De=Xe();return ge.pipe((0,ut._)(De.outsideAngular),(0,Re.Q)(De.insideAngular))}return St(()=>ge)}return ge instanceof ae.c?ge.pipe(en):ge instanceof Promise?St(()=>new Promise((De,pe)=>ge.then(Te=>St(()=>De(Te)),Te=>St(()=>pe(Te))))):"function"==typeof ge&&fe?function(){return setTimeout(()=>{fe&&"scheduled"===fe.state&&fe.invoke()},10),ge.apply(this,arguments)}:St(()=>ge)}},4341:(Zt,Qe,B)=>{B.d(Qe,{Zm:()=>kt,me:()=>Ue,v8:()=>Ys,ok:()=>Ao,JD:()=>br,j4:()=>Qt,$R:()=>er,YN:()=>Go,BC:()=>Cn,cb:()=>mn,cV:()=>Si,vS:()=>Pi,xH:()=>di,X1:()=>Ua,YS:()=>si,wz:()=>os,k0:()=>Ie,qT:()=>Xs,y7:()=>ft});var l=B(7705),le=B(177),g=B(8455),Ae=B(1985),ye=B(3073),Se=B(8750),Ve=B(3794),Fe=B(4360),Be=B(6450),ae=B(8496),Re=B(6354);let ut=(()=>{class z{constructor(x,ie){this._renderer=x,this._elementRef=ie,this.onChange=Oe=>{},this.onTouched=()=>{}}setProperty(x,ie){this._renderer.setProperty(this._elementRef.nativeElement,x,ie)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(l.sFG),l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:z})}return z})(),We=(()=>{class z extends ut{static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,features:[l.Vt3]})}return z})();const It=new l.nKC("NgValueAccessor"),gt={provide:It,useExisting:(0,l.Rfq)(()=>kt),multi:!0};let kt=(()=>{class z extends We{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ie,Oe){1&ie&&l.bIt("change",function(Nn){return Oe.onChange(Nn.target.checked)})("blur",function(){return Oe.onTouched()})},features:[l.Jv_([gt]),l.Vt3]})}return z})();const bt={provide:It,useExisting:(0,l.Rfq)(()=>Ue),multi:!0},Ke=new l.nKC("CompositionEventMode");let Ue=(()=>{class z extends ut{constructor(x,ie,Oe){super(x,ie),this._compositionMode=Oe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xt(){const z=(0,le.QT)()?(0,le.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Ke,8))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,Oe){1&ie&&l.bIt("input",function(Nn){return Oe._handleInput(Nn.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(Nn){return Oe._compositionEnd(Nn.target.value)})},features:[l.Jv_([bt]),l.Vt3]})}return z})();function Je(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function ze(z){return null!=z&&"number"==typeof z.length}const Xe=new l.nKC("NgValidators"),mt=new l.nKC("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ie{static min(X){return function jt(z){return X=>{if(Je(X.value)||Je(z))return null;const x=parseFloat(X.value);return!isNaN(x)&&x<z?{min:{min:z,actual:X.value}}:null}}(X)}static max(X){return function en(z){return X=>{if(Je(X.value)||Je(z))return null;const x=parseFloat(X.value);return!isNaN(x)&&x>z?{max:{max:z,actual:X.value}}:null}}(X)}static required(X){return zn(X)}static requiredTrue(X){return function Et(z){return!0===z.value?null:{required:!0}}(X)}static email(X){return function Mt(z){return Je(z.value)||St.test(z.value)?null:{email:!0}}(X)}static minLength(X){return function Vt(z){return X=>Je(X.value)||!ze(X.value)?null:X.value.length<z?{minlength:{requiredLength:z,actualLength:X.value.length}}:null}(X)}static maxLength(X){return function Ze(z){return X=>ze(X.value)&&X.value.length>z?{maxlength:{requiredLength:z,actualLength:X.value.length}}:null}(X)}static pattern(X){return function fe(z){if(!z)return ue;let X,x;return"string"==typeof z?(x="","^"!==z.charAt(0)&&(x+="^"),x+=z,"$"!==z.charAt(z.length-1)&&(x+="$"),X=new RegExp(x)):(x=z.toString(),X=z),ie=>{if(Je(ie.value))return null;const Oe=ie.value;return X.test(Oe)?null:{pattern:{requiredPattern:x,actualValue:Oe}}}}(X)}static nullValidator(X){return null}static compose(X){return _t(X)}static composeAsync(X){return qt(X)}}function zn(z){return Je(z.value)?{required:!0}:null}function ue(z){return null}function ge(z){return null!=z}function De(z){return(0,l.jNT)(z)?(0,g.H)(z):z}function pe(z){let X={};return z.forEach(x=>{X=null!=x?{...X,...x}:X}),0===Object.keys(X).length?null:X}function Te(z,X){return X.map(x=>x(z))}function ht(z){return z.map(X=>function Le(z){return!z.validate}(X)?X:x=>X.validate(x))}function _t(z){if(!z)return null;const X=z.filter(ge);return 0==X.length?null:function(x){return pe(Te(x,X))}}function rn(z){return null!=z?_t(ht(z)):null}function qt(z){if(!z)return null;const X=z.filter(ge);return 0==X.length?null:function(x){return function de(...z){const X=(0,Ve.ms)(z),{args:x,keys:ie}=(0,ye.D)(z),Oe=new Ae.c(ln=>{const{length:Nn}=x;if(!Nn)return void ln.complete();const qi=new Array(Nn);let hs=Nn,Qi=Nn;for(let So=0;So<Nn;So++){let Rs=!1;(0,Se.Tg)(x[So]).subscribe((0,Fe._)(ln,$s=>{Rs||(Rs=!0,Qi--),qi[So]=$s},()=>hs--,void 0,()=>{(!hs||!Rs)&&(Qi||ln.next(ie?(0,ae.e)(ie,qi):qi),ln.complete())}))}});return X?Oe.pipe((0,Be.I)(X)):Oe}(Te(x,X).map(De)).pipe((0,Re.T)(pe))}}function Pn(z){return null!=z?qt(ht(z)):null}function gn(z,X){return null===z?[X]:Array.isArray(z)?[...z,X]:[z,X]}function ar(z){return z._rawValidators}function Ft(z){return z._rawAsyncValidators}function _n(z){return z?Array.isArray(z)?z:[z]:[]}function On(z,X){return Array.isArray(z)?z.includes(X):z===X}function Lt(z,X){const x=_n(X);return _n(z).forEach(Oe=>{On(x,Oe)||x.push(Oe)}),x}function Pt(z,X){return _n(X).filter(x=>!On(z,x))}class Br{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=rn(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,x){return!!this.control&&this.control.hasError(X,x)}getError(X,x){return this.control?this.control.getError(X,x):null}}class sn extends Br{get formDirective(){return null}get path(){return null}}class pr extends Br{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bn{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class z extends Bn{constructor(x){super(x)}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(pr,2))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,Oe){2&ie&&l.AVh("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[l.Vt3]})}return z})(),mn=(()=>{class z extends Bn{constructor(x){super(x)}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(sn,10))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,Oe){2&ie&&l.AVh("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)("ng-submitted",Oe.isSubmitted)},features:[l.Vt3]})}return z})();const Ut="VALID",Tn="INVALID",Sr="PENDING",nr="DISABLED";function Me(z){return(F(z)?z.validators:z)||null}function H(z,X){return(F(X)?X.asyncValidators:z)||null}function F(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function ce(z,X,x){const ie=z.controls;if(!(X?Object.keys(ie):ie).length)throw new l.wOt(1e3,"");if(!ie[x])throw new l.wOt(1001,"")}function Ne(z,X,x){z._forEachChild((ie,Oe)=>{if(void 0===x[Oe])throw new l.wOt(1002,"")})}class pt{constructor(X,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===Ut}get invalid(){return this.status===Tn}get pending(){return this.status==Sr}get disabled(){return this.status===nr}get enabled(){return this.status!==nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(Lt(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(Lt(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(Pt(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(Pt(X,this._rawAsyncValidators))}hasValidator(X){return On(this._rawValidators,X)}hasAsyncValidator(X){return On(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=Sr,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const x=this._parentMarkedDirty(X.onlySelf);this.status=nr,this.errors=null,this._forEachChild(ie=>{ie.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:x}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(X={}){const x=this._parentMarkedDirty(X.onlySelf);this.status=Ut,this._forEachChild(ie=>{ie.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:x}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ut||this.status===Sr)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nr:Ut}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=Sr,this._hasOwnPendingAsyncValidator=!0;const x=De(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,x={}){this.errors=X,this._updateControlsErrors(!1!==x.emitEvent)}get(X){let x=X;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((ie,Oe)=>ie&&ie._find(Oe),this)}getError(X,x){const ie=x?this.get(x):this;return ie&&ie.errors?ie.errors[X]:null}hasError(X,x){return!!this.getError(X,x)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?nr:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sr)?Sr:this._anyControlsHaveStatus(Tn)?Tn:Ut}_anyControlsHaveStatus(X){return this._anyControls(x=>x.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){F(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function ee(z){return Array.isArray(z)?rn(z):z||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function V(z){return Array.isArray(z)?Pn(z):z||null}(this._rawAsyncValidators)}}class At extends pt{constructor(X,x,ie){super(Me(x),H(ie,x)),this.controls=X,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,x){return this.controls[X]?this.controls[X]:(this.controls[X]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(X,x,ie={}){this.registerControl(X,x),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(X,x={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(X,x,ie={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],x&&this.registerControl(X,x),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,x={}){Ne(this,0,X),Object.keys(X).forEach(ie=>{ce(this,!0,ie),this.controls[ie].setValue(X[ie],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(X,x={}){null!=X&&(Object.keys(X).forEach(ie=>{const Oe=this.controls[ie];Oe&&Oe.patchValue(X[ie],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(X={},x={}){this._forEachChild((ie,Oe)=>{ie.reset(X?X[Oe]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(X,x,ie)=>(X[ie]=x.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(x,ie)=>!!ie._syncPendingControls()||x);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(x=>{const ie=this.controls[x];ie&&X(ie,x)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[x,ie]of Object.entries(this.controls))if(this.contains(x)&&X(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,ie,Oe)=>((ie.enabled||this.disabled)&&(x[Oe]=ie.value),x))}_reduceChildren(X,x){let ie=X;return this._forEachChild((Oe,ln)=>{ie=x(ie,Oe,ln)}),ie}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class Jt extends At{}const vn=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ci}),ci="always";function kr(z,X){return[...X.path,z]}function Us(z,X,x=ci){ni(z,X),X.valueAccessor.writeValue(z.value),(z.disabled||"always"===x)&&X.valueAccessor.setDisabledState?.(z.disabled),function rt(z,X){X.valueAccessor.registerOnChange(x=>{z._pendingValue=x,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&yt(z,X)})}(z,X),function tn(z,X){const x=(ie,Oe)=>{X.valueAccessor.writeValue(ie),Oe&&X.viewToModelUpdate(ie)};z.registerOnChange(x),X._registerOnDestroy(()=>{z._unregisterOnChange(x)})}(z,X),function qe(z,X){X.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&yt(z,X),"submit"!==z.updateOn&&z.markAsTouched()})}(z,X),function ls(z,X){if(X.valueAccessor.setDisabledState){const x=ie=>{X.valueAccessor.setDisabledState(ie)};z.registerOnDisabledChange(x),X._registerOnDestroy(()=>{z._unregisterOnDisabledChange(x)})}}(z,X)}function Xr(z,X,x=!0){const ie=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(ie),X.valueAccessor.registerOnTouched(ie)),Zn(z,X),z&&(X._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function zi(z,X){z.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(X)})}function ni(z,X){const x=ar(z);null!==X.validator?z.setValidators(gn(x,X.validator)):"function"==typeof x&&z.setValidators([x]);const ie=Ft(z);null!==X.asyncValidator?z.setAsyncValidators(gn(ie,X.asyncValidator)):"function"==typeof ie&&z.setAsyncValidators([ie]);const Oe=()=>z.updateValueAndValidity();zi(X._rawValidators,Oe),zi(X._rawAsyncValidators,Oe)}function Zn(z,X){let x=!1;if(null!==z){if(null!==X.validator){const Oe=ar(z);if(Array.isArray(Oe)&&Oe.length>0){const ln=Oe.filter(Nn=>Nn!==X.validator);ln.length!==Oe.length&&(x=!0,z.setValidators(ln))}}if(null!==X.asyncValidator){const Oe=Ft(z);if(Array.isArray(Oe)&&Oe.length>0){const ln=Oe.filter(Nn=>Nn!==X.asyncValidator);ln.length!==Oe.length&&(x=!0,z.setAsyncValidators(ln))}}}const ie=()=>{};return zi(X._rawValidators,ie),zi(X._rawAsyncValidators,ie),x}function yt(z,X){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function bn(z,X){ni(z,X)}function dr(z,X){if(!z.hasOwnProperty("model"))return!1;const x=z.model;return!!x.isFirstChange()||!Object.is(X,x.currentValue)}function ri(z,X){z._syncPendingControls(),X.forEach(x=>{const ie=x.control;"submit"===ie.updateOn&&ie._pendingChange&&(x.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}function vs(z,X){if(!X)return null;let x,ie,Oe;return Array.isArray(X),X.forEach(ln=>{ln.constructor===Ue?x=ln:function ys(z){return Object.getPrototypeOf(z.constructor)===We}(ln)?ie=ln:Oe=ln}),Oe||ie||x||null}const Ui={provide:sn,useExisting:(0,l.Rfq)(()=>Si)},_i=(()=>Promise.resolve())();let Si=(()=>{class z extends sn{constructor(x,ie,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.bkB,this.form=new At({},rn(x),Pn(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){_i.then(()=>{const ie=this._findContainer(x.path);x.control=ie.registerControl(x.name,x.control),Us(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){_i.then(()=>{const ie=this._findContainer(x.path);ie&&ie.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){_i.then(()=>{const ie=this._findContainer(x.path),Oe=new At({});bn(Oe,x),ie.registerControl(x.name,Oe),Oe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){_i.then(()=>{const ie=this._findContainer(x.path);ie&&ie.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,ie){_i.then(()=>{this.form.get(x.path).setValue(ie)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,ri(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(Xe,10),l.rXU(mt,10),l.rXU(vn,8))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ie,Oe){1&ie&&l.bIt("submit",function(Nn){return Oe.onSubmit(Nn)})("reset",function(){return Oe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([Ui]),l.Vt3]})}return z})();function rr(z,X){const x=z.indexOf(X);x>-1&&z.splice(x,1)}function Qs(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const Pr=class extends pt{constructor(X=null,x,ie){super(Me(x),H(ie,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Qs(X)?X.value:X)}setValue(X,x={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(X,x={}){this.setValue(X,x)}reset(X=this.defaultValue,x={}){this._applyFormState(X),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){rr(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){rr(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){Qs(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}};let Wi=(()=>{class z extends sn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return kr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,features:[l.Vt3]})}return z})();const hr={provide:pr,useExisting:(0,l.Rfq)(()=>Pi)},Ai=(()=>Promise.resolve())();let Pi=(()=>{class z extends pr{constructor(x,ie,Oe,ln,Nn,qi){super(),this._changeDetectorRef=Nn,this.callSetDisabledState=qi,this.control=new Pr,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=x,this._setValidators(ie),this._setAsyncValidators(Oe),this.valueAccessor=vs(0,ln)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const ie=x.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),dr(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Us(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Ai.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const ie=x.isDisabled.currentValue,Oe=0!==ie&&(0,l.L39)(ie);Ai.then(()=>{Oe&&!this.control.disabled?this.control.disable():!Oe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?kr(x,this._parent):[x]}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(sn,9),l.rXU(Xe,10),l.rXU(mt,10),l.rXU(It,10),l.rXU(l.gRc,8),l.rXU(vn,8))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([hr]),l.Vt3,l.OA$]})}return z})(),Xs=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return z})(),Wr=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=l.$C({type:z});static#n=this.\u0275inj=l.G2t({})}return z})();const is=new l.nKC("NgModelWithFormControlWarning"),fr={provide:sn,useExisting:(0,l.Rfq)(()=>Qt)};let Qt=(()=>{class z extends sn{constructor(x,ie,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.bkB,this._setValidators(x),this._setAsyncValidators(ie)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const ie=this.form.get(x.path);return Us(ie,x,this.callSetDisabledState),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),ie}getControl(x){return this.form.get(x.path)}removeControl(x){Xr(x.control||null,x,!1),function ai(z,X){const x=z.indexOf(X);x>-1&&z.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,ie){this.form.get(x.path).setValue(ie)}onSubmit(x){return this.submitted=!0,ri(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const ie=x.control,Oe=this.form.get(x.path);ie!==Oe&&(Xr(ie||null,x),(z=>z instanceof Pr)(Oe)&&(Us(Oe,x,this.callSetDisabledState),x.control=Oe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const ie=this.form.get(x.path);bn(ie,x),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const ie=this.form.get(x.path);ie&&function Mn(z,X){return Zn(z,X)}(ie,x)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ni(this.form,this),this._oldForm&&Zn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(Xe,10),l.rXU(mt,10),l.rXU(vn,8))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formGroup",""]],hostBindings:function(ie,Oe){1&ie&&l.bIt("submit",function(Nn){return Oe.onSubmit(Nn)})("reset",function(){return Oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([fr]),l.Vt3,l.OA$]})}return z})();const Sn={provide:sn,useExisting:(0,l.Rfq)(()=>er)};let er=(()=>{class z extends Wi{constructor(x,ie,Oe){super(),this.name=null,this._parent=x,this._setValidators(ie),this._setAsyncValidators(Oe)}_checkParentType(){Gr(this._parent)}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(sn,13),l.rXU(Xe,10),l.rXU(mt,10))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l.Jv_([Sn]),l.Vt3]})}return z})();const Mi={provide:sn,useExisting:(0,l.Rfq)(()=>Ys)};let Ys=(()=>{class z extends sn{constructor(x,ie,Oe){super(),this.name=null,this._parent=x,this._setValidators(ie),this._setAsyncValidators(Oe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return kr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Gr(this._parent)}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(sn,13),l.rXU(Xe,10),l.rXU(mt,10))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l.Jv_([Mi]),l.Vt3]})}return z})();function Gr(z){return!(z instanceof er||z instanceof Qt||z instanceof Ys)}const ss={provide:pr,useExisting:(0,l.Rfq)(()=>br)};let br=(()=>{class z extends pr{set isDisabled(x){}static#e=this._ngModelWarningSentOnce=!1;constructor(x,ie,Oe,ln,Nn){super(),this._ngModelWarningConfig=Nn,this._added=!1,this.name=null,this.update=new l.bkB,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(ie),this._setAsyncValidators(Oe),this.valueAccessor=vs(0,ln)}ngOnChanges(x){this._added||this._setUpControl(),dr(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return kr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(sn,13),l.rXU(Xe,10),l.rXU(mt,10),l.rXU(It,10),l.rXU(is,8))};static#n=this.\u0275dir=l.FsC({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Jv_([ss]),l.Vt3,l.OA$]})}return z})();const Ps={provide:It,useExisting:(0,l.Rfq)(()=>os),multi:!0};function Es(z,X){return null==z?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${z}: ${X}`.slice(0,50))}let os=(()=>{class z extends We{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const Oe=Es(this._getOptionId(x),x);this.setProperty("value",Oe)}registerOnChange(x){this.onChange=ie=>{this.value=this._getOptionValue(ie),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie),x))return ie;return null}_getOptionValue(x){const ie=function Vn(z){return z.split(":")[0]}(x);return this._optionMap.has(ie)?this._optionMap.get(ie):x}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ie,Oe){1&ie&&l.bIt("change",function(Nn){return Oe.onChange(Nn.target.value)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([Ps]),l.Vt3]})}return z})(),di=(()=>{class z{constructor(x,ie,Oe){this._element=x,this._renderer=ie,this._select=Oe,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(Es(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(os,9))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})();const J={provide:It,useExisting:(0,l.Rfq)(()=>He),multi:!0};function G(z,X){return null==z?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${z}: ${X}`.slice(0,50))}let He=(()=>{class z extends We{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let ie;if(this.value=x,Array.isArray(x)){const Oe=x.map(ln=>this._getOptionId(ln));ie=(ln,Nn)=>{ln._setSelected(Oe.indexOf(Nn.toString())>-1)}}else ie=(Oe,ln)=>{Oe._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange(x){this.onChange=ie=>{const Oe=[],ln=ie.selectedOptions;if(void 0!==ln){const Nn=ln;for(let qi=0;qi<Nn.length;qi++){const Qi=this._getOptionValue(Nn[qi].value);Oe.push(Qi)}}else{const Nn=ie.options;for(let qi=0;qi<Nn.length;qi++){const hs=Nn[qi];if(hs.selected){const Qi=this._getOptionValue(hs.value);Oe.push(Qi)}}}this.value=Oe,x(Oe)}}_registerOption(x){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,x),ie}_getOptionId(x){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie)._value,x))return ie;return null}_getOptionValue(x){const ie=function ve(z){return z.split(":")[0]}(x);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:x}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ie,Oe){1&ie&&l.bIt("change",function(Nn){return Oe.onChange(Nn.target)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([J]),l.Vt3]})}return z})(),ft=(()=>{class z{constructor(x,ie,Oe){this._element=x,this._renderer=ie,this._select=Oe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(G(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(G(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ie){return new(ie||z)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(He,9))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})(),Dt=(()=>{class z{constructor(){this._validator=ue}ngOnChanges(x){if(this.inputName in x){const ie=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):ue,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275dir=l.FsC({type:z,features:[l.OA$]})}return z})();const $r={provide:Xe,useExisting:(0,l.Rfq)(()=>si),multi:!0};let si=(()=>{class z extends Dt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.L39,this.createValidator=x=>zn}enabled(x){return x}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,Oe){2&ie&&l.BMQ("required",Oe._enabled?"":null)},inputs:{required:"required"},features:[l.Jv_([$r]),l.Vt3]})}return z})(),Is=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=l.$C({type:z});static#n=this.\u0275inj=l.G2t({imports:[Wr]})}return z})();class Cs extends pt{constructor(X,x,ie){super(Me(x),H(ie,x)),this.controls=X,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,x={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(X,x,ie={}){this.controls.splice(X,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(X,x={}){let ie=this._adjustIndex(X);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(X,x,ie={}){let Oe=this._adjustIndex(X);Oe<0&&(Oe=0),this.controls[Oe]&&this.controls[Oe]._registerOnCollectionChange(()=>{}),this.controls.splice(Oe,1),x&&(this.controls.splice(Oe,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,x={}){Ne(this,0,X),X.forEach((ie,Oe)=>{ce(this,!1,Oe),this.at(Oe).setValue(ie,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(X,x={}){null!=X&&(X.forEach((ie,Oe)=>{this.at(Oe)&&this.at(Oe).patchValue(ie,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(X=[],x={}){this._forEachChild((ie,Oe)=>{ie.reset(X[Oe],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((x,ie)=>!!ie._syncPendingControls()||x,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((x,ie)=>{X(x,ie)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(x=>x.enabled&&X(x))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function Fi(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let Ao=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new z;return x.useNonNullable=!0,x}group(x,ie=null){const Oe=this._reduceControls(x);let ln={};return Fi(ie)?ln=ie:null!==ie&&(ln.validators=ie.validator,ln.asyncValidators=ie.asyncValidator),new At(Oe,ln)}record(x,ie=null){const Oe=this._reduceControls(x);return new Jt(Oe,ie)}control(x,ie,Oe){let ln={};return this.useNonNullable?(Fi(ie)?ln=ie:(ln.validators=ie,ln.asyncValidators=Oe),new Pr(x,{...ln,nonNullable:!0})):new Pr(x,ie,Oe)}array(x,ie,Oe){const ln=x.map(Nn=>this._createControl(Nn));return new Cs(ln,ie,Oe)}_reduceControls(x){const ie={};return Object.keys(x).forEach(Oe=>{ie[Oe]=this._createControl(x[Oe])}),ie}_createControl(x){return x instanceof Pr||x instanceof pt?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275prov=l.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),Go=(()=>{class z{static withConfig(x){return{ngModule:z,providers:[{provide:vn,useValue:x.callSetDisabledState??ci}]}}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=l.$C({type:z});static#n=this.\u0275inj=l.G2t({imports:[Is]})}return z})(),Ua=(()=>{class z{static withConfig(x){return{ngModule:z,providers:[{provide:is,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:x.callSetDisabledState??ci}]}}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=l.$C({type:z});static#n=this.\u0275inj=l.G2t({imports:[Is]})}return z})()},345:(Zt,Qe,B)=>{B.d(Qe,{Bb:()=>On,W8:()=>Pt,hE:()=>pr,sG:()=>gn,up:()=>mi});var l=B(7705),le=B(177);class g extends le.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends g{static makeCurrent(){(0,le.ZD)(new Ae)}onAndCancel(H,V,F){return H.addEventListener(V,F),()=>{H.removeEventListener(V,F)}}dispatchEvent(H,V){H.dispatchEvent(V)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,V){return(V=V||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,V){return"window"===V?window:"document"===V?H:"body"===V?H.body:null}getBaseHref(H){const V=function Se(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==V?null:function Fe(ee){Ve=Ve||document.createElement("a"),Ve.setAttribute("href",ee);const H=Ve.pathname;return"/"===H.charAt(0)?H:`/${H}`}(V)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,le._b)(document.cookie,H)}}let Ve,ye=null,ae=(()=>{class ee{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=l.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const de=new l.nKC("EventManagerPlugins");let Re=(()=>{class ee{constructor(V,F){this._zone=F,this._eventNameToPlugin=new Map,V.forEach(ce=>{ce.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,F,ce){return this._findPluginFor(F).addEventListener(V,F,ce)}getZone(){return this._zone}_findPluginFor(V){let F=this._eventNameToPlugin.get(V);if(F)return F;if(F=this._plugins.find(Ne=>Ne.supports(V)),!F)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(V,F),F}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(de),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class ut{constructor(H){this._doc=H}}const We="ng-app-id";let It=(()=>{class ee{constructor(V,F,ce,Ne={}){this.doc=V,this.appId=F,this.nonce=ce,this.platformId=Ne,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,le.Vy)(Ne),this.resetHostNodes()}addStyles(V){for(const F of V)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(V){for(const F of V)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(F=>F.remove()),V.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const F of this.getAllStyles())this.addStyleToHost(V,F)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const F of this.hostNodes)this.addStyleToHost(F,V)}onStyleRemoved(V){const F=this.styleRef;F.get(V)?.elements?.forEach(ce=>ce.remove()),F.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(V?.length){const F=new Map;return V.forEach(ce=>{null!=ce.textContent&&F.set(ce.textContent,ce)}),F}return null}changeUsageCount(V,F){const ce=this.styleRef;if(ce.has(V)){const Ne=ce.get(V);return Ne.usage+=F,Ne.usage}return ce.set(V,{usage:F,elements:[]}),F}getStyleElement(V,F){const ce=this.styleNodesInDOM,Ne=ce?.get(F);if(Ne?.parentNode===V)return ce.delete(F),Ne.removeAttribute(We),Ne;{const pt=this.doc.createElement("style");return this.nonce&&pt.setAttribute("nonce",this.nonce),pt.textContent=F,this.platformIsServer&&pt.setAttribute(We,this.appId),pt}}addStyleToHost(V,F){const ce=this.getStyleElement(V,F);V.appendChild(ce);const Ne=this.styleRef,pt=Ne.get(F)?.elements;pt?pt.push(ce):Ne.set(F,{elements:[ce],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(le.qQ),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g,Je=new l.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function mt(ee,H){return H.map(V=>V.replace(kt,ee))}let St=(()=>{class ee{constructor(V,F,ce,Ne,pt,At,on,Kt=null){this.eventManager=V,this.sharedStylesHost=F,this.appId=ce,this.removeStylesOnCompDestroy=Ne,this.doc=pt,this.platformId=At,this.ngZone=on,this.nonce=Kt,this.rendererByCompId=new Map,this.platformIsServer=(0,le.Vy)(At),this.defaultRenderer=new Ie(V,pt,on,this.platformIsServer)}createRenderer(V,F){if(!V||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===l.gXe.ShadowDom&&(F={...F,encapsulation:l.gXe.Emulated});const ce=this.getOrCreateRenderer(V,F);return ce instanceof Vt?ce.applyToHost(V):ce instanceof Mt&&ce.applyStyles(),ce}getOrCreateRenderer(V,F){const ce=this.rendererByCompId;let Ne=ce.get(F.id);if(!Ne){const pt=this.doc,At=this.ngZone,on=this.eventManager,Kt=this.sharedStylesHost,Jt=this.removeStylesOnCompDestroy,Jn=this.platformIsServer;switch(F.encapsulation){case l.gXe.Emulated:Ne=new Vt(on,Kt,F,this.appId,Jt,pt,At,Jn);break;case l.gXe.ShadowDom:return new Et(on,Kt,V,F,pt,At,this.nonce,Jn);default:Ne=new Mt(on,Kt,F,Jt,pt,At,Jn)}ce.set(F.id,Ne)}return Ne}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(Re),l.KVO(It),l.KVO(l.sZ2),l.KVO(Je),l.KVO(le.qQ),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))};static#t=this.\u0275prov=l.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class Ie{constructor(H,V,F,ce){this.eventManager=H,this.doc=V,this.ngZone=F,this.platformIsServer=ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,V){return V?this.doc.createElementNS(gt[V]||V,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,V){(zn(H)?H.content:H).appendChild(V)}insertBefore(H,V,F){H&&(zn(H)?H.content:H).insertBefore(V,F)}removeChild(H,V){H&&H.removeChild(V)}selectRootElement(H,V){let F="string"==typeof H?this.doc.querySelector(H):H;if(!F)throw new l.wOt(-5104,!1);return V||(F.textContent=""),F}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,V,F,ce){if(ce){V=ce+":"+V;const Ne=gt[ce];Ne?H.setAttributeNS(Ne,V,F):H.setAttribute(V,F)}else H.setAttribute(V,F)}removeAttribute(H,V,F){if(F){const ce=gt[F];ce?H.removeAttributeNS(ce,V):H.removeAttribute(`${F}:${V}`)}else H.removeAttribute(V)}addClass(H,V){H.classList.add(V)}removeClass(H,V){H.classList.remove(V)}setStyle(H,V,F,ce){ce&(l.czy.DashCase|l.czy.Important)?H.style.setProperty(V,F,ce&l.czy.Important?"important":""):H.style[V]=F}removeStyle(H,V,F){F&l.czy.DashCase?H.style.removeProperty(V):H.style[V]=""}setProperty(H,V,F){H[V]=F}setValue(H,V){H.nodeValue=V}listen(H,V,F){if("string"==typeof H&&!(H=(0,le.QT)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${V}`);return this.eventManager.addEventListener(H,V,this.decoratePreventDefault(F))}decoratePreventDefault(H){return V=>{if("__ngUnwrap__"===V)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(V)):H(V))&&V.preventDefault()}}}function zn(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class Et extends Ie{constructor(H,V,F,ce,Ne,pt,At,on){super(H,Ne,pt,on),this.sharedStylesHost=V,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=mt(ce.id,ce.styles);for(const Jt of Kt){const Jn=document.createElement("style");At&&Jn.setAttribute("nonce",At),Jn.textContent=Jt,this.shadowRoot.appendChild(Jn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,V){return super.appendChild(this.nodeOrShadowRoot(H),V)}insertBefore(H,V,F){return super.insertBefore(this.nodeOrShadowRoot(H),V,F)}removeChild(H,V){return super.removeChild(this.nodeOrShadowRoot(H),V)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Mt extends Ie{constructor(H,V,F,ce,Ne,pt,At,on){super(H,Ne,pt,At),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=ce,this.styles=on?mt(on,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vt extends Mt{constructor(H,V,F,ce,Ne,pt,At,on){const Kt=ce+"-"+F.id;super(H,V,F,Ne,pt,At,on,Kt),this.contentAttr=function ze(ee){return"_ngcontent-%COMP%".replace(kt,ee)}(Kt),this.hostAttr=function Xe(ee){return"_nghost-%COMP%".replace(kt,ee)}(Kt)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,V){const F=super.createElement(H,V);return super.setAttribute(F,this.contentAttr,""),F}}let Ze=(()=>{class ee extends ut{constructor(V){super(V)}supports(V){return!0}addEventListener(V,F,ce){return V.addEventListener(F,ce,!1),()=>this.removeEventListener(V,F,ce)}removeEventListener(V,F,ce){return V.removeEventListener(F,ce)}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(le.qQ))};static#t=this.\u0275prov=l.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const fe=["alt","control","meta","shift"],ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ge={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let De=(()=>{class ee extends ut{constructor(V){super(V)}supports(V){return null!=ee.parseEventName(V)}addEventListener(V,F,ce){const Ne=ee.parseEventName(F),pt=ee.eventCallback(Ne.fullKey,ce,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,le.QT)().onAndCancel(V,Ne.domEventName,pt))}static parseEventName(V){const F=V.toLowerCase().split("."),ce=F.shift();if(0===F.length||"keydown"!==ce&&"keyup"!==ce)return null;const Ne=ee._normalizeKey(F.pop());let pt="",At=F.indexOf("code");if(At>-1&&(F.splice(At,1),pt="code."),fe.forEach(Kt=>{const Jt=F.indexOf(Kt);Jt>-1&&(F.splice(Jt,1),pt+=Kt+".")}),pt+=Ne,0!=F.length||0===Ne.length)return null;const on={};return on.domEventName=ce,on.fullKey=pt,on}static matchEventFullKeyCode(V,F){let ce=ue[V.key]||V.key,Ne="";return F.indexOf("code.")>-1&&(ce=V.code,Ne="code."),!(null==ce||!ce)&&(ce=ce.toLowerCase()," "===ce?ce="space":"."===ce&&(ce="dot"),fe.forEach(pt=>{pt!==ce&&(0,ge[pt])(V)&&(Ne+=pt+".")}),Ne+=ce,Ne===F)}static eventCallback(V,F,ce){return Ne=>{ee.matchEventFullKeyCode(Ne,V)&&ce.runGuarded(()=>F(Ne))}}static _normalizeKey(V){return"esc"===V?"escape":V}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(le.qQ))};static#t=this.\u0275prov=l.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const gn=(0,l.oH4)(l.fpN,"browser",[{provide:l.Agw,useValue:le.AJ},{provide:l.PLl,useValue:function _t(){Ae.makeCurrent()},multi:!0},{provide:le.qQ,useFactory:function qt(){return(0,l.TL$)(document),document},deps:[]}]),ar=new l.nKC(""),Ft=[{provide:l.e01,useClass:class Be{addToWindow(H){l.JZv.getAngularTestability=(F,ce=!0)=>{const Ne=H.findTestabilityInTree(F,ce);if(null==Ne)throw new l.wOt(5103,!1);return Ne},l.JZv.getAllAngularTestabilities=()=>H.getAllTestabilities(),l.JZv.getAllAngularRootElements=()=>H.getAllRootElements(),l.JZv.frameworkStabilizers||(l.JZv.frameworkStabilizers=[]),l.JZv.frameworkStabilizers.push(F=>{const ce=l.JZv.getAllAngularTestabilities();let Ne=ce.length,pt=!1;const At=function(on){pt=pt||on,Ne--,0==Ne&&F(pt)};ce.forEach(on=>{on.whenStable(At)})})}findTestabilityInTree(H,V,F){return null==V?null:H.getTestability(V)??(F?(0,le.QT)().isShadowRoot(V)?this.findTestabilityInTree(H,V.host,!0):this.findTestabilityInTree(H,V.parentElement,!0):null)}},deps:[]},{provide:l.WHO,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]},{provide:l.NYb,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]}],_n=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function rn(){return new l.zcH},deps:[]},{provide:de,useClass:Ze,multi:!0,deps:[le.qQ,l.SKi,l.Agw]},{provide:de,useClass:De,multi:!0,deps:[le.qQ]},St,It,Re,{provide:l._9s,useExisting:St},{provide:le.N0,useClass:ae,deps:[]},[]];let On=(()=>{class ee{constructor(V){}static withServerTransition(V){return{ngModule:ee,providers:[{provide:l.sZ2,useValue:V.appId}]}}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(ar,12))};static#t=this.\u0275mod=l.$C({type:ee});static#n=this.\u0275inj=l.G2t({providers:[..._n,...Ft],imports:[le.MD,l.Hbi]})}return ee})(),Pt=(()=>{class ee{constructor(V){this._doc=V,this._dom=(0,le.QT)()}addTag(V,F=!1){return V?this._getOrCreateElement(V,F):null}addTags(V,F=!1){return V?V.reduce((ce,Ne)=>(Ne&&ce.push(this._getOrCreateElement(Ne,F)),ce),[]):[]}getTag(V){return V&&this._doc.querySelector(`meta[${V}]`)||null}getTags(V){if(!V)return[];const F=this._doc.querySelectorAll(`meta[${V}]`);return F?[].slice.call(F):[]}updateTag(V,F){if(!V)return null;F=F||this._parseSelector(V);const ce=this.getTag(F);return ce?this._setMetaElementAttributes(V,ce):this._getOrCreateElement(V,!0)}removeTag(V){this.removeTagElement(this.getTag(V))}removeTagElement(V){V&&this._dom.remove(V)}_getOrCreateElement(V,F=!1){if(!F){const pt=this._parseSelector(V),At=this.getTags(pt).filter(on=>this._containsAttributes(V,on))[0];if(void 0!==At)return At}const ce=this._dom.createElement("meta");return this._setMetaElementAttributes(V,ce),this._doc.getElementsByTagName("head")[0].appendChild(ce),ce}_setMetaElementAttributes(V,F){return Object.keys(V).forEach(ce=>F.setAttribute(this._getMetaKeyMap(ce),V[ce])),F}_parseSelector(V){const F=V.name?"name":"property";return`${F}="${V[F]}"`}_containsAttributes(V,F){return Object.keys(V).every(ce=>F.getAttribute(this._getMetaKeyMap(ce))===V[ce])}_getMetaKeyMap(V){return Br[V]||V}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(le.qQ))};static#t=this.\u0275prov=l.jDH({token:ee,factory:function(F){let ce=null;return ce=F?new F:function Lt(){return new Pt((0,l.KVO)(le.qQ))}(),ce},providedIn:"root"})}return ee})();const Br={httpEquiv:"http-equiv"};let pr=(()=>{class ee{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(le.qQ))};static#t=this.\u0275prov=l.jDH({token:ee,factory:function(F){let ce=null;return ce=F?new F:function sn(){return new pr((0,l.KVO)(le.qQ))}(),ce},providedIn:"root"})}return ee})();typeof window<"u"&&window;let mi=(()=>{class ee{static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=l.jDH({token:ee,factory:function(F){let ce=null;return ce=F?new(F||ee):l.KVO(ct),ce},providedIn:"root"})}return ee})(),ct=(()=>{class ee extends mi{constructor(V){super(),this._doc=V}sanitize(V,F){if(null==F)return null;switch(V){case l.WPN.NONE:return F;case l.WPN.HTML:return(0,l.ZF7)(F,"HTML")?(0,l.rcV)(F):(0,l.h9k)(this._doc,String(F)).toString();case l.WPN.STYLE:return(0,l.ZF7)(F,"Style")?(0,l.rcV)(F):F;case l.WPN.SCRIPT:if((0,l.ZF7)(F,"Script"))return(0,l.rcV)(F);throw new l.wOt(5200,!1);case l.WPN.URL:return(0,l.ZF7)(F,"URL")?(0,l.rcV)(F):(0,l.$MX)(String(F));case l.WPN.RESOURCE_URL:if((0,l.ZF7)(F,"ResourceURL"))return(0,l.rcV)(F);throw new l.wOt(5201,!1);default:throw new l.wOt(5202,!1)}}bypassSecurityTrustHtml(V){return(0,l.Kcf)(V)}bypassSecurityTrustStyle(V){return(0,l.cWb)(V)}bypassSecurityTrustScript(V){return(0,l.UyX)(V)}bypassSecurityTrustUrl(V){return(0,l.osQ)(V)}bypassSecurityTrustResourceUrl(V){return(0,l.e5t)(V)}static#e=this.\u0275fac=function(F){return new(F||ee)(l.KVO(le.qQ))};static#t=this.\u0275prov=l.jDH({token:ee,factory:function(F){let ce=null;return ce=F?new F:function je(ee){return new ct(ee.get(le.qQ))}(l.KVO(l.zZn)),ce},providedIn:"root"})}return ee})()},6814:(Zt,Qe,B)=>{B.d(Qe,{nX:()=>er,Ix:()=>gi,Wk:()=>sc,iI:()=>kc,n3:()=>os});var l=B(7705),le=B(1985),g=B(8071),ye=B(8455),Se=B(7673),Ve=B(4412),Fe=B(3073),Be=B(3669),ae=B(6450),de=B(3794),Re=B(8496),ut=B(4360),We=B(5225);function It(...w){const M=(0,de.lI)(w),b=(0,de.ms)(w),{args:O,keys:$}=(0,Fe.D)(w);if(0===O.length)return(0,ye.H)([],M);const ne=new le.c(function gt(w,M,b=Be.D){return O=>{kt(M,()=>{const{length:$}=w,ne=new Array($);let Ee=$,it=$;for(let nt=0;nt<$;nt++)kt(M,()=>{const an=(0,ye.H)(w[nt],M);let sr=!1;an.subscribe((0,ut._)(O,yr=>{ne[nt]=yr,sr||(sr=!0,it--),it||O.next(b(ne.slice()))},()=>{--Ee||O.complete()}))},O)},O)}}(O,M,$?Ee=>(0,Re.e)($,Ee):Be.D));return b?ne.pipe((0,ae.I)(b)):ne}function kt(w,M,b){w?(0,We.N)(b,w,M):M()}var bt=B(9350),Xt=B(8793),Ke=B(8750);function Ue(w){return new le.c(M=>{(0,Ke.Tg)(w()).subscribe(M)})}var Je=B(1203),ze=B(8810),Xe=B(983),mt=B(8359),St=B(9974);function Ie(){return(0,St.N)((w,M)=>{let b=null;w._refCount++;const O=(0,ut._)(M,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(b=null);const $=w._connection,ne=b;b=null,$&&(!ne||$===ne)&&$.unsubscribe(),M.unsubscribe()});w.subscribe(O),O.closed||(b=w.connect())})}class jt extends le.c{constructor(M,b){super(),this.source=M,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,St.S)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new mt.yU;const b=this.getSubject();M.add(this.source.subscribe((0,ut._)(b,void 0,()=>{this._teardown(),b.complete()},O=>{this._teardown(),b.error(O)},()=>this._teardown()))),M.closed&&(this._connection=null,M=mt.yU.EMPTY)}return M}refCount(){return Ie()(this)}}var en=B(1413),zn=B(177),Et=B(6354),Mt=B(5558),Vt=B(6697),Ze=B(9172),fe=B(5964),ue=B(1397),ge=B(1594),De=B(274),pe=B(8141),Te=B(9437),Le=B(2816),ht=B(9901);function _t(w){return w<=0?()=>Xe.w:(0,St.N)((M,b)=>{let O=[];M.subscribe((0,ut._)(b,$=>{O.push($),w<O.length&&O.shift()},()=>{for(const $ of O)b.next($);b.complete()},void 0,()=>{O=null}))})}var rn=B(3774),gn=B(980),ar=B(5343),_n=B(6365),On=B(345);const Lt="primary",Pt=Symbol("RouteTitle");class Br{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const b=this.params[M];return Array.isArray(b)?b[0]:b}return null}getAll(M){if(this.has(M)){const b=this.params[M];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function sn(w){return new Br(w)}function pr(w,M,b){const O=b.path.split("/");if(O.length>w.length||"full"===b.pathMatch&&(M.hasChildren()||O.length<w.length))return null;const $={};for(let ne=0;ne<O.length;ne++){const Ee=O[ne],it=w[ne];if(Ee.startsWith(":"))$[Ee.substring(1)]=it;else if(Ee!==it.path)return null}return{consumed:w.slice(0,O.length),posParams:$}}function Ot(w,M){const b=w?Object.keys(w):void 0,O=M?Object.keys(M):void 0;if(!b||!O||b.length!=O.length)return!1;let $;for(let ne=0;ne<b.length;ne++)if($=b[ne],!un(w[$],M[$]))return!1;return!0}function un(w,M){if(Array.isArray(w)&&Array.isArray(M)){if(w.length!==M.length)return!1;const b=[...w].sort(),O=[...M].sort();return b.every(($,ne)=>O[ne]===$)}return w===M}function Cn(w){return w.length>0?w[w.length-1]:null}function mn(w){return function Ae(w){return!!w&&(w instanceof le.c||(0,g.T)(w.lift)&&(0,g.T)(w.subscribe))}(w)?w:(0,l.jNT)(w)?(0,ye.H)(Promise.resolve(w)):(0,Se.of)(w)}const ur={exact:function ei(w,M,b){if(!ct(w.segments,M.segments)||!jn(w.segments,M.segments,b)||w.numberOfChildren!==M.numberOfChildren)return!1;for(const O in M.children)if(!w.children[O]||!ei(w.children[O],M.children[O],b))return!1;return!0},subset:Yt},vr={exact:function xn(w,M){return Ot(w,M)},subset:function Ji(w,M){return Object.keys(M).length<=Object.keys(w).length&&Object.keys(M).every(b=>un(w[b],M[b]))},ignored:()=>!0};function Zr(w,M,b){return ur[b.paths](w.root,M.root,b.matrixParams)&&vr[b.queryParams](w.queryParams,M.queryParams)&&!("exact"===b.fragment&&w.fragment!==M.fragment)}function Yt(w,M,b){return ti(w,M,M.segments,b)}function ti(w,M,b,O){if(w.segments.length>b.length){const $=w.segments.slice(0,b.length);return!(!ct($,b)||M.hasChildren()||!jn($,b,O))}if(w.segments.length===b.length){if(!ct(w.segments,b)||!jn(w.segments,b,O))return!1;for(const $ in M.children)if(!w.children[$]||!Yt(w.children[$],M.children[$],O))return!1;return!0}{const $=b.slice(0,w.segments.length),ne=b.slice(w.segments.length);return!!(ct(w.segments,$)&&jn(w.segments,$,O)&&w.children[Lt])&&ti(w.children[Lt],M,ne,O)}}function jn(w,M,b){return M.every((O,$)=>vr[b](w[$].parameters,O.parameters))}class lr{constructor(M=new Dn([],{}),b={},O=null){this.root=M,this.queryParams=b,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return Ut.serialize(this)}}class Dn{constructor(M,b){this.segments=M,this.children=b,this.parent=null,Object.values(b).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class mi{constructor(M,b){this.path=M,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return ce(this)}}function ct(w,M){return w.length===M.length&&w.every((b,O)=>b.path===M[O].path)}let be=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:function(){return new st},providedIn:"root"})}return w})();class st{parse(M){const b=new Us(M);return new lr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(M){const b=`/${Sr(M.root,!0)}`,O=function pt(w){const M=Object.keys(w).map(b=>{const O=w[b];return Array.isArray(O)?O.map($=>`${Me(b)}=${Me($)}`).join("&"):`${Me(b)}=${Me(O)}`}).filter(b=>!!b);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${b}${O}${"string"==typeof M.fragment?`#${function ee(w){return encodeURI(w)}(M.fragment)}`:""}`}}const Ut=new st;function Tn(w){return w.segments.map(M=>ce(M)).join("/")}function Sr(w,M){if(!w.hasChildren())return Tn(w);if(M){const b=w.children[Lt]?Sr(w.children[Lt],!1):"",O=[];return Object.entries(w.children).forEach(([$,ne])=>{$!==Lt&&O.push(`${$}:${Sr(ne,!1)}`)}),O.length>0?`${b}(${O.join("//")})`:b}{const b=function se(w,M){let b=[];return Object.entries(w.children).forEach(([O,$])=>{O===Lt&&(b=b.concat(M($,O)))}),Object.entries(w.children).forEach(([O,$])=>{O!==Lt&&(b=b.concat(M($,O)))}),b}(w,(O,$)=>$===Lt?[Sr(w.children[Lt],!1)]:[`${$}:${Sr(O,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Lt]?`${Tn(w)}/${b[0]}`:`${Tn(w)}/(${b.join("//")})`}}function nr(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Me(w){return nr(w).replace(/%3B/gi,";")}function H(w){return nr(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V(w){return decodeURIComponent(w)}function F(w){return V(w.replace(/\+/g,"%20"))}function ce(w){return`${H(w.path)}${function Ne(w){return Object.keys(w).map(M=>`;${H(M)}=${H(w[M])}`).join("")}(w.parameters)}`}const At=/^[^\/()?;#]+/;function on(w){const M=w.match(At);return M?M[0]:""}const Kt=/^[^\/()?;=#]+/,Jn=/^[^=?&#]+/,ci=/^[^&#]+/;class Us{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(M.length>0||Object.keys(b).length>0)&&(O[Lt]=new Dn(M,b)),O}parseSegment(){const M=on(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(M),new mi(V(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const b=function Jt(w){const M=w.match(Kt);return M?M[0]:""}(this.remaining);if(!b)return;this.capture(b);let O="";if(this.consumeOptional("=")){const $=on(this.remaining);$&&(O=$,this.capture(O))}M[V(b)]=V(O)}parseQueryParam(M){const b=function vn(w){const M=w.match(Jn);return M?M[0]:""}(this.remaining);if(!b)return;this.capture(b);let O="";if(this.consumeOptional("=")){const Ee=function kr(w){const M=w.match(ci);return M?M[0]:""}(this.remaining);Ee&&(O=Ee,this.capture(O))}const $=F(b),ne=F(O);if(M.hasOwnProperty($)){let Ee=M[$];Array.isArray(Ee)||(Ee=[Ee],M[$]=Ee),Ee.push(ne)}else M[$]=ne}parseParens(M){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=on(this.remaining),$=this.remaining[O.length];if("/"!==$&&")"!==$&&";"!==$)throw new l.wOt(4010,!1);let ne;O.indexOf(":")>-1?(ne=O.slice(0,O.indexOf(":")),this.capture(ne),this.capture(":")):M&&(ne=Lt);const Ee=this.parseChildren();b[ne]=1===Object.keys(Ee).length?Ee[Lt]:new Dn([],Ee),this.consumeOptional("//")}return b}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new l.wOt(4011,!1)}}function Xr(w){return w.segments.length>0?new Dn([],{[Lt]:w}):w}function zi(w){const M={};for(const O of Object.keys(w.children)){const ne=zi(w.children[O]);if(O===Lt&&0===ne.segments.length&&ne.hasChildren())for(const[Ee,it]of Object.entries(ne.children))M[Ee]=it;else(ne.segments.length>0||ne.hasChildren())&&(M[O]=ne)}return function ls(w){if(1===w.numberOfChildren&&w.children[Lt]){const M=w.children[Lt];return new Dn(w.segments.concat(M.segments),M.children)}return w}(new Dn(w.segments,M))}function ni(w){return w instanceof lr}function rt(w){let M;const $=Xr(function b(ne){const Ee={};for(const nt of ne.children){const an=b(nt);Ee[nt.outlet]=an}const it=new Dn(ne.url,Ee);return ne===w&&(M=it),it}(w.root));return M??$}function qe(w,M,b,O){let $=w;for(;$.parent;)$=$.parent;if(0===M.length)return bn($,$,$,b,O);const ne=function Wn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new wn(!0,0,w);let M=0,b=!1;const O=w.reduce(($,ne,Ee)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const it={};return Object.entries(ne.outlets).forEach(([nt,an])=>{it[nt]="string"==typeof an?an.split("/"):an}),[...$,{outlets:it}]}if(ne.segmentPath)return[...$,ne.segmentPath]}return"string"!=typeof ne?[...$,ne]:0===Ee?(ne.split("/").forEach((it,nt)=>{0==nt&&"."===it||(0==nt&&""===it?b=!0:".."===it?M++:""!=it&&$.push(it))}),$):[...$,ne]},[]);return new wn(b,M,O)}(M);if(ne.toRoot())return bn($,$,new Dn([],{}),b,O);const Ee=function Mr(w,M,b){if(w.isAbsolute)return new Gn(M,!0,0);if(!b)return new Gn(M,!1,NaN);if(null===b.parent)return new Gn(b,!0,0);const O=yt(w.commands[0])?0:1;return function li(w,M,b){let O=w,$=M,ne=b;for(;ne>$;){if(ne-=$,O=O.parent,!O)throw new l.wOt(4005,!1);$=O.segments.length}return new Gn(O,!1,$-ne)}(b,b.segments.length-1+O,w.numberOfDoubleDots)}(ne,$,w),it=Ee.processChildren?ri(Ee.segmentGroup,Ee.index,ne.commands):ys(Ee.segmentGroup,Ee.index,ne.commands);return bn($,Ee.segmentGroup,it,b,O)}function yt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function tn(w){return"object"==typeof w&&null!=w&&w.outlets}function bn(w,M,b,O,$){let Ee,ne={};O&&Object.entries(O).forEach(([nt,an])=>{ne[nt]=Array.isArray(an)?an.map(sr=>`${sr}`):`${an}`}),Ee=w===M?b:Mn(w,M,b);const it=Xr(zi(Ee));return new lr(it,ne,$)}function Mn(w,M,b){const O={};return Object.entries(w.children).forEach(([$,ne])=>{O[$]=ne===M?b:Mn(ne,M,b)}),new Dn(w.segments,O)}class wn{constructor(M,b,O){if(this.isAbsolute=M,this.numberOfDoubleDots=b,this.commands=O,M&&O.length>0&&yt(O[0]))throw new l.wOt(4003,!1);const $=O.find(tn);if($&&$!==Cn(O))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gn{constructor(M,b,O){this.segmentGroup=M,this.processChildren=b,this.index=O}}function ys(w,M,b){if(w||(w=new Dn([],{})),0===w.segments.length&&w.hasChildren())return ri(w,M,b);const O=function vs(w,M,b){let O=0,$=M;const ne={match:!1,pathIndex:0,commandIndex:0};for(;$<w.segments.length;){if(O>=b.length)return ne;const Ee=w.segments[$],it=b[O];if(tn(it))break;const nt=`${it}`,an=O<b.length-1?b[O+1]:null;if($>0&&void 0===nt)break;if(nt&&an&&"object"==typeof an&&void 0===an.outlets){if(!_i(nt,an,Ee))return ne;O+=2}else{if(!_i(nt,{},Ee))return ne;O++}$++}return{match:!0,pathIndex:$,commandIndex:O}}(w,M,b),$=b.slice(O.commandIndex);if(O.match&&O.pathIndex<w.segments.length){const ne=new Dn(w.segments.slice(0,O.pathIndex),{});return ne.children[Lt]=new Dn(w.segments.slice(O.pathIndex),w.children),ri(ne,0,$)}return O.match&&0===$.length?new Dn(w.segments,{}):O.match&&!w.hasChildren()?ai(w,M,b):O.match?ri(w,0,$):ai(w,M,b)}function ri(w,M,b){if(0===b.length)return new Dn(w.segments,{});{const O=function dr(w){return tn(w[0])?w[0].outlets:{[Lt]:w}}(b),$={};if(Object.keys(O).some(ne=>ne!==Lt)&&w.children[Lt]&&1===w.numberOfChildren&&0===w.children[Lt].segments.length){const ne=ri(w.children[Lt],M,b);return new Dn(w.segments,ne.children)}return Object.entries(O).forEach(([ne,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&($[ne]=ys(w.children[ne],M,Ee))}),Object.entries(w.children).forEach(([ne,Ee])=>{void 0===O[ne]&&($[ne]=Ee)}),new Dn(w.segments,$)}}function ai(w,M,b){const O=w.segments.slice(0,M);let $=0;for(;$<b.length;){const ne=b[$];if(tn(ne)){const nt=Ho(ne.outlets);return new Dn(O,nt)}if(0===$&&yt(b[0])){O.push(new mi(w.segments[M].path,Ui(b[0]))),$++;continue}const Ee=tn(ne)?ne.outlets[Lt]:`${ne}`,it=$<b.length-1?b[$+1]:null;Ee&&it&&yt(it)?(O.push(new mi(Ee,Ui(it))),$+=2):(O.push(new mi(Ee,{})),$++)}return new Dn(O,{})}function Ho(w){const M={};return Object.entries(w).forEach(([b,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(M[b]=ai(new Dn([],{}),0,O))}),M}function Ui(w){const M={};return Object.entries(w).forEach(([b,O])=>M[b]=`${O}`),M}function _i(w,M,b){return w==b.path&&Ot(M,b.parameters)}const Si="imperative";class rr{constructor(M,b){this.id=M,this.url=b}}class Qs extends rr{constructor(M,b,O="imperative",$=null){super(M,b),this.type=0,this.navigationTrigger=O,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pr extends rr{constructor(M,b,O){super(M,b),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rr extends rr{constructor(M,b,O,$){super(M,b),this.reason=O,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bs extends rr{constructor(M,b,O,$){super(M,b),this.reason=O,this.code=$,this.type=16}}class Wi extends rr{constructor(M,b,O,$){super(M,b),this.error=O,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ni extends rr{constructor(M,b,O,$){super(M,b),this.urlAfterRedirects=O,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zi extends rr{constructor(M,b,O,$){super(M,b),this.urlAfterRedirects=O,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zo extends rr{constructor(M,b,O,$,ne){super(M,b),this.urlAfterRedirects=O,this.state=$,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ci extends rr{constructor(M,b,O,$){super(M,b),this.urlAfterRedirects=O,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ca extends rr{constructor(M,b,O,$){super(M,b),this.urlAfterRedirects=O,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hr{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ai{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ds{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(M,b,O){this.routerEvent=M,this.position=b,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fn{}class Er{constructor(M){this.url=M}}class ki{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gr,this.attachRef=null}}let gr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(b,O){const $=this.getOrCreateContext(b);$.outlet=O,this.contexts.set(b,$)}onChildOutletDestroyed(b){const O=this.getContext(b);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let O=this.getContext(b);return O||(O=new ki,this.contexts.set(b,O)),O}getContext(b){return this.contexts.get(b)||null}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class Ss{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const b=this.pathFromRoot(M);return b.length>1?b[b.length-2]:null}children(M){const b=es(M,this._root);return b?b.children.map(O=>O.value):[]}firstChild(M){const b=es(M,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(M){const b=is(M,this._root);return b.length<2?[]:b[b.length-2].children.map($=>$.value).filter($=>$!==M)}pathFromRoot(M){return is(M,this._root).map(b=>b.value)}}function es(w,M){if(w===M.value)return M;for(const b of M.children){const O=es(w,b);if(O)return O}return null}function is(w,M){if(w===M.value)return[M];for(const b of M.children){const O=is(w,b);if(O.length)return O.unshift(M),O}return[]}class Ri{constructor(M,b){this.value=M,this.children=b}toString(){return`TreeNode(${this.value})`}}function ts(w){const M={};return w&&w.children.forEach(b=>M[b.value.outlet]=b),M}class fr extends Ss{constructor(M,b){super(M),this.snapshot=b,br(this,M)}toString(){return this.snapshot.toString()}}function Qt(w,M){const b=function Sn(w,M){const Ee=new Gr([],{},{},"",{},Lt,M,null,{});return new ss("",new Ri(Ee,[]))}(0,M),O=new Ve.t([new mi("",{})]),$=new Ve.t({}),ne=new Ve.t({}),Ee=new Ve.t({}),it=new Ve.t(""),nt=new er(O,$,Ee,it,ne,Lt,M,b.root);return nt.snapshot=b.root,new fr(new Ri(nt,[]),b)}class er{constructor(M,b,O,$,ne,Ee,it,nt){this.urlSubject=M,this.paramsSubject=b,this.queryParamsSubject=O,this.fragmentSubject=$,this.dataSubject=ne,this.outlet=Ee,this.component=it,this._futureSnapshot=nt,this.title=this.dataSubject?.pipe((0,Et.T)(an=>an[Pt]))??(0,Se.of)(void 0),this.url=M,this.params=b,this.queryParams=O,this.fragment=$,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.T)(M=>sn(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.T)(M=>sn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mi(w,M="emptyOnly"){const b=w.pathFromRoot;let O=0;if("always"!==M)for(O=b.length-1;O>=1;){const $=b[O],ne=b[O-1];if($.routeConfig&&""===$.routeConfig.path)O--;else{if(ne.component)break;O--}}return function Ys(w){return w.reduce((M,b)=>({params:{...M.params,...b.params},data:{...M.data,...b.data},resolve:{...b.data,...M.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(O))}class Gr{get title(){return this.data?.[Pt]}constructor(M,b,O,$,ne,Ee,it,nt,an){this.url=M,this.params=b,this.queryParams=O,this.fragment=$,this.data=ne,this.outlet=Ee,this.component=it,this.routeConfig=nt,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ss extends Ss{constructor(M,b){super(b),this.url=M,br(this,b)}toString(){return Ps(this._root)}}function br(w,M){M.value._routerState=w,M.children.forEach(b=>br(w,b))}function Ps(w){const M=w.children.length>0?` { ${w.children.map(Ps).join(", ")} } `:"";return`${w.value}${M}`}function Es(w){if(w.snapshot){const M=w.snapshot,b=w._futureSnapshot;w.snapshot=b,Ot(M.queryParams,b.queryParams)||w.queryParamsSubject.next(b.queryParams),M.fragment!==b.fragment&&w.fragmentSubject.next(b.fragment),Ot(M.params,b.params)||w.paramsSubject.next(b.params),function Bn(w,M){if(w.length!==M.length)return!1;for(let b=0;b<w.length;++b)if(!Ot(w[b],M[b]))return!1;return!0}(M.url,b.url)||w.urlSubject.next(b.url),Ot(M.data,b.data)||w.dataSubject.next(b.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Vn(w,M){const b=Ot(w.params,M.params)&&function je(w,M){return ct(w,M)&&w.every((b,O)=>Ot(b.parameters,M[O].parameters))}(w.url,M.url);return b&&!(!w.parent!=!M.parent)&&(!w.parent||Vn(w.parent,M.parent))}let os=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(gr),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(J,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:O,previousValue:$}=b.name;if(O)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,O){this.activated=b,this._activatedRoute=O,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,O){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=b;const $=this.location,Ee=b.snapshot.component,it=this.parentContexts.getOrCreateContext(this.name).children,nt=new di(b,it,$.injector);this.activated=$.createComponent(Ee,{index:$.length,injector:nt,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275dir=l.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}return w})();class di{constructor(M,b,O){this.route=M,this.childContexts=b,this.parent=O}get(M,b){return M===er?this.route:M===gr?this.childContexts:this.parent.get(M,b)}}const J=new l.nKC("");let G=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:O}=b,$=It([O.queryParams,O.params,O.data]).pipe((0,Mt.n)(([ne,Ee,it],nt)=>(it={...ne,...Ee,...it},0===nt?(0,Se.of)(it):Promise.resolve(it)))).subscribe(ne=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(b);const Ee=(0,l.HJs)(O.component);if(Ee)for(const{templateName:it}of Ee.inputs)b.activatedComponentRef.setInput(it,ne[it]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,$)}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac})}return w})();function we(w,M,b){if(b&&w.shouldReuseRoute(M.value,b.value.snapshot)){const O=b.value;O._futureSnapshot=M.value;const $=function He(w,M,b){return M.children.map(O=>{for(const $ of b.children)if(w.shouldReuseRoute(O.value,$.value.snapshot))return we(w,O,$);return we(w,O)})}(w,M,b);return new Ri(O,$)}{if(w.shouldAttach(M.value)){const ne=w.retrieve(M.value);if(null!==ne){const Ee=ne.route;return Ee.value._futureSnapshot=M.value,Ee.children=M.children.map(it=>we(w,it)),Ee}}const O=function ft(w){return new er(new Ve.t(w.url),new Ve.t(w.params),new Ve.t(w.queryParams),new Ve.t(w.fragment),new Ve.t(w.data),w.outlet,w.component,w)}(M.value),$=M.children.map(ne=>we(w,ne));return new Ri(O,$)}}const Ht="ngNavigationCancelingError";function cn(w,M){const{redirectTo:b,navigationBehaviorOptions:O}=ni(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,$=Dt(!1,0,M);return $.url=b,$.navigationBehaviorOptions=O,$}function Dt(w,M,b){const O=new Error("NavigationCancelingError: "+(w||""));return O[Ht]=!0,O.cancellationCode=M,b&&(O.url=b),O}function tr(w){return w&&w[Ht]}let En=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275cmp=l.VBU({type:w,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(O,$){1&O&&l.nrm(0,"router-outlet")},dependencies:[os],encapsulation:2})}return w})();function Yr(w){const M=w.children&&w.children.map(Yr),b=M?{...w,children:M}:{...w};return!b.component&&!b.loadComponent&&(M||b.loadChildren)&&b.outlet&&b.outlet!==Lt&&(b.component=En),b}function mr(w){return w.outlet||Lt}function Ki(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let M=w.parent;M;M=M.parent){const b=M.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class la{constructor(M,b,O,$,ne){this.routeReuseStrategy=M,this.futureState=b,this.currState=O,this.forwardEvent=$,this.inputBindingEnabled=ne}activate(M){const b=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,O,M),Es(this.futureState.root),this.activateChildRoutes(b,O,M)}deactivateChildRoutes(M,b,O){const $=ts(b);M.children.forEach(ne=>{const Ee=ne.value.outlet;this.deactivateRoutes(ne,$[Ee],O),delete $[Ee]}),Object.values($).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,O)})}deactivateRoutes(M,b,O){const $=M.value,ne=b?b.value:null;if($===ne)if($.component){const Ee=O.getContext($.outlet);Ee&&this.deactivateChildRoutes(M,b,Ee.children)}else this.deactivateChildRoutes(M,b,O);else ne&&this.deactivateRouteAndItsChildren(b,O)}deactivateRouteAndItsChildren(M,b){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,b):this.deactivateRouteAndOutlet(M,b)}detachAndStoreRouteSubtree(M,b){const O=b.getContext(M.value.outlet),$=O&&M.value.component?O.children:b,ne=ts(M);for(const Ee of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ee],$);if(O&&O.outlet){const Ee=O.outlet.detach(),it=O.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Ee,route:M,contexts:it})}}deactivateRouteAndOutlet(M,b){const O=b.getContext(M.value.outlet),$=O&&M.value.component?O.children:b,ne=ts(M);for(const Ee of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ee],$);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(M,b,O){const $=ts(b);M.children.forEach(ne=>{this.activateRoutes(ne,$[ne.value.outlet],O),this.forwardEvent(new ds(ne.value.snapshot))}),M.children.length&&this.forwardEvent(new Pi(M.value.snapshot))}activateRoutes(M,b,O){const $=M.value,ne=b?b.value:null;if(Es($),$===ne)if($.component){const Ee=O.getOrCreateContext($.outlet);this.activateChildRoutes(M,b,Ee.children)}else this.activateChildRoutes(M,b,O);else if($.component){const Ee=O.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const it=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ee.children.onOutletReAttached(it.contexts),Ee.attachRef=it.componentRef,Ee.route=it.route.value,Ee.outlet&&Ee.outlet.attach(it.componentRef,it.route.value),Es(it.route.value),this.activateChildRoutes(M,null,Ee.children)}else{const it=Ki($.snapshot);Ee.attachRef=null,Ee.route=$,Ee.injector=it,Ee.outlet&&Ee.outlet.activateWith($,Ee.injector),this.activateChildRoutes(M,null,Ee.children)}}else this.activateChildRoutes(M,null,O)}}class Is{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Cs{constructor(M,b){this.component=M,this.route=b}}function Va(w,M,b){const O=w._root;return Ao(O,M?M._root:null,b,[O.value])}function Fi(w,M){const b=Symbol(),O=M.get(w,b);return O===b?"function"!=typeof w||(0,l.LfX)(w)?M.get(w):w:O}function Ao(w,M,b,O,$={canDeactivateChecks:[],canActivateChecks:[]}){const ne=ts(M);return w.children.forEach(Ee=>{(function Do(w,M,b,O,$={canDeactivateChecks:[],canActivateChecks:[]}){const ne=w.value,Ee=M?M.value:null,it=b?b.getContext(w.value.outlet):null;if(Ee&&ne.routeConfig===Ee.routeConfig){const nt=function La(w,M,b){if("function"==typeof b)return b(w,M);switch(b){case"pathParamsChange":return!ct(w.url,M.url);case"pathParamsOrQueryParamsChange":return!ct(w.url,M.url)||!Ot(w.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vn(w,M)||!Ot(w.queryParams,M.queryParams);default:return!Vn(w,M)}}(Ee,ne,ne.routeConfig.runGuardsAndResolvers);nt?$.canActivateChecks.push(new Is(O)):(ne.data=Ee.data,ne._resolvedData=Ee._resolvedData),Ao(w,M,ne.component?it?it.children:null:b,O,$),nt&&it&&it.outlet&&it.outlet.isActivated&&$.canDeactivateChecks.push(new Cs(it.outlet.component,Ee))}else Ee&&Fr(M,it,$),$.canActivateChecks.push(new Is(O)),Ao(w,null,ne.component?it?it.children:null:b,O,$)})(Ee,ne[Ee.value.outlet],b,O.concat([Ee.value]),$),delete ne[Ee.value.outlet]}),Object.entries(ne).forEach(([Ee,it])=>Fr(it,b.getContext(Ee),$)),$}function Fr(w,M,b){const O=ts(w),$=w.value;Object.entries(O).forEach(([ne,Ee])=>{Fr(Ee,$.component?M?M.children.getContext(ne):null:M,b)}),b.canDeactivateChecks.push(new Cs($.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,$))}function Go(w){return"function"==typeof w}function qi(w){return w instanceof bt.G||"EmptyError"===w?.name}const hs=Symbol("INITIAL_VALUE");function Qi(){return(0,Mt.n)(w=>It(w.map(M=>M.pipe((0,Vt.s)(1),(0,Ze.Z)(hs)))).pipe((0,Et.T)(M=>{for(const b of M)if(!0!==b){if(b===hs)return hs;if(!1===b||b instanceof lr)return b}return!0}),(0,fe.p)(M=>M!==hs),(0,Vt.s)(1)))}function js(w){return(0,Je.F)((0,pe.M)(M=>{if(ni(M))throw cn(0,M)}),(0,Et.T)(M=>!0===M))}class Zs{constructor(M){this.segmentGroup=M||null}}class Ta{constructor(M){this.urlTree=M}}function fs(w){return(0,ze.$)(new Zs(w))}function Kn(w){return(0,ze.$)(new Ta(w))}class da{constructor(M,b){this.urlSerializer=M,this.urlTree=b}noMatchError(M){return new l.wOt(4002,!1)}lineralizeSegments(M,b){let O=[],$=b.root;for(;;){if(O=O.concat($.segments),0===$.numberOfChildren)return(0,Se.of)(O);if($.numberOfChildren>1||!$.children[Lt])return(0,ze.$)(new l.wOt(4e3,!1));$=$.children[Lt]}}applyRedirectCommands(M,b,O){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),M,O)}applyRedirectCreateUrlTree(M,b,O,$){const ne=this.createSegmentGroup(M,b.root,O,$);return new lr(ne,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(M,b){const O={};return Object.entries(M).forEach(([$,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const it=ne.substring(1);O[$]=b[it]}else O[$]=ne}),O}createSegmentGroup(M,b,O,$){const ne=this.createSegments(M,b.segments,O,$);let Ee={};return Object.entries(b.children).forEach(([it,nt])=>{Ee[it]=this.createSegmentGroup(M,nt,O,$)}),new Dn(ne,Ee)}createSegments(M,b,O,$){return b.map(ne=>ne.path.startsWith(":")?this.findPosParam(M,ne,$):this.findOrReturn(ne,O))}findPosParam(M,b,O){const $=O[b.path.substring(1)];if(!$)throw new l.wOt(4001,!1);return $}findOrReturn(M,b){let O=0;for(const $ of b){if($.path===M.path)return b.splice(O),$;O++}return M}}const wa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ha(w,M,b,O,$){const ne=_o(w,M,b);return ne.matched?(O=function hi(w,M){return w.providers&&!w._injector&&(w._injector=(0,l.Ol2)(w.providers,M,`Route: ${w.path}`)),w._injector??M}(M,O),function Po(w,M,b,O){const $=M.canMatch;if(!$||0===$.length)return(0,Se.of)(!0);const ne=$.map(Ee=>{const it=Fi(Ee,w);return mn(function Oe(w){return w&&Go(w.canMatch)}(it)?it.canMatch(M,b):w.runInContext(()=>it(M,b)))});return(0,Se.of)(ne).pipe(Qi(),js())}(O,M,b).pipe((0,Et.T)(Ee=>!0===Ee?ne:{...wa}))):(0,Se.of)(ne)}function _o(w,M,b){if(""===M.path)return"full"===M.pathMatch&&(w.hasChildren()||b.length>0)?{...wa}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const $=(M.matcher||pr)(b,w,M);if(!$)return{...wa};const ne={};Object.entries($.posParams??{}).forEach(([it,nt])=>{ne[it]=nt.path});const Ee=$.consumed.length>0?{...ne,...$.consumed[$.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:$.consumed,remainingSegments:b.slice($.consumed.length),parameters:Ee,positionalParamSegments:$.posParams??{}}}function Ko(w,M,b,O){return b.length>0&&function oo(w,M,b){return b.some(O=>ao(w,M,O)&&mr(O)!==Lt)}(w,b,O)?{segmentGroup:new Dn(M,so(O,new Dn(b,w.children))),slicedSegments:[]}:0===b.length&&function eo(w,M,b){return b.some(O=>ao(w,M,O))}(w,b,O)?{segmentGroup:new Dn(w.segments,$a(w,0,b,O,w.children)),slicedSegments:b}:{segmentGroup:new Dn(w.segments,w.children),slicedSegments:b}}function $a(w,M,b,O,$){const ne={};for(const Ee of O)if(ao(w,b,Ee)&&!$[mr(Ee)]){const it=new Dn([],{});ne[mr(Ee)]=it}return{...$,...ne}}function so(w,M){const b={};b[Lt]=M;for(const O of w)if(""===O.path&&mr(O)!==Lt){const $=new Dn([],{});b[mr(O)]=$}return b}function ao(w,M,b){return(!(w.hasChildren()||M.length>0)||"full"!==b.pathMatch)&&""===b.path}class fa{constructor(M,b,O,$,ne,Ee,it){this.injector=M,this.configLoader=b,this.rootComponentType=O,this.config=$,this.urlTree=ne,this.paramsInheritanceStrategy=Ee,this.urlSerializer=it,this.allowRedirects=!0,this.applyRedirects=new da(this.urlSerializer,this.urlTree)}noMatchError(M){return new l.wOt(4002,!1)}recognize(){const M=Ko(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Lt).pipe((0,Te.W)(b=>{if(b instanceof Ta)return this.allowRedirects=!1,this.urlTree=b.urlTree,this.match(b.urlTree);throw b instanceof Zs?this.noMatchError(b):b}),(0,Et.T)(b=>{const O=new Gr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),$=new Ri(O,b),ne=new ss("",$),Ee=function Zn(w,M,b=null,O=null){return qe(rt(w),M,b,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(ne._root),{state:ne,tree:Ee}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,Lt).pipe((0,Te.W)(O=>{throw O instanceof Zs?this.noMatchError(O):O}))}inheritParamsAndData(M){const b=M.value,O=Mi(b,this.paramsInheritanceStrategy);b.params=Object.freeze(O.params),b.data=Object.freeze(O.data),M.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(M,b,O,$){return 0===O.segments.length&&O.hasChildren()?this.processChildren(M,b,O):this.processSegment(M,b,O,O.segments,$,!0)}processChildren(M,b,O){const $=[];for(const ne of Object.keys(O.children))"primary"===ne?$.unshift(ne):$.push(ne);return(0,ye.H)($).pipe((0,De.H)(ne=>{const Ee=O.children[ne],it=function Js(w,M){const b=w.filter(O=>mr(O)===M);return b.push(...w.filter(O=>mr(O)!==M)),b}(b,ne);return this.processSegmentGroup(M,it,Ee,ne)}),(0,Le.S)((ne,Ee)=>(ne.push(...Ee),ne)),(0,ht.U)(null),function qt(w,M){const b=arguments.length>=2;return O=>O.pipe(w?(0,fe.p)(($,ne)=>w($,ne,O)):Be.D,_t(1),b?(0,ht.U)(M):(0,rn.v)(()=>new bt.G))}(),(0,ue.Z)(ne=>{if(null===ne)return fs(O);const Ee=Hs(ne);return function Au(w){w.sort((M,b)=>M.value.outlet===Lt?-1:b.value.outlet===Lt?1:M.value.outlet.localeCompare(b.value.outlet))}(Ee),(0,Se.of)(Ee)}))}processSegment(M,b,O,$,ne,Ee){return(0,ye.H)(b).pipe((0,De.H)(it=>this.processSegmentAgainstRoute(it._injector??M,b,it,O,$,ne,Ee).pipe((0,Te.W)(nt=>{if(nt instanceof Zs)return(0,Se.of)(null);throw nt}))),(0,ge.$)(it=>!!it),(0,Te.W)(it=>{if(qi(it))return function wu(w,M,b){return 0===M.length&&!w.children[b]}(O,$,ne)?(0,Se.of)([]):fs(O);throw it}))}processSegmentAgainstRoute(M,b,O,$,ne,Ee,it){return function Ro(w,M,b,O){return!!(mr(w)===O||O!==Lt&&ao(M,b,w))&&("**"===w.path||_o(M,w,b).matched)}(O,$,ne,Ee)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(M,$,O,ne,Ee,it):it&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,$,b,O,ne,Ee):fs($):fs($)}expandSegmentAgainstRouteUsingRedirect(M,b,O,$,ne,Ee){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,O,$,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(M,b,O,$,ne,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,b,O,$){const ne=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?Kn(ne):this.applyRedirects.lineralizeSegments(O,ne).pipe((0,ue.Z)(Ee=>{const it=new Dn(Ee,{});return this.processSegment(M,b,it,Ee,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,b,O,$,ne,Ee){const{matched:it,consumedSegments:nt,remainingSegments:an,positionalParamSegments:sr}=_o(b,$,ne);if(!it)return fs(b);const yr=this.applyRedirects.applyRedirectCommands(nt,$.redirectTo,sr);return $.redirectTo.startsWith("/")?Kn(yr):this.applyRedirects.lineralizeSegments($,yr).pipe((0,ue.Z)(Ir=>this.processSegment(M,O,b,Ir.concat(an),Ee,!1)))}matchSegmentAgainstRoute(M,b,O,$,ne,Ee){let it;if("**"===O.path){const nt=$.length>0?Cn($).parameters:{},an=new Gr($,nt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_r(O),mr(O),O.component??O._loadedComponent??null,O,D(O));it=(0,Se.of)({snapshot:an,consumedSegments:[],remainingSegments:[]}),b.children={}}else it=ha(b,O,$,M).pipe((0,Et.T)(({matched:nt,consumedSegments:an,remainingSegments:sr,parameters:yr})=>nt?{snapshot:new Gr(an,yr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_r(O),mr(O),O.component??O._loadedComponent??null,O,D(O)),consumedSegments:an,remainingSegments:sr}:null));return it.pipe((0,Mt.n)(nt=>null===nt?fs(b):this.getChildConfig(M=O._injector??M,O,$).pipe((0,Mt.n)(({routes:an})=>{const sr=O._loadedInjector??M,{snapshot:yr,consumedSegments:Ir,remainingSegments:Jr}=nt,{segmentGroup:Ka,slicedSegments:qa}=Ko(b,Ir,Jr,an);if(0===qa.length&&Ka.hasChildren())return this.processChildren(sr,an,Ka).pipe((0,Et.T)(ro=>null===ro?null:[new Ri(yr,ro)]));if(0===an.length&&0===qa.length)return(0,Se.of)([new Ri(yr,[])]);const Qa=mr(O)===ne;return this.processSegment(sr,an,Ka,qa,Qa?Lt:ne,!0).pipe((0,Et.T)(ro=>[new Ri(yr,ro)]))}))))}getChildConfig(M,b,O){return b.children?(0,Se.of)({routes:b.children,injector:M}):b.loadChildren?void 0!==b._loadedRoutes?(0,Se.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function nc(w,M,b,O){const $=M.canLoad;if(void 0===$||0===$.length)return(0,Se.of)(!0);const ne=$.map(Ee=>{const it=Fi(Ee,w);return mn(function z(w){return w&&Go(w.canLoad)}(it)?it.canLoad(M,b):w.runInContext(()=>it(M,b)))});return(0,Se.of)(ne).pipe(Qi(),js())}(M,b,O).pipe((0,ue.Z)($=>$?this.configLoader.loadChildren(M,b).pipe((0,pe.M)(ne=>{b._loadedRoutes=ne.routes,b._loadedInjector=ne.injector})):function Tu(w){return(0,ze.$)(Dt(!1,3))}())):(0,Se.of)({routes:[],injector:M})}}function pa(w){const M=w.value.routeConfig;return M&&""===M.path}function Hs(w){const M=[],b=new Set;for(const O of w){if(!pa(O)){M.push(O);continue}const $=M.find(ne=>O.value.routeConfig===ne.value.routeConfig);void 0!==$?($.children.push(...O.children),b.add($)):M.push(O)}for(const O of b){const $=Hs(O.children);M.push(new Ri(O.value,$))}return M.filter(O=>!b.has(O))}function _r(w){return w.data||{}}function D(w){return w.resolve||{}}function fn(w){return"string"==typeof w.title||null===w.title}function Tr(w){return(0,Mt.n)(M=>{const b=w(M);return b?(0,ye.H)(b).pipe((0,Et.T)(()=>M)):(0,Se.of)(M)})}const Or=new l.nKC("ROUTES");let Vr=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,Se.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const O=mn(b.loadComponent()).pipe((0,Et.T)(qr),(0,pe.M)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=ne}),(0,gn.j)(()=>{this.componentLoaders.delete(b)})),$=new jt(O,()=>new en.B).pipe(Ie());return this.componentLoaders.set(b,$),$}loadChildren(b,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,Se.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ne=function cr(w,M,b,O){return mn(w.loadChildren()).pipe((0,Et.T)(qr),(0,ue.Z)($=>$ instanceof l.Co$||Array.isArray($)?(0,Se.of)($):(0,ye.H)(M.compileModuleAsync($))),(0,Et.T)($=>{O&&O(w);let ne,Ee,it=!1;return Array.isArray($)?(Ee=$,!0):(ne=$.create(b).injector,Ee=ne.get(Or,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(Yr),injector:ne}}))}(O,this.compiler,b,this.onLoadEndListener).pipe((0,gn.j)(()=>{this.childrenLoaders.delete(O)})),Ee=new jt(ne,()=>new en.B).pipe(Ie());return this.childrenLoaders.set(O,Ee),Ee}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function qr(w){return function ui(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Ti=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new en.B,this.transitionAbortSubject=new en.B,this.configLoader=(0,l.WQX)(Vr),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(be),this.rootContexts=(0,l.WQX)(gr),this.inputBindingEnabled=null!==(0,l.WQX)(J,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new hr($)),this.configLoader.onLoadStartListener=$=>this.events.next(new bi($))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:O})}setupNavigations(b,O,$){return this.transitions=new Ve.t({id:0,currentUrlTree:O,currentRawUrl:O,currentBrowserUrl:O,extractedUrl:b.urlHandlingStrategy.extract(O),urlAfterRedirects:b.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Si,restoredState:null,currentSnapshot:$.snapshot,targetSnapshot:null,currentRouterState:$,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,fe.p)(ne=>0!==ne.id),(0,Et.T)(ne=>({...ne,extractedUrl:b.urlHandlingStrategy.extract(ne.rawUrl)})),(0,Mt.n)(ne=>{this.currentTransition=ne;let Ee=!1,it=!1;return(0,Se.of)(ne).pipe((0,pe.M)(nt=>{this.currentNavigation={id:nt.id,initialUrl:nt.rawUrl,extractedUrl:nt.extractedUrl,trigger:nt.source,extras:nt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Mt.n)(nt=>{const an=nt.currentBrowserUrl.toString(),sr=!b.navigated||nt.extractedUrl.toString()!==an||an!==nt.currentUrlTree.toString();if(!sr&&"reload"!==(nt.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const Ir="";return this.events.next(new Bs(nt.id,this.urlSerializer.serialize(nt.rawUrl),Ir,0)),nt.resolve(null),Xe.w}if(b.urlHandlingStrategy.shouldProcessUrl(nt.rawUrl))return(0,Se.of)(nt).pipe((0,Mt.n)(Ir=>{const Jr=this.transitions?.getValue();return this.events.next(new Qs(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),Ir.source,Ir.restoredState)),Jr!==this.transitions?.getValue()?Xe.w:Promise.resolve(Ir)}),function Z(w,M,b,O,$,ne){return(0,ue.Z)(Ee=>function yo(w,M,b,O,$,ne,Ee="emptyOnly"){return new fa(w,M,b,O,$,Ee,ne).recognize()}(w,M,b,O,Ee.extractedUrl,$,ne).pipe((0,Et.T)(({state:it,tree:nt})=>({...Ee,targetSnapshot:it,urlAfterRedirects:nt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,pe.M)(Ir=>{ne.targetSnapshot=Ir.targetSnapshot,ne.urlAfterRedirects=Ir.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ir.urlAfterRedirects};const Jr=new Ni(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),this.urlSerializer.serialize(Ir.urlAfterRedirects),Ir.targetSnapshot);this.events.next(Jr)}));if(sr&&b.urlHandlingStrategy.shouldProcessUrl(nt.currentRawUrl)){const{id:Ir,extractedUrl:Jr,source:Ka,restoredState:qa,extras:Qa}=nt,ro=new Qs(Ir,this.urlSerializer.serialize(Jr),Ka,qa);this.events.next(ro);const sa=Qt(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...nt,targetSnapshot:sa,urlAfterRedirects:Jr,extras:{...Qa,skipLocationChange:!1,replaceUrl:!1}},(0,Se.of)(ne)}{const Ir="";return this.events.next(new Bs(nt.id,this.urlSerializer.serialize(nt.extractedUrl),Ir,1)),nt.resolve(null),Xe.w}}),(0,pe.M)(nt=>{const an=new Zi(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(an)}),(0,Et.T)(nt=>(this.currentTransition=ne={...nt,guards:Va(nt.targetSnapshot,nt.currentSnapshot,this.rootContexts)},ne)),function So(w,M){return(0,ue.Z)(b=>{const{targetSnapshot:O,currentSnapshot:$,guards:{canActivateChecks:ne,canDeactivateChecks:Ee}}=b;return 0===Ee.length&&0===ne.length?(0,Se.of)({...b,guardsResult:!0}):function Rs(w,M,b,O){return(0,ye.H)(w).pipe((0,ue.Z)($=>function Oi(w,M,b,O,$){const ne=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,Se.of)(!0);const Ee=ne.map(it=>{const nt=Ki(M)??$,an=Fi(it,nt);return mn(function ie(w){return w&&Go(w.canDeactivate)}(an)?an.canDeactivate(w,M,b,O):nt.runInContext(()=>an(w,M,b,O))).pipe((0,ge.$)())});return(0,Se.of)(Ee).pipe(Qi())}($.component,$.route,b,M,O)),(0,ge.$)($=>!0!==$,!0))}(Ee,O,$,w).pipe((0,ue.Z)(it=>it&&function Ua(w){return"boolean"==typeof w}(it)?function $s(w,M,b,O){return(0,ye.H)(M).pipe((0,De.H)($=>(0,Xt.x)(function Tl(w,M){return null!==w&&M&&M(new Ai(w)),(0,Se.of)(!0)}($.route.parent,O),function Ms(w,M){return null!==w&&M&&M(new Xs(w)),(0,Se.of)(!0)}($.route,O),function ta(w,M,b){const O=M[M.length-1],ne=M.slice(0,M.length-1).reverse().map(Ee=>function ea(w){const M=w.routeConfig?w.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:w,guards:M}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>Ue(()=>{const it=Ee.guards.map(nt=>{const an=Ki(Ee.node)??b,sr=Fi(nt,an);return mn(function x(w){return w&&Go(w.canActivateChild)}(sr)?sr.canActivateChild(O,w):an.runInContext(()=>sr(O,w))).pipe((0,ge.$)())});return(0,Se.of)(it).pipe(Qi())}));return(0,Se.of)(ne).pipe(Qi())}(w,$.path,b),function Kr(w,M,b){const O=M.routeConfig?M.routeConfig.canActivate:null;if(!O||0===O.length)return(0,Se.of)(!0);const $=O.map(ne=>Ue(()=>{const Ee=Ki(M)??b,it=Fi(ne,Ee);return mn(function X(w){return w&&Go(w.canActivate)}(it)?it.canActivate(M,w):Ee.runInContext(()=>it(M,w))).pipe((0,ge.$)())}));return(0,Se.of)($).pipe(Qi())}(w,$.route,b))),(0,ge.$)($=>!0!==$,!0))}(O,ne,w,M):(0,Se.of)(it)),(0,Et.T)(it=>({...b,guardsResult:it})))})}(this.environmentInjector,nt=>this.events.next(nt)),(0,pe.M)(nt=>{if(ne.guardsResult=nt.guardsResult,ni(nt.guardsResult))throw cn(0,nt.guardsResult);const an=new zo(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot,!!nt.guardsResult);this.events.next(an)}),(0,fe.p)(nt=>!!nt.guardsResult||(this.cancelNavigationTransition(nt,"",3),!1)),Tr(nt=>{if(nt.guards.canActivateChecks.length)return(0,Se.of)(nt).pipe((0,pe.M)(an=>{const sr=new Ci(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(sr)}),(0,Mt.n)(an=>{let sr=!1;return(0,Se.of)(an).pipe(function U(w,M){return(0,ue.Z)(b=>{const{targetSnapshot:O,guards:{canActivateChecks:$}}=b;if(!$.length)return(0,Se.of)(b);let ne=0;return(0,ye.H)($).pipe((0,De.H)(Ee=>function Y(w,M,b,O){const $=w.routeConfig,ne=w._resolve;return void 0!==$?.title&&!fn($)&&(ne[Pt]=$.title),function Ce(w,M,b,O){const $=function at(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===$.length)return(0,Se.of)({});const ne={};return(0,ye.H)($).pipe((0,ue.Z)(Ee=>function Tt(w,M,b,O){const $=Ki(M)??O,ne=Fi(w,$);return mn(ne.resolve?ne.resolve(M,b):$.runInContext(()=>ne(M,b)))}(w[Ee],M,b,O).pipe((0,ge.$)(),(0,pe.M)(it=>{ne[Ee]=it}))),_t(1),function Pn(w){return(0,Et.T)(()=>w)}(ne),(0,Te.W)(Ee=>qi(Ee)?Xe.w:(0,ze.$)(Ee)))}(ne,w,M,O).pipe((0,Et.T)(Ee=>(w._resolvedData=Ee,w.data=Mi(w,b).resolve,$&&fn($)&&(w.data[Pt]=$.title),null)))}(Ee.route,O,w,M)),(0,pe.M)(()=>ne++),_t(1),(0,ue.Z)(Ee=>ne===$.length?(0,Se.of)(b):Xe.w))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,pe.M)({next:()=>sr=!0,complete:()=>{sr||this.cancelNavigationTransition(an,"",2)}}))}),(0,pe.M)(an=>{const sr=new ca(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(sr)}))}),Tr(nt=>{const an=sr=>{const yr=[];sr.routeConfig?.loadComponent&&!sr.routeConfig._loadedComponent&&yr.push(this.configLoader.loadComponent(sr.routeConfig).pipe((0,pe.M)(Ir=>{sr.component=Ir}),(0,Et.T)(()=>{})));for(const Ir of sr.children)yr.push(...an(Ir));return yr};return It(an(nt.targetSnapshot.root)).pipe((0,ht.U)(),(0,Vt.s)(1))}),Tr(()=>this.afterPreactivation()),(0,Et.T)(nt=>{const an=function ve(w,M,b){const O=we(w,M._root,b?b._root:void 0);return new fr(O,M)}(b.routeReuseStrategy,nt.targetSnapshot,nt.currentRouterState);return this.currentTransition=ne={...nt,targetRouterState:an},ne}),(0,pe.M)(()=>{this.events.next(new Fn)}),((w,M,b,O)=>(0,Et.T)($=>(new la(M,$.targetRouterState,$.currentRouterState,b,O).activate(w),$)))(this.rootContexts,b.routeReuseStrategy,nt=>this.events.next(nt),this.inputBindingEnabled),(0,Vt.s)(1),(0,pe.M)({next:nt=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pr(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects))),b.titleStrategy?.updateTitle(nt.targetRouterState.snapshot),nt.resolve(!0)},complete:()=>{Ee=!0}}),function Ft(w){return(0,St.N)((M,b)=>{(0,Ke.Tg)(w).subscribe((0,ut._)(b,()=>b.complete(),ar.l)),!b.closed&&M.subscribe(b)})}(this.transitionAbortSubject.pipe((0,pe.M)(nt=>{throw nt}))),(0,gn.j)(()=>{Ee||it||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),(0,Te.W)(nt=>{if(it=!0,tr(nt))this.events.next(new Rr(ne.id,this.urlSerializer.serialize(ne.extractedUrl),nt.message,nt.cancellationCode)),function nn(w){return tr(w)&&ni(w.url)}(nt)?this.events.next(new Er(nt.url)):ne.resolve(!1);else{this.events.next(new Wi(ne.id,this.urlSerializer.serialize(ne.extractedUrl),nt,ne.targetSnapshot??void 0));try{ne.resolve(b.errorHandler(nt))}catch(an){ne.reject(an)}}return Xe.w}))}))}cancelNavigationTransition(b,O,$){const ne=new Rr(b.id,this.urlSerializer.serialize(b.extractedUrl),O,$);this.events.next(ne),b.resolve(!1)}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function ns(w){return w!==Si}let ps=(()=>{class w{buildTitle(b){let O,$=b.root;for(;void 0!==$;)O=this.getResolvedTitleForRoute($)??O,$=$.children.find(ne=>ne.outlet===Lt);return O}getResolvedTitleForRoute(b){return b.data[Pt]}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:function(){return(0,l.WQX)(na)},providedIn:"root"})}return w})(),na=(()=>{class w extends ps{constructor(b){super(),this.title=b}updateTitle(b){const O=this.buildTitle(b);void 0!==O&&this.title.setTitle(O)}static#e=this.\u0275fac=function(O){return new(O||w)(l.KVO(On.hE))};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Os=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:function(){return(0,l.WQX)(Un)},providedIn:"root"})}return w})();class Ct{shouldDetach(M){return!1}store(M,b){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,b){return M.routeConfig===b.routeConfig}}let Un=(()=>{class w extends Ct{static#e=this.\u0275fac=function(){let b;return function($){return(b||(b=l.xGo(w)))($||w)}}();static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const to=new l.nKC("",{providedIn:"root",factory:()=>({})});let rc=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:function(){return(0,l.WQX)(Lr)},providedIn:"root"})}return w})(),Lr=(()=>{class w{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,O){return b}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var Mo=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Mo||{});function Aa(w,M){w.events.pipe((0,fe.p)(b=>b instanceof Pr||b instanceof Rr||b instanceof Wi||b instanceof Bs),(0,Et.T)(b=>b instanceof Pr||b instanceof Bs?Mo.COMPLETE:b instanceof Rr&&(0===b.code||1===b.code)?Mo.REDIRECTING:Mo.FAILED),(0,fe.p)(b=>b!==Mo.REDIRECTING),(0,Vt.s)(1)).subscribe(()=>{M()})}function Di(w){throw w}function ic(w,M,b){return M.parse("/")}const kn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.WQX)(l.H3F),this.isNgZoneEnabled=!1,this._events=new en.B,this.options=(0,l.WQX)(to,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.$K3),this.errorHandler=this.options.errorHandler||Di,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ic,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.WQX)(rc),this.routeReuseStrategy=(0,l.WQX)(Os),this.titleStrategy=(0,l.WQX)(ps),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.WQX)(Or,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.WQX)(Ti),this.urlSerializer=(0,l.WQX)(be),this.location=(0,l.WQX)(zn.aZ),this.componentInputBindingEnabled=!!(0,l.WQX)(J,{optional:!0}),this.eventsSubscription=new mt.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new lr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(O=>{try{const{currentTransition:$}=this.navigationTransitions;if(null===$)return void(Du(O)&&this._events.next(O));if(O instanceof Qs)ns($.source)&&(this.browserUrlTree=$.extractedUrl);else if(O instanceof Bs)this.rawUrlTree=$.rawUrl;else if(O instanceof Ni){if("eager"===this.urlUpdateStrategy){if(!$.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl);this.setBrowserUrl(ne,$)}this.browserUrlTree=$.urlAfterRedirects}}else if(O instanceof Fn)this.currentUrlTree=$.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl),this.routerState=$.targetRouterState,"deferred"===this.urlUpdateStrategy&&($.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,$),this.browserUrlTree=$.urlAfterRedirects);else if(O instanceof Rr)0!==O.code&&1!==O.code&&(this.navigated=!0),(3===O.code||2===O.code)&&this.restoreHistory($);else if(O instanceof Er){const ne=this.urlHandlingStrategy.merge(O.url,$.currentRawUrl),Ee={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ns($.source)};this.scheduleNavigation(ne,Si,null,Ee,{resolve:$.resolve,reject:$.reject,promise:$.promise})}O instanceof Wi&&this.restoreHistory($,!0),O instanceof Pr&&(this.navigated=!0),Du(O)&&this._events.next(O)}catch($){this.navigationTransitions.transitionAbortSubject.next($)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Si,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const O="popstate"===b.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,O,b.state)},0)}))}navigateToSyncWithBrowser(b,O,$){const ne={replaceUrl:!0},Ee=$?.navigationId?$:null;if($){const nt={...$};delete nt.navigationId,delete nt.\u0275routerPageId,0!==Object.keys(nt).length&&(ne.state=nt)}const it=this.parseUrl(b);this.scheduleNavigation(it,O,Ee,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(Yr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,O={}){const{relativeTo:$,queryParams:ne,fragment:Ee,queryParamsHandling:it,preserveFragment:nt}=O,an=nt?this.currentUrlTree.fragment:Ee;let yr,sr=null;switch(it){case"merge":sr={...this.currentUrlTree.queryParams,...ne};break;case"preserve":sr=this.currentUrlTree.queryParams;break;default:sr=ne||null}null!==sr&&(sr=this.removeEmptyProps(sr));try{yr=rt($?$.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),yr=this.currentUrlTree.root}return qe(yr,b,sr,an??null)}navigateByUrl(b,O={skipLocationChange:!1}){const $=ni(b)?b:this.parseUrl(b),ne=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ne,Si,null,O)}navigate(b,O={skipLocationChange:!1}){return function Mc(w){for(let M=0;M<w.length;M++)if(null==w[M])throw new l.wOt(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,O),O)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let O;try{O=this.urlSerializer.parse(b)}catch($){O=this.malformedUriErrorHandler($,this.urlSerializer,b)}return O}isActive(b,O){let $;if($=!0===O?{...kn}:!1===O?{...vo}:O,ni(b))return Zr(this.currentUrlTree,b,$);const ne=this.parseUrl(b);return Zr(this.currentUrlTree,ne,$)}removeEmptyProps(b){return Object.keys(b).reduce((O,$)=>{const ne=b[$];return null!=ne&&(O[$]=ne),O},{})}scheduleNavigation(b,O,$,ne,Ee){if(this.disposed)return Promise.resolve(!1);let it,nt,an;Ee?(it=Ee.resolve,nt=Ee.reject,an=Ee.promise):an=new Promise((yr,Ir)=>{it=yr,nt=Ir});const sr=this.pendingTasks.add();return Aa(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(sr))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:b,extras:ne,resolve:it,reject:nt,promise:an,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),an.catch(yr=>Promise.reject(yr))}setBrowserUrl(b,O){const $=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo($)||O.extras.replaceUrl){const Ee={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState($,"",Ee)}else{const ne={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go($,"",ne)}}restoreHistory(b,O=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,O){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:O}:{navigationId:b}}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Du(w){return!(w instanceof Fn||w instanceof Er)}let sc=(()=>{class w{constructor(b,O,$,ne,Ee,it){this.router=b,this.route=O,this.tabIndexAttribute=$,this.renderer=ne,this.el=Ee,this.locationStrategy=it,this.href=null,this.commands=null,this.onChanges=new en.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const nt=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===nt||"area"===nt,this.isAnchorElement?this.subscription=b.events.subscribe(an=>{an instanceof Pr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,O,$,ne,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||O||$||ne||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,O){const $=this.renderer,ne=this.el.nativeElement;null!==O?$.setAttribute(ne,b,O):$.removeAttribute(ne,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(O){return new(O||w)(l.rXU(gi),l.rXU(er),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(zn.hb))};static#t=this.\u0275dir=l.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,$){1&O&&l.bIt("click",function(Ee){return $.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&O&&l.BMQ("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.L39],skipLocationChange:["skipLocationChange","skipLocationChange",l.L39],replaceUrl:["replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}return w})();class oc{}let Bd=(()=>{class w{constructor(b,O,$,ne,Ee){this.router=b,this.injector=$,this.preloadingStrategy=ne,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,fe.p)(b=>b instanceof Pr),(0,De.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,O){const $=[];for(const ne of O){ne.providers&&!ne._injector&&(ne._injector=(0,l.Ol2)(ne.providers,b,`Route: ${ne.path}`));const Ee=ne._injector??b,it=ne._loadedInjector??Ee;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&$.push(this.preloadConfig(Ee,ne)),(ne.children||ne._loadedRoutes)&&$.push(this.processRoutes(it,ne.children??ne._loadedRoutes))}return(0,ye.H)($).pipe((0,_n.U)())}preloadConfig(b,O){return this.preloadingStrategy.preload(O,()=>{let $;$=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(b,O):(0,Se.of)(null);const ne=$.pipe((0,ue.Z)(Ee=>null===Ee?(0,Se.of)(void 0):(O._loadedRoutes=Ee.routes,O._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??b,Ee.routes))));if(O.loadComponent&&!O._loadedComponent){const Ee=this.loader.loadComponent(O);return(0,ye.H)([ne,Ee]).pipe((0,_n.U)())}return ne})}static#e=this.\u0275fac=function(O){return new(O||w)(l.KVO(gi),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(oc),l.KVO(Vr))};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Al=new l.nKC("");let Yn=(()=>{class w{constructor(b,O,$,ne,Ee={}){this.urlSerializer=b,this.transitions=O,this.viewportScroller=$,this.zone=ne,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Qs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Pr?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Bs&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof wo&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wo(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(O){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac})}return w})();function xs(w,M){return{\u0275kind:w,\u0275providers:M}}function ac(){const w=(0,l.WQX)(l.zZn);return M=>{const b=w.get(l.o8S);if(M!==b.components[0])return;const O=w.get(gi),$=w.get(xc);1===w.get(Ha)&&O.initialNavigation(),w.get(xr,null,l.$GK.Optional)?.setUpPreloading(),w.get(Al,null,l.$GK.Optional)?.init(),O.resetRootComponentType(b.componentTypes[0]),$.closed||($.next(),$.complete(),$.unsubscribe())}}const xc=new l.nKC("",{factory:()=>new en.B}),Ha=new l.nKC("",{providedIn:"root",factory:()=>1}),xr=new l.nKC("");function Nc(w){return xs(0,[{provide:xr,useExisting:Bd},{provide:oc,useExisting:w}])}const uo=new l.nKC("ROUTER_FORROOT_GUARD"),Wa=[zn.aZ,{provide:be,useClass:st},gi,gr,{provide:er,useFactory:function ja(w){return w.routerState.root},deps:[gi]},Vr,[]];function Dl(){return new l.NEm("Router",gi)}let kc=(()=>{class w{constructor(b){}static forRoot(b,O){return{ngModule:w,providers:[Wa,[],{provide:Or,multi:!0,useValue:b},{provide:uo,useFactory:ia,deps:[[gi,new l.Xx1,new l.kdw]]},{provide:to,useValue:O||{}},O?.useHash?{provide:zn.hb,useClass:zn.fw}:{provide:zn.hb,useClass:zn.Sm},{provide:Al,useFactory:()=>{const w=(0,l.WQX)(zn.Xr),M=(0,l.WQX)(l.SKi),b=(0,l.WQX)(to),O=(0,l.WQX)(Ti),$=(0,l.WQX)(be);return b.scrollOffset&&w.setOffset(b.scrollOffset),new Yn($,O,w,M,b)}},O?.preloadingStrategy?Nc(O.preloadingStrategy).\u0275providers:[],{provide:l.NEm,multi:!0,useFactory:Dl},O?.initialNavigation?co(O):[],O?.bindToComponentInputs?xs(8,[G,{provide:J,useExisting:G}]).\u0275providers:[],[{provide:lo,useFactory:ac},{provide:l.iLQ,multi:!0,useExisting:lo}]]}}static forChild(b){return{ngModule:w,providers:[{provide:Or,multi:!0,useValue:b}]}}static#e=this.\u0275fac=function(O){return new(O||w)(l.KVO(uo,8))};static#t=this.\u0275mod=l.$C({type:w});static#n=this.\u0275inj=l.G2t({})}return w})();function ia(w){return"guarded"}function co(w){return["disabled"===w.initialNavigation?xs(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const M=(0,l.WQX)(gi);return()=>{M.setUpLocationChangeListener()}}},{provide:Ha,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?xs(2,[{provide:Ha,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:M=>{const b=M.get(zn.hj,Promise.resolve());return()=>b.then(()=>new Promise(O=>{const $=M.get(gi),ne=M.get(xc);Aa($,()=>{O(!0)}),M.get(Ti).afterPreactivation=()=>(O(!0),ne.closed?(0,Se.of)(void 0):ne),$.initialNavigation()}))}}]).\u0275providers:[]]}const lo=new l.nKC("")},3345:(Zt,Qe,B)=>{B.d(Qe,{A:()=>It});var l=B(1076),le=B(1362),g=B(7852),Ae=B(8041);class ye{constructor(kt,bt){this._delegate=kt,this.firebase=bt,(0,g._addComponent)(kt,new le.uA("app-compat",()=>this,"PUBLIC")),this.container=kt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(kt){this._delegate.automaticDataCollectionEnabled=kt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(kt=>{this._delegate.checkDestroyed(),kt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(kt,bt=g._DEFAULT_ENTRY_NAME){var Xt;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(kt);return!Ke.isInitialized()&&"EXPLICIT"===(null===(Xt=Ke.getComponent())||void 0===Xt?void 0:Xt.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:bt})}_removeServiceInstance(kt,bt=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(kt).clearInstance(bt)}_addComponent(kt){(0,g._addComponent)(this._delegate,kt)}_addOrOverwriteComponent(kt){(0,g._addOrOverwriteComponent)(this._delegate,kt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ve=new l.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Be(){const gt=function Fe(gt){const kt={},bt={__esModule:!0,initializeApp:function Ue(mt,St={}){const Ie=g.initializeApp(mt,St);if((0,l.gR)(kt,Ie.name))return kt[Ie.name];const jt=new gt(Ie,bt);return kt[Ie.name]=jt,jt},app:Ke,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function ze(mt){const St=mt.name,Ie=St.replace("-compat","");if(g._registerComponent(mt)&&"PUBLIC"===mt.type){const jt=(en=Ke())=>{if("function"!=typeof en[Ie])throw Ve.create("invalid-app-argument",{appName:St});return en[Ie]()};void 0!==mt.serviceProps&&(0,l.zw)(jt,mt.serviceProps),bt[Ie]=jt,gt.prototype[Ie]=function(...en){return this._getService.bind(this,St).apply(this,mt.multipleInstances?en:[])}}return"PUBLIC"===mt.type?bt[Ie]:null},removeApp:function Xt(mt){delete kt[mt]},useAsService:function Xe(mt,St){return"serverAuth"===St?null:St},modularAPIs:g}};function Ke(mt){if(!(0,l.gR)(kt,mt=mt||g._DEFAULT_ENTRY_NAME))throw Ve.create("no-app",{appName:mt});return kt[mt]}return bt.default=bt,Object.defineProperty(bt,"apps",{get:function Je(){return Object.keys(kt).map(mt=>kt[mt])}}),Ke.App=gt,bt}(ye);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:Be,extendNamespace:function kt(bt){(0,l.zw)(gt,bt)},createSubscribe:l.tD,ErrorFactory:l.FA,deepExtend:l.zw}),gt}(),de=new Ae.Vy("@firebase/app-compat");if((0,l.Bd)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const It=ae;!function We(gt){(0,g.registerVersion)("@firebase/app-compat","0.2.35",gt)}()},7852:(Zt,Qe,B)=>{B.r(Qe),B.d(Qe,{FirebaseError:()=>Ae.g,SDK_VERSION:()=>be,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>xn,_addOrOverwriteComponent:()=>ei,_apps:()=>ur,_clearComponents:()=>Dn,_components:()=>Zr,_getProvider:()=>Yt,_isFirebaseApp:()=>jn,_isFirebaseServerApp:()=>lr,_registerComponent:()=>Ji,_removeServiceInstance:()=>ti,_serverApps:()=>vr,deleteApp:()=>nr,getApp:()=>Tn,getApps:()=>Sr,initializeApp:()=>st,initializeServerApp:()=>Ut,onLog:()=>H,registerVersion:()=>ee,setLogLevel:()=>V});var l=B(467),le=B(1362),g=B(8041),Ae=B(1076);const ye=(rt,qe)=>qe.some(yt=>rt instanceof yt);let Se,Ve;const ae=new WeakMap,de=new WeakMap,Re=new WeakMap,ut=new WeakMap,We=new WeakMap;let kt={get(rt,qe,yt){if(rt instanceof IDBTransaction){if("done"===qe)return de.get(rt);if("objectStoreNames"===qe)return rt.objectStoreNames||Re.get(rt);if("store"===qe)return yt.objectStoreNames[1]?void 0:yt.objectStore(yt.objectStoreNames[0])}return Ue(rt[qe])},set:(rt,qe,yt)=>(rt[qe]=yt,!0),has:(rt,qe)=>rt instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in rt};function Ke(rt){return"function"==typeof rt?function Xt(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...qe){return rt.apply(Je(this),qe),Ue(ae.get(this))}:function(...qe){return Ue(rt.apply(Je(this),qe))}:function(qe,...yt){const tn=rt.call(Je(this),qe,...yt);return Re.set(tn,qe.sort?qe.sort():[qe]),Ue(tn)}}(rt):(rt instanceof IDBTransaction&&function gt(rt){if(de.has(rt))return;const qe=new Promise((yt,tn)=>{const bn=()=>{rt.removeEventListener("complete",Mn),rt.removeEventListener("error",wn),rt.removeEventListener("abort",wn)},Mn=()=>{yt(),bn()},wn=()=>{tn(rt.error||new DOMException("AbortError","AbortError")),bn()};rt.addEventListener("complete",Mn),rt.addEventListener("error",wn),rt.addEventListener("abort",wn)});de.set(rt,qe)}(rt),ye(rt,function Fe(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,kt):rt)}function Ue(rt){if(rt instanceof IDBRequest)return function It(rt){const qe=new Promise((yt,tn)=>{const bn=()=>{rt.removeEventListener("success",Mn),rt.removeEventListener("error",wn)},Mn=()=>{yt(Ue(rt.result)),bn()},wn=()=>{tn(rt.error),bn()};rt.addEventListener("success",Mn),rt.addEventListener("error",wn)});return qe.then(yt=>{yt instanceof IDBCursor&&ae.set(yt,rt)}).catch(()=>{}),We.set(qe,rt),qe}(rt);if(ut.has(rt))return ut.get(rt);const qe=Ke(rt);return qe!==rt&&(ut.set(rt,qe),We.set(qe,rt)),qe}const Je=rt=>We.get(rt),mt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],Ie=new Map;function jt(rt,qe){if(!(rt instanceof IDBDatabase)||qe in rt||"string"!=typeof qe)return;if(Ie.get(qe))return Ie.get(qe);const yt=qe.replace(/FromIndex$/,""),tn=qe!==yt,bn=St.includes(yt);if(!(yt in(tn?IDBIndex:IDBObjectStore).prototype)||!bn&&!mt.includes(yt))return;const Mn=function(){var wn=(0,l.A)(function*(Wn,...Gn){const Mr=this.transaction(Wn,bn?"readwrite":"readonly");let li=Mr.store;return tn&&(li=li.index(Gn.shift())),(yield Promise.all([li[yt](...Gn),bn&&Mr.done]))[0]});return function(Gn){return wn.apply(this,arguments)}}();return Ie.set(qe,Mn),Mn}!function bt(rt){kt=rt(kt)}(rt=>({...rt,get:(qe,yt,tn)=>jt(qe,yt)||rt.get(qe,yt,tn),has:(qe,yt)=>!!jt(qe,yt)||rt.has(qe,yt)}));class en{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function zn(rt){const qe=rt.getComponent();return"VERSION"===qe?.type}(yt)){const tn=yt.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(yt=>yt).join(" ")}}const Et="@firebase/app",Mt="0.10.5",Vt=new g.Vy("@firebase/app"),Cn="[DEFAULT]",mn={[Et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ur=new Map,vr=new Map,Zr=new Map;function xn(rt,qe){try{rt.container.addComponent(qe)}catch(yt){Vt.debug(`Component ${qe.name} failed to register with FirebaseApp ${rt.name}`,yt)}}function ei(rt,qe){rt.container.addOrOverwriteComponent(qe)}function Ji(rt){const qe=rt.name;if(Zr.has(qe))return Vt.debug(`There were multiple attempts to register component ${qe}.`),!1;Zr.set(qe,rt);for(const yt of ur.values())xn(yt,rt);for(const yt of vr.values())xn(yt,rt);return!0}function Yt(rt,qe){const yt=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return yt&&yt.triggerHeartbeat(),rt.container.getProvider(qe)}function ti(rt,qe,yt=Cn){Yt(rt,qe).clearInstance(yt)}function jn(rt){return void 0!==rt.options}function lr(rt){return void 0!==rt.settings}function Dn(){Zr.clear()}const je=new Ae.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ct{constructor(qe,yt,tn){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new le.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw je.create("app-deleted",{appName:this._name})}}class se extends ct{constructor(qe,yt,tn,bn){const Mn=void 0!==yt.automaticDataCollectionEnabled&&yt.automaticDataCollectionEnabled,wn={name:tn,automaticDataCollectionEnabled:Mn};super(void 0!==qe.apiKey?qe:qe.options,wn,bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Mn},yt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,yt.releaseOnDeref=void 0,ee(Et,Mt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(qe){this.isDeleted||(this._refCount++,void 0!==qe&&this._finalizationRegistry.register(qe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){nr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw je.create("server-app-deleted")}}const be="10.12.2";function st(rt,qe={}){let yt=rt;"object"!=typeof qe&&(qe={name:qe});const tn=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},qe),bn=tn.name;if("string"!=typeof bn||!bn)throw je.create("bad-app-name",{appName:String(bn)});if(yt||(yt=(0,Ae.T9)()),!yt)throw je.create("no-options");const Mn=ur.get(bn);if(Mn){if((0,Ae.bD)(yt,Mn.options)&&(0,Ae.bD)(tn,Mn.config))return Mn;throw je.create("duplicate-app",{appName:bn})}const wn=new le.h1(bn);for(const Gn of Zr.values())wn.addComponent(Gn);const Wn=new ct(yt,tn,wn);return ur.set(bn,Wn),Wn}function Ut(rt,qe){if((0,Ae.Bd)())throw je.create("invalid-server-app-environment");let yt;void 0===qe.automaticDataCollectionEnabled&&(qe.automaticDataCollectionEnabled=!1),yt=jn(rt)?rt.options:rt;const tn=Object.assign(Object.assign({},qe),yt);if(void 0!==tn.releaseOnDeref&&delete tn.releaseOnDeref,void 0!==qe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw je.create("finalization-registry-not-supported",{});const Mn=""+(Mr=JSON.stringify(tn),[...Mr].reduce((li,dr)=>Math.imul(31,li)+dr.charCodeAt(0)|0,0)),wn=vr.get(Mn);var Mr;if(wn)return wn.incRefCount(qe.releaseOnDeref),wn;const Wn=new le.h1(Mn);for(const Mr of Zr.values())Wn.addComponent(Mr);const Gn=new se(yt,qe,Mn,Wn);return vr.set(Mn,Gn),Gn}function Tn(rt=Cn){const qe=ur.get(rt);if(!qe&&rt===Cn&&(0,Ae.T9)())return st();if(!qe)throw je.create("no-app",{appName:rt});return qe}function Sr(){return Array.from(ur.values())}function nr(rt){return Me.apply(this,arguments)}function Me(){return(Me=(0,l.A)(function*(rt){let qe=!1;const yt=rt.name;ur.has(yt)?(qe=!0,ur.delete(yt)):vr.has(yt)&&rt.decRefCount()<=0&&(vr.delete(yt),qe=!0),qe&&(yield Promise.all(rt.container.getProviders().map(tn=>tn.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function ee(rt,qe,yt){var tn;let bn=null!==(tn=mn[rt])&&void 0!==tn?tn:rt;yt&&(bn+=`-${yt}`);const Mn=bn.match(/\s|\//),wn=qe.match(/\s|\//);if(Mn||wn){const Wn=[`Unable to register library "${bn}" with version "${qe}":`];return Mn&&Wn.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Mn&&wn&&Wn.push("and"),wn&&Wn.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void Vt.warn(Wn.join(" "))}Ji(new le.uA(`${bn}-version`,()=>({library:bn,version:qe}),"VERSION"))}function H(rt,qe){if(null!==rt&&"function"!=typeof rt)throw je.create("invalid-log-argument");(0,g.Ey)(rt,qe)}function V(rt){(0,g.He)(rt)}const F="firebase-heartbeat-database",ce=1,Ne="firebase-heartbeat-store";let pt=null;function At(){return pt||(pt=function ze(rt,qe,{blocked:yt,upgrade:tn,blocking:bn,terminated:Mn}={}){const wn=indexedDB.open(rt,qe),Wn=Ue(wn);return tn&&wn.addEventListener("upgradeneeded",Gn=>{tn(Ue(wn.result),Gn.oldVersion,Gn.newVersion,Ue(wn.transaction),Gn)}),yt&&wn.addEventListener("blocked",Gn=>yt(Gn.oldVersion,Gn.newVersion,Gn)),Wn.then(Gn=>{Mn&&Gn.addEventListener("close",()=>Mn()),bn&&Gn.addEventListener("versionchange",Mr=>bn(Mr.oldVersion,Mr.newVersion,Mr))}).catch(()=>{}),Wn}(F,ce,{upgrade:(rt,qe)=>{if(0===qe)try{rt.createObjectStore(Ne)}catch(yt){console.warn(yt)}}}).catch(rt=>{throw je.create("idb-open",{originalErrorMessage:rt.message})})),pt}function Kt(){return(Kt=(0,l.A)(function*(rt){try{const yt=(yield At()).transaction(Ne),tn=yield yt.objectStore(Ne).get(vn(rt));return yield yt.done,tn}catch(qe){if(qe instanceof Ae.g)Vt.warn(qe.message);else{const yt=je.create("idb-get",{originalErrorMessage:qe?.message});Vt.warn(yt.message)}}})).apply(this,arguments)}function Jt(rt,qe){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.A)(function*(rt,qe){try{const tn=(yield At()).transaction(Ne,"readwrite");yield tn.objectStore(Ne).put(qe,vn(rt)),yield tn.done}catch(yt){if(yt instanceof Ae.g)Vt.warn(yt.message);else{const tn=je.create("idb-set",{originalErrorMessage:yt?.message});Vt.warn(tn.message)}}})).apply(this,arguments)}function vn(rt){return`${rt.name}!${rt.options.appId}`}class Us{constructor(qe){this.container=qe,this._heartbeatsCache=null;const yt=this.container.getProvider("app").getImmediate();this._storage=new ls(yt),this._heartbeatsCachePromise=this._storage.read().then(tn=>(this._heartbeatsCache=tn,tn))}triggerHeartbeat(){var qe=this;return(0,l.A)(function*(){var yt,tn;const Mn=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wn=Xr();if((null!=(null===(yt=qe._heartbeatsCache)||void 0===yt?void 0:yt.heartbeats)||(qe._heartbeatsCache=yield qe._heartbeatsCachePromise,null!=(null===(tn=qe._heartbeatsCache)||void 0===tn?void 0:tn.heartbeats)))&&qe._heartbeatsCache.lastSentHeartbeatDate!==wn&&!qe._heartbeatsCache.heartbeats.some(Wn=>Wn.date===wn))return qe._heartbeatsCache.heartbeats.push({date:wn,agent:Mn}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(Wn=>{const Gn=new Date(Wn.date).valueOf();return Date.now()-Gn<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,l.A)(function*(){var yt;if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null==(null===(yt=qe._heartbeatsCache)||void 0===yt?void 0:yt.heartbeats)||0===qe._heartbeatsCache.heartbeats.length)return"";const tn=Xr(),{heartbeatsToSend:bn,unsentEntries:Mn}=function zi(rt,qe=1024){const yt=[];let tn=rt.slice();for(const bn of rt){const Mn=yt.find(wn=>wn.agent===bn.agent);if(Mn){if(Mn.dates.push(bn.date),ni(yt)>qe){Mn.dates.pop();break}}else if(yt.push({agent:bn.agent,dates:[bn.date]}),ni(yt)>qe){yt.pop();break}tn=tn.slice(1)}return{heartbeatsToSend:yt,unsentEntries:tn}}(qe._heartbeatsCache.heartbeats),wn=(0,Ae.Uj)(JSON.stringify({version:2,heartbeats:bn}));return qe._heartbeatsCache.lastSentHeartbeatDate=tn,Mn.length>0?(qe._heartbeatsCache.heartbeats=Mn,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),wn})()}}function Xr(){return(new Date).toISOString().substring(0,10)}class ls{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,Ae.zW)()&&(0,Ae.eX)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,l.A)(function*(){if(yield qe._canUseIndexedDBPromise){const tn=yield function on(rt){return Kt.apply(this,arguments)}(qe.app);return tn?.heartbeats?tn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(qe){var yt=this;return(0,l.A)(function*(){var tn;if(yield yt._canUseIndexedDBPromise){const Mn=yield yt.read();return Jt(yt.app,{lastSentHeartbeatDate:null!==(tn=qe.lastSentHeartbeatDate)&&void 0!==tn?tn:Mn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var yt=this;return(0,l.A)(function*(){var tn;if(yield yt._canUseIndexedDBPromise){const Mn=yield yt.read();return Jt(yt.app,{lastSentHeartbeatDate:null!==(tn=qe.lastSentHeartbeatDate)&&void 0!==tn?tn:Mn.lastSentHeartbeatDate,heartbeats:[...Mn.heartbeats,...qe.heartbeats]})}})()}}function ni(rt){return(0,Ae.Uj)(JSON.stringify({version:2,heartbeats:rt})).length}!function Zn(rt){Ji(new le.uA("platform-logger",qe=>new en(qe),"PRIVATE")),Ji(new le.uA("heartbeat",qe=>new Us(qe),"PRIVATE")),ee(Et,Mt,rt),ee(Et,Mt,"esm2017"),ee("fire-js","")}("")},1362:(Zt,Qe,B)=>{B.d(Qe,{h1:()=>Fe,uA:()=>g});var l=B(467),le=B(1076);class g{constructor(ae,de,Re){this.name=ae,this.instanceFactory=de,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const Ae="[DEFAULT]";class ye{constructor(ae,de){this.name=ae,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const de=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(de)){const Re=new le.cY;if(this.instancesDeferred.set(de,Re),this.isInitialized(de)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:de});ut&&Re.resolve(ut)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ae){var de;const Re=this.normalizeInstanceIdentifier(ae?.identifier),ut=null!==(de=ae?.optional)&&void 0!==de&&de;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(We){if(ut)return null;throw We}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Ve(Be){return"EAGER"===Be.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch{}for(const[de,Re]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(de);try{const We=this.getOrInitializeService({instanceIdentifier:ut});Re.resolve(We)}catch{}}}}clearInstance(ae=Ae){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,l.A)(function*(){const de=Array.from(ae.instances.values());yield Promise.all([...de.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...de.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=Ae){return this.instances.has(ae)}getOptions(ae=Ae){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:de={}}=ae,Re=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:Re,options:de});for(const[We,It]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(We)&&It.resolve(ut);return ut}onInit(ae,de){var Re;const ut=this.normalizeInstanceIdentifier(de),We=null!==(Re=this.onInitCallbacks.get(ut))&&void 0!==Re?Re:new Set;We.add(ae),this.onInitCallbacks.set(ut,We);const It=this.instances.get(ut);return It&&ae(It,ut),()=>{We.delete(ae)}}invokeOnInitCallbacks(ae,de){const Re=this.onInitCallbacks.get(de);if(Re)for(const ut of Re)try{ut(ae,de)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:de={}}){let Re=this.instances.get(ae);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=ae,Be===Ae?void 0:Be),options:de}),this.instances.set(ae,Re),this.instancesOptions.set(ae,de),this.invokeOnInitCallbacks(Re,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Re)}catch{}var Be;return Re||null}normalizeInstanceIdentifier(ae=Ae){return this.component?this.component.multipleInstances?ae:Ae:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const de=this.getProvider(ae.name);if(de.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);de.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const de=new ye(ae,this);return this.providers.set(ae,de),de}getProviders(){return Array.from(this.providers.values())}}},8041:(Zt,Qe,B)=>{B.d(Qe,{$b:()=>le,Ey:()=>Be,He:()=>Fe,Vy:()=>Ve});const l=[];var le=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}(le||{});const g={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},Ae=le.INFO,ye={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Se=(ae,de,...Re)=>{if(de<ae.logLevel)return;const ut=(new Date).toISOString(),We=ye[de];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[We](`[${ut}]  ${ae.name}:`,...Re)};class Ve{constructor(de){this.name=de,this._logLevel=Ae,this._logHandler=Se,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in le))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?g[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...de),this._logHandler(this,le.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...de),this._logHandler(this,le.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,le.INFO,...de),this._logHandler(this,le.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,le.WARN,...de),this._logHandler(this,le.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...de),this._logHandler(this,le.ERROR,...de)}}function Fe(ae){l.forEach(de=>{de.setLogLevel(ae)})}function Be(ae,de){for(const Re of l){let ut=null;de&&de.level&&(ut=g[de.level]),Re.userLogHandler=null===ae?null:(We,It,...gt)=>{const kt=gt.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");It>=(ut??We.logLevel)&&ae({level:le[It].toLowerCase(),message:kt,args:gt,type:We.name})}}}},2214:(Zt,Qe,B)=>{B.d(Qe,{Dk:()=>l.getApps,KO:()=>l.registerVersion,Sx:()=>l.getApp,Wp:()=>l.initializeApp});var l=B(7852);(0,l.registerVersion)("firebase","10.12.2","app")},7935:(Zt,Qe,B)=>{B.d(Qe,{A:()=>l.A});var l=B(3345);l.A.registerVersion("firebase","10.12.2","app-compat")},2438:(Zt,Qe,B)=>{var l=B(467),le=B(3345),g=B(4033),Ae=B(1076),Ve=(B(7852),B(8041),B(1362));function Fe(){return window}function de(){return de=(0,l.A)(function*(H,V,F){var ce;const{BuildInfo:Ne}=Fe();(0,g.au)(V.sessionId,"AuthEvent did not contain a session ID");const pt=yield function bt(H){return Xt.apply(this,arguments)}(V.sessionId),At={};return(0,g.av)()?At.ibi=Ne.packageName:(0,g.aw)()?At.apn=Ne.packageName:(0,g.ax)(H,"operation-not-supported-in-this-environment"),Ne.displayName&&(At.appDisplayName=Ne.displayName),At.sessionId=pt,(0,g.ay)(H,F,V.type,void 0,null!==(ce=V.eventId)&&void 0!==ce?ce:void 0,At)}),de.apply(this,arguments)}function ut(){return(ut=(0,l.A)(function*(H){const{BuildInfo:V}=Fe(),F={};(0,g.av)()?F.iosBundleId=V.packageName:(0,g.aw)()?F.androidPackageName=V.packageName:(0,g.ax)(H,"operation-not-supported-in-this-environment"),yield(0,g.az)(H,F)})).apply(this,arguments)}function gt(){return(gt=(0,l.A)(function*(H,V,F){const{cordova:ce}=Fe();let Ne=()=>{};try{yield new Promise((pt,At)=>{let on=null;function Kt(){var vn;pt();const ci=null===(vn=ce.plugins.browsertab)||void 0===vn?void 0:vn.close;"function"==typeof ci&&ci(),"function"==typeof F?.close&&F.close()}function Jt(){on||(on=window.setTimeout(()=>{At((0,g.aB)(H,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===document?.visibilityState&&Jt()}V.addPassiveListener(Kt),document.addEventListener("resume",Jt,!1),(0,g.aw)()&&document.addEventListener("visibilitychange",Jn,!1),Ne=()=>{V.removePassiveListener(Kt),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",Jn,!1),on&&window.clearTimeout(on)}})}finally{Ne()}})).apply(this,arguments)}function Xt(){return(Xt=(0,l.A)(function*(H){const V=function Ke(H){if((0,g.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const V=new ArrayBuffer(H.length),F=new Uint8Array(V);for(let ce=0;ce<H.length;ce++)F[ce]=H.charCodeAt(ce);return F}(H),F=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(F)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Je extends g.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(V)),super.onEvent(V)}initialized(){var V=this;return(0,l.A)(function*(){yield V.initPromise})()}}function mt(H){return St.apply(this,arguments)}function St(){return(St=(0,l.A)(function*(H){const V=yield en()._get(zn(H));return V&&(yield en()._remove(zn(H))),V})).apply(this,arguments)}function jt(){const H=[];for(let F=0;F<20;F++){const ce=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ce))}return H.join("")}function en(){return(0,g.aE)(g.b)}function zn(H){return(0,g.aF)("authEvent",H.config.apiKey,H.name)}function Vt(H){if(!H?.includes("?"))return{};const[V,...F]=H.split("?");return(0,Ae.I9)(F.join("?"))}const ue=class fe{constructor(){this._redirectPersistence=g.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=g.aG,this._overrideRedirectResult=g.aH}_initialize(V){var F=this;return(0,l.A)(function*(){const ce=V._key();let Ne=F.eventManagers.get(ce);return Ne||(Ne=new Je(V),F.eventManagers.set(ce,Ne),F.attachCallbackListeners(V,Ne)),Ne})()}_openPopup(V){(0,g.ax)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,F,ce,Ne){var pt=this;return(0,l.A)(function*(){!function kt(H){var V,F,ce,Ne,pt,At,on,Kt,Jt,Jn;const vn=Fe();(0,g.aC)("function"==typeof(null===(V=vn?.universalLinks)||void 0===V?void 0:V.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,g.aC)(typeof(null===(F=vn?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,g.aC)("function"==typeof(null===(pt=null===(Ne=null===(ce=vn?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===pt?void 0:pt.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aC)("function"==typeof(null===(Kt=null===(on=null===(At=vn?.cordova)||void 0===At?void 0:At.plugins)||void 0===on?void 0:on.browsertab)||void 0===Kt?void 0:Kt.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aC)("function"==typeof(null===(Jn=null===(Jt=vn?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===Jn?void 0:Jn.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const At=yield pt._initialize(V);yield At.initialized(),At.resetRedirect(),(0,g.aI)(),yield pt._originValidation(V);const on=function ze(H,V,F=null){return{type:V,eventId:F,urlResponse:null,sessionId:jt(),postBody:null,tenantId:H.tenantId,error:(0,g.aB)(H,"no-auth-event")}}(V,ce,Ne);yield function Xe(H,V){return en()._set(zn(H),V)}(V,on);const Kt=yield function ae(H,V,F){return de.apply(this,arguments)}(V,on,F),Jt=yield function We(H){const{cordova:V}=Fe();return new Promise(F=>{V.plugins.browsertab.isAvailable(ce=>{let Ne=null;ce?V.plugins.browsertab.openUrl(H):Ne=V.InAppBrowser.open(H,(0,g.aA)()?"_blank":"_system","location=yes"),F(Ne)})})}(Kt);return function It(H,V,F){return gt.apply(this,arguments)}(V,At,Jt)})()}_isIframeWebStorageSupported(V,F){throw new Error("Method not implemented.")}_originValidation(V){const F=V._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function Re(H){return ut.apply(this,arguments)}(V)),this.originValidationPromises[F]}attachCallbackListeners(V,F){const{universalLinks:ce,handleOpenURL:Ne,BuildInfo:pt}=Fe(),At=setTimeout((0,l.A)(function*(){yield mt(V),F.onEvent(ge())}),500),on=function(){var Jn=(0,l.A)(function*(vn){clearTimeout(At);const ci=yield mt(V);let kr=null;ci&&vn?.url&&(kr=function Ie(H,V){var F,ce;const Ne=function Mt(H){const V=Vt(H),F=V.link?decodeURIComponent(V.link):void 0,ce=Vt(F).link,Ne=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Vt(Ne).link||Ne||ce||F||H}(V);if(Ne.includes("/__/auth/callback")){const pt=Vt(Ne),At=pt.firebaseError?function Et(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(pt.firebaseError)):null,on=null===(ce=null===(F=At?.code)||void 0===F?void 0:F.split("auth/"))||void 0===ce?void 0:ce[1],Kt=on?(0,g.aB)(on):null;return Kt?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:Ne,postBody:null}}return null}(ci,vn.url)),F.onEvent(kr||ge())});return function(ci){return Jn.apply(this,arguments)}}();typeof ce<"u"&&"function"==typeof ce.subscribe&&ce.subscribe(null,on);const Kt=Ne,Jt=`${pt.packageName.toLowerCase()}://`;Fe().handleOpenURL=function(){var Jn=(0,l.A)(function*(vn){if(vn.toLowerCase().startsWith(Jt)&&on({url:vn}),"function"==typeof Kt)try{Kt(vn)}catch(ci){console.error(ci)}});return function(vn){return Jn.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,g.aB)("no-auth-event")}}function ht(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function rn(H=(0,Ae.ZQ)()){return!("file:"!==ht()&&"ionic:"!==ht()&&"capacitor:"!==ht()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ft(){try{const H=self.localStorage,V=g.aN();if(H)return H.setItem(V,"1"),H.removeItem(V),!function ar(H=(0,Ae.ZQ)()){return function Pn(){return(0,Ae.lT)()&&11===document?.documentMode}()||function gn(H=(0,Ae.ZQ)()){return/Edge\/\d+/.test(H)}(H)}()||(0,Ae.zW)()}catch{return _n()&&(0,Ae.zW)()}return!1}function _n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function _t(){return"http:"===ht()||"https:"===ht()}()||(0,Ae.sr)()||rn())&&!function qt(){return(0,Ae.lV)()||(0,Ae.Ll)()}()&&Ft()&&!_n()}function Lt(){return rn()&&typeof document<"u"}function Br(){return(Br=(0,l.A)(function*(){return!!Lt()&&new Promise(H=>{const V=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),H(!0)})})})).apply(this,arguments)}const pr={LOCAL:"local",NONE:"none",SESSION:"session"},Bn=g.aC,Ot="persistence";function Cn(H){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.A)(function*(H){yield H._initializationPromise;const V=vr(),F=g.aF(Ot,H.config.apiKey,H.name);V&&V.setItem(F,H._getPersistence())})).apply(this,arguments)}function vr(){var H;try{return(null===(H=function sn(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const Zr=g.aC;class xn{constructor(){this.browserResolver=g.aE(g.k),this.cordovaResolver=g.aE(ue),this.underlyingResolver=null,this._redirectPersistence=g.a,this._completeRedirectFn=g.aG,this._overrideRedirectResult=g.aH}_initialize(V){var F=this;return(0,l.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,F,ce,Ne){var pt=this;return(0,l.A)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(V,F,ce,Ne)})()}_openRedirect(V,F,ce,Ne){var pt=this;return(0,l.A)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(V,F,ce,Ne)})()}_isIframeWebStorageSupported(V,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,F)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Lt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,l.A)(function*(){if(V.underlyingResolver)return;const F=yield function Pt(){return Br.apply(this,arguments)}();V.underlyingResolver=F?V.cordovaResolver:V.browserResolver})()}}function ei(H){return H.unwrap()}function Yt(H){return jn(H)}function jn(H){const{_tokenResponse:V}=H instanceof Ae.g?H.customData:H;if(!V)return null;if(!(H instanceof Ae.g)&&"temporaryProof"in V&&"phoneNumber"in V)return g.P.credentialFromResult(H);const F=V.providerId;if(!F||F===g.p.PASSWORD)return null;let ce;switch(F){case g.p.GOOGLE:ce=g.X;break;case g.p.FACEBOOK:ce=g.W;break;case g.p.GITHUB:ce=g.Y;break;case g.p.TWITTER:ce=g.$;break;default:const{oauthIdToken:Ne,oauthAccessToken:pt,oauthTokenSecret:At,pendingToken:on,nonce:Kt}=V;return pt||At||Ne||on?on?F.startsWith("saml.")?g.aQ._create(F,on):g.N._fromParams({providerId:F,signInMethod:F,pendingToken:on,idToken:Ne,accessToken:pt}):new g.Z(F).credential({idToken:Ne,accessToken:pt,rawNonce:Kt}):null}return H instanceof Ae.g?ce.credentialFromError(H):ce.credentialFromResult(H)}function lr(H,V){return V.catch(F=>{throw F instanceof Ae.g&&function ti(H,V){var F;const ce=null===(F=V.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new je(H,g.as(H,V));else if(ce){const Ne=jn(V),pt=V;Ne&&(pt.credential=Ne,pt.tenantId=ce.tenantId||void 0,pt.email=ce.email||void 0,pt.phoneNumber=ce.phoneNumber||void 0)}}(H,F),F}).then(F=>{const Ne=F.user;return{operationType:F.operationType,credential:Yt(F),additionalUserInfo:g.aq(F),user:ct.getOrCreate(Ne)}})}function Dn(H,V){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.A)(function*(H,V){const F=yield V;return{verificationId:F.verificationId,confirm:ce=>lr(H,F.confirm(ce))}})).apply(this,arguments)}class je{constructor(V,F){this.resolver=F,this.auth=function Ji(H){return H.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return lr(ei(this.auth),this.resolver.resolveSignIn(V))}}class ct{constructor(V){this._delegate=V,this.multiFactor=g.at(V)}static getOrCreate(V){return ct.USER_MAP.has(V)||ct.USER_MAP.set(V,new ct(V)),ct.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var F=this;return(0,l.A)(function*(){return lr(F.auth,g.a2(F._delegate,V))})()}linkWithPhoneNumber(V,F){var ce=this;return(0,l.A)(function*(){return Dn(ce.auth,g.l(ce._delegate,V,F))})()}linkWithPopup(V){var F=this;return(0,l.A)(function*(){return lr(F.auth,g.d(F._delegate,V,xn))})()}linkWithRedirect(V){var F=this;return(0,l.A)(function*(){return yield Cn(g.aJ(F.auth)),g.g(F._delegate,V,xn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var F=this;return(0,l.A)(function*(){return lr(F.auth,g.a3(F._delegate,V))})()}reauthenticateWithPhoneNumber(V,F){return Dn(this.auth,g.r(this._delegate,V,F))}reauthenticateWithPopup(V){return lr(this.auth,g.e(this._delegate,V,xn))}reauthenticateWithRedirect(V){var F=this;return(0,l.A)(function*(){return yield Cn(g.aJ(F.auth)),g.h(F._delegate,V,xn)})()}sendEmailVerification(V){return g.ag(this._delegate,V)}unlink(V){var F=this;return(0,l.A)(function*(){return yield g.ap(F._delegate,V),F})()}updateEmail(V){return g.al(this._delegate,V)}updatePassword(V){return g.am(this._delegate,V)}updatePhoneNumber(V){return g.u(this._delegate,V)}updateProfile(V){return g.ak(this._delegate,V)}verifyBeforeUpdateEmail(V,F){return g.ah(this._delegate,V,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ct.USER_MAP=new WeakMap;const se=g.aC;let be=(()=>{class H{constructor(F,ce){if(this.app=F,ce.isInitialized())return this._delegate=ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=F.options;se(Ne,"invalid-api-key",{appName:F.name}),se(Ne,"invalid-api-key",{appName:F.name});const pt=typeof window<"u"?xn:void 0;this._delegate=ce.initialize({options:{persistence:Ut(Ne,F.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(g.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ct.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ce){g.K(this._delegate,F,ce)}applyActionCode(F){return g.a7(this._delegate,F)}checkActionCode(F){return g.a8(this._delegate,F)}confirmPasswordReset(F,ce){return g.a6(this._delegate,F,ce)}createUserWithEmailAndPassword(F,ce){var Ne=this;return(0,l.A)(function*(){return lr(Ne._delegate,g.aa(Ne._delegate,F,ce))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return g.af(this._delegate,F)}isSignInWithEmailLink(F){return g.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,l.A)(function*(){se(On(),F._delegate,"operation-not-supported-in-this-environment");const ce=yield g.j(F._delegate,xn);return ce?lr(F._delegate,Promise.resolve(ce)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function De(H,V){(0,g.aJ)(H)._logFramework(V)}(this._delegate,F)}onAuthStateChanged(F,ce,Ne){const{next:pt,error:At,complete:on}=st(F,ce,Ne);return this._delegate.onAuthStateChanged(pt,At,on)}onIdTokenChanged(F,ce,Ne){const{next:pt,error:At,complete:on}=st(F,ce,Ne);return this._delegate.onIdTokenChanged(pt,At,on)}sendSignInLinkToEmail(F,ce){return g.ac(this._delegate,F,ce)}sendPasswordResetEmail(F,ce){return g.a5(this._delegate,F,ce||void 0)}setPersistence(F){var ce=this;return(0,l.A)(function*(){let Ne;switch(function un(H,V){Bn(Object.values(pr).includes(V),H,"invalid-persistence-type"),(0,Ae.lV)()?Bn(V!==pr.SESSION,H,"unsupported-persistence-type"):(0,Ae.Ll)()?Bn(V===pr.NONE,H,"unsupported-persistence-type"):_n()?Bn(V===pr.NONE||V===pr.LOCAL&&(0,Ae.zW)(),H,"unsupported-persistence-type"):Bn(V===pr.NONE||Ft(),H,"unsupported-persistence-type")}(ce._delegate,F),F){case pr.SESSION:Ne=g.a;break;case pr.LOCAL:Ne=(yield g.aE(g.i)._isAvailable())?g.i:g.b;break;case pr.NONE:Ne=g.U;break;default:return g.ax("argument-error",{appName:ce._delegate.name})}return ce._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return lr(this._delegate,g.a0(this._delegate))}signInWithCredential(F){return lr(this._delegate,g.a1(this._delegate,F))}signInWithCustomToken(F){return lr(this._delegate,g.a4(this._delegate,F))}signInWithEmailAndPassword(F,ce){return lr(this._delegate,g.ab(this._delegate,F,ce))}signInWithEmailLink(F,ce){return lr(this._delegate,g.ae(this._delegate,F,ce))}signInWithPhoneNumber(F,ce){return Dn(this._delegate,g.s(this._delegate,F,ce))}signInWithPopup(F){var ce=this;return(0,l.A)(function*(){return se(On(),ce._delegate,"operation-not-supported-in-this-environment"),lr(ce._delegate,g.c(ce._delegate,F,xn))})()}signInWithRedirect(F){var ce=this;return(0,l.A)(function*(){return se(On(),ce._delegate,"operation-not-supported-in-this-environment"),yield Cn(ce._delegate),g.f(ce._delegate,F,xn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return g.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=pr,H})();function st(H,V,F){let ce=H;"function"!=typeof H&&({next:ce,error:V,complete:F}=H);const Ne=ce;return{next:At=>Ne(At&&ct.getOrCreate(At)),error:V,complete:F}}function Ut(H,V){const F=function ur(H,V){const F=vr();if(!F)return[];const ce=g.aF(Ot,H,V);switch(F.getItem(ce)){case pr.NONE:return[g.U];case pr.LOCAL:return[g.i,g.a];case pr.SESSION:return[g.a];default:return[]}}(H,V);if(typeof self<"u"&&!F.includes(g.i)&&F.push(g.i),typeof window<"u")for(const ce of[g.b,g.a])F.includes(ce)||F.push(ce);return F.includes(g.U)||F.push(g.U),F}class Tn{constructor(){this.providerId="phone",this._delegate=new g.P(ei(le.A.auth()))}static credential(V,F){return g.P.credential(V,F)}verifyPhoneNumber(V,F){return this._delegate.verifyPhoneNumber(V,F)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=g.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=g.P.PROVIDER_ID;const Sr=g.aC;class nr{constructor(V,F,ce=le.A.app()){var Ne;Sr(null===(Ne=ce.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:ce.name}),this._delegate=new g.R(ce.auth(),V,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ee(H){H.INTERNAL.registerComponent(new Ve.uA("auth-compat",V=>{const F=V.getProvider("app-compat").getImmediate(),ce=V.getProvider("auth");return new be(F,ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:g.A.EMAIL_SIGNIN,PASSWORD_RESET:g.A.PASSWORD_RESET,RECOVER_EMAIL:g.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:g.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:g.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:g.A.VERIFY_EMAIL}},EmailAuthProvider:g.V,FacebookAuthProvider:g.W,GithubAuthProvider:g.Y,GoogleAuthProvider:g.X,OAuthProvider:g.Z,SAMLAuthProvider:g._,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:g.m,RecaptchaVerifier:nr,TwitterAuthProvider:g.$,Auth:be,AuthCredential:g.L,Error:Ae.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.9")}(le.A)},467:(Zt,Qe,B)=>{function l(g,Ae,ye,Se,Ve,Fe,Be){try{var ae=g[Fe](Be),de=ae.value}catch(Re){return void ye(Re)}ae.done?Ae(de):Promise.resolve(de).then(Se,Ve)}function le(g){return function(){var Ae=this,ye=arguments;return new Promise(function(Se,Ve){var Fe=g.apply(Ae,ye);function Be(de){l(Fe,Se,Ve,Be,ae,"next",de)}function ae(de){l(Fe,Se,Ve,Be,ae,"throw",de)}Be(void 0)})}}B.d(Qe,{A:()=>le})},1635:(Zt,Qe,B)=>{function Ae(ue,ge){var De={};for(var pe in ue)Object.prototype.hasOwnProperty.call(ue,pe)&&ge.indexOf(pe)<0&&(De[pe]=ue[pe]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(pe=Object.getOwnPropertySymbols(ue);Te<pe.length;Te++)ge.indexOf(pe[Te])<0&&Object.prototype.propertyIsEnumerable.call(ue,pe[Te])&&(De[pe[Te]]=ue[pe[Te]])}return De}function Re(ue,ge,De,pe){return new(De||(De=Promise))(function(Le,ht){function _t(Pn){try{qt(pe.next(Pn))}catch(gn){ht(gn)}}function rn(Pn){try{qt(pe.throw(Pn))}catch(gn){ht(gn)}}function qt(Pn){Pn.done?Le(Pn.value):function Te(Le){return Le instanceof De?Le:new De(function(ht){ht(Le)})}(Pn.value).then(_t,rn)}qt((pe=pe.apply(ue,ge||[])).next())})}function Ue(ue){return this instanceof Ue?(this.v=ue,this):new Ue(ue)}function Je(ue,ge,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,pe=De.apply(ue,ge||[]),Le=[];return Te={},_t("next"),_t("throw"),_t("return",function ht(Ft){return function(_n){return Promise.resolve(_n).then(Ft,gn)}}),Te[Symbol.asyncIterator]=function(){return this},Te;function _t(Ft,_n){pe[Ft]&&(Te[Ft]=function(On){return new Promise(function(Lt,Pt){Le.push([Ft,On,Lt,Pt])>1||rn(Ft,On)})},_n&&(Te[Ft]=_n(Te[Ft])))}function rn(Ft,_n){try{!function qt(Ft){Ft.value instanceof Ue?Promise.resolve(Ft.value.v).then(Pn,gn):ar(Le[0][2],Ft)}(pe[Ft](_n))}catch(On){ar(Le[0][3],On)}}function Pn(Ft){rn("next",Ft)}function gn(Ft){rn("throw",Ft)}function ar(Ft,_n){Ft(_n),Le.shift(),Le.length&&rn(Le[0][0],Le[0][1])}}function Xe(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ge=ue[Symbol.asyncIterator];return ge?ge.call(ue):(ue=function gt(ue){var ge="function"==typeof Symbol&&Symbol.iterator,De=ge&&ue[ge],pe=0;if(De)return De.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&pe>=ue.length&&(ue=void 0),{value:ue&&ue[pe++],done:!ue}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),De={},pe("next"),pe("throw"),pe("return"),De[Symbol.asyncIterator]=function(){return this},De);function pe(Le){De[Le]=ue[Le]&&function(ht){return new Promise(function(_t,rn){!function Te(Le,ht,_t,rn){Promise.resolve(rn).then(function(qt){Le({value:qt,done:_t})},ht)}(_t,rn,(ht=ue[Le](ht)).done,ht.value)})}}}B.d(Qe,{AQ:()=>Je,N3:()=>Ue,Tt:()=>Ae,sH:()=>Re,xN:()=>Xe}),"function"==typeof SuppressedError&&SuppressedError}},Zt=>{Zt(Zt.s=4520)}]);