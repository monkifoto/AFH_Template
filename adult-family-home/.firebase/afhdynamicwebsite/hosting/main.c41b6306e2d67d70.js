"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[179],{35:(on,Xe,k)=>{k.d(Xe,{$:()=>Wo,A:()=>ie,G:()=>Ge,K:()=>Hi,L:()=>to,N:()=>Ee,P:()=>as,R:()=>qu,U:()=>nn,V:()=>Pi,W:()=>Tr,X:()=>Go,Y:()=>Mi,Z:()=>zr,_:()=>fo,a:()=>Ft,a0:()=>fs,a1:()=>ts,a2:()=>Co,a3:()=>yc,a4:()=>tu,a5:()=>Ma,a6:()=>qs,a7:()=>Uo,a8:()=>ca,a9:()=>da,aA:()=>Wn,aB:()=>Je,aC:()=>ge,aD:()=>Oc,aE:()=>pt,aF:()=>Zt,aG:()=>_d,aH:()=>wh,aI:()=>Ia,aJ:()=>lr,aN:()=>pa,aQ:()=>Zi,aa:()=>ha,ab:()=>vc,ac:()=>Bs,ad:()=>Bu,ae:()=>js,af:()=>b,ag:()=>N,ah:()=>_e,ak:()=>pr,al:()=>Pr,am:()=>or,ap:()=>U,aq:()=>Bo,as:()=>Cc,at:()=>Dc,au:()=>Jt,av:()=>Fr,aw:()=>Gr,ax:()=>Le,ay:()=>wa,az:()=>vd,b:()=>is,c:()=>lu,d:()=>Ih,e:()=>Hs,f:()=>Ca,g:()=>Th,h:()=>Mc,i:()=>S,j:()=>ip,k:()=>Td,l:()=>Ae,m:()=>El,p:()=>Fe,r:()=>zt,s:()=>he,u:()=>ro});var l=k(5861),y=k(534),z=k(9058),Ce=k(7879),me=k(7582),be=k(4537);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Mt=function gt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tt=new Ce.Yd("@firebase/auth");function We(v,...h){Tt.logLevel<=Ce.in.ERROR&&Tt.error(`Auth (${y.SDK_VERSION}): ${v}`,...h)}function Le(v,...h){throw St(v,...h)}function Je(v,...h){return St(v,...h)}function Ke(v,h,p){const w=Object.assign(Object.assign({},Mt()),{[h]:p});return new z.LL("auth","Firebase",w).create(h,{appName:v.name})}function Ye(v){return Ke(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _t(v,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Le(v,"argument-error"),Ke(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(v,...h){if("string"!=typeof v){const p=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(p,...w)}return yt.create(v,...h)}function ge(v,h,...p){if(!v)throw St(h,...p)}function Ht(v){const h="INTERNAL ASSERTION FAILED: "+v;throw We(h),new Error(h)}function Jt(v,h){v||Ht(h)}function xn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function It(){return"http:"===et()||"https:"===et()}function et(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ce{constructor(h,p){this.shortDelay=h,this.longDelay=p,Jt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function J(v,h){Jt(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class De{static initialize(h,p,w){this.fetchImpl=h,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new ce(3e4,6e4);function Ie(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function ke(v,h,p,w){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(v,h,p,w,H={}){return Et(v,H,(0,l.Z)(function*(){let re={},Ne={};w&&("GET"===h?Ne=w:re={body:JSON.stringify(w)});const ct=(0,z.xO)(Object.assign({key:v.config.apiKey},Ne)).slice(1),Lt=yield v._getAdditionalHeaders();return Lt["Content-Type"]="application/json",v.languageCode&&(Lt["X-Firebase-Locale"]=v.languageCode),De.fetch()(_n(v,v.config.apiHost,p,ct),Object.assign({method:h,headers:Lt,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function Et(v,h,p){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(v,h,p){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},ze),h);try{const H=new xt(v),re=yield Promise.race([p(),H.promise]);H.clearNetworkTimeout();const Ne=yield re.json();if("needConfirmation"in Ne)throw En(v,"account-exists-with-different-credential",Ne);if(re.ok&&!("errorMessage"in Ne))return Ne;{const ct=re.ok?Ne.errorMessage:Ne.error.message,[Lt,In]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Lt)throw En(v,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Lt)throw En(v,"email-already-in-use",Ne);if("USER_DISABLED"===Lt)throw En(v,"user-disabled",Ne);const Un=w[Lt]||Lt.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw Ke(v,Un,In);Le(v,Un)}}catch(H){if(H instanceof z.ZR)throw H;Le(v,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function qt(v,h,p,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(v,h,p,w,H={}){const re=yield ke(v,h,p,w,H);return"mfaPendingCredential"in re&&Le(v,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function _n(v,h,p,w){const H=`${h}${p}?${w}`;return v.config.emulator?J(v.config,H):`${v.config.apiScheme}://${H}`}function tr(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(Je(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(v,h,p){const w={appName:v.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const H=Je(v,h,w);return H.customData._tokenResponse=p,H}function On(v){return void 0!==v&&void 0!==v.getResponse}function Ut(v){return void 0!==v&&void 0!==v.enterprise}class Nt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return tr(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function tn(){return(tn=(0,l.Z)(function*(v){return(yield ke(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sr(v,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,h){return ke(v,"GET","/v2/recaptchaConfig",Ie(v,h))})).apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ir(v,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function xr(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ci(){return(Ci=(0,l.Z)(function*(v,h=!1){const p=(0,z.m9)(v),w=yield p.getIdToken(h),H=Nr(w);ge(H&&H.exp&&H.auth_time&&H.iat,p.auth,"internal-error");const re="object"==typeof H.firebase?H.firebase:void 0,Ne=re?.sign_in_provider;return{claims:H,token:w,authTime:xr(Xt(H.auth_time)),issuedAtTime:xr(Xt(H.iat)),expirationTime:xr(Xt(H.exp)),signInProvider:Ne||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function Xt(v){return 1e3*Number(v)}function Nr(v){const[h,p,w]=v.split(".");if(void 0===h||void 0===p||void 0===w)return We("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,z.tV)(p);return H?JSON.parse(H):(We("Failed to decode base64 JWT payload"),null)}catch(H){return We("Caught error parsing JWT payload as JSON",H?.toString()),null}}function $n(v){const h=Nr(v);return ge(h,"internal-error"),ge(typeof h.exp<"u","internal-error"),ge(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function nr(v,h){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(v,h,p=!1){if(p)return h;try{return yield h}catch(w){throw w instanceof z.ZR&&function di({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class Be{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const H=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),w)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class ft{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=xr(this.lastLoginAt),this.creationTime=xr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function X(v){return ye.apply(this,arguments)}function ye(){return(ye=(0,l.Z)(function*(v){var h;const p=v.auth,w=yield v.getIdToken(),H=yield nr(v,ir(p,{idToken:w}));ge(H?.users.length,p,"internal-error");const re=H.users[0];v._notifyReloadListener(re);const Ne=null!==(h=re.providerUserInfo)&&void 0!==h&&h.length?gr(re.providerUserInfo):[],ct=function Tn(v,h){return[...v.filter(w=>!h.some(H=>H.providerId===w.providerId)),...h]}(v.providerData,Ne),Un=!!v.isAnonymous&&!(v.email&&re.passwordHash||ct?.length),Mr={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:ct,metadata:new ft(re.createdAt,re.lastLoginAt),isAnonymous:Un};Object.assign(v,Mr)})).apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(v){const h=(0,z.m9)(v);yield X(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function gr(v){return v.map(h=>{var{providerId:p}=h,w=(0,me._T)(h,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function we(){return(we=(0,l.Z)(function*(v,h){const p=yield Et(v,{},(0,l.Z)(function*(){const w=(0,z.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:re}=v.config,Ne=_n(v,H,"/v1/token",`key=${re}`),ct=yield v._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",De.fetch()(Ne,{method:"POST",headers:ct,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(v,h){return ke(v,"POST","/v2/accounts:revokeToken",Ie(v,h))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ge(h.idToken,"internal-error"),ge(typeof h.idToken<"u","internal-error"),ge(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):$n(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){ge(0!==h.length,"internal-error");const p=$n(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var w=this;return(0,l.Z)(function*(){return p||!w.accessToken||w.isExpired?(ge(w.refreshToken,h,"user-token-expired"),w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var w=this;return(0,l.Z)(function*(){const{accessToken:H,refreshToken:re,expiresIn:Ne}=yield function Yn(v,h){return we.apply(this,arguments)}(h,p);w.updateTokensAndExpiration(H,re,Number(Ne))})()}updateTokensAndExpiration(h,p,w){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,p){const{refreshToken:w,accessToken:H,expirationTime:re}=p,Ne=new x;return w&&(ge("string"==typeof w,"internal-error",{appName:h}),Ne.refreshToken=w),H&&(ge("string"==typeof H,"internal-error",{appName:h}),Ne.accessToken=H),re&&(ge("number"==typeof re,"internal-error",{appName:h}),Ne.expirationTime=re),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function O(v,h){ge("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class ae{constructor(h){var{uid:p,auth:w,stsTokenManager:H}=h,re=(0,me._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new ft(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,l.Z)(function*(){const w=yield nr(p,p.stsTokenManager.getToken(p.auth,h));return ge(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(h){return function Or(v){return Ci.apply(this,arguments)}(this,h)}reload(){return function ht(v){return Bt.apply(this,arguments)}(this)}_assign(h){this!==h&&(ge(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new ae(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var w=this;return(0,l.Z)(function*(){let H=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),H=!0),p&&(yield X(w)),yield w.auth._persistUserIfCurrent(w),H&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,l.Z)(function*(){if((0,y._isFirebaseServerApp)(h.auth.app))return Promise.reject(Ye(h.auth));const p=yield h.getIdToken();return yield nr(h,function Ot(v,h){return cn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var w,H,re,Ne,ct,Lt,In,Un;const Mr=null!==(w=p.displayName)&&void 0!==w?w:void 0,_s=null!==(H=p.email)&&void 0!==H?H:void 0,za=null!==(re=p.phoneNumber)&&void 0!==re?re:void 0,Ga=null!==(Ne=p.photoURL)&&void 0!==Ne?Ne:void 0,nc=null!==(ct=p.tenantId)&&void 0!==ct?ct:void 0,Eu=null!==(Lt=p._redirectEventId)&&void 0!==Lt?Lt:void 0,Sd=null!==(In=p.createdAt)&&void 0!==In?In:void 0,Iu=null!==(Un=p.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:Cu,emailVerified:Pd,isAnonymous:kh,providerData:Cl,stsTokenManager:Md}=p;ge(Cu&&Md,h,"internal-error");const Wa=x.fromJSON(this.name,Md);ge("string"==typeof Cu,h,"internal-error"),O(Mr,h.name),O(_s,h.name),ge("boolean"==typeof Pd,h,"internal-error"),ge("boolean"==typeof kh,h,"internal-error"),O(za,h.name),O(Ga,h.name),O(nc,h.name),O(Eu,h.name),O(Sd,h.name),O(Iu,h.name);const wu=new ae({uid:Cu,auth:h,email:_s,emailVerified:Pd,displayName:Mr,isAnonymous:kh,photoURL:Ga,phoneNumber:za,tenantId:nc,stsTokenManager:Wa,createdAt:Sd,lastLoginAt:Iu});return Cl&&Array.isArray(Cl)&&(wu.providerData=Cl.map(wl=>Object.assign({},wl))),Eu&&(wu._redirectEventId=Eu),wu}static _fromIdTokenResponse(h,p,w=!1){return(0,l.Z)(function*(){const H=new x;H.updateFromServerResponse(p);const re=new ae({uid:p.localId,auth:h,stsTokenManager:H,isAnonymous:w});return yield X(re),re})()}static _fromGetAccountInfoResponse(h,p,w){return(0,l.Z)(function*(){const H=p.users[0];ge(void 0!==H.localId,"internal-error");const re=void 0!==H.providerUserInfo?gr(H.providerUserInfo):[],Ne=!(H.email&&H.passwordHash||re?.length),ct=new x;ct.updateFromIdToken(w);const Lt=new ae({uid:H.localId,auth:h,stsTokenManager:ct,isAnonymous:Ne}),In={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:re,metadata:new ft(H.createdAt,H.lastLoginAt),isAnonymous:!(H.email&&H.passwordHash||re?.length)};return Object.assign(Lt,In),Lt})()}}const xe=new Map;function pt(v){Jt(v instanceof Function,"Expected a class definition");let h=xe.get(v);return h?(Jt(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,xe.set(v,h),h)}const nn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,w){var H=this;return(0,l.Z)(function*(){H.storage[p]=w})()}_get(p){var w=this;return(0,l.Z)(function*(){const H=w.storage[p];return void 0===H?null:H})()}_remove(p){var w=this;return(0,l.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return v.type="NONE",v})();function Zt(v,h,p){return`firebase:${v}:${h}:${p}`}class Qt{constructor(h,p,w){this.persistence=h,this.auth=p,this.userKey=w;const{config:H,name:re}=this.auth;this.fullUserKey=Zt(this.userKey,H.apiKey,re),this.fullPersistenceKey=Zt("persistence",H.apiKey,re),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?ae._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,l.Z)(function*(){if(p.persistence===h)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,w="authUser"){return(0,l.Z)(function*(){if(!p.length)return new Qt(pt(nn),h,w);const H=(yield Promise.all(p.map(function(){var In=(0,l.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return In.apply(this,arguments)}}()))).filter(In=>In);let re=H[0]||pt(nn);const Ne=Zt(w,h.config.apiKey,h.name);let ct=null;for(const In of p)try{const Un=yield In._get(Ne);if(Un){const Mr=ae._fromJSON(h,Un);In!==re&&(ct=Mr),re=In;break}}catch{}const Lt=H.filter(In=>In._shouldAllowMigration);return re._shouldAllowMigration&&Lt.length?(re=Lt[0],ct&&(yield re._set(Ne,ct.toJSON())),yield Promise.all(p.map(function(){var In=(0,l.Z)(function*(Un){if(Un!==re)try{yield Un._remove(Ne)}catch{}});return function(Un){return In.apply(this,arguments)}}())),new Qt(re,h,w)):new Qt(re,h,w)})()}}function Gn(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Di(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(vn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xi(h))return"Blackberry";if($i(h))return"Webos";if(Qn(h))return"Safari";if((h.includes("chrome/")||ki(h))&&!h.includes("edge/"))return"Chrome";if(Gr(h))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function vn(v=(0,z.z$)()){return/firefox\//i.test(v)}function Qn(v=(0,z.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ki(v=(0,z.z$)()){return/crios\//i.test(v)}function Di(v=(0,z.z$)()){return/iemobile/i.test(v)}function Gr(v=(0,z.z$)()){return/android/i.test(v)}function Xi(v=(0,z.z$)()){return/blackberry/i.test(v)}function $i(v=(0,z.z$)()){return/webos/i.test(v)}function Fr(v=(0,z.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Wn(v=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ct(v=(0,z.z$)()){return Fr(v)||Gr(v)||$i(v)||Xi(v)||/windows phone/i.test(v)||Di(v)}function bn(v,h=[]){let p;switch(v){case"Browser":p=Gn((0,z.z$)());break;case"Worker":p=`${Gn((0,z.z$)())}-${v}`;break;default:p=v}const w=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${y.SDK_VERSION}/${w}`}class Pn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const w=re=>new Promise((Ne,ct)=>{try{Ne(h(re))}catch(Lt){ct(Lt)}});w.onAbort=p,this.queue.push(w);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,l.Z)(function*(){if(p.auth.currentUser===h)return;const w=[];try{for(const H of p.queue)yield H(h),H.onAbort&&w.push(H.onAbort)}catch(H){w.reverse();for(const re of w)try{re()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function Er(){return(Er=(0,l.Z)(function*(v,h={}){return ke(v,"GET","/v2/passwordPolicy",Ie(v,h))})).apply(this,arguments)}class ci{constructor(h){var p,w,H,re;const Ne=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ne.minPasswordLength)&&void 0!==p?p:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(w=h.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(re=h.forceUpgradeOnSignin)&&void 0!==re&&re,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,w,H,re,Ne,ct;const Lt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Lt),this.validatePasswordCharacterOptions(h,Lt),Lt.isValid&&(Lt.isValid=null===(p=Lt.meetsMinPasswordLength)||void 0===p||p),Lt.isValid&&(Lt.isValid=null===(w=Lt.meetsMaxPasswordLength)||void 0===w||w),Lt.isValid&&(Lt.isValid=null===(H=Lt.containsLowercaseLetter)||void 0===H||H),Lt.isValid&&(Lt.isValid=null===(re=Lt.containsUppercaseLetter)||void 0===re||re),Lt.isValid&&(Lt.isValid=null===(Ne=Lt.containsNumericCharacter)||void 0===Ne||Ne),Lt.isValid&&(Lt.isValid=null===(ct=Lt.containsNonAlphanumericCharacter)||void 0===ct||ct),Lt}validatePasswordLengthOptions(h,p){const w=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;w&&(p.meetsMinPasswordLength=h.length>=w),H&&(p.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,p){let w;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let H=0;H<h.length;H++)w=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(p,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,p,w,H,re){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=re))}}class ho{constructor(h,p,w,H){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=w,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lo(this),this.idTokenSubscription=new Lo(this),this.beforeStateQueue=new Pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,p){var w=this;return p&&(this._popupRedirectResolver=pt(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var H,re;if(!w._deleted&&(w.persistenceManager=yield Qt.create(w,h),!w._deleted)){if(null!==(H=w._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(re=w.currentUser)||void 0===re?void 0:re.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,l.Z)(function*(){try{const w=yield ir(p,{idToken:h}),H=yield ae._fromGetAccountInfoResponse(p,w,h);yield p.directlySetCurrentUser(H)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,l.Z)(function*(){var w;if((0,y._isFirebaseServerApp)(p.app)){const ct=p.app.settings.authIdToken;return ct?new Promise(Lt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(ct).then(Lt,Lt))}):p.directlySetCurrentUser(null)}const H=yield p.assertedPersistence.getCurrentUser();let re=H,Ne=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ct=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,Lt=re?._redirectEventId,In=yield p.tryRedirectSignIn(h);(!ct||ct===Lt)&&In?.user&&(re=In.user,Ne=!0)}if(!re)return p.directlySetCurrentUser(null);if(!re._redirectEventId){if(Ne)try{yield p.beforeStateQueue.runMiddleware(re)}catch(ct){re=H,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ct))}return re?p.reloadAndSetCurrentUserOrClear(re):p.directlySetCurrentUser(null)}return ge(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===re._redirectEventId?p.directlySetCurrentUser(re):p.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(h){var p=this;return(0,l.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,l.Z)(function*(){try{yield X(h)}catch(w){if("auth/network-request-failed"!==w?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Pe(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,l.Z)(function*(){if((0,y._isFirebaseServerApp)(p.app))return Promise.reject(Ye(p));const w=h?(0,z.m9)(h):null;return w&&ge(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(h,p=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return h&&ge(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return(0,y._isFirebaseServerApp)(h.app)?Promise.reject(Ye(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,y._isFirebaseServerApp)(this.app)?Promise.reject(Ye(this)):this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(pt(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,l.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const w=p._getPasswordPolicyInternal();return w.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,l.Z)(function*(){const p=yield function dn(v){return Er.apply(this,arguments)}(h),w=new ci(p);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new z.LL("auth","Firebase",h())}onAuthStateChanged(h,p,w){return this.registerStateListener(this.authStateSubscription,h,p,w)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,w){return this.registerStateListener(this.idTokenSubscription,h,p,w)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,l.Z)(function*(){if(p.currentUser){const w=yield p.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:w};null!=p.tenantId&&(H.tenantId=p.tenantId),yield function Y(v,h){return V.apply(this,arguments)}(p,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var w=this;return(0,l.Z)(function*(){const H=yield w.getOrInitRedirectPersistenceManager(p);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const w=h&&pt(h)||p._popupRedirectResolver;ge(w,p,"argument-error"),p.redirectPersistenceManager=yield Qt.create(p,[pt(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,l.Z)(function*(){var w,H;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===h?p._currentUser:(null===(H=p.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,l.Z)(function*(){if(h===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,w,H){if(this._deleted)return()=>{};const re="function"==typeof p?p:p.next.bind(p);let Ne=!1;const ct=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(ct,this,"internal-error"),ct.then(()=>{Ne||re(this.currentUser)}),"function"==typeof p){const Lt=h.addObserver(p,w,H);return()=>{Ne=!0,Lt()}}{const Lt=h.addObserver(p);return()=>{Ne=!0,Lt()}}}directlySetCurrentUser(h){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var p;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();H&&(w["X-Firebase-Client"]=H);const re=yield h._getAppCheckToken();return re&&(w["X-Firebase-AppCheck"]=re),w})()}_getAppCheckToken(){var h=this;return(0,l.Z)(function*(){var p;const w=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return w?.error&&function sn(v,...h){Tt.logLevel<=Ce.in.WARN&&Tt.warn(`Auth (${y.SDK_VERSION}): ${v}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function lr(v){return(0,z.m9)(v)}class Lo{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,z.ne)(p=>this.observer=p)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let oi={loadJS:()=>(0,l.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wr(v){return oi.loadJS(v)}function mi(v){return`__${v}${Math.floor(1e6*Math.random())}`}class mr{constructor(h){this.type="recaptcha-enterprise",this.auth=lr(h)}verify(h="verify",p=!1){var w=this;return(0,l.Z)(function*(){function re(){return re=(0,l.Z)(function*(ct){if(!p){if(null==ct.tenantId&&null!=ct._agentRecaptchaConfig)return ct._agentRecaptchaConfig.siteKey;if(null!=ct.tenantId&&void 0!==ct._tenantRecaptchaConfigs[ct.tenantId])return ct._tenantRecaptchaConfigs[ct.tenantId].siteKey}return new Promise(function(){var Lt=(0,l.Z)(function*(In,Un){sr(ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mr=>{if(void 0!==Mr.recaptchaKey){const _s=new Nt(Mr);return null==ct.tenantId?ct._agentRecaptchaConfig=_s:ct._tenantRecaptchaConfigs[ct.tenantId]=_s,In(_s.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(Mr=>{Un(Mr)})});return function(In,Un){return Lt.apply(this,arguments)}}())}),re.apply(this,arguments)}function Ne(ct,Lt,In){const Un=window.grecaptcha;Ut(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(ct,{action:h}).then(Mr=>{Lt(Mr)}).catch(()=>{Lt("NO_RECAPTCHA")})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ct,Lt)=>{(function H(ct){return re.apply(this,arguments)})(w.auth).then(In=>{if(!p&&Ut(window.grecaptcha))Ne(In,ct,Lt);else{if(typeof window>"u")return void Lt(new Error("RecaptchaVerifier is only supported in browser"));let Un=function eo(){return oi.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=In),Wr(Un).then(()=>{Ne(In,ct,Lt)}).catch(Mr=>{Lt(Mr)})}}).catch(In=>{Lt(In)})})})()}}function _r(v,h,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(v,h,p,w=!1){const H=new mr(v);let re;try{re=yield H.verify(p)}catch{re=yield H.verify(p,!0)}const Ne=Object.assign({},h);return Object.assign(Ne,w?{captchaResp:re}:{captchaResponse:re}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function Ai(v,h,p,w){return _i.apply(this,arguments)}function _i(){return _i=(0,l.Z)(function*(v,h,p,w){var H;if(null!==(H=v._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const re=yield _r(v,h,p,"getOobCode"===p);return w(v,re)}return w(v,h).catch(function(){var re=(0,l.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ct=yield _r(v,h,p,"getOobCode"===p);return w(v,ct)}return Promise.reject(Ne)});return function(Ne){return re.apply(this,arguments)}}())}),_i.apply(this,arguments)}function Hi(v,h,p){const w=lr(v);ge(w._canInitEmulator,w,"emulator-config-failed"),ge(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const H=!!p?.disableWarnings,re=yr(h),{host:Ne,port:ct}=function Ir(v){const h=yr(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(w);if(H){const re=H[1];return{host:re,port:zi(w.substr(re.length+1))}}{const[re,Ne]=w.split(":");return{host:re,port:zi(Ne)}}}(h);w.config.emulator={url:`${re}//${Ne}${null===ct?"":`:${ct}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ne,port:ct,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Eo(){function v(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function yr(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function zi(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class to{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ht("not implemented")}_getIdTokenResponse(h){return Ht("not implemented")}_linkToIdToken(h,p){return Ht("not implemented")}_getReauthenticationResolver(h){return Ht("not implemented")}}function zo(v,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:resetPassword",Ie(v,h))})).apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Si(v,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:update",Ie(v,h))})).apply(this,arguments)}function Po(v,h){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPassword",Ie(v,h))})).apply(this,arguments)}function Li(v,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:sendOobCode",Ie(v,h))})).apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,h){return Li(v,h)})).apply(this,arguments)}function Jn(v,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(v,h){return Li(v,h)})).apply(this,arguments)}function Mo(v,h){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(v,h){return Li(v,h)})).apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(v,h){return Li(v,h)})).apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,h))})).apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,h))})).apply(this,arguments)}class Qr extends to{constructor(h,p,w,H=null){super("password",w),this._email=h,this._password=p,this._tenantId=H}static _fromEmailAndPassword(h,p){return new Qr(h,p,"password")}static _fromEmailAndCode(h,p,w=null){return new Qr(h,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,l.Z)(function*(){switch(p.signInMethod){case"password":return Ai(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Po);case"emailLink":return function Wi(v,h){return qi.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Le(h,"internal-error")}})()}_linkToIdToken(h,p){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Ai(h,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Si);case"emailLink":return function Vn(v,h){return Vi.apply(this,arguments)}(h,{idToken:p,email:w._email,oobCode:w._password});default:Le(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function q(v,h){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithIdp",Ie(v,h))})).apply(this,arguments)}class Ee extends to{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ee(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Le("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:H}=p,re=(0,me._T)(p,["providerId","signInMethod"]);if(!w||!H)return null;const Ne=new Ee(w,H);return Ne.idToken=re.idToken||void 0,Ne.accessToken=re.accessToken||void 0,Ne.secret=re.secret,Ne.nonce=re.nonce,Ne.pendingToken=re.pendingToken||null,Ne}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,q(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,z.xO)(p)}return h}}function mt(){return(mt=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:sendVerificationCode",Ie(v,h))})).apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,h))})).apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(v,h){const p=yield qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,h));if(p.temporaryProof)throw En(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Zn={USER_NOT_FOUND:"user-not-found"};function Jr(){return(Jr=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Zn)})).apply(this,arguments)}class Hr extends to{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Hr({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Hr({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Gt(v,h){return hn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Rt(v,h){return un.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function wn(v,h){return Jr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:w,verificationCode:H}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:w,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:w,phoneNumber:H,temporaryProof:re}=h;return w||p||H||re?new Hr({verificationId:p,verificationCode:w,phoneNumber:H,temporaryProof:re}):null}}class Lr{constructor(h){var p,w,H,re,Ne,ct;const Lt=(0,z.zd)((0,z.pd)(h)),In=null!==(p=Lt.apiKey)&&void 0!==p?p:null,Un=null!==(w=Lt.oobCode)&&void 0!==w?w:null,Mr=function Xr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Lt.mode)&&void 0!==H?H:null);ge(In&&Un&&Mr,"argument-error"),this.apiKey=In,this.operation=Mr,this.code=Un,this.continueUrl=null!==(re=Lt.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(Ne=Lt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(ct=Lt.tenantId)&&void 0!==ct?ct:null}static parseLink(h){const p=function Zr(v){const h=(0,z.zd)((0,z.pd)(v)).link,p=h?(0,z.zd)((0,z.pd)(h)).deep_link_id:null,w=(0,z.zd)((0,z.pd)(v)).deep_link_id;return(w?(0,z.zd)((0,z.pd)(w)).link:null)||w||p||h||v}(h);try{return new Lr(p)}catch{return null}}}let Pi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,w){return Qr._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const H=Lr.parseLink(w);return ge(H,"argument-error"),Qr._fromEmailAndCode(p,H.code,H.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Xn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ai extends Xn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class zr extends ai{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return ge("providerId"in p&&"signInMethod"in p,"argument-error"),Ee._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ge(h.idToken||h.accessToken,"argument-error"),Ee._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return zr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return zr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:H,pendingToken:re,nonce:Ne,providerId:ct}=h;if(!w&&!H&&!p&&!re||!ct)return null;try{return new zr(ct)._credential({idToken:p,accessToken:w,nonce:Ne,pendingToken:re})}catch{return null}}}let Tr=(()=>{class v extends ai{constructor(){super("facebook.com")}static credential(p){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Go=(()=>{class v extends ai{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:H}=p;if(!w&&!H)return null;try{return v.credential(w,H)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Mi=(()=>{class v extends ai{constructor(){super("github.com")}static credential(p){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Zi extends to{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,q(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:H,pendingToken:re}=p;return w&&H&&re&&w===H?new Zi(w,re):null}static _create(h,p){return new Zi(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fo extends Xn{constructor(h){ge(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return fo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return fo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Zi.fromJSON(h);return ge(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:w}=h;if(!p||!w)return null;try{return Zi._create(w,p)}catch{return null}}}let Wo=(()=>{class v extends ai{constructor(){super("twitter.com")}static credential(p,w){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:H}=p;if(!w||!H)return null;try{return v.credential(w,H)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function aa(v,h){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signUp",Ie(v,h))})).apply(this,arguments)}class vi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,w,H=!1){return(0,l.Z)(function*(){const re=yield ae._fromIdTokenResponse(h,w,H),Ne=hs(w);return new vi({user:re,providerId:Ne,_tokenResponse:w,operationType:p})})()}static _forOperation(h,p,w){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const H=hs(w);return new vi({user:h,providerId:H,_tokenResponse:w,operationType:p})})()}}function hs(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function fs(v){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(v){var h;if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const p=lr(v);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new vi({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield aa(p,{returnSecureToken:!0}),H=yield vi._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(H.user),H})).apply(this,arguments)}class Ar extends z.ZR{constructor(h,p,w,H){var re;super(p.code,p.message),this.operationType=w,this.user=H,Object.setPrototypeOf(this,Ar.prototype),this.customData={appName:h.name,tenantId:null!==(re=h.tenantId)&&void 0!==re?re:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,p,w,H){return new Ar(h,p,w,H)}}function Cs(v,h,p,w){return("reauthenticate"===h?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Ar._fromErrorAndOperation(v,re,h,w):re})}function ua(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function U(v,h){return G.apply(this,arguments)}function G(){return G=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);yield Se(!0,p,h);const{providerUserInfo:w}=yield function Cn(v,h){return gn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),H=ua(w||[]);return p.providerData=p.providerData.filter(re=>H.has(re.providerId)),H.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),G.apply(this,arguments)}function P(v,h){return ne.apply(this,arguments)}function ne(){return(ne=(0,l.Z)(function*(v,h,p=!1){const w=yield nr(v,h._linkToIdToken(v.auth,yield v.getIdToken()),p);return vi._forOperation(v,"link",w)})).apply(this,arguments)}function Se(v,h,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(v,h,p){yield X(h);const H=!1===v?"provider-already-linked":"no-such-provider";ge(ua(h.providerData).has(p)===v,h.auth,H)})).apply(this,arguments)}function kn(v,h){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(v,h,p=!1){const{auth:w}=v;if((0,y._isFirebaseServerApp)(w.app))return Promise.reject(Ye(w));const H="reauthenticate";try{const re=yield nr(v,Cs(w,H,h,v),p);ge(re.idToken,w,"internal-error");const Ne=Nr(re.idToken);ge(Ne,w,"internal-error");const{sub:ct}=Ne;return ge(v.uid===ct,w,"user-mismatch"),vi._forOperation(v,H,re)}catch(re){throw"auth/user-not-found"===re?.code&&Le(w,"user-mismatch"),re}})).apply(this,arguments)}function no(v,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(v,h,p=!1){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w="signIn",H=yield Cs(v,w,h),re=yield vi._fromIdTokenResponse(v,w,H);return p||(yield v._updateCurrentUser(re.user)),re})).apply(this,arguments)}function ts(v,h){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(v,h){return no(lr(v),h)})).apply(this,arguments)}function Co(v,h){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);return yield Se(!1,p,h.providerId),P(p,h)})).apply(this,arguments)}function yc(v,h){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(v,h){return kn((0,z.m9)(v),h)})).apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithCustomToken",Ie(v,h))})).apply(this,arguments)}function tu(v,h){return wo.apply(this,arguments)}function wo(){return wo=(0,l.Z)(function*(v,h){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const p=lr(v),w=yield function Vs(v,h){return Oi.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),H=yield vi._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(H.user),H}),wo.apply(this,arguments)}class ws{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Ro._fromServerResponse(h,p):"totpInfo"in p?Us._fromServerResponse(h,p):Le(h,"internal-error")}}class Ro extends ws{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Ro(p)}}class Us extends ws{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Us(p)}}function xo(v,h,p){var w;ge((null===(w=p.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),ge(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ge(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ge(p.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function zn(v){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(v){const h=lr(v);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Ma(v,h,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(v,h,p){const w=lr(v),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&xo(w,H,p),yield Ai(w,H,"getOobCode",Jn)})).apply(this,arguments)}function qs(v,h,p){return bs.apply(this,arguments)}function bs(){return bs=(0,l.Z)(function*(v,h,p){yield zo((0,z.m9)(v),{oobCode:h,newPassword:p}).catch(function(){var w=(0,l.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&zn(v),H});return function(H){return w.apply(this,arguments)}}())}),bs.apply(this,arguments)}function Uo(v,h){return ns.apply(this,arguments)}function ns(){return ns=(0,l.Z)(function*(v,h){yield function Io(v,h){return Gi.apply(this,arguments)}((0,z.m9)(v),{oobCode:h})}),ns.apply(this,arguments)}function ca(v,h){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v),w=yield zo(p,{oobCode:h}),H=w.requestType;switch(ge(H,p,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(w.mfaInfo,p,"internal-error");default:ge(w.email,p,"internal-error")}let re=null;return w.mfaInfo&&(re=ws._fromServerResponse(lr(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:re},operation:H}})).apply(this,arguments)}function da(v,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(v,h){const{data:p}=yield ca((0,z.m9)(v),h);return p.email})).apply(this,arguments)}function ha(v,h,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),Ne=yield Ai(w,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aa).catch(Lt=>{throw"auth/password-does-not-meet-requirements"===Lt.code&&zn(v),Lt}),ct=yield vi._fromIdTokenResponse(w,"signIn",Ne);return yield w._updateCurrentUser(ct.user),ct})).apply(this,arguments)}function vc(v,h,p){return(0,y._isFirebaseServerApp)(v.app)?Promise.reject(Ye(v)):ts((0,z.m9)(v),Pi.credential(h,p)).catch(function(){var w=(0,l.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&zn(v),H});return function(H){return w.apply(this,arguments)}}())}function Bs(v,h,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(v,h,p){const w=lr(v),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function re(Ne,ct){ge(ct.handleCodeInApp,w,"argument-error"),ct&&xo(w,Ne,ct)})(H,p),yield Ai(w,H,"getOobCode",Mo)})).apply(this,arguments)}function Bu(v,h){const p=Lr.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}function js(v,h,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=(0,z.m9)(v),H=Pi.credentialWithLink(h,p||xn());return ge(H._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ts(w,H)})).apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:createAuthUri",Ie(v,h))})).apply(this,arguments)}function b(v,h){return Z.apply(this,arguments)}function Z(){return Z=(0,l.Z)(function*(v,h){const w={identifier:h,continueUri:It()?xn():"http://localhost"},{signinMethods:H}=yield function ru(v,h){return ei.apply(this,arguments)}((0,z.m9)(v),w);return H||[]}),Z.apply(this,arguments)}function N(v,h){return W.apply(this,arguments)}function W(){return W=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v),H={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&xo(p.auth,H,h);const{email:re}=yield function Yt(v,h){return Ln.apply(this,arguments)}(p.auth,H);re!==v.email&&(yield v.reload())}),W.apply(this,arguments)}function _e(v,h,p){return dt.apply(this,arguments)}function dt(){return dt=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};p&&xo(w.auth,re,p);const{email:Ne}=yield function ao(v,h){return wr.apply(this,arguments)}(w.auth,re);Ne!==v.email&&(yield v.reload())}),dt.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function pr(v,h){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,l.Z)(function*(v,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const w=(0,z.m9)(v),re={idToken:yield w.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},Ne=yield nr(w,function At(v,h){return mn.apply(this,arguments)}(w.auth,re));w.displayName=Ne.displayName||null,w.photoURL=Ne.photoUrl||null;const ct=w.providerData.find(({providerId:Lt})=>"password"===Lt);ct&&(ct.displayName=w.displayName,ct.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Ne)}),Sr.apply(this,arguments)}function Pr(v,h){const p=(0,z.m9)(v);return(0,y._isFirebaseServerApp)(p.auth.app)?Promise.reject(Ye(p.auth)):Kr(p,h,null)}function or(v,h){return Kr((0,z.m9)(v),null,h)}function Kr(v,h,p){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,l.Z)(function*(v,h,p){const{auth:w}=v,re={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(re.email=h),p&&(re.password=p);const Ne=yield nr(v,function $r(v,h){return Yr.apply(this,arguments)}(w,re));yield v._updateTokensIfNecessary(Ne,!0)}),Ur.apply(this,arguments)}class Ki{constructor(h,p,w={}){this.isNewUser=h,this.providerId=p,this.profile=w}}class mo extends Ki{constructor(h,p,w,H){super(h,p,w),this.username=H}}class As extends Ki{constructor(h,p){super(h,"facebook.com",p)}}class To extends mo{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class ti extends Ki{constructor(h,p){super(h,"google.com",p)}}class Hn extends mo{constructor(h,p,w){super(h,"twitter.com",p,w)}}function Bo(v){const{user:h,_tokenResponse:p}=v;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function hi(v){var h,p;if(!v)return null;const{providerId:w}=v,H=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},re=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const Ne=null===(p=null===(h=Nr(v.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(Ne)return new Ki(re,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!w)return null;switch(w){case"facebook.com":return new As(re,H);case"github.com":return new To(re,H);case"google.com":return new ti(re,H);case"twitter.com":return new Hn(re,H,v.screenName||null);case"custom":case"anonymous":return new Ki(re,null);default:return new Ki(re,w,H)}}(p)}class Ps{constructor(h,p,w){this.type=h,this.credential=p,this.user=w}static _fromIdtoken(h,p){return new Ps("enroll",h,p)}static _fromMfaPendingCredential(h){return new Ps("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,w;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Ps._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return Ps._fromIdtoken(h.multiFactorSession.idToken)}return null}}class su{constructor(h,p,w){this.session=h,this.hints=p,this.signInResolver=w}static _fromError(h,p){const w=lr(h),H=p.customData._serverResponse,re=(H.mfaInfo||[]).map(ct=>ws._fromServerResponse(w,ct));ge(H.mfaPendingCredential,w,"internal-error");const Ne=Ps._fromMfaPendingCredential(H.mfaPendingCredential);return new su(Ne,re,function(){var ct=(0,l.Z)(function*(Lt){const In=yield Lt._process(w,Ne);delete H.mfaInfo,delete H.mfaPendingCredential;const Un=Object.assign(Object.assign({},H),{idToken:In.idToken,refreshToken:In.refreshToken});switch(p.operationType){case"signIn":const Mr=yield vi._fromIdTokenResponse(w,p.operationType,Un);return yield w._updateCurrentUser(Mr.user),Mr;case"reauthenticate":return ge(p.user,w,"internal-error"),vi._forOperation(p.user,p.operationType,Un);default:Le(w,"internal-error")}});return function(Lt){return ct.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,l.Z)(function*(){return p.signInResolver(h)})()}}function Cc(v,h){var p;const w=(0,z.m9)(v),H=h;return ge(h.customData.operationType,w,"argument-error"),ge(null===(p=H.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),su._fromError(w,H)}class xa{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>ws._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new xa(h)}getSession(){var h=this;return(0,l.Z)(function*(){return Ps._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var w=this;return(0,l.Z)(function*(){const H=h,re=yield w.getSession(),Ne=yield nr(w.user,H._process(w.user.auth,re,p));return yield w.user._updateTokensIfNecessary(Ne),w.user.reload()})()}unenroll(h){var p=this;return(0,l.Z)(function*(){const w="string"==typeof h?h:h.uid,H=yield p.user.getIdToken();try{const re=yield nr(p.user,function dl(v,h){return ke(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(v,h))}(p.user.auth,{idToken:H,mfaEnrollmentId:w}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ne})=>Ne!==w),yield p.user._updateTokensIfNecessary(re),yield p.user.reload()}catch(re){throw re}})()}}const _o=new WeakMap;function Dc(v){const h=(0,z.m9)(v);return _o.has(h)||_o.set(h,xa._fromUser(h)),_o.get(h)}const $u="__sak";class Ti{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const is=(()=>{class v extends Ti{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qs(){const v=(0,z.z$)();return Qn(v)||Fr(v)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ct(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const H=this.storage.getItem(w),re=this.localCache[w];H!==re&&p(w,re,H)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((ct,Lt,In)=>{this.notifyListeners(ct,In)});const H=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(H);if(p.newValue!==ct)null!==p.newValue?this.storage.setItem(H,p.newValue):this.storage.removeItem(H);else if(this.localCache[H]===p.newValue&&!w)return}const re=()=>{const ct=this.storage.getItem(H);!w&&this.localCache[H]===ct||this.notifyListeners(H,ct)},Ne=this.storage.getItem(H);!function qe(){return(0,z.w1)()&&10===document.documentMode}()||Ne===p.newValue||p.newValue===p.oldValue?re():setTimeout(re,10)}notifyListeners(p,w){this.localCache[p]=w;const H=this.listeners[p];if(H)for(const re of Array.from(H))re(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var H=()=>super._set,re=this;return(0,l.Z)(function*(){yield H().call(re,p,w),re.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,H=this;return(0,l.Z)(function*(){const re=yield w().call(H,p);return H.localCache[p]=JSON.stringify(re),re})()}_remove(p){var w=()=>super._remove,H=this;return(0,l.Z)(function*(){yield w().call(H,p),delete H.localCache[p]})()}}return v.type="LOCAL",v})(),Ft=(()=>{class v extends Ti{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return v.type="SESSION",v})();let zu=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(re=>re.isListeningto(p));if(w)return w;const H=new v(p);return this.receivers.push(H),H}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,l.Z)(function*(){const H=p,{eventId:re,eventType:Ne,data:ct}=H.data,Lt=w.handlersMap[Ne];if(!Lt?.size)return;H.ports[0].postMessage({status:"ack",eventId:re,eventType:Ne});const In=Array.from(Lt).map(function(){var Mr=(0,l.Z)(function*(_s){return _s(H.origin,ct)});return function(_s){return Mr.apply(this,arguments)}}()),Un=yield function br(v){return Promise.all(v.map(function(){var h=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return h.apply(this,arguments)}}()))}(In);H.ports[0].postMessage({status:"done",eventId:re,eventType:Ne,response:Un})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function pa(v="",h=10){let p="";for(let w=0;w<h;w++)p+=Math.floor(10*Math.random());return v+p}class uo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,w=50){var H=this;return(0,l.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let Ne,ct;return new Promise((Lt,In)=>{const Un=pa("",20);re.port1.start();const Mr=setTimeout(()=>{In(new Error("unsupported_event"))},w);ct={messageChannel:re,onMessage(_s){const za=_s;if(za.data.eventId===Un)switch(za.data.status){case"ack":clearTimeout(Mr),Ne=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Lt(za.data.response);break;default:clearTimeout(Mr),clearTimeout(Ne),In(new Error("invalid_response"))}}},H.handlers.add(ct),re.port1.addEventListener("message",ct.onMessage),H.target.postMessage({eventType:h,eventId:Un,data:p},[re.port2])}).finally(()=>{ct&&H.removeMessageHandler(ct)})})()}}function Bi(){return window}function Do(){return typeof Bi().WorkerGlobalScope<"u"&&"function"==typeof Bi().importScripts}function Na(){return(Na=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uu="firebaseLocalStorageDb",jo="firebaseLocalStorage",ka="fbase_key";class os{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Oo(v,h){return v.transaction([jo],h?"readwrite":"readonly").objectStore(jo)}function qo(){const v=indexedDB.open(uu,1);return new Promise((h,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(jo,{keyPath:ka})}catch(H){p(H)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(jo)?h(w):(w.close(),yield function cu(){const v=indexedDB.deleteDatabase(uu);return new os(v).toPromise()}(),h(yield qo()))}))})}function Js(v,h,p){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,l.Z)(function*(v,h,p){const w=Oo(v,!0).put({[ka]:h,value:p});return new os(w).toPromise()})).apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(v,h){const p=Oo(v,!1).get(h),w=yield new os(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ss(v,h){const p=Oo(v,!0).delete(h);return new os(p).toPromise()}const S=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield qo()),p.db})()}_withRetries(p){var w=this;return(0,l.Z)(function*(){let H=0;for(;;)try{const re=yield w._openDb();return yield p(re)}catch(re){if(H++>3)throw re;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return Do()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=zu._getInstance(function Gu(){return Do()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(H,re){return{keyProcessed:(yield p._poll()).includes(re.key)}});return function(H,re){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(H,re){return["keyChanged"]});return function(H,re){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var w,H;if(p.activeServiceWorker=yield function ga(){return Na.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new uo(p.activeServiceWorker);const re=yield p.sender._send("ping",{},800);re&&null!==(w=re[0])&&void 0!==w&&w.fulfilled&&null!==(H=re[0])&&void 0!==H&&H.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ac(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield qo();return yield Js(p,$u,"1"),yield ss(p,$u),!0}catch{}return!1})()}_withPendingWrite(p){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var H=this;return(0,l.Z)(function*(){return H._withPendingWrite((0,l.Z)(function*(){return yield H._withRetries(re=>Js(re,p,w)),H.localCache[p]=w,H.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,l.Z)(function*(){const H=yield w._withRetries(re=>function Fa(v,h){return ma.apply(this,arguments)}(re,p));return w.localCache[p]=H,H})()}_remove(p){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(H=>ss(H,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const w=yield p._withRetries(Ne=>{const ct=Oo(Ne,!1).getAll();return new os(ct).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const H=[],re=new Set;if(0!==w.length)for(const{fbase_key:Ne,value:ct}of w)re.add(Ne),JSON.stringify(p.localCache[Ne])!==JSON.stringify(ct)&&(p.notifyListeners(Ne,ct),H.push(Ne));for(const Ne of Object.keys(p.localCache))p.localCache[Ne]&&!re.has(Ne)&&(p.notifyListeners(Ne,null),H.push(Ne));return H})()}notifyListeners(p,w){this.localCache[p]=w;const H=this.listeners[p];if(H)for(const re of Array.from(H))re(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ln=1e12;class er{constructor(h){this.auth=h,this.counter=ln,this._widgets=new Map}render(h,p){const w=this.counter;return this._widgets.set(w,new ar(h,this.auth.name,p||{})),this.counter++,w}reset(h){var p;const w=h||ln;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(h){var p;return(null===(p=this._widgets.get(h||ln))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,l.Z)(function*(){var w;return null===(w=p._widgets.get(h||ln))||void 0===w||w.execute(),""})()}}class ar{constructor(h,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;ge(H,"argument-error",{appName:p}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ur(v){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Br=mi("rcb"),_a=new ce(3e4,6e4);class ya{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Bi().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return ge(function va(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&On(Bi().grecaptcha)?Promise.resolve(Bi().grecaptcha):new Promise((w,H)=>{const re=Bi().setTimeout(()=>{H(Je(h,"network-request-failed"))},_a.get());Bi()[Br]=()=>{Bi().clearTimeout(re),delete Bi()[Br];const ct=Bi().grecaptcha;if(!ct||!On(ct))return void H(Je(h,"internal-error"));const Lt=ct.render;ct.render=(In,Un)=>{const Mr=Lt(In,Un);return this.counter++,Mr},this.hostLanguage=p,w(ct)},Wr(`${function vs(){return oi.recaptchaV2Script}()}?${(0,z.xO)({onload:Br,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(re),H(Je(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Bi().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gs{load(h){return(0,l.Z)(function*(){return new er(h)})()}clearedOneInstance(){}}const Ms="recaptcha",pd={theme:"light",type:"image"};class qu{constructor(h,p,w=Object.assign({},pd)){this.parameters=w,this.type=Ms,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(h),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof p?document.getElementById(p):p;ge(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gs:new ya,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(p)||new Promise(re=>{const Ne=ct=>{ct&&(h.tokenChangeListeners.delete(Ne),re(ct))};h.tokenChangeListeners.add(Ne),h.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof h)h(p);else if("string"==typeof h){const w=Bi()[h];"function"==typeof w&&w(p)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){ge(It()&&!Do(),h.auth,"internal-error"),yield function Xs(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Dr(v){return tn.apply(this,arguments)}(h.auth);ge(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class se{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Hr._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function he(v,h,p){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),H=yield fi(w,h,(0,z.m9)(p));return new se(H,re=>ts(w,re))})).apply(this,arguments)}function Ae(v,h,p){return it.apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);yield Se(!1,w,"phone");const H=yield fi(w.auth,h,(0,z.m9)(p));return new se(H,re=>Co(w,re))})).apply(this,arguments)}function zt(v,h,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Ye(w.auth));const H=yield fi(w.auth,h,(0,z.m9)(p));return new se(H,re=>yc(w,re))})).apply(this,arguments)}function fi(v,h,p){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,l.Z)(function*(v,h,p){var w;const H=yield p.verify();try{let re;if(ge("string"==typeof H,v,"argument-error"),ge(p.type===Ms,v,"argument-error"),re="string"==typeof h?{phoneNumber:h}:h,"session"in re){const Ne=re.session;if("phoneNumber"in re)return ge("enroll"===Ne.type,v,"internal-error"),(yield function wc(v,h){return ke(v,"POST","/v2/accounts/mfaEnrollment:start",Ie(v,h))}(v,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{ge("signin"===Ne.type,v,"internal-error");const ct=(null===(w=re.multiFactorHint)||void 0===w?void 0:w.uid)||re.multiFactorUid;return ge(ct,v,"missing-multi-factor-info"),(yield function F(v,h){return ke(v,"POST","/v2/accounts/mfaSignIn:start",Ie(v,h))}(v,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield function $e(v,h){return mt.apply(this,arguments)}(v,{phoneNumber:re.phoneNumber,recaptchaToken:H});return Ne}}finally{p._reset()}}),Kn.apply(this,arguments)}function ro(v,h){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ye(p.auth));yield P(p,h)})).apply(this,arguments)}let as=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=lr(p)}verifyPhoneNumber(p,w){return fi(this.auth,p,(0,z.m9)(w))}static credential(p,w){return Hr._fromVerification(p,w)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:H}=p;return w&&H?Hr._fromTokenResponse(w,H):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ni(v,h){return h?pt(h):(ge(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class La extends to{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return q(h,this._buildIdpRequest())}_linkToIdToken(h,p){return q(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return q(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Va(v){return no(v.auth,new La(v),v.bypassAuthState)}function pi(v){const{auth:h,user:p}=v;return ge(p,h,"internal-error"),kn(p,new La(v),v.bypassAuthState)}function Yi(v){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(v){const{auth:h,user:p}=v;return ge(p,h,"internal-error"),P(p,new La(v),v.bypassAuthState)})).apply(this,arguments)}class $s{constructor(h,p,w,H,re=!1){this.auth=h,this.resolver=w,this.user=H,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,l.Z)(function*(w,H){h.pendingPromise={resolve:w,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(re){h.reject(re)}});return function(w,H){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:H,postBody:re,tenantId:Ne,error:ct,type:Lt}=h;if(ct)return void p.reject(ct);const In={auth:p.auth,requestUri:w,sessionId:H,tenantId:Ne||void 0,postBody:re||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Lt)(In))}catch(Un){p.reject(Un)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Va;case"linkViaPopup":case"linkViaRedirect":return Yi;case"reauthViaPopup":case"reauthViaRedirect":return pi;default:Le(this.auth,"internal-error")}}resolve(h){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const io=new ce(2e3,1e4);function lu(v,h,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Je(v,"operation-not-supported-in-this-environment"));const w=lr(v);_t(v,h,Xn);const H=Ni(w,p);return new yo(w,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Hs(v,h,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Je(w.auth,"operation-not-supported-in-this-environment"));_t(w.auth,h,Xn);const H=Ni(w.auth,p);return new yo(w.auth,"reauthViaPopup",h,H,w).executeNotNull()})).apply(this,arguments)}function Ih(v,h,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);_t(w.auth,h,Xn);const H=Ni(w.auth,p);return new yo(w.auth,"linkViaPopup",h,H,w).executeNotNull()})).apply(this,arguments)}let yo=(()=>{class v extends $s{constructor(p,w,H,re,Ne){super(p,w,re,Ne),this.provider=H,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const w=yield p.execute();return ge(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,l.Z)(function*(){Jt(1===p.filter.length,"Popup operations only handle one event");const w=pa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(H=>{p.reject(H)}),p.resolver._isIframeWebStorageSupported(p.auth,H=>{H||p.reject(Je(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,H;this.pollId=null!==(H=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,io.get())};p()}}return v.currentPopupAction=null,v})();const Ch="pendingRedirect",No=new Map;class fl extends $s{constructor(h,p,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,l.Z)(function*(){let w=No.get(p.auth._key());if(!w){try{const re=(yield function Pc(v,h){return Ns.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;w=()=>Promise.resolve(re)}catch(H){w=()=>Promise.reject(H)}No.set(p.auth._key(),w)}return p.bypassAuthState||No.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(w,h);if("unknown"!==h.type){if(h.eventId){const H=yield w.auth._redirectUserForId(h.eventId);if(H)return w.user=H,p().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ns(){return(Ns=(0,l.Z)(function*(v,h){const p=pl(h),w=Ua(v);if(!(yield w._isAvailable()))return!1;const H="true"===(yield w._get(p));return yield w._remove(p),H})).apply(this,arguments)}function Ea(v,h){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(v,h){return Ua(v)._set(pl(h),"true")})).apply(this,arguments)}function Ia(){No.clear()}function wh(v,h){No.set(v._key(),h)}function Ua(v){return pt(v._redirectPersistence)}function pl(v){return Zt(Ch,v.config.apiKey,v.name)}function Ca(v,h,p){return function gd(v,h,p){return md.apply(this,arguments)}(v,h,p)}function md(){return(md=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v);_t(v,h,Xn),yield w._initializationPromise;const H=Ni(w,p);return yield Ea(H,w),H._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function Mc(v,h,p){return function hu(v,h,p){return gl.apply(this,arguments)}(v,h,p)}function gl(){return(gl=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if(_t(w.auth,h,Xn),(0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Ye(w.auth));yield w.auth._initializationPromise;const H=Ni(w.auth,p);yield Ea(H,w.auth);const re=yield ea(w);return H._openRedirect(w.auth,h,"reauthViaRedirect",re)})).apply(this,arguments)}function Th(v,h,p){return function Rc(v,h,p){return Ba.apply(this,arguments)}(v,h,p)}function Ba(){return(Ba=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);_t(w.auth,h,Xn),yield w.auth._initializationPromise;const H=Ni(w.auth,p);yield Se(!1,w,h.providerId),yield Ea(H,w.auth);const re=yield ea(w);return H._openRedirect(w.auth,h,"linkViaRedirect",re)})).apply(this,arguments)}function ip(v,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(v,h){return yield lr(v)._initializationPromise,_d(v,h,!1)})).apply(this,arguments)}function _d(v,h){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(v,h,p=!1){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),H=Ni(w,h),Ne=yield new fl(w,H,p).execute();return Ne&&!p&&(delete Ne.user._redirectEventId,yield w._persistUserIfCurrent(Ne.user),yield w._setRedirectUser(null,h)),Ne})).apply(this,arguments)}function ea(v){return fu.apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(v){const h=pa(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class Oc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(p=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Zu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ja(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var w;if(h.error&&!ja(h)){const H=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(Je(this.auth,H))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const w=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pu(h))}saveEventToCache(h){this.cachedEventUids.add(pu(h)),this.lastProcessedEventTime=Date.now()}}function pu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function ja({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function vd(v){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(v,h={}){return ke(v,"GET","/v1/projects",h)})).apply(this,arguments)}const ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qg=/^https?/;function bh(){return(bh=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield vd(v);for(const p of h)try{if(Zg(p))return}catch{}Le(v,"unauthorized-domain")})).apply(this,arguments)}function Zg(v){const h=xn(),{protocol:p,hostname:w}=new URL(h);if(v.startsWith("chrome-extension://")){const Ne=new URL(v);return""===Ne.hostname&&""===w?"chrome-extension:"===p&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ne.hostname===w}if(!qg.test(p))return!1;if(ji.test(v))return w===v;const H=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(w)}const Dh=new ce(3e4,6e4);function sp(){const v=Bi().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Ku=null;const Ah=new ce(5e3,15e3),Id="__/auth/iframe",oo="emulator/auth/iframe",Nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cd(v){const h=v.config;ge(h.authDomain,v,"auth-domain-config-required");const p=h.emulator?J(h,oo):`https://${v.config.authDomain}/${Id}`,w={apiKey:h.apiKey,appName:v.name,v:y.SDK_VERSION},H=$a.get(v.config.apiHost);H&&(w.eid=H);const re=v._getFrameworks();return re.length&&(w.fw=re.join(",")),`${p}?${(0,z.xO)(w).slice(1)}`}function Ha(){return Ha=(0,l.Z)(function*(v){const h=yield function Yu(v){return Ku=Ku||function Ed(v){return new Promise((h,p)=>{var w,H,re;function Ne(){sp(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{sp(),p(Je(v,"network-request-failed"))},timeout:Dh.get()})}if(null!==(H=null===(w=Bi().gapi)||void 0===w?void 0:w.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(re=Bi().gapi)||void 0===re||!re.load){const ct=mi("iframefcb");return Bi()[ct]=()=>{gapi.load?Ne():p(Je(v,"network-request-failed"))},Wr(`${function si(){return oi.gapiScript}()}?onload=${ct}`).catch(Lt=>p(Lt))}Ne()}}).catch(h=>{throw Ku=null,h})}(v),Ku}(v),p=Bi().gapi;return ge(p,v,"internal-error"),h.open({where:document.body,url:Cd(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nc,dontclear:!0},w=>new Promise(function(){var H=(0,l.Z)(function*(re,Ne){yield w.restyle({setHideOnLeave:!1});const ct=Je(v,"network-request-failed"),Lt=Bi().setTimeout(()=>{Ne(ct)},Ah.get());function In(){Bi().clearTimeout(Lt),re(w)}w.ping(In).then(In,()=>{Ne(ct)})});return function(re,Ne){return H.apply(this,arguments)}}()))}),Ha.apply(this,arguments)}const wd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _l="__/auth/handler",Ju="emulator/auth/handler",kc=encodeURIComponent("fac");function wa(v,h,p,w,H,re){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(v,h,p,w,H,re){ge(v.config.authDomain,v,"auth-domain-config-required"),ge(v.config.apiKey,v,"invalid-api-key");const Ne={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:w,v:y.SDK_VERSION,eventId:H};if(h instanceof Xn){h.setDefaultLanguage(v.languageCode),Ne.providerId=h.providerId||"",(0,z.xb)(h.getCustomParameters())||(Ne.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Un,Mr]of Object.entries(re||{}))Ne[Un]=Mr}if(h instanceof ai){const Un=h.getScopes().filter(Mr=>""!==Mr);Un.length>0&&(Ne.scopes=Un.join(","))}v.tenantId&&(Ne.tid=v.tenantId);const ct=Ne;for(const Un of Object.keys(ct))void 0===ct[Un]&&delete ct[Un];const Lt=yield v._getAppCheckToken(),In=Lt?`#${kc}=${encodeURIComponent(Lt)}`:"";return`${function yl({config:v}){return v.emulator?J(v,Ju):`https://${v.authDomain}/${_l}`}(v)}?${(0,z.xO)(ct).slice(1)}${In}`})).apply(this,arguments)}const vl="webStorageSupport",Td=class Rh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ft,this._completeRedirectFn=_d,this._overrideRedirectResult=wh}_openPopup(h,p,w,H){var re=this;return(0,l.Z)(function*(){var Ne;Jt(null===(Ne=re.eventManagers[h._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const ct=yield wa(h,p,w,xn(),H);return function ap(v,h,p,w=500,H=600){const re=Math.max((window.screen.availHeight-H)/2,0).toString(),Ne=Math.max((window.screen.availWidth-w)/2,0).toString();let ct="";const Lt=Object.assign(Object.assign({},wd),{width:w.toString(),height:H.toString(),top:re,left:Ne}),In=(0,z.z$)().toLowerCase();p&&(ct=ki(In)?"_blank":p),vn(In)&&(h=h||"http://localhost",Lt.scrollbars="yes");const Un=Object.entries(Lt).reduce((_s,[za,Ga])=>`${_s}${za}=${Ga},`,"");if(function at(v=(0,z.z$)()){var h;return Fr(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(In)&&"_self"!==ct)return function ms(v,h){const p=document.createElement("a");p.href=v,p.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(h||"",ct),new Mh(null);const Mr=window.open(h||"",ct,Un);ge(Mr,v,"popup-blocked");try{Mr.focus()}catch{}return new Mh(Mr)}(h,ct,pa())})()}_openRedirect(h,p,w,H){var re=this;return(0,l.Z)(function*(){return yield re._originValidation(h),function Oa(v){Bi().location.href=v}(yield wa(h,p,w,xn(),H)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:H,promise:re}=this.eventManagers[p];return H?Promise.resolve(H):(Jt(re,"If manager is not set, promise should be"),re)}const w=this.initAndGetManager(h);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(h){var p=this;return(0,l.Z)(function*(){const w=yield function us(v){return Ha.apply(this,arguments)}(h),H=new Oc(h);return w.register("authEvent",re=>(ge(re?.authEvent,h,"invalid-auth-event"),{status:H.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:H},p.iframes[h._key()]=w,H})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(vl,{type:vl},H=>{var re;const Ne=null===(re=H?.[0])||void 0===re?void 0:re[vl];void 0!==Ne&&p(!!Ne),Le(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function op(v){return bh.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ct()||Qn()||Fr()}};class up{constructor(h){this.factorId=h}_process(h,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,w);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class mu extends up{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new mu(h)}_finalizeEnroll(h,p,w){return function Tc(v,h){return ke(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(v,h))}(h,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Q(v,h){return ke(v,"POST","/v2/accounts/mfaSignIn:finalize",Ie(v,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let El=(()=>{class v{constructor(){}static assertion(p){return mu._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var Lc="@firebase/auth";class Xu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,z.Pz)("authIdTokenMaxAge"),function Vo(v){oi=v}({loadJS:v=>new Promise((h,p)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=h,w.onerror=H=>{const re=Je("internal-error");re.customData=H,p(re)},w.type="text/javascript",w.charset="UTF-8",function Nh(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Il(v){(0,y._registerComponent)(new be.wA("auth",(h,{options:p})=>{const w=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),re=h.getProvider("app-check-internal"),{apiKey:Ne,authDomain:ct}=w.options;ge(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:w.name});const Lt={apiKey:Ne,authDomain:ct,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(v)},In=new ho(w,H,re,Lt);return function Fs(v,h){const p=h?.persistence||[],w=(Array.isArray(p)?p:[p]).map(pt);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(w,h?.popupRedirectResolver)}(In,p),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,w)=>{h.getProvider("auth-internal").initialize()})),(0,y._registerComponent)(new be.wA("auth-internal",h=>{const p=lr(h.getProvider("auth").getImmediate());return new Xu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,y.registerVersion)(Lc,"1.7.4",function ec(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,y.registerVersion)(Lc,"1.7.4","esm2017")}("Browser")},5588:(on,Xe,k)=>{k.d(Xe,{u7:()=>Lm,Jj:()=>oc,IX:()=>qc,my:()=>lo,xU:()=>el,Lz:()=>Au,WA:()=>J,F8:()=>Kp,$q:()=>Df,W:()=>ac,EK:()=>Ut,PU:()=>nl,l7:()=>Nn,Ky:()=>Ot,Xb:()=>Fn,Cf:()=>vr,K9:()=>Dt,Me:()=>ds,yq:()=>Jt,Wi:()=>Tm,ET:()=>$m,Ab:()=>Af,vr:()=>Kd,Fc:()=>Zp,hJ:()=>bm,B$:()=>pf,at:()=>ff,oe:()=>Ya,AK:()=>Zm,TF:()=>Sm,JU:()=>vy,ST:()=>yf,fH:()=>Za,Ix:()=>Iy,Wu:()=>Ny,Lx:()=>Nm,qY:()=>Qi,GL:()=>so,QT:()=>jm,kl:()=>ig,Xk:()=>uc,PL:()=>og,UQ:()=>Fy,zN:()=>cE,ad:()=>mf,nP:()=>Km,b9:()=>Oy,vh:()=>Cf,Pb:()=>Cy,L$:()=>wy,cf:()=>Vy,sc:()=>lE,Xo:()=>Om,IO:()=>Ry,iE:()=>Wp,Eo:()=>Gp,i3:()=>qm,Bt:()=>cg,pl:()=>Ly,Ub:()=>St,qK:()=>Aa,TQ:()=>qd,e0:()=>Zl,r7:()=>sg,Mx:()=>Ey,ar:()=>Xp});var Fe,He,l=k(5861),y=k(534),z=k(4537),Ce=k(7879),me=k(9058),be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ze,Te,Ve){Ve||(Ve=0);var Qe=Array(16);if("string"==typeof Te)for(var nt=0;16>nt;++nt)Qe[nt]=Te.charCodeAt(Ve++)|Te.charCodeAt(Ve++)<<8|Te.charCodeAt(Ve++)<<16|Te.charCodeAt(Ve++)<<24;else for(nt=0;16>nt;++nt)Qe[nt]=Te[Ve++]|Te[Ve++]<<8|Te[Ve++]<<16|Te[Ve++]<<24;var lt=Ze.g[3],Oe=(Te=Ze.g[0])+(lt^(Ve=Ze.g[1])&((nt=Ze.g[2])^lt))+Qe[0]+3614090360&4294967295;Oe=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=(Ve=(nt=(lt=(Te=Ve+(Oe<<7&4294967295|Oe>>>25))+((Oe=lt+(nt^Te&(Ve^nt))+Qe[1]+3905402710&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^lt&(Te^Ve))+Qe[2]+606105819&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Te^nt&(lt^Te))+Qe[3]+3250441966&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Te+(lt^Ve&(nt^lt))+Qe[4]+4118548399&4294967295)<<7&4294967295|Oe>>>25))+((Oe=lt+(nt^Te&(Ve^nt))+Qe[5]+1200080426&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^lt&(Te^Ve))+Qe[6]+2821735955&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Te^nt&(lt^Te))+Qe[7]+4249261313&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Te+(lt^Ve&(nt^lt))+Qe[8]+1770035416&4294967295)<<7&4294967295|Oe>>>25))+((Oe=lt+(nt^Te&(Ve^nt))+Qe[9]+2336552879&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^lt&(Te^Ve))+Qe[10]+4294925233&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Te^nt&(lt^Te))+Qe[11]+2304563134&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Te+(lt^Ve&(nt^lt))+Qe[12]+1804603682&4294967295)<<7&4294967295|Oe>>>25))+((Oe=lt+(nt^Te&(Ve^nt))+Qe[13]+4254626195&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^lt&(Te^Ve))+Qe[14]+2792965006&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Te^nt&(lt^Te))+Qe[15]+1236535329&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Te+(nt^lt&(Ve^nt))+Qe[1]+4129170786&4294967295)<<5&4294967295|Oe>>>27))+((Oe=lt+(Ve^nt&(Te^Ve))+Qe[6]+3225465664&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Te^Ve&(lt^Te))+Qe[11]+643717713&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(lt^Te&(nt^lt))+Qe[0]+3921069994&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Te+(nt^lt&(Ve^nt))+Qe[5]+3593408605&4294967295)<<5&4294967295|Oe>>>27))+((Oe=lt+(Ve^nt&(Te^Ve))+Qe[10]+38016083&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Te^Ve&(lt^Te))+Qe[15]+3634488961&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(lt^Te&(nt^lt))+Qe[4]+3889429448&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Te+(nt^lt&(Ve^nt))+Qe[9]+568446438&4294967295)<<5&4294967295|Oe>>>27))+((Oe=lt+(Ve^nt&(Te^Ve))+Qe[14]+3275163606&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Te^Ve&(lt^Te))+Qe[3]+4107603335&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(lt^Te&(nt^lt))+Qe[8]+1163531501&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Te+(nt^lt&(Ve^nt))+Qe[13]+2850285829&4294967295)<<5&4294967295|Oe>>>27))+((Oe=lt+(Ve^nt&(Te^Ve))+Qe[2]+4243563512&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Te^Ve&(lt^Te))+Qe[7]+1735328473&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(lt^Te&(nt^lt))+Qe[12]+2368359562&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Te+(Ve^nt^lt)+Qe[5]+4294588738&4294967295)<<4&4294967295|Oe>>>28))+((Oe=lt+(Te^Ve^nt)+Qe[8]+2272392833&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(lt^Te^Ve)+Qe[11]+1839030562&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^lt^Te)+Qe[14]+4259657740&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Te+(Ve^nt^lt)+Qe[1]+2763975236&4294967295)<<4&4294967295|Oe>>>28))+((Oe=lt+(Te^Ve^nt)+Qe[4]+1272893353&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(lt^Te^Ve)+Qe[7]+4139469664&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^lt^Te)+Qe[10]+3200236656&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Te+(Ve^nt^lt)+Qe[13]+681279174&4294967295)<<4&4294967295|Oe>>>28))+((Oe=lt+(Te^Ve^nt)+Qe[0]+3936430074&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(lt^Te^Ve)+Qe[3]+3572445317&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^lt^Te)+Qe[6]+76029189&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Te+(Ve^nt^lt)+Qe[9]+3654602809&4294967295)<<4&4294967295|Oe>>>28))+((Oe=lt+(Te^Ve^nt)+Qe[12]+3873151461&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(lt^Te^Ve)+Qe[15]+530742520&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^lt^Te)+Qe[2]+3299628645&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Te+(nt^(Ve|~lt))+Qe[0]+4096336452&4294967295)<<6&4294967295|Oe>>>26))+((Oe=lt+(Ve^(Te|~nt))+Qe[7]+1126891415&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Te^(lt|~Ve))+Qe[14]+2878612391&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(lt^(nt|~Te))+Qe[5]+4237533241&4294967295)<<21&4294967295|Oe>>>11))+((Oe=Te+(nt^(Ve|~lt))+Qe[12]+1700485571&4294967295)<<6&4294967295|Oe>>>26))+((Oe=lt+(Ve^(Te|~nt))+Qe[3]+2399980690&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Te^(lt|~Ve))+Qe[10]+4293915773&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(lt^(nt|~Te))+Qe[1]+2240044497&4294967295)<<21&4294967295|Oe>>>11))+((Oe=Te+(nt^(Ve|~lt))+Qe[8]+1873313359&4294967295)<<6&4294967295|Oe>>>26))+((Oe=lt+(Ve^(Te|~nt))+Qe[15]+4264355552&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Te^(lt|~Ve))+Qe[6]+2734768916&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(lt^(nt|~Te))+Qe[13]+1309151649&4294967295)<<21&4294967295|Oe>>>11))+((lt=(Te=Ve+((Oe=Te+(nt^(Ve|~lt))+Qe[4]+4149444226&4294967295)<<6&4294967295|Oe>>>26))+((Oe=lt+(Ve^(Te|~nt))+Qe[11]+3174756917&4294967295)<<10&4294967295|Oe>>>22))^((nt=lt+((Oe=nt+(Te^(lt|~Ve))+Qe[2]+718787259&4294967295)<<15&4294967295|Oe>>>17))|~Te))+Qe[9]+3951481745&4294967295,Ze.g[0]=Ze.g[0]+Te&4294967295,Ze.g[1]=Ze.g[1]+(nt+(Oe<<21&4294967295|Oe>>>11))&4294967295,Ze.g[2]=Ze.g[2]+nt&4294967295,Ze.g[3]=Ze.g[3]+lt&4294967295}function m(Ze,Te){this.h=Te;for(var Ve=[],Qe=!0,nt=Ze.length-1;0<=nt;nt--){var lt=0|Ze[nt];Qe&&lt==Te||(Ve[nt]=lt,Qe=!1)}this.g=Ve}(function e(Ze,Te){function Ve(){}Ve.prototype=Te.prototype,Ze.D=Te.prototype,Ze.prototype=new Ve,Ze.prototype.constructor=Ze,Ze.C=function(Qe,nt,lt){for(var Oe=Array(arguments.length-2),Ru=2;Ru<arguments.length;Ru++)Oe[Ru-2]=arguments[Ru];return Te.prototype[nt].apply(Qe,Oe)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Ze,Te){void 0===Te&&(Te=Ze.length);for(var Ve=Te-this.blockSize,Qe=this.B,nt=this.h,lt=0;lt<Te;){if(0==nt)for(;lt<=Ve;)u(this,Ze,lt),lt+=this.blockSize;if("string"==typeof Ze){for(;lt<Te;)if(Qe[nt++]=Ze.charCodeAt(lt++),nt==this.blockSize){u(this,Qe),nt=0;break}}else for(;lt<Te;)if(Qe[nt++]=Ze[lt++],nt==this.blockSize){u(this,Qe),nt=0;break}}this.h=nt,this.o+=Te},o.prototype.v=function(){var Ze=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ze[0]=128;for(var Te=1;Te<Ze.length-8;++Te)Ze[Te]=0;var Ve=8*this.o;for(Te=Ze.length-8;Te<Ze.length;++Te)Ze[Te]=255&Ve,Ve/=256;for(this.u(Ze),Ze=Array(16),Te=Ve=0;4>Te;++Te)for(var Qe=0;32>Qe;Qe+=8)Ze[Ve++]=this.g[Te]>>>Qe&255;return Ze};var T={};function M(Ze){return-128<=Ze&&128>Ze?function f(Ze,Te){var Ve=T;return Object.prototype.hasOwnProperty.call(Ve,Ze)?Ve[Ze]:Ve[Ze]=Te(Ze)}(Ze,function(Te){return new m([0|Te],0>Te?-1:0)}):new m([0|Ze],0>Ze?-1:0)}function B(Ze){if(isNaN(Ze)||!isFinite(Ze))return le;if(0>Ze)return $t(B(-Ze));for(var Te=[],Ve=1,Qe=0;Ze>=Ve;Qe++)Te[Qe]=Ze/Ve|0,Ve*=4294967296;return new m(Te,0)}var le=M(0),Re=M(1),ot=M(16777216);function kt(Ze){if(0!=Ze.h)return!1;for(var Te=0;Te<Ze.g.length;Te++)if(0!=Ze.g[Te])return!1;return!0}function Kt(Ze){return-1==Ze.h}function $t(Ze){for(var Te=Ze.g.length,Ve=[],Qe=0;Qe<Te;Qe++)Ve[Qe]=~Ze.g[Qe];return new m(Ve,~Ze.h).add(Re)}function An(Ze,Te){return Ze.add($t(Te))}function Bn(Ze,Te){for(;(65535&Ze[Te])!=Ze[Te];)Ze[Te+1]+=Ze[Te]>>>16,Ze[Te]&=65535,Te++}function Mn(Ze,Te){this.g=Ze,this.h=Te}function dr(Ze,Te){if(kt(Te))throw Error("division by zero");if(kt(Ze))return new Mn(le,le);if(Kt(Ze))return Te=dr($t(Ze),Te),new Mn($t(Te.g),$t(Te.h));if(Kt(Te))return Te=dr(Ze,$t(Te)),new Mn($t(Te.g),Te.h);if(30<Ze.g.length){if(Kt(Ze)||Kt(Te))throw Error("slowDivide_ only works with positive integers.");for(var Ve=Re,Qe=Te;0>=Qe.l(Ze);)Ve=ui(Ve),Qe=ui(Qe);var nt=Rr(Ve,1),lt=Rr(Qe,1);for(Qe=Rr(Qe,2),Ve=Rr(Ve,2);!kt(Qe);){var Oe=lt.add(Qe);0>=Oe.l(Ze)&&(nt=nt.add(Ve),lt=Oe),Qe=Rr(Qe,1),Ve=Rr(Ve,1)}return Te=An(Ze,nt.j(Te)),new Mn(nt,Te)}for(nt=le;0<=Ze.l(Te);){for(Ve=Math.max(1,Math.floor(Ze.m()/Te.m())),Qe=48>=(Qe=Math.ceil(Math.log(Ve)/Math.LN2))?1:Math.pow(2,Qe-48),Oe=(lt=B(Ve)).j(Te);Kt(Oe)||0<Oe.l(Ze);)Oe=(lt=B(Ve-=Qe)).j(Te);kt(lt)&&(lt=Re),nt=nt.add(lt),Ze=An(Ze,Oe)}return new Mn(nt,Ze)}function ui(Ze){for(var Te=Ze.g.length+1,Ve=[],Qe=0;Qe<Te;Qe++)Ve[Qe]=Ze.i(Qe)<<1|Ze.i(Qe-1)>>>31;return new m(Ve,Ze.h)}function Rr(Ze,Te){var Ve=Te>>5;Te%=32;for(var Qe=Ze.g.length-Ve,nt=[],lt=0;lt<Qe;lt++)nt[lt]=0<Te?Ze.i(lt+Ve)>>>Te|Ze.i(lt+Ve+1)<<32-Te:Ze.i(lt+Ve);return new m(nt,Ze.h)}(a=m.prototype).m=function(){if(Kt(this))return-$t(this).m();for(var Ze=0,Te=1,Ve=0;Ve<this.g.length;Ve++){var Qe=this.i(Ve);Ze+=(0<=Qe?Qe:4294967296+Qe)*Te,Te*=4294967296}return Ze},a.toString=function(Ze){if(2>(Ze=Ze||10)||36<Ze)throw Error("radix out of range: "+Ze);if(kt(this))return"0";if(Kt(this))return"-"+$t(this).toString(Ze);for(var Te=B(Math.pow(Ze,6)),Ve=this,Qe="";;){var nt=dr(Ve,Te).g,lt=((0<(Ve=An(Ve,nt.j(Te))).g.length?Ve.g[0]:Ve.h)>>>0).toString(Ze);if(kt(Ve=nt))return lt+Qe;for(;6>lt.length;)lt="0"+lt;Qe=lt+Qe}},a.i=function(Ze){return 0>Ze?0:Ze<this.g.length?this.g[Ze]:this.h},a.l=function(Ze){return Kt(Ze=An(this,Ze))?-1:kt(Ze)?0:1},a.abs=function(){return Kt(this)?$t(this):this},a.add=function(Ze){for(var Te=Math.max(this.g.length,Ze.g.length),Ve=[],Qe=0,nt=0;nt<=Te;nt++){var lt=Qe+(65535&this.i(nt))+(65535&Ze.i(nt)),Oe=(lt>>>16)+(this.i(nt)>>>16)+(Ze.i(nt)>>>16);Qe=Oe>>>16,Ve[nt]=(Oe&=65535)<<16|(lt&=65535)}return new m(Ve,-2147483648&Ve[Ve.length-1]?-1:0)},a.j=function(Ze){if(kt(this)||kt(Ze))return le;if(Kt(this))return Kt(Ze)?$t(this).j($t(Ze)):$t($t(this).j(Ze));if(Kt(Ze))return $t(this.j($t(Ze)));if(0>this.l(ot)&&0>Ze.l(ot))return B(this.m()*Ze.m());for(var Te=this.g.length+Ze.g.length,Ve=[],Qe=0;Qe<2*Te;Qe++)Ve[Qe]=0;for(Qe=0;Qe<this.g.length;Qe++)for(var nt=0;nt<Ze.g.length;nt++){var lt=this.i(Qe)>>>16,Oe=65535&this.i(Qe),Ru=Ze.i(nt)>>>16,Qd=65535&Ze.i(nt);Ve[2*Qe+2*nt]+=Oe*Qd,Bn(Ve,2*Qe+2*nt),Ve[2*Qe+2*nt+1]+=lt*Qd,Bn(Ve,2*Qe+2*nt+1),Ve[2*Qe+2*nt+1]+=Oe*Ru,Bn(Ve,2*Qe+2*nt+1),Ve[2*Qe+2*nt+2]+=lt*Ru,Bn(Ve,2*Qe+2*nt+2)}for(Qe=0;Qe<Te;Qe++)Ve[Qe]=Ve[2*Qe+1]<<16|Ve[2*Qe];for(Qe=Te;Qe<2*Te;Qe++)Ve[Qe]=0;return new m(Ve,0)},a.A=function(Ze){return dr(this,Ze).h},a.and=function(Ze){for(var Te=Math.max(this.g.length,Ze.g.length),Ve=[],Qe=0;Qe<Te;Qe++)Ve[Qe]=this.i(Qe)&Ze.i(Qe);return new m(Ve,this.h&Ze.h)},a.or=function(Ze){for(var Te=Math.max(this.g.length,Ze.g.length),Ve=[],Qe=0;Qe<Te;Qe++)Ve[Qe]=this.i(Qe)|Ze.i(Qe);return new m(Ve,this.h|Ze.h)},a.xor=function(Ze){for(var Te=Math.max(this.g.length,Ze.g.length),Ve=[],Qe=0;Qe<Te;Qe++)Ve[Qe]=this.i(Qe)^Ze.i(Qe);return new m(Ve,this.h^Ze.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,He=je.Md5=o,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=B,m.fromString=function te(Ze,Te){if(0==Ze.length)throw Error("number format error: empty string");if(2>(Te=Te||10)||36<Te)throw Error("radix out of range: "+Te);if("-"==Ze.charAt(0))return $t(te(Ze.substring(1),Te));if(0<=Ze.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ve=B(Math.pow(Te,8)),Qe=le,nt=0;nt<Ze.length;nt+=8){var lt=Math.min(8,Ze.length-nt),Oe=parseInt(Ze.substring(nt,nt+lt),Te);8>lt?(lt=B(Math.pow(Te,lt)),Qe=Qe.j(lt).add(B(Oe))):Qe=(Qe=Qe.j(Ve)).add(B(Oe))}return Qe},Fe=je.Integer=m}).apply(typeof be<"u"?be:typeof self<"u"?self:typeof window<"u"?window:{});var Me,gt,Ge,Mt,yt,Vt,Tt,sn,We,oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(g,R,$){return g==Array.prototype||g==Object.prototype||(g[R]=$.value),g},o=function r(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof oe&&oe];for(var R=0;R<g.length;++R){var $=g[R];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function u(g,R){if(R)e:{var $=o;g=g.split(".");for(var ue=0;ue<g.length-1;ue++){var rt=g[ue];if(!(rt in $))break e;$=$[rt]}(R=R(ue=$[g=g[g.length-1]]))!=ue&&null!=R&&e($,g,{configurable:!0,writable:!0,value:R})}}("Array.prototype.values",function(g){return g||function(){return function f(g,R){g instanceof String&&(g+="");var $=0,ue=!1,rt={next:function(){if(!ue&&$<g.length){var wt=$++;return{value:R(wt,g[wt]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}(this,function(R,$){return $})}});var m=m||{},T=this||self;function M(g){var R=typeof g;return"array"==(R="object"!=R?R:g?Array.isArray(g)?"array":R:"null")||"object"==R&&"number"==typeof g.length}function B(g){var R=typeof g;return"object"==R&&null!=g||"function"==R}function te(g,R,$){return g.call.apply(g.bind,arguments)}function le(g,R,$){if(!g)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,ue),g.apply(R,rt)}}return function(){return g.apply(R,arguments)}}function Re(g,R,$){return(Re=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?te:le).apply(null,arguments)}function ot(g,R){var $=Array.prototype.slice.call(arguments,1);return function(){var ue=$.slice();return ue.push.apply(ue,arguments),g.apply(this,ue)}}function kt(g,R){function $(){}$.prototype=R.prototype,g.aa=R.prototype,g.prototype=new $,g.prototype.constructor=g,g.Qb=function(ue,rt,wt){for(var pn=Array(arguments.length-2),Ii=2;Ii<arguments.length;Ii++)pn[Ii-2]=arguments[Ii];return R.prototype[rt].apply(ue,pn)}}function Kt(g){const R=g.length;if(0<R){const $=Array(R);for(let ue=0;ue<R;ue++)$[ue]=g[ue];return $}return[]}function $t(g,R){for(let $=1;$<arguments.length;$++){const ue=arguments[$];if(M(ue)){const rt=g.length||0,wt=ue.length||0;g.length=rt+wt;for(let pn=0;pn<wt;pn++)g[rt+pn]=ue[pn]}else g.push(ue)}}function Bn(g){return/^[\s\xa0]*$/.test(g)}function Mn(){var g=T.navigator;return g&&(g=g.userAgent)?g:""}function dr(g){return dr[" "](g),g}dr[" "]=function(){};var ui=!(-1==Mn().indexOf("Gecko")||-1!=Mn().toLowerCase().indexOf("webkit")&&-1==Mn().indexOf("Edge")||-1!=Mn().indexOf("Trident")||-1!=Mn().indexOf("MSIE")||-1!=Mn().indexOf("Edge"));function Rr(g,R,$){for(const ue in g)R.call($,g[ue],ue,g)}function Te(g){const R={};for(const $ in g)R[$]=g[$];return R}const Ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(g,R){let $,ue;for(let rt=1;rt<arguments.length;rt++){for($ in ue=arguments[rt],ue)g[$]=ue[$];for(let wt=0;wt<Ve.length;wt++)$=Ve[wt],Object.prototype.hasOwnProperty.call(ue,$)&&(g[$]=ue[$])}}function nt(g){var R=1;g=g.split(":");const $=[];for(;0<R&&g.length;)$.push(g.shift()),R--;return g.length&&$.push(g.join(":")),$}function lt(g){T.setTimeout(()=>{throw g},0)}function Oe(){var g=Qm;let R=null;return g.g&&(R=g.g,g.g=g.g.next,g.g||(g.h=null),R.next=null),R}var Qd=new class An{constructor(R,$){this.i=R,this.j=$,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}(()=>new zs,g=>g.reset());class zs{constructor(){this.next=this.g=this.h=null}set(R,$){this.h=R,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let Jd,Xd=!1,Qm=new class Ru{constructor(){this.h=this.g=null}add(R,$){const ue=Qd.get();ue.set(R,$),this.h?this.h.next=ue:this.g=ue,this.h=ue}},Sf=()=>{const g=T.Promise.resolve(void 0);Jd=()=>{g.then(Jm)}};var Jm=()=>{for(var g;g=Oe();){try{g.h.call(g.g)}catch($){lt($)}var R=Qd;R.j(g),100>R.h&&(R.h++,g.next=R.g,R.g=g)}Xd=!1};function lc(){this.s=this.s,this.C=this.C}function cs(g,R){this.type=g,this.g=this.target=R,this.defaultPrevented=!1}lc.prototype.s=!1,lc.prototype.ma=function(){this.s||(this.s=!0,this.N())},lc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},cs.prototype.h=function(){this.defaultPrevented=!0};var Xy=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var g=!1,R=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const $=()=>{};T.addEventListener("test",$,R),T.removeEventListener("test",$,R)}catch{}return g}();function Ql(g,R){if(cs.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var $=this.type=g.type,ue=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=R,R=g.relatedTarget){if(ui){e:{try{dr(R.nodeName);var rt=!0;break e}catch{}rt=!1}rt||(R=null)}}else"mouseover"==$?R=g.fromElement:"mouseout"==$&&(R=g.toElement);this.relatedTarget=R,ue?(this.clientX=void 0!==ue.clientX?ue.clientX:ue.pageX,this.clientY=void 0!==ue.clientY?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:ev[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ql.aa.h.call(this)}}kt(Ql,cs);var ev={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),lg=0;function tv(g,R,$,ue,rt){this.listener=g,this.proxy=null,this.src=R,this.type=$,this.capture=!!ue,this.ha=rt,this.key=++lg,this.da=this.fa=!1}function Pf(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Mf(g){this.src=g,this.g={},this.h=0}function dg(g,R){var $=R.type;if($ in g.g){var wt,ue=g.g[$],rt=Array.prototype.indexOf.call(ue,R,void 0);(wt=0<=rt)&&Array.prototype.splice.call(ue,rt,1),wt&&(Pf(R),0==g.g[$].length&&(delete g.g[$],g.h--))}}function hg(g,R,$,ue){for(var rt=0;rt<g.length;++rt){var wt=g[rt];if(!wt.da&&wt.listener==R&&wt.capture==!!$&&wt.ha==ue)return rt}return-1}Mf.prototype.add=function(g,R,$,ue,rt){var wt=g.toString();(g=this.g[wt])||(g=this.g[wt]=[],this.h++);var pn=hg(g,R,ue,rt);return-1<pn?(R=g[pn],$||(R.fa=!1)):((R=new tv(R,this.src,wt,!!ue,rt)).fa=$,g.push(R)),R};var ta="closure_lm_"+(1e6*Math.random()|0),th={};function Xm(g,R,$,ue,rt){if(ue&&ue.once)return pg(g,R,$,ue,rt);if(Array.isArray(R)){for(var wt=0;wt<R.length;wt++)Xm(g,R[wt],$,ue,rt);return null}return $=Nf($),g&&g[eh]?g.K(R,$,B(ue)?!!ue.capture:!!ue,rt):fg(g,R,$,!1,ue,rt)}function fg(g,R,$,ue,rt,wt){if(!R)throw Error("Invalid event type");var pn=B(rt)?!!rt.capture:!!rt,Ii=xf(g);if(Ii||(g[ta]=Ii=new Mf(g)),($=Ii.add(R,$,ue,pn,wt)).proxy)return $;if(ue=function nv(){const R=mE;return function g($){return R.call(g.src,g.listener,$)}}(),$.proxy=ue,ue.src=g,ue.listener=$,g.addEventListener)Xy||(rt=pn),void 0===rt&&(rt=!1),g.addEventListener(R.toString(),ue,rt);else if(g.attachEvent)g.attachEvent(Rf(R.toString()),ue);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(ue)}return $}function pg(g,R,$,ue,rt){if(Array.isArray(R)){for(var wt=0;wt<R.length;wt++)pg(g,R[wt],$,ue,rt);return null}return $=Nf($),g&&g[eh]?g.L(R,$,B(ue)?!!ue.capture:!!ue,rt):fg(g,R,$,!0,ue,rt)}function gg(g,R,$,ue,rt){if(Array.isArray(R))for(var wt=0;wt<R.length;wt++)gg(g,R[wt],$,ue,rt);else ue=B(ue)?!!ue.capture:!!ue,$=Nf($),g&&g[eh]?(g=g.i,(R=String(R).toString())in g.g&&-1<($=hg(wt=g.g[R],$,ue,rt))&&(Pf(wt[$]),Array.prototype.splice.call(wt,$,1),0==wt.length&&(delete g.g[R],g.h--))):g&&(g=xf(g))&&(R=g.g[R.toString()],g=-1,R&&(g=hg(R,$,ue,rt)),($=-1<g?R[g]:null)&&Jl($))}function Jl(g){if("number"!=typeof g&&g&&!g.da){var R=g.src;if(R&&R[eh])dg(R.i,g);else{var $=g.type,ue=g.proxy;R.removeEventListener?R.removeEventListener($,ue,g.capture):R.detachEvent?R.detachEvent(Rf($),ue):R.addListener&&R.removeListener&&R.removeListener(ue),($=xf(R))?(dg($,g),0==$.h&&($.src=null,R[ta]=null)):Pf(g)}}}function Rf(g){return g in th?th[g]:th[g]="on"+g}function mE(g,R){if(g.da)g=!0;else{R=new Ql(R,this);var $=g.listener,ue=g.ha||g.src;g.fa&&Jl(g),g=$.call(ue,R)}return g}function xf(g){return(g=g[ta])instanceof Mf?g:null}var Of="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nf(g){return"function"==typeof g?g:(g[Of]||(g[Of]=function(R){return g.handleEvent(R)}),g[Of])}function Yo(){lc.call(this),this.i=new Mf(this),this.M=this,this.F=null}function Qo(g,R){var $,ue=g.F;if(ue)for($=[];ue;ue=ue.F)$.push(ue);if(g=g.M,ue=R.type||R,"string"==typeof R)R=new cs(R,g);else if(R instanceof cs)R.target=R.target||g;else{var rt=R;Qe(R=new cs(ue,g),rt)}if(rt=!0,$)for(var wt=$.length-1;0<=wt;wt--){var pn=R.g=$[wt];rt=na(pn,ue,!0,R)&&rt}if(rt=na(pn=R.g=g,ue,!0,R)&&rt,rt=na(pn,ue,!1,R)&&rt,$)for(wt=0;wt<$.length;wt++)rt=na(pn=R.g=$[wt],ue,!1,R)&&rt}function na(g,R,$,ue){if(!(R=g.i.g[String(R)]))return!0;R=R.concat();for(var rt=!0,wt=0;wt<R.length;++wt){var pn=R[wt];if(pn&&!pn.da&&pn.capture==$){var Ii=pn.listener,Fo=pn.ha||pn.src;pn.fa&&dg(g.i,pn),rt=!1!==Ii.call(Fo,ue)&&rt}}return rt&&!ue.defaultPrevented}function e_(g,R,$){if("function"==typeof g)$&&(g=Re(g,$));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=Re(g.handleEvent,g)}return 2147483647<Number(R)?-1:T.setTimeout(g,R||0)}function t_(g){g.g=e_(()=>{g.g=null,g.i&&(g.i=!1,t_(g))},g.l);const R=g.h;g.h=null,g.m.apply(null,R)}kt(Yo,lc),Yo.prototype[eh]=!0,Yo.prototype.removeEventListener=function(g,R,$,ue){gg(this,g,R,$,ue)},Yo.prototype.N=function(){if(Yo.aa.N.call(this),this.i){var R,g=this.i;for(R in g.g){for(var $=g.g[R],ue=0;ue<$.length;ue++)Pf($[ue]);delete g.g[R],g.h--}}this.F=null},Yo.prototype.K=function(g,R,$,ue){return this.i.add(String(g),R,!1,$,ue)},Yo.prototype.L=function(g,R,$,ue){return this.i.add(String(g),R,!0,$,ue)};class mg extends lc{constructor(R,$){super(),this.m=R,this.l=$,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:t_(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nh(g){lc.call(this),this.h=g,this.g={}}kt(nh,lc);var _g=[];function n_(g){Rr(g.g,function(R,$){this.g.hasOwnProperty($)&&Jl(R)},g),g.g={}}nh.prototype.N=function(){nh.aa.N.call(this),n_(this)},nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xl=T.JSON.stringify,rh=T.JSON.parse,r_=class{stringify(g){return T.JSON.stringify(g,void 0)}parse(g){return T.JSON.parse(g,void 0)}};function ed(){}function i_(){}ed.prototype.h=null;var td={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kf(){cs.call(this,"d")}function yg(){cs.call(this,"c")}kt(kf,cs),kt(yg,cs);var rl={},vg=null;function ih(){return vg=vg||new Yo}function nd(g){cs.call(this,rl.La,g)}function oh(g){const R=ih();Qo(R,new nd(R))}function Eg(g,R){cs.call(this,rl.STAT_EVENT,g),this.stat=R}function ls(g){const R=ih();Qo(R,new Eg(R,g))}function o_(g,R){cs.call(this,rl.Ma,g),this.size=R}function sh(g,R){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){g()},R)}function xu(){this.g=!0}function rd(g,R,$,ue){g.info(function(){return"XMLHTTP TEXT ("+R+"): "+function av(g,R){if(!g.g)return R;if(!R)return null;try{var $=JSON.parse(R);if($)for(g=0;g<$.length;g++)if(Array.isArray($[g])){var ue=$[g];if(!(2>ue.length)){var rt=ue[1];if(Array.isArray(rt)&&!(1>rt.length)){var wt=rt[0];if("noop"!=wt&&"stop"!=wt&&"close"!=wt)for(var pn=1;pn<rt.length;pn++)rt[pn]=""}}}return Xl($)}catch{return R}}(g,$)+(ue?" "+ue:"")})}rl.La="serverreachability",kt(nd,cs),rl.STAT_EVENT="statevent",kt(Eg,cs),rl.Ma="timingevent",kt(o_,cs),xu.prototype.xa=function(){this.g=!1},xu.prototype.info=function(){};var Ig,Ff={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},s_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ah(){}function Qa(g,R,$,ue){this.j=g,this.i=R,this.l=$,this.R=ue||1,this.U=new nh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new a_}function a_(){this.i=null,this.g="",this.h=!1}kt(ah,ed),ah.prototype.g=function(){return new XMLHttpRequest},ah.prototype.i=function(){return{}},Ig=new ah;var uh={},Cg={};function wg(g,R,$){g.L=1,g.v=ku(Sa(R)),g.m=$,g.P=!0,u_(g,null)}function u_(g,R){g.F=Date.now(),Lf(g),g.A=Sa(g.v);var $=g.A,ue=g.R;Array.isArray(ue)||(ue=[String(ue)]),Pg($.i,"t",ue),g.C=0,$=g.j.J,g.h=new a_,g.g=P_(g.j,$?R:null,!g.m),0<g.O&&(g.M=new mg(Re(g.Y,g,g.g),g.O)),R=g.U,$=g.g,ue=g.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(_g[0]=rt.toString()),rt=_g);for(var wt=0;wt<rt.length;wt++){var pn=Xm($,rt[wt],ue||R.handleEvent,!1,R.h||R);if(!pn)break;R.g[pn.key]=pn}R=g.H?Te(g.H):{},g.m?(g.u||(g.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,R)):(g.u="GET",g.g.ea(g.A,g.u,null,R)),oh(),function iv(g,R,$,ue,rt,wt){g.info(function(){if(g.g)if(wt)for(var pn="",Ii=wt.split("&"),Fo=0;Fo<Ii.length;Fo++){var ii=Ii[Fo].split("=");if(1<ii.length){var Ho=ii[0];ii=ii[1];var Xo=Ho.split("_");pn=2<=Xo.length&&"type"==Xo[1]?pn+(Ho+"=")+ii+"&":pn+(Ho+"=redacted&")}}else pn=null;else pn=wt;return"XMLHTTP REQ ("+ue+") [attempt "+rt+"]: "+R+"\n"+$+"\n"+pn})}(g.i,g.u,g.A,g.l,g.R,g.m)}function c_(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function uv(g,R){var $=g.C,ue=R.indexOf("\n",$);return-1==ue?Cg:($=Number(R.substring($,ue)),isNaN($)?uh:(ue+=1)+$>R.length?Cg:(R=R.slice(ue,ue+$),g.C=ue+$,R))}function Lf(g){g.S=Date.now()+g.I,l_(g,g.I)}function l_(g,R){if(null!=g.B)throw Error("WatchDog timer not null");g.B=sh(Re(g.ba,g),R)}function Vf(g){g.B&&(T.clearTimeout(g.B),g.B=null)}function id(g){0==g.j.G||g.J||A_(g.j,g)}function il(g){Vf(g);var R=g.M;R&&"function"==typeof R.ma&&R.ma(),g.M=null,n_(g.U),g.g&&(R=g.g,g.g=null,R.abort(),R.ma())}function d_(g,R){try{var $=g.j;if(0!=$.G&&($.g==g||bg($.h,g)))if(!g.K&&bg($.h,g)&&3==$.G){try{var ue=$.Da.g.parse(R)}catch{ue=null}if(Array.isArray(ue)&&3==ue.length){var rt=ue;if(0==rt[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<g.F))break e;Wf($),xg($)}zf($),ls(18)}}else $.za=rt[1],0<$.za-$.T&&37500>rt[2]&&$.F&&0==$.v&&!$.C&&($.C=sh(Re($.Za,$),6e3));if(1>=ch($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else gc($,11)}else if((g.K||$.g==g)&&Wf($),!Bn(R))for(rt=$.Da.g.parse(R),R=0;R<rt.length;R++){let ii=rt[R];if($.T=ii[0],ii=ii[1],2==$.G)if("c"==ii[0]){$.K=ii[1],$.ia=ii[2];const Ho=ii[3];null!=Ho&&($.la=Ho,$.j.info("VER="+$.la));const Xo=ii[4];null!=Xo&&($.Aa=Xo,$.j.info("SVER="+$.Aa));const dd=ii[5];null!=dd&&"number"==typeof dd&&0<dd&&($.L=ue=1.5*dd,$.j.info("backChannelRequestTimeoutMs_="+ue)),ue=$;const ra=g.g;if(ra){const mh=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var wt=ue.h;wt.g||-1==mh.indexOf("spdy")&&-1==mh.indexOf("quic")&&-1==mh.indexOf("h2")||(wt.j=wt.l,wt.g=new Set,wt.h&&(Dg(wt,wt.h),wt.h=null))}if(ue.D){const Kf=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;Kf&&(ue.ya=Kf,gi(ue.I,ue.D,Kf))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-g.F,$.j.info("Handshake RTT: "+$.R+"ms"));var pn=g;if((ue=$).qa=Zf(ue,ue.J?ue.ia:null,ue.W),pn.K){Uf(ue.h,pn);var Ii=pn,Fo=ue.L;Fo&&(Ii.I=Fo),Ii.B&&(Vf(Ii),Lf(Ii)),ue.g=pn}else D_(ue);0<$.i.length&&Hf($)}else"stop"!=ii[0]&&"close"!=ii[0]||gc($,7);else 3==$.G&&("stop"==ii[0]||"close"==ii[0]?"stop"==ii[0]?gc($,7):ud($):"noop"!=ii[0]&&$.l&&$.l.ta(ii),$.v=0)}oh()}catch{}}function Tg(g){this.l=g||10,g=T.PerformanceNavigationTiming?0<(g=T.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function ch(g){return g.h?1:g.g?g.g.size:0}function bg(g,R){return g.h?g.h==R:!!g.g&&g.g.has(R)}function Dg(g,R){g.g?g.g.add(R):g.h=R}function Uf(g,R){g.h&&g.h==R?g.h=null:g.g&&g.g.has(R)&&g.g.delete(R)}function f_(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let R=g.i;for(const $ of g.g.values())R=R.concat($.D);return R}return Kt(g.i)}function Jo(g,R){if(g.forEach&&"function"==typeof g.forEach)g.forEach(R,void 0);else if(M(g)||"string"==typeof g)Array.prototype.forEach.call(g,R,void 0);else for(var $=function lh(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(M(g)||"string"==typeof g){var R=[];g=g.length;for(var $=0;$<g;$++)R.push($);return R}R=[],$=0;for(const ue in g)R[$++]=ue;return R}}}(g),ue=function Ja(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(M(g)){for(var R=[],$=g.length,ue=0;ue<$;ue++)R.push(g[ue]);return R}for(ue in R=[],$=0,g)R[$++]=g[ue];return R}(g),rt=ue.length,wt=0;wt<rt;wt++)R.call(void 0,ue[wt],$&&$[wt],g)}Qa.prototype.ca=function(g){g=g.target;const R=this.M;R&&3==Lu(g)?R.j():this.Y(g)},Qa.prototype.Y=function(g){try{if(g==this.g)e:{const Xo=Lu(this.g);var R=this.g.Ba();if(this.g.Z(),!(3>Xo)&&(3!=Xo||this.g&&(this.h.h||this.g.oa()||C_(this.g)))){this.J||4!=Xo||7==R||oh(),Vf(this);var $=this.g.Z();this.X=$;t:if(c_(this)){var ue=C_(this.g);g="";var rt=ue.length,wt=4==Lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){il(this),id(this);var pn="";break t}this.h.i=new T.TextDecoder}for(R=0;R<rt;R++)this.h.h=!0,g+=this.h.i.decode(ue[R],{stream:!(wt&&R==rt-1)});ue.length=0,this.h.g+=g,this.C=0,pn=this.h.g}else pn=this.g.oa();if(this.o=200==$,function ov(g,R,$,ue,rt,wt,pn){g.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+rt+"]: "+R+"\n"+$+"\n"+wt+" "+pn})}(this.i,this.u,this.A,this.l,this.R,Xo,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Ii,Fo=this.g;if((Ii=Fo.g?Fo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bn(Ii)){var ii=Ii;break t}}ii=null}if(!($=ii)){this.o=!1,this.s=3,ls(12),il(this),id(this);break e}rd(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,d_(this,$)}if(this.P){let ra;for($=!0;!this.J&&this.C<pn.length;){if(ra=uv(this,pn),ra==Cg){4==Xo&&(this.s=4,ls(14),$=!1),rd(this.i,this.l,null,"[Incomplete Response]");break}if(ra==uh){this.s=4,ls(15),rd(this.i,this.l,pn,"[Invalid Chunk]"),$=!1;break}rd(this.i,this.l,ra,null),d_(this,ra)}if(c_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Xo||0!=pn.length||this.h.h||(this.s=1,ls(16),$=!1),this.o=this.o&&$,$){if(0<pn.length&&!this.W){this.W=!0;var Ho=this.j;Ho.g==this&&Ho.ba&&!Ho.M&&(Ho.j.info("Great, no buffering proxy detected. Bytes received: "+pn.length),Gf(Ho),Ho.M=!0,ls(11))}}else rd(this.i,this.l,pn,"[Invalid Chunked Response]"),il(this),id(this)}else rd(this.i,this.l,pn,null),d_(this,pn);4==Xo&&il(this),this.o&&!this.J&&(4==Xo?A_(this.j,this):(this.o=!1,Lf(this)))}else(function hv(g){const R={};g=(g.g&&2<=Lu(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ue=0;ue<g.length;ue++){if(Bn(g[ue]))continue;var $=nt(g[ue]);const rt=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const wt=R[rt]||[];R[rt]=wt,wt.push($)}!function Ze(g,R){for(const $ in g)R.call(void 0,g[$],$,g)}(R,function(ue){return ue.join(", ")})})(this.g),400==$&&0<pn.indexOf("Unknown SID")?(this.s=3,ls(12)):(this.s=0,ls(13)),il(this),id(this)}}}catch{}},Qa.prototype.cancel=function(){this.J=!0,il(this)},Qa.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function sv(g,R){g.info(function(){return"TIMEOUT: "+R})}(this.i,this.A),2!=this.L&&(oh(),ls(17)),il(this),this.s=2,id(this)):l_(this,this.S-g)},Tg.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof $o){this.h=g.h,Ou(this,g.j),this.o=g.o,this.g=g.g,Nu(this,g.s),this.l=g.l;var R=g.i,$=new sd;$.i=R.i,R.g&&($.g=new Map(R.g),$.h=R.h),ol(this,$),this.m=g.m}else g&&(R=String(g).match(dc))?(this.h=!1,Ou(this,R[1]||"",!0),this.o=Xa(R[2]||""),this.g=Xa(R[3]||"",!0),Nu(this,R[4]),this.l=Xa(R[5]||"",!0),ol(this,R[6]||"",!0),this.m=Xa(R[7]||"")):(this.h=!1,this.i=new sd(null,this.h))}function Sa(g){return new $o(g)}function Ou(g,R,$){g.j=$?Xa(R,!0):R,g.j&&(g.j=g.j.replace(/:$/,""))}function Nu(g,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);g.s=R}else g.s=null}function ol(g,R,$){R instanceof sd?(g.i=R,function lv(g,R){R&&!g.j&&(Fu(g),g.i=null,g.g.forEach(function($,ue){var rt=ue.toLowerCase();ue!=rt&&(Ag(this,ue),Pg(this,rt,$))},g)),g.j=R}(g.i,g.h)):($||(R=eu(R,m_)),g.i=new sd(R,g.h))}function gi(g,R,$){g.i.set(R,$)}function ku(g){return gi(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Xa(g,R){return g?R?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function eu(g,R,$){return"string"==typeof g?(g=encodeURI(g).replace(R,od),$&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function od(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}$o.prototype.toString=function(){var g=[],R=this.j;R&&g.push(eu(R,sl,!0),":");var $=this.g;return($||"file"==R)&&(g.push("//"),(R=this.o)&&g.push(eu(R,sl,!0),"@"),g.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&g.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&g.push("/"),g.push(eu($,"/"==$.charAt(0)?g_:p_,!0))),($=this.i.toString())&&g.push("?",$),($=this.m)&&g.push("#",eu($,__)),g.join("")};var g,sl=/[#\/\?@]/g,p_=/[#\?:]/g,g_=/[#\?]/g,m_=/[#\?@]/g,__=/#/g;function sd(g,R){this.h=this.g=null,this.i=g||null,this.j=!!R}function Fu(g){g.g||(g.g=new Map,g.h=0,g.i&&function Bf(g,R){if(g){g=g.split("&");for(var $=0;$<g.length;$++){var ue=g[$].indexOf("="),rt=null;if(0<=ue){var wt=g[$].substring(0,ue);rt=g[$].substring(ue+1)}else wt=g[$];R(wt,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}(g.i,function(R,$){g.add(decodeURIComponent(R.replace(/\+/g," ")),$)}))}function Ag(g,R){Fu(g),R=hc(g,R),g.g.has(R)&&(g.i=null,g.h-=g.g.get(R).length,g.g.delete(R))}function Sg(g,R){return Fu(g),R=hc(g,R),g.g.has(R)}function Pg(g,R,$){Ag(g,R),0<$.length&&(g.i=null,g.g.set(hc(g,R),Kt($)),g.h+=$.length)}function hc(g,R){return R=String(R),g.j&&(R=R.toLowerCase()),R}function fc(g,R,$,ue,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),ue($)}catch{}}function dv(){this.g=new r_}function vE(g,R,$){const ue=$||"";try{Jo(g,function(rt,wt){let pn=rt;B(rt)&&(pn=Xl(rt)),R.push(ue+wt+"="+encodeURIComponent(pn))})}catch(rt){throw R.push(ue+"type="+encodeURIComponent("_badmap")),rt}}function dh(g){this.l=g.Ub||null,this.j=g.eb||!1}function Mg(g,R){Yo.call(this),this.D=g,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function y_(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function hh(g){g.readyState=4,g.l=null,g.j=null,g.v=null,fh(g)}function fh(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function jf(g){let R="";return Rr(g,function($,ue){R+=ue,R+=":",R+=$,R+="\r\n"}),R}function al(g,R,$){e:{for(ue in $){var ue=!1;break e}ue=!0}ue||($=jf($),"string"==typeof g?null!=$&&encodeURIComponent(String($)):gi(g,R,$))}function Ji(g){Yo.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=sd.prototype).add=function(g,R){Fu(this),this.i=null,g=hc(this,g);var $=this.g.get(g);return $||this.g.set(g,$=[]),$.push(R),this.h+=1,this},a.forEach=function(g,R){Fu(this),this.g.forEach(function($,ue){$.forEach(function(rt){g.call(R,rt,ue,this)},this)},this)},a.na=function(){Fu(this);const g=Array.from(this.g.values()),R=Array.from(this.g.keys()),$=[];for(let ue=0;ue<R.length;ue++){const rt=g[ue];for(let wt=0;wt<rt.length;wt++)$.push(R[ue])}return $},a.V=function(g){Fu(this);let R=[];if("string"==typeof g)Sg(this,g)&&(R=R.concat(this.g.get(hc(this,g))));else{g=Array.from(this.g.values());for(let $=0;$<g.length;$++)R=R.concat(g[$])}return R},a.set=function(g,R){return Fu(this),this.i=null,Sg(this,g=hc(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[R]),this.h+=1,this},a.get=function(g,R){return g&&0<(g=this.V(g)).length?String(g[0]):R},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],R=Array.from(this.g.keys());for(var $=0;$<R.length;$++){var ue=R[$];const wt=encodeURIComponent(String(ue)),pn=this.V(ue);for(ue=0;ue<pn.length;ue++){var rt=wt;""!==pn[ue]&&(rt+="="+encodeURIComponent(String(pn[ue]))),g.push(rt)}}return this.i=g.join("&")},kt(dh,ed),dh.prototype.g=function(){return new Mg(this.l,this.j)},dh.prototype.i=(g={},function(){return g}),kt(Mg,Yo),(a=Mg.prototype).open=function(g,R){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=R,this.readyState=1,fh(this)},a.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(R.body=g),(this.D||T).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hh(this)),this.readyState=0},a.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,fh(this)),this.g&&(this.readyState=3,fh(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y_(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var R=g.value?g.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!g.done}))&&(this.response=this.responseText+=R)}g.done?hh(this):fh(this),3==this.readyState&&y_(this)}},a.Ra=function(g){this.g&&(this.response=this.responseText=g,hh(this))},a.Qa=function(g){this.g&&(this.response=g,hh(this))},a.ga=function(){this.g&&hh(this)},a.setRequestHeader=function(g,R){this.u.append(g,R)},a.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],R=this.h.entries();for(var $=R.next();!$.done;)g.push(($=$.value)[0]+": "+$[1]),$=R.next();return g.join("\r\n")},Object.defineProperty(Mg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),kt(Ji,Yo);var $f=/^https?$/i,v_=["POST","PUT"];function ad(g,R){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=R,g.m=5,Rg(g),pc(g)}function Rg(g){g.A||(g.A=!0,Qo(g,"complete"),Qo(g,"error"))}function E_(g){if(g.h&&typeof m<"u"&&(!g.v[1]||4!=Lu(g)||2!=g.Z()))if(g.u&&4==Lu(g))e_(g.Ea,0,g);else if(Qo(g,"readystatechange"),4==Lu(g)){g.h=!1;try{const pn=g.Z();e:switch(pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var $;if(!($=R)){var ue;if(ue=0===pn){var rt=String(g.D).match(dc)[1]||null;!rt&&T.self&&T.self.location&&(rt=T.self.location.protocol.slice(0,-1)),ue=!$f.test(rt?rt.toLowerCase():"")}$=ue}if($)Qo(g,"complete"),Qo(g,"success");else{g.m=6;try{var wt=2<Lu(g)?g.g.statusText:""}catch{wt=""}g.l=wt+" ["+g.Z()+"]",Rg(g)}}finally{pc(g)}}}function pc(g,R){if(g.g){I_(g);const $=g.g,ue=g.v[0]?()=>{}:null;g.g=null,g.v=null,R||Qo(g,"ready");try{$.onreadystatechange=ue}catch{}}}function I_(g){g.I&&(T.clearTimeout(g.I),g.I=null)}function Lu(g){return g.g?g.g.readyState:0}function C_(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(g,R,$){return $&&$.internalChannelParams&&$.internalChannelParams[g]||R}function ph(g){this.Aa=0,this.i=[],this.j=new xu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ul("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ul("baseRetryDelayMs",5e3,g),this.cb=ul("retryDelaySeedMs",1e4,g),this.Wa=ul("forwardChannelMaxRetries",2,g),this.wa=ul("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Tg(g&&g.concurrentRequestLimit),this.Da=new dv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ud(g){if(w_(g),3==g.G){var R=g.U++,$=Sa(g.I);if(gi($,"SID",g.K),gi($,"RID",R),gi($,"TYPE","terminate"),cd(g,$),(R=new Qa(g,g.j,R)).L=2,R.v=ku(Sa($)),$=!1,T.navigator&&T.navigator.sendBeacon)try{$=T.navigator.sendBeacon(R.v.toString(),"")}catch{}!$&&T.Image&&((new Image).src=R.v,$=!0),$||(R.g=P_(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Lf(R)}qf(g)}function xg(g){g.g&&(Gf(g),g.g.cancel(),g.g=null)}function w_(g){xg(g),g.u&&(T.clearTimeout(g.u),g.u=null),Wf(g),g.h.cancel(),g.s&&("number"==typeof g.s&&T.clearTimeout(g.s),g.s=null)}function Hf(g){if(!cv(g.h)&&!g.s){g.s=!0;var R=g.Ga;Jd||Sf(),Xd||(Jd(),Xd=!0),Qm.add(R,g),g.B=0}}function T_(g,R){var $;$=R?R.l:g.U++;const ue=Sa(g.I);gi(ue,"SID",g.K),gi(ue,"RID",$),gi(ue,"AID",g.T),cd(g,ue),g.m&&g.o&&al(ue,g.m,g.o),$=new Qa(g,g.j,$,g.B+1),null===g.m&&($.H=g.o),R&&(g.i=R.D.concat(g.i)),R=b_(g,$,1e3),$.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Dg(g.h,$),wg($,ue,R)}function cd(g,R){g.H&&Rr(g.H,function($,ue){gi(R,ue,$)}),g.l&&Jo({},function($,ue){gi(R,ue,$)})}function b_(g,R,$){$=Math.min(g.i.length,$);var ue=g.l?Re(g.l.Na,g.l,g):null;e:{var rt=g.i;let wt=-1;for(;;){const pn=["count="+$];-1==wt?0<$?(wt=rt[0].g,pn.push("ofs="+wt)):wt=0:pn.push("ofs="+wt);let Ii=!0;for(let Fo=0;Fo<$;Fo++){let ii=rt[Fo].g;const Ho=rt[Fo].map;if(ii-=wt,0>ii)wt=Math.max(0,rt[Fo].g-100),Ii=!1;else try{vE(Ho,pn,"req"+ii+"_")}catch{ue&&ue(Ho)}}if(Ii){ue=pn.join("&");break e}}}return g=g.i.splice(0,$),R.D=g,ue}function D_(g){if(!g.g&&!g.u){g.Y=1;var R=g.Fa;Jd||Sf(),Xd||(Jd(),Xd=!0),Qm.add(R,g),g.v=0}}function zf(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=sh(Re(g.Fa,g),S_(g,g.v)),g.v++,0))}function Gf(g){null!=g.A&&(T.clearTimeout(g.A),g.A=null)}function Ng(g){g.g=new Qa(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var R=Sa(g.qa);gi(R,"RID","rpc"),gi(R,"SID",g.K),gi(R,"AID",g.T),gi(R,"CI",g.F?"0":"1"),!g.F&&g.ja&&gi(R,"TO",g.ja),gi(R,"TYPE","xmlhttp"),cd(g,R),g.m&&g.o&&al(R,g.m,g.o),g.L&&(g.g.I=g.L);var $=g.g;g=g.ia,$.L=1,$.v=ku(Sa(R)),$.m=null,$.P=!0,u_($,g)}function Wf(g){null!=g.C&&(T.clearTimeout(g.C),g.C=null)}function A_(g,R){var $=null;if(g.g==R){Wf(g),Gf(g),g.g=null;var ue=2}else{if(!bg(g.h,R))return;$=R.D,Uf(g.h,R),ue=1}if(0!=g.G)if(R.o)if(1==ue){$=R.m?R.m.length:0,R=Date.now()-R.F;var rt=g.B;Qo(ue=ih(),new o_(ue,$)),Hf(g)}else D_(g);else if(3==(rt=R.s)||0==rt&&0<R.X||!(1==ue&&function Og(g,R){return!(ch(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=R.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=sh(Re(g.Ga,g,R),S_(g,g.B)),g.B++,0)))}(g,R)||2==ue&&zf(g)))switch($&&0<$.length&&(R=g.h,R.i=R.i.concat($)),rt){case 1:gc(g,5);break;case 4:gc(g,10);break;case 3:gc(g,6);break;default:gc(g,2)}}function S_(g,R){let $=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||($*=2),$*R}function gc(g,R){if(g.j.info("Error code "+R),2==R){var $=Re(g.fb,g),ue=g.Xa;const rt=!ue;ue=new $o(ue||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Ou(ue,"https"),ku(ue),rt?function _E(g,R){const $=new xu;if(T.Image){const ue=new Image;ue.onload=ot(fc,$,"TestLoadImage: loaded",!0,R,ue),ue.onerror=ot(fc,$,"TestLoadImage: error",!1,R,ue),ue.onabort=ot(fc,$,"TestLoadImage: abort",!1,R,ue),ue.ontimeout=ot(fc,$,"TestLoadImage: timeout",!1,R,ue),T.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=g}else R(!1)}(ue.toString(),$):function yE(g,R){new xu;const ue=new AbortController,rt=setTimeout(()=>{ue.abort(),fc(0,0,!1,R)},1e4);fetch(g,{signal:ue.signal}).then(wt=>{clearTimeout(rt),fc(0,0,!!wt.ok,R)}).catch(()=>{clearTimeout(rt),fc(0,0,!1,R)})}(ue.toString(),$)}else ls(2);g.G=0,g.l&&g.l.sa(R),qf(g),w_(g)}function qf(g){if(g.G=0,g.ka=[],g.l){const R=f_(g.h);(0!=R.length||0!=g.i.length)&&($t(g.ka,R),$t(g.ka,g.i),g.h.i.length=0,Kt(g.i),g.i.length=0),g.l.ra()}}function Zf(g,R,$){var ue=$ instanceof $o?Sa($):new $o($);if(""!=ue.g)R&&(ue.g=R+"."+ue.g),Nu(ue,ue.s);else{var rt=T.location;ue=rt.protocol,R=R?R+"."+rt.hostname:rt.hostname,rt=+rt.port;var wt=new $o(null);ue&&Ou(wt,ue),R&&(wt.g=R),rt&&Nu(wt,rt),$&&(wt.l=$),ue=wt}return R=g.ya,($=g.D)&&R&&gi(ue,$,R),gi(ue,"VER",g.la),cd(g,ue),ue}function P_(g,R,$){if(R&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(R=new Ji(g.Ca&&!g.pa?new dh({eb:$}):g.pa)).Ha(g.J),R}function gh(){}function cl(){}function ys(g,R){Yo.call(this),this.g=new ph(R),this.l=g,this.h=R&&R.messageUrlParams||null,g=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(g?g["X-WebChannel-Content-Type"]=R.messageContentType:g={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(g?g["X-WebChannel-Client-Profile"]=R.va:g={"X-WebChannel-Client-Profile":R.va}),this.g.S=g,(g=R&&R.Sb)&&!Bn(g)&&(this.g.m=g),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!Bn(R)&&(this.g.D=R,null!==(g=this.h)&&R in g&&R in(g=this.h)&&delete g[R]),this.j=new ld(this)}function kg(g){kf.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var R=g.__sm__;if(R){e:{for(const $ in R){g=$;break e}g=void 0}(this.i=g)&&(g=this.i,R=null!==R&&g in R?R[g]:void 0),this.data=R}else this.data=g}function M_(){yg.call(this),this.status=1}function ld(g){this.g=g}(a=Ji.prototype).Ha=function(g){this.J=g},a.ea=function(g,R,$,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);R=R?R.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ig.g(),this.v=function rv(g){return g.h||(g.h=g.i())}(this.o?this.o:Ig),this.g.onreadystatechange=Re(this.Ea,this);try{this.B=!0,this.g.open(R,String(g),!0),this.B=!1}catch(wt){return void ad(this,wt)}if(g=$||"",$=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var rt in ue)$.set(rt,ue[rt]);else{if("function"!=typeof ue.keys||"function"!=typeof ue.get)throw Error("Unknown input type for opt_headers: "+String(ue));for(const wt of ue.keys())$.set(wt,ue.get(wt))}ue=Array.from($.keys()).find(wt=>"content-type"==wt.toLowerCase()),rt=T.FormData&&g instanceof T.FormData,!(0<=Array.prototype.indexOf.call(v_,R,void 0))||ue||rt||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[wt,pn]of $)this.g.setRequestHeader(wt,pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I_(this),this.u=!0,this.g.send(g),this.u=!1}catch(wt){ad(this,wt)}},a.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Qo(this,"complete"),Qo(this,"abort"),pc(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pc(this,!0)),Ji.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?E_(this):this.bb())},a.bb=function(){E_(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Lu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(g){if(this.g){var R=this.g.responseText;return g&&0==R.indexOf(g)&&(R=R.substring(g.length)),rh(R)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=ph.prototype).la=8,a.G=1,a.connect=function(g,R,$,ue){ls(0),this.W=g,this.H=R||{},$&&void 0!==ue&&(this.H.OSID=$,this.H.OAID=ue),this.F=this.X,this.I=Zf(this,null,this.W),Hf(this)},a.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const rt=new Qa(this,this.j,g);let wt=this.o;if(this.S&&(wt?(wt=Te(wt),Qe(wt,this.S)):wt=this.S),null!==this.m||this.O||(rt.H=wt,wt=null),this.P)e:{for(var R=0,$=0;$<this.i.length;$++){var ue=this.i[$];if(void 0===(ue="__data__"in ue.map&&"string"==typeof(ue=ue.map.__data__)?ue.length:void 0))break;if(4096<(R+=ue)){R=$;break e}if(4096===R||$===this.i.length-1){R=$+1;break e}}R=1e3}else R=1e3;R=b_(this,rt,R),gi($=Sa(this.I),"RID",g),gi($,"CVER",22),this.D&&gi($,"X-HTTP-Session-Id",this.D),cd(this,$),wt&&(this.O?R="headers="+encodeURIComponent(String(jf(wt)))+"&"+R:this.m&&al($,this.m,wt)),Dg(this.h,rt),this.Ua&&gi($,"TYPE","init"),this.P?(gi($,"$req",R),gi($,"SID","null"),rt.T=!0,wg(rt,$,null)):wg(rt,$,R),this.G=2}}else 3==this.G&&(g?T_(this,g):0==this.i.length||cv(this.h)||T_(this))},a.Fa=function(){if(this.u=null,Ng(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=sh(Re(this.ab,this),g)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ls(10),xg(this),Ng(this))},a.Za=function(){null!=this.C&&(this.C=null,xg(this),zf(this),ls(19))},a.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ls(2)):(this.j.info("Failed to ping google.com"),ls(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=gh.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},cl.prototype.g=function(g,R){return new ys(g,R)},kt(ys,Yo),ys.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ys.prototype.close=function(){ud(this.g)},ys.prototype.o=function(g){var R=this.g;if("string"==typeof g){var $={};$.__data__=g,g=$}else this.u&&(($={}).__data__=Xl(g),g=$);R.i.push(new class{constructor(g,R){this.g=g,this.map=R}}(R.Ya++,g)),3==R.G&&Hf(R)},ys.prototype.N=function(){this.g.l=null,delete this.j,ud(this.g),delete this.g,ys.aa.N.call(this)},kt(kg,kf),kt(M_,yg),kt(ld,gh),ld.prototype.ua=function(){Qo(this.g,"a")},ld.prototype.ta=function(g){Qo(this.g,new kg(g))},ld.prototype.sa=function(g){Qo(this.g,new M_)},ld.prototype.ra=function(){Qo(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,ys.prototype.send=ys.prototype.o,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,We=ie.createWebChannelTransport=function(){return new cl},sn=ie.getStatEventTarget=function(){return ih()},Tt=ie.Event=rl,Vt=ie.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ff.NO_ERROR=0,Ff.TIMEOUT=8,Ff.HTTP_ERROR=6,yt=ie.ErrorCode=Ff,s_.COMPLETE="complete",Mt=ie.EventType=s_,i_.EventType=td,td.OPEN="a",td.CLOSE="b",td.ERROR="c",td.MESSAGE="d",Yo.prototype.listen=Yo.prototype.K,Ge=ie.WebChannel=i_,gt=ie.FetchXmlHttpFactory=dh,Ji.prototype.listenOnce=Ji.prototype.L,Ji.prototype.getLastError=Ji.prototype.Ka,Ji.prototype.getLastErrorCode=Ji.prototype.Ba,Ji.prototype.getStatus=Ji.prototype.Z,Ji.prototype.getResponseJson=Ji.prototype.Oa,Ji.prototype.getResponseText=Ji.prototype.oa,Ji.prototype.send=Ji.prototype.ea,Ji.prototype.setWithCredentials=Ji.prototype.Ha,Me=ie.XhrIo=Ji}).apply(typeof oe<"u"?oe:typeof self<"u"?self:typeof window<"u"?window:{});const Le="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let Ke="10.12.1";const Ye=new Ce.Yd("@firebase/firestore");function _t(){return Ye.logLevel}function St(a){Ye.setLogLevel(a)}function ge(a,...e){if(Ye.logLevel<=Ce.in.DEBUG){const r=e.map(xn);Ye.debug(`Firestore (${Ke}): ${a}`,...r)}}function Ht(a,...e){if(Ye.logLevel<=Ce.in.ERROR){const r=e.map(xn);Ye.error(`Firestore (${Ke}): ${a}`,...r)}}function Jt(a,...e){if(Ye.logLevel<=Ce.in.WARN){const r=e.map(xn);Ye.warn(`Firestore (${Ke}): ${a}`,...r)}}function xn(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function It(a="Unexpected state"){const e=`FIRESTORE (${Ke}) INTERNAL ASSERTION FAILED: `+a;throw Ht(e),new Error(e)}function et(a,e){a||It()}function Dt(a,e){a||It()}function Pe(a,e){return a}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends me.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class De{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ze{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Je.UNAUTHENTICATED))}shutdown(){}}class Ie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ke{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const f=B=>this.i!==u?(u=this.i,r(B)):Promise.resolve();let m=new De;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new De,e.enqueueRetryable(()=>f(this.currentUser))};const T=()=>{const B=m;e.enqueueRetryable((0,l.Z)(function*(){yield B.promise,yield f(o.currentUser)}))},M=B=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(B=>M(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?M(B):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new De)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(et("string"==typeof o.accessToken),new ze(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return et(null===e||"string"==typeof e),new Je(e)}}class vt{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Et{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new vt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class an{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=f=>{null!=f.error&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,ge("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(et("string"==typeof r.token),this.R=r.token,new an(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _n(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class tr{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=_n(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return o}}function xt(a,e){return a<e?-1:a>e?1:0}function En(a,e,r){return a.length===e.length&&a.every((o,u)=>r(o,e[u]))}function On(a){return a+"\0"}class Ut{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new J(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new J(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new J(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Ut(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Ut(0,0))}static max(){return new Nt(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dr{constructor(e,r,o){void 0===r?r=0:r>e.length&&It(),void 0===o?o=e.length-r:o>e.length-r&&It(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Dr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const f=e.get(u),m=r.get(u);if(f<m)return-1;if(f>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class tn extends Dr{construct(e,r,o){return new tn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new J(ce.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new tn(r)}static emptyPath(){return new tn([])}}const sr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Dr{construct(e,r,o){return new Fn(e,r,o)}static isValidIdentifier(e){return sr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const f=()=>{if(0===o.length)throw new J(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let m=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new J(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[u+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new J(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=M,u+=2}else"`"===T?(m=!m,u++):"."!==T||m?(o+=T,u++):(f(),u++)}if(f(),m)throw new J(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(r)}static emptyPath(){return new Fn([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(tn.fromString(e))}static fromName(e){return new Ot(tn.fromString(e).popFirst(5))}static empty(){return new Ot(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return tn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new tn(e.slice()))}}class cn{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function Cn(a){return a.fields.find(e=>2===e.kind)}function gn(a){return a.fields.filter(e=>2!==e.kind)}cn.UNKNOWN_ID=-1;class cr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Rn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Rn(0,Xt.min())}}function Or(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=Nt.fromTimestamp(1e9===o?new Ut(r+1,0):new Ut(r,o));return new Xt(u,Ot.empty(),e)}function Ci(a){return new Xt(a.readTime,a.key,-1)}class Xt{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Xt(Nt.min(),Ot.empty(),-1)}static max(){return new Xt(Nt.max(),Ot.empty(),-1)}}function Nr(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ot.comparator(a.documentKey,e.documentKey),0!==r?r:xt(a.largestBatchId,e.largestBatchId))}const $n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dn(a){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(a){if(a.code!==ce.FAILED_PRECONDITION||a.message!==$n)throw a;ge("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Be((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Be?r:Be.resolve(r)}catch(r){return Be.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Be.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Be.reject(r)}static resolve(e){return new Be((r,o)=>{r(e)})}static reject(e){return new Be((r,o)=>{o(e)})}static waitFor(e){return new Be((r,o)=>{let u=0,f=0,m=!1;e.forEach(T=>{++u,T.next(()=>{++f,m&&f===u&&r()},M=>o(M))}),m=!0,f===u&&r()})}static or(e){let r=Be.resolve(!1);for(const o of e)r=r.next(u=>u?Be.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,f)=>{o.push(r.call(this,u,f))}),this.waitFor(o)}static mapArray(e,r){return new Be((o,u)=>{const f=e.length,m=new Array(f);let T=0;for(let M=0;M<f;M++){const B=M;r(e[B]).next(te=>{m[B]=te,++T,T===f&&o(m)},te=>u(te))}})}static doWhile(e,r){return new Be((o,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):o()};f()})}}class ft{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new De,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Bt(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=Y(o.target.error);this.V.reject(new Bt(e,u))}}static open(e,r,o,u){try{return new ft(r,e.transaction(u,o))}catch(f){throw new Bt(r,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new gr(r)}}class X{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===X.S((0,me.z$)())&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ge("SimpleDb","Removing database:",e),Yn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(X.C())return!0;const e=(0,me.z$)(),r=X.S(e),o=0<r&&r<10,u=ye(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,l.Z)(function*(){return r.db||(ge("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{o(m.target.result)},f.onblocked=()=>{u(new Bt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const T=m.target.error;u("VersionError"===T.name?new J(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new J(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Bt(e,T))},f.onupgradeneeded=m=>{ge("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.p.O(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{ge("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var f=this;return(0,l.Z)(function*(){const m="readonly"===r;let T=0;for(;;){++T;try{f.db=yield f.M(e);const M=ft.open(f.db,e,m?"readonly":"readwrite",o),B=u(M).next(te=>(M.g(),te)).catch(te=>(M.abort(te),Be.reject(te))).toPromise();return B.catch(()=>{}),yield M.m,B}catch(M){const B=M,te="FirebaseError"!==B.name&&T<3;if(ge("SimpleDb","Transaction failed with error:",B.message,"Retrying:",te),f.close(),!te)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ye(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ht{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Yn(this.B.delete())}}class Bt extends J{constructor(e,r){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Tn(a){return"IndexedDbTransactionError"===a.name}class gr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(ge("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Yn(o)}add(e){return ge("SimpleDb","ADD",this.store.name,e,e),Yn(this.store.add(e))}get(e){return Yn(this.store.get(e)).next(r=>(void 0===r&&(r=null),ge("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ge("SimpleDb","DELETE",this.store.name,e),Yn(this.store.delete(e))}count(){return ge("SimpleDb","COUNT",this.store.name),Yn(this.store.count())}U(e,r){const o=this.options(e,r),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(o.range);return new Be((m,T)=>{f.onerror=M=>{T(M.target.error)},f.onsuccess=M=>{m(M.target.result)}})}{const f=this.cursor(o),m=[];return this.W(f,(T,M)=>{m.push(M)}).next(()=>m)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new Be((u,f)=>{o.onerror=m=>{f(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}j(e,r){ge("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const u=this.cursor(o);return this.W(u,(f,m,T)=>T.delete())}J(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.W(u,r)}Y(e){const r=this.cursor({});return new Be((o,u)=>{r.onerror=f=>{const m=Y(f.target.error);u(m)},r.onsuccess=f=>{const m=f.target.result;m?e(m.primaryKey,m.value).next(T=>{T?m.continue():o()}):o()}})}W(e,r){const o=[];return new Be((u,f)=>{e.onerror=m=>{f(m.target.error)},e.onsuccess=m=>{const T=m.target.result;if(!T)return void u();const M=new ht(T),B=r(T.primaryKey,T.value,M);if(B instanceof Be){const te=B.catch(le=>(M.done(),Be.reject(le)));o.push(te)}M.isDone?u():null===M.K?T.continue():T.continue(M.K)}}).next(()=>Be.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Yn(a){return new Be((e,r)=>{a.onsuccess=o=>{e(o.target.result)},a.onerror=o=>{const u=Y(o.target.error);r(u)}})}let we=!1;function Y(a){const e=X.S((0,me.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return we||(we=!0,setTimeout(()=>{throw o},0)),o}}return a}class V{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;ge("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)(function*(){r.task=null;try{ge("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){Tn(o)?ge("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Dn(o)}yield r.X(6e4)}))}}class x{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,l.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let u=r,f=!0;return Be.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return ge("IndexBackfiller",`Processing collection: ${m}`),this.ne(e,m,u).next(T=>{u-=T,o.add(m)});f=!1})).next(()=>r-u)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(f=>{const m=f.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.re(u,f)).next(T=>(ge("IndexBackfiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,r,T))).next(()=>m.size)}))}re(e,r){let o=e;return r.changes.forEach((u,f)=>{const m=Ci(f);Nr(m,o)>0&&(o=m)}),new Xt(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let O=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function ae(a){return null==a}function xe(a){return 0===a&&1/a==-1/0}function pt(a){return"number"==typeof a&&Number.isInteger(a)&&!xe(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Pt(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Zt(e)),e=nn(a.get(r),e);return Zt(e)}function nn(a,e){let r=e;const o=a.length;for(let u=0;u<o;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Zt(a){return a+"\x01\x01"}function Qt(a){const e=a.length;if(et(e>=2),2===e)return et("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),tn.emptyPath();const r=e-2,o=[];let u="";for(let f=0;f<e;){const m=a.indexOf("\x01",f);switch((m<0||m>r)&&It(),a.charAt(m+1)){case"\x01":const T=a.substring(f,m);let M;0===u.length?M=T:(u+=T,M=u,u=""),o.push(M);break;case"\x10":u+=a.substring(f,m),u+="\0";break;case"\x11":u+=a.substring(f,m+1);break;default:It()}f=m+2}return new tn(o)}const Gn=["userId","batchId"];function vn(a,e){return[a,Pt(e)]}function Qn(a,e,r){return[a,Pt(e),r]}const ki={},Di=["prefixPath","collectionGroup","readTime","documentId"],Gr=["prefixPath","collectionGroup","documentId"],Xi=["collectionGroup","readTime","prefixPath","documentId"],$i=["canonicalId","targetId"],Fr=["targetId","path"],Wn=["path","targetId"],at=["collectionId","parent"],qe=["indexId","uid"],Ct=["uid","sequenceNumber"],en=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bn=["indexId","uid","orderedDocumentKey"],Pn=["userId","collectionPath","documentId"],dn=["userId","collectionPath","largestBatchId"],Er=["userId","collectionGroup","largestBatchId"],fr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ci=[...fr,"documentOverlays"],ho=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lr=ho,Lo=[...lr,"indexConfiguration","indexState","indexEntries"],oi=Lo;class Vo extends nr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Wr(a,e){const r=Pe(a);return X.F(r._e,e)}function vs(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function eo(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function mi(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class rr{constructor(e,r){this.comparator=e,this.root=r||mr.EMPTY}insert(e,r){return new rr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new So(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new So(this.root,e,this.comparator,!1)}getReverseIterator(){return new So(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new So(this.root,e,this.comparator,!0)}}class So{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=o??mr.RED,this.left=u??mr.EMPTY,this.right=f??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,f){return new mr(e??this.key,r??this.value,o??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return mr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1,mr.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,r,o,u,f){return this}insert(e,r,o){return new mr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new vo(this.data.getIterator())}getIteratorFrom(e){return new vo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new _r(this.comparator);return r.data=e,r}}class vo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ai(a){return a.hasNext()?a.getNext():void 0}class _i{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new _i([])}unionWith(e){let r=new _r(Fn.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new _i(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return En(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Fi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ds(){return typeof atob<"u"}class li{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Fi("Invalid base64 string: "+f):f}}(e);return new li(r)}static fromUint8Array(e){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(e);return new li(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const Fs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(a){if(et(!!a),"string"==typeof a){let e=0;const r=Fs.exec(a);if(et(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:yr(a.seconds),nanos:yr(a.nanos)}}function yr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Ir(a){return"string"==typeof a?li.fromBase64String(a):li.fromUint8Array(a)}function zi(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Eo(a){const e=a.mapValue.fields.__previous_value__;return zi(e)?Eo(e):e}function to(a){const e=Hi(a.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}class zo{constructor(e,r,o,u,f,m,T,M,B){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.longPollingOptions=M,this.useFetchStreams=B}}class Nn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Nn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Nn&&e.projectId===this.projectId&&e.database===this.database}}const $r={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yr={nullValue:"NULL_VALUE"};function Si(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?zi(a)?4:wr(a)?9007199254740991:10:It()}function Cr(a,e){if(a===e)return!0;const r=Si(a);if(r!==Si(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return to(a).isEqual(to(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=Hi(u.timestampValue),T=Hi(f.timestampValue);return m.seconds===T.seconds&&m.nanos===T.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,Ir(a.bytesValue).isEqual(Ir(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return yr(u.geoPointValue.latitude)===yr(f.geoPointValue.latitude)&&yr(u.geoPointValue.longitude)===yr(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return yr(u.integerValue)===yr(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=yr(u.doubleValue),T=yr(f.doubleValue);return m===T?xe(m)===xe(T):isNaN(m)&&isNaN(T)}return!1}(a,e);case 9:return En(a.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(u,f){const m=u.mapValue.fields||{},T=f.mapValue.fields||{};if(vs(m)!==vs(T))return!1;for(const M in m)if(m.hasOwnProperty(M)&&(void 0===T[M]||!Cr(m[M],T[M])))return!1;return!0}(a,e);default:return It()}var f}function Io(a,e){return void 0!==(a.values||[]).find(r=>Cr(r,e))}function Gi(a,e){if(a===e)return 0;const r=Si(a),o=Si(e);if(r!==o)return xt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,e.booleanValue);case 2:return function(f,m){const T=yr(f.integerValue||f.doubleValue),M=yr(m.integerValue||m.doubleValue);return T<M?-1:T>M?1:T===M?0:isNaN(T)?isNaN(M)?0:-1:1}(a,e);case 3:return Po(a.timestampValue,e.timestampValue);case 4:return Po(to(a),to(e));case 5:return xt(a.stringValue,e.stringValue);case 6:return function(f,m){const T=Ir(f),M=Ir(m);return T.compareTo(M)}(a.bytesValue,e.bytesValue);case 7:return function(f,m){const T=f.split("/"),M=m.split("/");for(let B=0;B<T.length&&B<M.length;B++){const te=xt(T[B],M[B]);if(0!==te)return te}return xt(T.length,M.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,m){const T=xt(yr(f.latitude),yr(m.latitude));return 0!==T?T:xt(yr(f.longitude),yr(m.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(f,m){const T=f.values||[],M=m.values||[];for(let B=0;B<T.length&&B<M.length;++B){const te=Gi(T[B],M[B]);if(te)return te}return xt(T.length,M.length)}(a.arrayValue,e.arrayValue);case 10:return function(f,m){if(f===$r.mapValue&&m===$r.mapValue)return 0;if(f===$r.mapValue)return 1;if(m===$r.mapValue)return-1;const T=f.fields||{},M=Object.keys(T),B=m.fields||{},te=Object.keys(B);M.sort(),te.sort();for(let le=0;le<M.length&&le<te.length;++le){const Re=xt(M[le],te[le]);if(0!==Re)return Re;const ot=Gi(T[M[le]],B[te[le]]);if(0!==ot)return ot}return xt(M.length,te.length)}(a.mapValue,e.mapValue);default:throw It()}}function Po(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return xt(a,e);const r=Hi(a),o=Hi(e),u=xt(r.seconds,o.seconds);return 0!==u?u:xt(r.nanos,o.nanos)}function wi(a){return Li(a)}function Li(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=Hi(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Ir(a.bytesValue).toBase64():"referenceValue"in a?Ot.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=Li(f);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of o)f?f=!1:u+=",",u+=`${m}:${Li(r.fields[m])}`;return u+"}"}(a.mapValue):It()}function Yt(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Ln(a){return!!a&&"integerValue"in a}function Jn(a){return!!a&&"arrayValue"in a}function yi(a){return!!a&&"nullValue"in a}function Mo(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qr(a){return!!a&&"mapValue"in a}function ao(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return eo(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=ao(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ao(a.arrayValue.values[r]);return e}return Object.assign({},a)}function wr(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wi(a){return"nullValue"in a?Yr:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Yt(Nn.empty(),Ot.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:It()}function qi(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Yt(Nn.empty(),Ot.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?$r:It()}function Vn(a,e){const r=Gi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function Vi(a,e){const r=Gi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!qr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(r)}setAll(e){let r=Fn.emptyPath(),o={},u=[];e.forEach((m,T)=>{if(!r.isImmediateParentOf(T)){const M=this.getFieldsMap(r);this.applyChanges(M,o,u),o={},u=[],r=T.popLast()}m?o[T.lastSegment()]=ao(m):u.push(T.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,u)}delete(e){const r=this.field(e.popLast());qr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];qr(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){eo(r,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new Qr(ao(this.value))}}function q(a){const e=[];return eo(a.fields,(r,o)=>{const u=new Fn([r]);if(qr(o)){const f=q(o.mapValue).fields;if(0===f.length)e.push(u);else for(const m of f)e.push(u.child(m))}else e.push(u)}),new _i(e)}class j{constructor(e,r,o,u,f,m,T){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=f,this.data=m,this.documentState=T}static newInvalidDocument(e){return new j(e,0,Nt.min(),Nt.min(),Nt.min(),Qr.empty(),0)}static newFoundDocument(e,r,o,u){return new j(e,1,r,Nt.min(),o,u,0)}static newNoDocument(e,r){return new j(e,2,r,Nt.min(),Nt.min(),Qr.empty(),0)}static newUnknownDocument(e,r){return new j(e,3,r,Nt.min(),Nt.min(),Qr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof j&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new j(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fe{constructor(e,r){this.position=e,this.inclusive=r}}function Ee(a,e,r){let o=0;for(let u=0;u<a.position.length;u++){const f=e[u],m=a.position[u];if(o=f.field.isKeyField()?Ot.comparator(Ot.fromName(m.referenceValue),r.key):Gi(m,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function $e(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Cr(a.position[r],e.position[r]))return!1;return!0}class mt{constructor(e,r="asc"){this.field=e,this.dir=r}}function Gt(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class hn{}class Rt extends hn{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new Pi(e,r,o):"array-contains"===r?new Tr(e,o):"in"===r?new Go(e,o):"not-in"===r?new Mi(e,o):"array-contains-any"===r?new Es(e,o):new Rt(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Xn(e,o):new ai(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Gi(r,this.value)):null!==r&&Si(this.value)===Si(r)&&this.matchesComparison(Gi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends hn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new un(e,r)}matches(e){return Zn(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zn(a){return"and"===a.op}function wn(a){return"or"===a.op}function Jr(a){return Hr(a)&&Zn(a)}function Hr(a){for(const e of a.filters)if(e instanceof un)return!1;return!0}function Xr(a){if(a instanceof Rt)return a.field.canonicalString()+a.op.toString()+wi(a.value);if(Jr(a))return a.filters.map(e=>Xr(e)).join(",");{const e=a.filters.map(r=>Xr(r)).join(",");return`${a.op}(${e})`}}function Zr(a,e){return a instanceof Rt?(o=a,(u=e)instanceof Rt&&o.op===u.op&&o.field.isEqual(u.field)&&Cr(o.value,u.value)):a instanceof un?function(o,u){return u instanceof un&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((f,m,T)=>f&&Zr(m,u.filters[T]),!0)}(a,e):void It();var o,u}function Lr(a,e){const r=a.filters.concat(e);return un.create(r,a.op)}function Ui(a){return a instanceof Rt?`${(r=a).field.canonicalString()} ${r.op} ${wi(r.value)}`:a instanceof un?function(r){return r.op.toString()+" {"+r.getFilters().map(Ui).join(" ,")+"}"}(a):"Filter";var r}class Pi extends Rt{constructor(e,r,o){super(e,r,o),this.key=Ot.fromName(o.referenceValue)}matches(e){const r=Ot.comparator(e.key,this.key);return this.matchesComparison(r)}}class Xn extends Rt{constructor(e,r){super(e,"in",r),this.keys=zr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ai extends Rt{constructor(e,r){super(e,"not-in",r),this.keys=zr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function zr(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Ot.fromName(o.referenceValue))}class Tr extends Rt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Jn(r)&&Io(r.arrayValue,this.value)}}class Go extends Rt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Io(this.value.arrayValue,r)}}class Mi extends Rt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Io(this.value.arrayValue,r)}}class Es extends Rt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Jn(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Io(this.value.arrayValue,o))}}class Zi{constructor(e,r=null,o=[],u=[],f=null,m=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=m,this.endAt=T,this.ue=null}}function Ls(a,e=null,r=[],o=[],u=null,f=null,m=null){return new Zi(a,e,r,o,u,f,m)}function fo(a){const e=Pe(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Xr(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(f=o).field.canonicalString()+f.dir;var f}).join(","),ae(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>wi(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>wi(o)).join(",")),e.ue=r}return e.ue}function Wo(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Gt(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Zr(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!$e(a.startAt,e.startAt)&&$e(a.endAt,e.endAt)}function aa(a){return Ot.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function Is(a,e){return a.filters.filter(r=>r instanceof Rt&&r.field.isEqual(e))}function vi(a,e,r){let o=Yr,u=!0;for(const f of Is(a,e)){let m=Yr,T=!0;switch(f.op){case"<":case"<=":m=Wi(f.value);break;case"==":case"in":case">=":m=f.value;break;case">":m=f.value,T=!1;break;case"!=":case"not-in":m=Yr}Vn({value:o,inclusive:u},{value:m,inclusive:T})<0&&(o=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];Vn({value:o,inclusive:u},{value:m,inclusive:r.inclusive})<0&&(o=m,u=r.inclusive);break}return{value:o,inclusive:u}}function hs(a,e,r){let o=$r,u=!0;for(const f of Is(a,e)){let m=$r,T=!0;switch(f.op){case">=":case">":m=qi(f.value),T=!1;break;case"==":case"in":case"<=":m=f.value;break;case"<":m=f.value,T=!1;break;case"!=":case"not-in":m=$r}Vi({value:o,inclusive:u},{value:m,inclusive:T})>0&&(o=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];Vi({value:o,inclusive:u},{value:m,inclusive:r.inclusive})>0&&(o=m,u=r.inclusive);break}return{value:o,inclusive:u}}class fs{constructor(e,r=null,o=[],u=[],f=null,m="F",T=null,M=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=m,this.startAt=T,this.endAt=M,this.ce=null,this.le=null,this.he=null}}function Pa(a,e,r,o,u,f,m,T){return new fs(a,e,r,o,u,f,m,T)}function Ar(a){return new fs(a)}function Cs(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function ua(a){return null!==a.collectionGroup}function U(a){const e=Pe(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let T=new _r(Fn.comparator);return m.filters.forEach(M=>{M.getFlattenedFilters().forEach(B=>{B.isInequality()&&(T=T.add(B.field))})}),T})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new mt(f,o))}),r.has(Fn.keyField().canonicalString())||e.ce.push(new mt(Fn.keyField(),o))}return e.ce}function G(a){const e=Pe(a);return e.le||(e.le=function ne(a,e){if("F"===a.limitType)return Ls(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new mt(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new fe(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new fe(a.startAt.position,a.startAt.inclusive):null;return Ls(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,U(a))),e.le}function Se(a,e){const r=a.filters.concat([e]);return new fs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function fn(a,e,r){return new fs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function kn(a,e){return Wo(G(a),G(e))&&a.limitType===e.limitType}function Ri(a){return`${fo(G(a))}|lt:${a.limitType}`}function no(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>Ui(u)).join(", ")}]`),ae(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>wi(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>wi(u)).join(",")),`Target(${o})`}(G(a))}; limitType=${a.limitType})`}function xi(a,e){return e.isFoundDocument()&&function(o,u){const f=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):Ot.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(a,e)&&function(o,u){for(const f of U(o))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,e)&&function(o,u){for(const f of o.filters)if(!f.matches(u))return!1;return!0}(a,e)&&(u=e,!((o=a).startAt&&!function(m,T,M){const B=Ee(m,T,M);return m.inclusive?B<=0:B<0}(o.startAt,U(o),u)||o.endAt&&!function(m,T,M){const B=Ee(m,T,M);return m.inclusive?B>=0:B>0}(o.endAt,U(o),u)));var o,u}function ts(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function po(a){return(e,r)=>{let o=!1;for(const u of U(a)){const f=Co(u,e,r);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function Co(a,e,r){const o=a.field.isKeyField()?Ot.comparator(e.key,r.key):function(f,m,T){const M=m.data.field(f),B=T.data.field(f);return null!==M&&null!==B?Gi(M,B):It()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return It()}}class go{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(r,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return mi(this.inner)}size(){return this.innerSize}}const yc=new rr(Ot.comparator);function Vr(){return yc}const Vs=new rr(Ot.comparator);function Oi(...a){let e=Vs;for(const r of a)e=e.insert(r.key,r);return e}function tu(a){let e=Vs;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function wo(){return Ro()}function ws(){return Ro()}function Ro(){return new go(a=>a.toString(),(a,e)=>a.isEqual(e))}const Us=new rr(Ot.comparator),xo=new _r(Ot.comparator);function zn(...a){let e=xo;for(const r of a)e=e.add(r);return e}const Ws=new _r(xt);function Ma(){return Ws}function Ts(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xe(e)?"-0":e}}function qs(a){return{integerValue:""+a}}function bs(a,e){return pt(e)?qs(e):Ts(a,e)}class Uo{constructor(){this._=void 0}}function ns(a,e,r){return a instanceof da?function(u,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&zi(f)&&(f=Eo(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,e):a instanceof Ds?ha(a,e):a instanceof ps?vc(a,e):function(u,f){const m=la(u,f),T=Zs(m)+Zs(u.Pe);return Ln(m)&&Ln(u.Pe)?qs(T):Ts(u.serializer,T)}(a,e)}function ca(a,e,r){return a instanceof Ds?ha(a,e):a instanceof ps?vc(a,e):r}function la(a,e){return a instanceof Bs?Ln(o=e)||(f=o)&&"doubleValue"in f?e:{integerValue:0}:null;var o,f}class da extends Uo{}class Ds extends Uo{constructor(e){super(),this.elements=e}}function ha(a,e){const r=Bu(e);for(const o of a.elements)r.some(u=>Cr(u,o))||r.push(o);return{arrayValue:{values:r}}}class ps extends Uo{constructor(e){super(),this.elements=e}}function vc(a,e){let r=Bu(e);for(const o of a.elements)r=r.filter(u=>!Cr(u,o));return{arrayValue:{values:r}}}class Bs extends Uo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Zs(a){return yr(a.integerValue||a.doubleValue)}function Bu(a){return Jn(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class js{constructor(e,r){this.field=e,this.transform=r}}class ru{constructor(e,r){this.version=e,this.transformResults=r}}class ei{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Z{}function N(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Kr(a.key,ei.none()):new mn(a.key,a.data,ei.none());{const r=a.data,o=Qr.empty();let u=new _r(Fn.comparator);for(let f of e.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?o.delete(f):o.set(f,m),u=u.add(f)}return new pr(a.key,o,new _i(u.toArray()),ei.none())}}function W(a,e,r){a instanceof mn?function(u,f,m){const T=u.value.clone(),M=Pr(u.fieldTransforms,f,m.transformResults);T.setAll(M),f.convertToFoundDocument(m.version,T).setHasCommittedMutations()}(a,e,r):a instanceof pr?function(u,f,m){if(!b(u.precondition,f))return void f.convertToUnknownDocument(m.version);const T=Pr(u.fieldTransforms,f,m.transformResults),M=f.data;M.setAll(Sr(u)),M.setAll(T),f.convertToFoundDocument(m.version,M).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function _e(a,e,r,o){return a instanceof mn?function(f,m,T,M){if(!b(f.precondition,m))return T;const B=f.value.clone(),te=or(f.fieldTransforms,M,m);return B.setAll(te),m.convertToFoundDocument(m.version,B).setHasLocalMutations(),null}(a,e,r,o):a instanceof pr?function(f,m,T,M){if(!b(f.precondition,m))return T;const B=or(f.fieldTransforms,M,m),te=m.data;return te.setAll(Sr(f)),te.setAll(B),m.convertToFoundDocument(m.version,te).setHasLocalMutations(),null===T?null:T.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(le=>le.field))}(a,e,r,o):(T=r,b(a.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):T);var m,T}function dt(a,e){let r=null;for(const o of a.fieldTransforms){const u=e.data.field(o.field),f=la(o.transform,u||null);null!=f&&(null===r&&(r=Qr.empty()),r.set(o.field,f))}return r||null}function At(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&En(o,u,(f,m)=>function nu(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(o=a.transform)instanceof Ds&&u instanceof Ds||o instanceof ps&&u instanceof ps?En(o.elements,u.elements,Cr):o instanceof Bs&&u instanceof Bs?Cr(o.Pe,u.Pe):o instanceof da&&u instanceof da);var o,u}(f,m))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,u}class mn extends Z{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class pr extends Z{constructor(e,r,o,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Sr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function Pr(a,e,r){const o=new Map;et(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],m=f.transform,T=e.data.field(f.field);o.set(f.field,ca(m,T,r[u]))}return o}function or(a,e,r){const o=new Map;for(const u of a){const f=u.transform,m=r.data.field(u.field);o.set(u.field,ns(f,m,e))}return o}class Kr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ur extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hi{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&W(f,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=_e(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=_e(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=ws();return this.mutations.forEach(u=>{const f=e.get(u.key),m=f.overlayedDocument;let T=this.applyToLocalView(m,f.mutatedFields);T=r.has(u.key)?null:T;const M=N(m,T);null!==M&&o.set(u.key,M),m.isValidDocument()||m.convertToNoDocument(Nt.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),zn())}isEqual(e){return this.batchId===e.batchId&&En(this.mutations,e.mutations,(r,o)=>At(r,o))&&En(this.baseMutations,e.baseMutations,(r,o)=>At(r,o))}}class Ki{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){et(e.mutations.length===o.length);let u=Us;const f=e.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,o[m].version);return new Ki(e,r,o,u)}}class mo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class To{constructor(e,r){this.count=e,this.unchangedNames=r}}var ti,Hn;function Bo(a){switch(a){default:return It();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function Ec(a){if(void 0===a)return Ht("GRPC error has no .code"),ce.UNKNOWN;switch(a){case ti.OK:return ce.OK;case ti.CANCELLED:return ce.CANCELLED;case ti.UNKNOWN:return ce.UNKNOWN;case ti.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case ti.INTERNAL:return ce.INTERNAL;case ti.UNAVAILABLE:return ce.UNAVAILABLE;case ti.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case ti.NOT_FOUND:return ce.NOT_FOUND;case ti.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case ti.ABORTED:return ce.ABORTED;case ti.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case ti.DATA_LOSS:return ce.DATA_LOSS;default:return It()}}(Hn=ti||(ti={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";function Ks(){return new TextEncoder}const Ys=new Fe([4294967295,4294967295],0);function bo(a){const e=Ks().encode(a),r=new He;return r.update(e),new Uint8Array(r.digest())}function Ic(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Fe([r,o],0),new Fe([u,f],0)]}class ju{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Ss(`Invalid padding: ${r}`);if(o<0)throw new Ss(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Ss(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Ss(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Fe.fromNumber(this.Ie)}Ee(e,r,o){let u=e.add(r.multiply(Fe.fromNumber(o)));return 1===u.compare(Ys)&&(u=new Fe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=bo(e),[o,u]=Ic(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(o,u,f);if(!this.de(m))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new ju(f,u,r);return o.forEach(T=>m.insert(T)),m}insert(e){if(0===this.Ie)return;const r=bo(e),[o,u]=Ic(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(o,u,f);this.Ae(m)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ri{constructor(e,r,o,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new ri(Nt.min(),u,new rr(xt),Vr(),zn())}}class iu{constructor(e,r,o,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new iu(o,r,zn(),zn(),zn())}}class Ra{constructor(e,r,o,u){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=u}}class ou{constructor(e,r){this.targetId=e,this.me=r}}class rs{constructor(e,r,o=li.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class Ps{constructor(){this.fe=0,this.ge=wc(),this.pe=li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=zn(),r=zn(),o=zn();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:It()}}),new iu(this.pe,this.ye,e,r,o)}ve(){this.we=!1,this.ge=wc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class su{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=Cc(),this.Qe=new rr(xt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.ve(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:It()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,o=e.me.count,u=this.Je(r);if(u){const f=u.target;if(aa(f))if(0===o){const m=new Ot(f.path);this.Ue(r,m,j.newNoDocument(m,Nt.min()))}else et(1===o);else{const m=this.Ye(r);if(m!==o){const T=this.Ze(e),M=T?this.Xe(T,e,m):1;0!==M&&(this.je(r),this.Qe=this.Qe.insert(r,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=r;let m,T;try{m=Ir(o).toUint8Array()}catch(M){if(M instanceof Fi)return Jt("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{T=new ju(m,u,f)}catch(M){return Jt(M instanceof Ss?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===T.Ie?null:T}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(f=>{const m=this.Le.tt(),T=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(T)||(this.Ue(r,f,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((f,m)=>{const T=this.Je(m);if(T){if(f.current&&aa(T.target)){const M=new Ot(T.target.path);null!==this.ke.get(M)||this.it(m,M)||this.Ue(m,M,j.newNoDocument(M,e))}f.be&&(r.set(m,f.Ce()),f.ve())}});let o=zn();this.qe.forEach((f,m)=>{let T=!0;m.forEachWhile(M=>{const B=this.Je(M);return!B||"TargetPurposeLimboResolution"===B.purpose||(T=!1,!1)}),T&&(o=o.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(e));const u=new ri(e,r,this.Qe,this.ke,o);return this.ke=Vr(),this.qe=Cc(),this.Qe=new rr(xt),u}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Ps,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new _r(xt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ge("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ps),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Cc(){return new rr(Ot.comparator)}function wc(){return new rr(Ot.comparator)}const Tc={asc:"ASCENDING",desc:"DESCENDING"},bc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qn={and:"AND",or:"OR"};class dl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function xa(a,e){return a.useProto3Json||ae(e)?e:{value:e}}function _o(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dc(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function $u(a,e){return _o(a,e.toTimestamp())}function Ti(a){return et(!!a),Nt.fromTimestamp(function(r){const o=Hi(r);return new Ut(o.seconds,o.nanos)}(a))}function Qs(a,e){return au(a,e).canonicalString()}function au(a,e){const r=(u=a,new tn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Hu(a){const e=tn.fromString(a);return et(ma(e)),e}function fa(a,e){return Qs(a.databaseId,e.path)}function is(a,e){const r=Hu(e);if(r.get(1)!==a.databaseId.projectId)throw new J(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new J(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Ot(zu(r))}function hl(a,e){return Qs(a.databaseId,e)}function Ft(a){const e=Hu(a);return 4===e.length?tn.emptyPath():zu(e)}function br(a){return new tn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function zu(a){return et(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function pa(a,e,r){return{name:fa(a,e),fields:r.value.mapValue.fields}}function uo(a,e,r){const o=is(a,e.name),u=Ti(e.updateTime),f=e.createTime?Ti(e.createTime):Nt.min(),m=new Qr({mapValue:{fields:e.fields}}),T=j.newFoundDocument(o,u,f,m);return r&&T.setHasCommittedMutations(),r?T.setHasCommittedMutations():T}function Do(a,e){let r;if(e instanceof mn)r={update:pa(a,e.key,e.value)};else if(e instanceof Kr)r={delete:fa(a,e.key)};else if(e instanceof pr)r={update:pa(a,e.key,e.data),updateMask:Fa(e.fieldMask)};else{if(!(e instanceof Ur))return It();r={verify:fa(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(f,m){const T=m.transform;if(T instanceof da)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof Ds)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof ps)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Bs)return{fieldPath:m.field.canonicalString(),increment:T.Pe};throw It()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:$u(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:It()),r;var f}function ga(a,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?ei.updateTime(Ti(f.updateTime)):void 0!==f.exists?ei.exists(f.exists):ei.none():ei.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(m,T){let M=null;"setToServerValue"in T?(et("REQUEST_TIME"===T.setToServerValue),M=new da):"appendMissingElements"in T?M=new Ds(T.appendMissingElements.values||[]):"removeAllFromArray"in T?M=new ps(T.removeAllFromArray.values||[]):"increment"in T?M=new Bs(m,T.increment):It();const B=Fn.fromServerFormat(T.fieldPath);return new js(B,M)}(a,u)):[];var f;if(e.update){const u=is(a,e.update.name),f=new Qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new _i((e.updateMask.fieldPaths||[]).map(te=>Fn.fromServerFormat(te)));return new pr(u,f,m,r,o)}return new mn(u,f,r,o)}if(e.delete){const u=is(a,e.delete);return new Kr(u,r)}if(e.verify){const u=is(a,e.verify);return new Ur(u,r)}return It()}function Ac(a,e){return{documents:[hl(a,e.path)]}}function Gu(a,e){const r={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=hl(a,u);const f=function(B){if(0!==B.length)return Wu(un.create(B,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const m=function(B){if(0!==B.length)return B.map(te=>{return{field:qo((Re=te).field),direction:os(Re.dir)};var Re})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const T=xa(a,e.limit);return null!==T&&(r.structuredQuery.limit=T),e.startAt&&(r.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(r.structuredQuery.endAt=function(B){return{before:!B.inclusive,values:B.position}}(e.endAt)),{_t:r,parent:u};var B}function co(a){let e=Ft(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){et(1===o);const te=r.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let f=[];r.where&&(f=function(le){const Re=ka(le);return Re instanceof un&&Jr(Re)?Re.getFilters():[Re]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(Re=>{return new mt(Js((kt=Re).field),function($t){switch($t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(kt.direction));var kt}));let T=null;r.limit&&(T=function(le){let Re;return Re="object"==typeof le?le.value:le,ae(Re)?null:Re}(r.limit));let M=null;var le;r.startAt&&(M=new fe((le=r.startAt).values||[],!!le.before));let B=null;return r.endAt&&(B=function(le){return new fe(le.values||[],!le.before)}(r.endAt)),Pa(e,u,m,f,T,"F",M,B)}function ka(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Js(r.unaryFilter.field);return Rt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Js(r.unaryFilter.field);return Rt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Js(r.unaryFilter.field);return Rt.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Js(r.unaryFilter.field);return Rt.create(m,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(a):void 0!==a.fieldFilter?Rt.create(Js((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return un.create(r.compositeFilter.filters.map(o=>ka(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return It()}}(r.compositeFilter.op))}(a):It();var r}function os(a){return Tc[a]}function Oo(a){return bc[a]}function cu(a){return qn[a]}function qo(a){return{fieldPath:a.canonicalString()}}function Js(a){return Fn.fromServerFormat(a.fieldPath)}function Wu(a){return a instanceof Rt?function(r){if("=="===r.op){if(Mo(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NAN"}};if(yi(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Mo(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NAN"}};if(yi(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(r.field),op:Oo(r.op),value:r.value}}}(a):a instanceof un?function(r){const o=r.getFilters().map(u=>Wu(u));return 1===o.length?o[0]:{compositeFilter:{op:cu(r.op),filters:o}}}(a):It()}function Fa(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ma(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class ss{constructor(e,r,o,u,f=Nt.min(),m=Nt.min(),T=li.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T,this.expectedCount=M}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C{constructor(e){this.ct=e}}function E(a,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:S(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:fa(f=a.ct,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:_o(f,m.version.toTimestamp()),createTime:_o(f,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:F(e.version)};else{if(!e.isUnknownDocument())return It();o.unknownDocument={path:r.path.toArray(),version:F(e.version)}}var f,m;return o}function S(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function F(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Q(a){const e=new Ut(a.seconds,a.nanoseconds);return Nt.fromTimestamp(e)}function pe(a,e){const r=(e.baseMutations||[]).map(f=>ga(a.ct,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const o=e.mutations.map(f=>ga(a.ct,f)),u=Ut.fromMillis(e.localWriteTimeMs);return new hi(e.batchId,u,r,o)}function ut(a){const e=Q(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?Q(a.lastLimboFreeSnapshotVersion):Nt.min();let o;return o=void 0!==a.query.documents?(et(1===(f=a.query).documents.length),G(Ar(Ft(f.documents[0])))):function(f){return G(co(f))}(a.query),new ss(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,li.fromBase64String(a.resumeToken));var f}function st(a,e){const r=F(e.snapshotVersion),o=F(e.lastLimboFreeSnapshotVersion);let u;u=aa(e.target)?Ac(a.ct,e.target):Gu(a.ct,e.target)._t;const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:r,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function ln(a){const e=co({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?fn(e,e.limit,"L"):e}function er(a,e){return new mo(e.largestBatchId,ga(a.ct,e.overlayMutation))}function ar(a,e){const r=e.path.lastSegment();return[a,Pt(e.path.popLast()),r]}function ur(a,e,r,o){return{indexId:a,uid:e,sequenceNumber:r,readTime:F(o.readTime),documentKey:Pt(o.documentKey.path),largestBatchId:o.largestBatchId}}class Br{getBundleMetadata(e,r){return _a(e).get(r).next(o=>{if(o)return{id:(f=o).bundleId,createTime:Q(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return _a(e).put({bundleId:(u=r).id,createTime:F(Ti(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return ya(e).get(r).next(o=>{if(o)return{name:(f=o).name,query:ln(f.bundledQuery),readTime:Q(f.readTime)};var f})}saveNamedQuery(e,r){return ya(e).put({name:(u=r).name,readTime:F(Ti(u.readTime)),bundledQuery:u.bundledQuery});var u}}function _a(a){return Wr(a,"bundles")}function ya(a){return Wr(a,"namedQueries")}class va{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new va(e,r.uid||"")}getOverlay(e,r){return gs(e).get(ar(this.userId,r)).next(o=>o?er(this.serializer,o):null)}getOverlays(e,r){const o=wo();return Be.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((f,m)=>{const T=new mo(r,m);u.push(this.ht(e,T))}),Be.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(m=>u.add(Pt(m.getCollectionPath())));const f=[];return u.forEach(m=>{const T=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);f.push(gs(e).j("collectionPathOverlayIndex",T))}),Be.waitFor(f)}getOverlaysForCollection(e,r,o){const u=wo(),f=Pt(r),m=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return gs(e).U("collectionPathOverlayIndex",m).next(T=>{for(const M of T){const B=er(this.serializer,M);u.set(B.getKey(),B)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const f=wo();let m;const T=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return gs(e).J({index:"collectionGroupOverlayIndex",range:T},(M,B,te)=>{const le=er(this.serializer,B);f.size()<u||le.largestBatchId===m?(f.set(le.getKey(),le),m=le.largestBatchId):te.done()}).next(()=>f)}ht(e,r){return gs(e).put(function(u,f,m){const[T,M,B]=ar(f,m.mutation.key);return{userId:f,collectionPath:M,documentId:B,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Do(u.ct,m.mutation)}}(this.serializer,this.userId,r))}}function gs(a){return Wr(a,"documentOverlays")}class Ms{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(yr(e.integerValue));else if("doubleValue"in e){const o=yr(e.doubleValue);isNaN(o)?this.Et(r,13):(this.Et(r,15),xe(o)?r.dt(0):r.dt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.Et(r,20),"string"==typeof o&&(o=Hi(o)),r.At(`${o.seconds||""}`),r.dt(o.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ir(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(r,45),r.dt(o.latitude||0),r.dt(o.longitude||0)}else"mapValue"in e?wr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):It()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const o=e.fields||{};this.Et(r,55);for(const u of Object.keys(o))this.Rt(u,r),this.It(o[u],r)}wt(e,r){const o=e.values||[];this.Et(r,50);for(const u of o)this.It(u,r)}gt(e,r){this.Et(r,37),Ot.fromName(e).path.forEach(o=>{this.Et(r,60),this.St(o,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function pd(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function qu(a){const e=64-function(o){let u=0;for(let f=0;f<8;++f){const m=pd(255&o[f]);if(u+=m,8!==m)break}return u}(a);return Math.ceil(e/8)}Ms.bt=new Ms;class Xs{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ct(o.value),o=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Mt(o.value),o=r.next();this.xt()}Ot(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ct(o);else if(o<2048)this.Ct(960|o>>>6),this.Ct(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|o>>>12),this.Ct(128|63&o>>>6),this.Ct(128|63&o);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Mt(o);else if(o<2048)this.Mt(960|o>>>6),this.Mt(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|o>>>12),this.Mt(128|63&o>>>6),this.Mt(128|63&o);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),o=qu(r);this.kt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),o=qu(r);this.kt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(f){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,f,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class se{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class he{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ee{constructor(){this.Gt=new Xs,this.zt=new se(this.Gt),this.jt=new he(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ae{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ae(this.indexId,this.documentKey,this.arrayValue,o)}}function it(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=zt(a.arrayValue,e.arrayValue),0!==r?r:(r=zt(a.directionalValue,e.directionalValue),0!==r?r:Ot.comparator(a.documentKey,e.documentKey)))}function zt(a,e){for(let r=0;r<a.length&&r<e.length;++r){const o=a[r]-e[r];if(0!==o)return o}return a.length-e.length}class rn{constructor(e){this.Yt=new _r((r,o)=>Fn.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const o=r;o.isInequality()?this.Yt=this.Yt.add(o):this.Xt.push(o)}}get en(){return this.Yt.size>1}tn(e){if(et(e.collectionGroup===this.collectionId),this.en)return!1;const r=Cn(e);if(void 0!==r&&!this.nn(r))return!1;const o=gn(e);let u=new Set,f=0,m=0;for(;f<o.length&&this.nn(o[f]);++f)u=u.add(o[f].fieldPath.canonicalString());if(f===o.length)return!0;if(this.Yt.size>0){const T=this.Yt.getIterator().getNext();if(!u.has(T.field.canonicalString())){const M=o[f];if(!this.rn(T,M)||!this.sn(this.Zt[m++],M))return!1}++f}for(;f<o.length;++f)if(m>=this.Zt.length||!this.sn(this.Zt[m++],o[f]))return!1;return!0}on(){if(this.en)return null;let e=new _r(Fn.comparator);const r=[];for(const o of this.Xt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new cr(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new cr(o.field,0))}for(const o of this.Zt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new cr(o.field,"asc"===o.dir?0:1)));return new cn(cn.UNKNOWN_ID,this.collectionId,r,Rn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function fi(a){var e,r;if(et(a instanceof Rt||a instanceof un),a instanceof Rt){if(a instanceof Go){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(f=>Rt.create(a.field,"==",f)))||[];return un.create(u,"or")}return a}const o=a.filters.map(u=>fi(u));return un.create(o,a.op)}function Kn(a){if(0===a.getFilters().length)return[];const e=Ni(fi(a));return et(as(e)),ro(e)||Rs(e)?[e]:e.getFilters()}function ro(a){return a instanceof Rt}function Rs(a){return a instanceof un&&Jr(a)}function as(a){return ro(a)||Rs(a)||function(r){if(r instanceof un&&wn(r)){for(const o of r.getFilters())if(!ro(o)&&!Rs(o))return!1;return!0}return!1}(a)}function Ni(a){if(et(a instanceof Rt||a instanceof un),a instanceof Rt)return a;if(1===a.filters.length)return Ni(a.filters[0]);const e=a.filters.map(o=>Ni(o));let r=un.create(e,a.op);return r=pi(r),as(r)?r:(et(r instanceof un),et(Zn(r)),et(r.filters.length>1),r.filters.reduce((o,u)=>La(o,u)))}function La(a,e){let r;return et(a instanceof Rt||a instanceof un),et(e instanceof Rt||e instanceof un),r=a instanceof Rt?e instanceof Rt?un.create([a,e],"and"):Va(a,e):e instanceof Rt?Va(e,a):function(u,f){if(et(u.filters.length>0&&f.filters.length>0),Zn(u)&&Zn(f))return Lr(u,f.getFilters());const m=wn(u)?u:f,T=wn(u)?f:u,M=m.filters.map(B=>La(B,T));return un.create(M,"or")}(a,e),pi(r)}function Va(a,e){if(Zn(e))return Lr(e,a.getFilters());{const r=e.filters.map(o=>La(a,o));return un.create(r,"or")}}function pi(a){if(et(a instanceof Rt||a instanceof un),a instanceof Rt)return a;const e=a.getFilters();if(1===e.length)return pi(e[0]);if(Hr(a))return a;const r=e.map(u=>pi(u)),o=[];return r.forEach(u=>{u instanceof Rt?o.push(u):u instanceof un&&(u.op===a.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:un.create(o,a.op)}class Yi{constructor(){this._n=new xs}addToCollectionParentIndex(e,r){return this._n.add(r),Be.resolve()}getCollectionParents(e,r){return Be.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Be.resolve()}deleteFieldIndex(e,r){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,r){return Be.resolve()}getDocumentsMatchingTarget(e,r){return Be.resolve(null)}getIndexType(e,r){return Be.resolve(0)}getFieldIndexes(e,r){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,r){return Be.resolve(Xt.min())}getMinOffsetFromCollectionGroup(e,r){return Be.resolve(Xt.min())}updateCollectionGroup(e,r,o){return Be.resolve()}updateIndexEntries(e,r){return Be.resolve()}}class xs{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new _r(tn.comparator),f=!u.has(o);return this.index[r]=u.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new _r(tn.comparator)).toArray()}}const $s=new Uint8Array(0);class io{constructor(e,r){this.databaseId=r,this.an=new xs,this.un=new go(o=>fo(o),(o,u)=>Wo(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const f={collectionId:o,parent:Pt(u)};return lu(e).put(f)}return Be.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return lu(e).U(u).next(f=>{for(const m of f){if(m.collectionId!==r)break;o.push(Qt(m.parent))}return o})}addFieldIndex(e,r){const o=Hs(e),u={indexId:(T=r).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var T;delete u.indexId;const f=o.add(u);if(r.indexState){const m=Os(e);return f.next(T=>{m.put(ur(T,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(e,r){const o=Hs(e),u=Os(e),f=Zo(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Hs(e),o=Zo(e),u=Os(e);return r.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(e,r){return Be.forEach(this.cn(r),o=>this.getIndexType(e,o).next(u=>{if(0===u||1===u){const f=new rn(o).on();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,r){const o=Zo(e);let u=!0;const f=new Map;return Be.forEach(this.cn(r),m=>this.ln(e,m).next(T=>{u&&(u=!!T),f.set(m,T)})).next(()=>{if(u){let m=zn();const T=[];return Be.forEach(f,(M,B)=>{var Mn;ge("IndexedDbIndexManager",`Using index ${Mn=M,`id=${Mn.indexId}|cg=${Mn.collectionGroup}|f=${Mn.fields.map(dr=>`${dr.fieldPath}:${dr.kind}`).join(",")}`} to execute ${fo(r)}`);const te=function(Mn,dr){const ui=Cn(dr);if(void 0===ui)return null;for(const Rr of Is(Mn,ui.fieldPath))switch(Rr.op){case"array-contains-any":return Rr.value.arrayValue.values||[];case"array-contains":return[Rr.value]}return null}(B,M),le=function(Mn,dr){const ui=new Map;for(const Rr of gn(dr))for(const Ze of Is(Mn,Rr.fieldPath))switch(Ze.op){case"==":case"in":ui.set(Rr.fieldPath.canonicalString(),Ze.value);break;case"not-in":case"!=":return ui.set(Rr.fieldPath.canonicalString(),Ze.value),Array.from(ui.values())}return null}(B,M),Re=function(Mn,dr){const ui=[];let Rr=!0;for(const Ze of gn(dr)){const Te=0===Ze.kind?vi(Mn,Ze.fieldPath,Mn.startAt):hs(Mn,Ze.fieldPath,Mn.startAt);ui.push(Te.value),Rr&&(Rr=Te.inclusive)}return new fe(ui,Rr)}(B,M),ot=function(Mn,dr){const ui=[];let Rr=!0;for(const Ze of gn(dr)){const Te=0===Ze.kind?hs(Mn,Ze.fieldPath,Mn.endAt):vi(Mn,Ze.fieldPath,Mn.endAt);ui.push(Te.value),Rr&&(Rr=Te.inclusive)}return new fe(ui,Rr)}(B,M),kt=this.hn(M,B,Re),Kt=this.hn(M,B,ot),$t=this.Pn(M,B,le),An=this.In(M.indexId,te,kt,Re.inclusive,Kt,ot.inclusive,$t);return Be.forEach(An,Bn=>o.G(Bn,r.limit).next(Mn=>{Mn.forEach(dr=>{const ui=Ot.fromSegments(dr.documentKey);m.has(ui)||(m=m.add(ui),T.push(ui))})}))}).next(()=>T)}return Be.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Kn(un.create(e.filters,"and")).map(o=>Ls(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,o,u,f,m,T){const M=(null!=r?r.length:1)*Math.max(o.length,f.length),B=M/(null!=r?r.length:1),te=[];for(let le=0;le<M;++le){const Re=r?this.Tn(r[le/B]):$s,ot=this.En(e,Re,o[le%B],u),kt=this.dn(e,Re,f[le%B],m),Kt=T.map($t=>this.En(e,Re,$t,!0));te.push(...this.createRange(ot,kt,Kt))}return te}En(e,r,o,u){const f=new Ae(e,Ot.empty(),r,o);return u?f:f.Jt()}dn(e,r,o,u){const f=new Ae(e,Ot.empty(),r,o);return u?f.Jt():f}ln(e,r){const o=new rn(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let m=null;for(const T of f)o.tn(T)&&(!m||T.fields.length>m.fields.length)&&(m=T);return m})}getIndexType(e,r){let o=2;const u=this.cn(r);return Be.forEach(u,f=>this.ln(e,f).next(m=>{m?0!==o&&m.fields.length<function(M){let B=new _r(Fn.comparator),te=!1;for(const le of M.filters)for(const Re of le.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?te=!0:B=B.add(Re.field));for(const le of M.orderBy)le.field.isKeyField()||(B=B.add(le.field));return B.size+(te?1:0)}(f)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}An(e,r){const o=new ee;for(const u of gn(e)){const f=r.data.field(u.fieldPath);if(null==f)return null;const m=o.Ht(u.kind);Ms.bt.Pt(f,m)}return o.Wt()}Tn(e){const r=new ee;return Ms.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const o=new ee;return Ms.bt.Pt(Yt(this.databaseId,r),o.Ht(function(f){const m=gn(f);return 0===m.length?0:m[m.length-1].kind}(e))),o.Wt()}Pn(e,r,o){if(null===o)return[];let u=[];u.push(new ee);let f=0;for(const m of gn(e)){const T=o[f++];for(const M of u)if(this.Vn(r,m.fieldPath)&&Jn(T))u=this.mn(u,m,T);else{const B=M.Ht(m.kind);Ms.bt.Pt(T,B)}}return this.fn(u)}hn(e,r,o){return this.Pn(e,r,o.position)}fn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Wt();return r}mn(e,r,o){const u=[...e],f=[];for(const m of o.arrayValue.values||[])for(const T of u){const M=new ee;M.seed(T.Wt()),Ms.bt.Pt(m,M.Ht(r.kind)),f.push(M)}return f}Vn(e,r){return!!e.filters.find(o=>o instanceof Rt&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Hs(e),u=Os(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(f=>{const m=[];return Be.forEach(f,T=>u.get([T.indexId,this.uid]).next(M=>{m.push(function(te,le){const Re=le?new Rn(le.sequenceNumber,new Xt(Q(le.readTime),new Ot(Qt(le.documentKey)),le.largestBatchId)):Rn.empty(),ot=te.fields.map(([kt,Kt])=>new cr(Fn.fromServerFormat(kt),Kt));return new cn(te.indexId,te.collectionGroup,ot,Re)}(T,M))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const f=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:xt(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=Hs(e),f=Os(e);return this.gn(e).next(m=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(T=>Be.forEach(T,M=>f.put(ur(M.indexId,this.uid,m,o)))))}updateIndexEntries(e,r){const o=new Map;return Be.forEach(r,(u,f)=>{const m=o.get(u.collectionGroup);return(m?Be.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(o.set(u.collectionGroup,T),Be.forEach(T,M=>this.pn(e,u,M).next(B=>{const te=this.yn(f,M);return B.isEqual(te)?Be.resolve():this.wn(e,f,M,B,te)}))))})}Sn(e,r,o,u){return Zo(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(o,r.key),documentKey:r.key.path.toArray()})}bn(e,r,o,u){return Zo(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(o,r.key),r.key.path.toArray()])}pn(e,r,o){const u=Zo(e);let f=new _r(it);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.Rn(o,r)])},(m,T)=>{f=f.add(new Ae(o.indexId,r,T.arrayValue,T.directionalValue))}).next(()=>f)}yn(e,r){let o=new _r(it);const u=this.An(r,e);if(null==u)return o;const f=Cn(r);if(null!=f){const m=e.data.field(f.fieldPath);if(Jn(m))for(const T of m.arrayValue.values||[])o=o.add(new Ae(r.indexId,e.key,this.Tn(T),u))}else o=o.add(new Ae(r.indexId,e.key,$s,u));return o}wn(e,r,o,u,f){ge("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const m=[];return function(M,B,te,le,Re){const ot=M.getIterator(),kt=B.getIterator();let Kt=Ai(ot),$t=Ai(kt);for(;Kt||$t;){let An=!1,Bn=!1;if(Kt&&$t){const Mn=te(Kt,$t);Mn<0?Bn=!0:Mn>0&&(An=!0)}else null!=Kt?Bn=!0:An=!0;An?(le($t),$t=Ai(kt)):Bn?(Re(Kt),Kt=Ai(ot)):(Kt=Ai(ot),$t=Ai(kt))}}(u,f,it,T=>{m.push(this.Sn(e,r,o,T))},T=>{m.push(this.bn(e,r,o,T))}),Be.waitFor(m)}gn(e){let r=1;return Os(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((m,T)=>it(m,T)).filter((m,T,M)=>!T||0!==it(m,M[T-1]));const u=[];u.push(e);for(const m of o){const T=it(m,e),M=it(m,r);if(0===T)u[0]=e.Jt();else if(T>0&&M<0)u.push(m),u.push(m.Jt());else if(M>0)break}u.push(r);const f=[];for(let m=0;m<u.length;m+=2){if(this.Dn(u[m],u[m+1]))return[];f.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,$s,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,$s,[]]))}return f}Dn(e,r){return it(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Ih)}getMinOffset(e,r){return Be.mapArray(this.cn(r),o=>this.ln(e,o).next(u=>u||It())).next(Ih)}}function lu(a){return Wr(a,"collectionParents")}function Zo(a){return Wr(a,"indexEntries")}function Hs(a){return Wr(a,"indexConfiguration")}function Os(a){return Wr(a,"indexState")}function Ih(a){et(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<a.length;o++){const u=a[o].indexState.offset;Nr(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Xt(e.readTime,e.documentKey,r)}const Sc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new yo(e,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ch(a,e,r){const o=a.store("mutations"),u=a.store("documentMutations"),f=[],m=IDBKeyRange.only(r.batchId);let T=0;const M=o.J({range:m},(te,le,Re)=>(T++,Re.delete()));f.push(M.next(()=>{et(1===T)}));const B=[];for(const te of r.mutations){const le=Qn(e,te.key.path,r.batchId);f.push(u.delete(le)),B.push(te.key)}return Be.waitFor(f).next(()=>B)}function No(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw It();e=a.noDocument}return JSON.stringify(e).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class fl{constructor(e,r,o,u){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Cn={}}static lt(e,r,o,u){et(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new fl(f,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).J({index:"userMutationsIndex",range:o},(u,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const f=Ea(e),m=Ns(e);return m.add({}).next(T=>{et("number"==typeof T);const M=new hi(T,r,o,u),B=function(ot,kt,Kt){const $t=Kt.baseMutations.map(Bn=>Do(ot.ct,Bn)),An=Kt.mutations.map(Bn=>Do(ot.ct,Bn));return{userId:kt,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:$t,mutations:An}}(this.serializer,this.userId,M),te=[];let le=new _r((Re,ot)=>xt(Re.canonicalString(),ot.canonicalString()));for(const Re of u){const ot=Qn(this.userId,Re.key.path,T);le=le.add(Re.key.path.popLast()),te.push(m.put(B)),te.push(f.put(ot,ki))}return le.forEach(Re=>{te.push(this.indexManager.addToCollectionParentIndex(e,Re))}),e.addOnCommittedListener(()=>{this.Cn[T]=M.keys()}),Be.waitFor(te).next(()=>M)})}lookupMutationBatch(e,r){return Ns(e).get(r).next(o=>o?(et(o.userId===this.userId),pe(this.serializer,o)):null)}vn(e,r){return this.Cn[r]?Be.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Ns(e).J({index:"userMutationsIndex",range:u},(m,T,M)=>{T.userId===this.userId&&(et(T.batchId>=o),f=pe(this.serializer,T)),M.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ns(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,m)=>{o=f.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).U("userMutationsIndex",r).next(o=>o.map(u=>pe(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=vn(this.userId,r.path),u=IDBKeyRange.lowerBound(o),f=[];return Ea(e).J({range:u},(m,T,M)=>{const[B,te,le]=m,Re=Qt(te);if(B===this.userId&&r.path.isEqual(Re))return Ns(e).get(le).next(ot=>{if(!ot)throw It();et(ot.userId===this.userId),f.push(pe(this.serializer,ot))});M.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new _r(xt);const u=[];return r.forEach(f=>{const m=vn(this.userId,f.path),T=IDBKeyRange.lowerBound(m),M=Ea(e).J({range:T},(B,te,le)=>{const[Re,ot,kt]=B,Kt=Qt(ot);Re===this.userId&&f.path.isEqual(Kt)?o=o.add(kt):le.done()});u.push(M)}),Be.waitFor(u).next(()=>this.Fn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,f=vn(this.userId,o),m=IDBKeyRange.lowerBound(f);let T=new _r(xt);return Ea(e).J({range:m},(M,B,te)=>{const[le,Re,ot]=M,kt=Qt(Re);le===this.userId&&o.isPrefixOf(kt)?kt.length===u&&(T=T.add(ot)):te.done()}).next(()=>this.Fn(e,T))}Fn(e,r){const o=[],u=[];return r.forEach(f=>{u.push(Ns(e).get(f).next(m=>{if(null===m)throw It();et(m.userId===this.userId),o.push(pe(this.serializer,m))}))}),Be.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return Ch(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),Be.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Be.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ea(e).J({range:o},(f,m,T)=>{if(f[0]===this.userId){const M=Qt(f[1]);u.push(M)}else T.done()}).next(()=>{et(0===u.length)})})}containsKey(e,r){return Pc(e,this.userId,r)}xn(e){return du(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pc(a,e,r){const o=vn(e,r.path),u=o[1],f=IDBKeyRange.lowerBound(o);let m=!1;return Ea(a).J({range:f,H:!0},(T,M,B)=>{const[te,le,Re]=T;te===e&&le===u&&(m=!0),B.done()}).next(()=>m)}function Ns(a){return Wr(a,"mutations")}function Ea(a){return Wr(a,"documentMutations")}function du(a){return Wr(a,"mutationQueues")}class Ia{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ia(0)}static Ln(){return new Ia(-1)}}class wh{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const o=new Ia(r.highestTargetId);return r.highestTargetId=o.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Nt.fromTimestamp(new Ut(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.Qn(r,o),this.kn(e,o))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Ua(e).delete(r.targetId)).next(()=>this.Bn(e)).next(o=>(et(o.targetCount>0),o.targetCount-=1,this.kn(e,o)))}removeTargets(e,r,o){let u=0;const f=[];return Ua(e).J((m,T)=>{const M=ut(T);M.sequenceNumber<=r&&null===o.get(M.targetId)&&(u++,f.push(this.removeTargetData(e,M)))}).next(()=>Be.waitFor(f)).next(()=>u)}forEachTarget(e,r){return Ua(e).J((o,u)=>{const f=ut(u);r(f)})}Bn(e){return pl(e).get("targetGlobalKey").next(r=>(et(null!==r),r))}kn(e,r){return pl(e).put("targetGlobalKey",r)}qn(e,r){return Ua(e).put(st(this.serializer,r))}Qn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=fo(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Ua(e).J({range:u,index:"queryTargetsIndex"},(m,T,M)=>{const B=ut(T);Wo(r,B.target)&&(f=B,M.done())}).next(()=>f)}addMatchingKeys(e,r,o){const u=[],f=Ca(e);return r.forEach(m=>{const T=Pt(m.path);u.push(f.put({targetId:o,path:T})),u.push(this.referenceDelegate.addReference(e,o,m))}),Be.waitFor(u)}removeMatchingKeys(e,r,o){const u=Ca(e);return Be.forEach(r,f=>{const m=Pt(f.path);return Be.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=Ca(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=Ca(e);let f=zn();return u.J({range:o,H:!0},(m,T,M)=>{const B=Qt(m[1]),te=new Ot(B);f=f.add(te)}).next(()=>f)}containsKey(e,r){const o=Pt(r.path),u=IDBKeyRange.bound([o],[On(o)],!1,!0);let f=0;return Ca(e).J({index:"documentTargetsIndex",H:!0,range:u},([m,T],M,B)=>{0!==m&&(f++,B.done())}).next(()=>f>0)}ot(e,r){return Ua(e).get(r).next(o=>o?ut(o):null)}}function Ua(a){return Wr(a,"targets")}function pl(a){return Wr(a,"targetGlobal")}function Ca(a){return Wr(a,"targetDocuments")}function gd([a,e],[r,o]){const u=xt(a,r);return 0===u?xt(e,o):u}class md{constructor(e){this.Kn=e,this.buffer=new _r(gd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();gd(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Mc{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Tn(o)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Dn(o)}yield r.zn(3e5)}))}}class hu{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return Be.resolve(O.oe);const o=new md(r);return this.jn.forEachTarget(e,u=>o.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>o.Wn(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(Sc)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sc):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let o,u,f,m,T,M,B;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(le=>(le>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${le}`),u=this.params.maximumSequenceNumbersToCollect):u=le,m=Date.now(),this.nthSequenceNumber(e,u))).next(le=>(o=le,T=Date.now(),this.removeTargets(e,o,r))).next(le=>(f=le,M=Date.now(),this.removeOrphanedDocuments(e,o))).next(le=>(B=Date.now(),_t()<=Ce.in.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-te}ms\n\tDetermined least recently used ${u} in `+(T-m)+`ms\n\tRemoved ${f} targets in `+(M-T)+`ms\n\tRemoved ${le} documents in `+(B-M)+`ms\nTotal Duration: ${B-te}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:le})))}}class Th{constructor(e,r){this.db=e,this.garbageCollector=function gl(a,e){return new hu(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Zn(e){let r=0;return this.Jn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(o,u)=>r(u))}addReference(e,r,o){return Rc(e,o)}removeReference(e,r,o){return Rc(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Rc(e,r)}er(e,r){return function(u,f){let m=!1;return du(u).Y(T=>Pc(u,T,f).next(M=>(M&&(m=!0),Be.resolve(!M)))).next(()=>m)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Xn(e,(m,T)=>{if(T<=r){const M=this.er(e,m).next(B=>{if(!B)return f++,o.getEntry(e,m).next(()=>(o.removeEntry(m,Nt.min()),Ca(e).delete([0,Pt(m.path)])))});u.push(M)}}).next(()=>Be.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Rc(e,r)}Xn(e,r){const o=Ca(e);let u,f=O.oe;return o.J({index:"documentTargetsIndex"},([m,T],{path:M,sequenceNumber:B})=>{0===m?(f!==O.oe&&r(new Ot(Qt(u)),f),f=B,u=M):f=O.oe}).next(()=>{f!==O.oe&&r(new Ot(Qt(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rc(a,e){return Ca(a).put((u=a.currentSequenceNumber,{targetId:0,path:Pt(e.path),sequenceNumber:u}));var u}class Ba{constructor(){this.changes=new go(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,j.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Be.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ip{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return ea(e).put(o)}removeEntry(e,r,o){return ea(e).delete(function(f,m){const T=f.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],S(m),T[T.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.tr(e,o)))}getEntry(e,r){let o=j.newInvalidDocument(r);return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fu(r))},(u,f)=>{o=this.nr(r,f)}).next(()=>o)}rr(e,r){let o={size:0,document:j.newInvalidDocument(r)};return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fu(r))},(u,f)=>{o={document:this.nr(r,f),size:No(f)}}).next(()=>o)}getEntries(e,r){let o=Vr();return this.ir(e,r,(u,f)=>{const m=this.nr(u,f);o=o.insert(u,m)}).next(()=>o)}sr(e,r){let o=Vr(),u=new rr(Ot.comparator);return this.ir(e,r,(f,m)=>{const T=this.nr(f,m);o=o.insert(f,T),u=u.insert(f,No(m))}).next(()=>({documents:o,_r:u}))}ir(e,r,o){if(r.isEmpty())return Be.resolve();let u=new _r(Oc);r.forEach(M=>u=u.add(M));const f=IDBKeyRange.bound(fu(u.first()),fu(u.last())),m=u.getIterator();let T=m.getNext();return ea(e).J({index:"documentKeyIndex",range:f},(M,B,te)=>{const le=Ot.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;T&&Oc(T,le)<0;)o(T,null),T=m.getNext();T&&T.isEqual(le)&&(o(T,B),T=m.hasNext()?m.getNext():null),T?te.$(fu(T)):te.done()}).next(()=>{for(;T;)o(T,null),T=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,r,o,u,f){const m=r.path,T=[m.popLast().toArray(),m.lastSegment(),S(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],M=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).U(IDBKeyRange.bound(T,M,!0)).next(B=>{f?.incrementDocumentReadCount(B.length);let te=Vr();for(const le of B){const Re=this.nr(Ot.fromSegments(le.prefixPath.concat(le.collectionGroup,le.documentId)),le);Re.isFoundDocument()&&(xi(r,Re)||u.has(Re.key))&&(te=te.insert(Re.key,Re))}return te})}getAllFromCollectionGroup(e,r,o,u){let f=Vr();const m=yd(r,o),T=yd(r,Xt.max());return ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,T,!0)},(M,B,te)=>{const le=this.nr(Ot.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);f=f.insert(le.key,le),f.size===u&&te.done()}).next(()=>f)}newChangeBuffer(e){return new _d(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return xc(e).get("remoteDocumentGlobalKey").next(r=>(et(!!r),r))}tr(e,r){return xc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const o=function A(a,e){let r;if(e.document)r=uo(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ot.fromSegments(e.noDocument.path),u=Q(e.noDocument.readTime);r=j.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return It();{const o=Ot.fromSegments(e.unknownDocument.path),u=Q(e.unknownDocument.version);r=j.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(u){const f=new Ut(u[0],u[1]);return Nt.fromTimestamp(f)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(Nt.min()))return o}return j.newInvalidDocument(e)}}function Ao(a){return new ip(a)}class _d extends Ba{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new go(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new _r((f,m)=>xt(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const T=this.ur.get(f);if(r.push(this.ar.removeEntry(e,f,T.readTime)),m.isValidDocument()){const M=E(this.ar.serializer,m);u=u.add(f.path.popLast());const B=No(M);o+=B-T.size,r.push(this.ar.addEntry(e,f,M))}else if(o-=T.size,this.trackRemovals){const M=E(this.ar.serializer,m.convertToNoDocument(Nt.min()));r.push(this.ar.addEntry(e,f,M))}}),u.forEach(f=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,f))}),r.push(this.ar.updateMetadata(e,o)),Be.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(o=>(this.ur.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:o,_r:u})=>(u.forEach((f,m)=>{this.ur.set(f,{size:m,readTime:o.get(f).readTime})}),o))}}function xc(a){return Wr(a,"remoteDocumentGlobal")}function ea(a){return Wr(a,"remoteDocumentsV14")}function fu(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yd(a,e){const r=e.documentKey.path.toArray();return[a,S(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Oc(a,e){const r=a.path.toArray(),o=e.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<o.length-2;++f)if(u=xt(r[f],o[f]),u)return u;return u=xt(r.length,o.length),u||(u=xt(r[r.length-2],o[o.length-2]),u||xt(r[r.length-1],o[o.length-1]))}class pu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class ja{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&_e(o.mutation,u,_i.empty(),Ut.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,zn()).next(()=>o))}getLocalViewOfDocuments(e,r,o=zn()){const u=wo();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(f=>{let m=Oi();return f.forEach((T,M)=>{m=m.insert(T,M.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const o=wo();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,zn()))}populateOverlays(e,r,o){const u=[];return o.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((m,T)=>{r.set(m,T)})})}computeViews(e,r,o,u){let f=Vr();const m=Ro(),T=Ro();return r.forEach((M,B)=>{const te=o.get(B.key);u.has(B.key)&&(void 0===te||te.mutation instanceof pr)?f=f.insert(B.key,B):void 0!==te?(m.set(B.key,te.mutation.getFieldMask()),_e(te.mutation,B,te.mutation.getFieldMask(),Ut.now())):m.set(B.key,_i.empty())}),this.recalculateAndSaveOverlays(e,f).next(M=>(M.forEach((B,te)=>m.set(B,te)),r.forEach((B,te)=>{var le;return T.set(B,new pu(te,null!==(le=m.get(B))&&void 0!==le?le:null))}),T))}recalculateAndSaveOverlays(e,r){const o=Ro();let u=new rr((m,T)=>m-T),f=zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const T of m)T.keys().forEach(M=>{const B=r.get(M);if(null===B)return;let te=o.get(M)||_i.empty();te=T.applyToLocalView(B,te),o.set(M,te);const le=(u.get(T.batchId)||zn()).add(M);u=u.insert(T.batchId,le)})}).next(()=>{const m=[],T=u.getReverseIterator();for(;T.hasNext();){const M=T.getNext(),B=M.key,te=M.value,le=ws();te.forEach(Re=>{if(!f.has(Re)){const ot=N(r.get(Re),o.get(Re));null!==ot&&le.set(Re,ot),f=f.add(Re)}}),m.push(this.documentOverlayCache.saveOverlays(e,B,le))}return Be.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return Ot.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ua(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var m}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-f.size):Be.resolve(wo());let T=-1,M=f;return m.next(B=>Be.forEach(B,(te,le)=>(T<le.largestBatchId&&(T=le.largestBatchId),f.get(te)?Be.resolve():this.remoteDocumentCache.getEntry(e,te).next(Re=>{M=M.insert(te,Re)}))).next(()=>this.populateOverlays(e,B,f)).next(()=>this.computeViews(e,M,B,zn())).next(te=>({batchId:T,changes:tu(te)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ot(r)).next(o=>{let u=Oi();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const f=r.collectionGroup;let m=Oi();return this.indexManager.getCollectionParents(e,f).next(T=>Be.forEach(T,M=>{const B=(le=r,Re=M.child(f),new fs(Re,null,le.explicitOrderBy.slice(),le.filters.slice(),le.limit,le.limitType,le.startAt,le.endAt));var le,Re;return this.getDocumentsMatchingCollectionQuery(e,B,o,u).next(te=>{te.forEach((le,Re)=>{m=m.insert(le,Re)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,o,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,f,u))).next(m=>{f.forEach((M,B)=>{const te=B.getKey();null===m.get(te)&&(m=m.insert(te,j.newInvalidDocument(te)))});let T=Oi();return m.forEach((M,B)=>{const te=f.get(M);void 0!==te&&_e(te.mutation,B,_i.empty(),Ut.now()),xi(r,B)&&(T=T.insert(M,B))}),T})}}class Zu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Be.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:Ti(u.createTime)}),Be.resolve();var u}getNamedQuery(e,r){return Be.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:ln(u.bundledQuery),readTime:Ti(u.readTime)}),Be.resolve();var u}}class vd{constructor(){this.overlays=new rr(Ot.comparator),this.hr=new Map}getOverlay(e,r){return Be.resolve(this.overlays.get(r))}getOverlays(e,r){const o=wo();return Be.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,f)=>{this.ht(e,r,f)}),Be.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.hr.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.hr.delete(o)),Be.resolve()}getOverlaysForCollection(e,r,o){const u=wo(),f=r.length+1,m=new Ot(r.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const M=T.getNext().value,B=M.getKey();if(!r.isPrefixOf(B.path))break;B.path.length===f&&M.largestBatchId>o&&u.set(M.getKey(),M)}return Be.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let f=new rr((B,te)=>B-te);const m=this.overlays.getIterator();for(;m.hasNext();){const B=m.getNext().value;if(B.getKey().getCollectionGroup()===r&&B.largestBatchId>o){let te=f.get(B.largestBatchId);null===te&&(te=wo(),f=f.insert(B.largestBatchId,te)),te.set(B.getKey(),B)}}const T=wo(),M=f.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((B,te)=>T.set(B,te)),!(T.size()>=u)););return Be.resolve(T)}ht(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const m=this.hr.get(u.largestBatchId).delete(o.key);this.hr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new mo(r,o));let f=this.hr.get(r);void 0===f&&(f=zn(),this.hr.set(r,f)),this.hr.set(r,f.add(o.key))}}class gu{constructor(){this.Pr=new _r(ji.Ir),this.Tr=new _r(ji.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const o=new ji(e,r);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Ar(new ji(e,r))}Rr(e,r){e.forEach(o=>this.removeReference(o,r))}Vr(e){const r=new Ot(new tn([])),o=new ji(r,e),u=new ji(r,e+1),f=[];return this.Tr.forEachInRange([o,u],m=>{this.Ar(m),f.push(m.key)}),f}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ot(new tn([])),o=new ji(r,e),u=new ji(r,e+1);let f=zn();return this.Tr.forEachInRange([o,u],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new ji(e,0),o=this.Pr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class ji{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ot.comparator(e.key,r.key)||xt(e.pr,r.pr)}static Er(e,r){return xt(e.pr,r.pr)||Ot.comparator(e.key,r.key)}}class qg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new _r(ji.Ir)}checkEmpty(e){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const f=this.yr;this.yr++;const m=new hi(f,r,o,u);this.mutationQueue.push(m);for(const T of u)this.wr=this.wr.add(new ji(T.key,f)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Be.resolve(m)}lookupMutationBatch(e,r){return Be.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),f=u<0?0:u;return Be.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new ji(r,0),u=new ji(r,Number.POSITIVE_INFINITY),f=[];return this.wr.forEachInRange([o,u],m=>{const T=this.Sr(m.pr);f.push(T)}),Be.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new _r(xt);return r.forEach(u=>{const f=new ji(u,0),m=new ji(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([f,m],T=>{o=o.add(T.pr)})}),Be.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let f=o;Ot.isDocumentKey(f)||(f=f.child(""));const m=new ji(new Ot(f),0);let T=new _r(xt);return this.wr.forEachWhile(M=>{const B=M.key.path;return!!o.isPrefixOf(B)&&(B.length===u&&(T=T.add(M.pr)),!0)},m),Be.resolve(this.Dr(T))}Dr(e){const r=[];return e.forEach(o=>{const u=this.Sr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){et(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return Be.forEach(r.mutations,u=>{const f=new ji(u.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,r){const o=new ji(r,0),u=this.wr.firstAfterOrEqual(o);return Be.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Be.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class op{constructor(e){this.vr=e,this.docs=new rr(Ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),f=u?u.size:0,m=this.vr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Be.resolve(o?o.document.mutableCopy():j.newInvalidDocument(r))}getEntries(e,r){let o=Vr();return r.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():j.newInvalidDocument(u))}),Be.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let f=Vr();const m=r.path,T=new Ot(m.child("")),M=this.docs.getIteratorFrom(T);for(;M.hasNext();){const{key:B,value:{document:te}}=M.getNext();if(!m.isPrefixOf(B.path))break;B.path.length>m.length+1||Nr(Ci(te),o)<=0||(u.has(te.key)||xi(r,te))&&(f=f.insert(te.key,te.mutableCopy()))}return Be.resolve(f)}getAllFromCollectionGroup(e,r,o,u){It()}Fr(e,r){return Be.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new bh(this)}getSize(e){return Be.resolve(this.size)}}class bh extends Ba{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(o)}),Be.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Zg{constructor(e){this.persistence=e,this.Mr=new go(r=>fo(r),Wo),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gu,this.targetCount=0,this.Lr=Ia.Nn()}forEachTarget(e,r){return this.Mr.forEach((o,u)=>r(u)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Or&&(this.Or=r),Be.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Ia(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Be.resolve()}updateTargetData(e,r){return this.qn(r),Be.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,r,o){let u=0;const f=[];return this.Mr.forEach((m,T)=>{T.sequenceNumber<=r&&null===o.get(T.targetId)&&(this.Mr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Be.waitFor(f).next(()=>u)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,r){const o=this.Mr.get(r)||null;return Be.resolve(o)}addMatchingKeys(e,r,o){return this.Nr.dr(r,o),Be.resolve()}removeMatchingKeys(e,r,o){this.Nr.Rr(r,o);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(e,m))}),Be.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Be.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Nr.gr(r);return Be.resolve(o)}containsKey(e,r){return Be.resolve(this.Nr.containsKey(r))}}class Dh{constructor(e,r){this.Br={},this.overlays={},this.kr=new O(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Zg(this),this.indexManager=new Yi,this.remoteDocumentCache=new op(o=>this.referenceDelegate.Kr(o)),this.serializer=new C(r),this.$r=new Zu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new vd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new qg(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,o){ge("MemoryPersistence","Starting transaction:",e);const u=new sp(this.kr.next());return this.referenceDelegate.Ur(),o(u).next(f=>this.referenceDelegate.Wr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Gr(e,r){return Be.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class sp extends nr{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.zr=new gu,this.jr=null}static Hr(e){return new Ed(e)}get Jr(){if(this.jr)return this.jr;throw It()}addReference(e,r,o){return this.zr.addReference(o,r),this.Jr.delete(o.toString()),Be.resolve()}removeReference(e,r,o){return this.zr.removeReference(o,r),this.Jr.add(o.toString()),Be.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Be.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.Jr.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Jr,o=>{const u=Ot.fromPath(o);return this.Yr(e,u).next(f=>{f||r.removeEntry(u,Nt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(o=>{o?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Be.or([()=>Be.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Yu{constructor(e){this.serializer=e}O(e,r,o,u){const f=new ft("createOrUpgrade",r);var M;o<1&&u>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gn,{unique:!0}),M.createObjectStore("documentMutations"),Ah(e),function(M){M.createObjectStore("remoteDocuments")}(e));let m=Be.resolve();return o<3&&u>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Ah(e)),m=m.next(()=>function(M){const B=M.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",te)}(f))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(M,B){return B.store("mutations").U().next(te=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gn,{unique:!0});const le=B.store("mutations"),Re=te.map(ot=>le.put(ot));return Be.waitFor(Re)})}(e,f))),m=m.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(m=m.next(()=>this.Xr(f))),o<6&&u>=6&&(m=m.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(f)))),o<7&&u>=7&&(m=m.next(()=>this.ti(f))),o<8&&u>=8&&(m=m.next(()=>this.ni(e,f))),o<9&&u>=9&&(m=m.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(m=m.next(()=>this.ri(f))),o<11&&u>=11&&(m=m.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(m=m.next(()=>{!function(M){const B=M.createObjectStore("documentOverlays",{keyPath:Pn});B.createIndex("collectionPathOverlayIndex",dn,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Er,{unique:!1})}(e)})),o<13&&u>=13&&(m=m.next(()=>function(M){const B=M.createObjectStore("remoteDocumentsV14",{keyPath:Di});B.createIndex("documentKeyIndex",Gr),B.createIndex("collectionGroupIndex",Xi)}(e)).next(()=>this.ii(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(m=m.next(()=>this.si(e,f))),o<15&&u>=15&&(m=m.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:qe}).createIndex("sequenceNumberIndex",Ct,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:en}).createIndex("documentKeyIndex",bn,{unique:!1})}(e))),o<16&&u>=16&&(m=m.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),m}ei(e){let r=0;return e.store("remoteDocuments").J((o,u)=>{r+=No(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Xr(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(u=>Be.forEach(u,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",m).next(T=>Be.forEach(T,M=>{et(M.userId===f.userId);const B=pe(this.serializer,M);return Ch(e,f.userId,B).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return o.J((m,T)=>{const M=new tn(m),B=[0,Pt(M)];f.push(r.get(B).next(te=>te?Be.resolve():r.put({targetId:0,path:Pt(M),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Be.waitFor(f))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:at});const o=r.store("collectionParents"),u=new xs,f=m=>{if(u.add(m)){const T=m.lastSegment(),M=m.popLast();return o.put({collectionId:T,parent:Pt(M)})}};return r.store("remoteDocuments").J({H:!0},(m,T)=>{const M=new tn(m);return f(M.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([m,T,M],B)=>{const te=Qt(T);return f(te.popLast())}))}ri(e){const r=e.store("targets");return r.J((o,u)=>{const f=ut(u),m=st(this.serializer,f);return r.put(m)})}ii(e,r){const o=r.store("remoteDocuments"),u=[];return o.J((f,m)=>{const T=r.store("remoteDocumentsV14"),M=(le=m,le.document?new Ot(tn.fromString(le.document.name).popFirst(5)):le.noDocument?Ot.fromSegments(le.noDocument.path):le.unknownDocument?Ot.fromSegments(le.unknownDocument.path):It()).path.toArray(),B={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var le;u.push(T.put(B))}).next(()=>Be.waitFor(u))}si(e,r){const o=r.store("mutations"),u=Ao(this.serializer),f=new Dh(Ed.Hr,this.serializer.ct);return o.U().next(m=>{const T=new Map;return m.forEach(M=>{var B;let te=null!==(B=T.get(M.userId))&&void 0!==B?B:zn();pe(this.serializer,M).keys().forEach(le=>te=te.add(le)),T.set(M.userId,te)}),Be.forEach(T,(M,B)=>{const te=new Je(B),le=va.lt(this.serializer,te),Re=f.getIndexManager(te),ot=fl.lt(te,this.serializer,Re,f.referenceDelegate);return new ja(u,ot,le,Re).recalculateAndSaveOverlaysForDocumentKeys(new Vo(r,O.oe),M).next()})})}}function Ah(a){a.createObjectStore("targetDocuments",{keyPath:Fr}).createIndex("documentTargetsIndex",Wn,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$i,{unique:!0}),a.createObjectStore("targetGlobal")}const Id="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oo{constructor(e,r,o,u,f,m,T,M,B,te,le=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.oi=f,this.window=m,this.document=T,this._i=B,this.ai=te,this.ui=le,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Re=>Promise.resolve(),!oo.D())throw new J(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Th(this,u),this.Ti=r+"main",this.serializer=new C(M),this.Ei=new X(this.Ti,this.ui,new Yu(this.serializer)),this.Qr=new wh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ao(this.serializer),this.$r=new Br,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===te&&Ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(ce.FAILED_PRECONDITION,Id);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new O(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var o=(0,l.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$a(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Tn(e))return ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Nc(e).get("owner").next(r=>Be.resolve(this.Si(r)))}bi(e){return $a(e).delete(this.clientId)}Di(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Wr(o,"clientMetadata");return u.U().next(f=>{const m=e.vi(f,18e5),T=f.filter(M=>-1===m.indexOf(M));return Be.forEach(T,M=>u.delete(M.clientId)).next(()=>T)})}).catch(()=>[]);if(e.di)for(const o of r)e.di.removeItem(e.Fi(o.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Be.resolve(!0):Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new J(ce.FAILED_PRECONDITION,Id);return!1}}return!(!this.networkEnabled||!this.inForeground)||$a(e).U().next(o=>void 0===this.vi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&ge("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Vo(r,O.oe);return e.yi(o).next(()=>e.bi(o))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(o=>this.Ci(o.updateTimeMs,r)&&!this.Mi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>$a(e).U().next(r=>this.vi(r,18e5).map(o=>o.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return fl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new io(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return va.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,o){ge("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",f=16===(M=this.ui)?oi:15===M?Lo:14===M?lr:13===M?ho:12===M?ci:11===M?fr:void It();var M;let m;return this.Ei.runTransaction(e,u,f,T=>(m=new Vo(T,this.kr?this.kr.next():O.oe),"readwrite-primary"===r?this.gi(m).next(M=>!!M||this.pi(m)).next(M=>{if(!M)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new J(ce.FAILED_PRECONDITION,$n);return o(m)}).next(M=>this.wi(m).next(()=>M)):this.ki(m).next(()=>o(m)))).then(T=>(m.raiseOnCommittedEvent(),T))}ki(e){return Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new J(ce.FAILED_PRECONDITION,Id)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nc(e).put("owner",r)}static D(){return X.D()}yi(e){const r=Nc(e);return r.get("owner").next(o=>this.Si(o)?(ge("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Be.resolve())}Ci(e,r){const o=Date.now();return!(e<o-r||e>o&&(Ht(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const o=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return ge("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ht("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nc(a){return Wr(a,"owner")}function $a(a){return Wr(a,"clientMetadata")}function Cd(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class us{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.qi=o,this.Qi=u}static Ki(e,r){let o=zn(),u=zn();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new us(e,r.fromCache,o,u)}}class Ha{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,me.G6)()?8:ye((0,me.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,o,u){const f={result:null};return this.ji(e,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Hi(e,r,u,o).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new Ha;return this.Ji(e,r,m).next(T=>{if(f.result=T,this.Ui)return this.Yi(e,r,m,T.size)})}).next(()=>f.result)}Yi(e,r,o,u){return o.documentReadCount<this.Wi?(_t()<=Ce.in.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",no(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Be.resolve()):(_t()<=Ce.in.DEBUG&&ge("QueryEngine","Query:",no(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Gi*u?(_t()<=Ce.in.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",no(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,G(r))):Be.resolve())}ji(e,r){if(Cs(r))return Be.resolve(null);let o=G(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=fn(r,null,"F"),o=G(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const m=zn(...f);return this.zi.getDocuments(e,m).next(T=>this.indexManager.getMinOffset(e,o).next(M=>{const B=this.Zi(r,T);return this.Xi(r,B,m,M.readTime)?this.ji(e,fn(r,null,"F")):this.es(e,B,r,M)}))})))}Hi(e,r,o,u){return Cs(r)||u.isEqual(Nt.min())?Be.resolve(null):this.zi.getDocuments(e,o).next(f=>{const m=this.Zi(r,f);return this.Xi(r,m,o,u)?Be.resolve(null):(_t()<=Ce.in.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),no(r)),this.es(e,m,r,Or(u,-1)).next(T=>T))})}Zi(e,r){let o=new _r(po(e));return r.forEach((u,f)=>{xi(e,f)&&(o=o.add(f))}),o}Xi(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ji(e,r,o){return _t()<=Ce.in.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",no(r)),this.zi.getDocumentsMatchingQuery(e,r,Xt.min(),o)}es(e,r,o,u){return this.zi.getDocumentsMatchingQuery(e,o,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class ml{constructor(e,r,o,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new rr(xt),this.rs=new go(f=>fo(f),Wo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ja(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Qu(a,e,r,o){return new ml(a,e,r,o)}function Sh(a,e){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(a,e){const r=Pe(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,r._s(e),r.mutationQueue.getAllMutationBatches(o))).next(f=>{const m=[],T=[];let M=zn();for(const B of u){m.push(B.batchId);for(const te of B.mutations)M=M.add(te.key)}for(const B of f){T.push(B.batchId);for(const te of B.mutations)M=M.add(te.key)}return r.localDocuments.getDocuments(o,M).next(B=>({us:B,removedBatchIds:m,addedBatchIds:T}))})})})).apply(this,arguments)}function ap(a){const e=Pe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function _l(a,e,r){let o=zn(),u=zn();return r.forEach(f=>o=o.add(f)),e.getEntries(a,o).next(f=>{let m=Vr();return r.forEach((T,M)=>{const B=f.get(T);M.isFoundDocument()!==B.isFoundDocument()&&(u=u.add(T)),M.isNoDocument()&&M.version.isEqual(Nt.min())?(e.removeEntry(T,M.readTime),m=m.insert(T,M)):!B.isValidDocument()||M.version.compareTo(B.version)>0||0===M.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(M),m=m.insert(T,M)):ge("LocalStore","Ignoring outdated watch update for ",T,". Current version:",B.version," Watch version:",M.version)}),{cs:m,ls:u}})}function Ju(a,e){const r=Pe(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function kc(a,e){const r=Pe(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Qr.getTargetData(o,e).next(f=>f?(u=f,Be.resolve(u)):r.Qr.allocateTargetId(o).next(m=>(u=new ss(e,m,"TargetPurposeListen",o.currentSequenceNumber),r.Qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.ns.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(o.targetId,o),r.rs.set(e,o.targetId)),o})}function wa(a,e,r){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(a,e,r){const o=Pe(a),u=o.ns.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Tn(m))throw m;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.ns=o.ns.remove(e),o.rs.delete(u.target)})).apply(this,arguments)}function yl(a,e,r){const o=Pe(a);let u=Nt.min(),f=zn();return o.persistence.runTransaction("Execute query","readwrite",m=>function(M,B,te){const le=Pe(M),Re=le.rs.get(te);return void 0!==Re?Be.resolve(le.ns.get(Re)):le.Qr.getTargetData(B,te)}(o,m,G(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(m,T.targetId).next(M=>{f=M})}).next(()=>o.ts.getDocumentsMatchingQuery(m,e,r?u:Nt.min(),r?f:zn())).next(T=>(Td(o,ts(e),T),{documents:T,hs:f})))}function vl(a,e){const r=Pe(a),o=Pe(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>o.ot(f,e).next(m=>m?m.target:null))}function Rh(a,e){const r=Pe(a),o=r.ss.get(e)||Nt.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,Or(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Td(r,e,u),u))}function Td(a,e,r){let o=a.ss.get(e)||Nt.min();r.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),a.ss.set(e,o)}function mu(){return(mu=(0,l.Z)(function*(a,e,r,o){const u=Pe(a);let f=zn(),m=Vr();for(const B of r){const te=e.Ps(B.metadata.name);B.document&&(f=f.add(te));const le=e.Is(B);le.setReadTime(e.Ts(B.metadata.readTime)),m=m.insert(te,le)}const T=u.os.newChangeBuffer({trackRemovals:!0}),M=yield kc(u,(te=o,G(Ar(tn.fromString(`__bundle__/docs/${te}`)))));var te;return u.persistence.runTransaction("Apply bundle documents","readwrite",B=>_l(B,T,m).next(te=>(T.apply(B),te)).next(te=>u.Qr.removeMatchingKeysForTargetId(B,M.targetId).next(()=>u.Qr.addMatchingKeys(B,f,M.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(B,te.cs,te.ls)).next(()=>te.cs)))})).apply(this,arguments)}function El(a,e){return xh.apply(this,arguments)}function xh(){return(xh=(0,l.Z)(function*(a,e,r=zn()){const o=yield kc(a,G(ln(e.bundledQuery))),u=Pe(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const m=Ti(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.$r.saveNamedQuery(f,e);const T=o.withResumeToken(li.EMPTY_BYTE_STRING,m);return u.ns=u.ns.insert(T.targetId,T),u.Qr.updateTargetData(f,T).next(()=>u.Qr.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.Qr.addMatchingKeys(f,r,o.targetId)).next(()=>u.$r.saveNamedQuery(f,e))})})).apply(this,arguments)}function _u(a,e){return`firestore_clients_${a}_${e}`}function bd(a,e,r){let o=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ta(a,e){return`firestore_targets_${a}_${e}`}class Lc{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Es(e,r,o){const u=JSON.parse(o);let f,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(f=new J(u.error.code,u.error.message))),m?new Lc(e,r,u.state,f):(Ht("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yu{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Es(e,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new J(o.error.code,o.error.message))),f?new yu(e,o.state,u):(Ht("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xu{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Ma();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=pt(o.activeTargetIds[m]),f=f.add(o.activeTargetIds[m]);return u?new Xu(e,f):(Ht("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class ec{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new ec(r.clientId,r.onlineState):(Ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Il{constructor(){this.activeTargetIds=Ma()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dd{constructor(e,r,o,u,f){this.window=e,this.oi=r,this.persistenceKey=o,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new rr(xt),this.started=!1,this.ys=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ws=_u(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Il),this.bs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const f=e.getItem(_u(e.persistenceKey,u));if(f){const m=Xu.Es(u,f);m&&(e.ps=e.ps.insert(m.clientId,m))}}e.Ms();const o=e.storage.getItem(e.vs);if(o){const u=e.xs(o);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,o){this.Ls(e,r,o),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ta(this.persistenceKey,e));if(o){const u=yu.Es(e,o);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ta(this.persistenceKey,e))}updateQueryState(e,r,o){this.qs(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ge("SharedClientState","READ",e,r),r}setItem(e,r){ge("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(ge("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ws)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.Z)(function*(){if(r.started){if(null!==o.key)if(r.bs.test(o.key)){if(null==o.newValue){const u=r.$s(o.key);return r.Us(u,null)}{const u=r.Ws(o.key,o.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(o.key)){if(null!==o.newValue){const u=r.Gs(o.key,o.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(o.key)){if(null!==o.newValue){const u=r.js(o.key,o.newValue);if(u)return r.Hs(u)}}else if(o.key===r.vs){if(null!==o.newValue){const u=r.xs(o.newValue);if(u)return r.Os(u)}}else if(o.key===r.Ss){const u=function(m){let T=O.oe;if(null!=m)try{const M=JSON.parse(m);et("number"==typeof M),T=M}catch(M){Ht("SharedClientState","Failed to read sequence number from WebStorage",M)}return T}(o.newValue);u!==O.oe&&r.sequenceNumberHandler(u)}else if(o.key===r.Fs){const u=r.Js(o.newValue);yield Promise.all(u.map(f=>r.syncEngine.Ys(f)))}}else r.ys.push(o)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,o){const u=new Lc(this.currentUser,e,r,o),f=bd(this.persistenceKey,this.currentUser,e);this.setItem(f,u.ds())}Bs(e){const r=bd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,o){const u=Ta(this.persistenceKey,e),f=new yu(e,r,o);this.setItem(u,f.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const o=this.$s(e);return Xu.Es(o,r)}Gs(e,r){const o=this.Ds.exec(e),u=Number(o[1]);return Lc.Es(new Je(void 0!==o[2]?o[2]:null),u,r)}js(e,r){const o=this.Cs.exec(e),u=Number(o[1]);return yu.Es(u,r)}xs(e){return ec.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const o=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),f=this.Ns(o),m=[],T=[];return f.forEach(M=>{u.has(M)||m.push(M)}),u.forEach(M=>{f.has(M)||T.push(M)}),this.syncEngine.eo(m,T).then(()=>{this.ps=o})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Ma();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Oh{constructor(){this.no=new Il,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,o){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Il,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vu{io(e){}shutdown(){}}class tc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ad=null;function Nh(){return null===Ad?Ad=268435456+Math.round(2147483648*Math.random()):Ad++,"0x"+Ad.toString(16)}const v={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const p="WebChannelConnection";class w extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.wo=o+"://"+r.host,this.So=`projects/${u}/databases/${f}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Do(){return!1}Co(r,o,u,f,m){const T=Nh(),M=this.vo(r,o.toUriEncodedString());ge("RestConnection",`Sending RPC '${r}' ${T}:`,M,u);const B={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(B,f,m),this.Mo(r,M,B,u).then(te=>(ge("RestConnection",`Received RPC '${r}' ${T}: `,te),te),te=>{throw Jt("RestConnection",`RPC '${r}' ${T} failed with error: `,te,"url: ",M,"request:",u),te})}xo(r,o,u,f,m,T){return this.Co(r,o,u,f,m)}Fo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ke,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((f,m)=>r[m]=f),u&&u.headers.forEach((f,m)=>r[m]=f)}vo(r,o){return`${this.wo}/v1/${o}:${v[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,o,u){const f=Nh();return new Promise((m,T)=>{const M=new Me;M.setWithCredentials(!0),M.listenOnce(Mt.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case yt.NO_ERROR:const te=M.getResponseJson();ge(p,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(te)),m(te);break;case yt.TIMEOUT:ge(p,`RPC '${e}' ${f} timed out`),T(new J(ce.DEADLINE_EXCEEDED,"Request time out"));break;case yt.HTTP_ERROR:const le=M.getStatus();if(ge(p,`RPC '${e}' ${f} failed with status:`,le,"response text:",M.getResponseText()),le>0){let Re=M.getResponseJson();Array.isArray(Re)&&(Re=Re[0]);const ot=Re?.error;if(ot&&ot.status&&ot.message){const kt=function($t){const An=$t.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(An)>=0?An:ce.UNKNOWN}(ot.status);T(new J(kt,ot.message))}else T(new J(ce.UNKNOWN,"Server responded with status "+M.getStatus()))}else T(new J(ce.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{ge(p,`RPC '${e}' ${f} completed.`)}});const B=JSON.stringify(u);ge(p,`RPC '${e}' ${f} sending request:`,u),M.send(r,"POST",B,o,15)})}Oo(e,r,o){const u=Nh(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=We(),T=sn(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(M.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(M.xmlHttpFactory=new gt({})),this.Fo(M.initMessageHeaders,r,o),M.encodeInitMessageHeaders=!0;const te=f.join("");ge(p,`Creating RPC '${e}' stream ${u}: ${te}`,M);const le=m.createWebChannel(te,M);let Re=!1,ot=!1;const kt=new h({lo:$t=>{ot?ge(p,`Not sending because RPC '${e}' stream ${u} is closed:`,$t):(Re||(ge(p,`Opening RPC '${e}' stream ${u} transport.`),le.open(),Re=!0),ge(p,`RPC '${e}' stream ${u} sending:`,$t),le.send($t))},ho:()=>le.close()}),Kt=($t,An,Bn)=>{$t.listen(An,Mn=>{try{Bn(Mn)}catch(dr){setTimeout(()=>{throw dr},0)}})};return Kt(le,Ge.EventType.OPEN,()=>{ot||(ge(p,`RPC '${e}' stream ${u} transport opened.`),kt.mo())}),Kt(le,Ge.EventType.CLOSE,()=>{ot||(ot=!0,ge(p,`RPC '${e}' stream ${u} transport closed`),kt.po())}),Kt(le,Ge.EventType.ERROR,$t=>{ot||(ot=!0,Jt(p,`RPC '${e}' stream ${u} transport errored:`,$t),kt.po(new J(ce.UNAVAILABLE,"The operation could not be completed")))}),Kt(le,Ge.EventType.MESSAGE,$t=>{var An;if(!ot){const Bn=$t.data[0];et(!!Bn);const dr=Bn.error||(null===(An=Bn[0])||void 0===An?void 0:An.error);if(dr){ge(p,`RPC '${e}' stream ${u} received error:`,dr);const ui=dr.status;let Rr=function(Ve){const Qe=ti[Ve];if(void 0!==Qe)return Ec(Qe)}(ui),Ze=dr.message;void 0===Rr&&(Rr=ce.INTERNAL,Ze="Unknown error status: "+ui+" with message "+dr.message),ot=!0,kt.po(new J(Rr,Ze)),le.close()}else ge(p,`RPC '${e}' stream ${u} received:`,Bn),kt.yo(Bn)}}),Kt(T,Tt.STAT_EVENT,$t=>{$t.stat===Vt.PROXY?ge(p,`RPC '${e}' stream ${u} detected buffering proxy`):$t.stat===Vt.NOPROXY&&ge(p,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{kt.fo()},0),kt}}function H(){return typeof window<"u"?window:null}function re(){return typeof document<"u"?document:null}function Ne(a){return new dl(a,!0)}class ct{constructor(e,r,o=1e3,u=1.5,f=6e4){this.oi=e,this.timerId=r,this.No=o,this.Lo=u,this.Bo=f,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),o=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-o);u>0&&ge("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Lt{constructor(e,r,o,u,f,m,T,M){this.oi=e,this.Go=o,this.zo=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=M,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ct(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,l.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,l.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var o=this;return(0,l.Z)(function*(){o.s_(),o.o_(),o.Yo.cancel(),o.jo++,4!==e?o.Yo.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Ht(r.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),o.Yo.Ko()):r&&r.code===ce.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.__(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.jo===r&&this.u_(o,u)},o=>{e(()=>{const u=new J(ce.UNKNOWN,"Fetching auth token failed: "+o.message);return this.c_(u)})})}u_(e,r){const o=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{o(()=>this.listener.Po())}),this.stream.To(()=>{o(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{o(()=>this.c_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,l.Z)(function*(){e.state=0,e.start()}))}c_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class In extends Lt{constructor(e,r,o,u,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Oa(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:It(),u=e.targetChange.targetIds||[],f=function(B,te){return B.useProto3Json?(et(void 0===te||"string"==typeof te),li.fromBase64String(te||"")):(et(void 0===te||te instanceof Buffer||te instanceof Uint8Array),li.fromUint8Array(te||new Uint8Array))}(a,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(B){const te=void 0===B.code?ce.UNKNOWN:Ec(B.code);return new J(te,B.message||"")}(m);r=new rs(o,u,f,T||null)}else if("documentChange"in e){const o=e.documentChange,u=is(a,o.document.name),f=Ti(o.document.updateTime),m=o.document.createTime?Ti(o.document.createTime):Nt.min(),T=new Qr({mapValue:{fields:o.document.fields}}),M=j.newFoundDocument(u,f,m,T);r=new Ra(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,u=is(a,o.document),f=o.readTime?Ti(o.readTime):Nt.min(),m=j.newNoDocument(u,f);r=new Ra([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=is(a,o.document);r=new Ra([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return It();{const o=e.filter,{count:u=0,unchangedNames:f}=o,m=new To(u,f);r=new ou(o.targetId,m)}}var B;return r}(this.serializer,e),o=function(f){if(!("targetChange"in f))return Nt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Nt.min():m.readTime?Ti(m.readTime):Nt.min()}(e);return this.listener.h_(r,o)}P_(e){const r={};r.database=br(this.serializer),r.addTarget=function(f,m){let T;const M=m.target;if(T=aa(M)?{documents:Ac(f,M)}:{query:Gu(f,M)._t},T.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){T.resumeToken=Dc(f,m.resumeToken);const B=xa(f,m.expectedCount);null!==B&&(T.expectedCount=B)}else if(m.snapshotVersion.compareTo(Nt.min())>0){T.readTime=_o(f,m.snapshotVersion.toTimestamp());const B=xa(f,m.expectedCount);null!==B&&(T.expectedCount=B)}return T}(this.serializer,e);const o=function jo(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.i_(r)}I_(e){const r={};r.database=br(this.serializer),r.removeTarget=e,this.i_(r)}}class Un extends Lt{constructor(e,r,o,u,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Na(a,e){return a&&a.length>0?(et(void 0!==e),a.map(r=>function(u,f){let m=Ti(u.updateTime?u.updateTime:f);return m.isEqual(Nt.min())&&(m=Ti(f)),new ru(m,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Ti(e.commitTime);return this.listener.A_(o,r)}return et(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=br(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Do(this.serializer,o))};this.i_(r)}}class Mr extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new J(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,o,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,au(r,o),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new J(ce.UNKNOWN,f.toString())})}xo(e,r,o,u,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,T])=>this.connection.xo(e,au(r,o),u,m,T,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new J(ce.UNKNOWN,m.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class _s{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ht(r),this.y_=!1):ge("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class za{constructor(e,r,o,u,f){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=f,this.O_.io(T=>{o.enqueueAndForget((0,l.Z)(function*(){var M;Wa(m)&&(ge("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,l.Z)(function*(te){const le=Pe(te);le.M_.add(4),yield Eu(le),le.N_.set("Unknown"),le.M_.delete(4),yield Ga(le)}),function B(te){return M.apply(this,arguments)})(m))}))}),this.N_=new _s(o,u)}}function Ga(a){return nc.apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(a){if(Wa(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function Eu(a){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function Iu(a,e){const r=Pe(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Md(r)?Cl(r):Sl(r).Xo()&&Pd(r,e))}function Cu(a,e){const r=Pe(a),o=Sl(r);r.F_.delete(e),o.Xo()&&kh(r,e),0===r.F_.size&&(o.Xo()?o.n_():Wa(r)&&r.N_.set("Unknown"))}function Pd(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Sl(a).P_(e)}function kh(a,e){a.L_.xe(e),Sl(a).I_(e)}function Cl(a){a.L_=new su({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Sl(a).start(),a.N_.w_()}function Md(a){return Wa(a)&&!Sl(a).Zo()&&a.F_.size>0}function Wa(a){return 0===Pe(a).M_.size}function wu(a){a.L_=void 0}function wl(a){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,l.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function Kg(a){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,l.Z)(function*(a){a.F_.forEach((e,r)=>{Pd(a,e)})})).apply(this,arguments)}function Tl(a,e){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,l.Z)(function*(a,e){wu(a),Md(a)?(a.N_.D_(e),Cl(a)):a.N_.set("Unknown")})).apply(this,arguments)}function Yg(a,e,r){return bl.apply(this,arguments)}function bl(){return bl=(0,l.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof rs&&2===e.state&&e.cause)try{yield(o=(0,l.Z)(function*(f,m){const T=m.cause;for(const M of m.targetIds)f.F_.has(M)&&(yield f.remoteSyncer.rejectListen(M,T),f.F_.delete(M),f.L_.removeTarget(M))}),function u(f,m){return o.apply(this,arguments)})(a,e)}catch(o){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vc(a,o)}else if(e instanceof Ra?a.L_.Ke(e):e instanceof ou?a.L_.He(e):a.L_.We(e),!r.isEqual(Nt.min()))try{const o=yield ap(a.localStore);r.compareTo(o)>=0&&(yield function(f,m){const T=f.L_.rt(m);return T.targetChanges.forEach((M,B)=>{if(M.resumeToken.approximateByteSize()>0){const te=f.F_.get(B);te&&f.F_.set(B,te.withResumeToken(M.resumeToken,m))}}),T.targetMismatches.forEach((M,B)=>{const te=f.F_.get(M);if(!te)return;f.F_.set(M,te.withResumeToken(li.EMPTY_BYTE_STRING,te.snapshotVersion)),kh(f,M);const le=new ss(te.target,M,B,te.sequenceNumber);Pd(f,le)}),f.remoteSyncer.applyRemoteEvent(T)}(a,r))}catch(o){ge("RemoteStore","Failed to raise snapshot:",o),yield Vc(a,o)}var o}),bl.apply(this,arguments)}function Vc(a,e,r){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(a,e,r){if(!Tn(e))throw e;a.M_.add(1),yield Eu(a),a.N_.set("Offline"),r||(r=()=>ap(a.localStore)),a.asyncQueue.enqueueRetryable((0,l.Z)(function*(){ge("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield Ga(a)}))})).apply(this,arguments)}function Qg(a,e){return e().catch(r=>Vc(a,r,e))}function Al(a){return cp.apply(this,arguments)}function cp(){return(cp=(0,l.Z)(function*(a){const e=Pe(a),r=Tu(e);let o=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Jg(e);)try{const u=yield Ju(e.localStore,o);if(null===u){0===e.v_.length&&r.n_();break}o=u.batchId,lp(e,u)}catch(u){yield Vc(e,u)}Xg(e)&&em(e)})).apply(this,arguments)}function Jg(a){return Wa(a)&&a.v_.length<10}function lp(a,e){a.v_.push(e);const r=Tu(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function Xg(a){return Wa(a)&&!Tu(a).Zo()&&a.v_.length>0}function em(a){Tu(a).start()}function K_(a){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,l.Z)(function*(a){Tu(a).V_()})).apply(this,arguments)}function Y_(a){return dp.apply(this,arguments)}function dp(){return(dp=(0,l.Z)(function*(a){const e=Tu(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function ks(a,e,r){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,l.Z)(function*(a,e,r){const o=a.v_.shift(),u=Ki.from(o,e,r);yield Qg(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Al(a)})).apply(this,arguments)}function tm(a,e){return xd.apply(this,arguments)}function xd(){return xd=(0,l.Z)(function*(a,e){var r;e&&Tu(a).E_&&(yield(r=(0,l.Z)(function*(u,f){if(Bo(T=f.code)&&T!==ce.ABORTED){const m=u.v_.shift();Tu(u).t_(),yield Qg(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield Al(u)}var T}),function o(u,f){return r.apply(this,arguments)})(a,e)),Xg(a)&&em(a)}),xd.apply(this,arguments)}function Ko(a,e){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(a,e){const r=Pe(a);r.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const o=Wa(r);r.M_.add(3),yield Eu(r),o&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Ga(r)})).apply(this,arguments)}function Bh(a,e){return jh.apply(this,arguments)}function jh(){return(jh=(0,l.Z)(function*(a,e){const r=Pe(a);e?(r.M_.delete(2),yield Ga(r)):e||(r.M_.add(2),yield Eu(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Sl(a){return a.B_||(a.B_=function(r,o,u){const f=Pe(r);return f.f_(),new In(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:wl.bind(null,a),To:Kg.bind(null,a),Ao:Tl.bind(null,a),h_:Yg.bind(null,a)}),a.x_.push(function(){var e=(0,l.Z)(function*(r){r?(a.B_.t_(),Md(a)?Cl(a):a.N_.set("Unknown")):(yield a.B_.stop(),wu(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Tu(a){return a.k_||(a.k_=function(r,o,u){const f=Pe(r);return f.f_(),new Un(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:K_.bind(null,a),Ao:tm.bind(null,a),R_:Y_.bind(null,a),A_:ks.bind(null,a)}),a.x_.push(function(){var e=(0,l.Z)(function*(r){r?(a.k_.t_(),yield Al(a)):(yield a.k_.stop(),a.v_.length>0&&(ge("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class hp{constructor(e,r,o,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new De,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,f){const m=Date.now()+o,T=new hp(e,r,m,u,f);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new J(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bc(a,e){if(Ht("AsyncQueue",`${e}: ${a}`),Tn(a))return new J(ce.UNAVAILABLE,`${e}: ${a}`);throw a}class Pl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ot.comparator(r.key,o.key):(r,o)=>Ot.comparator(r.key,o.key),this.keyedMap=Oi(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Pl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class fp{constructor(){this.q_=new rr(Ot.comparator)}track(e){const r=e.doc.key,o=this.q_.get(r);o?0!==e.type&&3===o.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==o.type?this.q_=this.q_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.q_=this.q_.remove(r):1===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):It():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Ml{constructor(e,r,o,u,f,m,T,M,B){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=M,this.hasCachedResults=B}static fromInitialDocuments(e,r,o,u,f){const m=[];return r.forEach(T=>{m.push({type:0,doc:T})}),new Ml(e,r,Pl.emptySet(r),m,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class Q_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class pp{constructor(){this.queries=new go(e=>Ri(e),kn),this.onlineState="Unknown",this.z_=new Set}}function Od(a,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,l.Z)(function*(a,e){const r=Pe(a);let o=3;const u=e.query;let f=r.queries.get(u);f?!f.W_()&&e.G_()&&(o=2):(f=new Q_,o=e.G_()?0:1);try{switch(o){case 0:f.K_=yield r.onListen(u,!0);break;case 1:f.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const T=Bc(m,`Initialization of query '${no(e.query)}' failed`);return void e.onError(T)}r.queries.set(u,f),f.U_.push(e),e.j_(r.onlineState),f.K_&&e.H_(f.K_)&&$h(r)})).apply(this,arguments)}function jc(a,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,l.Z)(function*(a,e){const r=Pe(a),o=e.query;let u=3;const f=r.queries.get(o);if(f){const m=f.U_.indexOf(e);m>=0&&(f.U_.splice(m,1),0===f.U_.length?u=e.G_()?0:1:!f.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function J_(a,e){const r=Pe(a);let o=!1;for(const u of e){const m=r.queries.get(u.query);if(m){for(const T of m.U_)T.H_(u)&&(o=!0);m.K_=u}}o&&$h(r)}function nm(a,e,r){const o=Pe(a),u=o.queries.get(e);if(u)for(const f of u.U_)f.onError(r);o.queries.delete(e)}function $h(a){a.z_.forEach(e=>{e.next()})}var Hh,$c;($c=Hh||(Hh={})).J_="default",$c.Cache="cache";class Rl{constructor(e,r,o){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=o||{}}H_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ml(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Hh.Cache}}class rm{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class zh{constructor(e){this.serializer=e}Ps(e){return is(this.serializer,e)}Is(e){return e.metadata.exists?uo(this.serializer,e.document,!1):j.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ti(e)}}class Gh{constructor(e,r,o){this.oa=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=im(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const o=tn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,o=new zh(this.serializer);for(const u of e)if(u.metadata.queries){const f=o.Ps(u.metadata.name);for(const m of u.metadata.queries){const T=(r.get(m)||zn()).add(f);r.set(m,T)}}return r}complete(){var e=this;return(0,l.Z)(function*(){const r=yield function up(a,e,r,o){return mu.apply(this,arguments)}(e.localStore,new zh(e.serializer),e.documents,e.oa.id),o=e.aa(e.documents);for(const u of e.queries)yield El(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function im(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class om{constructor(e){this.key=e}}class sm{constructor(e){this.key=e}}class am{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=zn(),this.mutatedKeys=zn(),this.Ia=po(e),this.Ta=new Pl(this.Ia)}get Ea(){return this.la}da(e,r){const o=r?r.Aa:new fp,u=r?r.Ta:this.Ta;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,T=!1;const M="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,B="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,le)=>{const Re=u.get(te),ot=xi(this.query,le)?le:null,kt=!!Re&&this.mutatedKeys.has(Re.key),Kt=!!ot&&(ot.hasLocalMutations||this.mutatedKeys.has(ot.key)&&ot.hasCommittedMutations);let $t=!1;Re&&ot?Re.data.isEqual(ot.data)?kt!==Kt&&(o.track({type:3,doc:ot}),$t=!0):this.Ra(Re,ot)||(o.track({type:2,doc:ot}),$t=!0,(M&&this.Ia(ot,M)>0||B&&this.Ia(ot,B)<0)&&(T=!0)):!Re&&ot?(o.track({type:0,doc:ot}),$t=!0):Re&&!ot&&(o.track({type:1,doc:Re}),$t=!0,(M||B)&&(T=!0)),$t&&(ot?(m=m.add(ot),f=Kt?f.add(te):f.delete(te)):(m=m.delete(te),f=f.delete(te)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const te="F"===this.query.limitType?m.last():m.first();m=m.delete(te.key),f=f.delete(te.key),o.track({type:1,doc:te})}return{Ta:m,Aa:o,Xi:T,mutatedKeys:f}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,u){const f=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const m=e.Aa.Q_();m.sort((te,le)=>function(ot,kt){const Kt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return Kt(ot)-Kt(kt)}(te.type,le.type)||this.Ia(te.doc,le.doc)),this.Va(o),u=null!=u&&u;const T=r&&!u?this.ma():[],M=0===this.Pa.size&&this.current&&!u?1:0,B=M!==this.ha;return this.ha=M,0!==m.length||B?{snapshot:new Ml(this.query,e.Ta,f,m,e.mutatedKeys,0===M,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),fa:T}:{fa:T}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new fp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=zn(),this.Ta.forEach(o=>{this.ga(o.key)&&(this.Pa=this.Pa.add(o.key))});const r=[];return e.forEach(o=>{this.Pa.has(o)||r.push(new sm(o))}),this.Pa.forEach(o=>{e.has(o)||r.push(new om(o))}),r}pa(e){this.la=e.hs,this.Pa=zn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Ml.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class X_{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class ey{constructor(e){this.key=e,this.wa=!1}}class um{constructor(e,r,o,u,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Sa={},this.ba=new go(T=>Ri(T),kn),this.Da=new Map,this.Ca=new Set,this.va=new rr(Ot.comparator),this.Fa=new Map,this.Ma=new gu,this.xa={},this.Oa=new Map,this.Na=Ia.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Wh(a,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(a,e,r=!0){const o=af(a);let u;const f=o.ba.get(e);return f?(o.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.ya()):u=yield cm(o,e,r,!0),u})).apply(this,arguments)}function _p(a,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,l.Z)(function*(a,e){const r=af(a);yield cm(r,e,!0,!1)})).apply(this,arguments)}function cm(a,e,r,o){return kd.apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(a,e,r,o){const u=yield kc(a.localStore,G(e)),f=u.targetId,m=r?a.sharedClientState.addLocalQueryTarget(f):"not-current";let T;return o&&(T=yield qh(a,e,f,"current"===m,u.resumeToken)),a.isPrimaryClient&&r&&Iu(a.remoteStore,u),T})).apply(this,arguments)}function qh(a,e,r,o,u){return bu.apply(this,arguments)}function bu(){return bu=(0,l.Z)(function*(a,e,r,o,u){a.Ba=(le,Re,ot)=>{return(kt=(0,l.Z)(function*($t,An,Bn,Mn){let dr=An.view.da(Bn);dr.Xi&&(dr=yield yl($t.localStore,An.query,!1).then(({documents:Te})=>An.view.da(Te,dr)));const ui=Mn&&Mn.targetChanges.get(An.targetId),Rr=Mn&&null!=Mn.targetMismatches.get(An.targetId),Ze=An.view.applyChanges(dr,$t.isPrimaryClient,ui,Rr);return Tp($t,An.targetId,Ze.fa),Ze.snapshot}),function Kt($t,An,Bn,Mn){return kt.apply(this,arguments)})(a,le,Re,ot);var kt};const f=yield yl(a.localStore,e,!0),m=new am(e,f.hs),T=m.da(f.documents),M=iu.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,u),B=m.applyChanges(T,a.isPrimaryClient,M);Tp(a,r,B.fa);const te=new X_(e,r,m);return a.ba.set(e,te),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),B.snapshot}),bu.apply(this,arguments)}function lm(a,e,r){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,l.Z)(function*(a,e,r){const o=Pe(a),u=o.ba.get(e),f=o.Da.get(u.targetId);if(f.length>1)return o.Da.set(u.targetId,f.filter(m=>!kn(m,e))),void o.ba.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield wa(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&Cu(o.remoteStore,u.targetId),xl(o,u.targetId)}).catch(Dn))):(xl(o,u.targetId),yield wa(o.localStore,u.targetId,!0))})).apply(this,arguments)}function ty(a,e){return dm.apply(this,arguments)}function dm(){return(dm=(0,l.Z)(function*(a,e){const r=Pe(a),o=r.ba.get(e),u=r.Da.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Cu(r.remoteStore,o.targetId))})).apply(this,arguments)}function vp(){return(vp=(0,l.Z)(function*(a,e,r){const o=Op(a);try{const u=yield function(m,T){const M=Pe(m),B=Ut.now(),te=T.reduce((ot,kt)=>ot.add(kt.key),zn());let le,Re;return M.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let kt=Vr(),Kt=zn();return M.os.getEntries(ot,te).next($t=>{kt=$t,kt.forEach((An,Bn)=>{Bn.isValidDocument()||(Kt=Kt.add(An))})}).next(()=>M.localDocuments.getOverlayedDocuments(ot,kt)).next($t=>{le=$t;const An=[];for(const Bn of T){const Mn=dt(Bn,le.get(Bn.key).overlayedDocument);null!=Mn&&An.push(new pr(Bn.key,Mn,q(Mn.value.mapValue),ei.exists(!0)))}return M.mutationQueue.addMutationBatch(ot,B,An,T)}).next($t=>{Re=$t;const An=$t.applyToLocalDocumentSet(le,Kt);return M.documentOverlayCache.saveOverlays(ot,$t.batchId,An)})}).then(()=>({batchId:Re.batchId,changes:tu(le)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(m,T,M){let B=m.xa[m.currentUser.toKey()];B||(B=new rr(xt)),B=B.insert(T,M),m.xa[m.currentUser.toKey()]=B}(o,u.batchId,r),yield qa(o,u.changes),yield Al(o.remoteStore)}catch(u){const f=Bc(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Ep(a,e){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,l.Z)(function*(a,e){const r=Pe(a);try{const o=yield function ms(a,e){const r=Pe(a),o=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const T=[];e.targetChanges.forEach((te,le)=>{const Re=u.get(le);if(!Re)return;T.push(r.Qr.removeMatchingKeys(f,te.removedDocuments,le).next(()=>r.Qr.addMatchingKeys(f,te.addedDocuments,le)));let ot=Re.withSequenceNumber(f.currentSequenceNumber);var Kt,$t,An;null!==e.targetMismatches.get(le)?ot=ot.withResumeToken(li.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):te.resumeToken.approximateByteSize()>0&&(ot=ot.withResumeToken(te.resumeToken,o)),u=u.insert(le,ot),$t=ot,An=te,(0===(Kt=Re).resumeToken.approximateByteSize()||$t.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&T.push(r.Qr.updateTargetData(f,ot))});let M=Vr(),B=zn();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(f,te))}),T.push(_l(f,m,e.documentUpdates).next(te=>{M=te.cs,B=te.ls})),!o.isEqual(Nt.min())){const te=r.Qr.getLastRemoteSnapshotVersion(f).next(le=>r.Qr.setTargetsMetadata(f,f.currentSequenceNumber,o));T.push(te)}return Be.waitFor(T).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,M,B)).next(()=>M)}).then(f=>(r.ns=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const m=r.Fa.get(f);m&&(et(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.wa=!0:u.modifiedDocuments.size>0?et(m.wa):u.removedDocuments.size>0&&(et(m.wa),m.wa=!1))}),yield qa(r,o,e)}catch(o){yield Dn(o)}})).apply(this,arguments)}function Ip(a,e,r){const o=Pe(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.ba.forEach((f,m)=>{const T=m.view.j_(e);T.snapshot&&u.push(T.snapshot)}),function(m,T){const M=Pe(m);M.onlineState=T;let B=!1;M.queries.forEach((te,le)=>{for(const Re of le.U_)Re.j_(T)&&(B=!0)}),B&&$h(M)}(o.eventManager,e),u.length&&o.Sa.h_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Cp(a,e,r){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,l.Z)(function*(a,e,r){const o=Pe(a);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Fa.get(e),f=u&&u.key;if(f){let m=new rr(Ot.comparator);m=m.insert(f,j.newNoDocument(f,Nt.min()));const T=zn().add(f),M=new ri(Nt.min(),new Map,new rr(xt),m,T);yield Ep(o,M),o.va=o.va.remove(f),o.Fa.delete(e),bp(o)}else yield wa(o.localStore,e,!1).then(()=>xl(o,e,r)).catch(Dn)})).apply(this,arguments)}function Jh(a,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(a,e){const r=Pe(a),o=e.batch.batchId;try{const u=yield function Mh(a,e){const r=Pe(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=r.os.newChangeBuffer({trackRemovals:!0});return function(T,M,B,te){const le=B.batch,Re=le.keys();let ot=Be.resolve();return Re.forEach(kt=>{ot=ot.next(()=>te.getEntry(M,kt)).next(Kt=>{const $t=B.docVersions.get(kt);et(null!==$t),Kt.version.compareTo($t)<0&&(le.applyToRemoteDocument(Kt,B),Kt.isValidDocument()&&(Kt.setReadTime(B.commitVersion),te.addEntry(Kt)))})}),ot.next(()=>T.mutationQueue.removeMutationBatch(M,le))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(T){let M=zn();for(let B=0;B<T.mutationResults.length;++B)T.mutationResults[B].transformResults.length>0&&(M=M.add(T.batch.mutations[B].key));return M}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,e);zc(r,o,null),Ld(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield qa(r,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function hm(a,e,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,l.Z)(function*(a,e,r){const o=Pe(a);try{const u=yield function(m,T){const M=Pe(m);return M.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let te;return M.mutationQueue.lookupMutationBatch(B,T).next(le=>(et(null!==le),te=le.keys(),M.mutationQueue.removeMutationBatch(B,le))).next(()=>M.mutationQueue.performConsistencyCheck(B)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(B,te,T)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,te)).next(()=>M.localDocuments.getDocuments(B,te))})}(o.localStore,e);zc(o,e,r),Ld(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield qa(o,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function ef(){return(ef=(0,l.Z)(function*(a,e){const r=Pe(a);Wa(r.remoteStore)||ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const T=Pe(m);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>T.mutationQueue.getHighestUnacknowledgedBatchId(M))}(r.localStore);if(-1===o)return void e.resolve();const u=r.Oa.get(o)||[];u.push(e),r.Oa.set(o,u)}catch(o){const u=Bc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function Ld(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function zc(a,e,r){const o=Pe(a);let u=o.xa[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),o.xa[o.currentUser.toKey()]=u}}function xl(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Da.get(e))a.ba.delete(o),r&&a.Sa.ka(o,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(o=>{a.Ma.containsKey(o)||wp(a,o)})}function wp(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(Cu(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),bp(a))}function Tp(a,e,r){for(const o of r)o instanceof om?(a.Ma.addReference(o.key,e),ny(a,o)):o instanceof sm?(ge("SyncEngine","Document no longer in limbo: "+o.key),a.Ma.removeReference(o.key,e),a.Ma.containsKey(o.key)||wp(a,o.key)):It()}function ny(a,e){const r=e.key,o=r.path.canonicalString();a.va.get(r)||a.Ca.has(o)||(ge("SyncEngine","New document in limbo: "+r),a.Ca.add(o),bp(a))}function bp(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new Ot(tn.fromString(e)),o=a.Na.next();a.Fa.set(o,new ey(r)),a.va=a.va.insert(r,o),Iu(a.remoteStore,new ss(G(Ar(r.path)),o,"TargetPurposeLimboResolution",O.oe))}}function qa(a,e,r){return tf.apply(this,arguments)}function tf(){return tf=(0,l.Z)(function*(a,e,r){const o=Pe(a),u=[],f=[],m=[];var T;o.ba.isEmpty()||(o.ba.forEach((T,M)=>{m.push(o.Ba(M,e,r).then(B=>{if((B||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(M.targetId,B&&!B.fromCache?"current":"not-current"),B){u.push(B);const te=us.Ki(M.targetId,B);f.push(te)}}))}),yield Promise.all(m),o.Sa.h_(u),yield(T=(0,l.Z)(function*(B,te){const le=Pe(B);try{yield le.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>Be.forEach(te,ot=>Be.forEach(ot.qi,kt=>le.persistence.referenceDelegate.addReference(Re,ot.targetId,kt)).next(()=>Be.forEach(ot.Qi,kt=>le.persistence.referenceDelegate.removeReference(Re,ot.targetId,kt)))))}catch(Re){if(!Tn(Re))throw Re;ge("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of te){const ot=Re.targetId;if(!Re.fromCache){const kt=le.ns.get(ot),$t=kt.withLastLimboFreeSnapshotVersion(kt.snapshotVersion);le.ns=le.ns.insert(ot,$t)}}}),function M(B,te){return T.apply(this,arguments)})(o.localStore,f))}),tf.apply(this,arguments)}function nf(a,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,l.Z)(function*(a,e){const r=Pe(a);if(!r.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const o=yield Sh(r.localStore,e);r.currentUser=e,(f=r).Oa.forEach(T=>{T.forEach(M=>{M.reject(new J(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Oa.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield qa(r,o.us)}var f})).apply(this,arguments)}function Ol(a,e){const r=Pe(a),o=r.Fa.get(e);if(o&&o.wa)return zn().add(o.key);{let u=zn();const f=r.Da.get(e);if(!f)return u;for(const m of f){const T=r.ba.get(m);u=u.unionWith(T.view.Ea)}return u}}function ry(a,e){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,l.Z)(function*(a,e){const r=Pe(a),o=yield yl(r.localStore,e.query,!0),u=e.view.pa(o);return r.isPrimaryClient&&Tp(r,e.targetId,u.fa),u})).apply(this,arguments)}function iE(a,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,l.Z)(function*(a,e){const r=Pe(a);return Rh(r.localStore,e).then(o=>qa(r,o))})).apply(this,arguments)}function Sp(a,e,r,o){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,l.Z)(function*(a,e,r,o){const u=Pe(a),f=yield function(T,M){const B=Pe(T),te=Pe(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",le=>te.vn(le,M).next(Re=>Re?B.localDocuments.getDocuments(le,Re):Be.resolve(null)))}(u.localStore,e);var M;null!==f?("pending"===r?yield Al(u.remoteStore):"acknowledged"===r||"rejected"===r?(zc(u,e,o||null),Ld(u,e),M=e,Pe(Pe(u.localStore).mutationQueue).Mn(M)):It(),yield qa(u,f)):ge("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function kl(){return(kl=(0,l.Z)(function*(a,e){const r=Pe(a);if(af(r),Op(r),!0===e&&!0!==r.La){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield rf(r,o.toArray());r.La=!0,yield Bh(r.remoteStore,!0);for(const f of u)Iu(r.remoteStore,f)}else if(!1===e&&!1!==r.La){const o=[];let u=Promise.resolve();r.Da.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(xl(r,m),wa(r.localStore,m,!0))),Cu(r.remoteStore,m)}),yield u,yield rf(r,o),function(m){const T=Pe(m);T.Fa.forEach((M,B)=>{Cu(T.remoteStore,B)}),T.Ma.mr(),T.Fa=new Map,T.va=new rr(Ot.comparator)}(r),r.La=!1,yield Bh(r.remoteStore,!1)}})).apply(this,arguments)}function rf(a,e,r){return sf.apply(this,arguments)}function sf(){return(sf=(0,l.Z)(function*(a,e,r){const o=Pe(a),u=[],f=[];for(const m of e){let T;const M=o.Da.get(m);if(M&&0!==M.length){T=yield kc(o.localStore,G(M[0]));for(const B of M){const te=o.ba.get(B),le=yield ry(o,te);le.snapshot&&f.push(le.snapshot)}}else{const B=yield vl(o.localStore,m);T=yield kc(o.localStore,B),yield qh(o,Mp(B),m,!1,T.resumeToken)}u.push(T)}return o.Sa.h_(f),u})).apply(this,arguments)}function Mp(a){return Pa(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function fm(a){return r=Pe(a).localStore,Pe(Pe(r).persistence).Bi();var r}function pm(a,e,r,o){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,l.Z)(function*(a,e,r,o){const u=Pe(a);if(u.La)return void ge("SyncEngine","Ignoring unexpected query state notification.");const f=u.Da.get(e);if(f&&f.length>0)switch(r){case"current":case"not-current":{const m=yield Rh(u.localStore,ts(f[0])),T=ri.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,li.EMPTY_BYTE_STRING);yield qa(u,m,T);break}case"rejected":yield wa(u.localStore,e,!0),xl(u,e,o);break;default:It()}})).apply(this,arguments)}function iy(a,e,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,l.Z)(function*(a,e,r){const o=af(a);if(o.La){for(const u of e){if(o.Da.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){ge("SyncEngine","Adding an already active target "+u);continue}const f=yield vl(o.localStore,u),m=yield kc(o.localStore,f);yield qh(o,Mp(f),m.targetId,!1,m.resumeToken),Iu(o.remoteStore,m)}for(const u of r)o.Da.has(u)&&(yield wa(o.localStore,u,!1).then(()=>{Cu(o.remoteStore,u),xl(o,u)}).catch(Dn))}})).apply(this,arguments)}function af(a){const e=Pe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ep.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ol.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cp.bind(null,e),e.Sa.h_=J_.bind(null,e.eventManager),e.Sa.ka=nm.bind(null,e.eventManager),e}function Op(a){const e=Pe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hm.bind(null,e),e}class Du{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.Z)(function*(){r.serializer=Ne(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Qu(this.persistence,new wd,e.initialUser,this.serializer)}createPersistence(e){return new Dh(Ed.Hr,this.serializer)}createSharedClientState(e){return new Oh}terminate(){var e=this;return(0,l.Z)(function*(){var r,o;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gm extends Du{constructor(e,r,o){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield r().call(o,e),yield o.Qa.initialize(o,e),yield Op(o.Qa.syncEngine),yield Al(o.Qa.remoteStore),yield o.persistence.fi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Qu(this.persistence,new wd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Mc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const o=new x(r,this.persistence);return new V(e.asyncQueue,o)}createPersistence(e){const r=Cd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new oo(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,H(),re(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Oh}}class sy extends gm{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield r().call(o,e);const u=o.Qa.syncEngine;o.sharedClientState instanceof Dd&&(o.sharedClientState.syncEngine={Zs:Sp.bind(null,u),Xs:pm.bind(null,u),eo:iy.bind(null,u),Bi:fm.bind(null,u),Ys:iE.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.fi(function(){var f=(0,l.Z)(function*(m){yield function Nl(a,e){return kl.apply(this,arguments)}(o.Qa.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const r=H();if(!Dd.D(r))throw new J(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Cd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dd(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ud{initialize(e,r){var o=this;return(0,l.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Ip(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=nf.bind(null,o.syncEngine),yield Bh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pp}createDatastore(e){const r=Ne(e.databaseInfo.databaseId),o=new w(e.databaseInfo);return new Mr(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,u=this.datastore,f=e.asyncQueue,m=r=>Ip(this.syncEngine,r,0),T=tc.D()?new tc:new vu,new za(o,u,f,m,T);var o,u,f,m,T}createSyncEngine(e,r){return function(u,f,m,T,M,B,te){const le=new um(u,f,m,T,M,B);return te&&(le.La=!0),le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.Z)(function*(){var r,o;yield(o=(0,l.Z)(function*(f){const m=Pe(f);ge("RemoteStore","RemoteStore shutting down."),m.M_.add(5),yield Eu(m),m.O_.shutdown(),m.N_.set("Unknown")}),function u(f){return o.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function ay(a,e=10240){let r=0;return{read:()=>(0,l.Z)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class mm{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new De,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(o=>{o&&o.sa()?this.metadata.resolve(o.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.ia)}`))},o=>this.metadata.reject(o))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,l.Z)(function*(){const r=yield e.za();if(null===r)return null;const o=e.Wa.decode(r),u=Number(o);isNaN(u)&&e.ja(`length string (${o}) is not valid number`);const f=yield e.Ha(u);return new rm(JSON.parse(f),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,l.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}Ha(e){var r=this;return(0,l.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const o=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,l.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class uy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new J(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(u=(0,l.Z)(function*(m,T){const M=Pe(m),B={documents:T.map(ot=>fa(M.serializer,ot))},te=yield M.xo("BatchGetDocuments",M.serializer.databaseId,tn.emptyPath(),B,T.length),le=new Map;te.forEach(ot=>{const kt=function Bi(a,e){return"found"in e?function(o,u){et(!!u.found);const f=is(o,u.found.name),m=Ti(u.found.updateTime),T=u.found.createTime?Ti(u.found.createTime):Nt.min(),M=new Qr({mapValue:{fields:u.found.fields}});return j.newFoundDocument(f,m,T,M)}(a,e):"missing"in e?function(o,u){et(!!u.missing),et(!!u.readTime);const f=is(o,u.missing),m=Ti(u.readTime);return j.newNoDocument(f,m)}(a,e):It()}(M.serializer,ot);le.set(kt.key.toString(),kt)});const Re=[];return T.forEach(ot=>{const kt=le.get(ot.toString());et(!!kt),Re.push(kt)}),Re}),function f(m,T){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const f=Ot.fromPath(u);e.mutations.push(new Ur(f,e.precondition(f)))}),yield(o=(0,l.Z)(function*(f,m){const T=Pe(f),M={writes:m.map(B=>Do(T.serializer,B))};yield T.Co("Commit",T.serializer.databaseId,tn.emptyPath(),M)}),function u(f,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw It();r=Nt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new J(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Nt.min())?ei.exists(!1):ei.updateTime(r):ei.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Nt.min()))throw new J(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ei.updateTime(r)}return ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cy{constructor(e,r,o,u,f){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=f,this.Za=o.maxAttempts,this.Yo=new ct(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,l.Z)(function*(){const r=new uy(e.datastore),o=e.tu(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.nu(f)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!ae(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Bo(r)}return!1}}class ly{constructor(e,r,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=Je.UNAUTHENTICATED,this.clientId=tr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,l.Z)(function*(T){ge("FirestoreClient","Received user=",T.uid),yield f.authCredentialListener(T),f.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(ge("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new De;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=Bc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function uf(a,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,l.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,l.Z)(function*(f){o.isEqual(f)||(yield Sh(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Bd.apply(this,arguments)}function ba(a,e){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield cf(a);ge("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Ko(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,u)=>Ko(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function kp(a){return"FirebaseError"===a.name?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function cf(a){return lf.apply(this,arguments)}function lf(){return(lf=(0,l.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uf(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!kp(r))throw r;Jt("Error using user provided cache. Falling back to memory cache: "+r),yield uf(a,new Du)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),yield uf(a,new Du);return a._offlineComponents})).apply(this,arguments)}function Fp(a){return _m.apply(this,arguments)}function _m(){return(_m=(0,l.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield ba(a,a._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),yield ba(a,new Ud))),a._onlineComponents})).apply(this,arguments)}function dy(a){return cf(a).then(e=>e.persistence)}function ic(a){return cf(a).then(e=>e.localStore)}function df(a){return Fp(a).then(e=>e.remoteStore)}function ym(a){return Fp(a).then(e=>e.syncEngine)}function Wc(a){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,l.Z)(function*(a){const e=yield Fp(a),r=e.eventManager;return r.onListen=Wh.bind(null,e.syncEngine),r.onUnlisten=lm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=_p.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ty.bind(null,e.syncEngine),r})).apply(this,arguments)}function Vp(a,e,r={}){const o=new De;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,m,T,M,B){const te=new Np({next:Re=>{m.enqueueAndForget(()=>jc(f,le));const ot=Re.docs.has(T);!ot&&Re.fromCache?B.reject(new J(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&Re.fromCache&&M&&"server"===M.source?B.reject(new J(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Re)},error:Re=>B.reject(Re)}),le=new Rl(Ar(T.path),te,{includeMetadataChanges:!0,ra:!0});return Od(f,le)}(yield Wc(a),a.asyncQueue,e,r,o)})),o.promise}function vm(a,e,r={}){const o=new De;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,m,T,M,B){const te=new Np({next:Re=>{m.enqueueAndForget(()=>jc(f,le)),Re.fromCache&&"server"===M.source?B.reject(new J(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Re)},error:Re=>B.reject(Re)}),le=new Rl(T,te,{includeMetadataChanges:!0,ra:!0});return Od(f,le)}(yield Wc(a),a.asyncQueue,e,r,o)})),o.promise}function Cm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const wm=new Map;function jp(a,e,r){if(!r)throw new J(ce.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Tm(a,e,r,o){if(!0===e&&!0===o)throw new J(ce.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function $p(a){if(!Ot.isDocumentKey(a))throw new J(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function yy(a){if(Ot.isDocumentKey(a))throw new J(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Hp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":It()}function vr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new J(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Hp(a);throw new J(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function Ll(a,e){if(e<=0)throw new J(ce.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class zp{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new J(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new J(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Cm(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new J(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new J(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new J(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vl{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new J(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zp(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new ve;switch(o.type){case"firstParty":return new Et(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new J(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=wm.get(r);o&&(ge("ComponentProvider","Removing Datastore"),wm.delete(r),o.terminate())}(this),Promise.resolve()}}function ff(a,e,r,o={}){var u;const f=(a=vr(a,Vl))._getSettings(),m=`${e}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==m&&Jt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),o.mockUserToken){let T,M;if("string"==typeof o.mockUserToken)T=o.mockUserToken,M=Je.MOCK_USER;else{T=(0,me.Sg)(o.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new J(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Je(B)}a._authCredentials=new Ie(new ze(T,M))}}class ko{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class lo{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lo(this.firestore,e,this._key)}}class Da extends ko{constructor(e,r,o){super(e,r,Ar(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lo(this.firestore,null,new Ot(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function bm(a,e,...r){if(a=(0,me.m9)(a),jp("collection","path",e),a instanceof Vl){const o=tn.fromString(e,...r);return yy(o),new Da(a,null,o)}{if(!(a instanceof lo||a instanceof Da))throw new J(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(tn.fromString(e,...r));return yy(o),new Da(a.firestore,null,o)}}function pf(a,e){if(a=vr(a,Vl),jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new J(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ko(a,null,(o=e,new fs(tn.emptyPath(),o)));var o}function vy(a,e,...r){if(a=(0,me.m9)(a),1===arguments.length&&(e=tr.newId()),jp("doc","path",e),a instanceof Vl){const o=tn.fromString(e,...r);return $p(o),new lo(a,null,new Ot(o))}{if(!(a instanceof lo||a instanceof Da))throw new J(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(tn.fromString(e,...r));return $p(o),new lo(a.firestore,a instanceof Da?a.converter:null,new Ot(o))}}function Gp(a,e){return a=(0,me.m9)(a),e=(0,me.m9)(e),(a instanceof lo||a instanceof Da)&&(e instanceof lo||e instanceof Da)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function Wp(a,e){return a=(0,me.m9)(a),e=(0,me.m9)(e),a instanceof ko&&e instanceof ko&&a.firestore===e.firestore&&kn(a._query,e._query)&&a.converter===e.converter}class qp{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ct(this,"async_queue_retry"),this.hu=()=>{const r=re();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=re();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=re();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new De;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,l.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Tn(r))throw r;ge("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(o=>{throw this.au=o,this.uu=!1,Ht("INTERNAL UNHANDLED ERROR: ",function(m){let T=m.message||"";return m.stack&&(T=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),T}(o)),o}).then(o=>(this.uu=!1,o))));return this.iu=r,r}enqueueAfterDelay(e,r,o){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=hp.createAndSchedule(this,e,r,o,f=>this.Eu(f));return this._u.push(u),u}Pu(){this.au&&It()}verifyOperationInProgress(){}du(){var e=this;return(0,l.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function gf(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class Dm{constructor(){this._progressObserver={},this._taskCompletionResolver=new De,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const qc=-1;class Ei extends Vl{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new qp,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_f(this),this._firestoreClient.terminate()}}function mf(a,e){const r="object"==typeof a?a:(0,y.getApp)(),o="string"==typeof a?a:e||"(default)",u=(0,y._getProvider)(r,"firestore").getImmediate({identifier:o});if(!u._initialized){const f=(0,me.P0)("firestore");f&&ff(u,...f)}return u}function Qi(a){return a._firestoreClient||_f(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function _f(a){var e,r,o;const u=a._freezeSettings(),f=(M=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new zo(a._databaseId,M,a._persistenceKey,(te=u).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,Cm(te.experimentalLongPollingOptions),te.useFetchStreams));var M,te;a._firestoreClient=new ly(a._authCredentials,a._appCheckCredentials,a._queue,f),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function yf(a,e){Pm(a=vr(a,Ei));const r=Qi(a);if(r._uninitializedComponentsProvider)throw new J(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Jt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=a._freezeSettings(),u=new Ud;return Zc(r,u,new gm(u,o.cacheSizeBytes,e?.forceOwnership))}function Za(a){Pm(a=vr(a,Ei));const e=Qi(a);if(e._uninitializedComponentsProvider)throw new J(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Jt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),o=new Ud;return Zc(e,o,new sy(o,r.cacheSizeBytes))}function Zc(a,e,r){const o=new De;return a.asyncQueue.enqueue((0,l.Z)(function*(){try{yield uf(a,r),yield ba(a,e),o.resolve()}catch(u){const f=u;if(!kp(f))throw f;Jt("Error enabling indexeddb cache. Falling back to memory cache: "+f),o.reject(f)}})).then(()=>o.promise)}function Zp(a){if(a._initialized&&!a._terminated)throw new J(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new De;return a._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(r=(0,l.Z)(function*(u){if(!X.D())return Promise.resolve();const f=u+"main";yield X.delete(f)}),function o(u){return r.apply(this,arguments)})(Cd(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Ey(a){return function(r){const o=new De;return r.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Xh(a,e){return ef.apply(this,arguments)}(yield ym(r),o)})),o.promise}(Qi(a=vr(a,Ei)))}function Iy(a){return function fy(a){return a.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield dy(a),r=yield df(a);return e.setNetworkEnabled(!0),function(u){const f=Pe(u);return f.M_.delete(0),Ga(f)}(r)}))}(Qi(a=vr(a,Ei)))}function Sm(a){return function py(a){return a.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield dy(a),r=yield df(a);return e.setNetworkEnabled(!1),(o=(0,l.Z)(function*(f){const m=Pe(f);m.M_.add(0),yield Eu(m),m.N_.set("Offline")}),function u(f){return o.apply(this,arguments)})(r);var o}))}(Qi(a=vr(a,Ei)))}function Cy(a,e){const r=Qi(a=vr(a,Ei)),o=new Dm;return function Fl(a,e,r,o){const u=function(m,T){let M;return M="string"==typeof m?Ks().encode(m):m,te=function(te,le){if(te instanceof Uint8Array)return ay(te,void 0);if(te instanceof ArrayBuffer)return ay(new Uint8Array(te),void 0);if(te instanceof ReadableStream)return te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new mm(te,T);var te}(r,Ne(e));a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function rc(a,e,r){const o=Pe(a);var u;(u=(0,l.Z)(function*(m,T,M){try{const B=yield T.getMetadata();if(yield function(kt,Kt){const $t=Pe(kt),An=Ti(Kt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",Bn=>$t.$r.getBundleMetadata(Bn,Kt.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(An)>=0)}(m.localStore,B))return yield T.close(),M._completeWith({taskState:"Success",documentsLoaded:(kt=B).totalDocuments,bytesLoaded:kt.totalBytes,totalDocuments:kt.totalDocuments,totalBytes:kt.totalBytes}),Promise.resolve(new Set);M._updateProgress(im(B));const te=new Gh(B,m.localStore,T.serializer);let le=yield T.qa();for(;le;){const ot=yield te._a(le);ot&&M._updateProgress(ot),le=yield T.qa()}const Re=yield te.complete();return yield qa(m,Re.ca,void 0),yield function(kt,Kt){const $t=Pe(kt);return $t.persistence.runTransaction("Save bundle","readwrite",An=>$t.$r.saveBundleMetadata(An,Kt))}(m.localStore,B),M._completeWith(Re.progress),Promise.resolve(Re.ua)}catch(B){return Jt("SyncEngine",`Loading bundle failed with ${B}`),M._failWith(B),Promise.resolve(new Set)}var kt}),function f(m,T,M){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield ym(a),u,o)}))}(r,a._databaseId,e,o),o}function wy(a,e){return function Em(a,e){return a.asyncQueue.enqueue((0,l.Z)(function*(){return function(o,u){const f=Pe(o);return f.persistence.runTransaction("Get named query","readonly",m=>f.$r.getNamedQuery(m,u))}(yield ic(a),e)}))}(Qi(a=vr(a,Ei)),e).then(r=>r?new ko(a,null,r.query):null)}function Pm(a){if(a._initialized||a._terminated)throw new J(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oc(li.fromBase64String(e))}catch(r){throw new J(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new oc(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Au{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new J(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ul{constructor(e){this._methodName=e}}class Kp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new J(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new J(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const Ty=/^__.*__$/;class by{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new pr(e,this.data,this.fieldMask,r,this.fieldTransforms):new mn(e,this.data,r,this.fieldTransforms)}}class Dy{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new pr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ay(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class Yc{constructor(e,r,o,u,f,m){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===f&&this.mu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:o,yu:!1});return u.wu(e),u}Su(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:o,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Gl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Ay(this.fu)&&Ty.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Ne(e)}Fu(e,r,o,u=!1){return new Yc({fu:e,methodName:r,vu:o,path:Fn.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(a){const e=a._freezeSettings(),r=Ne(a._databaseId);return new Sy(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Bl(a,e,r,o,u,f={}){const m=a.Fu(f.merge||f.mergeFields?2:0,e,r,u);Yp("Data must be an object, but it was:",m,o);const T=Ef(o,m);let M,B;if(f.merge)M=new _i(m.fieldMask),B=m.fieldTransforms;else if(f.mergeFields){const te=[];for(const le of f.mergeFields){const Re=zl(e,le,r);if(!m.contains(Re))throw new J(ce.INVALID_ARGUMENT,`Field '${Re}' is specified in your field mask but missing from your input data.`);Qp(te,Re)||te.push(Re)}M=new _i(te),B=m.fieldTransforms.filter(le=>M.covers(le.field))}else M=null,B=m.fieldTransforms;return new by(new Qr(T),M,B)}class Ka extends Ul{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ka}}function vf(a,e,r){return new Yc({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $d extends Ul{_toFieldTransform(e){return new js(e.path,new da)}isEqual(e){return e instanceof $d}}class Qc extends Ul{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=vf(this,e,!0),o=this.Mu.map(f=>$l(f,r)),u=new Ds(o);return new js(e.path,u)}isEqual(e){return e instanceof Qc&&(0,me.vZ)(this.Mu,e.Mu)}}class jl extends Ul{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=vf(this,e,!0),o=this.Mu.map(f=>$l(f,r)),u=new ps(o);return new js(e.path,u)}isEqual(e){return e instanceof jl&&(0,me.vZ)(this.Mu,e.Mu)}}class sc extends Ul{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Bs(e.serializer,bs(e.serializer,this.xu));return new js(e.path,r)}isEqual(e){return e instanceof sc&&this.xu===e.xu}}function Hd(a,e,r,o){const u=a.Fu(1,e,r);Yp("Data must be an object, but it was:",u,o);const f=[],m=Qr.empty();eo(o,(M,B)=>{const te=If(e,M,r);B=(0,me.m9)(B);const le=u.Su(te);if(B instanceof Ka)f.push(te);else{const Re=$l(B,le);null!=Re&&(f.push(te),m.set(te,Re))}});const T=new _i(f);return new Dy(m,T,u.fieldTransforms)}function zd(a,e,r,o,u,f){const m=a.Fu(1,e,r),T=[zl(e,o,r)],M=[u];if(f.length%2!=0)throw new J(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Re=0;Re<f.length;Re+=2)T.push(zl(e,f[Re])),M.push(f[Re+1]);const B=[],te=Qr.empty();for(let Re=T.length-1;Re>=0;--Re)if(!Qp(B,T[Re])){const ot=T[Re];let kt=M[Re];kt=(0,me.m9)(kt);const Kt=m.Su(ot);if(kt instanceof Ka)B.push(ot);else{const $t=$l(kt,Kt);null!=$t&&(B.push(ot),te.set(ot,$t))}}const le=new _i(B);return new Dy(te,le,m.fieldTransforms)}function Gd(a,e,r,o=!1){return $l(r,a.Fu(o?4:3,e))}function $l(a,e){if(Hl(a=(0,me.m9)(a)))return Yp("Unsupported field value:",e,a),Ef(a,e);if(a instanceof Ul)return function(o,u){if(!Ay(u.fu))throw u.Du(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(o,u){const f=[];let m=0;for(const T of o){let M=$l(T,u.bu(m));null==M&&(M={nullValue:"NULL_VALUE"}),f.push(M),m++}return{arrayValue:{values:f}}}(a,e)}return function(o,u){if(null===(o=(0,me.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return bs(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=Ut.fromDate(o);return{timestampValue:_o(u.serializer,f)}}if(o instanceof Ut){const f=new Ut(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:_o(u.serializer,f)}}if(o instanceof Kp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof oc)return{bytesValue:Dc(u.serializer,o._byteString)};if(o instanceof lo){const f=u.databaseId,m=o.firestore._databaseId;if(!m.isEqual(f))throw u.Du(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Qs(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Du(`Unsupported field value: ${Hp(o)}`)}(a,e)}function Ef(a,e){const r={};return mi(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(a,(o,u)=>{const f=$l(u,e.pu(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function Hl(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Ut||a instanceof Kp||a instanceof oc||a instanceof lo||a instanceof Ul)}function Yp(a,e,r){if(!Hl(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Hp(r);throw e.Du("an object"===o?a+" a custom object":a+" "+o)}var u}function zl(a,e,r){if((e=(0,me.m9)(e))instanceof Au)return e._internalPath;if("string"==typeof e)return If(a,e);throw Gl("Field path arguments must be of type string or ",a,!1,void 0,r)}const Py=new RegExp("[~\\*/\\[\\]]");function If(a,e,r){if(e.search(Py)>=0)throw Gl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Au(...e.split("."))._internalPath}catch{throw Gl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Gl(a,e,r,o,u){const f=o&&!o.isEmpty(),m=void 0!==u;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let M="";return(f||m)&&(M+=" (found",f&&(M+=` in field ${o}`),m&&(M+=` in document ${u}`),M+=")"),new J(ce.INVALID_ARGUMENT,T+a+M)}function Qp(a,e){return a.some(r=>r.isEqual(e))}class Wd{constructor(e,r,o,u,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new My(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class My extends Wd{data(){return super.data()}}function Jp(a,e){return"string"==typeof e?If(a,e):e instanceof Au?e._internalPath:e._delegate._internalPath}function xm(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new J(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wl{}class Jc extends Wl{}function Ry(a,e,...r){let o=[];e instanceof Wl&&o.push(e),o=o.concat(r),function(f){const m=f.filter(M=>M instanceof Pu).length,T=f.filter(M=>M instanceof ql).length;if(m>1||m>0&&T>0)throw new J(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)a=u._apply(a);return a}class ql extends Jc{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new ql(e,r,o)}_apply(e){const r=this._parse(e);return rg(e._query,r),new ko(e.firestore,e.converter,Se(e._query,r))}_parse(e){const r=Su(e.firestore);return function(f,m,T,M,B,te,le){let Re;if(B.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new J(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){ng(le,te);const ot=[];for(const kt of le)ot.push(Fm(M,f,kt));Re={arrayValue:{values:ot}}}else Re=Fm(M,f,le)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||ng(le,te),Re=Gd(T,"where",le,"in"===te||"not-in"===te);return Rt.create(B,te,Re)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Xp(a,e,r){const o=e,u=Jp("where",a);return ql._create(u,o,r)}class Pu extends Wl{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Pu(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:un.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let m=u;const T=f.getFlattenedFilters();for(const M of T)rg(m,M),m=Se(m,M)}(e._query,r),new ko(e.firestore,e.converter,Se(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eg extends Jc{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new eg(e,r)}_apply(e){const r=function(u,f,m){if(null!==u.startAt)throw new J(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new J(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mt(f,m)}(e._query,this._field,this._direction);return new ko(e.firestore,e.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new fs(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Om(a,e="asc"){const r=e,o=Jp("orderBy",a);return eg._create(o,r)}class tg extends Jc{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new tg(e,r,o)}_apply(e){return new ko(e.firestore,e.converter,fn(e._query,this._limit,this._limitType))}}function Oy(a){return Ll("limit",a),tg._create("limit",a,"F")}function Cf(a){return Ll("limitToLast",a),tg._create("limitToLast",a,"L")}class wf extends Jc{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new wf(e,r,o)}_apply(e){const r=km(e,this.type,this._docOrFields,this._inclusive);return new ko(e.firestore,e.converter,(f=r,new fs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}function Zl(...a){return wf._create("startAt",a,!0)}function qd(...a){return wf._create("startAfter",a,!1)}class Tf extends Jc{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Tf(e,r,o)}_apply(e){const r=km(e,this.type,this._docOrFields,this._inclusive);return new ko(e.firestore,e.converter,(f=r,new fs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Nm(...a){return Tf._create("endBefore",a,!1)}function Ny(...a){return Tf._create("endAt",a,!0)}function km(a,e,r,o){if(r[0]=(0,me.m9)(r[0]),r[0]instanceof Wd)return function(f,m,T,M,B){if(!M)throw new J(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const te=[];for(const le of U(f))if(le.field.isKeyField())te.push(Yt(m,M.key));else{const Re=M.data.field(le.field);if(zi(Re))throw new J(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+le.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const ot=le.field.canonicalString();throw new J(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}te.push(Re)}return new fe(te,B)}(a._query,a.firestore._databaseId,e,r[0]._document,o);{const u=Su(a.firestore);return function(m,T,M,B,te,le){const Re=m.explicitOrderBy;if(te.length>Re.length)throw new J(ce.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let kt=0;kt<te.length;kt++){const Kt=te[kt];if(Re[kt].field.isKeyField()){if("string"!=typeof Kt)throw new J(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Kt}`);if(!ua(m)&&-1!==Kt.indexOf("/"))throw new J(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${Kt}' contains a slash.`);const $t=m.path.child(tn.fromString(Kt));if(!Ot.isDocumentKey($t))throw new J(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${$t}' is not because it contains an odd number of segments.`);const An=new Ot($t);ot.push(Yt(T,An))}else{const $t=Gd(M,B,Kt);ot.push($t)}}return new fe(ot,le)}(a._query,a.firestore._databaseId,u,e,r,o)}}function Fm(a,e,r){if("string"==typeof(r=(0,me.m9)(r))){if(""===r)throw new J(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ua(e)&&-1!==r.indexOf("/"))throw new J(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(tn.fromString(r));if(!Ot.isDocumentKey(o))throw new J(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Yt(a,new Ot(o))}if(r instanceof lo)return Yt(a,r._key);throw new J(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(r)}.`)}function ng(a,e){if(!Array.isArray(a)||0===a.length)throw new J(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rg(a,e){const r=function(u,f){for(const m of u)for(const T of m.getFlattenedFilters())if(f.indexOf(T.op)>=0)return T.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new J(ce.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Lm{convertValue(e,r="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw It()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return eo(e,(u,f)=>{o[u]=this.convertValue(f,r)}),o}convertGeoPoint(e){return new Kp(yr(e.latitude),yr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Eo(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const r=Hi(e);return new Ut(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=tn.fromString(e);et(ma(o));const u=new Nn(o.get(1),o.get(3)),f=new Ot(o.popFirst(5));return u.isEqual(r)||Ht(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function Kl(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}class Vm extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,r)}}class Xc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class el extends Wd{constructor(e,r,o,u,f,m){super(e,r,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Df extends el{data(e={}){return super.data(e)}}class ac{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Xc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Df(this._firestore,this._userDataWriter,o.key,o,new Xc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new J(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(T=>({type:"added",doc:new Df(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Xc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(T=>f||3!==T.type).map(T=>{const M=new Df(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Xc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter);let B=-1,te=-1;return 0!==T.type&&(B=m.indexOf(T.doc.key),m=m.delete(T.doc.key)),1!==T.type&&(m=m.add(T.doc),te=m.indexOf(T.doc.key)),{type:Bm(T.type),doc:M,oldIndex:B,newIndex:te}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Bm(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}function Aa(a,e){return a instanceof el&&e instanceof el?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof ac&&e instanceof ac&&a._firestore===e._firestore&&Wp(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function jm(a){a=vr(a,lo);const e=vr(a.firestore,Ei);return Vp(Qi(e),a._key).then(r=>ag(e,a,r))}class tl extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,r)}}function ig(a){a=vr(a,lo);const e=vr(a.firestore,Ei),r=Qi(e),o=new tl(e);return function gy(a,e){const r=new De;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(f,m,T){try{const M=yield function(te,le){const Re=Pe(te);return Re.persistence.runTransaction("read document","readonly",ot=>Re.localDocuments.getDocument(ot,le))}(f,m);M.isFoundDocument()?T.resolve(M):M.isNoDocument()?T.resolve(null):T.reject(new J(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const B=Bc(M,`Failed to get document '${m} from cache`);T.reject(B)}}),function u(f,m,T){return o.apply(this,arguments)})(yield ic(a),e,r);var o})),r.promise}(r,a._key).then(u=>new el(e,o,a._key,u,new Xc(null!==u&&u.hasLocalMutations,!0),a.converter))}function uc(a){a=vr(a,lo);const e=vr(a.firestore,Ei);return Vp(Qi(e),a._key,{source:"server"}).then(r=>ag(e,a,r))}function og(a){a=vr(a,ko);const e=vr(a.firestore,Ei),r=Qi(e),o=new tl(e);return xm(a._query),vm(r,a._query).then(u=>new ac(e,o,a,u))}function Fy(a){a=vr(a,ko);const e=vr(a.firestore,Ei),r=Qi(e),o=new tl(e);return function hf(a,e){const r=new De;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(f,m,T){try{const M=yield yl(f,m,!0),B=new am(m,M.hs),te=B.da(M.documents),le=B.applyChanges(te,!1);T.resolve(le.snapshot)}catch(M){const B=Bc(M,`Failed to execute query '${m} against cache`);T.reject(B)}}),function u(f,m,T){return o.apply(this,arguments)})(yield ic(a),e,r);var o})),r.promise}(r,a._query).then(u=>new ac(e,o,a,u))}function cE(a){a=vr(a,ko);const e=vr(a.firestore,Ei),r=Qi(e),o=new tl(e);return vm(r,a._query,{source:"server"}).then(u=>new ac(e,o,a,u))}function Ly(a,e,r){a=vr(a,lo);const o=vr(a.firestore,Ei),u=Kl(a.converter,e,r);return so(o,[Bl(Su(o),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,ei.none())])}function sg(a,e,r,...o){a=vr(a,lo);const u=vr(a.firestore,Ei),f=Su(u);let m;return m="string"==typeof(e=(0,me.m9)(e))||e instanceof Au?zd(f,"updateDoc",a._key,e,r,o):Hd(f,"updateDoc",a._key,e),so(u,[m.toMutation(a._key,ei.exists(!0))])}function Ya(a){return so(vr(a.firestore,Ei),[new Kr(a._key,ei.none())])}function $m(a,e){const r=vr(a.firestore,Ei),o=vy(a),u=Kl(a.converter,e);return so(r,[Bl(Su(a.firestore),"addDoc",o._key,u,null!==a.converter,{}).toMutation(o._key,ei.exists(!1))]).then(()=>o)}function Vy(a,...e){var r,o,u;a=(0,me.m9)(a);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||gf(e[m])||(f=e[m],m++);const T={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(gf(e[m])){const le=e[m];e[m]=null===(r=le.next)||void 0===r?void 0:r.bind(le),e[m+1]=null===(o=le.error)||void 0===o?void 0:o.bind(le),e[m+2]=null===(u=le.complete)||void 0===u?void 0:u.bind(le)}let M,B,te;if(a instanceof lo)B=vr(a.firestore,Ei),te=Ar(a._key.path),M={next:le=>{e[m]&&e[m](ag(B,a,le))},error:e[m+1],complete:e[m+2]};else{const le=vr(a,ko);B=vr(le.firestore,Ei),te=le._query;const Re=new tl(B);M={next:ot=>{e[m]&&e[m](new ac(B,Re,le,ot))},error:e[m+1],complete:e[m+2]},xm(a._query)}return function(Re,ot,kt,Kt){const $t=new Np(Kt),An=new Rl(ot,$t,kt);return Re.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return Od(yield Wc(Re),An)})),()=>{$t.$a(),Re.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return jc(yield Wc(Re),An)}))}}(Qi(B),te,T,M)}function lE(a,e){return function my(a,e){const r=new Np(e);return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield Wc(a),f=r,Pe(u).z_.add(f),void f.next();var u,f})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield Wc(a),f=r,void Pe(u).z_.delete(f);var u,f}))}}(Qi(a=vr(a,Ei)),gf(e)?e:{next:e})}function so(a,e){return function(o,u){const f=new De;return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Kh(a,e,r){return vp.apply(this,arguments)}(yield ym(o),u,f)})),f.promise}(Qi(a),e)}function ag(a,e,r){const o=r.docs.get(e._key),u=new tl(a);return new el(a,u,e._key,o,new Xc(r.hasPendingWrites,r.fromCache),e.converter)}const Mu={maxAttempts:5};class nl{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,r,o){this._verifyNotCommitted();const u=cc(e,this._firestore),f=Kl(u.converter,r,o),m=Bl(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,ei.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const f=cc(e,this._firestore);let m;return m="string"==typeof(r=(0,me.m9)(r))||r instanceof Au?zd(this._dataReader,"WriteBatch.update",f._key,r,o,u):Hd(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=cc(e,this._firestore);return this._mutations=this._mutations.concat(new Kr(r._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new J(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cc(a,e){if((a=(0,me.m9)(a)).firestore!==e)throw new J(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Gy extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Su(r)}get(r){const o=cc(r,this._firestore),u=new Vm(this._firestore);return this._transaction.lookup([o._key]).then(f=>{if(!f||1!==f.length)return It();const m=f[0];if(m.isFoundDocument())return new Wd(this._firestore,u,m.key,m,o.converter);if(m.isNoDocument())return new Wd(this._firestore,u,o._key,null,o.converter);throw It()})}set(r,o,u){const f=cc(r,this._firestore),m=Kl(f.converter,o,u),T=Bl(this._dataReader,"Transaction.set",f._key,m,null!==f.converter,u);return this._transaction.set(f._key,T),this}update(r,o,u,...f){const m=cc(r,this._firestore);let T;return T="string"==typeof(o=(0,me.m9)(o))||o instanceof Au?zd(this._dataReader,"Transaction.update",m._key,o,u,f):Hd(this._dataReader,"Transaction.update",m._key,o),this._transaction.update(m._key,T),this}delete(r){const o=cc(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=cc(e,this._firestore),o=new tl(this._firestore);return super.get(e).then(u=>new el(this._firestore,o,r._key,u._document,new Xc(!1,!1),r.converter))}}function qm(a,e,r){a=vr(a,Ei);const o=Object.assign(Object.assign({},Mu),r);return function(f){if(f.maxAttempts<1)throw new J(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(f,m,T){const M=new De;return f.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const B=yield function hy(a){return Fp(a).then(e=>e.datastore)}(f);new cy(f.asyncQueue,B,T,m,M).Xa()})),M.promise}(Qi(a),u=>e(new Gy(a,u)),o)}function Zm(){return new Ka("deleteField")}function cg(){return new $d("serverTimestamp")}function Kd(...a){return new Qc("arrayUnion",a)}function Af(...a){return new jl("arrayRemove",a)}function Km(a){return new sc("increment",a)}!function(e,r=!0){Ke=y.SDK_VERSION,(0,y._registerComponent)(new z.wA("firestore",(o,{instanceIdentifier:u,options:f})=>{const m=o.getProvider("app").getImmediate(),T=new Ei(new ke(o.getProvider("auth-internal")),new qt(o.getProvider("app-check-internal")),function(B,te){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new J(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nn(B.options.projectId,te)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),T._setSettings(f),T},"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Le,"4.6.3",e),(0,y.registerVersion)(Le,"4.6.3","esm2017")}()},8153:(on,Xe,k)=>{k.d(Xe,{$Y:()=>dn,B0:()=>Li,FN:()=>Pn,IX:()=>si,Jt:()=>yi,UJ:()=>Nr,Ym:()=>Yt,a1:()=>Wi,aF:()=>Jn,bm:()=>cn,cF:()=>wr,g6:()=>ao,gE:()=>Dt,gH:()=>Ht,iH:()=>qr,oq:()=>Mo,pb:()=>Ln,qm:()=>gn,sd:()=>kr,y4:()=>xn});var l=k(5861),y=k(534),z=k(9058),Ce=k(4537);const me="firebasestorage.googleapis.com",be="storageBucket";class oe extends z.ZR{constructor(j,fe,Ee=0){super(Me(j),`Firebase Storage: ${fe} (${Me(j)})`),this.status_=Ee,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oe.prototype)}get status(){return this.status_}set status(j){this.status_=j}_codeEquals(j){return Me(j)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(j){this.customData.serverResponse=j,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ie=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(ie||{});function Me(q){return"storage/"+q}function gt(){return new oe(ie.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sn(){return new oe(ie.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function We(){return new oe(ie.CANCELED,"User canceled the upload/download.")}function Ye(){return new oe(ie.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ht(q){return new oe(ie.INVALID_ARGUMENT,q)}function Jt(){return new oe(ie.APP_DELETED,"The Firebase app was deleted.")}function xn(q){return new oe(ie.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function It(q,j){return new oe(ie.INVALID_FORMAT,"String does not match format '"+q+"': "+j)}function et(q){throw new oe(ie.INTERNAL_ERROR,"Internal error: "+q)}class Dt{constructor(j,fe){this.bucket=j,this.path_=fe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const j=encodeURIComponent;return"/b/"+j(this.bucket)+"/o/"+j(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(j,fe){let Ee;try{Ee=Dt.makeFromUrl(j,fe)}catch{return new Dt(j,"")}if(""===Ee.path)return Ee;throw function Je(q){return new oe(ie.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(j)}static makeFromUrl(j,fe){let Ee=null;const $e="([A-Za-z0-9.\\-_]+)",hn=new RegExp("^gs://"+$e+"(/(.*))?$","i");function un(ai){ai.path_=decodeURIComponent(ai.path)}const wn=fe.replace(/[.]/g,"\\."),Xn=[{regex:hn,indices:{bucket:1,path:3},postModify:function mt(ai){"/"===ai.path.charAt(ai.path.length-1)&&(ai.path_=ai.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wn}/v[A-Za-z0-9_]+/b/${$e}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:un},{regex:new RegExp(`^https?://${fe===me?"(?:storage.googleapis.com|storage.cloud.google.com)":fe}/${$e}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:un}];for(let ai=0;ai<Xn.length;ai++){const zr=Xn[ai],Tr=zr.regex.exec(j);if(Tr){let Mi=Tr[zr.indices.path];Mi||(Mi=""),Ee=new Dt(Tr[zr.indices.bucket],Mi),zr.postModify(Ee);break}}if(null==Ee)throw function Le(q){return new oe(ie.INVALID_URL,"Invalid URL '"+q+"'.")}(j);return Ee}}class Pe{constructor(j){this.promise_=Promise.reject(j)}getPromise(){return this.promise_}cancel(j=!1){}}function Ie(q){return"string"==typeof q||q instanceof String}function ke(q){return vt()&&q instanceof Blob}function vt(){return typeof Blob<"u"}function Et(q,j,fe,Ee){if(Ee<j)throw Ht(`Invalid value for '${q}'. Expected ${j} or greater.`);if(Ee>fe)throw Ht(`Invalid value for '${q}'. Expected ${fe} or less.`)}function an(q,j,fe){let Ee=j;return null==fe&&(Ee=`https://${j}`),`${fe}://${Ee}/v0${q}`}function qt(q){const j=encodeURIComponent;let fe="?";for(const Ee in q)q.hasOwnProperty(Ee)&&(fe=fe+(j(Ee)+"=")+j(q[Ee])+"&");return fe=fe.slice(0,-1),fe}var Sn=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Sn||{});function _n(q,j){const fe=q>=500&&q<600,$e=-1!==[408,429].indexOf(q),mt=-1!==j.indexOf(q);return fe||$e||mt}class tr{constructor(j,fe,Ee,$e,mt,Gt,hn,Rt,un,Zn,wn,Jr=!0){this.url_=j,this.method_=fe,this.headers_=Ee,this.body_=$e,this.successCodes_=mt,this.additionalRetryCodes_=Gt,this.callback_=hn,this.errorCallback_=Rt,this.timeout_=un,this.progressCallback_=Zn,this.connectionFactory_=wn,this.retry=Jr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Hr,Xr)=>{this.resolve_=Hr,this.reject_=Xr,this.start_()})}start_(){const fe=(Ee,$e)=>{const mt=this.resolve_,Gt=this.reject_,hn=$e.connection;if($e.wasSuccessCode)try{const Rt=this.callback_(hn,hn.getResponse());!function De(q){return void 0!==q}(Rt)?mt():mt(Rt)}catch(Rt){Gt(Rt)}else if(null!==hn){const Rt=gt();Rt.serverResponse=hn.getErrorText(),Gt(this.errorCallback_?this.errorCallback_(hn,Rt):Rt)}else Gt($e.canceled?this.appDelete_?Jt():We():sn())};this.canceled_?fe(0,new xt(!1,null,!0)):this.backoffId_=function ce(q,j,fe){let Ee=1,$e=null,mt=null,Gt=!1,hn=0;function Rt(){return 2===hn}let un=!1;function Zn(...Lr){un||(un=!0,j.apply(null,Lr))}function wn(Lr){$e=setTimeout(()=>{$e=null,q(Hr,Rt())},Lr)}function Jr(){mt&&clearTimeout(mt)}function Hr(Lr,...Ui){if(un)return void Jr();if(Lr)return Jr(),void Zn.call(null,Lr,...Ui);if(Rt()||Gt)return Jr(),void Zn.call(null,Lr,...Ui);let Xn;Ee<64&&(Ee*=2),1===hn?(hn=2,Xn=0):Xn=1e3*(Ee+Math.random()),wn(Xn)}let Xr=!1;function Zr(Lr){Xr||(Xr=!0,Jr(),!un&&(null!==$e?(Lr||(hn=2),clearTimeout($e),wn(0)):Lr||(hn=1)))}return wn(0),mt=setTimeout(()=>{Gt=!0,Zr(!0)},fe),Zr}((Ee,$e)=>{if($e)return void Ee(!1,new xt(!1,null,!0));const mt=this.connectionFactory_();this.pendingConnection_=mt;const Gt=hn=>{null!==this.progressCallback_&&this.progressCallback_(hn.loaded,hn.lengthComputable?hn.total:-1)};null!==this.progressCallback_&&mt.addUploadProgressListener(Gt),mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&mt.removeUploadProgressListener(Gt),this.pendingConnection_=null;const hn=mt.getErrorCode()===Sn.NO_ERROR,Rt=mt.getStatus();if(!hn||_n(Rt,this.additionalRetryCodes_)&&this.retry){const Zn=mt.getErrorCode()===Sn.ABORT;return void Ee(!1,new xt(!1,null,Zn))}const un=-1!==this.successCodes_.indexOf(Rt);Ee(!0,new xt(un,mt))})},fe,this.timeout_)}getPromise(){return this.promise_}cancel(j){this.canceled_=!0,this.appDelete_=j||!1,null!==this.backoffId_&&function J(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xt{constructor(j,fe,Ee){this.wasSuccessCode=j,this.connection=fe,this.canceled=!!Ee}}function sr(...q){const j=function tn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==j){const fe=new j;for(let Ee=0;Ee<q.length;Ee++)fe.append(q[Ee]);return fe.getBlob()}if(vt())return new Blob(q);throw new oe(ie.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cn{constructor(j,fe){this.data=j,this.contentType=fe||null}}function gn(q,j){switch(q){case cn.RAW:return new Cn(ir(j));case cn.BASE64:case cn.BASE64URL:return new Cn(xr(q,j));case cn.DATA_URL:return new Cn(function Or(q){const j=new Rn(q);return j.base64?xr(cn.BASE64,j.rest):function cr(q){let j;try{j=decodeURIComponent(q)}catch{throw It(cn.DATA_URL,"Malformed data URL.")}return ir(j)}(j.rest)}(j),function Ci(q){return new Rn(q).contentType}(j))}throw gt()}function ir(q){const j=[];for(let fe=0;fe<q.length;fe++){let Ee=q.charCodeAt(fe);Ee<=127?j.push(Ee):Ee<=2047?j.push(192|Ee>>6,128|63&Ee):55296==(64512&Ee)?fe<q.length-1&&56320==(64512&q.charCodeAt(fe+1))?(Ee=65536|(1023&Ee)<<10|1023&q.charCodeAt(++fe),j.push(240|Ee>>18,128|Ee>>12&63,128|Ee>>6&63,128|63&Ee)):j.push(239,191,189):56320==(64512&Ee)?j.push(239,191,189):j.push(224|Ee>>12,128|Ee>>6&63,128|63&Ee)}return new Uint8Array(j)}function xr(q,j){switch(q){case cn.BASE64:{const $e=-1!==j.indexOf("-"),mt=-1!==j.indexOf("_");if($e||mt)throw It(q,"Invalid character '"+($e?"-":"_")+"' found: is it base64url encoded?");break}case cn.BASE64URL:{const $e=-1!==j.indexOf("+"),mt=-1!==j.indexOf("/");if($e||mt)throw It(q,"Invalid character '"+($e?"+":"/")+"' found: is it base64 encoded?");j=j.replace(/-/g,"+").replace(/_/g,"/");break}}let fe;try{fe=function Ot(q){if(typeof atob>"u")throw function ge(q){return new oe(ie.UNSUPPORTED_ENVIRONMENT,`${q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(q)}(j)}catch($e){throw $e.message.includes("polyfill")?$e:It(q,"Invalid character found")}const Ee=new Uint8Array(fe.length);for(let $e=0;$e<fe.length;$e++)Ee[$e]=fe.charCodeAt($e);return Ee}class Rn{constructor(j){this.base64=!1,this.contentType=null;const fe=j.match(/^data:([^,]+)?,/);if(null===fe)throw It(cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ee=fe[1]||null;null!=Ee&&(this.base64=function Xt(q,j){return q.length>=j.length&&q.substring(q.length-j.length)===j}(Ee,";base64"),this.contentType=this.base64?Ee.substring(0,Ee.length-7):Ee),this.rest=j.substring(j.indexOf(",")+1)}}class Nr{constructor(j,fe){let Ee=0,$e="";ke(j)?(this.data_=j,Ee=j.size,$e=j.type):j instanceof ArrayBuffer?(fe?this.data_=new Uint8Array(j):(this.data_=new Uint8Array(j.byteLength),this.data_.set(new Uint8Array(j))),Ee=this.data_.length):j instanceof Uint8Array&&(fe?this.data_=j:(this.data_=new Uint8Array(j.length),this.data_.set(j)),Ee=j.length),this.size_=Ee,this.type_=$e}size(){return this.size_}type(){return this.type_}slice(j,fe){if(ke(this.data_)){const $e=function Fn(q,j,fe){return q.webkitSlice?q.webkitSlice(j,fe):q.mozSlice?q.mozSlice(j,fe):q.slice?q.slice(j,fe):null}(this.data_,j,fe);return null===$e?null:new Nr($e)}{const Ee=new Uint8Array(this.data_.buffer,j,fe-j);return new Nr(Ee,!0)}}static getBlob(...j){if(vt()){const fe=j.map(Ee=>Ee instanceof Nr?Ee.data_:Ee);return new Nr(sr.apply(null,fe))}{const fe=j.map(Gt=>Ie(Gt)?gn(cn.RAW,Gt).data:Gt.data_);let Ee=0;fe.forEach(Gt=>{Ee+=Gt.byteLength});const $e=new Uint8Array(Ee);let mt=0;return fe.forEach(Gt=>{for(let hn=0;hn<Gt.length;hn++)$e[mt++]=Gt[hn]}),new Nr($e,!0)}}uploadData(){return this.data_}}function $n(q){let j;try{j=JSON.parse(q)}catch{return null}return function ve(q){return"object"==typeof q&&!Array.isArray(q)}(j)?j:null}function di(q){const j=q.lastIndexOf("/",q.length-2);return-1===j?q:q.slice(j+1)}function Be(q,j){return j}class ft{constructor(j,fe,Ee,$e){this.server=j,this.local=fe||j,this.writable=!!Ee,this.xform=$e||Be}}let X=null;function ht(){if(X)return X;const q=[];q.push(new ft("bucket")),q.push(new ft("generation")),q.push(new ft("metageneration")),q.push(new ft("name","fullPath",!0));const fe=new ft("name");fe.xform=function j(mt,Gt){return function ye(q){return!Ie(q)||q.length<2?q:di(q)}(Gt)},q.push(fe);const $e=new ft("size");return $e.xform=function Ee(mt,Gt){return void 0!==Gt?Number(Gt):Gt},q.push($e),q.push(new ft("timeCreated")),q.push(new ft("updated")),q.push(new ft("md5Hash",null,!0)),q.push(new ft("cacheControl",null,!0)),q.push(new ft("contentDisposition",null,!0)),q.push(new ft("contentEncoding",null,!0)),q.push(new ft("contentLanguage",null,!0)),q.push(new ft("contentType",null,!0)),q.push(new ft("metadata","customMetadata",!0)),X=q,X}function gr(q,j,fe){const Ee=$n(j);return null===Ee?null:function Tn(q,j,fe){const Ee={type:"file"},$e=fe.length;for(let mt=0;mt<$e;mt++){const Gt=fe[mt];Ee[Gt.local]=Gt.xform(Ee,j[Gt.server])}return function Bt(q,j){Object.defineProperty(q,"ref",{get:function fe(){const mt=new Dt(q.bucket,q.fullPath);return j._makeStorageReference(mt)}})}(Ee,q),Ee}(q,Ee,fe)}function we(q,j){const fe={},Ee=j.length;for(let $e=0;$e<Ee;$e++){const mt=j[$e];mt.writable&&(fe[mt.server]=q[mt.local])}return JSON.stringify(fe)}const Y="prefixes",V="items";class ae{constructor(j,fe,Ee,$e){this.url=j,this.method=fe,this.handler=Ee,this.timeout=$e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xe(q){if(!q)throw gt()}function pt(q,j){return function fe(Ee,$e){const mt=gr(q,$e,j);return xe(null!==mt),mt}}function Zt(q){return function j(fe,Ee){let $e;return $e=401===fe.getStatus()?fe.getErrorText().includes("Firebase App Check token is invalid")?function Vt(){return new oe(ie.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function yt(){return new oe(ie.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===fe.getStatus()?function Mt(q){return new oe(ie.QUOTA_EXCEEDED,"Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===fe.getStatus()?function Tt(q){return new oe(ie.UNAUTHORIZED,"User does not have permission to access '"+q+"'.")}(q.path):Ee,$e.status=fe.getStatus(),$e.serverResponse=Ee.serverResponse,$e}}function Qt(q){const j=Zt(q);return function fe(Ee,$e){let mt=j(Ee,$e);return 404===Ee.getStatus()&&(mt=function Ge(q){return new oe(ie.OBJECT_NOT_FOUND,"Object '"+q+"' does not exist.")}(q.path)),mt.serverResponse=$e.serverResponse,mt}}function Gn(q,j,fe){const $e=an(j.fullServerUrl(),q.host,q._protocol),Gt=q.maxOperationRetryTime,hn=new ae($e,"GET",pt(q,fe),Gt);return hn.errorHandler=Qt(j),hn}function vn(q,j,fe,Ee,$e){const mt={};mt.prefix=j.isRoot?"":j.path+"/",fe&&fe.length>0&&(mt.delimiter=fe),Ee&&(mt.pageToken=Ee),$e&&(mt.maxResults=$e);const hn=an(j.bucketOnlyServerUrl(),q.host,q._protocol),un=q.maxOperationRetryTime,Zn=new ae(hn,"GET",function Pt(q,j){return function fe(Ee,$e){const mt=function O(q,j,fe){const Ee=$n(fe);return null===Ee?null:function x(q,j,fe){const Ee={prefixes:[],items:[],nextPageToken:fe.nextPageToken};if(fe[Y])for(const $e of fe[Y]){const mt=$e.replace(/\/$/,""),Gt=q._makeStorageReference(new Dt(j,mt));Ee.prefixes.push(Gt)}if(fe[V])for(const $e of fe[V]){const mt=q._makeStorageReference(new Dt(j,$e.name));Ee.items.push(mt)}return Ee}(q,j,Ee)}(q,j,$e);return xe(null!==mt),mt}}(q,j.bucket),un);return Zn.urlParams=mt,Zn.errorHandler=Zt(j),Zn}function $i(q,j,fe){const Ee=Object.assign({},fe);return Ee.fullPath=q.path,Ee.size=j.size(),Ee.contentType||(Ee.contentType=function Xi(q,j){return q&&q.contentType||j&&j.type()||"application/octet-stream"}(null,j)),Ee}class Wn{constructor(j,fe,Ee,$e){this.current=j,this.total=fe,this.finalized=!!Ee,this.metadata=$e||null}}function at(q,j){let fe=null;try{fe=q.getResponseHeader("X-Goog-Upload-Status")}catch{xe(!1)}return xe(!!fe&&-1!==(j||["active"]).indexOf(fe)),fe}const Pn={STATE_CHANGED:"state_changed"},dn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Er(q){switch(q){case"running":case"pausing":case"canceling":return dn.RUNNING;case"paused":return dn.PAUSED;case"success":return dn.SUCCESS;case"canceled":return dn.CANCELED;default:return dn.ERROR}}class fr{constructor(j,fe,Ee){if(function ze(q){return"function"==typeof q}(j)||null!=fe||null!=Ee)this.next=j,this.error=fe??void 0,this.complete=Ee??void 0;else{const mt=j;this.next=mt.next,this.error=mt.error,this.complete=mt.complete}}}function ci(q){return(...j)=>{Promise.resolve().then(()=>q(...j))}}let ho=null;class lr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sn.NO_ERROR,this.sendPromise_=new Promise(j=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sn.ABORT,j()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sn.NETWORK_ERROR,j()}),this.xhr_.addEventListener("load",()=>{j()})})}send(j,fe,Ee,$e){if(this.sent_)throw et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(fe,j,!0),void 0!==$e)for(const mt in $e)$e.hasOwnProperty(mt)&&this.xhr_.setRequestHeader(mt,$e[mt].toString());return void 0!==Ee?this.xhr_.send(Ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw et("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw et("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw et("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw et("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(j){return this.xhr_.getResponseHeader(j)}addUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",j)}removeUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",j)}}class Lo extends lr{initXhr(){this.xhr_.responseType="text"}}function oi(){return ho?ho():new Lo}class si{constructor(j,fe,Ee=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=j,this._blob=fe,this._metadata=Ee,this._mappings=ht(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=$e=>{if(this._request=void 0,this._chunkMultiplier=1,$e._codeEquals(ie.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const mt=this.isExponentialBackoffExpired();if(_n($e.status,[])){if(!mt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();$e=sn()}this._error=$e,this._transition("error")}},this._metadataErrorHandler=$e=>{this._request=void 0,$e._codeEquals(ie.CANCELED)?this.completeTransitions_():(this._error=$e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(($e,mt)=>{this._resolve=$e,this._reject=mt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const j=this._transferred;return fe=>this._updateProgress(j+fe)}_shouldDoResumable(j){return j.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(j){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([fe,Ee])=>{switch(this._state){case"running":j(fe,Ee);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((j,fe)=>{const Ee=function qe(q,j,fe,Ee,$e){const mt=j.bucketOnlyServerUrl(),Gt=$i(j,Ee,$e),hn={name:Gt.fullPath},Rt=an(mt,q.host,q._protocol),Zn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ee.size()}`,"X-Goog-Upload-Header-Content-Type":Gt.contentType,"Content-Type":"application/json; charset=utf-8"},wn=we(Gt,fe),Xr=new ae(Rt,"POST",function Hr(Zr){let Lr;at(Zr);try{Lr=Zr.getResponseHeader("X-Goog-Upload-URL")}catch{xe(!1)}return xe(Ie(Lr)),Lr},q.maxUploadRetryTime);return Xr.urlParams=hn,Xr.headers=Zn,Xr.body=wn,Xr.errorHandler=Zt(j),Xr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$e=this._ref.storage._makeRequest(Ee,oi,j,fe);this._request=$e,$e.getPromise().then(mt=>{this._request=void 0,this._uploadUrl=mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const j=this._uploadUrl;this._resolveToken((fe,Ee)=>{const $e=function Ct(q,j,fe,Ee){const Rt=new ae(fe,"POST",function mt(un){const Zn=at(un,["active","final"]);let wn=null;try{wn=un.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xe(!1)}wn||xe(!1);const Jr=Number(wn);return xe(!isNaN(Jr)),new Wn(Jr,Ee.size(),"final"===Zn)},q.maxUploadRetryTime);return Rt.headers={"X-Goog-Upload-Command":"query"},Rt.errorHandler=Zt(j),Rt}(this._ref.storage,this._ref._location,j,this._blob),mt=this._ref.storage._makeRequest($e,oi,fe,Ee);this._request=mt,mt.getPromise().then(Gt=>{this._request=void 0,this._updateProgress(Gt.current),this._needToFetchStatus=!1,Gt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const j=262144*this._chunkMultiplier,fe=new Wn(this._transferred,this._blob.size()),Ee=this._uploadUrl;this._resolveToken(($e,mt)=>{let Gt;try{Gt=function bn(q,j,fe,Ee,$e,mt,Gt,hn){const Rt=new Wn(0,0);if(Gt?(Rt.current=Gt.current,Rt.total=Gt.total):(Rt.current=0,Rt.total=Ee.size()),Ee.size()!==Rt.total)throw function _t(){return new oe(ie.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const un=Rt.total-Rt.current;let Zn=un;$e>0&&(Zn=Math.min(Zn,$e));const wn=Rt.current;let Hr="";Hr=0===Zn?"finalize":un===Zn?"upload, finalize":"upload";const Xr={"X-Goog-Upload-Command":Hr,"X-Goog-Upload-Offset":`${Rt.current}`},Zr=Ee.slice(wn,wn+Zn);if(null===Zr)throw Ye();const Xn=new ae(fe,"POST",function Lr(ai,zr){const Tr=at(ai,["active","final"]),Go=Rt.current+Zn,Mi=Ee.size();let Es;return Es="final"===Tr?pt(j,mt)(ai,zr):null,new Wn(Go,Mi,"final"===Tr,Es)},j.maxUploadRetryTime);return Xn.headers=Xr,Xn.body=Zr.uploadData(),Xn.progressCallback=hn||null,Xn.errorHandler=Zt(q),Xn}(this._ref._location,this._ref.storage,Ee,this._blob,j,this._mappings,fe,this._makeProgressCallback())}catch(Rt){return this._error=Rt,void this._transition("error")}const hn=this._ref.storage._makeRequest(Gt,oi,$e,mt,!1);this._request=hn,hn.getPromise().then(Rt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Rt.current),Rt.finalized?(this._metadata=Rt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((j,fe)=>{const Ee=Gn(this._ref.storage,this._ref._location,this._mappings),$e=this._ref.storage._makeRequest(Ee,oi,j,fe);this._request=$e,$e.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((j,fe)=>{const Ee=function Fr(q,j,fe,Ee,$e){const mt=j.bucketOnlyServerUrl(),Gt={"X-Goog-Upload-Protocol":"multipart"},Rt=function hn(){let Xn="";for(let ai=0;ai<2;ai++)Xn+=Math.random().toString().slice(2);return Xn}();Gt["Content-Type"]="multipart/related; boundary="+Rt;const un=$i(j,Ee,$e),Zn=we(un,fe),Hr=Nr.getBlob("--"+Rt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Zn+"\r\n--"+Rt+"\r\nContent-Type: "+un.contentType+"\r\n\r\n",Ee,"\r\n--"+Rt+"--");if(null===Hr)throw Ye();const Xr={name:un.fullPath},Zr=an(mt,q.host,q._protocol),Ui=q.maxUploadRetryTime,Pi=new ae(Zr,"POST",pt(q,fe),Ui);return Pi.urlParams=Xr,Pi.headers=Gt,Pi.body=Hr.uploadData(),Pi.errorHandler=Zt(j),Pi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$e=this._ref.storage._makeRequest(Ee,oi,j,fe);this._request=$e,$e.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(j){const fe=this._transferred;this._transferred=j,this._transferred!==fe&&this._notifyObservers()}_transition(j){if(this._state!==j)switch(j){case"canceling":case"pausing":this._state=j,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const fe="paused"===this._state;this._state=j,fe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=j,this._notifyObservers();break;case"canceled":this._error=We(),this._state=j,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const j=Er(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:j,metadata:this._metadata,task:this,ref:this._ref}}on(j,fe,Ee,$e){const mt=new fr(fe||void 0,Ee||void 0,$e||void 0);return this._addObserver(mt),()=>{this._removeObserver(mt)}}then(j,fe){return this._promise.then(j,fe)}catch(j){return this.then(null,j)}_addObserver(j){this._observers.push(j),this._notifyObserver(j)}_removeObserver(j){const fe=this._observers.indexOf(j);-1!==fe&&this._observers.splice(fe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(fe=>{this._notifyObserver(fe)})}_finishPromise(){if(void 0!==this._resolve){let j=!0;switch(Er(this._state)){case dn.SUCCESS:ci(this._resolve.bind(null,this.snapshot))();break;case dn.CANCELED:case dn.ERROR:ci(this._reject.bind(null,this._error))();break;default:j=!1}j&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(j){switch(Er(this._state)){case dn.RUNNING:case dn.PAUSED:j.next&&ci(j.next.bind(j,this.snapshot))();break;case dn.SUCCESS:j.complete&&ci(j.complete.bind(j))();break;default:j.error&&ci(j.error.bind(j,this._error))()}}resume(){const j="paused"===this._state||"pausing"===this._state;return j&&this._transition("running"),j}pause(){const j="running"===this._state;return j&&this._transition("pausing"),j}cancel(){const j="running"===this._state||"pausing"===this._state;return j&&this._transition("canceling"),j}}class mi{constructor(j,fe){this._service=j,this._location=fe instanceof Dt?fe:Dt.makeFromUrl(fe,j.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(j,fe){return new mi(j,fe)}get root(){const j=new Dt(this._location.bucket,"");return this._newRef(this._service,j)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return di(this._location.path)}get storage(){return this._service}get parent(){const j=function nr(q){if(0===q.length)return null;const j=q.lastIndexOf("/");return-1===j?"":q.slice(0,j)}(this._location.path);if(null===j)return null;const fe=new Dt(this._location.bucket,j);return new mi(this._service,fe)}_throwIfRoot(j){if(""===this._location.path)throw xn(j)}}function _i(q,j,fe){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(q,j,fe){const $e=yield ds(q,{pageToken:fe});j.prefixes.push(...$e.prefixes),j.items.push(...$e.items),null!=$e.nextPageToken&&(yield _i(q,j,$e.nextPageToken))})).apply(this,arguments)}function ds(q,j){null!=j&&"number"==typeof j.maxResults&&Et("options.maxResults",1,1e3,j.maxResults);const fe=j||{},Ee=vn(q.storage,q._location,"/",fe.pageToken,fe.maxResults);return q.storage.makeRequestWithTokens(Ee,oi)}function Hi(q){q._throwIfRoot("getDownloadURL");const j=function ki(q,j,fe){const $e=an(j.fullServerUrl(),q.host,q._protocol),Gt=q.maxOperationRetryTime,hn=new ae($e,"GET",function nn(q,j){return function fe(Ee,$e){const mt=gr(q,$e,j);return xe(null!==mt),function Yn(q,j,fe,Ee){const $e=$n(j);if(null===$e||!Ie($e.downloadTokens))return null;const mt=$e.downloadTokens;if(0===mt.length)return null;const Gt=encodeURIComponent;return mt.split(",").map(un=>{const wn=q.fullPath;return an("/b/"+Gt(q.bucket)+"/o/"+Gt(wn),fe,Ee)+qt({alt:"media",token:un})})[0]}(mt,$e,q.host,q._protocol)}}(q,fe),Gt);return hn.errorHandler=Qt(j),hn}(q.storage,q._location,ht());return q.storage.makeRequestWithTokens(j,oi).then(fe=>{if(null===fe)throw function St(){return new oe(ie.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return fe})}function Ir(q,j){const fe=function Dn(q,j){const fe=j.split("/").filter(Ee=>Ee.length>0).join("/");return 0===q.length?fe:q+"/"+fe}(q._location.path,j),Ee=new Dt(q._location.bucket,fe);return new mi(q.storage,Ee)}function to(q,j){if(q instanceof Yr){const fe=q;if(null==fe._bucket)throw function Ke(){return new oe(ie.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+be+"' property when initializing the app?")}();const Ee=new mi(fe,fe._bucket);return null!=j?to(Ee,j):Ee}return void 0!==j?Ir(q,j):q}function zo(q,j){if(j&&function zi(q){return/^[A-Za-z]+:\/\//.test(q)}(j)){if(q instanceof Yr)return function Eo(q,j){return new mi(q,j)}(q,j);throw Ht("To use ref(service, url), the first argument must be a Storage instance.")}return to(q,j)}function Nn(q,j){const fe=j?.[be];return null==fe?null:Dt.makeFromBucketSpec(fe,q)}class Yr{constructor(j,fe,Ee,$e,mt){this.app=j,this._authProvider=fe,this._appCheckProvider=Ee,this._url=$e,this._firebaseVersion=mt,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=$e?Dt.makeFromBucketSpec($e,this._host):Nn(this._host,this.app.options)}get host(){return this._host}set host(j){this._host=j,this._bucket=null!=this._url?Dt.makeFromBucketSpec(this._url,j):Nn(j,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(j){Et("time",0,Number.POSITIVE_INFINITY,j),this._maxUploadRetryTime=j}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(j){Et("time",0,Number.POSITIVE_INFINITY,j),this._maxOperationRetryTime=j}_getAuthToken(){var j=this;return(0,l.Z)(function*(){if(j._overrideAuthToken)return j._overrideAuthToken;const fe=j._authProvider.getImmediate({optional:!0});if(fe){const Ee=yield fe.getToken();if(null!==Ee)return Ee.accessToken}return null})()}_getAppCheckToken(){var j=this;return(0,l.Z)(function*(){const fe=j._appCheckProvider.getImmediate({optional:!0});return fe?(yield fe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(j=>j.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(j){return new mi(this,j)}_makeRequest(j,fe,Ee,$e,mt=!0){if(this._deleted)return new Pe(Jt());{const Gt=function Dr(q,j,fe,Ee,$e,mt,Gt=!0){const hn=qt(q.urlParams),Rt=q.url+hn,un=Object.assign({},q.headers);return function Ut(q,j){j&&(q["X-Firebase-GMPID"]=j)}(un,j),function En(q,j){null!==j&&j.length>0&&(q.Authorization="Firebase "+j)}(un,fe),function On(q,j){q["X-Firebase-Storage-Version"]="webjs/"+(j??"AppManager")}(un,mt),function Nt(q,j){null!==j&&(q["X-Firebase-AppCheck"]=j)}(un,Ee),new tr(Rt,q.method,un,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,$e,Gt)}(j,this._appId,Ee,$e,fe,this._firebaseVersion,mt);return this._requests.add(Gt),Gt.getPromise().then(()=>this._requests.delete(Gt),()=>this._requests.delete(Gt)),Gt}}makeRequestWithTokens(j,fe){var Ee=this;return(0,l.Z)(function*(){const[$e,mt]=yield Promise.all([Ee._getAuthToken(),Ee._getAppCheckToken()]);return Ee._makeRequest(j,fe,$e,mt).getPromise()})()}}const Si="@firebase/storage",Io="storage";function Li(q,j,fe){return function _r(q,j,fe){return q._throwIfRoot("uploadBytesResumable"),new si(q,new Nr(j),fe)}(q=(0,z.m9)(q),j,fe)}function kr(q){return function li(q){q._throwIfRoot("getMetadata");const j=Gn(q.storage,q._location,ht());return q.storage.makeRequestWithTokens(j,oi)}(q=(0,z.m9)(q))}function Yt(q,j){return function Fs(q,j){q._throwIfRoot("updateMetadata");const fe=function Di(q,j,fe,Ee){const mt=an(j.fullServerUrl(),q.host,q._protocol),hn=we(fe,Ee),un=q.maxOperationRetryTime,Zn=new ae(mt,"PATCH",pt(q,Ee),un);return Zn.headers={"Content-Type":"application/json; charset=utf-8"},Zn.body=hn,Zn.errorHandler=Qt(j),Zn}(q.storage,q._location,j,ht());return q.storage.makeRequestWithTokens(fe,oi)}(q=(0,z.m9)(q),j)}function Ln(q,j){return ds(q=(0,z.m9)(q),j)}function Jn(q){return function Ai(q){const j={prefixes:[],items:[]};return _i(q,j).then(()=>j)}(q=(0,z.m9)(q))}function yi(q){return Hi(q=(0,z.m9)(q))}function Mo(q){return function yr(q){q._throwIfRoot("deleteObject");const j=function Gr(q,j){const Ee=an(j.fullServerUrl(),q.host,q._protocol),hn=new ae(Ee,"DELETE",function Gt(Rt,un){},q.maxOperationRetryTime);return hn.successCodes=[200,204],hn.errorHandler=Qt(j),hn}(q.storage,q._location);return q.storage.makeRequestWithTokens(j,oi)}(q=(0,z.m9)(q))}function qr(q,j){return zo(q=(0,z.m9)(q),j)}function ao(q,j){return Ir(q,j)}function wr(q=(0,y.getApp)(),j){q=(0,z.m9)(q);const Ee=(0,y._getProvider)(q,Io).getImmediate({identifier:j}),$e=(0,z.P0)("storage");return $e&&Wi(Ee,...$e),Ee}function Wi(q,j,fe,Ee={}){!function $r(q,j,fe,Ee={}){q.host=`${j}:${fe}`,q._protocol="http";const{mockUserToken:$e}=Ee;$e&&(q._overrideAuthToken="string"==typeof $e?$e:(0,z.Sg)($e,q.app.options.projectId))}(q,j,fe,Ee)}function Vi(q,{instanceIdentifier:j}){const fe=q.getProvider("app").getImmediate(),Ee=q.getProvider("auth-internal"),$e=q.getProvider("app-check-internal");return new Yr(fe,Ee,$e,j,y.SDK_VERSION)}!function Qr(){(0,y._registerComponent)(new Ce.wA(Io,Vi,"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Si,"0.12.5",""),(0,y.registerVersion)(Si,"0.12.5","esm2017")}()},9058:(on,Xe,k)=>{k.d(Xe,{BH:()=>Ke,G6:()=>ce,L:()=>He,LL:()=>ke,P0:()=>We,Pz:()=>Je,Sg:()=>Ye,UG:()=>ge,ZB:()=>Me,ZR:()=>Ie,aH:()=>Le,b$:()=>xn,eu:()=>De,hl:()=>J,jU:()=>Ht,m9:()=>Yn,ne:()=>ir,pd:()=>Cn,r3:()=>On,ru:()=>Jt,tV:()=>oe,uI:()=>St,vZ:()=>tn,w1:()=>et,xO:()=>Ot,xb:()=>Nt,z$:()=>_t,zd:()=>cn});const Ce=function(we){const Y=[];let V=0;for(let x=0;x<we.length;x++){let O=we.charCodeAt(x);O<128?Y[V++]=O:O<2048?(Y[V++]=O>>6|192,Y[V++]=63&O|128):55296==(64512&O)&&x+1<we.length&&56320==(64512&we.charCodeAt(x+1))?(O=65536+((1023&O)<<10)+(1023&we.charCodeAt(++x)),Y[V++]=O>>18|240,Y[V++]=O>>12&63|128,Y[V++]=O>>6&63|128,Y[V++]=63&O|128):(Y[V++]=O>>12|224,Y[V++]=O>>6&63|128,Y[V++]=63&O|128)}return Y},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,Y){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let O=0;O<we.length;O+=3){const ae=we[O],xe=O+1<we.length,pt=xe?we[O+1]:0,Pt=O+2<we.length,nn=Pt?we[O+2]:0;let Gn=(15&pt)<<2|nn>>6,vn=63&nn;Pt||(vn=64,xe||(Gn=64)),x.push(V[ae>>2],V[(3&ae)<<4|pt>>4],V[Gn],V[vn])}return x.join("")},encodeString(we,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(we):this.encodeByteArray(Ce(we),Y)},decodeString(we,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(we):function(we){const Y=[];let V=0,x=0;for(;V<we.length;){const O=we[V++];if(O<128)Y[x++]=String.fromCharCode(O);else if(O>191&&O<224){const ae=we[V++];Y[x++]=String.fromCharCode((31&O)<<6|63&ae)}else if(O>239&&O<365){const Pt=((7&O)<<18|(63&we[V++])<<12|(63&we[V++])<<6|63&we[V++])-65536;Y[x++]=String.fromCharCode(55296+(Pt>>10)),Y[x++]=String.fromCharCode(56320+(1023&Pt))}else{const ae=we[V++],xe=we[V++];Y[x++]=String.fromCharCode((15&O)<<12|(63&ae)<<6|63&xe)}}return Y.join("")}(this.decodeStringToByteArray(we,Y))},decodeStringToByteArray(we,Y){this.init_();const V=Y?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let O=0;O<we.length;){const ae=V[we.charAt(O++)],pt=O<we.length?V[we.charAt(O)]:0;++O;const nn=O<we.length?V[we.charAt(O)]:64;++O;const Qt=O<we.length?V[we.charAt(O)]:64;if(++O,null==ae||null==pt||null==nn||null==Qt)throw new je;x.push(ae<<2|pt>>4),64!==nn&&(x.push(pt<<4&240|nn>>2),64!==Qt&&x.push(nn<<6&192|Qt))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(we){return function(we){const Y=Ce(we);return be.encodeByteArray(Y,!0)}(we).replace(/\./g,"")},oe=function(we){try{return be.decodeString(we,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function Me(we,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return Y}for(const V in Y)!Y.hasOwnProperty(V)||!gt(V)||(we[V]=Me(we[V],Y[V]));return we}function gt(we){return"__proto__"!==we}const Tt=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const we=process.env.__FIREBASE_DEFAULTS__;return we?JSON.parse(we):void 0})()||(()=>{if(typeof document>"u")return;let we;try{we=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=we&&oe(we[1]);return Y&&JSON.parse(Y)})()}catch(we){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${we}`)}},We=we=>{const Y=(we=>{var Y,V;return null===(V=null===(Y=Tt())||void 0===Y?void 0:Y.emulatorHosts)||void 0===V?void 0:V[we]})(we);if(!Y)return;const V=Y.lastIndexOf(":");if(V<=0||V+1===Y.length)throw new Error(`Invalid host ${Y} with no separate hostname and port!`);const x=parseInt(Y.substring(V+1),10);return"["===Y[0]?[Y.substring(1,V-1),x]:[Y.substring(0,V),x]},Le=()=>{var we;return null===(we=Tt())||void 0===we?void 0:we.config},Je=we=>{var Y;return null===(Y=Tt())||void 0===Y?void 0:Y[`_${we}`]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,V)=>{this.resolve=Y,this.reject=V})}wrapCallback(Y){return(V,x)=>{V?this.reject(V):this.resolve(x),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(V):Y(V,x))}}}function Ye(we,Y){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=Y||"demo-project",O=we.iat||0,ae=we.sub||we.user_id;if(!ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:O,exp:O+3600,auth_time:O,sub:ae,user_id:ae,firebase:{sign_in_provider:"custom",identities:{}}},we);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(xe)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function ge(){var we;const Y=null===(we=Tt())||void 0===we?void 0:we.forceEnvironment;if("node"===Y)return!0;if("browser"===Y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function Jt(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function xn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const we=_t();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function ce(){return!ge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise((we,Y)=>{try{let V=!0;const x="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(x);O.onsuccess=()=>{O.result.close(),V||self.indexedDB.deleteDatabase(x),we(!0)},O.onupgradeneeded=()=>{V=!1},O.onerror=()=>{var ae;Y((null===(ae=O.error)||void 0===ae?void 0:ae.message)||"")}}catch(V){Y(V)}})}class Ie extends Error{constructor(Y,V,x){super(V),this.code=Y,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(Y,V,x){this.service=Y,this.serviceName=V,this.errors=x}create(Y,...V){const x=V[0]||{},O=`${this.service}/${Y}`,ae=this.errors[Y],xe=ae?function vt(we,Y){return we.replace(Et,(V,x)=>{const O=Y[x];return null!=O?String(O):`<${x}?>`})}(ae,x):"Error";return new Ie(O,`${this.serviceName}: ${xe} (${O}).`,x)}}const Et=/\{\$([^}]+)}/g;function On(we,Y){return Object.prototype.hasOwnProperty.call(we,Y)}function Nt(we){for(const Y in we)if(Object.prototype.hasOwnProperty.call(we,Y))return!1;return!0}function tn(we,Y){if(we===Y)return!0;const V=Object.keys(we),x=Object.keys(Y);for(const O of V){if(!x.includes(O))return!1;const ae=we[O],xe=Y[O];if(sr(ae)&&sr(xe)){if(!tn(ae,xe))return!1}else if(ae!==xe)return!1}for(const O of x)if(!V.includes(O))return!1;return!0}function sr(we){return null!==we&&"object"==typeof we}function Ot(we){const Y=[];for(const[V,x]of Object.entries(we))Array.isArray(x)?x.forEach(O=>{Y.push(encodeURIComponent(V)+"="+encodeURIComponent(O))}):Y.push(encodeURIComponent(V)+"="+encodeURIComponent(x));return Y.length?"&"+Y.join("&"):""}function cn(we){const Y={};return we.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[O,ae]=x.split("=");Y[decodeURIComponent(O)]=decodeURIComponent(ae)}}),Y}function Cn(we){const Y=we.indexOf("?");if(!Y)return"";const V=we.indexOf("#",Y);return we.substring(Y,V>0?V:void 0)}function ir(we,Y){const V=new cr(we,Y);return V.subscribe.bind(V)}class cr{constructor(Y,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{Y(this)}).catch(x=>{this.error(x)})}next(Y){this.forEachObserver(V=>{V.next(Y)})}error(Y){this.forEachObserver(V=>{V.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,V,x){let O;if(void 0===Y&&void 0===V&&void 0===x)throw new Error("Missing Observer.");O=function Rn(we,Y){if("object"!=typeof we||null===we)return!1;for(const V of Y)if(V in we&&"function"==typeof we[V])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:V,complete:x},void 0===O.next&&(O.next=Or),void 0===O.error&&(O.error=Or),void 0===O.complete&&(O.complete=Or);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ae}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,Y)}sendOne(Y,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{V(this.observers[Y])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Or(){}function Yn(we){return we&&we._delegate?we._delegate:we}},9730:(on,Xe,k)=>{k.d(Xe,{O:()=>It});var l=k(5879),y=k(3768),z=k(518),Ce=k(5377),me=k(6814);function be(et,Dt){if(1&et&&l._UZ(0,"button",11),2&et){const Pe=Dt.index;l.ekj("active",0===Pe),l.uIk("data-bs-slide-to",Pe)("aria-current",0===Pe?"true":null)("aria-label","Slide "+(Pe+1))}}function je(et,Dt){if(1&et){const Pe=l.EpF();l.TgZ(0,"div",12),l._UZ(1,"img",13),l.TgZ(2,"div",14)(3,"h1"),l._uU(4,"Welcome to "),l._UZ(5,"br"),l._uU(6),l.qZA(),l.TgZ(7,"div",15),l._UZ(8,"br"),l.TgZ(9,"p"),l._uU(10),l.qZA()(),l.TgZ(11,"button",16),l.NdJ("click",function(){l.CHM(Pe);const J=l.oxw(2);return l.KtG(J.navigateToContact())}),l._uU(12," Book Consultation "),l.qZA()()()}if(2&et){const Pe=Dt.$implicit,ce=Dt.index,J=l.oxw(2);l.ekj("active",0===ce),l.xp6(1),l.Q6J("src",Pe,l.LSH),l.xp6(5),l.hij(" ",J.business.businessName,""),l.xp6(4),l.Oqu(J.business.tagline)}}function Fe(et,Dt){if(1&et&&(l.TgZ(0,"div",1)(1,"div",2),l.YNc(2,be,1,5,"button",3),l.qZA(),l.TgZ(3,"div",4),l.YNc(4,je,13,5,"div",5),l.qZA(),l.TgZ(5,"button",6),l._UZ(6,"span",7),l.TgZ(7,"span",8),l._uU(8,"Previous"),l.qZA()(),l.TgZ(9,"button",9),l._UZ(10,"span",10),l.TgZ(11,"span",8),l._uU(12,"Next"),l.qZA()()()),2&et){const Pe=l.oxw();l.xp6(2),l.Q6J("ngForOf",Pe.business.heroImages),l.xp6(2),l.Q6J("ngForOf",Pe.business.heroImages)}}let He=(()=>{class et{constructor(Pe){this.router=Pe}ngOnInit(){this.fetchBusinessData()}navigateToContact(){this.router.navigate(["/contact-us"])}fetchBusinessData(){this.business={businessName:"#1 Helping Hand AFH",tagline:"We\u2019re Family, Not Just Care.",heroImages:["../../../assets/sharedAssets/istockphoto-804432288-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-613308420-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-918529390-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1324090651-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1170514008-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1315315044-2048x2048.jpg"]}}static#e=this.\u0275fac=function(ce){return new(ce||et)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:et,selectors:[["app-hero-carousel"]],inputs:{businessID:"businessID"},decls:1,vars:1,consts:[["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],[1,"action-btn",3,"click"]],template:function(ce,J){1&ce&&l.YNc(0,Fe,13,2,"div",0),2&ce&&l.Q6J("ngIf",J.business)},dependencies:[me.sg,me.O5],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]{position:relative;height:800px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}"]})}return et})();function oe(et,Dt){if(1&et&&(l.TgZ(0,"div",5)(1,"div",6),l._UZ(2,"img",7),l.qZA(),l.TgZ(3,"div")(4,"div",8)(5,"div",9)(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"strong"),l._uU(9),l.qZA()()()()()),2&et){const Pe=Dt.$implicit;l.xp6(2),l.s9C("src",Pe.photoURL,l.LSH),l.s9C("alt",Pe.name),l.xp6(5),l.hij('" ',Pe.quote,' "'),l.xp6(2),l.Oqu(Pe.name)}}let ie=(()=>{class et{static#e=this.\u0275fac=function(ce){return new(ce||et)};static#t=this.\u0275cmp=l.Xpm({type:et,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials"},decls:6,vars:1,consts:[[1,"testimonial-comp"],[1,"testimonial-heading"],[1,"section-heading"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-image"],[3,"src","alt"],[1,"testimonial-content","garamond"],[1,""]],template:function(ce,J){1&ce&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2),l._uU(3,"Testimonials"),l.qZA()(),l.TgZ(4,"div",3),l.YNc(5,oe,10,4,"div",4),l.qZA()()),2&ce&&(l.xp6(5),l.Q6J("ngForOf",J.testimonials))},dependencies:[me.sg],styles:[".testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-content[_ngcontent-%COMP%]{max-width:300px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);line-height:1.7}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--accent-color)}"]})}return et})(),Me=(()=>{class et{static#e=this.\u0275fac=function(ce){return new(ce||et)};static#t=this.\u0275cmp=l.Xpm({type:et,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(ce,J){1&ce&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2),l._UZ(3,"i",3),l.TgZ(4,"p"),l._uU(5),l.qZA()(),l.TgZ(6,"div",2),l._UZ(7,"i",4),l.TgZ(8,"p"),l._uU(9),l.qZA()(),l.TgZ(10,"div",2),l._UZ(11,"i",5),l.TgZ(12,"p"),l._uU(13),l.qZA()()()()),2&ce&&(l.xp6(5),l.Oqu(J.phoneNumber),l.xp6(4),l.Oqu(J.address),l.xp6(4),l.Oqu(J.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return et})();function gt(et,Dt){if(1&et&&(l.TgZ(0,"div",7),l._UZ(1,"i",8),l.TgZ(2,"h3",9),l._uU(3),l.qZA(),l.TgZ(4,"div",10)(5,"p"),l._uU(6),l.qZA()()()),2&et){const Pe=Dt.$implicit;l.xp6(1),l.Q6J("ngClass",Pe.icon),l.xp6(2),l.Oqu(Pe.title),l.xp6(3),l.Oqu(Pe.description)}}let Ge=(()=>{class et{static#e=this.\u0275fac=function(ce){return new(ce||et)};static#t=this.\u0275cmp=l.Xpm({type:et,selectors:[["app-our-services-home"]],inputs:{services:"services"},decls:10,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"services-container"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"service-item-icon",3,"ngClass"],[1,"service-item-title"],[1,"service-item-description"]],template:function(ce,J){1&ce&&(l.TgZ(0,"section",0)(1,"div",1)(2,"span",2),l._uU(3,"Our"),l.qZA(),l.TgZ(4,"span",3),l._uU(5,"Services"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," Home Care From Trained Professionals "),l.qZA(),l.TgZ(8,"div",5),l.YNc(9,gt,7,3,"div",6),l.qZA()()),2&ce&&(l.xp6(9),l.Q6J("ngForOf",J.services))},dependencies:[me.mk,me.sg],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.service-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.service-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.service-item[_ngcontent-%COMP%]{margin-bottom:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}"]})}return et})(),Mt=(()=>{class et{constructor(Pe){this.router=Pe}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(ce){return new(ce||et)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:et,selectors:[["app-welcome"]],inputs:{welcomeMsg:"welcomeMsg",keyServicesHighlights:"keyServicesHighlights"},decls:14,vars:2,consts:[[1,"info-container"],[1,"overlay"],[1,"content","garamond"],[1,"brand-name"],[1,"buttons"],[1,"contact-btn",3,"click"]],template:function(ce,J){1&ce&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),l._uU(4,"We Are "),l.TgZ(5,"span",3),l._uU(6,"Helping Hand"),l.qZA()(),l.TgZ(7,"h1"),l._uU(8),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.TgZ(11,"div",4)(12,"button",5),l.NdJ("click",function(){return J.navigateToContact()}),l._uU(13,"Contact Us"),l.qZA()()()()()),2&ce&&(l.xp6(8),l.Oqu(J.welcomeMsg),l.xp6(2),l.Oqu(J.keyServicesHighlights))},styles:[".info-container[_ngcontent-%COMP%]{position:relative;width:100%;height:600px;background-color:var(--background-color);color:var( --text-color)}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--accent-color)}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.learn-more-btn[_ngcontent-%COMP%], .contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}.learn-more-btn[_ngcontent-%COMP%]{background-color:#888;color:var(--button-text-color)}.contact-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--button-text-color)}"]})}return et})(),yt=(()=>{class et{constructor(Pe){this.router=Pe}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(ce){return new(ce||et)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:et,selectors:[["app-consultation"]],decls:10,vars:0,consts:[[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"btn-book-consultation",3,"click"]],template:function(ce,J){1&ce&&(l.TgZ(0,"div",0)(1,"div",1)(2,"span",2),l._uU(3,"Book a "),l.qZA(),l.TgZ(4,"span",3),l._uU(5," Consultation"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," We\u2019ll prepare a proposal and walk you through every step of the process. "),l.qZA(),l.TgZ(8,"button",5),l.NdJ("click",function(){return J.navigateToContact()}),l._uU(9,"Book Consultation"),l.qZA()())},styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}"]})}return et})();function Vt(et,Dt){if(1&et&&(l.TgZ(0,"div",8),l._UZ(1,"div",9)(2,"div",10),l.qZA()),2&et){const Pe=Dt.$implicit;l.xp6(1),l.Q6J("innerHTML",Pe.name,l.oJD),l.xp6(1),l.Q6J("innerHTML",Pe.description,l.oJD)}}let Tt=(()=>{class et{constructor(Pe,ce){this.webContent=Pe,this.route=ce}ngOnInit(){this.route.queryParams.subscribe(Pe=>{this.webContent.getBusinessData(Pe.id).subscribe(J=>{J&&(this.business=J)})})}static#e=this.\u0275fac=function(ce){return new(ce||et)(l.Y36(y._),l.Y36(z.gz))};static#t=this.\u0275cmp=l.Xpm({type:et,selectors:[["app-features"]],decls:11,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"features-section"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ce,J){1&ce&&(l.TgZ(0,"section",0)(1,"div",1)(2,"span",2),l._uU(3,"Our Unique "),l.qZA(),l.TgZ(4,"span",3),l._uU(5," Features"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," What sets us appart. "),l.qZA(),l.TgZ(8,"div",5)(9,"div",6),l.YNc(10,Vt,3,2,"div",7),l.qZA()()()),2&ce&&(l.xp6(10),l.Q6J("ngForOf",J.business.uniqueService))},dependencies:[me.sg],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.service-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return et})();function sn(et,Dt){if(1&et&&(l.TgZ(0,"div",9),l._UZ(1,"div",10)(2,"div",11),l.qZA()),2&et){const Pe=Dt.$implicit;l.xp6(1),l.Q6J("innerHTML",Pe.name,l.oJD),l.xp6(1),l.Q6J("innerHTML",Pe.description,l.oJD)}}const We=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},Le=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Ke=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},_t=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},ge=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Jt=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"ll the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},xn=function(et,Dt,Pe,ce,J,De){return[et,Dt,Pe,ce,J,De]};let It=(()=>{class et{constructor(Pe,ce,J){this.webContent=Pe,this.route=ce,this.metaService=J,this.business={businessName:"",businessURL:"",keyWords:"",tagline:"",uniqueService:[],whyChoose:[],businessStory:"",motivation:"",mission:"",vision:"",certifications:"",targetAudience:"",services:[],specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:[],address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",benefits:[],contactFormDetails:"",mapDirections:"",photoGalleryText:"",employees:[],id:"",faqs:"",blogNews:"",mapIframe:"",isActive:!1}}ngOnInit(){this.route.queryParams.subscribe(Pe=>{let ce=Pe.id;this.metaService.getMetaData(ce).subscribe(J=>{console.log("Metadata",J),this.metaService.updateMetaTags(J)}),this.webContent.getBusinessData(ce).subscribe(J=>{J&&(this.business=J)})})}static#e=this.\u0275fac=function(ce){return new(ce||et)(l.Y36(y._),l.Y36(z.gz),l.Y36(Ce.R))};static#t=this.\u0275cmp=l.Xpm({type:et,selectors:[["app-home"]],decls:12,vars:22,consts:[[3,"businessID"],[3,"welcomeMsg","keyServicesHighlights"],[3,"services"],[1,"features-section"],[1,"section-heading"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[3,"testimonials"],[3,"phoneNumber","address","email"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ce,J){1&ce&&(l._UZ(0,"app-hero-carousel",0)(1,"app-welcome",1)(2,"app-our-services-home",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5,"Why Choose Us"),l.qZA(),l.TgZ(6,"div",5),l.YNc(7,sn,3,2,"div",6),l.qZA()(),l._UZ(8,"app-features")(9,"app-testimonials",7)(10,"app-consultation")(11,"app-information",8)),2&ce&&(l.Q6J("businessID",J.business.id),l.xp6(1),l.Q6J("welcomeMsg",J.business.welcomeMessage)("keyServicesHighlights",J.business.keyServicesHighlights),l.xp6(1),l.Q6J("services",l.HTZ(15,xn,l.DdM(9,We),l.DdM(10,Le),l.DdM(11,Ke),l.DdM(12,_t),l.DdM(13,ge),l.DdM(14,Jt))),l.xp6(5),l.Q6J("ngForOf",J.business.whyChoose),l.xp6(2),l.Q6J("testimonials",J.business.testimonials),l.xp6(2),l.Q6J("phoneNumber",J.business.phone)("address",J.business.address)("email",J.business.email))},dependencies:[me.sg,He,ie,Me,Ge,Mt,yt,Tt],styles:[".container[_ngcontent-%COMP%]{padding:40px 20px}.intro-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;max-width:1200px;margin:0 auto;padding:40px 20px;text-align:left;min-height:400px}.left[_ngcontent-%COMP%]{flex:1;margin-right:20px}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:400;margin:0}.right[_ngcontent-%COMP%]{flex:1;margin-left:20px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.6;margin:0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{margin:0;text-align:center}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1024px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;background-color:var(--background-color);text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return et})()},2333:(on,Xe,k)=>{k.d(Xe,{e:()=>me});var l=k(7398),y=k(5879),z=k(7213),Ce=k(518);let me=(()=>{class be{constructor(Fe,He){this.afAuth=Fe,this.router=He,this.user$=Fe.authState}login(Fe,He){return this.afAuth.signInWithEmailAndPassword(Fe,He)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,l.U)(Fe=>!!Fe))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(He){return new(He||be)(y.LFG(z.zQ),y.LFG(Ce.F0))};static#t=this.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},5377:(on,Xe,k)=>{k.d(Xe,{R:()=>me});var l=k(7398),y=k(5879),z=k(6593),Ce=k(7104);let me=(()=>{class be{constructor(Fe,He,oe){this.meta=Fe,this.title=He,this.firestore=oe,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}updateMetaTags(Fe){this.title.setTitle(Fe.title),this.meta.updateTag({name:"description",content:Fe.description}),this.meta.updateTag({name:"keywords",content:Fe.keywords}),this.meta.updateTag({property:"og:title",content:Fe.title}),this.meta.updateTag({property:"og:description",content:Fe.description})}getMetaData(Fe){return(null==Fe||""==Fe||""===Fe)&&(Fe=this.defaultBusinessId),this.firestore.collection("businesses").doc(Fe).valueChanges().pipe((0,l.U)(He=>(console.log("Fetched business metadata:",He),He?{title:He.metaTitle||"Default Title",description:He.metaDescription||"Default Description",keywords:He.metaKeywords||"default, keywords"}:{title:"Default Title",description:"Default Description",keywords:"default, keywords"})))}static#e=this.\u0275fac=function(He){return new(He||be)(y.LFG(z.h_),y.LFG(z.Dx),y.LFG(Ce.ST))};static#t=this.\u0275prov=y.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},3768:(on,Xe,k)=>{k.d(Xe,{_:()=>je});var l=k(7398),y=k(6306),z=k(2096),Ce=k(5879),me=k(7104),be=k(778);let je=(()=>{class Fe{constructor(oe,ie){this.firestore=oe,this.storage=ie,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}getBusinessData(oe){return(null==oe||""==oe||""===oe)&&(oe=this.defaultBusinessId),this.firestore.collection("businesses").doc(oe).snapshotChanges().pipe((0,l.U)(ie=>{const Me=ie.payload.data(),gt=ie.payload.id;if(Me){const{id:Ge,...Mt}=Me;return{id:gt,...Mt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(oe){return this.storage.ref(oe).getDownloadURL().pipe((0,y.K)(ie=>(console.error("Error fetching photo URL:",ie),(0,z.of)(""))))}getEmployeesByBusinessId(oe){return(null==oe||""==oe||""===oe)&&(oe=this.defaultBusinessId),this.firestore.collection("businesses").doc(oe).get().pipe((0,l.U)(ie=>{if(ie.exists){const Me=ie.data();return Me&&Me.employees?(console.log("Fetched employees:",Me.employees),Me.employees):(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,y.K)(ie=>(console.error("Error fetching employees:",ie),(0,z.of)([]))))}getBusinessGalleryImagesById(oe){return console.log("Webcontent getBusinessGalleryImagesByID: ",oe),(null==oe||""==oe||""===oe)&&(oe=this.defaultBusinessId),this.firestore.collection("businesses").doc(oe).collection("gallery").valueChanges()}static#e=this.\u0275fac=function(ie){return new(ie||Fe)(Ce.LFG(me.ST),Ce.LFG(be.Q1))};static#t=this.\u0275prov=Ce.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},7877:(on,Xe,k)=>{var l=k(6593),y=k(5879),z=k(2096),Ce=k(2459),me=k(5592),be=k(6328),je=k(2181),Fe=k(7398),He=k(4716),oe=k(4664),ie=k(6814);class Me{}class gt{}class Ge{constructor(he){this.normalizedNames=new Map,this.lazyUpdate=null,he?"string"==typeof he?this.lazyInit=()=>{this.headers=new Map,he.split("\n").forEach(ee=>{const Ae=ee.indexOf(":");if(Ae>0){const it=ee.slice(0,Ae),zt=it.toLowerCase(),rn=ee.slice(Ae+1).trim();this.maybeSetNormalizedName(it,zt),this.headers.has(zt)?this.headers.get(zt).push(rn):this.headers.set(zt,[rn])}})}:typeof Headers<"u"&&he instanceof Headers?(this.headers=new Map,he.forEach((ee,Ae)=>{this.setHeaderEntries(Ae,ee)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(he).forEach(([ee,Ae])=>{this.setHeaderEntries(ee,Ae)})}:this.headers=new Map}has(he){return this.init(),this.headers.has(he.toLowerCase())}get(he){this.init();const ee=this.headers.get(he.toLowerCase());return ee&&ee.length>0?ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(he){return this.init(),this.headers.get(he.toLowerCase())||null}append(he,ee){return this.clone({name:he,value:ee,op:"a"})}set(he,ee){return this.clone({name:he,value:ee,op:"s"})}delete(he,ee){return this.clone({name:he,value:ee,op:"d"})}maybeSetNormalizedName(he,ee){this.normalizedNames.has(ee)||this.normalizedNames.set(ee,he)}init(){this.lazyInit&&(this.lazyInit instanceof Ge?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(he=>this.applyUpdate(he)),this.lazyUpdate=null))}copyFrom(he){he.init(),Array.from(he.headers.keys()).forEach(ee=>{this.headers.set(ee,he.headers.get(ee)),this.normalizedNames.set(ee,he.normalizedNames.get(ee))})}clone(he){const ee=new Ge;return ee.lazyInit=this.lazyInit&&this.lazyInit instanceof Ge?this.lazyInit:this,ee.lazyUpdate=(this.lazyUpdate||[]).concat([he]),ee}applyUpdate(he){const ee=he.name.toLowerCase();switch(he.op){case"a":case"s":let Ae=he.value;if("string"==typeof Ae&&(Ae=[Ae]),0===Ae.length)return;this.maybeSetNormalizedName(he.name,ee);const it=("a"===he.op?this.headers.get(ee):void 0)||[];it.push(...Ae),this.headers.set(ee,it);break;case"d":const zt=he.value;if(zt){let rn=this.headers.get(ee);if(!rn)return;rn=rn.filter(fi=>-1===zt.indexOf(fi)),0===rn.length?(this.headers.delete(ee),this.normalizedNames.delete(ee)):this.headers.set(ee,rn)}else this.headers.delete(ee),this.normalizedNames.delete(ee)}}setHeaderEntries(he,ee){const Ae=(Array.isArray(ee)?ee:[ee]).map(zt=>zt.toString()),it=he.toLowerCase();this.headers.set(it,Ae),this.maybeSetNormalizedName(he,it)}forEach(he){this.init(),Array.from(this.normalizedNames.keys()).forEach(ee=>he(this.normalizedNames.get(ee),this.headers.get(ee)))}}class yt{encodeKey(he){return We(he)}encodeValue(he){return We(he)}decodeKey(he){return decodeURIComponent(he)}decodeValue(he){return decodeURIComponent(he)}}const Tt=/%(\d[a-f0-9])/gi,sn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function We(se){return encodeURIComponent(se).replace(Tt,(he,ee)=>sn[ee]??he)}function Le(se){return`${se}`}class Je{constructor(he={}){if(this.updates=null,this.cloneFrom=null,this.encoder=he.encoder||new yt,he.fromString){if(he.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Vt(se,he){const ee=new Map;return se.length>0&&se.replace(/^\?/,"").split("&").forEach(it=>{const zt=it.indexOf("="),[rn,fi]=-1==zt?[he.decodeKey(it),""]:[he.decodeKey(it.slice(0,zt)),he.decodeValue(it.slice(zt+1))],Kn=ee.get(rn)||[];Kn.push(fi),ee.set(rn,Kn)}),ee}(he.fromString,this.encoder)}else he.fromObject?(this.map=new Map,Object.keys(he.fromObject).forEach(ee=>{const Ae=he.fromObject[ee],it=Array.isArray(Ae)?Ae.map(Le):[Le(Ae)];this.map.set(ee,it)})):this.map=null}has(he){return this.init(),this.map.has(he)}get(he){this.init();const ee=this.map.get(he);return ee?ee[0]:null}getAll(he){return this.init(),this.map.get(he)||null}keys(){return this.init(),Array.from(this.map.keys())}append(he,ee){return this.clone({param:he,value:ee,op:"a"})}appendAll(he){const ee=[];return Object.keys(he).forEach(Ae=>{const it=he[Ae];Array.isArray(it)?it.forEach(zt=>{ee.push({param:Ae,value:zt,op:"a"})}):ee.push({param:Ae,value:it,op:"a"})}),this.clone(ee)}set(he,ee){return this.clone({param:he,value:ee,op:"s"})}delete(he,ee){return this.clone({param:he,value:ee,op:"d"})}toString(){return this.init(),this.keys().map(he=>{const ee=this.encoder.encodeKey(he);return this.map.get(he).map(Ae=>ee+"="+this.encoder.encodeValue(Ae)).join("&")}).filter(he=>""!==he).join("&")}clone(he){const ee=new Je({encoder:this.encoder});return ee.cloneFrom=this.cloneFrom||this,ee.updates=(this.updates||[]).concat(he),ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(he=>this.map.set(he,this.cloneFrom.map.get(he))),this.updates.forEach(he=>{switch(he.op){case"a":case"s":const ee=("a"===he.op?this.map.get(he.param):void 0)||[];ee.push(Le(he.value)),this.map.set(he.param,ee);break;case"d":if(void 0===he.value){this.map.delete(he.param);break}{let Ae=this.map.get(he.param)||[];const it=Ae.indexOf(Le(he.value));-1!==it&&Ae.splice(it,1),Ae.length>0?this.map.set(he.param,Ae):this.map.delete(he.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(he,ee){return this.map.set(he,ee),this}get(he){return this.map.has(he)||this.map.set(he,he.defaultValue()),this.map.get(he)}delete(he){return this.map.delete(he),this}has(he){return this.map.has(he)}keys(){return this.map.keys()}}function St(se){return typeof ArrayBuffer<"u"&&se instanceof ArrayBuffer}function ge(se){return typeof Blob<"u"&&se instanceof Blob}function Ht(se){return typeof FormData<"u"&&se instanceof FormData}class xn{constructor(he,ee,Ae,it){let zt;if(this.url=ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=he.toUpperCase(),function _t(se){switch(se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||it?(this.body=void 0!==Ae?Ae:null,zt=it):zt=Ae,zt&&(this.reportProgress=!!zt.reportProgress,this.withCredentials=!!zt.withCredentials,zt.responseType&&(this.responseType=zt.responseType),zt.headers&&(this.headers=zt.headers),zt.context&&(this.context=zt.context),zt.params&&(this.params=zt.params)),this.headers||(this.headers=new Ge),this.context||(this.context=new Ye),this.params){const rn=this.params.toString();if(0===rn.length)this.urlWithParams=ee;else{const fi=ee.indexOf("?");this.urlWithParams=ee+(-1===fi?"?":fi<ee.length-1?"&":"")+rn}}else this.params=new Je,this.urlWithParams=ee}serializeBody(){return null===this.body?null:St(this.body)||ge(this.body)||Ht(this.body)||function Jt(se){return typeof URLSearchParams<"u"&&se instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ht(this.body)?null:ge(this.body)?this.body.type||null:St(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(he={}){const ee=he.method||this.method,Ae=he.url||this.url,it=he.responseType||this.responseType,zt=void 0!==he.body?he.body:this.body,rn=void 0!==he.withCredentials?he.withCredentials:this.withCredentials,fi=void 0!==he.reportProgress?he.reportProgress:this.reportProgress;let Kn=he.headers||this.headers,ro=he.params||this.params;const Rs=he.context??this.context;return void 0!==he.setHeaders&&(Kn=Object.keys(he.setHeaders).reduce((as,Ni)=>as.set(Ni,he.setHeaders[Ni]),Kn)),he.setParams&&(ro=Object.keys(he.setParams).reduce((as,Ni)=>as.set(Ni,he.setParams[Ni]),ro)),new xn(ee,Ae,zt,{params:ro,headers:Kn,context:Rs,reportProgress:fi,responseType:it,withCredentials:rn})}}var It=function(se){return se[se.Sent=0]="Sent",se[se.UploadProgress=1]="UploadProgress",se[se.ResponseHeader=2]="ResponseHeader",se[se.DownloadProgress=3]="DownloadProgress",se[se.Response=4]="Response",se[se.User=5]="User",se}(It||{});class et{constructor(he,ee=200,Ae="OK"){this.headers=he.headers||new Ge,this.status=void 0!==he.status?he.status:ee,this.statusText=he.statusText||Ae,this.url=he.url||null,this.ok=this.status>=200&&this.status<300}}class Dt extends et{constructor(he={}){super(he),this.type=It.ResponseHeader}clone(he={}){return new Dt({headers:he.headers||this.headers,status:void 0!==he.status?he.status:this.status,statusText:he.statusText||this.statusText,url:he.url||this.url||void 0})}}class Pe extends et{constructor(he={}){super(he),this.type=It.Response,this.body=void 0!==he.body?he.body:null}clone(he={}){return new Pe({body:void 0!==he.body?he.body:this.body,headers:he.headers||this.headers,status:void 0!==he.status?he.status:this.status,statusText:he.statusText||this.statusText,url:he.url||this.url||void 0})}}class ce extends et{constructor(he){super(he,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${he.url||"(unknown url)"}`:`Http failure response for ${he.url||"(unknown url)"}: ${he.status} ${he.statusText}`,this.error=he.error||null}}function J(se,he){return{body:he,headers:se.headers,context:se.context,observe:se.observe,params:se.params,reportProgress:se.reportProgress,responseType:se.responseType,withCredentials:se.withCredentials}}let De=(()=>{class se{constructor(ee){this.handler=ee}request(ee,Ae,it={}){let zt;if(ee instanceof xn)zt=ee;else{let Kn,ro;Kn=it.headers instanceof Ge?it.headers:new Ge(it.headers),it.params&&(ro=it.params instanceof Je?it.params:new Je({fromObject:it.params})),zt=new xn(ee,Ae,void 0!==it.body?it.body:null,{headers:Kn,context:it.context,params:ro,reportProgress:it.reportProgress,responseType:it.responseType||"json",withCredentials:it.withCredentials})}const rn=(0,z.of)(zt).pipe((0,be.b)(Kn=>this.handler.handle(Kn)));if(ee instanceof xn||"events"===it.observe)return rn;const fi=rn.pipe((0,je.h)(Kn=>Kn instanceof Pe));switch(it.observe||"body"){case"body":switch(zt.responseType){case"arraybuffer":return fi.pipe((0,Fe.U)(Kn=>{if(null!==Kn.body&&!(Kn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kn.body}));case"blob":return fi.pipe((0,Fe.U)(Kn=>{if(null!==Kn.body&&!(Kn.body instanceof Blob))throw new Error("Response is not a Blob.");return Kn.body}));case"text":return fi.pipe((0,Fe.U)(Kn=>{if(null!==Kn.body&&"string"!=typeof Kn.body)throw new Error("Response is not a string.");return Kn.body}));default:return fi.pipe((0,Fe.U)(Kn=>Kn.body))}case"response":return fi;default:throw new Error(`Unreachable: unhandled observe type ${it.observe}}`)}}delete(ee,Ae={}){return this.request("DELETE",ee,Ae)}get(ee,Ae={}){return this.request("GET",ee,Ae)}head(ee,Ae={}){return this.request("HEAD",ee,Ae)}jsonp(ee,Ae){return this.request("JSONP",ee,{params:(new Je).append(Ae,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ee,Ae={}){return this.request("OPTIONS",ee,Ae)}patch(ee,Ae,it={}){return this.request("PATCH",ee,J(it,Ae))}post(ee,Ae,it={}){return this.request("POST",ee,J(it,Ae))}put(ee,Ae,it={}){return this.request("PUT",ee,J(it,Ae))}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.LFG(Me))};static#t=this.\u0275prov=y.Yz7({token:se,factory:se.\u0275fac})}return se})();function qt(se,he){return he(se)}function Sn(se,he){return(ee,Ae)=>he.intercept(ee,{handle:it=>se(it,Ae)})}const tr=new y.OlP(""),xt=new y.OlP(""),En=new y.OlP("");function On(){let se=null;return(he,ee)=>{null===se&&(se=((0,y.f3M)(tr,{optional:!0})??[]).reduceRight(Sn,qt));const Ae=(0,y.f3M)(y.HDt),it=Ae.add();return se(he,ee).pipe((0,He.x)(()=>Ae.remove(it)))}}let Ut=(()=>{class se extends Me{constructor(ee,Ae){super(),this.backend=ee,this.injector=Ae,this.chain=null,this.pendingTasks=(0,y.f3M)(y.HDt)}handle(ee){if(null===this.chain){const it=Array.from(new Set([...this.injector.get(xt),...this.injector.get(En,[])]));this.chain=it.reduceRight((zt,rn)=>function _n(se,he,ee){return(Ae,it)=>ee.runInContext(()=>he(Ae,zt=>se(zt,it)))}(zt,rn,this.injector),qt)}const Ae=this.pendingTasks.add();return this.chain(ee,it=>this.backend.handle(it)).pipe((0,He.x)(()=>this.pendingTasks.remove(Ae)))}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.LFG(gt),y.LFG(y.lqb))};static#t=this.\u0275prov=y.Yz7({token:se,factory:se.\u0275fac})}return se})();const xr=/^\)\]\}',?\n/;let Or=(()=>{class se{constructor(ee){this.xhrFactory=ee}handle(ee){if("JSONP"===ee.method)throw new y.vHH(-2800,!1);const Ae=this.xhrFactory;return(Ae.\u0275loadImpl?(0,Ce.D)(Ae.\u0275loadImpl()):(0,z.of)(null)).pipe((0,oe.w)(()=>new me.y(zt=>{const rn=Ae.build();if(rn.open(ee.method,ee.urlWithParams),ee.withCredentials&&(rn.withCredentials=!0),ee.headers.forEach((pi,Yi)=>rn.setRequestHeader(pi,Yi.join(","))),ee.headers.has("Accept")||rn.setRequestHeader("Accept","application/json, text/plain, */*"),!ee.headers.has("Content-Type")){const pi=ee.detectContentTypeHeader();null!==pi&&rn.setRequestHeader("Content-Type",pi)}if(ee.responseType){const pi=ee.responseType.toLowerCase();rn.responseType="json"!==pi?pi:"text"}const fi=ee.serializeBody();let Kn=null;const ro=()=>{if(null!==Kn)return Kn;const pi=rn.statusText||"OK",Yi=new Ge(rn.getAllResponseHeaders()),xs=function Rn(se){return"responseURL"in se&&se.responseURL?se.responseURL:/^X-Request-URL:/m.test(se.getAllResponseHeaders())?se.getResponseHeader("X-Request-URL"):null}(rn)||ee.url;return Kn=new Dt({headers:Yi,status:rn.status,statusText:pi,url:xs}),Kn},Rs=()=>{let{headers:pi,status:Yi,statusText:xs,url:$s}=ro(),io=null;204!==Yi&&(io=typeof rn.response>"u"?rn.responseText:rn.response),0===Yi&&(Yi=io?200:0);let lu=Yi>=200&&Yi<300;if("json"===ee.responseType&&"string"==typeof io){const Zo=io;io=io.replace(xr,"");try{io=""!==io?JSON.parse(io):null}catch(Hs){io=Zo,lu&&(lu=!1,io={error:Hs,text:io})}}lu?(zt.next(new Pe({body:io,headers:pi,status:Yi,statusText:xs,url:$s||void 0})),zt.complete()):zt.error(new ce({error:io,headers:pi,status:Yi,statusText:xs,url:$s||void 0}))},as=pi=>{const{url:Yi}=ro(),xs=new ce({error:pi,status:rn.status||0,statusText:rn.statusText||"Unknown Error",url:Yi||void 0});zt.error(xs)};let Ni=!1;const La=pi=>{Ni||(zt.next(ro()),Ni=!0);let Yi={type:It.DownloadProgress,loaded:pi.loaded};pi.lengthComputable&&(Yi.total=pi.total),"text"===ee.responseType&&rn.responseText&&(Yi.partialText=rn.responseText),zt.next(Yi)},Va=pi=>{let Yi={type:It.UploadProgress,loaded:pi.loaded};pi.lengthComputable&&(Yi.total=pi.total),zt.next(Yi)};return rn.addEventListener("load",Rs),rn.addEventListener("error",as),rn.addEventListener("timeout",as),rn.addEventListener("abort",as),ee.reportProgress&&(rn.addEventListener("progress",La),null!==fi&&rn.upload&&rn.upload.addEventListener("progress",Va)),rn.send(fi),zt.next({type:It.Sent}),()=>{rn.removeEventListener("error",as),rn.removeEventListener("abort",as),rn.removeEventListener("load",Rs),rn.removeEventListener("timeout",as),ee.reportProgress&&(rn.removeEventListener("progress",La),null!==fi&&rn.upload&&rn.upload.removeEventListener("progress",Va)),rn.readyState!==rn.DONE&&rn.abort()}})))}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.LFG(ie.JF))};static#t=this.\u0275prov=y.Yz7({token:se,factory:se.\u0275fac})}return se})();const Ci=new y.OlP("XSRF_ENABLED"),Nr=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nr=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dn{}let di=(()=>{class se{constructor(ee,Ae,it){this.doc=ee,this.platform=Ae,this.cookieName=it,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ee=this.doc.cookie||"";return ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ie.Mx)(ee,this.cookieName),this.lastCookieString=ee),this.lastToken}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.LFG(ie.K0),y.LFG(y.Lbi),y.LFG(Nr))};static#t=this.\u0275prov=y.Yz7({token:se,factory:se.\u0275fac})}return se})();function Be(se,he){const ee=se.url.toLowerCase();if(!(0,y.f3M)(Ci)||"GET"===se.method||"HEAD"===se.method||ee.startsWith("http://")||ee.startsWith("https://"))return he(se);const Ae=(0,y.f3M)(Dn).getToken(),it=(0,y.f3M)(nr);return null!=Ae&&!se.headers.has(it)&&(se=se.clone({headers:se.headers.set(it,Ae)})),he(se)}var X=function(se){return se[se.Interceptors=0]="Interceptors",se[se.LegacyInterceptors=1]="LegacyInterceptors",se[se.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",se[se.NoXsrfProtection=3]="NoXsrfProtection",se[se.JsonpSupport=4]="JsonpSupport",se[se.RequestsMadeViaParent=5]="RequestsMadeViaParent",se[se.Fetch=6]="Fetch",se}(X||{});function ht(...se){const he=[De,Or,Ut,{provide:Me,useExisting:Ut},{provide:gt,useExisting:Or},{provide:xt,useValue:Be,multi:!0},{provide:Ci,useValue:!0},{provide:Dn,useClass:di}];for(const ee of se)he.push(...ee.\u0275providers);return(0,y.MR2)(he)}const Tn=new y.OlP("LEGACY_INTERCEPTOR_FN");function gr(){return function ye(se,he){return{\u0275kind:se,\u0275providers:he}}(X.LegacyInterceptors,[{provide:Tn,useFactory:On},{provide:xt,useExisting:Tn,multi:!0}])}let ae=(()=>{class se{static#e=this.\u0275fac=function(Ae){return new(Ae||se)};static#t=this.\u0275mod=y.oAB({type:se});static#n=this.\u0275inj=y.cJS({providers:[ht(gr())]})}return se})();var Qn=k(518),ki=k(9730),Di=k(3768),Gr=k(5377),Xi=k(6306);function $i(se,he){if(1&se&&(y.TgZ(0,"div",4),y._UZ(1,"img",5),y.TgZ(2,"h3"),y._uU(3),y.qZA(),y.TgZ(4,"h4"),y._uU(5),y.qZA(),y.TgZ(6,"p"),y._uU(7),y.qZA()()),2&se){const ee=he.$implicit;y.xp6(1),y.s9C("alt",ee.name),y.Q6J("src",ee.photoURL,y.LSH),y.xp6(2),y.Oqu(ee.name),y.xp6(2),y.Oqu(ee.role),y.xp6(2),y.Oqu(ee.bio)}}function Fr(se,he){if(1&se&&(y.TgZ(0,"div",1)(1,"h2"),y._uU(2,"Meet the Team"),y.qZA(),y.TgZ(3,"div",2),y.YNc(4,$i,8,5,"div",3),y.ALo(5,"async"),y.qZA()()),2&se){const ee=y.oxw();y.xp6(4),y.Q6J("ngForOf",y.lcZ(5,1,ee.employees$))}}let Wn=(()=>{class se{constructor(ee,Ae){this.route=ee,this.employeeService=Ae}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Fe.U)(ee=>ee.get("id")||""),(0,oe.w)(ee=>this.employeeService.getEmployeesByBusinessId(ee)),(0,Xi.K)(ee=>(console.error("Error fetching employees:",ee),(0,z.of)([]))))}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.Y36(Qn.gz),y.Y36(Di._))};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(Ae,it){1&Ae&&y.YNc(0,Fr,6,3,"div",0),2&Ae&&y.Q6J("ngIf",it.employees$)},dependencies:[ie.sg,ie.O5,ie.Ov],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return se})();function at(se,he){if(1&se){const ee=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"About Us"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6)(11,"h2",7),y._uU(12,"Our Story"),y.qZA()(),y._UZ(13,"div",8),y.qZA(),y.TgZ(14,"section",9)(15,"div",10),y._UZ(16,"img",11),y.TgZ(17,"div",6)(18,"h2",7),y._uU(19,"Our Mission"),y.qZA()(),y._UZ(20,"div",8),y.qZA(),y.TgZ(21,"div",12),y._UZ(22,"img",11),y.TgZ(23,"div",6)(24,"h2",7),y._uU(25,"Our Vision"),y.qZA()(),y._UZ(26,"div",8),y.qZA()(),y.TgZ(27,"section",13),y._UZ(28,"app-meet-the-team",14),y.qZA()(),y.TgZ(29,"div",15)(30,"div",16)(31,"h2"),y._uU(32,"Come Meet Our Family"),y.qZA(),y.TgZ(33,"p"),y._uU(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),y.qZA(),y.TgZ(35,"button",17),y.NdJ("click",function(){y.CHM(ee);const it=y.oxw();return y.KtG(it.navigateToContact())}),y._uU(36,"Schedule a Visit"),y.qZA()()()()}if(2&se){const ee=y.oxw();y.xp6(13),y.Q6J("innerHTML",ee.business.businessStory,y.oJD),y.xp6(3),y.Q6J("src",ee.business.lifestyleImages,y.LSH),y.xp6(4),y.Q6J("innerHTML",ee.business.mission,y.oJD),y.xp6(2),y.Q6J("src",ee.business.facilityImages,y.LSH),y.xp6(4),y.Q6J("innerHTML",ee.business.vision,y.oJD),y.xp6(2),y.Q6J("businessId",ee.business.id)}}let qe=(()=>{class se{constructor(ee,Ae,it,zt){this.webContent=ee,this.route=Ae,this.router=it,this.metaService=zt}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(ee=>{this.businessId=ee.id}),this.metaService.getMetaData(this.businessId).subscribe(ee=>{this.metaService.updateMetaTags(ee)}),this.webContent.getBusinessData(this.businessId).subscribe(ee=>{ee&&(this.business=ee)})}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.Y36(Di._),y.Y36(Qn.gz),y.Y36(Qn.F0),y.Y36(Gr.R))};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],[3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(Ae,it){1&Ae&&y.YNc(0,at,37,6,"div",0),2&Ae&&y.Q6J("ngIf",it.business)},dependencies:[ie.O5,Wn],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return se})();function Ct(se,he){if(1&se&&(y.TgZ(0,"li")(1,"h3"),y._uU(2),y.qZA()()),2&se){const ee=he.$implicit;y.xp6(2),y.Oqu(ee.name)}}function en(se,he){if(1&se&&(y.TgZ(0,"li")(1,"h3"),y._uU(2),y.qZA()()),2&se){const ee=he.$implicit;y.xp6(2),y.Oqu(ee.name)}}function bn(se,he){if(1&se){const ee=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Our Services"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Providing exceptional care tailored to your needs"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5),y._UZ(10,"img",6),y.TgZ(11,"h2"),y._uU(12,"Our Comprehensive Services"),y.qZA(),y.TgZ(13,"ul"),y.YNc(14,Ct,3,1,"li",7),y.qZA()(),y.TgZ(15,"section",5),y._UZ(16,"img",6),y.TgZ(17,"h2"),y._uU(18,"Our Benefits"),y.qZA(),y.TgZ(19,"ul"),y.YNc(20,en,3,1,"li",7),y.qZA()(),y.TgZ(21,"section",8)(22,"h2"),y._uU(23,"Special Programs"),y.qZA(),y.TgZ(24,"h3"),y._uU(25),y.qZA()(),y.TgZ(26,"section",9)(27,"div",10),y._UZ(28,"img",11),y.TgZ(29,"div",12)(30,"h2",13),y._uU(31,"Tours"),y.qZA()(),y._UZ(32,"div",14),y.qZA(),y.TgZ(33,"div",15),y._UZ(34,"img",16),y.TgZ(35,"div",12)(36,"h2",13),y._uU(37,"Free Consulting"),y.qZA()(),y._UZ(38,"div",14),y.qZA()()(),y.TgZ(39,"div",17)(40,"div",18)(41,"h2"),y._uU(42,"Ready to Experience Exceptional Care?"),y.qZA(),y.TgZ(43,"p"),y._uU(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),y.qZA(),y.TgZ(45,"button",19),y.NdJ("click",function(){y.CHM(ee);const it=y.oxw();return y.KtG(it.navigateToContact())}),y._uU(46,"Book a Consultation"),y.qZA()()()()}if(2&se){const ee=y.oxw();y.xp6(14),y.Q6J("ngForOf",ee.business.services),y.xp6(6),y.Q6J("ngForOf",ee.business.benefits),y.xp6(5),y.Oqu(ee.business.specialPrograms),y.xp6(7),y.Q6J("innerHTML",ee.business.tours,y.oJD),y.xp6(6),y.Q6J("innerHTML",ee.business.freeConsulting,y.oJD)}}let Pn=(()=>{class se{constructor(ee,Ae,it,zt){this.webContent=ee,this.route=Ae,this.router=it,this.metaService=zt}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(ee=>{let Ae=ee.id;this.metaService.getMetaData(Ae).subscribe(it=>{this.metaService.updateMetaTags(it)}),this.webContent.getBusinessData(Ae).subscribe(it=>{it&&(this.business=it)})})}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.Y36(Di._),y.Y36(Qn.gz),y.Y36(Qn.F0),y.Y36(Gr.R))};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(Ae,it){1&Ae&&y.YNc(0,bn,47,5,"div",0),2&Ae&&y.Q6J("ngIf",it.business)},dependencies:[ie.sg,ie.O5],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return se})();var dn=k(95);function Er(se,he){if(1&se&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Email"),y.qZA(),y.TgZ(3,"p")(4,"a",30),y._uU(5),y.qZA()()()),2&se){const ee=y.oxw(2);y.xp6(4),y.MGl("href","mailto:",ee.business.email,"",y.LSH),y.xp6(1),y.Oqu(ee.business.email)}}function fr(se,he){if(1&se&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Fax"),y.qZA(),y.TgZ(3,"p"),y._uU(4),y.qZA()()),2&se){const ee=y.oxw(2);y.xp6(4),y.Oqu(ee.business.fax)}}function ci(se,he){if(1&se&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Social Media"),y.qZA(),y.TgZ(3,"p")(4,"a",30),y._uU(5),y.qZA()()()),2&se){const ee=y.oxw(2);y.xp6(4),y.s9C("href",ee.business.socialMedia,y.LSH),y.xp6(1),y.Oqu(ee.business.socialMedia)}}function ho(se,he){if(1&se){const ee=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Contact Us"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"We're here to answer any questions you have"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6),y._uU(11,"Get in Touch"),y.qZA(),y.TgZ(12,"div",7)(13,"div",8)(14,"h3"),y._uU(15,"Address"),y.qZA(),y.TgZ(16,"p"),y._uU(17),y.qZA()(),y.TgZ(18,"div",8)(19,"h3"),y._uU(20,"Phone"),y.qZA(),y.TgZ(21,"p"),y._uU(22),y.qZA()(),y.YNc(23,Er,6,2,"div",9),y.YNc(24,fr,5,1,"div",9),y.YNc(25,ci,6,2,"div",9),y.TgZ(26,"div")(27,"h3"),y._uU(28,"Visitation Hours"),y.qZA(),y.TgZ(29,"ul")(30,"li")(31,"strong"),y._uU(32,"Monday:"),y.qZA(),y._uU(33," 7.30am\u20135pm"),y.qZA(),y.TgZ(34,"li")(35,"strong"),y._uU(36,"Tuesday:"),y.qZA(),y._uU(37," 7.30am\u20135pm"),y.qZA(),y.TgZ(38,"li")(39,"strong"),y._uU(40,"Wednesday:"),y.qZA(),y._uU(41," 7.30am\u20135pm"),y.qZA(),y.TgZ(42,"li")(43,"strong"),y._uU(44,"Thursday:"),y.qZA(),y._uU(45," 7.30am\u20135pm"),y.qZA(),y.TgZ(46,"li")(47,"strong"),y._uU(48,"Friday:"),y.qZA(),y._uU(49," 7.30am\u20135pm"),y.qZA(),y.TgZ(50,"li")(51,"strong"),y._uU(52,"Saturday:"),y.qZA(),y._uU(53,"Closed"),y.qZA(),y.TgZ(54,"li")(55,"strong"),y._uU(56,"Sunday:"),y.qZA(),y._uU(57,"Closed"),y.qZA()()()()(),y.TgZ(58,"section",10)(59,"div",6),y._uU(60,"Send Us a Message"),y.qZA(),y.TgZ(61,"div",11)(62,"div",12)(63,"div",13)(64,"h2",14),y._uU(65,"How can we help?"),y.qZA(),y.TgZ(66,"p",15),y._uU(67,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),y.qZA()()(),y.TgZ(68,"div",16)(69,"form",17,18),y.NdJ("ngSubmit",function(){y.CHM(ee);const it=y.oxw();return y.KtG(it.onSubmit())}),y.TgZ(71,"div",19)(72,"label",20),y._uU(73,"Name"),y.qZA(),y.TgZ(74,"input",21),y.NdJ("ngModelChange",function(it){y.CHM(ee);const zt=y.oxw();return y.KtG(zt.formData.name=it)}),y.qZA()(),y.TgZ(75,"div",19)(76,"label",22),y._uU(77,"Email"),y.qZA(),y.TgZ(78,"input",23),y.NdJ("ngModelChange",function(it){y.CHM(ee);const zt=y.oxw();return y.KtG(zt.formData.email=it)}),y.qZA()(),y.TgZ(79,"div",19)(80,"label",24),y._uU(81,"Message"),y.qZA(),y.TgZ(82,"textarea",25),y.NdJ("ngModelChange",function(it){y.CHM(ee);const zt=y.oxw();return y.KtG(zt.formData.message=it)}),y.qZA()(),y.TgZ(83,"button",26),y._uU(84,"Submit"),y.qZA()()()()(),y.TgZ(85,"section",27)(86,"div",6),y._uU(87,"Find Us Here"),y.qZA(),y.TgZ(88,"div",28),y._UZ(89,"iframe",29),y.qZA()()()()}if(2&se){const ee=y.MAs(70),Ae=y.oxw();y.xp6(17),y.Oqu(Ae.business.address),y.xp6(5),y.Oqu(Ae.business.phone),y.xp6(1),y.Q6J("ngIf",Ae.business.email),y.xp6(1),y.Q6J("ngIf",Ae.business.fax),y.xp6(1),y.Q6J("ngIf",Ae.business.socialMedia),y.xp6(49),y.Q6J("ngModel",Ae.formData.name),y.xp6(4),y.Q6J("ngModel",Ae.formData.email),y.xp6(4),y.Q6J("ngModel",Ae.formData.message),y.xp6(1),y.Q6J("disabled",!ee.form.valid)}}let lr=(()=>{class se{constructor(ee,Ae,it,zt){this.webContent=ee,this.route=Ae,this.http=it,this.metaService=zt,this.formData={name:"",email:"",message:""}}ngOnInit(){this.route.queryParams.subscribe(ee=>{let Ae=ee.id;this.metaService.getMetaData(Ae).subscribe(it=>{this.metaService.updateMetaTags(it)}),this.webContent.getBusinessData(Ae).subscribe(it=>{it&&(this.business=it)})})}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(ee=>console.log("Email sent successfully",ee),ee=>console.error("Error sending email",ee))}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.Y36(Di._),y.Y36(Qn.gz),y.Y36(De),y.Y36(Gr.R))};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[1,"map-section"],[1,"map-container"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7460.530516506536!2d-122.18471088983462!3d47.54600478154801!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x549069117965856f%3A0xa36b023f16c07440!2s11805%20SE%2064th%20St%2C%20Bellevue%2C%20WA%2098006!5e0!3m2!1sen!2sus!4v1719851446084!5m2!1sen!2sus","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[3,"href"]],template:function(Ae,it){1&Ae&&y.YNc(0,ho,90,9,"div",0),2&Ae&&y.Q6J("ngIf",it.business)},dependencies:[ie.O5,dn._Y,dn.Fj,dn.JJ,dn.JL,dn.Q7,dn.On,dn.F],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(/assets/splash2.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:#4caf50;color:var(--primary-color);padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#45a049}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}"]})}return se})(),Lo=(()=>{class se{constructor(){this.closeModal=new y.vpe}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(Ae){return new(Ae||se)};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Ae,it){1&Ae&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return it.close()}),y.TgZ(1,"div",1),y.NdJ("click",function(rn){return rn.stopPropagation()}),y.TgZ(2,"button",2),y.NdJ("click",function(){return it.close()}),y._uU(3,"Close"),y.qZA(),y._UZ(4,"img",3),y.qZA()()),2&Ae&&(y.xp6(4),y.Q6J("src",it.imageUrl,y.LSH))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return se})();function oi(se,he){if(1&se){const ee=y.EpF();y.TgZ(0,"div",11),y.NdJ("click",function(){const zt=y.CHM(ee).$implicit,rn=y.oxw(2);return y.KtG(rn.onImageClick(zt.url))}),y._UZ(1,"img",12),y.qZA()}if(2&se){const ee=he.$implicit;y.xp6(1),y.Q6J("src",ee.url,y.LSH)}}function Vo(se,he){if(1&se){const ee=y.EpF();y.TgZ(0,"app-image-viewer-modal",13),y.NdJ("closeModal",function(){y.CHM(ee);const it=y.oxw(2);return y.KtG(it.onCloseModal())}),y.qZA()}if(2&se){const ee=y.oxw(2);y.Q6J("imageUrl",ee.selectedImageUrl)}}function Wr(se,he){if(1&se&&(y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Our Home"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Feel at Home: A Peek into Our Caring Environment"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6),y._uU(11,"Welcome to Our Home"),y.qZA(),y.TgZ(12,"p"),y._uU(13),y.qZA()(),y.TgZ(14,"section",7)(15,"div",6),y._uU(16,"Explore Our Gallery"),y.qZA(),y.TgZ(17,"div",8),y.YNc(18,oi,2,1,"div",9),y.ALo(19,"async"),y.qZA()()(),y.YNc(20,Vo,1,1,"app-image-viewer-modal",10),y.qZA()),2&se){const ee=y.oxw();y.xp6(13),y.hij(" ",ee.business.photoGalleryText," "),y.xp6(5),y.Q6J("ngForOf",y.lcZ(19,3,ee.images$)),y.xp6(2),y.Q6J("ngIf",ee.selectedImageUrl)}}let vs=(()=>{class se{constructor(ee,Ae,it){this.route=ee,this.webContent=Ae,this.metaService=it,this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(ee=>{this.businessId=ee.id}),this.loadImages(),this.metaService.getMetaData(this.businessId).subscribe(ee=>{this.metaService.updateMetaTags(ee)}),this.webContent.getBusinessData(this.businessId).subscribe(ee=>{ee&&(this.business=ee)})}loadImages(){this.images$=this.webContent.getBusinessGalleryImagesById(this.businessId)}onImageClick(ee){this.selectedImageUrl=ee}onCloseModal(){this.selectedImageUrl=null}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.Y36(Qn.gz),y.Y36(Di._),y.Y36(Gr.R))};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(Ae,it){1&Ae&&y.YNc(0,Wr,21,5,"div",0),2&Ae&&y.Q6J("ngIf",it.business)},dependencies:[ie.sg,ie.O5,Lo,ie.Ov],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}"]})}return se})();var eo=k(2333);function si(se,he){if(1&se&&(y.TgZ(0,"div",11),y._uU(1),y.qZA()),2&se){const ee=y.oxw();y.xp6(1),y.Oqu(ee.errorMessage)}}let mi=(()=>{class se{constructor(ee,Ae){this.authService=ee,this.router=Ae,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(ee=>{this.errorMessage=ee.message})}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.Y36(eo.e),y.Y36(Qn.F0))};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"login-button"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(Ae,it){1&Ae&&(y.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),y._uU(3,"Login"),y.qZA(),y.TgZ(4,"form",3),y.NdJ("submit",function(){return it.login()}),y.TgZ(5,"div",4)(6,"label",5),y._uU(7,"Email"),y.qZA(),y.TgZ(8,"input",6),y.NdJ("ngModelChange",function(rn){return it.email=rn}),y.qZA()(),y.TgZ(9,"div",4)(10,"label",7),y._uU(11,"Password"),y.qZA(),y.TgZ(12,"input",8),y.NdJ("ngModelChange",function(rn){return it.password=rn}),y.qZA()(),y.TgZ(13,"button",9),y._uU(14,"Login"),y.qZA(),y.YNc(15,si,2,1,"div",10),y.qZA()()()),2&Ae&&(y.xp6(8),y.Q6J("ngModel",it.email),y.xp6(4),y.Q6J("ngModel",it.password),y.xp6(3),y.Q6J("ngIf",it.errorMessage))},dependencies:[ie.O5,dn._Y,dn.Fj,dn.JJ,dn.JL,dn.Q7,dn.On,dn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return se})();const rr=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ki.O},{path:"about-us",component:qe},{path:"services",component:Pn},{path:"contact-us",component:lr},{path:"gallery",component:vs},{path:"login",component:mi},{path:"login",component:mi},{path:"admin",loadChildren:()=>k.e(14).then(k.bind(k,9014)).then(se=>se.AdminModule)},{path:":id",component:ki.O},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let So=(()=>{class se{static#e=this.\u0275fac=function(Ae){return new(Ae||se)};static#t=this.\u0275mod=y.oAB({type:se});static#n=this.\u0275inj=y.cJS({imports:[Qn.Bz.forRoot(rr),Qn.Bz]})}return se})();function mr(se,he){if(1&se&&y._UZ(0,"img",14),2&se){const ee=y.oxw();y.Q6J("src",null==ee.business?null:ee.business.logoImage,y.LSH)}}const _r=function(se){return{"open-bar1":se}},vo=function(se){return{"open-bar2":se}},Ai=function(se){return{"open-bar3":se}},_i=function(se){return{active:se}};let Fi=(()=>{class se{constructor(ee,Ae,it){this.route=ee,this.router=Ae,this.content=it,this.businessId="",this.menuActive=!1,this.menuOpen=!1}ngOnInit(){this.route.queryParams.subscribe(ee=>{this.businessId=ee.id||"",this.content.getBusinessData(this.businessId).subscribe(Ae=>{this.business=Ae})})}navigateTo(ee){const Ae=this.businessId?{id:this.businessId}:{};console.log("This Business id form query string",this.businessId),this.closeMenu(),this.router.navigate([`/${ee}`],{queryParams:Ae}).then(it=>{it||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.Y36(Qn.gz),y.Y36(Qn.F0),y.Y36(Di._))};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-navigation"]],decls:26,vars:13,consts:[[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"number"],[1,"text"],[1,"top"],[1,"bottom"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(Ae,it){1&Ae&&(y.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),y.YNc(3,mr,1,1,"img",3),y.TgZ(4,"span",4),y._uU(5,"#1"),y.qZA(),y.TgZ(6,"div",5)(7,"div",6),y._uU(8,"HELPING HAND"),y.qZA(),y.TgZ(9,"div",7),y._uU(10,"ADULT FAMILY HOME"),y.qZA()()(),y.TgZ(11,"div",8),y.NdJ("click",function(){return it.toggleMenu()}),y._UZ(12,"div",9)(13,"div",10)(14,"div",11),y.qZA(),y.TgZ(15,"ul",12)(16,"li",13),y.NdJ("click",function(){return it.navigateTo("home")}),y._uU(17,"Home"),y.qZA(),y.TgZ(18,"li",13),y.NdJ("click",function(){return it.navigateTo("services")}),y._uU(19,"Services"),y.qZA(),y.TgZ(20,"li",13),y.NdJ("click",function(){return it.navigateTo("about-us")}),y._uU(21,"About Us"),y.qZA(),y.TgZ(22,"li",13),y.NdJ("click",function(){return it.navigateTo("gallery")}),y._uU(23,"gallery"),y.qZA(),y.TgZ(24,"li",13),y.NdJ("click",function(){return it.navigateTo("contact-us")}),y._uU(25,"Contact"),y.qZA()()()()),2&Ae&&(y.xp6(3),y.Q6J("ngIf",null==it.business?null:it.business.logoImage),y.xp6(9),y.Q6J("ngClass",y.VKq(5,_r,it.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(7,vo,it.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(9,Ai,it.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(11,_i,it.menuOpen)))},dependencies:[ie.mk,ie.O5],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return se})();function ds(se,he){if(1&se&&(y.TgZ(0,"p")(1,"span"),y._uU(2),y.qZA(),y._uU(3," | "),y.TgZ(4,"span"),y._uU(5,"Email: "),y.TgZ(6,"a",4),y._uU(7),y.qZA()()()),2&se){const ee=he.ngIf;y.xp6(2),y.hij("Phone: ",ee.phone,""),y.xp6(4),y.MGl("href","mailto:",ee.email,"",y.LSH),y.xp6(1),y.hij(" ",ee.email,"")}}let li=(()=>{class se{constructor(ee,Ae){this.route=ee,this.webContentService=Ae}ngOnInit(){this.route.queryParams.subscribe(ee=>{const Ae=ee.id||this.webContentService.getDefaultBusinessData();console.log("footer param",Ae),this.business$=this.webContentService.getDefaultBusinessData(),console.log(this.business$)})}static#e=this.\u0275fac=function(Ae){return new(Ae||se)(y.Y36(Qn.gz),y.Y36(Di._))};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-footer"]],decls:8,vars:3,consts:[[1,"footer"],[1,"footer-content"],["href","https://www.monkifoto.com","target","_blank"],[4,"ngIf"],[3,"href"]],template:function(Ae,it){1&Ae&&(y.TgZ(0,"footer",0)(1,"div",1)(2,"p"),y._uU(3,"\xa9 2024 #1 Helping Hand AFH. All Rights Reserved. Design by "),y.TgZ(4,"a",2),y._uU(5,"Monkifoto"),y.qZA()(),y.YNc(6,ds,8,3,"p",3),y.ALo(7,"async"),y.qZA()()),2&Ae&&(y.xp6(6),y.Q6J("ngIf",y.lcZ(7,1,it.business$)))},dependencies:[ie.O5,ie.Ov],styles:[".footer[_ngcontent-%COMP%]{width:100vw;position:fixed;bottom:0;background-color:var(--dark-background-color);color:var(--primary-color);text-align:center;padding:10px 0;overflow:hidden;box-sizing:border-box}.footer-content[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0 20px;box-sizing:border-box}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 10px}a[_ngcontent-%COMP%]{color:var(--primary-color)}@media (max-width: 768px){.footer[_ngcontent-%COMP%]{padding:8px 0}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}}@media (max-width: 480px){.footer[_ngcontent-%COMP%]{padding:6px 0}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 3px}}"]})}return se})(),Fs=(()=>{class se{constructor(){this.title="adult-family-home"}static#e=this.\u0275fac=function(Ae){return new(Ae||se)};static#t=this.\u0275cmp=y.Xpm({type:se,selectors:[["app-root"]],decls:3,vars:0,template:function(Ae,it){1&Ae&&y._UZ(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[Qn.lC,Fi,li]})}return se})();const Hi_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var yr=k(3182),Ir=k(1920);class zi{constructor(he){return he}}class Eo{constructor(){return(0,yr.C6)()}}const Nn=new y.OlP("angularfire2._apps"),$r={provide:zi,useFactory:function zo(se){return se&&1===se.length?se[0]:new zi((0,yr.Mq)())},deps:[[new y.FiY,Nn]]},Yr={provide:Eo,deps:[[new y.FiY,Nn]]};function Si(se){return(he,ee)=>{const Ae=he.runOutsideAngular(()=>se(ee));return new zi(Ae)}}let Cr=(()=>{class se{constructor(ee){(0,yr.KN)("angularfire",Ir.q4.full,"core"),(0,yr.KN)("angularfire",Ir.q4.full,"app"),(0,yr.KN)("angular",y.q4F.full,ee.toString())}static \u0275fac=function(Ae){return new(Ae||se)(y.LFG(y.Lbi))};static \u0275mod=y.oAB({type:se});static \u0275inj=y.cJS({providers:[$r,Yr]})}return se})();function Io(se,...he){return{ngModule:Cr,providers:[{provide:Nn,useFactory:Si(se),multi:!0,deps:[y.R0b,y.zs3,Ir.HU,...he]}]}}const Li=(0,Ir.u3)(yr.ZF,!0);k(35),k(534),k(9058),k(7879),k(4537);class qi{constructor(){return(0,Ir.vb)("auth")}}var Us=k(5588);class xo{constructor(he){return he}}const zn="firestore",Ts=new y.OlP("angularfire2.firestore-instances");function bs(se){return(he,ee)=>{const Ae=he.runOutsideAngular(()=>se(ee));return new xo(Ae)}}const Uo={provide:class Ws{constructor(){return(0,Ir.vb)(zn)}},deps:[[new y.FiY,Ts]]},ns={provide:xo,useFactory:function qs(se,he){const ee=(0,Ir.JM)(zn,se,he);return ee&&new xo(ee)},deps:[[new y.FiY,Ts],zi]};let ca=(()=>{class se{constructor(){(0,yr.KN)("angularfire",Ir.q4.full,"fst")}static \u0275fac=function(Ae){return new(Ae||se)};static \u0275mod=y.oAB({type:se});static \u0275inj=y.cJS({providers:[ns,Uo]})}return se})();function la(se,...he){return{ngModule:ca,providers:[{provide:Ts,useFactory:bs(se),multi:!0,deps:[y.R0b,y.zs3,Ir.HU,Eo,[new y.FiY,qi],[new y.FiY,Ir.Rf],...he]}]}}const Ra=(0,Ir.u3)(Us.ad,!0);var co=k(7217),jo=k(7104),ka=k(778),os=k(7213),Oo=k(8153);class cu{constructor(he){return he}}const qo="storage",Fa=new y.OlP("angularfire2.storage-instances");function ss(se){return(he,ee)=>{const Ae=he.runOutsideAngular(()=>se(ee));return new cu(Ae)}}const C={provide:class Js{constructor(){return(0,Ir.vb)(qo)}},deps:[[new y.FiY,Fa]]},A={provide:cu,useFactory:function ma(se,he){const ee=(0,Ir.JM)(qo,se,he);return ee&&new cu(ee)},deps:[[new y.FiY,Fa],zi]};let E=(()=>{class se{constructor(){(0,yr.KN)("angularfire",Ir.q4.full,"gcs")}static \u0275fac=function(Ae){return new(Ae||se)};static \u0275mod=y.oAB({type:se});static \u0275inj=y.cJS({providers:[A,C]})}return se})();function S(se,...he){return{ngModule:E,providers:[{provide:Fa,useFactory:ss(se),multi:!0,deps:[y.R0b,y.zs3,Ir.HU,Eo,[new y.FiY,qi],[new y.FiY,Ir.Rf],...he]}]}}const ur=(0,Ir.u3)(Oo.cF,!0);let Xs=(()=>{class se{static#e=this.\u0275fac=function(Ae){return new(Ae||se)};static#t=this.\u0275mod=y.oAB({type:se,bootstrap:[Fs]});static#n=this.\u0275inj=y.cJS({imports:[l.b2,Qn.Bz,So,jo.yb,ka.TE,os.ww,co.hO.initializeApp(Hi_firebase),Io(()=>Li(Hi_firebase)),la(()=>Ra()),S(()=>ur()),dn.UX,dn.u5,ae]})}return se})();l.q6().bootstrapModule(Xs).catch(se=>console.error(se))},5619:(on,Xe,k)=>{k.d(Xe,{X:()=>y});var l=k(8645);class y extends l.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const me=super._subscribe(Ce);return!me.closed&&Ce.next(this._value),me}getValue(){const{hasError:Ce,thrownError:me,_value:be}=this;if(Ce)throw me;return this._throwIfClosed(),be}next(Ce){super.next(this._value=Ce)}}},5592:(on,Xe,k)=>{k.d(Xe,{y:()=>Fe});var l=k(305),y=k(7394),z=k(4850),Ce=k(8407),me=k(2653),be=k(4674),je=k(1441);let Fe=(()=>{class Me{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const Mt=new Me;return Mt.source=this,Mt.operator=Ge,Mt}subscribe(Ge,Mt,yt){const Vt=function ie(Me){return Me&&Me instanceof l.Lv||function oe(Me){return Me&&(0,be.m)(Me.next)&&(0,be.m)(Me.error)&&(0,be.m)(Me.complete)}(Me)&&(0,y.Nn)(Me)}(Ge)?Ge:new l.Hp(Ge,Mt,yt);return(0,je.x)(()=>{const{operator:Tt,source:sn}=this;Vt.add(Tt?Tt.call(Vt,sn):sn?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(Mt){Ge.error(Mt)}}forEach(Ge,Mt){return new(Mt=He(Mt))((yt,Vt)=>{const Tt=new l.Hp({next:sn=>{try{Ge(sn)}catch(We){Vt(We),Tt.unsubscribe()}},error:Vt,complete:yt});this.subscribe(Tt)})}_subscribe(Ge){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(Ge)}[z.L](){return this}pipe(...Ge){return(0,Ce.U)(Ge)(this)}toPromise(Ge){return new(Ge=He(Ge))((Mt,yt)=>{let Vt;this.subscribe(Tt=>Vt=Tt,Tt=>yt(Tt),()=>Mt(Vt))})}}return Me.create=gt=>new Me(gt),Me})();function He(Me){var gt;return null!==(gt=Me??me.config.Promise)&&void 0!==gt?gt:Promise}},8645:(on,Xe,k)=>{k.d(Xe,{x:()=>je});var l=k(5592),y=k(7394);const Ce=(0,k(2306).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(9039),be=k(1441);let je=(()=>{class He extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const Me=new Fe(this,this);return Me.operator=ie,Me}_throwIfClosed(){if(this.closed)throw new Ce}next(ie){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ie)}})}error(ie){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ie)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:Me,isStopped:gt,observers:Ge}=this;return Me||gt?y.Lc:(this.currentObservers=null,Ge.push(ie),new y.w0(()=>{this.currentObservers=null,(0,me.P)(Ge,ie)}))}_checkFinalizedStatuses(ie){const{hasError:Me,thrownError:gt,isStopped:Ge}=this;Me?ie.error(gt):Ge&&ie.complete()}asObservable(){const ie=new l.y;return ie.source=this,ie}}return He.create=(oe,ie)=>new Fe(oe,ie),He})();class Fe extends je{constructor(oe,ie){super(),this.destination=oe,this.source=ie}next(oe){var ie,Me;null===(Me=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===Me||Me.call(ie,oe)}error(oe){var ie,Me;null===(Me=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===Me||Me.call(ie,oe)}complete(){var oe,ie;null===(ie=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===ie||ie.call(oe)}_subscribe(oe){var ie,Me;return null!==(Me=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(oe))&&void 0!==Me?Me:y.Lc}}},305:(on,Xe,k)=>{k.d(Xe,{Hp:()=>yt,Lv:()=>Me});var l=k(4674),y=k(7394),z=k(2653),Ce=k(3894),me=k(2420);const be=He("C",void 0,void 0);function He(Le,Je,Ke){return{kind:Le,value:Je,error:Ke}}var oe=k(7599),ie=k(1441);class Me extends y.w0{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,y.Nn)(Je)&&Je.add(this)):this.destination=We}static create(Je,Ke,Ye){return new yt(Je,Ke,Ye)}next(Je){this.isStopped?sn(function Fe(Le){return He("N",Le,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?sn(function je(Le){return He("E",void 0,Le)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?sn(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gt=Function.prototype.bind;function Ge(Le,Je){return gt.call(Le,Je)}class Mt{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(Je)}catch(Ye){Vt(Ye)}}error(Je){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(Je)}catch(Ye){Vt(Ye)}else Vt(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(Ke){Vt(Ke)}}}class yt extends Me{constructor(Je,Ke,Ye){let _t;if(super(),(0,l.m)(Je)||!Je)_t={next:Je??void 0,error:Ke??void 0,complete:Ye??void 0};else{let St;this&&z.config.useDeprecatedNextContext?(St=Object.create(Je),St.unsubscribe=()=>this.unsubscribe(),_t={next:Je.next&&Ge(Je.next,St),error:Je.error&&Ge(Je.error,St),complete:Je.complete&&Ge(Je.complete,St)}):_t=Je}this.destination=new Mt(_t)}}function Vt(Le){z.config.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Le):(0,Ce.h)(Le)}function sn(Le,Je){const{onStoppedNotification:Ke}=z.config;Ke&&oe.z.setTimeout(()=>Ke(Le,Je))}const We={closed:!0,next:me.Z,error:function Tt(Le){throw Le},complete:me.Z}},7394:(on,Xe,k)=>{k.d(Xe,{Lc:()=>be,w0:()=>me,Nn:()=>je});var l=k(4674);const z=(0,k(2306).d)(He=>function(ie){He(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((Me,gt)=>`${gt+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var Ce=k(9039);class me{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Ge of ie)Ge.remove(this);else ie.remove(this);const{initialTeardown:Me}=this;if((0,l.m)(Me))try{Me()}catch(Ge){oe=Ge instanceof z?Ge.errors:[Ge]}const{_finalizers:gt}=this;if(gt){this._finalizers=null;for(const Ge of gt)try{Fe(Ge)}catch(Mt){oe=oe??[],Mt instanceof z?oe=[...oe,...Mt.errors]:oe.push(Mt)}}if(oe)throw new z(oe)}}add(oe){var ie;if(oe&&oe!==this)if(this.closed)Fe(oe);else{if(oe instanceof me){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(oe)}}_hasParent(oe){const{_parentage:ie}=this;return ie===oe||Array.isArray(ie)&&ie.includes(oe)}_addParent(oe){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(oe),ie):ie?[ie,oe]:oe}_removeParent(oe){const{_parentage:ie}=this;ie===oe?this._parentage=null:Array.isArray(ie)&&(0,Ce.P)(ie,oe)}remove(oe){const{_finalizers:ie}=this;ie&&(0,Ce.P)(ie,oe),oe instanceof me&&oe._removeParent(this)}}me.EMPTY=(()=>{const He=new me;return He.closed=!0,He})();const be=me.EMPTY;function je(He){return He instanceof me||He&&"closed"in He&&(0,l.m)(He.remove)&&(0,l.m)(He.add)&&(0,l.m)(He.unsubscribe)}function Fe(He){(0,l.m)(He)?He():He.unsubscribe()}},2653:(on,Xe,k)=>{k.d(Xe,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(on,Xe,k)=>{k.d(Xe,{z:()=>me});var l=k(7537),z=k(4564),Ce=k(2459);function me(...be){return function y(){return(0,l.J)(1)}()((0,Ce.D)(be,(0,z.yG)(be)))}},6232:(on,Xe,k)=>{k.d(Xe,{E:()=>y});const y=new(k(5592).y)(me=>me.complete())},2459:(on,Xe,k)=>{k.d(Xe,{D:()=>Je});var l=k(4829),y=k(3093),z=k(5137),be=k(5592),Fe=k(4971),He=k(4674),oe=k(7103);function Me(Ke,Ye){if(!Ke)throw new Error("Iterable cannot be null");return new be.y(_t=>{(0,oe.f)(_t,Ye,()=>{const St=Ke[Symbol.asyncIterator]();(0,oe.f)(_t,Ye,()=>{St.next().then(ge=>{ge.done?_t.complete():_t.next(ge.value)})},0,!0)})})}var gt=k(8382),Ge=k(4026),Mt=k(4266),yt=k(3664),Vt=k(5726),Tt=k(9853),sn=k(541);function Je(Ke,Ye){return Ye?function Le(Ke,Ye){if(null!=Ke){if((0,gt.c)(Ke))return function Ce(Ke,Ye){return(0,l.Xf)(Ke).pipe((0,z.R)(Ye),(0,y.Q)(Ye))}(Ke,Ye);if((0,Mt.z)(Ke))return function je(Ke,Ye){return new be.y(_t=>{let St=0;return Ye.schedule(function(){St===Ke.length?_t.complete():(_t.next(Ke[St++]),_t.closed||this.schedule())})})}(Ke,Ye);if((0,Ge.t)(Ke))return function me(Ke,Ye){return(0,l.Xf)(Ke).pipe((0,z.R)(Ye),(0,y.Q)(Ye))}(Ke,Ye);if((0,Vt.D)(Ke))return Me(Ke,Ye);if((0,yt.T)(Ke))return function ie(Ke,Ye){return new be.y(_t=>{let St;return(0,oe.f)(_t,Ye,()=>{St=Ke[Fe.h](),(0,oe.f)(_t,Ye,()=>{let ge,Ht;try{({value:ge,done:Ht}=St.next())}catch(Jt){return void _t.error(Jt)}Ht?_t.complete():_t.next(ge)},0,!0)}),()=>(0,He.m)(St?.return)&&St.return()})}(Ke,Ye);if((0,sn.L)(Ke))return function We(Ke,Ye){return Me((0,sn.Q)(Ke),Ye)}(Ke,Ye)}throw(0,Tt.z)(Ke)}(Ke,Ye):(0,l.Xf)(Ke)}},4829:(on,Xe,k)=>{k.d(Xe,{Xf:()=>gt});var l=k(7582),y=k(4266),z=k(4026),Ce=k(5592),me=k(8382),be=k(5726),je=k(9853),Fe=k(3664),He=k(541),oe=k(4674),ie=k(3894),Me=k(4850);function gt(Le){if(Le instanceof Ce.y)return Le;if(null!=Le){if((0,me.c)(Le))return function Ge(Le){return new Ce.y(Je=>{const Ke=Le[Me.L]();if((0,oe.m)(Ke.subscribe))return Ke.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,y.z)(Le))return function Mt(Le){return new Ce.y(Je=>{for(let Ke=0;Ke<Le.length&&!Je.closed;Ke++)Je.next(Le[Ke]);Je.complete()})}(Le);if((0,z.t)(Le))return function yt(Le){return new Ce.y(Je=>{Le.then(Ke=>{Je.closed||(Je.next(Ke),Je.complete())},Ke=>Je.error(Ke)).then(null,ie.h)})}(Le);if((0,be.D)(Le))return Tt(Le);if((0,Fe.T)(Le))return function Vt(Le){return new Ce.y(Je=>{for(const Ke of Le)if(Je.next(Ke),Je.closed)return;Je.complete()})}(Le);if((0,He.L)(Le))return function sn(Le){return Tt((0,He.Q)(Le))}(Le)}throw(0,je.z)(Le)}function Tt(Le){return new Ce.y(Je=>{(function We(Le,Je){var Ke,Ye,_t,St;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,l.KL)(Le);!(Ye=yield Ke.next()).done;)if(Je.next(Ye.value),Je.closed)return}catch(ge){_t={error:ge}}finally{try{Ye&&!Ye.done&&(St=Ke.return)&&(yield St.call(Ke))}finally{if(_t)throw _t.error}}Je.complete()})})(Le,Je).catch(Ke=>Je.error(Ke))})}},3019:(on,Xe,k)=>{k.d(Xe,{T:()=>be});var l=k(7537),y=k(4829),z=k(6232),Ce=k(4564),me=k(2459);function be(...je){const Fe=(0,Ce.yG)(je),He=(0,Ce._6)(je,1/0),oe=je;return oe.length?1===oe.length?(0,y.Xf)(oe[0]):(0,l.J)(He)((0,me.D)(oe,Fe)):z.E}},2096:(on,Xe,k)=>{k.d(Xe,{of:()=>z});var l=k(4564),y=k(2459);function z(...Ce){const me=(0,l.yG)(Ce);return(0,y.D)(Ce,me)}},8251:(on,Xe,k)=>{k.d(Xe,{x:()=>y});var l=k(305);function y(Ce,me,be,je,Fe){return new z(Ce,me,be,je,Fe)}class z extends l.Lv{constructor(me,be,je,Fe,He,oe){super(me),this.onFinalize=He,this.shouldUnsubscribe=oe,this._next=be?function(ie){try{be(ie)}catch(Me){me.error(Me)}}:super._next,this._error=Fe?function(ie){try{Fe(ie)}catch(Me){me.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(ie){me.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},6306:(on,Xe,k)=>{k.d(Xe,{K:()=>Ce});var l=k(4829),y=k(8251),z=k(9360);function Ce(me){return(0,z.e)((be,je)=>{let oe,Fe=null,He=!1;Fe=be.subscribe((0,y.x)(je,void 0,void 0,ie=>{oe=(0,l.Xf)(me(ie,Ce(me)(be))),Fe?(Fe.unsubscribe(),Fe=null,oe.subscribe(je)):He=!0})),He&&(Fe.unsubscribe(),Fe=null,oe.subscribe(je))})}},6328:(on,Xe,k)=>{k.d(Xe,{b:()=>z});var l=k(1631),y=k(4674);function z(Ce,me){return(0,y.m)(me)?(0,l.z)(Ce,me,1):(0,l.z)(Ce,1)}},3572:(on,Xe,k)=>{k.d(Xe,{d:()=>z});var l=k(9360),y=k(8251);function z(Ce){return(0,l.e)((me,be)=>{let je=!1;me.subscribe((0,y.x)(be,Fe=>{je=!0,be.next(Fe)},()=>{je||be.next(Ce),be.complete()}))})}},3997:(on,Xe,k)=>{k.d(Xe,{x:()=>Ce});var l=k(2737),y=k(9360),z=k(8251);function Ce(be,je=l.y){return be=be??me,(0,y.e)((Fe,He)=>{let oe,ie=!0;Fe.subscribe((0,z.x)(He,Me=>{const gt=je(Me);(ie||!be(oe,gt))&&(ie=!1,oe=gt,He.next(Me))}))})}function me(be,je){return be===je}},2181:(on,Xe,k)=>{k.d(Xe,{h:()=>z});var l=k(9360),y=k(8251);function z(Ce,me){return(0,l.e)((be,je)=>{let Fe=0;be.subscribe((0,y.x)(je,He=>Ce.call(me,He,Fe++)&&je.next(He)))})}},4716:(on,Xe,k)=>{k.d(Xe,{x:()=>y});var l=k(9360);function y(z){return(0,l.e)((Ce,me)=>{try{Ce.subscribe(me)}finally{me.add(z)}})}},1374:(on,Xe,k)=>{k.d(Xe,{P:()=>je});var l=k(6973),y=k(2181),z=k(8180),Ce=k(3572),me=k(3026),be=k(2737);function je(Fe,He){const oe=arguments.length>=2;return ie=>ie.pipe(Fe?(0,y.h)((Me,gt)=>Fe(Me,gt,ie)):be.y,(0,z.q)(1),oe?(0,Ce.d)(He):(0,me.T)(()=>new l.K))}},7398:(on,Xe,k)=>{k.d(Xe,{U:()=>z});var l=k(9360),y=k(8251);function z(Ce,me){return(0,l.e)((be,je)=>{let Fe=0;be.subscribe((0,y.x)(je,He=>{je.next(Ce.call(me,He,Fe++))}))})}},7537:(on,Xe,k)=>{k.d(Xe,{J:()=>z});var l=k(1631),y=k(2737);function z(Ce=1/0){return(0,l.z)(y.y,Ce)}},1631:(on,Xe,k)=>{k.d(Xe,{z:()=>Fe});var l=k(7398),y=k(4829),z=k(9360),Ce=k(7103),me=k(8251),je=k(4674);function Fe(He,oe,ie=1/0){return(0,je.m)(oe)?Fe((Me,gt)=>(0,l.U)((Ge,Mt)=>oe(Me,Ge,gt,Mt))((0,y.Xf)(He(Me,gt))),ie):("number"==typeof oe&&(ie=oe),(0,z.e)((Me,gt)=>function be(He,oe,ie,Me,gt,Ge,Mt,yt){const Vt=[];let Tt=0,sn=0,We=!1;const Le=()=>{We&&!Vt.length&&!Tt&&oe.complete()},Je=Ye=>Tt<Me?Ke(Ye):Vt.push(Ye),Ke=Ye=>{Ge&&oe.next(Ye),Tt++;let _t=!1;(0,y.Xf)(ie(Ye,sn++)).subscribe((0,me.x)(oe,St=>{gt?.(St),Ge?Je(St):oe.next(St)},()=>{_t=!0},void 0,()=>{if(_t)try{for(Tt--;Vt.length&&Tt<Me;){const St=Vt.shift();Mt?(0,Ce.f)(oe,Mt,()=>Ke(St)):Ke(St)}Le()}catch(St){oe.error(St)}}))};return He.subscribe((0,me.x)(oe,Je,()=>{We=!0,Le()})),()=>{yt?.()}}(Me,gt,He,ie)))}},3093:(on,Xe,k)=>{k.d(Xe,{Q:()=>Ce});var l=k(7103),y=k(9360),z=k(8251);function Ce(me,be=0){return(0,y.e)((je,Fe)=>{je.subscribe((0,z.x)(Fe,He=>(0,l.f)(Fe,me,()=>Fe.next(He),be),()=>(0,l.f)(Fe,me,()=>Fe.complete(),be),He=>(0,l.f)(Fe,me,()=>Fe.error(He),be)))})}},6699:(on,Xe,k)=>{k.d(Xe,{R:()=>Ce});var l=k(9360),y=k(8251);function Ce(me,be){return(0,l.e)(function z(me,be,je,Fe,He){return(oe,ie)=>{let Me=je,gt=be,Ge=0;oe.subscribe((0,y.x)(ie,Mt=>{const yt=Ge++;gt=Me?me(gt,Mt,yt):(Me=!0,Mt),Fe&&ie.next(gt)},He&&(()=>{Me&&ie.next(gt),ie.complete()})))}}(me,be,arguments.length>=2,!0))}},3020:(on,Xe,k)=>{k.d(Xe,{B:()=>me});var l=k(4829),y=k(8645),z=k(305),Ce=k(9360);function me(je={}){const{connector:Fe=(()=>new y.x),resetOnError:He=!0,resetOnComplete:oe=!0,resetOnRefCountZero:ie=!0}=je;return Me=>{let gt,Ge,Mt,yt=0,Vt=!1,Tt=!1;const sn=()=>{Ge?.unsubscribe(),Ge=void 0},We=()=>{sn(),gt=Mt=void 0,Vt=Tt=!1},Le=()=>{const Je=gt;We(),Je?.unsubscribe()};return(0,Ce.e)((Je,Ke)=>{yt++,!Tt&&!Vt&&sn();const Ye=Mt=Mt??Fe();Ke.add(()=>{yt--,0===yt&&!Tt&&!Vt&&(Ge=be(Le,ie))}),Ye.subscribe(Ke),!gt&&yt>0&&(gt=new z.Hp({next:_t=>Ye.next(_t),error:_t=>{Tt=!0,sn(),Ge=be(We,He,_t),Ye.error(_t)},complete:()=>{Vt=!0,sn(),Ge=be(We,oe),Ye.complete()}}),(0,l.Xf)(Je).subscribe(gt))})(Me)}}function be(je,Fe,...He){if(!0===Fe)return void je();if(!1===Fe)return;const oe=new z.Hp({next:()=>{oe.unsubscribe(),je()}});return(0,l.Xf)(Fe(...He)).subscribe(oe)}},7921:(on,Xe,k)=>{k.d(Xe,{O:()=>Ce});var l=k(5211),y=k(4564),z=k(9360);function Ce(...me){const be=(0,y.yG)(me);return(0,z.e)((je,Fe)=>{(be?(0,l.z)(me,je,be):(0,l.z)(me,je)).subscribe(Fe)})}},5137:(on,Xe,k)=>{k.d(Xe,{R:()=>y});var l=k(9360);function y(z,Ce=0){return(0,l.e)((me,be)=>{be.add(z.schedule(()=>me.subscribe(be),Ce))})}},4664:(on,Xe,k)=>{k.d(Xe,{w:()=>Ce});var l=k(4829),y=k(9360),z=k(8251);function Ce(me,be){return(0,y.e)((je,Fe)=>{let He=null,oe=0,ie=!1;const Me=()=>ie&&!He&&Fe.complete();je.subscribe((0,z.x)(Fe,gt=>{He?.unsubscribe();let Ge=0;const Mt=oe++;(0,l.Xf)(me(gt,Mt)).subscribe(He=(0,z.x)(Fe,yt=>Fe.next(be?be(gt,yt,Mt,Ge++):yt),()=>{He=null,Me()}))},()=>{ie=!0,Me()}))})}},8180:(on,Xe,k)=>{k.d(Xe,{q:()=>Ce});var l=k(6232),y=k(9360),z=k(8251);function Ce(me){return me<=0?()=>l.E:(0,y.e)((be,je)=>{let Fe=0;be.subscribe((0,z.x)(je,He=>{++Fe<=me&&(je.next(He),me<=Fe&&je.complete())}))})}},9397:(on,Xe,k)=>{k.d(Xe,{b:()=>me});var l=k(4674),y=k(9360),z=k(8251),Ce=k(2737);function me(be,je,Fe){const He=(0,l.m)(be)||je||Fe?{next:be,error:je,complete:Fe}:be;return He?(0,y.e)((oe,ie)=>{var Me;null===(Me=He.subscribe)||void 0===Me||Me.call(He);let gt=!0;oe.subscribe((0,z.x)(ie,Ge=>{var Mt;null===(Mt=He.next)||void 0===Mt||Mt.call(He,Ge),ie.next(Ge)},()=>{var Ge;gt=!1,null===(Ge=He.complete)||void 0===Ge||Ge.call(He),ie.complete()},Ge=>{var Mt;gt=!1,null===(Mt=He.error)||void 0===Mt||Mt.call(He,Ge),ie.error(Ge)},()=>{var Ge,Mt;gt&&(null===(Ge=He.unsubscribe)||void 0===Ge||Ge.call(He)),null===(Mt=He.finalize)||void 0===Mt||Mt.call(He)}))}):Ce.y}},3026:(on,Xe,k)=>{k.d(Xe,{T:()=>Ce});var l=k(6973),y=k(9360),z=k(8251);function Ce(be=me){return(0,y.e)((je,Fe)=>{let He=!1;je.subscribe((0,z.x)(Fe,oe=>{He=!0,Fe.next(oe)},()=>He?Fe.complete():Fe.error(be())))})}function me(){return new l.K}},1954:(on,Xe,k)=>{k.d(Xe,{o:()=>me});var l=k(7394);class y extends l.w0{constructor(je,Fe){super()}schedule(je,Fe=0){return this}}const z={setInterval(be,je,...Fe){const{delegate:He}=z;return He?.setInterval?He.setInterval(be,je,...Fe):setInterval(be,je,...Fe)},clearInterval(be){const{delegate:je}=z;return(je?.clearInterval||clearInterval)(be)},delegate:void 0};var Ce=k(9039);class me extends y{constructor(je,Fe){super(je,Fe),this.scheduler=je,this.work=Fe,this.pending=!1}schedule(je,Fe=0){var He;if(this.closed)return this;this.state=je;const oe=this.id,ie=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(ie,oe,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(ie,this.id,Fe),this}requestAsyncId(je,Fe,He=0){return z.setInterval(je.flush.bind(je,this),He)}recycleAsyncId(je,Fe,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return Fe;null!=Fe&&z.clearInterval(Fe)}execute(je,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(je,Fe);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(je,Fe){let oe,He=!1;try{this.work(je)}catch(ie){He=!0,oe=ie||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:je,scheduler:Fe}=this,{actions:He}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(He,this),null!=je&&(this.id=this.recycleAsyncId(Fe,je,null)),this.delay=null,super.unsubscribe()}}}},2631:(on,Xe,k)=>{k.d(Xe,{v:()=>z});var l=k(4552);class y{constructor(me,be=y.now){this.schedulerActionCtor=me,this.now=be}schedule(me,be=0,je){return new this.schedulerActionCtor(this,me).schedule(je,be)}}y.now=l.l.now;class z extends y{constructor(me,be=y.now){super(me,be),this.actions=[],this._active=!1}flush(me){const{actions:be}=this;if(this._active)return void be.push(me);let je;this._active=!0;do{if(je=me.execute(me.state,me.delay))break}while(me=be.shift());if(this._active=!1,je){for(;me=be.shift();)me.unsubscribe();throw je}}}},6321:(on,Xe,k)=>{k.d(Xe,{z:()=>z});var l=k(1954);const z=new(k(2631).v)(l.o)},4552:(on,Xe,k)=>{k.d(Xe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(on,Xe,k)=>{k.d(Xe,{z:()=>l});const l={setTimeout(y,z,...Ce){const{delegate:me}=l;return me?.setTimeout?me.setTimeout(y,z,...Ce):setTimeout(y,z,...Ce)},clearTimeout(y){const{delegate:z}=l;return(z?.clearTimeout||clearTimeout)(y)},delegate:void 0}},4971:(on,Xe,k)=>{k.d(Xe,{h:()=>y});const y=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(on,Xe,k)=>{k.d(Xe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(on,Xe,k)=>{k.d(Xe,{K:()=>y});const y=(0,k(2306).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(on,Xe,k)=>{k.d(Xe,{_6:()=>be,jO:()=>Ce,yG:()=>me});var l=k(4674);function z(je){return je[je.length-1]}function Ce(je){return(0,l.m)(z(je))?je.pop():void 0}function me(je){return function y(je){return je&&(0,l.m)(je.schedule)}(z(je))?je.pop():void 0}function be(je,Fe){return"number"==typeof z(je)?je.pop():Fe}},7453:(on,Xe,k)=>{k.d(Xe,{D:()=>me});const{isArray:l}=Array,{getPrototypeOf:y,prototype:z,keys:Ce}=Object;function me(je){if(1===je.length){const Fe=je[0];if(l(Fe))return{args:Fe,keys:null};if(function be(je){return je&&"object"==typeof je&&y(je)===z}(Fe)){const He=Ce(Fe);return{args:He.map(oe=>Fe[oe]),keys:He}}}return{args:je,keys:null}}},9039:(on,Xe,k)=>{function l(y,z){if(y){const Ce=y.indexOf(z);0<=Ce&&y.splice(Ce,1)}}k.d(Xe,{P:()=>l})},2306:(on,Xe,k)=>{function l(y){const Ce=y(me=>{Error.call(me),me.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}k.d(Xe,{d:()=>l})},2714:(on,Xe,k)=>{function l(y,z){return y.reduce((Ce,me,be)=>(Ce[me]=z[be],Ce),{})}k.d(Xe,{n:()=>l})},1441:(on,Xe,k)=>{k.d(Xe,{O:()=>Ce,x:()=>z});var l=k(2653);let y=null;function z(me){if(l.config.useDeprecatedSynchronousErrorHandling){const be=!y;if(be&&(y={errorThrown:!1,error:null}),me(),be){const{errorThrown:je,error:Fe}=y;if(y=null,je)throw Fe}}else me()}function Ce(me){l.config.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=me)}},7103:(on,Xe,k)=>{function l(y,z,Ce,me=0,be=!1){const je=z.schedule(function(){Ce(),be?y.add(this.schedule(null,me)):this.unsubscribe()},me);if(y.add(je),!be)return je}k.d(Xe,{f:()=>l})},2737:(on,Xe,k)=>{function l(y){return y}k.d(Xe,{y:()=>l})},4266:(on,Xe,k)=>{k.d(Xe,{z:()=>l});const l=y=>y&&"number"==typeof y.length&&"function"!=typeof y},5726:(on,Xe,k)=>{k.d(Xe,{D:()=>y});var l=k(4674);function y(z){return Symbol.asyncIterator&&(0,l.m)(z?.[Symbol.asyncIterator])}},4674:(on,Xe,k)=>{function l(y){return"function"==typeof y}k.d(Xe,{m:()=>l})},8382:(on,Xe,k)=>{k.d(Xe,{c:()=>z});var l=k(4850),y=k(4674);function z(Ce){return(0,y.m)(Ce[l.L])}},3664:(on,Xe,k)=>{k.d(Xe,{T:()=>z});var l=k(4971),y=k(4674);function z(Ce){return(0,y.m)(Ce?.[l.h])}},4026:(on,Xe,k)=>{k.d(Xe,{t:()=>y});var l=k(4674);function y(z){return(0,l.m)(z?.then)}},541:(on,Xe,k)=>{k.d(Xe,{L:()=>Ce,Q:()=>z});var l=k(7582),y=k(4674);function z(me){return(0,l.FC)(this,arguments,function*(){const je=me.getReader();try{for(;;){const{value:Fe,done:He}=yield(0,l.qq)(je.read());if(He)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Fe)}}finally{je.releaseLock()}})}function Ce(me){return(0,y.m)(me?.getReader)}},9360:(on,Xe,k)=>{k.d(Xe,{A:()=>y,e:()=>z});var l=k(4674);function y(Ce){return(0,l.m)(Ce?.lift)}function z(Ce){return me=>{if(y(me))return me.lift(function(be){try{return Ce(be,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(on,Xe,k)=>{k.d(Xe,{Z:()=>Ce});var l=k(7398);const{isArray:y}=Array;function Ce(me){return(0,l.U)(be=>function z(me,be){return y(be)?me(...be):me(be)}(me,be))}},2420:(on,Xe,k)=>{function l(){}k.d(Xe,{Z:()=>l})},8407:(on,Xe,k)=>{k.d(Xe,{U:()=>z,z:()=>y});var l=k(2737);function y(...Ce){return z(Ce)}function z(Ce){return 0===Ce.length?l.y:1===Ce.length?Ce[0]:function(be){return Ce.reduce((je,Fe)=>Fe(je),be)}}},3894:(on,Xe,k)=>{k.d(Xe,{h:()=>z});var l=k(2653),y=k(7599);function z(Ce){y.z.setTimeout(()=>{const{onUnhandledError:me}=l.config;if(!me)throw Ce;me(Ce)})}},9853:(on,Xe,k)=>{function l(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Xe,{z:()=>l})},6814:(on,Xe,k)=>{k.d(Xe,{Do:()=>yt,EM:()=>Ee,HT:()=>Ce,JF:()=>hn,K0:()=>be,Mx:()=>bn,Nd:()=>wi,O5:()=>Vo,Ov:()=>yr,PM:()=>Qr,S$:()=>gt,V_:()=>Fe,Ye:()=>Vt,b0:()=>Mt,bD:()=>wr,ez:()=>ao,mk:()=>Er,q:()=>z,sg:()=>lr,w_:()=>me});var l=k(5879);let y=null;function z(){return y}function Ce(b){y||(y=b)}class me{}const be=new l.OlP("DocumentToken");let je=(()=>{class b{historyGo(N){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return(0,l.f3M)(He)},providedIn:"platform"})}return b})();const Fe=new l.OlP("Location Initialized");let He=(()=>{class b extends je{constructor(){super(),this._doc=(0,l.f3M)(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(N){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",N,!1),()=>W.removeEventListener("popstate",N)}onHashChange(N){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",N,!1),()=>W.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,W,_e){this._history.pushState(N,W,_e)}replaceState(N,W,_e){this._history.replaceState(N,W,_e)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return new b},providedIn:"platform"})}return b})();function oe(b,Z){if(0==b.length)return Z;if(0==Z.length)return b;let N=0;return b.endsWith("/")&&N++,Z.startsWith("/")&&N++,2==N?b+Z.substring(1):1==N?b+Z:b+"/"+Z}function ie(b){const Z=b.match(/#|\?|$/),N=Z&&Z.index||b.length;return b.slice(0,N-("/"===b[N-1]?1:0))+b.slice(N)}function Me(b){return b&&"?"!==b[0]?"?"+b:b}let gt=(()=>{class b{historyGo(N){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return(0,l.f3M)(Mt)},providedIn:"root"})}return b})();const Ge=new l.OlP("appBaseHref");let Mt=(()=>{class b extends gt{constructor(N,W){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return oe(this._baseHref,N)}path(N=!1){const W=this._platformLocation.pathname+Me(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&N?`${W}${_e}`:W}pushState(N,W,_e,dt){const At=this.prepareExternalUrl(_e+Me(dt));this._platformLocation.pushState(N,W,At)}replaceState(N,W,_e,dt){const At=this.prepareExternalUrl(_e+Me(dt));this._platformLocation.replaceState(N,W,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static#e=this.\u0275fac=function(W){return new(W||b)(l.LFG(je),l.LFG(Ge,8))};static#t=this.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),yt=(()=>{class b extends gt{constructor(N,W){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(N){const W=oe(this._baseHref,N);return W.length>0?"#"+W:W}pushState(N,W,_e,dt){let At=this.prepareExternalUrl(_e+Me(dt));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.pushState(N,W,At)}replaceState(N,W,_e,dt){let At=this.prepareExternalUrl(_e+Me(dt));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.replaceState(N,W,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static#e=this.\u0275fac=function(W){return new(W||b)(l.LFG(je),l.LFG(Ge,8))};static#t=this.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac})}return b})(),Vt=(()=>{class b{constructor(N){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const W=this._locationStrategy.getBaseHref();this._basePath=function Le(b){if(new RegExp("^(https?:)?//").test(b)){const[,N]=b.split(/\/\/[^\/]+/);return N}return b}(ie(We(W))),this._locationStrategy.onPopState(_e=>{this._subject.emit({url:this.path(!0),pop:!0,state:_e.state,type:_e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,W=""){return this.path()==this.normalize(N+Me(W))}normalize(N){return b.stripTrailingSlash(function sn(b,Z){if(!b||!Z.startsWith(b))return Z;const N=Z.substring(b.length);return""===N||["/",";","?","#"].includes(N[0])?N:Z}(this._basePath,We(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,W="",_e=null){this._locationStrategy.pushState(_e,"",N,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Me(W)),_e)}replaceState(N,W="",_e=null){this._locationStrategy.replaceState(_e,"",N,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Me(W)),_e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",W){this._urlChangeListeners.forEach(_e=>_e(N,W))}subscribe(N,W,_e){return this._subject.subscribe({next:N,error:W,complete:_e})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=oe;static#n=this.stripTrailingSlash=ie;static#r=this.\u0275fac=function(W){return new(W||b)(l.LFG(gt))};static#i=this.\u0275prov=l.Yz7({token:b,factory:function(){return function Tt(){return new Vt((0,l.LFG)(gt))}()},providedIn:"root"})}return b})();function We(b){return b.replace(/\/index.html$/,"")}function bn(b,Z){Z=encodeURIComponent(Z);for(const N of b.split(";")){const W=N.indexOf("="),[_e,dt]=-1==W?[N,""]:[N.slice(0,W),N.slice(W+1)];if(_e.trim()===Z)return decodeURIComponent(dt)}return null}const Pn=/\s+/,dn=[];let Er=(()=>{class b{constructor(N,W,_e,dt){this._iterableDiffers=N,this._keyValueDiffers=W,this._ngEl=_e,this._renderer=dt,this.initialClasses=dn,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(Pn):dn}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(Pn):N}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const W of N)this._updateState(W,!0);else if(null!=N)for(const W of Object.keys(N))this._updateState(W,!!N[W]);this._applyStateDiff()}_updateState(N,W){const _e=this.stateMap.get(N);void 0!==_e?(_e.enabled!==W&&(_e.changed=!0,_e.enabled=W),_e.touched=!0):this.stateMap.set(N,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const W=N[0],_e=N[1];_e.changed?(this._toggleClass(W,_e.enabled),_e.changed=!1):_e.touched||(_e.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),_e.touched=!1}}_toggleClass(N,W){(N=N.trim()).length>0&&N.split(Pn).forEach(_e=>{W?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return b})();class ho{constructor(Z,N,W,_e){this.$implicit=Z,this.ngForOf=N,this.index=W,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class b{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,W,_e){this._viewContainer=N,this._template=W,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const W=this._viewContainer;N.forEachOperation((_e,dt,At)=>{if(null==_e.previousIndex)W.createEmbeddedView(this._template,new ho(_e.item,this._ngForOf,-1,-1),null===At?void 0:At);else if(null==At)W.remove(null===dt?void 0:dt);else if(null!==dt){const mn=W.get(dt);W.move(mn,At),Lo(mn,_e)}});for(let _e=0,dt=W.length;_e<dt;_e++){const mn=W.get(_e).context;mn.index=_e,mn.count=dt,mn.ngForOf=this._ngForOf}N.forEachIdentityChange(_e=>{Lo(W.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(N,W){return!0}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function Lo(b,Z){b.context.$implicit=Z.item}let Vo=(()=>{class b{constructor(N,W){this._viewContainer=N,this._context=new Wr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){vs("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){vs("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,W){return!0}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class Wr{constructor(){this.$implicit=null,this.ngIf=null}}function vs(b,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,l.AaK)(Z)}'.`)}class ds{createSubscription(Z,N){return(0,l.rg0)(()=>Z.subscribe({next:N,error:W=>{throw W}}))}dispose(Z){(0,l.rg0)(()=>Z.unsubscribe())}}class li{createSubscription(Z,N){return Z.then(N,W=>{throw W})}dispose(Z){}}const Fs=new li,Hi=new ds;let yr=(()=>{class b{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,W=>this._updateLatestValue(N,W))}_selectStrategy(N){if((0,l.QGY)(N))return Fs;if((0,l.F4k)(N))return Hi;throw function Fi(b,Z){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,W){N===this._obj&&(this._latestValue=W,this._ref.markForCheck())}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.sBO,16))};static#t=this.\u0275pipe=l.Yjl({name:"async",type:b,pure:!1,standalone:!0})}return b})(),wi=(()=>{class b{constructor(N){this.differs=N,this.keyValues=[],this.compareFn=Li}transform(N,W=Li){if(!N||!(N instanceof Map)&&"object"!=typeof N)return null;this.differ||(this.differ=this.differs.find(N).create());const _e=this.differ.diff(N),dt=W!==this.compareFn;return _e&&(this.keyValues=[],_e.forEachItem(At=>{this.keyValues.push(function Po(b,Z){return{key:b,value:Z}}(At.key,At.currentValue))})),(_e||dt)&&(this.keyValues.sort(W),this.compareFn=W),this.keyValues}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.aQg,16))};static#t=this.\u0275pipe=l.Yjl({name:"keyvalue",type:b,pure:!1,standalone:!0})}return b})();function Li(b,Z){const N=b.key,W=Z.key;if(N===W)return 0;if(void 0===N)return 1;if(void 0===W)return-1;if(null===N)return 1;if(null===W)return-1;if("string"==typeof N&&"string"==typeof W)return N<W?-1:1;if("number"==typeof N&&"number"==typeof W)return N-W;if("boolean"==typeof N&&"boolean"==typeof W)return N<W?-1:1;const _e=String(N),dt=String(W);return _e==dt?0:_e<dt?-1:1}let ao=(()=>{class b{static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275mod=l.oAB({type:b});static#n=this.\u0275inj=l.cJS({})}return b})();const wr="browser",Wi="server";function Qr(b){return b===Wi}let Ee=(()=>{class b{static#e=this.\u0275prov=(0,l.Yz7)({token:b,providedIn:"root",factory:()=>new $e((0,l.LFG)(be),window)})}return b})();class $e{constructor(Z,N){this.document=Z,this.window=N,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const N=function mt(b,Z){const N=b.getElementById(Z)||b.getElementsByName(Z)[0];if(N)return N;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const W=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let _e=W.currentNode;for(;_e;){const dt=_e.shadowRoot;if(dt){const At=dt.getElementById(Z)||dt.querySelector(`[name="${Z}"]`);if(At)return At}_e=W.nextNode()}}return null}(this.document,Z);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const N=Z.getBoundingClientRect(),W=N.left+this.window.pageXOffset,_e=N.top+this.window.pageYOffset,dt=this.offset();this.window.scrollTo(W-dt[0],_e-dt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hn{}},5879:(on,Xe,k)=>{k.d(Xe,{$8M:()=>Oc,$WT:()=>Si,$Z:()=>M,AFp:()=>Mm,ALo:()=>rI,AaK:()=>Me,BQk:()=>$,CHM:()=>zu,CRH:()=>yI,DdM:()=>K0,EJc:()=>Mb,EpF:()=>Ii,F4k:()=>ii,FYo:()=>Nm,FiY:()=>_u,GfV:()=>ng,Gpc:()=>Mt,HDt:()=>BI,HTZ:()=>Q0,JOm:()=>Dl,KtG:()=>pa,LFG:()=>Pt,LSH:()=>Bp,Lbi:()=>Rm,Lck:()=>mT,MAs:()=>gc,MGl:()=>R_,MMx:()=>j0,MR2:()=>ko,NdJ:()=>Ho,Ojb:()=>Ty,OlP:()=>Xt,Oqu:()=>Ev,P3R:()=>$p,PXZ:()=>oD,Q6J:()=>qf,QGY:()=>Fo,Qsj:()=>Ny,R0b:()=>so,RDi:()=>Pp,Rgc:()=>zg,SBq:()=>qd,Sil:()=>Ob,Suo:()=>_I,TTD:()=>or,TgZ:()=>gh,Udp:()=>_v,VKq:()=>Y0,VuI:()=>jD,X6Q:()=>fD,XFs:()=>cn,Xpm:()=>li,Xq5:()=>Tg,Xts:()=>Ll,Y36:()=>T,YKP:()=>U0,YNc:()=>zf,Yjl:()=>zo,Yz7:()=>_n,Z0I:()=>On,ZZ4:()=>eE,_Bn:()=>V0,_UZ:()=>ys,_c5:()=>PD,_uU:()=>$E,aQg:()=>tE,c2e:()=>UI,cJS:()=>xt,cg1:()=>Iv,dDg:()=>tD,dqk:()=>Rn,eFA:()=>YI,eJc:()=>Vv,ekj:()=>yv,eoX:()=>WI,f3M:()=>Zt,g9A:()=>Au,h0i:()=>vh,hGG:()=>MD,hij:()=>N_,iGM:()=>mI,ifc:()=>$i,ip1:()=>VI,jDz:()=>$0,kL8:()=>l0,lG2:()=>to,lcZ:()=>iI,lqb:()=>Za,lri:()=>zI,n5z:()=>xc,oAB:()=>Ir,oJD:()=>Em,oxw:()=>EE,q4F:()=>rg,qFp:()=>HD,qLn:()=>uc,qOj:()=>Qa,qZA:()=>cl,rWj:()=>GI,rg0:()=>dt,s9C:()=>fv,sBO:()=>pD,s_b:()=>j_,soG:()=>H_,tb:()=>Zv,tp0:()=>Ta,uIk:()=>Sa,vHH:()=>Le,vpe:()=>Ya,wAp:()=>Jf,xp6:()=>f,ynx:()=>R,z2F:()=>np,zSh:()=>Am,zs3:()=>Aa});var l=k(8645),y=k(7394),z=k(5592),Ce=k(3019),me=k(5619),be=k(2096),je=k(3020),Fe=k(4664),He=k(3997);function oe(t){for(let n in t)if(t[n]===oe)return n;throw Error("Could not find renamed property on target object.")}function ie(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function gt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ge=oe({__forward_ref__:oe});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return Me(this())},t}function yt(t){return Vt(t)?t():t}function Vt(t){return"function"==typeof t&&t.hasOwnProperty(Ge)&&t.__forward_ref__===Mt}function Tt(t){return t&&!!t.\u0275providers}const We="https://g.co/ng/security#xss";class Le extends Error{constructor(n,i){super(function Je(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ke(t){return"string"==typeof t?t:null==t?"":String(t)}function Ht(t,n){throw new Le(-201,!1)}function vt(t,n){null==t&&function Et(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function _n(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function En(t){return Ut(t,tn)||Ut(t,Fn)}function On(t){return null!==En(t)}function Ut(t,n){return t.hasOwnProperty(n)?t[n]:null}function Dr(t){return t&&(t.hasOwnProperty(sr)||t.hasOwnProperty(Ot))?t[sr]:null}const tn=oe({\u0275prov:oe}),sr=oe({\u0275inj:oe}),Fn=oe({ngInjectableDef:oe}),Ot=oe({ngInjectorDef:oe});var cn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(cn||{});let Cn;function ir(t){const n=Cn;return Cn=t,n}function cr(t,n,i){const s=En(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&cn.Optional?null:void 0!==n?n:void Ht(Me(t))}const Rn=globalThis;class Xt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=_n({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tn={},gr="__NG_DI_FLAG__",Yn="ngTempTokenPath",Y=/\n/gm,x="__source";let O;function xe(t){const n=O;return O=t,n}function pt(t,n=cn.Default){if(void 0===O)throw new Le(-203,!1);return null===O?cr(t,void 0,n):O.get(t,n&cn.Optional?null:void 0,n)}function Pt(t,n=cn.Default){return(function gn(){return Cn}()||pt)(yt(t),n)}function Zt(t,n=cn.Default){return Pt(t,Qt(n))}function Qt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gn(t){const n=[];for(let i=0;i<t.length;i++){const s=yt(t[i]);if(Array.isArray(s)){if(0===s.length)throw new Le(900,!1);let c,d=cn.Default;for(let _=0;_<s.length;_++){const I=s[_],D=Qn(I);"number"==typeof D?-1===D?c=I.token:d|=D:c=I}n.push(Pt(c,d))}else n.push(Pt(s))}return n}function vn(t,n){return t[gr]=n,t.prototype[gr]=n,t}function Qn(t){return t[gr]}function Gr(t){return{toString:t}.toString()}var Xi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Xi||{}),$i=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($i||{});const Fr={},Wn=[],at=oe({\u0275cmp:oe}),qe=oe({\u0275dir:oe}),Ct=oe({\u0275pipe:oe}),en=oe({\u0275mod:oe}),bn=oe({\u0275fac:oe}),Pn=oe({__NG_ELEMENT_ID__:oe}),dn=oe({__NG_ENV_ID__:oe});function Er(t,n,i){let s=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=n.length;if(c+d===s||t.charCodeAt(c+d)<=32)return c}i=c+1}}function fr(t,n,i){let s=0;for(;s<i.length;){const c=i[s];if("number"==typeof c){if(0!==c)break;s++;const d=i[s++],_=i[s++],I=i[s++];t.setAttribute(n,_,I,d)}else{const d=c,_=i[++s];ho(d)?t.setProperty(n,d,_):t.setAttribute(n,d,_),s++}}return s}function ci(t){return 3===t||4===t||6===t}function ho(t){return 64===t.charCodeAt(0)}function lr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:0===i||Lo(t,i,c,null,-1===i||2===i?n[++s]:null)}}return t}function Lo(t,n,i,s,c){let d=0,_=t.length;if(-1===n)_=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===n){_=-1;break}if(I>n){_=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===i){if(null===s)return void(null!==c&&(t[d+1]=c));if(s===t[d+1])return void(t[d+2]=c)}d++,null!==s&&d++,null!==c&&d++}-1!==_&&(t.splice(_,0,n),d=_+1),t.splice(d++,0,i),null!==s&&t.splice(d++,0,s),null!==c&&t.splice(d++,0,c)}const oi="ng-template";function Vo(t,n,i){let s=0,c=!0;for(;s<t.length;){let d=t[s++];if("string"==typeof d&&c){const _=t[s++];if(i&&"class"===d&&-1!==Er(_.toLowerCase(),n,0))return!0}else{if(1===d){for(;s<t.length&&"string"==typeof(d=t[s++]);)if(d.toLowerCase()===n)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Wr(t){return 4===t.type&&t.value!==oi}function vs(t,n,i){return n===(4!==t.type||i?t.value:oi)}function eo(t,n,i){let s=4;const c=t.attrs||[],d=function mr(t){for(let n=0;n<t.length;n++)if(ci(t[n]))return n;return t.length}(c);let _=!1;for(let I=0;I<n.length;I++){const D=n[I];if("number"!=typeof D){if(!_)if(4&s){if(s=2|1&s,""!==D&&!vs(t,D,i)||""===D&&1===n.length){if(si(s))return!1;_=!0}}else{const L=8&s?D:n[++I];if(8&s&&null!==t.attrs){if(!Vo(t.attrs,L,i)){if(si(s))return!1;_=!0}continue}const de=mi(8&s?"class":D,c,Wr(t),i);if(-1===de){if(si(s))return!1;_=!0;continue}if(""!==L){let Ue;Ue=de>d?"":c[de+1].toLowerCase();const tt=8&s?Ue:null;if(tt&&-1!==Er(tt,L,0)||2&s&&L!==Ue){if(si(s))return!1;_=!0}}}}else{if(!_&&!si(s)&&!si(D))return!1;if(_&&si(D))continue;_=!1,s=D|1&s}}return si(s)||_}function si(t){return 0==(1&t)}function mi(t,n,i,s){if(null===n)return-1;let c=0;if(s||!i){let d=!1;for(;c<n.length;){const _=n[c];if(_===t)return c;if(3===_||6===_)d=!0;else{if(1===_||2===_){let I=n[++c];for(;"string"==typeof I;)I=n[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=d?1:2}return-1}return function _r(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function rr(t,n,i=!1){for(let s=0;s<n.length;s++)if(eo(t,n[s],i))return!0;return!1}function Ai(t,n){return t?":not("+n.trim()+")":n}function _i(t){let n=t[0],i=1,s=2,c="",d=!1;for(;i<t.length;){let _=t[i];if("string"==typeof _)if(2&s){const I=t[++i];c+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&s?c+="."+_:4&s&&(c+=" "+_);else""!==c&&!si(_)&&(n+=Ai(d,c),c=""),s=_,d=d||!si(s);i++}return""!==c&&(n+=Ai(d,c)),n}function li(t){return Gr(()=>{const n=Io(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$i.Emulated,styles:t.styles||Wn,_:null,schemas:t.schemas||null,tView:null,id:""};Gi(i);const s=t.dependencies;return i.directiveDefs=Po(s,!1),i.pipeDefs=Po(s,!0),i.id=function Li(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Hi(t){return Nn(t)||$r(t)}function yr(t){return null!==t}function Ir(t){return Gr(()=>({type:t.type,bootstrap:t.bootstrap||Wn,declarations:t.declarations||Wn,imports:t.imports||Wn,exports:t.exports||Wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Eo(t,n){if(null==t)return Fr;const i={};for(const s in t)if(t.hasOwnProperty(s)){let c=t[s],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),i[c]=s,n&&(n[c]=d)}return i}function to(t){return Gr(()=>{const n=Io(t);return Gi(n),n})}function zo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nn(t){return t[at]||null}function $r(t){return t[qe]||null}function Yr(t){return t[Ct]||null}function Si(t){const n=Nn(t)||$r(t)||Yr(t);return null!==n&&n.standalone}function Cr(t,n){const i=t[en]||null;if(!i&&!0===n)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return i}function Io(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Eo(t.inputs,n),outputs:Eo(t.outputs)}}function Gi(t){t.features?.forEach(n=>n(t))}function Po(t,n){if(!t)return null;const i=n?Yr:Hi;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(yr)}const kr=0,Yt=1,Ln=2,Jn=3,yi=4,Mo=5,qr=6,ao=7,wr=8,Wi=9,qi=10,Vn=11,Vi=12,Qr=13,q=14,j=15,fe=16,Ee=17,$e=18,mt=19,Gt=20,hn=21,Rt=22,un=23,Zn=24,wn=25,Hr=1,Xr=2,Zr=7,Ui=9,Xn=11;function zr(t){return Array.isArray(t)&&"object"==typeof t[Hr]}function Tr(t){return Array.isArray(t)&&!0===t[Hr]}function Go(t){return 0!=(4&t.flags)}function Mi(t){return t.componentOffset>-1}function Es(t){return 1==(1&t.flags)}function Zi(t){return!!t.template}function Ls(t){return 0!=(512&t[Ln])}function po(t,n){return t.hasOwnProperty(bn)?t[bn]:null}let Vr=null,Vs=!1;function Oi(t){const n=Vr;return Vr=t,n}const tu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ws(t){if(!Uo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ma(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xo(t){t.dirty=!0,function Ro(t){if(void 0===t.liveConsumerNode)return;const n=Vs;Vs=!0;try{for(const i of t.liveConsumerNode)i.dirty||xo(i)}finally{Vs=n}}(t),t.consumerMarkedDirty?.(t)}function zn(t){return t&&(t.nextProducerIndex=0),Oi(t)}function Ws(t,n){if(Oi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Uo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)bs(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ma(t){ns(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(ws(i),s!==i.version))return!0}return!1}function Ts(t){if(ns(t),Uo(t))for(let n=0;n<t.producerNode.length;n++)bs(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bs(t,n){if(function ca(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ns(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)bs(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];ns(c),c.producerIndexOfThis[s]=n}}function Uo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ns(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Bs=null;function dt(t){const n=Oi(null);try{return t()}finally{Oi(n)}}const mn=()=>{},pr=(()=>({...tu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:mn}))();class Pr{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function or(){return Kr}function Kr(t){return t.type.prototype.ngOnChanges&&(t.setInput=hi),Ur}function Ur(){const t=mo(this),n=t?.current;if(n){const i=t.previous;if(i===Fr)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function hi(t,n,i,s){const c=this.declaredInputs[i],d=mo(t)||function As(t,n){return t[Ki]=n}(t,{previous:Fr,current:null}),_=d.current||(d.current={}),I=d.previous,D=I[c];_[c]=new Pr(D&&D.currentValue,n,I===Fr),t[s]=n}or.ngInherit=!0;const Ki="__ngSimpleChanges__";function mo(t){return t[Ki]||null}const Hn=function(t,n,i){};function ni(t){for(;Array.isArray(t);)t=t[kr];return t}function Ys(t,n){return ni(n[t])}function bo(t,n){return ni(n[t.index])}function ju(t,n){return t.data[n]}function Ss(t,n){return t[n]}function ri(t,n){const i=n[t];return zr(i)?i:i[kr]}function rs(t,n){return null==n?null:t[n]}function Ps(t){t[Ee]=0}function su(t){1024&t[Ln]||(t[Ln]|=1024,wc(t,1))}function Cc(t){1024&t[Ln]&&(t[Ln]&=-1025,wc(t,-1))}function wc(t,n){let i=t[Jn];if(null===i)return;i[Mo]+=n;let s=i;for(i=i[Jn];null!==i&&(1===n&&1===s[Mo]||-1===n&&0===s[Mo]);)i[Mo]+=n,s=i,i=i[Jn]}const qn={lFrame:Q(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ti(){return qn.bindingsEnabled}function Ft(){return qn.lFrame.lView}function br(){return qn.lFrame.tView}function zu(t){return qn.lFrame.contextLView=t,t[wr]}function pa(t){return qn.lFrame.contextLView=null,t}function uo(){let t=Bi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bi(){return qn.lFrame.currentTNode}function Do(t,n){const i=qn.lFrame;i.currentTNode=t,i.isParent=n}function ga(){return qn.lFrame.isParent}function Na(){qn.lFrame.isParent=!1}function co(){const t=qn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function os(){return qn.lFrame.bindingIndex++}function Js(t,n){const i=qn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Fa(n)}function Fa(t){qn.lFrame.currentDirectiveIndex=t}function ss(){return qn.lFrame.currentQueryIndex}function C(t){qn.lFrame.currentQueryIndex=t}function A(t){const n=t[Yt];return 2===n.type?n.declTNode:1===n.type?t[qr]:null}function E(t,n,i){if(i&cn.SkipSelf){let c=n,d=t;for(;!(c=c.parent,null!==c||i&cn.Host||(c=A(d),null===c||(d=d[q],10&c.type))););if(null===c)return!1;n=c,t=d}const s=qn.lFrame=F();return s.currentTNode=n,s.lView=t,!0}function S(t){const n=F(),i=t[Yt];qn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function F(){const t=qn.lFrame,n=null===t?null:t.child;return null===n?Q(t):n}function Q(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function pe(){const t=qn.lFrame;return qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ut=pe;function st(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ar(){return qn.lFrame.selectedIndex}function ur(t){qn.lFrame.selectedIndex=t}function Br(){const t=qn.lFrame;return ju(t.tView,t.selectedIndex)}let pd=!0;function qu(){return pd}function Xs(t){pd=t}function he(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:L,ngOnDestroy:K}=d;_&&(t.contentHooks??=[]).push(-i,_),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),D&&(t.viewHooks??=[]).push(-i,D),L&&((t.viewHooks??=[]).push(i,L),(t.viewCheckHooks??=[]).push(i,L)),null!=K&&(t.destroyHooks??=[]).push(i,K)}}function ee(t,n,i){zt(t,n,3,i)}function Ae(t,n,i,s){(3&t[Ln])===i&&zt(t,n,i,s)}function it(t,n){let i=t[Ln];(3&i)===n&&(i&=8191,i+=1,t[Ln]=i)}function zt(t,n,i,s){const d=s??-1,_=n.length-1;let I=0;for(let D=void 0!==s?65535&t[Ee]:0;D<_;D++)if("number"==typeof n[D+1]){if(I=n[D],null!=s&&I>=s)break}else n[D]<0&&(t[Ee]+=65536),(I<d||-1==d)&&(fi(t,i,n,D),t[Ee]=(4294901760&t[Ee])+D+2),D++}function rn(t,n){Hn(4,t,n);const i=Oi(null);try{n.call(t)}finally{Oi(i),Hn(5,t,n)}}function fi(t,n,i,s){const c=i[s]<0,d=i[s+1],I=t[c?-i[s]:i[s]];c?t[Ln]>>13<t[Ee]>>16&&(3&t[Ln])===n&&(t[Ln]+=8192,rn(I,d)):rn(I,d)}const Kn=-1;class ro{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function $s(t){return t!==Kn}function io(t){return 32767&t}function Zo(t,n){let i=function lu(t){return t>>16}(t),s=n;for(;i>0;)s=s[q],i--;return s}let Hs=!0;function Os(t){const n=Hs;return Hs=t,n}const Sc=255,yo=5;let Ch=0;const No={};function Pc(t,n){const i=Ea(t,n);if(-1!==i)return i;const s=n[Yt];s.firstCreatePass&&(t.injectorIndex=n.length,Ns(s.data,t),Ns(n,null),Ns(s.blueprint,null));const c=du(t,n),d=t.injectorIndex;if($s(c)){const _=io(c),I=Zo(c,n),D=I[Yt].data;for(let L=0;L<8;L++)n[d+L]=I[_+L]|D[_+L]}return n[d+8]=c,d}function Ns(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ea(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function du(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,c=n;for(;null!==c;){if(s=yd(c),null===s)return Kn;if(i++,c=c[q],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return Kn}function Ia(t,n,i){!function fl(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Pn)&&(s=i[Pn]),null==s&&(s=i[Pn]=Ch++);const c=s&Sc;n.data[t+(c>>yo)]|=1<<c}(t,n,i)}function Ua(t,n,i){if(i&cn.Optional||void 0!==t)return t;Ht()}function pl(t,n,i,s){if(i&cn.Optional&&void 0===s&&(s=null),!(i&(cn.Self|cn.Host))){const c=t[Wi],d=ir(void 0);try{return c?c.get(n,s,i&cn.Optional):cr(n,s,i&cn.Optional)}finally{ir(d)}}return Ua(s,0,i)}function Ca(t,n,i,s=cn.Default,c){if(null!==t){if(2048&n[Ln]&&!(s&cn.Self)){const _=function fu(t,n,i,s,c){let d=t,_=n;for(;null!==d&&null!==_&&2048&_[Ln]&&!(512&_[Ln]);){const I=gd(d,_,i,s|cn.Self,No);if(I!==No)return I;let D=d.parent;if(!D){const L=_[Gt];if(L){const K=L.get(i,No,s);if(K!==No)return K}D=yd(_),_=_[q]}d=D}return c}(t,n,i,s,No);if(_!==No)return _}const d=gd(t,n,i,s,No);if(d!==No)return d}return pl(n,i,s,c)}function gd(t,n,i,s,c){const d=function gl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Pn)?t[Pn]:void 0;return"number"==typeof n?n>=0?n&Sc:_d:n}(i);if("function"==typeof d){if(!E(n,t,s))return s&cn.Host?Ua(c,0,s):pl(n,i,s,c);try{let _;if(_=d(s),null!=_||s&cn.Optional)return _;Ht()}finally{ut()}}else if("number"==typeof d){let _=null,I=Ea(t,n),D=Kn,L=s&cn.Host?n[j][qr]:null;for((-1===I||s&cn.SkipSelf)&&(D=-1===I?du(t,n):n[I+8],D!==Kn&&Rc(s,!1)?(_=n[Yt],I=io(D),n=Zo(D,n)):I=-1);-1!==I;){const K=n[Yt];if(Th(d,I,K.data)){const de=md(I,n,i,_,s,L);if(de!==No)return de}D=n[I+8],D!==Kn&&Rc(s,n[Yt].data[I+8]===L)&&Th(d,I,n)?(_=K,I=io(D),n=Zo(D,n)):I=-1}}return c}function md(t,n,i,s,c,d){const _=n[Yt],I=_.data[t+8],K=Mc(I,_,i,null==s?Mi(I)&&Hs:s!=_&&0!=(3&I.type),c&cn.Host&&d===I);return null!==K?hu(n,_,K,I):No}function Mc(t,n,i,s,c){const d=t.providerIndexes,_=n.data,I=1048575&d,D=t.directiveStart,K=d>>20,Ue=c?I+K:t.directiveEnd;for(let tt=s?I:I+K;tt<Ue;tt++){const bt=_[tt];if(tt<D&&i===bt||tt>=D&&bt.type===i)return tt}if(c){const tt=_[D];if(tt&&Zi(tt)&&tt.type===i)return D}return null}function hu(t,n,i,s){let c=t[i];const d=n.data;if(function Rs(t){return t instanceof ro}(c)){const _=c;_.resolving&&function _t(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Le(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}(d[i]));const I=Os(_.canSeeViewProviders);_.resolving=!0;const L=_.injectImpl?ir(_.injectImpl):null;E(t,s,cn.Default);try{c=t[i]=_.factory(void 0,d,t,s),n.firstCreatePass&&i>=s.directiveStart&&function se(t,n,i){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:d}=n.type.prototype;if(s){const _=Kr(n);(i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_)}c&&(i.preOrderHooks??=[]).push(0-t,c),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],n)}finally{null!==L&&ir(L),Os(I),_.resolving=!1,ut()}}return c}function Th(t,n,i){return!!(i[n+(t>>yo)]&1<<t)}function Rc(t,n){return!(t&cn.Self||t&cn.Host&&n)}class Ao{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Ca(this._tNode,this._lView,n,Qt(s),i)}}function _d(){return new Ao(uo(),Ft())}function xc(t){return Gr(()=>{const n=t.prototype.constructor,i=n[bn]||ea(n),s=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==s;){const d=c[bn]||ea(c);if(d&&d!==i)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function ea(t){return Vt(t)?()=>{const n=ea(yt(t));return n&&n()}:po(t)}function yd(t){const n=t[Yt],i=n.type;return 2===i?n.declTNode:1===i?t[qr]:null}function Oc(t){return function wh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let c=0;for(;c<s;){const d=i[c];if(ci(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<s&&"string"==typeof i[c];)c++;else{if(d===n)return i[c+1];c+=2}}}return null}(uo(),t)}const ja="__parameters__";function ji(t,n,i){return Gr(()=>{const s=function gu(t){return function(...i){if(t){const s=t(...i);for(const c in s)this[c]=s[c]}}}(n);function c(...d){if(this instanceof c)return s.apply(this,d),this;const _=new c(...d);return I.annotation=_,I;function I(D,L,K){const de=D.hasOwnProperty(ja)?D[ja]:Object.defineProperty(D,ja,{value:[]})[ja];for(;de.length<=K;)de.push(null);return(de[K]=de[K]||[]).push(_),D}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Ha(t,n){t.forEach(i=>Array.isArray(i)?Ha(i,n):n(i))}function wd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ml(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ms(t,n,i){let s=Ju(t,n);return s>=0?t[1|s]=i:(s=~s,function Mh(t,n,i,s){let c=t.length;if(c==n)t.push(i,s);else if(1===c)t.push(s,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function _l(t,n){const i=Ju(t,n);if(i>=0)return t[1|i]}function Ju(t,n){return function wa(t,n,i){let s=0,c=t.length>>i;for(;c!==s;){const d=s+(c-s>>1),_=t[d<<i];if(n===_)return d<<i;_>n?c=d:s=d+1}return~(c<<i)}(t,n,1)}const _u=vn(ji("Optional"),8),Ta=vn(ji("SkipSelf"),4);function bl(t){return 128==(128&t.flags)}var Dl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dl||{});const Qg=/^>|^->|<!--|-->|--!>|<!-$/g,Al=/(<|>)/g,cp="\u200b$1\u200b";const lp=new Map;let Xg=0;const xd="__ngContext__";function Ko(t,n){zr(n)?(t[xd]=n[mt],function K_(t){lp.set(t[mt],t)}(n)):t[xd]=n}let pp;function Od(t,n){return pp(t,n)}function jc(t){const n=t[Jn];return Tr(n)?n[Jn]:n}function nm(t){return Hh(t[Vi])}function $h(t){return Hh(t[yi])}function Hh(t){for(;null!==t&&!Tr(t);)t=t[yi];return t}function $c(t,n,i,s,c){if(null!=s){let d,_=!1;Tr(s)?d=s:zr(s)&&(_=!0,s=s[kr]);const I=ni(s);0===t&&null!==i?null==c?lm(n,i,I):bu(n,i,I,c||null,!0):1===t&&null!==i?bu(n,i,I,c||null,!0):2===t?function Xh(t,n,i){const s=Kh(t,n);s&&function ty(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,I,_):3===t&&n.destroyNode(I),null!=d&&function Tp(t,n,i,s,c){const d=i[Zr];d!==ni(i)&&$c(n,t,s,d,c);for(let I=Xn;I<i.length;I++){const D=i[I];zc(D[Yt],D,t,n,s,d)}}(n,t,d,i,c)}}function zh(t,n){return t.createComment(function Jg(t){return t.replace(Qg,n=>n.replace(Al,cp))}(n))}function Gh(t,n,i){return t.createElement(n,i)}function um(t,n){const i=t[Ui],s=i.indexOf(n);Cc(n),i.splice(s,1)}function Wh(t,n){if(t.length<=Xn)return;const i=Xn+n,s=t[i];if(s){const c=s[fe];null!==c&&c!==t&&um(c,s),n>0&&(t[i-1][yi]=s[yi]);const d=ml(t,Xn+n);!function im(t,n){zc(t,n,n[Vn],2,null,null),n[kr]=null,n[qr]=null}(s[Yt],s);const _=d[$e];null!==_&&_.detachView(d[Yt]),s[Jn]=null,s[yi]=null,s[Ln]&=-129}return s}function Nd(t,n){if(!(256&n[Ln])){const i=n[Vn];n[un]&&Ts(n[un]),n[Zn]&&Ts(n[Zn]),i.destroyNode&&zc(t,n,i,3,null,null),function am(t){let n=t[Vi];if(!n)return _p(t[Yt],t);for(;n;){let i=null;if(zr(n))i=n[Vi];else{const s=n[Xn];s&&(i=s)}if(!i){for(;n&&!n[yi]&&n!==t;)zr(n)&&_p(n[Yt],n),n=n[Jn];null===n&&(n=t),zr(n)&&_p(n[Yt],n),i=n&&n[yi]}n=i}}(n)}}function _p(t,n){if(!(256&n[Ln])){n[Ln]&=-129,n[Ln]|=256,function cm(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const c=n[i[s]];if(!(c instanceof ro)){const d=i[s+1];if(Array.isArray(d))for(let _=0;_<d.length;_+=2){const I=c[d[_]],D=d[_+1];Hn(4,I,D);try{D.call(I)}finally{Hn(5,I,D)}}else{Hn(4,c,d);try{d.call(c)}finally{Hn(5,c,d)}}}}}(t,n),function yp(t,n){const i=t.cleanup,s=n[ao];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const _=i[d+3];_>=0?s[_]():s[-_].unsubscribe(),d+=2}else i[d].call(s[i[d+1]]);null!==s&&(n[ao]=null);const c=n[hn];if(null!==c){n[hn]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,n),1===n[Yt].type&&n[Vn].destroy();const i=n[fe];if(null!==i&&Tr(n[Jn])){i!==n[Jn]&&um(i,n);const s=n[$e];null!==s&&s.detachView(t)}!function Y_(t){lp.delete(t[mt])}(n)}}function kd(t,n,i){return function qh(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[kr];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:d}=t.data[s.directiveStart+c];if(d===$i.None||d===$i.Emulated)return null}return bo(s,i)}}(t,n.parent,i)}function bu(t,n,i,s,c){t.insertBefore(n,i,s,c)}function lm(t,n,i){t.appendChild(n,i)}function Zh(t,n,i,s,c){null!==s?bu(t,n,i,s,c):lm(t,n,i)}function Kh(t,n){return t.parentNode(n)}let Cp,nf,Sp,kl,Ip=function Yh(t,n,i){return 40&t.type?bo(t,i):null};function Jh(t,n,i,s){const c=kd(t,s,n),d=n[Vn],I=function Ep(t,n,i){return Ip(t,n,i)}(s.parent||n[qr],s,n);if(null!=c)if(Array.isArray(i))for(let D=0;D<i.length;D++)Zh(d,c,i[D],I,!1);else Zh(d,c,i,I,!1);void 0!==Cp&&Cp(d,s,n,i,c)}function Hc(t,n){if(null!==n){const i=n.type;if(3&i)return bo(n,t);if(4&i)return Fd(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return Hc(t,s);{const c=t[n.index];return Tr(c)?Fd(-1,c):ni(c)}}if(32&i)return Od(n,t)()||ni(t[n.index]);{const s=hm(t,n);return null!==s?Array.isArray(s)?s[0]:Hc(jc(t[j]),s):Hc(t,n.next)}}return null}function hm(t,n){return null!==n?t[j][qr].projection[n.projection]:null}function Fd(t,n){const i=Xn+t+1;if(i<n.length){const s=n[i],c=s[Yt].firstChild;if(null!==c)return Hc(s,c)}return n[Zr]}function Ld(t,n,i,s,c,d,_){for(;null!=i;){const I=s[i.index],D=i.type;if(_&&0===n&&(I&&Ko(ni(I),s),i.flags|=2),32!=(32&i.flags))if(8&D)Ld(t,n,i.child,s,c,d,!1),$c(n,t,c,I,d);else if(32&D){const L=Od(i,s);let K;for(;K=L();)$c(n,t,c,K,d);$c(n,t,c,I,d)}else 16&D?wp(t,n,s,i,c,d):$c(n,t,c,I,d);i=_?i.projectionNext:i.next}}function zc(t,n,i,s,c,d){Ld(i,s,t.firstChild,n,c,d,!1)}function wp(t,n,i,s,c,d){const _=i[j],D=_[qr].projection[s.projection];if(Array.isArray(D))for(let L=0;L<D.length;L++)$c(n,t,c,D[L],d);else{let L=D;const K=_[Jn];bl(s)&&(L.flags|=128),Ld(t,n,L,K,c,d,!0)}}function qa(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function tf(t,n,i){const{mergedAttrs:s,classes:c,styles:d}=i;null!==s&&fr(t,n,s),null!==c&&qa(t,n,c),null!==d&&function bp(t,n,i){t.setAttribute(n,"style",i)}(t,n,d)}function Ol(t){return function Vd(){if(void 0===nf&&(nf=null,Rn.trustedTypes))try{nf=Rn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nf}()?.createHTML(t)||t}function Pp(t){Sp=t}function Nl(){if(void 0!==Sp)return Sp;if(typeof document<"u")return document;throw new Le(210,!1)}function rf(){if(void 0===kl&&(kl=null,Rn.trustedTypes))try{kl=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kl}function sf(t){return rf()?.createHTML(t)||t}function fm(t){return rf()?.createScriptURL(t)||t}class pm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}function rc(t){return t instanceof pm?t.changingThisBreaksApplicationSecurity:t}function Du(t,n){const i=function oy(t){return t instanceof pm&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${We})`)}return i===n}class uy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ol(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class cy{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Ol(n),i}}const uf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bd(t){return(t=String(t)).match(uf)?t:"unsafe:"+t}function ba(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Gc(...t){const n={};for(const i of t)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const kp=ba("area,br,col,hr,img,wbr"),cf=ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lf=ba("rp,rt"),ic=Gc(kp,Gc(cf,ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gc(lf,ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gc(lf,cf)),df=ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wc=Gc(df,ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lp=ba("script,style,template");class fy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!ic.hasOwnProperty(i))return this.sanitizedSomething=!0,!Lp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let c=0;c<s.length;c++){const d=s.item(c),_=d.name,I=_.toLowerCase();if(!Wc.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let D=d.value;df[I]&&(D=Bd(D)),this.buf.push(" ",_,'="',Vp(D),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();ic.hasOwnProperty(i)&&!kp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Vp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const py=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gy=/([^\#-~ |!])/g;function Vp(t){return t.replace(/&/g,"&amp;").replace(py,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(gy,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hf;function Up(t){return"content"in t&&function my(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fl||{});function Em(t){const n=vr();return n?sf(n.sanitize(Fl.HTML,t)||""):Du(t,"HTML")?sf(rc(t)):function vm(t,n){let i=null;try{hf=hf||function mm(t){const n=new cy(t);return function ly(){try{return!!(new window.DOMParser).parseFromString(Ol(""),"text/html")}catch{return!1}}()?new uy(n):n}(t);let s=n?String(n):"";i=hf.getInertBodyElement(s);let c=5,d=s;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,s=d,d=i.innerHTML,i=hf.getInertBodyElement(s)}while(s!==d);return Ol((new fy).sanitizeChildren(Up(i)||i))}finally{if(i){const s=Up(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}(Nl(),Ke(t))}function Bp(t){const n=vr();return n?n.sanitize(Fl.URL,t)||"":Du(t,"URL")?rc(t):Bd(Ke(t))}function Im(t){const n=vr();if(n)return fm(n.sanitize(Fl.RESOURCE_URL,t)||"");if(Du(t,"ResourceURL"))return fm(rc(t));throw new Le(904,!1)}function $p(t,n,i){return function Tm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Im:Bp}(n,i)(t)}function vr(){const t=Ft();return t&&t[qi].sanitizer}const Ll=new Xt("ENVIRONMENT_INITIALIZER"),zp=new Xt("INJECTOR",-1),Vl=new Xt("INJECTOR_DEF_TYPES");class ff{get(n,i=Tn){if(i===Tn){const s=new Error(`NullInjectorError: No provider for ${Me(n)}!`);throw s.name="NullInjectorError",s}return i}}function ko(t){return{\u0275providers:t}}function lo(...t){return{\u0275providers:Da(0,t),\u0275fromNgModule:!0}}function Da(t,...n){const i=[],s=new Set;let c;const d=_=>{i.push(_)};return Ha(n,_=>{const I=_;pf(I,d,[],s)&&(c||=[],c.push(I))}),void 0!==c&&bm(c,d),i}function bm(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:c}=t[i];Gp(c,d=>{n(d,s)})}}function pf(t,n,i,s){if(!(t=yt(t)))return!1;let c=null,d=Dr(t);const _=!d&&Nn(t);if(d||_){if(_&&!_.standalone)return!1;c=t}else{const D=t.ngModule;if(d=Dr(D),!d)return!1;c=D}const I=s.has(c);if(_){if(I)return!1;if(s.add(c),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const L of D)pf(L,n,i,s)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let L;s.add(c);try{Ha(d.imports,K=>{pf(K,n,i,s)&&(L||=[],L.push(K))})}finally{}void 0!==L&&bm(L,n)}if(!I){const L=po(c)||(()=>new c);n({provide:c,useFactory:L,deps:Wn},c),n({provide:Vl,useValue:c,multi:!0},c),n({provide:Ll,useValue:()=>Pt(c),multi:!0},c)}const D=d.providers;if(null!=D&&!I){const L=t;Gp(D,K=>{n(K,L)})}}}return c!==t&&void 0!==t.providers}function Gp(t,n){for(let i of t)Tt(i)&&(i=i.\u0275providers),Array.isArray(i)?Gp(i,n):n(i)}const Wp=oe({provide:String,useValue:oe});function qp(t){return null!==t&&"object"==typeof t&&Wp in t}function qc(t){return"function"==typeof t}const Am=new Xt("Set Injector scope."),mf={},Qi={};let _f;function yf(){return void 0===_f&&(_f=new ff),_f}class Za{}class Zc extends Za{get destroyed(){return this._destroyed}constructor(n,i,s,c){super(),this.parent=i,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kc(n,_=>this.processProvider(_)),this.records.set(zp,jd(void 0,this)),c.has("environment")&&this.records.set(Za,jd(void 0,this));const d=this.records.get(Am);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Vl.multi,Wn,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=xe(this),s=ir(void 0);try{return n()}finally{xe(i),ir(s)}}get(n,i=Tn,s=cn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(dn))return n[dn](this);s=Qt(s);const d=xe(this),_=ir(void 0);try{if(!(s&cn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const L=function Pm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Xt}(n)&&En(n);D=L&&this.injectableDefInScope(L)?jd(Zp(n),mf):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(s&cn.Self?yf():this.parent).get(n,i=s&cn.Optional&&i===Tn?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[Yn]=I[Yn]||[]).unshift(Me(n)),d)throw I;return function ki(t,n,i,s){const c=t[Yn];throw n[x]&&c.unshift(n[x]),t.message=function Di(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Me(n);if(Array.isArray(n))c=n.map(Me).join(" -> ");else if("object"==typeof n){let d=[];for(let _ in n)if(n.hasOwnProperty(_)){let I=n[_];d.push(_+":"+("string"==typeof I?JSON.stringify(I):Me(I)))}c=`{${d.join(", ")}}`}return`${i}${s?"("+s+")":""}[${c}]: ${t.replace(Y,"\n  ")}`}("\n"+t.message,c,i,s),t.ngTokenPath=c,t[Yn]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{ir(_),xe(d)}}resolveInjectorInitializers(){const n=xe(this),i=ir(void 0);try{const c=this.get(Ll.multi,Wn,cn.Self);for(const d of c)d()}finally{xe(n),ir(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Me(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(n){let i=qc(n=yt(n))?n:yt(n&&n.provide);const s=function Iy(t){return qp(t)?jd(void 0,t.useValue):jd(Sm(t),mf)}(n);if(qc(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=jd(void 0,mf,!0),c.factory=()=>Gn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===mf&&(i.value=Qi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function wy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=yt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Zp(t){const n=En(t),i=null!==n?n.factory:po(t);if(null!==i)return i;if(t instanceof Xt)throw new Le(204,!1);if(t instanceof Function)return function Ey(t){const n=t.length;if(n>0)throw function Qu(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}(n,"?"),new Le(204,!1);const i=function Nt(t){return t&&(t[tn]||t[Fn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Le(204,!1)}function Sm(t,n,i){let s;if(qc(t)){const c=yt(t);return po(c)||Zp(c)}if(qp(t))s=()=>yt(t.useValue);else if(function Dm(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Gn(t.deps||[]));else if(function gf(t){return!(!t||!t.useExisting)}(t))s=()=>Pt(yt(t.useExisting));else{const c=yt(t&&(t.useClass||t.provide));if(!function Cy(t){return!!t.deps}(t))return po(c)||Zp(c);s=()=>new c(...Gn(t.deps))}return s}function jd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Kc(t,n){for(const i of t)Array.isArray(i)?Kc(i,n):i&&Tt(i)?Kc(i.\u0275providers,n):n(i)}const Mm=new Xt("AppId",{providedIn:"root",factory:()=>oc}),oc="ng",Au=new Xt("Platform Initializer"),Rm=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ty=new Xt("CSP nonce",{providedIn:"root",factory:()=>Nl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zl=(t,n,i)=>null;function Gl(t,n,i=!1){return zl(t,n,i)}class oE{}class xy{}class Oy{resolveComponentFactory(n){throw function eg(t){const n=Error(`No component factory found for ${Me(t)}.`);return n.ngComponent=t,n}(n)}}let Cf=(()=>{class t{static#e=this.NULL=new Oy}return t})();function wf(){return Zl(uo(),Ft())}function Zl(t,n){return new qd(bo(t,n))}let qd=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=wf}return t})();function Tf(t){return t instanceof qd?t.nativeElement:t}class Nm{}let Ny=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function km(){const t=Ft(),i=ri(uo().index,t);return(zr(i)?i:t)[Vn]}()}return t})(),Fm=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>null})}return t})();class ng{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rg=new ng("16.2.12"),bf={};function ac(t,n=null,i=null,s){const c=Bm(t,n,i,s);return c.resolveInjectorInitializers(),c}function Bm(t,n=null,i=null,s,c=new Set){const d=[i||Wn,lo(t)];return s=s||("object"==typeof t?void 0:Me(t)),new Zc(d,n||yf(),s||null,c)}let Aa=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Tn;static#t=this.NULL=new ff;static create(i,s){if(Array.isArray(i))return ac({name:""},s,i,"");{const c=i.name??"";return ac({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=_n({token:t,providedIn:"any",factory:()=>Pt(zp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ig(t){return t.ngOriginalError}class uc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ig(n);for(;i&&ig(i);)i=ig(i);return i||null}}function sg(t){return n=>{setTimeout(t,void 0,n)}}const Ya=class Ly extends l.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let c=n,d=i||(()=>null),_=s;if(n&&"object"==typeof n){const D=n;c=D.next?.bind(D),d=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(d=sg(d),c&&(c=sg(c)),_&&(_=sg(_)));const I=super.subscribe({next:c,error:d,complete:_});return n instanceof y.w0&&n.add(I),I}};function $m(...t){}class so{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&i,c.shouldCoalesceRunChangeDetection=s,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Vy(){const t="function"==typeof Rn.requestAnimationFrame;let n=Rn[t?"requestAnimationFrame":"setTimeout"],i=Rn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function By(t){const n=()=>{!function Uy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ug(t),t.isCheckStableRunning=!0,Hm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ug(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,c,d,_,I)=>{if(function hE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,d,_,I);try{return zm(t),i.invokeTask(c,d,_,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),Gm(t)}},onInvoke:(i,s,c,d,_,I,D)=>{try{return zm(t),i.invoke(c,d,_,I,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),Gm(t)}},onHasTask:(i,s,c,d)=>{i.hasTask(c,d),s===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,ug(t),Hm(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,s,c,d)=>(i.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!so.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(so.isInAngularZone())throw new Le(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,c){const d=this._inner,_=d.scheduleEventTask("NgZoneEvent: "+c,n,ag,$m,$m);try{return d.runTask(_,i,s)}finally{d.cancelTask(_)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const ag={};function Hm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ug(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gm(t){t._nesting--,Hm(t)}class dE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,c){return n.apply(i,s)}}const jy=new Xt("",{providedIn:"root",factory:$y});function $y(){const t=Zt(so);let n=!0;const i=new z.y(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),s=new z.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{so.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const _=t.onUnstable.subscribe(()=>{so.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),_.unsubscribe()}});return(0,Ce.T)(i,s.pipe((0,je.B)()))}function Mu(t){return t instanceof Function?t():t}let cg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kd(t){for(;t;){t[Ln]|=64;const n=jc(t);if(Ls(t)&&!n)return t;t=n}return null}const Wy=new Xt("",{providedIn:"root",factory:()=>!1});let Yl=null;function Yd(t,n){return t[n]??o()}function a(t,n){const i=o();i.producerNode?.length&&(t[n]=Yl,i.lView=t,Yl=r())}const e={...tu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kd(t.lView)},lView:null};function r(){return Object.create(e)}function o(){return Yl??=r(),Yl}const u={};function f(t){m(br(),Ft(),ar()+t,!1)}function m(t,n,i,s){if(!s)if(3==(3&n[Ln])){const d=t.preOrderCheckHooks;null!==d&&ee(n,d,i)}else{const d=t.preOrderHooks;null!==d&&Ae(n,d,0,i)}ur(i)}function T(t,n=cn.Default){const i=Ft();return null===i?Pt(t,n):Ca(uo(),i,yt(t),n)}function M(){throw new Error("invalid")}function te(t,n,i,s,c,d,_,I,D,L,K){const de=n.blueprint.slice();return de[kr]=c,de[Ln]=140|s,(null!==L||t&&2048&t[Ln])&&(de[Ln]|=2048),Ps(de),de[Jn]=de[q]=t,de[wr]=i,de[qi]=_||t&&t[qi],de[Vn]=I||t&&t[Vn],de[Wi]=D||t&&t[Wi]||null,de[qr]=d,de[mt]=function em(){return Xg++}(),de[Rt]=K,de[Gt]=L,de[j]=2==n.type?t[j]:de,de}function le(t,n,i,s,c){let d=t.data[n];if(null===d)d=function Re(t,n,i,s,c){const d=Bi(),_=ga(),D=t.data[n]=function nt(t,n,i,s,c,d){let _=n?n.injectorIndex:-1,I=0;return function Qs(){return null!==qn.skipHydrationRootTNode}()&&(I|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?d:d&&d.parent,i,n,s,c);return null===t.firstChild&&(t.firstChild=D),null!==d&&(_?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(t,n,i,s,c),function cu(){return qn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=s,d.attrs=c;const _=function Oa(){const t=qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===_?-1:_.injectorIndex}return Do(d,!0),d}function ot(t,n,i,s){if(0===i)return-1;const c=n.length;for(let d=0;d<i;d++)n.push(s),t.blueprint.push(s),t.data.push(null);return c}function kt(t,n,i,s,c){const d=Yd(n,un),_=ar(),I=2&s;try{ur(-1),I&&n.length>wn&&m(t,n,wn,!1),Hn(I?2:0,c);const L=I?d:null,K=zn(L);try{null!==L&&(L.dirty=!1),i(s,c)}finally{Ws(L,K)}}finally{I&&null===n[un]&&a(n,un),ur(_),Hn(I?3:1,c)}}function Kt(t,n,i){if(Go(n)){const s=Oi(null);try{const d=n.directiveEnd;for(let _=n.directiveStart;_<d;_++){const I=t.data[_];I.contentQueries&&I.contentQueries(1,i[_],_)}}finally{Oi(s)}}}function $t(t,n,i){Ti()&&(function Xy(t,n,i,s){const c=i.directiveStart,d=i.directiveEnd;Mi(i)&&function hg(t,n,i){const s=bo(n,t),c=Bn(i);let _=16;i.signals?_=4096:i.onPush&&(_=64);const I=Jl(t,te(t,c,null,_,s,n,null,t[qi].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=I}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Pc(i,n),Ko(s,n);const _=i.initialInputs;for(let I=c;I<d;I++){const D=t.data[I],L=hu(n,t,I,i);Ko(L,n),null!==_&&Xm(0,I-c,L,D,0,_),Zi(D)&&(ri(i.index,n)[wr]=hu(n,t,I,i))}}(t,n,i,bo(i,n)),64==(64&i.flags)&&Ql(t,n,i))}function An(t,n,i=bo){const s=n.localNames;if(null!==s){let c=n.index+1;for(let d=0;d<s.length;d+=2){const _=s[d+1],I=-1===_?i(n,t):t[_];t[c++]=I}}}function Bn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Mn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Mn(t,n,i,s,c,d,_,I,D,L,K){const de=wn+s,Ue=de+c,tt=function dr(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:u);return i}(de,Ue),bt="function"==typeof L?L():L;return tt[Yt]={type:t,blueprint:tt,template:i,queries:null,viewQuery:I,declTNode:n,data:tt.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:bt,incompleteFirstPass:!1,ssrId:K}}let Ze=t=>null;function lt(t,n,i,s){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const d=t[c];null===s?Oe(i,n,c,d):s.hasOwnProperty(c)&&Oe(i,n,s[c],d)}return i}function Oe(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function zs(t,n,i,s,c,d,_,I){const D=bo(n,i);let K,L=n.inputs;!I&&null!=L&&(K=L[s])?(Qo(t,i,K,s,c),Mi(n)&&function Jd(t,n){const i=ri(n,t);16&i[Ln]||(i[Ln]|=64)}(i,n.index)):3&n.type&&(s=function Qd(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),c=null!=_?_(c,n.value||"",s):c,d.setProperty(D,s,c))}function Sf(t,n,i,s){if(Ti()){const c=null===s?null:{"":-1},d=function eh(t,n){const i=t.directiveRegistry;let s=null,c=null;if(i)for(let d=0;d<i.length;d++){const _=i[d];if(rr(n,_.selectors,!1))if(s||(s=[]),Zi(_))if(null!==_.findHostDirectiveDefs){const I=[];c=c||new Map,_.findHostDirectiveDefs(_,I,c),s.unshift(...I,_),lg(t,n,I.length)}else s.unshift(_),lg(t,n,0);else c=c||new Map,_.findHostDirectiveDefs?.(_,s,c),s.push(_)}return null===s?null:[s,c]}(t,i);let _,I;null===d?_=I=null:[_,I]=d,null!==_&&Jm(t,n,i,_,c,I),c&&function tv(t,n,i){if(n){const s=t.localNames=[];for(let c=0;c<n.length;c+=2){const d=i[n[c+1]];if(null==d)throw new Le(-301,!1);s.push(n[c],d)}}}(i,s,c)}i.mergedAttrs=lr(i.mergedAttrs,i.attrs)}function Jm(t,n,i,s,c,d){for(let L=0;L<s.length;L++)Ia(Pc(i,n),t,s[L].type);!function Mf(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let L=0;L<s.length;L++){const K=s[L];K.providersResolver&&K.providersResolver(K)}let _=!1,I=!1,D=ot(t,n,s.length,null);for(let L=0;L<s.length;L++){const K=s[L];i.mergedAttrs=lr(i.mergedAttrs,K.hostAttrs),dg(t,i,n,D,K),Pf(D,K,c),null!==K.contentQueries&&(i.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(i.flags|=64);const de=K.type.prototype;!_&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),_=!0),!I&&(de.ngOnChanges||de.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),D++}!function Ru(t,n,i){const c=n.directiveEnd,d=t.data,_=n.attrs,I=[];let D=null,L=null;for(let K=n.directiveStart;K<c;K++){const de=d[K],Ue=i?i.get(de):null,bt=Ue?Ue.outputs:null;D=lt(de.inputs,K,D,Ue?Ue.inputs:null),L=lt(de.outputs,K,L,bt);const Wt=null===D||null===_||Wr(n)?null:nv(D,K,_);I.push(Wt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=D,n.outputs=L}(t,i,d)}function Ql(t,n,i){const s=i.directiveStart,c=i.directiveEnd,d=i.index,_=function Wu(){return qn.lFrame.currentDirectiveIndex}();try{ur(d);for(let I=s;I<c;I++){const D=t.data[I],L=n[I];Fa(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&ev(D,L)}}finally{ur(-1),Fa(_)}}function ev(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function lg(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Pf(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;Zi(n)&&(i[""]=t)}}function dg(t,n,i,s,c){t.data[s]=c;const d=c.factory||(c.factory=po(c.type)),_=new ro(d,Zi(c),T);t.blueprint[s]=_,i[s]=_,function lc(t,n,i,s,c){const d=c.hostBindings;if(d){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const I=~n.index;(function cs(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=I&&_.push(I),_.push(i,s,d)}}(t,n,s,ot(t,i,c.hostVars,u),c)}function ta(t,n,i,s,c,d){const _=bo(t,n);!function th(t,n,i,s,c,d,_){if(null==d)t.removeAttribute(n,c,i);else{const I=null==_?Ke(d):_(d,s||"",c);t.setAttribute(n,c,I,i)}}(n[Vn],_,d,t.value,i,s,c)}function Xm(t,n,i,s,c,d){const _=d[n];if(null!==_)for(let I=0;I<_.length;)fg(s,i,_[I++],_[I++],_[I++])}function fg(t,n,i,s,c){const d=Oi(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(s)&&(c=_[s].call(n,c)),null!==t.setInput?t.setInput(n,c,i,s):n[s]=c}finally{Oi(d)}}function nv(t,n,i){let s=null,c=0;for(;c<i.length;){const d=i[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===s&&(s=[]);const _=t[d];for(let I=0;I<_.length;I+=2)if(_[I]===n){s.push(d,_[I+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function pg(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function gg(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const d=i[s+1];if(-1!==d){const _=t.data[d];C(i[s]),_.contentQueries(2,n[d],d)}}}function Jl(t,n){return t[Vi]?t[Qr][yi]=n:t[Vi]=n,t[Qr]=n,n}function Rf(t,n,i){C(0);const s=Oi(null);try{n(t,i)}finally{Oi(s)}}function xf(t){return t[ao]||(t[ao]=[])}function Of(t){return t.cleanup||(t.cleanup=[])}function Yo(t,n){const i=t[Wi],s=i?i.get(uc,null):null;s&&s.handleError(n)}function Qo(t,n,i,s,c){for(let d=0;d<i.length;){const _=i[d++],I=i[d++];fg(t.data[_],n[_],s,I,c)}}function e_(t,n){const i=ri(n,t),s=i[Yt];!function t_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const c=i[kr];null!==c&&null===i[Rt]&&(i[Rt]=Gl(c,i[Wi])),mg(s,i,i[wr])}function mg(t,n,i){S(n);try{const s=t.viewQuery;null!==s&&Rf(1,s,i);const c=t.template;null!==c&&kt(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gg(t,n),t.staticViewQueries&&Rf(2,t.viewQuery,i);const d=t.components;null!==d&&function nh(t,n){for(let i=0;i<n.length;i++)e_(t,n[i])}(n,d)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[Ln]&=-5,st()}}let _g=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,c){const d=typeof Zone>"u"?null:Zone.current,_=function At(t,n,i){const s=Object.create(pr);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const c=_=>{s.cleanupFn=_};return s.ref={notify:()=>xo(s),run:()=>{if(s.dirty=!1,s.hasRun&&!Ma(s))return;s.hasRun=!0;const _=zn(s);try{s.cleanupFn(),s.cleanupFn=mn,s.fn(c)}finally{Ws(s,_)}},cleanup:()=>s.cleanupFn()},s.ref}(i,L=>{this.all.has(L)&&this.queue.set(L,d)},c);let I;this.all.add(_),_.notify();const D=()=>{_.cleanup(),I?.(),this.all.delete(_),this.queue.delete(_)};return I=s?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xl(t,n,i){let s=i?t.styles:null,c=i?t.classes:null,d=0;if(null!==n)for(let _=0;_<n.length;_++){const I=n[_];"number"==typeof I?d=I:1==d?c=gt(c,I):2==d&&(s=gt(s,I+": "+n[++_]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=c:t.classesWithoutHost=c}function rh(t,n,i,s,c=!1){for(;null!==i;){const d=n[i.index];null!==d&&s.push(ni(d)),Tr(d)&&r_(d,s);const _=i.type;if(8&_)rh(t,n,i.child,s);else if(32&_){const I=Od(i,n);let D;for(;D=I();)s.push(D)}else if(16&_){const I=hm(n,i);if(Array.isArray(I))s.push(...I);else{const D=jc(n[j]);rh(D[Yt],D,I,s,!0)}}i=c?i.projectionNext:i.next}return s}function r_(t,n){for(let i=Xn;i<t.length;i++){const s=t[i],c=s[Yt].firstChild;null!==c&&rh(s[Yt],s,c,n)}t[Zr]!==t[kr]&&n.push(t[Zr])}function ed(t,n,i,s=!0){const c=n[qi],d=c.rendererFactory,_=c.afterRenderEventManager;d.begin?.(),_?.begin();try{td(t,n,t.template,i)}catch(D){throw s&&Yo(n,D),D}finally{d.end?.(),c.effectManager?.flush(),_?.end()}}function td(t,n,i,s){const c=n[Ln];if(256!=(256&c)){n[qi].effectManager?.flush(),S(n);try{Ps(n),function ka(t){return qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&kt(t,n,i,2,s);const _=3==(3&c);if(_){const L=t.preOrderCheckHooks;null!==L&&ee(n,L,null)}else{const L=t.preOrderHooks;null!==L&&Ae(n,L,0,null),it(n,0)}if(function yg(t){for(let n=nm(t);null!==n;n=$h(n)){if(!n[Xr])continue;const i=n[Ui];for(let s=0;s<i.length;s++){su(i[s])}}}(n),kf(n,2),null!==t.contentQueries&&gg(t,n),_){const L=t.contentCheckHooks;null!==L&&ee(n,L)}else{const L=t.contentHooks;null!==L&&Ae(n,L,1),it(n,1)}!function B(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Yd(n,Zn);try{for(let c=0;c<i.length;c++){const d=i[c];if(d<0)ur(~d);else{const _=d,I=i[++c],D=i[++c];Js(I,_),s.dirty=!1;const L=zn(s);try{D(2,n[_])}finally{Ws(s,L)}}}}finally{null===n[Zn]&&a(n,Zn),ur(-1)}}(t,n);const I=t.components;null!==I&&ih(n,I,0);const D=t.viewQuery;if(null!==D&&Rf(2,D,s),_){const L=t.viewCheckHooks;null!==L&&ee(n,L)}else{const L=t.viewHooks;null!==L&&Ae(n,L,2),it(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ln]&=-73,Cc(n)}finally{st()}}}function kf(t,n){for(let i=nm(t);null!==i;i=$h(i))for(let s=Xn;s<i.length;s++)vg(i[s],n)}function rl(t,n,i){vg(ri(n,t),i)}function vg(t,n){if(!function Ra(t){return 128==(128&t[Ln])}(t))return;const i=t[Yt],s=t[Ln];if(80&s&&0===n||1024&s||2===n)td(i,t,i.template,t[wr]);else if(t[Mo]>0){kf(t,1);const c=i.components;null!==c&&ih(t,c,1)}}function ih(t,n,i){for(let s=0;s<n.length;s++)rl(t,n[s],i)}class nd{get rootNodes(){const n=this._lView,i=n[Yt];return rh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wr]}set context(n){this._lView[wr]=n}get destroyed(){return 256==(256&this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Jn];if(Tr(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Wh(n,s),ml(i,s))}this._attachedToViewContainer=!1}Nd(this._lView[Yt],this._lView)}onDestroy(n){!function Tc(t,n){if(256==(256&t[Ln]))throw new Le(911,!1);null===t[hn]&&(t[hn]=[]),t[hn].push(n)}(this._lView,n)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){this._lView[Ln]|=128}detectChanges(){ed(this._lView[Yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sm(t,n){zc(t,n,n[Vn],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=n}}class oh extends nd{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ed(n[Yt],n,n[wr],!1)}checkNoChanges(){}get context(){return null}}class Eg extends Cf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Nn(n);return new xu(i,this.ngModule)}}function ls(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class sh{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=Qt(s);const c=this.injector.get(n,bf,s);return c!==bf||i===bf?c:this.parentInjector.get(n,i,s)}}class xu extends xy{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=ls(n.inputs);if(null!==i)for(const c of s)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return s}get outputs(){return ls(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Fi(t){return t.map(_i).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,c){let d=(c=c||this.ngModule)instanceof Za?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const _=d?new sh(n,d):n,I=_.get(Nm,null);if(null===I)throw new Le(407,!1);const de={rendererFactory:I,sanitizer:_.get(Fm,null),effectManager:_.get(_g,null),afterRenderEventManager:_.get(cg,null)},Ue=I.createRenderer(null,this.componentDef),tt=this.componentDef.selectors[0][0]||"div",bt=s?function ui(t,n,i,s){const d=s.get(Wy,!1)||i===$i.ShadowDom,_=t.selectRootElement(n,d);return function Rr(t){Ze(t)}(_),_}(Ue,s,this.componentDef.encapsulation,_):Gh(Ue,tt,function o_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(tt)),jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let jt=null;null!==bt&&(jt=Gl(bt,_,!0));const hr=Mn(0,null,null,1,0,null,null,null,null,null,null),jr=te(null,hr,null,jn,null,null,de,Ue,_,null,jt);let bi,sa;S(jr);try{const ll=this.componentDef;let rp,rE=null;ll.findHostDirectiveDefs?(rp=[],rE=new Map,ll.findHostDirectiveDefs(ll,rp,rE),rp.push(ll)):rp=[ll];const zD=function ov(t,n){const i=t[Yt],s=wn;return t[s]=n,le(i,s,2,"#host",null)}(jr,bt),GD=function rd(t,n,i,s,c,d,_){const I=c[Yt];!function sv(t,n,i,s){for(const c of t)n.mergedAttrs=lr(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Xl(n,n.mergedAttrs,!0),null!==i&&tf(s,i,n))}(s,t,n,_);let D=null;null!==n&&(D=Gl(n,c[Wi]));const L=d.rendererFactory.createRenderer(n,i);let K=16;i.signals?K=4096:i.onPush&&(K=64);const de=te(c,Bn(i),null,K,c[t.index],t,d,L,null,null,D);return I.firstCreatePass&&lg(I,t,s.length-1),Jl(c,de),c[t.index]=de}(zD,bt,ll,rp,jr,de,Ue);sa=ju(hr,wn),bt&&function Ff(t,n,i,s){if(s)fr(t,i,["ng-version",rg.full]);else{const{attrs:c,classes:d}=function ds(t){const n=[],i=[];let s=1,c=2;for(;s<t.length;){let d=t[s];if("string"==typeof d)2===c?""!==d&&n.push(d,t[++s]):8===c&&i.push(d);else{if(!si(c))break;c=d}s++}return{attrs:n,classes:i}}(n.selectors[0]);c&&fr(t,i,c),d&&d.length>0&&qa(t,i,d.join(" "))}}(Ue,ll,bt,s),void 0!==i&&function s_(t,n,i){const s=t.projection=[];for(let c=0;c<n.length;c++){const d=i[c];s.push(null!=d?Array.from(d):null)}}(sa,this.ngContentSelectors,i),bi=function av(t,n,i,s,c,d){const _=uo(),I=c[Yt],D=bo(_,c);Jm(I,c,_,i,null,s);for(let K=0;K<i.length;K++)Ko(hu(c,I,_.directiveStart+K,_),c);Ql(I,c,_),D&&Ko(D,c);const L=hu(c,I,_.directiveStart+_.componentOffset,_);if(t[wr]=c[wr]=L,null!==d)for(const K of d)K(L,n);return Kt(I,_,t),L}(GD,ll,rp,rE,jr,[Ig]),mg(hr,jr,null)}finally{st()}return new iv(this.componentType,bi,Zl(sa,jr),jr,sa)}}class iv extends oE{constructor(n,i,s,c,d){super(),this.location=s,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new oh(c),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const d=this._rootLView;Qo(d[Yt],d,c,n,i),this.previousInputValues.set(n,i),Kd(ri(this._tNode.index,d))}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Ig(){const t=uo();he(Ft()[Yt],t)}function Qa(t){let n=function ah(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let c;if(Zi(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Le(903,!1);c=n.\u0275dir}if(c){if(i){s.push(c);const _=t;_.inputs=uh(t.inputs),_.inputTransforms=uh(t.inputTransforms),_.declaredInputs=uh(t.declaredInputs),_.outputs=uh(t.outputs);const I=c.hostBindings;I&&u_(t,I);const D=c.viewQuery,L=c.contentQueries;if(D&&Cg(t,D),L&&wg(t,L),ie(t.inputs,c.inputs),ie(t.declaredInputs,c.declaredInputs),ie(t.outputs,c.outputs),null!==c.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),ie(_.inputTransforms,c.inputTransforms)),Zi(c)&&c.data.animation){const K=t.data;K.animation=(K.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let _=0;_<d.length;_++){const I=d[_];I&&I.ngInherit&&I(t),I===Qa&&(i=!1)}}n=Object.getPrototypeOf(n)}!function a_(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const c=t[s];c.hostVars=n+=c.hostVars,c.hostAttrs=lr(c.hostAttrs,i=lr(i,c.hostAttrs))}}(s)}function uh(t){return t===Fr?{}:t===Wn?[]:t}function Cg(t,n){const i=t.viewQuery;t.viewQuery=i?(s,c)=>{n(s,c),i(s,c)}:n}function wg(t,n){const i=t.contentQueries;t.contentQueries=i?(s,c,d)=>{n(s,c,d),i(s,c,d)}:n}function u_(t,n){const i=t.hostBindings;t.hostBindings=i?(s,c)=>{n(s,c),i(s,c)}:n}function Tg(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const c=n[s];Array.isArray(c)&&c[2]&&(i[s]=c[2])}t.inputTransforms=i}function ch(t){return!!Uf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Uf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ja(t,n,i){return t[n]=i}function lh(t,n){return t[n]}function Jo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function dc(t,n,i,s){const c=Jo(t,n,i);return Jo(t,n+1,s)||c}function Sa(t,n,i,s){const c=Ft();return Jo(c,os(),n)&&(br(),ta(Br(),c,t,n,i,s)),Sa}function Nu(t,n,i,s){return Jo(t,os(),i)?n+Ke(i)+s:u}function zf(t,n,i,s,c,d,_,I){const D=Ft(),L=br(),K=t+wn,de=L.firstCreatePass?function D_(t,n,i,s,c,d,_,I,D){const L=n.consts,K=le(n,t,4,_||null,rs(L,I));Sf(n,i,K,rs(L,D)),he(n,K);const de=K.tView=Mn(2,K,s,c,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L,null);return null!==n.queries&&(n.queries.template(n,K),de.queries=n.queries.embeddedTView(K)),K}(K,L,D,n,i,s,c,d,_):L.data[K];Do(de,!1);const Ue=Gf(L,D,de,t);qu()&&Jh(L,D,Ue,de),Ko(Ue,D),Jl(D,D[K]=pg(Ue,D,Ue,de)),Es(de)&&$t(L,D,de),null!=_&&An(D,de,I)}let Gf=function Ng(t,n,i,s){return Xs(!0),n[Vn].createComment("")};function gc(t){return Ss(function Ac(){return qn.lFrame.contextLView}(),wn+t)}function qf(t,n,i){const s=Ft();return Jo(s,os(),n)&&zs(br(),Br(),s,t,n,s[Vn],i,!1),qf}function Zf(t,n,i,s,c){const _=c?"class":"style";Qo(t,i,n.inputs[_],_,s)}function gh(t,n,i,s){const c=Ft(),d=br(),_=wn+t,I=c[Vn],D=d.firstCreatePass?function P_(t,n,i,s,c,d){const _=n.consts,D=le(n,t,2,s,rs(_,c));return Sf(n,i,D,rs(_,d)),null!==D.attrs&&Xl(D,D.attrs,!1),null!==D.mergedAttrs&&Xl(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(_,d,c,n,i,s):d.data[_],L=kg(d,c,D,I,n,t);c[_]=L;const K=Es(D);return Do(D,!0),tf(I,L,D),32!=(32&D.flags)&&qu()&&Jh(d,c,L,D),0===function _o(){return qn.lFrame.elementDepthCount}()&&Ko(L,c),function Dc(){qn.lFrame.elementDepthCount++}(),K&&($t(d,c,D),Kt(d,D,c)),null!==s&&An(c,D),gh}function cl(){let t=uo();ga()?Na():(t=t.parent,Do(t,!1));const n=t;(function au(t){return qn.skipHydrationRootTNode===t})(n)&&function hl(){qn.skipHydrationRootTNode=null}(),function $u(){qn.lFrame.elementDepthCount--}();const i=br();return i.firstCreatePass&&(he(i,t),Go(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Va(t){return 0!=(8&t.flags)}(n)&&Zf(i,n,Ft(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function pi(t){return 0!=(16&t.flags)}(n)&&Zf(i,n,Ft(),n.stylesWithoutHost,!1),cl}function ys(t,n,i,s){return gh(t,n,i,s),cl(),ys}let kg=(t,n,i,s,c,d)=>(Xs(!0),Gh(s,c,function Ms(){return qn.lFrame.currentNamespace}()));function R(t,n,i){const s=Ft(),c=br(),d=t+wn,_=c.firstCreatePass?function g(t,n,i,s,c){const d=n.consts,_=rs(d,s),I=le(n,t,8,"ng-container",_);return null!==_&&Xl(I,_,!0),Sf(n,i,I,rs(d,c)),null!==n.queries&&n.queries.elementStart(n,I),I}(d,c,s,n,i):c.data[d];Do(_,!0);const I=rt(c,s,_,t);return s[d]=I,qu()&&Jh(c,s,I,_),Ko(I,s),Es(_)&&($t(c,s,_),Kt(c,_,s)),null!=i&&An(s,_),R}function $(){let t=uo();const n=br();return ga()?Na():(t=t.parent,Do(t,!1)),n.firstCreatePass&&(he(n,t),Go(t)&&n.queries.elementEnd(t)),$}let rt=(t,n,i,s)=>(Xs(!0),zh(n[Vn],""));function Ii(){return Ft()}function Fo(t){return!!t&&"function"==typeof t.then}function ii(t){return!!t&&"function"==typeof t.subscribe}function Ho(t,n,i,s){const c=Ft(),d=br(),_=uo();return function ra(t,n,i,s,c,d,_){const I=Es(s),L=t.firstCreatePass&&Of(t),K=n[wr],de=xf(n);let Ue=!0;if(3&s.type||_){const Wt=bo(s,n),yn=_?_(Wt):Wt,jn=de.length,jt=_?jr=>_(ni(jr[s.index])):s.index;let hr=null;if(!_&&I&&(hr=function dd(t,n,i,s){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const _=c[d];if(_===i&&c[d+1]===s){const I=n[ao],D=c[d+2];return I.length>D?I[D]:null}"string"==typeof _&&(d+=2)}return null}(t,n,c,s.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=d,hr.__ngLastListenerFn__=d,Ue=!1;else{d=Kf(s,n,K,d,!1);const jr=i.listen(yn,c,d);de.push(d,jr),L&&L.push(c,jt,jn,jn+1)}}else d=Kf(s,n,K,d,!1);const tt=s.outputs;let bt;if(Ue&&null!==tt&&(bt=tt[c])){const Wt=bt.length;if(Wt)for(let yn=0;yn<Wt;yn+=2){const bi=n[bt[yn]][bt[yn+1]].subscribe(d),sa=de.length;de.push(d,bi),L&&L.push(c,s.index,sa,-(sa+1))}}}(d,c,c[Vn],_,t,n,s),Ho}function mh(t,n,i,s){try{return Hn(6,n,i),!1!==i(s)}catch(c){return Yo(t,c),!1}finally{Hn(7,n,i)}}function Kf(t,n,i,s,c){return function d(_){if(_===Function)return s;Kd(t.componentOffset>-1?ri(t.index,n):n);let D=mh(n,i,s,_),L=d.__ngNextListenerFn__;for(;L;)D=mh(n,i,L,_)&&D,L=L.__ngNextListenerFn__;return c&&!1===D&&_.preventDefault(),D}}function EE(t=1){return function ln(t){return(qn.lFrame.contextLView=function er(t,n){for(;t>0;)n=n[q],t--;return n}(t,qn.lFrame.contextLView))[wr]}(t)}function fv(t,n,i){return R_(t,"",n,"",i),fv}function R_(t,n,i,s,c){const d=Ft(),_=Nu(d,n,i,s);return _!==u&&zs(br(),Br(),d,t,_,d[Vn],c,!1),R_}function x_(t,n){return t<<17|n<<2}function hd(t){return t>>17&32767}function pv(t){return 2|t}function _h(t){return(131068&t)>>2}function gv(t,n){return-131069&t|n<<2}function mv(t){return 1|t}function PE(t,n,i,s,c){const d=t[i+1],_=null===n;let I=s?hd(d):_h(d),D=!1;for(;0!==I&&(!1===D||_);){const K=t[I+1];xC(t[I],n)&&(D=!0,t[I+1]=s?mv(K):pv(K)),I=s?hd(K):_h(K)}D&&(t[i+1]=s?pv(d):mv(d))}function xC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ju(t,n)>=0}function _v(t,n,i){return Vu(t,n,i,!1),_v}function yv(t,n){return Vu(t,n,null,!0),yv}function Vu(t,n,i,s){const c=Ft(),d=br(),_=function Oo(t){const n=qn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);d.firstUpdatePass&&function LE(t,n,i,s){const c=t.data;if(null===c[i+1]){const d=c[ar()],_=function FE(t,n){return n>=t.expandoStartIndex}(t,i);(function jE(t,n){return 0!=(t.flags&(n?8:16))})(d,s)&&null===n&&!_&&(n=!1),n=function jC(t,n,i,s){const c=function ma(t){const n=qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=s?n.residualClasses:n.residualStyles;if(null===c)0===(s?n.classBindings:n.styleBindings)&&(i=Fg(i=vv(null,t,n,i,s),n.attrs,s),d=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==c)if(i=vv(c,t,n,i,s),null===d){let D=function $C(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==_h(s))return t[hd(s)]}(t,n,s);void 0!==D&&Array.isArray(D)&&(D=vv(null,t,n,D[1],s),D=Fg(D,n.attrs,s),function HC(t,n,i,s){t[hd(i?n.classBindings:n.styleBindings)]=s}(t,n,s,D))}else d=function zC(t,n,i){let s;const c=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<c;d++)s=Fg(s,t[d].hostAttrs,i);return Fg(s,n.attrs,i)}(t,n,s)}return void 0!==d&&(s?n.residualClasses=d:n.residualStyles=d),i}(c,d,n,s),function MC(t,n,i,s,c,d){let _=d?n.classBindings:n.styleBindings,I=hd(_),D=_h(_);t[s]=i;let K,L=!1;if(Array.isArray(i)?(K=i[1],(null===K||Ju(i,K)>0)&&(L=!0)):K=i,c)if(0!==D){const Ue=hd(t[I+1]);t[s+1]=x_(Ue,I),0!==Ue&&(t[Ue+1]=gv(t[Ue+1],s)),t[I+1]=function SC(t,n){return 131071&t|n<<17}(t[I+1],s)}else t[s+1]=x_(I,0),0!==I&&(t[I+1]=gv(t[I+1],s)),I=s;else t[s+1]=x_(D,0),0===I?I=s:t[D+1]=gv(t[D+1],s),D=s;L&&(t[s+1]=pv(t[s+1])),PE(t,K,s,!0),PE(t,K,s,!1),function RC(t,n,i,s,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Ju(d,n)>=0&&(i[s+1]=mv(i[s+1]))}(n,K,t,s,d),_=x_(I,D),d?n.classBindings=_:n.styleBindings=_}(c,d,n,i,_,s)}}(d,t,_,s),n!==u&&Jo(c,_,n)&&function UE(t,n,i,s,c,d,_,I){if(!(3&n.type))return;const D=t.data,L=D[I+1],K=function PC(t){return 1==(1&t)}(L)?BE(D,n,i,c,_h(L),_):void 0;O_(K)||(O_(d)||function AC(t){return 2==(2&t)}(L)&&(d=BE(D,null,i,c,I,_)),function ny(t,n,i,s,c){if(n)c?t.addClass(i,s):t.removeClass(i,s);else{let d=-1===s.indexOf("-")?void 0:Dl.DashCase;null==c?t.removeStyle(i,s,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Dl.Important),t.setStyle(i,s,c,d))}}(s,_,Ys(ar(),i),c,d))}(d,d.data[ar()],c,c[Vn],t,c[_+1]=function ZC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Me(rc(t)))),t}(n,i),s,_)}function vv(t,n,i,s,c){let d=null;const _=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<_&&(d=n[I],s=Fg(s,d.hostAttrs,c),d!==t);)I++;return null!==t&&(i.directiveStylingLast=I),s}function Fg(t,n,i){const s=i?1:2;let c=-1;if(null!==n)for(let d=0;d<n.length;d++){const _=n[d];"number"==typeof _?c=_:c===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ms(t,_,!!i||n[++d]))}return void 0===t?null:t}function BE(t,n,i,s,c,d){const _=null===n;let I;for(;c>0;){const D=t[c],L=Array.isArray(D),K=L?D[1]:D,de=null===K;let Ue=i[c+1];Ue===u&&(Ue=de?Wn:void 0);let tt=de?_l(Ue,s):K===s?Ue:void 0;if(L&&!O_(tt)&&(tt=_l(D,s)),O_(tt)&&(I=tt,_))return I;const bt=t[c+1];c=_?hd(bt):_h(bt)}if(null!==n){let D=d?n.residualClasses:n.residualStyles;null!=D&&(I=_l(D,s))}return I}function O_(t){return void 0!==t}function $E(t,n=""){const i=Ft(),s=br(),c=t+wn,d=s.firstCreatePass?le(s,c,1,n,null):s.data[c],_=HE(s,i,d,n,t);i[c]=_,qu()&&Jh(s,i,_,d),Do(d,!1)}let HE=(t,n,i,s,c)=>(Xs(!0),function Rl(t,n){return t.createText(n)}(n[Vn],s));function Ev(t){return N_("",t,""),Ev}function N_(t,n,i){const s=Ft(),c=Nu(s,t,n,i);return c!==u&&function na(t,n,i){const s=Ys(n,t);!function rm(t,n,i){t.setValue(n,i)}(t[Vn],s,i)}(s,ar(),c),N_}const yh=void 0;var mw=["en",[["a","p"],["AM","PM"],yh],[["AM","PM"],yh,yh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yh,"{1} 'at' {0}",yh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gw(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Qf={};function Iv(t){const n=function _w(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=d0(n);if(i)return i;const s=n.split("-")[0];if(i=d0(s),i)return i;if("en"===s)return mw;throw new Le(701,!1)}function l0(t){return Iv(t)[Jf.PluralCase]}function d0(t){return t in Qf||(Qf[t]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[t]),Qf[t]}var Jf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Jf||{});const Xf="en-US";let h0=Xf;function Tv(t,n,i,s,c){if(t=yt(t),Array.isArray(t))for(let d=0;d<t.length;d++)Tv(t[d],n,i,s,c);else{const d=br(),_=Ft(),I=uo();let D=qc(t)?t:yt(t.provide);const L=Sm(t),K=1048575&I.providerIndexes,de=I.directiveStart,Ue=I.providerIndexes>>20;if(qc(t)||!t.multi){const tt=new ro(L,c,T),bt=Dv(D,n,c?K:K+Ue,de);-1===bt?(Ia(Pc(I,_),d,D),bv(d,t,n.length),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(tt),_.push(tt)):(i[bt]=tt,_[bt]=tt)}else{const tt=Dv(D,n,K+Ue,de),bt=Dv(D,n,K,K+Ue),yn=bt>=0&&i[bt];if(c&&!yn||!c&&!(tt>=0&&i[tt])){Ia(Pc(I,_),d,D);const jn=function gT(t,n,i,s,c){const d=new ro(t,i,T);return d.multi=[],d.index=n,d.componentProviders=0,L0(d,c,s&&!i),d}(c?pT:fT,i.length,c,s,L);!c&&yn&&(i[bt].providerFactory=jn),bv(d,t,n.length,0),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(jn),_.push(jn)}else bv(d,t,tt>-1?tt:bt,L0(i[c?bt:tt],L,!c&&s));!c&&s&&yn&&i[bt].componentProviders++}}}function bv(t,n,i,s){const c=qc(n),d=function Ei(t){return!!t.useClass}(n);if(c||d){const D=(d?yt(n.useClass):n).prototype.ngOnDestroy;if(D){const L=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const K=L.indexOf(i);-1===K?L.push(i,[s,D]):L[K+1].push(s,D)}else L.push(i,D)}}}function L0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Dv(t,n,i,s){for(let c=i;c<s;c++)if(n[c]===t)return c;return-1}function fT(t,n,i,s){return Av(this.multi,[])}function pT(t,n,i,s){const c=this.multi;let d;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=hu(i,i[Yt],this.providerFactory.index,s);d=I.slice(0,_),Av(c,d);for(let D=_;D<I.length;D++)d.push(I[D])}else d=[],Av(c,d);return d}function Av(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function V0(t,n=[]){return i=>{i.providersResolver=(s,c)=>function hT(t,n,i){const s=br();if(s.firstCreatePass){const c=Zi(t);Tv(i,s.data,s.blueprint,c,!0),Tv(n,s.data,s.blueprint,c,!1)}}(s,c?c(t):t,n)}}class vh{}class U0{}function mT(t,n){return new Sv(t,n??null,[])}class Sv extends vh{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eg(this);const c=Cr(n);this._bootstrapComponents=Mu(c.bootstrap),this._r3Injector=Bm(n,i,[{provide:vh,useValue:this},{provide:Cf,useValue:this.componentFactoryResolver},...s],Me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pv extends U0{constructor(n){super(),this.moduleType=n}create(n){return new Sv(this.moduleType,n,[])}}class B0 extends vh{constructor(n){super(),this.componentFactoryResolver=new Eg(this),this.instance=null;const i=new Zc([...n.providers,{provide:vh,useValue:this},{provide:Cf,useValue:this.componentFactoryResolver}],n.parent||yf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function j0(t,n,i=null){return new B0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let yT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=Da(0,i.type),c=s.length>0?j0([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_n({token:t,providedIn:"environment",factory:()=>new t(Pt(Za))})}return t})();function $0(t){t.getStandaloneInjector=n=>n.get(yT).getOrCreateStandaloneInjector(t)}function K0(t,n,i){const s=co()+t,c=Ft();return c[s]===u?Ja(c,s,i?n.call(i):n()):lh(c,s)}function Y0(t,n,i,s){return J0(Ft(),co(),t,n,i,s)}function Q0(t,n,i,s,c,d,_,I,D){const L=co()+t,K=Ft(),de=function $o(t,n,i,s,c,d){const _=dc(t,n,i,s);return dc(t,n+2,c,d)||_}(K,L,i,s,c,d);return dc(K,L+4,_,I)||de?Ja(K,L+6,D?n.call(D,i,s,c,d,_,I):n(i,s,c,d,_,I)):lh(K,L+6)}function J0(t,n,i,s,c,d){const _=n+i;return Jo(t,_,c)?Ja(t,_+1,d?s.call(d,c):s(c)):function $g(t,n){const i=t[n];return i===u?void 0:i}(t,_+1)}function rI(t,n){const i=br();let s;const c=t+wn;i.firstCreatePass?(s=function NT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[c]=s,s.onDestroy&&(i.destroyHooks??=[]).push(c,s.onDestroy)):s=i.data[c];const d=s.factory||(s.factory=po(s.type)),I=ir(T);try{const D=Os(!1),L=d();return Os(D),function S_(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,Ft(),c,L),L}finally{ir(I)}}function iI(t,n,i){const s=t+wn,c=Ft(),d=Ss(c,s);return function Hg(t,n){return t[Yt].data[n].pure}(c,s)?J0(c,co(),n,d.transform,i,d):d.transform(i)}function UT(){return this._results[Symbol.iterator]()}class Rv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ya)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Rv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=UT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const c=function us(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Cd(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let c=t[s],d=n[s];if(i&&(c=i(c),d=i(d)),d!==c)return!1}return!0}(s._results,c,i))&&(s._results=c,s.length=c.length,s.last=c[this.length-1],s.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jT(t,n,i,s=!0){const c=n[Yt];if(function X_(t,n,i,s){const c=Xn+s,d=i.length;s>0&&(i[c-1][yi]=n),s<d-Xn?(n[yi]=i[c],wd(i,Xn+s,n)):(i.push(n),n[yi]=null),n[Jn]=i;const _=n[fe];null!==_&&i!==_&&function ey(t,n){const i=t[Ui];n[j]!==n[Jn][Jn][j]&&(t[Xr]=!0),null===i?t[Ui]=[n]:i.push(n)}(_,n);const I=n[$e];null!==I&&I.insertView(t),n[Ln]|=128}(c,n,t,i),s){const d=Fd(i,t),_=n[Vn],I=Kh(_,t[Zr]);null!==I&&function om(t,n,i,s,c,d){s[kr]=c,s[qr]=n,zc(t,s,i,1,c,d)}(c,t[qr],_,n,I,d)}}let zg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=zT}return t})();const $T=zg,HT=class extends $T{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const c=function BT(t,n,i,s){const c=n.tView,I=te(t,c,i,4096&t[Ln]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);I[fe]=t[n.index];const L=t[$e];return null!==L&&(I[$e]=L.createEmbeddedView(c)),mg(c,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new nd(c)}};function zT(){return U_(uo(),Ft())}function U_(t,n){return 4&t.type?new HT(n,t,Zl(t,n)):null}let j_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YT}return t})();function YT(){return dI(uo(),Ft())}const QT=j_,cI=class extends QT{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const n=du(this._hostTNode,this._hostLView);if($s(n)){const i=Zo(n,this._hostLView),s=io(n);return new Ao(i[Yt].data[s+8],i)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=lI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Xn}createEmbeddedView(n,i,s){let c,d;"number"==typeof s?c=s:null!=s&&(c=s.index,d=s.injector);const I=n.createEmbeddedViewImpl(i||{},d,null);return this.insertImpl(I,c,false),I}createComponent(n,i,s,c,d){const _=n&&!function $a(t){return"function"==typeof t}(n);let I;if(_)I=i;else{const Wt=i||{};I=Wt.index,s=Wt.injector,c=Wt.projectableNodes,d=Wt.environmentInjector||Wt.ngModuleRef}const D=_?n:new xu(Nn(n)),L=s||this.parentInjector;if(!d&&null==D.ngModule){const yn=(_?L:this.parentInjector).get(Za,null);yn&&(d=yn)}Nn(D.componentType??{});const tt=D.create(L,c,null,d);return this.insertImpl(tt.hostView,I,false),tt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const c=n._lView;if(function ou(t){return Tr(t[Jn])}(c)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const L=c[Jn],K=new cI(L,L[qr],L[Jn]);K.detach(K.indexOf(n))}}const _=this._adjustIndex(i),I=this._lContainer;return jT(I,c,_,!s),n.attachToViewContainerRef(),wd(xv(I),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=lI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Wh(this._lContainer,i);s&&(ml(xv(this._lContainer),i),Nd(s[Yt],s))}detach(n){const i=this._adjustIndex(n,-1),s=Wh(this._lContainer,i);return s&&null!=ml(xv(this._lContainer),i)?new nd(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function lI(t){return t[8]}function xv(t){return t[8]||(t[8]=[])}function dI(t,n){let i;const s=n[t.index];return Tr(s)?i=s:(i=pg(s,n,null,t),n[t.index]=i,Jl(n,i)),hI(i,n,t,s),new cI(i,t,n)}let hI=function fI(t,n,i,s){if(t[Zr])return;let c;c=8&i.type?ni(s):function JT(t,n){const i=t[Vn],s=i.createComment(""),c=bo(n,t);return bu(i,Kh(i,c),s,function vp(t,n){return t.nextSibling(n)}(i,c),!1),s}(n,i),t[Zr]=c};class Ov{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let d=0;d<s;d++){const _=i.getByIndex(d);c.push(this.queries[_.indexInDeclarationView].clone())}return new Nv(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==II(n,i).matches&&this.queries[i].setDirty()}}class pI{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class kv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const c=null!==i?i.length:0,d=this.getByIndex(s).embeddedTView(n,c);d&&(d.indexInDeclarationView=s,null!==i?i.push(d):i=[d])}return null!==i?new kv(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Fv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const d=s[c];this.matchTNodeWithReadOption(n,i,tb(i,d)),this.matchTNodeWithReadOption(n,i,Mc(i,n,d,!1,!1))}else s===zg?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Mc(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===qd||c===j_||c===zg&&4&i.type)this.addMatch(i.index,-2);else{const d=Mc(i,n,c,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function tb(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function rb(t,n,i,s){return-1===i?function nb(t,n){return 11&t.type?Zl(t,n):4&t.type?U_(t,n):null}(n,t):-2===i?function ib(t,n,i){return i===qd?Zl(n,t):i===zg?U_(n,t):i===j_?dI(n,t):void 0}(t,n,s):hu(t,t[Yt],i,n)}function gI(t,n,i,s){const c=n[$e].queries[s];if(null===c.matches){const d=t.data,_=i.matches,I=[];for(let D=0;D<_.length;D+=2){const L=_[D];I.push(L<0?null:rb(n,d[L],_[D+1],i.metadata.read))}c.matches=I}return c.matches}function Lv(t,n,i,s){const c=t.queries.getByIndex(i),d=c.matches;if(null!==d){const _=gI(t,n,c,i);for(let I=0;I<d.length;I+=2){const D=d[I];if(D>0)s.push(_[I/2]);else{const L=d[I+1],K=n[-D];for(let de=Xn;de<K.length;de++){const Ue=K[de];Ue[fe]===Ue[Jn]&&Lv(Ue[Yt],Ue,L,s)}if(null!==K[Ui]){const de=K[Ui];for(let Ue=0;Ue<de.length;Ue++){const tt=de[Ue];Lv(tt[Yt],tt,L,s)}}}}}return s}function mI(t){const n=Ft(),i=br(),s=ss();C(s+1);const c=II(i,s);if(t.dirty&&function iu(t){return 4==(4&t[Ln])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Lv(i,n,s,[]):gI(i,n,c,s);t.reset(d,Tf),t.notifyOnChanges()}return!0}return!1}function _I(t,n,i,s){const c=br();if(c.firstCreatePass){const d=uo();(function EI(t,n,i){null===t.queries&&(t.queries=new kv),t.queries.track(new Fv(n,i))})(c,new pI(n,i,s),d.index),function ab(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}!function vI(t,n,i){const s=new Rv(4==(4&i));(function Qe(t,n,i,s){const c=xf(n);c.push(i),t.firstCreatePass&&Of(t).push(s,c.length-1)})(t,n,s,s.destroy),null===n[$e]&&(n[$e]=new Nv),n[$e].queries.push(new Ov(s))}(c,Ft(),i)}function yI(){return function sb(t,n){return t[$e].queries[n].queryList}(Ft(),ss())}function II(t,n){return t.queries.getByIndex(n)}function Vv(t){return!!Cr(t)}const VI=new Xt("Application Initializer");let Hv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Zt(VI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const d=c();if(Fo(d))i.push(d);else if(ii(d)){const _=new Promise((I,D)=>{d.subscribe({complete:I,error:D})});i.push(_)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(c=>{this.reject(c)}),0===i.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const H_=new Xt("LocaleId",{providedIn:"root",factory:()=>Zt(H_,cn.Optional|cn.SkipSelf)||function Pb(){return typeof $localize<"u"&&$localize.locale||Xf}()}),Mb=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let BI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xb{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Ob=(()=>{class t{compileModuleSync(i){return new Pv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),d=Mu(Cr(i).declarations).reduce((_,I)=>{const D=Nn(I);return D&&_.push(new xu(D)),_},[]);return new xb(s,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zI=new Xt(""),GI=new Xt("");let Wv,tD=(()=>{class t{constructor(i,s,c){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wv||(function nD(t){Wv=t}(c),c.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{so.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,c){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==d),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:c})}whenStable(i,s,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,c){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(Pt(so),Pt(WI),Pt(GI))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac})}return t})(),WI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Wv?.findTestabilityInTree(this,i,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),fd=null;const qI=new Xt("AllowMultipleToken"),qv=new Xt("PlatformDestroyListeners"),Zv=new Xt("appBootstrapListener");class oD{constructor(n,i){this.name=n,this.token=i}}function YI(t,n,i=[]){const s=`Platform: ${n}`,c=new Xt(s);return(d=[])=>{let _=Kv();if(!_||_.injector.get(qI,!1)){const I=[...i,...d,{provide:c,useValue:!0}];t?t(I):function sD(t){if(fd&&!fd.get(qI,!1))throw new Le(400,!1);(function ZI(){!function Bu(t){Bs=t}(()=>{throw new Le(600,!1)})})(),fd=t;const n=t.get(JI);(function KI(t){t.get(Au,null)?.forEach(i=>i())})(t)}(function QI(t=[],n){return Aa.create({name:n,providers:[{provide:Am,useValue:"platform"},{provide:qv,useValue:new Set([()=>fd=null])},...t]})}(I,s))}return function uD(t){const n=Kv();if(!n)throw new Le(401,!1);return n}()}}function Kv(){return fd?.get(JI)??null}let JI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const c=function cD(t="zone.js",n){return"noop"===t?new dE:"zone.js"===t?new so(n):t}(s?.ngZone,function XI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return c.run(()=>{const d=function _T(t,n,i){return new Sv(t,n,i)}(i.moduleType,this.injector,function iC(t){return[{provide:so,useFactory:t},{provide:Ll,multi:!0,useFactory:()=>{const n=Zt(dD,{optional:!0});return()=>n.initialize()}},{provide:rC,useFactory:lD},{provide:jy,useFactory:$y}]}(()=>c)),_=d.injector.get(uc,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:D=>{_.handleError(D)}});d.onDestroy(()=>{G_(this._modules,d),I.unsubscribe()})}),function eC(t,n,i){try{const s=i();return Fo(s)?s.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(_,c,()=>{const I=d.injector.get(Hv);return I.runInitializers(),I.donePromise.then(()=>(function f0(t){vt(t,"Expected localeId to be defined"),"string"==typeof t&&(h0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(H_,Xf)||Xf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(i,s=[]){const c=tC({},s);return function rD(t,n,i){const s=new Pv(i);return Promise.resolve(s)}(0,0,i).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(i){const s=i.injector.get(np);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>s.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Le(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(qv,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(Pt(Aa))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function tC(t,n){return Array.isArray(n)?n.reduce(tC,t):{...t,...n}}let np=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(rC),this.zoneIsStable=Zt(jy),this.componentTypes=[],this.components=[],this.isStable=Zt(BI).hasPendingTasks.pipe((0,Fe.w)(i=>i?(0,be.of)(!1):this.zoneIsStable),(0,He.x)(),(0,je.B)()),this._injector=Zt(Za)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const c=i instanceof xy;if(!this._injector.get(Hv).done)throw!c&&Si(i),new Le(405,!1);let _;_=c?i:this._injector.get(Cf).resolveComponentFactory(i),this.componentTypes.push(_.componentType);const I=function iD(t){return t.isBoundToModule}(_)?void 0:this._injector.get(vh),L=_.create(Aa.NULL,[],s||_.selector,I),K=L.location.nativeElement,de=L.injector.get(zI,null);return de?.registerApplication(K),L.onDestroy(()=>{this.detachView(L.hostView),G_(this.components,L),de?.unregisterApplication(K)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;G_(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(Zv,[]);s.push(...this._bootstrapListeners),s.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>G_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Le(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const rC=new Xt("",{providedIn:"root",factory:()=>Zt(uc).handleError.bind(void 0)});function lD(){const t=Zt(so),n=Zt(uc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let dD=(()=>{class t{constructor(){this.zone=Zt(so),this.applicationRef=Zt(np)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fD(){return!1}let pD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=gD}return t})();function gD(t){return function mD(t,n,i){if(Mi(t)&&!i){const s=ri(t.index,n);return new nd(s,s)}return 47&t.type?new nd(n[j],n):null}(uo(),Ft(),16==(16&t))}class uC{constructor(){}supports(n){return ch(n)}create(n){return new CD(n)}}const ID=(t,n)=>n;class CD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ID}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,c=0,d=null;for(;i||s;){const _=!s||i&&i.currentIndex<lC(s,c,d)?i:s,I=lC(_,c,d),D=_.currentIndex;if(_===s)c--,s=s._nextRemoved;else if(i=i._next,null==_.previousIndex)c++;else{d||(d=[]);const L=I-c,K=D-c;if(L!=K){for(let Ue=0;Ue<L;Ue++){const tt=Ue<d.length?d[Ue]:d[Ue]=0,bt=tt+Ue;K<=bt&&bt<L&&(d[Ue]=tt+1)}d[_.previousIndex]=K-L}}I!==D&&n(_,I,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ch(n))throw new Le(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,d,_,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)d=n[I],_=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,d,_,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,_,I),s=!0),i=i._next}else c=0,function Dg(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,I=>{_=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,I,_,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,_,c),s=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,c){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,c)):n=this._addAfter(new wD(i,s),d,c),n}_verifyReinsertion(n,i,s,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==d?n=this._reinsertAfter(d,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,d=n._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new cC),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class wD{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class cC{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new TD,this.map.set(i,s)),s.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lC(t,n,i){const s=t.previousIndex;if(null===s)return s;let c=0;return i&&s<i.length&&(c=i[s]),s+n+c}class dC{constructor(){}supports(n){return n instanceof Map||Uf(n)}create(){return new bD}}class bD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Uf(n)))throw new Le(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(c,s);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const d=c._prev,_=c._next;return d&&(d._next=_),_&&(_._prev=d),c._next=null,c._prev=null,c}const s=new DD(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class DD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hC(){return new eE([new uC])}let eE=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:hC});constructor(i){this.factories=i}static create(i,s){if(null!=s){const c=s.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||hC()),deps:[[t,new Ta,new _u]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(null!=s)return s;throw new Le(901,!1)}}return t})();function fC(){return new tE([new dC])}let tE=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:fC});constructor(i){this.factories=i}static create(i,s){if(s){const c=s.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||fC()),deps:[[t,new Ta,new _u]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(s)return s;throw new Le(901,!1)}}return t})();const PD=YI(null,"core",[]);let MD=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(s){return new(s||t)(Pt(np))};static#t=this.\u0275mod=Ir({type:t});static#n=this.\u0275inj=xt({})}return t})();function jD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HD(t){const n=Nn(t);if(!n)return null;const i=new xu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(on,Xe,k)=>{k.d(Xe,{zQ:()=>et,ww:()=>Dt,rT:()=>Ht,f7:()=>xn,L6:()=>St,_Q:()=>ge,lh:()=>Jt,Qv:()=>_t,nw:()=>It}),k(6365);var y=k(6814),z=k(5879),Ce=k(1920),me=k(7217),be=k(8645),je=k(2096),Fe=k(5592),He=k(2459),oe=k(3019),ie=k(3093),Me=k(4664),gt=k(7398),Ge=k(4552);class Mt extends be.x{constructor(ce=1/0,J=1/0,De=Ge.l){super(),this._bufferSize=ce,this._windowTime=J,this._timestampProvider=De,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=J===1/0,this._bufferSize=Math.max(1,ce),this._windowTime=Math.max(1,J)}next(ce){const{isStopped:J,_buffer:De,_infiniteTimeWindow:ze,_timestampProvider:ve,_windowTime:Ie}=this;J||(De.push(ce),!ze&&De.push(ve.now()+Ie)),this._trimBuffer(),super.next(ce)}_subscribe(ce){this._throwIfClosed(),this._trimBuffer();const J=this._innerSubscribe(ce),{_infiniteTimeWindow:De,_buffer:ze}=this,ve=ze.slice();for(let Ie=0;Ie<ve.length&&!ce.closed;Ie+=De?1:2)ce.next(ve[Ie]);return this._checkFinalizedStatuses(ce),J}_trimBuffer(){const{_bufferSize:ce,_timestampProvider:J,_buffer:De,_infiniteTimeWindow:ze}=this,ve=(ze?1:2)*ce;if(ce<1/0&&ve<De.length&&De.splice(0,De.length-ve),!ze){const Ie=J.now();let ke=0;for(let vt=1;vt<De.length&&De[vt]<=Ie;vt+=2)ke=vt;ke&&De.splice(0,ke+1)}}}var yt=k(3020);function Vt(Pe,ce,J){let De,ze=!1;return Pe&&"object"==typeof Pe?({bufferSize:De=1/0,windowTime:ce=1/0,refCount:ze=!1,scheduler:J}=Pe):De=Pe??1/0,(0,yt.B)({connector:()=>new Mt(De,ce,J),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ze})}var Tt=k(1374),sn=k(4674);function We(Pe,ce){return(0,sn.m)(ce)?(0,Me.w)(()=>Pe,ce):(0,Me.w)(()=>Pe)}var Le=k(5137),Je=k(2181),Ke=k(7142);const _t=new z.OlP("angularfire2.auth.use-emulator"),St=new z.OlP("angularfire2.auth.settings"),ge=new z.OlP("angularfire2.auth.tenant-id"),Ht=new z.OlP("angularfire2.auth.langugage-code"),Jt=new z.OlP("angularfire2.auth.use-device-language"),xn=new z.OlP("angularfire.auth.persistence"),It=(Pe,ce,J,De,ze,ve,Ie,ke)=>(0,me.cc)(`${Pe.name}.auth`,"AngularFireAuth",Pe.name,()=>{const vt=ce.runOutsideAngular(()=>Pe.auth());if(J&&vt.useEmulator(...J),De&&(vt.tenantId=De),vt.languageCode=ze,ve&&vt.useDeviceLanguage(),Ie)for(const[Et,an]of Object.entries(Ie))vt.settings[Et]=an;return ke&&vt.setPersistence(ke),vt},[J,De,ze,ve,Ie,ke]);let et=(()=>{class Pe{authState;idToken;user;idTokenResult;credential;constructor(J,De,ze,ve,Ie,ke,vt,Et,an,qt,Sn,_n){const tr=new be.x,xt=(0,je.of)(void 0).pipe((0,ie.Q)(Ie.outsideAngular),(0,Me.w)(()=>ve.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,gt.U)(()=>(0,me.on)(J,ve,De)),(0,gt.U)(En=>It(En,ve,ke,Et,an,qt,vt,Sn)),Vt({bufferSize:1,refCount:!1}));if((0,y.PM)(ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{xt.pipe((0,Tt.P)()).subscribe();const En=xt.pipe((0,Me.w)(Nt=>Nt.getRedirectResult().then(Dr=>Dr,()=>null)),Ce.iC,Vt({bufferSize:1,refCount:!1})),On=xt.pipe((0,Me.w)(Nt=>new Fe.y(Dr=>({unsubscribe:ve.runOutsideAngular(()=>Nt.onAuthStateChanged(tn=>Dr.next(tn),tn=>Dr.error(tn),()=>Dr.complete()))})))),Ut=xt.pipe((0,Me.w)(Nt=>new Fe.y(Dr=>({unsubscribe:ve.runOutsideAngular(()=>Nt.onIdTokenChanged(tn=>Dr.next(tn),tn=>Dr.error(tn),()=>Dr.complete()))}))));this.authState=En.pipe(We(On),(0,Le.R)(Ie.outsideAngular),(0,ie.Q)(Ie.insideAngular)),this.user=En.pipe(We(Ut),(0,Le.R)(Ie.outsideAngular),(0,ie.Q)(Ie.insideAngular)),this.idToken=this.user.pipe((0,Me.w)(Nt=>Nt?(0,He.D)(Nt.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe((0,Me.w)(Nt=>Nt?(0,He.D)(Nt.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,oe.T)(En,tr,this.authState.pipe((0,Je.h)(Nt=>!Nt))).pipe((0,gt.U)(Nt=>Nt?.user?Nt:null),(0,Le.R)(Ie.outsideAngular),(0,ie.Q)(Ie.insideAngular))}return(0,me.pX)(this,xt,ve,{spy:{apply:(En,On,Ut)=>{(En.startsWith("signIn")||En.startsWith("createUser"))&&Ut.then(Nt=>tr.next(Nt))}}})}static \u0275fac=function(De){return new(De||Pe)(z.LFG(me.Dh),z.LFG(me.xv,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Ce.HU),z.LFG(_t,8),z.LFG(St,8),z.LFG(ge,8),z.LFG(Ht,8),z.LFG(Jt,8),z.LFG(xn,8),z.LFG(Ce.Rf,8))};static \u0275prov=z.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"any"})}return Pe})(),Dt=(()=>{class Pe{constructor(){Ke.Z.registerVersion("angularfire",Ce.q4.full,"auth-compat")}static \u0275fac=function(De){return new(De||Pe)};static \u0275mod=z.oAB({type:Pe});static \u0275inj=z.cJS({providers:[et]})}return Pe})()},7104:(on,Xe,k)=>{k.d(Xe,{ST:()=>di,yb:()=>Be});var l=k(6814),y=k(5879),z=k(1920),Ce=k(7217),me=k(7213),be=k(6321),je=k(5592),Fe=k(2459),He=k(2096),oe=k(7921),ie=k(9360),Me=k(8251);function gt(){return(0,ie.e)((ft,X)=>{let ye,ht=!1;ft.subscribe((0,Me.x)(X,Bt=>{const Tn=ye;ye=Bt,ht&&X.next([Tn,Bt]),ht=!0}))})}var Ge=k(7398),Mt=k(6699),yt=k(3997),Vt=k(2181),sn=(k(6365),k(3106)),We=k(5588),Le=k(9058),Je=k(4537);function _t(ft,X){if(void 0===X)return{merge:!1};if(void 0!==X.mergeFields&&void 0!==X.merge)throw new We.WA("invalid-argument",`Invalid options passed to function ${ft}(): You cannot specify both "merge" and "mergeFields".`);return X}function St(){if(typeof Uint8Array>"u")throw new We.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ge(){if(!(0,We.Me)())throw new We.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ht{constructor(X){this._delegate=X}static fromBase64String(X){return ge(),new Ht(We.Jj.fromBase64String(X))}static fromUint8Array(X){return St(),new Ht(We.Jj.fromUint8Array(X))}toBase64(){return ge(),this._delegate.toBase64()}toUint8Array(){return St(),this._delegate.toUint8Array()}isEqual(X){return this._delegate.isEqual(X._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jt(ft){return function xn(ft,X){if("object"!=typeof ft||null===ft)return!1;const ye=ft;for(const ht of X)if(ht in ye&&"function"==typeof ye[ht])return!0;return!1}(ft,["next","error","complete"])}class It{enableIndexedDbPersistence(X,ye){return(0,We.ST)(X._delegate,{forceOwnership:ye})}enableMultiTabIndexedDbPersistence(X){return(0,We.fH)(X._delegate)}clearIndexedDbPersistence(X){return(0,We.Fc)(X._delegate)}}class et{constructor(X,ye,ht){this._delegate=ye,this._persistenceProvider=ht,this.INTERNAL={delete:()=>this.terminate()},X instanceof We.l7||(this._appCompat=X)}get _databaseId(){return this._delegate._databaseId}settings(X){const ye=this._delegate._getSettings();!X.merge&&ye.host!==X.host&&(0,We.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),X.merge&&delete(X=Object.assign(Object.assign({},ye),X)).merge,this._delegate._setSettings(X)}useEmulator(X,ye,ht={}){(0,We.at)(this._delegate,X,ye,ht)}enableNetwork(){return(0,We.Ix)(this._delegate)}disableNetwork(){return(0,We.TF)(this._delegate)}enablePersistence(X){let ye=!1,ht=!1;return X&&(ye=!!X.synchronizeTabs,ht=!!X.experimentalForceOwningTab,(0,We.Wi)("synchronizeTabs",ye,"experimentalForceOwningTab",ht)),ye?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ht)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,We.Mx)(this._delegate)}onSnapshotsInSync(X){return(0,We.sc)(this._delegate,X)}get app(){if(!this._appCompat)throw new We.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(X){try{return new _n(this,(0,We.hJ)(this._delegate,X))}catch(ye){throw ve(ye,"collection()","Firestore.collection()")}}doc(X){try{return new ze(this,(0,We.JU)(this._delegate,X))}catch(ye){throw ve(ye,"doc()","Firestore.doc()")}}collectionGroup(X){try{return new an(this,(0,We.B$)(this._delegate,X))}catch(ye){throw ve(ye,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(X){return(0,We.i3)(this._delegate,ye=>X(new ce(this,ye)))}batch(){return(0,We.qY)(this._delegate),new J(new We.PU(this._delegate,X=>(0,We.GL)(this._delegate,X)))}loadBundle(X){return(0,We.Pb)(this._delegate,X)}namedQuery(X){return(0,We.L$)(this._delegate,X).then(ye=>ye?new an(this,ye):null)}}class Dt extends We.u7{constructor(X){super(),this.firestore=X}convertBytes(X){return new Ht(new We.Jj(X))}convertReference(X){const ye=this.convertDocumentKey(X,this.firestore._databaseId);return ze.forKey(ye,this.firestore,null)}}class ce{constructor(X,ye){this._firestore=X,this._delegate=ye,this._userDataWriter=new Dt(X)}get(X){const ye=tr(X);return this._delegate.get(ye).then(ht=>new vt(this._firestore,new We.xU(this._firestore._delegate,this._userDataWriter,ht._key,ht._document,ht.metadata,ye.converter)))}set(X,ye,ht){const Bt=tr(X);return ht?(_t("Transaction.set",ht),this._delegate.set(Bt,ye,ht)):this._delegate.set(Bt,ye),this}update(X,ye,ht,...Bt){const Tn=tr(X);return 2===arguments.length?this._delegate.update(Tn,ye):this._delegate.update(Tn,ye,ht,...Bt),this}delete(X){const ye=tr(X);return this._delegate.delete(ye),this}}class J{constructor(X){this._delegate=X}set(X,ye,ht){const Bt=tr(X);return ht?(_t("WriteBatch.set",ht),this._delegate.set(Bt,ye,ht)):this._delegate.set(Bt,ye),this}update(X,ye,ht,...Bt){const Tn=tr(X);return 2===arguments.length?this._delegate.update(Tn,ye):this._delegate.update(Tn,ye,ht,...Bt),this}delete(X){const ye=tr(X);return this._delegate.delete(ye),this}commit(){return this._delegate.commit()}}class De{constructor(X,ye,ht){this._firestore=X,this._userDataWriter=ye,this._delegate=ht}fromFirestore(X,ye){const ht=new We.$q(this._firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,null);return this._delegate.fromFirestore(new Et(this._firestore,ht),ye??{})}toFirestore(X,ye){return ye?this._delegate.toFirestore(X,ye):this._delegate.toFirestore(X)}static getInstance(X,ye){const ht=De.INSTANCES;let Bt=ht.get(X);Bt||(Bt=new WeakMap,ht.set(X,Bt));let Tn=Bt.get(ye);return Tn||(Tn=new De(X,new Dt(X),ye),Bt.set(ye,Tn)),Tn}}De.INSTANCES=new WeakMap;class ze{constructor(X,ye){this.firestore=X,this._delegate=ye,this._userDataWriter=new Dt(X)}static forPath(X,ye,ht){if(X.length%2!=0)throw new We.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${X.canonicalString()} has ${X.length}`);return new ze(ye,new We.my(ye._delegate,ht,new We.Ky(X)))}static forKey(X,ye,ht){return new ze(ye,new We.my(ye._delegate,ht,X))}get id(){return this._delegate.id}get parent(){return new _n(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(X){try{return new _n(this.firestore,(0,We.hJ)(this._delegate,X))}catch(ye){throw ve(ye,"collection()","DocumentReference.collection()")}}isEqual(X){return(X=(0,Le.m9)(X))instanceof We.my&&(0,We.Eo)(this._delegate,X)}set(X,ye){ye=_t("DocumentReference.set",ye);try{return ye?(0,We.pl)(this._delegate,X,ye):(0,We.pl)(this._delegate,X)}catch(ht){throw ve(ht,"setDoc()","DocumentReference.set()")}}update(X,ye,...ht){try{return 1===arguments.length?(0,We.r7)(this._delegate,X):(0,We.r7)(this._delegate,X,ye,...ht)}catch(Bt){throw ve(Bt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,We.oe)(this._delegate)}onSnapshot(...X){const ye=Ie(X),ht=ke(X,Bt=>new vt(this.firestore,new We.xU(this.firestore._delegate,this._userDataWriter,Bt._key,Bt._document,Bt.metadata,this._delegate.converter)));return(0,We.cf)(this._delegate,ye,ht)}get(X){let ye;return ye="cache"===X?.source?(0,We.kl)(this._delegate):"server"===X?.source?(0,We.Xk)(this._delegate):(0,We.QT)(this._delegate),ye.then(ht=>new vt(this.firestore,new We.xU(this.firestore._delegate,this._userDataWriter,ht._key,ht._document,ht.metadata,this._delegate.converter)))}withConverter(X){return new ze(this.firestore,this._delegate.withConverter(X?De.getInstance(this.firestore,X):null))}}function ve(ft,X,ye){return ft.message=ft.message.replace(X,ye),ft}function Ie(ft){for(const X of ft)if("object"==typeof X&&!Jt(X))return X;return{}}function ke(ft,X){var ye,ht;let Bt;return Bt=Jt(ft[0])?ft[0]:Jt(ft[1])?ft[1]:"function"==typeof ft[0]?{next:ft[0],error:ft[1],complete:ft[2]}:{next:ft[1],error:ft[2],complete:ft[3]},{next:Tn=>{Bt.next&&Bt.next(X(Tn))},error:null===(ye=Bt.error)||void 0===ye?void 0:ye.bind(Bt),complete:null===(ht=Bt.complete)||void 0===ht?void 0:ht.bind(Bt)}}class vt{constructor(X,ye){this._firestore=X,this._delegate=ye}get ref(){return new ze(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(X){return this._delegate.data(X)}get(X,ye){return this._delegate.get(X,ye)}isEqual(X){return(0,We.qK)(this._delegate,X._delegate)}}class Et extends vt{data(X){const ye=this._delegate.data(X);return this._delegate._converter||(0,We.K9)(void 0!==ye,"Document in a QueryDocumentSnapshot should exist"),ye}}class an{constructor(X,ye){this.firestore=X,this._delegate=ye,this._userDataWriter=new Dt(X)}where(X,ye,ht){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.ar)(X,ye,ht)))}catch(Bt){throw ve(Bt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(X,ye){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.Xo)(X,ye)))}catch(ht){throw ve(ht,/(orderBy|where)\(\)/,"Query.$1()")}}limit(X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.b9)(X)))}catch(ye){throw ve(ye,"limit()","Query.limit()")}}limitToLast(X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.vh)(X)))}catch(ye){throw ve(ye,"limitToLast()","Query.limitToLast()")}}startAt(...X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.e0)(...X)))}catch(ye){throw ve(ye,"startAt()","Query.startAt()")}}startAfter(...X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.TQ)(...X)))}catch(ye){throw ve(ye,"startAfter()","Query.startAfter()")}}endBefore(...X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.Lx)(...X)))}catch(ye){throw ve(ye,"endBefore()","Query.endBefore()")}}endAt(...X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.Wu)(...X)))}catch(ye){throw ve(ye,"endAt()","Query.endAt()")}}isEqual(X){return(0,We.iE)(this._delegate,X._delegate)}get(X){let ye;return ye="cache"===X?.source?(0,We.UQ)(this._delegate):"server"===X?.source?(0,We.zN)(this._delegate):(0,We.PL)(this._delegate),ye.then(ht=>new Sn(this.firestore,new We.W(this.firestore._delegate,this._userDataWriter,this._delegate,ht._snapshot)))}onSnapshot(...X){const ye=Ie(X),ht=ke(X,Bt=>new Sn(this.firestore,new We.W(this.firestore._delegate,this._userDataWriter,this._delegate,Bt._snapshot)));return(0,We.cf)(this._delegate,ye,ht)}withConverter(X){return new an(this.firestore,this._delegate.withConverter(X?De.getInstance(this.firestore,X):null))}}class qt{constructor(X,ye){this._firestore=X,this._delegate=ye}get type(){return this._delegate.type}get doc(){return new Et(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sn{constructor(X,ye){this._firestore=X,this._delegate=ye}get query(){return new an(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(X=>new Et(this._firestore,X))}docChanges(X){return this._delegate.docChanges(X).map(ye=>new qt(this._firestore,ye))}forEach(X,ye){this._delegate.forEach(ht=>{X.call(ye,new Et(this._firestore,ht))})}isEqual(X){return(0,We.qK)(this._delegate,X._delegate)}}class _n extends an{constructor(X,ye){super(X,ye),this.firestore=X,this._delegate=ye}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const X=this._delegate.parent;return X?new ze(this.firestore,X):null}doc(X){try{return new ze(this.firestore,void 0===X?(0,We.JU)(this._delegate):(0,We.JU)(this._delegate,X))}catch(ye){throw ve(ye,"doc()","CollectionReference.doc()")}}add(X){return(0,We.ET)(this._delegate,X).then(ye=>new ze(this.firestore,ye))}isEqual(X){return(0,We.Eo)(this._delegate,X._delegate)}withConverter(X){return new _n(this.firestore,this._delegate.withConverter(X?De.getInstance(this.firestore,X):null))}}function tr(ft){return(0,We.Cf)(ft,We.my)}class xt{constructor(...X){this._delegate=new We.Lz(...X)}static documentId(){return new xt(We.Xb.keyField().canonicalString())}isEqual(X){return(X=(0,Le.m9)(X))instanceof We.Lz&&this._delegate._internalPath.isEqual(X._internalPath)}}class En{constructor(X){this._delegate=X}static serverTimestamp(){const X=(0,We.Bt)();return X._methodName="FieldValue.serverTimestamp",new En(X)}static delete(){const X=(0,We.AK)();return X._methodName="FieldValue.delete",new En(X)}static arrayUnion(...X){const ye=(0,We.vr)(...X);return ye._methodName="FieldValue.arrayUnion",new En(ye)}static arrayRemove(...X){const ye=(0,We.Ab)(...X);return ye._methodName="FieldValue.arrayRemove",new En(ye)}static increment(X){const ye=(0,We.nP)(X);return ye._methodName="FieldValue.increment",new En(ye)}isEqual(X){return this._delegate.isEqual(X._delegate)}}const On={Firestore:et,GeoPoint:We.F8,Timestamp:We.EK,Blob:Ht,Transaction:ce,WriteBatch:J,DocumentReference:ze,DocumentSnapshot:vt,Query:an,QueryDocumentSnapshot:Et,QuerySnapshot:Sn,CollectionReference:_n,FieldPath:xt,FieldValue:En,setLogLevel:function Pe(ft){(0,We.Ub)(ft)},CACHE_SIZE_UNLIMITED:We.IX};!function Nt(ft){(function Ut(ft,X){ft.INTERNAL.registerComponent(new Je.wA("firestore-compat",ye=>{const ht=ye.getProvider("app-compat").getImmediate(),Bt=ye.getProvider("firestore").getImmediate();return X(ht,Bt)},"PUBLIC").setServiceProps(Object.assign({},On)))})(ft,(X,ye)=>new et(X,ye,new It)),ft.registerVersion("@firebase/firestore-compat","0.3.32")}(sn.Z);var Dr=k(7142);function sr(ft,X){return function tn(ft,X=be.z){return new je.y(ye=>{let ht;return null!=X?X.schedule(()=>{ht=ft.onSnapshot({includeMetadataChanges:!0},ye)}):ht=ft.onSnapshot({includeMetadataChanges:!0},ye),()=>{ht?.()}})}(ft,X)}function Ot(ft,X){return sr(ft,X).pipe((0,Ge.U)(ye=>({payload:ye,type:"query"})))}class cn{ref;afs;constructor(X,ye){this.ref=X,this.afs=ye}set(X,ye){return this.ref.set(X,ye)}update(X){return this.ref.update(X)}delete(){return this.ref.delete()}collection(X,ye){const ht=this.ref.collection(X),{ref:Bt,query:Tn}=Dn(ht,ye);return new Or(Bt,Tn,this.afs)}snapshotChanges(){return function Fn(ft,X){return sr(ft,X).pipe((0,oe.O)(void 0),gt(),(0,Ge.U)(ye=>{const[ht,Bt]=ye;return Bt.exists?ht?.exists?{payload:Bt,type:"modified"}:{payload:Bt,type:"added"}:{payload:Bt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(X={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:ye})=>X.idField?{...ye.data(),[X.idField]:ye.id}:ye.data()))}get(X){return(0,Fe.D)(this.ref.get(X)).pipe(z.iC)}}function Cn(ft,X){return Ot(ft,X).pipe((0,oe.O)(void 0),gt(),(0,Ge.U)(ye=>{const[ht,Bt]=ye,Tn=Bt.payload.docChanges(),gr=Tn.map(Yn=>({type:Yn.type,payload:Yn}));return ht&&JSON.stringify(ht.payload.metadata)!==JSON.stringify(Bt.payload.metadata)&&Bt.payload.docs.forEach((Yn,we)=>{const Y=Tn.find(x=>x.doc.ref.isEqual(Yn.ref)),V=ht?.payload.docs.find(x=>x.ref.isEqual(Yn.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(Yn.metadata)||!Y&&V&&JSON.stringify(V.metadata)===JSON.stringify(Yn.metadata)||gr.push({type:"modified",payload:{oldIndex:we,newIndex:we,type:"modified",doc:Yn}})}),gr}))}function gn(ft,X,ye){return Cn(ft,ye).pipe((0,Mt.R)((ht,Bt)=>function ir(ft,X,ye){return X.forEach(ht=>{ye.indexOf(ht.type)>-1&&(ft=function xr(ft,X){switch(X.type){case"added":if(!ft[X.newIndex]||!ft[X.newIndex].doc.ref.isEqual(X.doc.ref))return cr(ft,X.newIndex,0,X);break;case"modified":if(null==ft[X.oldIndex]||ft[X.oldIndex].doc.ref.isEqual(X.doc.ref)){if(X.oldIndex!==X.newIndex){const ye=ft.slice();return ye.splice(X.oldIndex,1),ye.splice(X.newIndex,0,X),ye}return cr(ft,X.newIndex,1,X)}break;case"removed":if(ft[X.oldIndex]&&ft[X.oldIndex].doc.ref.isEqual(X.doc.ref))return cr(ft,X.oldIndex,1)}return ft}(ft,ht))}),ft}(ht,Bt.map(Tn=>Tn.payload),X),[]),(0,yt.x)(),(0,Ge.U)(ht=>ht.map(Bt=>({type:Bt.type,payload:Bt}))))}function cr(ft,X,ye,...ht){const Bt=ft.slice();return Bt.splice(X,ye,...ht),Bt}function Rn(ft){return(!ft||0===ft.length)&&(ft=["added","removed","modified"]),ft}class Or{ref;query;afs;constructor(X,ye,ht){this.ref=X,this.query=ye,this.afs=ht}stateChanges(X){let ye=Cn(this.query,this.afs.schedulers.outsideAngular);return X&&X.length>0&&(ye=ye.pipe((0,Ge.U)(ht=>ht.filter(Bt=>X.indexOf(Bt.type)>-1)))),ye.pipe((0,oe.O)(void 0),gt(),(0,Vt.h)(([ht,Bt])=>Bt.length>0||!ht),(0,Ge.U)(([,ht])=>ht),z.iC)}auditTrail(X){return this.stateChanges(X).pipe((0,Mt.R)((ye,ht)=>[...ye,...ht],[]))}snapshotChanges(X){const ye=Rn(X);return gn(this.query,ye,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(X={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(ye=>ye.payload.docs.map(ht=>X.idField?{...ht.data(),[X.idField]:ht.id}:ht.data())),z.iC)}get(X){return(0,Fe.D)(this.query.get(X)).pipe(z.iC)}add(X){return this.ref.add(X)}doc(X){return new cn(this.ref.doc(X),this.afs)}}class Ci{query;afs;constructor(X,ye){this.query=X,this.afs=ye}stateChanges(X){return X&&0!==X.length?Cn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(ye=>ye.filter(ht=>X.indexOf(ht.type)>-1)),(0,Vt.h)(ye=>ye.length>0),z.iC):Cn(this.query,this.afs.schedulers.outsideAngular).pipe(z.iC)}auditTrail(X){return this.stateChanges(X).pipe((0,Mt.R)((ye,ht)=>[...ye,...ht],[]))}snapshotChanges(X){const ye=Rn(X);return gn(this.query,ye,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(X={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(ht=>ht.payload.docs.map(Bt=>X.idField?{[X.idField]:Bt.id,...Bt.data()}:Bt.data())),z.iC)}get(X){return(0,Fe.D)(this.query.get(X)).pipe(z.iC)}}const Xt=new y.OlP("angularfire2.enableFirestorePersistence"),Nr=new y.OlP("angularfire2.firestore.persistenceSettings"),$n=new y.OlP("angularfire2.firestore.settings"),nr=new y.OlP("angularfire2.firestore.use-emulator");function Dn(ft,X=(ye=>ye)){return{query:X(ft),ref:ft}}let di=(()=>{class ft{schedulers;firestore;persistenceEnabled$;constructor(ye,ht,Bt,Tn,gr,Yn,we,Y,V,x,O,ae,xe,pt,Pt,nn,Zt){this.schedulers=we;const Qt=(0,Ce.on)(ye,Yn,ht),Gn=V;x&&(0,me.nw)(Qt,Yn,O,xe,pt,Pt,ae,nn),[this.firestore,this.persistenceEnabled$]=(0,Ce.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const vn=Yn.runOutsideAngular(()=>Qt.firestore());if(Tn&&vn.settings(Tn),Gn&&vn.useEmulator(...Gn),Bt&&!(0,l.PM)(gr)){const Qn=()=>{try{return(0,Fe.D)(vn.enablePersistence(Y||void 0).then(()=>!0,()=>!1))}catch(ki){return typeof console<"u"&&console.warn(ki),(0,He.of)(!1)}};return[vn,Yn.runOutsideAngular(Qn)]}return[vn,(0,He.of)(!1)]},[Tn,Gn,Bt])}collection(ye,ht){let Bt;Bt="string"==typeof ye?this.firestore.collection(ye):ye;const{ref:Tn,query:gr}=Dn(Bt,ht),Yn=this.schedulers.ngZone.run(()=>Tn);return new Or(Yn,gr,this)}collectionGroup(ye,ht){const Bt=ht||(gr=>gr),Tn=this.firestore.collectionGroup(ye);return new Ci(Bt(Tn),this)}doc(ye){let ht;ht="string"==typeof ye?this.firestore.doc(ye):ye;const Bt=this.schedulers.ngZone.run(()=>ht);return new cn(Bt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ht){return new(ht||ft)(y.LFG(Ce.Dh),y.LFG(Ce.xv,8),y.LFG(Xt,8),y.LFG($n,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(z.HU),y.LFG(Nr,8),y.LFG(nr,8),y.LFG(me.zQ,8),y.LFG(me.Qv,8),y.LFG(me.L6,8),y.LFG(me._Q,8),y.LFG(me.rT,8),y.LFG(me.lh,8),y.LFG(me.f7,8),y.LFG(z.Rf,8))};static \u0275prov=y.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"any"})}return ft})(),Be=(()=>{class ft{constructor(){Dr.Z.registerVersion("angularfire",z.q4.full,"fst-compat")}static enablePersistence(ye){return{ngModule:ft,providers:[{provide:Xt,useValue:!0},{provide:Nr,useValue:ye}]}}static \u0275fac=function(ht){return new(ht||ft)};static \u0275mod=y.oAB({type:ft});static \u0275inj=y.cJS({providers:[di]})}return ft})()},778:(on,Xe,k)=>{k.d(Xe,{Q1:()=>ce,TE:()=>ze});var l=k(1920),y=k(5592),z=k(2096),Ce=k(2459),me=k(6321),be=k(9360),je=k(8251),He=k(7398),oe=k(4664),ie=k(5879),Me=k(7217),gt=k(3106),Ge=k(8153),Mt=k(4537);class yt{constructor(Ie,ke,vt){this._delegate=Ie,this.task=ke,this.ref=vt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Vt{constructor(Ie,ke){this._delegate=Ie,this._ref=ke,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new yt(this._delegate.snapshot,this,this._ref)}then(Ie,ke){return this._delegate.then(vt=>{if(Ie)return Ie(new yt(vt,this,this._ref))},ke)}on(Ie,ke,vt,Et){let an;return ke&&(an="function"==typeof ke?qt=>ke(new yt(qt,this,this._ref)):{next:ke.next?qt=>ke.next(new yt(qt,this,this._ref)):void 0,complete:ke.complete||void 0,error:ke.error||void 0}),this._delegate.on(Ie,an,vt||void 0,Et||void 0)}}class Tt{constructor(Ie,ke){this._delegate=Ie,this._service=ke}get prefixes(){return this._delegate.prefixes.map(Ie=>new sn(Ie,this._service))}get items(){return this._delegate.items.map(Ie=>new sn(Ie,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sn{constructor(Ie,ke){this._delegate=Ie,this.storage=ke}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ie){const ke=(0,Ge.g6)(this._delegate,Ie);return new sn(ke,this.storage)}get root(){return new sn(this._delegate.root,this.storage)}get parent(){const Ie=this._delegate.parent;return null==Ie?null:new sn(Ie,this.storage)}put(Ie,ke){return this._throwIfRoot("put"),new Vt((0,Ge.B0)(this._delegate,Ie,ke),this)}putString(Ie,ke=Ge.bm.RAW,vt){this._throwIfRoot("putString");const Et=(0,Ge.qm)(ke,Ie),an=Object.assign({},vt);return null==an.contentType&&null!=Et.contentType&&(an.contentType=Et.contentType),new Vt(new Ge.IX(this._delegate,new Ge.UJ(Et.data,!0),an),this)}listAll(){return(0,Ge.aF)(this._delegate).then(Ie=>new Tt(Ie,this.storage))}list(Ie){return(0,Ge.pb)(this._delegate,Ie||void 0).then(ke=>new Tt(ke,this.storage))}getMetadata(){return(0,Ge.sd)(this._delegate)}updateMetadata(Ie){return(0,Ge.Ym)(this._delegate,Ie)}getDownloadURL(){return(0,Ge.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ge.oq)(this._delegate)}_throwIfRoot(Ie){if(""===this._delegate._location.path)throw(0,Ge.y4)(Ie)}}class We{constructor(Ie,ke){this.app=Ie,this._delegate=ke}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ie){if(Le(Ie))throw(0,Ge.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new sn((0,Ge.iH)(this._delegate,Ie),this)}refFromURL(Ie){if(!Le(Ie))throw(0,Ge.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ge.gE.makeFromUrl(Ie,this._delegate.host)}catch{throw(0,Ge.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new sn((0,Ge.iH)(this._delegate,Ie),this)}setMaxUploadRetryTime(Ie){this._delegate.maxUploadRetryTime=Ie}setMaxOperationRetryTime(Ie){this._delegate.maxOperationRetryTime=Ie}useEmulator(Ie,ke,vt={}){(0,Ge.a1)(this._delegate,Ie,ke,vt)}}function Le(ve){return/^[A-Za-z]+:\/\//.test(ve)}function _t(ve,{instanceIdentifier:Ie}){const ke=ve.getProvider("app-compat").getImmediate(),vt=ve.getProvider("storage").getImmediate({identifier:Ie});return new We(ke,vt)}!function St(ve){const Ie={TaskState:Ge.$Y,TaskEvent:Ge.FN,StringFormat:Ge.bm,Storage:We,Reference:sn};ve.INTERNAL.registerComponent(new Mt.wA("storage-compat",_t,"PUBLIC").setServiceProps(Ie).setMultipleInstances(!0)),ve.registerVersion("@firebase/storage-compat","0.3.8")}(gt.Z);var ge=k(7142);function Jt(ve){const Ie=function Ht(ve){return new y.y(Ie=>{const ke=qt=>Ie.next(qt);ke(ve.snapshot);const an=ve.on("state_changed",ke);return ve.then(qt=>{ke(qt),Ie.complete()},qt=>{ke(ve.snapshot),(qt=>{Ie.error(qt)})(qt)}),function(){an()}}).pipe(function Fe(ve,Ie=me.z){return(0,be.e)((ke,vt)=>{let Et=null,an=null,qt=null;const Sn=()=>{if(Et){Et.unsubscribe(),Et=null;const tr=an;an=null,vt.next(tr)}};function _n(){const tr=qt+ve,xt=Ie.now();if(xt<tr)return Et=this.schedule(void 0,tr-xt),void vt.add(Et);Sn()}ke.subscribe((0,je.x)(vt,tr=>{an=tr,qt=Ie.now(),Et||(Et=Ie.schedule(_n,ve),vt.add(Et))},()=>{Sn(),vt.complete()},void 0,()=>{an=Et=null}))})}(0))}(ve);return{task:ve,then:ve.then.bind(ve),catch:ve.catch.bind(ve),pause:ve.pause.bind(ve),cancel:ve.cancel.bind(ve),resume:ve.resume.bind(ve),snapshotChanges:()=>Ie,percentageChanges:()=>Ie.pipe((0,He.U)(ke=>ke.bytesTransferred/ke.totalBytes*100))}}function xn(ve){return{getDownloadURL:()=>(0,z.of)(void 0).pipe(l.fc,(0,oe.w)(()=>ve.getDownloadURL()),l.iC),getMetadata:()=>(0,z.of)(void 0).pipe(l.fc,(0,oe.w)(()=>ve.getMetadata()),l.iC),delete:()=>(0,Ce.D)(ve.delete()),child:Ie=>xn(ve.child(Ie)),updateMetadata:Ie=>(0,Ce.D)(ve.updateMetadata(Ie)),put:(Ie,ke)=>Jt(ve.put(Ie,ke)),putString:(Ie,ke,vt)=>Jt(ve.putString(Ie,ke,vt)),list:Ie=>(0,Ce.D)(ve.list(Ie)),listAll:()=>(0,Ce.D)(ve.listAll())}}const It=new ie.OlP("angularfire2.storageBucket"),et=new ie.OlP("angularfire2.storage.maxUploadRetryTime"),Dt=new ie.OlP("angularfire2.storage.maxOperationRetryTime"),Pe=new ie.OlP("angularfire2.storage.use-emulator");let ce=(()=>{class ve{storage;constructor(ke,vt,Et,an,qt,Sn,_n,tr,xt,En){const On=(0,Me.on)(ke,qt,vt);this.storage=(0,Me.cc)(`${On.name}.storage.${Et}`,"AngularFireStorage",On.name,()=>{const Ut=qt.runOutsideAngular(()=>On.storage(Et||void 0)),Nt=xt;return Nt&&Ut.useEmulator(...Nt),_n&&Ut.setMaxUploadRetryTime(_n),tr&&Ut.setMaxOperationRetryTime(tr),Ut},[_n,tr])}ref(ke){return xn(this.storage.ref(ke))}refFromURL(ke){return xn(this.storage.refFromURL(ke))}upload(ke,vt,Et){return xn(this.storage.ref(ke)).put(vt,Et)}static \u0275fac=function(vt){return new(vt||ve)(ie.LFG(Me.Dh),ie.LFG(Me.xv,8),ie.LFG(It,8),ie.LFG(ie.Lbi),ie.LFG(ie.R0b),ie.LFG(l.HU),ie.LFG(et,8),ie.LFG(Dt,8),ie.LFG(Pe,8),ie.LFG(l.Rf,8))};static \u0275prov=ie.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"any"})}return ve})(),De=(()=>{class ve{static \u0275fac=function(vt){return new(vt||ve)};static \u0275mod=ie.oAB({type:ve});static \u0275inj=ie.cJS({})}return ve})(),ze=(()=>{class ve{constructor(){ge.Z.registerVersion("angularfire",l.q4.full,"gcs-compat")}static \u0275fac=function(vt){return new(vt||ve)};static \u0275mod=ie.oAB({type:ve});static \u0275inj=ie.cJS({providers:[ce],imports:[De]})}return ve})()},7217:(on,Xe,k)=>{k.d(Xe,{Dh:()=>Fe,GT:()=>be,cc:()=>Ge,hO:()=>gt,on:()=>oe,pX:()=>me,xv:()=>He});var l=k(5879),y=k(1920),z=k(7142);const Ce=["ngOnDestroy"],me=(Tt,sn,We,Le={})=>new Proxy(Tt,{get:(Je,Ke)=>We.runOutsideAngular(()=>{if(Tt[Ke])return Le?.spy?.get&&Le.spy.get(Ke,Tt[Ke]),Tt[Ke];if(Ce.indexOf(Ke)>-1)return()=>{};const Ye=sn.toPromise().then(_t=>{const St=_t?.[Ke];return"function"==typeof St?St.bind(_t):St?.then?St.then(ge=>We.run(()=>ge)):We.run(()=>St)});return new Proxy(()=>{},{get:(_t,St)=>Ye[St],apply:(_t,St,ge)=>Ye.then(Ht=>{const Jt=Ht?.(...ge);return Le?.spy?.apply&&Le.spy.apply(Ke,ge,Jt),Jt})})})}),be=(Tt,sn)=>{sn.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Le=>{Object.defineProperty(Tt.prototype,Le,Object.getOwnPropertyDescriptor(We.prototype||We,Le))})})};class je{constructor(sn){return sn}}const Fe=new l.OlP("angularfire2.app.options"),He=new l.OlP("angularfire2.app.name");function oe(Tt,sn,We){const Je="object"==typeof We&&We||{};Je.name=Je.name||"string"==typeof We&&We||"[DEFAULT]";const Ye=z.Z.apps.filter(_t=>_t&&_t.name===Je.name)[0]||sn.runOutsideAngular(()=>z.Z.initializeApp(Tt,Je));try{if(JSON.stringify(Tt)!==JSON.stringify(Ye.options)){const _t=!!module.hot;ie("error",`${Ye.name} Firebase App already initialized with different options${_t?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new je(Ye)}const ie=(Tt,...sn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Tt](...sn)},Me={provide:je,useFactory:oe,deps:[Fe,l.R0b,[new l.FiY,He]]};let gt=(()=>{class Tt{static initializeApp(We,Le){return{ngModule:Tt,providers:[{provide:Fe,useValue:We},{provide:He,useValue:Le}]}}constructor(We){z.Z.registerVersion("angularfire",y.q4.full,"core"),z.Z.registerVersion("angularfire",y.q4.full,"app-compat"),z.Z.registerVersion("angular",l.q4F.full,We.toString())}static \u0275fac=function(Le){return new(Le||Tt)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:Tt});static \u0275inj=l.cJS({providers:[Me]})}return Tt})();function Ge(Tt,sn,We,Le,Je){const[,Ke,Ye]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===Tt)||[];if(Ke)return function Mt(Tt,sn){try{return Tt.toString()===sn.toString()}catch{return Tt===sn}}(Je,Ye)||(Vt("error",`${sn} was already initialized on the ${We} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),Vt("warn",{is:Je,was:Ye})),Ke;{const _t=Le();return globalThis.\u0275AngularfireInstanceCache.push([Tt,_t,Je]),_t}}const yt=typeof module<"u"&&!!module.hot,Vt=(Tt,...sn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Tt](...sn)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(on,Xe,k)=>{k.d(Xe,{q4:()=>Ge,iC:()=>Jt,fc:()=>ge,HU:()=>Ke,Rf:()=>Tt,vb:()=>Vt,JM:()=>yt,u3:()=>et});var l=k(5879),y=k(3182),z=k(1954),me=k(2631);const je=new class be extends me.v{}(class Ce extends z.o{constructor(Pe,ce){super(Pe,ce),this.scheduler=Pe,this.work=ce}schedule(Pe,ce=0){return ce>0?super.schedule(Pe,ce):(this.delay=ce,this.state=Pe,this.scheduler.flush(this),this)}execute(Pe,ce){return ce>0||this.closed?super.execute(Pe,ce):this._execute(Pe,ce)}requestAsyncId(Pe,ce,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(Pe,ce,J):(Pe.flush(this),0)}});var He=k(6321),oe=k(5592),ie=k(9397),Me=k(3093),gt=k(5137);const Ge=new l.GfV("ANGULARFIRE2_VERSION");function yt(Dt,Pe,ce){if(Pe){if(1===Pe.length)return Pe[0];const ze=Pe.filter(ve=>ve.app===ce);if(1===ze.length)return ze[0]}return ce.container.getProvider(Dt).getImmediate({optional:!0})}const Vt=(Dt,Pe)=>{const ce=Pe?[Pe]:(0,y.C6)(),J=[];return ce.forEach(De=>{De.container.getProvider(Dt).instances.forEach(ve=>{J.includes(ve)||J.push(ve)})}),J};class Tt{constructor(){return Vt(sn)}}const sn="app-check";function We(){}class Le{zone;delegate;constructor(Pe,ce=je){this.zone=Pe,this.delegate=ce}now(){return this.delegate.now()}schedule(Pe,ce,J){const De=this.zone;return this.delegate.schedule(function(ve){De.runGuarded(()=>{Pe.apply(this,[ve])})},ce,J)}}class Je{zone;task=null;constructor(Pe){this.zone=Pe}call(Pe,ce){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We)),ce.pipe((0,ie.b)({next:J,complete:J,error:J})).subscribe(Pe).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ke=(()=>{class Dt{ngZone;outsideAngular;insideAngular;constructor(ce){this.ngZone=ce,this.outsideAngular=ce.runOutsideAngular(()=>new Le(Zone.current)),this.insideAngular=ce.run(()=>new Le(Zone.current,He.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(J){return new(J||Dt)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();function Ye(){const Dt=globalThis.\u0275AngularFireScheduler;if(!Dt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Dt}function St(Dt){return Ye().ngZone.run(()=>Dt())}function ge(Dt){return Dt.pipe((0,Me.Q)(Ye().outsideAngular))}function Jt(Dt){return function xn(Dt){return function(ce){return(ce=ce.lift(new Je(Dt.ngZone))).pipe((0,gt.R)(Dt.outsideAngular),(0,Me.Q)(Dt.insideAngular))}}(Ye())(Dt)}const It=(Dt,Pe)=>function(){const J=arguments;return Pe&&setTimeout(()=>{"scheduled"===Pe.state&&Pe.invoke()},10),St(()=>Dt.apply(void 0,J))},et=(Dt,Pe)=>function(){let ce;const J=arguments;for(let ze=0;ze<arguments.length;ze++)"function"==typeof J[ze]&&(Pe&&(ce||=St(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We))),J[ze]=It(J[ze],ce));const De=function _t(Dt){return Ye().ngZone.runOutsideAngular(()=>Dt())}(()=>Dt.apply(this,J));if(!Pe){if(De instanceof oe.y){const ze=Ye();return De.pipe((0,gt.R)(ze.outsideAngular),(0,Me.Q)(ze.insideAngular))}return St(()=>De)}return De instanceof oe.y?De.pipe(Jt):De instanceof Promise?St(()=>new Promise((ze,ve)=>De.then(Ie=>St(()=>ze(Ie)),Ie=>St(()=>ve(Ie))))):"function"==typeof De&&ce?function(){return setTimeout(()=>{ce&&"scheduled"===ce.state&&ce.invoke()},10),De.apply(this,arguments)}:St(()=>De)}},95:(on,Xe,k)=>{k.d(Xe,{Wl:()=>Vt,Fj:()=>Le,CE:()=>Mo,qu:()=>hs,u:()=>wr,sg:()=>Yt,x0:()=>Jn,u5:()=>Cs,JJ:()=>Cn,JL:()=>gn,F:()=>mi,On:()=>zi,UX:()=>ua,Q7:()=>Zr,kI:()=>ge,_Y:()=>Eo});var l=k(5879),y=k(6814),z=k(2459),Ce=k(5592),me=k(7453),be=k(4829),je=k(4564),Fe=k(8251),He=k(7400),oe=k(2714),Me=k(7398);let gt=(()=>{class U{constructor(P,ne){this._renderer=P,this._elementRef=ne,this.onChange=Se=>{},this.onTouched=()=>{}}setProperty(P,ne){this._renderer.setProperty(this._elementRef.nativeElement,P,ne)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:U})}return U})(),Ge=(()=>{class U extends gt{static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,features:[l.qOj]})}return U})();const Mt=new l.OlP("NgValueAccessor"),yt={provide:Mt,useExisting:(0,l.Gpc)(()=>Vt),multi:!0};let Vt=(()=>{class U extends Ge{writeValue(P){this.setProperty("checked",P)}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ne,Se){1&ne&&l.NdJ("change",function(kn){return Se.onChange(kn.target.checked)})("blur",function(){return Se.onTouched()})},features:[l._Bn([yt]),l.qOj]})}return U})();const Tt={provide:Mt,useExisting:(0,l.Gpc)(()=>Le),multi:!0},We=new l.OlP("CompositionEventMode");let Le=(()=>{class U extends gt{constructor(P,ne,Se){super(P,ne),this._compositionMode=Se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sn(){const U=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(We,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ne,Se){1&ne&&l.NdJ("input",function(kn){return Se._handleInput(kn.target.value)})("blur",function(){return Se.onTouched()})("compositionstart",function(){return Se._compositionStart()})("compositionend",function(kn){return Se._compositionEnd(kn.target.value)})},features:[l._Bn([Tt]),l.qOj]})}return U})();function Je(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Ke(U){return null!=U&&"number"==typeof U.length}const Ye=new l.OlP("NgValidators"),_t=new l.OlP("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ge{static min(G){return function Ht(U){return G=>{if(Je(G.value)||Je(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P<U?{min:{min:U,actual:G.value}}:null}}(G)}static max(G){return function Jt(U){return G=>{if(Je(G.value)||Je(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P>U?{max:{max:U,actual:G.value}}:null}}(G)}static required(G){return xn(G)}static requiredTrue(G){return function It(U){return!0===U.value?null:{required:!0}}(G)}static email(G){return function et(U){return Je(U.value)||St.test(U.value)?null:{email:!0}}(G)}static minLength(G){return function Dt(U){return G=>Je(G.value)||!Ke(G.value)?null:G.value.length<U?{minlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static maxLength(G){return function Pe(U){return G=>Ke(G.value)&&G.value.length>U?{maxlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static pattern(G){return function ce(U){if(!U)return J;let G,P;return"string"==typeof U?(P="","^"!==U.charAt(0)&&(P+="^"),P+=U,"$"!==U.charAt(U.length-1)&&(P+="$"),G=new RegExp(P)):(P=U.toString(),G=U),ne=>{if(Je(ne.value))return null;const Se=ne.value;return G.test(Se)?null:{pattern:{requiredPattern:P,actualValue:Se}}}}(G)}static nullValidator(G){return null}static compose(G){return Et(G)}static composeAsync(G){return qt(G)}}function xn(U){return Je(U.value)?{required:!0}:null}function J(U){return null}function De(U){return null!=U}function ze(U){return(0,l.QGY)(U)?(0,z.D)(U):U}function ve(U){let G={};return U.forEach(P=>{G=null!=P?{...G,...P}:G}),0===Object.keys(G).length?null:G}function Ie(U,G){return G.map(P=>P(U))}function vt(U){return U.map(G=>function ke(U){return!U.validate}(G)?G:P=>G.validate(P))}function Et(U){if(!U)return null;const G=U.filter(De);return 0==G.length?null:function(P){return ve(Ie(P,G))}}function an(U){return null!=U?Et(vt(U)):null}function qt(U){if(!U)return null;const G=U.filter(De);return 0==G.length?null:function(P){return function ie(...U){const G=(0,je.jO)(U),{args:P,keys:ne}=(0,me.D)(U),Se=new Ce.y(fn=>{const{length:kn}=P;if(!kn)return void fn.complete();const Ri=new Array(kn);let no=kn,xi=kn;for(let ts=0;ts<kn;ts++){let po=!1;(0,be.Xf)(P[ts]).subscribe((0,Fe.x)(fn,Co=>{po||(po=!0,xi--),Ri[ts]=Co},()=>no--,void 0,()=>{(!no||!po)&&(xi||fn.next(ne?(0,oe.n)(ne,Ri):Ri),fn.complete())}))}});return G?Se.pipe((0,He.Z)(G)):Se}(Ie(P,G).map(ze)).pipe((0,Me.U)(ve))}}function Sn(U){return null!=U?qt(vt(U)):null}function _n(U,G){return null===U?[G]:Array.isArray(U)?[...U,G]:[U,G]}function tr(U){return U._rawValidators}function xt(U){return U._rawAsyncValidators}function En(U){return U?Array.isArray(U)?U:[U]:[]}function On(U,G){return Array.isArray(U)?U.includes(G):U===G}function Ut(U,G){const P=En(G);return En(U).forEach(Se=>{On(P,Se)||P.push(Se)}),P}function Nt(U,G){return En(G).filter(P=>!On(U,P))}class Dr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=an(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=Sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G=void 0){this.control&&this.control.reset(G)}hasError(G,P){return!!this.control&&this.control.hasError(G,P)}getError(G,P){return this.control?this.control.getError(G,P):null}}class tn extends Dr{get formDirective(){return null}get path(){return null}}class sr extends Dr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class U extends Fn{constructor(P){super(P)}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(sr,2))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ne,Se){2&ne&&l.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)},features:[l.qOj]})}return U})(),gn=(()=>{class U extends Fn{constructor(P){super(P)}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(tn,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ne,Se){2&ne&&l.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)("ng-submitted",Se.isSubmitted)},features:[l.qOj]})}return U})();const Bt="VALID",Tn="INVALID",gr="PENDING",Yn="DISABLED";function we(U){return(O(U)?U.validators:U)||null}function V(U,G){return(O(G)?G.asyncValidators:U)||null}function O(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function ae(U,G,P){const ne=U.controls;if(!(G?Object.keys(ne):ne).length)throw new l.vHH(1e3,"");if(!ne[P])throw new l.vHH(1001,"")}function xe(U,G,P){U._forEachChild((ne,Se)=>{if(void 0===P[Se])throw new l.vHH(1002,"")})}class pt{constructor(G,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Bt}get invalid(){return this.status===Tn}get pending(){return this.status==gr}get disabled(){return this.status===Yn}get enabled(){return this.status!==Yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(Ut(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(Ut(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Nt(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Nt(G,this._rawAsyncValidators))}hasValidator(G){return On(this._rawValidators,G)}hasAsyncValidator(G){return On(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=gr,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Yn,this.errors=null,this._forEachChild(ne=>{ne.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(ne=>ne(!0))}enable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Bt,this._forEachChild(ne=>{ne.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bt||this.status===gr)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yn:Bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=gr,this._hasOwnPendingAsyncValidator=!0;const P=ze(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,P={}){this.errors=G,this._updateControlsErrors(!1!==P.emitEvent)}get(G){let P=G;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((ne,Se)=>ne&&ne._find(Se),this)}getError(G,P){const ne=P?this.get(P):this;return ne&&ne.errors?ne.errors[G]:null}hasError(G,P){return!!this.getError(G,P)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Yn:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gr)?gr:this._anyControlsHaveStatus(Tn)?Tn:Bt}_anyControlsHaveStatus(G){return this._anyControls(P=>P.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){O(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function Y(U){return Array.isArray(U)?an(U):U||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function x(U){return Array.isArray(U)?Sn(U):U||null}(this._rawAsyncValidators)}}class Pt extends pt{constructor(G,P,ne){super(we(P),V(ne,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,P){return this.controls[G]?this.controls[G]:(this.controls[G]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(G,P,ne={}){this.registerControl(G,P),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(G,P={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(G,P,ne={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],P&&this.registerControl(G,P),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,P={}){xe(this,0,G),Object.keys(G).forEach(ne=>{ae(this,!0,ne),this.controls[ne].setValue(G[ne],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(Object.keys(G).forEach(ne=>{const Se=this.controls[ne];Se&&Se.patchValue(G[ne],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G={},P={}){this._forEachChild((ne,Se)=>{ne.reset(G?G[Se]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(G,P,ne)=>(G[ne]=P.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(P,ne)=>!!ne._syncPendingControls()||P);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(P=>{const ne=this.controls[P];ne&&G(ne,P)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[P,ne]of Object.entries(this.controls))if(this.contains(P)&&G(ne))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,ne,Se)=>((ne.enabled||this.disabled)&&(P[Se]=ne.value),P))}_reduceChildren(G,P){let ne=G;return this._forEachChild((Se,fn)=>{ne=P(ne,Se,fn)}),ne}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}class Qt extends Pt{}const vn=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Qn}),Qn="always";function ki(U,G){return[...G.path,U]}function Di(U,G,P=Qn){Fr(U,G),G.valueAccessor.writeValue(U.value),(U.disabled||"always"===P)&&G.valueAccessor.setDisabledState?.(U.disabled),function at(U,G){G.valueAccessor.registerOnChange(P=>{U._pendingValue=P,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Ct(U,G)})}(U,G),function en(U,G){const P=(ne,Se)=>{G.valueAccessor.writeValue(ne),Se&&G.viewToModelUpdate(ne)};U.registerOnChange(P),G._registerOnDestroy(()=>{U._unregisterOnChange(P)})}(U,G),function qe(U,G){G.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Ct(U,G),"submit"!==U.updateOn&&U.markAsTouched()})}(U,G),function $i(U,G){if(G.valueAccessor.setDisabledState){const P=ne=>{G.valueAccessor.setDisabledState(ne)};U.registerOnDisabledChange(P),G._registerOnDestroy(()=>{U._unregisterOnDisabledChange(P)})}}(U,G)}function Gr(U,G,P=!0){const ne=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(ne),G.valueAccessor.registerOnTouched(ne)),Wn(U,G),U&&(G._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Xi(U,G){U.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(G)})}function Fr(U,G){const P=tr(U);null!==G.validator?U.setValidators(_n(P,G.validator)):"function"==typeof P&&U.setValidators([P]);const ne=xt(U);null!==G.asyncValidator?U.setAsyncValidators(_n(ne,G.asyncValidator)):"function"==typeof ne&&U.setAsyncValidators([ne]);const Se=()=>U.updateValueAndValidity();Xi(G._rawValidators,Se),Xi(G._rawAsyncValidators,Se)}function Wn(U,G){let P=!1;if(null!==U){if(null!==G.validator){const Se=tr(U);if(Array.isArray(Se)&&Se.length>0){const fn=Se.filter(kn=>kn!==G.validator);fn.length!==Se.length&&(P=!0,U.setValidators(fn))}}if(null!==G.asyncValidator){const Se=xt(U);if(Array.isArray(Se)&&Se.length>0){const fn=Se.filter(kn=>kn!==G.asyncValidator);fn.length!==Se.length&&(P=!0,U.setAsyncValidators(fn))}}}const ne=()=>{};return Xi(G._rawValidators,ne),Xi(G._rawAsyncValidators,ne),P}function Ct(U,G){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function bn(U,G){Fr(U,G)}function lr(U,G){if(!U.hasOwnProperty("model"))return!1;const P=U.model;return!!P.isFirstChange()||!Object.is(G,P.currentValue)}function oi(U,G){U._syncPendingControls(),G.forEach(P=>{const ne=P.control;"submit"===ne.updateOn&&ne._pendingChange&&(P.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}function Vo(U,G){if(!G)return null;let P,ne,Se;return Array.isArray(G),G.forEach(fn=>{fn.constructor===Le?P=fn:function Lo(U){return Object.getPrototypeOf(U.constructor)===Ge}(fn)?ne=fn:Se=fn}),Se||ne||P||null}const eo={provide:tn,useExisting:(0,l.Gpc)(()=>mi)},si=(()=>Promise.resolve())();let mi=(()=>{class U extends tn{constructor(P,ne,Se){super(),this.callSetDisabledState=Se,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Pt({},an(P),Sn(ne))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){si.then(()=>{const ne=this._findContainer(P.path);P.control=ne.registerControl(P.name,P.control),Di(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){si.then(()=>{const ne=this._findContainer(P.path);ne&&ne.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){si.then(()=>{const ne=this._findContainer(P.path),Se=new Pt({});bn(Se,P),ne.registerControl(P.name,Se),Se.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){si.then(()=>{const ne=this._findContainer(P.path);ne&&ne.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,ne){si.then(()=>{this.form.get(P.path).setValue(ne)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,oi(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(Ye,10),l.Y36(_t,10),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ne,Se){1&ne&&l.NdJ("submit",function(kn){return Se.onSubmit(kn)})("reset",function(){return Se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([eo]),l.qOj]})}return U})();function rr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}function So(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const mr=class extends pt{constructor(G=null,P,ne){super(we(P),V(ne,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=So(G)?G.value:G)}setValue(G,P={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(G,P={}){this.setValue(G,P)}reset(G=this.defaultValue,P={}){this._applyFormState(G),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){rr(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){rr(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){So(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}};let Ai=(()=>{class U extends tn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ki(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,features:[l.qOj]})}return U})();const yr={provide:sr,useExisting:(0,l.Gpc)(()=>zi)},Ir=(()=>Promise.resolve())();let zi=(()=>{class U extends sr{constructor(P,ne,Se,fn,kn,Ri){super(),this._changeDetectorRef=kn,this.callSetDisabledState=Ri,this.control=new mr,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=P,this._setValidators(ne),this._setAsyncValidators(Se),this.valueAccessor=Vo(0,fn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const ne=P.name.previousValue;this.formDirective.removeControl({name:ne,path:this._getPath(ne)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),lr(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Di(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Ir.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const ne=P.isDisabled.currentValue,Se=0!==ne&&(0,l.VuI)(ne);Ir.then(()=>{Se&&!this.control.disabled?this.control.disable():!Se&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?ki(P,this._parent):[P]}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(tn,9),l.Y36(Ye,10),l.Y36(_t,10),l.Y36(Mt,10),l.Y36(l.sBO,8),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([yr]),l.qOj,l.TTD]})}return U})(),Eo=(()=>{class U{static#e=this.\u0275fac=function(ne){return new(ne||U)};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return U})(),Yr=(()=>{class U{static#e=this.\u0275fac=function(ne){return new(ne||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({})}return U})();const Po=new l.OlP("NgModelWithFormControlWarning"),kr={provide:tn,useExisting:(0,l.Gpc)(()=>Yt)};let Yt=(()=>{class U extends tn{constructor(P,ne,Se){super(),this.callSetDisabledState=Se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(P),this._setAsyncValidators(ne)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const ne=this.form.get(P.path);return Di(ne,P,this.callSetDisabledState),ne.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),ne}getControl(P){return this.form.get(P.path)}removeControl(P){Gr(P.control||null,P,!1),function Wr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,ne){this.form.get(P.path).setValue(ne)}onSubmit(P){return this.submitted=!0,oi(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const ne=P.control,Se=this.form.get(P.path);ne!==Se&&(Gr(ne||null,P),(U=>U instanceof mr)(Se)&&(Di(Se,P,this.callSetDisabledState),P.control=Se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const ne=this.form.get(P.path);bn(ne,P),ne.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const ne=this.form.get(P.path);ne&&function Pn(U,G){return Wn(U,G)}(ne,P)&&ne.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fr(this.form,this),this._oldForm&&Wn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(Ye,10),l.Y36(_t,10),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(ne,Se){1&ne&&l.NdJ("submit",function(kn){return Se.onSubmit(kn)})("reset",function(){return Se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([kr]),l.qOj,l.TTD]})}return U})();const Ln={provide:tn,useExisting:(0,l.Gpc)(()=>Jn)};let Jn=(()=>{class U extends Ai{constructor(P,ne,Se){super(),this.name=null,this._parent=P,this._setValidators(ne),this._setAsyncValidators(Se)}_checkParentType(){qr(this._parent)}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(tn,13),l.Y36(Ye,10),l.Y36(_t,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([Ln]),l.qOj]})}return U})();const yi={provide:tn,useExisting:(0,l.Gpc)(()=>Mo)};let Mo=(()=>{class U extends tn{constructor(P,ne,Se){super(),this.name=null,this._parent=P,this._setValidators(ne),this._setAsyncValidators(Se)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ki(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qr(this._parent)}static#e=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(tn,13),l.Y36(Ye,10),l.Y36(_t,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([yi]),l.qOj]})}return U})();function qr(U){return!(U instanceof Jn||U instanceof Yt||U instanceof Mo)}const ao={provide:sr,useExisting:(0,l.Gpc)(()=>wr)};let wr=(()=>{class U extends sr{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,ne,Se,fn,kn){super(),this._ngModelWarningConfig=kn,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(ne),this._setAsyncValidators(Se),this.valueAccessor=Vo(0,fn)}ngOnChanges(P){this._added||this._setUpControl(),lr(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return ki(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ne){return new(ne||U)(l.Y36(tn,13),l.Y36(Ye,10),l.Y36(_t,10),l.Y36(Mt,10),l.Y36(Po,8))};static#n=this.\u0275dir=l.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([ao]),l.qOj,l.TTD]})}return U})(),Rt=(()=>{class U{constructor(){this._validator=J}ngOnChanges(P){if(this.inputName in P){const ne=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(ne),this._validator=this._enabled?this.createValidator(ne):J,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}static#e=this.\u0275fac=function(ne){return new(ne||U)};static#t=this.\u0275dir=l.lG2({type:U,features:[l.TTD]})}return U})();const Hr={provide:Ye,useExisting:(0,l.Gpc)(()=>Zr),multi:!0};let Zr=(()=>{class U extends Rt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=P=>xn}enabled(P){return P}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ne,Se){2&ne&&l.uIk("required",Se._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Hr]),l.qOj]})}return U})(),fo=(()=>{class U{static#e=this.\u0275fac=function(ne){return new(ne||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[Yr]})}return U})();class Wo extends pt{constructor(G,P,ne){super(we(P),V(ne,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[this._adjustIndex(G)]}push(G,P={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(G,P,ne={}){this.controls.splice(G,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:ne.emitEvent})}removeAt(G,P={}){let ne=this._adjustIndex(G);ne<0&&(ne=0),this.controls[ne]&&this.controls[ne]._registerOnCollectionChange(()=>{}),this.controls.splice(ne,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(G,P,ne={}){let Se=this._adjustIndex(G);Se<0&&(Se=0),this.controls[Se]&&this.controls[Se]._registerOnCollectionChange(()=>{}),this.controls.splice(Se,1),P&&(this.controls.splice(Se,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,P={}){xe(this,0,G),G.forEach((ne,Se)=>{ae(this,!1,Se),this.at(Se).setValue(ne,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(G.forEach((ne,Se)=>{this.at(Se)&&this.at(Se).patchValue(ne,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G=[],P={}){this._forEachChild((ne,Se)=>{ne.reset(G[Se],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(G=>G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_adjustIndex(G){return G<0?G+this.length:G}_syncPendingControls(){let G=this.controls.reduce((P,ne)=>!!ne._syncPendingControls()||P,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((P,ne)=>{G(P,ne)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(P=>P.enabled&&G(P))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}_find(G){return this.at(G)??null}}function vi(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let hs=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new U;return P.useNonNullable=!0,P}group(P,ne=null){const Se=this._reduceControls(P);let fn={};return vi(ne)?fn=ne:null!==ne&&(fn.validators=ne.validator,fn.asyncValidators=ne.asyncValidator),new Pt(Se,fn)}record(P,ne=null){const Se=this._reduceControls(P);return new Qt(Se,ne)}control(P,ne,Se){let fn={};return this.useNonNullable?(vi(ne)?fn=ne:(fn.validators=ne,fn.asyncValidators=Se),new mr(P,{...fn,nonNullable:!0})):new mr(P,ne,Se)}array(P,ne,Se){const fn=P.map(kn=>this._createControl(kn));return new Wo(fn,ne,Se)}_reduceControls(P){const ne={};return Object.keys(P).forEach(Se=>{ne[Se]=this._createControl(P[Se])}),ne}_createControl(P){return P instanceof mr||P instanceof pt?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(ne){return new(ne||U)};static#t=this.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),Cs=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:vn,useValue:P.callSetDisabledState??Qn}]}}static#e=this.\u0275fac=function(ne){return new(ne||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[fo]})}return U})(),ua=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:Po,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:P.callSetDisabledState??Qn}]}}static#e=this.\u0275fac=function(ne){return new(ne||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[fo]})}return U})()},6593:(on,Xe,k)=>{k.d(Xe,{Dx:()=>sr,b2:()=>On,h_:()=>Nt,q6:()=>_n});var l=k(5879),y=k(6814);class z extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends z{static makeCurrent(){(0,y.HT)(new Ce)}onAndCancel(V,x,O){return V.addEventListener(x,O),()=>{V.removeEventListener(x,O)}}dispatchEvent(V,x){V.dispatchEvent(x)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,x){return(x=x||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,x){return"window"===x?window:"document"===x?V:"body"===x?V.body:null}getBaseHref(V){const x=function be(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==x?null:function Fe(Y){je=je||document.createElement("a"),je.setAttribute("href",Y);const V=je.pathname;return"/"===V.charAt(0)?V:`/${V}`}(x)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,y.Mx)(document.cookie,V)}}let je,me=null,oe=(()=>{class Y{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(O){return new(O||Y)};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const ie=new l.OlP("EventManagerPlugins");let Me=(()=>{class Y{constructor(x,O){this._zone=O,this._eventNameToPlugin=new Map,x.forEach(ae=>{ae.manager=this}),this._plugins=x.slice().reverse()}addEventListener(x,O,ae){return this._findPluginFor(O).addEventListener(x,O,ae)}getZone(){return this._zone}_findPluginFor(x){let O=this._eventNameToPlugin.get(x);if(O)return O;if(O=this._plugins.find(xe=>xe.supports(x)),!O)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(x,O),O}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(ie),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();class gt{constructor(V){this._doc=V}}const Ge="ng-app-id";let Mt=(()=>{class Y{constructor(x,O,ae,xe={}){this.doc=x,this.appId=O,this.nonce=ae,this.platformId=xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.PM)(xe),this.resetHostNodes()}addStyles(x){for(const O of x)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(x){for(const O of x)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const x=this.styleNodesInDOM;x&&(x.forEach(O=>O.remove()),x.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(x){this.hostNodes.add(x);for(const O of this.getAllStyles())this.addStyleToHost(x,O)}removeHost(x){this.hostNodes.delete(x)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(x){for(const O of this.hostNodes)this.addStyleToHost(O,x)}onStyleRemoved(x){const O=this.styleRef;O.get(x)?.elements?.forEach(ae=>ae.remove()),O.delete(x)}collectServerRenderedStyles(){const x=this.doc.head?.querySelectorAll(`style[${Ge}="${this.appId}"]`);if(x?.length){const O=new Map;return x.forEach(ae=>{null!=ae.textContent&&O.set(ae.textContent,ae)}),O}return null}changeUsageCount(x,O){const ae=this.styleRef;if(ae.has(x)){const xe=ae.get(x);return xe.usage+=O,xe.usage}return ae.set(x,{usage:O,elements:[]}),O}getStyleElement(x,O){const ae=this.styleNodesInDOM,xe=ae?.get(O);if(xe?.parentNode===x)return ae.delete(O),xe.removeAttribute(Ge),xe;{const pt=this.doc.createElement("style");return this.nonce&&pt.setAttribute("nonce",this.nonce),pt.textContent=O,this.platformIsServer&&pt.setAttribute(Ge,this.appId),pt}}addStyleToHost(x,O){const ae=this.getStyleElement(x,O);x.appendChild(ae);const xe=this.styleRef,pt=xe.get(O)?.elements;pt?pt.push(ae):xe.set(O,{elements:[ae],usage:1})}resetHostNodes(){const x=this.hostNodes;x.clear(),x.add(this.doc.head)}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vt=/%COMP%/g,Je=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _t(Y,V){return V.map(x=>x.replace(Vt,Y))}let St=(()=>{class Y{constructor(x,O,ae,xe,pt,Pt,nn,Zt=null){this.eventManager=x,this.sharedStylesHost=O,this.appId=ae,this.removeStylesOnCompDestroy=xe,this.doc=pt,this.platformId=Pt,this.ngZone=nn,this.nonce=Zt,this.rendererByCompId=new Map,this.platformIsServer=(0,y.PM)(Pt),this.defaultRenderer=new ge(x,pt,nn,this.platformIsServer)}createRenderer(x,O){if(!x||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===l.ifc.ShadowDom&&(O={...O,encapsulation:l.ifc.Emulated});const ae=this.getOrCreateRenderer(x,O);return ae instanceof Dt?ae.applyToHost(x):ae instanceof et&&ae.applyStyles(),ae}getOrCreateRenderer(x,O){const ae=this.rendererByCompId;let xe=ae.get(O.id);if(!xe){const pt=this.doc,Pt=this.ngZone,nn=this.eventManager,Zt=this.sharedStylesHost,Qt=this.removeStylesOnCompDestroy,Gn=this.platformIsServer;switch(O.encapsulation){case l.ifc.Emulated:xe=new Dt(nn,Zt,O,this.appId,Qt,pt,Pt,Gn);break;case l.ifc.ShadowDom:return new It(nn,Zt,x,O,pt,Pt,this.nonce,Gn);default:xe=new et(nn,Zt,O,Qt,pt,Pt,Gn)}ae.set(O.id,xe)}return xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(Me),l.LFG(Mt),l.LFG(l.AFp),l.LFG(Je),l.LFG(y.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();class ge{constructor(V,x,O,ae){this.eventManager=V,this.doc=x,this.ngZone=O,this.platformIsServer=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,x){return x?this.doc.createElementNS(yt[x]||x,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,x){(xn(V)?V.content:V).appendChild(x)}insertBefore(V,x,O){V&&(xn(V)?V.content:V).insertBefore(x,O)}removeChild(V,x){V&&V.removeChild(x)}selectRootElement(V,x){let O="string"==typeof V?this.doc.querySelector(V):V;if(!O)throw new l.vHH(-5104,!1);return x||(O.textContent=""),O}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,x,O,ae){if(ae){x=ae+":"+x;const xe=yt[ae];xe?V.setAttributeNS(xe,x,O):V.setAttribute(x,O)}else V.setAttribute(x,O)}removeAttribute(V,x,O){if(O){const ae=yt[O];ae?V.removeAttributeNS(ae,x):V.removeAttribute(`${O}:${x}`)}else V.removeAttribute(x)}addClass(V,x){V.classList.add(x)}removeClass(V,x){V.classList.remove(x)}setStyle(V,x,O,ae){ae&(l.JOm.DashCase|l.JOm.Important)?V.style.setProperty(x,O,ae&l.JOm.Important?"important":""):V.style[x]=O}removeStyle(V,x,O){O&l.JOm.DashCase?V.style.removeProperty(x):V.style[x]=""}setProperty(V,x,O){V[x]=O}setValue(V,x){V.nodeValue=x}listen(V,x,O){if("string"==typeof V&&!(V=(0,y.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${x}`);return this.eventManager.addEventListener(V,x,this.decoratePreventDefault(O))}decoratePreventDefault(V){return x=>{if("__ngUnwrap__"===x)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(x)):V(x))&&x.preventDefault()}}}function xn(Y){return"TEMPLATE"===Y.tagName&&void 0!==Y.content}class It extends ge{constructor(V,x,O,ae,xe,pt,Pt,nn){super(V,xe,pt,nn),this.sharedStylesHost=x,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=_t(ae.id,ae.styles);for(const Qt of Zt){const Gn=document.createElement("style");Pt&&Gn.setAttribute("nonce",Pt),Gn.textContent=Qt,this.shadowRoot.appendChild(Gn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,x){return super.appendChild(this.nodeOrShadowRoot(V),x)}insertBefore(V,x,O){return super.insertBefore(this.nodeOrShadowRoot(V),x,O)}removeChild(V,x){return super.removeChild(this.nodeOrShadowRoot(V),x)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class et extends ge{constructor(V,x,O,ae,xe,pt,Pt,nn){super(V,xe,pt,Pt),this.sharedStylesHost=x,this.removeStylesOnCompDestroy=ae,this.styles=nn?_t(nn,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Dt extends et{constructor(V,x,O,ae,xe,pt,Pt,nn){const Zt=ae+"-"+O.id;super(V,x,O,xe,pt,Pt,nn,Zt),this.contentAttr=function Ke(Y){return"_ngcontent-%COMP%".replace(Vt,Y)}(Zt),this.hostAttr=function Ye(Y){return"_nghost-%COMP%".replace(Vt,Y)}(Zt)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,x){const O=super.createElement(V,x);return super.setAttribute(O,this.contentAttr,""),O}}let Pe=(()=>{class Y extends gt{constructor(x){super(x)}supports(x){return!0}addEventListener(x,O,ae){return x.addEventListener(O,ae,!1),()=>this.removeEventListener(x,O,ae)}removeEventListener(x,O,ae){return x.removeEventListener(O,ae)}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const ce=["alt","control","meta","shift"],J={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:Y=>Y.altKey,control:Y=>Y.ctrlKey,meta:Y=>Y.metaKey,shift:Y=>Y.shiftKey};let ze=(()=>{class Y extends gt{constructor(x){super(x)}supports(x){return null!=Y.parseEventName(x)}addEventListener(x,O,ae){const xe=Y.parseEventName(O),pt=Y.eventCallback(xe.fullKey,ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(x,xe.domEventName,pt))}static parseEventName(x){const O=x.toLowerCase().split("."),ae=O.shift();if(0===O.length||"keydown"!==ae&&"keyup"!==ae)return null;const xe=Y._normalizeKey(O.pop());let pt="",Pt=O.indexOf("code");if(Pt>-1&&(O.splice(Pt,1),pt="code."),ce.forEach(Zt=>{const Qt=O.indexOf(Zt);Qt>-1&&(O.splice(Qt,1),pt+=Zt+".")}),pt+=xe,0!=O.length||0===xe.length)return null;const nn={};return nn.domEventName=ae,nn.fullKey=pt,nn}static matchEventFullKeyCode(x,O){let ae=J[x.key]||x.key,xe="";return O.indexOf("code.")>-1&&(ae=x.code,xe="code."),!(null==ae||!ae)&&(ae=ae.toLowerCase()," "===ae?ae="space":"."===ae&&(ae="dot"),ce.forEach(pt=>{pt!==ae&&(0,De[pt])(x)&&(xe+=pt+".")}),xe+=ae,xe===O)}static eventCallback(x,O,ae){return xe=>{Y.matchEventFullKeyCode(xe,x)&&ae.runGuarded(()=>O(xe))}}static _normalizeKey(x){return"esc"===x?"escape":x}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac})}return Y})();const _n=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:y.bD},{provide:l.g9A,useValue:function Et(){Ce.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function qt(){return(0,l.RDi)(document),document},deps:[]}]),tr=new l.OlP(""),xt=[{provide:l.rWj,useClass:class He{addToWindow(V){l.dqk.getAngularTestability=(O,ae=!0)=>{const xe=V.findTestabilityInTree(O,ae);if(null==xe)throw new l.vHH(5103,!1);return xe},l.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(O=>{const ae=l.dqk.getAllAngularTestabilities();let xe=ae.length,pt=!1;const Pt=function(nn){pt=pt||nn,xe--,0==xe&&O(pt)};ae.forEach(nn=>{nn.whenStable(Pt)})})}findTestabilityInTree(V,x,O){return null==x?null:V.getTestability(x)??(O?(0,y.q)().isShadowRoot(x)?this.findTestabilityInTree(V,x.host,!0):this.findTestabilityInTree(V,x.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],En=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function an(){return new l.qLn},deps:[]},{provide:ie,useClass:Pe,multi:!0,deps:[y.K0,l.R0b,l.Lbi]},{provide:ie,useClass:ze,multi:!0,deps:[y.K0]},St,Mt,Me,{provide:l.FYo,useExisting:St},{provide:y.JF,useClass:oe,deps:[]},[]];let On=(()=>{class Y{constructor(x){}static withServerTransition(x){return{ngModule:Y,providers:[{provide:l.AFp,useValue:x.appId}]}}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(tr,12))};static#t=this.\u0275mod=l.oAB({type:Y});static#n=this.\u0275inj=l.cJS({providers:[...En,...xt],imports:[y.ez,l.hGG]})}return Y})(),Nt=(()=>{class Y{constructor(x){this._doc=x,this._dom=(0,y.q)()}addTag(x,O=!1){return x?this._getOrCreateElement(x,O):null}addTags(x,O=!1){return x?x.reduce((ae,xe)=>(xe&&ae.push(this._getOrCreateElement(xe,O)),ae),[]):[]}getTag(x){return x&&this._doc.querySelector(`meta[${x}]`)||null}getTags(x){if(!x)return[];const O=this._doc.querySelectorAll(`meta[${x}]`);return O?[].slice.call(O):[]}updateTag(x,O){if(!x)return null;O=O||this._parseSelector(x);const ae=this.getTag(O);return ae?this._setMetaElementAttributes(x,ae):this._getOrCreateElement(x,!0)}removeTag(x){this.removeTagElement(this.getTag(x))}removeTagElement(x){x&&this._dom.remove(x)}_getOrCreateElement(x,O=!1){if(!O){const pt=this._parseSelector(x),Pt=this.getTags(pt).filter(nn=>this._containsAttributes(x,nn))[0];if(void 0!==Pt)return Pt}const ae=this._dom.createElement("meta");return this._setMetaElementAttributes(x,ae),this._doc.getElementsByTagName("head")[0].appendChild(ae),ae}_setMetaElementAttributes(x,O){return Object.keys(x).forEach(ae=>O.setAttribute(this._getMetaKeyMap(ae),x[ae])),O}_parseSelector(x){const O=x.name?"name":"property";return`${O}="${x[O]}"`}_containsAttributes(x,O){return Object.keys(x).every(ae=>O.getAttribute(this._getMetaKeyMap(ae))===x[ae])}_getMetaKeyMap(x){return Dr[x]||x}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:function(O){let ae=null;return ae=O?new O:function Ut(){return new Nt((0,l.LFG)(y.K0))}(),ae},providedIn:"root"})}return Y})();const Dr={httpEquiv:"http-equiv"};let sr=(()=>{class Y{constructor(x){this._doc=x}getTitle(){return this._doc.title}setTitle(x){this._doc.title=x||""}static#e=this.\u0275fac=function(O){return new(O||Y)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:Y,factory:function(O){let ae=null;return ae=O?new O:function tn(){return new sr((0,l.LFG)(y.K0))}(),ae},providedIn:"root"})}return Y})();typeof window<"u"&&window},518:(on,Xe,k)=>{k.d(Xe,{gz:()=>Jn,F0:()=>ri,rH:()=>ou,Bz:()=>Gu,lC:()=>Vi});var l=k(5879),y=k(5592),z=k(4674),me=k(2459),be=k(2096),je=k(5619),Fe=k(7453),He=k(2737),oe=k(7400),ie=k(4564),Me=k(2714),gt=k(8251),Ge=k(7103);function Mt(...C){const A=(0,ie.yG)(C),E=(0,ie.jO)(C),{args:S,keys:F}=(0,Fe.D)(C);if(0===S.length)return(0,me.D)([],A);const Q=new y.y(function yt(C,A,E=He.y){return S=>{Vt(A,()=>{const{length:F}=C,Q=new Array(F);let pe=F,ut=F;for(let st=0;st<F;st++)Vt(A,()=>{const ln=(0,me.D)(C[st],A);let er=!1;ln.subscribe((0,gt.x)(S,ar=>{Q[st]=ar,er||(er=!0,ut--),ut||S.next(E(Q.slice()))},()=>{--pe||S.complete()}))},S)},S)}}(S,A,F?pe=>(0,Me.n)(F,pe):He.y));return E?Q.pipe((0,oe.Z)(E)):Q}function Vt(C,A,E){C?(0,Ge.f)(E,C,A):A()}var Tt=k(6973),sn=k(5211),We=k(4829);function Le(C){return new y.y(A=>{(0,We.Xf)(C()).subscribe(A)})}var Je=k(8407);function Ke(C,A){const E=(0,z.m)(C)?C:()=>C,S=F=>F.error(E());return new y.y(A?F=>A.schedule(S,0,F):S)}var Ye=k(6232),_t=k(7394),St=k(9360);function ge(){return(0,St.e)((C,A)=>{let E=null;C._refCount++;const S=(0,gt.x)(A,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(E=null);const F=C._connection,Q=E;E=null,F&&(!Q||F===Q)&&F.unsubscribe(),A.unsubscribe()});C.subscribe(S),S.closed||(E=C.connect())})}class Ht extends y.y{constructor(A,E){super(),this.source=A,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,St.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new _t.w0;const E=this.getSubject();A.add(this.source.subscribe((0,gt.x)(E,void 0,()=>{this._teardown(),E.complete()},S=>{this._teardown(),E.error(S)},()=>this._teardown()))),A.closed&&(this._connection=null,A=_t.w0.EMPTY)}return A}refCount(){return ge()(this)}}var Jt=k(8645),xn=k(6814),It=k(7398),et=k(4664),Dt=k(8180),Pe=k(7921),ce=k(2181),J=k(1631),De=k(1374),ze=k(6328),ve=k(9397),Ie=k(6306),ke=k(6699),vt=k(3572);function Et(C){return C<=0?()=>Ye.E:(0,St.e)((A,E)=>{let S=[];A.subscribe((0,gt.x)(E,F=>{S.push(F),C<S.length&&S.shift()},()=>{for(const F of S)E.next(F);E.complete()},void 0,()=>{S=null}))})}var an=k(3026),_n=k(4716),tr=k(2420),En=k(7537),On=k(6593);const Ut="primary",Nt=Symbol("RouteTitle");class Dr{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E[0]:E}return null}getAll(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function tn(C){return new Dr(C)}function sr(C,A,E){const S=E.path.split("/");if(S.length>C.length||"full"===E.pathMatch&&(A.hasChildren()||S.length<C.length))return null;const F={};for(let Q=0;Q<S.length;Q++){const pe=S[Q],ut=C[Q];if(pe.startsWith(":"))F[pe.substring(1)]=ut;else if(pe!==ut.path)return null}return{consumed:C.slice(0,S.length),posParams:F}}function Ot(C,A){const E=C?Object.keys(C):void 0,S=A?Object.keys(A):void 0;if(!E||!S||E.length!=S.length)return!1;let F;for(let Q=0;Q<E.length;Q++)if(F=E[Q],!cn(C[F],A[F]))return!1;return!0}function cn(C,A){if(Array.isArray(C)&&Array.isArray(A)){if(C.length!==A.length)return!1;const E=[...C].sort(),S=[...A].sort();return E.every((F,Q)=>S[Q]===F)}return C===A}function Cn(C){return C.length>0?C[C.length-1]:null}function gn(C){return function Ce(C){return!!C&&(C instanceof y.y||(0,z.m)(C.lift)&&(0,z.m)(C.subscribe))}(C)?C:(0,l.QGY)(C)?(0,me.D)(Promise.resolve(C)):(0,be.of)(C)}const ir={exact:function Or(C,A,E){if(!ft(C.segments,A.segments)||!$n(C.segments,A.segments,E)||C.numberOfChildren!==A.numberOfChildren)return!1;for(const S in A.children)if(!C.children[S]||!Or(C.children[S],A.children[S],E))return!1;return!0},subset:Xt},cr={exact:function Rn(C,A){return Ot(C,A)},subset:function Ci(C,A){return Object.keys(A).length<=Object.keys(C).length&&Object.keys(A).every(E=>cn(C[E],A[E]))},ignored:()=>!0};function xr(C,A,E){return ir[E.paths](C.root,A.root,E.matrixParams)&&cr[E.queryParams](C.queryParams,A.queryParams)&&!("exact"===E.fragment&&C.fragment!==A.fragment)}function Xt(C,A,E){return Nr(C,A,A.segments,E)}function Nr(C,A,E,S){if(C.segments.length>E.length){const F=C.segments.slice(0,E.length);return!(!ft(F,E)||A.hasChildren()||!$n(F,E,S))}if(C.segments.length===E.length){if(!ft(C.segments,E)||!$n(C.segments,E,S))return!1;for(const F in A.children)if(!C.children[F]||!Xt(C.children[F],A.children[F],S))return!1;return!0}{const F=E.slice(0,C.segments.length),Q=E.slice(C.segments.length);return!!(ft(C.segments,F)&&$n(C.segments,F,S)&&C.children[Ut])&&Nr(C.children[Ut],A,Q,S)}}function $n(C,A,E){return A.every((S,F)=>cr[E](C[F].parameters,S.parameters))}class nr{constructor(A=new Dn([],{}),E={},S=null){this.root=A,this.queryParams=E,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class Dn{constructor(A,E){this.segments=A,this.children=E,this.parent=null,Object.values(E).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class di{constructor(A,E){this.path=A,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=tn(this.parameters)),this._parameterMap}toString(){return ae(this)}}function ft(C,A){return C.length===A.length&&C.every((E,S)=>E.path===A[S].path)}let ye=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return new ht},providedIn:"root"})}return C})();class ht{parse(A){const E=new Di(A);return new nr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(A){const E=`/${gr(A.root,!0)}`,S=function pt(C){const A=Object.keys(C).map(E=>{const S=C[E];return Array.isArray(S)?S.map(F=>`${we(E)}=${we(F)}`).join("&"):`${we(E)}=${we(S)}`}).filter(E=>!!E);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${E}${S}${"string"==typeof A.fragment?`#${function Y(C){return encodeURI(C)}(A.fragment)}`:""}`}}const Bt=new ht;function Tn(C){return C.segments.map(A=>ae(A)).join("/")}function gr(C,A){if(!C.hasChildren())return Tn(C);if(A){const E=C.children[Ut]?gr(C.children[Ut],!1):"",S=[];return Object.entries(C.children).forEach(([F,Q])=>{F!==Ut&&S.push(`${F}:${gr(Q,!1)}`)}),S.length>0?`${E}(${S.join("//")})`:E}{const E=function X(C,A){let E=[];return Object.entries(C.children).forEach(([S,F])=>{S===Ut&&(E=E.concat(A(F,S)))}),Object.entries(C.children).forEach(([S,F])=>{S!==Ut&&(E=E.concat(A(F,S)))}),E}(C,(S,F)=>F===Ut?[gr(C.children[Ut],!1)]:[`${F}:${gr(S,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Ut]?`${Tn(C)}/${E[0]}`:`${Tn(C)}/(${E.join("//")})`}}function Yn(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function we(C){return Yn(C).replace(/%3B/gi,";")}function V(C){return Yn(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x(C){return decodeURIComponent(C)}function O(C){return x(C.replace(/\+/g,"%20"))}function ae(C){return`${V(C.path)}${function xe(C){return Object.keys(C).map(A=>`;${V(A)}=${V(C[A])}`).join("")}(C.parameters)}`}const Pt=/^[^\/()?;#]+/;function nn(C){const A=C.match(Pt);return A?A[0]:""}const Zt=/^[^\/()?;=#]+/,Gn=/^[^=?&#]+/,Qn=/^[^&#]+/;class Di{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(A.length>0||Object.keys(E).length>0)&&(S[Ut]=new Dn(A,E)),S}parseSegment(){const A=nn(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(A),new di(x(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const E=function Qt(C){const A=C.match(Zt);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const F=nn(this.remaining);F&&(S=F,this.capture(S))}A[x(E)]=x(S)}parseQueryParam(A){const E=function vn(C){const A=C.match(Gn);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const pe=function ki(C){const A=C.match(Qn);return A?A[0]:""}(this.remaining);pe&&(S=pe,this.capture(S))}const F=O(E),Q=O(S);if(A.hasOwnProperty(F)){let pe=A[F];Array.isArray(pe)||(pe=[pe],A[F]=pe),pe.push(Q)}else A[F]=Q}parseParens(A){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=nn(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new l.vHH(4010,!1);let Q;S.indexOf(":")>-1?(Q=S.slice(0,S.indexOf(":")),this.capture(Q),this.capture(":")):A&&(Q=Ut);const pe=this.parseChildren();E[Q]=1===Object.keys(pe).length?pe[Ut]:new Dn([],pe),this.consumeOptional("//")}return E}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new l.vHH(4011,!1)}}function Gr(C){return C.segments.length>0?new Dn([],{[Ut]:C}):C}function Xi(C){const A={};for(const S of Object.keys(C.children)){const Q=Xi(C.children[S]);if(S===Ut&&0===Q.segments.length&&Q.hasChildren())for(const[pe,ut]of Object.entries(Q.children))A[pe]=ut;else(Q.segments.length>0||Q.hasChildren())&&(A[S]=Q)}return function $i(C){if(1===C.numberOfChildren&&C.children[Ut]){const A=C.children[Ut];return new Dn(C.segments.concat(A.segments),A.children)}return C}(new Dn(C.segments,A))}function Fr(C){return C instanceof nr}function at(C){let A;const F=Gr(function E(Q){const pe={};for(const st of Q.children){const ln=E(st);pe[st.outlet]=ln}const ut=new Dn(Q.url,pe);return Q===C&&(A=ut),ut}(C.root));return A??F}function qe(C,A,E,S){let F=C;for(;F.parent;)F=F.parent;if(0===A.length)return bn(F,F,F,E,S);const Q=function Er(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new dn(!0,0,C);let A=0,E=!1;const S=C.reduce((F,Q,pe)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const ut={};return Object.entries(Q.outlets).forEach(([st,ln])=>{ut[st]="string"==typeof ln?ln.split("/"):ln}),[...F,{outlets:ut}]}if(Q.segmentPath)return[...F,Q.segmentPath]}return"string"!=typeof Q?[...F,Q]:0===pe?(Q.split("/").forEach((ut,st)=>{0==st&&"."===ut||(0==st&&""===ut?E=!0:".."===ut?A++:""!=ut&&F.push(ut))}),F):[...F,Q]},[]);return new dn(E,A,S)}(A);if(Q.toRoot())return bn(F,F,new Dn([],{}),E,S);const pe=function ci(C,A,E){if(C.isAbsolute)return new fr(A,!0,0);if(!E)return new fr(A,!1,NaN);if(null===E.parent)return new fr(E,!0,0);const S=Ct(C.commands[0])?0:1;return function ho(C,A,E){let S=C,F=A,Q=E;for(;Q>F;){if(Q-=F,S=S.parent,!S)throw new l.vHH(4005,!1);F=S.segments.length}return new fr(S,!1,F-Q)}(E,E.segments.length-1+S,C.numberOfDoubleDots)}(Q,F,C),ut=pe.processChildren?oi(pe.segmentGroup,pe.index,Q.commands):Lo(pe.segmentGroup,pe.index,Q.commands);return bn(F,pe.segmentGroup,ut,E,S)}function Ct(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function en(C){return"object"==typeof C&&null!=C&&C.outlets}function bn(C,A,E,S,F){let pe,Q={};S&&Object.entries(S).forEach(([st,ln])=>{Q[st]=Array.isArray(ln)?ln.map(er=>`${er}`):`${ln}`}),pe=C===A?E:Pn(C,A,E);const ut=Gr(Xi(pe));return new nr(ut,Q,F)}function Pn(C,A,E){const S={};return Object.entries(C.children).forEach(([F,Q])=>{S[F]=Q===A?E:Pn(Q,A,E)}),new Dn(C.segments,S)}class dn{constructor(A,E,S){if(this.isAbsolute=A,this.numberOfDoubleDots=E,this.commands=S,A&&S.length>0&&Ct(S[0]))throw new l.vHH(4003,!1);const F=S.find(en);if(F&&F!==Cn(S))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fr{constructor(A,E,S){this.segmentGroup=A,this.processChildren=E,this.index=S}}function Lo(C,A,E){if(C||(C=new Dn([],{})),0===C.segments.length&&C.hasChildren())return oi(C,A,E);const S=function Vo(C,A,E){let S=0,F=A;const Q={match:!1,pathIndex:0,commandIndex:0};for(;F<C.segments.length;){if(S>=E.length)return Q;const pe=C.segments[F],ut=E[S];if(en(ut))break;const st=`${ut}`,ln=S<E.length-1?E[S+1]:null;if(F>0&&void 0===st)break;if(st&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!si(st,ln,pe))return Q;S+=2}else{if(!si(st,{},pe))return Q;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(C,A,E),F=E.slice(S.commandIndex);if(S.match&&S.pathIndex<C.segments.length){const Q=new Dn(C.segments.slice(0,S.pathIndex),{});return Q.children[Ut]=new Dn(C.segments.slice(S.pathIndex),C.children),oi(Q,0,F)}return S.match&&0===F.length?new Dn(C.segments,{}):S.match&&!C.hasChildren()?Wr(C,A,E):S.match?oi(C,0,F):Wr(C,A,E)}function oi(C,A,E){if(0===E.length)return new Dn(C.segments,{});{const S=function lr(C){return en(C[0])?C[0].outlets:{[Ut]:C}}(E),F={};if(Object.keys(S).some(Q=>Q!==Ut)&&C.children[Ut]&&1===C.numberOfChildren&&0===C.children[Ut].segments.length){const Q=oi(C.children[Ut],A,E);return new Dn(C.segments,Q.children)}return Object.entries(S).forEach(([Q,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(F[Q]=Lo(C.children[Q],A,pe))}),Object.entries(C.children).forEach(([Q,pe])=>{void 0===S[Q]&&(F[Q]=pe)}),new Dn(C.segments,F)}}function Wr(C,A,E){const S=C.segments.slice(0,A);let F=0;for(;F<E.length;){const Q=E[F];if(en(Q)){const st=vs(Q.outlets);return new Dn(S,st)}if(0===F&&Ct(E[0])){S.push(new di(C.segments[A].path,eo(E[0]))),F++;continue}const pe=en(Q)?Q.outlets[Ut]:`${Q}`,ut=F<E.length-1?E[F+1]:null;pe&&ut&&Ct(ut)?(S.push(new di(pe,eo(ut))),F+=2):(S.push(new di(pe,{})),F++)}return new Dn(S,{})}function vs(C){const A={};return Object.entries(C).forEach(([E,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(A[E]=Wr(new Dn([],{}),0,S))}),A}function eo(C){const A={};return Object.entries(C).forEach(([E,S])=>A[E]=`${S}`),A}function si(C,A,E){return C==E.path&&Ot(A,E.parameters)}const mi="imperative";class rr{constructor(A,E){this.id=A,this.url=E}}class So extends rr{constructor(A,E,S="imperative",F=null){super(A,E),this.type=0,this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mr extends rr{constructor(A,E,S){super(A,E),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _r extends rr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vo extends rr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=16}}class Ai extends rr{constructor(A,E,S,F){super(A,E),this.error=S,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _i extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends rr{constructor(A,E,S,F,Q){super(A,E),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=Q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class li extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yr{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ir{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zi{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eo{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(A,E,S){this.routerEvent=A,this.position=E,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nn{}class $r{constructor(A){this.url=A}}class Si{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cr,this.attachRef=null}}let Cr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(E,S){const F=this.getOrCreateContext(E);F.outlet=S,this.contexts.set(E,F)}onChildOutletDestroyed(E){const S=this.getContext(E);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let S=this.getContext(E);return S||(S=new Si,this.contexts.set(E,S)),S}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Io{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const E=this.pathFromRoot(A);return E.length>1?E[E.length-2]:null}children(A){const E=Gi(A,this._root);return E?E.children.map(S=>S.value):[]}firstChild(A){const E=Gi(A,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(A){const E=Po(A,this._root);return E.length<2?[]:E[E.length-2].children.map(F=>F.value).filter(F=>F!==A)}pathFromRoot(A){return Po(A,this._root).map(E=>E.value)}}function Gi(C,A){if(C===A.value)return A;for(const E of A.children){const S=Gi(C,E);if(S)return S}return null}function Po(C,A){if(C===A.value)return[A];for(const E of A.children){const S=Po(C,E);if(S.length)return S.unshift(A),S}return[]}class wi{constructor(A,E){this.value=A,this.children=E}toString(){return`TreeNode(${this.value})`}}function Li(C){const A={};return C&&C.children.forEach(E=>A[E.value.outlet]=E),A}class kr extends Io{constructor(A,E){super(A),this.snapshot=E,wr(this,A)}toString(){return this.snapshot.toString()}}function Yt(C,A){const E=function Ln(C,A){const pe=new qr([],{},{},"",{},Ut,A,null,{});return new ao("",new wi(pe,[]))}(0,A),S=new je.X([new di("",{})]),F=new je.X({}),Q=new je.X({}),pe=new je.X({}),ut=new je.X(""),st=new Jn(S,F,pe,ut,Q,Ut,A,E.root);return st.snapshot=E.root,new kr(new wi(st,[]),E)}class Jn{constructor(A,E,S,F,Q,pe,ut,st){this.urlSubject=A,this.paramsSubject=E,this.queryParamsSubject=S,this.fragmentSubject=F,this.dataSubject=Q,this.outlet=pe,this.component=ut,this._futureSnapshot=st,this.title=this.dataSubject?.pipe((0,It.U)(ln=>ln[Nt]))??(0,be.of)(void 0),this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=Q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(A=>tn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(A=>tn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yi(C,A="emptyOnly"){const E=C.pathFromRoot;let S=0;if("always"!==A)for(S=E.length-1;S>=1;){const F=E[S],Q=E[S-1];if(F.routeConfig&&""===F.routeConfig.path)S--;else{if(Q.component)break;S--}}return function Mo(C){return C.reduce((A,E)=>({params:{...A.params,...E.params},data:{...A.data,...E.data},resolve:{...E.data,...A.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(S))}class qr{get title(){return this.data?.[Nt]}constructor(A,E,S,F,Q,pe,ut,st,ln){this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=Q,this.outlet=pe,this.component=ut,this.routeConfig=st,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ao extends Io{constructor(A,E){super(E),this.url=A,wr(this,E)}toString(){return Wi(this._root)}}function wr(C,A){A.value._routerState=C,A.children.forEach(E=>wr(C,E))}function Wi(C){const A=C.children.length>0?` { ${C.children.map(Wi).join(", ")} } `:"";return`${C.value}${A}`}function qi(C){if(C.snapshot){const A=C.snapshot,E=C._futureSnapshot;C.snapshot=E,Ot(A.queryParams,E.queryParams)||C.queryParamsSubject.next(E.queryParams),A.fragment!==E.fragment&&C.fragmentSubject.next(E.fragment),Ot(A.params,E.params)||C.paramsSubject.next(E.params),function Fn(C,A){if(C.length!==A.length)return!1;for(let E=0;E<C.length;++E)if(!Ot(C[E],A[E]))return!1;return!0}(A.url,E.url)||C.urlSubject.next(E.url),Ot(A.data,E.data)||C.dataSubject.next(E.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Vn(C,A){const E=Ot(C.params,A.params)&&function Be(C,A){return ft(C,A)&&C.every((E,S)=>Ot(E.parameters,A[S].parameters))}(C.url,A.url);return E&&!(!C.parent!=!A.parent)&&(!C.parent||Vn(C.parent,A.parent))}let Vi=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Cr),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:S,previousValue:F}=E.name;if(S)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,S){this.activated=E,this._activatedRoute=S,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,S){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=E;const F=this.location,pe=E.snapshot.component,ut=this.parentContexts.getOrCreateContext(this.name).children,st=new Qr(E,ut,F.injector);this.activated=F.createComponent(pe,{index:F.length,injector:st,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return C})();class Qr{constructor(A,E,S){this.route=A,this.childContexts=E,this.parent=S}get(A,E){return A===Jn?this.route:A===Cr?this.childContexts:this.parent.get(A,E)}}const q=new l.OlP("");let j=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:S}=E,F=Mt([S.queryParams,S.params,S.data]).pipe((0,et.w)(([Q,pe,ut],st)=>(ut={...Q,...pe,...ut},0===st?(0,be.of)(ut):Promise.resolve(ut)))).subscribe(Q=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(E);const pe=(0,l.qFp)(S.component);if(pe)for(const{templateName:ut}of pe.inputs)E.activatedComponentRef.setInput(ut,Q[ut]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,F)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function Ee(C,A,E){if(E&&C.shouldReuseRoute(A.value,E.value.snapshot)){const S=E.value;S._futureSnapshot=A.value;const F=function $e(C,A,E){return A.children.map(S=>{for(const F of E.children)if(C.shouldReuseRoute(S.value,F.value.snapshot))return Ee(C,S,F);return Ee(C,S)})}(C,A,E);return new wi(S,F)}{if(C.shouldAttach(A.value)){const Q=C.retrieve(A.value);if(null!==Q){const pe=Q.route;return pe.value._futureSnapshot=A.value,pe.children=A.children.map(ut=>Ee(C,ut)),pe}}const S=function mt(C){return new Jn(new je.X(C.url),new je.X(C.params),new je.X(C.queryParams),new je.X(C.fragment),new je.X(C.data),C.outlet,C.component,C)}(A.value),F=A.children.map(Q=>Ee(C,Q));return new wi(S,F)}}const Gt="ngNavigationCancelingError";function hn(C,A){const{redirectTo:E,navigationBehaviorOptions:S}=Fr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,F=Rt(!1,0,A);return F.url=E,F.navigationBehaviorOptions=S,F}function Rt(C,A,E){const S=new Error("NavigationCancelingError: "+(C||""));return S[Gt]=!0,S.cancellationCode=A,E&&(S.url=E),S}function Zn(C){return C&&C[Gt]}let wn=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275cmp=l.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(S,F){1&S&&l._UZ(0,"router-outlet")},dependencies:[Vi],encapsulation:2})}return C})();function zr(C){const A=C.children&&C.children.map(zr),E=A?{...C,children:A}:{...C};return!E.component&&!E.loadComponent&&(A||E.loadChildren)&&E.outlet&&E.outlet!==Ut&&(E.component=wn),E}function Tr(C){return C.outlet||Ut}function Mi(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let A=C.parent;A;A=A.parent){const E=A.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Ls{constructor(A,E,S,F,Q){this.routeReuseStrategy=A,this.futureState=E,this.currState=S,this.forwardEvent=F,this.inputBindingEnabled=Q}activate(A){const E=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,S,A),qi(this.futureState.root),this.activateChildRoutes(E,S,A)}deactivateChildRoutes(A,E,S){const F=Li(E);A.children.forEach(Q=>{const pe=Q.value.outlet;this.deactivateRoutes(Q,F[pe],S),delete F[pe]}),Object.values(F).forEach(Q=>{this.deactivateRouteAndItsChildren(Q,S)})}deactivateRoutes(A,E,S){const F=A.value,Q=E?E.value:null;if(F===Q)if(F.component){const pe=S.getContext(F.outlet);pe&&this.deactivateChildRoutes(A,E,pe.children)}else this.deactivateChildRoutes(A,E,S);else Q&&this.deactivateRouteAndItsChildren(E,S)}deactivateRouteAndItsChildren(A,E){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,E):this.deactivateRouteAndOutlet(A,E)}detachAndStoreRouteSubtree(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,Q=Li(A);for(const pe of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[pe],F);if(S&&S.outlet){const pe=S.outlet.detach(),ut=S.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:pe,route:A,contexts:ut})}}deactivateRouteAndOutlet(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,Q=Li(A);for(const pe of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[pe],F);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(A,E,S){const F=Li(E);A.children.forEach(Q=>{this.activateRoutes(Q,F[Q.value.outlet],S),this.forwardEvent(new to(Q.value.snapshot))}),A.children.length&&this.forwardEvent(new zi(A.value.snapshot))}activateRoutes(A,E,S){const F=A.value,Q=E?E.value:null;if(qi(F),F===Q)if(F.component){const pe=S.getOrCreateContext(F.outlet);this.activateChildRoutes(A,E,pe.children)}else this.activateChildRoutes(A,E,S);else if(F.component){const pe=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const ut=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),pe.children.onOutletReAttached(ut.contexts),pe.attachRef=ut.componentRef,pe.route=ut.route.value,pe.outlet&&pe.outlet.attach(ut.componentRef,ut.route.value),qi(ut.route.value),this.activateChildRoutes(A,null,pe.children)}else{const ut=Mi(F.snapshot);pe.attachRef=null,pe.route=F,pe.injector=ut,pe.outlet&&pe.outlet.activateWith(F,pe.injector),this.activateChildRoutes(A,null,pe.children)}}else this.activateChildRoutes(A,null,S)}}class fo{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Wo{constructor(A,E){this.component=A,this.route=E}}function aa(C,A,E){const S=C._root;return hs(S,A?A._root:null,E,[S.value])}function vi(C,A){const E=Symbol(),S=A.get(C,E);return S===E?"function"!=typeof C||(0,l.Z0I)(C)?A.get(C):C:S}function hs(C,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Q=Li(A);return C.children.forEach(pe=>{(function fs(C,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Q=C.value,pe=A?A.value:null,ut=E?E.getContext(C.value.outlet):null;if(pe&&Q.routeConfig===pe.routeConfig){const st=function Pa(C,A,E){if("function"==typeof E)return E(C,A);switch(E){case"pathParamsChange":return!ft(C.url,A.url);case"pathParamsOrQueryParamsChange":return!ft(C.url,A.url)||!Ot(C.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vn(C,A)||!Ot(C.queryParams,A.queryParams);default:return!Vn(C,A)}}(pe,Q,Q.routeConfig.runGuardsAndResolvers);st?F.canActivateChecks.push(new fo(S)):(Q.data=pe.data,Q._resolvedData=pe._resolvedData),hs(C,A,Q.component?ut?ut.children:null:E,S,F),st&&ut&&ut.outlet&&ut.outlet.isActivated&&F.canDeactivateChecks.push(new Wo(ut.outlet.component,pe))}else pe&&Ar(A,ut,F),F.canActivateChecks.push(new fo(S)),hs(C,null,Q.component?ut?ut.children:null:E,S,F)})(pe,Q[pe.value.outlet],E,S.concat([pe.value]),F),delete Q[pe.value.outlet]}),Object.entries(Q).forEach(([pe,ut])=>Ar(ut,E.getContext(pe),F)),F}function Ar(C,A,E){const S=Li(C),F=C.value;Object.entries(S).forEach(([Q,pe])=>{Ar(pe,F.component?A?A.children.getContext(Q):null:A,E)}),E.canDeactivateChecks.push(new Wo(F.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,F))}function Cs(C){return"function"==typeof C}function Ri(C){return C instanceof Tt.K||"EmptyError"===C?.name}const no=Symbol("INITIAL_VALUE");function xi(){return(0,et.w)(C=>Mt(C.map(A=>A.pipe((0,Dt.q)(1),(0,Pe.O)(no)))).pipe((0,It.U)(A=>{for(const E of A)if(!0!==E){if(E===no)return no;if(!1===E||E instanceof nr)return E}return!0}),(0,ce.h)(A=>A!==no),(0,Dt.q)(1)))}function wo(C){return(0,Je.z)((0,ve.b)(A=>{if(Fr(A))throw hn(0,A)}),(0,It.U)(A=>!0===A))}class Ro{constructor(A){this.segmentGroup=A||null}}class Us{constructor(A){this.urlTree=A}}function xo(C){return Ke(new Ro(C))}function zn(C){return Ke(new Us(C))}class Ts{constructor(A,E){this.urlSerializer=A,this.urlTree=E}noMatchError(A){return new l.vHH(4002,!1)}lineralizeSegments(A,E){let S=[],F=E.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,be.of)(S);if(F.numberOfChildren>1||!F.children[Ut])return Ke(new l.vHH(4e3,!1));F=F.children[Ut]}}applyRedirectCommands(A,E,S){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),A,S)}applyRedirectCreateUrlTree(A,E,S,F){const Q=this.createSegmentGroup(A,E.root,S,F);return new nr(Q,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(A,E){const S={};return Object.entries(A).forEach(([F,Q])=>{if("string"==typeof Q&&Q.startsWith(":")){const ut=Q.substring(1);S[F]=E[ut]}else S[F]=Q}),S}createSegmentGroup(A,E,S,F){const Q=this.createSegments(A,E.segments,S,F);let pe={};return Object.entries(E.children).forEach(([ut,st])=>{pe[ut]=this.createSegmentGroup(A,st,S,F)}),new Dn(Q,pe)}createSegments(A,E,S,F){return E.map(Q=>Q.path.startsWith(":")?this.findPosParam(A,Q,F):this.findOrReturn(Q,S))}findPosParam(A,E,S){const F=S[E.path.substring(1)];if(!F)throw new l.vHH(4001,!1);return F}findOrReturn(A,E){let S=0;for(const F of E){if(F.path===A.path)return E.splice(S),F;S++}return A}}const qs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bs(C,A,E,S,F){const Q=Uo(C,A,E);return Q.matched?(S=function Jr(C,A){return C.providers&&!C._injector&&(C._injector=(0,l.MMx)(C.providers,A,`Route: ${C.path}`)),C._injector??A}(A,S),function ws(C,A,E,S){const F=A.canMatch;if(!F||0===F.length)return(0,be.of)(!0);const Q=F.map(pe=>{const ut=vi(pe,C);return gn(function Se(C){return C&&Cs(C.canMatch)}(ut)?ut.canMatch(A,E):C.runInContext(()=>ut(A,E)))});return(0,be.of)(Q).pipe(xi(),wo())}(S,A,E).pipe((0,It.U)(pe=>!0===pe?Q:{...qs}))):(0,be.of)(Q)}function Uo(C,A,E){if(""===A.path)return"full"===A.pathMatch&&(C.hasChildren()||E.length>0)?{...qs}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const F=(A.matcher||sr)(E,C,A);if(!F)return{...qs};const Q={};Object.entries(F.posParams??{}).forEach(([ut,st])=>{Q[ut]=st.path});const pe=F.consumed.length>0?{...Q,...F.consumed[F.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:F.consumed,remainingSegments:E.slice(F.consumed.length),parameters:pe,positionalParamSegments:F.posParams??{}}}function ns(C,A,E,S){return E.length>0&&function da(C,A,E){return E.some(S=>ha(C,A,S)&&Tr(S)!==Ut)}(C,E,S)?{segmentGroup:new Dn(A,la(S,new Dn(E,C.children))),slicedSegments:[]}:0===E.length&&function Ds(C,A,E){return E.some(S=>ha(C,A,S))}(C,E,S)?{segmentGroup:new Dn(C.segments,ca(C,0,E,S,C.children)),slicedSegments:E}:{segmentGroup:new Dn(C.segments,C.children),slicedSegments:E}}function ca(C,A,E,S,F){const Q={};for(const pe of S)if(ha(C,E,pe)&&!F[Tr(pe)]){const ut=new Dn([],{});Q[Tr(pe)]=ut}return{...F,...Q}}function la(C,A){const E={};E[Ut]=A;for(const S of C)if(""===S.path&&Tr(S)!==Ut){const F=new Dn([],{});E[Tr(S)]=F}return E}function ha(C,A,E){return(!(C.hasChildren()||A.length>0)||"full"!==E.pathMatch)&&""===E.path}class Zs{constructor(A,E,S,F,Q,pe,ut){this.injector=A,this.configLoader=E,this.rootComponentType=S,this.config=F,this.urlTree=Q,this.paramsInheritanceStrategy=pe,this.urlSerializer=ut,this.allowRedirects=!0,this.applyRedirects=new Ts(this.urlSerializer,this.urlTree)}noMatchError(A){return new l.vHH(4002,!1)}recognize(){const A=ns(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Ut).pipe((0,Ie.K)(E=>{if(E instanceof Us)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Ro?this.noMatchError(E):E}),(0,It.U)(E=>{const S=new qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,{}),F=new wi(S,E),Q=new ao("",F),pe=function Wn(C,A,E=null,S=null){return qe(at(C),A,E,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,Q.url=this.urlSerializer.serialize(pe),this.inheritParamsAndData(Q._root),{state:Q,tree:pe}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Ut).pipe((0,Ie.K)(S=>{throw S instanceof Ro?this.noMatchError(S):S}))}inheritParamsAndData(A){const E=A.value,S=yi(E,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data),A.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(A,E,S,F){return 0===S.segments.length&&S.hasChildren()?this.processChildren(A,E,S):this.processSegment(A,E,S,S.segments,F,!0)}processChildren(A,E,S){const F=[];for(const Q of Object.keys(S.children))"primary"===Q?F.unshift(Q):F.push(Q);return(0,me.D)(F).pipe((0,ze.b)(Q=>{const pe=S.children[Q],ut=function Go(C,A){const E=C.filter(S=>Tr(S)===A);return E.push(...C.filter(S=>Tr(S)!==A)),E}(E,Q);return this.processSegmentGroup(A,ut,pe,Q)}),(0,ke.R)((Q,pe)=>(Q.push(...pe),Q)),(0,vt.d)(null),function qt(C,A){const E=arguments.length>=2;return S=>S.pipe(C?(0,ce.h)((F,Q)=>C(F,Q,S)):He.y,Et(1),E?(0,vt.d)(A):(0,an.T)(()=>new Tt.K))}(),(0,J.z)(Q=>{if(null===Q)return xo(S);const pe=nu(Q);return function Bu(C){C.sort((A,E)=>A.value.outlet===Ut?-1:E.value.outlet===Ut?1:A.value.outlet.localeCompare(E.value.outlet))}(pe),(0,be.of)(pe)}))}processSegment(A,E,S,F,Q,pe){return(0,me.D)(E).pipe((0,ze.b)(ut=>this.processSegmentAgainstRoute(ut._injector??A,E,ut,S,F,Q,pe).pipe((0,Ie.K)(st=>{if(st instanceof Ro)return(0,be.of)(null);throw st}))),(0,De.P)(ut=>!!ut),(0,Ie.K)(ut=>{if(Ri(ut))return function vc(C,A,E){return 0===A.length&&!C.children[E]}(S,F,Q)?(0,be.of)([]):xo(S);throw ut}))}processSegmentAgainstRoute(A,E,S,F,Q,pe,ut){return function ps(C,A,E,S){return!!(Tr(C)===S||S!==Ut&&ha(A,E,C))&&("**"===C.path||Uo(A,C,E).matched)}(S,F,Q,pe)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(A,F,S,Q,pe,ut):ut&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,F,E,S,Q,pe):xo(F):xo(F)}expandSegmentAgainstRouteUsingRedirect(A,E,S,F,Q,pe){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,S,F,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,Q,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,E,S,F){const Q=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?zn(Q):this.applyRedirects.lineralizeSegments(S,Q).pipe((0,J.z)(pe=>{const ut=new Dn(pe,{});return this.processSegment(A,E,ut,pe,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,Q,pe){const{matched:ut,consumedSegments:st,remainingSegments:ln,positionalParamSegments:er}=Uo(E,F,Q);if(!ut)return xo(E);const ar=this.applyRedirects.applyRedirectCommands(st,F.redirectTo,er);return F.redirectTo.startsWith("/")?zn(ar):this.applyRedirects.lineralizeSegments(F,ar).pipe((0,J.z)(ur=>this.processSegment(A,S,E,ur.concat(ln),pe,!1)))}matchSegmentAgainstRoute(A,E,S,F,Q,pe){let ut;if("**"===S.path){const st=F.length>0?Cn(F).parameters:{},ln=new qr(F,st,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(S),Tr(S),S.component??S._loadedComponent??null,S,b(S));ut=(0,be.of)({snapshot:ln,consumedSegments:[],remainingSegments:[]}),E.children={}}else ut=bs(E,S,F,A).pipe((0,It.U)(({matched:st,consumedSegments:ln,remainingSegments:er,parameters:ar})=>st?{snapshot:new qr(ln,ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(S),Tr(S),S.component??S._loadedComponent??null,S,b(S)),consumedSegments:ln,remainingSegments:er}:null));return ut.pipe((0,et.w)(st=>null===st?xo(E):this.getChildConfig(A=S._injector??A,S,F).pipe((0,et.w)(({routes:ln})=>{const er=S._loadedInjector??A,{snapshot:ar,consumedSegments:ur,remainingSegments:Br}=st,{segmentGroup:_a,slicedSegments:ya}=ns(E,ur,Br,ln);if(0===ya.length&&_a.hasChildren())return this.processChildren(er,ln,_a).pipe((0,It.U)(gs=>null===gs?null:[new wi(ar,gs)]));if(0===ln.length&&0===ya.length)return(0,be.of)([new wi(ar,[])]);const va=Tr(S)===Q;return this.processSegment(er,ln,_a,ya,va?Ut:Q,!0).pipe((0,It.U)(gs=>[new wi(ar,gs)]))}))))}getChildConfig(A,E,S){return E.children?(0,be.of)({routes:E.children,injector:A}):E.loadChildren?void 0!==E._loadedRoutes?(0,be.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function tu(C,A,E,S){const F=A.canLoad;if(void 0===F||0===F.length)return(0,be.of)(!0);const Q=F.map(pe=>{const ut=vi(pe,C);return gn(function U(C){return C&&Cs(C.canLoad)}(ut)?ut.canLoad(A,E):C.runInContext(()=>ut(A,E)))});return(0,be.of)(Q).pipe(xi(),wo())}(A,E,S).pipe((0,J.z)(F=>F?this.configLoader.loadChildren(A,E).pipe((0,ve.b)(Q=>{E._loadedRoutes=Q.routes,E._loadedInjector=Q.injector})):function Ma(C){return Ke(Rt(!1,3))}())):(0,be.of)({routes:[],injector:A})}}function js(C){const A=C.value.routeConfig;return A&&""===A.path}function nu(C){const A=[],E=new Set;for(const S of C){if(!js(S)){A.push(S);continue}const F=A.find(Q=>S.value.routeConfig===Q.value.routeConfig);void 0!==F?(F.children.push(...S.children),E.add(F)):A.push(S)}for(const S of E){const F=nu(S.children);A.push(new wi(S.value,F))}return A.filter(S=>!E.has(S))}function ei(C){return C.data||{}}function b(C){return C.resolve||{}}function mn(C){return"string"==typeof C.title||null===C.title}function pr(C){return(0,et.w)(A=>{const E=C(A);return E?(0,me.D)(E).pipe((0,It.U)(()=>A)):(0,be.of)(A)})}const Sr=new l.OlP("ROUTES");let Pr=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,be.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const S=gn(E.loadComponent()).pipe((0,It.U)(Ur),(0,ve.b)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Q}),(0,_n.x)(()=>{this.componentLoaders.delete(E)})),F=new Ht(S,()=>new Jt.x).pipe(ge());return this.componentLoaders.set(E,F),F}loadChildren(E,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,be.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Q=function or(C,A,E,S){return gn(C.loadChildren()).pipe((0,It.U)(Ur),(0,J.z)(F=>F instanceof l.YKP||Array.isArray(F)?(0,be.of)(F):(0,me.D)(A.compileModuleAsync(F))),(0,It.U)(F=>{S&&S(C);let Q,pe,ut=!1;return Array.isArray(F)?(pe=F,!0):(Q=F.create(E).injector,pe=Q.get(Sr,[],{optional:!0,self:!0}).flat()),{routes:pe.map(zr),injector:Q}}))}(S,this.compiler,E,this.onLoadEndListener).pipe((0,_n.x)(()=>{this.childrenLoaders.delete(S)})),pe=new Ht(Q,()=>new Jt.x).pipe(ge());return this.childrenLoaders.set(S,pe),pe}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ur(C){return function Kr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let hi=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt.x,this.transitionAbortSubject=new Jt.x,this.configLoader=(0,l.f3M)(Pr),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(ye),this.rootContexts=(0,l.f3M)(Cr),this.inputBindingEnabled=null!==(0,l.f3M)(q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,be.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new yr(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new Hi(F))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:S})}setupNavigations(E,S,F){return this.transitions=new je.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:E.urlHandlingStrategy.extract(S),urlAfterRedirects:E.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mi,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ce.h)(Q=>0!==Q.id),(0,It.U)(Q=>({...Q,extractedUrl:E.urlHandlingStrategy.extract(Q.rawUrl)})),(0,et.w)(Q=>{this.currentTransition=Q;let pe=!1,ut=!1;return(0,be.of)(Q).pipe((0,ve.b)(st=>{this.currentNavigation={id:st.id,initialUrl:st.rawUrl,extractedUrl:st.extractedUrl,trigger:st.source,extras:st.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,et.w)(st=>{const ln=st.currentBrowserUrl.toString(),er=!E.navigated||st.extractedUrl.toString()!==ln||ln!==st.currentUrlTree.toString();if(!er&&"reload"!==(st.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const ur="";return this.events.next(new vo(st.id,this.urlSerializer.serialize(st.rawUrl),ur,0)),st.resolve(null),Ye.E}if(E.urlHandlingStrategy.shouldProcessUrl(st.rawUrl))return(0,be.of)(st).pipe((0,et.w)(ur=>{const Br=this.transitions?.getValue();return this.events.next(new So(ur.id,this.urlSerializer.serialize(ur.extractedUrl),ur.source,ur.restoredState)),Br!==this.transitions?.getValue()?Ye.E:Promise.resolve(ur)}),function Z(C,A,E,S,F,Q){return(0,J.z)(pe=>function Bs(C,A,E,S,F,Q,pe="emptyOnly"){return new Zs(C,A,E,S,F,pe,Q).recognize()}(C,A,E,S,pe.extractedUrl,F,Q).pipe((0,It.U)(({state:ut,tree:st})=>({...pe,targetSnapshot:ut,urlAfterRedirects:st}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,ve.b)(ur=>{Q.targetSnapshot=ur.targetSnapshot,Q.urlAfterRedirects=ur.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ur.urlAfterRedirects};const Br=new _i(ur.id,this.urlSerializer.serialize(ur.extractedUrl),this.urlSerializer.serialize(ur.urlAfterRedirects),ur.targetSnapshot);this.events.next(Br)}));if(er&&E.urlHandlingStrategy.shouldProcessUrl(st.currentRawUrl)){const{id:ur,extractedUrl:Br,source:_a,restoredState:ya,extras:va}=st,gs=new So(ur,this.urlSerializer.serialize(Br),_a,ya);this.events.next(gs);const Ms=Yt(0,this.rootComponentType).snapshot;return this.currentTransition=Q={...st,targetSnapshot:Ms,urlAfterRedirects:Br,extras:{...va,skipLocationChange:!1,replaceUrl:!1}},(0,be.of)(Q)}{const ur="";return this.events.next(new vo(st.id,this.urlSerializer.serialize(st.extractedUrl),ur,1)),st.resolve(null),Ye.E}}),(0,ve.b)(st=>{const ln=new Fi(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects),st.targetSnapshot);this.events.next(ln)}),(0,It.U)(st=>(this.currentTransition=Q={...st,guards:aa(st.targetSnapshot,st.currentSnapshot,this.rootContexts)},Q)),function ts(C,A){return(0,J.z)(E=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:Q,canDeactivateChecks:pe}}=E;return 0===pe.length&&0===Q.length?(0,be.of)({...E,guardsResult:!0}):function po(C,A,E,S){return(0,me.D)(C).pipe((0,J.z)(F=>function Oi(C,A,E,S,F){const Q=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,be.of)(!0);const pe=Q.map(ut=>{const st=Mi(A)??F,ln=vi(ut,st);return gn(function ne(C){return C&&Cs(C.canDeactivate)}(ln)?ln.canDeactivate(C,A,E,S):st.runInContext(()=>ln(C,A,E,S))).pipe((0,De.P)())});return(0,be.of)(pe).pipe(xi())}(F.component,F.route,E,A,S)),(0,De.P)(F=>!0!==F,!0))}(pe,S,F,C).pipe((0,J.z)(ut=>ut&&function ua(C){return"boolean"==typeof C}(ut)?function Co(C,A,E,S){return(0,me.D)(A).pipe((0,ze.b)(F=>(0,sn.z)(function yc(C,A){return null!==C&&A&&A(new Ir(C)),(0,be.of)(!0)}(F.route.parent,S),function go(C,A){return null!==C&&A&&A(new Eo(C)),(0,be.of)(!0)}(F.route,S),function Vs(C,A,E){const S=A[A.length-1],Q=A.slice(0,A.length-1).reverse().map(pe=>function Is(C){const A=C.routeConfig?C.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:C,guards:A}:null}(pe)).filter(pe=>null!==pe).map(pe=>Le(()=>{const ut=pe.guards.map(st=>{const ln=Mi(pe.node)??E,er=vi(st,ln);return gn(function P(C){return C&&Cs(C.canActivateChild)}(er)?er.canActivateChild(S,C):ln.runInContext(()=>er(S,C))).pipe((0,De.P)())});return(0,be.of)(ut).pipe(xi())}));return(0,be.of)(Q).pipe(xi())}(C,F.path,E),function Vr(C,A,E){const S=A.routeConfig?A.routeConfig.canActivate:null;if(!S||0===S.length)return(0,be.of)(!0);const F=S.map(Q=>Le(()=>{const pe=Mi(A)??E,ut=vi(Q,pe);return gn(function G(C){return C&&Cs(C.canActivate)}(ut)?ut.canActivate(A,C):pe.runInContext(()=>ut(A,C))).pipe((0,De.P)())}));return(0,be.of)(F).pipe(xi())}(C,F.route,E))),(0,De.P)(F=>!0!==F,!0))}(S,Q,C,A):(0,be.of)(ut)),(0,It.U)(ut=>({...E,guardsResult:ut})))})}(this.environmentInjector,st=>this.events.next(st)),(0,ve.b)(st=>{if(Q.guardsResult=st.guardsResult,Fr(st.guardsResult))throw hn(0,st.guardsResult);const ln=new ds(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects),st.targetSnapshot,!!st.guardsResult);this.events.next(ln)}),(0,ce.h)(st=>!!st.guardsResult||(this.cancelNavigationTransition(st,"",3),!1)),pr(st=>{if(st.guards.canActivateChecks.length)return(0,be.of)(st).pipe((0,ve.b)(ln=>{const er=new li(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(er)}),(0,et.w)(ln=>{let er=!1;return(0,be.of)(ln).pipe(function N(C,A){return(0,J.z)(E=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=E;if(!F.length)return(0,be.of)(E);let Q=0;return(0,me.D)(F).pipe((0,ze.b)(pe=>function W(C,A,E,S){const F=C.routeConfig,Q=C._resolve;return void 0!==F?.title&&!mn(F)&&(Q[Nt]=F.title),function _e(C,A,E,S){const F=function dt(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===F.length)return(0,be.of)({});const Q={};return(0,me.D)(F).pipe((0,J.z)(pe=>function At(C,A,E,S){const F=Mi(A)??S,Q=vi(C,F);return gn(Q.resolve?Q.resolve(A,E):F.runInContext(()=>Q(A,E)))}(C[pe],A,E,S).pipe((0,De.P)(),(0,ve.b)(ut=>{Q[pe]=ut}))),Et(1),function Sn(C){return(0,It.U)(()=>C)}(Q),(0,Ie.K)(pe=>Ri(pe)?Ye.E:Ke(pe)))}(Q,C,A,S).pipe((0,It.U)(pe=>(C._resolvedData=pe,C.data=yi(C,E).resolve,F&&mn(F)&&(C.data[Nt]=F.title),null)))}(pe.route,S,C,A)),(0,ve.b)(()=>Q++),Et(1),(0,J.z)(pe=>Q===F.length?(0,be.of)(E):Ye.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,ve.b)({next:()=>er=!0,complete:()=>{er||this.cancelNavigationTransition(ln,"",2)}}))}),(0,ve.b)(ln=>{const er=new Fs(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(er)}))}),pr(st=>{const ln=er=>{const ar=[];er.routeConfig?.loadComponent&&!er.routeConfig._loadedComponent&&ar.push(this.configLoader.loadComponent(er.routeConfig).pipe((0,ve.b)(ur=>{er.component=ur}),(0,It.U)(()=>{})));for(const ur of er.children)ar.push(...ln(ur));return ar};return Mt(ln(st.targetSnapshot.root)).pipe((0,vt.d)(),(0,Dt.q)(1))}),pr(()=>this.afterPreactivation()),(0,It.U)(st=>{const ln=function fe(C,A,E){const S=Ee(C,A._root,E?E._root:void 0);return new kr(S,A)}(E.routeReuseStrategy,st.targetSnapshot,st.currentRouterState);return this.currentTransition=Q={...st,targetRouterState:ln},Q}),(0,ve.b)(()=>{this.events.next(new Nn)}),((C,A,E,S)=>(0,It.U)(F=>(new Ls(A,F.targetRouterState,F.currentRouterState,E,S).activate(C),F)))(this.rootContexts,E.routeReuseStrategy,st=>this.events.next(st),this.inputBindingEnabled),(0,Dt.q)(1),(0,ve.b)({next:st=>{pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mr(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects))),E.titleStrategy?.updateTitle(st.targetRouterState.snapshot),st.resolve(!0)},complete:()=>{pe=!0}}),function xt(C){return(0,St.e)((A,E)=>{(0,We.Xf)(C).subscribe((0,gt.x)(E,()=>E.complete(),tr.Z)),!E.closed&&A.subscribe(E)})}(this.transitionAbortSubject.pipe((0,ve.b)(st=>{throw st}))),(0,_n.x)(()=>{pe||ut||this.cancelNavigationTransition(Q,"",1),this.currentNavigation?.id===Q.id&&(this.currentNavigation=null)}),(0,Ie.K)(st=>{if(ut=!0,Zn(st))this.events.next(new _r(Q.id,this.urlSerializer.serialize(Q.extractedUrl),st.message,st.cancellationCode)),function un(C){return Zn(C)&&Fr(C.url)}(st)?this.events.next(new $r(st.url)):Q.resolve(!1);else{this.events.next(new Ai(Q.id,this.urlSerializer.serialize(Q.extractedUrl),st,Q.targetSnapshot??void 0));try{Q.resolve(E.errorHandler(st))}catch(ln){Q.reject(ln)}}return Ye.E}))}))}cancelNavigationTransition(E,S,F){const Q=new _r(E.id,this.urlSerializer.serialize(E.extractedUrl),S,F);this.events.next(Q),E.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ki(C){return C!==mi}let mo=(()=>{class C{buildTitle(E){let S,F=E.root;for(;void 0!==F;)S=this.getResolvedTitleForRoute(F)??S,F=F.children.find(Q=>Q.outlet===Ut);return S}getResolvedTitleForRoute(E){return E.data[Nt]}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(As)},providedIn:"root"})}return C})(),As=(()=>{class C extends mo{constructor(E){super(),this.title=E}updateTitle(E){const S=this.buildTitle(E);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(On.Dx))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),To=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Hn)},providedIn:"root"})}return C})();class ti{shouldDetach(A){return!1}store(A,E){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,E){return A.routeConfig===E.routeConfig}}let Hn=(()=>{class C extends ti{static#e=this.\u0275fac=function(){let E;return function(F){return(E||(E=l.n5z(C)))(F||C)}}();static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Bo=new l.OlP("",{providedIn:"root",factory:()=>({})});let Ec=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(ni)},providedIn:"root"})}return C})(),ni=(()=>{class C{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,S){return E}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var Ks=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(Ks||{});function Ys(C,A){C.events.pipe((0,ce.h)(E=>E instanceof mr||E instanceof _r||E instanceof Ai||E instanceof vo),(0,It.U)(E=>E instanceof mr||E instanceof vo?Ks.COMPLETE:E instanceof _r&&(0===E.code||1===E.code)?Ks.REDIRECTING:Ks.FAILED),(0,ce.h)(E=>E!==Ks.REDIRECTING),(0,Dt.q)(1)).subscribe(()=>{A()})}function bo(C){throw C}function Ic(C,A,E){return A.parse("/")}const ju={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ss={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Jt.x,this.options=(0,l.f3M)(Bo,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||bo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ic,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Ec),this.routeReuseStrategy=(0,l.f3M)(To),this.titleStrategy=(0,l.f3M)(mo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(Sr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(hi),this.urlSerializer=(0,l.f3M)(ye),this.location=(0,l.f3M)(xn.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(q,{optional:!0}),this.eventsSubscription=new _t.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(Ra(S)&&this._events.next(S));if(S instanceof So)Ki(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(S instanceof vo)this.rawUrlTree=F.rawUrl;else if(S instanceof _i){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(Q,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(S instanceof Nn)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(S instanceof _r)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(F);else if(S instanceof $r){const Q=this.urlHandlingStrategy.merge(S.url,F.currentRawUrl),pe={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ki(F.source)};this.scheduleNavigation(Q,mi,null,pe,{resolve:F.resolve,reject:F.reject,promise:F.promise})}S instanceof Ai&&this.restoreHistory(F,!0),S instanceof mr&&(this.navigated=!0),Ra(S)&&this._events.next(S)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mi,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const S="popstate"===E.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,S,E.state)},0)}))}navigateToSyncWithBrowser(E,S,F){const Q={replaceUrl:!0},pe=F?.navigationId?F:null;if(F){const st={...F};delete st.navigationId,delete st.\u0275routerPageId,0!==Object.keys(st).length&&(Q.state=st)}const ut=this.parseUrl(E);this.scheduleNavigation(ut,S,pe,Q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(zr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,S={}){const{relativeTo:F,queryParams:Q,fragment:pe,queryParamsHandling:ut,preserveFragment:st}=S,ln=st?this.currentUrlTree.fragment:pe;let ar,er=null;switch(ut){case"merge":er={...this.currentUrlTree.queryParams,...Q};break;case"preserve":er=this.currentUrlTree.queryParams;break;default:er=Q||null}null!==er&&(er=this.removeEmptyProps(er));try{ar=at(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),ar=this.currentUrlTree.root}return qe(ar,E,er,ln??null)}navigateByUrl(E,S={skipLocationChange:!1}){const F=Fr(E)?E:this.parseUrl(E),Q=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(Q,mi,null,S)}navigate(E,S={skipLocationChange:!1}){return function iu(C){for(let A=0;A<C.length;A++)if(null==C[A])throw new l.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,S),S)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let S;try{S=this.urlSerializer.parse(E)}catch(F){S=this.malformedUriErrorHandler(F,this.urlSerializer,E)}return S}isActive(E,S){let F;if(F=!0===S?{...ju}:!1===S?{...Ss}:S,Fr(E))return xr(this.currentUrlTree,E,F);const Q=this.parseUrl(E);return xr(this.currentUrlTree,Q,F)}removeEmptyProps(E){return Object.keys(E).reduce((S,F)=>{const Q=E[F];return null!=Q&&(S[F]=Q),S},{})}scheduleNavigation(E,S,F,Q,pe){if(this.disposed)return Promise.resolve(!1);let ut,st,ln;pe?(ut=pe.resolve,st=pe.reject,ln=pe.promise):ln=new Promise((ar,ur)=>{ut=ar,st=ur});const er=this.pendingTasks.add();return Ys(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(er))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:Q,resolve:ut,reject:st,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(ar=>Promise.reject(ar))}setBrowserUrl(E,S){const F=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(F)||S.extras.replaceUrl){const pe={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(F,"",pe)}else{const Q={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(F,"",Q)}}restoreHistory(E,S=!1){if("computed"===this.canceledNavigationResolution){const Q=this.currentPageId-this.browserPageId;0!==Q?this.location.historyGo(Q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Q&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,S){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:S}:{navigationId:E}}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ra(C){return!(C instanceof Nn||C instanceof $r)}let ou=(()=>{class C{constructor(E,S,F,Q,pe,ut){this.router=E,this.route=S,this.tabIndexAttribute=F,this.renderer=Q,this.el=pe,this.locationStrategy=ut,this.href=null,this.commands=null,this.onChanges=new Jt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const st=pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===st||"area"===st,this.isAnchorElement?this.subscription=E.events.subscribe(ln=>{ln instanceof mr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,S,F,Q,pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||S||F||Q||pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,S){const F=this.renderer,Q=this.el.nativeElement;null!==S?F.setAttribute(Q,E,S):F.removeAttribute(Q,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||C)(l.Y36(ri),l.Y36(Jn),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(xn.S$))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,F){1&S&&l.NdJ("click",function(pe){return F.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&S&&l.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return C})();class su{}let Tc=(()=>{class C{constructor(E,S,F,Q,pe){this.router=E,this.injector=F,this.preloadingStrategy=Q,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ce.h)(E=>E instanceof mr),(0,ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,S){const F=[];for(const Q of S){Q.providers&&!Q._injector&&(Q._injector=(0,l.MMx)(Q.providers,E,`Route: ${Q.path}`));const pe=Q._injector??E,ut=Q._loadedInjector??pe;(Q.loadChildren&&!Q._loadedRoutes&&void 0===Q.canLoad||Q.loadComponent&&!Q._loadedComponent)&&F.push(this.preloadConfig(pe,Q)),(Q.children||Q._loadedRoutes)&&F.push(this.processRoutes(ut,Q.children??Q._loadedRoutes))}return(0,me.D)(F).pipe((0,En.J)())}preloadConfig(E,S){return this.preloadingStrategy.preload(S,()=>{let F;F=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(E,S):(0,be.of)(null);const Q=F.pipe((0,J.z)(pe=>null===pe?(0,be.of)(void 0):(S._loadedRoutes=pe.routes,S._loadedInjector=pe.injector,this.processRoutes(pe.injector??E,pe.routes))));if(S.loadComponent&&!S._loadedComponent){const pe=this.loader.loadComponent(S);return(0,me.D)([Q,pe]).pipe((0,En.J)())}return Q})}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(ri),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(su),l.LFG(Pr))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const bc=new l.OlP("");let qn=(()=>{class C{constructor(E,S,F,Q,pe={}){this.urlSerializer=E,this.transitions=S,this.viewportScroller=F,this.zone=Q,this.options=pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pe.scrollPositionRestoration=pe.scrollPositionRestoration||"disabled",pe.anchorScrolling=pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof So?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof mr?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof vo&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof zo&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zo(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function _o(C,A){return{\u0275kind:C,\u0275providers:A}}function au(){const C=(0,l.f3M)(l.zs3);return A=>{const E=C.get(l.z2F);if(A!==E.components[0])return;const S=C.get(ri),F=C.get(Hu);1===C.get(fa)&&S.initialNavigation(),C.get(br,null,l.XFs.Optional)?.setUpPreloading(),C.get(bc,null,l.XFs.Optional)?.init(),S.resetRootComponentType(E.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const Hu=new l.OlP("",{factory:()=>new Jt.x}),fa=new l.OlP("",{providedIn:"root",factory:()=>1}),br=new l.OlP("");function zu(C){return _o(0,[{provide:br,useExisting:Tc},{provide:su,useExisting:C}])}const ga=new l.OlP("ROUTER_FORROOT_GUARD"),Na=[xn.Ye,{provide:ye,useClass:ht},ri,Cr,{provide:Jn,useFactory:function xa(C){return C.routerState.root},deps:[ri]},Pr,[]];function Ac(){return new l.PXZ("Router",ri)}let Gu=(()=>{class C{constructor(E){}static forRoot(E,S){return{ngModule:C,providers:[Na,[],{provide:Sr,multi:!0,useValue:E},{provide:ga,useFactory:ka,deps:[[ri,new l.FiY,new l.tp0]]},{provide:Bo,useValue:S||{}},S?.useHash?{provide:xn.S$,useClass:xn.Do}:{provide:xn.S$,useClass:xn.b0},{provide:bc,useFactory:()=>{const C=(0,l.f3M)(xn.EM),A=(0,l.f3M)(l.R0b),E=(0,l.f3M)(Bo),S=(0,l.f3M)(hi),F=(0,l.f3M)(ye);return E.scrollOffset&&C.setOffset(E.scrollOffset),new qn(F,S,C,A,E)}},S?.preloadingStrategy?zu(S.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Ac},S?.initialNavigation?os(S):[],S?.bindToComponentInputs?_o(8,[j,{provide:q,useExisting:j}]).\u0275providers:[],[{provide:Oo,useFactory:au},{provide:l.tb,multi:!0,useExisting:Oo}]]}}static forChild(E){return{ngModule:C,providers:[{provide:Sr,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(ga,8))};static#t=this.\u0275mod=l.oAB({type:C});static#n=this.\u0275inj=l.cJS({})}return C})();function ka(C){return"guarded"}function os(C){return["disabled"===C.initialNavigation?_o(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const A=(0,l.f3M)(ri);return()=>{A.setUpLocationChangeListener()}}},{provide:fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?_o(2,[{provide:fa,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:A=>{const E=A.get(xn.V_,Promise.resolve());return()=>E.then(()=>new Promise(S=>{const F=A.get(ri),Q=A.get(Hu);Ys(F,()=>{S(!0)}),A.get(hi).afterPreactivation=()=>(S(!0),Q.closed?(0,be.of)(void 0):Q),F.initialNavigation()}))}}]).\u0275providers:[]]}const Oo=new l.OlP("")},3106:(on,Xe,k)=>{k.d(Xe,{Z:()=>Mt});var l=k(9058),y=k(4537),z=k(534),Ce=k(7879);class me{constructor(Vt,Tt){this._delegate=Vt,this.firebase=Tt,(0,z._addComponent)(Vt,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=Vt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Vt){this._delegate.automaticDataCollectionEnabled=Vt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Vt=>{this._delegate.checkDestroyed(),Vt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Vt,Tt=z._DEFAULT_ENTRY_NAME){var sn;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(Vt);return!We.isInitialized()&&"EXPLICIT"===(null===(sn=We.getComponent())||void 0===sn?void 0:sn.instantiationMode)&&We.initialize(),We.getImmediate({identifier:Tt})}_removeServiceInstance(Vt,Tt=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Vt).clearInstance(Tt)}_addComponent(Vt){(0,z._addComponent)(this._delegate,Vt)}_addOrOverwriteComponent(Vt){(0,z._addOrOverwriteComponent)(this._delegate,Vt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function He(){const yt=function Fe(yt){const Vt={},Tt={__esModule:!0,initializeApp:function Le(_t,St={}){const ge=z.initializeApp(_t,St);if((0,l.r3)(Vt,ge.name))return Vt[ge.name];const Ht=new yt(ge,Tt);return Vt[ge.name]=Ht,Ht},app:We,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ke(_t){const St=_t.name,ge=St.replace("-compat","");if(z._registerComponent(_t)&&"PUBLIC"===_t.type){const Ht=(Jt=We())=>{if("function"!=typeof Jt[ge])throw je.create("invalid-app-argument",{appName:St});return Jt[ge]()};void 0!==_t.serviceProps&&(0,l.ZB)(Ht,_t.serviceProps),Tt[ge]=Ht,yt.prototype[ge]=function(...Jt){return this._getService.bind(this,St).apply(this,_t.multipleInstances?Jt:[])}}return"PUBLIC"===_t.type?Tt[ge]:null},removeApp:function sn(_t){delete Vt[_t]},useAsService:function Ye(_t,St){return"serverAuth"===St?null:St},modularAPIs:z}};function We(_t){if(!(0,l.r3)(Vt,_t=_t||z._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:_t});return Vt[_t]}return Tt.default=Tt,Object.defineProperty(Tt,"apps",{get:function Je(){return Object.keys(Vt).map(_t=>Vt[_t])}}),We.App=yt,Tt}(me);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function Vt(Tt){(0,l.ZB)(yt,Tt)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),yt}(),ie=new Ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Mt=oe;!function Ge(yt){(0,z.registerVersion)("@firebase/app-compat","0.2.35",yt)}()},534:(on,Xe,k)=>{k.r(Xe),k.d(Xe,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>ye,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>Or,_apps:()=>ir,_clearComponents:()=>Dn,_components:()=>xr,_getProvider:()=>Xt,_isFirebaseApp:()=>$n,_isFirebaseServerApp:()=>nr,_registerComponent:()=>Ci,_removeServiceInstance:()=>Nr,_serverApps:()=>cr,deleteApp:()=>Yn,getApp:()=>Tn,getApps:()=>gr,initializeApp:()=>ht,initializeServerApp:()=>Bt,onLog:()=>V,registerVersion:()=>Y,setLogLevel:()=>x});var l=k(5861),y=k(4537),z=k(7879),Ce=k(9058);const me=(at,qe)=>qe.some(Ct=>at instanceof Ct);let be,je;const oe=new WeakMap,ie=new WeakMap,Me=new WeakMap,gt=new WeakMap,Ge=new WeakMap;let Vt={get(at,qe,Ct){if(at instanceof IDBTransaction){if("done"===qe)return ie.get(at);if("objectStoreNames"===qe)return at.objectStoreNames||Me.get(at);if("store"===qe)return Ct.objectStoreNames[1]?void 0:Ct.objectStore(Ct.objectStoreNames[0])}return Le(at[qe])},set:(at,qe,Ct)=>(at[qe]=Ct,!0),has:(at,qe)=>at instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in at};function We(at){return"function"==typeof at?function sn(at){return at!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return je||(je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(at)?function(...qe){return at.apply(Je(this),qe),Le(oe.get(this))}:function(...qe){return Le(at.apply(Je(this),qe))}:function(qe,...Ct){const en=at.call(Je(this),qe,...Ct);return Me.set(en,qe.sort?qe.sort():[qe]),Le(en)}}(at):(at instanceof IDBTransaction&&function yt(at){if(ie.has(at))return;const qe=new Promise((Ct,en)=>{const bn=()=>{at.removeEventListener("complete",Pn),at.removeEventListener("error",dn),at.removeEventListener("abort",dn)},Pn=()=>{Ct(),bn()},dn=()=>{en(at.error||new DOMException("AbortError","AbortError")),bn()};at.addEventListener("complete",Pn),at.addEventListener("error",dn),at.addEventListener("abort",dn)});ie.set(at,qe)}(at),me(at,function Fe(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(at,Vt):at)}function Le(at){if(at instanceof IDBRequest)return function Mt(at){const qe=new Promise((Ct,en)=>{const bn=()=>{at.removeEventListener("success",Pn),at.removeEventListener("error",dn)},Pn=()=>{Ct(Le(at.result)),bn()},dn=()=>{en(at.error),bn()};at.addEventListener("success",Pn),at.addEventListener("error",dn)});return qe.then(Ct=>{Ct instanceof IDBCursor&&oe.set(Ct,at)}).catch(()=>{}),Ge.set(qe,at),qe}(at);if(gt.has(at))return gt.get(at);const qe=We(at);return qe!==at&&(gt.set(at,qe),Ge.set(qe,at)),qe}const Je=at=>Ge.get(at),_t=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],ge=new Map;function Ht(at,qe){if(!(at instanceof IDBDatabase)||qe in at||"string"!=typeof qe)return;if(ge.get(qe))return ge.get(qe);const Ct=qe.replace(/FromIndex$/,""),en=qe!==Ct,bn=St.includes(Ct);if(!(Ct in(en?IDBIndex:IDBObjectStore).prototype)||!bn&&!_t.includes(Ct))return;const Pn=function(){var dn=(0,l.Z)(function*(Er,...fr){const ci=this.transaction(Er,bn?"readwrite":"readonly");let ho=ci.store;return en&&(ho=ho.index(fr.shift())),(yield Promise.all([ho[Ct](...fr),bn&&ci.done]))[0]});return function(fr){return dn.apply(this,arguments)}}();return ge.set(qe,Pn),Pn}!function Tt(at){Vt=at(Vt)}(at=>({...at,get:(qe,Ct,en)=>Ht(qe,Ct)||at.get(qe,Ct,en),has:(qe,Ct)=>!!Ht(qe,Ct)||at.has(qe,Ct)}));class Jt{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function xn(at){const qe=at.getComponent();return"VERSION"===qe?.type}(Ct)){const en=Ct.getImmediate();return`${en.library}/${en.version}`}return null}).filter(Ct=>Ct).join(" ")}}const It="@firebase/app",et="0.10.5",Dt=new z.Yd("@firebase/app"),Cn="[DEFAULT]",gn={[It]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ir=new Map,cr=new Map,xr=new Map;function Rn(at,qe){try{at.container.addComponent(qe)}catch(Ct){Dt.debug(`Component ${qe.name} failed to register with FirebaseApp ${at.name}`,Ct)}}function Or(at,qe){at.container.addOrOverwriteComponent(qe)}function Ci(at){const qe=at.name;if(xr.has(qe))return Dt.debug(`There were multiple attempts to register component ${qe}.`),!1;xr.set(qe,at);for(const Ct of ir.values())Rn(Ct,at);for(const Ct of cr.values())Rn(Ct,at);return!0}function Xt(at,qe){const Ct=at.container.getProvider("heartbeat").getImmediate({optional:!0});return Ct&&Ct.triggerHeartbeat(),at.container.getProvider(qe)}function Nr(at,qe,Ct=Cn){Xt(at,qe).clearInstance(Ct)}function $n(at){return void 0!==at.options}function nr(at){return void 0!==at.settings}function Dn(){xr.clear()}const Be=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ft{constructor(qe,Ct,en){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw Be.create("app-deleted",{appName:this._name})}}class X extends ft{constructor(qe,Ct,en,bn){const Pn=void 0!==Ct.automaticDataCollectionEnabled&&Ct.automaticDataCollectionEnabled,dn={name:en,automaticDataCollectionEnabled:Pn};super(void 0!==qe.apiKey?qe:qe.options,dn,bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Pn},Ct),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ct.releaseOnDeref=void 0,Y(It,et,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(qe){this.isDeleted||(this._refCount++,void 0!==qe&&this._finalizationRegistry.register(qe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Yn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Be.create("server-app-deleted")}}const ye="10.12.2";function ht(at,qe={}){let Ct=at;"object"!=typeof qe&&(qe={name:qe});const en=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},qe),bn=en.name;if("string"!=typeof bn||!bn)throw Be.create("bad-app-name",{appName:String(bn)});if(Ct||(Ct=(0,Ce.aH)()),!Ct)throw Be.create("no-options");const Pn=ir.get(bn);if(Pn){if((0,Ce.vZ)(Ct,Pn.options)&&(0,Ce.vZ)(en,Pn.config))return Pn;throw Be.create("duplicate-app",{appName:bn})}const dn=new y.H0(bn);for(const fr of xr.values())dn.addComponent(fr);const Er=new ft(Ct,en,dn);return ir.set(bn,Er),Er}function Bt(at,qe){if((0,Ce.jU)())throw Be.create("invalid-server-app-environment");let Ct;void 0===qe.automaticDataCollectionEnabled&&(qe.automaticDataCollectionEnabled=!1),Ct=$n(at)?at.options:at;const en=Object.assign(Object.assign({},qe),Ct);if(void 0!==en.releaseOnDeref&&delete en.releaseOnDeref,void 0!==qe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Be.create("finalization-registry-not-supported",{});const Pn=""+(ci=JSON.stringify(en),[...ci].reduce((ho,lr)=>Math.imul(31,ho)+lr.charCodeAt(0)|0,0)),dn=cr.get(Pn);var ci;if(dn)return dn.incRefCount(qe.releaseOnDeref),dn;const Er=new y.H0(Pn);for(const ci of xr.values())Er.addComponent(ci);const fr=new X(Ct,qe,Pn,Er);return cr.set(Pn,fr),fr}function Tn(at=Cn){const qe=ir.get(at);if(!qe&&at===Cn&&(0,Ce.aH)())return ht();if(!qe)throw Be.create("no-app",{appName:at});return qe}function gr(){return Array.from(ir.values())}function Yn(at){return we.apply(this,arguments)}function we(){return(we=(0,l.Z)(function*(at){let qe=!1;const Ct=at.name;ir.has(Ct)?(qe=!0,ir.delete(Ct)):cr.has(Ct)&&at.decRefCount()<=0&&(cr.delete(Ct),qe=!0),qe&&(yield Promise.all(at.container.getProviders().map(en=>en.delete())),at.isDeleted=!0)})).apply(this,arguments)}function Y(at,qe,Ct){var en;let bn=null!==(en=gn[at])&&void 0!==en?en:at;Ct&&(bn+=`-${Ct}`);const Pn=bn.match(/\s|\//),dn=qe.match(/\s|\//);if(Pn||dn){const Er=[`Unable to register library "${bn}" with version "${qe}":`];return Pn&&Er.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Pn&&dn&&Er.push("and"),dn&&Er.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void Dt.warn(Er.join(" "))}Ci(new y.wA(`${bn}-version`,()=>({library:bn,version:qe}),"VERSION"))}function V(at,qe){if(null!==at&&"function"!=typeof at)throw Be.create("invalid-log-argument");(0,z.Am)(at,qe)}function x(at){(0,z.Ub)(at)}const O="firebase-heartbeat-database",ae=1,xe="firebase-heartbeat-store";let pt=null;function Pt(){return pt||(pt=function Ke(at,qe,{blocked:Ct,upgrade:en,blocking:bn,terminated:Pn}={}){const dn=indexedDB.open(at,qe),Er=Le(dn);return en&&dn.addEventListener("upgradeneeded",fr=>{en(Le(dn.result),fr.oldVersion,fr.newVersion,Le(dn.transaction),fr)}),Ct&&dn.addEventListener("blocked",fr=>Ct(fr.oldVersion,fr.newVersion,fr)),Er.then(fr=>{Pn&&fr.addEventListener("close",()=>Pn()),bn&&fr.addEventListener("versionchange",ci=>bn(ci.oldVersion,ci.newVersion,ci))}).catch(()=>{}),Er}(O,ae,{upgrade:(at,qe)=>{if(0===qe)try{at.createObjectStore(xe)}catch(Ct){console.warn(Ct)}}}).catch(at=>{throw Be.create("idb-open",{originalErrorMessage:at.message})})),pt}function Zt(){return(Zt=(0,l.Z)(function*(at){try{const Ct=(yield Pt()).transaction(xe),en=yield Ct.objectStore(xe).get(vn(at));return yield Ct.done,en}catch(qe){if(qe instanceof Ce.ZR)Dt.warn(qe.message);else{const Ct=Be.create("idb-get",{originalErrorMessage:qe?.message});Dt.warn(Ct.message)}}})).apply(this,arguments)}function Qt(at,qe){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(at,qe){try{const en=(yield Pt()).transaction(xe,"readwrite");yield en.objectStore(xe).put(qe,vn(at)),yield en.done}catch(Ct){if(Ct instanceof Ce.ZR)Dt.warn(Ct.message);else{const en=Be.create("idb-set",{originalErrorMessage:Ct?.message});Dt.warn(en.message)}}})).apply(this,arguments)}function vn(at){return`${at.name}!${at.options.appId}`}class Di{constructor(qe){this.container=qe,this._heartbeatsCache=null;const Ct=this.container.getProvider("app").getImmediate();this._storage=new $i(Ct),this._heartbeatsCachePromise=this._storage.read().then(en=>(this._heartbeatsCache=en,en))}triggerHeartbeat(){var qe=this;return(0,l.Z)(function*(){var Ct,en;const Pn=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=Gr();if((null!=(null===(Ct=qe._heartbeatsCache)||void 0===Ct?void 0:Ct.heartbeats)||(qe._heartbeatsCache=yield qe._heartbeatsCachePromise,null!=(null===(en=qe._heartbeatsCache)||void 0===en?void 0:en.heartbeats)))&&qe._heartbeatsCache.lastSentHeartbeatDate!==dn&&!qe._heartbeatsCache.heartbeats.some(Er=>Er.date===dn))return qe._heartbeatsCache.heartbeats.push({date:dn,agent:Pn}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(Er=>{const fr=new Date(Er.date).valueOf();return Date.now()-fr<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,l.Z)(function*(){var Ct;if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null==(null===(Ct=qe._heartbeatsCache)||void 0===Ct?void 0:Ct.heartbeats)||0===qe._heartbeatsCache.heartbeats.length)return"";const en=Gr(),{heartbeatsToSend:bn,unsentEntries:Pn}=function Xi(at,qe=1024){const Ct=[];let en=at.slice();for(const bn of at){const Pn=Ct.find(dn=>dn.agent===bn.agent);if(Pn){if(Pn.dates.push(bn.date),Fr(Ct)>qe){Pn.dates.pop();break}}else if(Ct.push({agent:bn.agent,dates:[bn.date]}),Fr(Ct)>qe){Ct.pop();break}en=en.slice(1)}return{heartbeatsToSend:Ct,unsentEntries:en}}(qe._heartbeatsCache.heartbeats),dn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:bn}));return qe._heartbeatsCache.lastSentHeartbeatDate=en,Pn.length>0?(qe._heartbeatsCache.heartbeats=Pn,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),dn})()}}function Gr(){return(new Date).toISOString().substring(0,10)}class $i{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,l.Z)(function*(){if(yield qe._canUseIndexedDBPromise){const en=yield function nn(at){return Zt.apply(this,arguments)}(qe.app);return en?.heartbeats?en:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(qe){var Ct=this;return(0,l.Z)(function*(){var en;if(yield Ct._canUseIndexedDBPromise){const Pn=yield Ct.read();return Qt(Ct.app,{lastSentHeartbeatDate:null!==(en=qe.lastSentHeartbeatDate)&&void 0!==en?en:Pn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var Ct=this;return(0,l.Z)(function*(){var en;if(yield Ct._canUseIndexedDBPromise){const Pn=yield Ct.read();return Qt(Ct.app,{lastSentHeartbeatDate:null!==(en=qe.lastSentHeartbeatDate)&&void 0!==en?en:Pn.lastSentHeartbeatDate,heartbeats:[...Pn.heartbeats,...qe.heartbeats]})}})()}}function Fr(at){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:at})).length}!function Wn(at){Ci(new y.wA("platform-logger",qe=>new Jt(qe),"PRIVATE")),Ci(new y.wA("heartbeat",qe=>new Di(qe),"PRIVATE")),Y(It,et,at),Y(It,et,"esm2017"),Y("fire-js","")}("")},4537:(on,Xe,k)=>{k.d(Xe,{H0:()=>Fe,wA:()=>z});var l=k(5861),y=k(9058);class z{constructor(oe,ie,Me){this.name=oe,this.instanceFactory=ie,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const Ce="[DEFAULT]";class me{constructor(oe,ie){this.name=oe,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const ie=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(ie)){const Me=new y.BH;if(this.instancesDeferred.set(ie,Me),this.isInitialized(ie)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:ie});gt&&Me.resolve(gt)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(oe){var ie;const Me=this.normalizeInstanceIdentifier(oe?.identifier),gt=null!==(ie=oe?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Ge){if(gt)return null;throw Ge}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function je(He){return"EAGER"===He.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ie,Me]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(ie);try{const Ge=this.getOrInitializeService({instanceIdentifier:gt});Me.resolve(Ge)}catch{}}}}clearInstance(oe=Ce){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,l.Z)(function*(){const ie=Array.from(oe.instances.values());yield Promise.all([...ie.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ie.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=Ce){return this.instances.has(oe)}getOptions(oe=Ce){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:ie={}}=oe,Me=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:Me,options:ie});for(const[Ge,Mt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Ge)&&Mt.resolve(gt);return gt}onInit(oe,ie){var Me;const gt=this.normalizeInstanceIdentifier(ie),Ge=null!==(Me=this.onInitCallbacks.get(gt))&&void 0!==Me?Me:new Set;Ge.add(oe),this.onInitCallbacks.set(gt,Ge);const Mt=this.instances.get(gt);return Mt&&oe(Mt,gt),()=>{Ge.delete(oe)}}invokeOnInitCallbacks(oe,ie){const Me=this.onInitCallbacks.get(ie);if(Me)for(const gt of Me)try{gt(oe,ie)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:ie={}}){let Me=this.instances.get(oe);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(He=oe,He===Ce?void 0:He),options:ie}),this.instances.set(oe,Me),this.instancesOptions.set(oe,ie),this.invokeOnInitCallbacks(Me,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,Me)}catch{}var He;return Me||null}normalizeInstanceIdentifier(oe=Ce){return this.component?this.component.multipleInstances?oe:Ce:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const ie=this.getProvider(oe.name);if(ie.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);ie.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const ie=new me(oe,this);return this.providers.set(oe,ie),ie}getProviders(){return Array.from(this.providers.values())}}},7879:(on,Xe,k)=>{k.d(Xe,{Am:()=>He,Ub:()=>Fe,Yd:()=>je,in:()=>y});const l=[];var y=function(oe){return oe[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",oe}(y||{});const z={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},Ce=y.INFO,me={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},be=(oe,ie,...Me)=>{if(ie<oe.logLevel)return;const gt=(new Date).toISOString(),Ge=me[ie];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Ge](`[${gt}]  ${oe.name}:`,...Me)};class je{constructor(ie){this.name=ie,this._logLevel=Ce,this._logHandler=be,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in y))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?z[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...ie),this._logHandler(this,y.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...ie),this._logHandler(this,y.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,y.INFO,...ie),this._logHandler(this,y.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,y.WARN,...ie),this._logHandler(this,y.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...ie),this._logHandler(this,y.ERROR,...ie)}}function Fe(oe){l.forEach(ie=>{ie.setLogLevel(oe)})}function He(oe,ie){for(const Me of l){let gt=null;ie&&ie.level&&(gt=z[ie.level]),Me.userLogHandler=null===oe?null:(Ge,Mt,...yt)=>{const Vt=yt.map(Tt=>{if(null==Tt)return null;if("string"==typeof Tt)return Tt;if("number"==typeof Tt||"boolean"==typeof Tt)return Tt.toString();if(Tt instanceof Error)return Tt.message;try{return JSON.stringify(Tt)}catch{return null}}).filter(Tt=>Tt).join(" ");Mt>=(gt??Ge.logLevel)&&oe({level:y[Mt].toLowerCase(),message:Vt,args:yt,type:Ge.name})}}}},3182:(on,Xe,k)=>{k.d(Xe,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(534);(0,l.registerVersion)("firebase","10.12.2","app")},7142:(on,Xe,k)=>{k.d(Xe,{Z:()=>l.Z});var l=k(3106);l.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(on,Xe,k)=>{k.r(Xe);var l=k(5861),y=k(3106),z=k(35),Ce=k(9058),je=(k(534),k(7879),k(4537));function Fe(){return window}function ie(){return ie=(0,l.Z)(function*(V,x,O){var ae;const{BuildInfo:xe}=Fe();(0,z.au)(x.sessionId,"AuthEvent did not contain a session ID");const pt=yield function Tt(V){return sn.apply(this,arguments)}(x.sessionId),Pt={};return(0,z.av)()?Pt.ibi=xe.packageName:(0,z.aw)()?Pt.apn=xe.packageName:(0,z.ax)(V,"operation-not-supported-in-this-environment"),xe.displayName&&(Pt.appDisplayName=xe.displayName),Pt.sessionId=pt,(0,z.ay)(V,O,x.type,void 0,null!==(ae=x.eventId)&&void 0!==ae?ae:void 0,Pt)}),ie.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(V){const{BuildInfo:x}=Fe(),O={};(0,z.av)()?O.iosBundleId=x.packageName:(0,z.aw)()?O.androidPackageName=x.packageName:(0,z.ax)(V,"operation-not-supported-in-this-environment"),yield(0,z.az)(V,O)})).apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(V,x,O){const{cordova:ae}=Fe();let xe=()=>{};try{yield new Promise((pt,Pt)=>{let nn=null;function Zt(){var vn;pt();const Qn=null===(vn=ae.plugins.browsertab)||void 0===vn?void 0:vn.close;"function"==typeof Qn&&Qn(),"function"==typeof O?.close&&O.close()}function Qt(){nn||(nn=window.setTimeout(()=>{Pt((0,z.aB)(V,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===document?.visibilityState&&Qt()}x.addPassiveListener(Zt),document.addEventListener("resume",Qt,!1),(0,z.aw)()&&document.addEventListener("visibilitychange",Gn,!1),xe=()=>{x.removePassiveListener(Zt),document.removeEventListener("resume",Qt,!1),document.removeEventListener("visibilitychange",Gn,!1),nn&&window.clearTimeout(nn)}})}finally{xe()}})).apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(V){const x=function We(V){if((0,z.au)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const x=new ArrayBuffer(V.length),O=new Uint8Array(x);for(let ae=0;ae<V.length;ae++)O[ae]=V.charCodeAt(ae);return O}(V),O=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(O)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Je extends z.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(x)),super.onEvent(x)}initialized(){var x=this;return(0,l.Z)(function*(){yield x.initPromise})()}}function _t(V){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(V){const x=yield Jt()._get(xn(V));return x&&(yield Jt()._remove(xn(V))),x})).apply(this,arguments)}function Ht(){const V=[];for(let O=0;O<20;O++){const ae=Math.floor(62*Math.random());V.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ae))}return V.join("")}function Jt(){return(0,z.aE)(z.b)}function xn(V){return(0,z.aF)("authEvent",V.config.apiKey,V.name)}function Dt(V){if(!V?.includes("?"))return{};const[x,...O]=V.split("?");return(0,Ce.zd)(O.join("?"))}const J=class ce{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(x){var O=this;return(0,l.Z)(function*(){const ae=x._key();let xe=O.eventManagers.get(ae);return xe||(xe=new Je(x),O.eventManagers.set(ae,xe),O.attachCallbackListeners(x,xe)),xe})()}_openPopup(x){(0,z.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,O,ae,xe){var pt=this;return(0,l.Z)(function*(){!function Vt(V){var x,O,ae,xe,pt,Pt,nn,Zt,Qt,Gn;const vn=Fe();(0,z.aC)("function"==typeof(null===(x=vn?.universalLinks)||void 0===x?void 0:x.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aC)(typeof(null===(O=vn?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aC)("function"==typeof(null===(pt=null===(xe=null===(ae=vn?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===pt?void 0:pt.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(Zt=null===(nn=null===(Pt=vn?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===nn?void 0:nn.browsertab)||void 0===Zt?void 0:Zt.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(Gn=null===(Qt=vn?.cordova)||void 0===Qt?void 0:Qt.InAppBrowser)||void 0===Gn?void 0:Gn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Pt=yield pt._initialize(x);yield Pt.initialized(),Pt.resetRedirect(),(0,z.aI)(),yield pt._originValidation(x);const nn=function Ke(V,x,O=null){return{type:x,eventId:O,urlResponse:null,sessionId:Ht(),postBody:null,tenantId:V.tenantId,error:(0,z.aB)(V,"no-auth-event")}}(x,ae,xe);yield function Ye(V,x){return Jt()._set(xn(V),x)}(x,nn);const Zt=yield function oe(V,x,O){return ie.apply(this,arguments)}(x,nn,O),Qt=yield function Ge(V){const{cordova:x}=Fe();return new Promise(O=>{x.plugins.browsertab.isAvailable(ae=>{let xe=null;ae?x.plugins.browsertab.openUrl(V):xe=x.InAppBrowser.open(V,(0,z.aA)()?"_blank":"_system","location=yes"),O(xe)})})}(Zt);return function Mt(V,x,O){return yt.apply(this,arguments)}(x,Pt,Qt)})()}_isIframeWebStorageSupported(x,O){throw new Error("Method not implemented.")}_originValidation(x){const O=x._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Me(V){return gt.apply(this,arguments)}(x)),this.originValidationPromises[O]}attachCallbackListeners(x,O){const{universalLinks:ae,handleOpenURL:xe,BuildInfo:pt}=Fe(),Pt=setTimeout((0,l.Z)(function*(){yield _t(x),O.onEvent(De())}),500),nn=function(){var Gn=(0,l.Z)(function*(vn){clearTimeout(Pt);const Qn=yield _t(x);let ki=null;Qn&&vn?.url&&(ki=function ge(V,x){var O,ae;const xe=function et(V){const x=Dt(V),O=x.link?decodeURIComponent(x.link):void 0,ae=Dt(O).link,xe=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Dt(xe).link||xe||ae||O||V}(x);if(xe.includes("/__/auth/callback")){const pt=Dt(xe),Pt=pt.firebaseError?function It(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(pt.firebaseError)):null,nn=null===(ae=null===(O=Pt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ae?void 0:ae[1],Zt=nn?(0,z.aB)(nn):null;return Zt?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Zt,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:xe,postBody:null}}return null}(Qn,vn.url)),O.onEvent(ki||De())});return function(Qn){return Gn.apply(this,arguments)}}();typeof ae<"u"&&"function"==typeof ae.subscribe&&ae.subscribe(null,nn);const Zt=xe,Qt=`${pt.packageName.toLowerCase()}://`;Fe().handleOpenURL=function(){var Gn=(0,l.Z)(function*(vn){if(vn.toLowerCase().startsWith(Qt)&&nn({url:vn}),"function"==typeof Zt)try{Zt(vn)}catch(Qn){console.error(Qn)}});return function(vn){return Gn.apply(this,arguments)}}()}};function De(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.aB)("no-auth-event")}}function vt(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function an(V=(0,Ce.z$)()){return!("file:"!==vt()&&"ionic:"!==vt()&&"capacitor:"!==vt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function xt(){try{const V=self.localStorage,x=z.aN();if(V)return V.setItem(x,"1"),V.removeItem(x),!function tr(V=(0,Ce.z$)()){return function Sn(){return(0,Ce.w1)()&&11===document?.documentMode}()||function _n(V=(0,Ce.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,Ce.hl)()}catch{return En()&&(0,Ce.hl)()}return!1}function En(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function Et(){return"http:"===vt()||"https:"===vt()}()||(0,Ce.ru)()||an())&&!function qt(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&xt()&&!En()}function Ut(){return an()&&typeof document<"u"}function Dr(){return(Dr=(0,l.Z)(function*(){return!!Ut()&&new Promise(V=>{const x=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),V(!0)})})})).apply(this,arguments)}const sr={LOCAL:"local",NONE:"none",SESSION:"session"},Fn=z.aC,Ot="persistence";function Cn(V){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(V){yield V._initializationPromise;const x=cr(),O=z.aF(Ot,V.config.apiKey,V.name);x&&x.setItem(O,V._getPersistence())})).apply(this,arguments)}function cr(){var V;try{return(null===(V=function tn(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const xr=z.aC;class Rn{constructor(){this.browserResolver=z.aE(z.k),this.cordovaResolver=z.aE(J),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(x){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,O,ae,xe){var pt=this;return(0,l.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(x,O,ae,xe)})()}_openRedirect(x,O,ae,xe){var pt=this;return(0,l.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(x,O,ae,xe)})()}_isIframeWebStorageSupported(x,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,O)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Ut()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,l.Z)(function*(){if(x.underlyingResolver)return;const O=yield function Nt(){return Dr.apply(this,arguments)}();x.underlyingResolver=O?x.cordovaResolver:x.browserResolver})()}}function Or(V){return V.unwrap()}function Xt(V){return $n(V)}function $n(V){const{_tokenResponse:x}=V instanceof Ce.ZR?V.customData:V;if(!x)return null;if(!(V instanceof Ce.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return z.P.credentialFromResult(V);const O=x.providerId;if(!O||O===z.p.PASSWORD)return null;let ae;switch(O){case z.p.GOOGLE:ae=z.X;break;case z.p.FACEBOOK:ae=z.W;break;case z.p.GITHUB:ae=z.Y;break;case z.p.TWITTER:ae=z.$;break;default:const{oauthIdToken:xe,oauthAccessToken:pt,oauthTokenSecret:Pt,pendingToken:nn,nonce:Zt}=x;return pt||Pt||xe||nn?nn?O.startsWith("saml.")?z.aQ._create(O,nn):z.N._fromParams({providerId:O,signInMethod:O,pendingToken:nn,idToken:xe,accessToken:pt}):new z.Z(O).credential({idToken:xe,accessToken:pt,rawNonce:Zt}):null}return V instanceof Ce.ZR?ae.credentialFromError(V):ae.credentialFromResult(V)}function nr(V,x){return x.catch(O=>{throw O instanceof Ce.ZR&&function Nr(V,x){var O;const ae=null===(O=x.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new Be(V,z.as(V,x));else if(ae){const xe=$n(x),pt=x;xe&&(pt.credential=xe,pt.tenantId=ae.tenantId||void 0,pt.email=ae.email||void 0,pt.phoneNumber=ae.phoneNumber||void 0)}}(V,O),O}).then(O=>{const xe=O.user;return{operationType:O.operationType,credential:Xt(O),additionalUserInfo:z.aq(O),user:ft.getOrCreate(xe)}})}function Dn(V,x){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(V,x){const O=yield x;return{verificationId:O.verificationId,confirm:ae=>nr(V,O.confirm(ae))}})).apply(this,arguments)}class Be{constructor(x,O){this.resolver=O,this.auth=function Ci(V){return V.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return nr(Or(this.auth),this.resolver.resolveSignIn(x))}}class ft{constructor(x){this._delegate=x,this.multiFactor=z.at(x)}static getOrCreate(x){return ft.USER_MAP.has(x)||ft.USER_MAP.set(x,new ft(x)),ft.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.a2(O._delegate,x))})()}linkWithPhoneNumber(x,O){var ae=this;return(0,l.Z)(function*(){return Dn(ae.auth,z.l(ae._delegate,x,O))})()}linkWithPopup(x){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.d(O._delegate,x,Rn))})()}linkWithRedirect(x){var O=this;return(0,l.Z)(function*(){return yield Cn(z.aJ(O.auth)),z.g(O._delegate,x,Rn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.a3(O._delegate,x))})()}reauthenticateWithPhoneNumber(x,O){return Dn(this.auth,z.r(this._delegate,x,O))}reauthenticateWithPopup(x){return nr(this.auth,z.e(this._delegate,x,Rn))}reauthenticateWithRedirect(x){var O=this;return(0,l.Z)(function*(){return yield Cn(z.aJ(O.auth)),z.h(O._delegate,x,Rn)})()}sendEmailVerification(x){return z.ag(this._delegate,x)}unlink(x){var O=this;return(0,l.Z)(function*(){return yield z.ap(O._delegate,x),O})()}updateEmail(x){return z.al(this._delegate,x)}updatePassword(x){return z.am(this._delegate,x)}updatePhoneNumber(x){return z.u(this._delegate,x)}updateProfile(x){return z.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,O){return z.ah(this._delegate,x,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ft.USER_MAP=new WeakMap;const X=z.aC;let ye=(()=>{class V{constructor(O,ae){if(this.app=O,ae.isInitialized())return this._delegate=ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=O.options;X(xe,"invalid-api-key",{appName:O.name}),X(xe,"invalid-api-key",{appName:O.name});const pt=typeof window<"u"?Rn:void 0;this._delegate=ae.initialize({options:{persistence:Bt(xe,O.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(z.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ft.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ae){z.K(this._delegate,O,ae)}applyActionCode(O){return z.a7(this._delegate,O)}checkActionCode(O){return z.a8(this._delegate,O)}confirmPasswordReset(O,ae){return z.a6(this._delegate,O,ae)}createUserWithEmailAndPassword(O,ae){var xe=this;return(0,l.Z)(function*(){return nr(xe._delegate,z.aa(xe._delegate,O,ae))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return z.af(this._delegate,O)}isSignInWithEmailLink(O){return z.ad(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){X(On(),O._delegate,"operation-not-supported-in-this-environment");const ae=yield z.j(O._delegate,Rn);return ae?nr(O._delegate,Promise.resolve(ae)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ze(V,x){(0,z.aJ)(V)._logFramework(x)}(this._delegate,O)}onAuthStateChanged(O,ae,xe){const{next:pt,error:Pt,complete:nn}=ht(O,ae,xe);return this._delegate.onAuthStateChanged(pt,Pt,nn)}onIdTokenChanged(O,ae,xe){const{next:pt,error:Pt,complete:nn}=ht(O,ae,xe);return this._delegate.onIdTokenChanged(pt,Pt,nn)}sendSignInLinkToEmail(O,ae){return z.ac(this._delegate,O,ae)}sendPasswordResetEmail(O,ae){return z.a5(this._delegate,O,ae||void 0)}setPersistence(O){var ae=this;return(0,l.Z)(function*(){let xe;switch(function cn(V,x){Fn(Object.values(sr).includes(x),V,"invalid-persistence-type"),(0,Ce.b$)()?Fn(x!==sr.SESSION,V,"unsupported-persistence-type"):(0,Ce.UG)()?Fn(x===sr.NONE,V,"unsupported-persistence-type"):En()?Fn(x===sr.NONE||x===sr.LOCAL&&(0,Ce.hl)(),V,"unsupported-persistence-type"):Fn(x===sr.NONE||xt(),V,"unsupported-persistence-type")}(ae._delegate,O),O){case sr.SESSION:xe=z.a;break;case sr.LOCAL:xe=(yield z.aE(z.i)._isAvailable())?z.i:z.b;break;case sr.NONE:xe=z.U;break;default:return z.ax("argument-error",{appName:ae._delegate.name})}return ae._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return nr(this._delegate,z.a0(this._delegate))}signInWithCredential(O){return nr(this._delegate,z.a1(this._delegate,O))}signInWithCustomToken(O){return nr(this._delegate,z.a4(this._delegate,O))}signInWithEmailAndPassword(O,ae){return nr(this._delegate,z.ab(this._delegate,O,ae))}signInWithEmailLink(O,ae){return nr(this._delegate,z.ae(this._delegate,O,ae))}signInWithPhoneNumber(O,ae){return Dn(this._delegate,z.s(this._delegate,O,ae))}signInWithPopup(O){var ae=this;return(0,l.Z)(function*(){return X(On(),ae._delegate,"operation-not-supported-in-this-environment"),nr(ae._delegate,z.c(ae._delegate,O,Rn))})()}signInWithRedirect(O){var ae=this;return(0,l.Z)(function*(){return X(On(),ae._delegate,"operation-not-supported-in-this-environment"),yield Cn(ae._delegate),z.f(ae._delegate,O,Rn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return z.a9(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=sr,V})();function ht(V,x,O){let ae=V;"function"!=typeof V&&({next:ae,error:x,complete:O}=V);const xe=ae;return{next:Pt=>xe(Pt&&ft.getOrCreate(Pt)),error:x,complete:O}}function Bt(V,x){const O=function ir(V,x){const O=cr();if(!O)return[];const ae=z.aF(Ot,V,x);switch(O.getItem(ae)){case sr.NONE:return[z.U];case sr.LOCAL:return[z.i,z.a];case sr.SESSION:return[z.a];default:return[]}}(V,x);if(typeof self<"u"&&!O.includes(z.i)&&O.push(z.i),typeof window<"u")for(const ae of[z.b,z.a])O.includes(ae)||O.push(ae);return O.includes(z.U)||O.push(z.U),O}class Tn{constructor(){this.providerId="phone",this._delegate=new z.P(Or(y.Z.auth()))}static credential(x,O){return z.P.credential(x,O)}verifyPhoneNumber(x,O){return this._delegate.verifyPhoneNumber(x,O)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=z.P.PROVIDER_ID;const gr=z.aC;class Yn{constructor(x,O,ae=y.Z.app()){var xe;gr(null===(xe=ae.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:ae.name}),this._delegate=new z.R(ae.auth(),x,O),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(V){V.INTERNAL.registerComponent(new je.wA("auth-compat",x=>{const O=x.getProvider("app-compat").getImmediate(),ae=x.getProvider("auth");return new ye(O,ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.V,FacebookAuthProvider:z.W,GithubAuthProvider:z.Y,GoogleAuthProvider:z.X,OAuthProvider:z.Z,SAMLAuthProvider:z._,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:Yn,TwitterAuthProvider:z.$,Auth:ye,AuthCredential:z.L,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.5.9")}(y.Z)},5861:(on,Xe,k)=>{function l(z,Ce,me,be,je,Fe,He){try{var oe=z[Fe](He),ie=oe.value}catch(Me){return void me(Me)}oe.done?Ce(ie):Promise.resolve(ie).then(be,je)}function y(z){return function(){var Ce=this,me=arguments;return new Promise(function(be,je){var Fe=z.apply(Ce,me);function He(ie){l(Fe,be,je,He,oe,"next",ie)}function oe(ie){l(Fe,be,je,He,oe,"throw",ie)}He(void 0)})}}k.d(Xe,{Z:()=>y})},7582:(on,Xe,k)=>{function Ce(J,De){var ze={};for(var ve in J)Object.prototype.hasOwnProperty.call(J,ve)&&De.indexOf(ve)<0&&(ze[ve]=J[ve]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(ve=Object.getOwnPropertySymbols(J);Ie<ve.length;Ie++)De.indexOf(ve[Ie])<0&&Object.prototype.propertyIsEnumerable.call(J,ve[Ie])&&(ze[ve[Ie]]=J[ve[Ie]])}return ze}function Me(J,De,ze,ve){return new(ze||(ze=Promise))(function(ke,vt){function Et(Sn){try{qt(ve.next(Sn))}catch(_n){vt(_n)}}function an(Sn){try{qt(ve.throw(Sn))}catch(_n){vt(_n)}}function qt(Sn){Sn.done?ke(Sn.value):function Ie(ke){return ke instanceof ze?ke:new ze(function(vt){vt(ke)})}(Sn.value).then(Et,an)}qt((ve=ve.apply(J,De||[])).next())})}function Le(J){return this instanceof Le?(this.v=J,this):new Le(J)}function Je(J,De,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ve=ze.apply(J,De||[]),ke=[];return Ie={},Et("next"),Et("throw"),Et("return",function vt(xt){return function(En){return Promise.resolve(En).then(xt,_n)}}),Ie[Symbol.asyncIterator]=function(){return this},Ie;function Et(xt,En){ve[xt]&&(Ie[xt]=function(On){return new Promise(function(Ut,Nt){ke.push([xt,On,Ut,Nt])>1||an(xt,On)})},En&&(Ie[xt]=En(Ie[xt])))}function an(xt,En){try{!function qt(xt){xt.value instanceof Le?Promise.resolve(xt.value.v).then(Sn,_n):tr(ke[0][2],xt)}(ve[xt](En))}catch(On){tr(ke[0][3],On)}}function Sn(xt){an("next",xt)}function _n(xt){an("throw",xt)}function tr(xt,En){xt(En),ke.shift(),ke.length&&an(ke[0][0],ke[0][1])}}function Ye(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,De=J[Symbol.asyncIterator];return De?De.call(J):(J=function yt(J){var De="function"==typeof Symbol&&Symbol.iterator,ze=De&&J[De],ve=0;if(ze)return ze.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ve>=J.length&&(J=void 0),{value:J&&J[ve++],done:!J}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ze={},ve("next"),ve("throw"),ve("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function ve(ke){ze[ke]=J[ke]&&function(vt){return new Promise(function(Et,an){!function Ie(ke,vt,Et,an){Promise.resolve(an).then(function(qt){ke({value:qt,done:Et})},vt)}(Et,an,(vt=J[ke](vt)).done,vt.value)})}}}k.d(Xe,{FC:()=>Je,KL:()=>Ye,_T:()=>Ce,mG:()=>Me,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=7877)}]);