"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[179],{35:(nn,Je,k)=>{k.d(Je,{$:()=>Go,A:()=>se,G:()=>Ge,K:()=>Xi,L:()=>Tr,N:()=>we,P:()=>qo,R:()=>Hu,U:()=>on,V:()=>xi,W:()=>Ir,X:()=>zo,Y:()=>Oi,Z:()=>Hr,_:()=>ho,a:()=>Nt,a0:()=>ps,a1:()=>ts,a2:()=>Co,a3:()=>_c,a4:()=>Qa,a5:()=>Vs,a6:()=>qs,a7:()=>To,a8:()=>la,a9:()=>Zs,aA:()=>Wn,aB:()=>Xe,aC:()=>ye,aD:()=>Oc,aE:()=>ft,aF:()=>Zt,aG:()=>Id,aH:()=>Th,aI:()=>va,aJ:()=>lr,aN:()=>fa,aQ:()=>qi,aa:()=>Ks,ab:()=>yc,ac:()=>js,ad:()=>Fu,ae:()=>$s,af:()=>b,ag:()=>N,ah:()=>ve,ak:()=>gr,al:()=>Sr,am:()=>ir,ap:()=>U,aq:()=>Bo,as:()=>Ic,at:()=>bc,au:()=>Xt,av:()=>kr,aw:()=>zr,ax:()=>Le,ay:()=>Ia,az:()=>wd,b:()=>os,c:()=>Wu,d:()=>Sc,e:()=>xs,f:()=>Ea,g:()=>bh,h:()=>Mc,i:()=>S,j:()=>sp,k:()=>Sd,l:()=>fe,m:()=>wl,p:()=>ke,r:()=>Ce,s:()=>zu,u:()=>ii});var l=k(5861),_=k(534),H=k(9058),Te=k(7879),me=k(7582),De=k(4537);const ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Pt=function pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wt=new Te.Yd("@firebase/auth");function We(v,...h){wt.logLevel<=Te.in.ERROR&&wt.error(`Auth (${_.SDK_VERSION}): ${v}`,...h)}function Le(v,...h){throw Dt(v,...h)}function Xe(v,...h){return Dt(v,...h)}function Ke(v,h,p){const w=Object.assign(Object.assign({},Pt()),{[h]:p});return new H.LL("auth","Firebase",w).create(h,{appName:v.name})}function Ye(v){return Ke(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _t(v,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Le(v,"argument-error"),Ke(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(v,...h){if("string"!=typeof v){const p=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(p,...w)}return yt.create(v,...h)}function ye(v,h,...p){if(!v)throw Dt(h,...p)}function Ht(v){const h="INTERNAL ASSERTION FAILED: "+v;throw We(h),new Error(h)}function Xt(v,h){v||Ht(h)}function xn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Et(){return"http:"===kt()||"https:"===kt()}function kt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class le{constructor(h,p){this.shortDelay=h,this.longDelay=p,Xt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Et()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ie(v,h){Xt(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class de{static initialize(h,p,w){this.fetchImpl=h,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new le(3e4,6e4);function Ie(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function Fe(v,h,p,w){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(v,h,p,w,z={}){return vt(v,z,(0,l.Z)(function*(){let ne={},Ne={};w&&("GET"===h?Ne=w:ne={body:JSON.stringify(w)});const ut=(0,H.xO)(Object.assign({key:v.config.apiKey},Ne)).slice(1),Ft=yield v._getAdditionalHeaders();return Ft["Content-Type"]="application/json",v.languageCode&&(Ft["X-Firebase-Locale"]=v.languageCode),de.fetch()(_n(v,v.config.apiHost,p,ut),Object.assign({method:h,headers:Ft,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function vt(v,h,p){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(v,h,p){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},be),h);try{const z=new Mt(v),ne=yield Promise.race([p(),z.promise]);z.clearNetworkTimeout();const Ne=yield ne.json();if("needConfirmation"in Ne)throw En(v,"account-exists-with-different-credential",Ne);if(ne.ok&&!("errorMessage"in Ne))return Ne;{const ut=ne.ok?Ne.errorMessage:Ne.error.message,[Ft,In]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw En(v,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Ft)throw En(v,"email-already-in-use",Ne);if("USER_DISABLED"===Ft)throw En(v,"user-disabled",Ne);const Un=w[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw Ke(v,Un,In);Le(v,Un)}}catch(z){if(z instanceof H.ZR)throw z;Le(v,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function qt(v,h,p,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(v,h,p,w,z={}){const ne=yield Fe(v,h,p,w,z);return"mfaPendingCredential"in ne&&Le(v,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function _n(v,h,p,w){const z=`${h}${p}?${w}`;return v.config.emulator?ie(v.config,z):`${v.config.apiScheme}://${z}`}function er(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(Xe(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(v,h,p){const w={appName:v.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const z=Xe(v,h,w);return z.customData._tokenResponse=p,z}function On(v){return void 0!==v&&void 0!==v.getResponse}function Vt(v){return void 0!==v&&void 0!==v.enterprise}class xt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return er(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function rn(){return(rn=(0,l.Z)(function*(v){return(yield Fe(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sr(v,h){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(v,h){return Fe(v,"GET","/v2/recaptchaConfig",Ie(v,h))})).apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function rr(v,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Rr(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Di(){return(Di=(0,l.Z)(function*(v,h=!1){const p=(0,H.m9)(v),w=yield p.getIdToken(h),z=Or(w);ye(z&&z.exp&&z.auth_time&&z.iat,p.auth,"internal-error");const ne="object"==typeof z.firebase?z.firebase:void 0,Ne=ne?.sign_in_provider;return{claims:z,token:w,authTime:Rr(en(z.auth_time)),issuedAtTime:Rr(en(z.iat)),expirationTime:Rr(en(z.exp)),signInProvider:Ne||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function en(v){return 1e3*Number(v)}function Or(v){const[h,p,w]=v.split(".");if(void 0===h||void 0===p||void 0===w)return We("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,H.tV)(p);return z?JSON.parse(z):(We("Failed to decode base64 JWT payload"),null)}catch(z){return We("Caught error parsing JWT payload as JSON",z?.toString()),null}}function $n(v){const h=Or(v);return ye(h,"internal-error"),ye(typeof h.exp<"u","internal-error"),ye(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function tr(v,h){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(v,h,p=!1){if(p)return h;try{return yield h}catch(w){throw w instanceof H.ZR&&function si({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class je{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const z=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),w)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class dt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rr(this.lastLoginAt),this.creationTime=Rr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function X(v){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,l.Z)(function*(v){var h;const p=v.auth,w=yield v.getIdToken(),z=yield tr(v,rr(p,{idToken:w}));ye(z?.users.length,p,"internal-error");const ne=z.users[0];v._notifyReloadListener(ne);const Ne=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?mr(ne.providerUserInfo):[],ut=function Tn(v,h){return[...v.filter(w=>!h.some(z=>z.providerId===w.providerId)),...h]}(v.providerData,Ne),Un=!!v.isAnonymous&&!(v.email&&ne.passwordHash||ut?.length),Pr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:ut,metadata:new dt(ne.createdAt,ne.lastLoginAt),isAnonymous:Un};Object.assign(v,Pr)})).apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(v){const h=(0,H.m9)(v);yield X(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function mr(v){return v.map(h=>{var{providerId:p}=h,w=(0,me._T)(h,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ae(){return(Ae=(0,l.Z)(function*(v,h){const p=yield vt(v,{},(0,l.Z)(function*(){const w=(0,H.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:z,apiKey:ne}=v.config,Ne=_n(v,z,"/v1/token",`key=${ne}`),ut=yield v._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(Ne,{method:"POST",headers:ut,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v2/accounts:revokeToken",Ie(v,h))})).apply(this,arguments)}class O{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ye(h.idToken,"internal-error"),ye(typeof h.idToken<"u","internal-error"),ye(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):$n(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){ye(0!==h.length,"internal-error");const p=$n(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var w=this;return(0,l.Z)(function*(){return p||!w.accessToken||w.isExpired?(ye(w.refreshToken,h,"user-token-expired"),w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var w=this;return(0,l.Z)(function*(){const{accessToken:z,refreshToken:ne,expiresIn:Ne}=yield function Yn(v,h){return Ae.apply(this,arguments)}(h,p);w.updateTokensAndExpiration(z,ne,Number(Ne))})()}updateTokensAndExpiration(h,p,w){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,p){const{refreshToken:w,accessToken:z,expirationTime:ne}=p,Ne=new O;return w&&(ye("string"==typeof w,"internal-error",{appName:h}),Ne.refreshToken=w),z&&(ye("string"==typeof z,"internal-error",{appName:h}),Ne.accessToken=z),ne&&(ye("number"==typeof ne,"internal-error",{appName:h}),Ne.expirationTime=ne),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new O,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function x(v,h){ye("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class ae{constructor(h){var{uid:p,auth:w,stsTokenManager:z}=h,ne=(0,me._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new je(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new dt(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,l.Z)(function*(){const w=yield tr(p,p.stsTokenManager.getToken(p.auth,h));return ye(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(h){return function xr(v){return Di.apply(this,arguments)}(this,h)}reload(){return function ht(v){return Bt.apply(this,arguments)}(this)}_assign(h){this!==h&&(ye(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new ae(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var w=this;return(0,l.Z)(function*(){let z=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),z=!0),p&&(yield X(w)),yield w.auth._persistUserIfCurrent(w),z&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,l.Z)(function*(){if((0,_._isFirebaseServerApp)(h.auth.app))return Promise.reject(Ye(h.auth));const p=yield h.getIdToken();return yield tr(h,function Rt(v,h){return cn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var w,z,ne,Ne,ut,Ft,In,Un;const Pr=null!==(w=p.displayName)&&void 0!==w?w:void 0,Is=null!==(z=p.email)&&void 0!==z?z:void 0,Ua=null!==(ne=p.phoneNumber)&&void 0!==ne?ne:void 0,Ba=null!==(Ne=p.photoURL)&&void 0!==Ne?Ne:void 0,nc=null!==(ut=p.tenantId)&&void 0!==ut?ut:void 0,mu=null!==(Ft=p._redirectEventId)&&void 0!==Ft?Ft:void 0,xd=null!==(In=p.createdAt)&&void 0!==In?In:void 0,_u=null!==(Un=p.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:yu,emailVerified:Od,isAnonymous:Fh,providerData:bl,stsTokenManager:Nd}=p;ye(yu&&Nd,h,"internal-error");const ja=O.fromJSON(this.name,Nd);ye("string"==typeof yu,h,"internal-error"),x(Pr,h.name),x(Is,h.name),ye("boolean"==typeof Od,h,"internal-error"),ye("boolean"==typeof Fh,h,"internal-error"),x(Ua,h.name),x(Ba,h.name),x(nc,h.name),x(mu,h.name),x(xd,h.name),x(_u,h.name);const vu=new ae({uid:yu,auth:h,email:Is,emailVerified:Od,displayName:Pr,isAnonymous:Fh,photoURL:Ba,phoneNumber:Ua,tenantId:nc,stsTokenManager:ja,createdAt:xd,lastLoginAt:_u});return bl&&Array.isArray(bl)&&(vu.providerData=bl.map(Dl=>Object.assign({},Dl))),mu&&(vu._redirectEventId=mu),vu}static _fromIdTokenResponse(h,p,w=!1){return(0,l.Z)(function*(){const z=new O;z.updateFromServerResponse(p);const ne=new ae({uid:p.localId,auth:h,stsTokenManager:z,isAnonymous:w});return yield X(ne),ne})()}static _fromGetAccountInfoResponse(h,p,w){return(0,l.Z)(function*(){const z=p.users[0];ye(void 0!==z.localId,"internal-error");const ne=void 0!==z.providerUserInfo?mr(z.providerUserInfo):[],Ne=!(z.email&&z.passwordHash||ne?.length),ut=new O;ut.updateFromIdToken(w);const Ft=new ae({uid:z.localId,auth:h,stsTokenManager:ut,isAnonymous:Ne}),In={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:ne,metadata:new dt(z.createdAt,z.lastLoginAt),isAnonymous:!(z.email&&z.passwordHash||ne?.length)};return Object.assign(Ft,In),Ft})()}}const xe=new Map;function ft(v){Xt(v instanceof Function,"Expected a class definition");let h=xe.get(v);return h?(Xt(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,xe.set(v,h),h)}const on=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,w){var z=this;return(0,l.Z)(function*(){z.storage[p]=w})()}_get(p){var w=this;return(0,l.Z)(function*(){const z=w.storage[p];return void 0===z?null:z})()}_remove(p){var w=this;return(0,l.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return v.type="NONE",v})();function Zt(v,h,p){return`firebase:${v}:${h}:${p}`}class Jt{constructor(h,p,w){this.persistence=h,this.auth=p,this.userKey=w;const{config:z,name:ne}=this.auth;this.fullUserKey=Zt(this.userKey,z.apiKey,ne),this.fullPersistenceKey=Zt("persistence",z.apiKey,ne),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?ae._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,l.Z)(function*(){if(p.persistence===h)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,w="authUser"){return(0,l.Z)(function*(){if(!p.length)return new Jt(ft(on),h,w);const z=(yield Promise.all(p.map(function(){var In=(0,l.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return In.apply(this,arguments)}}()))).filter(In=>In);let ne=z[0]||ft(on);const Ne=Zt(w,h.config.apiKey,h.name);let ut=null;for(const In of p)try{const Un=yield In._get(Ne);if(Un){const Pr=ae._fromJSON(h,Un);In!==ne&&(ut=Pr),ne=In;break}}catch{}const Ft=z.filter(In=>In._shouldAllowMigration);return ne._shouldAllowMigration&&Ft.length?(ne=Ft[0],ut&&(yield ne._set(Ne,ut.toJSON())),yield Promise.all(p.map(function(){var In=(0,l.Z)(function*(Un){if(Un!==ne)try{yield Un._remove(Ne)}catch{}});return function(Un){return In.apply(this,arguments)}}())),new Jt(ne,h,w)):new Jt(ne,h,w)})()}}function zn(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ai(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(vn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Qi(h))return"Blackberry";if(Gi(h))return"Webos";if(Gn(h))return"Safari";if((h.includes("chrome/")||Li(h))&&!h.includes("edge/"))return"Chrome";if(zr(h))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function vn(v=(0,H.z$)()){return/firefox\//i.test(v)}function Gn(v=(0,H.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Li(v=(0,H.z$)()){return/crios\//i.test(v)}function Ai(v=(0,H.z$)()){return/iemobile/i.test(v)}function zr(v=(0,H.z$)()){return/android/i.test(v)}function Qi(v=(0,H.z$)()){return/blackberry/i.test(v)}function Gi(v=(0,H.z$)()){return/webos/i.test(v)}function kr(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Wn(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function It(v=(0,H.z$)()){return kr(v)||zr(v)||Gi(v)||Qi(v)||/windows phone/i.test(v)||Ai(v)}function bn(v,h=[]){let p;switch(v){case"Browser":p=zn((0,H.z$)());break;case"Worker":p=`${zn((0,H.z$)())}-${v}`;break;default:p=v}const w=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${_.SDK_VERSION}/${w}`}class Pn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const w=ne=>new Promise((Ne,ut)=>{try{Ne(h(ne))}catch(Ft){ut(Ft)}});w.onAbort=p,this.queue.push(w);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,l.Z)(function*(){if(p.auth.currentUser===h)return;const w=[];try{for(const z of p.queue)yield z(h),z.onAbort&&w.push(z.onAbort)}catch(z){w.reverse();for(const ne of w)try{ne()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}function vr(){return(vr=(0,l.Z)(function*(v,h={}){return Fe(v,"GET","/v2/passwordPolicy",Ie(v,h))})).apply(this,arguments)}class di{constructor(h){var p,w,z,ne;const Ne=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ne.minPasswordLength)&&void 0!==p?p:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(z=null===(w=h.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==z?z:"",this.forceUpgradeOnSignin=null!==(ne=h.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,w,z,ne,Ne,ut;const Ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Ft),this.validatePasswordCharacterOptions(h,Ft),Ft.isValid&&(Ft.isValid=null===(p=Ft.meetsMinPasswordLength)||void 0===p||p),Ft.isValid&&(Ft.isValid=null===(w=Ft.meetsMaxPasswordLength)||void 0===w||w),Ft.isValid&&(Ft.isValid=null===(z=Ft.containsLowercaseLetter)||void 0===z||z),Ft.isValid&&(Ft.isValid=null===(ne=Ft.containsUppercaseLetter)||void 0===ne||ne),Ft.isValid&&(Ft.isValid=null===(Ne=Ft.containsNumericCharacter)||void 0===Ne||Ne),Ft.isValid&&(Ft.isValid=null===(ut=Ft.containsNonAlphanumericCharacter)||void 0===ut||ut),Ft}validatePasswordLengthOptions(h,p){const w=this.customStrengthOptions.minPasswordLength,z=this.customStrengthOptions.maxPasswordLength;w&&(p.meetsMinPasswordLength=h.length>=w),z&&(p.meetsMaxPasswordLength=h.length<=z)}validatePasswordCharacterOptions(h,p){let w;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let z=0;z<h.length;z++)w=h.charAt(z),this.updatePasswordCharacterOptionsStatuses(p,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,p,w,z,ne){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ne))}}class uo{constructor(h,p,w,z){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=w,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vo(this),this.idTokenSubscription=new Vo(this),this.beforeStateQueue=new Pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(h,p){var w=this;return p&&(this._popupRedirectResolver=ft(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var z,ne;if(!w._deleted&&(w.persistenceManager=yield Jt.create(w,h),!w._deleted)){if(null!==(z=w._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(ne=w.currentUser)||void 0===ne?void 0:ne.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,l.Z)(function*(){try{const w=yield rr(p,{idToken:h}),z=yield ae._fromGetAccountInfoResponse(p,w,h);yield p.directlySetCurrentUser(z)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,l.Z)(function*(){var w;if((0,_._isFirebaseServerApp)(p.app)){const ut=p.app.settings.authIdToken;return ut?new Promise(Ft=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(ut).then(Ft,Ft))}):p.directlySetCurrentUser(null)}const z=yield p.assertedPersistence.getCurrentUser();let ne=z,Ne=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ut=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,Ft=ne?._redirectEventId,In=yield p.tryRedirectSignIn(h);(!ut||ut===Ft)&&In?.user&&(ne=In.user,Ne=!0)}if(!ne)return p.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Ne)try{yield p.beforeStateQueue.runMiddleware(ne)}catch(ut){ne=z,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ut))}return ne?p.reloadAndSetCurrentUserOrClear(ne):p.directlySetCurrentUser(null)}return ye(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ne._redirectEventId?p.directlySetCurrentUser(ne):p.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var p=this;return(0,l.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,l.Z)(function*(){try{yield X(h)}catch(w){if("auth/network-request-failed"!==w?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function tt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,l.Z)(function*(){if((0,_._isFirebaseServerApp)(p.app))return Promise.reject(Ye(p));const w=h?(0,H.m9)(h):null;return w&&ye(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(h,p=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return h&&ye(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return(0,_._isFirebaseServerApp)(h.app)?Promise.reject(Ye(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,_._isFirebaseServerApp)(this.app)?Promise.reject(Ye(this)):this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(ft(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,l.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const w=p._getPasswordPolicyInternal();return w.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,l.Z)(function*(){const p=yield function dn(v){return vr.apply(this,arguments)}(h),w=new di(p);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new H.LL("auth","Firebase",h())}onAuthStateChanged(h,p,w){return this.registerStateListener(this.authStateSubscription,h,p,w)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,w){return this.registerStateListener(this.idTokenSubscription,h,p,w)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,l.Z)(function*(){if(p.currentUser){const w=yield p.currentUser.getIdToken(),z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:w};null!=p.tenantId&&(z.tenantId=p.tenantId),yield function K(v,h){return V.apply(this,arguments)}(p,z)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var w=this;return(0,l.Z)(function*(){const z=yield w.getOrInitRedirectPersistenceManager(p);return null===h?z.removeCurrentUser():z.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const w=h&&ft(h)||p._popupRedirectResolver;ye(w,p,"argument-error"),p.redirectPersistenceManager=yield Jt.create(p,[ft(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,l.Z)(function*(){var w,z;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===h?p._currentUser:(null===(z=p.redirectUser)||void 0===z?void 0:z._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,l.Z)(function*(){if(h===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,w,z){if(this._deleted)return()=>{};const ne="function"==typeof p?p:p.next.bind(p);let Ne=!1;const ut=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(ut,this,"internal-error"),ut.then(()=>{Ne||ne(this.currentUser)}),"function"==typeof p){const Ft=h.addObserver(p,w,z);return()=>{Ne=!0,Ft()}}{const Ft=h.addObserver(p);return()=>{Ne=!0,Ft()}}}directlySetCurrentUser(h){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var p;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const z=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();z&&(w["X-Firebase-Client"]=z);const ne=yield h._getAppCheckToken();return ne&&(w["X-Firebase-AppCheck"]=ne),w})()}_getAppCheckToken(){var h=this;return(0,l.Z)(function*(){var p;const w=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return w?.error&&function sn(v,...h){wt.logLevel<=Te.in.WARN&&wt.warn(`Auth (${_.SDK_VERSION}): ${v}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function lr(v){return(0,H.m9)(v)}class Vo{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,H.ne)(p=>this.observer=p)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ai={loadJS:()=>(0,l.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qr(v){return ai.loadJS(v)}function yi(v){return`__${v}${Math.floor(1e6*Math.random())}`}class _r{constructor(h){this.type="recaptcha-enterprise",this.auth=lr(h)}verify(h="verify",p=!1){var w=this;return(0,l.Z)(function*(){function ne(){return ne=(0,l.Z)(function*(ut){if(!p){if(null==ut.tenantId&&null!=ut._agentRecaptchaConfig)return ut._agentRecaptchaConfig.siteKey;if(null!=ut.tenantId&&void 0!==ut._tenantRecaptchaConfigs[ut.tenantId])return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(function(){var Ft=(0,l.Z)(function*(In,Un){sr(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pr=>{if(void 0!==Pr.recaptchaKey){const Is=new xt(Pr);return null==ut.tenantId?ut._agentRecaptchaConfig=Is:ut._tenantRecaptchaConfigs[ut.tenantId]=Is,In(Is.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(Pr=>{Un(Pr)})});return function(In,Un){return Ft.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Ne(ut,Ft,In){const Un=window.grecaptcha;Vt(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(ut,{action:h}).then(Pr=>{Ft(Pr)}).catch(()=>{Ft("NO_RECAPTCHA")})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,Ft)=>{(function z(ut){return ne.apply(this,arguments)})(w.auth).then(In=>{if(!p&&Vt(window.grecaptcha))Ne(In,ut,Ft);else{if(typeof window>"u")return void Ft(new Error("RecaptchaVerifier is only supported in browser"));let Un=function Ji(){return ai.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=In),qr(Un).then(()=>{Ne(In,ut,Ft)}).catch(Pr=>{Ft(Pr)})}}).catch(In=>{Ft(In)})})})()}}function pr(v,h,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(v,h,p,w=!1){const z=new _r(v);let ne;try{ne=yield z.verify(p)}catch{ne=yield z.verify(p,!0)}const Ne=Object.assign({},h);return Object.assign(Ne,w?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function Mi(v,h,p,w){return vi.apply(this,arguments)}function vi(){return vi=(0,l.Z)(function*(v,h,p,w){var z;if(null!==(z=v._getRecaptchaConfig())&&void 0!==z&&z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield pr(v,h,p,"getOobCode"===p);return w(v,ne)}return w(v,h).catch(function(){var ne=(0,l.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ut=yield pr(v,h,p,"getOobCode"===p);return w(v,ut)}return Promise.reject(Ne)});return function(Ne){return ne.apply(this,arguments)}}())}),vi.apply(this,arguments)}function Xi(v,h,p){const w=lr(v);ye(w._canInitEmulator,w,"emulator-config-failed"),ye(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const z=!!p?.disableWarnings,ne=Gr(h),{host:Ne,port:ut}=function Ui(v){const h=Gr(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(w);if(z){const ne=z[1];return{host:ne,port:vo(w.substr(ne.length+1))}}{const[ne,Ne]=w.split(":");return{host:ne,port:vo(Ne)}}}(h);w.config.emulator={url:`${ne}//${Ne}${null===ut?"":`:${ut}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ne,port:ut,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Bi(){function v(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Gr(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function vo(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class Tr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ht("not implemented")}_getIdTokenResponse(h){return Ht("not implemented")}_linkToIdToken(h,p){return Ht("not implemented")}_getReauthenticationResolver(h){return Ht("not implemented")}}function ro(v,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:resetPassword",Ie(v,h))})).apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ei(v,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:update",Ie(v,h))})).apply(this,arguments)}function Io(v,h){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPassword",Ie(v,h))})).apply(this,arguments)}function Wi(v,h){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:sendOobCode",Ie(v,h))})).apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,h){return Wi(v,h)})).apply(this,arguments)}function Qn(v,h){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(v,h){return Wi(v,h)})).apply(this,arguments)}function Ro(v,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(v,h){return Wi(v,h)})).apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(v,h){return Wi(v,h)})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,h))})).apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,h))})).apply(this,arguments)}class jr extends Tr{constructor(h,p,w,z=null){super("password",w),this._email=h,this._password=p,this._tenantId=z}static _fromEmailAndPassword(h,p){return new jr(h,p,"password")}static _fromEmailAndCode(h,p,w=null){return new jr(h,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,l.Z)(function*(){switch(p.signInMethod){case"password":return Mi(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Io);case"emailLink":return function co(v,h){return lo.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Le(h,"internal-error")}})()}_linkToIdToken(h,p){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Mi(h,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ei);case"emailLink":return function kn(v,h){return Ri.apply(this,arguments)}(h,{idToken:p,email:w._email,oobCode:w._password});default:Le(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function q(v,h){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithIdp",Ie(v,h))})).apply(this,arguments)}class we extends Tr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new we(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Le("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:z}=p,ne=(0,me._T)(p,["providerId","signInMethod"]);if(!w||!z)return null;const Ne=new we(w,z);return Ne.idToken=ne.idToken||void 0,Ne.accessToken=ne.accessToken||void 0,Ne.secret=ne.secret,Ne.nonce=ne.nonce,Ne.pendingToken=ne.pendingToken||null,Ne}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,q(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,H.xO)(p)}return h}}function gt(){return(gt=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:sendVerificationCode",Ie(v,h))})).apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,h))})).apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(v,h){const p=yield qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,h));if(p.temporaryProof)throw En(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Zn={USER_NOT_FOUND:"user-not-found"};function Jr(){return(Jr=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Zn)})).apply(this,arguments)}class $r extends Tr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new $r({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new $r({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Gt(v,h){return hn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function St(v,h){return un.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function wn(v,h){return Jr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:w,verificationCode:z}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:w,code:z}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:w,phoneNumber:z,temporaryProof:ne}=h;return w||p||z||ne?new $r({verificationId:p,verificationCode:w,phoneNumber:z,temporaryProof:ne}):null}}class Fr{constructor(h){var p,w,z,ne,Ne,ut;const Ft=(0,H.zd)((0,H.pd)(h)),In=null!==(p=Ft.apiKey)&&void 0!==p?p:null,Un=null!==(w=Ft.oobCode)&&void 0!==w?w:null,Pr=function Xr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=Ft.mode)&&void 0!==z?z:null);ye(In&&Un&&Pr,"argument-error"),this.apiKey=In,this.operation=Pr,this.code=Un,this.continueUrl=null!==(ne=Ft.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Ne=Ft.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(ut=Ft.tenantId)&&void 0!==ut?ut:null}static parseLink(h){const p=function Kr(v){const h=(0,H.zd)((0,H.pd)(v)).link,p=h?(0,H.zd)((0,H.pd)(h)).deep_link_id:null,w=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(w?(0,H.zd)((0,H.pd)(w)).link:null)||w||p||h||v}(h);try{return new Fr(p)}catch{return null}}}let xi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,w){return jr._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const z=Fr.parseLink(w);return ye(z,"argument-error"),jr._fromEmailAndCode(p,z.code,z.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Jn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ci extends Jn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Hr extends ci{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return ye("providerId"in p&&"signInMethod"in p,"argument-error"),we._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ye(h.idToken||h.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Hr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Hr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:z,pendingToken:ne,nonce:Ne,providerId:ut}=h;if(!w&&!z&&!p&&!ne||!ut)return null;try{return new Hr(ut)._credential({idToken:p,accessToken:w,nonce:Ne,pendingToken:ne})}catch{return null}}}let Ir=(()=>{class v extends ci{constructor(){super("facebook.com")}static credential(p){return we._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),zo=(()=>{class v extends ci{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return we._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:z}=p;if(!w&&!z)return null;try{return v.credential(w,z)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Oi=(()=>{class v extends ci{constructor(){super("github.com")}static credential(p){return we._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class qi extends Tr{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,q(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:z,pendingToken:ne}=p;return w&&z&&ne&&w===z?new qi(w,ne):null}static _create(h,p){return new qi(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ho extends Jn{constructor(h){ye(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ho.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ho.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=qi.fromJSON(h);return ye(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:w}=h;if(!p||!w)return null;try{return qi._create(w,p)}catch{return null}}}let Go=(()=>{class v extends ci{constructor(){super("twitter.com")}static credential(p,w){return we._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:z}=p;if(!w||!z)return null;try{return v.credential(w,z)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ua(v,h){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signUp",Ie(v,h))})).apply(this,arguments)}class wi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,w,z=!1){return(0,l.Z)(function*(){const ne=yield ae._fromIdTokenResponse(h,w,z),Ne=fs(w);return new wi({user:ne,providerId:Ne,_tokenResponse:w,operationType:p})})()}static _forOperation(h,p,w){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const z=fs(w);return new wi({user:h,providerId:z,_tokenResponse:w,operationType:p})})()}}function fs(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ps(v){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(v){var h;if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const p=lr(v);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new wi({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield ua(p,{returnSecureToken:!0}),z=yield wi._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(z.user),z})).apply(this,arguments)}class br extends H.ZR{constructor(h,p,w,z){var ne;super(p.code,p.message),this.operationType=w,this.user=z,Object.setPrototypeOf(this,br.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,p,w,z){return new br(h,p,w,z)}}function Ds(v,h,p,w){return("reauthenticate"===h?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?br._fromErrorAndOperation(v,ne,h,w):ne})}function ca(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function U(v,h){return G.apply(this,arguments)}function G(){return G=(0,l.Z)(function*(v,h){const p=(0,H.m9)(v);yield Pe(!0,p,h);const{providerUserInfo:w}=yield function Cn(v,h){return gn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),z=ca(w||[]);return p.providerData=p.providerData.filter(ne=>z.has(ne.providerId)),z.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),G.apply(this,arguments)}function P(v,h){return te.apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(v,h,p=!1){const w=yield tr(v,h._linkToIdToken(v.auth,yield v.getIdToken()),p);return wi._forOperation(v,"link",w)})).apply(this,arguments)}function Pe(v,h,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(v,h,p){yield X(h);const z=!1===v?"provider-already-linked":"no-such-provider";ye(ca(h.providerData).has(p)===v,h.auth,z)})).apply(this,arguments)}function Ln(v,h){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(v,h,p=!1){const{auth:w}=v;if((0,_._isFirebaseServerApp)(w.app))return Promise.reject(Ye(w));const z="reauthenticate";try{const ne=yield tr(v,Ds(w,z,h,v),p);ye(ne.idToken,w,"internal-error");const Ne=Or(ne.idToken);ye(Ne,w,"internal-error");const{sub:ut}=Ne;return ye(v.uid===ut,w,"user-mismatch"),wi._forOperation(v,z,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&Le(w,"user-mismatch"),ne}})).apply(this,arguments)}function eo(v,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(v,h,p=!1){if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w="signIn",z=yield Ds(v,w,h),ne=yield wi._fromIdTokenResponse(v,w,z);return p||(yield v._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function ts(v,h){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(v,h){return eo(lr(v),h)})).apply(this,arguments)}function Co(v,h){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(v,h){const p=(0,H.m9)(v);return yield Pe(!1,p,h.providerId),P(p,h)})).apply(this,arguments)}function _c(v,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(v,h){return Ln((0,H.m9)(v),h)})).apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithCustomToken",Ie(v,h))})).apply(this,arguments)}function Qa(v,h){return wo.apply(this,arguments)}function wo(){return wo=(0,l.Z)(function*(v,h){if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const p=lr(v),w=yield function Ls(v,h){return Fi.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),z=yield wi._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(z.user),z}),wo.apply(this,arguments)}class As{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?xo._fromServerResponse(h,p):"totpInfo"in p?Gs._fromServerResponse(h,p):Le(h,"internal-error")}}class xo extends As{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new xo(p)}}class Gs extends As{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Gs(p)}}function ns(v,h,p){var w;ye((null===(w=p.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),ye(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ye(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ye(p.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Kn(v){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(v){const h=lr(v);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Vs(v,h,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(v,h,p){const w=lr(v),z={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&ns(w,z,p),yield Mi(w,z,"getOobCode",Qn)})).apply(this,arguments)}function qs(v,h,p){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,l.Z)(function*(v,h,p){yield ro((0,H.m9)(v),{oobCode:h,newPassword:p}).catch(function(){var w=(0,l.Z)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&Kn(v),z});return function(z){return w.apply(this,arguments)}}())}),Bs.apply(this,arguments)}function To(v,h){return rs.apply(this,arguments)}function rs(){return rs=(0,l.Z)(function*(v,h){yield function Eo(v,h){return ji.apply(this,arguments)}((0,H.m9)(v),{oobCode:h})}),rs.apply(this,arguments)}function la(v,h){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(v,h){const p=(0,H.m9)(v),w=yield ro(p,{oobCode:h}),z=w.requestType;switch(ye(z,p,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(w.mfaInfo,p,"internal-error");default:ye(w.email,p,"internal-error")}let ne=null;return w.mfaInfo&&(ne=As._fromServerResponse(lr(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:ne},operation:z}})).apply(this,arguments)}function Zs(v,h){return gs.apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(v,h){const{data:p}=yield la((0,H.m9)(v),h);return p.email})).apply(this,arguments)}function Ks(v,h,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(v,h,p){if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),Ne=yield Mi(w,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ua).catch(Ft=>{throw"auth/password-does-not-meet-requirements"===Ft.code&&Kn(v),Ft}),ut=yield wi._fromIdTokenResponse(w,"signIn",Ne);return yield w._updateCurrentUser(ut.user),ut})).apply(this,arguments)}function yc(v,h,p){return(0,_._isFirebaseServerApp)(v.app)?Promise.reject(Ye(v)):ts((0,H.m9)(v),xi.credential(h,p)).catch(function(){var w=(0,l.Z)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&Kn(v),z});return function(z){return w.apply(this,arguments)}}())}function js(v,h,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(v,h,p){const w=lr(v),z={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ne(Ne,ut){ye(ut.handleCodeInApp,w,"argument-error"),ut&&ns(w,Ne,ut)})(z,p),yield Mi(w,z,"getOobCode",Ro)})).apply(this,arguments)}function Fu(v,h){const p=Fr.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}function $s(v,h,p){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(v,h,p){if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=(0,H.m9)(v),z=xi.credentialWithLink(h,p||xn());return ye(z._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ts(w,z)})).apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:createAuthUri",Ie(v,h))})).apply(this,arguments)}function b(v,h){return Z.apply(this,arguments)}function Z(){return Z=(0,l.Z)(function*(v,h){const w={identifier:h,continueUri:Et()?xn():"http://localhost"},{signinMethods:z}=yield function Xa(v,h){return ei.apply(this,arguments)}((0,H.m9)(v),w);return z||[]}),Z.apply(this,arguments)}function N(v,h){return W.apply(this,arguments)}function W(){return W=(0,l.Z)(function*(v,h){const p=(0,H.m9)(v),z={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&ns(p.auth,z,h);const{email:ne}=yield function Qt(v,h){return Fn.apply(this,arguments)}(p.auth,z);ne!==v.email&&(yield v.reload())}),W.apply(this,arguments)}function ve(v,h,p){return lt.apply(this,arguments)}function lt(){return lt=(0,l.Z)(function*(v,h,p){const w=(0,H.m9)(v),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};p&&ns(w.auth,ne,p);const{email:Ne}=yield function io(v,h){return Ar.apply(this,arguments)}(w.auth,ne);Ne!==v.email&&(yield v.reload())}),lt.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(v,h){return Fe(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gr(v,h){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,l.Z)(function*(v,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const w=(0,H.m9)(v),ne={idToken:yield w.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},Ne=yield tr(w,function bt(v,h){return mn.apply(this,arguments)}(w.auth,ne));w.displayName=Ne.displayName||null,w.photoURL=Ne.photoUrl||null;const ut=w.providerData.find(({providerId:Ft})=>"password"===Ft);ut&&(ut.displayName=w.displayName,ut.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Ne)}),Dr.apply(this,arguments)}function Sr(v,h){const p=(0,H.m9)(v);return(0,_._isFirebaseServerApp)(p.auth.app)?Promise.reject(Ye(p.auth)):Yr(p,h,null)}function ir(v,h){return Yr((0,H.m9)(v),null,h)}function Yr(v,h,p){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,l.Z)(function*(v,h,p){const{auth:w}=v,ne={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),p&&(ne.password=p);const Ne=yield tr(v,function Wr(v,h){return Qr.apply(this,arguments)}(w,ne));yield v._updateTokensIfNecessary(Ne,!0)}),Vr.apply(this,arguments)}class Zi{constructor(h,p,w={}){this.isNewUser=h,this.providerId=p,this.profile=w}}class go extends Zi{constructor(h,p,w,z){super(h,p,w),this.username=z}}class Ss extends Zi{constructor(h,p){super(h,"facebook.com",p)}}class bo extends go{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class ti extends Zi{constructor(h,p){super(h,"google.com",p)}}class Hn extends go{constructor(h,p,w){super(h,"twitter.com",p,w)}}function Bo(v){const{user:h,_tokenResponse:p}=v;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function pi(v){var h,p;if(!v)return null;const{providerId:w}=v,z=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},ne=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const Ne=null===(p=null===(h=Or(v.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(Ne)return new Zi(ne,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!w)return null;switch(w){case"facebook.com":return new Ss(ne,z);case"github.com":return new bo(ne,z);case"google.com":return new ti(ne,z);case"twitter.com":return new Hn(ne,z,v.screenName||null);case"custom":case"anonymous":return new Zi(ne,null);default:return new Zi(ne,w,z)}}(p)}class _s{constructor(h,p,w){this.type=h,this.credential=p,this.user=w}static _fromIdtoken(h,p){return new _s("enroll",h,p)}static _fromMfaPendingCredential(h){return new _s("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,w;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return _s._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return _s._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ru{constructor(h,p,w){this.session=h,this.hints=p,this.signInResolver=w}static _fromError(h,p){const w=lr(h),z=p.customData._serverResponse,ne=(z.mfaInfo||[]).map(ut=>As._fromServerResponse(w,ut));ye(z.mfaPendingCredential,w,"internal-error");const Ne=_s._fromMfaPendingCredential(z.mfaPendingCredential);return new ru(Ne,ne,function(){var ut=(0,l.Z)(function*(Ft){const In=yield Ft._process(w,Ne);delete z.mfaInfo,delete z.mfaPendingCredential;const Un=Object.assign(Object.assign({},z),{idToken:In.idToken,refreshToken:In.refreshToken});switch(p.operationType){case"signIn":const Pr=yield wi._fromIdTokenResponse(w,p.operationType,Un);return yield w._updateCurrentUser(Pr.user),Pr;case"reauthenticate":return ye(p.user,w,"internal-error"),wi._forOperation(p.user,p.operationType,Un);default:Le(w,"internal-error")}});return function(Ft){return ut.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,l.Z)(function*(){return p.signInResolver(h)})()}}function Ic(v,h){var p;const w=(0,H.m9)(v),z=h;return ye(h.customData.operationType,w,"argument-error"),ye(null===(p=z.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),ru._fromError(w,z)}class Sa{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>As._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new Sa(h)}getSession(){var h=this;return(0,l.Z)(function*(){return _s._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var w=this;return(0,l.Z)(function*(){const z=h,ne=yield w.getSession(),Ne=yield tr(w.user,z._process(w.user.auth,ne,p));return yield w.user._updateTokensIfNecessary(Ne),w.user.reload()})()}unenroll(h){var p=this;return(0,l.Z)(function*(){const w="string"==typeof h?h:h.uid,z=yield p.user.getIdToken();try{const ne=yield tr(p.user,function fl(v,h){return Fe(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(v,h))}(p.user.auth,{idToken:z,mfaEnrollmentId:w}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ne})=>Ne!==w),yield p.user._updateTokensIfNecessary(ne),yield p.user.reload()}catch(ne){throw ne}})()}}const mo=new WeakMap;function bc(v){const h=(0,H.m9)(v);return mo.has(h)||mo.set(h,Sa._fromUser(h)),mo.get(h)}const Vu="__sak";class Si{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Vu,"1"),this.storage.removeItem(Vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const os=(()=>{class v extends Si{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xs(){const v=(0,H.z$)();return Gn(v)||kr(v)}()&&function tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=It(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const z=this.storage.getItem(w),ne=this.localCache[w];z!==ne&&p(w,ne,z)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((ut,Ft,In)=>{this.notifyListeners(ut,In)});const z=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(z);if(p.newValue!==ut)null!==p.newValue?this.storage.setItem(z,p.newValue):this.storage.removeItem(z);else if(this.localCache[z]===p.newValue&&!w)return}const ne=()=>{const ut=this.storage.getItem(z);!w&&this.localCache[z]===ut||this.notifyListeners(z,ut)},Ne=this.storage.getItem(z);!function qe(){return(0,H.w1)()&&10===document.documentMode}()||Ne===p.newValue||p.newValue===p.oldValue?ne():setTimeout(ne,10)}notifyListeners(p,w){this.localCache[p]=w;const z=this.listeners[p];if(z)for(const ne of Array.from(z))ne(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var z=()=>super._set,ne=this;return(0,l.Z)(function*(){yield z().call(ne,p,w),ne.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,z=this;return(0,l.Z)(function*(){const ne=yield w().call(z,p);return z.localCache[p]=JSON.stringify(ne),ne})()}_remove(p){var w=()=>super._remove,z=this;return(0,l.Z)(function*(){yield w().call(z,p),delete z.localCache[p]})()}}return v.type="LOCAL",v})(),Nt=(()=>{class v extends Si{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return v.type="SESSION",v})();let Bu=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(ne=>ne.isListeningto(p));if(w)return w;const z=new v(p);return this.receivers.push(z),z}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,l.Z)(function*(){const z=p,{eventId:ne,eventType:Ne,data:ut}=z.data,Ft=w.handlersMap[Ne];if(!Ft?.size)return;z.ports[0].postMessage({status:"ack",eventId:ne,eventType:Ne});const In=Array.from(Ft).map(function(){var Pr=(0,l.Z)(function*(Is){return Is(z.origin,ut)});return function(Is){return Pr.apply(this,arguments)}}()),Un=yield function Cr(v){return Promise.all(v.map(function(){var h=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return h.apply(this,arguments)}}()))}(In);z.ports[0].postMessage({status:"done",eventId:ne,eventType:Ne,response:Un})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function fa(v="",h=10){let p="";for(let w=0;w<h;w++)p+=Math.floor(10*Math.random());return v+p}class oo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,w=50){var z=this;return(0,l.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Ne,ut;return new Promise((Ft,In)=>{const Un=fa("",20);ne.port1.start();const Pr=setTimeout(()=>{In(new Error("unsupported_event"))},w);ut={messageChannel:ne,onMessage(Is){const Ua=Is;if(Ua.data.eventId===Un)switch(Ua.data.status){case"ack":clearTimeout(Pr),Ne=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Ft(Ua.data.response);break;default:clearTimeout(Pr),clearTimeout(Ne),In(new Error("invalid_response"))}}},z.handlers.add(ut),ne.port1.addEventListener("message",ut.onMessage),z.target.postMessage({eventType:h,eventId:Un,data:p},[ne.port2])}).finally(()=>{ut&&z.removeMessageHandler(ut)})})()}}function Hi(){return window}function Ao(){return typeof Hi().WorkerGlobalScope<"u"&&"function"==typeof Hi().importScripts}function Ma(){return(Ma=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ou="firebaseLocalStorageDb",Wo="firebaseLocalStorage",su="fbase_key";class ss{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Oo(v,h){return v.transaction([Wo],h?"readwrite":"readonly").objectStore(Wo)}function as(){const v=indexedDB.open(ou,1);return new Promise((h,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Wo,{keyPath:su})}catch(z){p(z)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Wo)?h(w):(w.close(),yield function Ac(){const v=indexedDB.deleteDatabase(ou);return new ss(v).toPromise()}(),h(yield as()))}))})}function Ms(v,h,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(v,h,p){const w=Oo(v,!0).put({[su]:h,value:p});return new ss(w).toPromise()})).apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(v,h){const p=Oo(v,!1).get(h),w=yield new ss(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function jo(v,h){const p=Oo(v,!0).delete(h);return new ss(p).toPromise()}const S=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield as()),p.db})()}_withRetries(p){var w=this;return(0,l.Z)(function*(){let z=0;for(;;)try{const ne=yield w._openDb();return yield p(ne)}catch(ne){if(z++>3)throw ne;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return Ao()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=Bu._getInstance(function ju(){return Ao()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(z,ne){return{keyProcessed:(yield p._poll()).includes(ne.key)}});return function(z,ne){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(z,ne){return["keyChanged"]});return function(z,ne){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var w,z;if(p.activeServiceWorker=yield function pa(){return Ma.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new oo(p.activeServiceWorker);const ne=yield p.sender._send("ping",{},800);ne&&null!==(w=ne[0])&&void 0!==w&&w.fulfilled&&null!==(z=ne[0])&&void 0!==z&&z.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Dc(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield as();return yield Ms(p,Vu,"1"),yield jo(p,Vu),!0}catch{}return!1})()}_withPendingWrite(p){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var z=this;return(0,l.Z)(function*(){return z._withPendingWrite((0,l.Z)(function*(){return yield z._withRetries(ne=>Ms(ne,p,w)),z.localCache[p]=w,z.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,l.Z)(function*(){const z=yield w._withRetries(ne=>function $u(v,h){return xa.apply(this,arguments)}(ne,p));return w.localCache[p]=z,z})()}_remove(p){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(z=>jo(z,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const w=yield p._withRetries(Ne=>{const ut=Oo(Ne,!1).getAll();return new ss(ut).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const z=[],ne=new Set;if(0!==w.length)for(const{fbase_key:Ne,value:ut}of w)ne.add(Ne),JSON.stringify(p.localCache[Ne])!==JSON.stringify(ut)&&(p.notifyListeners(Ne,ut),z.push(Ne));for(const Ne of Object.keys(p.localCache))p.localCache[Ne]&&!ne.has(Ne)&&(p.notifyListeners(Ne,null),z.push(Ne));return z})()}notifyListeners(p,w){this.localCache[p]=w;const z=this.listeners[p];if(z)for(const ne of Array.from(z))ne(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ln=1e12;class Xn{constructor(h){this.auth=h,this.counter=ln,this._widgets=new Map}render(h,p){const w=this.counter;return this._widgets.set(w,new ar(h,this.auth.name,p||{})),this.counter++,w}reset(h){var p;const w=h||ln;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(h){var p;return(null===(p=this._widgets.get(h||ln))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,l.Z)(function*(){var w;return null===(w=p._widgets.get(h||ln))||void 0===w||w.execute(),""})()}}class ar{constructor(h,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof h?document.getElementById(h):h;ye(z,"argument-error",{appName:p}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dr(v){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ur=yi("rcb"),ea=new le(3e4,6e4);class ga{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Hi().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return ye(function ma(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&On(Hi().grecaptcha)?Promise.resolve(Hi().grecaptcha):new Promise((w,z)=>{const ne=Hi().setTimeout(()=>{z(Xe(h,"network-request-failed"))},ea.get());Hi()[Ur]=()=>{Hi().clearTimeout(ne),delete Hi()[Ur];const ut=Hi().grecaptcha;if(!ut||!On(ut))return void z(Xe(h,"internal-error"));const Ft=ut.render;ut.render=(In,Un)=>{const Pr=Ft(In,Un);return this.counter++,Pr},this.hostLanguage=p,w(ut)},qr(`${function ws(){return ai.recaptchaV2Script}()}?${(0,H.xO)({onload:Ur,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ne),z(Xe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Hi().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ys{load(h){return(0,l.Z)(function*(){return new Xn(h)})()}clearedOneInstance(){}}const Rs="recaptcha",yd={theme:"light",type:"image"};class Hu{constructor(h,p,w=Object.assign({},yd)){this.parameters=w,this.type=Rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(h),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof p?document.getElementById(p):p;ye(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ys:new ga,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(p)||new Promise(ne=>{const Ne=ut=>{ut&&(h.tokenChangeListeners.delete(Ne),ne(ut))};h.tokenChangeListeners.add(Ne),h.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof h)h(p);else if("string"==typeof h){const w=Hi()[h];"function"==typeof w&&w(p)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){ye(Et()&&!Ao(),h.auth,"internal-error"),yield function _a(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function wr(v){return rn.apply(this,arguments)}(h.auth);ye(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gl{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=$r._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function zu(v,h,p){return oe.apply(this,arguments)}function oe(){return(oe=(0,l.Z)(function*(v,h,p){if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),z=yield zt(w,h,(0,H.m9)(p));return new gl(z,ne=>ts(w,ne))})).apply(this,arguments)}function fe(v,h,p){return Q.apply(this,arguments)}function Q(){return(Q=(0,l.Z)(function*(v,h,p){const w=(0,H.m9)(v);yield Pe(!1,w,"phone");const z=yield zt(w.auth,h,(0,H.m9)(p));return new gl(z,ne=>Co(w,ne))})).apply(this,arguments)}function Ce(v,h,p){return ze.apply(this,arguments)}function ze(){return(ze=(0,l.Z)(function*(v,h,p){const w=(0,H.m9)(v);if((0,_._isFirebaseServerApp)(w.auth.app))return Promise.reject(Ye(w.auth));const z=yield zt(w.auth,h,(0,H.m9)(p));return new gl(z,ne=>_c(w,ne))})).apply(this,arguments)}function zt(v,h,p){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,l.Z)(function*(v,h,p){var w;const z=yield p.verify();try{let ne;if(ye("string"==typeof z,v,"argument-error"),ye(p.type===Rs,v,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const Ne=ne.session;if("phoneNumber"in ne)return ye("enroll"===Ne.type,v,"internal-error"),(yield function Cc(v,h){return Fe(v,"POST","/v2/accounts/mfaEnrollment:start",Ie(v,h))}(v,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{ye("signin"===Ne.type,v,"internal-error");const ut=(null===(w=ne.multiFactorHint)||void 0===w?void 0:w.uid)||ne.multiFactorUid;return ye(ut,v,"missing-multi-factor-info"),(yield function F(v,h){return Fe(v,"POST","/v2/accounts/mfaSignIn:start",Ie(v,h))}(v,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield function $e(v,h){return gt.apply(this,arguments)}(v,{phoneNumber:ne.phoneNumber,recaptchaToken:z});return Ne}}finally{p._reset()}}),Yt.apply(this,arguments)}function ii(v,h){return or.apply(this,arguments)}function or(){return(or=(0,l.Z)(function*(v,h){const p=(0,H.m9)(v);if((0,_._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ye(p.auth));yield P(p,h)})).apply(this,arguments)}let qo=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=lr(p)}verifyPhoneNumber(p,w){return zt(this.auth,p,(0,H.m9)(w))}static credential(p,w){return $r._fromVerification(p,w)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:z}=p;return w&&z?$r._fromTokenResponse(w,z):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function So(v,h){return h?ft(h):(ye(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class No extends Tr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return q(h,this._buildIdpRequest())}_linkToIdToken(h,p){return q(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return q(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Zo(v){return eo(v.auth,new No(v),v.bypassAuthState)}function Oa(v){const{auth:h,user:p}=v;return ye(p,h,"internal-error"),Ln(p,new No(v),v.bypassAuthState)}function Gu(v){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(v){const{auth:h,user:p}=v;return ye(p,h,"internal-error"),P(p,new No(v),v.bypassAuthState)})).apply(this,arguments)}class fi{constructor(h,p,w,z,ne=!1){this.auth=h,this.resolver=w,this.user=z,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,l.Z)(function*(w,z){h.pendingPromise={resolve:w,reject:z};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(w,z){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:z,postBody:ne,tenantId:Ne,error:ut,type:Ft}=h;if(ut)return void p.reject(ut);const In={auth:p.auth,requestUri:w,sessionId:z,tenantId:Ne||void 0,postBody:ne||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ft)(In))}catch(Un){p.reject(Un)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Zo;case"linkViaPopup":case"linkViaRedirect":return Gu;case"reauthViaPopup":case"reauthViaRedirect":return Oa;default:Le(this.auth,"internal-error")}}resolve(h){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vs=new le(2e3,1e4);function Wu(v,h,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(v,h,p){if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Xe(v,"operation-not-supported-in-this-environment"));const w=lr(v);_t(v,h,Jn);const z=So(w,p);return new so(w,"signInViaPopup",h,z).executeNotNull()})).apply(this,arguments)}function xs(v,h,p){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(v,h,p){const w=(0,H.m9)(v);if((0,_._isFirebaseServerApp)(w.auth.app))return Promise.reject(Xe(w.auth,"operation-not-supported-in-this-environment"));_t(w.auth,h,Jn);const z=So(w.auth,p);return new so(w.auth,"reauthViaPopup",h,z,w).executeNotNull()})).apply(this,arguments)}function Sc(v,h,p){return qu.apply(this,arguments)}function qu(){return(qu=(0,l.Z)(function*(v,h,p){const w=(0,H.m9)(v);_t(w.auth,h,Jn);const z=So(w.auth,p);return new so(w.auth,"linkViaPopup",h,z,w).executeNotNull()})).apply(this,arguments)}let so=(()=>{class v extends fi{constructor(p,w,z,ne,Ne){super(p,w,ne,Ne),this.provider=z,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const w=yield p.execute();return ye(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,l.Z)(function*(){Xt(1===p.filter.length,"Popup operations only handle one event");const w=fa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(z=>{p.reject(z)}),p.resolver._isIframeWebStorageSupported(p.auth,z=>{z||p.reject(Xe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,z;this.pollId=null!==(z=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,vs.get())};p()}}return v.currentPopupAction=null,v})();const wh="pendingRedirect",ko=new Map;class ml extends fi{constructor(h,p,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,l.Z)(function*(){let w=ko.get(p.auth._key());if(!w){try{const ne=(yield function Pc(v,h){return Os.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;w=()=>Promise.resolve(ne)}catch(z){w=()=>Promise.reject(z)}ko.set(p.auth._key(),w)}return p.bypassAuthState||ko.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(w,h);if("unknown"!==h.type){if(h.eventId){const z=yield w.auth._redirectUserForId(h.eventId);if(z)return w.user=z,p().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Os(){return(Os=(0,l.Z)(function*(v,h){const p=_l(h),w=Na(v);if(!(yield w._isAvailable()))return!1;const z="true"===(yield w._get(p));return yield w._remove(p),z})).apply(this,arguments)}function ya(v,h){return au.apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(v,h){return Na(v)._set(_l(h),"true")})).apply(this,arguments)}function va(){ko.clear()}function Th(v,h){ko.set(v._key(),h)}function Na(v){return ft(v._redirectPersistence)}function _l(v){return Zt(wh,v.config.apiKey,v.name)}function Ea(v,h,p){return function vd(v,h,p){return Ed.apply(this,arguments)}(v,h,p)}function Ed(){return(Ed=(0,l.Z)(function*(v,h,p){if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v);_t(v,h,Jn),yield w._initializationPromise;const z=So(w,p);return yield ya(z,w),z._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function Mc(v,h,p){return function uu(v,h,p){return yl.apply(this,arguments)}(v,h,p)}function yl(){return(yl=(0,l.Z)(function*(v,h,p){const w=(0,H.m9)(v);if(_t(w.auth,h,Jn),(0,_._isFirebaseServerApp)(w.auth.app))return Promise.reject(Ye(w.auth));yield w.auth._initializationPromise;const z=So(w.auth,p);yield ya(z,w.auth);const ne=yield ta(w);return z._openRedirect(w.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function bh(v,h,p){return function Rc(v,h,p){return ka.apply(this,arguments)}(v,h,p)}function ka(){return(ka=(0,l.Z)(function*(v,h,p){const w=(0,H.m9)(v);_t(w.auth,h,Jn),yield w.auth._initializationPromise;const z=So(w.auth,p);yield Pe(!1,w,h.providerId),yield ya(z,w.auth);const ne=yield ta(w);return z._openRedirect(w.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function sp(v,h){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(v,h){return yield lr(v)._initializationPromise,Id(v,h,!1)})).apply(this,arguments)}function Id(v,h){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(v,h,p=!1){if((0,_._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),z=So(w,h),Ne=yield new ml(w,z,p).execute();return Ne&&!p&&(delete Ne.user._redirectEventId,yield w._persistUserIfCurrent(Ne.user),yield w._setRedirectUser(null,h)),Ne})).apply(this,arguments)}function ta(v){return cu.apply(this,arguments)}function cu(){return(cu=(0,l.Z)(function*(v){const h=fa(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class Oc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(p=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Zu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fa(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var w;if(h.error&&!Fa(h)){const z=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(Xe(this.auth,z))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const w=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lu(h))}saveEventToCache(h){this.cachedEventUids.add(lu(h)),this.lastProcessedEventTime=Date.now()}}function lu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function Fa({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function wd(v){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(v,h={}){return Fe(v,"GET","/v1/projects",h)})).apply(this,arguments)}const zi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yg=/^https?/;function Dh(){return(Dh=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield wd(v);for(const p of h)try{if(Qg(p))return}catch{}Le(v,"unauthorized-domain")})).apply(this,arguments)}function Qg(v){const h=xn(),{protocol:p,hostname:w}=new URL(h);if(v.startsWith("chrome-extension://")){const Ne=new URL(v);return""===Ne.hostname&&""===w?"chrome-extension:"===p&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ne.hostname===w}if(!Yg.test(p))return!1;if(zi.test(v))return w===v;const z=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(w)}const Ah=new le(3e4,6e4);function up(){const v=Hi().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Ku=null;const Sh=new le(5e3,15e3),bd="__/auth/iframe",to="emulator/auth/iframe",Nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},La=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dd(v){const h=v.config;ye(h.authDomain,v,"auth-domain-config-required");const p=h.emulator?ie(h,to):`https://${v.config.authDomain}/${bd}`,w={apiKey:h.apiKey,appName:v.name,v:_.SDK_VERSION},z=La.get(v.config.apiHost);z&&(w.eid=z);const ne=v._getFrameworks();return ne.length&&(w.fw=ne.join(",")),`${p}?${(0,H.xO)(w).slice(1)}`}function Va(){return Va=(0,l.Z)(function*(v){const h=yield function Yu(v){return Ku=Ku||function Td(v){return new Promise((h,p)=>{var w,z,ne;function Ne(){up(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{up(),p(Xe(v,"network-request-failed"))},timeout:Ah.get()})}if(null!==(z=null===(w=Hi().gapi)||void 0===w?void 0:w.iframes)&&void 0!==z&&z.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=Hi().gapi)||void 0===ne||!ne.load){const ut=yi("iframefcb");return Hi()[ut]=()=>{gapi.load?Ne():p(Xe(v,"network-request-failed"))},qr(`${function ui(){return ai.gapiScript}()}?onload=${ut}`).catch(Ft=>p(Ft))}Ne()}}).catch(h=>{throw Ku=null,h})}(v),Ku}(v),p=Hi().gapi;return ye(p,v,"internal-error"),h.open({where:document.body,url:Dd(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nc,dontclear:!0},w=>new Promise(function(){var z=(0,l.Z)(function*(ne,Ne){yield w.restyle({setHideOnLeave:!1});const ut=Xe(v,"network-request-failed"),Ft=Hi().setTimeout(()=>{Ne(ut)},Sh.get());function In(){Hi().clearTimeout(Ft),ne(w)}w.ping(In).then(In,()=>{Ne(ut)})});return function(ne,Ne){return z.apply(this,arguments)}}()))}),Va.apply(this,arguments)}const Ad={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const El="__/auth/handler",Ju="emulator/auth/handler",kc=encodeURIComponent("fac");function Ia(v,h,p,w,z,ne){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(v,h,p,w,z,ne){ye(v.config.authDomain,v,"auth-domain-config-required"),ye(v.config.apiKey,v,"invalid-api-key");const Ne={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:w,v:_.SDK_VERSION,eventId:z};if(h instanceof Jn){h.setDefaultLanguage(v.languageCode),Ne.providerId=h.providerId||"",(0,H.xb)(h.getCustomParameters())||(Ne.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Un,Pr]of Object.entries(ne||{}))Ne[Un]=Pr}if(h instanceof ci){const Un=h.getScopes().filter(Pr=>""!==Pr);Un.length>0&&(Ne.scopes=Un.join(","))}v.tenantId&&(Ne.tid=v.tenantId);const ut=Ne;for(const Un of Object.keys(ut))void 0===ut[Un]&&delete ut[Un];const Ft=yield v._getAppCheckToken(),In=Ft?`#${kc}=${encodeURIComponent(Ft)}`:"";return`${function Il({config:v}){return v.emulator?ie(v,Ju):`https://${v.authDomain}/${El}`}(v)}?${(0,H.xO)(ut).slice(1)}${In}`})).apply(this,arguments)}const Cl="webStorageSupport",Sd=class xh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nt,this._completeRedirectFn=Id,this._overrideRedirectResult=Th}_openPopup(h,p,w,z){var ne=this;return(0,l.Z)(function*(){var Ne;Xt(null===(Ne=ne.eventManagers[h._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const ut=yield Ia(h,p,w,xn(),z);return function cp(v,h,p,w=500,z=600){const ne=Math.max((window.screen.availHeight-z)/2,0).toString(),Ne=Math.max((window.screen.availWidth-w)/2,0).toString();let ut="";const Ft=Object.assign(Object.assign({},Ad),{width:w.toString(),height:z.toString(),top:ne,left:Ne}),In=(0,H.z$)().toLowerCase();p&&(ut=Li(In)?"_blank":p),vn(In)&&(h=h||"http://localhost",Ft.scrollbars="yes");const Un=Object.entries(Ft).reduce((Is,[Ua,Ba])=>`${Is}${Ua}=${Ba},`,"");if(function st(v=(0,H.z$)()){var h;return kr(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(In)&&"_self"!==ut)return function Es(v,h){const p=document.createElement("a");p.href=v,p.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(h||"",ut),new Rh(null);const Pr=window.open(h||"",ut,Un);ye(Pr,v,"popup-blocked");try{Pr.focus()}catch{}return new Rh(Pr)}(h,ut,fa())})()}_openRedirect(h,p,w,z){var ne=this;return(0,l.Z)(function*(){return yield ne._originValidation(h),function Pa(v){Hi().location.href=v}(yield Ia(h,p,w,xn(),z)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:z,promise:ne}=this.eventManagers[p];return z?Promise.resolve(z):(Xt(ne,"If manager is not set, promise should be"),ne)}const w=this.initAndGetManager(h);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(h){var p=this;return(0,l.Z)(function*(){const w=yield function cs(v){return Va.apply(this,arguments)}(h),z=new Oc(h);return w.register("authEvent",ne=>(ye(ne?.authEvent,h,"invalid-auth-event"),{status:z.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:z},p.iframes[h._key()]=w,z})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Cl,{type:Cl},z=>{var ne;const Ne=null===(ne=z?.[0])||void 0===ne?void 0:ne[Cl];void 0!==Ne&&p(!!Ne),Le(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ap(v){return Dh.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return It()||Gn()||kr()}};class lp{constructor(h){this.factorId=h}_process(h,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,w);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class hu extends lp{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new hu(h)}_finalizeEnroll(h,p,w){return function wc(v,h){return Fe(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(v,h))}(h,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function J(v,h){return Fe(v,"POST","/v2/accounts/mfaSignIn:finalize",Ie(v,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wl=(()=>{class v{constructor(){}static assertion(p){return hu._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var Lc="@firebase/auth";class Xu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function Uo(v){ai=v}({loadJS:v=>new Promise((h,p)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=h,w.onerror=z=>{const ne=Xe("internal-error");ne.customData=z,p(ne)},w.type="text/javascript",w.charset="UTF-8",function kh(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Tl(v){(0,_._registerComponent)(new De.wA("auth",(h,{options:p})=>{const w=h.getProvider("app").getImmediate(),z=h.getProvider("heartbeat"),ne=h.getProvider("app-check-internal"),{apiKey:Ne,authDomain:ut}=w.options;ye(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:w.name});const Ft={apiKey:Ne,authDomain:ut,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(v)},In=new uo(w,z,ne,Ft);return function ks(v,h){const p=h?.persistence||[],w=(Array.isArray(p)?p:[p]).map(ft);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(w,h?.popupRedirectResolver)}(In,p),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,w)=>{h.getProvider("auth-internal").initialize()})),(0,_._registerComponent)(new De.wA("auth-internal",h=>{const p=lr(h.getProvider("auth").getImmediate());return new Xu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_.registerVersion)(Lc,"1.7.4",function ec(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,_.registerVersion)(Lc,"1.7.4","esm2017")}("Browser")},5588:(nn,Je,k)=>{k.d(Je,{u7:()=>Um,Jj:()=>ic,IX:()=>Kc,my:()=>ao,xU:()=>nl,Lz:()=>wu,WA:()=>ie,F8:()=>Jp,$q:()=>Sf,W:()=>sc,EK:()=>Vt,PU:()=>il,l7:()=>Nn,Ky:()=>Rt,Xb:()=>Vn,Cf:()=>yr,K9:()=>Ut,Me:()=>hs,yq:()=>Xt,Wi:()=>Dm,ET:()=>zm,Ab:()=>Pf,vr:()=>Qd,Fc:()=>Qp,hJ:()=>Am,B$:()=>mf,at:()=>gf,oe:()=>Wa,AK:()=>Ym,TF:()=>Mm,JU:()=>vy,ST:()=>Ef,fH:()=>za,Ix:()=>Iy,Wu:()=>Ny,Lx:()=>Fm,qY:()=>Ki,GL:()=>no,QT:()=>Hm,kl:()=>ag,Xk:()=>ac,PL:()=>ug,UQ:()=>Fy,zN:()=>cE,ad:()=>yf,nP:()=>Qm,b9:()=>Oy,vh:()=>Tf,Pb:()=>Cy,L$:()=>wy,cf:()=>Vy,sc:()=>lE,Xo:()=>km,IO:()=>Ry,iE:()=>Kp,Eo:()=>Zp,i3:()=>Km,Bt:()=>hg,pl:()=>Ly,Ub:()=>Dt,qK:()=>ba,TQ:()=>Kd,e0:()=>Jl,r7:()=>cg,Mx:()=>Ey,ar:()=>ng});var ke,He,l=k(5861),_=k(534),H=k(4537),Te=k(7879),me=k(9058),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ze,Se,Ve){Ve||(Ve=0);var Qe=Array(16);if("string"==typeof Se)for(var nt=0;16>nt;++nt)Qe[nt]=Se.charCodeAt(Ve++)|Se.charCodeAt(Ve++)<<8|Se.charCodeAt(Ve++)<<16|Se.charCodeAt(Ve++)<<24;else for(nt=0;16>nt;++nt)Qe[nt]=Se[Ve++]|Se[Ve++]<<8|Se[Ve++]<<16|Se[Ve++]<<24;var ct=Ze.g[3],Oe=(Se=Ze.g[0])+(ct^(Ve=Ze.g[1])&((nt=Ze.g[2])^ct))+Qe[0]+3614090360&4294967295;Oe=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=(Ve=(nt=(ct=(Se=Ve+(Oe<<7&4294967295|Oe>>>25))+((Oe=ct+(nt^Se&(Ve^nt))+Qe[1]+3905402710&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^ct&(Se^Ve))+Qe[2]+606105819&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Se^nt&(ct^Se))+Qe[3]+3250441966&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Se+(ct^Ve&(nt^ct))+Qe[4]+4118548399&4294967295)<<7&4294967295|Oe>>>25))+((Oe=ct+(nt^Se&(Ve^nt))+Qe[5]+1200080426&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^ct&(Se^Ve))+Qe[6]+2821735955&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Se^nt&(ct^Se))+Qe[7]+4249261313&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Se+(ct^Ve&(nt^ct))+Qe[8]+1770035416&4294967295)<<7&4294967295|Oe>>>25))+((Oe=ct+(nt^Se&(Ve^nt))+Qe[9]+2336552879&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^ct&(Se^Ve))+Qe[10]+4294925233&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Se^nt&(ct^Se))+Qe[11]+2304563134&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Se+(ct^Ve&(nt^ct))+Qe[12]+1804603682&4294967295)<<7&4294967295|Oe>>>25))+((Oe=ct+(nt^Se&(Ve^nt))+Qe[13]+4254626195&4294967295)<<12&4294967295|Oe>>>20))+((Oe=nt+(Ve^ct&(Se^Ve))+Qe[14]+2792965006&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Ve+(Se^nt&(ct^Se))+Qe[15]+1236535329&4294967295)<<22&4294967295|Oe>>>10))+((Oe=Se+(nt^ct&(Ve^nt))+Qe[1]+4129170786&4294967295)<<5&4294967295|Oe>>>27))+((Oe=ct+(Ve^nt&(Se^Ve))+Qe[6]+3225465664&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Se^Ve&(ct^Se))+Qe[11]+643717713&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(ct^Se&(nt^ct))+Qe[0]+3921069994&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Se+(nt^ct&(Ve^nt))+Qe[5]+3593408605&4294967295)<<5&4294967295|Oe>>>27))+((Oe=ct+(Ve^nt&(Se^Ve))+Qe[10]+38016083&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Se^Ve&(ct^Se))+Qe[15]+3634488961&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(ct^Se&(nt^ct))+Qe[4]+3889429448&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Se+(nt^ct&(Ve^nt))+Qe[9]+568446438&4294967295)<<5&4294967295|Oe>>>27))+((Oe=ct+(Ve^nt&(Se^Ve))+Qe[14]+3275163606&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Se^Ve&(ct^Se))+Qe[3]+4107603335&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(ct^Se&(nt^ct))+Qe[8]+1163531501&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Se+(nt^ct&(Ve^nt))+Qe[13]+2850285829&4294967295)<<5&4294967295|Oe>>>27))+((Oe=ct+(Ve^nt&(Se^Ve))+Qe[2]+4243563512&4294967295)<<9&4294967295|Oe>>>23))+((Oe=nt+(Se^Ve&(ct^Se))+Qe[7]+1735328473&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Ve+(ct^Se&(nt^ct))+Qe[12]+2368359562&4294967295)<<20&4294967295|Oe>>>12))+((Oe=Se+(Ve^nt^ct)+Qe[5]+4294588738&4294967295)<<4&4294967295|Oe>>>28))+((Oe=ct+(Se^Ve^nt)+Qe[8]+2272392833&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(ct^Se^Ve)+Qe[11]+1839030562&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^ct^Se)+Qe[14]+4259657740&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Se+(Ve^nt^ct)+Qe[1]+2763975236&4294967295)<<4&4294967295|Oe>>>28))+((Oe=ct+(Se^Ve^nt)+Qe[4]+1272893353&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(ct^Se^Ve)+Qe[7]+4139469664&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^ct^Se)+Qe[10]+3200236656&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Se+(Ve^nt^ct)+Qe[13]+681279174&4294967295)<<4&4294967295|Oe>>>28))+((Oe=ct+(Se^Ve^nt)+Qe[0]+3936430074&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(ct^Se^Ve)+Qe[3]+3572445317&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^ct^Se)+Qe[6]+76029189&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Se+(Ve^nt^ct)+Qe[9]+3654602809&4294967295)<<4&4294967295|Oe>>>28))+((Oe=ct+(Se^Ve^nt)+Qe[12]+3873151461&4294967295)<<11&4294967295|Oe>>>21))+((Oe=nt+(ct^Se^Ve)+Qe[15]+530742520&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Ve+(nt^ct^Se)+Qe[2]+3299628645&4294967295)<<23&4294967295|Oe>>>9))+((Oe=Se+(nt^(Ve|~ct))+Qe[0]+4096336452&4294967295)<<6&4294967295|Oe>>>26))+((Oe=ct+(Ve^(Se|~nt))+Qe[7]+1126891415&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Se^(ct|~Ve))+Qe[14]+2878612391&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(ct^(nt|~Se))+Qe[5]+4237533241&4294967295)<<21&4294967295|Oe>>>11))+((Oe=Se+(nt^(Ve|~ct))+Qe[12]+1700485571&4294967295)<<6&4294967295|Oe>>>26))+((Oe=ct+(Ve^(Se|~nt))+Qe[3]+2399980690&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Se^(ct|~Ve))+Qe[10]+4293915773&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(ct^(nt|~Se))+Qe[1]+2240044497&4294967295)<<21&4294967295|Oe>>>11))+((Oe=Se+(nt^(Ve|~ct))+Qe[8]+1873313359&4294967295)<<6&4294967295|Oe>>>26))+((Oe=ct+(Ve^(Se|~nt))+Qe[15]+4264355552&4294967295)<<10&4294967295|Oe>>>22))+((Oe=nt+(Se^(ct|~Ve))+Qe[6]+2734768916&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Ve+(ct^(nt|~Se))+Qe[13]+1309151649&4294967295)<<21&4294967295|Oe>>>11))+((ct=(Se=Ve+((Oe=Se+(nt^(Ve|~ct))+Qe[4]+4149444226&4294967295)<<6&4294967295|Oe>>>26))+((Oe=ct+(Ve^(Se|~nt))+Qe[11]+3174756917&4294967295)<<10&4294967295|Oe>>>22))^((nt=ct+((Oe=nt+(Se^(ct|~Ve))+Qe[2]+718787259&4294967295)<<15&4294967295|Oe>>>17))|~Se))+Qe[9]+3951481745&4294967295,Ze.g[0]=Ze.g[0]+Se&4294967295,Ze.g[1]=Ze.g[1]+(nt+(Oe<<21&4294967295|Oe>>>11))&4294967295,Ze.g[2]=Ze.g[2]+nt&4294967295,Ze.g[3]=Ze.g[3]+ct&4294967295}function m(Ze,Se){this.h=Se;for(var Ve=[],Qe=!0,nt=Ze.length-1;0<=nt;nt--){var ct=0|Ze[nt];Qe&&ct==Se||(Ve[nt]=ct,Qe=!1)}this.g=Ve}(function e(Ze,Se){function Ve(){}Ve.prototype=Se.prototype,Ze.D=Se.prototype,Ze.prototype=new Ve,Ze.prototype.constructor=Ze,Ze.C=function(Qe,nt,ct){for(var Oe=Array(arguments.length-2),Au=2;Au<arguments.length;Au++)Oe[Au-2]=arguments[Au];return Se.prototype[nt].apply(Qe,Oe)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Ze,Se){void 0===Se&&(Se=Ze.length);for(var Ve=Se-this.blockSize,Qe=this.B,nt=this.h,ct=0;ct<Se;){if(0==nt)for(;ct<=Ve;)u(this,Ze,ct),ct+=this.blockSize;if("string"==typeof Ze){for(;ct<Se;)if(Qe[nt++]=Ze.charCodeAt(ct++),nt==this.blockSize){u(this,Qe),nt=0;break}}else for(;ct<Se;)if(Qe[nt++]=Ze[ct++],nt==this.blockSize){u(this,Qe),nt=0;break}}this.h=nt,this.o+=Se},o.prototype.v=function(){var Ze=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ze[0]=128;for(var Se=1;Se<Ze.length-8;++Se)Ze[Se]=0;var Ve=8*this.o;for(Se=Ze.length-8;Se<Ze.length;++Se)Ze[Se]=255&Ve,Ve/=256;for(this.u(Ze),Ze=Array(16),Se=Ve=0;4>Se;++Se)for(var Qe=0;32>Qe;Qe+=8)Ze[Ve++]=this.g[Se]>>>Qe&255;return Ze};var T={};function M(Ze){return-128<=Ze&&128>Ze?function f(Ze,Se){var Ve=T;return Object.prototype.hasOwnProperty.call(Ve,Ze)?Ve[Ze]:Ve[Ze]=Se(Ze)}(Ze,function(Se){return new m([0|Se],0>Se?-1:0)}):new m([0|Ze],0>Ze?-1:0)}function j(Ze){if(isNaN(Ze)||!isFinite(Ze))return he;if(0>Ze)return $t(j(-Ze));for(var Se=[],Ve=1,Qe=0;Ze>=Ve;Qe++)Se[Qe]=Ze/Ve|0,Ve*=4294967296;return new m(Se,0)}var he=M(0),Re=M(1),it=M(16777216);function Ot(Ze){if(0!=Ze.h)return!1;for(var Se=0;Se<Ze.g.length;Se++)if(0!=Ze.g[Se])return!1;return!0}function Kt(Ze){return-1==Ze.h}function $t(Ze){for(var Se=Ze.g.length,Ve=[],Qe=0;Qe<Se;Qe++)Ve[Qe]=~Ze.g[Qe];return new m(Ve,~Ze.h).add(Re)}function An(Ze,Se){return Ze.add($t(Se))}function Bn(Ze,Se){for(;(65535&Ze[Se])!=Ze[Se];)Ze[Se+1]+=Ze[Se]>>>16,Ze[Se]&=65535,Se++}function Mn(Ze,Se){this.g=Ze,this.h=Se}function hr(Ze,Se){if(Ot(Se))throw Error("division by zero");if(Ot(Ze))return new Mn(he,he);if(Kt(Ze))return Se=hr($t(Ze),Se),new Mn($t(Se.g),$t(Se.h));if(Kt(Se))return Se=hr(Ze,$t(Se)),new Mn($t(Se.g),Se.h);if(30<Ze.g.length){if(Kt(Ze)||Kt(Se))throw Error("slowDivide_ only works with positive integers.");for(var Ve=Re,Qe=Se;0>=Qe.l(Ze);)Ve=li(Ve),Qe=li(Qe);var nt=Mr(Ve,1),ct=Mr(Qe,1);for(Qe=Mr(Qe,2),Ve=Mr(Ve,2);!Ot(Qe);){var Oe=ct.add(Qe);0>=Oe.l(Ze)&&(nt=nt.add(Ve),ct=Oe),Qe=Mr(Qe,1),Ve=Mr(Ve,1)}return Se=An(Ze,nt.j(Se)),new Mn(nt,Se)}for(nt=he;0<=Ze.l(Se);){for(Ve=Math.max(1,Math.floor(Ze.m()/Se.m())),Qe=48>=(Qe=Math.ceil(Math.log(Ve)/Math.LN2))?1:Math.pow(2,Qe-48),Oe=(ct=j(Ve)).j(Se);Kt(Oe)||0<Oe.l(Ze);)Oe=(ct=j(Ve-=Qe)).j(Se);Ot(ct)&&(ct=Re),nt=nt.add(ct),Ze=An(Ze,Oe)}return new Mn(nt,Ze)}function li(Ze){for(var Se=Ze.g.length+1,Ve=[],Qe=0;Qe<Se;Qe++)Ve[Qe]=Ze.i(Qe)<<1|Ze.i(Qe-1)>>>31;return new m(Ve,Ze.h)}function Mr(Ze,Se){var Ve=Se>>5;Se%=32;for(var Qe=Ze.g.length-Ve,nt=[],ct=0;ct<Qe;ct++)nt[ct]=0<Se?Ze.i(ct+Ve)>>>Se|Ze.i(ct+Ve+1)<<32-Se:Ze.i(ct+Ve);return new m(nt,Ze.h)}(a=m.prototype).m=function(){if(Kt(this))return-$t(this).m();for(var Ze=0,Se=1,Ve=0;Ve<this.g.length;Ve++){var Qe=this.i(Ve);Ze+=(0<=Qe?Qe:4294967296+Qe)*Se,Se*=4294967296}return Ze},a.toString=function(Ze){if(2>(Ze=Ze||10)||36<Ze)throw Error("radix out of range: "+Ze);if(Ot(this))return"0";if(Kt(this))return"-"+$t(this).toString(Ze);for(var Se=j(Math.pow(Ze,6)),Ve=this,Qe="";;){var nt=hr(Ve,Se).g,ct=((0<(Ve=An(Ve,nt.j(Se))).g.length?Ve.g[0]:Ve.h)>>>0).toString(Ze);if(Ot(Ve=nt))return ct+Qe;for(;6>ct.length;)ct="0"+ct;Qe=ct+Qe}},a.i=function(Ze){return 0>Ze?0:Ze<this.g.length?this.g[Ze]:this.h},a.l=function(Ze){return Kt(Ze=An(this,Ze))?-1:Ot(Ze)?0:1},a.abs=function(){return Kt(this)?$t(this):this},a.add=function(Ze){for(var Se=Math.max(this.g.length,Ze.g.length),Ve=[],Qe=0,nt=0;nt<=Se;nt++){var ct=Qe+(65535&this.i(nt))+(65535&Ze.i(nt)),Oe=(ct>>>16)+(this.i(nt)>>>16)+(Ze.i(nt)>>>16);Qe=Oe>>>16,Ve[nt]=(Oe&=65535)<<16|(ct&=65535)}return new m(Ve,-2147483648&Ve[Ve.length-1]?-1:0)},a.j=function(Ze){if(Ot(this)||Ot(Ze))return he;if(Kt(this))return Kt(Ze)?$t(this).j($t(Ze)):$t($t(this).j(Ze));if(Kt(Ze))return $t(this.j($t(Ze)));if(0>this.l(it)&&0>Ze.l(it))return j(this.m()*Ze.m());for(var Se=this.g.length+Ze.g.length,Ve=[],Qe=0;Qe<2*Se;Qe++)Ve[Qe]=0;for(Qe=0;Qe<this.g.length;Qe++)for(var nt=0;nt<Ze.g.length;nt++){var ct=this.i(Qe)>>>16,Oe=65535&this.i(Qe),Au=Ze.i(nt)>>>16,Xd=65535&Ze.i(nt);Ve[2*Qe+2*nt]+=Oe*Xd,Bn(Ve,2*Qe+2*nt),Ve[2*Qe+2*nt+1]+=ct*Xd,Bn(Ve,2*Qe+2*nt+1),Ve[2*Qe+2*nt+1]+=Oe*Au,Bn(Ve,2*Qe+2*nt+1),Ve[2*Qe+2*nt+2]+=ct*Au,Bn(Ve,2*Qe+2*nt+2)}for(Qe=0;Qe<Se;Qe++)Ve[Qe]=Ve[2*Qe+1]<<16|Ve[2*Qe];for(Qe=Se;Qe<2*Se;Qe++)Ve[Qe]=0;return new m(Ve,0)},a.A=function(Ze){return hr(this,Ze).h},a.and=function(Ze){for(var Se=Math.max(this.g.length,Ze.g.length),Ve=[],Qe=0;Qe<Se;Qe++)Ve[Qe]=this.i(Qe)&Ze.i(Qe);return new m(Ve,this.h&Ze.h)},a.or=function(Ze){for(var Se=Math.max(this.g.length,Ze.g.length),Ve=[],Qe=0;Qe<Se;Qe++)Ve[Qe]=this.i(Qe)|Ze.i(Qe);return new m(Ve,this.h|Ze.h)},a.xor=function(Ze){for(var Se=Math.max(this.g.length,Ze.g.length),Ve=[],Qe=0;Qe<Se;Qe++)Ve[Qe]=this.i(Qe)^Ze.i(Qe);return new m(Ve,this.h^Ze.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,He=Ue.Md5=o,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=j,m.fromString=function ee(Ze,Se){if(0==Ze.length)throw Error("number format error: empty string");if(2>(Se=Se||10)||36<Se)throw Error("radix out of range: "+Se);if("-"==Ze.charAt(0))return $t(ee(Ze.substring(1),Se));if(0<=Ze.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ve=j(Math.pow(Se,8)),Qe=he,nt=0;nt<Ze.length;nt+=8){var ct=Math.min(8,Ze.length-nt),Oe=parseInt(Ze.substring(nt,nt+ct),Se);8>ct?(ct=j(Math.pow(Se,ct)),Qe=Qe.j(ct).add(j(Oe))):Qe=(Qe=Qe.j(Ve)).add(j(Oe))}return Qe},ke=Ue.Integer=m}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});var Me,pt,Ge,Pt,yt,Lt,wt,sn,We,re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(g,R,$){return g==Array.prototype||g==Object.prototype||(g[R]=$.value),g},o=function r(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof re&&re];for(var R=0;R<g.length;++R){var $=g[R];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function u(g,R){if(R)e:{var $=o;g=g.split(".");for(var ue=0;ue<g.length-1;ue++){var rt=g[ue];if(!(rt in $))break e;$=$[rt]}(R=R(ue=$[g=g[g.length-1]]))!=ue&&null!=R&&e($,g,{configurable:!0,writable:!0,value:R})}}("Array.prototype.values",function(g){return g||function(){return function f(g,R){g instanceof String&&(g+="");var $=0,ue=!1,rt={next:function(){if(!ue&&$<g.length){var Ct=$++;return{value:R(Ct,g[Ct]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}(this,function(R,$){return $})}});var m=m||{},T=this||self;function M(g){var R=typeof g;return"array"==(R="object"!=R?R:g?Array.isArray(g)?"array":R:"null")||"object"==R&&"number"==typeof g.length}function j(g){var R=typeof g;return"object"==R&&null!=g||"function"==R}function ee(g,R,$){return g.call.apply(g.bind,arguments)}function he(g,R,$){if(!g)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,ue),g.apply(R,rt)}}return function(){return g.apply(R,arguments)}}function Re(g,R,$){return(Re=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ee:he).apply(null,arguments)}function it(g,R){var $=Array.prototype.slice.call(arguments,1);return function(){var ue=$.slice();return ue.push.apply(ue,arguments),g.apply(this,ue)}}function Ot(g,R){function $(){}$.prototype=R.prototype,g.aa=R.prototype,g.prototype=new $,g.prototype.constructor=g,g.Qb=function(ue,rt,Ct){for(var pn=Array(arguments.length-2),bi=2;bi<arguments.length;bi++)pn[bi-2]=arguments[bi];return R.prototype[rt].apply(ue,pn)}}function Kt(g){const R=g.length;if(0<R){const $=Array(R);for(let ue=0;ue<R;ue++)$[ue]=g[ue];return $}return[]}function $t(g,R){for(let $=1;$<arguments.length;$++){const ue=arguments[$];if(M(ue)){const rt=g.length||0,Ct=ue.length||0;g.length=rt+Ct;for(let pn=0;pn<Ct;pn++)g[rt+pn]=ue[pn]}else g.push(ue)}}function Bn(g){return/^[\s\xa0]*$/.test(g)}function Mn(){var g=T.navigator;return g&&(g=g.userAgent)?g:""}function hr(g){return hr[" "](g),g}hr[" "]=function(){};var li=!(-1==Mn().indexOf("Gecko")||-1!=Mn().toLowerCase().indexOf("webkit")&&-1==Mn().indexOf("Edge")||-1!=Mn().indexOf("Trident")||-1!=Mn().indexOf("MSIE")||-1!=Mn().indexOf("Edge"));function Mr(g,R,$){for(const ue in g)R.call($,g[ue],ue,g)}function Se(g){const R={};for(const $ in g)R[$]=g[$];return R}const Ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(g,R){let $,ue;for(let rt=1;rt<arguments.length;rt++){for($ in ue=arguments[rt],ue)g[$]=ue[$];for(let Ct=0;Ct<Ve.length;Ct++)$=Ve[Ct],Object.prototype.hasOwnProperty.call(ue,$)&&(g[$]=ue[$])}}function nt(g){var R=1;g=g.split(":");const $=[];for(;0<R&&g.length;)$.push(g.shift()),R--;return g.length&&$.push(g.join(":")),$}function ct(g){T.setTimeout(()=>{throw g},0)}function Oe(){var g=Xm;let R=null;return g.g&&(R=g.g,g.g=g.g.next,g.g||(g.h=null),R.next=null),R}var Xd=new class An{constructor(R,$){this.i=R,this.j=$,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}(()=>new Hs,g=>g.reset());class Hs{constructor(){this.next=this.g=this.h=null}set(R,$){this.h=R,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let eh,th=!1,Xm=new class Au{constructor(){this.h=this.g=null}add(R,$){const ue=Xd.get();ue.set(R,$),this.h?this.h.next=ue:this.g=ue,this.h=ue}},Mf=()=>{const g=T.Promise.resolve(void 0);eh=()=>{g.then(e_)}};var e_=()=>{for(var g;g=Oe();){try{g.h.call(g.g)}catch($){ct($)}var R=Xd;R.j(g),100>R.h&&(R.h++,g.next=R.g,R.g=g)}th=!1};function cc(){this.s=this.s,this.C=this.C}function ls(g,R){this.type=g,this.g=this.target=R,this.defaultPrevented=!1}cc.prototype.s=!1,cc.prototype.ma=function(){this.s||(this.s=!0,this.N())},cc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ls.prototype.h=function(){this.defaultPrevented=!0};var Xy=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var g=!1,R=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const $=()=>{};T.addEventListener("test",$,R),T.removeEventListener("test",$,R)}catch{}return g}();function td(g,R){if(ls.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var $=this.type=g.type,ue=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=R,R=g.relatedTarget){if(li){e:{try{hr(R.nodeName);var rt=!0;break e}catch{}rt=!1}rt||(R=null)}}else"mouseover"==$?R=g.fromElement:"mouseout"==$&&(R=g.toElement);this.relatedTarget=R,ue?(this.clientX=void 0!==ue.clientX?ue.clientX:ue.pageX,this.clientY=void 0!==ue.clientY?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:ev[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&td.aa.h.call(this)}}Ot(td,ls);var ev={2:"touch",3:"pen",4:"mouse"};td.prototype.h=function(){td.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var nh="closure_listenable_"+(1e6*Math.random()|0),fg=0;function tv(g,R,$,ue,rt){this.listener=g,this.proxy=null,this.src=R,this.type=$,this.capture=!!ue,this.ha=rt,this.key=++fg,this.da=this.fa=!1}function Rf(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xf(g){this.src=g,this.g={},this.h=0}function pg(g,R){var $=R.type;if($ in g.g){var Ct,ue=g.g[$],rt=Array.prototype.indexOf.call(ue,R,void 0);(Ct=0<=rt)&&Array.prototype.splice.call(ue,rt,1),Ct&&(Rf(R),0==g.g[$].length&&(delete g.g[$],g.h--))}}function gg(g,R,$,ue){for(var rt=0;rt<g.length;++rt){var Ct=g[rt];if(!Ct.da&&Ct.listener==R&&Ct.capture==!!$&&Ct.ha==ue)return rt}return-1}xf.prototype.add=function(g,R,$,ue,rt){var Ct=g.toString();(g=this.g[Ct])||(g=this.g[Ct]=[],this.h++);var pn=gg(g,R,ue,rt);return-1<pn?(R=g[pn],$||(R.fa=!1)):((R=new tv(R,this.src,Ct,!!ue,rt)).fa=$,g.push(R)),R};var na="closure_lm_"+(1e6*Math.random()|0),rh={};function t_(g,R,$,ue,rt){if(ue&&ue.once)return _g(g,R,$,ue,rt);if(Array.isArray(R)){for(var Ct=0;Ct<R.length;Ct++)t_(g,R[Ct],$,ue,rt);return null}return $=Ff($),g&&g[nh]?g.K(R,$,j(ue)?!!ue.capture:!!ue,rt):mg(g,R,$,!1,ue,rt)}function mg(g,R,$,ue,rt,Ct){if(!R)throw Error("Invalid event type");var pn=j(rt)?!!rt.capture:!!rt,bi=Nf(g);if(bi||(g[na]=bi=new xf(g)),($=bi.add(R,$,ue,pn,Ct)).proxy)return $;if(ue=function nv(){const R=mE;return function g($){return R.call(g.src,g.listener,$)}}(),$.proxy=ue,ue.src=g,ue.listener=$,g.addEventListener)Xy||(rt=pn),void 0===rt&&(rt=!1),g.addEventListener(R.toString(),ue,rt);else if(g.attachEvent)g.attachEvent(Of(R.toString()),ue);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(ue)}return $}function _g(g,R,$,ue,rt){if(Array.isArray(R)){for(var Ct=0;Ct<R.length;Ct++)_g(g,R[Ct],$,ue,rt);return null}return $=Ff($),g&&g[nh]?g.L(R,$,j(ue)?!!ue.capture:!!ue,rt):mg(g,R,$,!0,ue,rt)}function yg(g,R,$,ue,rt){if(Array.isArray(R))for(var Ct=0;Ct<R.length;Ct++)yg(g,R[Ct],$,ue,rt);else ue=j(ue)?!!ue.capture:!!ue,$=Ff($),g&&g[nh]?(g=g.i,(R=String(R).toString())in g.g&&-1<($=gg(Ct=g.g[R],$,ue,rt))&&(Rf(Ct[$]),Array.prototype.splice.call(Ct,$,1),0==Ct.length&&(delete g.g[R],g.h--))):g&&(g=Nf(g))&&(R=g.g[R.toString()],g=-1,R&&(g=gg(R,$,ue,rt)),($=-1<g?R[g]:null)&&nd($))}function nd(g){if("number"!=typeof g&&g&&!g.da){var R=g.src;if(R&&R[nh])pg(R.i,g);else{var $=g.type,ue=g.proxy;R.removeEventListener?R.removeEventListener($,ue,g.capture):R.detachEvent?R.detachEvent(Of($),ue):R.addListener&&R.removeListener&&R.removeListener(ue),($=Nf(R))?(pg($,g),0==$.h&&($.src=null,R[na]=null)):Rf(g)}}}function Of(g){return g in rh?rh[g]:rh[g]="on"+g}function mE(g,R){if(g.da)g=!0;else{R=new td(R,this);var $=g.listener,ue=g.ha||g.src;g.fa&&nd(g),g=$.call(ue,R)}return g}function Nf(g){return(g=g[na])instanceof xf?g:null}var kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ff(g){return"function"==typeof g?g:(g[kf]||(g[kf]=function(R){return g.handleEvent(R)}),g[kf])}function Yo(){cc.call(this),this.i=new xf(this),this.M=this,this.F=null}function Qo(g,R){var $,ue=g.F;if(ue)for($=[];ue;ue=ue.F)$.push(ue);if(g=g.M,ue=R.type||R,"string"==typeof R)R=new ls(R,g);else if(R instanceof ls)R.target=R.target||g;else{var rt=R;Qe(R=new ls(ue,g),rt)}if(rt=!0,$)for(var Ct=$.length-1;0<=Ct;Ct--){var pn=R.g=$[Ct];rt=ra(pn,ue,!0,R)&&rt}if(rt=ra(pn=R.g=g,ue,!0,R)&&rt,rt=ra(pn,ue,!1,R)&&rt,$)for(Ct=0;Ct<$.length;Ct++)rt=ra(pn=R.g=$[Ct],ue,!1,R)&&rt}function ra(g,R,$,ue){if(!(R=g.i.g[String(R)]))return!0;R=R.concat();for(var rt=!0,Ct=0;Ct<R.length;++Ct){var pn=R[Ct];if(pn&&!pn.da&&pn.capture==$){var bi=pn.listener,Lo=pn.ha||pn.src;pn.fa&&pg(g.i,pn),rt=!1!==bi.call(Lo,ue)&&rt}}return rt&&!ue.defaultPrevented}function n_(g,R,$){if("function"==typeof g)$&&(g=Re(g,$));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=Re(g.handleEvent,g)}return 2147483647<Number(R)?-1:T.setTimeout(g,R||0)}function r_(g){g.g=n_(()=>{g.g=null,g.i&&(g.i=!1,r_(g))},g.l);const R=g.h;g.h=null,g.m.apply(null,R)}Ot(Yo,cc),Yo.prototype[nh]=!0,Yo.prototype.removeEventListener=function(g,R,$,ue){yg(this,g,R,$,ue)},Yo.prototype.N=function(){if(Yo.aa.N.call(this),this.i){var R,g=this.i;for(R in g.g){for(var $=g.g[R],ue=0;ue<$.length;ue++)Rf($[ue]);delete g.g[R],g.h--}}this.F=null},Yo.prototype.K=function(g,R,$,ue){return this.i.add(String(g),R,!1,$,ue)},Yo.prototype.L=function(g,R,$,ue){return this.i.add(String(g),R,!0,$,ue)};class vg extends cc{constructor(R,$){super(),this.m=R,this.l=$,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:r_(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ih(g){cc.call(this),this.h=g,this.g={}}Ot(ih,cc);var Eg=[];function i_(g){Mr(g.g,function(R,$){this.g.hasOwnProperty($)&&nd(R)},g),g.g={}}ih.prototype.N=function(){ih.aa.N.call(this),i_(this)},ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rd=T.JSON.stringify,oh=T.JSON.parse,o_=class{stringify(g){return T.JSON.stringify(g,void 0)}parse(g){return T.JSON.parse(g,void 0)}};function id(){}function s_(){}id.prototype.h=null;var od={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lf(){ls.call(this,"d")}function Ig(){ls.call(this,"c")}Ot(Lf,ls),Ot(Ig,ls);var ol={},Cg=null;function sh(){return Cg=Cg||new Yo}function sd(g){ls.call(this,ol.La,g)}function ah(g){const R=sh();Qo(R,new sd(R))}function wg(g,R){ls.call(this,ol.STAT_EVENT,g),this.stat=R}function ds(g){const R=sh();Qo(R,new wg(R,g))}function a_(g,R){ls.call(this,ol.Ma,g),this.size=R}function uh(g,R){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){g()},R)}function Su(){this.g=!0}function ad(g,R,$,ue){g.info(function(){return"XMLHTTP TEXT ("+R+"): "+function av(g,R){if(!g.g)return R;if(!R)return null;try{var $=JSON.parse(R);if($)for(g=0;g<$.length;g++)if(Array.isArray($[g])){var ue=$[g];if(!(2>ue.length)){var rt=ue[1];if(Array.isArray(rt)&&!(1>rt.length)){var Ct=rt[0];if("noop"!=Ct&&"stop"!=Ct&&"close"!=Ct)for(var pn=1;pn<rt.length;pn++)rt[pn]=""}}}return rd($)}catch{return R}}(g,$)+(ue?" "+ue:"")})}ol.La="serverreachability",Ot(sd,ls),ol.STAT_EVENT="statevent",Ot(wg,ls),ol.Ma="timingevent",Ot(a_,ls),Su.prototype.xa=function(){this.g=!1},Su.prototype.info=function(){};var Tg,Vf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},u_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ch(){}function qa(g,R,$,ue){this.j=g,this.i=R,this.l=$,this.R=ue||1,this.U=new ih(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c_}function c_(){this.i=null,this.g="",this.h=!1}Ot(ch,id),ch.prototype.g=function(){return new XMLHttpRequest},ch.prototype.i=function(){return{}},Tg=new ch;var lh={},bg={};function Dg(g,R,$){g.L=1,g.v=Ru(Da(R)),g.m=$,g.P=!0,l_(g,null)}function l_(g,R){g.F=Date.now(),Uf(g),g.A=Da(g.v);var $=g.A,ue=g.R;Array.isArray(ue)||(ue=[String(ue)]),xg($.i,"t",ue),g.C=0,$=g.j.J,g.h=new c_,g.g=R_(g.j,$?R:null,!g.m),0<g.O&&(g.M=new vg(Re(g.Y,g,g.g),g.O)),R=g.U,$=g.g,ue=g.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(Eg[0]=rt.toString()),rt=Eg);for(var Ct=0;Ct<rt.length;Ct++){var pn=t_($,rt[Ct],ue||R.handleEvent,!1,R.h||R);if(!pn)break;R.g[pn.key]=pn}R=g.H?Se(g.H):{},g.m?(g.u||(g.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,R)):(g.u="GET",g.g.ea(g.A,g.u,null,R)),ah(),function iv(g,R,$,ue,rt,Ct){g.info(function(){if(g.g)if(Ct)for(var pn="",bi=Ct.split("&"),Lo=0;Lo<bi.length;Lo++){var oi=bi[Lo].split("=");if(1<oi.length){var Ho=oi[0];oi=oi[1];var Xo=Ho.split("_");pn=2<=Xo.length&&"type"==Xo[1]?pn+(Ho+"=")+oi+"&":pn+(Ho+"=redacted&")}}else pn=null;else pn=Ct;return"XMLHTTP REQ ("+ue+") [attempt "+rt+"]: "+R+"\n"+$+"\n"+pn})}(g.i,g.u,g.A,g.l,g.R,g.m)}function d_(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function uv(g,R){var $=g.C,ue=R.indexOf("\n",$);return-1==ue?bg:($=Number(R.substring($,ue)),isNaN($)?lh:(ue+=1)+$>R.length?bg:(R=R.slice(ue,ue+$),g.C=ue+$,R))}function Uf(g){g.S=Date.now()+g.I,h_(g,g.I)}function h_(g,R){if(null!=g.B)throw Error("WatchDog timer not null");g.B=uh(Re(g.ba,g),R)}function Bf(g){g.B&&(T.clearTimeout(g.B),g.B=null)}function ud(g){0==g.j.G||g.J||P_(g.j,g)}function sl(g){Bf(g);var R=g.M;R&&"function"==typeof R.ma&&R.ma(),g.M=null,i_(g.U),g.g&&(R=g.g,g.g=null,R.abort(),R.ma())}function f_(g,R){try{var $=g.j;if(0!=$.G&&($.g==g||Sg($.h,g)))if(!g.K&&Sg($.h,g)&&3==$.G){try{var ue=$.Da.g.parse(R)}catch{ue=null}if(Array.isArray(ue)&&3==ue.length){var rt=ue;if(0==rt[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<g.F))break e;Zf($),kg($)}Wf($),ds(18)}}else $.za=rt[1],0<$.za-$.T&&37500>rt[2]&&$.F&&0==$.v&&!$.C&&($.C=uh(Re($.Za,$),6e3));if(1>=dh($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else pc($,11)}else if((g.K||$.g==g)&&Zf($),!Bn(R))for(rt=$.Da.g.parse(R),R=0;R<rt.length;R++){let oi=rt[R];if($.T=oi[0],oi=oi[1],2==$.G)if("c"==oi[0]){$.K=oi[1],$.ia=oi[2];const Ho=oi[3];null!=Ho&&($.la=Ho,$.j.info("VER="+$.la));const Xo=oi[4];null!=Xo&&($.Aa=Xo,$.j.info("SVER="+$.Aa));const gd=oi[5];null!=gd&&"number"==typeof gd&&0<gd&&($.L=ue=1.5*gd,$.j.info("backChannelRequestTimeoutMs_="+ue)),ue=$;const ia=g.g;if(ia){const yh=ia.g?ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yh){var Ct=ue.h;Ct.g||-1==yh.indexOf("spdy")&&-1==yh.indexOf("quic")&&-1==yh.indexOf("h2")||(Ct.j=Ct.l,Ct.g=new Set,Ct.h&&(Pg(Ct,Ct.h),Ct.h=null))}if(ue.D){const Qf=ia.g?ia.g.getResponseHeader("X-HTTP-Session-Id"):null;Qf&&(ue.ya=Qf,_i(ue.I,ue.D,Qf))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-g.F,$.j.info("Handshake RTT: "+$.R+"ms"));var pn=g;if((ue=$).qa=Yf(ue,ue.J?ue.ia:null,ue.W),pn.K){jf(ue.h,pn);var bi=pn,Lo=ue.L;Lo&&(bi.I=Lo),bi.B&&(Bf(bi),Uf(bi)),ue.g=pn}else S_(ue);0<$.i.length&&Gf($)}else"stop"!=oi[0]&&"close"!=oi[0]||pc($,7);else 3==$.G&&("stop"==oi[0]||"close"==oi[0]?"stop"==oi[0]?pc($,7):hd($):"noop"!=oi[0]&&$.l&&$.l.ta(oi),$.v=0)}ah()}catch{}}function Ag(g){this.l=g||10,g=T.PerformanceNavigationTiming?0<(g=T.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function dh(g){return g.h?1:g.g?g.g.size:0}function Sg(g,R){return g.h?g.h==R:!!g.g&&g.g.has(R)}function Pg(g,R){g.g?g.g.add(R):g.h=R}function jf(g,R){g.h&&g.h==R?g.h=null:g.g&&g.g.has(R)&&g.g.delete(R)}function g_(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let R=g.i;for(const $ of g.g.values())R=R.concat($.D);return R}return Kt(g.i)}function Jo(g,R){if(g.forEach&&"function"==typeof g.forEach)g.forEach(R,void 0);else if(M(g)||"string"==typeof g)Array.prototype.forEach.call(g,R,void 0);else for(var $=function hh(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(M(g)||"string"==typeof g){var R=[];g=g.length;for(var $=0;$<g;$++)R.push($);return R}R=[],$=0;for(const ue in g)R[$++]=ue;return R}}}(g),ue=function Za(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(M(g)){for(var R=[],$=g.length,ue=0;ue<$;ue++)R.push(g[ue]);return R}for(ue in R=[],$=0,g)R[$++]=g[ue];return R}(g),rt=ue.length,Ct=0;Ct<rt;Ct++)R.call(void 0,ue[Ct],$&&$[Ct],g)}qa.prototype.ca=function(g){g=g.target;const R=this.M;R&&3==Ou(g)?R.j():this.Y(g)},qa.prototype.Y=function(g){try{if(g==this.g)e:{const Xo=Ou(this.g);var R=this.g.Ba();if(this.g.Z(),!(3>Xo)&&(3!=Xo||this.g&&(this.h.h||this.g.oa()||T_(this.g)))){this.J||4!=Xo||7==R||ah(),Bf(this);var $=this.g.Z();this.X=$;t:if(d_(this)){var ue=T_(this.g);g="";var rt=ue.length,Ct=4==Ou(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sl(this),ud(this);var pn="";break t}this.h.i=new T.TextDecoder}for(R=0;R<rt;R++)this.h.h=!0,g+=this.h.i.decode(ue[R],{stream:!(Ct&&R==rt-1)});ue.length=0,this.h.g+=g,this.C=0,pn=this.h.g}else pn=this.g.oa();if(this.o=200==$,function ov(g,R,$,ue,rt,Ct,pn){g.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+rt+"]: "+R+"\n"+$+"\n"+Ct+" "+pn})}(this.i,this.u,this.A,this.l,this.R,Xo,$),this.o){if(this.T&&!this.K){t:{if(this.g){var bi,Lo=this.g;if((bi=Lo.g?Lo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bn(bi)){var oi=bi;break t}}oi=null}if(!($=oi)){this.o=!1,this.s=3,ds(12),sl(this),ud(this);break e}ad(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,f_(this,$)}if(this.P){let ia;for($=!0;!this.J&&this.C<pn.length;){if(ia=uv(this,pn),ia==bg){4==Xo&&(this.s=4,ds(14),$=!1),ad(this.i,this.l,null,"[Incomplete Response]");break}if(ia==lh){this.s=4,ds(15),ad(this.i,this.l,pn,"[Invalid Chunk]"),$=!1;break}ad(this.i,this.l,ia,null),f_(this,ia)}if(d_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Xo||0!=pn.length||this.h.h||(this.s=1,ds(16),$=!1),this.o=this.o&&$,$){if(0<pn.length&&!this.W){this.W=!0;var Ho=this.j;Ho.g==this&&Ho.ba&&!Ho.M&&(Ho.j.info("Great, no buffering proxy detected. Bytes received: "+pn.length),qf(Ho),Ho.M=!0,ds(11))}}else ad(this.i,this.l,pn,"[Invalid Chunked Response]"),sl(this),ud(this)}else ad(this.i,this.l,pn,null),f_(this,pn);4==Xo&&sl(this),this.o&&!this.J&&(4==Xo?P_(this.j,this):(this.o=!1,Uf(this)))}else(function hv(g){const R={};g=(g.g&&2<=Ou(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ue=0;ue<g.length;ue++){if(Bn(g[ue]))continue;var $=nt(g[ue]);const rt=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const Ct=R[rt]||[];R[rt]=Ct,Ct.push($)}!function Ze(g,R){for(const $ in g)R.call(void 0,g[$],$,g)}(R,function(ue){return ue.join(", ")})})(this.g),400==$&&0<pn.indexOf("Unknown SID")?(this.s=3,ds(12)):(this.s=0,ds(13)),sl(this),ud(this)}}}catch{}},qa.prototype.cancel=function(){this.J=!0,sl(this)},qa.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function sv(g,R){g.info(function(){return"TIMEOUT: "+R})}(this.i,this.A),2!=this.L&&(ah(),ds(17)),sl(this),this.s=2,ud(this)):h_(this,this.S-g)},Ag.prototype.cancel=function(){if(this.i=g_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof $o){this.h=g.h,Pu(this,g.j),this.o=g.o,this.g=g.g,Mu(this,g.s),this.l=g.l;var R=g.i,$=new ld;$.i=R.i,R.g&&($.g=new Map(R.g),$.h=R.h),al(this,$),this.m=g.m}else g&&(R=String(g).match(lc))?(this.h=!1,Pu(this,R[1]||"",!0),this.o=Ka(R[2]||""),this.g=Ka(R[3]||"",!0),Mu(this,R[4]),this.l=Ka(R[5]||"",!0),al(this,R[6]||"",!0),this.m=Ka(R[7]||"")):(this.h=!1,this.i=new ld(null,this.h))}function Da(g){return new $o(g)}function Pu(g,R,$){g.j=$?Ka(R,!0):R,g.j&&(g.j=g.j.replace(/:$/,""))}function Mu(g,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);g.s=R}else g.s=null}function al(g,R,$){R instanceof ld?(g.i=R,function lv(g,R){R&&!g.j&&(xu(g),g.i=null,g.g.forEach(function($,ue){var rt=ue.toLowerCase();ue!=rt&&(Mg(this,ue),xg(this,rt,$))},g)),g.j=R}(g.i,g.h)):($||(R=Ya(R,y_)),g.i=new ld(R,g.h))}function _i(g,R,$){g.i.set(R,$)}function Ru(g){return _i(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ka(g,R){return g?R?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ya(g,R,$){return"string"==typeof g?(g=encodeURI(g).replace(R,cd),$&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function cd(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}$o.prototype.toString=function(){var g=[],R=this.j;R&&g.push(Ya(R,ul,!0),":");var $=this.g;return($||"file"==R)&&(g.push("//"),(R=this.o)&&g.push(Ya(R,ul,!0),"@"),g.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&g.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&g.push("/"),g.push(Ya($,"/"==$.charAt(0)?__:m_,!0))),($=this.i.toString())&&g.push("?",$),($=this.m)&&g.push("#",Ya($,v_)),g.join("")};var g,ul=/[#\/\?@]/g,m_=/[#\?:]/g,__=/[#\?]/g,y_=/[#\?@]/g,v_=/#/g;function ld(g,R){this.h=this.g=null,this.i=g||null,this.j=!!R}function xu(g){g.g||(g.g=new Map,g.h=0,g.i&&function $f(g,R){if(g){g=g.split("&");for(var $=0;$<g.length;$++){var ue=g[$].indexOf("="),rt=null;if(0<=ue){var Ct=g[$].substring(0,ue);rt=g[$].substring(ue+1)}else Ct=g[$];R(Ct,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}(g.i,function(R,$){g.add(decodeURIComponent(R.replace(/\+/g," ")),$)}))}function Mg(g,R){xu(g),R=dc(g,R),g.g.has(R)&&(g.i=null,g.h-=g.g.get(R).length,g.g.delete(R))}function Rg(g,R){return xu(g),R=dc(g,R),g.g.has(R)}function xg(g,R,$){Mg(g,R),0<$.length&&(g.i=null,g.g.set(dc(g,R),Kt($)),g.h+=$.length)}function dc(g,R){return R=String(R),g.j&&(R=R.toLowerCase()),R}function hc(g,R,$,ue,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),ue($)}catch{}}function dv(){this.g=new o_}function vE(g,R,$){const ue=$||"";try{Jo(g,function(rt,Ct){let pn=rt;j(rt)&&(pn=rd(rt)),R.push(ue+Ct+"="+encodeURIComponent(pn))})}catch(rt){throw R.push(ue+"type="+encodeURIComponent("_badmap")),rt}}function fh(g){this.l=g.Ub||null,this.j=g.eb||!1}function Og(g,R){Yo.call(this),this.D=g,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function E_(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function ph(g){g.readyState=4,g.l=null,g.j=null,g.v=null,gh(g)}function gh(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function Hf(g){let R="";return Mr(g,function($,ue){R+=ue,R+=":",R+=$,R+="\r\n"}),R}function cl(g,R,$){e:{for(ue in $){var ue=!1;break e}ue=!0}ue||($=Hf($),"string"==typeof g?null!=$&&encodeURIComponent(String($)):_i(g,R,$))}function Yi(g){Yo.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=ld.prototype).add=function(g,R){xu(this),this.i=null,g=dc(this,g);var $=this.g.get(g);return $||this.g.set(g,$=[]),$.push(R),this.h+=1,this},a.forEach=function(g,R){xu(this),this.g.forEach(function($,ue){$.forEach(function(rt){g.call(R,rt,ue,this)},this)},this)},a.na=function(){xu(this);const g=Array.from(this.g.values()),R=Array.from(this.g.keys()),$=[];for(let ue=0;ue<R.length;ue++){const rt=g[ue];for(let Ct=0;Ct<rt.length;Ct++)$.push(R[ue])}return $},a.V=function(g){xu(this);let R=[];if("string"==typeof g)Rg(this,g)&&(R=R.concat(this.g.get(dc(this,g))));else{g=Array.from(this.g.values());for(let $=0;$<g.length;$++)R=R.concat(g[$])}return R},a.set=function(g,R){return xu(this),this.i=null,Rg(this,g=dc(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[R]),this.h+=1,this},a.get=function(g,R){return g&&0<(g=this.V(g)).length?String(g[0]):R},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],R=Array.from(this.g.keys());for(var $=0;$<R.length;$++){var ue=R[$];const Ct=encodeURIComponent(String(ue)),pn=this.V(ue);for(ue=0;ue<pn.length;ue++){var rt=Ct;""!==pn[ue]&&(rt+="="+encodeURIComponent(String(pn[ue]))),g.push(rt)}}return this.i=g.join("&")},Ot(fh,id),fh.prototype.g=function(){return new Og(this.l,this.j)},fh.prototype.i=(g={},function(){return g}),Ot(Og,Yo),(a=Og.prototype).open=function(g,R){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=R,this.readyState=1,gh(this)},a.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(R.body=g),(this.D||T).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ph(this)),this.readyState=0},a.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;E_(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var R=g.value?g.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!g.done}))&&(this.response=this.responseText+=R)}g.done?ph(this):gh(this),3==this.readyState&&E_(this)}},a.Ra=function(g){this.g&&(this.response=this.responseText=g,ph(this))},a.Qa=function(g){this.g&&(this.response=g,ph(this))},a.ga=function(){this.g&&ph(this)},a.setRequestHeader=function(g,R){this.u.append(g,R)},a.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],R=this.h.entries();for(var $=R.next();!$.done;)g.push(($=$.value)[0]+": "+$[1]),$=R.next();return g.join("\r\n")},Object.defineProperty(Og.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),Ot(Yi,Yo);var zf=/^https?$/i,I_=["POST","PUT"];function dd(g,R){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=R,g.m=5,Ng(g),fc(g)}function Ng(g){g.A||(g.A=!0,Qo(g,"complete"),Qo(g,"error"))}function C_(g){if(g.h&&typeof m<"u"&&(!g.v[1]||4!=Ou(g)||2!=g.Z()))if(g.u&&4==Ou(g))n_(g.Ea,0,g);else if(Qo(g,"readystatechange"),4==Ou(g)){g.h=!1;try{const pn=g.Z();e:switch(pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var $;if(!($=R)){var ue;if(ue=0===pn){var rt=String(g.D).match(lc)[1]||null;!rt&&T.self&&T.self.location&&(rt=T.self.location.protocol.slice(0,-1)),ue=!zf.test(rt?rt.toLowerCase():"")}$=ue}if($)Qo(g,"complete"),Qo(g,"success");else{g.m=6;try{var Ct=2<Ou(g)?g.g.statusText:""}catch{Ct=""}g.l=Ct+" ["+g.Z()+"]",Ng(g)}}finally{fc(g)}}}function fc(g,R){if(g.g){w_(g);const $=g.g,ue=g.v[0]?()=>{}:null;g.g=null,g.v=null,R||Qo(g,"ready");try{$.onreadystatechange=ue}catch{}}}function w_(g){g.I&&(T.clearTimeout(g.I),g.I=null)}function Ou(g){return g.g?g.g.readyState:0}function T_(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ll(g,R,$){return $&&$.internalChannelParams&&$.internalChannelParams[g]||R}function mh(g){this.Aa=0,this.i=[],this.j=new Su,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ll("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ll("baseRetryDelayMs",5e3,g),this.cb=ll("retryDelaySeedMs",1e4,g),this.Wa=ll("forwardChannelMaxRetries",2,g),this.wa=ll("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Ag(g&&g.concurrentRequestLimit),this.Da=new dv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function hd(g){if(b_(g),3==g.G){var R=g.U++,$=Da(g.I);if(_i($,"SID",g.K),_i($,"RID",R),_i($,"TYPE","terminate"),fd(g,$),(R=new qa(g,g.j,R)).L=2,R.v=Ru(Da($)),$=!1,T.navigator&&T.navigator.sendBeacon)try{$=T.navigator.sendBeacon(R.v.toString(),"")}catch{}!$&&T.Image&&((new Image).src=R.v,$=!0),$||(R.g=R_(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Uf(R)}Kf(g)}function kg(g){g.g&&(qf(g),g.g.cancel(),g.g=null)}function b_(g){kg(g),g.u&&(T.clearTimeout(g.u),g.u=null),Zf(g),g.h.cancel(),g.s&&("number"==typeof g.s&&T.clearTimeout(g.s),g.s=null)}function Gf(g){if(!cv(g.h)&&!g.s){g.s=!0;var R=g.Ga;eh||Mf(),th||(eh(),th=!0),Xm.add(R,g),g.B=0}}function D_(g,R){var $;$=R?R.l:g.U++;const ue=Da(g.I);_i(ue,"SID",g.K),_i(ue,"RID",$),_i(ue,"AID",g.T),fd(g,ue),g.m&&g.o&&cl(ue,g.m,g.o),$=new qa(g,g.j,$,g.B+1),null===g.m&&($.H=g.o),R&&(g.i=R.D.concat(g.i)),R=A_(g,$,1e3),$.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Pg(g.h,$),Dg($,ue,R)}function fd(g,R){g.H&&Mr(g.H,function($,ue){_i(R,ue,$)}),g.l&&Jo({},function($,ue){_i(R,ue,$)})}function A_(g,R,$){$=Math.min(g.i.length,$);var ue=g.l?Re(g.l.Na,g.l,g):null;e:{var rt=g.i;let Ct=-1;for(;;){const pn=["count="+$];-1==Ct?0<$?(Ct=rt[0].g,pn.push("ofs="+Ct)):Ct=0:pn.push("ofs="+Ct);let bi=!0;for(let Lo=0;Lo<$;Lo++){let oi=rt[Lo].g;const Ho=rt[Lo].map;if(oi-=Ct,0>oi)Ct=Math.max(0,rt[Lo].g-100),bi=!1;else try{vE(Ho,pn,"req"+oi+"_")}catch{ue&&ue(Ho)}}if(bi){ue=pn.join("&");break e}}}return g=g.i.splice(0,$),R.D=g,ue}function S_(g){if(!g.g&&!g.u){g.Y=1;var R=g.Fa;eh||Mf(),th||(eh(),th=!0),Xm.add(R,g),g.v=0}}function Wf(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=uh(Re(g.Fa,g),M_(g,g.v)),g.v++,0))}function qf(g){null!=g.A&&(T.clearTimeout(g.A),g.A=null)}function Lg(g){g.g=new qa(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var R=Da(g.qa);_i(R,"RID","rpc"),_i(R,"SID",g.K),_i(R,"AID",g.T),_i(R,"CI",g.F?"0":"1"),!g.F&&g.ja&&_i(R,"TO",g.ja),_i(R,"TYPE","xmlhttp"),fd(g,R),g.m&&g.o&&cl(R,g.m,g.o),g.L&&(g.g.I=g.L);var $=g.g;g=g.ia,$.L=1,$.v=Ru(Da(R)),$.m=null,$.P=!0,l_($,g)}function Zf(g){null!=g.C&&(T.clearTimeout(g.C),g.C=null)}function P_(g,R){var $=null;if(g.g==R){Zf(g),qf(g),g.g=null;var ue=2}else{if(!Sg(g.h,R))return;$=R.D,jf(g.h,R),ue=1}if(0!=g.G)if(R.o)if(1==ue){$=R.m?R.m.length:0,R=Date.now()-R.F;var rt=g.B;Qo(ue=sh(),new a_(ue,$)),Gf(g)}else S_(g);else if(3==(rt=R.s)||0==rt&&0<R.X||!(1==ue&&function Fg(g,R){return!(dh(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=R.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=uh(Re(g.Ga,g,R),M_(g,g.B)),g.B++,0)))}(g,R)||2==ue&&Wf(g)))switch($&&0<$.length&&(R=g.h,R.i=R.i.concat($)),rt){case 1:pc(g,5);break;case 4:pc(g,10);break;case 3:pc(g,6);break;default:pc(g,2)}}function M_(g,R){let $=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||($*=2),$*R}function pc(g,R){if(g.j.info("Error code "+R),2==R){var $=Re(g.fb,g),ue=g.Xa;const rt=!ue;ue=new $o(ue||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Pu(ue,"https"),Ru(ue),rt?function _E(g,R){const $=new Su;if(T.Image){const ue=new Image;ue.onload=it(hc,$,"TestLoadImage: loaded",!0,R,ue),ue.onerror=it(hc,$,"TestLoadImage: error",!1,R,ue),ue.onabort=it(hc,$,"TestLoadImage: abort",!1,R,ue),ue.ontimeout=it(hc,$,"TestLoadImage: timeout",!1,R,ue),T.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=g}else R(!1)}(ue.toString(),$):function yE(g,R){new Su;const ue=new AbortController,rt=setTimeout(()=>{ue.abort(),hc(0,0,!1,R)},1e4);fetch(g,{signal:ue.signal}).then(Ct=>{clearTimeout(rt),hc(0,0,!!Ct.ok,R)}).catch(()=>{clearTimeout(rt),hc(0,0,!1,R)})}(ue.toString(),$)}else ds(2);g.G=0,g.l&&g.l.sa(R),Kf(g),b_(g)}function Kf(g){if(g.G=0,g.ka=[],g.l){const R=g_(g.h);(0!=R.length||0!=g.i.length)&&($t(g.ka,R),$t(g.ka,g.i),g.h.i.length=0,Kt(g.i),g.i.length=0),g.l.ra()}}function Yf(g,R,$){var ue=$ instanceof $o?Da($):new $o($);if(""!=ue.g)R&&(ue.g=R+"."+ue.g),Mu(ue,ue.s);else{var rt=T.location;ue=rt.protocol,R=R?R+"."+rt.hostname:rt.hostname,rt=+rt.port;var Ct=new $o(null);ue&&Pu(Ct,ue),R&&(Ct.g=R),rt&&Mu(Ct,rt),$&&(Ct.l=$),ue=Ct}return R=g.ya,($=g.D)&&R&&_i(ue,$,R),_i(ue,"VER",g.la),fd(g,ue),ue}function R_(g,R,$){if(R&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(R=new Yi(g.Ca&&!g.pa?new fh({eb:$}):g.pa)).Ha(g.J),R}function _h(){}function dl(){}function Cs(g,R){Yo.call(this),this.g=new mh(R),this.l=g,this.h=R&&R.messageUrlParams||null,g=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(g?g["X-WebChannel-Content-Type"]=R.messageContentType:g={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(g?g["X-WebChannel-Client-Profile"]=R.va:g={"X-WebChannel-Client-Profile":R.va}),this.g.S=g,(g=R&&R.Sb)&&!Bn(g)&&(this.g.m=g),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!Bn(R)&&(this.g.D=R,null!==(g=this.h)&&R in g&&R in(g=this.h)&&delete g[R]),this.j=new pd(this)}function Vg(g){Lf.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var R=g.__sm__;if(R){e:{for(const $ in R){g=$;break e}g=void 0}(this.i=g)&&(g=this.i,R=null!==R&&g in R?R[g]:void 0),this.data=R}else this.data=g}function x_(){Ig.call(this),this.status=1}function pd(g){this.g=g}(a=Yi.prototype).Ha=function(g){this.J=g},a.ea=function(g,R,$,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);R=R?R.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tg.g(),this.v=function rv(g){return g.h||(g.h=g.i())}(this.o?this.o:Tg),this.g.onreadystatechange=Re(this.Ea,this);try{this.B=!0,this.g.open(R,String(g),!0),this.B=!1}catch(Ct){return void dd(this,Ct)}if(g=$||"",$=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var rt in ue)$.set(rt,ue[rt]);else{if("function"!=typeof ue.keys||"function"!=typeof ue.get)throw Error("Unknown input type for opt_headers: "+String(ue));for(const Ct of ue.keys())$.set(Ct,ue.get(Ct))}ue=Array.from($.keys()).find(Ct=>"content-type"==Ct.toLowerCase()),rt=T.FormData&&g instanceof T.FormData,!(0<=Array.prototype.indexOf.call(I_,R,void 0))||ue||rt||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ct,pn]of $)this.g.setRequestHeader(Ct,pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{w_(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ct){dd(this,Ct)}},a.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Qo(this,"complete"),Qo(this,"abort"),fc(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fc(this,!0)),Yi.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?C_(this):this.bb())},a.bb=function(){C_(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Ou(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(g){if(this.g){var R=this.g.responseText;return g&&0==R.indexOf(g)&&(R=R.substring(g.length)),oh(R)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=mh.prototype).la=8,a.G=1,a.connect=function(g,R,$,ue){ds(0),this.W=g,this.H=R||{},$&&void 0!==ue&&(this.H.OSID=$,this.H.OAID=ue),this.F=this.X,this.I=Yf(this,null,this.W),Gf(this)},a.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const rt=new qa(this,this.j,g);let Ct=this.o;if(this.S&&(Ct?(Ct=Se(Ct),Qe(Ct,this.S)):Ct=this.S),null!==this.m||this.O||(rt.H=Ct,Ct=null),this.P)e:{for(var R=0,$=0;$<this.i.length;$++){var ue=this.i[$];if(void 0===(ue="__data__"in ue.map&&"string"==typeof(ue=ue.map.__data__)?ue.length:void 0))break;if(4096<(R+=ue)){R=$;break e}if(4096===R||$===this.i.length-1){R=$+1;break e}}R=1e3}else R=1e3;R=A_(this,rt,R),_i($=Da(this.I),"RID",g),_i($,"CVER",22),this.D&&_i($,"X-HTTP-Session-Id",this.D),fd(this,$),Ct&&(this.O?R="headers="+encodeURIComponent(String(Hf(Ct)))+"&"+R:this.m&&cl($,this.m,Ct)),Pg(this.h,rt),this.Ua&&_i($,"TYPE","init"),this.P?(_i($,"$req",R),_i($,"SID","null"),rt.T=!0,Dg(rt,$,null)):Dg(rt,$,R),this.G=2}}else 3==this.G&&(g?D_(this,g):0==this.i.length||cv(this.h)||D_(this))},a.Fa=function(){if(this.u=null,Lg(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=uh(Re(this.ab,this),g)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ds(10),kg(this),Lg(this))},a.Za=function(){null!=this.C&&(this.C=null,kg(this),Wf(this),ds(19))},a.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ds(2)):(this.j.info("Failed to ping google.com"),ds(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=_h.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},dl.prototype.g=function(g,R){return new Cs(g,R)},Ot(Cs,Yo),Cs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cs.prototype.close=function(){hd(this.g)},Cs.prototype.o=function(g){var R=this.g;if("string"==typeof g){var $={};$.__data__=g,g=$}else this.u&&(($={}).__data__=rd(g),g=$);R.i.push(new class{constructor(g,R){this.g=g,this.map=R}}(R.Ya++,g)),3==R.G&&Gf(R)},Cs.prototype.N=function(){this.g.l=null,delete this.j,hd(this.g),delete this.g,Cs.aa.N.call(this)},Ot(Vg,Lf),Ot(x_,Ig),Ot(pd,_h),pd.prototype.ua=function(){Qo(this.g,"a")},pd.prototype.ta=function(g){Qo(this.g,new Vg(g))},pd.prototype.sa=function(g){Qo(this.g,new x_)},pd.prototype.ra=function(){Qo(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,Cs.prototype.send=Cs.prototype.o,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,We=se.createWebChannelTransport=function(){return new dl},sn=se.getStatEventTarget=function(){return sh()},wt=se.Event=ol,Lt=se.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vf.NO_ERROR=0,Vf.TIMEOUT=8,Vf.HTTP_ERROR=6,yt=se.ErrorCode=Vf,u_.COMPLETE="complete",Pt=se.EventType=u_,s_.EventType=od,od.OPEN="a",od.CLOSE="b",od.ERROR="c",od.MESSAGE="d",Yo.prototype.listen=Yo.prototype.K,Ge=se.WebChannel=s_,pt=se.FetchXmlHttpFactory=fh,Yi.prototype.listenOnce=Yi.prototype.L,Yi.prototype.getLastError=Yi.prototype.Ka,Yi.prototype.getLastErrorCode=Yi.prototype.Ba,Yi.prototype.getStatus=Yi.prototype.Z,Yi.prototype.getResponseJson=Yi.prototype.Oa,Yi.prototype.getResponseText=Yi.prototype.oa,Yi.prototype.send=Yi.prototype.ea,Yi.prototype.setWithCredentials=Yi.prototype.Ha,Me=se.XhrIo=Yi}).apply(typeof re<"u"?re:typeof self<"u"?self:typeof window<"u"?window:{});const Le="@firebase/firestore";class Xe{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Ke="10.12.1";const Ye=new Te.Yd("@firebase/firestore");function _t(){return Ye.logLevel}function Dt(a){Ye.setLogLevel(a)}function ye(a,...e){if(Ye.logLevel<=Te.in.DEBUG){const r=e.map(xn);Ye.debug(`Firestore (${Ke}): ${a}`,...r)}}function Ht(a,...e){if(Ye.logLevel<=Te.in.ERROR){const r=e.map(xn);Ye.error(`Firestore (${Ke}): ${a}`,...r)}}function Xt(a,...e){if(Ye.logLevel<=Te.in.WARN){const r=e.map(xn);Ye.warn(`Firestore (${Ke}): ${a}`,...r)}}function xn(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Et(a="Unexpected state"){const e=`FIRESTORE (${Ke}) INTERNAL ASSERTION FAILED: `+a;throw Ht(e),new Error(e)}function kt(a,e){a||Et()}function Ut(a,e){a||Et()}function tt(a,e){return a}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends me.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class de{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class be{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Xe.UNAUTHENTICATED))}shutdown(){}}class Ie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const f=j=>this.i!==u?(u=this.i,r(j)):Promise.resolve();let m=new de;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new de,e.enqueueRetryable(()=>f(this.currentUser))};const T=()=>{const j=m;e.enqueueRetryable((0,l.Z)(function*(){yield j.promise,yield f(o.currentUser)}))},M=j=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(j=>M(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?M(j):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new de)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(kt("string"==typeof o.accessToken),new be(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new Xe(e)}}class mt{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vt{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new mt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class an{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=f=>{null!=f.error&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,ye("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(kt("string"==typeof r.token),this.R=r.token,new an(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _n(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class er{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=_n(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return o}}function Mt(a,e){return a<e?-1:a>e?1:0}function En(a,e,r){return a.length===e.length&&a.every((o,u)=>r(o,e[u]))}function On(a){return a+"\0"}class Vt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ie(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ie(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ie(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Vt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Vt(0,0))}static max(){return new xt(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wr{constructor(e,r,o){void 0===r?r=0:r>e.length&&Et(),void 0===o?o=e.length-r:o>e.length-r&&Et(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===wr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const f=e.get(u),m=r.get(u);if(f<m)return-1;if(f>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class rn extends wr{construct(e,r,o){return new rn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ie(le.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new rn(r)}static emptyPath(){return new rn([])}}const sr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends wr{construct(e,r,o){return new Vn(e,r,o)}static isValidIdentifier(e){return sr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vn(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const f=()=>{if(0===o.length)throw new ie(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let m=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new ie(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[u+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new ie(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=M,u+=2}else"`"===T?(m=!m,u++):"."!==T||m?(o+=T,u++):(f(),u++)}if(f(),m)throw new ie(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(r)}static emptyPath(){return new Vn([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(rn.fromString(e))}static fromName(e){return new Rt(rn.fromString(e).popFirst(5))}static empty(){return new Rt(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return rn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new rn(e.slice()))}}class cn{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function Cn(a){return a.fields.find(e=>2===e.kind)}function gn(a){return a.fields.filter(e=>2!==e.kind)}cn.UNKNOWN_ID=-1;class ur{constructor(e,r){this.fieldPath=e,this.kind=r}}class Rn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Rn(0,en.min())}}function xr(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=xt.fromTimestamp(1e9===o?new Vt(r+1,0):new Vt(r,o));return new en(u,Rt.empty(),e)}function Di(a){return new en(a.readTime,a.key,-1)}class en{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new en(xt.min(),Rt.empty(),-1)}static max(){return new en(xt.max(),Rt.empty(),-1)}}function Or(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Rt.comparator(a.documentKey,e.documentKey),0!==r?r:Mt(a.largestBatchId,e.largestBatchId))}const $n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dn(a){return si.apply(this,arguments)}function si(){return(si=(0,l.Z)(function*(a){if(a.code!==le.FAILED_PRECONDITION||a.message!==$n)throw a;ye("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new je((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof je?r:je.resolve(r)}catch(r){return je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):je.reject(r)}static resolve(e){return new je((r,o)=>{r(e)})}static reject(e){return new je((r,o)=>{o(e)})}static waitFor(e){return new je((r,o)=>{let u=0,f=0,m=!1;e.forEach(T=>{++u,T.next(()=>{++f,m&&f===u&&r()},M=>o(M))}),m=!0,f===u&&r()})}static or(e){let r=je.resolve(!1);for(const o of e)r=r.next(u=>u?je.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,f)=>{o.push(r.call(this,u,f))}),this.waitFor(o)}static mapArray(e,r){return new je((o,u)=>{const f=e.length,m=new Array(f);let T=0;for(let M=0;M<f;M++){const j=M;r(e[j]).next(ee=>{m[j]=ee,++T,T===f&&o(m)},ee=>u(ee))}})}static doWhile(e,r){return new je((o,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):o()};f()})}}class dt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new de,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Bt(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=K(o.target.error);this.V.reject(new Bt(e,u))}}static open(e,r,o,u){try{return new dt(r,e.transaction(u,o))}catch(f){throw new Bt(r,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new mr(r)}}class X{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===X.S((0,me.z$)())&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ye("SimpleDb","Removing database:",e),Yn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(X.C())return!0;const e=(0,me.z$)(),r=X.S(e),o=0<r&&r<10,u=Ee(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,l.Z)(function*(){return r.db||(ye("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{o(m.target.result)},f.onblocked=()=>{u(new Bt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const T=m.target.error;u("VersionError"===T.name?new ie(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new ie(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Bt(e,T))},f.onupgradeneeded=m=>{ye("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.p.O(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{ye("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var f=this;return(0,l.Z)(function*(){const m="readonly"===r;let T=0;for(;;){++T;try{f.db=yield f.M(e);const M=dt.open(f.db,e,m?"readonly":"readwrite",o),j=u(M).next(ee=>(M.g(),ee)).catch(ee=>(M.abort(ee),je.reject(ee))).toPromise();return j.catch(()=>{}),yield M.m,j}catch(M){const j=M,ee="FirebaseError"!==j.name&&T<3;if(ye("SimpleDb","Transaction failed with error:",j.message,"Retrying:",ee),f.close(),!ee)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ee(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ht{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Yn(this.B.delete())}}class Bt extends ie{constructor(e,r){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Tn(a){return"IndexedDbTransactionError"===a.name}class mr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(ye("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Yn(o)}add(e){return ye("SimpleDb","ADD",this.store.name,e,e),Yn(this.store.add(e))}get(e){return Yn(this.store.get(e)).next(r=>(void 0===r&&(r=null),ye("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ye("SimpleDb","DELETE",this.store.name,e),Yn(this.store.delete(e))}count(){return ye("SimpleDb","COUNT",this.store.name),Yn(this.store.count())}U(e,r){const o=this.options(e,r),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(o.range);return new je((m,T)=>{f.onerror=M=>{T(M.target.error)},f.onsuccess=M=>{m(M.target.result)}})}{const f=this.cursor(o),m=[];return this.W(f,(T,M)=>{m.push(M)}).next(()=>m)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new je((u,f)=>{o.onerror=m=>{f(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}j(e,r){ye("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const u=this.cursor(o);return this.W(u,(f,m,T)=>T.delete())}J(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.W(u,r)}Y(e){const r=this.cursor({});return new je((o,u)=>{r.onerror=f=>{const m=K(f.target.error);u(m)},r.onsuccess=f=>{const m=f.target.result;m?e(m.primaryKey,m.value).next(T=>{T?m.continue():o()}):o()}})}W(e,r){const o=[];return new je((u,f)=>{e.onerror=m=>{f(m.target.error)},e.onsuccess=m=>{const T=m.target.result;if(!T)return void u();const M=new ht(T),j=r(T.primaryKey,T.value,M);if(j instanceof je){const ee=j.catch(he=>(M.done(),je.reject(he)));o.push(ee)}M.isDone?u():null===M.K?T.continue():T.continue(M.K)}}).next(()=>je.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Yn(a){return new je((e,r)=>{a.onsuccess=o=>{e(o.target.result)},a.onerror=o=>{const u=K(o.target.error);r(u)}})}let Ae=!1;function K(a){const e=X.S((0,me.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ae||(Ae=!0,setTimeout(()=>{throw o},0)),o}}return a}class V{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;ye("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)(function*(){r.task=null;try{ye("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){Tn(o)?ye("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Dn(o)}yield r.X(6e4)}))}}class O{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,l.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let u=r,f=!0;return je.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return ye("IndexBackfiller",`Processing collection: ${m}`),this.ne(e,m,u).next(T=>{u-=T,o.add(m)});f=!1})).next(()=>r-u)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(f=>{const m=f.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.re(u,f)).next(T=>(ye("IndexBackfiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,r,T))).next(()=>m.size)}))}re(e,r){let o=e;return r.changes.forEach((u,f)=>{const m=Di(f);Or(m,o)>0&&(o=m)}),new en(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let x=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function ae(a){return null==a}function xe(a){return 0===a&&1/a==-1/0}function ft(a){return"number"==typeof a&&Number.isInteger(a)&&!xe(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function At(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Zt(e)),e=on(a.get(r),e);return Zt(e)}function on(a,e){let r=e;const o=a.length;for(let u=0;u<o;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Zt(a){return a+"\x01\x01"}function Jt(a){const e=a.length;if(kt(e>=2),2===e)return kt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),rn.emptyPath();const r=e-2,o=[];let u="";for(let f=0;f<e;){const m=a.indexOf("\x01",f);switch((m<0||m>r)&&Et(),a.charAt(m+1)){case"\x01":const T=a.substring(f,m);let M;0===u.length?M=T:(u+=T,M=u,u=""),o.push(M);break;case"\x10":u+=a.substring(f,m),u+="\0";break;case"\x11":u+=a.substring(f,m+1);break;default:Et()}f=m+2}return new rn(o)}const zn=["userId","batchId"];function vn(a,e){return[a,At(e)]}function Gn(a,e,r){return[a,At(e),r]}const Li={},Ai=["prefixPath","collectionGroup","readTime","documentId"],zr=["prefixPath","collectionGroup","documentId"],Qi=["collectionGroup","readTime","prefixPath","documentId"],Gi=["canonicalId","targetId"],kr=["targetId","path"],Wn=["path","targetId"],st=["collectionId","parent"],qe=["indexId","uid"],It=["uid","sequenceNumber"],tn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bn=["indexId","uid","orderedDocumentKey"],Pn=["userId","collectionPath","documentId"],dn=["userId","collectionPath","largestBatchId"],vr=["userId","collectionGroup","largestBatchId"],cr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],di=[...cr,"documentOverlays"],uo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lr=uo,Vo=[...lr,"indexConfiguration","indexState","indexEntries"],ai=Vo;class Uo extends tr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function qr(a,e){const r=tt(a);return X.F(r._e,e)}function ws(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Ji(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function yi(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class nr{constructor(e,r){this.comparator=e,this.root=r||_r.EMPTY}insert(e,r){return new nr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mo(this.root,e,this.comparator,!0)}}class Mo{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=o??_r.RED,this.left=u??_r.EMPTY,this.right=f??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,f){return new _r(e??this.key,r??this.value,o??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return _r.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,r,o,u,f){return this}insert(e,r,o){return new _r(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new yo(this.data.getIterator())}getIteratorFrom(e){return new yo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new pr(this.comparator);return r.data=e,r}}class yo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mi(a){return a.hasNext()?a.getNext():void 0}class vi{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new vi([])}unionWith(e){let r=new pr(Vn.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new vi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return En(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Vi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function hs(){return typeof atob<"u"}class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Vi("Invalid base64 string: "+f):f}}(e);return new hi(r)}static fromUint8Array(e){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(e);return new hi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(a){if(kt(!!a),"string"==typeof a){let e=0;const r=ks.exec(a);if(kt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Gr(a.seconds),nanos:Gr(a.nanos)}}function Gr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Ui(a){return"string"==typeof a?hi.fromBase64String(a):hi.fromUint8Array(a)}function vo(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Bi(a){const e=a.mapValue.fields.__previous_value__;return vo(e)?Bi(e):e}function Tr(a){const e=Xi(a.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}class ro{constructor(e,r,o,u,f,m,T,M,j){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.longPollingOptions=M,this.useFetchStreams=j}}class Nn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Nn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Nn&&e.projectId===this.projectId&&e.database===this.database}}const Wr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qr={nullValue:"NULL_VALUE"};function Ei(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?vo(a)?4:Ar(a)?9007199254740991:10:Et()}function Er(a,e){if(a===e)return!0;const r=Ei(a);if(r!==Ei(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Tr(a).isEqual(Tr(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=Xi(u.timestampValue),T=Xi(f.timestampValue);return m.seconds===T.seconds&&m.nanos===T.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,Ui(a.bytesValue).isEqual(Ui(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return Gr(u.geoPointValue.latitude)===Gr(f.geoPointValue.latitude)&&Gr(u.geoPointValue.longitude)===Gr(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Gr(u.integerValue)===Gr(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=Gr(u.doubleValue),T=Gr(f.doubleValue);return m===T?xe(m)===xe(T):isNaN(m)&&isNaN(T)}return!1}(a,e);case 9:return En(a.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:return function(u,f){const m=u.mapValue.fields||{},T=f.mapValue.fields||{};if(ws(m)!==ws(T))return!1;for(const M in m)if(m.hasOwnProperty(M)&&(void 0===T[M]||!Er(m[M],T[M])))return!1;return!0}(a,e);default:return Et()}var f}function Eo(a,e){return void 0!==(a.values||[]).find(r=>Er(r,e))}function ji(a,e){if(a===e)return 0;const r=Ei(a),o=Ei(e);if(r!==o)return Mt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,e.booleanValue);case 2:return function(f,m){const T=Gr(f.integerValue||f.doubleValue),M=Gr(m.integerValue||m.doubleValue);return T<M?-1:T>M?1:T===M?0:isNaN(T)?isNaN(M)?0:-1:1}(a,e);case 3:return Io(a.timestampValue,e.timestampValue);case 4:return Io(Tr(a),Tr(e));case 5:return Mt(a.stringValue,e.stringValue);case 6:return function(f,m){const T=Ui(f),M=Ui(m);return T.compareTo(M)}(a.bytesValue,e.bytesValue);case 7:return function(f,m){const T=f.split("/"),M=m.split("/");for(let j=0;j<T.length&&j<M.length;j++){const ee=Mt(T[j],M[j]);if(0!==ee)return ee}return Mt(T.length,M.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,m){const T=Mt(Gr(f.latitude),Gr(m.latitude));return 0!==T?T:Mt(Gr(f.longitude),Gr(m.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(f,m){const T=f.values||[],M=m.values||[];for(let j=0;j<T.length&&j<M.length;++j){const ee=ji(T[j],M[j]);if(ee)return ee}return Mt(T.length,M.length)}(a.arrayValue,e.arrayValue);case 10:return function(f,m){if(f===Wr.mapValue&&m===Wr.mapValue)return 0;if(f===Wr.mapValue)return 1;if(m===Wr.mapValue)return-1;const T=f.fields||{},M=Object.keys(T),j=m.fields||{},ee=Object.keys(j);M.sort(),ee.sort();for(let he=0;he<M.length&&he<ee.length;++he){const Re=Mt(M[he],ee[he]);if(0!==Re)return Re;const it=ji(T[M[he]],j[ee[he]]);if(0!==it)return it}return Mt(M.length,ee.length)}(a.mapValue,e.mapValue);default:throw Et()}}function Io(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Mt(a,e);const r=Xi(a),o=Xi(e),u=Mt(r.seconds,o.seconds);return 0!==u?u:Mt(r.nanos,o.nanos)}function Ii(a){return Wi(a)}function Wi(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=Xi(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Ui(a.bytesValue).toBase64():"referenceValue"in a?Rt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=Wi(f);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of o)f?f=!1:u+=",",u+=`${m}:${Wi(r.fields[m])}`;return u+"}"}(a.mapValue):Et()}function Qt(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Fn(a){return!!a&&"integerValue"in a}function Qn(a){return!!a&&"arrayValue"in a}function Ci(a){return!!a&&"nullValue"in a}function Ro(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Zr(a){return!!a&&"mapValue"in a}function io(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ji(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=io(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=io(a.arrayValue.values[r]);return e}return Object.assign({},a)}function Ar(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function co(a){return"nullValue"in a?Qr:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Qt(Nn.empty(),Rt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:Et()}function lo(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Qt(Nn.empty(),Rt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?Wr:Et()}function kn(a,e){const r=ji(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function Ri(a,e){const r=ji(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Zr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(r)}setAll(e){let r=Vn.emptyPath(),o={},u=[];e.forEach((m,T)=>{if(!r.isImmediateParentOf(T)){const M=this.getFieldsMap(r);this.applyChanges(M,o,u),o={},u=[],r=T.popLast()}m?o[T.lastSegment()]=io(m):u.push(T.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,u)}delete(e){const r=this.field(e.popLast());Zr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];Zr(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){Ji(r,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new jr(io(this.value))}}function q(a){const e=[];return Ji(a.fields,(r,o)=>{const u=new Vn([r]);if(Zr(o)){const f=q(o.mapValue).fields;if(0===f.length)e.push(u);else for(const m of f)e.push(u.child(m))}else e.push(u)}),new vi(e)}class B{constructor(e,r,o,u,f,m,T){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=f,this.data=m,this.documentState=T}static newInvalidDocument(e){return new B(e,0,xt.min(),xt.min(),xt.min(),jr.empty(),0)}static newFoundDocument(e,r,o,u){return new B(e,1,r,xt.min(),o,u,0)}static newNoDocument(e,r){return new B(e,2,r,xt.min(),xt.min(),jr.empty(),0)}static newUnknownDocument(e,r){return new B(e,3,r,xt.min(),xt.min(),jr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof B&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new B(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ge{constructor(e,r){this.position=e,this.inclusive=r}}function we(a,e,r){let o=0;for(let u=0;u<a.position.length;u++){const f=e[u],m=a.position[u];if(o=f.field.isKeyField()?Rt.comparator(Rt.fromName(m.referenceValue),r.key):ji(m,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function $e(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Er(a.position[r],e.position[r]))return!1;return!0}class gt{constructor(e,r="asc"){this.field=e,this.dir=r}}function Gt(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class hn{}class St extends hn{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new xi(e,r,o):"array-contains"===r?new Ir(e,o):"in"===r?new zo(e,o):"not-in"===r?new Oi(e,o):"array-contains-any"===r?new Ts(e,o):new St(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Jn(e,o):new ci(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ji(r,this.value)):null!==r&&Ei(this.value)===Ei(r)&&this.matchesComparison(ji(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends hn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new un(e,r)}matches(e){return Zn(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zn(a){return"and"===a.op}function wn(a){return"or"===a.op}function Jr(a){return $r(a)&&Zn(a)}function $r(a){for(const e of a.filters)if(e instanceof un)return!1;return!0}function Xr(a){if(a instanceof St)return a.field.canonicalString()+a.op.toString()+Ii(a.value);if(Jr(a))return a.filters.map(e=>Xr(e)).join(",");{const e=a.filters.map(r=>Xr(r)).join(",");return`${a.op}(${e})`}}function Kr(a,e){return a instanceof St?(o=a,(u=e)instanceof St&&o.op===u.op&&o.field.isEqual(u.field)&&Er(o.value,u.value)):a instanceof un?function(o,u){return u instanceof un&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((f,m,T)=>f&&Kr(m,u.filters[T]),!0)}(a,e):void Et();var o,u}function Fr(a,e){const r=a.filters.concat(e);return un.create(r,a.op)}function $i(a){return a instanceof St?`${(r=a).field.canonicalString()} ${r.op} ${Ii(r.value)}`:a instanceof un?function(r){return r.op.toString()+" {"+r.getFilters().map($i).join(" ,")+"}"}(a):"Filter";var r}class xi extends St{constructor(e,r,o){super(e,r,o),this.key=Rt.fromName(o.referenceValue)}matches(e){const r=Rt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Jn extends St{constructor(e,r){super(e,"in",r),this.keys=Hr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ci extends St{constructor(e,r){super(e,"not-in",r),this.keys=Hr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Hr(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Rt.fromName(o.referenceValue))}class Ir extends St{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Qn(r)&&Eo(r.arrayValue,this.value)}}class zo extends St{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Eo(this.value.arrayValue,r)}}class Oi extends St{constructor(e,r){super(e,"not-in",r)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Eo(this.value.arrayValue,r)}}class Ts extends St{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Qn(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Eo(this.value.arrayValue,o))}}class qi{constructor(e,r=null,o=[],u=[],f=null,m=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=m,this.endAt=T,this.ue=null}}function Fs(a,e=null,r=[],o=[],u=null,f=null,m=null){return new qi(a,e,r,o,u,f,m)}function ho(a){const e=tt(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Xr(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(f=o).field.canonicalString()+f.dir;var f}).join(","),ae(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Ii(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Ii(o)).join(",")),e.ue=r}return e.ue}function Go(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Gt(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Kr(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!$e(a.startAt,e.startAt)&&$e(a.endAt,e.endAt)}function ua(a){return Rt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function bs(a,e){return a.filters.filter(r=>r instanceof St&&r.field.isEqual(e))}function wi(a,e,r){let o=Qr,u=!0;for(const f of bs(a,e)){let m=Qr,T=!0;switch(f.op){case"<":case"<=":m=co(f.value);break;case"==":case"in":case">=":m=f.value;break;case">":m=f.value,T=!1;break;case"!=":case"not-in":m=Qr}kn({value:o,inclusive:u},{value:m,inclusive:T})<0&&(o=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];kn({value:o,inclusive:u},{value:m,inclusive:r.inclusive})<0&&(o=m,u=r.inclusive);break}return{value:o,inclusive:u}}function fs(a,e,r){let o=Wr,u=!0;for(const f of bs(a,e)){let m=Wr,T=!0;switch(f.op){case">=":case">":m=lo(f.value),T=!1;break;case"==":case"in":case"<=":m=f.value;break;case"<":m=f.value,T=!1;break;case"!=":case"not-in":m=Wr}Ri({value:o,inclusive:u},{value:m,inclusive:T})>0&&(o=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];Ri({value:o,inclusive:u},{value:m,inclusive:r.inclusive})>0&&(o=m,u=r.inclusive);break}return{value:o,inclusive:u}}class ps{constructor(e,r=null,o=[],u=[],f=null,m="F",T=null,M=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=m,this.startAt=T,this.endAt=M,this.ce=null,this.le=null,this.he=null}}function Aa(a,e,r,o,u,f,m,T){return new ps(a,e,r,o,u,f,m,T)}function br(a){return new ps(a)}function Ds(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function ca(a){return null!==a.collectionGroup}function U(a){const e=tt(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let T=new pr(Vn.comparator);return m.filters.forEach(M=>{M.getFlattenedFilters().forEach(j=>{j.isInequality()&&(T=T.add(j.field))})}),T})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new gt(f,o))}),r.has(Vn.keyField().canonicalString())||e.ce.push(new gt(Vn.keyField(),o))}return e.ce}function G(a){const e=tt(a);return e.le||(e.le=function te(a,e){if("F"===a.limitType)return Fs(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new gt(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new ge(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new ge(a.startAt.position,a.startAt.inclusive):null;return Fs(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,U(a))),e.le}function Pe(a,e){const r=a.filters.concat([e]);return new ps(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function fn(a,e,r){return new ps(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Ln(a,e){return Go(G(a),G(e))&&a.limitType===e.limitType}function Ni(a){return`${ho(G(a))}|lt:${a.limitType}`}function eo(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>$i(u)).join(", ")}]`),ae(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>Ii(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>Ii(u)).join(",")),`Target(${o})`}(G(a))}; limitType=${a.limitType})`}function ki(a,e){return e.isFoundDocument()&&function(o,u){const f=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):Rt.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(a,e)&&function(o,u){for(const f of U(o))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,e)&&function(o,u){for(const f of o.filters)if(!f.matches(u))return!1;return!0}(a,e)&&(u=e,!((o=a).startAt&&!function(m,T,M){const j=we(m,T,M);return m.inclusive?j<=0:j<0}(o.startAt,U(o),u)||o.endAt&&!function(m,T,M){const j=we(m,T,M);return m.inclusive?j>=0:j>0}(o.endAt,U(o),u)));var o,u}function ts(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function fo(a){return(e,r)=>{let o=!1;for(const u of U(a)){const f=Co(u,e,r);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function Co(a,e,r){const o=a.field.isKeyField()?Rt.comparator(e.key,r.key):function(f,m,T){const M=m.data.field(f),j=T.data.field(f);return null!==M&&null!==j?ji(M,j):Et()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return Et()}}class po{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(r,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return yi(this.inner)}size(){return this.innerSize}}const _c=new nr(Rt.comparator);function Lr(){return _c}const Ls=new nr(Rt.comparator);function Fi(...a){let e=Ls;for(const r of a)e=e.insert(r.key,r);return e}function Qa(a){let e=Ls;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function wo(){return xo()}function As(){return xo()}function xo(){return new po(a=>a.toString(),(a,e)=>a.isEqual(e))}const Gs=new nr(Rt.comparator),ns=new pr(Rt.comparator);function Kn(...a){let e=ns;for(const r of a)e=e.add(r);return e}const Ws=new pr(Mt);function Vs(){return Ws}function Us(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xe(e)?"-0":e}}function qs(a){return{integerValue:""+a}}function Bs(a,e){return ft(e)?qs(e):Us(a,e)}class To{constructor(){this._=void 0}}function rs(a,e,r){return a instanceof Zs?function(u,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&vo(f)&&(f=Bi(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,e):a instanceof gs?Ks(a,e):a instanceof ms?yc(a,e):function(u,f){const m=da(u,f),T=Ys(m)+Ys(u.Pe);return Fn(m)&&Fn(u.Pe)?qs(T):Us(u.serializer,T)}(a,e)}function la(a,e,r){return a instanceof gs?Ks(a,e):a instanceof ms?yc(a,e):r}function da(a,e){return a instanceof js?Fn(o=e)||(f=o)&&"doubleValue"in f?e:{integerValue:0}:null;var o,f}class Zs extends To{}class gs extends To{constructor(e){super(),this.elements=e}}function Ks(a,e){const r=Fu(e);for(const o of a.elements)r.some(u=>Er(u,o))||r.push(o);return{arrayValue:{values:r}}}class ms extends To{constructor(e){super(),this.elements=e}}function yc(a,e){let r=Fu(e);for(const o of a.elements)r=r.filter(u=>!Er(u,o));return{arrayValue:{values:r}}}class js extends To{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ys(a){return Gr(a.integerValue||a.doubleValue)}function Fu(a){return Qn(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class $s{constructor(e,r){this.field=e,this.transform=r}}class Xa{constructor(e,r){this.version=e,this.transformResults=r}}class ei{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Z{}function N(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Yr(a.key,ei.none()):new mn(a.key,a.data,ei.none());{const r=a.data,o=jr.empty();let u=new pr(Vn.comparator);for(let f of e.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?o.delete(f):o.set(f,m),u=u.add(f)}return new gr(a.key,o,new vi(u.toArray()),ei.none())}}function W(a,e,r){a instanceof mn?function(u,f,m){const T=u.value.clone(),M=Sr(u.fieldTransforms,f,m.transformResults);T.setAll(M),f.convertToFoundDocument(m.version,T).setHasCommittedMutations()}(a,e,r):a instanceof gr?function(u,f,m){if(!b(u.precondition,f))return void f.convertToUnknownDocument(m.version);const T=Sr(u.fieldTransforms,f,m.transformResults),M=f.data;M.setAll(Dr(u)),M.setAll(T),f.convertToFoundDocument(m.version,M).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ve(a,e,r,o){return a instanceof mn?function(f,m,T,M){if(!b(f.precondition,m))return T;const j=f.value.clone(),ee=ir(f.fieldTransforms,M,m);return j.setAll(ee),m.convertToFoundDocument(m.version,j).setHasLocalMutations(),null}(a,e,r,o):a instanceof gr?function(f,m,T,M){if(!b(f.precondition,m))return T;const j=ir(f.fieldTransforms,M,m),ee=m.data;return ee.setAll(Dr(f)),ee.setAll(j),m.convertToFoundDocument(m.version,ee).setHasLocalMutations(),null===T?null:T.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(he=>he.field))}(a,e,r,o):(T=r,b(a.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):T);var m,T}function lt(a,e){let r=null;for(const o of a.fieldTransforms){const u=e.data.field(o.field),f=da(o.transform,u||null);null!=f&&(null===r&&(r=jr.empty()),r.set(o.field,f))}return r||null}function bt(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&En(o,u,(f,m)=>function Ja(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(o=a.transform)instanceof gs&&u instanceof gs||o instanceof ms&&u instanceof ms?En(o.elements,u.elements,Er):o instanceof js&&u instanceof js?Er(o.Pe,u.Pe):o instanceof Zs&&u instanceof Zs);var o,u}(f,m))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,u}class mn extends Z{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gr extends Z{constructor(e,r,o,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Dr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function Sr(a,e,r){const o=new Map;kt(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],m=f.transform,T=e.data.field(f.field);o.set(f.field,la(m,T,r[u]))}return o}function ir(a,e,r){const o=new Map;for(const u of a){const f=u.transform,m=r.data.field(u.field);o.set(u.field,rs(f,m,e))}return o}class Yr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pi{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&W(f,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=ve(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=ve(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=As();return this.mutations.forEach(u=>{const f=e.get(u.key),m=f.overlayedDocument;let T=this.applyToLocalView(m,f.mutatedFields);T=r.has(u.key)?null:T;const M=N(m,T);null!==M&&o.set(u.key,M),m.isValidDocument()||m.convertToNoDocument(xt.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Kn())}isEqual(e){return this.batchId===e.batchId&&En(this.mutations,e.mutations,(r,o)=>bt(r,o))&&En(this.baseMutations,e.baseMutations,(r,o)=>bt(r,o))}}class Zi{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){kt(e.mutations.length===o.length);let u=Gs;const f=e.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,o[m].version);return new Zi(e,r,o,u)}}class go{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bo{constructor(e,r){this.count=e,this.unchangedNames=r}}var ti,Hn;function Bo(a){switch(a){default:return Et();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function vc(a){if(void 0===a)return Ht("GRPC error has no .code"),le.UNKNOWN;switch(a){case ti.OK:return le.OK;case ti.CANCELLED:return le.CANCELLED;case ti.UNKNOWN:return le.UNKNOWN;case ti.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case ti.INTERNAL:return le.INTERNAL;case ti.UNAVAILABLE:return le.UNAVAILABLE;case ti.UNAUTHENTICATED:return le.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case ti.NOT_FOUND:return le.NOT_FOUND;case ti.ALREADY_EXISTS:return le.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return le.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case ti.ABORTED:return le.ABORTED;case ti.OUT_OF_RANGE:return le.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return le.UNIMPLEMENTED;case ti.DATA_LOSS:return le.DATA_LOSS;default:return Et()}}(Hn=ti||(ti={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";function Qs(){return new TextEncoder}const Js=new ke([4294967295,4294967295],0);function Do(a){const e=Qs().encode(a),r=new He;return r.update(e),new Uint8Array(r.digest())}function Ec(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new ke([r,o],0),new ke([u,f],0)]}class Lu{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Ps(`Invalid padding: ${r}`);if(o<0)throw new Ps(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Ps(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Ps(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ke.fromNumber(this.Ie)}Ee(e,r,o){let u=e.add(r.multiply(ke.fromNumber(o)));return 1===u.compare(Js)&&(u=new ke([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Do(e),[o,u]=Ec(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(o,u,f);if(!this.de(m))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new Lu(f,u,r);return o.forEach(T=>m.insert(T)),m}insert(e){if(0===this.Ie)return;const r=Do(e),[o,u]=Ec(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(o,u,f);this.Ae(m)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ps extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ri{constructor(e,r,o,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new ri(xt.min(),u,new nr(Mt),Lr(),Kn())}}class eu{constructor(e,r,o,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new eu(o,r,Kn(),Kn(),Kn())}}class tu{constructor(e,r,o,u){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=u}}class nu{constructor(e,r){this.targetId=e,this.me=r}}class is{constructor(e,r,o=hi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class _s{constructor(){this.fe=0,this.ge=Cc(),this.pe=hi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Kn(),r=Kn(),o=Kn();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:Et()}}),new eu(this.pe,this.ye,e,r,o)}ve(){this.we=!1,this.ge=Cc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ru{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=Ic(),this.Qe=new nr(Mt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.ve(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:Et()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,o=e.me.count,u=this.Je(r);if(u){const f=u.target;if(ua(f))if(0===o){const m=new Rt(f.path);this.Ue(r,m,B.newNoDocument(m,xt.min()))}else kt(1===o);else{const m=this.Ye(r);if(m!==o){const T=this.Ze(e),M=T?this.Xe(T,e,m):1;0!==M&&(this.je(r),this.Qe=this.Qe.insert(r,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=r;let m,T;try{m=Ui(o).toUint8Array()}catch(M){if(M instanceof Vi)return Xt("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{T=new Lu(m,u,f)}catch(M){return Xt(M instanceof Ps?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===T.Ie?null:T}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(f=>{const m=this.Le.tt(),T=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(T)||(this.Ue(r,f,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((f,m)=>{const T=this.Je(m);if(T){if(f.current&&ua(T.target)){const M=new Rt(T.target.path);null!==this.ke.get(M)||this.it(m,M)||this.Ue(m,M,B.newNoDocument(M,e))}f.be&&(r.set(m,f.Ce()),f.ve())}});let o=Kn();this.qe.forEach((f,m)=>{let T=!0;m.forEachWhile(M=>{const j=this.Je(M);return!j||"TargetPurposeLimboResolution"===j.purpose||(T=!1,!1)}),T&&(o=o.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(e));const u=new ri(e,r,this.Qe,this.ke,o);return this.ke=Lr(),this.qe=Ic(),this.Qe=new nr(Mt),u}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new _s,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new pr(Mt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ye("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _s),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Ic(){return new nr(Rt.comparator)}function Cc(){return new nr(Rt.comparator)}const wc={asc:"ASCENDING",desc:"DESCENDING"},Tc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qn={and:"AND",or:"OR"};class fl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Sa(a,e){return a.useProto3Json||ae(e)?e:{value:e}}function mo(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bc(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Vu(a,e){return mo(a,e.toTimestamp())}function Si(a){return kt(!!a),xt.fromTimestamp(function(r){const o=Xi(r);return new Vt(o.seconds,o.nanos)}(a))}function Xs(a,e){return iu(a,e).canonicalString()}function iu(a,e){const r=(u=a,new rn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Uu(a){const e=rn.fromString(a);return kt(xa(e)),e}function ha(a,e){return Xs(a.databaseId,e.path)}function os(a,e){const r=Uu(e);if(r.get(1)!==a.databaseId.projectId)throw new ie(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ie(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Rt(Bu(r))}function pl(a,e){return Xs(a.databaseId,e)}function Nt(a){const e=Uu(a);return 4===e.length?rn.emptyPath():Bu(e)}function Cr(a){return new rn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Bu(a){return kt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function fa(a,e,r){return{name:ha(a,e),fields:r.value.mapValue.fields}}function oo(a,e,r){const o=os(a,e.name),u=Si(e.updateTime),f=e.createTime?Si(e.createTime):xt.min(),m=new jr({mapValue:{fields:e.fields}}),T=B.newFoundDocument(o,u,f,m);return r&&T.setHasCommittedMutations(),r?T.setHasCommittedMutations():T}function Ao(a,e){let r;if(e instanceof mn)r={update:fa(a,e.key,e.value)};else if(e instanceof Yr)r={delete:ha(a,e.key)};else if(e instanceof gr)r={update:fa(a,e.key,e.data),updateMask:$u(e.fieldMask)};else{if(!(e instanceof Vr))return Et();r={verify:ha(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(f,m){const T=m.transform;if(T instanceof Zs)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof gs)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof ms)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof js)return{fieldPath:m.field.canonicalString(),increment:T.Pe};throw Et()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Vu(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Et()),r;var f}function pa(a,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?ei.updateTime(Si(f.updateTime)):void 0!==f.exists?ei.exists(f.exists):ei.none():ei.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(m,T){let M=null;"setToServerValue"in T?(kt("REQUEST_TIME"===T.setToServerValue),M=new Zs):"appendMissingElements"in T?M=new gs(T.appendMissingElements.values||[]):"removeAllFromArray"in T?M=new ms(T.removeAllFromArray.values||[]):"increment"in T?M=new js(m,T.increment):Et();const j=Vn.fromServerFormat(T.fieldPath);return new $s(j,M)}(a,u)):[];var f;if(e.update){const u=os(a,e.update.name),f=new jr({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new vi((e.updateMask.fieldPaths||[]).map(ee=>Vn.fromServerFormat(ee)));return new gr(u,f,m,r,o)}return new mn(u,f,r,o)}if(e.delete){const u=os(a,e.delete);return new Yr(u,r)}if(e.verify){const u=os(a,e.verify);return new Vr(u,r)}return Et()}function Dc(a,e){return{documents:[pl(a,e.path)]}}function ju(a,e){const r={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=pl(a,u);const f=function(j){if(0!==j.length)return Ra(un.create(j,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const m=function(j){if(0!==j.length)return j.map(ee=>{return{field:as((Re=ee).field),direction:ss(Re.dir)};var Re})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const T=Sa(a,e.limit);return null!==T&&(r.structuredQuery.limit=T),e.startAt&&(r.structuredQuery.startAt={before:(j=e.startAt).inclusive,values:j.position}),e.endAt&&(r.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(e.endAt)),{_t:r,parent:u};var j}function _o(a){let e=Nt(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){kt(1===o);const ee=r.from[0];ee.allDescendants?u=ee.collectionId:e=e.child(ee.collectionId)}let f=[];r.where&&(f=function(he){const Re=su(he);return Re instanceof un&&Jr(Re)?Re.getFilters():[Re]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(Re=>{return new gt(Ms((Ot=Re).field),function($t){switch($t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ot.direction));var Ot}));let T=null;r.limit&&(T=function(he){let Re;return Re="object"==typeof he?he.value:he,ae(Re)?null:Re}(r.limit));let M=null;var he;r.startAt&&(M=new ge((he=r.startAt).values||[],!!he.before));let j=null;return r.endAt&&(j=function(he){return new ge(he.values||[],!he.before)}(r.endAt)),Aa(e,u,m,f,T,"F",M,j)}function su(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Ms(r.unaryFilter.field);return St.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Ms(r.unaryFilter.field);return St.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Ms(r.unaryFilter.field);return St.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Ms(r.unaryFilter.field);return St.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(a):void 0!==a.fieldFilter?St.create(Ms((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return un.create(r.compositeFilter.filters.map(o=>su(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Et()}}(r.compositeFilter.op))}(a):Et();var r}function ss(a){return wc[a]}function Oo(a){return Tc[a]}function Ac(a){return qn[a]}function as(a){return{fieldPath:a.canonicalString()}}function Ms(a){return Vn.fromServerFormat(a.fieldPath)}function Ra(a){return a instanceof St?function(r){if("=="===r.op){if(Ro(r.value))return{unaryFilter:{field:as(r.field),op:"IS_NAN"}};if(Ci(r.value))return{unaryFilter:{field:as(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ro(r.value))return{unaryFilter:{field:as(r.field),op:"IS_NOT_NAN"}};if(Ci(r.value))return{unaryFilter:{field:as(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(r.field),op:Oo(r.op),value:r.value}}}(a):a instanceof un?function(r){const o=r.getFilters().map(u=>Ra(u));return 1===o.length?o[0]:{compositeFilter:{op:Ac(r.op),filters:o}}}(a):Et()}function $u(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function xa(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class jo{constructor(e,r,o,u,f=xt.min(),m=xt.min(),T=hi.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T,this.expectedCount=M}withSequenceNumber(e){return new jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C{constructor(e){this.ct=e}}function E(a,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:S(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:ha(f=a.ct,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:mo(f,m.version.toTimestamp()),createTime:mo(f,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:F(e.version)};else{if(!e.isUnknownDocument())return Et();o.unknownDocument={path:r.path.toArray(),version:F(e.version)}}var f,m;return o}function S(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function F(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function J(a){const e=new Vt(a.seconds,a.nanoseconds);return xt.fromTimestamp(e)}function _e(a,e){const r=(e.baseMutations||[]).map(f=>pa(a.ct,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const o=e.mutations.map(f=>pa(a.ct,f)),u=Vt.fromMillis(e.localWriteTimeMs);return new pi(e.batchId,u,r,o)}function at(a){const e=J(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?J(a.lastLimboFreeSnapshotVersion):xt.min();let o;return o=void 0!==a.query.documents?(kt(1===(f=a.query).documents.length),G(br(Nt(f.documents[0])))):function(f){return G(_o(f))}(a.query),new jo(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,hi.fromBase64String(a.resumeToken));var f}function ot(a,e){const r=F(e.snapshotVersion),o=F(e.lastLimboFreeSnapshotVersion);let u;u=ua(e.target)?Dc(a.ct,e.target):ju(a.ct,e.target)._t;const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ho(e.target),readTime:r,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function ln(a){const e=_o({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?fn(e,e.limit,"L"):e}function Xn(a,e){return new go(e.largestBatchId,pa(a.ct,e.overlayMutation))}function ar(a,e){const r=e.path.lastSegment();return[a,At(e.path.popLast()),r]}function dr(a,e,r,o){return{indexId:a,uid:e,sequenceNumber:r,readTime:F(o.readTime),documentKey:At(o.documentKey.path),largestBatchId:o.largestBatchId}}class Ur{getBundleMetadata(e,r){return ea(e).get(r).next(o=>{if(o)return{id:(f=o).bundleId,createTime:J(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return ea(e).put({bundleId:(u=r).id,createTime:F(Si(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return ga(e).get(r).next(o=>{if(o)return{name:(f=o).name,query:ln(f.bundledQuery),readTime:J(f.readTime)};var f})}saveNamedQuery(e,r){return ga(e).put({name:(u=r).name,readTime:F(Si(u.readTime)),bundledQuery:u.bundledQuery});var u}}function ea(a){return qr(a,"bundles")}function ga(a){return qr(a,"namedQueries")}class ma{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new ma(e,r.uid||"")}getOverlay(e,r){return ys(e).get(ar(this.userId,r)).next(o=>o?Xn(this.serializer,o):null)}getOverlays(e,r){const o=wo();return je.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((f,m)=>{const T=new go(r,m);u.push(this.ht(e,T))}),je.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(m=>u.add(At(m.getCollectionPath())));const f=[];return u.forEach(m=>{const T=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);f.push(ys(e).j("collectionPathOverlayIndex",T))}),je.waitFor(f)}getOverlaysForCollection(e,r,o){const u=wo(),f=At(r),m=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return ys(e).U("collectionPathOverlayIndex",m).next(T=>{for(const M of T){const j=Xn(this.serializer,M);u.set(j.getKey(),j)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const f=wo();let m;const T=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ys(e).J({index:"collectionGroupOverlayIndex",range:T},(M,j,ee)=>{const he=Xn(this.serializer,j);f.size()<u||he.largestBatchId===m?(f.set(he.getKey(),he),m=he.largestBatchId):ee.done()}).next(()=>f)}ht(e,r){return ys(e).put(function(u,f,m){const[T,M,j]=ar(f,m.mutation.key);return{userId:f,collectionPath:M,documentId:j,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Ao(u.ct,m.mutation)}}(this.serializer,this.userId,r))}}function ys(a){return qr(a,"documentOverlays")}class Rs{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Gr(e.integerValue));else if("doubleValue"in e){const o=Gr(e.doubleValue);isNaN(o)?this.Et(r,13):(this.Et(r,15),xe(o)?r.dt(0):r.dt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.Et(r,20),"string"==typeof o&&(o=Xi(o)),r.At(`${o.seconds||""}`),r.dt(o.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ui(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(r,45),r.dt(o.latitude||0),r.dt(o.longitude||0)}else"mapValue"in e?Ar(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Et()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const o=e.fields||{};this.Et(r,55);for(const u of Object.keys(o))this.Rt(u,r),this.It(o[u],r)}wt(e,r){const o=e.values||[];this.Et(r,50);for(const u of o)this.It(u,r)}gt(e,r){this.Et(r,37),Rt.fromName(e).path.forEach(o=>{this.Et(r,60),this.St(o,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function yd(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function Hu(a){const e=64-function(o){let u=0;for(let f=0;f<8;++f){const m=yd(255&o[f]);if(u+=m,8!==m)break}return u}(a);return Math.ceil(e/8)}Rs.bt=new Rs;class _a{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ct(o.value),o=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Mt(o.value),o=r.next();this.xt()}Ot(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ct(o);else if(o<2048)this.Ct(960|o>>>6),this.Ct(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|o>>>12),this.Ct(128|63&o>>>6),this.Ct(128|63&o);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Mt(o);else if(o<2048)this.Mt(960|o>>>6),this.Mt(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|o>>>12),this.Mt(128|63&o>>>6),this.Mt(128|63&o);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),o=Hu(r);this.kt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),o=Hu(r);this.kt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(f){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,f,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class gl{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class zu{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class oe{constructor(){this.Gt=new _a,this.zt=new gl(this.Gt),this.jt=new zu(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class fe{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new fe(this.indexId,this.documentKey,this.arrayValue,o)}}function Q(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=Ce(a.arrayValue,e.arrayValue),0!==r?r:(r=Ce(a.directionalValue,e.directionalValue),0!==r?r:Rt.comparator(a.documentKey,e.documentKey)))}function Ce(a,e){for(let r=0;r<a.length&&r<e.length;++r){const o=a[r]-e[r];if(0!==o)return o}return a.length-e.length}class ze{constructor(e){this.Yt=new pr((r,o)=>Vn.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const o=r;o.isInequality()?this.Yt=this.Yt.add(o):this.Xt.push(o)}}get en(){return this.Yt.size>1}tn(e){if(kt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Cn(e);if(void 0!==r&&!this.nn(r))return!1;const o=gn(e);let u=new Set,f=0,m=0;for(;f<o.length&&this.nn(o[f]);++f)u=u.add(o[f].fieldPath.canonicalString());if(f===o.length)return!0;if(this.Yt.size>0){const T=this.Yt.getIterator().getNext();if(!u.has(T.field.canonicalString())){const M=o[f];if(!this.rn(T,M)||!this.sn(this.Zt[m++],M))return!1}++f}for(;f<o.length;++f)if(m>=this.Zt.length||!this.sn(this.Zt[m++],o[f]))return!1;return!0}on(){if(this.en)return null;let e=new pr(Vn.comparator);const r=[];for(const o of this.Xt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new ur(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new ur(o.field,0))}for(const o of this.Zt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new ur(o.field,"asc"===o.dir?0:1)));return new cn(cn.UNKNOWN_ID,this.collectionId,r,Rn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function zt(a){var e,r;if(kt(a instanceof St||a instanceof un),a instanceof St){if(a instanceof zo){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(f=>St.create(a.field,"==",f)))||[];return un.create(u,"or")}return a}const o=a.filters.map(u=>zt(u));return un.create(o,a.op)}function Yt(a){if(0===a.getFilters().length)return[];const e=So(zt(a));return kt(qo(e)),ii(e)||or(e)?[e]:e.getFilters()}function ii(a){return a instanceof St}function or(a){return a instanceof un&&Jr(a)}function qo(a){return ii(a)||or(a)||function(r){if(r instanceof un&&wn(r)){for(const o of r.getFilters())if(!ii(o)&&!or(o))return!1;return!0}return!1}(a)}function So(a){if(kt(a instanceof St||a instanceof un),a instanceof St)return a;if(1===a.filters.length)return So(a.filters[0]);const e=a.filters.map(o=>So(o));let r=un.create(e,a.op);return r=Oa(r),qo(r)?r:(kt(r instanceof un),kt(Zn(r)),kt(r.filters.length>1),r.filters.reduce((o,u)=>No(o,u)))}function No(a,e){let r;return kt(a instanceof St||a instanceof un),kt(e instanceof St||e instanceof un),r=a instanceof St?e instanceof St?un.create([a,e],"and"):Zo(a,e):e instanceof St?Zo(e,a):function(u,f){if(kt(u.filters.length>0&&f.filters.length>0),Zn(u)&&Zn(f))return Fr(u,f.getFilters());const m=wn(u)?u:f,T=wn(u)?f:u,M=m.filters.map(j=>No(j,T));return un.create(M,"or")}(a,e),Oa(r)}function Zo(a,e){if(Zn(e))return Fr(e,a.getFilters());{const r=e.filters.map(o=>No(a,o));return un.create(r,"or")}}function Oa(a){if(kt(a instanceof St||a instanceof un),a instanceof St)return a;const e=a.getFilters();if(1===e.length)return Oa(e[0]);if($r(a))return a;const r=e.map(u=>Oa(u)),o=[];return r.forEach(u=>{u instanceof St?o.push(u):u instanceof un&&(u.op===a.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:un.create(o,a.op)}class Gu{constructor(){this._n=new gi}addToCollectionParentIndex(e,r){return this._n.add(r),je.resolve()}getCollectionParents(e,r){return je.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return je.resolve()}deleteFieldIndex(e,r){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,r){return je.resolve()}getDocumentsMatchingTarget(e,r){return je.resolve(null)}getIndexType(e,r){return je.resolve(0)}getFieldIndexes(e,r){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,r){return je.resolve(en.min())}getMinOffsetFromCollectionGroup(e,r){return je.resolve(en.min())}updateCollectionGroup(e,r,o){return je.resolve()}updateIndexEntries(e,r){return je.resolve()}}class gi{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new pr(rn.comparator),f=!u.has(o);return this.index[r]=u.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new pr(rn.comparator)).toArray()}}const fi=new Uint8Array(0);class vs{constructor(e,r){this.databaseId=r,this.an=new gi,this.un=new po(o=>ho(o),(o,u)=>Go(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const f={collectionId:o,parent:At(u)};return Wu(e).put(f)}return je.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return Wu(e).U(u).next(f=>{for(const m of f){if(m.collectionId!==r)break;o.push(Jt(m.parent))}return o})}addFieldIndex(e,r){const o=xs(e),u={indexId:(T=r).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var T;delete u.indexId;const f=o.add(u);if(r.indexState){const m=us(e);return f.next(T=>{m.put(dr(T,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(e,r){const o=xs(e),u=us(e),f=mi(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=xs(e),o=mi(e),u=us(e);return r.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(e,r){return je.forEach(this.cn(r),o=>this.getIndexType(e,o).next(u=>{if(0===u||1===u){const f=new ze(o).on();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,r){const o=mi(e);let u=!0;const f=new Map;return je.forEach(this.cn(r),m=>this.ln(e,m).next(T=>{u&&(u=!!T),f.set(m,T)})).next(()=>{if(u){let m=Kn();const T=[];return je.forEach(f,(M,j)=>{var Mn;ye("IndexedDbIndexManager",`Using index ${Mn=M,`id=${Mn.indexId}|cg=${Mn.collectionGroup}|f=${Mn.fields.map(hr=>`${hr.fieldPath}:${hr.kind}`).join(",")}`} to execute ${ho(r)}`);const ee=function(Mn,hr){const li=Cn(hr);if(void 0===li)return null;for(const Mr of bs(Mn,li.fieldPath))switch(Mr.op){case"array-contains-any":return Mr.value.arrayValue.values||[];case"array-contains":return[Mr.value]}return null}(j,M),he=function(Mn,hr){const li=new Map;for(const Mr of gn(hr))for(const Ze of bs(Mn,Mr.fieldPath))switch(Ze.op){case"==":case"in":li.set(Mr.fieldPath.canonicalString(),Ze.value);break;case"not-in":case"!=":return li.set(Mr.fieldPath.canonicalString(),Ze.value),Array.from(li.values())}return null}(j,M),Re=function(Mn,hr){const li=[];let Mr=!0;for(const Ze of gn(hr)){const Se=0===Ze.kind?wi(Mn,Ze.fieldPath,Mn.startAt):fs(Mn,Ze.fieldPath,Mn.startAt);li.push(Se.value),Mr&&(Mr=Se.inclusive)}return new ge(li,Mr)}(j,M),it=function(Mn,hr){const li=[];let Mr=!0;for(const Ze of gn(hr)){const Se=0===Ze.kind?fs(Mn,Ze.fieldPath,Mn.endAt):wi(Mn,Ze.fieldPath,Mn.endAt);li.push(Se.value),Mr&&(Mr=Se.inclusive)}return new ge(li,Mr)}(j,M),Ot=this.hn(M,j,Re),Kt=this.hn(M,j,it),$t=this.Pn(M,j,he),An=this.In(M.indexId,ee,Ot,Re.inclusive,Kt,it.inclusive,$t);return je.forEach(An,Bn=>o.G(Bn,r.limit).next(Mn=>{Mn.forEach(hr=>{const li=Rt.fromSegments(hr.documentKey);m.has(li)||(m=m.add(li),T.push(li))})}))}).next(()=>T)}return je.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Yt(un.create(e.filters,"and")).map(o=>Fs(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,o,u,f,m,T){const M=(null!=r?r.length:1)*Math.max(o.length,f.length),j=M/(null!=r?r.length:1),ee=[];for(let he=0;he<M;++he){const Re=r?this.Tn(r[he/j]):fi,it=this.En(e,Re,o[he%j],u),Ot=this.dn(e,Re,f[he%j],m),Kt=T.map($t=>this.En(e,Re,$t,!0));ee.push(...this.createRange(it,Ot,Kt))}return ee}En(e,r,o,u){const f=new fe(e,Rt.empty(),r,o);return u?f:f.Jt()}dn(e,r,o,u){const f=new fe(e,Rt.empty(),r,o);return u?f.Jt():f}ln(e,r){const o=new ze(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let m=null;for(const T of f)o.tn(T)&&(!m||T.fields.length>m.fields.length)&&(m=T);return m})}getIndexType(e,r){let o=2;const u=this.cn(r);return je.forEach(u,f=>this.ln(e,f).next(m=>{m?0!==o&&m.fields.length<function(M){let j=new pr(Vn.comparator),ee=!1;for(const he of M.filters)for(const Re of he.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?ee=!0:j=j.add(Re.field));for(const he of M.orderBy)he.field.isKeyField()||(j=j.add(he.field));return j.size+(ee?1:0)}(f)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}An(e,r){const o=new oe;for(const u of gn(e)){const f=r.data.field(u.fieldPath);if(null==f)return null;const m=o.Ht(u.kind);Rs.bt.Pt(f,m)}return o.Wt()}Tn(e){const r=new oe;return Rs.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const o=new oe;return Rs.bt.Pt(Qt(this.databaseId,r),o.Ht(function(f){const m=gn(f);return 0===m.length?0:m[m.length-1].kind}(e))),o.Wt()}Pn(e,r,o){if(null===o)return[];let u=[];u.push(new oe);let f=0;for(const m of gn(e)){const T=o[f++];for(const M of u)if(this.Vn(r,m.fieldPath)&&Qn(T))u=this.mn(u,m,T);else{const j=M.Ht(m.kind);Rs.bt.Pt(T,j)}}return this.fn(u)}hn(e,r,o){return this.Pn(e,r,o.position)}fn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Wt();return r}mn(e,r,o){const u=[...e],f=[];for(const m of o.arrayValue.values||[])for(const T of u){const M=new oe;M.seed(T.Wt()),Rs.bt.Pt(m,M.Ht(r.kind)),f.push(M)}return f}Vn(e,r){return!!e.filters.find(o=>o instanceof St&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=xs(e),u=us(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(f=>{const m=[];return je.forEach(f,T=>u.get([T.indexId,this.uid]).next(M=>{m.push(function(ee,he){const Re=he?new Rn(he.sequenceNumber,new en(J(he.readTime),new Rt(Jt(he.documentKey)),he.largestBatchId)):Rn.empty(),it=ee.fields.map(([Ot,Kt])=>new ur(Vn.fromServerFormat(Ot),Kt));return new cn(ee.indexId,ee.collectionGroup,it,Re)}(T,M))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const f=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Mt(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=xs(e),f=us(e);return this.gn(e).next(m=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(T=>je.forEach(T,M=>f.put(dr(M.indexId,this.uid,m,o)))))}updateIndexEntries(e,r){const o=new Map;return je.forEach(r,(u,f)=>{const m=o.get(u.collectionGroup);return(m?je.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(o.set(u.collectionGroup,T),je.forEach(T,M=>this.pn(e,u,M).next(j=>{const ee=this.yn(f,M);return j.isEqual(ee)?je.resolve():this.wn(e,f,M,j,ee)}))))})}Sn(e,r,o,u){return mi(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(o,r.key),documentKey:r.key.path.toArray()})}bn(e,r,o,u){return mi(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(o,r.key),r.key.path.toArray()])}pn(e,r,o){const u=mi(e);let f=new pr(Q);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.Rn(o,r)])},(m,T)=>{f=f.add(new fe(o.indexId,r,T.arrayValue,T.directionalValue))}).next(()=>f)}yn(e,r){let o=new pr(Q);const u=this.An(r,e);if(null==u)return o;const f=Cn(r);if(null!=f){const m=e.data.field(f.fieldPath);if(Qn(m))for(const T of m.arrayValue.values||[])o=o.add(new fe(r.indexId,e.key,this.Tn(T),u))}else o=o.add(new fe(r.indexId,e.key,fi,u));return o}wn(e,r,o,u,f){ye("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const m=[];return function(M,j,ee,he,Re){const it=M.getIterator(),Ot=j.getIterator();let Kt=Mi(it),$t=Mi(Ot);for(;Kt||$t;){let An=!1,Bn=!1;if(Kt&&$t){const Mn=ee(Kt,$t);Mn<0?Bn=!0:Mn>0&&(An=!0)}else null!=Kt?Bn=!0:An=!0;An?(he($t),$t=Mi(Ot)):Bn?(Re(Kt),Kt=Mi(it)):(Kt=Mi(it),$t=Mi(Ot))}}(u,f,Q,T=>{m.push(this.Sn(e,r,o,T))},T=>{m.push(this.bn(e,r,o,T))}),je.waitFor(m)}gn(e){let r=1;return us(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((m,T)=>Q(m,T)).filter((m,T,M)=>!T||0!==Q(m,M[T-1]));const u=[];u.push(e);for(const m of o){const T=Q(m,e),M=Q(m,r);if(0===T)u[0]=e.Jt();else if(T>0&&M<0)u.push(m),u.push(m.Jt());else if(M>0)break}u.push(r);const f=[];for(let m=0;m<u.length;m+=2){if(this.Dn(u[m],u[m+1]))return[];f.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,fi,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,fi,[]]))}return f}Dn(e,r){return Q(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Sc)}getMinOffset(e,r){return je.mapArray(this.cn(r),o=>this.ln(e,o).next(u=>u||Et())).next(Sc)}}function Wu(a){return qr(a,"collectionParents")}function mi(a){return qr(a,"indexEntries")}function xs(a){return qr(a,"indexConfiguration")}function us(a){return qr(a,"indexState")}function Sc(a){kt(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<a.length;o++){const u=a[o].indexState.offset;Or(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new en(e.readTime,e.documentKey,r)}const qu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class so{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new so(e,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wh(a,e,r){const o=a.store("mutations"),u=a.store("documentMutations"),f=[],m=IDBKeyRange.only(r.batchId);let T=0;const M=o.J({range:m},(ee,he,Re)=>(T++,Re.delete()));f.push(M.next(()=>{kt(1===T)}));const j=[];for(const ee of r.mutations){const he=Gn(e,ee.key.path,r.batchId);f.push(u.delete(he)),j.push(ee.key)}return je.waitFor(f).next(()=>j)}function ko(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw Et();e=a.noDocument}return JSON.stringify(e).length}so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(41943040,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);class ml{constructor(e,r,o,u){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Cn={}}static lt(e,r,o,u){kt(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new ml(f,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Os(e).J({index:"userMutationsIndex",range:o},(u,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const f=ya(e),m=Os(e);return m.add({}).next(T=>{kt("number"==typeof T);const M=new pi(T,r,o,u),j=function(it,Ot,Kt){const $t=Kt.baseMutations.map(Bn=>Ao(it.ct,Bn)),An=Kt.mutations.map(Bn=>Ao(it.ct,Bn));return{userId:Ot,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:$t,mutations:An}}(this.serializer,this.userId,M),ee=[];let he=new pr((Re,it)=>Mt(Re.canonicalString(),it.canonicalString()));for(const Re of u){const it=Gn(this.userId,Re.key.path,T);he=he.add(Re.key.path.popLast()),ee.push(m.put(j)),ee.push(f.put(it,Li))}return he.forEach(Re=>{ee.push(this.indexManager.addToCollectionParentIndex(e,Re))}),e.addOnCommittedListener(()=>{this.Cn[T]=M.keys()}),je.waitFor(ee).next(()=>M)})}lookupMutationBatch(e,r){return Os(e).get(r).next(o=>o?(kt(o.userId===this.userId),_e(this.serializer,o)):null)}vn(e,r){return this.Cn[r]?je.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Os(e).J({index:"userMutationsIndex",range:u},(m,T,M)=>{T.userId===this.userId&&(kt(T.batchId>=o),f=_e(this.serializer,T)),M.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Os(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,m)=>{o=f.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Os(e).U("userMutationsIndex",r).next(o=>o.map(u=>_e(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=vn(this.userId,r.path),u=IDBKeyRange.lowerBound(o),f=[];return ya(e).J({range:u},(m,T,M)=>{const[j,ee,he]=m,Re=Jt(ee);if(j===this.userId&&r.path.isEqual(Re))return Os(e).get(he).next(it=>{if(!it)throw Et();kt(it.userId===this.userId),f.push(_e(this.serializer,it))});M.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new pr(Mt);const u=[];return r.forEach(f=>{const m=vn(this.userId,f.path),T=IDBKeyRange.lowerBound(m),M=ya(e).J({range:T},(j,ee,he)=>{const[Re,it,Ot]=j,Kt=Jt(it);Re===this.userId&&f.path.isEqual(Kt)?o=o.add(Ot):he.done()});u.push(M)}),je.waitFor(u).next(()=>this.Fn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,f=vn(this.userId,o),m=IDBKeyRange.lowerBound(f);let T=new pr(Mt);return ya(e).J({range:m},(M,j,ee)=>{const[he,Re,it]=M,Ot=Jt(Re);he===this.userId&&o.isPrefixOf(Ot)?Ot.length===u&&(T=T.add(it)):ee.done()}).next(()=>this.Fn(e,T))}Fn(e,r){const o=[],u=[];return r.forEach(f=>{u.push(Os(e).get(f).next(m=>{if(null===m)throw Et();kt(m.userId===this.userId),o.push(_e(this.serializer,m))}))}),je.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return wh(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),je.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return je.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return ya(e).J({range:o},(f,m,T)=>{if(f[0]===this.userId){const M=Jt(f[1]);u.push(M)}else T.done()}).next(()=>{kt(0===u.length)})})}containsKey(e,r){return Pc(e,this.userId,r)}xn(e){return au(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pc(a,e,r){const o=vn(e,r.path),u=o[1],f=IDBKeyRange.lowerBound(o);let m=!1;return ya(a).J({range:f,H:!0},(T,M,j)=>{const[ee,he,Re]=T;ee===e&&he===u&&(m=!0),j.done()}).next(()=>m)}function Os(a){return qr(a,"mutations")}function ya(a){return qr(a,"documentMutations")}function au(a){return qr(a,"mutationQueues")}class va{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new va(0)}static Ln(){return new va(-1)}}class Th{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const o=new va(r.highestTargetId);return r.highestTargetId=o.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>xt.fromTimestamp(new Vt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.Qn(r,o),this.kn(e,o))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Na(e).delete(r.targetId)).next(()=>this.Bn(e)).next(o=>(kt(o.targetCount>0),o.targetCount-=1,this.kn(e,o)))}removeTargets(e,r,o){let u=0;const f=[];return Na(e).J((m,T)=>{const M=at(T);M.sequenceNumber<=r&&null===o.get(M.targetId)&&(u++,f.push(this.removeTargetData(e,M)))}).next(()=>je.waitFor(f)).next(()=>u)}forEachTarget(e,r){return Na(e).J((o,u)=>{const f=at(u);r(f)})}Bn(e){return _l(e).get("targetGlobalKey").next(r=>(kt(null!==r),r))}kn(e,r){return _l(e).put("targetGlobalKey",r)}qn(e,r){return Na(e).put(ot(this.serializer,r))}Qn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=ho(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Na(e).J({range:u,index:"queryTargetsIndex"},(m,T,M)=>{const j=at(T);Go(r,j.target)&&(f=j,M.done())}).next(()=>f)}addMatchingKeys(e,r,o){const u=[],f=Ea(e);return r.forEach(m=>{const T=At(m.path);u.push(f.put({targetId:o,path:T})),u.push(this.referenceDelegate.addReference(e,o,m))}),je.waitFor(u)}removeMatchingKeys(e,r,o){const u=Ea(e);return je.forEach(r,f=>{const m=At(f.path);return je.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=Ea(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=Ea(e);let f=Kn();return u.J({range:o,H:!0},(m,T,M)=>{const j=Jt(m[1]),ee=new Rt(j);f=f.add(ee)}).next(()=>f)}containsKey(e,r){const o=At(r.path),u=IDBKeyRange.bound([o],[On(o)],!1,!0);let f=0;return Ea(e).J({index:"documentTargetsIndex",H:!0,range:u},([m,T],M,j)=>{0!==m&&(f++,j.done())}).next(()=>f>0)}ot(e,r){return Na(e).get(r).next(o=>o?at(o):null)}}function Na(a){return qr(a,"targets")}function _l(a){return qr(a,"targetGlobal")}function Ea(a){return qr(a,"targetDocuments")}function vd([a,e],[r,o]){const u=Mt(a,r);return 0===u?Mt(e,o):u}class Ed{constructor(e){this.Kn=e,this.buffer=new pr(vd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();vd(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Mc{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Tn(o)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Dn(o)}yield r.zn(3e5)}))}}class uu{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return je.resolve(x.oe);const o=new Ed(r);return this.jn.forEachTarget(e,u=>o.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>o.Wn(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(qu)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qu):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let o,u,f,m,T,M,j;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(he=>(he>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${he}`),u=this.params.maximumSequenceNumbersToCollect):u=he,m=Date.now(),this.nthSequenceNumber(e,u))).next(he=>(o=he,T=Date.now(),this.removeTargets(e,o,r))).next(he=>(f=he,M=Date.now(),this.removeOrphanedDocuments(e,o))).next(he=>(j=Date.now(),_t()<=Te.in.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ee}ms\n\tDetermined least recently used ${u} in `+(T-m)+`ms\n\tRemoved ${f} targets in `+(M-T)+`ms\n\tRemoved ${he} documents in `+(j-M)+`ms\nTotal Duration: ${j-ee}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:he})))}}class bh{constructor(e,r){this.db=e,this.garbageCollector=function yl(a,e){return new uu(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Zn(e){let r=0;return this.Jn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(o,u)=>r(u))}addReference(e,r,o){return Rc(e,o)}removeReference(e,r,o){return Rc(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Rc(e,r)}er(e,r){return function(u,f){let m=!1;return au(u).Y(T=>Pc(u,T,f).next(M=>(M&&(m=!0),je.resolve(!M)))).next(()=>m)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Xn(e,(m,T)=>{if(T<=r){const M=this.er(e,m).next(j=>{if(!j)return f++,o.getEntry(e,m).next(()=>(o.removeEntry(m,xt.min()),Ea(e).delete([0,At(m.path)])))});u.push(M)}}).next(()=>je.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Rc(e,r)}Xn(e,r){const o=Ea(e);let u,f=x.oe;return o.J({index:"documentTargetsIndex"},([m,T],{path:M,sequenceNumber:j})=>{0===m?(f!==x.oe&&r(new Rt(Jt(u)),f),f=j,u=M):f=x.oe}).next(()=>{f!==x.oe&&r(new Rt(Jt(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rc(a,e){return Ea(a).put((u=a.currentSequenceNumber,{targetId:0,path:At(e.path),sequenceNumber:u}));var u}class ka{constructor(){this.changes=new po(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,B.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?je.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return ta(e).put(o)}removeEntry(e,r,o){return ta(e).delete(function(f,m){const T=f.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],S(m),T[T.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.tr(e,o)))}getEntry(e,r){let o=B.newInvalidDocument(r);return ta(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cu(r))},(u,f)=>{o=this.nr(r,f)}).next(()=>o)}rr(e,r){let o={size:0,document:B.newInvalidDocument(r)};return ta(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cu(r))},(u,f)=>{o={document:this.nr(r,f),size:ko(f)}}).next(()=>o)}getEntries(e,r){let o=Lr();return this.ir(e,r,(u,f)=>{const m=this.nr(u,f);o=o.insert(u,m)}).next(()=>o)}sr(e,r){let o=Lr(),u=new nr(Rt.comparator);return this.ir(e,r,(f,m)=>{const T=this.nr(f,m);o=o.insert(f,T),u=u.insert(f,ko(m))}).next(()=>({documents:o,_r:u}))}ir(e,r,o){if(r.isEmpty())return je.resolve();let u=new pr(Oc);r.forEach(M=>u=u.add(M));const f=IDBKeyRange.bound(cu(u.first()),cu(u.last())),m=u.getIterator();let T=m.getNext();return ta(e).J({index:"documentKeyIndex",range:f},(M,j,ee)=>{const he=Rt.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;T&&Oc(T,he)<0;)o(T,null),T=m.getNext();T&&T.isEqual(he)&&(o(T,j),T=m.hasNext()?m.getNext():null),T?ee.$(cu(T)):ee.done()}).next(()=>{for(;T;)o(T,null),T=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,r,o,u,f){const m=r.path,T=[m.popLast().toArray(),m.lastSegment(),S(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],M=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ta(e).U(IDBKeyRange.bound(T,M,!0)).next(j=>{f?.incrementDocumentReadCount(j.length);let ee=Lr();for(const he of j){const Re=this.nr(Rt.fromSegments(he.prefixPath.concat(he.collectionGroup,he.documentId)),he);Re.isFoundDocument()&&(ki(r,Re)||u.has(Re.key))&&(ee=ee.insert(Re.key,Re))}return ee})}getAllFromCollectionGroup(e,r,o,u){let f=Lr();const m=Cd(r,o),T=Cd(r,en.max());return ta(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,T,!0)},(M,j,ee)=>{const he=this.nr(Rt.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);f=f.insert(he.key,he),f.size===u&&ee.done()}).next(()=>f)}newChangeBuffer(e){return new Id(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return xc(e).get("remoteDocumentGlobalKey").next(r=>(kt(!!r),r))}tr(e,r){return xc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const o=function A(a,e){let r;if(e.document)r=oo(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Rt.fromSegments(e.noDocument.path),u=J(e.noDocument.readTime);r=B.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Et();{const o=Rt.fromSegments(e.unknownDocument.path),u=J(e.unknownDocument.version);r=B.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(u){const f=new Vt(u[0],u[1]);return xt.fromTimestamp(f)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(xt.min()))return o}return B.newInvalidDocument(e)}}function Po(a){return new sp(a)}class Id extends ka{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new po(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new pr((f,m)=>Mt(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const T=this.ur.get(f);if(r.push(this.ar.removeEntry(e,f,T.readTime)),m.isValidDocument()){const M=E(this.ar.serializer,m);u=u.add(f.path.popLast());const j=ko(M);o+=j-T.size,r.push(this.ar.addEntry(e,f,M))}else if(o-=T.size,this.trackRemovals){const M=E(this.ar.serializer,m.convertToNoDocument(xt.min()));r.push(this.ar.addEntry(e,f,M))}}),u.forEach(f=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,f))}),r.push(this.ar.updateMetadata(e,o)),je.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(o=>(this.ur.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:o,_r:u})=>(u.forEach((f,m)=>{this.ur.set(f,{size:m,readTime:o.get(f).readTime})}),o))}}function xc(a){return qr(a,"remoteDocumentGlobal")}function ta(a){return qr(a,"remoteDocumentsV14")}function cu(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cd(a,e){const r=e.documentKey.path.toArray();return[a,S(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Oc(a,e){const r=a.path.toArray(),o=e.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<o.length-2;++f)if(u=Mt(r[f],o[f]),u)return u;return u=Mt(r.length,o.length),u||(u=Mt(r[r.length-2],o[o.length-2]),u||Mt(r[r.length-1],o[o.length-1]))}class lu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Fa{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&ve(o.mutation,u,vi.empty(),Vt.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Kn()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Kn()){const u=wo();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(f=>{let m=Fi();return f.forEach((T,M)=>{m=m.insert(T,M.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const o=wo();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Kn()))}populateOverlays(e,r,o){const u=[];return o.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((m,T)=>{r.set(m,T)})})}computeViews(e,r,o,u){let f=Lr();const m=xo(),T=xo();return r.forEach((M,j)=>{const ee=o.get(j.key);u.has(j.key)&&(void 0===ee||ee.mutation instanceof gr)?f=f.insert(j.key,j):void 0!==ee?(m.set(j.key,ee.mutation.getFieldMask()),ve(ee.mutation,j,ee.mutation.getFieldMask(),Vt.now())):m.set(j.key,vi.empty())}),this.recalculateAndSaveOverlays(e,f).next(M=>(M.forEach((j,ee)=>m.set(j,ee)),r.forEach((j,ee)=>{var he;return T.set(j,new lu(ee,null!==(he=m.get(j))&&void 0!==he?he:null))}),T))}recalculateAndSaveOverlays(e,r){const o=xo();let u=new nr((m,T)=>m-T),f=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const T of m)T.keys().forEach(M=>{const j=r.get(M);if(null===j)return;let ee=o.get(M)||vi.empty();ee=T.applyToLocalView(j,ee),o.set(M,ee);const he=(u.get(T.batchId)||Kn()).add(M);u=u.insert(T.batchId,he)})}).next(()=>{const m=[],T=u.getReverseIterator();for(;T.hasNext();){const M=T.getNext(),j=M.key,ee=M.value,he=As();ee.forEach(Re=>{if(!f.has(Re)){const it=N(r.get(Re),o.get(Re));null!==it&&he.set(Re,it),f=f.add(Re)}}),m.push(this.documentOverlayCache.saveOverlays(e,j,he))}return je.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return Rt.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ca(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var m}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-f.size):je.resolve(wo());let T=-1,M=f;return m.next(j=>je.forEach(j,(ee,he)=>(T<he.largestBatchId&&(T=he.largestBatchId),f.get(ee)?je.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Re=>{M=M.insert(ee,Re)}))).next(()=>this.populateOverlays(e,j,f)).next(()=>this.computeViews(e,M,j,Kn())).next(ee=>({batchId:T,changes:Qa(ee)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Rt(r)).next(o=>{let u=Fi();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const f=r.collectionGroup;let m=Fi();return this.indexManager.getCollectionParents(e,f).next(T=>je.forEach(T,M=>{const j=(he=r,Re=M.child(f),new ps(Re,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,Re;return this.getDocumentsMatchingCollectionQuery(e,j,o,u).next(ee=>{ee.forEach((he,Re)=>{m=m.insert(he,Re)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,o,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,f,u))).next(m=>{f.forEach((M,j)=>{const ee=j.getKey();null===m.get(ee)&&(m=m.insert(ee,B.newInvalidDocument(ee)))});let T=Fi();return m.forEach((M,j)=>{const ee=f.get(M);void 0!==ee&&ve(ee.mutation,j,vi.empty(),Vt.now()),ki(r,j)&&(T=T.insert(M,j))}),T})}}class Zu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return je.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:Si(u.createTime)}),je.resolve();var u}getNamedQuery(e,r){return je.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:ln(u.bundledQuery),readTime:Si(u.readTime)}),je.resolve();var u}}class wd{constructor(){this.overlays=new nr(Rt.comparator),this.hr=new Map}getOverlay(e,r){return je.resolve(this.overlays.get(r))}getOverlays(e,r){const o=wo();return je.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,f)=>{this.ht(e,r,f)}),je.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.hr.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.hr.delete(o)),je.resolve()}getOverlaysForCollection(e,r,o){const u=wo(),f=r.length+1,m=new Rt(r.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const M=T.getNext().value,j=M.getKey();if(!r.isPrefixOf(j.path))break;j.path.length===f&&M.largestBatchId>o&&u.set(M.getKey(),M)}return je.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let f=new nr((j,ee)=>j-ee);const m=this.overlays.getIterator();for(;m.hasNext();){const j=m.getNext().value;if(j.getKey().getCollectionGroup()===r&&j.largestBatchId>o){let ee=f.get(j.largestBatchId);null===ee&&(ee=wo(),f=f.insert(j.largestBatchId,ee)),ee.set(j.getKey(),j)}}const T=wo(),M=f.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((j,ee)=>T.set(j,ee)),!(T.size()>=u)););return je.resolve(T)}ht(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const m=this.hr.get(u.largestBatchId).delete(o.key);this.hr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new go(r,o));let f=this.hr.get(r);void 0===f&&(f=Kn(),this.hr.set(r,f)),this.hr.set(r,f.add(o.key))}}class du{constructor(){this.Pr=new pr(zi.Ir),this.Tr=new pr(zi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const o=new zi(e,r);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Ar(new zi(e,r))}Rr(e,r){e.forEach(o=>this.removeReference(o,r))}Vr(e){const r=new Rt(new rn([])),o=new zi(r,e),u=new zi(r,e+1),f=[];return this.Tr.forEachInRange([o,u],m=>{this.Ar(m),f.push(m.key)}),f}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Rt(new rn([])),o=new zi(r,e),u=new zi(r,e+1);let f=Kn();return this.Tr.forEachInRange([o,u],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new zi(e,0),o=this.Pr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class zi{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Rt.comparator(e.key,r.key)||Mt(e.pr,r.pr)}static Er(e,r){return Mt(e.pr,r.pr)||Rt.comparator(e.key,r.key)}}class Yg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new pr(zi.Ir)}checkEmpty(e){return je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const f=this.yr;this.yr++;const m=new pi(f,r,o,u);this.mutationQueue.push(m);for(const T of u)this.wr=this.wr.add(new zi(T.key,f)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return je.resolve(m)}lookupMutationBatch(e,r){return je.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),f=u<0?0:u;return je.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new zi(r,0),u=new zi(r,Number.POSITIVE_INFINITY),f=[];return this.wr.forEachInRange([o,u],m=>{const T=this.Sr(m.pr);f.push(T)}),je.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new pr(Mt);return r.forEach(u=>{const f=new zi(u,0),m=new zi(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([f,m],T=>{o=o.add(T.pr)})}),je.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let f=o;Rt.isDocumentKey(f)||(f=f.child(""));const m=new zi(new Rt(f),0);let T=new pr(Mt);return this.wr.forEachWhile(M=>{const j=M.key.path;return!!o.isPrefixOf(j)&&(j.length===u&&(T=T.add(M.pr)),!0)},m),je.resolve(this.Dr(T))}Dr(e){const r=[];return e.forEach(o=>{const u=this.Sr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){kt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return je.forEach(r.mutations,u=>{const f=new zi(u.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,r){const o=new zi(r,0),u=this.wr.firstAfterOrEqual(o);return je.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return je.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class ap{constructor(e){this.vr=e,this.docs=new nr(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),f=u?u.size:0,m=this.vr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return je.resolve(o?o.document.mutableCopy():B.newInvalidDocument(r))}getEntries(e,r){let o=Lr();return r.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():B.newInvalidDocument(u))}),je.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let f=Lr();const m=r.path,T=new Rt(m.child("")),M=this.docs.getIteratorFrom(T);for(;M.hasNext();){const{key:j,value:{document:ee}}=M.getNext();if(!m.isPrefixOf(j.path))break;j.path.length>m.length+1||Or(Di(ee),o)<=0||(u.has(ee.key)||ki(r,ee))&&(f=f.insert(ee.key,ee.mutableCopy()))}return je.resolve(f)}getAllFromCollectionGroup(e,r,o,u){Et()}Fr(e,r){return je.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Dh(this)}getSize(e){return je.resolve(this.size)}}class Dh extends ka{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(o)}),je.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Qg{constructor(e){this.persistence=e,this.Mr=new po(r=>ho(r),Go),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new du,this.targetCount=0,this.Lr=va.Nn()}forEachTarget(e,r){return this.Mr.forEach((o,u)=>r(u)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Or&&(this.Or=r),je.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new va(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,je.resolve()}updateTargetData(e,r){return this.qn(r),je.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,r,o){let u=0;const f=[];return this.Mr.forEach((m,T)=>{T.sequenceNumber<=r&&null===o.get(T.targetId)&&(this.Mr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),je.waitFor(f).next(()=>u)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,r){const o=this.Mr.get(r)||null;return je.resolve(o)}addMatchingKeys(e,r,o){return this.Nr.dr(r,o),je.resolve()}removeMatchingKeys(e,r,o){this.Nr.Rr(r,o);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(e,m))}),je.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),je.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Nr.gr(r);return je.resolve(o)}containsKey(e,r){return je.resolve(this.Nr.containsKey(r))}}class Ah{constructor(e,r){this.Br={},this.overlays={},this.kr=new x(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Qg(this),this.indexManager=new Gu,this.remoteDocumentCache=new ap(o=>this.referenceDelegate.Kr(o)),this.serializer=new C(r),this.$r=new Zu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new wd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new Yg(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,o){ye("MemoryPersistence","Starting transaction:",e);const u=new up(this.kr.next());return this.referenceDelegate.Ur(),o(u).next(f=>this.referenceDelegate.Wr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Gr(e,r){return je.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class up extends tr{constructor(e){super(),this.currentSequenceNumber=e}}class Td{constructor(e){this.persistence=e,this.zr=new du,this.jr=null}static Hr(e){return new Td(e)}get Jr(){if(this.jr)return this.jr;throw Et()}addReference(e,r,o){return this.zr.addReference(o,r),this.Jr.delete(o.toString()),je.resolve()}removeReference(e,r,o){return this.zr.removeReference(o,r),this.Jr.add(o.toString()),je.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),je.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.Jr.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Jr,o=>{const u=Rt.fromPath(o);return this.Yr(e,u).next(f=>{f||r.removeEntry(u,xt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(o=>{o?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return je.or([()=>je.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Yu{constructor(e){this.serializer=e}O(e,r,o,u){const f=new dt("createOrUpgrade",r);var M;o<1&&u>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zn,{unique:!0}),M.createObjectStore("documentMutations"),Sh(e),function(M){M.createObjectStore("remoteDocuments")}(e));let m=je.resolve();return o<3&&u>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Sh(e)),m=m.next(()=>function(M){const j=M.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",ee)}(f))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(M,j){return j.store("mutations").U().next(ee=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zn,{unique:!0});const he=j.store("mutations"),Re=ee.map(it=>he.put(it));return je.waitFor(Re)})}(e,f))),m=m.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(m=m.next(()=>this.Xr(f))),o<6&&u>=6&&(m=m.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(f)))),o<7&&u>=7&&(m=m.next(()=>this.ti(f))),o<8&&u>=8&&(m=m.next(()=>this.ni(e,f))),o<9&&u>=9&&(m=m.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(m=m.next(()=>this.ri(f))),o<11&&u>=11&&(m=m.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(m=m.next(()=>{!function(M){const j=M.createObjectStore("documentOverlays",{keyPath:Pn});j.createIndex("collectionPathOverlayIndex",dn,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",vr,{unique:!1})}(e)})),o<13&&u>=13&&(m=m.next(()=>function(M){const j=M.createObjectStore("remoteDocumentsV14",{keyPath:Ai});j.createIndex("documentKeyIndex",zr),j.createIndex("collectionGroupIndex",Qi)}(e)).next(()=>this.ii(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(m=m.next(()=>this.si(e,f))),o<15&&u>=15&&(m=m.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:qe}).createIndex("sequenceNumberIndex",It,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:tn}).createIndex("documentKeyIndex",bn,{unique:!1})}(e))),o<16&&u>=16&&(m=m.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),m}ei(e){let r=0;return e.store("remoteDocuments").J((o,u)=>{r+=ko(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Xr(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(u=>je.forEach(u,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",m).next(T=>je.forEach(T,M=>{kt(M.userId===f.userId);const j=_e(this.serializer,M);return wh(e,f.userId,j).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return o.J((m,T)=>{const M=new rn(m),j=[0,At(M)];f.push(r.get(j).next(ee=>ee?je.resolve():r.put({targetId:0,path:At(M),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>je.waitFor(f))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:st});const o=r.store("collectionParents"),u=new gi,f=m=>{if(u.add(m)){const T=m.lastSegment(),M=m.popLast();return o.put({collectionId:T,parent:At(M)})}};return r.store("remoteDocuments").J({H:!0},(m,T)=>{const M=new rn(m);return f(M.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([m,T,M],j)=>{const ee=Jt(T);return f(ee.popLast())}))}ri(e){const r=e.store("targets");return r.J((o,u)=>{const f=at(u),m=ot(this.serializer,f);return r.put(m)})}ii(e,r){const o=r.store("remoteDocuments"),u=[];return o.J((f,m)=>{const T=r.store("remoteDocumentsV14"),M=(he=m,he.document?new Rt(rn.fromString(he.document.name).popFirst(5)):he.noDocument?Rt.fromSegments(he.noDocument.path):he.unknownDocument?Rt.fromSegments(he.unknownDocument.path):Et()).path.toArray(),j={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var he;u.push(T.put(j))}).next(()=>je.waitFor(u))}si(e,r){const o=r.store("mutations"),u=Po(this.serializer),f=new Ah(Td.Hr,this.serializer.ct);return o.U().next(m=>{const T=new Map;return m.forEach(M=>{var j;let ee=null!==(j=T.get(M.userId))&&void 0!==j?j:Kn();_e(this.serializer,M).keys().forEach(he=>ee=ee.add(he)),T.set(M.userId,ee)}),je.forEach(T,(M,j)=>{const ee=new Xe(j),he=ma.lt(this.serializer,ee),Re=f.getIndexManager(ee),it=ml.lt(ee,this.serializer,Re,f.referenceDelegate);return new Fa(u,it,he,Re).recalculateAndSaveOverlaysForDocumentKeys(new Uo(r,x.oe),M).next()})})}}function Sh(a){a.createObjectStore("targetDocuments",{keyPath:kr}).createIndex("documentTargetsIndex",Wn,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gi,{unique:!0}),a.createObjectStore("targetGlobal")}const bd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class to{constructor(e,r,o,u,f,m,T,M,j,ee,he=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.oi=f,this.window=m,this.document=T,this._i=j,this.ai=ee,this.ui=he,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Re=>Promise.resolve(),!to.D())throw new ie(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bh(this,u),this.Ti=r+"main",this.serializer=new C(M),this.Ei=new X(this.Ti,this.ui,new Yu(this.serializer)),this.Qr=new Th(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Po(this.serializer),this.$r=new Ur,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ee&&Ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(le.FAILED_PRECONDITION,bd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new x(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var o=(0,l.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>La(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Tn(e))return ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Nc(e).get("owner").next(r=>je.resolve(this.Si(r)))}bi(e){return La(e).delete(this.clientId)}Di(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=qr(o,"clientMetadata");return u.U().next(f=>{const m=e.vi(f,18e5),T=f.filter(M=>-1===m.indexOf(M));return je.forEach(T,M=>u.delete(M.clientId)).next(()=>T)})}).catch(()=>[]);if(e.di)for(const o of r)e.di.removeItem(e.Fi(o.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?je.resolve(!0):Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new ie(le.FAILED_PRECONDITION,bd);return!1}}return!(!this.networkEnabled||!this.inForeground)||La(e).U().next(o=>void 0===this.vi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&ye("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Uo(r,x.oe);return e.yi(o).next(()=>e.bi(o))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(o=>this.Ci(o.updateTimeMs,r)&&!this.Mi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>La(e).U().next(r=>this.vi(r,18e5).map(o=>o.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return ml.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vs(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ma.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,o){ye("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",f=16===(M=this.ui)?ai:15===M?Vo:14===M?lr:13===M?uo:12===M?di:11===M?cr:void Et();var M;let m;return this.Ei.runTransaction(e,u,f,T=>(m=new Uo(T,this.kr?this.kr.next():x.oe),"readwrite-primary"===r?this.gi(m).next(M=>!!M||this.pi(m)).next(M=>{if(!M)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ie(le.FAILED_PRECONDITION,$n);return o(m)}).next(M=>this.wi(m).next(()=>M)):this.ki(m).next(()=>o(m)))).then(T=>(m.raiseOnCommittedEvent(),T))}ki(e){return Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ie(le.FAILED_PRECONDITION,bd)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nc(e).put("owner",r)}static D(){return X.D()}yi(e){const r=Nc(e);return r.get("owner").next(o=>this.Si(o)?(ye("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):je.resolve())}Ci(e,r){const o=Date.now();return!(e<o-r||e>o&&(Ht(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const o=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return ye("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ht("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nc(a){return qr(a,"owner")}function La(a){return qr(a,"clientMetadata")}function Dd(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class cs{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.qi=o,this.Qi=u}static Ki(e,r){let o=Kn(),u=Kn();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new cs(e,r.fromCache,o,u)}}class Va{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ad{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,me.G6)()?8:Ee((0,me.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,o,u){const f={result:null};return this.ji(e,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Hi(e,r,u,o).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new Va;return this.Ji(e,r,m).next(T=>{if(f.result=T,this.Ui)return this.Yi(e,r,m,T.size)})}).next(()=>f.result)}Yi(e,r,o,u){return o.documentReadCount<this.Wi?(_t()<=Te.in.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",eo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),je.resolve()):(_t()<=Te.in.DEBUG&&ye("QueryEngine","Query:",eo(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Gi*u?(_t()<=Te.in.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",eo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,G(r))):je.resolve())}ji(e,r){if(Ds(r))return je.resolve(null);let o=G(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=fn(r,null,"F"),o=G(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const m=Kn(...f);return this.zi.getDocuments(e,m).next(T=>this.indexManager.getMinOffset(e,o).next(M=>{const j=this.Zi(r,T);return this.Xi(r,j,m,M.readTime)?this.ji(e,fn(r,null,"F")):this.es(e,j,r,M)}))})))}Hi(e,r,o,u){return Ds(r)||u.isEqual(xt.min())?je.resolve(null):this.zi.getDocuments(e,o).next(f=>{const m=this.Zi(r,f);return this.Xi(r,m,o,u)?je.resolve(null):(_t()<=Te.in.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),eo(r)),this.es(e,m,r,xr(u,-1)).next(T=>T))})}Zi(e,r){let o=new pr(fo(e));return r.forEach((u,f)=>{ki(e,f)&&(o=o.add(f))}),o}Xi(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ji(e,r,o){return _t()<=Te.in.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",eo(r)),this.zi.getDocumentsMatchingQuery(e,r,en.min(),o)}es(e,r,o,u){return this.zi.getDocumentsMatchingQuery(e,o,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class vl{constructor(e,r,o,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new nr(Mt),this.rs=new po(f=>ho(f),Go),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fa(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Qu(a,e,r,o){return new vl(a,e,r,o)}function Ph(a,e){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,l.Z)(function*(a,e){const r=tt(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,r._s(e),r.mutationQueue.getAllMutationBatches(o))).next(f=>{const m=[],T=[];let M=Kn();for(const j of u){m.push(j.batchId);for(const ee of j.mutations)M=M.add(ee.key)}for(const j of f){T.push(j.batchId);for(const ee of j.mutations)M=M.add(ee.key)}return r.localDocuments.getDocuments(o,M).next(j=>({us:j,removedBatchIds:m,addedBatchIds:T}))})})})).apply(this,arguments)}function cp(a){const e=tt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function El(a,e,r){let o=Kn(),u=Kn();return r.forEach(f=>o=o.add(f)),e.getEntries(a,o).next(f=>{let m=Lr();return r.forEach((T,M)=>{const j=f.get(T);M.isFoundDocument()!==j.isFoundDocument()&&(u=u.add(T)),M.isNoDocument()&&M.version.isEqual(xt.min())?(e.removeEntry(T,M.readTime),m=m.insert(T,M)):!j.isValidDocument()||M.version.compareTo(j.version)>0||0===M.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(M),m=m.insert(T,M)):ye("LocalStore","Ignoring outdated watch update for ",T,". Current version:",j.version," Watch version:",M.version)}),{cs:m,ls:u}})}function Ju(a,e){const r=tt(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function kc(a,e){const r=tt(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Qr.getTargetData(o,e).next(f=>f?(u=f,je.resolve(u)):r.Qr.allocateTargetId(o).next(m=>(u=new jo(e,m,"TargetPurposeListen",o.currentSequenceNumber),r.Qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.ns.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(o.targetId,o),r.rs.set(e,o.targetId)),o})}function Ia(a,e,r){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(a,e,r){const o=tt(a),u=o.ns.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Tn(m))throw m;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.ns=o.ns.remove(e),o.rs.delete(u.target)})).apply(this,arguments)}function Il(a,e,r){const o=tt(a);let u=xt.min(),f=Kn();return o.persistence.runTransaction("Execute query","readwrite",m=>function(M,j,ee){const he=tt(M),Re=he.rs.get(ee);return void 0!==Re?je.resolve(he.ns.get(Re)):he.Qr.getTargetData(j,ee)}(o,m,G(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(m,T.targetId).next(M=>{f=M})}).next(()=>o.ts.getDocumentsMatchingQuery(m,e,r?u:xt.min(),r?f:Kn())).next(T=>(Sd(o,ts(e),T),{documents:T,hs:f})))}function Cl(a,e){const r=tt(a),o=tt(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>o.ot(f,e).next(m=>m?m.target:null))}function xh(a,e){const r=tt(a),o=r.ss.get(e)||xt.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,xr(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Sd(r,e,u),u))}function Sd(a,e,r){let o=a.ss.get(e)||xt.min();r.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),a.ss.set(e,o)}function hu(){return(hu=(0,l.Z)(function*(a,e,r,o){const u=tt(a);let f=Kn(),m=Lr();for(const j of r){const ee=e.Ps(j.metadata.name);j.document&&(f=f.add(ee));const he=e.Is(j);he.setReadTime(e.Ts(j.metadata.readTime)),m=m.insert(ee,he)}const T=u.os.newChangeBuffer({trackRemovals:!0}),M=yield kc(u,(ee=o,G(br(rn.fromString(`__bundle__/docs/${ee}`)))));var ee;return u.persistence.runTransaction("Apply bundle documents","readwrite",j=>El(j,T,m).next(ee=>(T.apply(j),ee)).next(ee=>u.Qr.removeMatchingKeysForTargetId(j,M.targetId).next(()=>u.Qr.addMatchingKeys(j,f,M.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(j,ee.cs,ee.ls)).next(()=>ee.cs)))})).apply(this,arguments)}function wl(a,e){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,l.Z)(function*(a,e,r=Kn()){const o=yield kc(a,G(ln(e.bundledQuery))),u=tt(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const m=Si(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.$r.saveNamedQuery(f,e);const T=o.withResumeToken(hi.EMPTY_BYTE_STRING,m);return u.ns=u.ns.insert(T.targetId,T),u.Qr.updateTargetData(f,T).next(()=>u.Qr.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.Qr.addMatchingKeys(f,r,o.targetId)).next(()=>u.$r.saveNamedQuery(f,e))})})).apply(this,arguments)}function fu(a,e){return`firestore_clients_${a}_${e}`}function Pd(a,e,r){let o=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ca(a,e){return`firestore_targets_${a}_${e}`}class Lc{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Es(e,r,o){const u=JSON.parse(o);let f,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(f=new ie(u.error.code,u.error.message))),m?new Lc(e,r,u.state,f):(Ht("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pu{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Es(e,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new ie(o.error.code,o.error.message))),f?new pu(e,o.state,u):(Ht("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xu{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Vs();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=ft(o.activeTargetIds[m]),f=f.add(o.activeTargetIds[m]);return u?new Xu(e,f):(Ht("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class ec{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new ec(r.clientId,r.onlineState):(Ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Tl{constructor(){this.activeTargetIds=Vs()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Md{constructor(e,r,o,u,f){this.window=e,this.oi=r,this.persistenceKey=o,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new nr(Mt),this.started=!1,this.ys=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ws=fu(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Tl),this.bs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const f=e.getItem(fu(e.persistenceKey,u));if(f){const m=Xu.Es(u,f);m&&(e.ps=e.ps.insert(m.clientId,m))}}e.Ms();const o=e.storage.getItem(e.vs);if(o){const u=e.xs(o);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,o){this.Ls(e,r,o),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ca(this.persistenceKey,e));if(o){const u=pu.Es(e,o);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ca(this.persistenceKey,e))}updateQueryState(e,r,o){this.qs(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return ye("SharedClientState","READ",e,r),r}setItem(e,r){ye("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(ye("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ws)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.Z)(function*(){if(r.started){if(null!==o.key)if(r.bs.test(o.key)){if(null==o.newValue){const u=r.$s(o.key);return r.Us(u,null)}{const u=r.Ws(o.key,o.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(o.key)){if(null!==o.newValue){const u=r.Gs(o.key,o.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(o.key)){if(null!==o.newValue){const u=r.js(o.key,o.newValue);if(u)return r.Hs(u)}}else if(o.key===r.vs){if(null!==o.newValue){const u=r.xs(o.newValue);if(u)return r.Os(u)}}else if(o.key===r.Ss){const u=function(m){let T=x.oe;if(null!=m)try{const M=JSON.parse(m);kt("number"==typeof M),T=M}catch(M){Ht("SharedClientState","Failed to read sequence number from WebStorage",M)}return T}(o.newValue);u!==x.oe&&r.sequenceNumberHandler(u)}else if(o.key===r.Fs){const u=r.Js(o.newValue);yield Promise.all(u.map(f=>r.syncEngine.Ys(f)))}}else r.ys.push(o)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,o){const u=new Lc(this.currentUser,e,r,o),f=Pd(this.persistenceKey,this.currentUser,e);this.setItem(f,u.ds())}Bs(e){const r=Pd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,o){const u=Ca(this.persistenceKey,e),f=new pu(e,r,o);this.setItem(u,f.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const o=this.$s(e);return Xu.Es(o,r)}Gs(e,r){const o=this.Ds.exec(e),u=Number(o[1]);return Lc.Es(new Xe(void 0!==o[2]?o[2]:null),u,r)}js(e,r){const o=this.Cs.exec(e),u=Number(o[1]);return pu.Es(u,r)}xs(e){return ec.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const o=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),f=this.Ns(o),m=[],T=[];return f.forEach(M=>{u.has(M)||m.push(M)}),u.forEach(M=>{f.has(M)||T.push(M)}),this.syncEngine.eo(m,T).then(()=>{this.ps=o})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Vs();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Nh{constructor(){this.no=new Tl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,o){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Tl,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gu{io(e){}shutdown(){}}class tc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rd=null;function kh(){return null===Rd?Rd=268435456+Math.round(2147483648*Math.random()):Rd++,"0x"+Rd.toString(16)}const v={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const p="WebChannelConnection";class w extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.wo=o+"://"+r.host,this.So=`projects/${u}/databases/${f}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Do(){return!1}Co(r,o,u,f,m){const T=kh(),M=this.vo(r,o.toUriEncodedString());ye("RestConnection",`Sending RPC '${r}' ${T}:`,M,u);const j={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(j,f,m),this.Mo(r,M,j,u).then(ee=>(ye("RestConnection",`Received RPC '${r}' ${T}: `,ee),ee),ee=>{throw Xt("RestConnection",`RPC '${r}' ${T} failed with error: `,ee,"url: ",M,"request:",u),ee})}xo(r,o,u,f,m,T){return this.Co(r,o,u,f,m)}Fo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ke,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((f,m)=>r[m]=f),u&&u.headers.forEach((f,m)=>r[m]=f)}vo(r,o){return`${this.wo}/v1/${o}:${v[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,o,u){const f=kh();return new Promise((m,T)=>{const M=new Me;M.setWithCredentials(!0),M.listenOnce(Pt.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case yt.NO_ERROR:const ee=M.getResponseJson();ye(p,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(ee)),m(ee);break;case yt.TIMEOUT:ye(p,`RPC '${e}' ${f} timed out`),T(new ie(le.DEADLINE_EXCEEDED,"Request time out"));break;case yt.HTTP_ERROR:const he=M.getStatus();if(ye(p,`RPC '${e}' ${f} failed with status:`,he,"response text:",M.getResponseText()),he>0){let Re=M.getResponseJson();Array.isArray(Re)&&(Re=Re[0]);const it=Re?.error;if(it&&it.status&&it.message){const Ot=function($t){const An=$t.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(An)>=0?An:le.UNKNOWN}(it.status);T(new ie(Ot,it.message))}else T(new ie(le.UNKNOWN,"Server responded with status "+M.getStatus()))}else T(new ie(le.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ye(p,`RPC '${e}' ${f} completed.`)}});const j=JSON.stringify(u);ye(p,`RPC '${e}' ${f} sending request:`,u),M.send(r,"POST",j,o,15)})}Oo(e,r,o){const u=kh(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=We(),T=sn(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(M.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(M.xmlHttpFactory=new pt({})),this.Fo(M.initMessageHeaders,r,o),M.encodeInitMessageHeaders=!0;const ee=f.join("");ye(p,`Creating RPC '${e}' stream ${u}: ${ee}`,M);const he=m.createWebChannel(ee,M);let Re=!1,it=!1;const Ot=new h({lo:$t=>{it?ye(p,`Not sending because RPC '${e}' stream ${u} is closed:`,$t):(Re||(ye(p,`Opening RPC '${e}' stream ${u} transport.`),he.open(),Re=!0),ye(p,`RPC '${e}' stream ${u} sending:`,$t),he.send($t))},ho:()=>he.close()}),Kt=($t,An,Bn)=>{$t.listen(An,Mn=>{try{Bn(Mn)}catch(hr){setTimeout(()=>{throw hr},0)}})};return Kt(he,Ge.EventType.OPEN,()=>{it||(ye(p,`RPC '${e}' stream ${u} transport opened.`),Ot.mo())}),Kt(he,Ge.EventType.CLOSE,()=>{it||(it=!0,ye(p,`RPC '${e}' stream ${u} transport closed`),Ot.po())}),Kt(he,Ge.EventType.ERROR,$t=>{it||(it=!0,Xt(p,`RPC '${e}' stream ${u} transport errored:`,$t),Ot.po(new ie(le.UNAVAILABLE,"The operation could not be completed")))}),Kt(he,Ge.EventType.MESSAGE,$t=>{var An;if(!it){const Bn=$t.data[0];kt(!!Bn);const hr=Bn.error||(null===(An=Bn[0])||void 0===An?void 0:An.error);if(hr){ye(p,`RPC '${e}' stream ${u} received error:`,hr);const li=hr.status;let Mr=function(Ve){const Qe=ti[Ve];if(void 0!==Qe)return vc(Qe)}(li),Ze=hr.message;void 0===Mr&&(Mr=le.INTERNAL,Ze="Unknown error status: "+li+" with message "+hr.message),it=!0,Ot.po(new ie(Mr,Ze)),he.close()}else ye(p,`RPC '${e}' stream ${u} received:`,Bn),Ot.yo(Bn)}}),Kt(T,wt.STAT_EVENT,$t=>{$t.stat===Lt.PROXY?ye(p,`RPC '${e}' stream ${u} detected buffering proxy`):$t.stat===Lt.NOPROXY&&ye(p,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Ot.fo()},0),Ot}}function z(){return typeof window<"u"?window:null}function ne(){return typeof document<"u"?document:null}function Ne(a){return new fl(a,!0)}class ut{constructor(e,r,o=1e3,u=1.5,f=6e4){this.oi=e,this.timerId=r,this.No=o,this.Lo=u,this.Bo=f,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),o=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-o);u>0&&ye("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Ft{constructor(e,r,o,u,f,m,T,M){this.oi=e,this.Go=o,this.zo=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=M,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ut(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,l.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,l.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var o=this;return(0,l.Z)(function*(){o.s_(),o.o_(),o.Yo.cancel(),o.jo++,4!==e?o.Yo.reset():r&&r.code===le.RESOURCE_EXHAUSTED?(Ht(r.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),o.Yo.Ko()):r&&r.code===le.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.__(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.jo===r&&this.u_(o,u)},o=>{e(()=>{const u=new ie(le.UNKNOWN,"Fetching auth token failed: "+o.message);return this.c_(u)})})}u_(e,r){const o=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{o(()=>this.listener.Po())}),this.stream.To(()=>{o(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{o(()=>this.c_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,l.Z)(function*(){e.state=0,e.start()}))}c_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class In extends Ft{constructor(e,r,o,u,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Pa(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Et(),u=e.targetChange.targetIds||[],f=function(j,ee){return j.useProto3Json?(kt(void 0===ee||"string"==typeof ee),hi.fromBase64String(ee||"")):(kt(void 0===ee||ee instanceof Buffer||ee instanceof Uint8Array),hi.fromUint8Array(ee||new Uint8Array))}(a,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(j){const ee=void 0===j.code?le.UNKNOWN:vc(j.code);return new ie(ee,j.message||"")}(m);r=new is(o,u,f,T||null)}else if("documentChange"in e){const o=e.documentChange,u=os(a,o.document.name),f=Si(o.document.updateTime),m=o.document.createTime?Si(o.document.createTime):xt.min(),T=new jr({mapValue:{fields:o.document.fields}}),M=B.newFoundDocument(u,f,m,T);r=new tu(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,u=os(a,o.document),f=o.readTime?Si(o.readTime):xt.min(),m=B.newNoDocument(u,f);r=new tu([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=os(a,o.document);r=new tu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Et();{const o=e.filter,{count:u=0,unchangedNames:f}=o,m=new bo(u,f);r=new nu(o.targetId,m)}}var j;return r}(this.serializer,e),o=function(f){if(!("targetChange"in f))return xt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?xt.min():m.readTime?Si(m.readTime):xt.min()}(e);return this.listener.h_(r,o)}P_(e){const r={};r.database=Cr(this.serializer),r.addTarget=function(f,m){let T;const M=m.target;if(T=ua(M)?{documents:Dc(f,M)}:{query:ju(f,M)._t},T.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){T.resumeToken=bc(f,m.resumeToken);const j=Sa(f,m.expectedCount);null!==j&&(T.expectedCount=j)}else if(m.snapshotVersion.compareTo(xt.min())>0){T.readTime=mo(f,m.snapshotVersion.toTimestamp());const j=Sa(f,m.expectedCount);null!==j&&(T.expectedCount=j)}return T}(this.serializer,e);const o=function Wo(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.i_(r)}I_(e){const r={};r.database=Cr(this.serializer),r.removeTarget=e,this.i_(r)}}class Un extends Ft{constructor(e,r,o,u,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Ma(a,e){return a&&a.length>0?(kt(void 0!==e),a.map(r=>function(u,f){let m=Si(u.updateTime?u.updateTime:f);return m.isEqual(xt.min())&&(m=Si(f)),new Xa(m,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Si(e.commitTime);return this.listener.A_(o,r)}return kt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Cr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Ao(this.serializer,o))};this.i_(r)}}class Pr extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new ie(le.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,o,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,iu(r,o),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ie(le.UNKNOWN,f.toString())})}xo(e,r,o,u,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,T])=>this.connection.xo(e,iu(r,o),u,m,T,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ie(le.UNKNOWN,m.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Is{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ht(r),this.y_=!1):ye("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Ua{constructor(e,r,o,u,f){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=f,this.O_.io(T=>{o.enqueueAndForget((0,l.Z)(function*(){var M;ja(m)&&(ye("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,l.Z)(function*(ee){const he=tt(ee);he.M_.add(4),yield mu(he),he.N_.set("Unknown"),he.M_.delete(4),yield Ba(he)}),function j(ee){return M.apply(this,arguments)})(m))}))}),this.N_=new Is(o,u)}}function Ba(a){return nc.apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(a){if(ja(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function mu(a){return xd.apply(this,arguments)}function xd(){return(xd=(0,l.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function _u(a,e){const r=tt(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Nd(r)?bl(r):Rl(r).Xo()&&Od(r,e))}function yu(a,e){const r=tt(a),o=Rl(r);r.F_.delete(e),o.Xo()&&Fh(r,e),0===r.F_.size&&(o.Xo()?o.n_():ja(r)&&r.N_.set("Unknown"))}function Od(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Rl(a).P_(e)}function Fh(a,e){a.L_.xe(e),Rl(a).I_(e)}function bl(a){a.L_=new ru({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Rl(a).start(),a.N_.w_()}function Nd(a){return ja(a)&&!Rl(a).Zo()&&a.F_.size>0}function ja(a){return 0===tt(a).M_.size}function vu(a){a.L_=void 0}function Dl(a){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,l.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function Jg(a){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,l.Z)(function*(a){a.F_.forEach((e,r)=>{Od(a,e)})})).apply(this,arguments)}function Al(a,e){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,l.Z)(function*(a,e){vu(a),Nd(a)?(a.N_.D_(e),bl(a)):a.N_.set("Unknown")})).apply(this,arguments)}function Xg(a,e,r){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,l.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof is&&2===e.state&&e.cause)try{yield(o=(0,l.Z)(function*(f,m){const T=m.cause;for(const M of m.targetIds)f.F_.has(M)&&(yield f.remoteSyncer.rejectListen(M,T),f.F_.delete(M),f.L_.removeTarget(M))}),function u(f,m){return o.apply(this,arguments)})(a,e)}catch(o){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vc(a,o)}else if(e instanceof tu?a.L_.Ke(e):e instanceof nu?a.L_.He(e):a.L_.We(e),!r.isEqual(xt.min()))try{const o=yield cp(a.localStore);r.compareTo(o)>=0&&(yield function(f,m){const T=f.L_.rt(m);return T.targetChanges.forEach((M,j)=>{if(M.resumeToken.approximateByteSize()>0){const ee=f.F_.get(j);ee&&f.F_.set(j,ee.withResumeToken(M.resumeToken,m))}}),T.targetMismatches.forEach((M,j)=>{const ee=f.F_.get(M);if(!ee)return;f.F_.set(M,ee.withResumeToken(hi.EMPTY_BYTE_STRING,ee.snapshotVersion)),Fh(f,M);const he=new jo(ee.target,M,j,ee.sequenceNumber);Od(f,he)}),f.remoteSyncer.applyRemoteEvent(T)}(a,r))}catch(o){ye("RemoteStore","Failed to raise snapshot:",o),yield Vc(a,o)}var o}),Sl.apply(this,arguments)}function Vc(a,e,r){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(a,e,r){if(!Tn(e))throw e;a.M_.add(1),yield mu(a),a.N_.set("Offline"),r||(r=()=>cp(a.localStore)),a.asyncQueue.enqueueRetryable((0,l.Z)(function*(){ye("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield Ba(a)}))})).apply(this,arguments)}function em(a,e){return e().catch(r=>Vc(a,r,e))}function Ml(a){return dp.apply(this,arguments)}function dp(){return(dp=(0,l.Z)(function*(a){const e=tt(a),r=Eu(e);let o=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;tm(e);)try{const u=yield Ju(e.localStore,o);if(null===u){0===e.v_.length&&r.n_();break}o=u.batchId,hp(e,u)}catch(u){yield Vc(e,u)}nm(e)&&rm(e)})).apply(this,arguments)}function tm(a){return ja(a)&&a.v_.length<10}function hp(a,e){a.v_.push(e);const r=Eu(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function nm(a){return ja(a)&&!Eu(a).Zo()&&a.v_.length>0}function rm(a){Eu(a).start()}function Q_(a){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,l.Z)(function*(a){Eu(a).V_()})).apply(this,arguments)}function J_(a){return fp.apply(this,arguments)}function fp(){return(fp=(0,l.Z)(function*(a){const e=Eu(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function Ns(a,e,r){return kd.apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(a,e,r){const o=a.v_.shift(),u=Zi.from(o,e,r);yield em(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Ml(a)})).apply(this,arguments)}function im(a,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,l.Z)(function*(a,e){var r;e&&Eu(a).E_&&(yield(r=(0,l.Z)(function*(u,f){if(Bo(T=f.code)&&T!==le.ABORTED){const m=u.v_.shift();Eu(u).t_(),yield em(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield Ml(u)}var T}),function o(u,f){return r.apply(this,arguments)})(a,e)),nm(a)&&rm(a)}),Fd.apply(this,arguments)}function Ko(a,e){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(a,e){const r=tt(a);r.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const o=ja(r);r.M_.add(3),yield mu(r),o&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Ba(r)})).apply(this,arguments)}function jh(a,e){return $h.apply(this,arguments)}function $h(){return($h=(0,l.Z)(function*(a,e){const r=tt(a);e?(r.M_.delete(2),yield Ba(r)):e||(r.M_.add(2),yield mu(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Rl(a){return a.B_||(a.B_=function(r,o,u){const f=tt(r);return f.f_(),new In(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:Dl.bind(null,a),To:Jg.bind(null,a),Ao:Al.bind(null,a),h_:Xg.bind(null,a)}),a.x_.push(function(){var e=(0,l.Z)(function*(r){r?(a.B_.t_(),Nd(a)?bl(a):a.N_.set("Unknown")):(yield a.B_.stop(),vu(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Eu(a){return a.k_||(a.k_=function(r,o,u){const f=tt(r);return f.f_(),new Un(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:Q_.bind(null,a),Ao:im.bind(null,a),R_:J_.bind(null,a),A_:Ns.bind(null,a)}),a.x_.push(function(){var e=(0,l.Z)(function*(r){r?(a.k_.t_(),yield Ml(a)):(yield a.k_.stop(),a.v_.length>0&&(ye("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class pp{constructor(e,r,o,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new de,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,f){const m=Date.now()+o,T=new pp(e,r,m,u,f);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bc(a,e){if(Ht("AsyncQueue",`${e}: ${a}`),Tn(a))return new ie(le.UNAVAILABLE,`${e}: ${a}`);throw a}class xl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Rt.comparator(r.key,o.key):(r,o)=>Rt.comparator(r.key,o.key),this.keyedMap=Fi(),this.sortedSet=new nr(this.comparator)}static emptySet(e){return new xl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new xl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class gp{constructor(){this.q_=new nr(Rt.comparator)}track(e){const r=e.doc.key,o=this.q_.get(r);o?0!==e.type&&3===o.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==o.type?this.q_=this.q_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.q_=this.q_.remove(r):1===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Et():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Ol{constructor(e,r,o,u,f,m,T,M,j){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=M,this.hasCachedResults=j}static fromInitialDocuments(e,r,o,u,f){const m=[];return r.forEach(T=>{m.push({type:0,doc:T})}),new Ol(e,r,xl.emptySet(r),m,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ln(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class X_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class mp{constructor(){this.queries=new po(e=>Ni(e),Ln),this.onlineState="Unknown",this.z_=new Set}}function Ld(a,e){return _p.apply(this,arguments)}function _p(){return(_p=(0,l.Z)(function*(a,e){const r=tt(a);let o=3;const u=e.query;let f=r.queries.get(u);f?!f.W_()&&e.G_()&&(o=2):(f=new X_,o=e.G_()?0:1);try{switch(o){case 0:f.K_=yield r.onListen(u,!0);break;case 1:f.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const T=Bc(m,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(T)}r.queries.set(u,f),f.U_.push(e),e.j_(r.onlineState),f.K_&&e.H_(f.K_)&&Hh(r)})).apply(this,arguments)}function jc(a,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,l.Z)(function*(a,e){const r=tt(a),o=e.query;let u=3;const f=r.queries.get(o);if(f){const m=f.U_.indexOf(e);m>=0&&(f.U_.splice(m,1),0===f.U_.length?u=e.G_()?0:1:!f.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function ey(a,e){const r=tt(a);let o=!1;for(const u of e){const m=r.queries.get(u.query);if(m){for(const T of m.U_)T.H_(u)&&(o=!0);m.K_=u}}o&&Hh(r)}function om(a,e,r){const o=tt(a),u=o.queries.get(e);if(u)for(const f of u.U_)f.onError(r);o.queries.delete(e)}function Hh(a){a.z_.forEach(e=>{e.next()})}var zh,$c;($c=zh||(zh={})).J_="default",$c.Cache="cache";class Nl{constructor(e,r,o){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=o||{}}H_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ol(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==zh.Cache}}class sm{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Gh{constructor(e){this.serializer=e}Ps(e){return os(this.serializer,e)}Is(e){return e.metadata.exists?oo(this.serializer,e.document,!1):B.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Si(e)}}class Wh{constructor(e,r,o){this.oa=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=am(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const o=rn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,o=new Gh(this.serializer);for(const u of e)if(u.metadata.queries){const f=o.Ps(u.metadata.name);for(const m of u.metadata.queries){const T=(r.get(m)||Kn()).add(f);r.set(m,T)}}return r}complete(){var e=this;return(0,l.Z)(function*(){const r=yield function lp(a,e,r,o){return hu.apply(this,arguments)}(e.localStore,new Gh(e.serializer),e.documents,e.oa.id),o=e.aa(e.documents);for(const u of e.queries)yield wl(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function am(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class um{constructor(e){this.key=e}}class cm{constructor(e){this.key=e}}class lm{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Kn(),this.mutatedKeys=Kn(),this.Ia=fo(e),this.Ta=new xl(this.Ia)}get Ea(){return this.la}da(e,r){const o=r?r.Aa:new gp,u=r?r.Ta:this.Ta;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,T=!1;const M="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,j="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ee,he)=>{const Re=u.get(ee),it=ki(this.query,he)?he:null,Ot=!!Re&&this.mutatedKeys.has(Re.key),Kt=!!it&&(it.hasLocalMutations||this.mutatedKeys.has(it.key)&&it.hasCommittedMutations);let $t=!1;Re&&it?Re.data.isEqual(it.data)?Ot!==Kt&&(o.track({type:3,doc:it}),$t=!0):this.Ra(Re,it)||(o.track({type:2,doc:it}),$t=!0,(M&&this.Ia(it,M)>0||j&&this.Ia(it,j)<0)&&(T=!0)):!Re&&it?(o.track({type:0,doc:it}),$t=!0):Re&&!it&&(o.track({type:1,doc:Re}),$t=!0,(M||j)&&(T=!0)),$t&&(it?(m=m.add(it),f=Kt?f.add(ee):f.delete(ee)):(m=m.delete(ee),f=f.delete(ee)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ee="F"===this.query.limitType?m.last():m.first();m=m.delete(ee.key),f=f.delete(ee.key),o.track({type:1,doc:ee})}return{Ta:m,Aa:o,Xi:T,mutatedKeys:f}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,u){const f=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const m=e.Aa.Q_();m.sort((ee,he)=>function(it,Ot){const Kt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return Kt(it)-Kt(Ot)}(ee.type,he.type)||this.Ia(ee.doc,he.doc)),this.Va(o),u=null!=u&&u;const T=r&&!u?this.ma():[],M=0===this.Pa.size&&this.current&&!u?1:0,j=M!==this.ha;return this.ha=M,0!==m.length||j?{snapshot:new Ol(this.query,e.Ta,f,m,e.mutatedKeys,0===M,j,!1,!!o&&o.resumeToken.approximateByteSize()>0),fa:T}:{fa:T}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new gp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Kn(),this.Ta.forEach(o=>{this.ga(o.key)&&(this.Pa=this.Pa.add(o.key))});const r=[];return e.forEach(o=>{this.Pa.has(o)||r.push(new cm(o))}),this.Pa.forEach(o=>{e.has(o)||r.push(new um(o))}),r}pa(e){this.la=e.hs,this.Pa=Kn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Ol.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class ty{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class ny{constructor(e){this.key=e,this.wa=!1}}class dm{constructor(e,r,o,u,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Sa={},this.ba=new po(T=>Ni(T),Ln),this.Da=new Map,this.Ca=new Set,this.va=new nr(Rt.comparator),this.Fa=new Map,this.Ma=new du,this.xa={},this.Oa=new Map,this.Na=va.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function qh(a,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,l.Z)(function*(a,e,r=!0){const o=uf(a);let u;const f=o.ba.get(e);return f?(o.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.ya()):u=yield hm(o,e,r,!0),u})).apply(this,arguments)}function vp(a,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,l.Z)(function*(a,e){const r=uf(a);yield hm(r,e,!0,!1)})).apply(this,arguments)}function hm(a,e,r,o){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,l.Z)(function*(a,e,r,o){const u=yield kc(a.localStore,G(e)),f=u.targetId,m=r?a.sharedClientState.addLocalQueryTarget(f):"not-current";let T;return o&&(T=yield Zh(a,e,f,"current"===m,u.resumeToken)),a.isPrimaryClient&&r&&_u(a.remoteStore,u),T})).apply(this,arguments)}function Zh(a,e,r,o,u){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,l.Z)(function*(a,e,r,o,u){a.Ba=(he,Re,it)=>{return(Ot=(0,l.Z)(function*($t,An,Bn,Mn){let hr=An.view.da(Bn);hr.Xi&&(hr=yield Il($t.localStore,An.query,!1).then(({documents:Se})=>An.view.da(Se,hr)));const li=Mn&&Mn.targetChanges.get(An.targetId),Mr=Mn&&null!=Mn.targetMismatches.get(An.targetId),Ze=An.view.applyChanges(hr,$t.isPrimaryClient,li,Mr);return Dp($t,An.targetId,Ze.fa),Ze.snapshot}),function Kt($t,An,Bn,Mn){return Ot.apply(this,arguments)})(a,he,Re,it);var Ot};const f=yield Il(a.localStore,e,!0),m=new lm(e,f.hs),T=m.da(f.documents),M=eu.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,u),j=m.applyChanges(T,a.isPrimaryClient,M);Dp(a,r,j.fa);const ee=new ty(e,r,m);return a.ba.set(e,ee),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),j.snapshot}),Iu.apply(this,arguments)}function fm(a,e,r){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,l.Z)(function*(a,e,r){const o=tt(a),u=o.ba.get(e),f=o.Da.get(u.targetId);if(f.length>1)return o.Da.set(u.targetId,f.filter(m=>!Ln(m,e))),void o.ba.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Ia(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&yu(o.remoteStore,u.targetId),kl(o,u.targetId)}).catch(Dn))):(kl(o,u.targetId),yield Ia(o.localStore,u.targetId,!0))})).apply(this,arguments)}function ry(a,e){return pm.apply(this,arguments)}function pm(){return(pm=(0,l.Z)(function*(a,e){const r=tt(a),o=r.ba.get(e),u=r.Da.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),yu(r.remoteStore,o.targetId))})).apply(this,arguments)}function Ip(){return(Ip=(0,l.Z)(function*(a,e,r){const o=kp(a);try{const u=yield function(m,T){const M=tt(m),j=Vt.now(),ee=T.reduce((it,Ot)=>it.add(Ot.key),Kn());let he,Re;return M.persistence.runTransaction("Locally write mutations","readwrite",it=>{let Ot=Lr(),Kt=Kn();return M.os.getEntries(it,ee).next($t=>{Ot=$t,Ot.forEach((An,Bn)=>{Bn.isValidDocument()||(Kt=Kt.add(An))})}).next(()=>M.localDocuments.getOverlayedDocuments(it,Ot)).next($t=>{he=$t;const An=[];for(const Bn of T){const Mn=lt(Bn,he.get(Bn.key).overlayedDocument);null!=Mn&&An.push(new gr(Bn.key,Mn,q(Mn.value.mapValue),ei.exists(!0)))}return M.mutationQueue.addMutationBatch(it,j,An,T)}).next($t=>{Re=$t;const An=$t.applyToLocalDocumentSet(he,Kt);return M.documentOverlayCache.saveOverlays(it,$t.batchId,An)})}).then(()=>({batchId:Re.batchId,changes:Qa(he)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(m,T,M){let j=m.xa[m.currentUser.toKey()];j||(j=new nr(Mt)),j=j.insert(T,M),m.xa[m.currentUser.toKey()]=j}(o,u.batchId,r),yield $a(o,u.changes),yield Ml(o.remoteStore)}catch(u){const f=Bc(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Cp(a,e){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,l.Z)(function*(a,e){const r=tt(a);try{const o=yield function Es(a,e){const r=tt(a),o=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const T=[];e.targetChanges.forEach((ee,he)=>{const Re=u.get(he);if(!Re)return;T.push(r.Qr.removeMatchingKeys(f,ee.removedDocuments,he).next(()=>r.Qr.addMatchingKeys(f,ee.addedDocuments,he)));let it=Re.withSequenceNumber(f.currentSequenceNumber);var Kt,$t,An;null!==e.targetMismatches.get(he)?it=it.withResumeToken(hi.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):ee.resumeToken.approximateByteSize()>0&&(it=it.withResumeToken(ee.resumeToken,o)),u=u.insert(he,it),$t=it,An=ee,(0===(Kt=Re).resumeToken.approximateByteSize()||$t.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&T.push(r.Qr.updateTargetData(f,it))});let M=Lr(),j=Kn();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(f,ee))}),T.push(El(f,m,e.documentUpdates).next(ee=>{M=ee.cs,j=ee.ls})),!o.isEqual(xt.min())){const ee=r.Qr.getLastRemoteSnapshotVersion(f).next(he=>r.Qr.setTargetsMetadata(f,f.currentSequenceNumber,o));T.push(ee)}return je.waitFor(T).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,M,j)).next(()=>M)}).then(f=>(r.ns=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const m=r.Fa.get(f);m&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.wa=!0:u.modifiedDocuments.size>0?kt(m.wa):u.removedDocuments.size>0&&(kt(m.wa),m.wa=!1))}),yield $a(r,o,e)}catch(o){yield Dn(o)}})).apply(this,arguments)}function wp(a,e,r){const o=tt(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.ba.forEach((f,m)=>{const T=m.view.j_(e);T.snapshot&&u.push(T.snapshot)}),function(m,T){const M=tt(m);M.onlineState=T;let j=!1;M.queries.forEach((ee,he)=>{for(const Re of he.U_)Re.j_(T)&&(j=!0)}),j&&Hh(M)}(o.eventManager,e),u.length&&o.Sa.h_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Tp(a,e,r){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,l.Z)(function*(a,e,r){const o=tt(a);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Fa.get(e),f=u&&u.key;if(f){let m=new nr(Rt.comparator);m=m.insert(f,B.newNoDocument(f,xt.min()));const T=Kn().add(f),M=new ri(xt.min(),new Map,new nr(Mt),m,T);yield Cp(o,M),o.va=o.va.remove(f),o.Fa.delete(e),Ap(o)}else yield Ia(o.localStore,e,!1).then(()=>kl(o,e,r)).catch(Dn)})).apply(this,arguments)}function Xh(a,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(a,e){const r=tt(a),o=e.batch.batchId;try{const u=yield function Rh(a,e){const r=tt(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=r.os.newChangeBuffer({trackRemovals:!0});return function(T,M,j,ee){const he=j.batch,Re=he.keys();let it=je.resolve();return Re.forEach(Ot=>{it=it.next(()=>ee.getEntry(M,Ot)).next(Kt=>{const $t=j.docVersions.get(Ot);kt(null!==$t),Kt.version.compareTo($t)<0&&(he.applyToRemoteDocument(Kt,j),Kt.isValidDocument()&&(Kt.setReadTime(j.commitVersion),ee.addEntry(Kt)))})}),it.next(()=>T.mutationQueue.removeMutationBatch(M,he))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(T){let M=Kn();for(let j=0;j<T.mutationResults.length;++j)T.mutationResults[j].transformResults.length>0&&(M=M.add(T.batch.mutations[j].key));return M}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,e);zc(r,o,null),jd(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield $a(r,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function gm(a,e,r){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,l.Z)(function*(a,e,r){const o=tt(a);try{const u=yield function(m,T){const M=tt(m);return M.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let ee;return M.mutationQueue.lookupMutationBatch(j,T).next(he=>(kt(null!==he),ee=he.keys(),M.mutationQueue.removeMutationBatch(j,he))).next(()=>M.mutationQueue.performConsistencyCheck(j)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(j,ee,T)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,ee)).next(()=>M.localDocuments.getDocuments(j,ee))})}(o.localStore,e);zc(o,e,r),jd(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield $a(o,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function tf(){return(tf=(0,l.Z)(function*(a,e){const r=tt(a);ja(r.remoteStore)||ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const T=tt(m);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>T.mutationQueue.getHighestUnacknowledgedBatchId(M))}(r.localStore);if(-1===o)return void e.resolve();const u=r.Oa.get(o)||[];u.push(e),r.Oa.set(o,u)}catch(o){const u=Bc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function jd(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function zc(a,e,r){const o=tt(a);let u=o.xa[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),o.xa[o.currentUser.toKey()]=u}}function kl(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Da.get(e))a.ba.delete(o),r&&a.Sa.ka(o,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(o=>{a.Ma.containsKey(o)||bp(a,o)})}function bp(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(yu(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),Ap(a))}function Dp(a,e,r){for(const o of r)o instanceof um?(a.Ma.addReference(o.key,e),iy(a,o)):o instanceof cm?(ye("SyncEngine","Document no longer in limbo: "+o.key),a.Ma.removeReference(o.key,e),a.Ma.containsKey(o.key)||bp(a,o.key)):Et()}function iy(a,e){const r=e.key,o=r.path.canonicalString();a.va.get(r)||a.Ca.has(o)||(ye("SyncEngine","New document in limbo: "+r),a.Ca.add(o),Ap(a))}function Ap(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new Rt(rn.fromString(e)),o=a.Na.next();a.Fa.set(o,new ny(r)),a.va=a.va.insert(r,o),_u(a.remoteStore,new jo(G(br(r.path)),o,"TargetPurposeLimboResolution",x.oe))}}function $a(a,e,r){return nf.apply(this,arguments)}function nf(){return nf=(0,l.Z)(function*(a,e,r){const o=tt(a),u=[],f=[],m=[];var T;o.ba.isEmpty()||(o.ba.forEach((T,M)=>{m.push(o.Ba(M,e,r).then(j=>{if((j||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(M.targetId,j&&!j.fromCache?"current":"not-current"),j){u.push(j);const ee=cs.Ki(M.targetId,j);f.push(ee)}}))}),yield Promise.all(m),o.Sa.h_(u),yield(T=(0,l.Z)(function*(j,ee){const he=tt(j);try{yield he.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>je.forEach(ee,it=>je.forEach(it.qi,Ot=>he.persistence.referenceDelegate.addReference(Re,it.targetId,Ot)).next(()=>je.forEach(it.Qi,Ot=>he.persistence.referenceDelegate.removeReference(Re,it.targetId,Ot)))))}catch(Re){if(!Tn(Re))throw Re;ye("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of ee){const it=Re.targetId;if(!Re.fromCache){const Ot=he.ns.get(it),$t=Ot.withLastLimboFreeSnapshotVersion(Ot.snapshotVersion);he.ns=he.ns.insert(it,$t)}}}),function M(j,ee){return T.apply(this,arguments)})(o.localStore,f))}),nf.apply(this,arguments)}function rf(a,e){return $d.apply(this,arguments)}function $d(){return($d=(0,l.Z)(function*(a,e){const r=tt(a);if(!r.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const o=yield Ph(r.localStore,e);r.currentUser=e,(f=r).Oa.forEach(T=>{T.forEach(M=>{M.reject(new ie(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Oa.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield $a(r,o.us)}var f})).apply(this,arguments)}function Fl(a,e){const r=tt(a),o=r.Fa.get(e);if(o&&o.wa)return Kn().add(o.key);{let u=Kn();const f=r.Da.get(e);if(!f)return u;for(const m of f){const T=r.ba.get(m);u=u.unionWith(T.view.Ea)}return u}}function oy(a,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,l.Z)(function*(a,e){const r=tt(a),o=yield Il(r.localStore,e.query,!0),u=e.view.pa(o);return r.isPrimaryClient&&Dp(r,e.targetId,u.fa),u})).apply(this,arguments)}function iE(a,e){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,l.Z)(function*(a,e){const r=tt(a);return xh(r.localStore,e).then(o=>$a(r,o))})).apply(this,arguments)}function Mp(a,e,r,o){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,l.Z)(function*(a,e,r,o){const u=tt(a),f=yield function(T,M){const j=tt(T),ee=tt(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",he=>ee.vn(he,M).next(Re=>Re?j.localDocuments.getDocuments(he,Re):je.resolve(null)))}(u.localStore,e);var M;null!==f?("pending"===r?yield Ml(u.remoteStore):"acknowledged"===r||"rejected"===r?(zc(u,e,o||null),jd(u,e),M=e,tt(tt(u.localStore).mutationQueue).Mn(M)):Et(),yield $a(u,f)):ye("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(a,e){const r=tt(a);if(uf(r),kp(r),!0===e&&!0!==r.La){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield sf(r,o.toArray());r.La=!0,yield jh(r.remoteStore,!0);for(const f of u)_u(r.remoteStore,f)}else if(!1===e&&!1!==r.La){const o=[];let u=Promise.resolve();r.Da.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(kl(r,m),Ia(r.localStore,m,!0))),yu(r.remoteStore,m)}),yield u,yield sf(r,o),function(m){const T=tt(m);T.Fa.forEach((M,j)=>{yu(T.remoteStore,j)}),T.Ma.mr(),T.Fa=new Map,T.va=new nr(Rt.comparator)}(r),r.La=!1,yield jh(r.remoteStore,!1)}})).apply(this,arguments)}function sf(a,e,r){return af.apply(this,arguments)}function af(){return(af=(0,l.Z)(function*(a,e,r){const o=tt(a),u=[],f=[];for(const m of e){let T;const M=o.Da.get(m);if(M&&0!==M.length){T=yield kc(o.localStore,G(M[0]));for(const j of M){const ee=o.ba.get(j),he=yield oy(o,ee);he.snapshot&&f.push(he.snapshot)}}else{const j=yield Cl(o.localStore,m);T=yield kc(o.localStore,j),yield Zh(o,xp(j),m,!1,T.resumeToken)}u.push(T)}return o.Sa.h_(f),u})).apply(this,arguments)}function xp(a){return Aa(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function mm(a){return r=tt(a).localStore,tt(tt(r).persistence).Bi();var r}function Gc(a,e,r,o){return Op.apply(this,arguments)}function Op(){return(Op=(0,l.Z)(function*(a,e,r,o){const u=tt(a);if(u.La)return void ye("SyncEngine","Ignoring unexpected query state notification.");const f=u.Da.get(e);if(f&&f.length>0)switch(r){case"current":case"not-current":{const m=yield xh(u.localStore,ts(f[0])),T=ri.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,hi.EMPTY_BYTE_STRING);yield $a(u,m,T);break}case"rejected":yield Ia(u.localStore,e,!0),kl(u,e,o);break;default:Et()}})).apply(this,arguments)}function sy(a,e,r){return Np.apply(this,arguments)}function Np(){return(Np=(0,l.Z)(function*(a,e,r){const o=uf(a);if(o.La){for(const u of e){if(o.Da.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){ye("SyncEngine","Adding an already active target "+u);continue}const f=yield Cl(o.localStore,u),m=yield kc(o.localStore,f);yield Zh(o,xp(f),m.targetId,!1,m.resumeToken),_u(o.remoteStore,m)}for(const u of r)o.Da.has(u)&&(yield Ia(o.localStore,u,!1).then(()=>{yu(o.remoteStore,u),kl(o,u)}).catch(Dn))}})).apply(this,arguments)}function uf(a){const e=tt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tp.bind(null,e),e.Sa.h_=ey.bind(null,e.eventManager),e.Sa.ka=om.bind(null,e.eventManager),e}function kp(a){const e=tt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gm.bind(null,e),e}class Ha{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.Z)(function*(){r.serializer=Ne(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Qu(this.persistence,new Ad,e.initialUser,this.serializer)}createPersistence(e){return new Ah(Td.Hr,this.serializer)}createSharedClientState(e){return new Nh}terminate(){var e=this;return(0,l.Z)(function*(){var r,o;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Fp extends Ha{constructor(e,r,o){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield r().call(o,e),yield o.Qa.initialize(o,e),yield kp(o.Qa.syncEngine),yield Ml(o.Qa.remoteStore),yield o.persistence.fi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Qu(this.persistence,new Ad,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Mc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const o=new O(r,this.persistence);return new V(e.asyncQueue,o)}createPersistence(e){const r=Dd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?so.withCacheSize(this.cacheSizeBytes):so.DEFAULT;return new to(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,z(),ne(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Nh}}class _m extends Fp{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield r().call(o,e);const u=o.Qa.syncEngine;o.sharedClientState instanceof Md&&(o.sharedClientState.syncEngine={Zs:Mp.bind(null,u),Xs:Gc.bind(null,u),eo:sy.bind(null,u),Bi:mm.bind(null,u),Ys:iE.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.fi(function(){var f=(0,l.Z)(function*(m){yield function Ll(a,e){return Vl.apply(this,arguments)}(o.Qa.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const r=z();if(!Md.D(r))throw new ie(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Dd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Md(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ul{initialize(e,r){var o=this;return(0,l.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>wp(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=rf.bind(null,o.syncEngine),yield jh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mp}createDatastore(e){const r=Ne(e.databaseInfo.databaseId),o=new w(e.databaseInfo);return new Pr(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,u=this.datastore,f=e.asyncQueue,m=r=>wp(this.syncEngine,r,0),T=tc.D()?new tc:new gu,new Ua(o,u,f,m,T);var o,u,f,m,T}createSyncEngine(e,r){return function(u,f,m,T,M,j,ee){const he=new dm(u,f,m,T,M,j);return ee&&(he.La=!0),he}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.Z)(function*(){var r,o;yield(o=(0,l.Z)(function*(f){const m=tt(f);ye("RemoteStore","RemoteStore shutting down."),m.M_.add(5),yield mu(m),m.O_.shutdown(),m.N_.set("Unknown")}),function u(f){return o.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function ym(a,e=10240){let r=0;return{read:()=>(0,l.Z)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class vm{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new de,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(o=>{o&&o.sa()?this.metadata.resolve(o.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.ia)}`))},o=>this.metadata.reject(o))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,l.Z)(function*(){const r=yield e.za();if(null===r)return null;const o=e.Wa.decode(r),u=Number(o);isNaN(u)&&e.ja(`length string (${o}) is not valid number`);const f=yield e.Ha(u);return new sm(JSON.parse(f),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,l.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}Ha(e){var r=this;return(0,l.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const o=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,l.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class uy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new ie(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(u=(0,l.Z)(function*(m,T){const M=tt(m),j={documents:T.map(it=>ha(M.serializer,it))},ee=yield M.xo("BatchGetDocuments",M.serializer.databaseId,rn.emptyPath(),j,T.length),he=new Map;ee.forEach(it=>{const Ot=function Hi(a,e){return"found"in e?function(o,u){kt(!!u.found);const f=os(o,u.found.name),m=Si(u.found.updateTime),T=u.found.createTime?Si(u.found.createTime):xt.min(),M=new jr({mapValue:{fields:u.found.fields}});return B.newFoundDocument(f,m,T,M)}(a,e):"missing"in e?function(o,u){kt(!!u.missing),kt(!!u.readTime);const f=os(o,u.missing),m=Si(u.readTime);return B.newNoDocument(f,m)}(a,e):Et()}(M.serializer,it);he.set(Ot.key.toString(),Ot)});const Re=[];return T.forEach(it=>{const Ot=he.get(it.toString());kt(!!Ot),Re.push(Ot)}),Re}),function f(m,T){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const f=Rt.fromPath(u);e.mutations.push(new Vr(f,e.precondition(f)))}),yield(o=(0,l.Z)(function*(f,m){const T=tt(f),M={writes:m.map(j=>Ao(T.serializer,j))};yield T.Co("Commit",T.serializer.databaseId,rn.emptyPath(),M)}),function u(f,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Et();r=xt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new ie(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(xt.min())?ei.exists(!1):ei.updateTime(r):ei.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(xt.min()))throw new ie(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ei.updateTime(r)}return ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cy{constructor(e,r,o,u,f){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=f,this.Za=o.maxAttempts,this.Yo=new ut(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,l.Z)(function*(){const r=new uy(e.datastore),o=e.tu(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.nu(f)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!ae(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Bo(r)}return!1}}class ly{constructor(e,r,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=er.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,l.Z)(function*(T){ye("FirestoreClient","Received user=",T.uid),yield f.authCredentialListener(T),f.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(ye("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new de;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=Bc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function lf(a,e){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,l.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,l.Z)(function*(f){o.isEqual(f)||(yield Ph(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Bl.apply(this,arguments)}function wa(a,e){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,l.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield df(a);ye("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Ko(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,u)=>Ko(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function Lp(a){return"FirebaseError"===a.name?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function df(a){return hf.apply(this,arguments)}function hf(){return(hf=(0,l.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lf(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Lp(r))throw r;Xt("Error using user provided cache. Falling back to memory cache: "+r),yield lf(a,new Ha)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),yield lf(a,new Ha);return a._offlineComponents})).apply(this,arguments)}function Vp(a){return Em.apply(this,arguments)}function Em(){return(Em=(0,l.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield wa(a,a._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),yield wa(a,new Ul))),a._onlineComponents})).apply(this,arguments)}function dy(a){return df(a).then(e=>e.persistence)}function rc(a){return df(a).then(e=>e.localStore)}function ff(a){return Vp(a).then(e=>e.remoteStore)}function Im(a){return Vp(a).then(e=>e.syncEngine)}function qc(a){return Up.apply(this,arguments)}function Up(){return(Up=(0,l.Z)(function*(a){const e=yield Vp(a),r=e.eventManager;return r.onListen=qh.bind(null,e.syncEngine),r.onUnlisten=fm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=vp.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ry.bind(null,e.syncEngine),r})).apply(this,arguments)}function Bp(a,e,r={}){const o=new de;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,m,T,M,j){const ee=new cf({next:Re=>{m.enqueueAndForget(()=>jc(f,he));const it=Re.docs.has(T);!it&&Re.fromCache?j.reject(new ie(le.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&Re.fromCache&&M&&"server"===M.source?j.reject(new ie(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Re)},error:Re=>j.reject(Re)}),he=new Nl(br(T.path),ee,{includeMetadataChanges:!0,ra:!0});return Ld(f,he)}(yield qc(a),a.asyncQueue,e,r,o)})),o.promise}function jp(a,e,r={}){const o=new de;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,m,T,M,j){const ee=new cf({next:Re=>{m.enqueueAndForget(()=>jc(f,he)),Re.fromCache&&"server"===M.source?j.reject(new ie(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Re)},error:Re=>j.reject(Re)}),he=new Nl(T,ee,{includeMetadataChanges:!0,ra:!0});return Ld(f,he)}(yield qc(a),a.asyncQueue,e,r,o)})),o.promise}function Tm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const bm=new Map;function zp(a,e,r){if(!r)throw new ie(le.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Dm(a,e,r,o){if(!0===e&&!0===o)throw new ie(le.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Gp(a){if(!Rt.isDocumentKey(a))throw new ie(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function yy(a){if(Rt.isDocumentKey(a))throw new ie(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Wp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":Et()}function yr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ie(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wp(a);throw new ie(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function jl(a,e){if(e<=0)throw new ie(le.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class qp{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Tm(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $l{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qp(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new ce;switch(o.type){case"firstParty":return new vt(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ie(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=bm.get(r);o&&(ye("ComponentProvider","Removing Datastore"),bm.delete(r),o.terminate())}(this),Promise.resolve()}}function gf(a,e,r,o={}){var u;const f=(a=yr(a,$l))._getSettings(),m=`${e}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==m&&Xt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),o.mockUserToken){let T,M;if("string"==typeof o.mockUserToken)T=o.mockUserToken,M=Xe.MOCK_USER;else{T=(0,me.Sg)(o.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new ie(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Xe(j)}a._authCredentials=new Ie(new be(T,M))}}class Fo{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class ao{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class Ta extends Fo{constructor(e,r,o){super(e,r,br(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new Rt(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function Am(a,e,...r){if(a=(0,me.m9)(a),zp("collection","path",e),a instanceof $l){const o=rn.fromString(e,...r);return yy(o),new Ta(a,null,o)}{if(!(a instanceof ao||a instanceof Ta))throw new ie(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(rn.fromString(e,...r));return yy(o),new Ta(a.firestore,null,o)}}function mf(a,e){if(a=yr(a,$l),zp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fo(a,null,(o=e,new ps(rn.emptyPath(),o)));var o}function vy(a,e,...r){if(a=(0,me.m9)(a),1===arguments.length&&(e=er.newId()),zp("doc","path",e),a instanceof $l){const o=rn.fromString(e,...r);return Gp(o),new ao(a,null,new Rt(o))}{if(!(a instanceof ao||a instanceof Ta))throw new ie(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(rn.fromString(e,...r));return Gp(o),new ao(a.firestore,a instanceof Ta?a.converter:null,new Rt(o))}}function Zp(a,e){return a=(0,me.m9)(a),e=(0,me.m9)(e),(a instanceof ao||a instanceof Ta)&&(e instanceof ao||e instanceof Ta)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function Kp(a,e){return a=(0,me.m9)(a),e=(0,me.m9)(e),a instanceof Fo&&e instanceof Fo&&a.firestore===e.firestore&&Ln(a._query,e._query)&&a.converter===e.converter}class Yp{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ut(this,"async_queue_retry"),this.hu=()=>{const r=ne();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ne();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ne();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new de;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,l.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Tn(r))throw r;ye("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(o=>{throw this.au=o,this.uu=!1,Ht("INTERNAL UNHANDLED ERROR: ",function(m){let T=m.message||"";return m.stack&&(T=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),T}(o)),o}).then(o=>(this.uu=!1,o))));return this.iu=r,r}enqueueAfterDelay(e,r,o){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=pp.createAndSchedule(this,e,r,o,f=>this.Eu(f));return this._u.push(u),u}Pu(){this.au&&Et()}verifyOperationInProgress(){}du(){var e=this;return(0,l.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function _f(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class Sm{constructor(){this._progressObserver={},this._taskCompletionResolver=new de,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Kc=-1;class Ti extends $l{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new Yp,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vf(this),this._firestoreClient.terminate()}}function yf(a,e){const r="object"==typeof a?a:(0,_.getApp)(),o="string"==typeof a?a:e||"(default)",u=(0,_._getProvider)(r,"firestore").getImmediate({identifier:o});if(!u._initialized){const f=(0,me.P0)("firestore");f&&gf(u,...f)}return u}function Ki(a){return a._firestoreClient||vf(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function vf(a){var e,r,o;const u=a._freezeSettings(),f=(M=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new ro(a._databaseId,M,a._persistenceKey,(ee=u).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,Tm(ee.experimentalLongPollingOptions),ee.useFetchStreams));var M,ee;a._firestoreClient=new ly(a._authCredentials,a._appCheckCredentials,a._queue,f),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Ef(a,e){Rm(a=yr(a,Ti));const r=Ki(a);if(r._uninitializedComponentsProvider)throw new ie(le.FAILED_PRECONDITION,"SDK cache is already specified.");Xt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=a._freezeSettings(),u=new Ul;return Yc(r,u,new Fp(u,o.cacheSizeBytes,e?.forceOwnership))}function za(a){Rm(a=yr(a,Ti));const e=Ki(a);if(e._uninitializedComponentsProvider)throw new ie(le.FAILED_PRECONDITION,"SDK cache is already specified.");Xt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),o=new Ul;return Yc(e,o,new _m(o,r.cacheSizeBytes))}function Yc(a,e,r){const o=new de;return a.asyncQueue.enqueue((0,l.Z)(function*(){try{yield lf(a,r),yield wa(a,e),o.resolve()}catch(u){const f=u;if(!Lp(f))throw f;Xt("Error enabling indexeddb cache. Falling back to memory cache: "+f),o.reject(f)}})).then(()=>o.promise)}function Qp(a){if(a._initialized&&!a._terminated)throw new ie(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new de;return a._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(r=(0,l.Z)(function*(u){if(!X.D())return Promise.resolve();const f=u+"main";yield X.delete(f)}),function o(u){return r.apply(this,arguments)})(Dd(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Ey(a){return function(r){const o=new de;return r.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function ef(a,e){return tf.apply(this,arguments)}(yield Im(r),o)})),o.promise}(Ki(a=yr(a,Ti)))}function Iy(a){return function fy(a){return a.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield dy(a),r=yield ff(a);return e.setNetworkEnabled(!0),function(u){const f=tt(u);return f.M_.delete(0),Ba(f)}(r)}))}(Ki(a=yr(a,Ti)))}function Mm(a){return function py(a){return a.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield dy(a),r=yield ff(a);return e.setNetworkEnabled(!1),(o=(0,l.Z)(function*(f){const m=tt(f);m.M_.add(0),yield mu(m),m.N_.set("Offline")}),function u(f){return o.apply(this,arguments)})(r);var o}))}(Ki(a=yr(a,Ti)))}function Cy(a,e){const r=Ki(a=yr(a,Ti)),o=new Sm;return function Zc(a,e,r,o){const u=function(m,T){let M;return M="string"==typeof m?Qs().encode(m):m,ee=function(ee,he){if(ee instanceof Uint8Array)return ym(ee,void 0);if(ee instanceof ArrayBuffer)return ym(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new vm(ee,T);var ee}(r,Ne(e));a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function Cu(a,e,r){const o=tt(a);var u;(u=(0,l.Z)(function*(m,T,M){try{const j=yield T.getMetadata();if(yield function(Ot,Kt){const $t=tt(Ot),An=Si(Kt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",Bn=>$t.$r.getBundleMetadata(Bn,Kt.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(An)>=0)}(m.localStore,j))return yield T.close(),M._completeWith({taskState:"Success",documentsLoaded:(Ot=j).totalDocuments,bytesLoaded:Ot.totalBytes,totalDocuments:Ot.totalDocuments,totalBytes:Ot.totalBytes}),Promise.resolve(new Set);M._updateProgress(am(j));const ee=new Wh(j,m.localStore,T.serializer);let he=yield T.qa();for(;he;){const it=yield ee._a(he);it&&M._updateProgress(it),he=yield T.qa()}const Re=yield ee.complete();return yield $a(m,Re.ca,void 0),yield function(Ot,Kt){const $t=tt(Ot);return $t.persistence.runTransaction("Save bundle","readwrite",An=>$t.$r.saveBundleMetadata(An,Kt))}(m.localStore,j),M._completeWith(Re.progress),Promise.resolve(Re.ua)}catch(j){return Xt("SyncEngine",`Loading bundle failed with ${j}`),M._failWith(j),Promise.resolve(new Set)}var Ot}),function f(m,T,M){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Im(a),u,o)}))}(r,a._databaseId,e,o),o}function wy(a,e){return function Cm(a,e){return a.asyncQueue.enqueue((0,l.Z)(function*(){return function(o,u){const f=tt(o);return f.persistence.runTransaction("Get named query","readonly",m=>f.$r.getNamedQuery(m,u))}(yield rc(a),e)}))}(Ki(a=yr(a,Ti)),e).then(r=>r?new Fo(a,null,r.query):null)}function Rm(a){if(a._initialized||a._terminated)throw new ie(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(hi.fromBase64String(e))}catch(r){throw new ie(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ic(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ie(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hl{constructor(e){this._methodName=e}}class Jp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ie(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ie(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}const Ty=/^__.*__$/;class by{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new gr(e,this.data,this.fieldMask,r,this.fieldTransforms):new mn(e,this.data,r,this.fieldTransforms)}}class Dy{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new gr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ay(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Jc{constructor(e,r,o,u,f,m){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===f&&this.mu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Jc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:o,yu:!1});return u.wu(e),u}Su(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:o,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Kl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Ay(this.fu)&&Ty.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Ne(e)}Fu(e,r,o,u=!1){return new Jc({fu:e,methodName:r,vu:o,path:Vn.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tu(a){const e=a._freezeSettings(),r=Ne(a._databaseId);return new Sy(a._databaseId,!!e.ignoreUndefinedProperties,r)}function zl(a,e,r,o,u,f={}){const m=a.Fu(f.merge||f.mergeFields?2:0,e,r,u);Xp("Data must be an object, but it was:",m,o);const T=Cf(o,m);let M,j;if(f.merge)M=new vi(m.fieldMask),j=m.fieldTransforms;else if(f.mergeFields){const ee=[];for(const he of f.mergeFields){const Re=Zl(e,he,r);if(!m.contains(Re))throw new ie(le.INVALID_ARGUMENT,`Field '${Re}' is specified in your field mask but missing from your input data.`);eg(ee,Re)||ee.push(Re)}M=new vi(ee),j=m.fieldTransforms.filter(he=>M.covers(he.field))}else M=null,j=m.fieldTransforms;return new by(new jr(T),M,j)}class Ga extends Hl{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ga}}function If(a,e,r){return new Jc({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zd extends Hl{_toFieldTransform(e){return new $s(e.path,new Zs)}isEqual(e){return e instanceof zd}}class Xc extends Hl{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=If(this,e,!0),o=this.Mu.map(f=>Wl(f,r)),u=new gs(o);return new $s(e.path,u)}isEqual(e){return e instanceof Xc&&(0,me.vZ)(this.Mu,e.Mu)}}class Gl extends Hl{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=If(this,e,!0),o=this.Mu.map(f=>Wl(f,r)),u=new ms(o);return new $s(e.path,u)}isEqual(e){return e instanceof Gl&&(0,me.vZ)(this.Mu,e.Mu)}}class oc extends Hl{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new js(e.serializer,Bs(e.serializer,this.xu));return new $s(e.path,r)}isEqual(e){return e instanceof oc&&this.xu===e.xu}}function Gd(a,e,r,o){const u=a.Fu(1,e,r);Xp("Data must be an object, but it was:",u,o);const f=[],m=jr.empty();Ji(o,(M,j)=>{const ee=wf(e,M,r);j=(0,me.m9)(j);const he=u.Su(ee);if(j instanceof Ga)f.push(ee);else{const Re=Wl(j,he);null!=Re&&(f.push(ee),m.set(ee,Re))}});const T=new vi(f);return new Dy(m,T,u.fieldTransforms)}function Wd(a,e,r,o,u,f){const m=a.Fu(1,e,r),T=[Zl(e,o,r)],M=[u];if(f.length%2!=0)throw new ie(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Re=0;Re<f.length;Re+=2)T.push(Zl(e,f[Re])),M.push(f[Re+1]);const j=[],ee=jr.empty();for(let Re=T.length-1;Re>=0;--Re)if(!eg(j,T[Re])){const it=T[Re];let Ot=M[Re];Ot=(0,me.m9)(Ot);const Kt=m.Su(it);if(Ot instanceof Ga)j.push(it);else{const $t=Wl(Ot,Kt);null!=$t&&(j.push(it),ee.set(it,$t))}}const he=new vi(j);return new Dy(ee,he,m.fieldTransforms)}function qd(a,e,r,o=!1){return Wl(r,a.Fu(o?4:3,e))}function Wl(a,e){if(ql(a=(0,me.m9)(a)))return Xp("Unsupported field value:",e,a),Cf(a,e);if(a instanceof Hl)return function(o,u){if(!Ay(u.fu))throw u.Du(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(o,u){const f=[];let m=0;for(const T of o){let M=Wl(T,u.bu(m));null==M&&(M={nullValue:"NULL_VALUE"}),f.push(M),m++}return{arrayValue:{values:f}}}(a,e)}return function(o,u){if(null===(o=(0,me.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Bs(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=Vt.fromDate(o);return{timestampValue:mo(u.serializer,f)}}if(o instanceof Vt){const f=new Vt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:mo(u.serializer,f)}}if(o instanceof Jp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ic)return{bytesValue:bc(u.serializer,o._byteString)};if(o instanceof ao){const f=u.databaseId,m=o.firestore._databaseId;if(!m.isEqual(f))throw u.Du(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Xs(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Du(`Unsupported field value: ${Wp(o)}`)}(a,e)}function Cf(a,e){const r={};return yi(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(a,(o,u)=>{const f=Wl(u,e.pu(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function ql(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Vt||a instanceof Jp||a instanceof ic||a instanceof ao||a instanceof Hl)}function Xp(a,e,r){if(!ql(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Wp(r);throw e.Du("an object"===o?a+" a custom object":a+" "+o)}var u}function Zl(a,e,r){if((e=(0,me.m9)(e))instanceof wu)return e._internalPath;if("string"==typeof e)return wf(a,e);throw Kl("Field path arguments must be of type string or ",a,!1,void 0,r)}const Py=new RegExp("[~\\*/\\[\\]]");function wf(a,e,r){if(e.search(Py)>=0)throw Kl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new wu(...e.split("."))._internalPath}catch{throw Kl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Kl(a,e,r,o,u){const f=o&&!o.isEmpty(),m=void 0!==u;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let M="";return(f||m)&&(M+=" (found",f&&(M+=` in field ${o}`),m&&(M+=` in document ${u}`),M+=")"),new ie(le.INVALID_ARGUMENT,T+a+M)}function eg(a,e){return a.some(r=>r.isEqual(e))}class Zd{constructor(e,r,o,u,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new My(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(tg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class My extends Zd{data(){return super.data()}}function tg(a,e){return"string"==typeof e?wf(a,e):e instanceof wu?e._internalPath:e._delegate._internalPath}function Nm(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new ie(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yl{}class el extends Yl{}function Ry(a,e,...r){let o=[];e instanceof Yl&&o.push(e),o=o.concat(r),function(f){const m=f.filter(M=>M instanceof bu).length,T=f.filter(M=>M instanceof Ql).length;if(m>1||m>0&&T>0)throw new ie(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)a=u._apply(a);return a}class Ql extends el{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new Ql(e,r,o)}_apply(e){const r=this._parse(e);return sg(e._query,r),new Fo(e.firestore,e.converter,Pe(e._query,r))}_parse(e){const r=Tu(e.firestore);return function(f,m,T,M,j,ee,he){let Re;if(j.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new ie(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){og(he,ee);const it=[];for(const Ot of he)it.push(Vm(M,f,Ot));Re={arrayValue:{values:it}}}else Re=Vm(M,f,he)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||og(he,ee),Re=qd(T,"where",he,"in"===ee||"not-in"===ee);return St.create(j,ee,Re)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function ng(a,e,r){const o=e,u=tg("where",a);return Ql._create(u,o,r)}class bu extends Yl{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new bu(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:un.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let m=u;const T=f.getFlattenedFilters();for(const M of T)sg(m,M),m=Pe(m,M)}(e._query,r),new Fo(e.firestore,e.converter,Pe(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rg extends el{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new rg(e,r)}_apply(e){const r=function(u,f,m){if(null!==u.startAt)throw new ie(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ie(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gt(f,m)}(e._query,this._field,this._direction);return new Fo(e.firestore,e.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new ps(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function km(a,e="asc"){const r=e,o=tg("orderBy",a);return rg._create(o,r)}class ig extends el{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new ig(e,r,o)}_apply(e){return new Fo(e.firestore,e.converter,fn(e._query,this._limit,this._limitType))}}function Oy(a){return jl("limit",a),ig._create("limit",a,"F")}function Tf(a){return jl("limitToLast",a),ig._create("limitToLast",a,"L")}class bf extends el{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new bf(e,r,o)}_apply(e){const r=Lm(e,this.type,this._docOrFields,this._inclusive);return new Fo(e.firestore,e.converter,(f=r,new ps((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}function Jl(...a){return bf._create("startAt",a,!0)}function Kd(...a){return bf._create("startAfter",a,!1)}class Df extends el{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Df(e,r,o)}_apply(e){const r=Lm(e,this.type,this._docOrFields,this._inclusive);return new Fo(e.firestore,e.converter,(f=r,new ps((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Fm(...a){return Df._create("endBefore",a,!1)}function Ny(...a){return Df._create("endAt",a,!0)}function Lm(a,e,r,o){if(r[0]=(0,me.m9)(r[0]),r[0]instanceof Zd)return function(f,m,T,M,j){if(!M)throw new ie(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const ee=[];for(const he of U(f))if(he.field.isKeyField())ee.push(Qt(m,M.key));else{const Re=M.data.field(he.field);if(vo(Re))throw new ie(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+he.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const it=he.field.canonicalString();throw new ie(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}ee.push(Re)}return new ge(ee,j)}(a._query,a.firestore._databaseId,e,r[0]._document,o);{const u=Tu(a.firestore);return function(m,T,M,j,ee,he){const Re=m.explicitOrderBy;if(ee.length>Re.length)throw new ie(le.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let Ot=0;Ot<ee.length;Ot++){const Kt=ee[Ot];if(Re[Ot].field.isKeyField()){if("string"!=typeof Kt)throw new ie(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Kt}`);if(!ca(m)&&-1!==Kt.indexOf("/"))throw new ie(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Kt}' contains a slash.`);const $t=m.path.child(rn.fromString(Kt));if(!Rt.isDocumentKey($t))throw new ie(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${$t}' is not because it contains an odd number of segments.`);const An=new Rt($t);it.push(Qt(T,An))}else{const $t=qd(M,j,Kt);it.push($t)}}return new ge(it,he)}(a._query,a.firestore._databaseId,u,e,r,o)}}function Vm(a,e,r){if("string"==typeof(r=(0,me.m9)(r))){if(""===r)throw new ie(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ca(e)&&-1!==r.indexOf("/"))throw new ie(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(rn.fromString(r));if(!Rt.isDocumentKey(o))throw new ie(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Qt(a,new Rt(o))}if(r instanceof ao)return Qt(a,r._key);throw new ie(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wp(r)}.`)}function og(a,e){if(!Array.isArray(a)||0===a.length)throw new ie(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sg(a,e){const r=function(u,f){for(const m of u)for(const T of m.getFlattenedFilters())if(f.indexOf(T.op)>=0)return T.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new ie(le.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Um{convertValue(e,r="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Et()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Ji(e,(u,f)=>{o[u]=this.convertValue(f,r)}),o}convertGeoPoint(e){return new Jp(Gr(e.latitude),Gr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Bi(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Tr(e));default:return null}}convertTimestamp(e){const r=Xi(e);return new Vt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=rn.fromString(e);kt(xa(o));const u=new Nn(o.get(1),o.get(3)),f=new Rt(o.popFirst(5));return u.isEqual(r)||Ht(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function Xl(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}class Bm extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,r)}}class tl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends Zd{constructor(e,r,o,u,f,m){super(e,r,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(tg("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Sf extends nl{data(e={}){return super.data(e)}}class sc{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new tl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Sf(this._firestore,this._userDataWriter,o.key,o,new tl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ie(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(T=>({type:"added",doc:new Sf(u._firestore,u._userDataWriter,T.doc.key,T.doc,new tl(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(T=>f||3!==T.type).map(T=>{const M=new Sf(u._firestore,u._userDataWriter,T.doc.key,T.doc,new tl(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter);let j=-1,ee=-1;return 0!==T.type&&(j=m.indexOf(T.doc.key),m=m.delete(T.doc.key)),1!==T.type&&(m=m.add(T.doc),ee=m.indexOf(T.doc.key)),{type:$m(T.type),doc:M,oldIndex:j,newIndex:ee}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function $m(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function ba(a,e){return a instanceof nl&&e instanceof nl?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof sc&&e instanceof sc&&a._firestore===e._firestore&&Kp(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function Hm(a){a=yr(a,ao);const e=yr(a.firestore,Ti);return Bp(Ki(e),a._key).then(r=>lg(e,a,r))}class rl extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,r)}}function ag(a){a=yr(a,ao);const e=yr(a.firestore,Ti),r=Ki(e),o=new rl(e);return function gy(a,e){const r=new de;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(f,m,T){try{const M=yield function(ee,he){const Re=tt(ee);return Re.persistence.runTransaction("read document","readonly",it=>Re.localDocuments.getDocument(it,he))}(f,m);M.isFoundDocument()?T.resolve(M):M.isNoDocument()?T.resolve(null):T.reject(new ie(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const j=Bc(M,`Failed to get document '${m} from cache`);T.reject(j)}}),function u(f,m,T){return o.apply(this,arguments)})(yield rc(a),e,r);var o})),r.promise}(r,a._key).then(u=>new nl(e,o,a._key,u,new tl(null!==u&&u.hasLocalMutations,!0),a.converter))}function ac(a){a=yr(a,ao);const e=yr(a.firestore,Ti);return Bp(Ki(e),a._key,{source:"server"}).then(r=>lg(e,a,r))}function ug(a){a=yr(a,Fo);const e=yr(a.firestore,Ti),r=Ki(e),o=new rl(e);return Nm(a._query),jp(r,a._query).then(u=>new sc(e,o,a,u))}function Fy(a){a=yr(a,Fo);const e=yr(a.firestore,Ti),r=Ki(e),o=new rl(e);return function pf(a,e){const r=new de;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(f,m,T){try{const M=yield Il(f,m,!0),j=new lm(m,M.hs),ee=j.da(M.documents),he=j.applyChanges(ee,!1);T.resolve(he.snapshot)}catch(M){const j=Bc(M,`Failed to execute query '${m} against cache`);T.reject(j)}}),function u(f,m,T){return o.apply(this,arguments)})(yield rc(a),e,r);var o})),r.promise}(r,a._query).then(u=>new sc(e,o,a,u))}function cE(a){a=yr(a,Fo);const e=yr(a.firestore,Ti),r=Ki(e),o=new rl(e);return jp(r,a._query,{source:"server"}).then(u=>new sc(e,o,a,u))}function Ly(a,e,r){a=yr(a,ao);const o=yr(a.firestore,Ti),u=Xl(a.converter,e,r);return no(o,[zl(Tu(o),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,ei.none())])}function cg(a,e,r,...o){a=yr(a,ao);const u=yr(a.firestore,Ti),f=Tu(u);let m;return m="string"==typeof(e=(0,me.m9)(e))||e instanceof wu?Wd(f,"updateDoc",a._key,e,r,o):Gd(f,"updateDoc",a._key,e),no(u,[m.toMutation(a._key,ei.exists(!0))])}function Wa(a){return no(yr(a.firestore,Ti),[new Yr(a._key,ei.none())])}function zm(a,e){const r=yr(a.firestore,Ti),o=vy(a),u=Xl(a.converter,e);return no(r,[zl(Tu(a.firestore),"addDoc",o._key,u,null!==a.converter,{}).toMutation(o._key,ei.exists(!1))]).then(()=>o)}function Vy(a,...e){var r,o,u;a=(0,me.m9)(a);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||_f(e[m])||(f=e[m],m++);const T={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(_f(e[m])){const he=e[m];e[m]=null===(r=he.next)||void 0===r?void 0:r.bind(he),e[m+1]=null===(o=he.error)||void 0===o?void 0:o.bind(he),e[m+2]=null===(u=he.complete)||void 0===u?void 0:u.bind(he)}let M,j,ee;if(a instanceof ao)j=yr(a.firestore,Ti),ee=br(a._key.path),M={next:he=>{e[m]&&e[m](lg(j,a,he))},error:e[m+1],complete:e[m+2]};else{const he=yr(a,Fo);j=yr(he.firestore,Ti),ee=he._query;const Re=new rl(j);M={next:it=>{e[m]&&e[m](new sc(j,Re,he,it))},error:e[m+1],complete:e[m+2]},Nm(a._query)}return function(Re,it,Ot,Kt){const $t=new cf(Kt),An=new Nl(it,$t,Ot);return Re.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return Ld(yield qc(Re),An)})),()=>{$t.$a(),Re.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return jc(yield qc(Re),An)}))}}(Ki(j),ee,T,M)}function lE(a,e){return function my(a,e){const r=new cf(e);return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield qc(a),f=r,tt(u).z_.add(f),void f.next();var u,f})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield qc(a),f=r,void tt(u).z_.delete(f);var u,f}))}}(Ki(a=yr(a,Ti)),_f(e)?e:{next:e})}function no(a,e){return function(o,u){const f=new de;return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Yh(a,e,r){return Ip.apply(this,arguments)}(yield Im(o),u,f)})),f.promise}(Ki(a),e)}function lg(a,e,r){const o=r.docs.get(e._key),u=new rl(a);return new nl(a,u,e._key,o,new tl(r.hasPendingWrites,r.fromCache),e.converter)}const Du={maxAttempts:5};class il{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Tu(e)}set(e,r,o){this._verifyNotCommitted();const u=uc(e,this._firestore),f=Xl(u.converter,r,o),m=zl(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,ei.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const f=uc(e,this._firestore);let m;return m="string"==typeof(r=(0,me.m9)(r))||r instanceof wu?Wd(this._dataReader,"WriteBatch.update",f._key,r,o,u):Gd(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=uc(e,this._firestore);return this._mutations=this._mutations.concat(new Yr(r._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uc(a,e){if((a=(0,me.m9)(a)).firestore!==e)throw new ie(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Gy extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Tu(r)}get(r){const o=uc(r,this._firestore),u=new Bm(this._firestore);return this._transaction.lookup([o._key]).then(f=>{if(!f||1!==f.length)return Et();const m=f[0];if(m.isFoundDocument())return new Zd(this._firestore,u,m.key,m,o.converter);if(m.isNoDocument())return new Zd(this._firestore,u,o._key,null,o.converter);throw Et()})}set(r,o,u){const f=uc(r,this._firestore),m=Xl(f.converter,o,u),T=zl(this._dataReader,"Transaction.set",f._key,m,null!==f.converter,u);return this._transaction.set(f._key,T),this}update(r,o,u,...f){const m=uc(r,this._firestore);let T;return T="string"==typeof(o=(0,me.m9)(o))||o instanceof wu?Wd(this._dataReader,"Transaction.update",m._key,o,u,f):Gd(this._dataReader,"Transaction.update",m._key,o),this._transaction.update(m._key,T),this}delete(r){const o=uc(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=uc(e,this._firestore),o=new rl(this._firestore);return super.get(e).then(u=>new nl(this._firestore,o,r._key,u._document,new tl(!1,!1),r.converter))}}function Km(a,e,r){a=yr(a,Ti);const o=Object.assign(Object.assign({},Du),r);return function(f){if(f.maxAttempts<1)throw new ie(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(f,m,T){const M=new de;return f.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const j=yield function hy(a){return Vp(a).then(e=>e.datastore)}(f);new cy(f.asyncQueue,j,T,m,M).Xa()})),M.promise}(Ki(a),u=>e(new Gy(a,u)),o)}function Ym(){return new Ga("deleteField")}function hg(){return new zd("serverTimestamp")}function Qd(...a){return new Xc("arrayUnion",a)}function Pf(...a){return new Gl("arrayRemove",a)}function Qm(a){return new oc("increment",a)}!function(e,r=!0){Ke=_.SDK_VERSION,(0,_._registerComponent)(new H.wA("firestore",(o,{instanceIdentifier:u,options:f})=>{const m=o.getProvider("app").getImmediate(),T=new Ti(new Fe(o.getProvider("auth-internal")),new qt(o.getProvider("app-check-internal")),function(j,ee){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new ie(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nn(j.options.projectId,ee)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),T._setSettings(f),T},"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(Le,"4.6.3",e),(0,_.registerVersion)(Le,"4.6.3","esm2017")}()},8153:(nn,Je,k)=>{k.d(Je,{$Y:()=>dn,B0:()=>Wi,FN:()=>Pn,IX:()=>ui,Jt:()=>Ci,UJ:()=>Or,Ym:()=>Qt,a1:()=>co,aF:()=>Qn,bm:()=>cn,cF:()=>Ar,g6:()=>io,gE:()=>Ut,gH:()=>Ht,iH:()=>Zr,oq:()=>Ro,pb:()=>Fn,qm:()=>gn,sd:()=>Nr,y4:()=>xn});var l=k(5861),_=k(534),H=k(9058),Te=k(4537);const me="firebasestorage.googleapis.com",De="storageBucket";class re extends H.ZR{constructor(B,ge,we=0){super(Me(B),`Firebase Storage: ${ge} (${Me(B)})`),this.status_=we,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,re.prototype)}get status(){return this.status_}set status(B){this.status_=B}_codeEquals(B){return Me(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var se=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(se||{});function Me(q){return"storage/"+q}function pt(){return new re(se.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sn(){return new re(se.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function We(){return new re(se.CANCELED,"User canceled the upload/download.")}function Ye(){return new re(se.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ht(q){return new re(se.INVALID_ARGUMENT,q)}function Xt(){return new re(se.APP_DELETED,"The Firebase app was deleted.")}function xn(q){return new re(se.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Et(q,B){return new re(se.INVALID_FORMAT,"String does not match format '"+q+"': "+B)}function kt(q){throw new re(se.INTERNAL_ERROR,"Internal error: "+q)}class Ut{constructor(B,ge){this.bucket=B,this.path_=ge}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,ge){let we;try{we=Ut.makeFromUrl(B,ge)}catch{return new Ut(B,"")}if(""===we.path)return we;throw function Xe(q){return new re(se.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(B)}static makeFromUrl(B,ge){let we=null;const $e="([A-Za-z0-9.\\-_]+)",hn=new RegExp("^gs://"+$e+"(/(.*))?$","i");function un(ci){ci.path_=decodeURIComponent(ci.path)}const wn=ge.replace(/[.]/g,"\\."),Jn=[{regex:hn,indices:{bucket:1,path:3},postModify:function gt(ci){"/"===ci.path.charAt(ci.path.length-1)&&(ci.path_=ci.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wn}/v[A-Za-z0-9_]+/b/${$e}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:un},{regex:new RegExp(`^https?://${ge===me?"(?:storage.googleapis.com|storage.cloud.google.com)":ge}/${$e}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:un}];for(let ci=0;ci<Jn.length;ci++){const Hr=Jn[ci],Ir=Hr.regex.exec(B);if(Ir){let Oi=Ir[Hr.indices.path];Oi||(Oi=""),we=new Ut(Ir[Hr.indices.bucket],Oi),Hr.postModify(we);break}}if(null==we)throw function Le(q){return new re(se.INVALID_URL,"Invalid URL '"+q+"'.")}(B);return we}}class tt{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function Ie(q){return"string"==typeof q||q instanceof String}function Fe(q){return mt()&&q instanceof Blob}function mt(){return typeof Blob<"u"}function vt(q,B,ge,we){if(we<B)throw Ht(`Invalid value for '${q}'. Expected ${B} or greater.`);if(we>ge)throw Ht(`Invalid value for '${q}'. Expected ${ge} or less.`)}function an(q,B,ge){let we=B;return null==ge&&(we=`https://${B}`),`${ge}://${we}/v0${q}`}function qt(q){const B=encodeURIComponent;let ge="?";for(const we in q)q.hasOwnProperty(we)&&(ge=ge+(B(we)+"=")+B(q[we])+"&");return ge=ge.slice(0,-1),ge}var Sn=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Sn||{});function _n(q,B){const ge=q>=500&&q<600,$e=-1!==[408,429].indexOf(q),gt=-1!==B.indexOf(q);return ge||$e||gt}class er{constructor(B,ge,we,$e,gt,Gt,hn,St,un,Zn,wn,Jr=!0){this.url_=B,this.method_=ge,this.headers_=we,this.body_=$e,this.successCodes_=gt,this.additionalRetryCodes_=Gt,this.callback_=hn,this.errorCallback_=St,this.timeout_=un,this.progressCallback_=Zn,this.connectionFactory_=wn,this.retry=Jr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($r,Xr)=>{this.resolve_=$r,this.reject_=Xr,this.start_()})}start_(){const ge=(we,$e)=>{const gt=this.resolve_,Gt=this.reject_,hn=$e.connection;if($e.wasSuccessCode)try{const St=this.callback_(hn,hn.getResponse());!function de(q){return void 0!==q}(St)?gt():gt(St)}catch(St){Gt(St)}else if(null!==hn){const St=pt();St.serverResponse=hn.getErrorText(),Gt(this.errorCallback_?this.errorCallback_(hn,St):St)}else Gt($e.canceled?this.appDelete_?Xt():We():sn())};this.canceled_?ge(0,new Mt(!1,null,!0)):this.backoffId_=function le(q,B,ge){let we=1,$e=null,gt=null,Gt=!1,hn=0;function St(){return 2===hn}let un=!1;function Zn(...Fr){un||(un=!0,B.apply(null,Fr))}function wn(Fr){$e=setTimeout(()=>{$e=null,q($r,St())},Fr)}function Jr(){gt&&clearTimeout(gt)}function $r(Fr,...$i){if(un)return void Jr();if(Fr)return Jr(),void Zn.call(null,Fr,...$i);if(St()||Gt)return Jr(),void Zn.call(null,Fr,...$i);let Jn;we<64&&(we*=2),1===hn?(hn=2,Jn=0):Jn=1e3*(we+Math.random()),wn(Jn)}let Xr=!1;function Kr(Fr){Xr||(Xr=!0,Jr(),!un&&(null!==$e?(Fr||(hn=2),clearTimeout($e),wn(0)):Fr||(hn=1)))}return wn(0),gt=setTimeout(()=>{Gt=!0,Kr(!0)},ge),Kr}((we,$e)=>{if($e)return void we(!1,new Mt(!1,null,!0));const gt=this.connectionFactory_();this.pendingConnection_=gt;const Gt=hn=>{null!==this.progressCallback_&&this.progressCallback_(hn.loaded,hn.lengthComputable?hn.total:-1)};null!==this.progressCallback_&&gt.addUploadProgressListener(Gt),gt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&gt.removeUploadProgressListener(Gt),this.pendingConnection_=null;const hn=gt.getErrorCode()===Sn.NO_ERROR,St=gt.getStatus();if(!hn||_n(St,this.additionalRetryCodes_)&&this.retry){const Zn=gt.getErrorCode()===Sn.ABORT;return void we(!1,new Mt(!1,null,Zn))}const un=-1!==this.successCodes_.indexOf(St);we(!0,new Mt(un,gt))})},ge,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&function ie(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Mt{constructor(B,ge,we){this.wasSuccessCode=B,this.connection=ge,this.canceled=!!we}}function sr(...q){const B=function rn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==B){const ge=new B;for(let we=0;we<q.length;we++)ge.append(q[we]);return ge.getBlob()}if(mt())return new Blob(q);throw new re(se.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cn{constructor(B,ge){this.data=B,this.contentType=ge||null}}function gn(q,B){switch(q){case cn.RAW:return new Cn(rr(B));case cn.BASE64:case cn.BASE64URL:return new Cn(Rr(q,B));case cn.DATA_URL:return new Cn(function xr(q){const B=new Rn(q);return B.base64?Rr(cn.BASE64,B.rest):function ur(q){let B;try{B=decodeURIComponent(q)}catch{throw Et(cn.DATA_URL,"Malformed data URL.")}return rr(B)}(B.rest)}(B),function Di(q){return new Rn(q).contentType}(B))}throw pt()}function rr(q){const B=[];for(let ge=0;ge<q.length;ge++){let we=q.charCodeAt(ge);we<=127?B.push(we):we<=2047?B.push(192|we>>6,128|63&we):55296==(64512&we)?ge<q.length-1&&56320==(64512&q.charCodeAt(ge+1))?(we=65536|(1023&we)<<10|1023&q.charCodeAt(++ge),B.push(240|we>>18,128|we>>12&63,128|we>>6&63,128|63&we)):B.push(239,191,189):56320==(64512&we)?B.push(239,191,189):B.push(224|we>>12,128|we>>6&63,128|63&we)}return new Uint8Array(B)}function Rr(q,B){switch(q){case cn.BASE64:{const $e=-1!==B.indexOf("-"),gt=-1!==B.indexOf("_");if($e||gt)throw Et(q,"Invalid character '"+($e?"-":"_")+"' found: is it base64url encoded?");break}case cn.BASE64URL:{const $e=-1!==B.indexOf("+"),gt=-1!==B.indexOf("/");if($e||gt)throw Et(q,"Invalid character '"+($e?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let ge;try{ge=function Rt(q){if(typeof atob>"u")throw function ye(q){return new re(se.UNSUPPORTED_ENVIRONMENT,`${q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(q)}(B)}catch($e){throw $e.message.includes("polyfill")?$e:Et(q,"Invalid character found")}const we=new Uint8Array(ge.length);for(let $e=0;$e<ge.length;$e++)we[$e]=ge.charCodeAt($e);return we}class Rn{constructor(B){this.base64=!1,this.contentType=null;const ge=B.match(/^data:([^,]+)?,/);if(null===ge)throw Et(cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const we=ge[1]||null;null!=we&&(this.base64=function en(q,B){return q.length>=B.length&&q.substring(q.length-B.length)===B}(we,";base64"),this.contentType=this.base64?we.substring(0,we.length-7):we),this.rest=B.substring(B.indexOf(",")+1)}}class Or{constructor(B,ge){let we=0,$e="";Fe(B)?(this.data_=B,we=B.size,$e=B.type):B instanceof ArrayBuffer?(ge?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),we=this.data_.length):B instanceof Uint8Array&&(ge?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),we=B.length),this.size_=we,this.type_=$e}size(){return this.size_}type(){return this.type_}slice(B,ge){if(Fe(this.data_)){const $e=function Vn(q,B,ge){return q.webkitSlice?q.webkitSlice(B,ge):q.mozSlice?q.mozSlice(B,ge):q.slice?q.slice(B,ge):null}(this.data_,B,ge);return null===$e?null:new Or($e)}{const we=new Uint8Array(this.data_.buffer,B,ge-B);return new Or(we,!0)}}static getBlob(...B){if(mt()){const ge=B.map(we=>we instanceof Or?we.data_:we);return new Or(sr.apply(null,ge))}{const ge=B.map(Gt=>Ie(Gt)?gn(cn.RAW,Gt).data:Gt.data_);let we=0;ge.forEach(Gt=>{we+=Gt.byteLength});const $e=new Uint8Array(we);let gt=0;return ge.forEach(Gt=>{for(let hn=0;hn<Gt.length;hn++)$e[gt++]=Gt[hn]}),new Or($e,!0)}}uploadData(){return this.data_}}function $n(q){let B;try{B=JSON.parse(q)}catch{return null}return function ce(q){return"object"==typeof q&&!Array.isArray(q)}(B)?B:null}function si(q){const B=q.lastIndexOf("/",q.length-2);return-1===B?q:q.slice(B+1)}function je(q,B){return B}class dt{constructor(B,ge,we,$e){this.server=B,this.local=ge||B,this.writable=!!we,this.xform=$e||je}}let X=null;function ht(){if(X)return X;const q=[];q.push(new dt("bucket")),q.push(new dt("generation")),q.push(new dt("metageneration")),q.push(new dt("name","fullPath",!0));const ge=new dt("name");ge.xform=function B(gt,Gt){return function Ee(q){return!Ie(q)||q.length<2?q:si(q)}(Gt)},q.push(ge);const $e=new dt("size");return $e.xform=function we(gt,Gt){return void 0!==Gt?Number(Gt):Gt},q.push($e),q.push(new dt("timeCreated")),q.push(new dt("updated")),q.push(new dt("md5Hash",null,!0)),q.push(new dt("cacheControl",null,!0)),q.push(new dt("contentDisposition",null,!0)),q.push(new dt("contentEncoding",null,!0)),q.push(new dt("contentLanguage",null,!0)),q.push(new dt("contentType",null,!0)),q.push(new dt("metadata","customMetadata",!0)),X=q,X}function mr(q,B,ge){const we=$n(B);return null===we?null:function Tn(q,B,ge){const we={type:"file"},$e=ge.length;for(let gt=0;gt<$e;gt++){const Gt=ge[gt];we[Gt.local]=Gt.xform(we,B[Gt.server])}return function Bt(q,B){Object.defineProperty(q,"ref",{get:function ge(){const gt=new Ut(q.bucket,q.fullPath);return B._makeStorageReference(gt)}})}(we,q),we}(q,we,ge)}function Ae(q,B){const ge={},we=B.length;for(let $e=0;$e<we;$e++){const gt=B[$e];gt.writable&&(ge[gt.server]=q[gt.local])}return JSON.stringify(ge)}const K="prefixes",V="items";class ae{constructor(B,ge,we,$e){this.url=B,this.method=ge,this.handler=we,this.timeout=$e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xe(q){if(!q)throw pt()}function ft(q,B){return function ge(we,$e){const gt=mr(q,$e,B);return xe(null!==gt),gt}}function Zt(q){return function B(ge,we){let $e;return $e=401===ge.getStatus()?ge.getErrorText().includes("Firebase App Check token is invalid")?function Lt(){return new re(se.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function yt(){return new re(se.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ge.getStatus()?function Pt(q){return new re(se.QUOTA_EXCEEDED,"Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===ge.getStatus()?function wt(q){return new re(se.UNAUTHORIZED,"User does not have permission to access '"+q+"'.")}(q.path):we,$e.status=ge.getStatus(),$e.serverResponse=we.serverResponse,$e}}function Jt(q){const B=Zt(q);return function ge(we,$e){let gt=B(we,$e);return 404===we.getStatus()&&(gt=function Ge(q){return new re(se.OBJECT_NOT_FOUND,"Object '"+q+"' does not exist.")}(q.path)),gt.serverResponse=$e.serverResponse,gt}}function zn(q,B,ge){const $e=an(B.fullServerUrl(),q.host,q._protocol),Gt=q.maxOperationRetryTime,hn=new ae($e,"GET",ft(q,ge),Gt);return hn.errorHandler=Jt(B),hn}function vn(q,B,ge,we,$e){const gt={};gt.prefix=B.isRoot?"":B.path+"/",ge&&ge.length>0&&(gt.delimiter=ge),we&&(gt.pageToken=we),$e&&(gt.maxResults=$e);const hn=an(B.bucketOnlyServerUrl(),q.host,q._protocol),un=q.maxOperationRetryTime,Zn=new ae(hn,"GET",function At(q,B){return function ge(we,$e){const gt=function x(q,B,ge){const we=$n(ge);return null===we?null:function O(q,B,ge){const we={prefixes:[],items:[],nextPageToken:ge.nextPageToken};if(ge[K])for(const $e of ge[K]){const gt=$e.replace(/\/$/,""),Gt=q._makeStorageReference(new Ut(B,gt));we.prefixes.push(Gt)}if(ge[V])for(const $e of ge[V]){const gt=q._makeStorageReference(new Ut(B,$e.name));we.items.push(gt)}return we}(q,B,we)}(q,B,$e);return xe(null!==gt),gt}}(q,B.bucket),un);return Zn.urlParams=gt,Zn.errorHandler=Zt(B),Zn}function Gi(q,B,ge){const we=Object.assign({},ge);return we.fullPath=q.path,we.size=B.size(),we.contentType||(we.contentType=function Qi(q,B){return q&&q.contentType||B&&B.type()||"application/octet-stream"}(null,B)),we}class Wn{constructor(B,ge,we,$e){this.current=B,this.total=ge,this.finalized=!!we,this.metadata=$e||null}}function st(q,B){let ge=null;try{ge=q.getResponseHeader("X-Goog-Upload-Status")}catch{xe(!1)}return xe(!!ge&&-1!==(B||["active"]).indexOf(ge)),ge}const Pn={STATE_CHANGED:"state_changed"},dn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vr(q){switch(q){case"running":case"pausing":case"canceling":return dn.RUNNING;case"paused":return dn.PAUSED;case"success":return dn.SUCCESS;case"canceled":return dn.CANCELED;default:return dn.ERROR}}class cr{constructor(B,ge,we){if(function be(q){return"function"==typeof q}(B)||null!=ge||null!=we)this.next=B,this.error=ge??void 0,this.complete=we??void 0;else{const gt=B;this.next=gt.next,this.error=gt.error,this.complete=gt.complete}}}function di(q){return(...B)=>{Promise.resolve().then(()=>q(...B))}}let uo=null;class lr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sn.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sn.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sn.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,ge,we,$e){if(this.sent_)throw kt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ge,B,!0),void 0!==$e)for(const gt in $e)$e.hasOwnProperty(gt)&&this.xhr_.setRequestHeader(gt,$e[gt].toString());return void 0!==we?this.xhr_.send(we):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}class Vo extends lr{initXhr(){this.xhr_.responseType="text"}}function ai(){return uo?uo():new Vo}class ui{constructor(B,ge,we=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=B,this._blob=ge,this._metadata=we,this._mappings=ht(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=$e=>{if(this._request=void 0,this._chunkMultiplier=1,$e._codeEquals(se.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const gt=this.isExponentialBackoffExpired();if(_n($e.status,[])){if(!gt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();$e=sn()}this._error=$e,this._transition("error")}},this._metadataErrorHandler=$e=>{this._request=void 0,$e._codeEquals(se.CANCELED)?this.completeTransitions_():(this._error=$e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(($e,gt)=>{this._resolve=$e,this._reject=gt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const B=this._transferred;return ge=>this._updateProgress(B+ge)}_shouldDoResumable(B){return B.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(B){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ge,we])=>{switch(this._state){case"running":B(ge,we);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((B,ge)=>{const we=function qe(q,B,ge,we,$e){const gt=B.bucketOnlyServerUrl(),Gt=Gi(B,we,$e),hn={name:Gt.fullPath},St=an(gt,q.host,q._protocol),Zn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${we.size()}`,"X-Goog-Upload-Header-Content-Type":Gt.contentType,"Content-Type":"application/json; charset=utf-8"},wn=Ae(Gt,ge),Xr=new ae(St,"POST",function $r(Kr){let Fr;st(Kr);try{Fr=Kr.getResponseHeader("X-Goog-Upload-URL")}catch{xe(!1)}return xe(Ie(Fr)),Fr},q.maxUploadRetryTime);return Xr.urlParams=hn,Xr.headers=Zn,Xr.body=wn,Xr.errorHandler=Zt(B),Xr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$e=this._ref.storage._makeRequest(we,ai,B,ge);this._request=$e,$e.getPromise().then(gt=>{this._request=void 0,this._uploadUrl=gt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const B=this._uploadUrl;this._resolveToken((ge,we)=>{const $e=function It(q,B,ge,we){const St=new ae(ge,"POST",function gt(un){const Zn=st(un,["active","final"]);let wn=null;try{wn=un.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xe(!1)}wn||xe(!1);const Jr=Number(wn);return xe(!isNaN(Jr)),new Wn(Jr,we.size(),"final"===Zn)},q.maxUploadRetryTime);return St.headers={"X-Goog-Upload-Command":"query"},St.errorHandler=Zt(B),St}(this._ref.storage,this._ref._location,B,this._blob),gt=this._ref.storage._makeRequest($e,ai,ge,we);this._request=gt,gt.getPromise().then(Gt=>{this._request=void 0,this._updateProgress(Gt.current),this._needToFetchStatus=!1,Gt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const B=262144*this._chunkMultiplier,ge=new Wn(this._transferred,this._blob.size()),we=this._uploadUrl;this._resolveToken(($e,gt)=>{let Gt;try{Gt=function bn(q,B,ge,we,$e,gt,Gt,hn){const St=new Wn(0,0);if(Gt?(St.current=Gt.current,St.total=Gt.total):(St.current=0,St.total=we.size()),we.size()!==St.total)throw function _t(){return new re(se.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const un=St.total-St.current;let Zn=un;$e>0&&(Zn=Math.min(Zn,$e));const wn=St.current;let $r="";$r=0===Zn?"finalize":un===Zn?"upload, finalize":"upload";const Xr={"X-Goog-Upload-Command":$r,"X-Goog-Upload-Offset":`${St.current}`},Kr=we.slice(wn,wn+Zn);if(null===Kr)throw Ye();const Jn=new ae(ge,"POST",function Fr(ci,Hr){const Ir=st(ci,["active","final"]),zo=St.current+Zn,Oi=we.size();let Ts;return Ts="final"===Ir?ft(B,gt)(ci,Hr):null,new Wn(zo,Oi,"final"===Ir,Ts)},B.maxUploadRetryTime);return Jn.headers=Xr,Jn.body=Kr.uploadData(),Jn.progressCallback=hn||null,Jn.errorHandler=Zt(q),Jn}(this._ref._location,this._ref.storage,we,this._blob,B,this._mappings,ge,this._makeProgressCallback())}catch(St){return this._error=St,void this._transition("error")}const hn=this._ref.storage._makeRequest(Gt,ai,$e,gt,!1);this._request=hn,hn.getPromise().then(St=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(St.current),St.finalized?(this._metadata=St.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((B,ge)=>{const we=zn(this._ref.storage,this._ref._location,this._mappings),$e=this._ref.storage._makeRequest(we,ai,B,ge);this._request=$e,$e.getPromise().then(gt=>{this._request=void 0,this._metadata=gt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((B,ge)=>{const we=function kr(q,B,ge,we,$e){const gt=B.bucketOnlyServerUrl(),Gt={"X-Goog-Upload-Protocol":"multipart"},St=function hn(){let Jn="";for(let ci=0;ci<2;ci++)Jn+=Math.random().toString().slice(2);return Jn}();Gt["Content-Type"]="multipart/related; boundary="+St;const un=Gi(B,we,$e),Zn=Ae(un,ge),$r=Or.getBlob("--"+St+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Zn+"\r\n--"+St+"\r\nContent-Type: "+un.contentType+"\r\n\r\n",we,"\r\n--"+St+"--");if(null===$r)throw Ye();const Xr={name:un.fullPath},Kr=an(gt,q.host,q._protocol),$i=q.maxUploadRetryTime,xi=new ae(Kr,"POST",ft(q,ge),$i);return xi.urlParams=Xr,xi.headers=Gt,xi.body=$r.uploadData(),xi.errorHandler=Zt(B),xi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$e=this._ref.storage._makeRequest(we,ai,B,ge);this._request=$e,$e.getPromise().then(gt=>{this._request=void 0,this._metadata=gt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(B){const ge=this._transferred;this._transferred=B,this._transferred!==ge&&this._notifyObservers()}_transition(B){if(this._state!==B)switch(B){case"canceling":case"pausing":this._state=B,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ge="paused"===this._state;this._state=B,ge&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=B,this._notifyObservers();break;case"canceled":this._error=We(),this._state=B,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const B=vr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:B,metadata:this._metadata,task:this,ref:this._ref}}on(B,ge,we,$e){const gt=new cr(ge||void 0,we||void 0,$e||void 0);return this._addObserver(gt),()=>{this._removeObserver(gt)}}then(B,ge){return this._promise.then(B,ge)}catch(B){return this.then(null,B)}_addObserver(B){this._observers.push(B),this._notifyObserver(B)}_removeObserver(B){const ge=this._observers.indexOf(B);-1!==ge&&this._observers.splice(ge,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ge=>{this._notifyObserver(ge)})}_finishPromise(){if(void 0!==this._resolve){let B=!0;switch(vr(this._state)){case dn.SUCCESS:di(this._resolve.bind(null,this.snapshot))();break;case dn.CANCELED:case dn.ERROR:di(this._reject.bind(null,this._error))();break;default:B=!1}B&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(B){switch(vr(this._state)){case dn.RUNNING:case dn.PAUSED:B.next&&di(B.next.bind(B,this.snapshot))();break;case dn.SUCCESS:B.complete&&di(B.complete.bind(B))();break;default:B.error&&di(B.error.bind(B,this._error))()}}resume(){const B="paused"===this._state||"pausing"===this._state;return B&&this._transition("running"),B}pause(){const B="running"===this._state;return B&&this._transition("pausing"),B}cancel(){const B="running"===this._state||"pausing"===this._state;return B&&this._transition("canceling"),B}}class yi{constructor(B,ge){this._service=B,this._location=ge instanceof Ut?ge:Ut.makeFromUrl(ge,B.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,ge){return new yi(B,ge)}get root(){const B=new Ut(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return si(this._location.path)}get storage(){return this._service}get parent(){const B=function tr(q){if(0===q.length)return null;const B=q.lastIndexOf("/");return-1===B?"":q.slice(0,B)}(this._location.path);if(null===B)return null;const ge=new Ut(this._location.bucket,B);return new yi(this._service,ge)}_throwIfRoot(B){if(""===this._location.path)throw xn(B)}}function vi(q,B,ge){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(q,B,ge){const $e=yield hs(q,{pageToken:ge});B.prefixes.push(...$e.prefixes),B.items.push(...$e.items),null!=$e.nextPageToken&&(yield vi(q,B,$e.nextPageToken))})).apply(this,arguments)}function hs(q,B){null!=B&&"number"==typeof B.maxResults&&vt("options.maxResults",1,1e3,B.maxResults);const ge=B||{},we=vn(q.storage,q._location,"/",ge.pageToken,ge.maxResults);return q.storage.makeRequestWithTokens(we,ai)}function Xi(q){q._throwIfRoot("getDownloadURL");const B=function Li(q,B,ge){const $e=an(B.fullServerUrl(),q.host,q._protocol),Gt=q.maxOperationRetryTime,hn=new ae($e,"GET",function on(q,B){return function ge(we,$e){const gt=mr(q,$e,B);return xe(null!==gt),function Yn(q,B,ge,we){const $e=$n(B);if(null===$e||!Ie($e.downloadTokens))return null;const gt=$e.downloadTokens;if(0===gt.length)return null;const Gt=encodeURIComponent;return gt.split(",").map(un=>{const wn=q.fullPath;return an("/b/"+Gt(q.bucket)+"/o/"+Gt(wn),ge,we)+qt({alt:"media",token:un})})[0]}(gt,$e,q.host,q._protocol)}}(q,ge),Gt);return hn.errorHandler=Jt(B),hn}(q.storage,q._location,ht());return q.storage.makeRequestWithTokens(B,ai).then(ge=>{if(null===ge)throw function Dt(){return new re(se.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ge})}function Ui(q,B){const ge=function Dn(q,B){const ge=B.split("/").filter(we=>we.length>0).join("/");return 0===q.length?ge:q+"/"+ge}(q._location.path,B),we=new Ut(q._location.bucket,ge);return new yi(q.storage,we)}function Tr(q,B){if(q instanceof Qr){const ge=q;if(null==ge._bucket)throw function Ke(){return new re(se.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+De+"' property when initializing the app?")}();const we=new yi(ge,ge._bucket);return null!=B?Tr(we,B):we}return void 0!==B?Ui(q,B):q}function ro(q,B){if(B&&function vo(q){return/^[A-Za-z]+:\/\//.test(q)}(B)){if(q instanceof Qr)return function Bi(q,B){return new yi(q,B)}(q,B);throw Ht("To use ref(service, url), the first argument must be a Storage instance.")}return Tr(q,B)}function Nn(q,B){const ge=B?.[De];return null==ge?null:Ut.makeFromBucketSpec(ge,q)}class Qr{constructor(B,ge,we,$e,gt){this.app=B,this._authProvider=ge,this._appCheckProvider=we,this._url=$e,this._firebaseVersion=gt,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=$e?Ut.makeFromBucketSpec($e,this._host):Nn(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?Ut.makeFromBucketSpec(this._url,B):Nn(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){vt("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){vt("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,l.Z)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const ge=B._authProvider.getImmediate({optional:!0});if(ge){const we=yield ge.getToken();if(null!==we)return we.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,l.Z)(function*(){const ge=B._appCheckProvider.getImmediate({optional:!0});return ge?(yield ge.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new yi(this,B)}_makeRequest(B,ge,we,$e,gt=!0){if(this._deleted)return new tt(Xt());{const Gt=function wr(q,B,ge,we,$e,gt,Gt=!0){const hn=qt(q.urlParams),St=q.url+hn,un=Object.assign({},q.headers);return function Vt(q,B){B&&(q["X-Firebase-GMPID"]=B)}(un,B),function En(q,B){null!==B&&B.length>0&&(q.Authorization="Firebase "+B)}(un,ge),function On(q,B){q["X-Firebase-Storage-Version"]="webjs/"+(B??"AppManager")}(un,gt),function xt(q,B){null!==B&&(q["X-Firebase-AppCheck"]=B)}(un,we),new er(St,q.method,un,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,$e,Gt)}(B,this._appId,we,$e,ge,this._firebaseVersion,gt);return this._requests.add(Gt),Gt.getPromise().then(()=>this._requests.delete(Gt),()=>this._requests.delete(Gt)),Gt}}makeRequestWithTokens(B,ge){var we=this;return(0,l.Z)(function*(){const[$e,gt]=yield Promise.all([we._getAuthToken(),we._getAppCheckToken()]);return we._makeRequest(B,ge,$e,gt).getPromise()})()}}const Ei="@firebase/storage",Eo="storage";function Wi(q,B,ge){return function pr(q,B,ge){return q._throwIfRoot("uploadBytesResumable"),new ui(q,new Or(B),ge)}(q=(0,H.m9)(q),B,ge)}function Nr(q){return function hi(q){q._throwIfRoot("getMetadata");const B=zn(q.storage,q._location,ht());return q.storage.makeRequestWithTokens(B,ai)}(q=(0,H.m9)(q))}function Qt(q,B){return function ks(q,B){q._throwIfRoot("updateMetadata");const ge=function Ai(q,B,ge,we){const gt=an(B.fullServerUrl(),q.host,q._protocol),hn=Ae(ge,we),un=q.maxOperationRetryTime,Zn=new ae(gt,"PATCH",ft(q,we),un);return Zn.headers={"Content-Type":"application/json; charset=utf-8"},Zn.body=hn,Zn.errorHandler=Jt(B),Zn}(q.storage,q._location,B,ht());return q.storage.makeRequestWithTokens(ge,ai)}(q=(0,H.m9)(q),B)}function Fn(q,B){return hs(q=(0,H.m9)(q),B)}function Qn(q){return function Mi(q){const B={prefixes:[],items:[]};return vi(q,B).then(()=>B)}(q=(0,H.m9)(q))}function Ci(q){return Xi(q=(0,H.m9)(q))}function Ro(q){return function Gr(q){q._throwIfRoot("deleteObject");const B=function zr(q,B){const we=an(B.fullServerUrl(),q.host,q._protocol),hn=new ae(we,"DELETE",function Gt(St,un){},q.maxOperationRetryTime);return hn.successCodes=[200,204],hn.errorHandler=Jt(B),hn}(q.storage,q._location);return q.storage.makeRequestWithTokens(B,ai)}(q=(0,H.m9)(q))}function Zr(q,B){return ro(q=(0,H.m9)(q),B)}function io(q,B){return Ui(q,B)}function Ar(q=(0,_.getApp)(),B){q=(0,H.m9)(q);const we=(0,_._getProvider)(q,Eo).getImmediate({identifier:B}),$e=(0,H.P0)("storage");return $e&&co(we,...$e),we}function co(q,B,ge,we={}){!function Wr(q,B,ge,we={}){q.host=`${B}:${ge}`,q._protocol="http";const{mockUserToken:$e}=we;$e&&(q._overrideAuthToken="string"==typeof $e?$e:(0,H.Sg)($e,q.app.options.projectId))}(q,B,ge,we)}function Ri(q,{instanceIdentifier:B}){const ge=q.getProvider("app").getImmediate(),we=q.getProvider("auth-internal"),$e=q.getProvider("app-check-internal");return new Qr(ge,we,$e,B,_.SDK_VERSION)}!function jr(){(0,_._registerComponent)(new Te.wA(Eo,Ri,"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(Ei,"0.12.5",""),(0,_.registerVersion)(Ei,"0.12.5","esm2017")}()},9058:(nn,Je,k)=>{k.d(Je,{BH:()=>Ke,G6:()=>le,L:()=>He,LL:()=>Fe,P0:()=>We,Pz:()=>Xe,Sg:()=>Ye,UG:()=>ye,ZB:()=>Me,ZR:()=>Ie,aH:()=>Le,b$:()=>xn,eu:()=>de,hl:()=>ie,jU:()=>Ht,m9:()=>Yn,ne:()=>rr,pd:()=>Cn,r3:()=>On,ru:()=>Xt,tV:()=>re,uI:()=>Dt,vZ:()=>rn,w1:()=>kt,xO:()=>Rt,xb:()=>xt,z$:()=>_t,zd:()=>cn});const Te=function(Ae){const K=[];let V=0;for(let O=0;O<Ae.length;O++){let x=Ae.charCodeAt(O);x<128?K[V++]=x:x<2048?(K[V++]=x>>6|192,K[V++]=63&x|128):55296==(64512&x)&&O+1<Ae.length&&56320==(64512&Ae.charCodeAt(O+1))?(x=65536+((1023&x)<<10)+(1023&Ae.charCodeAt(++O)),K[V++]=x>>18|240,K[V++]=x>>12&63|128,K[V++]=x>>6&63|128,K[V++]=63&x|128):(K[V++]=x>>12|224,K[V++]=x>>6&63|128,K[V++]=63&x|128)}return K},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,K){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let x=0;x<Ae.length;x+=3){const ae=Ae[x],xe=x+1<Ae.length,ft=xe?Ae[x+1]:0,At=x+2<Ae.length,on=At?Ae[x+2]:0;let zn=(15&ft)<<2|on>>6,vn=63&on;At||(vn=64,xe||(zn=64)),O.push(V[ae>>2],V[(3&ae)<<4|ft>>4],V[zn],V[vn])}return O.join("")},encodeString(Ae,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(Ae):this.encodeByteArray(Te(Ae),K)},decodeString(Ae,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(Ae):function(Ae){const K=[];let V=0,O=0;for(;V<Ae.length;){const x=Ae[V++];if(x<128)K[O++]=String.fromCharCode(x);else if(x>191&&x<224){const ae=Ae[V++];K[O++]=String.fromCharCode((31&x)<<6|63&ae)}else if(x>239&&x<365){const At=((7&x)<<18|(63&Ae[V++])<<12|(63&Ae[V++])<<6|63&Ae[V++])-65536;K[O++]=String.fromCharCode(55296+(At>>10)),K[O++]=String.fromCharCode(56320+(1023&At))}else{const ae=Ae[V++],xe=Ae[V++];K[O++]=String.fromCharCode((15&x)<<12|(63&ae)<<6|63&xe)}}return K.join("")}(this.decodeStringToByteArray(Ae,K))},decodeStringToByteArray(Ae,K){this.init_();const V=K?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let x=0;x<Ae.length;){const ae=V[Ae.charAt(x++)],ft=x<Ae.length?V[Ae.charAt(x)]:0;++x;const on=x<Ae.length?V[Ae.charAt(x)]:64;++x;const Jt=x<Ae.length?V[Ae.charAt(x)]:64;if(++x,null==ae||null==ft||null==on||null==Jt)throw new Ue;O.push(ae<<2|ft>>4),64!==on&&(O.push(ft<<4&240|on>>2),64!==Jt&&O.push(on<<6&192|Jt))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(Ae){return function(Ae){const K=Te(Ae);return De.encodeByteArray(K,!0)}(Ae).replace(/\./g,"")},re=function(Ae){try{return De.decodeString(Ae,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function Me(Ae,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return K}for(const V in K)!K.hasOwnProperty(V)||!pt(V)||(Ae[V]=Me(Ae[V],K[V]));return Ae}function pt(Ae){return"__proto__"!==Ae}const wt=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=Ae&&re(Ae[1]);return K&&JSON.parse(K)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},We=Ae=>{const K=(Ae=>{var K,V;return null===(V=null===(K=wt())||void 0===K?void 0:K.emulatorHosts)||void 0===V?void 0:V[Ae]})(Ae);if(!K)return;const V=K.lastIndexOf(":");if(V<=0||V+1===K.length)throw new Error(`Invalid host ${K} with no separate hostname and port!`);const O=parseInt(K.substring(V+1),10);return"["===K[0]?[K.substring(1,V-1),O]:[K.substring(0,V),O]},Le=()=>{var Ae;return null===(Ae=wt())||void 0===Ae?void 0:Ae.config},Xe=Ae=>{var K;return null===(K=wt())||void 0===K?void 0:K[`_${Ae}`]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,V)=>{this.resolve=K,this.reject=V})}wrapCallback(K){return(V,O)=>{V?this.reject(V):this.resolve(O),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(V):K(V,O))}}}function Ye(Ae,K){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=K||"demo-project",x=Ae.iat||0,ae=Ae.sub||Ae.user_id;if(!ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:x,exp:x+3600,auth_time:x,sub:ae,user_id:ae,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(xe)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function ye(){var Ae;const K=null===(Ae=wt())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function Xt(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function xn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){const Ae=_t();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function le(){return!ye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){try{return"object"==typeof indexedDB}catch{return!1}}function de(){return new Promise((Ae,K)=>{try{let V=!0;const O="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(O);x.onsuccess=()=>{x.result.close(),V||self.indexedDB.deleteDatabase(O),Ae(!0)},x.onupgradeneeded=()=>{V=!1},x.onerror=()=>{var ae;K((null===(ae=x.error)||void 0===ae?void 0:ae.message)||"")}}catch(V){K(V)}})}class Ie extends Error{constructor(K,V,O){super(V),this.code=K,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(K,V,O){this.service=K,this.serviceName=V,this.errors=O}create(K,...V){const O=V[0]||{},x=`${this.service}/${K}`,ae=this.errors[K],xe=ae?function mt(Ae,K){return Ae.replace(vt,(V,O)=>{const x=K[O];return null!=x?String(x):`<${O}?>`})}(ae,O):"Error";return new Ie(x,`${this.serviceName}: ${xe} (${x}).`,O)}}const vt=/\{\$([^}]+)}/g;function On(Ae,K){return Object.prototype.hasOwnProperty.call(Ae,K)}function xt(Ae){for(const K in Ae)if(Object.prototype.hasOwnProperty.call(Ae,K))return!1;return!0}function rn(Ae,K){if(Ae===K)return!0;const V=Object.keys(Ae),O=Object.keys(K);for(const x of V){if(!O.includes(x))return!1;const ae=Ae[x],xe=K[x];if(sr(ae)&&sr(xe)){if(!rn(ae,xe))return!1}else if(ae!==xe)return!1}for(const x of O)if(!V.includes(x))return!1;return!0}function sr(Ae){return null!==Ae&&"object"==typeof Ae}function Rt(Ae){const K=[];for(const[V,O]of Object.entries(Ae))Array.isArray(O)?O.forEach(x=>{K.push(encodeURIComponent(V)+"="+encodeURIComponent(x))}):K.push(encodeURIComponent(V)+"="+encodeURIComponent(O));return K.length?"&"+K.join("&"):""}function cn(Ae){const K={};return Ae.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[x,ae]=O.split("=");K[decodeURIComponent(x)]=decodeURIComponent(ae)}}),K}function Cn(Ae){const K=Ae.indexOf("?");if(!K)return"";const V=Ae.indexOf("#",K);return Ae.substring(K,V>0?V:void 0)}function rr(Ae,K){const V=new ur(Ae,K);return V.subscribe.bind(V)}class ur{constructor(K,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{K(this)}).catch(O=>{this.error(O)})}next(K){this.forEachObserver(V=>{V.next(K)})}error(K){this.forEachObserver(V=>{V.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,V,O){let x;if(void 0===K&&void 0===V&&void 0===O)throw new Error("Missing Observer.");x=function Rn(Ae,K){if("object"!=typeof Ae||null===Ae)return!1;for(const V of K)if(V in Ae&&"function"==typeof Ae[V])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:V,complete:O},void 0===x.next&&(x.next=xr),void 0===x.error&&(x.error=xr),void 0===x.complete&&(x.complete=xr);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),ae}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,K)}sendOne(K,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{V(this.observers[K])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}function Yn(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},2104:(nn,Je,k)=>{k.d(Je,{O:()=>tt});var l=k(5879),_=k(3768),H=k(518),Te=k(5377),me=k(6814),De=k(5861),Ue=k(4664),ke=k(2459),He=k(7398);function re(le,ie){if(1&le&&l._UZ(0,"button",11),2&le){const de=ie.index;l.ekj("active",0===de),l.uIk("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function se(le,ie){if(1&le){const de=l.EpF();l.TgZ(0,"div",12),l._UZ(1,"img",13),l.TgZ(2,"div",14)(3,"h1"),l._uU(4,"Welcome to "),l._UZ(5,"br"),l._uU(6),l.qZA(),l.TgZ(7,"div",15),l._UZ(8,"br"),l.TgZ(9,"p"),l._uU(10),l.qZA()(),l.TgZ(11,"button",16),l.NdJ("click",function(){l.CHM(de);const ce=l.oxw(2);return l.KtG(ce.navigateToContact())}),l._uU(12," Book Consultation "),l.qZA()()()}if(2&le){const de=ie.$implicit,be=ie.index,ce=l.oxw(2);l.ekj("active",0===be),l.xp6(1),l.Q6J("src",de.url,l.LSH),l.xp6(5),l.hij(" ",ce.business.businessName,""),l.xp6(4),l.Oqu(ce.business.tagline)}}function Me(le,ie){if(1&le&&(l.TgZ(0,"div",1)(1,"div",2),l.YNc(2,re,1,5,"button",3),l.qZA(),l.TgZ(3,"div",4),l.YNc(4,se,13,5,"div",5),l.qZA(),l.TgZ(5,"button",6),l._UZ(6,"span",7),l.TgZ(7,"span",8),l._uU(8,"Previous"),l.qZA()(),l.TgZ(9,"button",9),l._UZ(10,"span",10),l.TgZ(11,"span",8),l._uU(12,"Next"),l.qZA()()()),2&le){const de=l.oxw();l.xp6(2),l.Q6J("ngForOf",de.heroImages),l.xp6(2),l.Q6J("ngForOf",de.heroImages)}}let pt=(()=>{class le{constructor(de,be,ce){this.router=de,this.route=be,this.webContentService=ce,this.heroImages=[]}ngOnInit(){this.route.queryParams.subscribe(de=>{this.businessId=de.id,this.webContentService.getBusinessData(this.businessId).subscribe(be=>{be&&(this.business=be,this.loadHeroImages())})})}loadHeroImages(){var de=this;this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Ue.w)(ce=>{const Ie=ce.map(function(){var Fe=(0,De.Z)(function*(mt){return(yield de.webContentService.checkImageExists(mt.url))?mt:null});return function(mt){return Fe.apply(this,arguments)}}());return(0,ke.D)(Promise.all(Ie))}),(0,He.U)(ce=>ce.filter(Ie=>null!==Ie))).subscribe(ce=>{this.heroImages=ce,console.log("Number of images: ",this.heroImages.length),this.heroImages.forEach(Ie=>{console.log("Image url: ",Ie.url)})})}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(be){return new(be||le)(l.Y36(H.F0),l.Y36(H.gz),l.Y36(_._))};static#t=this.\u0275cmp=l.Xpm({type:le,selectors:[["app-hero-carousel"]],decls:1,vars:1,consts:[["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],[1,"action-btn",3,"click"]],template:function(be,ce){1&be&&l.YNc(0,Me,13,2,"div",0),2&be&&l.Q6J("ngIf",ce.business)},dependencies:[me.sg,me.O5],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]{position:relative;height:800px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}"]})}return le})();function Ge(le,ie){if(1&le&&(l.TgZ(0,"div",5)(1,"div",6),l._UZ(2,"img",7),l.qZA(),l.TgZ(3,"div")(4,"div",8)(5,"div",9)(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"strong"),l._uU(9),l.qZA()()()()()),2&le){const de=ie.$implicit;l.xp6(2),l.s9C("src",de.photoURL,l.LSH),l.s9C("alt",de.name),l.xp6(5),l.hij('" ',de.quote,' "'),l.xp6(2),l.Oqu(de.name)}}let Pt=(()=>{class le{static#e=this.\u0275fac=function(be){return new(be||le)};static#t=this.\u0275cmp=l.Xpm({type:le,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials"},decls:6,vars:1,consts:[[1,"testimonial-comp"],[1,"testimonial-heading"],[1,"section-heading"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-image"],[3,"src","alt"],[1,"testimonial-content","garamond"],[1,""]],template:function(be,ce){1&be&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2),l._uU(3,"Testimonials"),l.qZA()(),l.TgZ(4,"div",3),l.YNc(5,Ge,10,4,"div",4),l.qZA()()),2&be&&(l.xp6(5),l.Q6J("ngForOf",ce.testimonials))},dependencies:[me.sg],styles:[".testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-content[_ngcontent-%COMP%]{max-width:300px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);line-height:1.7}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--accent-color)}"]})}return le})();function yt(le,ie){if(1&le&&(l.TgZ(0,"div",7),l._UZ(1,"i",8),l.TgZ(2,"h3",9),l._uU(3),l.qZA(),l.TgZ(4,"div",10)(5,"p"),l._uU(6),l.qZA()()()),2&le){const de=ie.$implicit;l.xp6(1),l.Q6J("ngClass",de.icon),l.xp6(2),l.Oqu(de.title),l.xp6(3),l.Oqu(de.description)}}let Lt=(()=>{class le{static#e=this.\u0275fac=function(be){return new(be||le)};static#t=this.\u0275cmp=l.Xpm({type:le,selectors:[["app-our-services-home"]],inputs:{services:"services"},decls:10,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"services-container"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"service-item-icon",3,"ngClass"],[1,"service-item-title"],[1,"service-item-description"]],template:function(be,ce){1&be&&(l.TgZ(0,"section",0)(1,"div",1)(2,"span",2),l._uU(3,"Our"),l.qZA(),l.TgZ(4,"span",3),l._uU(5,"Services"),l.qZA()(),l.TgZ(6,"h3",4),l._uU(7,"Home Care From Trained Professionals"),l.qZA(),l.TgZ(8,"div",5),l.YNc(9,yt,7,3,"div",6),l.qZA()()),2&be&&(l.xp6(9),l.Q6J("ngForOf",ce.services))},dependencies:[me.mk,me.sg],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.service-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.service-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.service-item[_ngcontent-%COMP%]{margin-bottom:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}"]})}return le})(),wt=(()=>{class le{constructor(de){this.router=de}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(be){return new(be||le)(l.Y36(H.F0))};static#t=this.\u0275cmp=l.Xpm({type:le,selectors:[["app-welcome"]],inputs:{welcomeMsg:"welcomeMsg",keyServicesHighlights:"keyServicesHighlights",businessName:"businessName"},decls:14,vars:3,consts:[[1,"info-container"],[1,"overlay"],[1,"content","garamond"],[1,"brand-name"],[1,"buttons"],[1,"contact-btn",3,"click"]],template:function(be,ce){1&be&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),l._uU(4,"We Are "),l.TgZ(5,"span",3),l._uU(6),l.qZA()(),l.TgZ(7,"h1"),l._uU(8),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.TgZ(11,"div",4)(12,"button",5),l.NdJ("click",function(){return ce.navigateToContact()}),l._uU(13,"Contact Us"),l.qZA()()()()()),2&be&&(l.xp6(6),l.Oqu(ce.businessName),l.xp6(2),l.Oqu(ce.welcomeMsg),l.xp6(2),l.Oqu(ce.keyServicesHighlights))},styles:[".info-container[_ngcontent-%COMP%]{position:relative;width:100%;height:600px;background-color:var(--background-color);color:var( --text-color)}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.learn-more-btn[_ngcontent-%COMP%], .contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}.learn-more-btn[_ngcontent-%COMP%]{background-color:#888;color:var(--button-text-color)}.contact-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--button-text-color)}"]})}return le})(),sn=(()=>{class le{constructor(de){this.router=de}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(be){return new(be||le)(l.Y36(H.F0))};static#t=this.\u0275cmp=l.Xpm({type:le,selectors:[["app-consultation"]],decls:10,vars:0,consts:[[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"btn-book-consultation",3,"click"]],template:function(be,ce){1&be&&(l.TgZ(0,"div",0)(1,"div",1)(2,"span",2),l._uU(3,"Book a "),l.qZA(),l.TgZ(4,"span",3),l._uU(5," Consultation"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," We would love to meet you! Contact us to schedule a tour. "),l.qZA(),l.TgZ(8,"button",5),l.NdJ("click",function(){return ce.navigateToContact()}),l._uU(9,"Book Consultation"),l.qZA()())},styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}"]})}return le})();function We(le,ie){if(1&le&&(l.TgZ(0,"div",8),l._UZ(1,"div",9)(2,"div",10),l.qZA()),2&le){const de=ie.$implicit;l.xp6(1),l.Q6J("innerHTML",de.name,l.oJD),l.xp6(1),l.Q6J("innerHTML",de.description,l.oJD)}}let Le=(()=>{class le{constructor(de,be){this.webContent=de,this.route=be}ngOnInit(){this.route.queryParams.subscribe(de=>{this.webContent.getBusinessData(de.id).subscribe(ce=>{ce&&(this.business=ce)})})}static#e=this.\u0275fac=function(be){return new(be||le)(l.Y36(_._),l.Y36(H.gz))};static#t=this.\u0275cmp=l.Xpm({type:le,selectors:[["app-features"]],decls:11,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"features-section"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(be,ce){1&be&&(l.TgZ(0,"section",0)(1,"div",1)(2,"span",2),l._uU(3,"Our Unique "),l.qZA(),l.TgZ(4,"span",3),l._uU(5," Features"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," What sets us appart. "),l.qZA(),l.TgZ(8,"div",5)(9,"div",6),l.YNc(10,We,3,2,"div",7),l.qZA()()()),2&be&&(l.xp6(10),l.Q6J("ngForOf",null==ce.business?null:ce.business.uniqueService))},dependencies:[me.sg],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.service-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return le})();function Xe(le,ie){if(1&le&&(l.TgZ(0,"div",7)(1,"h3"),l._UZ(2,"div",8),l.qZA(),l._UZ(3,"div",9),l.qZA()),2&le){const de=ie.$implicit;l.xp6(2),l.Q6J("innerHTML",de.name,l.oJD),l.xp6(1),l.Q6J("innerHTML",de.description,l.oJD)}}const Ke=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},Ye=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Dt=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Ht=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},xn=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},kt=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"ll the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},Ut=function(le,ie,de,be,ce,Ie){return[le,ie,de,be,ce,Ie]};let tt=(()=>{class le{constructor(de,be,ce){this.webContent=de,this.route=be,this.metaService=ce,this.business={businessName:"",businessURL:"",providerName:"",keyWords:"",tagline:"",uniqueService:[],whyChoose:[],businessStory:"",motivation:"",mission:"",vision:"",certifications:"",targetAudience:"",services:[],specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:[],address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",benefits:[],contactFormDetails:"",mapIframeUrl:"",photoGalleryText:"",employees:[],id:"",faqs:"",blogNews:"",isActive:!1}}ngOnInit(){this.route.queryParams.subscribe(de=>{let be=de.id;this.metaService.getMetaData(be).subscribe(ce=>{this.metaService.updateMetaTags(ce)}),this.webContent.getBusinessData(be).subscribe(ce=>{ce&&(this.business=ce)})})}static#e=this.\u0275fac=function(be){return new(be||le)(l.Y36(_._),l.Y36(H.gz),l.Y36(Te.R))};static#t=this.\u0275cmp=l.Xpm({type:le,selectors:[["app-home"]],decls:11,vars:19,consts:[[3,"welcomeMsg","keyServicesHighlights","businessName"],[3,"services"],[1,"features-section"],[1,"section-heading"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[3,"testimonials"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(be,ce){1&be&&(l._UZ(0,"app-hero-carousel")(1,"app-welcome",0)(2,"app-our-services-home",1),l.TgZ(3,"div",2)(4,"div",3),l._uU(5,"Why Choose Us"),l.qZA(),l.TgZ(6,"div",4),l.YNc(7,Xe,4,2,"div",5),l.qZA()(),l._UZ(8,"app-features")(9,"app-testimonials",6)(10,"app-consultation")),2&be&&(l.xp6(1),l.Q6J("welcomeMsg",ce.business.welcomeMessage)("keyServicesHighlights",ce.business.keyServicesHighlights)("businessName",ce.business.businessName),l.xp6(1),l.Q6J("services",l.HTZ(12,Ut,l.DdM(6,Ke),l.DdM(7,Ye),l.DdM(8,Dt),l.DdM(9,Ht),l.DdM(10,xn),l.DdM(11,kt))),l.xp6(5),l.Q6J("ngForOf",ce.business.whyChoose),l.xp6(2),l.Q6J("testimonials",ce.business.testimonials))},dependencies:[me.sg,pt,Pt,Lt,wt,sn,Le],styles:[".container[_ngcontent-%COMP%]{padding:40px 20px}.intro-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;max-width:1200px;margin:0 auto;padding:40px 20px;text-align:left;min-height:400px}.left[_ngcontent-%COMP%]{flex:1;margin-right:20px}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:400;margin:0}.right[_ngcontent-%COMP%]{flex:1;margin-left:20px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.6;margin:0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{margin:0;text-align:center}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1024px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;background-color:var(--background-color);text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return le})()},6394:(nn,Je,k)=>{k.d(Je,{g:()=>_});var l=k(5879);let _=(()=>{class H{constructor(){this.closeModal=new l.vpe}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(De){return new(De||H)};static#t=this.\u0275cmp=l.Xpm({type:H,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(De,Ue){1&De&&(l.TgZ(0,"div",0),l.NdJ("click",function(){return Ue.close()}),l.TgZ(1,"div",1),l.NdJ("click",function(He){return He.stopPropagation()}),l.TgZ(2,"button",2),l.NdJ("click",function(){return Ue.close()}),l._uU(3,"Close"),l.qZA(),l._UZ(4,"img",3),l.qZA()()),2&De&&(l.xp6(4),l.Q6J("src",Ue.imageUrl,l.LSH))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return H})()},2333:(nn,Je,k)=>{k.d(Je,{e:()=>me});var l=k(7398),_=k(5879),H=k(7213),Te=k(518);let me=(()=>{class De{constructor(ke,He){this.afAuth=ke,this.router=He,this.user$=ke.authState}login(ke,He){return this.afAuth.signInWithEmailAndPassword(ke,He)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,l.U)(ke=>!!ke))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(He){return new(He||De)(_.LFG(H.zQ),_.LFG(Te.F0))};static#t=this.\u0275prov=_.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},5377:(nn,Je,k)=>{k.d(Je,{R:()=>me});var l=k(7398),_=k(5879),H=k(6593),Te=k(7104);let me=(()=>{class De{constructor(ke,He,re){this.meta=ke,this.title=He,this.firestore=re,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}updateMetaTags(ke){this.title.setTitle(ke.title),this.meta.updateTag({name:"description",content:ke.description}),this.meta.updateTag({name:"keywords",content:ke.keywords}),this.meta.updateTag({property:"og:title",content:ke.title}),this.meta.updateTag({property:"og:description",content:ke.description})}getMetaData(ke){return(null==ke||""==ke||""===ke)&&(ke=this.defaultBusinessId),this.firestore.collection("businesses").doc(ke).valueChanges().pipe((0,l.U)(He=>He?{title:He.metaTitle||"Adult Family Home",description:He.metaDescription||"Best Adult Family home in Washington State",keywords:He.metaKeywords||"default, keywords"}:{title:"No Metadata Title",description:"No Default Description",keywords:"default, keywords"}))}static#e=this.\u0275fac=function(He){return new(He||De)(_.LFG(H.h_),_.LFG(H.Dx),_.LFG(Te.ST))};static#t=this.\u0275prov=_.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},3768:(nn,Je,k)=>{k.d(Je,{_:()=>Ue});var l=k(7398),_=k(6306),H=k(2096),Te=k(5879),me=k(7104),De=k(778);let Ue=(()=>{class ke{constructor(re,se){this.firestore=re,this.storage=se,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}getBusinessData(re){console.log("Get Business Data businessId",re);const se=re&&re.trim()?re:this.defaultBusinessId;return console.log("Get Business Data resolvedBusinessId",se),this.firestore.collection("businesses").doc(se).snapshotChanges().pipe((0,l.U)(Me=>{const pt=Me.payload.data(),Ge=Me.payload.id;if(pt){const{id:Pt,...yt}=pt;return{id:Ge,...yt}}console.log("Get business Data:",pt)}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(re){return this.storage.ref(re).getDownloadURL().pipe((0,_.K)(se=>(console.error("Error fetching photo URL:",se),(0,H.of)(""))))}getEmployeesByBusinessId(re){return(null==re||""==re||""===re)&&(re=this.defaultBusinessId),this.firestore.collection("businesses").doc(re).get().pipe((0,l.U)(se=>{if(se.exists){const Me=se.data();return Me&&Me.employees?(console.log("Fetched employees:",Me.employees),Me.employees):(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,_.K)(se=>(console.error("Error fetching employees:",se),(0,H.of)([]))))}getBusinessGalleryImagesById(re){return console.log("Web content getBusinessGalleryImagesByID: ",re),(null==re||""==re||""===re)&&(re=this.defaultBusinessId),this.firestore.collection("businesses").doc(re).collection("gallery").valueChanges()}getBusinessUploadedImagesById(re,se){return console.log("Web content getBusinessGalleryImagesByID: ",re),(null==re||""==re||""===re)&&(re=this.defaultBusinessId),this.firestore.collection("businesses").doc(re).collection(se).valueChanges()}checkImageExists(re){return this.storage.refFromURL(re).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static#e=this.\u0275fac=function(se){return new(se||ke)(Te.LFG(me.ST),Te.LFG(De.Q1))};static#t=this.\u0275prov=Te.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})()},149:(nn,Je,k)=>{var l=k(6593),_=k(5879),H=k(2096),Te=k(2459),me=k(5592),De=k(6328),Ue=k(2181),ke=k(7398),He=k(4716),re=k(4664),se=k(6814);class Me{}class pt{}class Ge{constructor(fe){this.normalizedNames=new Map,this.lazyUpdate=null,fe?"string"==typeof fe?this.lazyInit=()=>{this.headers=new Map,fe.split("\n").forEach(Q=>{const Ce=Q.indexOf(":");if(Ce>0){const ze=Q.slice(0,Ce),zt=ze.toLowerCase(),Yt=Q.slice(Ce+1).trim();this.maybeSetNormalizedName(ze,zt),this.headers.has(zt)?this.headers.get(zt).push(Yt):this.headers.set(zt,[Yt])}})}:typeof Headers<"u"&&fe instanceof Headers?(this.headers=new Map,fe.forEach((Q,Ce)=>{this.setHeaderEntries(Ce,Q)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(fe).forEach(([Q,Ce])=>{this.setHeaderEntries(Q,Ce)})}:this.headers=new Map}has(fe){return this.init(),this.headers.has(fe.toLowerCase())}get(fe){this.init();const Q=this.headers.get(fe.toLowerCase());return Q&&Q.length>0?Q[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(fe){return this.init(),this.headers.get(fe.toLowerCase())||null}append(fe,Q){return this.clone({name:fe,value:Q,op:"a"})}set(fe,Q){return this.clone({name:fe,value:Q,op:"s"})}delete(fe,Q){return this.clone({name:fe,value:Q,op:"d"})}maybeSetNormalizedName(fe,Q){this.normalizedNames.has(Q)||this.normalizedNames.set(Q,fe)}init(){this.lazyInit&&(this.lazyInit instanceof Ge?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(fe=>this.applyUpdate(fe)),this.lazyUpdate=null))}copyFrom(fe){fe.init(),Array.from(fe.headers.keys()).forEach(Q=>{this.headers.set(Q,fe.headers.get(Q)),this.normalizedNames.set(Q,fe.normalizedNames.get(Q))})}clone(fe){const Q=new Ge;return Q.lazyInit=this.lazyInit&&this.lazyInit instanceof Ge?this.lazyInit:this,Q.lazyUpdate=(this.lazyUpdate||[]).concat([fe]),Q}applyUpdate(fe){const Q=fe.name.toLowerCase();switch(fe.op){case"a":case"s":let Ce=fe.value;if("string"==typeof Ce&&(Ce=[Ce]),0===Ce.length)return;this.maybeSetNormalizedName(fe.name,Q);const ze=("a"===fe.op?this.headers.get(Q):void 0)||[];ze.push(...Ce),this.headers.set(Q,ze);break;case"d":const zt=fe.value;if(zt){let Yt=this.headers.get(Q);if(!Yt)return;Yt=Yt.filter(ii=>-1===zt.indexOf(ii)),0===Yt.length?(this.headers.delete(Q),this.normalizedNames.delete(Q)):this.headers.set(Q,Yt)}else this.headers.delete(Q),this.normalizedNames.delete(Q)}}setHeaderEntries(fe,Q){const Ce=(Array.isArray(Q)?Q:[Q]).map(zt=>zt.toString()),ze=fe.toLowerCase();this.headers.set(ze,Ce),this.maybeSetNormalizedName(fe,ze)}forEach(fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Q=>fe(this.normalizedNames.get(Q),this.headers.get(Q)))}}class yt{encodeKey(fe){return We(fe)}encodeValue(fe){return We(fe)}decodeKey(fe){return decodeURIComponent(fe)}decodeValue(fe){return decodeURIComponent(fe)}}const wt=/%(\d[a-f0-9])/gi,sn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function We(oe){return encodeURIComponent(oe).replace(wt,(fe,Q)=>sn[Q]??fe)}function Le(oe){return`${oe}`}class Xe{constructor(fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=fe.encoder||new yt,fe.fromString){if(fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Lt(oe,fe){const Q=new Map;return oe.length>0&&oe.replace(/^\?/,"").split("&").forEach(ze=>{const zt=ze.indexOf("="),[Yt,ii]=-1==zt?[fe.decodeKey(ze),""]:[fe.decodeKey(ze.slice(0,zt)),fe.decodeValue(ze.slice(zt+1))],or=Q.get(Yt)||[];or.push(ii),Q.set(Yt,or)}),Q}(fe.fromString,this.encoder)}else fe.fromObject?(this.map=new Map,Object.keys(fe.fromObject).forEach(Q=>{const Ce=fe.fromObject[Q],ze=Array.isArray(Ce)?Ce.map(Le):[Le(Ce)];this.map.set(Q,ze)})):this.map=null}has(fe){return this.init(),this.map.has(fe)}get(fe){this.init();const Q=this.map.get(fe);return Q?Q[0]:null}getAll(fe){return this.init(),this.map.get(fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(fe,Q){return this.clone({param:fe,value:Q,op:"a"})}appendAll(fe){const Q=[];return Object.keys(fe).forEach(Ce=>{const ze=fe[Ce];Array.isArray(ze)?ze.forEach(zt=>{Q.push({param:Ce,value:zt,op:"a"})}):Q.push({param:Ce,value:ze,op:"a"})}),this.clone(Q)}set(fe,Q){return this.clone({param:fe,value:Q,op:"s"})}delete(fe,Q){return this.clone({param:fe,value:Q,op:"d"})}toString(){return this.init(),this.keys().map(fe=>{const Q=this.encoder.encodeKey(fe);return this.map.get(fe).map(Ce=>Q+"="+this.encoder.encodeValue(Ce)).join("&")}).filter(fe=>""!==fe).join("&")}clone(fe){const Q=new Xe({encoder:this.encoder});return Q.cloneFrom=this.cloneFrom||this,Q.updates=(this.updates||[]).concat(fe),Q}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(fe=>this.map.set(fe,this.cloneFrom.map.get(fe))),this.updates.forEach(fe=>{switch(fe.op){case"a":case"s":const Q=("a"===fe.op?this.map.get(fe.param):void 0)||[];Q.push(Le(fe.value)),this.map.set(fe.param,Q);break;case"d":if(void 0===fe.value){this.map.delete(fe.param);break}{let Ce=this.map.get(fe.param)||[];const ze=Ce.indexOf(Le(fe.value));-1!==ze&&Ce.splice(ze,1),Ce.length>0?this.map.set(fe.param,Ce):this.map.delete(fe.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(fe,Q){return this.map.set(fe,Q),this}get(fe){return this.map.has(fe)||this.map.set(fe,fe.defaultValue()),this.map.get(fe)}delete(fe){return this.map.delete(fe),this}has(fe){return this.map.has(fe)}keys(){return this.map.keys()}}function Dt(oe){return typeof ArrayBuffer<"u"&&oe instanceof ArrayBuffer}function ye(oe){return typeof Blob<"u"&&oe instanceof Blob}function Ht(oe){return typeof FormData<"u"&&oe instanceof FormData}class xn{constructor(fe,Q,Ce,ze){let zt;if(this.url=Q,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=fe.toUpperCase(),function _t(oe){switch(oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ze?(this.body=void 0!==Ce?Ce:null,zt=ze):zt=Ce,zt&&(this.reportProgress=!!zt.reportProgress,this.withCredentials=!!zt.withCredentials,zt.responseType&&(this.responseType=zt.responseType),zt.headers&&(this.headers=zt.headers),zt.context&&(this.context=zt.context),zt.params&&(this.params=zt.params)),this.headers||(this.headers=new Ge),this.context||(this.context=new Ye),this.params){const Yt=this.params.toString();if(0===Yt.length)this.urlWithParams=Q;else{const ii=Q.indexOf("?");this.urlWithParams=Q+(-1===ii?"?":ii<Q.length-1?"&":"")+Yt}}else this.params=new Xe,this.urlWithParams=Q}serializeBody(){return null===this.body?null:Dt(this.body)||ye(this.body)||Ht(this.body)||function Xt(oe){return typeof URLSearchParams<"u"&&oe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ht(this.body)?null:ye(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(fe={}){const Q=fe.method||this.method,Ce=fe.url||this.url,ze=fe.responseType||this.responseType,zt=void 0!==fe.body?fe.body:this.body,Yt=void 0!==fe.withCredentials?fe.withCredentials:this.withCredentials,ii=void 0!==fe.reportProgress?fe.reportProgress:this.reportProgress;let or=fe.headers||this.headers,qo=fe.params||this.params;const So=fe.context??this.context;return void 0!==fe.setHeaders&&(or=Object.keys(fe.setHeaders).reduce((No,Zo)=>No.set(Zo,fe.setHeaders[Zo]),or)),fe.setParams&&(qo=Object.keys(fe.setParams).reduce((No,Zo)=>No.set(Zo,fe.setParams[Zo]),qo)),new xn(Q,Ce,zt,{params:qo,headers:or,context:So,reportProgress:ii,responseType:ze,withCredentials:Yt})}}var Et=function(oe){return oe[oe.Sent=0]="Sent",oe[oe.UploadProgress=1]="UploadProgress",oe[oe.ResponseHeader=2]="ResponseHeader",oe[oe.DownloadProgress=3]="DownloadProgress",oe[oe.Response=4]="Response",oe[oe.User=5]="User",oe}(Et||{});class kt{constructor(fe,Q=200,Ce="OK"){this.headers=fe.headers||new Ge,this.status=void 0!==fe.status?fe.status:Q,this.statusText=fe.statusText||Ce,this.url=fe.url||null,this.ok=this.status>=200&&this.status<300}}class Ut extends kt{constructor(fe={}){super(fe),this.type=Et.ResponseHeader}clone(fe={}){return new Ut({headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class tt extends kt{constructor(fe={}){super(fe),this.type=Et.Response,this.body=void 0!==fe.body?fe.body:null}clone(fe={}){return new tt({body:void 0!==fe.body?fe.body:this.body,headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class le extends kt{constructor(fe){super(fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${fe.url||"(unknown url)"}`:`Http failure response for ${fe.url||"(unknown url)"}: ${fe.status} ${fe.statusText}`,this.error=fe.error||null}}function ie(oe,fe){return{body:fe,headers:oe.headers,context:oe.context,observe:oe.observe,params:oe.params,reportProgress:oe.reportProgress,responseType:oe.responseType,withCredentials:oe.withCredentials}}let de=(()=>{class oe{constructor(Q){this.handler=Q}request(Q,Ce,ze={}){let zt;if(Q instanceof xn)zt=Q;else{let or,qo;or=ze.headers instanceof Ge?ze.headers:new Ge(ze.headers),ze.params&&(qo=ze.params instanceof Xe?ze.params:new Xe({fromObject:ze.params})),zt=new xn(Q,Ce,void 0!==ze.body?ze.body:null,{headers:or,context:ze.context,params:qo,reportProgress:ze.reportProgress,responseType:ze.responseType||"json",withCredentials:ze.withCredentials})}const Yt=(0,H.of)(zt).pipe((0,De.b)(or=>this.handler.handle(or)));if(Q instanceof xn||"events"===ze.observe)return Yt;const ii=Yt.pipe((0,Ue.h)(or=>or instanceof tt));switch(ze.observe||"body"){case"body":switch(zt.responseType){case"arraybuffer":return ii.pipe((0,ke.U)(or=>{if(null!==or.body&&!(or.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return or.body}));case"blob":return ii.pipe((0,ke.U)(or=>{if(null!==or.body&&!(or.body instanceof Blob))throw new Error("Response is not a Blob.");return or.body}));case"text":return ii.pipe((0,ke.U)(or=>{if(null!==or.body&&"string"!=typeof or.body)throw new Error("Response is not a string.");return or.body}));default:return ii.pipe((0,ke.U)(or=>or.body))}case"response":return ii;default:throw new Error(`Unreachable: unhandled observe type ${ze.observe}}`)}}delete(Q,Ce={}){return this.request("DELETE",Q,Ce)}get(Q,Ce={}){return this.request("GET",Q,Ce)}head(Q,Ce={}){return this.request("HEAD",Q,Ce)}jsonp(Q,Ce){return this.request("JSONP",Q,{params:(new Xe).append(Ce,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Q,Ce={}){return this.request("OPTIONS",Q,Ce)}patch(Q,Ce,ze={}){return this.request("PATCH",Q,ie(ze,Ce))}post(Q,Ce,ze={}){return this.request("POST",Q,ie(ze,Ce))}put(Q,Ce,ze={}){return this.request("PUT",Q,ie(ze,Ce))}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.LFG(Me))};static#t=this.\u0275prov=_.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();function qt(oe,fe){return fe(oe)}function Sn(oe,fe){return(Q,Ce)=>fe.intercept(Q,{handle:ze=>oe(ze,Ce)})}const er=new _.OlP(""),Mt=new _.OlP(""),En=new _.OlP("");function On(){let oe=null;return(fe,Q)=>{null===oe&&(oe=((0,_.f3M)(er,{optional:!0})??[]).reduceRight(Sn,qt));const Ce=(0,_.f3M)(_.HDt),ze=Ce.add();return oe(fe,Q).pipe((0,He.x)(()=>Ce.remove(ze)))}}let Vt=(()=>{class oe extends Me{constructor(Q,Ce){super(),this.backend=Q,this.injector=Ce,this.chain=null,this.pendingTasks=(0,_.f3M)(_.HDt)}handle(Q){if(null===this.chain){const ze=Array.from(new Set([...this.injector.get(Mt),...this.injector.get(En,[])]));this.chain=ze.reduceRight((zt,Yt)=>function _n(oe,fe,Q){return(Ce,ze)=>Q.runInContext(()=>fe(Ce,zt=>oe(zt,ze)))}(zt,Yt,this.injector),qt)}const Ce=this.pendingTasks.add();return this.chain(Q,ze=>this.backend.handle(ze)).pipe((0,He.x)(()=>this.pendingTasks.remove(Ce)))}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.LFG(pt),_.LFG(_.lqb))};static#t=this.\u0275prov=_.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();const Rr=/^\)\]\}',?\n/;let xr=(()=>{class oe{constructor(Q){this.xhrFactory=Q}handle(Q){if("JSONP"===Q.method)throw new _.vHH(-2800,!1);const Ce=this.xhrFactory;return(Ce.\u0275loadImpl?(0,Te.D)(Ce.\u0275loadImpl()):(0,H.of)(null)).pipe((0,re.w)(()=>new me.y(zt=>{const Yt=Ce.build();if(Yt.open(Q.method,Q.urlWithParams),Q.withCredentials&&(Yt.withCredentials=!0),Q.headers.forEach((gi,fi)=>Yt.setRequestHeader(gi,fi.join(","))),Q.headers.has("Accept")||Yt.setRequestHeader("Accept","application/json, text/plain, */*"),!Q.headers.has("Content-Type")){const gi=Q.detectContentTypeHeader();null!==gi&&Yt.setRequestHeader("Content-Type",gi)}if(Q.responseType){const gi=Q.responseType.toLowerCase();Yt.responseType="json"!==gi?gi:"text"}const ii=Q.serializeBody();let or=null;const qo=()=>{if(null!==or)return or;const gi=Yt.statusText||"OK",fi=new Ge(Yt.getAllResponseHeaders()),vs=function Rn(oe){return"responseURL"in oe&&oe.responseURL?oe.responseURL:/^X-Request-URL:/m.test(oe.getAllResponseHeaders())?oe.getResponseHeader("X-Request-URL"):null}(Yt)||Q.url;return or=new Ut({headers:fi,status:Yt.status,statusText:gi,url:vs}),or},So=()=>{let{headers:gi,status:fi,statusText:vs,url:Wu}=qo(),mi=null;204!==fi&&(mi=typeof Yt.response>"u"?Yt.responseText:Yt.response),0===fi&&(fi=mi?200:0);let xs=fi>=200&&fi<300;if("json"===Q.responseType&&"string"==typeof mi){const us=mi;mi=mi.replace(Rr,"");try{mi=""!==mi?JSON.parse(mi):null}catch(Sc){mi=us,xs&&(xs=!1,mi={error:Sc,text:mi})}}xs?(zt.next(new tt({body:mi,headers:gi,status:fi,statusText:vs,url:Wu||void 0})),zt.complete()):zt.error(new le({error:mi,headers:gi,status:fi,statusText:vs,url:Wu||void 0}))},No=gi=>{const{url:fi}=qo(),vs=new le({error:gi,status:Yt.status||0,statusText:Yt.statusText||"Unknown Error",url:fi||void 0});zt.error(vs)};let Zo=!1;const Oa=gi=>{Zo||(zt.next(qo()),Zo=!0);let fi={type:Et.DownloadProgress,loaded:gi.loaded};gi.lengthComputable&&(fi.total=gi.total),"text"===Q.responseType&&Yt.responseText&&(fi.partialText=Yt.responseText),zt.next(fi)},Gu=gi=>{let fi={type:Et.UploadProgress,loaded:gi.loaded};gi.lengthComputable&&(fi.total=gi.total),zt.next(fi)};return Yt.addEventListener("load",So),Yt.addEventListener("error",No),Yt.addEventListener("timeout",No),Yt.addEventListener("abort",No),Q.reportProgress&&(Yt.addEventListener("progress",Oa),null!==ii&&Yt.upload&&Yt.upload.addEventListener("progress",Gu)),Yt.send(ii),zt.next({type:Et.Sent}),()=>{Yt.removeEventListener("error",No),Yt.removeEventListener("abort",No),Yt.removeEventListener("load",So),Yt.removeEventListener("timeout",No),Q.reportProgress&&(Yt.removeEventListener("progress",Oa),null!==ii&&Yt.upload&&Yt.upload.removeEventListener("progress",Gu)),Yt.readyState!==Yt.DONE&&Yt.abort()}})))}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.LFG(se.JF))};static#t=this.\u0275prov=_.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();const Di=new _.OlP("XSRF_ENABLED"),Or=new _.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tr=new _.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dn{}let si=(()=>{class oe{constructor(Q,Ce,ze){this.doc=Q,this.platform=Ce,this.cookieName=ze,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Q=this.doc.cookie||"";return Q!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,se.Mx)(Q,this.cookieName),this.lastCookieString=Q),this.lastToken}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.LFG(se.K0),_.LFG(_.Lbi),_.LFG(Or))};static#t=this.\u0275prov=_.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();function je(oe,fe){const Q=oe.url.toLowerCase();if(!(0,_.f3M)(Di)||"GET"===oe.method||"HEAD"===oe.method||Q.startsWith("http://")||Q.startsWith("https://"))return fe(oe);const Ce=(0,_.f3M)(Dn).getToken(),ze=(0,_.f3M)(tr);return null!=Ce&&!oe.headers.has(ze)&&(oe=oe.clone({headers:oe.headers.set(ze,Ce)})),fe(oe)}var X=function(oe){return oe[oe.Interceptors=0]="Interceptors",oe[oe.LegacyInterceptors=1]="LegacyInterceptors",oe[oe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",oe[oe.NoXsrfProtection=3]="NoXsrfProtection",oe[oe.JsonpSupport=4]="JsonpSupport",oe[oe.RequestsMadeViaParent=5]="RequestsMadeViaParent",oe[oe.Fetch=6]="Fetch",oe}(X||{});function ht(...oe){const fe=[de,xr,Vt,{provide:Me,useExisting:Vt},{provide:pt,useExisting:xr},{provide:Mt,useValue:je,multi:!0},{provide:Di,useValue:!0},{provide:Dn,useClass:si}];for(const Q of oe)fe.push(...Q.\u0275providers);return(0,_.MR2)(fe)}const Tn=new _.OlP("LEGACY_INTERCEPTOR_FN");function mr(){return function Ee(oe,fe){return{\u0275kind:oe,\u0275providers:fe}}(X.LegacyInterceptors,[{provide:Tn,useFactory:On},{provide:Mt,useExisting:Tn,multi:!0}])}let ae=(()=>{class oe{static#e=this.\u0275fac=function(Ce){return new(Ce||oe)};static#t=this.\u0275mod=_.oAB({type:oe});static#n=this.\u0275inj=_.cJS({providers:[ht(mr())]})}return oe})();var Gn=k(518),Li=k(2104),Ai=k(3768),zr=k(5377),Qi=k(6306);function Gi(oe,fe){if(1&oe&&(_.TgZ(0,"div",4),_._UZ(1,"img",5),_.TgZ(2,"h3"),_._uU(3),_.qZA(),_.TgZ(4,"h4"),_._uU(5),_.qZA(),_.TgZ(6,"p"),_._uU(7),_.qZA()()),2&oe){const Q=fe.$implicit;_.xp6(1),_.s9C("alt",Q.name),_.Q6J("src",Q.photoURL,_.LSH),_.xp6(2),_.Oqu(Q.name),_.xp6(2),_.Oqu(Q.role),_.xp6(2),_.Oqu(Q.bio)}}function kr(oe,fe){if(1&oe&&(_.TgZ(0,"div",1)(1,"h2"),_._uU(2,"Meet the Team"),_.qZA(),_.TgZ(3,"div",2),_.YNc(4,Gi,8,5,"div",3),_.ALo(5,"async"),_.qZA()()),2&oe){const Q=_.oxw();_.xp6(4),_.Q6J("ngForOf",_.lcZ(5,1,Q.employees$))}}let Wn=(()=>{class oe{constructor(Q,Ce){this.route=Q,this.employeeService=Ce}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,ke.U)(Q=>Q.get("id")||""),(0,re.w)(Q=>this.employeeService.getEmployeesByBusinessId(Q)),(0,Qi.K)(Q=>(console.error("Error fetching employees:",Q),(0,H.of)([]))))}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Gn.gz),_.Y36(Ai._))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(Ce,ze){1&Ce&&_.YNc(0,kr,6,3,"div",0),2&Ce&&_.Q6J("ngIf",ze.employees$)},dependencies:[se.sg,se.O5,se.Ov],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return oe})();function st(oe,fe){if(1&oe){const Q=_.EpF();_.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),_._uU(4,"About Us"),_.qZA(),_.TgZ(5,"div",3)(6,"p"),_._uU(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),_.qZA()()()(),_.TgZ(8,"div",4)(9,"section",5)(10,"div",6)(11,"h2",7),_._uU(12,"Our Story"),_.qZA()(),_._UZ(13,"div",8),_.qZA(),_.TgZ(14,"section",9)(15,"div",10),_._UZ(16,"img",11),_.TgZ(17,"div",6)(18,"h2",7),_._uU(19,"Our Mission"),_.qZA()(),_._UZ(20,"div",8),_.qZA(),_.TgZ(21,"div",12),_._UZ(22,"img",11),_.TgZ(23,"div",6)(24,"h2",7),_._uU(25,"Our Vision"),_.qZA()(),_._UZ(26,"div",8),_.qZA()(),_.TgZ(27,"section",13),_._UZ(28,"app-meet-the-team",14),_.qZA()(),_.TgZ(29,"div",15)(30,"div",16)(31,"h2"),_._uU(32,"Come Meet Our Family"),_.qZA(),_.TgZ(33,"p"),_._uU(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),_.qZA(),_.TgZ(35,"button",17),_.NdJ("click",function(){_.CHM(Q);const ze=_.oxw();return _.KtG(ze.navigateToContact())}),_._uU(36,"Schedule a Visit"),_.qZA()()()()}if(2&oe){const Q=_.oxw();_.xp6(13),_.Q6J("innerHTML",Q.business.businessStory,_.oJD),_.xp6(3),_.Q6J("src",Q.business.lifestyleImages,_.LSH),_.xp6(4),_.Q6J("innerHTML",Q.business.mission,_.oJD),_.xp6(2),_.Q6J("src",Q.business.facilityImages,_.LSH),_.xp6(4),_.Q6J("innerHTML",Q.business.vision,_.oJD),_.xp6(2),_.Q6J("businessId",Q.business.id)}}let qe=(()=>{class oe{constructor(Q,Ce,ze,zt){this.webContent=Q,this.route=Ce,this.router=ze,this.metaService=zt}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(Q=>{this.businessId=Q.id}),this.metaService.getMetaData(this.businessId).subscribe(Q=>{this.metaService.updateMetaTags(Q)}),this.webContent.getBusinessData(this.businessId).subscribe(Q=>{Q&&(this.business=Q)})}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Ai._),_.Y36(Gn.gz),_.Y36(Gn.F0),_.Y36(zr.R))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],[3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(Ce,ze){1&Ce&&_.YNc(0,st,37,6,"div",0),2&Ce&&_.Q6J("ngIf",ze.business)},dependencies:[se.O5,Wn],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return oe})();function It(oe,fe){if(1&oe&&(_.TgZ(0,"li")(1,"h3"),_._uU(2),_.qZA()()),2&oe){const Q=fe.$implicit;_.xp6(2),_.Oqu(Q.name)}}function tn(oe,fe){if(1&oe&&(_.TgZ(0,"li")(1,"h3"),_._uU(2),_.qZA()()),2&oe){const Q=fe.$implicit;_.xp6(2),_.Oqu(Q.name)}}function bn(oe,fe){if(1&oe){const Q=_.EpF();_.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),_._uU(4,"Our Services"),_.qZA(),_.TgZ(5,"div",3)(6,"p"),_._uU(7,"Providing exceptional care tailored to your needs"),_.qZA()()()(),_.TgZ(8,"div",4)(9,"section",5),_._UZ(10,"img",6),_.TgZ(11,"h2"),_._uU(12,"Our Comprehensive Services"),_.qZA(),_.TgZ(13,"ul"),_.YNc(14,It,3,1,"li",7),_.qZA()(),_.TgZ(15,"section",5),_._UZ(16,"img",6),_.TgZ(17,"h2"),_._uU(18,"Our Benefits"),_.qZA(),_.TgZ(19,"ul"),_.YNc(20,tn,3,1,"li",7),_.qZA()(),_.TgZ(21,"section",8)(22,"h2"),_._uU(23,"Special Programs"),_.qZA(),_.TgZ(24,"h3"),_._uU(25),_.qZA()(),_.TgZ(26,"section",9)(27,"div",10),_._UZ(28,"img",11),_.TgZ(29,"div",12)(30,"h2",13),_._uU(31,"Tours"),_.qZA()(),_._UZ(32,"div",14),_.qZA(),_.TgZ(33,"div",15),_._UZ(34,"img",16),_.TgZ(35,"div",12)(36,"h2",13),_._uU(37,"Free Consulting"),_.qZA()(),_._UZ(38,"div",14),_.qZA()()(),_.TgZ(39,"div",17)(40,"div",18)(41,"h2"),_._uU(42,"Ready to Experience Exceptional Care?"),_.qZA(),_.TgZ(43,"p"),_._uU(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),_.qZA(),_.TgZ(45,"button",19),_.NdJ("click",function(){_.CHM(Q);const ze=_.oxw();return _.KtG(ze.navigateToContact())}),_._uU(46,"Book a Consultation"),_.qZA()()()()}if(2&oe){const Q=_.oxw();_.xp6(14),_.Q6J("ngForOf",Q.business.services),_.xp6(6),_.Q6J("ngForOf",Q.business.benefits),_.xp6(5),_.Oqu(Q.business.specialPrograms),_.xp6(7),_.Q6J("innerHTML",Q.business.tours,_.oJD),_.xp6(6),_.Q6J("innerHTML",Q.business.freeConsulting,_.oJD)}}let Pn=(()=>{class oe{constructor(Q,Ce,ze,zt){this.webContent=Q,this.route=Ce,this.router=ze,this.metaService=zt}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(Q=>{let Ce=Q.id;this.metaService.getMetaData(Ce).subscribe(ze=>{this.metaService.updateMetaTags(ze)}),this.webContent.getBusinessData(Ce).subscribe(ze=>{ze&&(this.business=ze)})})}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Ai._),_.Y36(Gn.gz),_.Y36(Gn.F0),_.Y36(zr.R))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(Ce,ze){1&Ce&&_.YNc(0,bn,47,5,"div",0),2&Ce&&_.Q6J("ngIf",ze.business)},dependencies:[se.sg,se.O5],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return oe})();var dn=k(95);let vr=(()=>{class oe{static#e=this.\u0275fac=function(Ce){return new(Ce||oe)};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(Ce,ze){1&Ce&&(_.TgZ(0,"section",0)(1,"div",1)(2,"div",2),_._UZ(3,"i",3),_.TgZ(4,"p"),_._uU(5),_.qZA()(),_.TgZ(6,"div",2),_._UZ(7,"i",4),_.TgZ(8,"p"),_._uU(9),_.qZA()(),_.TgZ(10,"div",2),_._UZ(11,"i",5),_.TgZ(12,"p"),_._uU(13),_.qZA()()()()),2&Ce&&(_.xp6(5),_.Oqu(ze.phoneNumber),_.xp6(4),_.Oqu(ze.address),_.xp6(4),_.Oqu(ze.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return oe})();var cr=k(7104);let di=(()=>{class oe{constructor(Q,Ce,ze){this.firestore=Q,this.route=Ce,this.sanitizer=ze,this.mapIframeUrl=null}ngOnInit(){this.route.queryParams.subscribe(Q=>{this.businessId=Q.id,this.loadMapIframe()})}loadMapIframe(){this.firestore.collection("businesses").doc(this.businessId).valueChanges().subscribe(Q=>{this.mapIframeUrl=this.sanitizer.bypassSecurityTrustHtml(Q?.mapIframeUrl??null),console.log(this.mapIframeUrl)})}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(cr.ST),_.Y36(Gn.gz),_.Y36(l.H7))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-map-iframe"]],decls:5,vars:1,consts:[[1,"map-section"],[1,"section-heading"],[1,"map-container"],[1,"iframeMap",3,"innerHTML"]],template:function(Ce,ze){1&Ce&&(_.TgZ(0,"section",0)(1,"div",1),_._uU(2,"Find Us Here"),_.qZA(),_.TgZ(3,"div",2),_._UZ(4,"div",3),_.qZA()()),2&Ce&&(_.xp6(4),_.Q6J("innerHTML",ze.mapIframeUrl,_.oJD))},styles:[".map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]})}return oe})();function uo(oe,fe){if(1&oe&&(_.TgZ(0,"div",10)(1,"h3"),_._uU(2,"Email"),_.qZA(),_.TgZ(3,"p")(4,"a",33),_._uU(5),_.qZA()()()),2&oe){const Q=_.oxw(2);_.xp6(4),_.MGl("href","mailto:",Q.business.email,"",_.LSH),_.xp6(1),_.Oqu(Q.business.email)}}function lr(oe,fe){if(1&oe&&(_.TgZ(0,"div",10)(1,"h3"),_._uU(2,"Fax"),_.qZA(),_.TgZ(3,"p"),_._uU(4),_.qZA()()),2&oe){const Q=_.oxw(2);_.xp6(4),_.Oqu(Q.business.fax)}}function Vo(oe,fe){if(1&oe&&(_.TgZ(0,"div",10)(1,"h3"),_._uU(2,"Social Media"),_.qZA(),_.TgZ(3,"p")(4,"a",33),_._uU(5),_.qZA()()()),2&oe){const Q=_.oxw(2);_.xp6(4),_.s9C("href",Q.business.socialMedia,_.LSH),_.xp6(1),_.Oqu(Q.business.socialMedia)}}function ai(oe,fe){if(1&oe){const Q=_.EpF();_.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),_._uU(4,"Contact Us"),_.qZA(),_.TgZ(5,"div",3)(6,"p"),_._uU(7,"We're here to answer any questions you have"),_.qZA()()()(),_.TgZ(8,"div",4)(9,"section",5)(10,"div",6),_._uU(11,"Get in Touch"),_.qZA(),_.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"h3"),_._uU(17,"Address"),_.qZA(),_.TgZ(18,"p"),_._uU(19),_.qZA()(),_.TgZ(20,"div",10)(21,"h3"),_._uU(22,"Phone"),_.qZA(),_.TgZ(23,"p"),_._uU(24),_.qZA()(),_.YNc(25,uo,6,2,"div",11),_.YNc(26,lr,5,1,"div",11),_.YNc(27,Vo,6,2,"div",11),_.TgZ(28,"div")(29,"h3"),_._uU(30,"Visitation Hours"),_.qZA(),_.TgZ(31,"ul")(32,"li")(33,"strong"),_._uU(34,"Monday:"),_.qZA(),_._uU(35," 7:30am\u20135pm"),_.qZA(),_.TgZ(36,"li")(37,"strong"),_._uU(38,"Tuesday:"),_.qZA(),_._uU(39," 7:30am\u20135pm"),_.qZA(),_.TgZ(40,"li")(41,"strong"),_._uU(42,"Wednesday:"),_.qZA(),_._uU(43," 7:30am\u20135pm"),_.qZA(),_.TgZ(44,"li")(45,"strong"),_._uU(46,"Thursday:"),_.qZA(),_._uU(47," 7:30am\u20135pm"),_.qZA(),_.TgZ(48,"li")(49,"strong"),_._uU(50,"Friday:"),_.qZA(),_._uU(51," 7:30am\u20135pm"),_.qZA(),_.TgZ(52,"li")(53,"strong"),_._uU(54,"Saturday:"),_.qZA(),_._uU(55," Closed"),_.qZA(),_.TgZ(56,"li")(57,"strong"),_._uU(58,"Sunday:"),_.qZA(),_._uU(59," Closed"),_.qZA()()()()(),_.TgZ(60,"div",12)(61,"div",13),_._UZ(62,"img",14),_.qZA()()()(),_.TgZ(63,"section",15)(64,"div",6),_._uU(65,"Send Us a Message"),_.qZA(),_.TgZ(66,"div",16)(67,"div",17)(68,"div",18)(69,"h2",19),_._uU(70,"How can we help?"),_.qZA(),_.TgZ(71,"p",20),_._uU(72,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),_.qZA()()(),_.TgZ(73,"div",21)(74,"form",22,23),_.NdJ("ngSubmit",function(){_.CHM(Q);const ze=_.oxw();return _.KtG(ze.onSubmit())}),_.TgZ(76,"div",24)(77,"label",25),_._uU(78,"Name"),_.qZA(),_.TgZ(79,"input",26),_.NdJ("ngModelChange",function(ze){_.CHM(Q);const zt=_.oxw();return _.KtG(zt.formData.name=ze)}),_.qZA()(),_.TgZ(80,"div",24)(81,"label",27),_._uU(82,"Email"),_.qZA(),_.TgZ(83,"input",28),_.NdJ("ngModelChange",function(ze){_.CHM(Q);const zt=_.oxw();return _.KtG(zt.formData.email=ze)}),_.qZA()(),_.TgZ(84,"div",24)(85,"label",29),_._uU(86,"Message"),_.qZA(),_.TgZ(87,"textarea",30),_.NdJ("ngModelChange",function(ze){_.CHM(Q);const zt=_.oxw();return _.KtG(zt.formData.message=ze)}),_.qZA()(),_.TgZ(88,"button",31),_._uU(89,"Submit"),_.qZA()()()()(),_._UZ(90,"app-information",32)(91,"app-map-iframe"),_.qZA()()}if(2&oe){const Q=_.MAs(75),Ce=_.oxw();_.xp6(19),_.Oqu(Ce.business.address),_.xp6(5),_.Oqu(Ce.business.phone),_.xp6(1),_.Q6J("ngIf",Ce.business.email),_.xp6(1),_.Q6J("ngIf",Ce.business.fax),_.xp6(1),_.Q6J("ngIf",Ce.business.socialMedia),_.xp6(52),_.Q6J("ngModel",Ce.formData.name),_.xp6(4),_.Q6J("ngModel",Ce.formData.email),_.xp6(4),_.Q6J("ngModel",Ce.formData.message),_.xp6(1),_.Q6J("disabled",!Q.form.valid),_.xp6(2),_.Q6J("phoneNumber",Ce.business.phone)("address",Ce.business.address)("email",Ce.business.email)}}let Uo=(()=>{class oe{constructor(Q,Ce,ze,zt){this.webContent=Q,this.route=Ce,this.http=ze,this.metaService=zt,this.formData={name:"",email:"",message:""}}ngOnInit(){this.route.queryParams.subscribe(Q=>{let Ce=Q.id;this.metaService.getMetaData(Ce).subscribe(ze=>{this.metaService.updateMetaTags(ze)}),this.webContent.getBusinessData(Ce).subscribe(ze=>{ze&&(this.business=ze)})})}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(Q=>console.log("Email sent successfully",Q),Q=>console.error("Error sending email",Q))}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Ai._),_.Y36(Gn.gz),_.Y36(de),_.Y36(zr.R))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"right-info"],[1,"right-image"],["src","../../../assets/sharedAssets/image_fx_.jpg","alt","Contact Image"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[3,"phoneNumber","address","email"],[3,"href"]],template:function(Ce,ze){1&Ce&&_.YNc(0,ai,92,12,"div",0),2&Ce&&_.Q6J("ngIf",ze.business)},dependencies:[se.O5,dn._Y,dn.Fj,dn.JJ,dn.JL,dn.Q7,dn.On,dn.F,vr,di],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(/assets/splash2.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:#4caf50;color:var(--primary-color);padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#45a049}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}"]})}return oe})();var qr=k(5861),ws=k(6394);function Ji(oe,fe){if(1&oe){const Q=_.EpF();_.TgZ(0,"div",14),_.NdJ("click",function(){const zt=_.CHM(Q).$implicit,Yt=_.oxw(2);return _.KtG(Yt.onImageClick(zt.url))}),_._UZ(1,"img",15),_.qZA()}if(2&oe){const Q=fe.$implicit;_.xp6(1),_.Q6J("src",Q.url,_.LSH)}}function ui(oe,fe){if(1&oe){const Q=_.EpF();_.TgZ(0,"app-image-viewer-modal",16),_.NdJ("closeModal",function(){_.CHM(Q);const ze=_.oxw(2);return _.KtG(ze.onCloseModal())}),_.qZA()}if(2&oe){const Q=_.oxw(2);_.Q6J("imageUrl",Q.selectedImageUrl)}}function yi(oe,fe){if(1&oe&&(_.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"h1"),_._uU(4,"Our Home"),_.qZA(),_.TgZ(5,"div",6)(6,"p"),_._uU(7,"Feel at Home: A Peek into Our Caring Environment"),_.qZA()()()(),_.TgZ(8,"div",7)(9,"section",8)(10,"div",9),_._uU(11,"Welcome to Our Home"),_.qZA(),_.TgZ(12,"p"),_._uU(13),_.qZA()(),_.TgZ(14,"section",10)(15,"div",9),_._uU(16,"Explore Our Gallery"),_.qZA(),_.TgZ(17,"div",11),_.YNc(18,Ji,2,1,"div",12),_.qZA()()(),_.YNc(19,ui,1,1,"app-image-viewer-modal",13),_.qZA()),2&oe){const Q=_.oxw();_.xp6(13),_.hij(" ",Q.business.photoGalleryText," "),_.xp6(5),_.Q6J("ngForOf",Q.images),_.xp6(1),_.Q6J("ngIf",Q.selectedImageUrl)}}let nr=(()=>{class oe{constructor(Q,Ce,ze,zt){this.route=Q,this.webContent=Ce,this.metaService=ze,this.router=zt,this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(Q=>{this.businessId=Q.id,this.loadImages(),this.metaService.getMetaData(this.businessId).subscribe(Ce=>{this.metaService.updateMetaTags(Ce)}),this.webContent.getBusinessData(this.businessId).subscribe(Ce=>{Ce&&(this.business=Ce)})})}loadImages(){var Q=this;this.webContent.getBusinessGalleryImagesById(this.businessId).pipe((0,re.w)(Ce=>{const ze=Ce.map(function(){var zt=(0,qr.Z)(function*(Yt){return(yield Q.webContent.checkImageExists(Yt.url))?Yt:null});return function(Yt){return zt.apply(this,arguments)}}());return(0,Te.D)(Promise.all(ze))}),(0,ke.U)(Ce=>Ce.filter(ze=>null!==ze))).subscribe(Ce=>{this.images=Ce})}onImageClick(Q){this.selectedImageUrl=Q}onCloseModal(){this.selectedImageUrl=null}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Gn.gz),_.Y36(Ai._),_.Y36(zr.R),_.Y36(Gn.F0))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:9,vars:1,consts:[[4,"ngIf"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(Ce,ze){1&Ce&&(_.YNc(0,yi,20,3,"div",0),_.TgZ(1,"div",1)(2,"div",2)(3,"h2"),_._uU(4,"Come Meet Our Family"),_.qZA(),_.TgZ(5,"p"),_._uU(6,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),_.qZA(),_.TgZ(7,"button",3),_.NdJ("click",function(){return ze.navigateToContact()}),_._uU(8,"Schedule a Visit"),_.qZA()()()),2&Ce&&_.Q6J("ngIf",ze.business)},dependencies:[se.sg,se.O5,ws.g],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}return oe})();var Mo=k(2333);function _r(oe,fe){if(1&oe&&(_.TgZ(0,"div",11),_._uU(1),_.qZA()),2&oe){const Q=_.oxw();_.xp6(1),_.Oqu(Q.errorMessage)}}let pr=(()=>{class oe{constructor(Q,Ce){this.authService=Q,this.router=Ce,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(Q=>{this.errorMessage=Q.message})}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Mo.e),_.Y36(Gn.F0))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"login-button"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(Ce,ze){1&Ce&&(_.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),_._uU(3,"Login"),_.qZA(),_.TgZ(4,"form",3),_.NdJ("submit",function(){return ze.login()}),_.TgZ(5,"div",4)(6,"label",5),_._uU(7,"Email"),_.qZA(),_.TgZ(8,"input",6),_.NdJ("ngModelChange",function(Yt){return ze.email=Yt}),_.qZA()(),_.TgZ(9,"div",4)(10,"label",7),_._uU(11,"Password"),_.qZA(),_.TgZ(12,"input",8),_.NdJ("ngModelChange",function(Yt){return ze.password=Yt}),_.qZA()(),_.TgZ(13,"button",9),_._uU(14,"Login"),_.qZA(),_.YNc(15,_r,2,1,"div",10),_.qZA()()()),2&Ce&&(_.xp6(8),_.Q6J("ngModel",ze.email),_.xp6(4),_.Q6J("ngModel",ze.password),_.xp6(3),_.Q6J("ngIf",ze.errorMessage))},dependencies:[se.O5,dn._Y,dn.Fj,dn.JJ,dn.JL,dn.Q7,dn.On,dn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return oe})();const yo=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Li.O},{path:"about-us",component:qe},{path:"services",component:Pn},{path:"contact-us",component:Uo},{path:"gallery",component:nr},{path:"login",component:pr},{path:"login",component:pr},{path:"admin",loadChildren:()=>k.e(14).then(k.bind(k,9014)).then(oe=>oe.AdminModule)},{path:":id",component:Li.O},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Mi=(()=>{class oe{static#e=this.\u0275fac=function(Ce){return new(Ce||oe)};static#t=this.\u0275mod=_.oAB({type:oe});static#n=this.\u0275inj=_.cJS({imports:[Gn.Bz.forRoot(yo),Gn.Bz]})}return oe})();function vi(oe,fe){if(1&oe&&_._UZ(0,"img",10),2&oe){const Q=_.oxw();_.Q6J("src",null==Q.business?null:Q.business.logoImage,_.LSH)}}const Vi=function(oe){return{"open-bar1":oe}},hs=function(oe){return{"open-bar2":oe}},hi=function(oe){return{"open-bar3":oe}},ks=function(oe){return{active:oe}};let Xi=(()=>{class oe{constructor(Q,Ce,ze){this.route=Q,this.router=Ce,this.content=ze,this.businessId="",this.menuActive=!1,this.menuOpen=!1}ngOnInit(){this.route.queryParams.subscribe(Q=>{this.businessId=Q.id||"",this.content.getBusinessData(this.businessId).subscribe(Ce=>{this.business=Ce})})}navigateTo(Q){const Ce=this.businessId?{id:this.businessId}:{};console.log("This Business id form query string",this.businessId),this.closeMenu(),this.router.navigate([`/${Q}`],{queryParams:Ce}).then(ze=>{ze||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Gn.gz),_.Y36(Gn.F0),_.Y36(Ai._))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-navigation"]],decls:19,vars:13,consts:[[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(Ce,ze){1&Ce&&(_.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),_.YNc(3,vi,1,1,"img",3),_.qZA(),_.TgZ(4,"div",4),_.NdJ("click",function(){return ze.toggleMenu()}),_._UZ(5,"div",5)(6,"div",6)(7,"div",7),_.qZA(),_.TgZ(8,"ul",8)(9,"li",9),_.NdJ("click",function(){return ze.navigateTo("home")}),_._uU(10,"Home"),_.qZA(),_.TgZ(11,"li",9),_.NdJ("click",function(){return ze.navigateTo("services")}),_._uU(12,"Services"),_.qZA(),_.TgZ(13,"li",9),_.NdJ("click",function(){return ze.navigateTo("about-us")}),_._uU(14,"About Us"),_.qZA(),_.TgZ(15,"li",9),_.NdJ("click",function(){return ze.navigateTo("gallery")}),_._uU(16,"gallery"),_.qZA(),_.TgZ(17,"li",9),_.NdJ("click",function(){return ze.navigateTo("contact-us")}),_._uU(18,"Contact"),_.qZA()()()()),2&Ce&&(_.xp6(3),_.Q6J("ngIf",null==ze.business?null:ze.business.logoImage),_.xp6(2),_.Q6J("ngClass",_.VKq(5,Vi,ze.menuOpen)),_.xp6(1),_.Q6J("ngClass",_.VKq(7,hs,ze.menuOpen)),_.xp6(1),_.Q6J("ngClass",_.VKq(9,hi,ze.menuOpen)),_.xp6(1),_.Q6J("ngClass",_.VKq(11,ks,ze.menuOpen)))},dependencies:[se.mk,se.O5],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return oe})(),Gr=(()=>{class oe{constructor(Q,Ce){this.route=Q,this.webContentService=Ce}ngOnInit(){this.route.queryParams.subscribe(Q=>{this.businessId=Q.id,this.webContentService.getBusinessData(this.businessId).subscribe(Ce=>{Ce&&(this.business=Ce)})})}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Gn.gz),_.Y36(Ai._))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-footer"]],decls:33,vars:12,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"]],template:function(Ce,ze){1&Ce&&(_.TgZ(0,"footer",0)(1,"div",1)(2,"h2",2),_._uU(3),_.qZA(),_._UZ(4,"hr",3),_.TgZ(5,"div",4)(6,"div",5)(7,"h3",6),_._uU(8,"Location:"),_.qZA(),_.TgZ(9,"address"),_._uU(10),_.qZA()(),_.TgZ(11,"div",5)(12,"h3",6),_._uU(13),_.qZA(),_.TgZ(14,"p"),_._uU(15,"Email: "),_.TgZ(16,"a",7),_._uU(17),_.qZA()(),_.TgZ(18,"p"),_._uU(19,"Phone: "),_.TgZ(20,"a",7),_._uU(21),_.qZA()()(),_.TgZ(22,"div",5)(23,"h3",6),_._uU(24),_.qZA(),_.TgZ(25,"p"),_._uU(26,"Email: "),_.TgZ(27,"a",7),_._uU(28),_.qZA()(),_.TgZ(29,"p"),_._uU(30,"Phone: "),_.TgZ(31,"a",7),_._uU(32),_.qZA()()()()()()),2&Ce&&(_.xp6(3),_.Oqu(null==ze.business?null:ze.business.businessName),_.xp6(7),_.hij(" ",null==ze.business?null:ze.business.address," "),_.xp6(3),_.hij("Provider:",null==ze.business?null:ze.business.providerName,""),_.xp6(3),_.MGl("href","mailto:",null==ze.business?null:ze.business.email,"",_.LSH),_.xp6(1),_.hij(" ",null==ze.business?null:ze.business.email,""),_.xp6(3),_.MGl("href","tel:+",null==ze.business?null:ze.business.phone,"",_.LSH),_.xp6(1),_.Oqu(null==ze.business?null:ze.business.phone),_.xp6(3),_.hij("Resident Manager:",null==ze.business?null:ze.business.providerName,""),_.xp6(3),_.MGl("href","mailto:",null==ze.business?null:ze.business.email,"",_.LSH),_.xp6(1),_.hij(" ",null==ze.business?null:ze.business.email,""),_.xp6(3),_.MGl("href","tel:+",null==ze.business?null:ze.business.phone,"",_.LSH),_.xp6(1),_.Oqu(null==ze.business?null:ze.business.phone))},styles:[".footer[_ngcontent-%COMP%]{padding:40px;text-align:center}.footer-title[_ngcontent-%COMP%]{color:var(--accent-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;max-width:1200px;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--accent-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}"]})}return oe})(),Ui=(()=>{class oe{constructor(Q,Ce,ze,zt){this.route=Q,this.webContent=Ce,this.metaService=ze,this.router=zt,this.title="adult-family-home"}ngOnInit(){this.route.queryParams.subscribe(Q=>{this.businessId=Q.id,console.log("App component business id: ",this.businessId)}),this.webContent.getBusinessData(this.businessId).subscribe(Q=>{Q&&(this.business=Q)})}static#e=this.\u0275fac=function(Ce){return new(Ce||oe)(_.Y36(Gn.gz),_.Y36(Ai._),_.Y36(zr.R),_.Y36(Gn.F0))};static#t=this.\u0275cmp=_.Xpm({type:oe,selectors:[["app-root"]],decls:3,vars:0,template:function(Ce,ze){1&Ce&&_._UZ(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[Gn.lC,Xi,Gr]})}return oe})();const vo_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Bi=k(3182),Tr=k(1920);class ro{constructor(fe){return fe}}class Nn{constructor(){return(0,Bi.C6)()}}const Ei=new _.OlP("angularfire2._apps"),Er={provide:ro,useFactory:function Qr(oe){return oe&&1===oe.length?oe[0]:new ro((0,Bi.Mq)())},deps:[[new _.FiY,Ei]]},Eo={provide:Nn,deps:[[new _.FiY,Ei]]};function ji(oe){return(fe,Q)=>{const Ce=fe.runOutsideAngular(()=>oe(Q));return new ro(Ce)}}let Io=(()=>{class oe{constructor(Q){(0,Bi.KN)("angularfire",Tr.q4.full,"core"),(0,Bi.KN)("angularfire",Tr.q4.full,"app"),(0,Bi.KN)("angular",_.q4F.full,Q.toString())}static \u0275fac=function(Ce){return new(Ce||oe)(_.LFG(_.Lbi))};static \u0275mod=_.oAB({type:oe});static \u0275inj=_.cJS({providers:[Er,Eo]})}return oe})();function Ii(oe,...fe){return{ngModule:Io,providers:[{provide:Ei,useFactory:ji(oe),multi:!0,deps:[_.R0b,_.zs3,Tr.HU,...fe]}]}}const Fn=(0,Tr.u3)(Bi.ZF,!0);k(35),k(534),k(9058),k(7879),k(4537);class jr{constructor(){return(0,Tr.vb)("auth")}}var Ws=k(5588);class Vs{constructor(fe){return fe}}const Us="firestore",To=new _.OlP("angularfire2.firestore-instances");function la(oe){return(fe,Q)=>{const Ce=fe.runOutsideAngular(()=>oe(Q));return new Vs(Ce)}}const da={provide:class qs{constructor(){return(0,Tr.vb)(Us)}},deps:[[new _.FiY,To]]},Zs={provide:Vs,useFactory:function rs(oe,fe){const Q=(0,Tr.JM)(Us,oe,fe);return Q&&new Vs(Q)},deps:[[new _.FiY,To],ro]};let gs=(()=>{class oe{constructor(){(0,Bi.KN)("angularfire",Tr.q4.full,"fst")}static \u0275fac=function(Ce){return new(Ce||oe)};static \u0275mod=_.oAB({type:oe});static \u0275inj=_.cJS({providers:[Zs,da]})}return oe})();function Ks(oe,...fe){return{ngModule:gs,providers:[{provide:To,useFactory:la(oe),multi:!0,deps:[_.R0b,_.zs3,Tr.HU,Nn,[new _.FiY,jr],[new _.FiY,Tr.Rf],...fe]}]}}const _s=(0,Tr.u3)(Ws.ad,!0);var ss=k(7217),Oo=k(778),Ac=k(7213),as=k(8153);class Ms{constructor(fe){return fe}}const Ra="storage",jo=new _.OlP("angularfire2.storage-instances");function A(oe){return(fe,Q)=>{const Ce=fe.runOutsideAngular(()=>oe(Q));return new Ms(Ce)}}const E={provide:class $u{constructor(){return(0,Tr.vb)(Ra)}},deps:[[new _.FiY,jo]]},S={provide:Ms,useFactory:function C(oe,fe){const Q=(0,Tr.JM)(Ra,oe,fe);return Q&&new Ms(Q)},deps:[[new _.FiY,jo],ro]};let F=(()=>{class oe{constructor(){(0,Bi.KN)("angularfire",Tr.q4.full,"gcs")}static \u0275fac=function(Ce){return new(Ce||oe)};static \u0275mod=_.oAB({type:oe});static \u0275inj=_.cJS({providers:[S,E]})}return oe})();function J(oe,...fe){return{ngModule:F,providers:[{provide:jo,useFactory:A(oe),multi:!0,deps:[_.R0b,_.zs3,Tr.HU,Nn,[new _.FiY,jr],[new _.FiY,Tr.Rf],...fe]}]}}const ea=(0,Tr.u3)(as.cF,!0);let zu=(()=>{class oe{static#e=this.\u0275fac=function(Ce){return new(Ce||oe)};static#t=this.\u0275mod=_.oAB({type:oe,bootstrap:[Ui]});static#n=this.\u0275inj=_.cJS({imports:[l.b2,Gn.Bz,Mi,cr.yb,Oo.TE,Ac.ww,ss.hO.initializeApp(vo_firebase),Ii(()=>Fn(vo_firebase)),Ks(()=>_s()),J(()=>ea()),dn.UX,dn.u5,ae]})}return oe})();l.q6().bootstrapModule(zu).catch(oe=>console.error(oe))},5619:(nn,Je,k)=>{k.d(Je,{X:()=>_});var l=k(8645);class _ extends l.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const me=super._subscribe(Te);return!me.closed&&Te.next(this._value),me}getValue(){const{hasError:Te,thrownError:me,_value:De}=this;if(Te)throw me;return this._throwIfClosed(),De}next(Te){super.next(this._value=Te)}}},5592:(nn,Je,k)=>{k.d(Je,{y:()=>ke});var l=k(305),_=k(7394),H=k(4850),Te=k(8407),me=k(2653),De=k(4674),Ue=k(1441);let ke=(()=>{class Me{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const Pt=new Me;return Pt.source=this,Pt.operator=Ge,Pt}subscribe(Ge,Pt,yt){const Lt=function se(Me){return Me&&Me instanceof l.Lv||function re(Me){return Me&&(0,De.m)(Me.next)&&(0,De.m)(Me.error)&&(0,De.m)(Me.complete)}(Me)&&(0,_.Nn)(Me)}(Ge)?Ge:new l.Hp(Ge,Pt,yt);return(0,Ue.x)(()=>{const{operator:wt,source:sn}=this;Lt.add(wt?wt.call(Lt,sn):sn?this._subscribe(Lt):this._trySubscribe(Lt))}),Lt}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(Pt){Ge.error(Pt)}}forEach(Ge,Pt){return new(Pt=He(Pt))((yt,Lt)=>{const wt=new l.Hp({next:sn=>{try{Ge(sn)}catch(We){Lt(We),wt.unsubscribe()}},error:Lt,complete:yt});this.subscribe(wt)})}_subscribe(Ge){var Pt;return null===(Pt=this.source)||void 0===Pt?void 0:Pt.subscribe(Ge)}[H.L](){return this}pipe(...Ge){return(0,Te.U)(Ge)(this)}toPromise(Ge){return new(Ge=He(Ge))((Pt,yt)=>{let Lt;this.subscribe(wt=>Lt=wt,wt=>yt(wt),()=>Pt(Lt))})}}return Me.create=pt=>new Me(pt),Me})();function He(Me){var pt;return null!==(pt=Me??me.config.Promise)&&void 0!==pt?pt:Promise}},8645:(nn,Je,k)=>{k.d(Je,{x:()=>Ue});var l=k(5592),_=k(7394);const Te=(0,k(2306).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(9039),De=k(1441);let Ue=(()=>{class He extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Me=new ke(this,this);return Me.operator=se,Me}_throwIfClosed(){if(this.closed)throw new Te}next(se){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(se)}})}error(se){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Me}=this;for(;Me.length;)Me.shift().error(se)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Me,isStopped:pt,observers:Ge}=this;return Me||pt?_.Lc:(this.currentObservers=null,Ge.push(se),new _.w0(()=>{this.currentObservers=null,(0,me.P)(Ge,se)}))}_checkFinalizedStatuses(se){const{hasError:Me,thrownError:pt,isStopped:Ge}=this;Me?se.error(pt):Ge&&se.complete()}asObservable(){const se=new l.y;return se.source=this,se}}return He.create=(re,se)=>new ke(re,se),He})();class ke extends Ue{constructor(re,se){super(),this.destination=re,this.source=se}next(re){var se,Me;null===(Me=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Me||Me.call(se,re)}error(re){var se,Me;null===(Me=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Me||Me.call(se,re)}complete(){var re,se;null===(se=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===se||se.call(re)}_subscribe(re){var se,Me;return null!==(Me=null===(se=this.source)||void 0===se?void 0:se.subscribe(re))&&void 0!==Me?Me:_.Lc}}},305:(nn,Je,k)=>{k.d(Je,{Hp:()=>yt,Lv:()=>Me});var l=k(4674),_=k(7394),H=k(2653),Te=k(3894),me=k(2420);const De=He("C",void 0,void 0);function He(Le,Xe,Ke){return{kind:Le,value:Xe,error:Ke}}var re=k(7599),se=k(1441);class Me extends _.w0{constructor(Xe){super(),this.isStopped=!1,Xe?(this.destination=Xe,(0,_.Nn)(Xe)&&Xe.add(this)):this.destination=We}static create(Xe,Ke,Ye){return new yt(Xe,Ke,Ye)}next(Xe){this.isStopped?sn(function ke(Le){return He("N",Le,void 0)}(Xe),this):this._next(Xe)}error(Xe){this.isStopped?sn(function Ue(Le){return He("E",void 0,Le)}(Xe),this):(this.isStopped=!0,this._error(Xe))}complete(){this.isStopped?sn(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Xe){this.destination.next(Xe)}_error(Xe){try{this.destination.error(Xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function Ge(Le,Xe){return pt.call(Le,Xe)}class Pt{constructor(Xe){this.partialObserver=Xe}next(Xe){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(Xe)}catch(Ye){Lt(Ye)}}error(Xe){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(Xe)}catch(Ye){Lt(Ye)}else Lt(Xe)}complete(){const{partialObserver:Xe}=this;if(Xe.complete)try{Xe.complete()}catch(Ke){Lt(Ke)}}}class yt extends Me{constructor(Xe,Ke,Ye){let _t;if(super(),(0,l.m)(Xe)||!Xe)_t={next:Xe??void 0,error:Ke??void 0,complete:Ye??void 0};else{let Dt;this&&H.config.useDeprecatedNextContext?(Dt=Object.create(Xe),Dt.unsubscribe=()=>this.unsubscribe(),_t={next:Xe.next&&Ge(Xe.next,Dt),error:Xe.error&&Ge(Xe.error,Dt),complete:Xe.complete&&Ge(Xe.complete,Dt)}):_t=Xe}this.destination=new Pt(_t)}}function Lt(Le){H.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(Le):(0,Te.h)(Le)}function sn(Le,Xe){const{onStoppedNotification:Ke}=H.config;Ke&&re.z.setTimeout(()=>Ke(Le,Xe))}const We={closed:!0,next:me.Z,error:function wt(Le){throw Le},complete:me.Z}},7394:(nn,Je,k)=>{k.d(Je,{Lc:()=>De,w0:()=>me,Nn:()=>Ue});var l=k(4674);const H=(0,k(2306).d)(He=>function(se){He(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Me,pt)=>`${pt+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Te=k(9039);class me{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Ge of se)Ge.remove(this);else se.remove(this);const{initialTeardown:Me}=this;if((0,l.m)(Me))try{Me()}catch(Ge){re=Ge instanceof H?Ge.errors:[Ge]}const{_finalizers:pt}=this;if(pt){this._finalizers=null;for(const Ge of pt)try{ke(Ge)}catch(Pt){re=re??[],Pt instanceof H?re=[...re,...Pt.errors]:re.push(Pt)}}if(re)throw new H(re)}}add(re){var se;if(re&&re!==this)if(this.closed)ke(re);else{if(re instanceof me){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(re)}}_hasParent(re){const{_parentage:se}=this;return se===re||Array.isArray(se)&&se.includes(re)}_addParent(re){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(re),se):se?[se,re]:re}_removeParent(re){const{_parentage:se}=this;se===re?this._parentage=null:Array.isArray(se)&&(0,Te.P)(se,re)}remove(re){const{_finalizers:se}=this;se&&(0,Te.P)(se,re),re instanceof me&&re._removeParent(this)}}me.EMPTY=(()=>{const He=new me;return He.closed=!0,He})();const De=me.EMPTY;function Ue(He){return He instanceof me||He&&"closed"in He&&(0,l.m)(He.remove)&&(0,l.m)(He.add)&&(0,l.m)(He.unsubscribe)}function ke(He){(0,l.m)(He)?He():He.unsubscribe()}},2653:(nn,Je,k)=>{k.d(Je,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(nn,Je,k)=>{k.d(Je,{z:()=>me});var l=k(7537),H=k(4564),Te=k(2459);function me(...De){return function _(){return(0,l.J)(1)}()((0,Te.D)(De,(0,H.yG)(De)))}},6232:(nn,Je,k)=>{k.d(Je,{E:()=>_});const _=new(k(5592).y)(me=>me.complete())},2459:(nn,Je,k)=>{k.d(Je,{D:()=>Xe});var l=k(4829),_=k(3093),H=k(5137),De=k(5592),ke=k(4971),He=k(4674),re=k(7103);function Me(Ke,Ye){if(!Ke)throw new Error("Iterable cannot be null");return new De.y(_t=>{(0,re.f)(_t,Ye,()=>{const Dt=Ke[Symbol.asyncIterator]();(0,re.f)(_t,Ye,()=>{Dt.next().then(ye=>{ye.done?_t.complete():_t.next(ye.value)})},0,!0)})})}var pt=k(8382),Ge=k(4026),Pt=k(4266),yt=k(3664),Lt=k(5726),wt=k(9853),sn=k(541);function Xe(Ke,Ye){return Ye?function Le(Ke,Ye){if(null!=Ke){if((0,pt.c)(Ke))return function Te(Ke,Ye){return(0,l.Xf)(Ke).pipe((0,H.R)(Ye),(0,_.Q)(Ye))}(Ke,Ye);if((0,Pt.z)(Ke))return function Ue(Ke,Ye){return new De.y(_t=>{let Dt=0;return Ye.schedule(function(){Dt===Ke.length?_t.complete():(_t.next(Ke[Dt++]),_t.closed||this.schedule())})})}(Ke,Ye);if((0,Ge.t)(Ke))return function me(Ke,Ye){return(0,l.Xf)(Ke).pipe((0,H.R)(Ye),(0,_.Q)(Ye))}(Ke,Ye);if((0,Lt.D)(Ke))return Me(Ke,Ye);if((0,yt.T)(Ke))return function se(Ke,Ye){return new De.y(_t=>{let Dt;return(0,re.f)(_t,Ye,()=>{Dt=Ke[ke.h](),(0,re.f)(_t,Ye,()=>{let ye,Ht;try{({value:ye,done:Ht}=Dt.next())}catch(Xt){return void _t.error(Xt)}Ht?_t.complete():_t.next(ye)},0,!0)}),()=>(0,He.m)(Dt?.return)&&Dt.return()})}(Ke,Ye);if((0,sn.L)(Ke))return function We(Ke,Ye){return Me((0,sn.Q)(Ke),Ye)}(Ke,Ye)}throw(0,wt.z)(Ke)}(Ke,Ye):(0,l.Xf)(Ke)}},4829:(nn,Je,k)=>{k.d(Je,{Xf:()=>pt});var l=k(7582),_=k(4266),H=k(4026),Te=k(5592),me=k(8382),De=k(5726),Ue=k(9853),ke=k(3664),He=k(541),re=k(4674),se=k(3894),Me=k(4850);function pt(Le){if(Le instanceof Te.y)return Le;if(null!=Le){if((0,me.c)(Le))return function Ge(Le){return new Te.y(Xe=>{const Ke=Le[Me.L]();if((0,re.m)(Ke.subscribe))return Ke.subscribe(Xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,_.z)(Le))return function Pt(Le){return new Te.y(Xe=>{for(let Ke=0;Ke<Le.length&&!Xe.closed;Ke++)Xe.next(Le[Ke]);Xe.complete()})}(Le);if((0,H.t)(Le))return function yt(Le){return new Te.y(Xe=>{Le.then(Ke=>{Xe.closed||(Xe.next(Ke),Xe.complete())},Ke=>Xe.error(Ke)).then(null,se.h)})}(Le);if((0,De.D)(Le))return wt(Le);if((0,ke.T)(Le))return function Lt(Le){return new Te.y(Xe=>{for(const Ke of Le)if(Xe.next(Ke),Xe.closed)return;Xe.complete()})}(Le);if((0,He.L)(Le))return function sn(Le){return wt((0,He.Q)(Le))}(Le)}throw(0,Ue.z)(Le)}function wt(Le){return new Te.y(Xe=>{(function We(Le,Xe){var Ke,Ye,_t,Dt;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,l.KL)(Le);!(Ye=yield Ke.next()).done;)if(Xe.next(Ye.value),Xe.closed)return}catch(ye){_t={error:ye}}finally{try{Ye&&!Ye.done&&(Dt=Ke.return)&&(yield Dt.call(Ke))}finally{if(_t)throw _t.error}}Xe.complete()})})(Le,Xe).catch(Ke=>Xe.error(Ke))})}},3019:(nn,Je,k)=>{k.d(Je,{T:()=>De});var l=k(7537),_=k(4829),H=k(6232),Te=k(4564),me=k(2459);function De(...Ue){const ke=(0,Te.yG)(Ue),He=(0,Te._6)(Ue,1/0),re=Ue;return re.length?1===re.length?(0,_.Xf)(re[0]):(0,l.J)(He)((0,me.D)(re,ke)):H.E}},2096:(nn,Je,k)=>{k.d(Je,{of:()=>H});var l=k(4564),_=k(2459);function H(...Te){const me=(0,l.yG)(Te);return(0,_.D)(Te,me)}},8251:(nn,Je,k)=>{k.d(Je,{x:()=>_});var l=k(305);function _(Te,me,De,Ue,ke){return new H(Te,me,De,Ue,ke)}class H extends l.Lv{constructor(me,De,Ue,ke,He,re){super(me),this.onFinalize=He,this.shouldUnsubscribe=re,this._next=De?function(se){try{De(se)}catch(Me){me.error(Me)}}:super._next,this._error=ke?function(se){try{ke(se)}catch(Me){me.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Ue?function(){try{Ue()}catch(se){me.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},6306:(nn,Je,k)=>{k.d(Je,{K:()=>Te});var l=k(4829),_=k(8251),H=k(9360);function Te(me){return(0,H.e)((De,Ue)=>{let re,ke=null,He=!1;ke=De.subscribe((0,_.x)(Ue,void 0,void 0,se=>{re=(0,l.Xf)(me(se,Te(me)(De))),ke?(ke.unsubscribe(),ke=null,re.subscribe(Ue)):He=!0})),He&&(ke.unsubscribe(),ke=null,re.subscribe(Ue))})}},6328:(nn,Je,k)=>{k.d(Je,{b:()=>H});var l=k(1631),_=k(4674);function H(Te,me){return(0,_.m)(me)?(0,l.z)(Te,me,1):(0,l.z)(Te,1)}},3572:(nn,Je,k)=>{k.d(Je,{d:()=>H});var l=k(9360),_=k(8251);function H(Te){return(0,l.e)((me,De)=>{let Ue=!1;me.subscribe((0,_.x)(De,ke=>{Ue=!0,De.next(ke)},()=>{Ue||De.next(Te),De.complete()}))})}},3997:(nn,Je,k)=>{k.d(Je,{x:()=>Te});var l=k(2737),_=k(9360),H=k(8251);function Te(De,Ue=l.y){return De=De??me,(0,_.e)((ke,He)=>{let re,se=!0;ke.subscribe((0,H.x)(He,Me=>{const pt=Ue(Me);(se||!De(re,pt))&&(se=!1,re=pt,He.next(Me))}))})}function me(De,Ue){return De===Ue}},2181:(nn,Je,k)=>{k.d(Je,{h:()=>H});var l=k(9360),_=k(8251);function H(Te,me){return(0,l.e)((De,Ue)=>{let ke=0;De.subscribe((0,_.x)(Ue,He=>Te.call(me,He,ke++)&&Ue.next(He)))})}},4716:(nn,Je,k)=>{k.d(Je,{x:()=>_});var l=k(9360);function _(H){return(0,l.e)((Te,me)=>{try{Te.subscribe(me)}finally{me.add(H)}})}},1374:(nn,Je,k)=>{k.d(Je,{P:()=>Ue});var l=k(6973),_=k(2181),H=k(8180),Te=k(3572),me=k(3026),De=k(2737);function Ue(ke,He){const re=arguments.length>=2;return se=>se.pipe(ke?(0,_.h)((Me,pt)=>ke(Me,pt,se)):De.y,(0,H.q)(1),re?(0,Te.d)(He):(0,me.T)(()=>new l.K))}},7398:(nn,Je,k)=>{k.d(Je,{U:()=>H});var l=k(9360),_=k(8251);function H(Te,me){return(0,l.e)((De,Ue)=>{let ke=0;De.subscribe((0,_.x)(Ue,He=>{Ue.next(Te.call(me,He,ke++))}))})}},7537:(nn,Je,k)=>{k.d(Je,{J:()=>H});var l=k(1631),_=k(2737);function H(Te=1/0){return(0,l.z)(_.y,Te)}},1631:(nn,Je,k)=>{k.d(Je,{z:()=>ke});var l=k(7398),_=k(4829),H=k(9360),Te=k(7103),me=k(8251),Ue=k(4674);function ke(He,re,se=1/0){return(0,Ue.m)(re)?ke((Me,pt)=>(0,l.U)((Ge,Pt)=>re(Me,Ge,pt,Pt))((0,_.Xf)(He(Me,pt))),se):("number"==typeof re&&(se=re),(0,H.e)((Me,pt)=>function De(He,re,se,Me,pt,Ge,Pt,yt){const Lt=[];let wt=0,sn=0,We=!1;const Le=()=>{We&&!Lt.length&&!wt&&re.complete()},Xe=Ye=>wt<Me?Ke(Ye):Lt.push(Ye),Ke=Ye=>{Ge&&re.next(Ye),wt++;let _t=!1;(0,_.Xf)(se(Ye,sn++)).subscribe((0,me.x)(re,Dt=>{pt?.(Dt),Ge?Xe(Dt):re.next(Dt)},()=>{_t=!0},void 0,()=>{if(_t)try{for(wt--;Lt.length&&wt<Me;){const Dt=Lt.shift();Pt?(0,Te.f)(re,Pt,()=>Ke(Dt)):Ke(Dt)}Le()}catch(Dt){re.error(Dt)}}))};return He.subscribe((0,me.x)(re,Xe,()=>{We=!0,Le()})),()=>{yt?.()}}(Me,pt,He,se)))}},3093:(nn,Je,k)=>{k.d(Je,{Q:()=>Te});var l=k(7103),_=k(9360),H=k(8251);function Te(me,De=0){return(0,_.e)((Ue,ke)=>{Ue.subscribe((0,H.x)(ke,He=>(0,l.f)(ke,me,()=>ke.next(He),De),()=>(0,l.f)(ke,me,()=>ke.complete(),De),He=>(0,l.f)(ke,me,()=>ke.error(He),De)))})}},6699:(nn,Je,k)=>{k.d(Je,{R:()=>Te});var l=k(9360),_=k(8251);function Te(me,De){return(0,l.e)(function H(me,De,Ue,ke,He){return(re,se)=>{let Me=Ue,pt=De,Ge=0;re.subscribe((0,_.x)(se,Pt=>{const yt=Ge++;pt=Me?me(pt,Pt,yt):(Me=!0,Pt),ke&&se.next(pt)},He&&(()=>{Me&&se.next(pt),se.complete()})))}}(me,De,arguments.length>=2,!0))}},3020:(nn,Je,k)=>{k.d(Je,{B:()=>me});var l=k(4829),_=k(8645),H=k(305),Te=k(9360);function me(Ue={}){const{connector:ke=(()=>new _.x),resetOnError:He=!0,resetOnComplete:re=!0,resetOnRefCountZero:se=!0}=Ue;return Me=>{let pt,Ge,Pt,yt=0,Lt=!1,wt=!1;const sn=()=>{Ge?.unsubscribe(),Ge=void 0},We=()=>{sn(),pt=Pt=void 0,Lt=wt=!1},Le=()=>{const Xe=pt;We(),Xe?.unsubscribe()};return(0,Te.e)((Xe,Ke)=>{yt++,!wt&&!Lt&&sn();const Ye=Pt=Pt??ke();Ke.add(()=>{yt--,0===yt&&!wt&&!Lt&&(Ge=De(Le,se))}),Ye.subscribe(Ke),!pt&&yt>0&&(pt=new H.Hp({next:_t=>Ye.next(_t),error:_t=>{wt=!0,sn(),Ge=De(We,He,_t),Ye.error(_t)},complete:()=>{Lt=!0,sn(),Ge=De(We,re),Ye.complete()}}),(0,l.Xf)(Xe).subscribe(pt))})(Me)}}function De(Ue,ke,...He){if(!0===ke)return void Ue();if(!1===ke)return;const re=new H.Hp({next:()=>{re.unsubscribe(),Ue()}});return(0,l.Xf)(ke(...He)).subscribe(re)}},7921:(nn,Je,k)=>{k.d(Je,{O:()=>Te});var l=k(5211),_=k(4564),H=k(9360);function Te(...me){const De=(0,_.yG)(me);return(0,H.e)((Ue,ke)=>{(De?(0,l.z)(me,Ue,De):(0,l.z)(me,Ue)).subscribe(ke)})}},5137:(nn,Je,k)=>{k.d(Je,{R:()=>_});var l=k(9360);function _(H,Te=0){return(0,l.e)((me,De)=>{De.add(H.schedule(()=>me.subscribe(De),Te))})}},4664:(nn,Je,k)=>{k.d(Je,{w:()=>Te});var l=k(4829),_=k(9360),H=k(8251);function Te(me,De){return(0,_.e)((Ue,ke)=>{let He=null,re=0,se=!1;const Me=()=>se&&!He&&ke.complete();Ue.subscribe((0,H.x)(ke,pt=>{He?.unsubscribe();let Ge=0;const Pt=re++;(0,l.Xf)(me(pt,Pt)).subscribe(He=(0,H.x)(ke,yt=>ke.next(De?De(pt,yt,Pt,Ge++):yt),()=>{He=null,Me()}))},()=>{se=!0,Me()}))})}},8180:(nn,Je,k)=>{k.d(Je,{q:()=>Te});var l=k(6232),_=k(9360),H=k(8251);function Te(me){return me<=0?()=>l.E:(0,_.e)((De,Ue)=>{let ke=0;De.subscribe((0,H.x)(Ue,He=>{++ke<=me&&(Ue.next(He),me<=ke&&Ue.complete())}))})}},9397:(nn,Je,k)=>{k.d(Je,{b:()=>me});var l=k(4674),_=k(9360),H=k(8251),Te=k(2737);function me(De,Ue,ke){const He=(0,l.m)(De)||Ue||ke?{next:De,error:Ue,complete:ke}:De;return He?(0,_.e)((re,se)=>{var Me;null===(Me=He.subscribe)||void 0===Me||Me.call(He);let pt=!0;re.subscribe((0,H.x)(se,Ge=>{var Pt;null===(Pt=He.next)||void 0===Pt||Pt.call(He,Ge),se.next(Ge)},()=>{var Ge;pt=!1,null===(Ge=He.complete)||void 0===Ge||Ge.call(He),se.complete()},Ge=>{var Pt;pt=!1,null===(Pt=He.error)||void 0===Pt||Pt.call(He,Ge),se.error(Ge)},()=>{var Ge,Pt;pt&&(null===(Ge=He.unsubscribe)||void 0===Ge||Ge.call(He)),null===(Pt=He.finalize)||void 0===Pt||Pt.call(He)}))}):Te.y}},3026:(nn,Je,k)=>{k.d(Je,{T:()=>Te});var l=k(6973),_=k(9360),H=k(8251);function Te(De=me){return(0,_.e)((Ue,ke)=>{let He=!1;Ue.subscribe((0,H.x)(ke,re=>{He=!0,ke.next(re)},()=>He?ke.complete():ke.error(De())))})}function me(){return new l.K}},1954:(nn,Je,k)=>{k.d(Je,{o:()=>me});var l=k(7394);class _ extends l.w0{constructor(Ue,ke){super()}schedule(Ue,ke=0){return this}}const H={setInterval(De,Ue,...ke){const{delegate:He}=H;return He?.setInterval?He.setInterval(De,Ue,...ke):setInterval(De,Ue,...ke)},clearInterval(De){const{delegate:Ue}=H;return(Ue?.clearInterval||clearInterval)(De)},delegate:void 0};var Te=k(9039);class me extends _{constructor(Ue,ke){super(Ue,ke),this.scheduler=Ue,this.work=ke,this.pending=!1}schedule(Ue,ke=0){var He;if(this.closed)return this;this.state=Ue;const re=this.id,se=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(se,re,ke)),this.pending=!0,this.delay=ke,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(se,this.id,ke),this}requestAsyncId(Ue,ke,He=0){return H.setInterval(Ue.flush.bind(Ue,this),He)}recycleAsyncId(Ue,ke,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return ke;null!=ke&&H.clearInterval(ke)}execute(Ue,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(Ue,ke);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ue,ke){let re,He=!1;try{this.work(Ue)}catch(se){He=!0,re=se||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ue,scheduler:ke}=this,{actions:He}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(He,this),null!=Ue&&(this.id=this.recycleAsyncId(ke,Ue,null)),this.delay=null,super.unsubscribe()}}}},2631:(nn,Je,k)=>{k.d(Je,{v:()=>H});var l=k(4552);class _{constructor(me,De=_.now){this.schedulerActionCtor=me,this.now=De}schedule(me,De=0,Ue){return new this.schedulerActionCtor(this,me).schedule(Ue,De)}}_.now=l.l.now;class H extends _{constructor(me,De=_.now){super(me,De),this.actions=[],this._active=!1}flush(me){const{actions:De}=this;if(this._active)return void De.push(me);let Ue;this._active=!0;do{if(Ue=me.execute(me.state,me.delay))break}while(me=De.shift());if(this._active=!1,Ue){for(;me=De.shift();)me.unsubscribe();throw Ue}}}},6321:(nn,Je,k)=>{k.d(Je,{z:()=>H});var l=k(1954);const H=new(k(2631).v)(l.o)},4552:(nn,Je,k)=>{k.d(Je,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(nn,Je,k)=>{k.d(Je,{z:()=>l});const l={setTimeout(_,H,...Te){const{delegate:me}=l;return me?.setTimeout?me.setTimeout(_,H,...Te):setTimeout(_,H,...Te)},clearTimeout(_){const{delegate:H}=l;return(H?.clearTimeout||clearTimeout)(_)},delegate:void 0}},4971:(nn,Je,k)=>{k.d(Je,{h:()=>_});const _=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(nn,Je,k)=>{k.d(Je,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(nn,Je,k)=>{k.d(Je,{K:()=>_});const _=(0,k(2306).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(nn,Je,k)=>{k.d(Je,{_6:()=>De,jO:()=>Te,yG:()=>me});var l=k(4674);function H(Ue){return Ue[Ue.length-1]}function Te(Ue){return(0,l.m)(H(Ue))?Ue.pop():void 0}function me(Ue){return function _(Ue){return Ue&&(0,l.m)(Ue.schedule)}(H(Ue))?Ue.pop():void 0}function De(Ue,ke){return"number"==typeof H(Ue)?Ue.pop():ke}},7453:(nn,Je,k)=>{k.d(Je,{D:()=>me});const{isArray:l}=Array,{getPrototypeOf:_,prototype:H,keys:Te}=Object;function me(Ue){if(1===Ue.length){const ke=Ue[0];if(l(ke))return{args:ke,keys:null};if(function De(Ue){return Ue&&"object"==typeof Ue&&_(Ue)===H}(ke)){const He=Te(ke);return{args:He.map(re=>ke[re]),keys:He}}}return{args:Ue,keys:null}}},9039:(nn,Je,k)=>{function l(_,H){if(_){const Te=_.indexOf(H);0<=Te&&_.splice(Te,1)}}k.d(Je,{P:()=>l})},2306:(nn,Je,k)=>{function l(_){const Te=_(me=>{Error.call(me),me.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}k.d(Je,{d:()=>l})},2714:(nn,Je,k)=>{function l(_,H){return _.reduce((Te,me,De)=>(Te[me]=H[De],Te),{})}k.d(Je,{n:()=>l})},1441:(nn,Je,k)=>{k.d(Je,{O:()=>Te,x:()=>H});var l=k(2653);let _=null;function H(me){if(l.config.useDeprecatedSynchronousErrorHandling){const De=!_;if(De&&(_={errorThrown:!1,error:null}),me(),De){const{errorThrown:Ue,error:ke}=_;if(_=null,Ue)throw ke}}else me()}function Te(me){l.config.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=me)}},7103:(nn,Je,k)=>{function l(_,H,Te,me=0,De=!1){const Ue=H.schedule(function(){Te(),De?_.add(this.schedule(null,me)):this.unsubscribe()},me);if(_.add(Ue),!De)return Ue}k.d(Je,{f:()=>l})},2737:(nn,Je,k)=>{function l(_){return _}k.d(Je,{y:()=>l})},4266:(nn,Je,k)=>{k.d(Je,{z:()=>l});const l=_=>_&&"number"==typeof _.length&&"function"!=typeof _},5726:(nn,Je,k)=>{k.d(Je,{D:()=>_});var l=k(4674);function _(H){return Symbol.asyncIterator&&(0,l.m)(H?.[Symbol.asyncIterator])}},4674:(nn,Je,k)=>{function l(_){return"function"==typeof _}k.d(Je,{m:()=>l})},8382:(nn,Je,k)=>{k.d(Je,{c:()=>H});var l=k(4850),_=k(4674);function H(Te){return(0,_.m)(Te[l.L])}},3664:(nn,Je,k)=>{k.d(Je,{T:()=>H});var l=k(4971),_=k(4674);function H(Te){return(0,_.m)(Te?.[l.h])}},4026:(nn,Je,k)=>{k.d(Je,{t:()=>_});var l=k(4674);function _(H){return(0,l.m)(H?.then)}},541:(nn,Je,k)=>{k.d(Je,{L:()=>Te,Q:()=>H});var l=k(7582),_=k(4674);function H(me){return(0,l.FC)(this,arguments,function*(){const Ue=me.getReader();try{for(;;){const{value:ke,done:He}=yield(0,l.qq)(Ue.read());if(He)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ke)}}finally{Ue.releaseLock()}})}function Te(me){return(0,_.m)(me?.getReader)}},9360:(nn,Je,k)=>{k.d(Je,{A:()=>_,e:()=>H});var l=k(4674);function _(Te){return(0,l.m)(Te?.lift)}function H(Te){return me=>{if(_(me))return me.lift(function(De){try{return Te(De,this)}catch(Ue){this.error(Ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(nn,Je,k)=>{k.d(Je,{Z:()=>Te});var l=k(7398);const{isArray:_}=Array;function Te(me){return(0,l.U)(De=>function H(me,De){return _(De)?me(...De):me(De)}(me,De))}},2420:(nn,Je,k)=>{function l(){}k.d(Je,{Z:()=>l})},8407:(nn,Je,k)=>{k.d(Je,{U:()=>H,z:()=>_});var l=k(2737);function _(...Te){return H(Te)}function H(Te){return 0===Te.length?l.y:1===Te.length?Te[0]:function(De){return Te.reduce((Ue,ke)=>ke(Ue),De)}}},3894:(nn,Je,k)=>{k.d(Je,{h:()=>H});var l=k(2653),_=k(7599);function H(Te){_.z.setTimeout(()=>{const{onUnhandledError:me}=l.config;if(!me)throw Te;me(Te)})}},9853:(nn,Je,k)=>{function l(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Je,{z:()=>l})},6814:(nn,Je,k)=>{k.d(Je,{Do:()=>yt,EM:()=>we,HT:()=>Te,JF:()=>hn,K0:()=>De,Mx:()=>bn,Nd:()=>Ii,O5:()=>Uo,Ov:()=>Gr,PM:()=>jr,S$:()=>pt,V_:()=>ke,Ye:()=>Lt,b0:()=>Pt,bD:()=>Ar,ez:()=>io,mk:()=>vr,q:()=>H,sg:()=>lr,w_:()=>me});var l=k(5879);let _=null;function H(){return _}function Te(b){_||(_=b)}class me{}const De=new l.OlP("DocumentToken");let Ue=(()=>{class b{historyGo(N){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return(0,l.f3M)(He)},providedIn:"platform"})}return b})();const ke=new l.OlP("Location Initialized");let He=(()=>{class b extends Ue{constructor(){super(),this._doc=(0,l.f3M)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(N){const W=H().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",N,!1),()=>W.removeEventListener("popstate",N)}onHashChange(N){const W=H().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",N,!1),()=>W.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,W,ve){this._history.pushState(N,W,ve)}replaceState(N,W,ve){this._history.replaceState(N,W,ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return new b},providedIn:"platform"})}return b})();function re(b,Z){if(0==b.length)return Z;if(0==Z.length)return b;let N=0;return b.endsWith("/")&&N++,Z.startsWith("/")&&N++,2==N?b+Z.substring(1):1==N?b+Z:b+"/"+Z}function se(b){const Z=b.match(/#|\?|$/),N=Z&&Z.index||b.length;return b.slice(0,N-("/"===b[N-1]?1:0))+b.slice(N)}function Me(b){return b&&"?"!==b[0]?"?"+b:b}let pt=(()=>{class b{historyGo(N){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return(0,l.f3M)(Pt)},providedIn:"root"})}return b})();const Ge=new l.OlP("appBaseHref");let Pt=(()=>{class b extends pt{constructor(N,W){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return re(this._baseHref,N)}path(N=!1){const W=this._platformLocation.pathname+Me(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&N?`${W}${ve}`:W}pushState(N,W,ve,lt){const bt=this.prepareExternalUrl(ve+Me(lt));this._platformLocation.pushState(N,W,bt)}replaceState(N,W,ve,lt){const bt=this.prepareExternalUrl(ve+Me(lt));this._platformLocation.replaceState(N,W,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static#e=this.\u0275fac=function(W){return new(W||b)(l.LFG(Ue),l.LFG(Ge,8))};static#t=this.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),yt=(()=>{class b extends pt{constructor(N,W){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(N){const W=re(this._baseHref,N);return W.length>0?"#"+W:W}pushState(N,W,ve,lt){let bt=this.prepareExternalUrl(ve+Me(lt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(N,W,bt)}replaceState(N,W,ve,lt){let bt=this.prepareExternalUrl(ve+Me(lt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(N,W,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static#e=this.\u0275fac=function(W){return new(W||b)(l.LFG(Ue),l.LFG(Ge,8))};static#t=this.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac})}return b})(),Lt=(()=>{class b{constructor(N){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const W=this._locationStrategy.getBaseHref();this._basePath=function Le(b){if(new RegExp("^(https?:)?//").test(b)){const[,N]=b.split(/\/\/[^\/]+/);return N}return b}(se(We(W))),this._locationStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,W=""){return this.path()==this.normalize(N+Me(W))}normalize(N){return b.stripTrailingSlash(function sn(b,Z){if(!b||!Z.startsWith(b))return Z;const N=Z.substring(b.length);return""===N||["/",";","?","#"].includes(N[0])?N:Z}(this._basePath,We(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,W="",ve=null){this._locationStrategy.pushState(ve,"",N,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Me(W)),ve)}replaceState(N,W="",ve=null){this._locationStrategy.replaceState(ve,"",N,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Me(W)),ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",W){this._urlChangeListeners.forEach(ve=>ve(N,W))}subscribe(N,W,ve){return this._subject.subscribe({next:N,error:W,complete:ve})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=se;static#r=this.\u0275fac=function(W){return new(W||b)(l.LFG(pt))};static#i=this.\u0275prov=l.Yz7({token:b,factory:function(){return function wt(){return new Lt((0,l.LFG)(pt))}()},providedIn:"root"})}return b})();function We(b){return b.replace(/\/index.html$/,"")}function bn(b,Z){Z=encodeURIComponent(Z);for(const N of b.split(";")){const W=N.indexOf("="),[ve,lt]=-1==W?[N,""]:[N.slice(0,W),N.slice(W+1)];if(ve.trim()===Z)return decodeURIComponent(lt)}return null}const Pn=/\s+/,dn=[];let vr=(()=>{class b{constructor(N,W,ve,lt){this._iterableDiffers=N,this._keyValueDiffers=W,this._ngEl=ve,this._renderer=lt,this.initialClasses=dn,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(Pn):dn}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(Pn):N}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const W of N)this._updateState(W,!0);else if(null!=N)for(const W of Object.keys(N))this._updateState(W,!!N[W]);this._applyStateDiff()}_updateState(N,W){const ve=this.stateMap.get(N);void 0!==ve?(ve.enabled!==W&&(ve.changed=!0,ve.enabled=W),ve.touched=!0):this.stateMap.set(N,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const W=N[0],ve=N[1];ve.changed?(this._toggleClass(W,ve.enabled),ve.changed=!1):ve.touched||(ve.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),ve.touched=!1}}_toggleClass(N,W){(N=N.trim()).length>0&&N.split(Pn).forEach(ve=>{W?this._renderer.addClass(this._ngEl.nativeElement,ve):this._renderer.removeClass(this._ngEl.nativeElement,ve)})}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return b})();class uo{constructor(Z,N,W,ve){this.$implicit=Z,this.ngForOf=N,this.index=W,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class b{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,W,ve){this._viewContainer=N,this._template=W,this._differs=ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const W=this._viewContainer;N.forEachOperation((ve,lt,bt)=>{if(null==ve.previousIndex)W.createEmbeddedView(this._template,new uo(ve.item,this._ngForOf,-1,-1),null===bt?void 0:bt);else if(null==bt)W.remove(null===lt?void 0:lt);else if(null!==lt){const mn=W.get(lt);W.move(mn,bt),Vo(mn,ve)}});for(let ve=0,lt=W.length;ve<lt;ve++){const mn=W.get(ve).context;mn.index=ve,mn.count=lt,mn.ngForOf=this._ngForOf}N.forEachIdentityChange(ve=>{Vo(W.get(ve.currentIndex),ve)})}static ngTemplateContextGuard(N,W){return!0}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function Vo(b,Z){b.context.$implicit=Z.item}let Uo=(()=>{class b{constructor(N,W){this._viewContainer=N,this._context=new qr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){ws("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){ws("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,W){return!0}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class qr{constructor(){this.$implicit=null,this.ngIf=null}}function ws(b,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,l.AaK)(Z)}'.`)}class hs{createSubscription(Z,N){return(0,l.rg0)(()=>Z.subscribe({next:N,error:W=>{throw W}}))}dispose(Z){(0,l.rg0)(()=>Z.unsubscribe())}}class hi{createSubscription(Z,N){return Z.then(N,W=>{throw W})}dispose(Z){}}const ks=new hi,Xi=new hs;let Gr=(()=>{class b{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,W=>this._updateLatestValue(N,W))}_selectStrategy(N){if((0,l.QGY)(N))return ks;if((0,l.F4k)(N))return Xi;throw function Vi(b,Z){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,W){N===this._obj&&(this._latestValue=W,this._ref.markForCheck())}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.sBO,16))};static#t=this.\u0275pipe=l.Yjl({name:"async",type:b,pure:!1,standalone:!0})}return b})(),Ii=(()=>{class b{constructor(N){this.differs=N,this.keyValues=[],this.compareFn=Wi}transform(N,W=Wi){if(!N||!(N instanceof Map)&&"object"!=typeof N)return null;this.differ||(this.differ=this.differs.find(N).create());const ve=this.differ.diff(N),lt=W!==this.compareFn;return ve&&(this.keyValues=[],ve.forEachItem(bt=>{this.keyValues.push(function Io(b,Z){return{key:b,value:Z}}(bt.key,bt.currentValue))})),(ve||lt)&&(this.keyValues.sort(W),this.compareFn=W),this.keyValues}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.aQg,16))};static#t=this.\u0275pipe=l.Yjl({name:"keyvalue",type:b,pure:!1,standalone:!0})}return b})();function Wi(b,Z){const N=b.key,W=Z.key;if(N===W)return 0;if(void 0===N)return 1;if(void 0===W)return-1;if(null===N)return 1;if(null===W)return-1;if("string"==typeof N&&"string"==typeof W)return N<W?-1:1;if("number"==typeof N&&"number"==typeof W)return N-W;if("boolean"==typeof N&&"boolean"==typeof W)return N<W?-1:1;const ve=String(N),lt=String(W);return ve==lt?0:ve<lt?-1:1}let io=(()=>{class b{static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275mod=l.oAB({type:b});static#n=this.\u0275inj=l.cJS({})}return b})();const Ar="browser",co="server";function jr(b){return b===co}let we=(()=>{class b{static#e=this.\u0275prov=(0,l.Yz7)({token:b,providedIn:"root",factory:()=>new $e((0,l.LFG)(De),window)})}return b})();class $e{constructor(Z,N){this.document=Z,this.window=N,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const N=function gt(b,Z){const N=b.getElementById(Z)||b.getElementsByName(Z)[0];if(N)return N;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const W=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let ve=W.currentNode;for(;ve;){const lt=ve.shadowRoot;if(lt){const bt=lt.getElementById(Z)||lt.querySelector(`[name="${Z}"]`);if(bt)return bt}ve=W.nextNode()}}return null}(this.document,Z);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const N=Z.getBoundingClientRect(),W=N.left+this.window.pageXOffset,ve=N.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(W-lt[0],ve-lt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hn{}},5879:(nn,Je,k)=>{k.d(Je,{$8M:()=>Oc,$WT:()=>Ei,$Z:()=>M,AFp:()=>xm,ALo:()=>rI,AaK:()=>Me,BQk:()=>$,CHM:()=>Bu,CRH:()=>yI,DdM:()=>K0,EJc:()=>Mb,EiD:()=>jp,EpF:()=>bi,F4k:()=>oi,FYo:()=>Fm,FiY:()=>fu,GfV:()=>og,Gpc:()=>Pt,HDt:()=>BI,HTZ:()=>Q0,JOm:()=>Pl,JVY:()=>Fp,JZr:()=>We,KtG:()=>fa,L6k:()=>_m,LAX:()=>ym,LFG:()=>At,LSH:()=>Hp,Lbi:()=>Om,Lck:()=>mT,MAs:()=>pc,MGl:()=>O_,MMx:()=>j0,MR2:()=>Fo,NdJ:()=>Ho,Ojb:()=>Ty,OlP:()=>en,Oqu:()=>Ev,P3R:()=>Gp,PXZ:()=>oD,Q6J:()=>Kf,QGY:()=>Lo,Qsj:()=>Ny,R0b:()=>no,RDi:()=>Rp,Rgc:()=>qg,SBq:()=>Kd,Sil:()=>Ob,Suo:()=>_I,TTD:()=>ir,TgZ:()=>_h,Udp:()=>_v,VKq:()=>Y0,VuI:()=>jD,X6Q:()=>fD,XFs:()=>cn,Xpm:()=>hi,Xq5:()=>Ag,Xts:()=>jl,Y36:()=>T,YKP:()=>U0,YNc:()=>Wf,Yjl:()=>ro,Yz7:()=>_n,Z0I:()=>On,ZZ4:()=>eE,_Bn:()=>V0,_UZ:()=>Cs,_c5:()=>PD,_uU:()=>$E,aQg:()=>tE,c2e:()=>UI,cJS:()=>Mt,cg1:()=>Iv,dDg:()=>tD,dqk:()=>Rn,eBb:()=>Ul,eFA:()=>YI,eJc:()=>Vv,ekj:()=>yv,eoX:()=>WI,f3M:()=>Zt,g9A:()=>wu,h0i:()=>Ih,hGG:()=>MD,hij:()=>F_,iGM:()=>mI,ifc:()=>Gi,ip1:()=>VI,jDz:()=>$0,kL8:()=>l0,lG2:()=>Tr,lcZ:()=>iI,lqb:()=>za,lri:()=>zI,mCW:()=>Bl,n5z:()=>xc,oAB:()=>Ui,oJD:()=>Cm,oxw:()=>EE,pB0:()=>cf,q3G:()=>Zc,q4F:()=>sg,qFp:()=>HD,qLn:()=>ac,qOj:()=>qa,qZA:()=>dl,qzn:()=>Ha,rWj:()=>GI,rg0:()=>lt,s9C:()=>fv,sBO:()=>pD,s_b:()=>H_,soG:()=>G_,tb:()=>Zv,tp0:()=>Ca,uIk:()=>Da,vHH:()=>Le,vpe:()=>Wa,wAp:()=>ep,xp6:()=>f,ynx:()=>R,z2F:()=>ip,z3N:()=>Cu,zSh:()=>Pm,zs3:()=>ba});var l=k(8645),_=k(7394),H=k(5592),Te=k(3019),me=k(5619),De=k(2096),Ue=k(3020),ke=k(4664),He=k(3997);function re(t){for(let n in t)if(t[n]===re)return n;throw Error("Could not find renamed property on target object.")}function se(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function pt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ge=re({__forward_ref__:re});function Pt(t){return t.__forward_ref__=Pt,t.toString=function(){return Me(this())},t}function yt(t){return Lt(t)?t():t}function Lt(t){return"function"==typeof t&&t.hasOwnProperty(Ge)&&t.__forward_ref__===Pt}function wt(t){return t&&!!t.\u0275providers}const We="https://g.co/ng/security#xss";class Le extends Error{constructor(n,i){super(function Xe(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ke(t){return"string"==typeof t?t:null==t?"":String(t)}function Ht(t,n){throw new Le(-201,!1)}function mt(t,n){null==t&&function vt(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function _n(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function En(t){return Vt(t,rn)||Vt(t,Vn)}function On(t){return null!==En(t)}function Vt(t,n){return t.hasOwnProperty(n)?t[n]:null}function wr(t){return t&&(t.hasOwnProperty(sr)||t.hasOwnProperty(Rt))?t[sr]:null}const rn=re({\u0275prov:re}),sr=re({\u0275inj:re}),Vn=re({ngInjectableDef:re}),Rt=re({ngInjectorDef:re});var cn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(cn||{});let Cn;function rr(t){const n=Cn;return Cn=t,n}function ur(t,n,i){const s=En(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&cn.Optional?null:void 0!==n?n:void Ht(Me(t))}const Rn=globalThis;class en{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=_n({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tn={},mr="__NG_DI_FLAG__",Yn="ngTempTokenPath",K=/\n/gm,O="__source";let x;function xe(t){const n=x;return x=t,n}function ft(t,n=cn.Default){if(void 0===x)throw new Le(-203,!1);return null===x?ur(t,void 0,n):x.get(t,n&cn.Optional?null:void 0,n)}function At(t,n=cn.Default){return(function gn(){return Cn}()||ft)(yt(t),n)}function Zt(t,n=cn.Default){return At(t,Jt(n))}function Jt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zn(t){const n=[];for(let i=0;i<t.length;i++){const s=yt(t[i]);if(Array.isArray(s)){if(0===s.length)throw new Le(900,!1);let c,d=cn.Default;for(let y=0;y<s.length;y++){const I=s[y],D=Gn(I);"number"==typeof D?-1===D?c=I.token:d|=D:c=I}n.push(At(c,d))}else n.push(At(s))}return n}function vn(t,n){return t[mr]=n,t.prototype[mr]=n,t}function Gn(t){return t[mr]}function zr(t){return{toString:t}.toString()}var Qi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Qi||{}),Gi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gi||{});const kr={},Wn=[],st=re({\u0275cmp:re}),qe=re({\u0275dir:re}),It=re({\u0275pipe:re}),tn=re({\u0275mod:re}),bn=re({\u0275fac:re}),Pn=re({__NG_ELEMENT_ID__:re}),dn=re({__NG_ENV_ID__:re});function vr(t,n,i){let s=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=n.length;if(c+d===s||t.charCodeAt(c+d)<=32)return c}i=c+1}}function cr(t,n,i){let s=0;for(;s<i.length;){const c=i[s];if("number"==typeof c){if(0!==c)break;s++;const d=i[s++],y=i[s++],I=i[s++];t.setAttribute(n,y,I,d)}else{const d=c,y=i[++s];uo(d)?t.setProperty(n,d,y):t.setAttribute(n,d,y),s++}}return s}function di(t){return 3===t||4===t||6===t}function uo(t){return 64===t.charCodeAt(0)}function lr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:0===i||Vo(t,i,c,null,-1===i||2===i?n[++s]:null)}}return t}function Vo(t,n,i,s,c){let d=0,y=t.length;if(-1===n)y=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===n){y=-1;break}if(I>n){y=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===i){if(null===s)return void(null!==c&&(t[d+1]=c));if(s===t[d+1])return void(t[d+2]=c)}d++,null!==s&&d++,null!==c&&d++}-1!==y&&(t.splice(y,0,n),d=y+1),t.splice(d++,0,i),null!==s&&t.splice(d++,0,s),null!==c&&t.splice(d++,0,c)}const ai="ng-template";function Uo(t,n,i){let s=0,c=!0;for(;s<t.length;){let d=t[s++];if("string"==typeof d&&c){const y=t[s++];if(i&&"class"===d&&-1!==vr(y.toLowerCase(),n,0))return!0}else{if(1===d){for(;s<t.length&&"string"==typeof(d=t[s++]);)if(d.toLowerCase()===n)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function qr(t){return 4===t.type&&t.value!==ai}function ws(t,n,i){return n===(4!==t.type||i?t.value:ai)}function Ji(t,n,i){let s=4;const c=t.attrs||[],d=function _r(t){for(let n=0;n<t.length;n++)if(di(t[n]))return n;return t.length}(c);let y=!1;for(let I=0;I<n.length;I++){const D=n[I];if("number"!=typeof D){if(!y)if(4&s){if(s=2|1&s,""!==D&&!ws(t,D,i)||""===D&&1===n.length){if(ui(s))return!1;y=!0}}else{const L=8&s?D:n[++I];if(8&s&&null!==t.attrs){if(!Uo(t.attrs,L,i)){if(ui(s))return!1;y=!0}continue}const pe=yi(8&s?"class":D,c,qr(t),i);if(-1===pe){if(ui(s))return!1;y=!0;continue}if(""!==L){let Be;Be=pe>d?"":c[pe+1].toLowerCase();const et=8&s?Be:null;if(et&&-1!==vr(et,L,0)||2&s&&L!==Be){if(ui(s))return!1;y=!0}}}}else{if(!y&&!ui(s)&&!ui(D))return!1;if(y&&ui(D))continue;y=!1,s=D|1&s}}return ui(s)||y}function ui(t){return 0==(1&t)}function yi(t,n,i,s){if(null===n)return-1;let c=0;if(s||!i){let d=!1;for(;c<n.length;){const y=n[c];if(y===t)return c;if(3===y||6===y)d=!0;else{if(1===y||2===y){let I=n[++c];for(;"string"==typeof I;)I=n[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=d?1:2}return-1}return function pr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function nr(t,n,i=!1){for(let s=0;s<n.length;s++)if(Ji(t,n[s],i))return!0;return!1}function Mi(t,n){return t?":not("+n.trim()+")":n}function vi(t){let n=t[0],i=1,s=2,c="",d=!1;for(;i<t.length;){let y=t[i];if("string"==typeof y)if(2&s){const I=t[++i];c+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&s?c+="."+y:4&s&&(c+=" "+y);else""!==c&&!ui(y)&&(n+=Mi(d,c),c=""),s=y,d=d||!ui(s);i++}return""!==c&&(n+=Mi(d,c)),n}function hi(t){return zr(()=>{const n=Eo(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gi.Emulated,styles:t.styles||Wn,_:null,schemas:t.schemas||null,tView:null,id:""};ji(i);const s=t.dependencies;return i.directiveDefs=Io(s,!1),i.pipeDefs=Io(s,!0),i.id=function Wi(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Xi(t){return Nn(t)||Wr(t)}function Gr(t){return null!==t}function Ui(t){return zr(()=>({type:t.type,bootstrap:t.bootstrap||Wn,declarations:t.declarations||Wn,imports:t.imports||Wn,exports:t.exports||Wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bi(t,n){if(null==t)return kr;const i={};for(const s in t)if(t.hasOwnProperty(s)){let c=t[s],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),i[c]=s,n&&(n[c]=d)}return i}function Tr(t){return zr(()=>{const n=Eo(t);return ji(n),n})}function ro(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nn(t){return t[st]||null}function Wr(t){return t[qe]||null}function Qr(t){return t[It]||null}function Ei(t){const n=Nn(t)||Wr(t)||Qr(t);return null!==n&&n.standalone}function Er(t,n){const i=t[tn]||null;if(!i&&!0===n)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return i}function Eo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||kr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bi(t.inputs,n),outputs:Bi(t.outputs)}}function ji(t){t.features?.forEach(n=>n(t))}function Io(t,n){if(!t)return null;const i=n?Qr:Xi;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(Gr)}const Nr=0,Qt=1,Fn=2,Qn=3,Ci=4,Ro=5,Zr=6,io=7,Ar=8,co=9,lo=10,kn=11,Ri=12,jr=13,q=14,B=15,ge=16,we=17,$e=18,gt=19,Gt=20,hn=21,St=22,un=23,Zn=24,wn=25,$r=1,Xr=2,Kr=7,$i=9,Jn=11;function Hr(t){return Array.isArray(t)&&"object"==typeof t[$r]}function Ir(t){return Array.isArray(t)&&!0===t[$r]}function zo(t){return 0!=(4&t.flags)}function Oi(t){return t.componentOffset>-1}function Ts(t){return 1==(1&t.flags)}function qi(t){return!!t.template}function Fs(t){return 0!=(512&t[Fn])}function fo(t,n){return t.hasOwnProperty(bn)?t[bn]:null}let Lr=null,Ls=!1;function Fi(t){const n=Lr;return Lr=t,n}const Qa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function As(t){if(!To(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Vs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ns(t){t.dirty=!0,function xo(t){if(void 0===t.liveConsumerNode)return;const n=Ls;Ls=!0;try{for(const i of t.liveConsumerNode)i.dirty||ns(i)}finally{Ls=n}}(t),t.consumerMarkedDirty?.(t)}function Kn(t){return t&&(t.nextProducerIndex=0),Fi(t)}function Ws(t,n){if(Fi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(To(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Bs(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vs(t){rs(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(As(i),s!==i.version))return!0}return!1}function Us(t){if(rs(t),To(t))for(let n=0;n<t.producerNode.length;n++)Bs(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bs(t,n){if(function la(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),rs(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)Bs(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];rs(c),c.producerIndexOfThis[s]=n}}function To(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function rs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let js=null;function lt(t){const n=Fi(null);try{return t()}finally{Fi(n)}}const mn=()=>{},gr=(()=>({...Qa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:mn}))();class Sr{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function ir(){return Yr}function Yr(t){return t.type.prototype.ngOnChanges&&(t.setInput=pi),Vr}function Vr(){const t=go(this),n=t?.current;if(n){const i=t.previous;if(i===kr)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function pi(t,n,i,s){const c=this.declaredInputs[i],d=go(t)||function Ss(t,n){return t[Zi]=n}(t,{previous:kr,current:null}),y=d.current||(d.current={}),I=d.previous,D=I[c];y[c]=new Sr(D&&D.currentValue,n,I===kr),t[s]=n}ir.ngInherit=!0;const Zi="__ngSimpleChanges__";function go(t){return t[Zi]||null}const Hn=function(t,n,i){};function ni(t){for(;Array.isArray(t);)t=t[Nr];return t}function Js(t,n){return ni(n[t])}function Do(t,n){return ni(n[t.index])}function Lu(t,n){return t.data[n]}function Ps(t,n){return t[n]}function ri(t,n){const i=n[t];return Hr(i)?i:i[Nr]}function is(t,n){return null==n?null:t[n]}function _s(t){t[we]=0}function ru(t){1024&t[Fn]||(t[Fn]|=1024,Cc(t,1))}function Ic(t){1024&t[Fn]&&(t[Fn]&=-1025,Cc(t,-1))}function Cc(t,n){let i=t[Qn];if(null===i)return;i[Ro]+=n;let s=i;for(i=i[Qn];null!==i&&(1===n&&1===s[Ro]||-1===n&&0===s[Ro]);)i[Ro]+=n,s=i,i=i[Qn]}const qn={lFrame:J(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Si(){return qn.bindingsEnabled}function Nt(){return qn.lFrame.lView}function Cr(){return qn.lFrame.tView}function Bu(t){return qn.lFrame.contextLView=t,t[Ar]}function fa(t){return qn.lFrame.contextLView=null,t}function oo(){let t=Hi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Hi(){return qn.lFrame.currentTNode}function Ao(t,n){const i=qn.lFrame;i.currentTNode=t,i.isParent=n}function pa(){return qn.lFrame.isParent}function Ma(){qn.lFrame.isParent=!1}function _o(){const t=qn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ss(){return qn.lFrame.bindingIndex++}function Ms(t,n){const i=qn.lFrame;i.bindingIndex=i.bindingRootIndex=t,$u(n)}function $u(t){qn.lFrame.currentDirectiveIndex=t}function jo(){return qn.lFrame.currentQueryIndex}function C(t){qn.lFrame.currentQueryIndex=t}function A(t){const n=t[Qt];return 2===n.type?n.declTNode:1===n.type?t[Zr]:null}function E(t,n,i){if(i&cn.SkipSelf){let c=n,d=t;for(;!(c=c.parent,null!==c||i&cn.Host||(c=A(d),null===c||(d=d[q],10&c.type))););if(null===c)return!1;n=c,t=d}const s=qn.lFrame=F();return s.currentTNode=n,s.lView=t,!0}function S(t){const n=F(),i=t[Qt];qn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function F(){const t=qn.lFrame,n=null===t?null:t.child;return null===n?J(t):n}function J(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function _e(){const t=qn.lFrame;return qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const at=_e;function ot(){const t=_e();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ar(){return qn.lFrame.selectedIndex}function dr(t){qn.lFrame.selectedIndex=t}function Ur(){const t=qn.lFrame;return Lu(t.tView,t.selectedIndex)}let yd=!0;function Hu(){return yd}function _a(t){yd=t}function zu(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:L,ngOnDestroy:Y}=d;y&&(t.contentHooks??=[]).push(-i,y),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),D&&(t.viewHooks??=[]).push(-i,D),L&&((t.viewHooks??=[]).push(i,L),(t.viewCheckHooks??=[]).push(i,L)),null!=Y&&(t.destroyHooks??=[]).push(i,Y)}}function oe(t,n,i){Ce(t,n,3,i)}function fe(t,n,i,s){(3&t[Fn])===i&&Ce(t,n,i,s)}function Q(t,n){let i=t[Fn];(3&i)===n&&(i&=8191,i+=1,t[Fn]=i)}function Ce(t,n,i,s){const d=s??-1,y=n.length-1;let I=0;for(let D=void 0!==s?65535&t[we]:0;D<y;D++)if("number"==typeof n[D+1]){if(I=n[D],null!=s&&I>=s)break}else n[D]<0&&(t[we]+=65536),(I<d||-1==d)&&(zt(t,i,n,D),t[we]=(4294901760&t[we])+D+2),D++}function ze(t,n){Hn(4,t,n);const i=Fi(null);try{n.call(t)}finally{Fi(i),Hn(5,t,n)}}function zt(t,n,i,s){const c=i[s]<0,d=i[s+1],I=t[c?-i[s]:i[s]];c?t[Fn]>>13<t[we]>>16&&(3&t[Fn])===n&&(t[Fn]+=8192,ze(I,d)):ze(I,d)}const Yt=-1;class ii{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function fi(t){return t!==Yt}function vs(t){return 32767&t}function mi(t,n){let i=function Wu(t){return t>>16}(t),s=n;for(;i>0;)s=s[q],i--;return s}let xs=!0;function us(t){const n=xs;return xs=t,n}const qu=255,so=5;let wh=0;const ko={};function Pc(t,n){const i=ya(t,n);if(-1!==i)return i;const s=n[Qt];s.firstCreatePass&&(t.injectorIndex=n.length,Os(s.data,t),Os(n,null),Os(s.blueprint,null));const c=au(t,n),d=t.injectorIndex;if(fi(c)){const y=vs(c),I=mi(c,n),D=I[Qt].data;for(let L=0;L<8;L++)n[d+L]=I[y+L]|D[y+L]}return n[d+8]=c,d}function Os(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ya(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function au(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,c=n;for(;null!==c;){if(s=Cd(c),null===s)return Yt;if(i++,c=c[q],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return Yt}function va(t,n,i){!function ml(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Pn)&&(s=i[Pn]),null==s&&(s=i[Pn]=wh++);const c=s&qu;n.data[t+(c>>so)]|=1<<c}(t,n,i)}function Na(t,n,i){if(i&cn.Optional||void 0!==t)return t;Ht()}function _l(t,n,i,s){if(i&cn.Optional&&void 0===s&&(s=null),!(i&(cn.Self|cn.Host))){const c=t[co],d=rr(void 0);try{return c?c.get(n,s,i&cn.Optional):ur(n,s,i&cn.Optional)}finally{rr(d)}}return Na(s,0,i)}function Ea(t,n,i,s=cn.Default,c){if(null!==t){if(2048&n[Fn]&&!(s&cn.Self)){const y=function cu(t,n,i,s,c){let d=t,y=n;for(;null!==d&&null!==y&&2048&y[Fn]&&!(512&y[Fn]);){const I=vd(d,y,i,s|cn.Self,ko);if(I!==ko)return I;let D=d.parent;if(!D){const L=y[Gt];if(L){const Y=L.get(i,ko,s);if(Y!==ko)return Y}D=Cd(y),y=y[q]}d=D}return c}(t,n,i,s,ko);if(y!==ko)return y}const d=vd(t,n,i,s,ko);if(d!==ko)return d}return _l(n,i,s,c)}function vd(t,n,i,s,c){const d=function yl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Pn)?t[Pn]:void 0;return"number"==typeof n?n>=0?n&qu:Id:n}(i);if("function"==typeof d){if(!E(n,t,s))return s&cn.Host?Na(c,0,s):_l(n,i,s,c);try{let y;if(y=d(s),null!=y||s&cn.Optional)return y;Ht()}finally{at()}}else if("number"==typeof d){let y=null,I=ya(t,n),D=Yt,L=s&cn.Host?n[B][Zr]:null;for((-1===I||s&cn.SkipSelf)&&(D=-1===I?au(t,n):n[I+8],D!==Yt&&Rc(s,!1)?(y=n[Qt],I=vs(D),n=mi(D,n)):I=-1);-1!==I;){const Y=n[Qt];if(bh(d,I,Y.data)){const pe=Ed(I,n,i,y,s,L);if(pe!==ko)return pe}D=n[I+8],D!==Yt&&Rc(s,n[Qt].data[I+8]===L)&&bh(d,I,n)?(y=Y,I=vs(D),n=mi(D,n)):I=-1}}return c}function Ed(t,n,i,s,c,d){const y=n[Qt],I=y.data[t+8],Y=Mc(I,y,i,null==s?Oi(I)&&xs:s!=y&&0!=(3&I.type),c&cn.Host&&d===I);return null!==Y?uu(n,y,Y,I):ko}function Mc(t,n,i,s,c){const d=t.providerIndexes,y=n.data,I=1048575&d,D=t.directiveStart,Y=d>>20,Be=c?I+Y:t.directiveEnd;for(let et=s?I:I+Y;et<Be;et++){const Tt=y[et];if(et<D&&i===Tt||et>=D&&Tt.type===i)return et}if(c){const et=y[D];if(et&&qi(et)&&et.type===i)return D}return null}function uu(t,n,i,s){let c=t[i];const d=n.data;if(function or(t){return t instanceof ii}(c)){const y=c;y.resolving&&function _t(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Le(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}(d[i]));const I=us(y.canSeeViewProviders);y.resolving=!0;const L=y.injectImpl?rr(y.injectImpl):null;E(t,s,cn.Default);try{c=t[i]=y.factory(void 0,d,t,s),n.firstCreatePass&&i>=s.directiveStart&&function gl(t,n,i){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:d}=n.type.prototype;if(s){const y=Yr(n);(i.preOrderHooks??=[]).push(t,y),(i.preOrderCheckHooks??=[]).push(t,y)}c&&(i.preOrderHooks??=[]).push(0-t,c),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],n)}finally{null!==L&&rr(L),us(I),y.resolving=!1,at()}}return c}function bh(t,n,i){return!!(i[n+(t>>so)]&1<<t)}function Rc(t,n){return!(t&cn.Self||t&cn.Host&&n)}class Po{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Ea(this._tNode,this._lView,n,Jt(s),i)}}function Id(){return new Po(oo(),Nt())}function xc(t){return zr(()=>{const n=t.prototype.constructor,i=n[bn]||ta(n),s=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==s;){const d=c[bn]||ta(c);if(d&&d!==i)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function ta(t){return Lt(t)?()=>{const n=ta(yt(t));return n&&n()}:fo(t)}function Cd(t){const n=t[Qt],i=n.type;return 2===i?n.declTNode:1===i?t[Zr]:null}function Oc(t){return function Th(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let c=0;for(;c<s;){const d=i[c];if(di(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<s&&"string"==typeof i[c];)c++;else{if(d===n)return i[c+1];c+=2}}}return null}(oo(),t)}const Fa="__parameters__";function zi(t,n,i){return zr(()=>{const s=function du(t){return function(...i){if(t){const s=t(...i);for(const c in s)this[c]=s[c]}}}(n);function c(...d){if(this instanceof c)return s.apply(this,d),this;const y=new c(...d);return I.annotation=y,I;function I(D,L,Y){const pe=D.hasOwnProperty(Fa)?D[Fa]:Object.defineProperty(D,Fa,{value:[]})[Fa];for(;pe.length<=Y;)pe.push(null);return(pe[Y]=pe[Y]||[]).push(y),D}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Va(t,n){t.forEach(i=>Array.isArray(i)?Va(i,n):n(i))}function Ad(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function vl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Es(t,n,i){let s=Ju(t,n);return s>=0?t[1|s]=i:(s=~s,function Rh(t,n,i,s){let c=t.length;if(c==n)t.push(i,s);else if(1===c)t.push(s,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function El(t,n){const i=Ju(t,n);if(i>=0)return t[1|i]}function Ju(t,n){return function Ia(t,n,i){let s=0,c=t.length>>i;for(;c!==s;){const d=s+(c-s>>1),y=t[d<<i];if(n===y)return d<<i;y>n?c=d:s=d+1}return~(c<<i)}(t,n,1)}const fu=vn(zi("Optional"),8),Ca=vn(zi("SkipSelf"),4);function Sl(t){return 128==(128&t.flags)}var Pl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Pl||{});const em=/^>|^->|<!--|-->|--!>|<!-$/g,Ml=/(<|>)/g,dp="\u200b$1\u200b";const hp=new Map;let nm=0;const Fd="__ngContext__";function Ko(t,n){Hr(n)?(t[Fd]=n[gt],function Q_(t){hp.set(t[gt],t)}(n)):t[Fd]=n}let mp;function Ld(t,n){return mp(t,n)}function jc(t){const n=t[Qn];return Ir(n)?n[Qn]:n}function om(t){return zh(t[Ri])}function Hh(t){return zh(t[Ci])}function zh(t){for(;null!==t&&!Ir(t);)t=t[Ci];return t}function $c(t,n,i,s,c){if(null!=s){let d,y=!1;Ir(s)?d=s:Hr(s)&&(y=!0,s=s[Nr]);const I=ni(s);0===t&&null!==i?null==c?fm(n,i,I):Iu(n,i,I,c||null,!0):1===t&&null!==i?Iu(n,i,I,c||null,!0):2===t?function ef(t,n,i){const s=Yh(t,n);s&&function ry(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,I,y):3===t&&n.destroyNode(I),null!=d&&function Dp(t,n,i,s,c){const d=i[Kr];d!==ni(i)&&$c(n,t,s,d,c);for(let I=Jn;I<i.length;I++){const D=i[I];zc(D[Qt],D,t,n,s,d)}}(n,t,d,i,c)}}function Gh(t,n){return t.createComment(function tm(t){return t.replace(em,n=>n.replace(Ml,dp))}(n))}function Wh(t,n,i){return t.createElement(n,i)}function dm(t,n){const i=t[$i],s=i.indexOf(n);Ic(n),i.splice(s,1)}function qh(t,n){if(t.length<=Jn)return;const i=Jn+n,s=t[i];if(s){const c=s[ge];null!==c&&c!==t&&dm(c,s),n>0&&(t[i-1][Ci]=s[Ci]);const d=vl(t,Jn+n);!function am(t,n){zc(t,n,n[kn],2,null,null),n[Nr]=null,n[Zr]=null}(s[Qt],s);const y=d[$e];null!==y&&y.detachView(d[Qt]),s[Qn]=null,s[Ci]=null,s[Fn]&=-129}return s}function Vd(t,n){if(!(256&n[Fn])){const i=n[kn];n[un]&&Us(n[un]),n[Zn]&&Us(n[Zn]),i.destroyNode&&zc(t,n,i,3,null,null),function lm(t){let n=t[Ri];if(!n)return vp(t[Qt],t);for(;n;){let i=null;if(Hr(n))i=n[Ri];else{const s=n[Jn];s&&(i=s)}if(!i){for(;n&&!n[Ci]&&n!==t;)Hr(n)&&vp(n[Qt],n),n=n[Qn];null===n&&(n=t),Hr(n)&&vp(n[Qt],n),i=n&&n[Ci]}n=i}}(n)}}function vp(t,n){if(!(256&n[Fn])){n[Fn]&=-129,n[Fn]|=256,function hm(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const c=n[i[s]];if(!(c instanceof ii)){const d=i[s+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const I=c[d[y]],D=d[y+1];Hn(4,I,D);try{D.call(I)}finally{Hn(5,I,D)}}else{Hn(4,c,d);try{d.call(c)}finally{Hn(5,c,d)}}}}}(t,n),function Ep(t,n){const i=t.cleanup,s=n[io];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const y=i[d+3];y>=0?s[y]():s[-y].unsubscribe(),d+=2}else i[d].call(s[i[d+1]]);null!==s&&(n[io]=null);const c=n[hn];if(null!==c){n[hn]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,n),1===n[Qt].type&&n[kn].destroy();const i=n[ge];if(null!==i&&Ir(n[Qn])){i!==n[Qn]&&dm(i,n);const s=n[$e];null!==s&&s.detachView(t)}!function J_(t){hp.delete(t[gt])}(n)}}function Ud(t,n,i){return function Zh(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[Nr];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:d}=t.data[s.directiveStart+c];if(d===Gi.None||d===Gi.Emulated)return null}return Do(s,i)}}(t,n.parent,i)}function Iu(t,n,i,s,c){t.insertBefore(n,i,s,c)}function fm(t,n,i){t.appendChild(n,i)}function Kh(t,n,i,s,c){null!==s?Iu(t,n,i,s,c):fm(t,n,i)}function Yh(t,n){return t.parentNode(n)}let Tp,rf,Mp,Vl,wp=function Qh(t,n,i){return 40&t.type?Do(t,i):null};function Xh(t,n,i,s){const c=Ud(t,s,n),d=n[kn],I=function Cp(t,n,i){return wp(t,n,i)}(s.parent||n[Zr],s,n);if(null!=c)if(Array.isArray(i))for(let D=0;D<i.length;D++)Kh(d,c,i[D],I,!1);else Kh(d,c,i,I,!1);void 0!==Tp&&Tp(d,s,n,i,c)}function Hc(t,n){if(null!==n){const i=n.type;if(3&i)return Do(n,t);if(4&i)return Bd(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return Hc(t,s);{const c=t[n.index];return Ir(c)?Bd(-1,c):ni(c)}}if(32&i)return Ld(n,t)()||ni(t[n.index]);{const s=gm(t,n);return null!==s?Array.isArray(s)?s[0]:Hc(jc(t[B]),s):Hc(t,n.next)}}return null}function gm(t,n){return null!==n?t[B][Zr].projection[n.projection]:null}function Bd(t,n){const i=Jn+t+1;if(i<n.length){const s=n[i],c=s[Qt].firstChild;if(null!==c)return Hc(s,c)}return n[Kr]}function jd(t,n,i,s,c,d,y){for(;null!=i;){const I=s[i.index],D=i.type;if(y&&0===n&&(I&&Ko(ni(I),s),i.flags|=2),32!=(32&i.flags))if(8&D)jd(t,n,i.child,s,c,d,!1),$c(n,t,c,I,d);else if(32&D){const L=Ld(i,s);let Y;for(;Y=L();)$c(n,t,c,Y,d);$c(n,t,c,I,d)}else 16&D?bp(t,n,s,i,c,d):$c(n,t,c,I,d);i=y?i.projectionNext:i.next}}function zc(t,n,i,s,c,d){jd(i,s,t.firstChild,n,c,d,!1)}function bp(t,n,i,s,c,d){const y=i[B],D=y[Zr].projection[s.projection];if(Array.isArray(D))for(let L=0;L<D.length;L++)$c(n,t,c,D[L],d);else{let L=D;const Y=y[Qn];Sl(s)&&(L.flags|=128),jd(t,n,L,Y,c,d,!0)}}function $a(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function nf(t,n,i){const{mergedAttrs:s,classes:c,styles:d}=i;null!==s&&cr(t,n,s),null!==c&&$a(t,n,c),null!==d&&function Ap(t,n,i){t.setAttribute(n,"style",i)}(t,n,d)}function Fl(t){return function $d(){if(void 0===rf&&(rf=null,Rn.trustedTypes))try{rf=Rn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rf}()?.createHTML(t)||t}function Rp(t){Mp=t}function Ll(){if(void 0!==Mp)return Mp;if(typeof document<"u")return document;throw new Le(210,!1)}function sf(){if(void 0===Vl&&(Vl=null,Rn.trustedTypes))try{Vl=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vl}function af(t){return sf()?.createHTML(t)||t}function mm(t){return sf()?.createScriptURL(t)||t}class Gc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class Op extends Gc{getTypeName(){return"HTML"}}class sy extends Gc{getTypeName(){return"Style"}}class Np extends Gc{getTypeName(){return"Script"}}class uf extends Gc{getTypeName(){return"URL"}}class kp extends Gc{getTypeName(){return"ResourceURL"}}function Cu(t){return t instanceof Gc?t.changingThisBreaksApplicationSecurity:t}function Ha(t,n){const i=function ay(t){return t instanceof Gc&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${We})`)}return i===n}function Fp(t){return new Op(t)}function _m(t){return new sy(t)}function Ul(t){return new Np(t)}function ym(t){return new uf(t)}function cf(t){return new kp(t)}class uy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Fl(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class cy{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Fl(n),i}}const lf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bl(t){return(t=String(t)).match(lf)?t:"unsafe:"+t}function wa(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Wc(...t){const n={};for(const i of t)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const Lp=wa("area,br,col,hr,img,wbr"),df=wa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hf=wa("rp,rt"),rc=Wc(Lp,Wc(df,wa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wc(hf,wa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wc(hf,df)),ff=wa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qc=Wc(ff,wa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Up=wa("script,style,template");class fy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!rc.hasOwnProperty(i))return this.sanitizedSomething=!0,!Up.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let c=0;c<s.length;c++){const d=s.item(c),y=d.name,I=y.toLowerCase();if(!qc.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let D=d.value;ff[I]&&(D=Bl(D)),this.buf.push(" ",y,'="',Bp(D),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();rc.hasOwnProperty(i)&&!Lp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Bp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const py=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gy=/([^\#-~ |!])/g;function Bp(t){return t.replace(/&/g,"&amp;").replace(py,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(gy,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pf;function jp(t,n){let i=null;try{pf=pf||function vm(t){const n=new cy(t);return function ly(){try{return!!(new window.DOMParser).parseFromString(Fl(""),"text/html")}catch{return!1}}()?new uy(n):n}(t);let s=n?String(n):"";i=pf.getInertBodyElement(s);let c=5,d=s;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,s=d,d=i.innerHTML,i=pf.getInertBodyElement(s)}while(s!==d);return Fl((new fy).sanitizeChildren($p(i)||i))}finally{if(i){const s=$p(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function $p(t){return"content"in t&&function my(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Zc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zc||{});function Cm(t){const n=yr();return n?af(n.sanitize(Zc.HTML,t)||""):Ha(t,"HTML")?af(Cu(t)):jp(Ll(),Ke(t))}function Hp(t){const n=yr();return n?n.sanitize(Zc.URL,t)||"":Ha(t,"URL")?Cu(t):Bl(Ke(t))}function wm(t){const n=yr();if(n)return mm(n.sanitize(Zc.RESOURCE_URL,t)||"");if(Ha(t,"ResourceURL"))return mm(Cu(t));throw new Le(904,!1)}function Gp(t,n,i){return function Dm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?wm:Hp}(n,i)(t)}function yr(){const t=Nt();return t&&t[lo].sanitizer}const jl=new en("ENVIRONMENT_INITIALIZER"),qp=new en("INJECTOR",-1),$l=new en("INJECTOR_DEF_TYPES");class gf{get(n,i=Tn){if(i===Tn){const s=new Error(`NullInjectorError: No provider for ${Me(n)}!`);throw s.name="NullInjectorError",s}return i}}function Fo(t){return{\u0275providers:t}}function ao(...t){return{\u0275providers:Ta(0,t),\u0275fromNgModule:!0}}function Ta(t,...n){const i=[],s=new Set;let c;const d=y=>{i.push(y)};return Va(n,y=>{const I=y;mf(I,d,[],s)&&(c||=[],c.push(I))}),void 0!==c&&Am(c,d),i}function Am(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:c}=t[i];Zp(c,d=>{n(d,s)})}}function mf(t,n,i,s){if(!(t=yt(t)))return!1;let c=null,d=wr(t);const y=!d&&Nn(t);if(d||y){if(y&&!y.standalone)return!1;c=t}else{const D=t.ngModule;if(d=wr(D),!d)return!1;c=D}const I=s.has(c);if(y){if(I)return!1;if(s.add(c),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const L of D)mf(L,n,i,s)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let L;s.add(c);try{Va(d.imports,Y=>{mf(Y,n,i,s)&&(L||=[],L.push(Y))})}finally{}void 0!==L&&Am(L,n)}if(!I){const L=fo(c)||(()=>new c);n({provide:c,useFactory:L,deps:Wn},c),n({provide:$l,useValue:c,multi:!0},c),n({provide:jl,useValue:()=>At(c),multi:!0},c)}const D=d.providers;if(null!=D&&!I){const L=t;Zp(D,Y=>{n(Y,L)})}}}return c!==t&&void 0!==t.providers}function Zp(t,n){for(let i of t)wt(i)&&(i=i.\u0275providers),Array.isArray(i)?Zp(i,n):n(i)}const Kp=re({provide:String,useValue:re});function Yp(t){return null!==t&&"object"==typeof t&&Kp in t}function Kc(t){return"function"==typeof t}const Pm=new en("Set Injector scope."),yf={},Ki={};let vf;function Ef(){return void 0===vf&&(vf=new gf),vf}class za{}class Yc extends za{get destroyed(){return this._destroyed}constructor(n,i,s,c){super(),this.parent=i,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qc(n,y=>this.processProvider(y)),this.records.set(qp,Hd(void 0,this)),c.has("environment")&&this.records.set(za,Hd(void 0,this));const d=this.records.get(Pm);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get($l.multi,Wn,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=xe(this),s=rr(void 0);try{return n()}finally{xe(i),rr(s)}}get(n,i=Tn,s=cn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(dn))return n[dn](this);s=Jt(s);const d=xe(this),y=rr(void 0);try{if(!(s&cn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const L=function Rm(t){return"function"==typeof t||"object"==typeof t&&t instanceof en}(n)&&En(n);D=L&&this.injectableDefInScope(L)?Hd(Qp(n),yf):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(s&cn.Self?Ef():this.parent).get(n,i=s&cn.Optional&&i===Tn?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[Yn]=I[Yn]||[]).unshift(Me(n)),d)throw I;return function Li(t,n,i,s){const c=t[Yn];throw n[O]&&c.unshift(n[O]),t.message=function Ai(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Me(n);if(Array.isArray(n))c=n.map(Me).join(" -> ");else if("object"==typeof n){let d=[];for(let y in n)if(n.hasOwnProperty(y)){let I=n[y];d.push(y+":"+("string"==typeof I?JSON.stringify(I):Me(I)))}c=`{${d.join(", ")}}`}return`${i}${s?"("+s+")":""}[${c}]: ${t.replace(K,"\n  ")}`}("\n"+t.message,c,i,s),t.ngTokenPath=c,t[Yn]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{rr(y),xe(d)}}resolveInjectorInitializers(){const n=xe(this),i=rr(void 0);try{const c=this.get(jl.multi,Wn,cn.Self);for(const d of c)d()}finally{xe(n),rr(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Me(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(n){let i=Kc(n=yt(n))?n:yt(n&&n.provide);const s=function Iy(t){return Yp(t)?Hd(void 0,t.useValue):Hd(Mm(t),yf)}(n);if(Kc(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=Hd(void 0,yf,!0),c.factory=()=>zn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===yf&&(i.value=Ki,i.value=i.factory()),"object"==typeof i.value&&i.value&&function wy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=yt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Qp(t){const n=En(t),i=null!==n?n.factory:fo(t);if(null!==i)return i;if(t instanceof en)throw new Le(204,!1);if(t instanceof Function)return function Ey(t){const n=t.length;if(n>0)throw function Qu(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}(n,"?"),new Le(204,!1);const i=function xt(t){return t&&(t[rn]||t[Vn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Le(204,!1)}function Mm(t,n,i){let s;if(Kc(t)){const c=yt(t);return fo(c)||Qp(c)}if(Yp(t))s=()=>yt(t.useValue);else if(function Sm(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...zn(t.deps||[]));else if(function _f(t){return!(!t||!t.useExisting)}(t))s=()=>At(yt(t.useExisting));else{const c=yt(t&&(t.useClass||t.provide));if(!function Cy(t){return!!t.deps}(t))return fo(c)||Qp(c);s=()=>new c(...zn(t.deps))}return s}function Hd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Qc(t,n){for(const i of t)Array.isArray(i)?Qc(i,n):i&&wt(i)?Qc(i.\u0275providers,n):n(i)}const xm=new en("AppId",{providedIn:"root",factory:()=>ic}),ic="ng",wu=new en("Platform Initializer"),Om=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ty=new en("CSP nonce",{providedIn:"root",factory:()=>Ll().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zl=(t,n,i)=>null;function Kl(t,n,i=!1){return Zl(t,n,i)}class oE{}class xy{}class Oy{resolveComponentFactory(n){throw function rg(t){const n=Error(`No component factory found for ${Me(t)}.`);return n.ngComponent=t,n}(n)}}let Tf=(()=>{class t{static#e=this.NULL=new Oy}return t})();function bf(){return Jl(oo(),Nt())}function Jl(t,n){return new Kd(Do(t,n))}let Kd=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=bf}return t})();function Df(t){return t instanceof Kd?t.nativeElement:t}class Fm{}let Ny=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Lm(){const t=Nt(),i=ri(oo().index,t);return(Hr(i)?i:t)[kn]}()}return t})(),Vm=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>null})}return t})();class og{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const sg=new og("16.2.12"),Af={};function sc(t,n=null,i=null,s){const c=$m(t,n,i,s);return c.resolveInjectorInitializers(),c}function $m(t,n=null,i=null,s,c=new Set){const d=[i||Wn,ao(t)];return s=s||("object"==typeof t?void 0:Me(t)),new Yc(d,n||Ef(),s||null,c)}let ba=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Tn;static#t=this.NULL=new gf;static create(i,s){if(Array.isArray(i))return sc({name:""},s,i,"");{const c=i.name??"";return sc({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=_n({token:t,providedIn:"any",factory:()=>At(qp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ag(t){return t.ngOriginalError}class ac{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ag(n);for(;i&&ag(i);)i=ag(i);return i||null}}function cg(t){return n=>{setTimeout(t,void 0,n)}}const Wa=class Ly extends l.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let c=n,d=i||(()=>null),y=s;if(n&&"object"==typeof n){const D=n;c=D.next?.bind(D),d=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(d=cg(d),c&&(c=cg(c)),y&&(y=cg(y)));const I=super.subscribe({next:c,error:d,complete:y});return n instanceof _.w0&&n.add(I),I}};function zm(...t){}class no{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&i,c.shouldCoalesceRunChangeDetection=s,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Vy(){const t="function"==typeof Rn.requestAnimationFrame;let n=Rn[t?"requestAnimationFrame":"setTimeout"],i=Rn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function By(t){const n=()=>{!function Uy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dg(t),t.isCheckStableRunning=!0,Gm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,c,d,y,I)=>{if(function hE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,d,y,I);try{return Wm(t),i.invokeTask(c,d,y,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),qm(t)}},onInvoke:(i,s,c,d,y,I,D)=>{try{return Wm(t),i.invoke(c,d,y,I,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),qm(t)}},onHasTask:(i,s,c,d)=>{i.hasTask(c,d),s===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,dg(t),Gm(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,s,c,d)=>(i.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(no.isInAngularZone())throw new Le(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,c){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+c,n,lg,zm,zm);try{return d.runTask(y,i,s)}finally{d.cancelTask(y)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const lg={};function Gm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Wm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qm(t){t._nesting--,Gm(t)}class dE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wa,this.onMicrotaskEmpty=new Wa,this.onStable=new Wa,this.onError=new Wa}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,c){return n.apply(i,s)}}const jy=new en("",{providedIn:"root",factory:$y});function $y(){const t=Zt(no);let n=!0;const i=new H.y(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),s=new H.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const y=t.onUnstable.subscribe(()=>{no.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),y.unsubscribe()}});return(0,Te.T)(i,s.pipe((0,Ue.B)()))}function Du(t){return t instanceof Function?t():t}let hg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Qd(t){for(;t;){t[Fn]|=64;const n=jc(t);if(Fs(t)&&!n)return t;t=n}return null}const Wy=new en("",{providedIn:"root",factory:()=>!1});let ed=null;function Jd(t,n){return t[n]??o()}function a(t,n){const i=o();i.producerNode?.length&&(t[n]=ed,i.lView=t,ed=r())}const e={...Qa,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qd(t.lView)},lView:null};function r(){return Object.create(e)}function o(){return ed??=r(),ed}const u={};function f(t){m(Cr(),Nt(),ar()+t,!1)}function m(t,n,i,s){if(!s)if(3==(3&n[Fn])){const d=t.preOrderCheckHooks;null!==d&&oe(n,d,i)}else{const d=t.preOrderHooks;null!==d&&fe(n,d,0,i)}dr(i)}function T(t,n=cn.Default){const i=Nt();return null===i?At(t,n):Ea(oo(),i,yt(t),n)}function M(){throw new Error("invalid")}function ee(t,n,i,s,c,d,y,I,D,L,Y){const pe=n.blueprint.slice();return pe[Nr]=c,pe[Fn]=140|s,(null!==L||t&&2048&t[Fn])&&(pe[Fn]|=2048),_s(pe),pe[Qn]=pe[q]=t,pe[Ar]=i,pe[lo]=y||t&&t[lo],pe[kn]=I||t&&t[kn],pe[co]=D||t&&t[co]||null,pe[Zr]=d,pe[gt]=function rm(){return nm++}(),pe[St]=Y,pe[Gt]=L,pe[B]=2==n.type?t[B]:pe,pe}function he(t,n,i,s,c){let d=t.data[n];if(null===d)d=function Re(t,n,i,s,c){const d=Hi(),y=pa(),D=t.data[n]=function nt(t,n,i,s,c,d){let y=n?n.injectorIndex:-1,I=0;return function Xs(){return null!==qn.skipHydrationRootTNode}()&&(I|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,i,n,s,c);return null===t.firstChild&&(t.firstChild=D),null!==d&&(y?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(t,n,i,s,c),function Ac(){return qn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=s,d.attrs=c;const y=function Pa(){const t=qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===y?-1:y.injectorIndex}return Ao(d,!0),d}function it(t,n,i,s){if(0===i)return-1;const c=n.length;for(let d=0;d<i;d++)n.push(s),t.blueprint.push(s),t.data.push(null);return c}function Ot(t,n,i,s,c){const d=Jd(n,un),y=ar(),I=2&s;try{dr(-1),I&&n.length>wn&&m(t,n,wn,!1),Hn(I?2:0,c);const L=I?d:null,Y=Kn(L);try{null!==L&&(L.dirty=!1),i(s,c)}finally{Ws(L,Y)}}finally{I&&null===n[un]&&a(n,un),dr(y),Hn(I?3:1,c)}}function Kt(t,n,i){if(zo(n)){const s=Fi(null);try{const d=n.directiveEnd;for(let y=n.directiveStart;y<d;y++){const I=t.data[y];I.contentQueries&&I.contentQueries(1,i[y],y)}}finally{Fi(s)}}}function $t(t,n,i){Si()&&(function Xy(t,n,i,s){const c=i.directiveStart,d=i.directiveEnd;Oi(i)&&function gg(t,n,i){const s=Do(n,t),c=Bn(i);let y=16;i.signals?y=4096:i.onPush&&(y=64);const I=nd(t,ee(t,c,null,y,s,n,null,t[lo].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=I}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Pc(i,n),Ko(s,n);const y=i.initialInputs;for(let I=c;I<d;I++){const D=t.data[I],L=uu(n,t,I,i);Ko(L,n),null!==y&&t_(0,I-c,L,D,0,y),qi(D)&&(ri(i.index,n)[Ar]=uu(n,t,I,i))}}(t,n,i,Do(i,n)),64==(64&i.flags)&&td(t,n,i))}function An(t,n,i=Do){const s=n.localNames;if(null!==s){let c=n.index+1;for(let d=0;d<s.length;d+=2){const y=s[d+1],I=-1===y?i(n,t):t[y];t[c++]=I}}}function Bn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Mn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Mn(t,n,i,s,c,d,y,I,D,L,Y){const pe=wn+s,Be=pe+c,et=function hr(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:u);return i}(pe,Be),Tt="function"==typeof L?L():L;return et[Qt]={type:t,blueprint:et,template:i,queries:null,viewQuery:I,declTNode:n,data:et.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Tt,incompleteFirstPass:!1,ssrId:Y}}let Ze=t=>null;function ct(t,n,i,s){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const d=t[c];null===s?Oe(i,n,c,d):s.hasOwnProperty(c)&&Oe(i,n,s[c],d)}return i}function Oe(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function Hs(t,n,i,s,c,d,y,I){const D=Do(n,i);let Y,L=n.inputs;!I&&null!=L&&(Y=L[s])?(Qo(t,i,Y,s,c),Oi(n)&&function eh(t,n){const i=ri(n,t);16&i[Fn]||(i[Fn]|=64)}(i,n.index)):3&n.type&&(s=function Xd(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),c=null!=y?y(c,n.value||"",s):c,d.setProperty(D,s,c))}function Mf(t,n,i,s){if(Si()){const c=null===s?null:{"":-1},d=function nh(t,n){const i=t.directiveRegistry;let s=null,c=null;if(i)for(let d=0;d<i.length;d++){const y=i[d];if(nr(n,y.selectors,!1))if(s||(s=[]),qi(y))if(null!==y.findHostDirectiveDefs){const I=[];c=c||new Map,y.findHostDirectiveDefs(y,I,c),s.unshift(...I,y),fg(t,n,I.length)}else s.unshift(y),fg(t,n,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,s,c),s.push(y)}return null===s?null:[s,c]}(t,i);let y,I;null===d?y=I=null:[y,I]=d,null!==y&&e_(t,n,i,y,c,I),c&&function tv(t,n,i){if(n){const s=t.localNames=[];for(let c=0;c<n.length;c+=2){const d=i[n[c+1]];if(null==d)throw new Le(-301,!1);s.push(n[c],d)}}}(i,s,c)}i.mergedAttrs=lr(i.mergedAttrs,i.attrs)}function e_(t,n,i,s,c,d){for(let L=0;L<s.length;L++)va(Pc(i,n),t,s[L].type);!function xf(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let L=0;L<s.length;L++){const Y=s[L];Y.providersResolver&&Y.providersResolver(Y)}let y=!1,I=!1,D=it(t,n,s.length,null);for(let L=0;L<s.length;L++){const Y=s[L];i.mergedAttrs=lr(i.mergedAttrs,Y.hostAttrs),pg(t,i,n,D,Y),Rf(D,Y,c),null!==Y.contentQueries&&(i.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(i.flags|=64);const pe=Y.type.prototype;!y&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),y=!0),!I&&(pe.ngOnChanges||pe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),D++}!function Au(t,n,i){const c=n.directiveEnd,d=t.data,y=n.attrs,I=[];let D=null,L=null;for(let Y=n.directiveStart;Y<c;Y++){const pe=d[Y],Be=i?i.get(pe):null,Tt=Be?Be.outputs:null;D=ct(pe.inputs,Y,D,Be?Be.inputs:null),L=ct(pe.outputs,Y,L,Tt);const Wt=null===D||null===y||qr(n)?null:nv(D,Y,y);I.push(Wt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=D,n.outputs=L}(t,i,d)}function td(t,n,i){const s=i.directiveStart,c=i.directiveEnd,d=i.index,y=function Ra(){return qn.lFrame.currentDirectiveIndex}();try{dr(d);for(let I=s;I<c;I++){const D=t.data[I],L=n[I];$u(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&ev(D,L)}}finally{dr(-1),$u(y)}}function ev(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function fg(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Rf(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;qi(n)&&(i[""]=t)}}function pg(t,n,i,s,c){t.data[s]=c;const d=c.factory||(c.factory=fo(c.type)),y=new ii(d,qi(c),T);t.blueprint[s]=y,i[s]=y,function cc(t,n,i,s,c){const d=c.hostBindings;if(d){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const I=~n.index;(function ls(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(y)!=I&&y.push(I),y.push(i,s,d)}}(t,n,s,it(t,i,c.hostVars,u),c)}function na(t,n,i,s,c,d){const y=Do(t,n);!function rh(t,n,i,s,c,d,y){if(null==d)t.removeAttribute(n,c,i);else{const I=null==y?Ke(d):y(d,s||"",c);t.setAttribute(n,c,I,i)}}(n[kn],y,d,t.value,i,s,c)}function t_(t,n,i,s,c,d){const y=d[n];if(null!==y)for(let I=0;I<y.length;)mg(s,i,y[I++],y[I++],y[I++])}function mg(t,n,i,s,c){const d=Fi(null);try{const y=t.inputTransforms;null!==y&&y.hasOwnProperty(s)&&(c=y[s].call(n,c)),null!==t.setInput?t.setInput(n,c,i,s):n[s]=c}finally{Fi(d)}}function nv(t,n,i){let s=null,c=0;for(;c<i.length;){const d=i[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===s&&(s=[]);const y=t[d];for(let I=0;I<y.length;I+=2)if(y[I]===n){s.push(d,y[I+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function _g(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function yg(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const d=i[s+1];if(-1!==d){const y=t.data[d];C(i[s]),y.contentQueries(2,n[d],d)}}}function nd(t,n){return t[Ri]?t[jr][Ci]=n:t[Ri]=n,t[jr]=n,n}function Of(t,n,i){C(0);const s=Fi(null);try{n(t,i)}finally{Fi(s)}}function Nf(t){return t[io]||(t[io]=[])}function kf(t){return t.cleanup||(t.cleanup=[])}function Yo(t,n){const i=t[co],s=i?i.get(ac,null):null;s&&s.handleError(n)}function Qo(t,n,i,s,c){for(let d=0;d<i.length;){const y=i[d++],I=i[d++];mg(t.data[y],n[y],s,I,c)}}function n_(t,n){const i=ri(n,t),s=i[Qt];!function r_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const c=i[Nr];null!==c&&null===i[St]&&(i[St]=Kl(c,i[co])),vg(s,i,i[Ar])}function vg(t,n,i){S(n);try{const s=t.viewQuery;null!==s&&Of(1,s,i);const c=t.template;null!==c&&Ot(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yg(t,n),t.staticViewQueries&&Of(2,t.viewQuery,i);const d=t.components;null!==d&&function ih(t,n){for(let i=0;i<n.length;i++)n_(t,n[i])}(n,d)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[Fn]&=-5,ot()}}let Eg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,c){const d=typeof Zone>"u"?null:Zone.current,y=function bt(t,n,i){const s=Object.create(gr);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const c=y=>{s.cleanupFn=y};return s.ref={notify:()=>ns(s),run:()=>{if(s.dirty=!1,s.hasRun&&!Vs(s))return;s.hasRun=!0;const y=Kn(s);try{s.cleanupFn(),s.cleanupFn=mn,s.fn(c)}finally{Ws(s,y)}},cleanup:()=>s.cleanupFn()},s.ref}(i,L=>{this.all.has(L)&&this.queue.set(L,d)},c);let I;this.all.add(y),y.notify();const D=()=>{y.cleanup(),I?.(),this.all.delete(y),this.queue.delete(y)};return I=s?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function rd(t,n,i){let s=i?t.styles:null,c=i?t.classes:null,d=0;if(null!==n)for(let y=0;y<n.length;y++){const I=n[y];"number"==typeof I?d=I:1==d?c=pt(c,I):2==d&&(s=pt(s,I+": "+n[++y]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=c:t.classesWithoutHost=c}function oh(t,n,i,s,c=!1){for(;null!==i;){const d=n[i.index];null!==d&&s.push(ni(d)),Ir(d)&&o_(d,s);const y=i.type;if(8&y)oh(t,n,i.child,s);else if(32&y){const I=Ld(i,n);let D;for(;D=I();)s.push(D)}else if(16&y){const I=gm(n,i);if(Array.isArray(I))s.push(...I);else{const D=jc(n[B]);oh(D[Qt],D,I,s,!0)}}i=c?i.projectionNext:i.next}return s}function o_(t,n){for(let i=Jn;i<t.length;i++){const s=t[i],c=s[Qt].firstChild;null!==c&&oh(s[Qt],s,c,n)}t[Kr]!==t[Nr]&&n.push(t[Kr])}function id(t,n,i,s=!0){const c=n[lo],d=c.rendererFactory,y=c.afterRenderEventManager;d.begin?.(),y?.begin();try{od(t,n,t.template,i)}catch(D){throw s&&Yo(n,D),D}finally{d.end?.(),c.effectManager?.flush(),y?.end()}}function od(t,n,i,s){const c=n[Fn];if(256!=(256&c)){n[lo].effectManager?.flush(),S(n);try{_s(n),function su(t){return qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Ot(t,n,i,2,s);const y=3==(3&c);if(y){const L=t.preOrderCheckHooks;null!==L&&oe(n,L,null)}else{const L=t.preOrderHooks;null!==L&&fe(n,L,0,null),Q(n,0)}if(function Ig(t){for(let n=om(t);null!==n;n=Hh(n)){if(!n[Xr])continue;const i=n[$i];for(let s=0;s<i.length;s++){ru(i[s])}}}(n),Lf(n,2),null!==t.contentQueries&&yg(t,n),y){const L=t.contentCheckHooks;null!==L&&oe(n,L)}else{const L=t.contentHooks;null!==L&&fe(n,L,1),Q(n,1)}!function j(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Jd(n,Zn);try{for(let c=0;c<i.length;c++){const d=i[c];if(d<0)dr(~d);else{const y=d,I=i[++c],D=i[++c];Ms(I,y),s.dirty=!1;const L=Kn(s);try{D(2,n[y])}finally{Ws(s,L)}}}}finally{null===n[Zn]&&a(n,Zn),dr(-1)}}(t,n);const I=t.components;null!==I&&sh(n,I,0);const D=t.viewQuery;if(null!==D&&Of(2,D,s),y){const L=t.viewCheckHooks;null!==L&&oe(n,L)}else{const L=t.viewHooks;null!==L&&fe(n,L,2),Q(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Fn]&=-73,Ic(n)}finally{ot()}}}function Lf(t,n){for(let i=om(t);null!==i;i=Hh(i))for(let s=Jn;s<i.length;s++)Cg(i[s],n)}function ol(t,n,i){Cg(ri(n,t),i)}function Cg(t,n){if(!function tu(t){return 128==(128&t[Fn])}(t))return;const i=t[Qt],s=t[Fn];if(80&s&&0===n||1024&s||2===n)od(i,t,i.template,t[Ar]);else if(t[Ro]>0){Lf(t,1);const c=i.components;null!==c&&sh(t,c,1)}}function sh(t,n,i){for(let s=0;s<n.length;s++)ol(t,n[s],i)}class sd{get rootNodes(){const n=this._lView,i=n[Qt];return oh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ar]}set context(n){this._lView[Ar]=n}get destroyed(){return 256==(256&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Qn];if(Ir(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(qh(n,s),vl(i,s))}this._attachedToViewContainer=!1}Vd(this._lView[Qt],this._lView)}onDestroy(n){!function wc(t,n){if(256==(256&t[Fn]))throw new Le(911,!1);null===t[hn]&&(t[hn]=[]),t[hn].push(n)}(this._lView,n)}markForCheck(){Qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-129}reattach(){this._lView[Fn]|=128}detectChanges(){id(this._lView[Qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cm(t,n){zc(t,n,n[kn],2,null,null)}(this._lView[Qt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=n}}class ah extends sd{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;id(n[Qt],n,n[Ar],!1)}checkNoChanges(){}get context(){return null}}class wg extends Tf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Nn(n);return new Su(i,this.ngModule)}}function ds(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class uh{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=Jt(s);const c=this.injector.get(n,Af,s);return c!==Af||i===Af?c:this.parentInjector.get(n,i,s)}}class Su extends xy{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=ds(n.inputs);if(null!==i)for(const c of s)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return s}get outputs(){return ds(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Vi(t){return t.map(vi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,c){let d=(c=c||this.ngModule)instanceof za?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const y=d?new uh(n,d):n,I=y.get(Fm,null);if(null===I)throw new Le(407,!1);const pe={rendererFactory:I,sanitizer:y.get(Vm,null),effectManager:y.get(Eg,null),afterRenderEventManager:y.get(hg,null)},Be=I.createRenderer(null,this.componentDef),et=this.componentDef.selectors[0][0]||"div",Tt=s?function li(t,n,i,s){const d=s.get(Wy,!1)||i===Gi.ShadowDom,y=t.selectRootElement(n,d);return function Mr(t){Ze(t)}(y),y}(Be,s,this.componentDef.encapsulation,y):Wh(Be,et,function a_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(et)),jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let jt=null;null!==Tt&&(jt=Kl(Tt,y,!0));const fr=Mn(0,null,null,1,0,null,null,null,null,null,null),Br=ee(null,fr,null,jn,null,null,pe,Be,y,null,jt);let Pi,aa;S(Br);try{const hl=this.componentDef;let op,rE=null;hl.findHostDirectiveDefs?(op=[],rE=new Map,hl.findHostDirectiveDefs(hl,op,rE),op.push(hl)):op=[hl];const zD=function ov(t,n){const i=t[Qt],s=wn;return t[s]=n,he(i,s,2,"#host",null)}(Br,Tt),GD=function ad(t,n,i,s,c,d,y){const I=c[Qt];!function sv(t,n,i,s){for(const c of t)n.mergedAttrs=lr(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(rd(n,n.mergedAttrs,!0),null!==i&&nf(s,i,n))}(s,t,n,y);let D=null;null!==n&&(D=Kl(n,c[co]));const L=d.rendererFactory.createRenderer(n,i);let Y=16;i.signals?Y=4096:i.onPush&&(Y=64);const pe=ee(c,Bn(i),null,Y,c[t.index],t,d,L,null,null,D);return I.firstCreatePass&&fg(I,t,s.length-1),nd(c,pe),c[t.index]=pe}(zD,Tt,hl,op,Br,pe,Be);aa=Lu(fr,wn),Tt&&function Vf(t,n,i,s){if(s)cr(t,i,["ng-version",sg.full]);else{const{attrs:c,classes:d}=function hs(t){const n=[],i=[];let s=1,c=2;for(;s<t.length;){let d=t[s];if("string"==typeof d)2===c?""!==d&&n.push(d,t[++s]):8===c&&i.push(d);else{if(!ui(c))break;c=d}s++}return{attrs:n,classes:i}}(n.selectors[0]);c&&cr(t,i,c),d&&d.length>0&&$a(t,i,d.join(" "))}}(Be,hl,Tt,s),void 0!==i&&function u_(t,n,i){const s=t.projection=[];for(let c=0;c<n.length;c++){const d=i[c];s.push(null!=d?Array.from(d):null)}}(aa,this.ngContentSelectors,i),Pi=function av(t,n,i,s,c,d){const y=oo(),I=c[Qt],D=Do(y,c);e_(I,c,y,i,null,s);for(let Y=0;Y<i.length;Y++)Ko(uu(c,I,y.directiveStart+Y,y),c);td(I,c,y),D&&Ko(D,c);const L=uu(c,I,y.directiveStart+y.componentOffset,y);if(t[Ar]=c[Ar]=L,null!==d)for(const Y of d)Y(L,n);return Kt(I,y,t),L}(GD,hl,op,rE,Br,[Tg]),vg(fr,Br,null)}finally{ot()}return new iv(this.componentType,Pi,Jl(aa,Br),Br,aa)}}class iv extends oE{constructor(n,i,s,c,d){super(),this.location=s,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new ah(c),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const d=this._rootLView;Qo(d[Qt],d,c,n,i),this.previousInputValues.set(n,i),Qd(ri(this._tNode.index,d))}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Tg(){const t=oo();zu(Nt()[Qt],t)}function qa(t){let n=function ch(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let c;if(qi(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Le(903,!1);c=n.\u0275dir}if(c){if(i){s.push(c);const y=t;y.inputs=lh(t.inputs),y.inputTransforms=lh(t.inputTransforms),y.declaredInputs=lh(t.declaredInputs),y.outputs=lh(t.outputs);const I=c.hostBindings;I&&l_(t,I);const D=c.viewQuery,L=c.contentQueries;if(D&&bg(t,D),L&&Dg(t,L),se(t.inputs,c.inputs),se(t.declaredInputs,c.declaredInputs),se(t.outputs,c.outputs),null!==c.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),se(y.inputTransforms,c.inputTransforms)),qi(c)&&c.data.animation){const Y=t.data;Y.animation=(Y.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let y=0;y<d.length;y++){const I=d[y];I&&I.ngInherit&&I(t),I===qa&&(i=!1)}}n=Object.getPrototypeOf(n)}!function c_(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const c=t[s];c.hostVars=n+=c.hostVars,c.hostAttrs=lr(c.hostAttrs,i=lr(i,c.hostAttrs))}}(s)}function lh(t){return t===kr?{}:t===Wn?[]:t}function bg(t,n){const i=t.viewQuery;t.viewQuery=i?(s,c)=>{n(s,c),i(s,c)}:n}function Dg(t,n){const i=t.contentQueries;t.contentQueries=i?(s,c,d)=>{n(s,c,d),i(s,c,d)}:n}function l_(t,n){const i=t.hostBindings;t.hostBindings=i?(s,c)=>{n(s,c),i(s,c)}:n}function Ag(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const c=n[s];Array.isArray(c)&&c[2]&&(i[s]=c[2])}t.inputTransforms=i}function dh(t){return!!jf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function jf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Za(t,n,i){return t[n]=i}function hh(t,n){return t[n]}function Jo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function lc(t,n,i,s){const c=Jo(t,n,i);return Jo(t,n+1,s)||c}function Da(t,n,i,s){const c=Nt();return Jo(c,ss(),n)&&(Cr(),na(Ur(),c,t,n,i,s)),Da}function Mu(t,n,i,s){return Jo(t,ss(),i)?n+Ke(i)+s:u}function Wf(t,n,i,s,c,d,y,I){const D=Nt(),L=Cr(),Y=t+wn,pe=L.firstCreatePass?function S_(t,n,i,s,c,d,y,I,D){const L=n.consts,Y=he(n,t,4,y||null,is(L,I));Mf(n,i,Y,is(L,D)),zu(n,Y);const pe=Y.tView=Mn(2,Y,s,c,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L,null);return null!==n.queries&&(n.queries.template(n,Y),pe.queries=n.queries.embeddedTView(Y)),Y}(Y,L,D,n,i,s,c,d,y):L.data[Y];Ao(pe,!1);const Be=qf(L,D,pe,t);Hu()&&Xh(L,D,Be,pe),Ko(Be,D),nd(D,D[Y]=_g(Be,D,Be,pe)),Ts(pe)&&$t(L,D,pe),null!=y&&An(D,pe,I)}let qf=function Lg(t,n,i,s){return _a(!0),n[kn].createComment("")};function pc(t){return Ps(function Dc(){return qn.lFrame.contextLView}(),wn+t)}function Kf(t,n,i){const s=Nt();return Jo(s,ss(),n)&&Hs(Cr(),Ur(),s,t,n,s[kn],i,!1),Kf}function Yf(t,n,i,s,c){const y=c?"class":"style";Qo(t,i,n.inputs[y],y,s)}function _h(t,n,i,s){const c=Nt(),d=Cr(),y=wn+t,I=c[kn],D=d.firstCreatePass?function R_(t,n,i,s,c,d){const y=n.consts,D=he(n,t,2,s,is(y,c));return Mf(n,i,D,is(y,d)),null!==D.attrs&&rd(D,D.attrs,!1),null!==D.mergedAttrs&&rd(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(y,d,c,n,i,s):d.data[y],L=Vg(d,c,D,I,n,t);c[y]=L;const Y=Ts(D);return Ao(D,!0),nf(I,L,D),32!=(32&D.flags)&&Hu()&&Xh(d,c,L,D),0===function mo(){return qn.lFrame.elementDepthCount}()&&Ko(L,c),function bc(){qn.lFrame.elementDepthCount++}(),Y&&($t(d,c,D),Kt(d,D,c)),null!==s&&An(c,D),_h}function dl(){let t=oo();pa()?Ma():(t=t.parent,Ao(t,!1));const n=t;(function iu(t){return qn.skipHydrationRootTNode===t})(n)&&function pl(){qn.skipHydrationRootTNode=null}(),function Vu(){qn.lFrame.elementDepthCount--}();const i=Cr();return i.firstCreatePass&&(zu(i,t),zo(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Zo(t){return 0!=(8&t.flags)}(n)&&Yf(i,n,Nt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Oa(t){return 0!=(16&t.flags)}(n)&&Yf(i,n,Nt(),n.stylesWithoutHost,!1),dl}function Cs(t,n,i,s){return _h(t,n,i,s),dl(),Cs}let Vg=(t,n,i,s,c,d)=>(_a(!0),Wh(s,c,function Rs(){return qn.lFrame.currentNamespace}()));function R(t,n,i){const s=Nt(),c=Cr(),d=t+wn,y=c.firstCreatePass?function g(t,n,i,s,c){const d=n.consts,y=is(d,s),I=he(n,t,8,"ng-container",y);return null!==y&&rd(I,y,!0),Mf(n,i,I,is(d,c)),null!==n.queries&&n.queries.elementStart(n,I),I}(d,c,s,n,i):c.data[d];Ao(y,!0);const I=rt(c,s,y,t);return s[d]=I,Hu()&&Xh(c,s,I,y),Ko(I,s),Ts(y)&&($t(c,s,y),Kt(c,y,s)),null!=i&&An(s,y),R}function $(){let t=oo();const n=Cr();return pa()?Ma():(t=t.parent,Ao(t,!1)),n.firstCreatePass&&(zu(n,t),zo(t)&&n.queries.elementEnd(t)),$}let rt=(t,n,i,s)=>(_a(!0),Gh(n[kn],""));function bi(){return Nt()}function Lo(t){return!!t&&"function"==typeof t.then}function oi(t){return!!t&&"function"==typeof t.subscribe}function Ho(t,n,i,s){const c=Nt(),d=Cr(),y=oo();return function ia(t,n,i,s,c,d,y){const I=Ts(s),L=t.firstCreatePass&&kf(t),Y=n[Ar],pe=Nf(n);let Be=!0;if(3&s.type||y){const Wt=Do(s,n),yn=y?y(Wt):Wt,jn=pe.length,jt=y?Br=>y(ni(Br[s.index])):s.index;let fr=null;if(!y&&I&&(fr=function gd(t,n,i,s){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const y=c[d];if(y===i&&c[d+1]===s){const I=n[io],D=c[d+2];return I.length>D?I[D]:null}"string"==typeof y&&(d+=2)}return null}(t,n,c,s.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=d,fr.__ngLastListenerFn__=d,Be=!1;else{d=Qf(s,n,Y,d,!1);const Br=i.listen(yn,c,d);pe.push(d,Br),L&&L.push(c,jt,jn,jn+1)}}else d=Qf(s,n,Y,d,!1);const et=s.outputs;let Tt;if(Be&&null!==et&&(Tt=et[c])){const Wt=Tt.length;if(Wt)for(let yn=0;yn<Wt;yn+=2){const Pi=n[Tt[yn]][Tt[yn+1]].subscribe(d),aa=pe.length;pe.push(d,Pi),L&&L.push(c,s.index,aa,-(aa+1))}}}(d,c,c[kn],y,t,n,s),Ho}function yh(t,n,i,s){try{return Hn(6,n,i),!1!==i(s)}catch(c){return Yo(t,c),!1}finally{Hn(7,n,i)}}function Qf(t,n,i,s,c){return function d(y){if(y===Function)return s;Qd(t.componentOffset>-1?ri(t.index,n):n);let D=yh(n,i,s,y),L=d.__ngNextListenerFn__;for(;L;)D=yh(n,i,L,y)&&D,L=L.__ngNextListenerFn__;return c&&!1===D&&y.preventDefault(),D}}function EE(t=1){return function ln(t){return(qn.lFrame.contextLView=function Xn(t,n){for(;t>0;)n=n[q],t--;return n}(t,qn.lFrame.contextLView))[Ar]}(t)}function fv(t,n,i){return O_(t,"",n,"",i),fv}function O_(t,n,i,s,c){const d=Nt(),y=Mu(d,n,i,s);return y!==u&&Hs(Cr(),Ur(),d,t,y,d[kn],c,!1),O_}function N_(t,n){return t<<17|n<<2}function md(t){return t>>17&32767}function pv(t){return 2|t}function vh(t){return(131068&t)>>2}function gv(t,n){return-131069&t|n<<2}function mv(t){return 1|t}function PE(t,n,i,s,c){const d=t[i+1],y=null===n;let I=s?md(d):vh(d),D=!1;for(;0!==I&&(!1===D||y);){const Y=t[I+1];xC(t[I],n)&&(D=!0,t[I+1]=s?mv(Y):pv(Y)),I=s?md(Y):vh(Y)}D&&(t[i+1]=s?pv(d):mv(d))}function xC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ju(t,n)>=0}function _v(t,n,i){return Nu(t,n,i,!1),_v}function yv(t,n){return Nu(t,n,null,!0),yv}function Nu(t,n,i,s){const c=Nt(),d=Cr(),y=function Oo(t){const n=qn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);d.firstUpdatePass&&function LE(t,n,i,s){const c=t.data;if(null===c[i+1]){const d=c[ar()],y=function FE(t,n){return n>=t.expandoStartIndex}(t,i);(function jE(t,n){return 0!=(t.flags&(n?8:16))})(d,s)&&null===n&&!y&&(n=!1),n=function jC(t,n,i,s){const c=function xa(t){const n=qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=s?n.residualClasses:n.residualStyles;if(null===c)0===(s?n.classBindings:n.styleBindings)&&(i=Ug(i=vv(null,t,n,i,s),n.attrs,s),d=null);else{const y=n.directiveStylingLast;if(-1===y||t[y]!==c)if(i=vv(c,t,n,i,s),null===d){let D=function $C(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==vh(s))return t[md(s)]}(t,n,s);void 0!==D&&Array.isArray(D)&&(D=vv(null,t,n,D[1],s),D=Ug(D,n.attrs,s),function HC(t,n,i,s){t[md(i?n.classBindings:n.styleBindings)]=s}(t,n,s,D))}else d=function zC(t,n,i){let s;const c=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<c;d++)s=Ug(s,t[d].hostAttrs,i);return Ug(s,n.attrs,i)}(t,n,s)}return void 0!==d&&(s?n.residualClasses=d:n.residualStyles=d),i}(c,d,n,s),function MC(t,n,i,s,c,d){let y=d?n.classBindings:n.styleBindings,I=md(y),D=vh(y);t[s]=i;let Y,L=!1;if(Array.isArray(i)?(Y=i[1],(null===Y||Ju(i,Y)>0)&&(L=!0)):Y=i,c)if(0!==D){const Be=md(t[I+1]);t[s+1]=N_(Be,I),0!==Be&&(t[Be+1]=gv(t[Be+1],s)),t[I+1]=function SC(t,n){return 131071&t|n<<17}(t[I+1],s)}else t[s+1]=N_(I,0),0!==I&&(t[I+1]=gv(t[I+1],s)),I=s;else t[s+1]=N_(D,0),0===I?I=s:t[D+1]=gv(t[D+1],s),D=s;L&&(t[s+1]=pv(t[s+1])),PE(t,Y,s,!0),PE(t,Y,s,!1),function RC(t,n,i,s,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Ju(d,n)>=0&&(i[s+1]=mv(i[s+1]))}(n,Y,t,s,d),y=N_(I,D),d?n.classBindings=y:n.styleBindings=y}(c,d,n,i,y,s)}}(d,t,y,s),n!==u&&Jo(c,y,n)&&function UE(t,n,i,s,c,d,y,I){if(!(3&n.type))return;const D=t.data,L=D[I+1],Y=function PC(t){return 1==(1&t)}(L)?BE(D,n,i,c,vh(L),y):void 0;k_(Y)||(k_(d)||function AC(t){return 2==(2&t)}(L)&&(d=BE(D,null,i,c,I,y)),function iy(t,n,i,s,c){if(n)c?t.addClass(i,s):t.removeClass(i,s);else{let d=-1===s.indexOf("-")?void 0:Pl.DashCase;null==c?t.removeStyle(i,s,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Pl.Important),t.setStyle(i,s,c,d))}}(s,y,Js(ar(),i),c,d))}(d,d.data[ar()],c,c[kn],t,c[y+1]=function ZC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Me(Cu(t)))),t}(n,i),s,y)}function vv(t,n,i,s,c){let d=null;const y=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<y&&(d=n[I],s=Ug(s,d.hostAttrs,c),d!==t);)I++;return null!==t&&(i.directiveStylingLast=I),s}function Ug(t,n,i){const s=i?1:2;let c=-1;if(null!==n)for(let d=0;d<n.length;d++){const y=n[d];"number"==typeof y?c=y:c===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Es(t,y,!!i||n[++d]))}return void 0===t?null:t}function BE(t,n,i,s,c,d){const y=null===n;let I;for(;c>0;){const D=t[c],L=Array.isArray(D),Y=L?D[1]:D,pe=null===Y;let Be=i[c+1];Be===u&&(Be=pe?Wn:void 0);let et=pe?El(Be,s):Y===s?Be:void 0;if(L&&!k_(et)&&(et=El(D,s)),k_(et)&&(I=et,y))return I;const Tt=t[c+1];c=y?md(Tt):vh(Tt)}if(null!==n){let D=d?n.residualClasses:n.residualStyles;null!=D&&(I=El(D,s))}return I}function k_(t){return void 0!==t}function $E(t,n=""){const i=Nt(),s=Cr(),c=t+wn,d=s.firstCreatePass?he(s,c,1,n,null):s.data[c],y=HE(s,i,d,n,t);i[c]=y,Hu()&&Xh(s,i,y,d),Ao(d,!1)}let HE=(t,n,i,s,c)=>(_a(!0),function Nl(t,n){return t.createText(n)}(n[kn],s));function Ev(t){return F_("",t,""),Ev}function F_(t,n,i){const s=Nt(),c=Mu(s,t,n,i);return c!==u&&function ra(t,n,i){const s=Js(n,t);!function sm(t,n,i){t.setValue(n,i)}(t[kn],s,i)}(s,ar(),c),F_}const Eh=void 0;var mw=["en",[["a","p"],["AM","PM"],Eh],[["AM","PM"],Eh,Eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eh,"{1} 'at' {0}",Eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gw(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Xf={};function Iv(t){const n=function _w(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=d0(n);if(i)return i;const s=n.split("-")[0];if(i=d0(s),i)return i;if("en"===s)return mw;throw new Le(701,!1)}function l0(t){return Iv(t)[ep.PluralCase]}function d0(t){return t in Xf||(Xf[t]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[t]),Xf[t]}var ep=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ep||{});const tp="en-US";let h0=tp;function Tv(t,n,i,s,c){if(t=yt(t),Array.isArray(t))for(let d=0;d<t.length;d++)Tv(t[d],n,i,s,c);else{const d=Cr(),y=Nt(),I=oo();let D=Kc(t)?t:yt(t.provide);const L=Mm(t),Y=1048575&I.providerIndexes,pe=I.directiveStart,Be=I.providerIndexes>>20;if(Kc(t)||!t.multi){const et=new ii(L,c,T),Tt=Dv(D,n,c?Y:Y+Be,pe);-1===Tt?(va(Pc(I,y),d,D),bv(d,t,n.length),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(et),y.push(et)):(i[Tt]=et,y[Tt]=et)}else{const et=Dv(D,n,Y+Be,pe),Tt=Dv(D,n,Y,Y+Be),yn=Tt>=0&&i[Tt];if(c&&!yn||!c&&!(et>=0&&i[et])){va(Pc(I,y),d,D);const jn=function gT(t,n,i,s,c){const d=new ii(t,i,T);return d.multi=[],d.index=n,d.componentProviders=0,L0(d,c,s&&!i),d}(c?pT:fT,i.length,c,s,L);!c&&yn&&(i[Tt].providerFactory=jn),bv(d,t,n.length,0),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(jn),y.push(jn)}else bv(d,t,et>-1?et:Tt,L0(i[c?Tt:et],L,!c&&s));!c&&s&&yn&&i[Tt].componentProviders++}}}function bv(t,n,i,s){const c=Kc(n),d=function Ti(t){return!!t.useClass}(n);if(c||d){const D=(d?yt(n.useClass):n).prototype.ngOnDestroy;if(D){const L=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const Y=L.indexOf(i);-1===Y?L.push(i,[s,D]):L[Y+1].push(s,D)}else L.push(i,D)}}}function L0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Dv(t,n,i,s){for(let c=i;c<s;c++)if(n[c]===t)return c;return-1}function fT(t,n,i,s){return Av(this.multi,[])}function pT(t,n,i,s){const c=this.multi;let d;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=uu(i,i[Qt],this.providerFactory.index,s);d=I.slice(0,y),Av(c,d);for(let D=y;D<I.length;D++)d.push(I[D])}else d=[],Av(c,d);return d}function Av(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function V0(t,n=[]){return i=>{i.providersResolver=(s,c)=>function hT(t,n,i){const s=Cr();if(s.firstCreatePass){const c=qi(t);Tv(i,s.data,s.blueprint,c,!0),Tv(n,s.data,s.blueprint,c,!1)}}(s,c?c(t):t,n)}}class Ih{}class U0{}function mT(t,n){return new Sv(t,n??null,[])}class Sv extends Ih{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wg(this);const c=Er(n);this._bootstrapComponents=Du(c.bootstrap),this._r3Injector=$m(n,i,[{provide:Ih,useValue:this},{provide:Tf,useValue:this.componentFactoryResolver},...s],Me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pv extends U0{constructor(n){super(),this.moduleType=n}create(n){return new Sv(this.moduleType,n,[])}}class B0 extends Ih{constructor(n){super(),this.componentFactoryResolver=new wg(this),this.instance=null;const i=new Yc([...n.providers,{provide:Ih,useValue:this},{provide:Tf,useValue:this.componentFactoryResolver}],n.parent||Ef(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function j0(t,n,i=null){return new B0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let yT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=Ta(0,i.type),c=s.length>0?j0([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_n({token:t,providedIn:"environment",factory:()=>new t(At(za))})}return t})();function $0(t){t.getStandaloneInjector=n=>n.get(yT).getOrCreateStandaloneInjector(t)}function K0(t,n,i){const s=_o()+t,c=Nt();return c[s]===u?Za(c,s,i?n.call(i):n()):hh(c,s)}function Y0(t,n,i,s){return J0(Nt(),_o(),t,n,i,s)}function Q0(t,n,i,s,c,d,y,I,D){const L=_o()+t,Y=Nt(),pe=function $o(t,n,i,s,c,d){const y=lc(t,n,i,s);return lc(t,n+2,c,d)||y}(Y,L,i,s,c,d);return lc(Y,L+4,y,I)||pe?Za(Y,L+6,D?n.call(D,i,s,c,d,y,I):n(i,s,c,d,y,I)):hh(Y,L+6)}function J0(t,n,i,s,c,d){const y=n+i;return Jo(t,y,c)?Za(t,y+1,d?s.call(d,c):s(c)):function Gg(t,n){const i=t[n];return i===u?void 0:i}(t,y+1)}function rI(t,n){const i=Cr();let s;const c=t+wn;i.firstCreatePass?(s=function NT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[c]=s,s.onDestroy&&(i.destroyHooks??=[]).push(c,s.onDestroy)):s=i.data[c];const d=s.factory||(s.factory=fo(s.type)),I=rr(T);try{const D=us(!1),L=d();return us(D),function M_(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,Nt(),c,L),L}finally{rr(I)}}function iI(t,n,i){const s=t+wn,c=Nt(),d=Ps(c,s);return function Wg(t,n){return t[Qt].data[n].pure}(c,s)?J0(c,_o(),n,d.transform,i,d):d.transform(i)}function UT(){return this._results[Symbol.iterator]()}class Rv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Wa)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Rv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=UT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const c=function cs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Dd(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let c=t[s],d=n[s];if(i&&(c=i(c),d=i(d)),d!==c)return!1}return!0}(s._results,c,i))&&(s._results=c,s.length=c.length,s.last=c[this.length-1],s.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jT(t,n,i,s=!0){const c=n[Qt];if(function ty(t,n,i,s){const c=Jn+s,d=i.length;s>0&&(i[c-1][Ci]=n),s<d-Jn?(n[Ci]=i[c],Ad(i,Jn+s,n)):(i.push(n),n[Ci]=null),n[Qn]=i;const y=n[ge];null!==y&&i!==y&&function ny(t,n){const i=t[$i];n[B]!==n[Qn][Qn][B]&&(t[Xr]=!0),null===i?t[$i]=[n]:i.push(n)}(y,n);const I=n[$e];null!==I&&I.insertView(t),n[Fn]|=128}(c,n,t,i),s){const d=Bd(i,t),y=n[kn],I=Yh(y,t[Kr]);null!==I&&function um(t,n,i,s,c,d){s[Nr]=c,s[Zr]=n,zc(t,s,i,1,c,d)}(c,t[Zr],y,n,I,d)}}let qg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=zT}return t})();const $T=qg,HT=class extends $T{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const c=function BT(t,n,i,s){const c=n.tView,I=ee(t,c,i,4096&t[Fn]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);I[ge]=t[n.index];const L=t[$e];return null!==L&&(I[$e]=L.createEmbeddedView(c)),vg(c,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new sd(c)}};function zT(){return j_(oo(),Nt())}function j_(t,n){return 4&t.type?new HT(n,t,Jl(t,n)):null}let H_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YT}return t})();function YT(){return dI(oo(),Nt())}const QT=H_,cI=class extends QT{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const n=au(this._hostTNode,this._hostLView);if(fi(n)){const i=mi(n,this._hostLView),s=vs(n);return new Po(i[Qt].data[s+8],i)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=lI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Jn}createEmbeddedView(n,i,s){let c,d;"number"==typeof s?c=s:null!=s&&(c=s.index,d=s.injector);const I=n.createEmbeddedViewImpl(i||{},d,null);return this.insertImpl(I,c,false),I}createComponent(n,i,s,c,d){const y=n&&!function La(t){return"function"==typeof t}(n);let I;if(y)I=i;else{const Wt=i||{};I=Wt.index,s=Wt.injector,c=Wt.projectableNodes,d=Wt.environmentInjector||Wt.ngModuleRef}const D=y?n:new Su(Nn(n)),L=s||this.parentInjector;if(!d&&null==D.ngModule){const yn=(y?L:this.parentInjector).get(za,null);yn&&(d=yn)}Nn(D.componentType??{});const et=D.create(L,c,null,d);return this.insertImpl(et.hostView,I,false),et}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const c=n._lView;if(function nu(t){return Ir(t[Qn])}(c)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const L=c[Qn],Y=new cI(L,L[Zr],L[Qn]);Y.detach(Y.indexOf(n))}}const y=this._adjustIndex(i),I=this._lContainer;return jT(I,c,y,!s),n.attachToViewContainerRef(),Ad(xv(I),y,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=lI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=qh(this._lContainer,i);s&&(vl(xv(this._lContainer),i),Vd(s[Qt],s))}detach(n){const i=this._adjustIndex(n,-1),s=qh(this._lContainer,i);return s&&null!=vl(xv(this._lContainer),i)?new sd(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function lI(t){return t[8]}function xv(t){return t[8]||(t[8]=[])}function dI(t,n){let i;const s=n[t.index];return Ir(s)?i=s:(i=_g(s,n,null,t),n[t.index]=i,nd(n,i)),hI(i,n,t,s),new cI(i,t,n)}let hI=function fI(t,n,i,s){if(t[Kr])return;let c;c=8&i.type?ni(s):function JT(t,n){const i=t[kn],s=i.createComment(""),c=Do(n,t);return Iu(i,Yh(i,c),s,function Ip(t,n){return t.nextSibling(n)}(i,c),!1),s}(n,i),t[Kr]=c};class Ov{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let d=0;d<s;d++){const y=i.getByIndex(d);c.push(this.queries[y.indexInDeclarationView].clone())}return new Nv(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==II(n,i).matches&&this.queries[i].setDirty()}}class pI{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class kv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const c=null!==i?i.length:0,d=this.getByIndex(s).embeddedTView(n,c);d&&(d.indexInDeclarationView=s,null!==i?i.push(d):i=[d])}return null!==i?new kv(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Fv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const d=s[c];this.matchTNodeWithReadOption(n,i,tb(i,d)),this.matchTNodeWithReadOption(n,i,Mc(i,n,d,!1,!1))}else s===qg?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Mc(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===Kd||c===H_||c===qg&&4&i.type)this.addMatch(i.index,-2);else{const d=Mc(i,n,c,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function tb(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function rb(t,n,i,s){return-1===i?function nb(t,n){return 11&t.type?Jl(t,n):4&t.type?j_(t,n):null}(n,t):-2===i?function ib(t,n,i){return i===Kd?Jl(n,t):i===qg?j_(n,t):i===H_?dI(n,t):void 0}(t,n,s):uu(t,t[Qt],i,n)}function gI(t,n,i,s){const c=n[$e].queries[s];if(null===c.matches){const d=t.data,y=i.matches,I=[];for(let D=0;D<y.length;D+=2){const L=y[D];I.push(L<0?null:rb(n,d[L],y[D+1],i.metadata.read))}c.matches=I}return c.matches}function Lv(t,n,i,s){const c=t.queries.getByIndex(i),d=c.matches;if(null!==d){const y=gI(t,n,c,i);for(let I=0;I<d.length;I+=2){const D=d[I];if(D>0)s.push(y[I/2]);else{const L=d[I+1],Y=n[-D];for(let pe=Jn;pe<Y.length;pe++){const Be=Y[pe];Be[ge]===Be[Qn]&&Lv(Be[Qt],Be,L,s)}if(null!==Y[$i]){const pe=Y[$i];for(let Be=0;Be<pe.length;Be++){const et=pe[Be];Lv(et[Qt],et,L,s)}}}}}return s}function mI(t){const n=Nt(),i=Cr(),s=jo();C(s+1);const c=II(i,s);if(t.dirty&&function eu(t){return 4==(4&t[Fn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Lv(i,n,s,[]):gI(i,n,c,s);t.reset(d,Df),t.notifyOnChanges()}return!0}return!1}function _I(t,n,i,s){const c=Cr();if(c.firstCreatePass){const d=oo();(function EI(t,n,i){null===t.queries&&(t.queries=new kv),t.queries.track(new Fv(n,i))})(c,new pI(n,i,s),d.index),function ab(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}!function vI(t,n,i){const s=new Rv(4==(4&i));(function Qe(t,n,i,s){const c=Nf(n);c.push(i),t.firstCreatePass&&kf(t).push(s,c.length-1)})(t,n,s,s.destroy),null===n[$e]&&(n[$e]=new Nv),n[$e].queries.push(new Ov(s))}(c,Nt(),i)}function yI(){return function sb(t,n){return t[$e].queries[n].queryList}(Nt(),jo())}function II(t,n){return t.queries.getByIndex(n)}function Vv(t){return!!Er(t)}const VI=new en("Application Initializer");let Hv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Zt(VI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const d=c();if(Lo(d))i.push(d);else if(oi(d)){const y=new Promise((I,D)=>{d.subscribe({complete:I,error:D})});i.push(y)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(c=>{this.reject(c)}),0===i.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const G_=new en("LocaleId",{providedIn:"root",factory:()=>Zt(G_,cn.Optional|cn.SkipSelf)||function Pb(){return typeof $localize<"u"&&$localize.locale||tp}()}),Mb=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let BI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xb{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Ob=(()=>{class t{compileModuleSync(i){return new Pv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),d=Du(Er(i).declarations).reduce((y,I)=>{const D=Nn(I);return D&&y.push(new Su(D)),y},[]);return new xb(s,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zI=new en(""),GI=new en("");let Wv,tD=(()=>{class t{constructor(i,s,c){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wv||(function nD(t){Wv=t}(c),c.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,c){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:c})}whenStable(i,s,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,c){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(At(no),At(WI),At(GI))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac})}return t})(),WI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Wv?.findTestabilityInTree(this,i,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),_d=null;const qI=new en("AllowMultipleToken"),qv=new en("PlatformDestroyListeners"),Zv=new en("appBootstrapListener");class oD{constructor(n,i){this.name=n,this.token=i}}function YI(t,n,i=[]){const s=`Platform: ${n}`,c=new en(s);return(d=[])=>{let y=Kv();if(!y||y.injector.get(qI,!1)){const I=[...i,...d,{provide:c,useValue:!0}];t?t(I):function sD(t){if(_d&&!_d.get(qI,!1))throw new Le(400,!1);(function ZI(){!function Fu(t){js=t}(()=>{throw new Le(600,!1)})})(),_d=t;const n=t.get(JI);(function KI(t){t.get(wu,null)?.forEach(i=>i())})(t)}(function QI(t=[],n){return ba.create({name:n,providers:[{provide:Pm,useValue:"platform"},{provide:qv,useValue:new Set([()=>_d=null])},...t]})}(I,s))}return function uD(t){const n=Kv();if(!n)throw new Le(401,!1);return n}()}}function Kv(){return _d?.get(JI)??null}let JI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const c=function cD(t="zone.js",n){return"noop"===t?new dE:"zone.js"===t?new no(n):t}(s?.ngZone,function XI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return c.run(()=>{const d=function _T(t,n,i){return new Sv(t,n,i)}(i.moduleType,this.injector,function iC(t){return[{provide:no,useFactory:t},{provide:jl,multi:!0,useFactory:()=>{const n=Zt(dD,{optional:!0});return()=>n.initialize()}},{provide:rC,useFactory:lD},{provide:jy,useFactory:$y}]}(()=>c)),y=d.injector.get(ac,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:D=>{y.handleError(D)}});d.onDestroy(()=>{q_(this._modules,d),I.unsubscribe()})}),function eC(t,n,i){try{const s=i();return Lo(s)?s.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(y,c,()=>{const I=d.injector.get(Hv);return I.runInitializers(),I.donePromise.then(()=>(function f0(t){mt(t,"Expected localeId to be defined"),"string"==typeof t&&(h0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(G_,tp)||tp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(i,s=[]){const c=tC({},s);return function rD(t,n,i){const s=new Pv(i);return Promise.resolve(s)}(0,0,i).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(i){const s=i.injector.get(ip);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>s.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Le(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(qv,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(At(ba))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function tC(t,n){return Array.isArray(n)?n.reduce(tC,t):{...t,...n}}let ip=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(rC),this.zoneIsStable=Zt(jy),this.componentTypes=[],this.components=[],this.isStable=Zt(BI).hasPendingTasks.pipe((0,ke.w)(i=>i?(0,De.of)(!1):this.zoneIsStable),(0,He.x)(),(0,Ue.B)()),this._injector=Zt(za)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const c=i instanceof xy;if(!this._injector.get(Hv).done)throw!c&&Ei(i),new Le(405,!1);let y;y=c?i:this._injector.get(Tf).resolveComponentFactory(i),this.componentTypes.push(y.componentType);const I=function iD(t){return t.isBoundToModule}(y)?void 0:this._injector.get(Ih),L=y.create(ba.NULL,[],s||y.selector,I),Y=L.location.nativeElement,pe=L.injector.get(zI,null);return pe?.registerApplication(Y),L.onDestroy(()=>{this.detachView(L.hostView),q_(this.components,L),pe?.unregisterApplication(Y)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;q_(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(Zv,[]);s.push(...this._bootstrapListeners),s.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>q_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Le(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function q_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const rC=new en("",{providedIn:"root",factory:()=>Zt(ac).handleError.bind(void 0)});function lD(){const t=Zt(no),n=Zt(ac);return i=>t.runOutsideAngular(()=>n.handleError(i))}let dD=(()=>{class t{constructor(){this.zone=Zt(no),this.applicationRef=Zt(ip)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fD(){return!1}let pD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=gD}return t})();function gD(t){return function mD(t,n,i){if(Oi(t)&&!i){const s=ri(t.index,n);return new sd(s,s)}return 47&t.type?new sd(n[B],n):null}(oo(),Nt(),16==(16&t))}class uC{constructor(){}supports(n){return dh(n)}create(n){return new CD(n)}}const ID=(t,n)=>n;class CD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ID}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,c=0,d=null;for(;i||s;){const y=!s||i&&i.currentIndex<lC(s,c,d)?i:s,I=lC(y,c,d),D=y.currentIndex;if(y===s)c--,s=s._nextRemoved;else if(i=i._next,null==y.previousIndex)c++;else{d||(d=[]);const L=I-c,Y=D-c;if(L!=Y){for(let Be=0;Be<L;Be++){const et=Be<d.length?d[Be]:d[Be]=0,Tt=et+Be;Y<=Tt&&Tt<L&&(d[Be]=et+1)}d[y.previousIndex]=Y-L}}I!==D&&n(y,I,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!dh(n))throw new Le(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,d,y,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)d=n[I],y=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,d,y,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,y,I),s=!0),i=i._next}else c=0,function Pg(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,I=>{y=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,I,y,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,y,c),s=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,c){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,c)):n=this._addAfter(new wD(i,s),d,c),n}_verifyReinsertion(n,i,s,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==d?n=this._reinsertAfter(d,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,d=n._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new cC),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class wD{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class cC{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new TD,this.map.set(i,s)),s.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lC(t,n,i){const s=t.previousIndex;if(null===s)return s;let c=0;return i&&s<i.length&&(c=i[s]),s+n+c}class dC{constructor(){}supports(n){return n instanceof Map||jf(n)}create(){return new bD}}class bD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||jf(n)))throw new Le(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(c,s);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const d=c._prev,y=c._next;return d&&(d._next=y),y&&(y._prev=d),c._next=null,c._prev=null,c}const s=new DD(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class DD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hC(){return new eE([new uC])}let eE=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:hC});constructor(i){this.factories=i}static create(i,s){if(null!=s){const c=s.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||hC()),deps:[[t,new Ca,new fu]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(null!=s)return s;throw new Le(901,!1)}}return t})();function fC(){return new tE([new dC])}let tE=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:fC});constructor(i){this.factories=i}static create(i,s){if(s){const c=s.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||fC()),deps:[[t,new Ca,new fu]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(s)return s;throw new Le(901,!1)}}return t})();const PD=YI(null,"core",[]);let MD=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(s){return new(s||t)(At(ip))};static#t=this.\u0275mod=Ui({type:t});static#n=this.\u0275inj=Mt({})}return t})();function jD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HD(t){const n=Nn(t);if(!n)return null;const i=new Su(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(nn,Je,k)=>{k.d(Je,{zQ:()=>kt,ww:()=>Ut,rT:()=>Ht,f7:()=>xn,L6:()=>Dt,_Q:()=>ye,lh:()=>Xt,Qv:()=>_t,nw:()=>Et}),k(6365);var _=k(6814),H=k(5879),Te=k(1920),me=k(7217),De=k(8645),Ue=k(2096),ke=k(5592),He=k(2459),re=k(3019),se=k(3093),Me=k(4664),pt=k(7398),Ge=k(4552);class Pt extends De.x{constructor(le=1/0,ie=1/0,de=Ge.l){super(),this._bufferSize=le,this._windowTime=ie,this._timestampProvider=de,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ie===1/0,this._bufferSize=Math.max(1,le),this._windowTime=Math.max(1,ie)}next(le){const{isStopped:ie,_buffer:de,_infiniteTimeWindow:be,_timestampProvider:ce,_windowTime:Ie}=this;ie||(de.push(le),!be&&de.push(ce.now()+Ie)),this._trimBuffer(),super.next(le)}_subscribe(le){this._throwIfClosed(),this._trimBuffer();const ie=this._innerSubscribe(le),{_infiniteTimeWindow:de,_buffer:be}=this,ce=be.slice();for(let Ie=0;Ie<ce.length&&!le.closed;Ie+=de?1:2)le.next(ce[Ie]);return this._checkFinalizedStatuses(le),ie}_trimBuffer(){const{_bufferSize:le,_timestampProvider:ie,_buffer:de,_infiniteTimeWindow:be}=this,ce=(be?1:2)*le;if(le<1/0&&ce<de.length&&de.splice(0,de.length-ce),!be){const Ie=ie.now();let Fe=0;for(let mt=1;mt<de.length&&de[mt]<=Ie;mt+=2)Fe=mt;Fe&&de.splice(0,Fe+1)}}}var yt=k(3020);function Lt(tt,le,ie){let de,be=!1;return tt&&"object"==typeof tt?({bufferSize:de=1/0,windowTime:le=1/0,refCount:be=!1,scheduler:ie}=tt):de=tt??1/0,(0,yt.B)({connector:()=>new Pt(de,le,ie),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:be})}var wt=k(1374),sn=k(4674);function We(tt,le){return(0,sn.m)(le)?(0,Me.w)(()=>tt,le):(0,Me.w)(()=>tt)}var Le=k(5137),Xe=k(2181),Ke=k(7142);const _t=new H.OlP("angularfire2.auth.use-emulator"),Dt=new H.OlP("angularfire2.auth.settings"),ye=new H.OlP("angularfire2.auth.tenant-id"),Ht=new H.OlP("angularfire2.auth.langugage-code"),Xt=new H.OlP("angularfire2.auth.use-device-language"),xn=new H.OlP("angularfire.auth.persistence"),Et=(tt,le,ie,de,be,ce,Ie,Fe)=>(0,me.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const mt=le.runOutsideAngular(()=>tt.auth());if(ie&&mt.useEmulator(...ie),de&&(mt.tenantId=de),mt.languageCode=be,ce&&mt.useDeviceLanguage(),Ie)for(const[vt,an]of Object.entries(Ie))mt.settings[vt]=an;return Fe&&mt.setPersistence(Fe),mt},[ie,de,be,ce,Ie,Fe]);let kt=(()=>{class tt{authState;idToken;user;idTokenResult;credential;constructor(ie,de,be,ce,Ie,Fe,mt,vt,an,qt,Sn,_n){const er=new De.x,Mt=(0,Ue.of)(void 0).pipe((0,se.Q)(Ie.outsideAngular),(0,Me.w)(()=>ce.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,pt.U)(()=>(0,me.on)(ie,ce,de)),(0,pt.U)(En=>Et(En,ce,Fe,vt,an,qt,mt,Sn)),Lt({bufferSize:1,refCount:!1}));if((0,_.PM)(be))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{Mt.pipe((0,wt.P)()).subscribe();const En=Mt.pipe((0,Me.w)(xt=>xt.getRedirectResult().then(wr=>wr,()=>null)),Te.iC,Lt({bufferSize:1,refCount:!1})),On=Mt.pipe((0,Me.w)(xt=>new ke.y(wr=>({unsubscribe:ce.runOutsideAngular(()=>xt.onAuthStateChanged(rn=>wr.next(rn),rn=>wr.error(rn),()=>wr.complete()))})))),Vt=Mt.pipe((0,Me.w)(xt=>new ke.y(wr=>({unsubscribe:ce.runOutsideAngular(()=>xt.onIdTokenChanged(rn=>wr.next(rn),rn=>wr.error(rn),()=>wr.complete()))}))));this.authState=En.pipe(We(On),(0,Le.R)(Ie.outsideAngular),(0,se.Q)(Ie.insideAngular)),this.user=En.pipe(We(Vt),(0,Le.R)(Ie.outsideAngular),(0,se.Q)(Ie.insideAngular)),this.idToken=this.user.pipe((0,Me.w)(xt=>xt?(0,He.D)(xt.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe((0,Me.w)(xt=>xt?(0,He.D)(xt.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,re.T)(En,er,this.authState.pipe((0,Xe.h)(xt=>!xt))).pipe((0,pt.U)(xt=>xt?.user?xt:null),(0,Le.R)(Ie.outsideAngular),(0,se.Q)(Ie.insideAngular))}return(0,me.pX)(this,Mt,ce,{spy:{apply:(En,On,Vt)=>{(En.startsWith("signIn")||En.startsWith("createUser"))&&Vt.then(xt=>er.next(xt))}}})}static \u0275fac=function(de){return new(de||tt)(H.LFG(me.Dh),H.LFG(me.xv,8),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(Te.HU),H.LFG(_t,8),H.LFG(Dt,8),H.LFG(ye,8),H.LFG(Ht,8),H.LFG(Xt,8),H.LFG(xn,8),H.LFG(Te.Rf,8))};static \u0275prov=H.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"})}return tt})(),Ut=(()=>{class tt{constructor(){Ke.Z.registerVersion("angularfire",Te.q4.full,"auth-compat")}static \u0275fac=function(de){return new(de||tt)};static \u0275mod=H.oAB({type:tt});static \u0275inj=H.cJS({providers:[kt]})}return tt})()},7104:(nn,Je,k)=>{k.d(Je,{ST:()=>si,yb:()=>je});var l=k(6814),_=k(5879),H=k(1920),Te=k(7217),me=k(7213),De=k(6321),Ue=k(5592),ke=k(2459),He=k(2096),re=k(7921),se=k(9360),Me=k(8251);function pt(){return(0,se.e)((dt,X)=>{let Ee,ht=!1;dt.subscribe((0,Me.x)(X,Bt=>{const Tn=Ee;Ee=Bt,ht&&X.next([Tn,Bt]),ht=!0}))})}var Ge=k(7398),Pt=k(6699),yt=k(3997),Lt=k(2181),sn=(k(6365),k(3106)),We=k(5588),Le=k(9058),Xe=k(4537);function _t(dt,X){if(void 0===X)return{merge:!1};if(void 0!==X.mergeFields&&void 0!==X.merge)throw new We.WA("invalid-argument",`Invalid options passed to function ${dt}(): You cannot specify both "merge" and "mergeFields".`);return X}function Dt(){if(typeof Uint8Array>"u")throw new We.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ye(){if(!(0,We.Me)())throw new We.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ht{constructor(X){this._delegate=X}static fromBase64String(X){return ye(),new Ht(We.Jj.fromBase64String(X))}static fromUint8Array(X){return Dt(),new Ht(We.Jj.fromUint8Array(X))}toBase64(){return ye(),this._delegate.toBase64()}toUint8Array(){return Dt(),this._delegate.toUint8Array()}isEqual(X){return this._delegate.isEqual(X._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xt(dt){return function xn(dt,X){if("object"!=typeof dt||null===dt)return!1;const Ee=dt;for(const ht of X)if(ht in Ee&&"function"==typeof Ee[ht])return!0;return!1}(dt,["next","error","complete"])}class Et{enableIndexedDbPersistence(X,Ee){return(0,We.ST)(X._delegate,{forceOwnership:Ee})}enableMultiTabIndexedDbPersistence(X){return(0,We.fH)(X._delegate)}clearIndexedDbPersistence(X){return(0,We.Fc)(X._delegate)}}class kt{constructor(X,Ee,ht){this._delegate=Ee,this._persistenceProvider=ht,this.INTERNAL={delete:()=>this.terminate()},X instanceof We.l7||(this._appCompat=X)}get _databaseId(){return this._delegate._databaseId}settings(X){const Ee=this._delegate._getSettings();!X.merge&&Ee.host!==X.host&&(0,We.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),X.merge&&delete(X=Object.assign(Object.assign({},Ee),X)).merge,this._delegate._setSettings(X)}useEmulator(X,Ee,ht={}){(0,We.at)(this._delegate,X,Ee,ht)}enableNetwork(){return(0,We.Ix)(this._delegate)}disableNetwork(){return(0,We.TF)(this._delegate)}enablePersistence(X){let Ee=!1,ht=!1;return X&&(Ee=!!X.synchronizeTabs,ht=!!X.experimentalForceOwningTab,(0,We.Wi)("synchronizeTabs",Ee,"experimentalForceOwningTab",ht)),Ee?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ht)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,We.Mx)(this._delegate)}onSnapshotsInSync(X){return(0,We.sc)(this._delegate,X)}get app(){if(!this._appCompat)throw new We.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(X){try{return new _n(this,(0,We.hJ)(this._delegate,X))}catch(Ee){throw ce(Ee,"collection()","Firestore.collection()")}}doc(X){try{return new be(this,(0,We.JU)(this._delegate,X))}catch(Ee){throw ce(Ee,"doc()","Firestore.doc()")}}collectionGroup(X){try{return new an(this,(0,We.B$)(this._delegate,X))}catch(Ee){throw ce(Ee,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(X){return(0,We.i3)(this._delegate,Ee=>X(new le(this,Ee)))}batch(){return(0,We.qY)(this._delegate),new ie(new We.PU(this._delegate,X=>(0,We.GL)(this._delegate,X)))}loadBundle(X){return(0,We.Pb)(this._delegate,X)}namedQuery(X){return(0,We.L$)(this._delegate,X).then(Ee=>Ee?new an(this,Ee):null)}}class Ut extends We.u7{constructor(X){super(),this.firestore=X}convertBytes(X){return new Ht(new We.Jj(X))}convertReference(X){const Ee=this.convertDocumentKey(X,this.firestore._databaseId);return be.forKey(Ee,this.firestore,null)}}class le{constructor(X,Ee){this._firestore=X,this._delegate=Ee,this._userDataWriter=new Ut(X)}get(X){const Ee=er(X);return this._delegate.get(Ee).then(ht=>new mt(this._firestore,new We.xU(this._firestore._delegate,this._userDataWriter,ht._key,ht._document,ht.metadata,Ee.converter)))}set(X,Ee,ht){const Bt=er(X);return ht?(_t("Transaction.set",ht),this._delegate.set(Bt,Ee,ht)):this._delegate.set(Bt,Ee),this}update(X,Ee,ht,...Bt){const Tn=er(X);return 2===arguments.length?this._delegate.update(Tn,Ee):this._delegate.update(Tn,Ee,ht,...Bt),this}delete(X){const Ee=er(X);return this._delegate.delete(Ee),this}}class ie{constructor(X){this._delegate=X}set(X,Ee,ht){const Bt=er(X);return ht?(_t("WriteBatch.set",ht),this._delegate.set(Bt,Ee,ht)):this._delegate.set(Bt,Ee),this}update(X,Ee,ht,...Bt){const Tn=er(X);return 2===arguments.length?this._delegate.update(Tn,Ee):this._delegate.update(Tn,Ee,ht,...Bt),this}delete(X){const Ee=er(X);return this._delegate.delete(Ee),this}commit(){return this._delegate.commit()}}class de{constructor(X,Ee,ht){this._firestore=X,this._userDataWriter=Ee,this._delegate=ht}fromFirestore(X,Ee){const ht=new We.$q(this._firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,null);return this._delegate.fromFirestore(new vt(this._firestore,ht),Ee??{})}toFirestore(X,Ee){return Ee?this._delegate.toFirestore(X,Ee):this._delegate.toFirestore(X)}static getInstance(X,Ee){const ht=de.INSTANCES;let Bt=ht.get(X);Bt||(Bt=new WeakMap,ht.set(X,Bt));let Tn=Bt.get(Ee);return Tn||(Tn=new de(X,new Ut(X),Ee),Bt.set(Ee,Tn)),Tn}}de.INSTANCES=new WeakMap;class be{constructor(X,Ee){this.firestore=X,this._delegate=Ee,this._userDataWriter=new Ut(X)}static forPath(X,Ee,ht){if(X.length%2!=0)throw new We.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${X.canonicalString()} has ${X.length}`);return new be(Ee,new We.my(Ee._delegate,ht,new We.Ky(X)))}static forKey(X,Ee,ht){return new be(Ee,new We.my(Ee._delegate,ht,X))}get id(){return this._delegate.id}get parent(){return new _n(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(X){try{return new _n(this.firestore,(0,We.hJ)(this._delegate,X))}catch(Ee){throw ce(Ee,"collection()","DocumentReference.collection()")}}isEqual(X){return(X=(0,Le.m9)(X))instanceof We.my&&(0,We.Eo)(this._delegate,X)}set(X,Ee){Ee=_t("DocumentReference.set",Ee);try{return Ee?(0,We.pl)(this._delegate,X,Ee):(0,We.pl)(this._delegate,X)}catch(ht){throw ce(ht,"setDoc()","DocumentReference.set()")}}update(X,Ee,...ht){try{return 1===arguments.length?(0,We.r7)(this._delegate,X):(0,We.r7)(this._delegate,X,Ee,...ht)}catch(Bt){throw ce(Bt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,We.oe)(this._delegate)}onSnapshot(...X){const Ee=Ie(X),ht=Fe(X,Bt=>new mt(this.firestore,new We.xU(this.firestore._delegate,this._userDataWriter,Bt._key,Bt._document,Bt.metadata,this._delegate.converter)));return(0,We.cf)(this._delegate,Ee,ht)}get(X){let Ee;return Ee="cache"===X?.source?(0,We.kl)(this._delegate):"server"===X?.source?(0,We.Xk)(this._delegate):(0,We.QT)(this._delegate),Ee.then(ht=>new mt(this.firestore,new We.xU(this.firestore._delegate,this._userDataWriter,ht._key,ht._document,ht.metadata,this._delegate.converter)))}withConverter(X){return new be(this.firestore,this._delegate.withConverter(X?de.getInstance(this.firestore,X):null))}}function ce(dt,X,Ee){return dt.message=dt.message.replace(X,Ee),dt}function Ie(dt){for(const X of dt)if("object"==typeof X&&!Xt(X))return X;return{}}function Fe(dt,X){var Ee,ht;let Bt;return Bt=Xt(dt[0])?dt[0]:Xt(dt[1])?dt[1]:"function"==typeof dt[0]?{next:dt[0],error:dt[1],complete:dt[2]}:{next:dt[1],error:dt[2],complete:dt[3]},{next:Tn=>{Bt.next&&Bt.next(X(Tn))},error:null===(Ee=Bt.error)||void 0===Ee?void 0:Ee.bind(Bt),complete:null===(ht=Bt.complete)||void 0===ht?void 0:ht.bind(Bt)}}class mt{constructor(X,Ee){this._firestore=X,this._delegate=Ee}get ref(){return new be(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(X){return this._delegate.data(X)}get(X,Ee){return this._delegate.get(X,Ee)}isEqual(X){return(0,We.qK)(this._delegate,X._delegate)}}class vt extends mt{data(X){const Ee=this._delegate.data(X);return this._delegate._converter||(0,We.K9)(void 0!==Ee,"Document in a QueryDocumentSnapshot should exist"),Ee}}class an{constructor(X,Ee){this.firestore=X,this._delegate=Ee,this._userDataWriter=new Ut(X)}where(X,Ee,ht){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.ar)(X,Ee,ht)))}catch(Bt){throw ce(Bt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(X,Ee){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.Xo)(X,Ee)))}catch(ht){throw ce(ht,/(orderBy|where)\(\)/,"Query.$1()")}}limit(X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.b9)(X)))}catch(Ee){throw ce(Ee,"limit()","Query.limit()")}}limitToLast(X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.vh)(X)))}catch(Ee){throw ce(Ee,"limitToLast()","Query.limitToLast()")}}startAt(...X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.e0)(...X)))}catch(Ee){throw ce(Ee,"startAt()","Query.startAt()")}}startAfter(...X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.TQ)(...X)))}catch(Ee){throw ce(Ee,"startAfter()","Query.startAfter()")}}endBefore(...X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.Lx)(...X)))}catch(Ee){throw ce(Ee,"endBefore()","Query.endBefore()")}}endAt(...X){try{return new an(this.firestore,(0,We.IO)(this._delegate,(0,We.Wu)(...X)))}catch(Ee){throw ce(Ee,"endAt()","Query.endAt()")}}isEqual(X){return(0,We.iE)(this._delegate,X._delegate)}get(X){let Ee;return Ee="cache"===X?.source?(0,We.UQ)(this._delegate):"server"===X?.source?(0,We.zN)(this._delegate):(0,We.PL)(this._delegate),Ee.then(ht=>new Sn(this.firestore,new We.W(this.firestore._delegate,this._userDataWriter,this._delegate,ht._snapshot)))}onSnapshot(...X){const Ee=Ie(X),ht=Fe(X,Bt=>new Sn(this.firestore,new We.W(this.firestore._delegate,this._userDataWriter,this._delegate,Bt._snapshot)));return(0,We.cf)(this._delegate,Ee,ht)}withConverter(X){return new an(this.firestore,this._delegate.withConverter(X?de.getInstance(this.firestore,X):null))}}class qt{constructor(X,Ee){this._firestore=X,this._delegate=Ee}get type(){return this._delegate.type}get doc(){return new vt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sn{constructor(X,Ee){this._firestore=X,this._delegate=Ee}get query(){return new an(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(X=>new vt(this._firestore,X))}docChanges(X){return this._delegate.docChanges(X).map(Ee=>new qt(this._firestore,Ee))}forEach(X,Ee){this._delegate.forEach(ht=>{X.call(Ee,new vt(this._firestore,ht))})}isEqual(X){return(0,We.qK)(this._delegate,X._delegate)}}class _n extends an{constructor(X,Ee){super(X,Ee),this.firestore=X,this._delegate=Ee}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const X=this._delegate.parent;return X?new be(this.firestore,X):null}doc(X){try{return new be(this.firestore,void 0===X?(0,We.JU)(this._delegate):(0,We.JU)(this._delegate,X))}catch(Ee){throw ce(Ee,"doc()","CollectionReference.doc()")}}add(X){return(0,We.ET)(this._delegate,X).then(Ee=>new be(this.firestore,Ee))}isEqual(X){return(0,We.Eo)(this._delegate,X._delegate)}withConverter(X){return new _n(this.firestore,this._delegate.withConverter(X?de.getInstance(this.firestore,X):null))}}function er(dt){return(0,We.Cf)(dt,We.my)}class Mt{constructor(...X){this._delegate=new We.Lz(...X)}static documentId(){return new Mt(We.Xb.keyField().canonicalString())}isEqual(X){return(X=(0,Le.m9)(X))instanceof We.Lz&&this._delegate._internalPath.isEqual(X._internalPath)}}class En{constructor(X){this._delegate=X}static serverTimestamp(){const X=(0,We.Bt)();return X._methodName="FieldValue.serverTimestamp",new En(X)}static delete(){const X=(0,We.AK)();return X._methodName="FieldValue.delete",new En(X)}static arrayUnion(...X){const Ee=(0,We.vr)(...X);return Ee._methodName="FieldValue.arrayUnion",new En(Ee)}static arrayRemove(...X){const Ee=(0,We.Ab)(...X);return Ee._methodName="FieldValue.arrayRemove",new En(Ee)}static increment(X){const Ee=(0,We.nP)(X);return Ee._methodName="FieldValue.increment",new En(Ee)}isEqual(X){return this._delegate.isEqual(X._delegate)}}const On={Firestore:kt,GeoPoint:We.F8,Timestamp:We.EK,Blob:Ht,Transaction:le,WriteBatch:ie,DocumentReference:be,DocumentSnapshot:mt,Query:an,QueryDocumentSnapshot:vt,QuerySnapshot:Sn,CollectionReference:_n,FieldPath:Mt,FieldValue:En,setLogLevel:function tt(dt){(0,We.Ub)(dt)},CACHE_SIZE_UNLIMITED:We.IX};!function xt(dt){(function Vt(dt,X){dt.INTERNAL.registerComponent(new Xe.wA("firestore-compat",Ee=>{const ht=Ee.getProvider("app-compat").getImmediate(),Bt=Ee.getProvider("firestore").getImmediate();return X(ht,Bt)},"PUBLIC").setServiceProps(Object.assign({},On)))})(dt,(X,Ee)=>new kt(X,Ee,new Et)),dt.registerVersion("@firebase/firestore-compat","0.3.32")}(sn.Z);var wr=k(7142);function sr(dt,X){return function rn(dt,X=De.z){return new Ue.y(Ee=>{let ht;return null!=X?X.schedule(()=>{ht=dt.onSnapshot({includeMetadataChanges:!0},Ee)}):ht=dt.onSnapshot({includeMetadataChanges:!0},Ee),()=>{ht?.()}})}(dt,X)}function Rt(dt,X){return sr(dt,X).pipe((0,Ge.U)(Ee=>({payload:Ee,type:"query"})))}class cn{ref;afs;constructor(X,Ee){this.ref=X,this.afs=Ee}set(X,Ee){return this.ref.set(X,Ee)}update(X){return this.ref.update(X)}delete(){return this.ref.delete()}collection(X,Ee){const ht=this.ref.collection(X),{ref:Bt,query:Tn}=Dn(ht,Ee);return new xr(Bt,Tn,this.afs)}snapshotChanges(){return function Vn(dt,X){return sr(dt,X).pipe((0,re.O)(void 0),pt(),(0,Ge.U)(Ee=>{const[ht,Bt]=Ee;return Bt.exists?ht?.exists?{payload:Bt,type:"modified"}:{payload:Bt,type:"added"}:{payload:Bt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(X={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:Ee})=>X.idField?{...Ee.data(),[X.idField]:Ee.id}:Ee.data()))}get(X){return(0,ke.D)(this.ref.get(X)).pipe(H.iC)}}function Cn(dt,X){return Rt(dt,X).pipe((0,re.O)(void 0),pt(),(0,Ge.U)(Ee=>{const[ht,Bt]=Ee,Tn=Bt.payload.docChanges(),mr=Tn.map(Yn=>({type:Yn.type,payload:Yn}));return ht&&JSON.stringify(ht.payload.metadata)!==JSON.stringify(Bt.payload.metadata)&&Bt.payload.docs.forEach((Yn,Ae)=>{const K=Tn.find(O=>O.doc.ref.isEqual(Yn.ref)),V=ht?.payload.docs.find(O=>O.ref.isEqual(Yn.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(Yn.metadata)||!K&&V&&JSON.stringify(V.metadata)===JSON.stringify(Yn.metadata)||mr.push({type:"modified",payload:{oldIndex:Ae,newIndex:Ae,type:"modified",doc:Yn}})}),mr}))}function gn(dt,X,Ee){return Cn(dt,Ee).pipe((0,Pt.R)((ht,Bt)=>function rr(dt,X,Ee){return X.forEach(ht=>{Ee.indexOf(ht.type)>-1&&(dt=function Rr(dt,X){switch(X.type){case"added":if(!dt[X.newIndex]||!dt[X.newIndex].doc.ref.isEqual(X.doc.ref))return ur(dt,X.newIndex,0,X);break;case"modified":if(null==dt[X.oldIndex]||dt[X.oldIndex].doc.ref.isEqual(X.doc.ref)){if(X.oldIndex!==X.newIndex){const Ee=dt.slice();return Ee.splice(X.oldIndex,1),Ee.splice(X.newIndex,0,X),Ee}return ur(dt,X.newIndex,1,X)}break;case"removed":if(dt[X.oldIndex]&&dt[X.oldIndex].doc.ref.isEqual(X.doc.ref))return ur(dt,X.oldIndex,1)}return dt}(dt,ht))}),dt}(ht,Bt.map(Tn=>Tn.payload),X),[]),(0,yt.x)(),(0,Ge.U)(ht=>ht.map(Bt=>({type:Bt.type,payload:Bt}))))}function ur(dt,X,Ee,...ht){const Bt=dt.slice();return Bt.splice(X,Ee,...ht),Bt}function Rn(dt){return(!dt||0===dt.length)&&(dt=["added","removed","modified"]),dt}class xr{ref;query;afs;constructor(X,Ee,ht){this.ref=X,this.query=Ee,this.afs=ht}stateChanges(X){let Ee=Cn(this.query,this.afs.schedulers.outsideAngular);return X&&X.length>0&&(Ee=Ee.pipe((0,Ge.U)(ht=>ht.filter(Bt=>X.indexOf(Bt.type)>-1)))),Ee.pipe((0,re.O)(void 0),pt(),(0,Lt.h)(([ht,Bt])=>Bt.length>0||!ht),(0,Ge.U)(([,ht])=>ht),H.iC)}auditTrail(X){return this.stateChanges(X).pipe((0,Pt.R)((Ee,ht)=>[...Ee,...ht],[]))}snapshotChanges(X){const Ee=Rn(X);return gn(this.query,Ee,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(X={}){return Rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(Ee=>Ee.payload.docs.map(ht=>X.idField?{...ht.data(),[X.idField]:ht.id}:ht.data())),H.iC)}get(X){return(0,ke.D)(this.query.get(X)).pipe(H.iC)}add(X){return this.ref.add(X)}doc(X){return new cn(this.ref.doc(X),this.afs)}}class Di{query;afs;constructor(X,Ee){this.query=X,this.afs=Ee}stateChanges(X){return X&&0!==X.length?Cn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(Ee=>Ee.filter(ht=>X.indexOf(ht.type)>-1)),(0,Lt.h)(Ee=>Ee.length>0),H.iC):Cn(this.query,this.afs.schedulers.outsideAngular).pipe(H.iC)}auditTrail(X){return this.stateChanges(X).pipe((0,Pt.R)((Ee,ht)=>[...Ee,...ht],[]))}snapshotChanges(X){const Ee=Rn(X);return gn(this.query,Ee,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(X={}){return Rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(ht=>ht.payload.docs.map(Bt=>X.idField?{[X.idField]:Bt.id,...Bt.data()}:Bt.data())),H.iC)}get(X){return(0,ke.D)(this.query.get(X)).pipe(H.iC)}}const en=new _.OlP("angularfire2.enableFirestorePersistence"),Or=new _.OlP("angularfire2.firestore.persistenceSettings"),$n=new _.OlP("angularfire2.firestore.settings"),tr=new _.OlP("angularfire2.firestore.use-emulator");function Dn(dt,X=(Ee=>Ee)){return{query:X(dt),ref:dt}}let si=(()=>{class dt{schedulers;firestore;persistenceEnabled$;constructor(Ee,ht,Bt,Tn,mr,Yn,Ae,K,V,O,x,ae,xe,ft,At,on,Zt){this.schedulers=Ae;const Jt=(0,Te.on)(Ee,Yn,ht),zn=V;O&&(0,me.nw)(Jt,Yn,x,xe,ft,At,ae,on),[this.firestore,this.persistenceEnabled$]=(0,Te.cc)(`${Jt.name}.firestore`,"AngularFirestore",Jt.name,()=>{const vn=Yn.runOutsideAngular(()=>Jt.firestore());if(Tn&&vn.settings(Tn),zn&&vn.useEmulator(...zn),Bt&&!(0,l.PM)(mr)){const Gn=()=>{try{return(0,ke.D)(vn.enablePersistence(K||void 0).then(()=>!0,()=>!1))}catch(Li){return typeof console<"u"&&console.warn(Li),(0,He.of)(!1)}};return[vn,Yn.runOutsideAngular(Gn)]}return[vn,(0,He.of)(!1)]},[Tn,zn,Bt])}collection(Ee,ht){let Bt;Bt="string"==typeof Ee?this.firestore.collection(Ee):Ee;const{ref:Tn,query:mr}=Dn(Bt,ht),Yn=this.schedulers.ngZone.run(()=>Tn);return new xr(Yn,mr,this)}collectionGroup(Ee,ht){const Bt=ht||(mr=>mr),Tn=this.firestore.collectionGroup(Ee);return new Di(Bt(Tn),this)}doc(Ee){let ht;ht="string"==typeof Ee?this.firestore.doc(Ee):Ee;const Bt=this.schedulers.ngZone.run(()=>ht);return new cn(Bt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ht){return new(ht||dt)(_.LFG(Te.Dh),_.LFG(Te.xv,8),_.LFG(en,8),_.LFG($n,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(H.HU),_.LFG(Or,8),_.LFG(tr,8),_.LFG(me.zQ,8),_.LFG(me.Qv,8),_.LFG(me.L6,8),_.LFG(me._Q,8),_.LFG(me.rT,8),_.LFG(me.lh,8),_.LFG(me.f7,8),_.LFG(H.Rf,8))};static \u0275prov=_.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"any"})}return dt})(),je=(()=>{class dt{constructor(){wr.Z.registerVersion("angularfire",H.q4.full,"fst-compat")}static enablePersistence(Ee){return{ngModule:dt,providers:[{provide:en,useValue:!0},{provide:Or,useValue:Ee}]}}static \u0275fac=function(ht){return new(ht||dt)};static \u0275mod=_.oAB({type:dt});static \u0275inj=_.cJS({providers:[si]})}return dt})()},778:(nn,Je,k)=>{k.d(Je,{Q1:()=>le,TE:()=>be});var l=k(1920),_=k(5592),H=k(2096),Te=k(2459),me=k(6321),De=k(9360),Ue=k(8251),He=k(7398),re=k(4664),se=k(5879),Me=k(7217),pt=k(3106),Ge=k(8153),Pt=k(4537);class yt{constructor(Ie,Fe,mt){this._delegate=Ie,this.task=Fe,this.ref=mt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Lt{constructor(Ie,Fe){this._delegate=Ie,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new yt(this._delegate.snapshot,this,this._ref)}then(Ie,Fe){return this._delegate.then(mt=>{if(Ie)return Ie(new yt(mt,this,this._ref))},Fe)}on(Ie,Fe,mt,vt){let an;return Fe&&(an="function"==typeof Fe?qt=>Fe(new yt(qt,this,this._ref)):{next:Fe.next?qt=>Fe.next(new yt(qt,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(Ie,an,mt||void 0,vt||void 0)}}class wt{constructor(Ie,Fe){this._delegate=Ie,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(Ie=>new sn(Ie,this._service))}get items(){return this._delegate.items.map(Ie=>new sn(Ie,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sn{constructor(Ie,Fe){this._delegate=Ie,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ie){const Fe=(0,Ge.g6)(this._delegate,Ie);return new sn(Fe,this.storage)}get root(){return new sn(this._delegate.root,this.storage)}get parent(){const Ie=this._delegate.parent;return null==Ie?null:new sn(Ie,this.storage)}put(Ie,Fe){return this._throwIfRoot("put"),new Lt((0,Ge.B0)(this._delegate,Ie,Fe),this)}putString(Ie,Fe=Ge.bm.RAW,mt){this._throwIfRoot("putString");const vt=(0,Ge.qm)(Fe,Ie),an=Object.assign({},mt);return null==an.contentType&&null!=vt.contentType&&(an.contentType=vt.contentType),new Lt(new Ge.IX(this._delegate,new Ge.UJ(vt.data,!0),an),this)}listAll(){return(0,Ge.aF)(this._delegate).then(Ie=>new wt(Ie,this.storage))}list(Ie){return(0,Ge.pb)(this._delegate,Ie||void 0).then(Fe=>new wt(Fe,this.storage))}getMetadata(){return(0,Ge.sd)(this._delegate)}updateMetadata(Ie){return(0,Ge.Ym)(this._delegate,Ie)}getDownloadURL(){return(0,Ge.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ge.oq)(this._delegate)}_throwIfRoot(Ie){if(""===this._delegate._location.path)throw(0,Ge.y4)(Ie)}}class We{constructor(Ie,Fe){this.app=Ie,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ie){if(Le(Ie))throw(0,Ge.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new sn((0,Ge.iH)(this._delegate,Ie),this)}refFromURL(Ie){if(!Le(Ie))throw(0,Ge.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ge.gE.makeFromUrl(Ie,this._delegate.host)}catch{throw(0,Ge.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new sn((0,Ge.iH)(this._delegate,Ie),this)}setMaxUploadRetryTime(Ie){this._delegate.maxUploadRetryTime=Ie}setMaxOperationRetryTime(Ie){this._delegate.maxOperationRetryTime=Ie}useEmulator(Ie,Fe,mt={}){(0,Ge.a1)(this._delegate,Ie,Fe,mt)}}function Le(ce){return/^[A-Za-z]+:\/\//.test(ce)}function _t(ce,{instanceIdentifier:Ie}){const Fe=ce.getProvider("app-compat").getImmediate(),mt=ce.getProvider("storage").getImmediate({identifier:Ie});return new We(Fe,mt)}!function Dt(ce){const Ie={TaskState:Ge.$Y,TaskEvent:Ge.FN,StringFormat:Ge.bm,Storage:We,Reference:sn};ce.INTERNAL.registerComponent(new Pt.wA("storage-compat",_t,"PUBLIC").setServiceProps(Ie).setMultipleInstances(!0)),ce.registerVersion("@firebase/storage-compat","0.3.8")}(pt.Z);var ye=k(7142);function Xt(ce){const Ie=function Ht(ce){return new _.y(Ie=>{const Fe=qt=>Ie.next(qt);Fe(ce.snapshot);const an=ce.on("state_changed",Fe);return ce.then(qt=>{Fe(qt),Ie.complete()},qt=>{Fe(ce.snapshot),(qt=>{Ie.error(qt)})(qt)}),function(){an()}}).pipe(function ke(ce,Ie=me.z){return(0,De.e)((Fe,mt)=>{let vt=null,an=null,qt=null;const Sn=()=>{if(vt){vt.unsubscribe(),vt=null;const er=an;an=null,mt.next(er)}};function _n(){const er=qt+ce,Mt=Ie.now();if(Mt<er)return vt=this.schedule(void 0,er-Mt),void mt.add(vt);Sn()}Fe.subscribe((0,Ue.x)(mt,er=>{an=er,qt=Ie.now(),vt||(vt=Ie.schedule(_n,ce),mt.add(vt))},()=>{Sn(),mt.complete()},void 0,()=>{an=vt=null}))})}(0))}(ce);return{task:ce,then:ce.then.bind(ce),catch:ce.catch.bind(ce),pause:ce.pause.bind(ce),cancel:ce.cancel.bind(ce),resume:ce.resume.bind(ce),snapshotChanges:()=>Ie,percentageChanges:()=>Ie.pipe((0,He.U)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function xn(ce){return{getDownloadURL:()=>(0,H.of)(void 0).pipe(l.fc,(0,re.w)(()=>ce.getDownloadURL()),l.iC),getMetadata:()=>(0,H.of)(void 0).pipe(l.fc,(0,re.w)(()=>ce.getMetadata()),l.iC),delete:()=>(0,Te.D)(ce.delete()),child:Ie=>xn(ce.child(Ie)),updateMetadata:Ie=>(0,Te.D)(ce.updateMetadata(Ie)),put:(Ie,Fe)=>Xt(ce.put(Ie,Fe)),putString:(Ie,Fe,mt)=>Xt(ce.putString(Ie,Fe,mt)),list:Ie=>(0,Te.D)(ce.list(Ie)),listAll:()=>(0,Te.D)(ce.listAll())}}const Et=new se.OlP("angularfire2.storageBucket"),kt=new se.OlP("angularfire2.storage.maxUploadRetryTime"),Ut=new se.OlP("angularfire2.storage.maxOperationRetryTime"),tt=new se.OlP("angularfire2.storage.use-emulator");let le=(()=>{class ce{storage;constructor(Fe,mt,vt,an,qt,Sn,_n,er,Mt,En){const On=(0,Me.on)(Fe,qt,mt);this.storage=(0,Me.cc)(`${On.name}.storage.${vt}`,"AngularFireStorage",On.name,()=>{const Vt=qt.runOutsideAngular(()=>On.storage(vt||void 0)),xt=Mt;return xt&&Vt.useEmulator(...xt),_n&&Vt.setMaxUploadRetryTime(_n),er&&Vt.setMaxOperationRetryTime(er),Vt},[_n,er])}ref(Fe){return xn(this.storage.ref(Fe))}refFromURL(Fe){return xn(this.storage.refFromURL(Fe))}upload(Fe,mt,vt){return xn(this.storage.ref(Fe)).put(mt,vt)}static \u0275fac=function(mt){return new(mt||ce)(se.LFG(Me.Dh),se.LFG(Me.xv,8),se.LFG(Et,8),se.LFG(se.Lbi),se.LFG(se.R0b),se.LFG(l.HU),se.LFG(kt,8),se.LFG(Ut,8),se.LFG(tt,8),se.LFG(l.Rf,8))};static \u0275prov=se.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"})}return ce})(),de=(()=>{class ce{static \u0275fac=function(mt){return new(mt||ce)};static \u0275mod=se.oAB({type:ce});static \u0275inj=se.cJS({})}return ce})(),be=(()=>{class ce{constructor(){ye.Z.registerVersion("angularfire",l.q4.full,"gcs-compat")}static \u0275fac=function(mt){return new(mt||ce)};static \u0275mod=se.oAB({type:ce});static \u0275inj=se.cJS({providers:[le],imports:[de]})}return ce})()},7217:(nn,Je,k)=>{k.d(Je,{Dh:()=>ke,GT:()=>De,cc:()=>Ge,hO:()=>pt,on:()=>re,pX:()=>me,xv:()=>He});var l=k(5879),_=k(1920),H=k(7142);const Te=["ngOnDestroy"],me=(wt,sn,We,Le={})=>new Proxy(wt,{get:(Xe,Ke)=>We.runOutsideAngular(()=>{if(wt[Ke])return Le?.spy?.get&&Le.spy.get(Ke,wt[Ke]),wt[Ke];if(Te.indexOf(Ke)>-1)return()=>{};const Ye=sn.toPromise().then(_t=>{const Dt=_t?.[Ke];return"function"==typeof Dt?Dt.bind(_t):Dt?.then?Dt.then(ye=>We.run(()=>ye)):We.run(()=>Dt)});return new Proxy(()=>{},{get:(_t,Dt)=>Ye[Dt],apply:(_t,Dt,ye)=>Ye.then(Ht=>{const Xt=Ht?.(...ye);return Le?.spy?.apply&&Le.spy.apply(Ke,ye,Xt),Xt})})})}),De=(wt,sn)=>{sn.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Le=>{Object.defineProperty(wt.prototype,Le,Object.getOwnPropertyDescriptor(We.prototype||We,Le))})})};class Ue{constructor(sn){return sn}}const ke=new l.OlP("angularfire2.app.options"),He=new l.OlP("angularfire2.app.name");function re(wt,sn,We){const Xe="object"==typeof We&&We||{};Xe.name=Xe.name||"string"==typeof We&&We||"[DEFAULT]";const Ye=H.Z.apps.filter(_t=>_t&&_t.name===Xe.name)[0]||sn.runOutsideAngular(()=>H.Z.initializeApp(wt,Xe));try{if(JSON.stringify(wt)!==JSON.stringify(Ye.options)){const _t=!!module.hot;se("error",`${Ye.name} Firebase App already initialized with different options${_t?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ue(Ye)}const se=(wt,...sn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[wt](...sn)},Me={provide:Ue,useFactory:re,deps:[ke,l.R0b,[new l.FiY,He]]};let pt=(()=>{class wt{static initializeApp(We,Le){return{ngModule:wt,providers:[{provide:ke,useValue:We},{provide:He,useValue:Le}]}}constructor(We){H.Z.registerVersion("angularfire",_.q4.full,"core"),H.Z.registerVersion("angularfire",_.q4.full,"app-compat"),H.Z.registerVersion("angular",l.q4F.full,We.toString())}static \u0275fac=function(Le){return new(Le||wt)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:wt});static \u0275inj=l.cJS({providers:[Me]})}return wt})();function Ge(wt,sn,We,Le,Xe){const[,Ke,Ye]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===wt)||[];if(Ke)return function Pt(wt,sn){try{return wt.toString()===sn.toString()}catch{return wt===sn}}(Xe,Ye)||(Lt("error",`${sn} was already initialized on the ${We} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),Lt("warn",{is:Xe,was:Ye})),Ke;{const _t=Le();return globalThis.\u0275AngularfireInstanceCache.push([wt,_t,Xe]),_t}}const yt=typeof module<"u"&&!!module.hot,Lt=(wt,...sn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[wt](...sn)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(nn,Je,k)=>{k.d(Je,{q4:()=>Ge,iC:()=>Xt,fc:()=>ye,HU:()=>Ke,Rf:()=>wt,vb:()=>Lt,JM:()=>yt,u3:()=>kt});var l=k(5879),_=k(3182),H=k(1954),me=k(2631);const Ue=new class De extends me.v{}(class Te extends H.o{constructor(tt,le){super(tt,le),this.scheduler=tt,this.work=le}schedule(tt,le=0){return le>0?super.schedule(tt,le):(this.delay=le,this.state=tt,this.scheduler.flush(this),this)}execute(tt,le){return le>0||this.closed?super.execute(tt,le):this._execute(tt,le)}requestAsyncId(tt,le,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(tt,le,ie):(tt.flush(this),0)}});var He=k(6321),re=k(5592),se=k(9397),Me=k(3093),pt=k(5137);const Ge=new l.GfV("ANGULARFIRE2_VERSION");function yt(Ut,tt,le){if(tt){if(1===tt.length)return tt[0];const be=tt.filter(ce=>ce.app===le);if(1===be.length)return be[0]}return le.container.getProvider(Ut).getImmediate({optional:!0})}const Lt=(Ut,tt)=>{const le=tt?[tt]:(0,_.C6)(),ie=[];return le.forEach(de=>{de.container.getProvider(Ut).instances.forEach(ce=>{ie.includes(ce)||ie.push(ce)})}),ie};class wt{constructor(){return Lt(sn)}}const sn="app-check";function We(){}class Le{zone;delegate;constructor(tt,le=Ue){this.zone=tt,this.delegate=le}now(){return this.delegate.now()}schedule(tt,le,ie){const de=this.zone;return this.delegate.schedule(function(ce){de.runGuarded(()=>{tt.apply(this,[ce])})},le,ie)}}class Xe{zone;task=null;constructor(tt){this.zone=tt}call(tt,le){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We)),le.pipe((0,se.b)({next:ie,complete:ie,error:ie})).subscribe(tt).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ke=(()=>{class Ut{ngZone;outsideAngular;insideAngular;constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new Le(Zone.current)),this.insideAngular=le.run(()=>new Le(Zone.current,He.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ie){return new(ie||Ut)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();function Ye(){const Ut=globalThis.\u0275AngularFireScheduler;if(!Ut)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ut}function Dt(Ut){return Ye().ngZone.run(()=>Ut())}function ye(Ut){return Ut.pipe((0,Me.Q)(Ye().outsideAngular))}function Xt(Ut){return function xn(Ut){return function(le){return(le=le.lift(new Xe(Ut.ngZone))).pipe((0,pt.R)(Ut.outsideAngular),(0,Me.Q)(Ut.insideAngular))}}(Ye())(Ut)}const Et=(Ut,tt)=>function(){const ie=arguments;return tt&&setTimeout(()=>{"scheduled"===tt.state&&tt.invoke()},10),Dt(()=>Ut.apply(void 0,ie))},kt=(Ut,tt)=>function(){let le;const ie=arguments;for(let be=0;be<arguments.length;be++)"function"==typeof ie[be]&&(tt&&(le||=Dt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We))),ie[be]=Et(ie[be],le));const de=function _t(Ut){return Ye().ngZone.runOutsideAngular(()=>Ut())}(()=>Ut.apply(this,ie));if(!tt){if(de instanceof re.y){const be=Ye();return de.pipe((0,pt.R)(be.outsideAngular),(0,Me.Q)(be.insideAngular))}return Dt(()=>de)}return de instanceof re.y?de.pipe(Xt):de instanceof Promise?Dt(()=>new Promise((be,ce)=>de.then(Ie=>Dt(()=>be(Ie)),Ie=>Dt(()=>ce(Ie))))):"function"==typeof de&&le?function(){return setTimeout(()=>{le&&"scheduled"===le.state&&le.invoke()},10),de.apply(this,arguments)}:Dt(()=>de)}},95:(nn,Je,k)=>{k.d(Je,{Wl:()=>Lt,Fj:()=>Le,CE:()=>Ro,qu:()=>fs,u:()=>Ar,sg:()=>Qt,x0:()=>Qn,u5:()=>Ds,JJ:()=>Cn,JL:()=>gn,F:()=>yi,On:()=>vo,YN:()=>jr,UX:()=>ca,Q7:()=>Kr,EJ:()=>Ri,kI:()=>ye,_Y:()=>Bi,Kr:()=>gt});var l=k(5879),_=k(6814),H=k(2459),Te=k(5592),me=k(7453),De=k(4829),Ue=k(4564),ke=k(8251),He=k(7400),re=k(2714),Me=k(7398);let pt=(()=>{class U{constructor(P,te){this._renderer=P,this._elementRef=te,this.onChange=Pe=>{},this.onTouched=()=>{}}setProperty(P,te){this._renderer.setProperty(this._elementRef.nativeElement,P,te)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:U})}return U})(),Ge=(()=>{class U extends pt{static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=l.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=l.lG2({type:U,features:[l.qOj]})}return U})();const Pt=new l.OlP("NgValueAccessor"),yt={provide:Pt,useExisting:(0,l.Gpc)(()=>Lt),multi:!0};let Lt=(()=>{class U extends Ge{writeValue(P){this.setProperty("checked",P)}static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=l.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(te,Pe){1&te&&l.NdJ("change",function(Ln){return Pe.onChange(Ln.target.checked)})("blur",function(){return Pe.onTouched()})},features:[l._Bn([yt]),l.qOj]})}return U})();const wt={provide:Pt,useExisting:(0,l.Gpc)(()=>Le),multi:!0},We=new l.OlP("CompositionEventMode");let Le=(()=>{class U extends pt{constructor(P,te,Pe){super(P,te),this._compositionMode=Pe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sn(){const U=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(We,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(te,Pe){1&te&&l.NdJ("input",function(Ln){return Pe._handleInput(Ln.target.value)})("blur",function(){return Pe.onTouched()})("compositionstart",function(){return Pe._compositionStart()})("compositionend",function(Ln){return Pe._compositionEnd(Ln.target.value)})},features:[l._Bn([wt]),l.qOj]})}return U})();function Xe(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Ke(U){return null!=U&&"number"==typeof U.length}const Ye=new l.OlP("NgValidators"),_t=new l.OlP("NgAsyncValidators"),Dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ye{static min(G){return function Ht(U){return G=>{if(Xe(G.value)||Xe(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P<U?{min:{min:U,actual:G.value}}:null}}(G)}static max(G){return function Xt(U){return G=>{if(Xe(G.value)||Xe(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P>U?{max:{max:U,actual:G.value}}:null}}(G)}static required(G){return xn(G)}static requiredTrue(G){return function Et(U){return!0===U.value?null:{required:!0}}(G)}static email(G){return function kt(U){return Xe(U.value)||Dt.test(U.value)?null:{email:!0}}(G)}static minLength(G){return function Ut(U){return G=>Xe(G.value)||!Ke(G.value)?null:G.value.length<U?{minlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static maxLength(G){return function tt(U){return G=>Ke(G.value)&&G.value.length>U?{maxlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static pattern(G){return function le(U){if(!U)return ie;let G,P;return"string"==typeof U?(P="","^"!==U.charAt(0)&&(P+="^"),P+=U,"$"!==U.charAt(U.length-1)&&(P+="$"),G=new RegExp(P)):(P=U.toString(),G=U),te=>{if(Xe(te.value))return null;const Pe=te.value;return G.test(Pe)?null:{pattern:{requiredPattern:P,actualValue:Pe}}}}(G)}static nullValidator(G){return null}static compose(G){return vt(G)}static composeAsync(G){return qt(G)}}function xn(U){return Xe(U.value)?{required:!0}:null}function ie(U){return null}function de(U){return null!=U}function be(U){return(0,l.QGY)(U)?(0,H.D)(U):U}function ce(U){let G={};return U.forEach(P=>{G=null!=P?{...G,...P}:G}),0===Object.keys(G).length?null:G}function Ie(U,G){return G.map(P=>P(U))}function mt(U){return U.map(G=>function Fe(U){return!U.validate}(G)?G:P=>G.validate(P))}function vt(U){if(!U)return null;const G=U.filter(de);return 0==G.length?null:function(P){return ce(Ie(P,G))}}function an(U){return null!=U?vt(mt(U)):null}function qt(U){if(!U)return null;const G=U.filter(de);return 0==G.length?null:function(P){return function se(...U){const G=(0,Ue.jO)(U),{args:P,keys:te}=(0,me.D)(U),Pe=new Te.y(fn=>{const{length:Ln}=P;if(!Ln)return void fn.complete();const Ni=new Array(Ln);let eo=Ln,ki=Ln;for(let ts=0;ts<Ln;ts++){let fo=!1;(0,De.Xf)(P[ts]).subscribe((0,ke.x)(fn,Co=>{fo||(fo=!0,ki--),Ni[ts]=Co},()=>eo--,void 0,()=>{(!eo||!fo)&&(ki||fn.next(te?(0,re.n)(te,Ni):Ni),fn.complete())}))}});return G?Pe.pipe((0,He.Z)(G)):Pe}(Ie(P,G).map(be)).pipe((0,Me.U)(ce))}}function Sn(U){return null!=U?qt(mt(U)):null}function _n(U,G){return null===U?[G]:Array.isArray(U)?[...U,G]:[U,G]}function er(U){return U._rawValidators}function Mt(U){return U._rawAsyncValidators}function En(U){return U?Array.isArray(U)?U:[U]:[]}function On(U,G){return Array.isArray(U)?U.includes(G):U===G}function Vt(U,G){const P=En(G);return En(U).forEach(Pe=>{On(P,Pe)||P.push(Pe)}),P}function xt(U,G){return En(G).filter(P=>!On(U,P))}class wr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=an(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=Sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G=void 0){this.control&&this.control.reset(G)}hasError(G,P){return!!this.control&&this.control.hasError(G,P)}getError(G,P){return this.control?this.control.getError(G,P):null}}class rn extends wr{get formDirective(){return null}get path(){return null}}class sr extends wr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vn{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class U extends Vn{constructor(P){super(P)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(sr,2))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(te,Pe){2&te&&l.ekj("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)},features:[l.qOj]})}return U})(),gn=(()=>{class U extends Vn{constructor(P){super(P)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(rn,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(te,Pe){2&te&&l.ekj("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)("ng-submitted",Pe.isSubmitted)},features:[l.qOj]})}return U})();const Bt="VALID",Tn="INVALID",mr="PENDING",Yn="DISABLED";function Ae(U){return(x(U)?U.validators:U)||null}function V(U,G){return(x(G)?G.asyncValidators:U)||null}function x(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function ae(U,G,P){const te=U.controls;if(!(G?Object.keys(te):te).length)throw new l.vHH(1e3,"");if(!te[P])throw new l.vHH(1001,"")}function xe(U,G,P){U._forEachChild((te,Pe)=>{if(void 0===P[Pe])throw new l.vHH(1002,"")})}class ft{constructor(G,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Bt}get invalid(){return this.status===Tn}get pending(){return this.status==mr}get disabled(){return this.status===Yn}get enabled(){return this.status!==Yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(Vt(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(Vt(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(xt(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(xt(G,this._rawAsyncValidators))}hasValidator(G){return On(this._rawValidators,G)}hasAsyncValidator(G){return On(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=mr,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Yn,this.errors=null,this._forEachChild(te=>{te.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(te=>te(!0))}enable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Bt,this._forEachChild(te=>{te.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bt||this.status===mr)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yn:Bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=mr,this._hasOwnPendingAsyncValidator=!0;const P=be(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,P={}){this.errors=G,this._updateControlsErrors(!1!==P.emitEvent)}get(G){let P=G;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((te,Pe)=>te&&te._find(Pe),this)}getError(G,P){const te=P?this.get(P):this;return te&&te.errors?te.errors[G]:null}hasError(G,P){return!!this.getError(G,P)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Yn:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mr)?mr:this._anyControlsHaveStatus(Tn)?Tn:Bt}_anyControlsHaveStatus(G){return this._anyControls(P=>P.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){x(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function K(U){return Array.isArray(U)?an(U):U||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function O(U){return Array.isArray(U)?Sn(U):U||null}(this._rawAsyncValidators)}}class At extends ft{constructor(G,P,te){super(Ae(P),V(te,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,P){return this.controls[G]?this.controls[G]:(this.controls[G]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(G,P,te={}){this.registerControl(G,P),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(G,P={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(G,P,te={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],P&&this.registerControl(G,P),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,P={}){xe(this,0,G),Object.keys(G).forEach(te=>{ae(this,!0,te),this.controls[te].setValue(G[te],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(Object.keys(G).forEach(te=>{const Pe=this.controls[te];Pe&&Pe.patchValue(G[te],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G={},P={}){this._forEachChild((te,Pe)=>{te.reset(G?G[Pe]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(G,P,te)=>(G[te]=P.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(P,te)=>!!te._syncPendingControls()||P);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(P=>{const te=this.controls[P];te&&G(te,P)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[P,te]of Object.entries(this.controls))if(this.contains(P)&&G(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,te,Pe)=>((te.enabled||this.disabled)&&(P[Pe]=te.value),P))}_reduceChildren(G,P){let te=G;return this._forEachChild((Pe,fn)=>{te=P(te,Pe,fn)}),te}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}class Jt extends At{}const vn=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Gn}),Gn="always";function Li(U,G){return[...G.path,U]}function Ai(U,G,P=Gn){kr(U,G),G.valueAccessor.writeValue(U.value),(U.disabled||"always"===P)&&G.valueAccessor.setDisabledState?.(U.disabled),function st(U,G){G.valueAccessor.registerOnChange(P=>{U._pendingValue=P,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&It(U,G)})}(U,G),function tn(U,G){const P=(te,Pe)=>{G.valueAccessor.writeValue(te),Pe&&G.viewToModelUpdate(te)};U.registerOnChange(P),G._registerOnDestroy(()=>{U._unregisterOnChange(P)})}(U,G),function qe(U,G){G.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&It(U,G),"submit"!==U.updateOn&&U.markAsTouched()})}(U,G),function Gi(U,G){if(G.valueAccessor.setDisabledState){const P=te=>{G.valueAccessor.setDisabledState(te)};U.registerOnDisabledChange(P),G._registerOnDestroy(()=>{U._unregisterOnDisabledChange(P)})}}(U,G)}function zr(U,G,P=!0){const te=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(te),G.valueAccessor.registerOnTouched(te)),Wn(U,G),U&&(G._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Qi(U,G){U.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(G)})}function kr(U,G){const P=er(U);null!==G.validator?U.setValidators(_n(P,G.validator)):"function"==typeof P&&U.setValidators([P]);const te=Mt(U);null!==G.asyncValidator?U.setAsyncValidators(_n(te,G.asyncValidator)):"function"==typeof te&&U.setAsyncValidators([te]);const Pe=()=>U.updateValueAndValidity();Qi(G._rawValidators,Pe),Qi(G._rawAsyncValidators,Pe)}function Wn(U,G){let P=!1;if(null!==U){if(null!==G.validator){const Pe=er(U);if(Array.isArray(Pe)&&Pe.length>0){const fn=Pe.filter(Ln=>Ln!==G.validator);fn.length!==Pe.length&&(P=!0,U.setValidators(fn))}}if(null!==G.asyncValidator){const Pe=Mt(U);if(Array.isArray(Pe)&&Pe.length>0){const fn=Pe.filter(Ln=>Ln!==G.asyncValidator);fn.length!==Pe.length&&(P=!0,U.setAsyncValidators(fn))}}}const te=()=>{};return Qi(G._rawValidators,te),Qi(G._rawAsyncValidators,te),P}function It(U,G){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function bn(U,G){kr(U,G)}function lr(U,G){if(!U.hasOwnProperty("model"))return!1;const P=U.model;return!!P.isFirstChange()||!Object.is(G,P.currentValue)}function ai(U,G){U._syncPendingControls(),G.forEach(P=>{const te=P.control;"submit"===te.updateOn&&te._pendingChange&&(P.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}function Uo(U,G){if(!G)return null;let P,te,Pe;return Array.isArray(G),G.forEach(fn=>{fn.constructor===Le?P=fn:function Vo(U){return Object.getPrototypeOf(U.constructor)===Ge}(fn)?te=fn:Pe=fn}),Pe||te||P||null}const Ji={provide:rn,useExisting:(0,l.Gpc)(()=>yi)},ui=(()=>Promise.resolve())();let yi=(()=>{class U extends rn{constructor(P,te,Pe){super(),this.callSetDisabledState=Pe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new At({},an(P),Sn(te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){ui.then(()=>{const te=this._findContainer(P.path);P.control=te.registerControl(P.name,P.control),Ai(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){ui.then(()=>{const te=this._findContainer(P.path);te&&te.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){ui.then(()=>{const te=this._findContainer(P.path),Pe=new At({});bn(Pe,P),te.registerControl(P.name,Pe),Pe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){ui.then(()=>{const te=this._findContainer(P.path);te&&te.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,te){ui.then(()=>{this.form.get(P.path).setValue(te)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,ai(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(Ye,10),l.Y36(_t,10),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(te,Pe){1&te&&l.NdJ("submit",function(Ln){return Pe.onSubmit(Ln)})("reset",function(){return Pe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Ji]),l.qOj]})}return U})();function nr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}function Mo(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const _r=class extends ft{constructor(G=null,P,te){super(Ae(P),V(te,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),x(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=Mo(G)?G.value:G)}setValue(G,P={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(G,P={}){this.setValue(G,P)}reset(G=this.defaultValue,P={}){this._applyFormState(G),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){nr(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){nr(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){Mo(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}};let Mi=(()=>{class U extends rn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Li(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=l.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=l.lG2({type:U,features:[l.qOj]})}return U})();const Gr={provide:sr,useExisting:(0,l.Gpc)(()=>vo)},Ui=(()=>Promise.resolve())();let vo=(()=>{class U extends sr{constructor(P,te,Pe,fn,Ln,Ni){super(),this._changeDetectorRef=Ln,this.callSetDisabledState=Ni,this.control=new _r,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=P,this._setValidators(te),this._setAsyncValidators(Pe),this.valueAccessor=Uo(0,fn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const te=P.name.previousValue;this.formDirective.removeControl({name:te,path:this._getPath(te)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),lr(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ai(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Ui.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const te=P.isDisabled.currentValue,Pe=0!==te&&(0,l.VuI)(te);Ui.then(()=>{Pe&&!this.control.disabled?this.control.disable():!Pe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?Li(P,this._parent):[P]}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(rn,9),l.Y36(Ye,10),l.Y36(_t,10),l.Y36(Pt,10),l.Y36(l.sBO,8),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Gr]),l.qOj,l.TTD]})}return U})(),Bi=(()=>{class U{static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return U})(),Qr=(()=>{class U{static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({})}return U})();const Io=new l.OlP("NgModelWithFormControlWarning"),Nr={provide:rn,useExisting:(0,l.Gpc)(()=>Qt)};let Qt=(()=>{class U extends rn{constructor(P,te,Pe){super(),this.callSetDisabledState=Pe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(P),this._setAsyncValidators(te)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const te=this.form.get(P.path);return Ai(te,P,this.callSetDisabledState),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),te}getControl(P){return this.form.get(P.path)}removeControl(P){zr(P.control||null,P,!1),function qr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,te){this.form.get(P.path).setValue(te)}onSubmit(P){return this.submitted=!0,ai(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const te=P.control,Pe=this.form.get(P.path);te!==Pe&&(zr(te||null,P),(U=>U instanceof _r)(Pe)&&(Ai(Pe,P,this.callSetDisabledState),P.control=Pe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const te=this.form.get(P.path);bn(te,P),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const te=this.form.get(P.path);te&&function Pn(U,G){return Wn(U,G)}(te,P)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kr(this.form,this),this._oldForm&&Wn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(Ye,10),l.Y36(_t,10),l.Y36(vn,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(te,Pe){1&te&&l.NdJ("submit",function(Ln){return Pe.onSubmit(Ln)})("reset",function(){return Pe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Nr]),l.qOj,l.TTD]})}return U})();const Fn={provide:rn,useExisting:(0,l.Gpc)(()=>Qn)};let Qn=(()=>{class U extends Mi{constructor(P,te,Pe){super(),this.name=null,this._parent=P,this._setValidators(te),this._setAsyncValidators(Pe)}_checkParentType(){Zr(this._parent)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(rn,13),l.Y36(Ye,10),l.Y36(_t,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([Fn]),l.qOj]})}return U})();const Ci={provide:rn,useExisting:(0,l.Gpc)(()=>Ro)};let Ro=(()=>{class U extends rn{constructor(P,te,Pe){super(),this.name=null,this._parent=P,this._setValidators(te),this._setAsyncValidators(Pe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Li(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Zr(this._parent)}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(rn,13),l.Y36(Ye,10),l.Y36(_t,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([Ci]),l.qOj]})}return U})();function Zr(U){return!(U instanceof Qn||U instanceof Qt||U instanceof Ro)}const io={provide:sr,useExisting:(0,l.Gpc)(()=>Ar)};let Ar=(()=>{class U extends sr{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,te,Pe,fn,Ln){super(),this._ngModelWarningConfig=Ln,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(te),this._setAsyncValidators(Pe),this.valueAccessor=Uo(0,fn)}ngOnChanges(P){this._added||this._setUpControl(),lr(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return Li(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(te){return new(te||U)(l.Y36(rn,13),l.Y36(Ye,10),l.Y36(_t,10),l.Y36(Pt,10),l.Y36(Io,8))};static#n=this.\u0275dir=l.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([io]),l.qOj,l.TTD]})}return U})();const co={provide:Pt,useExisting:(0,l.Gpc)(()=>Ri),multi:!0};function lo(U,G){return null==U?`${G}`:(G&&"object"==typeof G&&(G="Object"),`${U}: ${G}`.slice(0,50))}let Ri=(()=>{class U extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){this.value=P;const Pe=lo(this._getOptionId(P),P);this.setProperty("value",Pe)}registerOnChange(P){this.onChange=te=>{this.value=this._getOptionValue(te),P(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(P){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te),P))return te;return null}_getOptionValue(P){const te=function kn(U){return U.split(":")[0]}(P);return this._optionMap.has(te)?this._optionMap.get(te):P}static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=l.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(te,Pe){1&te&&l.NdJ("change",function(Ln){return Pe.onChange(Ln.target.value)})("blur",function(){return Pe.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([co]),l.qOj]})}return U})(),jr=(()=>{class U{constructor(P,te,Pe){this._element=P,this._renderer=te,this._select=Pe,this._select&&(this.id=this._select._registerOption())}set ngValue(P){null!=this._select&&(this._select._optionMap.set(this.id,P),this._setElementValue(lo(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._setElementValue(P),this._select&&this._select.writeValue(this._select.value)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ri,9))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return U})();const q={provide:Pt,useExisting:(0,l.Gpc)(()=>$e),multi:!0};function B(U,G){return null==U?`${G}`:("string"==typeof G&&(G=`'${G}'`),G&&"object"==typeof G&&(G="Object"),`${U}: ${G}`.slice(0,50))}let $e=(()=>{class U extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){let te;if(this.value=P,Array.isArray(P)){const Pe=P.map(fn=>this._getOptionId(fn));te=(fn,Ln)=>{fn._setSelected(Pe.indexOf(Ln.toString())>-1)}}else te=(Pe,fn)=>{Pe._setSelected(!1)};this._optionMap.forEach(te)}registerOnChange(P){this.onChange=te=>{const Pe=[],fn=te.selectedOptions;if(void 0!==fn){const Ln=fn;for(let Ni=0;Ni<Ln.length;Ni++){const ki=this._getOptionValue(Ln[Ni].value);Pe.push(ki)}}else{const Ln=te.options;for(let Ni=0;Ni<Ln.length;Ni++){const eo=Ln[Ni];if(eo.selected){const ki=this._getOptionValue(eo.value);Pe.push(ki)}}}this.value=Pe,P(Pe)}}_registerOption(P){const te=(this._idCounter++).toString();return this._optionMap.set(te,P),te}_getOptionId(P){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te)._value,P))return te;return null}_getOptionValue(P){const te=function ge(U){return U.split(":")[0]}(P);return this._optionMap.has(te)?this._optionMap.get(te)._value:P}static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=l.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(te,Pe){1&te&&l.NdJ("change",function(Ln){return Pe.onChange(Ln.target)})("blur",function(){return Pe.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([q]),l.qOj]})}return U})(),gt=(()=>{class U{constructor(P,te,Pe){this._element=P,this._renderer=te,this._select=Pe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(P){null!=this._select&&(this._value=P,this._setElementValue(B(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._select?(this._value=P,this._setElementValue(B(this.id,P)),this._select.writeValue(this._select.value)):this._setElementValue(P)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}_setSelected(P){this._renderer.setProperty(this._element.nativeElement,"selected",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(te){return new(te||U)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36($e,9))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return U})(),St=(()=>{class U{constructor(){this._validator=ie}ngOnChanges(P){if(this.inputName in P){const te=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(te),this._validator=this._enabled?this.createValidator(te):ie,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275dir=l.lG2({type:U,features:[l.TTD]})}return U})();const $r={provide:Ye,useExisting:(0,l.Gpc)(()=>Kr),multi:!0};let Kr=(()=>{class U extends St{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=P=>xn}enabled(P){return P}static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=l.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(te,Pe){2&te&&l.uIk("required",Pe._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([$r]),l.qOj]})}return U})(),ho=(()=>{class U{static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[Qr]})}return U})();class Go extends ft{constructor(G,P,te){super(Ae(P),V(te,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[this._adjustIndex(G)]}push(G,P={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(G,P,te={}){this.controls.splice(G,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(G,P={}){let te=this._adjustIndex(G);te<0&&(te=0),this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),this.controls.splice(te,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(G,P,te={}){let Pe=this._adjustIndex(G);Pe<0&&(Pe=0),this.controls[Pe]&&this.controls[Pe]._registerOnCollectionChange(()=>{}),this.controls.splice(Pe,1),P&&(this.controls.splice(Pe,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,P={}){xe(this,0,G),G.forEach((te,Pe)=>{ae(this,!1,Pe),this.at(Pe).setValue(te,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(G.forEach((te,Pe)=>{this.at(Pe)&&this.at(Pe).patchValue(te,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G=[],P={}){this._forEachChild((te,Pe)=>{te.reset(G[Pe],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(G=>G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_adjustIndex(G){return G<0?G+this.length:G}_syncPendingControls(){let G=this.controls.reduce((P,te)=>!!te._syncPendingControls()||P,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((P,te)=>{G(P,te)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(P=>P.enabled&&G(P))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}_find(G){return this.at(G)??null}}function wi(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let fs=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new U;return P.useNonNullable=!0,P}group(P,te=null){const Pe=this._reduceControls(P);let fn={};return wi(te)?fn=te:null!==te&&(fn.validators=te.validator,fn.asyncValidators=te.asyncValidator),new At(Pe,fn)}record(P,te=null){const Pe=this._reduceControls(P);return new Jt(Pe,te)}control(P,te,Pe){let fn={};return this.useNonNullable?(wi(te)?fn=te:(fn.validators=te,fn.asyncValidators=Pe),new _r(P,{...fn,nonNullable:!0})):new _r(P,te,Pe)}array(P,te,Pe){const fn=P.map(Ln=>this._createControl(Ln));return new Go(fn,te,Pe)}_reduceControls(P){const te={};return Object.keys(P).forEach(Pe=>{te[Pe]=this._createControl(P[Pe])}),te}_createControl(P){return P instanceof _r||P instanceof ft?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),Ds=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:vn,useValue:P.callSetDisabledState??Gn}]}}static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[ho]})}return U})(),ca=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:Io,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:P.callSetDisabledState??Gn}]}}static#e=this.\u0275fac=function(te){return new(te||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[ho]})}return U})()},6593:(nn,Je,k)=>{k.d(Je,{Dx:()=>sr,H7:()=>si,b2:()=>On,h_:()=>xt,q6:()=>_n});var l=k(5879),_=k(6814);class H extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends H{static makeCurrent(){(0,_.HT)(new Te)}onAndCancel(V,O,x){return V.addEventListener(O,x),()=>{V.removeEventListener(O,x)}}dispatchEvent(V,O){V.dispatchEvent(O)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,O){return(O=O||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,O){return"window"===O?window:"document"===O?V:"body"===O?V.body:null}getBaseHref(V){const O=function De(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==O?null:function ke(K){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",K);const V=Ue.pathname;return"/"===V.charAt(0)?V:`/${V}`}(O)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,_.Mx)(document.cookie,V)}}let Ue,me=null,re=(()=>{class K{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(x){return new(x||K)};static#t=this.\u0275prov=l.Yz7({token:K,factory:K.\u0275fac})}return K})();const se=new l.OlP("EventManagerPlugins");let Me=(()=>{class K{constructor(O,x){this._zone=x,this._eventNameToPlugin=new Map,O.forEach(ae=>{ae.manager=this}),this._plugins=O.slice().reverse()}addEventListener(O,x,ae){return this._findPluginFor(x).addEventListener(O,x,ae)}getZone(){return this._zone}_findPluginFor(O){let x=this._eventNameToPlugin.get(O);if(x)return x;if(x=this._plugins.find(xe=>xe.supports(O)),!x)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(O,x),x}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(se),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:K,factory:K.\u0275fac})}return K})();class pt{constructor(V){this._doc=V}}const Ge="ng-app-id";let Pt=(()=>{class K{constructor(O,x,ae,xe={}){this.doc=O,this.appId=x,this.nonce=ae,this.platformId=xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,_.PM)(xe),this.resetHostNodes()}addStyles(O){for(const x of O)1===this.changeUsageCount(x,1)&&this.onStyleAdded(x)}removeStyles(O){for(const x of O)this.changeUsageCount(x,-1)<=0&&this.onStyleRemoved(x)}ngOnDestroy(){const O=this.styleNodesInDOM;O&&(O.forEach(x=>x.remove()),O.clear());for(const x of this.getAllStyles())this.onStyleRemoved(x);this.resetHostNodes()}addHost(O){this.hostNodes.add(O);for(const x of this.getAllStyles())this.addStyleToHost(O,x)}removeHost(O){this.hostNodes.delete(O)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(O){for(const x of this.hostNodes)this.addStyleToHost(x,O)}onStyleRemoved(O){const x=this.styleRef;x.get(O)?.elements?.forEach(ae=>ae.remove()),x.delete(O)}collectServerRenderedStyles(){const O=this.doc.head?.querySelectorAll(`style[${Ge}="${this.appId}"]`);if(O?.length){const x=new Map;return O.forEach(ae=>{null!=ae.textContent&&x.set(ae.textContent,ae)}),x}return null}changeUsageCount(O,x){const ae=this.styleRef;if(ae.has(O)){const xe=ae.get(O);return xe.usage+=x,xe.usage}return ae.set(O,{usage:x,elements:[]}),x}getStyleElement(O,x){const ae=this.styleNodesInDOM,xe=ae?.get(x);if(xe?.parentNode===O)return ae.delete(x),xe.removeAttribute(Ge),xe;{const ft=this.doc.createElement("style");return this.nonce&&ft.setAttribute("nonce",this.nonce),ft.textContent=x,this.platformIsServer&&ft.setAttribute(Ge,this.appId),ft}}addStyleToHost(O,x){const ae=this.getStyleElement(O,x);O.appendChild(ae);const xe=this.styleRef,ft=xe.get(x)?.elements;ft?ft.push(ae):xe.set(x,{elements:[ae],usage:1})}resetHostNodes(){const O=this.hostNodes;O.clear(),O.add(this.doc.head)}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(_.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:K,factory:K.\u0275fac})}return K})();const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g,Xe=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _t(K,V){return V.map(O=>O.replace(Lt,K))}let Dt=(()=>{class K{constructor(O,x,ae,xe,ft,At,on,Zt=null){this.eventManager=O,this.sharedStylesHost=x,this.appId=ae,this.removeStylesOnCompDestroy=xe,this.doc=ft,this.platformId=At,this.ngZone=on,this.nonce=Zt,this.rendererByCompId=new Map,this.platformIsServer=(0,_.PM)(At),this.defaultRenderer=new ye(O,ft,on,this.platformIsServer)}createRenderer(O,x){if(!O||!x)return this.defaultRenderer;this.platformIsServer&&x.encapsulation===l.ifc.ShadowDom&&(x={...x,encapsulation:l.ifc.Emulated});const ae=this.getOrCreateRenderer(O,x);return ae instanceof Ut?ae.applyToHost(O):ae instanceof kt&&ae.applyStyles(),ae}getOrCreateRenderer(O,x){const ae=this.rendererByCompId;let xe=ae.get(x.id);if(!xe){const ft=this.doc,At=this.ngZone,on=this.eventManager,Zt=this.sharedStylesHost,Jt=this.removeStylesOnCompDestroy,zn=this.platformIsServer;switch(x.encapsulation){case l.ifc.Emulated:xe=new Ut(on,Zt,x,this.appId,Jt,ft,At,zn);break;case l.ifc.ShadowDom:return new Et(on,Zt,O,x,ft,At,this.nonce,zn);default:xe=new kt(on,Zt,x,Jt,ft,At,zn)}ae.set(x.id,xe)}return xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(Me),l.LFG(Pt),l.LFG(l.AFp),l.LFG(Xe),l.LFG(_.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:K,factory:K.\u0275fac})}return K})();class ye{constructor(V,O,x,ae){this.eventManager=V,this.doc=O,this.ngZone=x,this.platformIsServer=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,O){return O?this.doc.createElementNS(yt[O]||O,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,O){(xn(V)?V.content:V).appendChild(O)}insertBefore(V,O,x){V&&(xn(V)?V.content:V).insertBefore(O,x)}removeChild(V,O){V&&V.removeChild(O)}selectRootElement(V,O){let x="string"==typeof V?this.doc.querySelector(V):V;if(!x)throw new l.vHH(-5104,!1);return O||(x.textContent=""),x}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,O,x,ae){if(ae){O=ae+":"+O;const xe=yt[ae];xe?V.setAttributeNS(xe,O,x):V.setAttribute(O,x)}else V.setAttribute(O,x)}removeAttribute(V,O,x){if(x){const ae=yt[x];ae?V.removeAttributeNS(ae,O):V.removeAttribute(`${x}:${O}`)}else V.removeAttribute(O)}addClass(V,O){V.classList.add(O)}removeClass(V,O){V.classList.remove(O)}setStyle(V,O,x,ae){ae&(l.JOm.DashCase|l.JOm.Important)?V.style.setProperty(O,x,ae&l.JOm.Important?"important":""):V.style[O]=x}removeStyle(V,O,x){x&l.JOm.DashCase?V.style.removeProperty(O):V.style[O]=""}setProperty(V,O,x){V[O]=x}setValue(V,O){V.nodeValue=O}listen(V,O,x){if("string"==typeof V&&!(V=(0,_.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${O}`);return this.eventManager.addEventListener(V,O,this.decoratePreventDefault(x))}decoratePreventDefault(V){return O=>{if("__ngUnwrap__"===O)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(O)):V(O))&&O.preventDefault()}}}function xn(K){return"TEMPLATE"===K.tagName&&void 0!==K.content}class Et extends ye{constructor(V,O,x,ae,xe,ft,At,on){super(V,xe,ft,on),this.sharedStylesHost=O,this.hostEl=x,this.shadowRoot=x.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=_t(ae.id,ae.styles);for(const Jt of Zt){const zn=document.createElement("style");At&&zn.setAttribute("nonce",At),zn.textContent=Jt,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,O){return super.appendChild(this.nodeOrShadowRoot(V),O)}insertBefore(V,O,x){return super.insertBefore(this.nodeOrShadowRoot(V),O,x)}removeChild(V,O){return super.removeChild(this.nodeOrShadowRoot(V),O)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kt extends ye{constructor(V,O,x,ae,xe,ft,At,on){super(V,xe,ft,At),this.sharedStylesHost=O,this.removeStylesOnCompDestroy=ae,this.styles=on?_t(on,x.styles):x.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ut extends kt{constructor(V,O,x,ae,xe,ft,At,on){const Zt=ae+"-"+x.id;super(V,O,x,xe,ft,At,on,Zt),this.contentAttr=function Ke(K){return"_ngcontent-%COMP%".replace(Lt,K)}(Zt),this.hostAttr=function Ye(K){return"_nghost-%COMP%".replace(Lt,K)}(Zt)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,O){const x=super.createElement(V,O);return super.setAttribute(x,this.contentAttr,""),x}}let tt=(()=>{class K extends pt{constructor(O){super(O)}supports(O){return!0}addEventListener(O,x,ae){return O.addEventListener(x,ae,!1),()=>this.removeEventListener(O,x,ae)}removeEventListener(O,x,ae){return O.removeEventListener(x,ae)}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(_.K0))};static#t=this.\u0275prov=l.Yz7({token:K,factory:K.\u0275fac})}return K})();const le=["alt","control","meta","shift"],ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},de={alt:K=>K.altKey,control:K=>K.ctrlKey,meta:K=>K.metaKey,shift:K=>K.shiftKey};let be=(()=>{class K extends pt{constructor(O){super(O)}supports(O){return null!=K.parseEventName(O)}addEventListener(O,x,ae){const xe=K.parseEventName(x),ft=K.eventCallback(xe.fullKey,ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(O,xe.domEventName,ft))}static parseEventName(O){const x=O.toLowerCase().split("."),ae=x.shift();if(0===x.length||"keydown"!==ae&&"keyup"!==ae)return null;const xe=K._normalizeKey(x.pop());let ft="",At=x.indexOf("code");if(At>-1&&(x.splice(At,1),ft="code."),le.forEach(Zt=>{const Jt=x.indexOf(Zt);Jt>-1&&(x.splice(Jt,1),ft+=Zt+".")}),ft+=xe,0!=x.length||0===xe.length)return null;const on={};return on.domEventName=ae,on.fullKey=ft,on}static matchEventFullKeyCode(O,x){let ae=ie[O.key]||O.key,xe="";return x.indexOf("code.")>-1&&(ae=O.code,xe="code."),!(null==ae||!ae)&&(ae=ae.toLowerCase()," "===ae?ae="space":"."===ae&&(ae="dot"),le.forEach(ft=>{ft!==ae&&(0,de[ft])(O)&&(xe+=ft+".")}),xe+=ae,xe===x)}static eventCallback(O,x,ae){return xe=>{K.matchEventFullKeyCode(xe,O)&&ae.runGuarded(()=>x(xe))}}static _normalizeKey(O){return"esc"===O?"escape":O}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(_.K0))};static#t=this.\u0275prov=l.Yz7({token:K,factory:K.\u0275fac})}return K})();const _n=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:_.bD},{provide:l.g9A,useValue:function vt(){Te.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function qt(){return(0,l.RDi)(document),document},deps:[]}]),er=new l.OlP(""),Mt=[{provide:l.rWj,useClass:class He{addToWindow(V){l.dqk.getAngularTestability=(x,ae=!0)=>{const xe=V.findTestabilityInTree(x,ae);if(null==xe)throw new l.vHH(5103,!1);return xe},l.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(x=>{const ae=l.dqk.getAllAngularTestabilities();let xe=ae.length,ft=!1;const At=function(on){ft=ft||on,xe--,0==xe&&x(ft)};ae.forEach(on=>{on.whenStable(At)})})}findTestabilityInTree(V,O,x){return null==O?null:V.getTestability(O)??(x?(0,_.q)().isShadowRoot(O)?this.findTestabilityInTree(V,O.host,!0):this.findTestabilityInTree(V,O.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],En=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function an(){return new l.qLn},deps:[]},{provide:se,useClass:tt,multi:!0,deps:[_.K0,l.R0b,l.Lbi]},{provide:se,useClass:be,multi:!0,deps:[_.K0]},Dt,Pt,Me,{provide:l.FYo,useExisting:Dt},{provide:_.JF,useClass:re,deps:[]},[]];let On=(()=>{class K{constructor(O){}static withServerTransition(O){return{ngModule:K,providers:[{provide:l.AFp,useValue:O.appId}]}}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(er,12))};static#t=this.\u0275mod=l.oAB({type:K});static#n=this.\u0275inj=l.cJS({providers:[...En,...Mt],imports:[_.ez,l.hGG]})}return K})(),xt=(()=>{class K{constructor(O){this._doc=O,this._dom=(0,_.q)()}addTag(O,x=!1){return O?this._getOrCreateElement(O,x):null}addTags(O,x=!1){return O?O.reduce((ae,xe)=>(xe&&ae.push(this._getOrCreateElement(xe,x)),ae),[]):[]}getTag(O){return O&&this._doc.querySelector(`meta[${O}]`)||null}getTags(O){if(!O)return[];const x=this._doc.querySelectorAll(`meta[${O}]`);return x?[].slice.call(x):[]}updateTag(O,x){if(!O)return null;x=x||this._parseSelector(O);const ae=this.getTag(x);return ae?this._setMetaElementAttributes(O,ae):this._getOrCreateElement(O,!0)}removeTag(O){this.removeTagElement(this.getTag(O))}removeTagElement(O){O&&this._dom.remove(O)}_getOrCreateElement(O,x=!1){if(!x){const ft=this._parseSelector(O),At=this.getTags(ft).filter(on=>this._containsAttributes(O,on))[0];if(void 0!==At)return At}const ae=this._dom.createElement("meta");return this._setMetaElementAttributes(O,ae),this._doc.getElementsByTagName("head")[0].appendChild(ae),ae}_setMetaElementAttributes(O,x){return Object.keys(O).forEach(ae=>x.setAttribute(this._getMetaKeyMap(ae),O[ae])),x}_parseSelector(O){const x=O.name?"name":"property";return`${x}="${O[x]}"`}_containsAttributes(O,x){return Object.keys(O).every(ae=>x.getAttribute(this._getMetaKeyMap(ae))===O[ae])}_getMetaKeyMap(O){return wr[O]||O}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(_.K0))};static#t=this.\u0275prov=l.Yz7({token:K,factory:function(x){let ae=null;return ae=x?new x:function Vt(){return new xt((0,l.LFG)(_.K0))}(),ae},providedIn:"root"})}return K})();const wr={httpEquiv:"http-equiv"};let sr=(()=>{class K{constructor(O){this._doc=O}getTitle(){return this._doc.title}setTitle(O){this._doc.title=O||""}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(_.K0))};static#t=this.\u0275prov=l.Yz7({token:K,factory:function(x){let ae=null;return ae=x?new x:function rn(){return new sr((0,l.LFG)(_.K0))}(),ae},providedIn:"root"})}return K})();typeof window<"u"&&window;let si=(()=>{class K{static#e=this.\u0275fac=function(x){return new(x||K)};static#t=this.\u0275prov=l.Yz7({token:K,factory:function(x){let ae=null;return ae=x?new(x||K):l.LFG(dt),ae},providedIn:"root"})}return K})(),dt=(()=>{class K extends si{constructor(O){super(),this._doc=O}sanitize(O,x){if(null==x)return null;switch(O){case l.q3G.NONE:return x;case l.q3G.HTML:return(0,l.qzn)(x,"HTML")?(0,l.z3N)(x):(0,l.EiD)(this._doc,String(x)).toString();case l.q3G.STYLE:return(0,l.qzn)(x,"Style")?(0,l.z3N)(x):x;case l.q3G.SCRIPT:if((0,l.qzn)(x,"Script"))return(0,l.z3N)(x);throw new l.vHH(5200,!1);case l.q3G.URL:return(0,l.qzn)(x,"URL")?(0,l.z3N)(x):(0,l.mCW)(String(x));case l.q3G.RESOURCE_URL:if((0,l.qzn)(x,"ResourceURL"))return(0,l.z3N)(x);throw new l.vHH(5201,!1);default:throw new l.vHH(5202,!1)}}bypassSecurityTrustHtml(O){return(0,l.JVY)(O)}bypassSecurityTrustStyle(O){return(0,l.L6k)(O)}bypassSecurityTrustScript(O){return(0,l.eBb)(O)}bypassSecurityTrustUrl(O){return(0,l.LAX)(O)}bypassSecurityTrustResourceUrl(O){return(0,l.pB0)(O)}static#e=this.\u0275fac=function(x){return new(x||K)(l.LFG(_.K0))};static#t=this.\u0275prov=l.Yz7({token:K,factory:function(x){let ae=null;return ae=x?new x:function je(K){return new dt(K.get(_.K0))}(l.LFG(l.zs3)),ae},providedIn:"root"})}return K})()},518:(nn,Je,k)=>{k.d(Je,{gz:()=>Qn,F0:()=>ri,rH:()=>nu,Bz:()=>ju,lC:()=>Ri});var l=k(5879),_=k(5592),H=k(4674),me=k(2459),De=k(2096),Ue=k(5619),ke=k(7453),He=k(2737),re=k(7400),se=k(4564),Me=k(2714),pt=k(8251),Ge=k(7103);function Pt(...C){const A=(0,se.yG)(C),E=(0,se.jO)(C),{args:S,keys:F}=(0,ke.D)(C);if(0===S.length)return(0,me.D)([],A);const J=new _.y(function yt(C,A,E=He.y){return S=>{Lt(A,()=>{const{length:F}=C,J=new Array(F);let _e=F,at=F;for(let ot=0;ot<F;ot++)Lt(A,()=>{const ln=(0,me.D)(C[ot],A);let Xn=!1;ln.subscribe((0,pt.x)(S,ar=>{J[ot]=ar,Xn||(Xn=!0,at--),at||S.next(E(J.slice()))},()=>{--_e||S.complete()}))},S)},S)}}(S,A,F?_e=>(0,Me.n)(F,_e):He.y));return E?J.pipe((0,re.Z)(E)):J}function Lt(C,A,E){C?(0,Ge.f)(E,C,A):A()}var wt=k(6973),sn=k(5211),We=k(4829);function Le(C){return new _.y(A=>{(0,We.Xf)(C()).subscribe(A)})}var Xe=k(8407);function Ke(C,A){const E=(0,H.m)(C)?C:()=>C,S=F=>F.error(E());return new _.y(A?F=>A.schedule(S,0,F):S)}var Ye=k(6232),_t=k(7394),Dt=k(9360);function ye(){return(0,Dt.e)((C,A)=>{let E=null;C._refCount++;const S=(0,pt.x)(A,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(E=null);const F=C._connection,J=E;E=null,F&&(!J||F===J)&&F.unsubscribe(),A.unsubscribe()});C.subscribe(S),S.closed||(E=C.connect())})}class Ht extends _.y{constructor(A,E){super(),this.source=A,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Dt.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new _t.w0;const E=this.getSubject();A.add(this.source.subscribe((0,pt.x)(E,void 0,()=>{this._teardown(),E.complete()},S=>{this._teardown(),E.error(S)},()=>this._teardown()))),A.closed&&(this._connection=null,A=_t.w0.EMPTY)}return A}refCount(){return ye()(this)}}var Xt=k(8645),xn=k(6814),Et=k(7398),kt=k(4664),Ut=k(8180),tt=k(7921),le=k(2181),ie=k(1631),de=k(1374),be=k(6328),ce=k(9397),Ie=k(6306),Fe=k(6699),mt=k(3572);function vt(C){return C<=0?()=>Ye.E:(0,Dt.e)((A,E)=>{let S=[];A.subscribe((0,pt.x)(E,F=>{S.push(F),C<S.length&&S.shift()},()=>{for(const F of S)E.next(F);E.complete()},void 0,()=>{S=null}))})}var an=k(3026),_n=k(4716),er=k(2420),En=k(7537),On=k(6593);const Vt="primary",xt=Symbol("RouteTitle");class wr{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E[0]:E}return null}getAll(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function rn(C){return new wr(C)}function sr(C,A,E){const S=E.path.split("/");if(S.length>C.length||"full"===E.pathMatch&&(A.hasChildren()||S.length<C.length))return null;const F={};for(let J=0;J<S.length;J++){const _e=S[J],at=C[J];if(_e.startsWith(":"))F[_e.substring(1)]=at;else if(_e!==at.path)return null}return{consumed:C.slice(0,S.length),posParams:F}}function Rt(C,A){const E=C?Object.keys(C):void 0,S=A?Object.keys(A):void 0;if(!E||!S||E.length!=S.length)return!1;let F;for(let J=0;J<E.length;J++)if(F=E[J],!cn(C[F],A[F]))return!1;return!0}function cn(C,A){if(Array.isArray(C)&&Array.isArray(A)){if(C.length!==A.length)return!1;const E=[...C].sort(),S=[...A].sort();return E.every((F,J)=>S[J]===F)}return C===A}function Cn(C){return C.length>0?C[C.length-1]:null}function gn(C){return function Te(C){return!!C&&(C instanceof _.y||(0,H.m)(C.lift)&&(0,H.m)(C.subscribe))}(C)?C:(0,l.QGY)(C)?(0,me.D)(Promise.resolve(C)):(0,De.of)(C)}const rr={exact:function xr(C,A,E){if(!dt(C.segments,A.segments)||!$n(C.segments,A.segments,E)||C.numberOfChildren!==A.numberOfChildren)return!1;for(const S in A.children)if(!C.children[S]||!xr(C.children[S],A.children[S],E))return!1;return!0},subset:en},ur={exact:function Rn(C,A){return Rt(C,A)},subset:function Di(C,A){return Object.keys(A).length<=Object.keys(C).length&&Object.keys(A).every(E=>cn(C[E],A[E]))},ignored:()=>!0};function Rr(C,A,E){return rr[E.paths](C.root,A.root,E.matrixParams)&&ur[E.queryParams](C.queryParams,A.queryParams)&&!("exact"===E.fragment&&C.fragment!==A.fragment)}function en(C,A,E){return Or(C,A,A.segments,E)}function Or(C,A,E,S){if(C.segments.length>E.length){const F=C.segments.slice(0,E.length);return!(!dt(F,E)||A.hasChildren()||!$n(F,E,S))}if(C.segments.length===E.length){if(!dt(C.segments,E)||!$n(C.segments,E,S))return!1;for(const F in A.children)if(!C.children[F]||!en(C.children[F],A.children[F],S))return!1;return!0}{const F=E.slice(0,C.segments.length),J=E.slice(C.segments.length);return!!(dt(C.segments,F)&&$n(C.segments,F,S)&&C.children[Vt])&&Or(C.children[Vt],A,J,S)}}function $n(C,A,E){return A.every((S,F)=>ur[E](C[F].parameters,S.parameters))}class tr{constructor(A=new Dn([],{}),E={},S=null){this.root=A,this.queryParams=E,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class Dn{constructor(A,E){this.segments=A,this.children=E,this.parent=null,Object.values(E).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class si{constructor(A,E){this.path=A,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=rn(this.parameters)),this._parameterMap}toString(){return ae(this)}}function dt(C,A){return C.length===A.length&&C.every((E,S)=>E.path===A[S].path)}let Ee=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return new ht},providedIn:"root"})}return C})();class ht{parse(A){const E=new Ai(A);return new tr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(A){const E=`/${mr(A.root,!0)}`,S=function ft(C){const A=Object.keys(C).map(E=>{const S=C[E];return Array.isArray(S)?S.map(F=>`${Ae(E)}=${Ae(F)}`).join("&"):`${Ae(E)}=${Ae(S)}`}).filter(E=>!!E);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${E}${S}${"string"==typeof A.fragment?`#${function K(C){return encodeURI(C)}(A.fragment)}`:""}`}}const Bt=new ht;function Tn(C){return C.segments.map(A=>ae(A)).join("/")}function mr(C,A){if(!C.hasChildren())return Tn(C);if(A){const E=C.children[Vt]?mr(C.children[Vt],!1):"",S=[];return Object.entries(C.children).forEach(([F,J])=>{F!==Vt&&S.push(`${F}:${mr(J,!1)}`)}),S.length>0?`${E}(${S.join("//")})`:E}{const E=function X(C,A){let E=[];return Object.entries(C.children).forEach(([S,F])=>{S===Vt&&(E=E.concat(A(F,S)))}),Object.entries(C.children).forEach(([S,F])=>{S!==Vt&&(E=E.concat(A(F,S)))}),E}(C,(S,F)=>F===Vt?[mr(C.children[Vt],!1)]:[`${F}:${mr(S,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Vt]?`${Tn(C)}/${E[0]}`:`${Tn(C)}/(${E.join("//")})`}}function Yn(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ae(C){return Yn(C).replace(/%3B/gi,";")}function V(C){return Yn(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function O(C){return decodeURIComponent(C)}function x(C){return O(C.replace(/\+/g,"%20"))}function ae(C){return`${V(C.path)}${function xe(C){return Object.keys(C).map(A=>`;${V(A)}=${V(C[A])}`).join("")}(C.parameters)}`}const At=/^[^\/()?;#]+/;function on(C){const A=C.match(At);return A?A[0]:""}const Zt=/^[^\/()?;=#]+/,zn=/^[^=?&#]+/,Gn=/^[^&#]+/;class Ai{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(A.length>0||Object.keys(E).length>0)&&(S[Vt]=new Dn(A,E)),S}parseSegment(){const A=on(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(A),new si(O(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const E=function Jt(C){const A=C.match(Zt);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const F=on(this.remaining);F&&(S=F,this.capture(S))}A[O(E)]=O(S)}parseQueryParam(A){const E=function vn(C){const A=C.match(zn);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const _e=function Li(C){const A=C.match(Gn);return A?A[0]:""}(this.remaining);_e&&(S=_e,this.capture(S))}const F=x(E),J=x(S);if(A.hasOwnProperty(F)){let _e=A[F];Array.isArray(_e)||(_e=[_e],A[F]=_e),_e.push(J)}else A[F]=J}parseParens(A){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=on(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new l.vHH(4010,!1);let J;S.indexOf(":")>-1?(J=S.slice(0,S.indexOf(":")),this.capture(J),this.capture(":")):A&&(J=Vt);const _e=this.parseChildren();E[J]=1===Object.keys(_e).length?_e[Vt]:new Dn([],_e),this.consumeOptional("//")}return E}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new l.vHH(4011,!1)}}function zr(C){return C.segments.length>0?new Dn([],{[Vt]:C}):C}function Qi(C){const A={};for(const S of Object.keys(C.children)){const J=Qi(C.children[S]);if(S===Vt&&0===J.segments.length&&J.hasChildren())for(const[_e,at]of Object.entries(J.children))A[_e]=at;else(J.segments.length>0||J.hasChildren())&&(A[S]=J)}return function Gi(C){if(1===C.numberOfChildren&&C.children[Vt]){const A=C.children[Vt];return new Dn(C.segments.concat(A.segments),A.children)}return C}(new Dn(C.segments,A))}function kr(C){return C instanceof tr}function st(C){let A;const F=zr(function E(J){const _e={};for(const ot of J.children){const ln=E(ot);_e[ot.outlet]=ln}const at=new Dn(J.url,_e);return J===C&&(A=at),at}(C.root));return A??F}function qe(C,A,E,S){let F=C;for(;F.parent;)F=F.parent;if(0===A.length)return bn(F,F,F,E,S);const J=function vr(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new dn(!0,0,C);let A=0,E=!1;const S=C.reduce((F,J,_e)=>{if("object"==typeof J&&null!=J){if(J.outlets){const at={};return Object.entries(J.outlets).forEach(([ot,ln])=>{at[ot]="string"==typeof ln?ln.split("/"):ln}),[...F,{outlets:at}]}if(J.segmentPath)return[...F,J.segmentPath]}return"string"!=typeof J?[...F,J]:0===_e?(J.split("/").forEach((at,ot)=>{0==ot&&"."===at||(0==ot&&""===at?E=!0:".."===at?A++:""!=at&&F.push(at))}),F):[...F,J]},[]);return new dn(E,A,S)}(A);if(J.toRoot())return bn(F,F,new Dn([],{}),E,S);const _e=function di(C,A,E){if(C.isAbsolute)return new cr(A,!0,0);if(!E)return new cr(A,!1,NaN);if(null===E.parent)return new cr(E,!0,0);const S=It(C.commands[0])?0:1;return function uo(C,A,E){let S=C,F=A,J=E;for(;J>F;){if(J-=F,S=S.parent,!S)throw new l.vHH(4005,!1);F=S.segments.length}return new cr(S,!1,F-J)}(E,E.segments.length-1+S,C.numberOfDoubleDots)}(J,F,C),at=_e.processChildren?ai(_e.segmentGroup,_e.index,J.commands):Vo(_e.segmentGroup,_e.index,J.commands);return bn(F,_e.segmentGroup,at,E,S)}function It(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function tn(C){return"object"==typeof C&&null!=C&&C.outlets}function bn(C,A,E,S,F){let _e,J={};S&&Object.entries(S).forEach(([ot,ln])=>{J[ot]=Array.isArray(ln)?ln.map(Xn=>`${Xn}`):`${ln}`}),_e=C===A?E:Pn(C,A,E);const at=zr(Qi(_e));return new tr(at,J,F)}function Pn(C,A,E){const S={};return Object.entries(C.children).forEach(([F,J])=>{S[F]=J===A?E:Pn(J,A,E)}),new Dn(C.segments,S)}class dn{constructor(A,E,S){if(this.isAbsolute=A,this.numberOfDoubleDots=E,this.commands=S,A&&S.length>0&&It(S[0]))throw new l.vHH(4003,!1);const F=S.find(tn);if(F&&F!==Cn(S))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cr{constructor(A,E,S){this.segmentGroup=A,this.processChildren=E,this.index=S}}function Vo(C,A,E){if(C||(C=new Dn([],{})),0===C.segments.length&&C.hasChildren())return ai(C,A,E);const S=function Uo(C,A,E){let S=0,F=A;const J={match:!1,pathIndex:0,commandIndex:0};for(;F<C.segments.length;){if(S>=E.length)return J;const _e=C.segments[F],at=E[S];if(tn(at))break;const ot=`${at}`,ln=S<E.length-1?E[S+1]:null;if(F>0&&void 0===ot)break;if(ot&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!ui(ot,ln,_e))return J;S+=2}else{if(!ui(ot,{},_e))return J;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(C,A,E),F=E.slice(S.commandIndex);if(S.match&&S.pathIndex<C.segments.length){const J=new Dn(C.segments.slice(0,S.pathIndex),{});return J.children[Vt]=new Dn(C.segments.slice(S.pathIndex),C.children),ai(J,0,F)}return S.match&&0===F.length?new Dn(C.segments,{}):S.match&&!C.hasChildren()?qr(C,A,E):S.match?ai(C,0,F):qr(C,A,E)}function ai(C,A,E){if(0===E.length)return new Dn(C.segments,{});{const S=function lr(C){return tn(C[0])?C[0].outlets:{[Vt]:C}}(E),F={};if(Object.keys(S).some(J=>J!==Vt)&&C.children[Vt]&&1===C.numberOfChildren&&0===C.children[Vt].segments.length){const J=ai(C.children[Vt],A,E);return new Dn(C.segments,J.children)}return Object.entries(S).forEach(([J,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(F[J]=Vo(C.children[J],A,_e))}),Object.entries(C.children).forEach(([J,_e])=>{void 0===S[J]&&(F[J]=_e)}),new Dn(C.segments,F)}}function qr(C,A,E){const S=C.segments.slice(0,A);let F=0;for(;F<E.length;){const J=E[F];if(tn(J)){const ot=ws(J.outlets);return new Dn(S,ot)}if(0===F&&It(E[0])){S.push(new si(C.segments[A].path,Ji(E[0]))),F++;continue}const _e=tn(J)?J.outlets[Vt]:`${J}`,at=F<E.length-1?E[F+1]:null;_e&&at&&It(at)?(S.push(new si(_e,Ji(at))),F+=2):(S.push(new si(_e,{})),F++)}return new Dn(S,{})}function ws(C){const A={};return Object.entries(C).forEach(([E,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(A[E]=qr(new Dn([],{}),0,S))}),A}function Ji(C){const A={};return Object.entries(C).forEach(([E,S])=>A[E]=`${S}`),A}function ui(C,A,E){return C==E.path&&Rt(A,E.parameters)}const yi="imperative";class nr{constructor(A,E){this.id=A,this.url=E}}class Mo extends nr{constructor(A,E,S="imperative",F=null){super(A,E),this.type=0,this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends nr{constructor(A,E,S){super(A,E),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pr extends nr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yo extends nr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=16}}class Mi extends nr{constructor(A,E,S,F){super(A,E),this.error=S,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vi extends nr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vi extends nr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs extends nr{constructor(A,E,S,F,J){super(A,E),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hi extends nr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ks extends nr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gr{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ui{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ro{constructor(A,E,S){this.routerEvent=A,this.position=E,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nn{}class Wr{constructor(A){this.url=A}}class Ei{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Er,this.attachRef=null}}let Er=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(E,S){const F=this.getOrCreateContext(E);F.outlet=S,this.contexts.set(E,F)}onChildOutletDestroyed(E){const S=this.getContext(E);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let S=this.getContext(E);return S||(S=new Ei,this.contexts.set(E,S)),S}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Eo{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const E=this.pathFromRoot(A);return E.length>1?E[E.length-2]:null}children(A){const E=ji(A,this._root);return E?E.children.map(S=>S.value):[]}firstChild(A){const E=ji(A,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(A){const E=Io(A,this._root);return E.length<2?[]:E[E.length-2].children.map(F=>F.value).filter(F=>F!==A)}pathFromRoot(A){return Io(A,this._root).map(E=>E.value)}}function ji(C,A){if(C===A.value)return A;for(const E of A.children){const S=ji(C,E);if(S)return S}return null}function Io(C,A){if(C===A.value)return[A];for(const E of A.children){const S=Io(C,E);if(S.length)return S.unshift(A),S}return[]}class Ii{constructor(A,E){this.value=A,this.children=E}toString(){return`TreeNode(${this.value})`}}function Wi(C){const A={};return C&&C.children.forEach(E=>A[E.value.outlet]=E),A}class Nr extends Eo{constructor(A,E){super(A),this.snapshot=E,Ar(this,A)}toString(){return this.snapshot.toString()}}function Qt(C,A){const E=function Fn(C,A){const _e=new Zr([],{},{},"",{},Vt,A,null,{});return new io("",new Ii(_e,[]))}(0,A),S=new Ue.X([new si("",{})]),F=new Ue.X({}),J=new Ue.X({}),_e=new Ue.X({}),at=new Ue.X(""),ot=new Qn(S,F,_e,at,J,Vt,A,E.root);return ot.snapshot=E.root,new Nr(new Ii(ot,[]),E)}class Qn{constructor(A,E,S,F,J,_e,at,ot){this.urlSubject=A,this.paramsSubject=E,this.queryParamsSubject=S,this.fragmentSubject=F,this.dataSubject=J,this.outlet=_e,this.component=at,this._futureSnapshot=ot,this.title=this.dataSubject?.pipe((0,Et.U)(ln=>ln[xt]))??(0,De.of)(void 0),this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=J}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(A=>rn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(A=>rn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ci(C,A="emptyOnly"){const E=C.pathFromRoot;let S=0;if("always"!==A)for(S=E.length-1;S>=1;){const F=E[S],J=E[S-1];if(F.routeConfig&&""===F.routeConfig.path)S--;else{if(J.component)break;S--}}return function Ro(C){return C.reduce((A,E)=>({params:{...A.params,...E.params},data:{...A.data,...E.data},resolve:{...E.data,...A.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(S))}class Zr{get title(){return this.data?.[xt]}constructor(A,E,S,F,J,_e,at,ot,ln){this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=J,this.outlet=_e,this.component=at,this.routeConfig=ot,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class io extends Eo{constructor(A,E){super(E),this.url=A,Ar(this,E)}toString(){return co(this._root)}}function Ar(C,A){A.value._routerState=C,A.children.forEach(E=>Ar(C,E))}function co(C){const A=C.children.length>0?` { ${C.children.map(co).join(", ")} } `:"";return`${C.value}${A}`}function lo(C){if(C.snapshot){const A=C.snapshot,E=C._futureSnapshot;C.snapshot=E,Rt(A.queryParams,E.queryParams)||C.queryParamsSubject.next(E.queryParams),A.fragment!==E.fragment&&C.fragmentSubject.next(E.fragment),Rt(A.params,E.params)||C.paramsSubject.next(E.params),function Vn(C,A){if(C.length!==A.length)return!1;for(let E=0;E<C.length;++E)if(!Rt(C[E],A[E]))return!1;return!0}(A.url,E.url)||C.urlSubject.next(E.url),Rt(A.data,E.data)||C.dataSubject.next(E.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function kn(C,A){const E=Rt(C.params,A.params)&&function je(C,A){return dt(C,A)&&C.every((E,S)=>Rt(E.parameters,A[S].parameters))}(C.url,A.url);return E&&!(!C.parent!=!A.parent)&&(!C.parent||kn(C.parent,A.parent))}let Ri=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Er),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:S,previousValue:F}=E.name;if(S)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,S){this.activated=E,this._activatedRoute=S,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,S){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=E;const F=this.location,_e=E.snapshot.component,at=this.parentContexts.getOrCreateContext(this.name).children,ot=new jr(E,at,F.injector);this.activated=F.createComponent(_e,{index:F.length,injector:ot,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return C})();class jr{constructor(A,E,S){this.route=A,this.childContexts=E,this.parent=S}get(A,E){return A===Qn?this.route:A===Er?this.childContexts:this.parent.get(A,E)}}const q=new l.OlP("");let B=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:S}=E,F=Pt([S.queryParams,S.params,S.data]).pipe((0,kt.w)(([J,_e,at],ot)=>(at={...J,..._e,...at},0===ot?(0,De.of)(at):Promise.resolve(at)))).subscribe(J=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(E);const _e=(0,l.qFp)(S.component);if(_e)for(const{templateName:at}of _e.inputs)E.activatedComponentRef.setInput(at,J[at]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,F)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function we(C,A,E){if(E&&C.shouldReuseRoute(A.value,E.value.snapshot)){const S=E.value;S._futureSnapshot=A.value;const F=function $e(C,A,E){return A.children.map(S=>{for(const F of E.children)if(C.shouldReuseRoute(S.value,F.value.snapshot))return we(C,S,F);return we(C,S)})}(C,A,E);return new Ii(S,F)}{if(C.shouldAttach(A.value)){const J=C.retrieve(A.value);if(null!==J){const _e=J.route;return _e.value._futureSnapshot=A.value,_e.children=A.children.map(at=>we(C,at)),_e}}const S=function gt(C){return new Qn(new Ue.X(C.url),new Ue.X(C.params),new Ue.X(C.queryParams),new Ue.X(C.fragment),new Ue.X(C.data),C.outlet,C.component,C)}(A.value),F=A.children.map(J=>we(C,J));return new Ii(S,F)}}const Gt="ngNavigationCancelingError";function hn(C,A){const{redirectTo:E,navigationBehaviorOptions:S}=kr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,F=St(!1,0,A);return F.url=E,F.navigationBehaviorOptions=S,F}function St(C,A,E){const S=new Error("NavigationCancelingError: "+(C||""));return S[Gt]=!0,S.cancellationCode=A,E&&(S.url=E),S}function Zn(C){return C&&C[Gt]}let wn=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275cmp=l.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(S,F){1&S&&l._UZ(0,"router-outlet")},dependencies:[Ri],encapsulation:2})}return C})();function Hr(C){const A=C.children&&C.children.map(Hr),E=A?{...C,children:A}:{...C};return!E.component&&!E.loadComponent&&(A||E.loadChildren)&&E.outlet&&E.outlet!==Vt&&(E.component=wn),E}function Ir(C){return C.outlet||Vt}function Oi(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let A=C.parent;A;A=A.parent){const E=A.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Fs{constructor(A,E,S,F,J){this.routeReuseStrategy=A,this.futureState=E,this.currState=S,this.forwardEvent=F,this.inputBindingEnabled=J}activate(A){const E=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,S,A),lo(this.futureState.root),this.activateChildRoutes(E,S,A)}deactivateChildRoutes(A,E,S){const F=Wi(E);A.children.forEach(J=>{const _e=J.value.outlet;this.deactivateRoutes(J,F[_e],S),delete F[_e]}),Object.values(F).forEach(J=>{this.deactivateRouteAndItsChildren(J,S)})}deactivateRoutes(A,E,S){const F=A.value,J=E?E.value:null;if(F===J)if(F.component){const _e=S.getContext(F.outlet);_e&&this.deactivateChildRoutes(A,E,_e.children)}else this.deactivateChildRoutes(A,E,S);else J&&this.deactivateRouteAndItsChildren(E,S)}deactivateRouteAndItsChildren(A,E){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,E):this.deactivateRouteAndOutlet(A,E)}detachAndStoreRouteSubtree(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,J=Wi(A);for(const _e of Object.keys(J))this.deactivateRouteAndItsChildren(J[_e],F);if(S&&S.outlet){const _e=S.outlet.detach(),at=S.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:_e,route:A,contexts:at})}}deactivateRouteAndOutlet(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,J=Wi(A);for(const _e of Object.keys(J))this.deactivateRouteAndItsChildren(J[_e],F);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(A,E,S){const F=Wi(E);A.children.forEach(J=>{this.activateRoutes(J,F[J.value.outlet],S),this.forwardEvent(new Tr(J.value.snapshot))}),A.children.length&&this.forwardEvent(new vo(A.value.snapshot))}activateRoutes(A,E,S){const F=A.value,J=E?E.value:null;if(lo(F),F===J)if(F.component){const _e=S.getOrCreateContext(F.outlet);this.activateChildRoutes(A,E,_e.children)}else this.activateChildRoutes(A,E,S);else if(F.component){const _e=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const at=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),_e.children.onOutletReAttached(at.contexts),_e.attachRef=at.componentRef,_e.route=at.route.value,_e.outlet&&_e.outlet.attach(at.componentRef,at.route.value),lo(at.route.value),this.activateChildRoutes(A,null,_e.children)}else{const at=Oi(F.snapshot);_e.attachRef=null,_e.route=F,_e.injector=at,_e.outlet&&_e.outlet.activateWith(F,_e.injector),this.activateChildRoutes(A,null,_e.children)}}else this.activateChildRoutes(A,null,S)}}class ho{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Go{constructor(A,E){this.component=A,this.route=E}}function ua(C,A,E){const S=C._root;return fs(S,A?A._root:null,E,[S.value])}function wi(C,A){const E=Symbol(),S=A.get(C,E);return S===E?"function"!=typeof C||(0,l.Z0I)(C)?A.get(C):C:S}function fs(C,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const J=Wi(A);return C.children.forEach(_e=>{(function ps(C,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const J=C.value,_e=A?A.value:null,at=E?E.getContext(C.value.outlet):null;if(_e&&J.routeConfig===_e.routeConfig){const ot=function Aa(C,A,E){if("function"==typeof E)return E(C,A);switch(E){case"pathParamsChange":return!dt(C.url,A.url);case"pathParamsOrQueryParamsChange":return!dt(C.url,A.url)||!Rt(C.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kn(C,A)||!Rt(C.queryParams,A.queryParams);default:return!kn(C,A)}}(_e,J,J.routeConfig.runGuardsAndResolvers);ot?F.canActivateChecks.push(new ho(S)):(J.data=_e.data,J._resolvedData=_e._resolvedData),fs(C,A,J.component?at?at.children:null:E,S,F),ot&&at&&at.outlet&&at.outlet.isActivated&&F.canDeactivateChecks.push(new Go(at.outlet.component,_e))}else _e&&br(A,at,F),F.canActivateChecks.push(new ho(S)),fs(C,null,J.component?at?at.children:null:E,S,F)})(_e,J[_e.value.outlet],E,S.concat([_e.value]),F),delete J[_e.value.outlet]}),Object.entries(J).forEach(([_e,at])=>br(at,E.getContext(_e),F)),F}function br(C,A,E){const S=Wi(C),F=C.value;Object.entries(S).forEach(([J,_e])=>{br(_e,F.component?A?A.children.getContext(J):null:A,E)}),E.canDeactivateChecks.push(new Go(F.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,F))}function Ds(C){return"function"==typeof C}function Ni(C){return C instanceof wt.K||"EmptyError"===C?.name}const eo=Symbol("INITIAL_VALUE");function ki(){return(0,kt.w)(C=>Pt(C.map(A=>A.pipe((0,Ut.q)(1),(0,tt.O)(eo)))).pipe((0,Et.U)(A=>{for(const E of A)if(!0!==E){if(E===eo)return eo;if(!1===E||E instanceof tr)return E}return!0}),(0,le.h)(A=>A!==eo),(0,Ut.q)(1)))}function wo(C){return(0,Xe.z)((0,ce.b)(A=>{if(kr(A))throw hn(0,A)}),(0,Et.U)(A=>!0===A))}class xo{constructor(A){this.segmentGroup=A||null}}class Gs{constructor(A){this.urlTree=A}}function ns(C){return Ke(new xo(C))}function Kn(C){return Ke(new Gs(C))}class Us{constructor(A,E){this.urlSerializer=A,this.urlTree=E}noMatchError(A){return new l.vHH(4002,!1)}lineralizeSegments(A,E){let S=[],F=E.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,De.of)(S);if(F.numberOfChildren>1||!F.children[Vt])return Ke(new l.vHH(4e3,!1));F=F.children[Vt]}}applyRedirectCommands(A,E,S){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),A,S)}applyRedirectCreateUrlTree(A,E,S,F){const J=this.createSegmentGroup(A,E.root,S,F);return new tr(J,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(A,E){const S={};return Object.entries(A).forEach(([F,J])=>{if("string"==typeof J&&J.startsWith(":")){const at=J.substring(1);S[F]=E[at]}else S[F]=J}),S}createSegmentGroup(A,E,S,F){const J=this.createSegments(A,E.segments,S,F);let _e={};return Object.entries(E.children).forEach(([at,ot])=>{_e[at]=this.createSegmentGroup(A,ot,S,F)}),new Dn(J,_e)}createSegments(A,E,S,F){return E.map(J=>J.path.startsWith(":")?this.findPosParam(A,J,F):this.findOrReturn(J,S))}findPosParam(A,E,S){const F=S[E.path.substring(1)];if(!F)throw new l.vHH(4001,!1);return F}findOrReturn(A,E){let S=0;for(const F of E){if(F.path===A.path)return E.splice(S),F;S++}return A}}const qs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bs(C,A,E,S,F){const J=To(C,A,E);return J.matched?(S=function Jr(C,A){return C.providers&&!C._injector&&(C._injector=(0,l.MMx)(C.providers,A,`Route: ${C.path}`)),C._injector??A}(A,S),function As(C,A,E,S){const F=A.canMatch;if(!F||0===F.length)return(0,De.of)(!0);const J=F.map(_e=>{const at=wi(_e,C);return gn(function Pe(C){return C&&Ds(C.canMatch)}(at)?at.canMatch(A,E):C.runInContext(()=>at(A,E)))});return(0,De.of)(J).pipe(ki(),wo())}(S,A,E).pipe((0,Et.U)(_e=>!0===_e?J:{...qs}))):(0,De.of)(J)}function To(C,A,E){if(""===A.path)return"full"===A.pathMatch&&(C.hasChildren()||E.length>0)?{...qs}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const F=(A.matcher||sr)(E,C,A);if(!F)return{...qs};const J={};Object.entries(F.posParams??{}).forEach(([at,ot])=>{J[at]=ot.path});const _e=F.consumed.length>0?{...J,...F.consumed[F.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:F.consumed,remainingSegments:E.slice(F.consumed.length),parameters:_e,positionalParamSegments:F.posParams??{}}}function rs(C,A,E,S){return E.length>0&&function Zs(C,A,E){return E.some(S=>Ks(C,A,S)&&Ir(S)!==Vt)}(C,E,S)?{segmentGroup:new Dn(A,da(S,new Dn(E,C.children))),slicedSegments:[]}:0===E.length&&function gs(C,A,E){return E.some(S=>Ks(C,A,S))}(C,E,S)?{segmentGroup:new Dn(C.segments,la(C,0,E,S,C.children)),slicedSegments:E}:{segmentGroup:new Dn(C.segments,C.children),slicedSegments:E}}function la(C,A,E,S,F){const J={};for(const _e of S)if(Ks(C,E,_e)&&!F[Ir(_e)]){const at=new Dn([],{});J[Ir(_e)]=at}return{...F,...J}}function da(C,A){const E={};E[Vt]=A;for(const S of C)if(""===S.path&&Ir(S)!==Vt){const F=new Dn([],{});E[Ir(S)]=F}return E}function Ks(C,A,E){return(!(C.hasChildren()||A.length>0)||"full"!==E.pathMatch)&&""===E.path}class Ys{constructor(A,E,S,F,J,_e,at){this.injector=A,this.configLoader=E,this.rootComponentType=S,this.config=F,this.urlTree=J,this.paramsInheritanceStrategy=_e,this.urlSerializer=at,this.allowRedirects=!0,this.applyRedirects=new Us(this.urlSerializer,this.urlTree)}noMatchError(A){return new l.vHH(4002,!1)}recognize(){const A=rs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Vt).pipe((0,Ie.K)(E=>{if(E instanceof Gs)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof xo?this.noMatchError(E):E}),(0,Et.U)(E=>{const S=new Zr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),F=new Ii(S,E),J=new io("",F),_e=function Wn(C,A,E=null,S=null){return qe(st(C),A,E,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,J.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(J._root),{state:J,tree:_e}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Vt).pipe((0,Ie.K)(S=>{throw S instanceof xo?this.noMatchError(S):S}))}inheritParamsAndData(A){const E=A.value,S=Ci(E,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data),A.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(A,E,S,F){return 0===S.segments.length&&S.hasChildren()?this.processChildren(A,E,S):this.processSegment(A,E,S,S.segments,F,!0)}processChildren(A,E,S){const F=[];for(const J of Object.keys(S.children))"primary"===J?F.unshift(J):F.push(J);return(0,me.D)(F).pipe((0,be.b)(J=>{const _e=S.children[J],at=function zo(C,A){const E=C.filter(S=>Ir(S)===A);return E.push(...C.filter(S=>Ir(S)!==A)),E}(E,J);return this.processSegmentGroup(A,at,_e,J)}),(0,Fe.R)((J,_e)=>(J.push(..._e),J)),(0,mt.d)(null),function qt(C,A){const E=arguments.length>=2;return S=>S.pipe(C?(0,le.h)((F,J)=>C(F,J,S)):He.y,vt(1),E?(0,mt.d)(A):(0,an.T)(()=>new wt.K))}(),(0,ie.z)(J=>{if(null===J)return ns(S);const _e=Ja(J);return function Fu(C){C.sort((A,E)=>A.value.outlet===Vt?-1:E.value.outlet===Vt?1:A.value.outlet.localeCompare(E.value.outlet))}(_e),(0,De.of)(_e)}))}processSegment(A,E,S,F,J,_e){return(0,me.D)(E).pipe((0,be.b)(at=>this.processSegmentAgainstRoute(at._injector??A,E,at,S,F,J,_e).pipe((0,Ie.K)(ot=>{if(ot instanceof xo)return(0,De.of)(null);throw ot}))),(0,de.P)(at=>!!at),(0,Ie.K)(at=>{if(Ni(at))return function yc(C,A,E){return 0===A.length&&!C.children[E]}(S,F,J)?(0,De.of)([]):ns(S);throw at}))}processSegmentAgainstRoute(A,E,S,F,J,_e,at){return function ms(C,A,E,S){return!!(Ir(C)===S||S!==Vt&&Ks(A,E,C))&&("**"===C.path||To(A,C,E).matched)}(S,F,J,_e)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(A,F,S,J,_e,at):at&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,F,E,S,J,_e):ns(F):ns(F)}expandSegmentAgainstRouteUsingRedirect(A,E,S,F,J,_e){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,S,F,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,J,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,E,S,F){const J=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Kn(J):this.applyRedirects.lineralizeSegments(S,J).pipe((0,ie.z)(_e=>{const at=new Dn(_e,{});return this.processSegment(A,E,at,_e,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,J,_e){const{matched:at,consumedSegments:ot,remainingSegments:ln,positionalParamSegments:Xn}=To(E,F,J);if(!at)return ns(E);const ar=this.applyRedirects.applyRedirectCommands(ot,F.redirectTo,Xn);return F.redirectTo.startsWith("/")?Kn(ar):this.applyRedirects.lineralizeSegments(F,ar).pipe((0,ie.z)(dr=>this.processSegment(A,S,E,dr.concat(ln),_e,!1)))}matchSegmentAgainstRoute(A,E,S,F,J,_e){let at;if("**"===S.path){const ot=F.length>0?Cn(F).parameters:{},ln=new Zr(F,ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(S),Ir(S),S.component??S._loadedComponent??null,S,b(S));at=(0,De.of)({snapshot:ln,consumedSegments:[],remainingSegments:[]}),E.children={}}else at=Bs(E,S,F,A).pipe((0,Et.U)(({matched:ot,consumedSegments:ln,remainingSegments:Xn,parameters:ar})=>ot?{snapshot:new Zr(ln,ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(S),Ir(S),S.component??S._loadedComponent??null,S,b(S)),consumedSegments:ln,remainingSegments:Xn}:null));return at.pipe((0,kt.w)(ot=>null===ot?ns(E):this.getChildConfig(A=S._injector??A,S,F).pipe((0,kt.w)(({routes:ln})=>{const Xn=S._loadedInjector??A,{snapshot:ar,consumedSegments:dr,remainingSegments:Ur}=ot,{segmentGroup:ea,slicedSegments:ga}=rs(E,dr,Ur,ln);if(0===ga.length&&ea.hasChildren())return this.processChildren(Xn,ln,ea).pipe((0,Et.U)(ys=>null===ys?null:[new Ii(ar,ys)]));if(0===ln.length&&0===ga.length)return(0,De.of)([new Ii(ar,[])]);const ma=Ir(S)===J;return this.processSegment(Xn,ln,ea,ga,ma?Vt:J,!0).pipe((0,Et.U)(ys=>[new Ii(ar,ys)]))}))))}getChildConfig(A,E,S){return E.children?(0,De.of)({routes:E.children,injector:A}):E.loadChildren?void 0!==E._loadedRoutes?(0,De.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Qa(C,A,E,S){const F=A.canLoad;if(void 0===F||0===F.length)return(0,De.of)(!0);const J=F.map(_e=>{const at=wi(_e,C);return gn(function U(C){return C&&Ds(C.canLoad)}(at)?at.canLoad(A,E):C.runInContext(()=>at(A,E)))});return(0,De.of)(J).pipe(ki(),wo())}(A,E,S).pipe((0,ie.z)(F=>F?this.configLoader.loadChildren(A,E).pipe((0,ce.b)(J=>{E._loadedRoutes=J.routes,E._loadedInjector=J.injector})):function Vs(C){return Ke(St(!1,3))}())):(0,De.of)({routes:[],injector:A})}}function $s(C){const A=C.value.routeConfig;return A&&""===A.path}function Ja(C){const A=[],E=new Set;for(const S of C){if(!$s(S)){A.push(S);continue}const F=A.find(J=>S.value.routeConfig===J.value.routeConfig);void 0!==F?(F.children.push(...S.children),E.add(F)):A.push(S)}for(const S of E){const F=Ja(S.children);A.push(new Ii(S.value,F))}return A.filter(S=>!E.has(S))}function ei(C){return C.data||{}}function b(C){return C.resolve||{}}function mn(C){return"string"==typeof C.title||null===C.title}function gr(C){return(0,kt.w)(A=>{const E=C(A);return E?(0,me.D)(E).pipe((0,Et.U)(()=>A)):(0,De.of)(A)})}const Dr=new l.OlP("ROUTES");let Sr=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,De.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const S=gn(E.loadComponent()).pipe((0,Et.U)(Vr),(0,ce.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=J}),(0,_n.x)(()=>{this.componentLoaders.delete(E)})),F=new Ht(S,()=>new Xt.x).pipe(ye());return this.componentLoaders.set(E,F),F}loadChildren(E,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,De.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const J=function ir(C,A,E,S){return gn(C.loadChildren()).pipe((0,Et.U)(Vr),(0,ie.z)(F=>F instanceof l.YKP||Array.isArray(F)?(0,De.of)(F):(0,me.D)(A.compileModuleAsync(F))),(0,Et.U)(F=>{S&&S(C);let J,_e,at=!1;return Array.isArray(F)?(_e=F,!0):(J=F.create(E).injector,_e=J.get(Dr,[],{optional:!0,self:!0}).flat()),{routes:_e.map(Hr),injector:J}}))}(S,this.compiler,E,this.onLoadEndListener).pipe((0,_n.x)(()=>{this.childrenLoaders.delete(S)})),_e=new Ht(J,()=>new Xt.x).pipe(ye());return this.childrenLoaders.set(S,_e),_e}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Vr(C){return function Yr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let pi=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xt.x,this.transitionAbortSubject=new Xt.x,this.configLoader=(0,l.f3M)(Sr),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Ee),this.rootContexts=(0,l.f3M)(Er),this.inputBindingEnabled=null!==(0,l.f3M)(q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new Gr(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new Xi(F))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:S})}setupNavigations(E,S,F){return this.transitions=new Ue.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:E.urlHandlingStrategy.extract(S),urlAfterRedirects:E.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yi,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,le.h)(J=>0!==J.id),(0,Et.U)(J=>({...J,extractedUrl:E.urlHandlingStrategy.extract(J.rawUrl)})),(0,kt.w)(J=>{this.currentTransition=J;let _e=!1,at=!1;return(0,De.of)(J).pipe((0,ce.b)(ot=>{this.currentNavigation={id:ot.id,initialUrl:ot.rawUrl,extractedUrl:ot.extractedUrl,trigger:ot.source,extras:ot.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,kt.w)(ot=>{const ln=ot.currentBrowserUrl.toString(),Xn=!E.navigated||ot.extractedUrl.toString()!==ln||ln!==ot.currentUrlTree.toString();if(!Xn&&"reload"!==(ot.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const dr="";return this.events.next(new yo(ot.id,this.urlSerializer.serialize(ot.rawUrl),dr,0)),ot.resolve(null),Ye.E}if(E.urlHandlingStrategy.shouldProcessUrl(ot.rawUrl))return(0,De.of)(ot).pipe((0,kt.w)(dr=>{const Ur=this.transitions?.getValue();return this.events.next(new Mo(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),Ur!==this.transitions?.getValue()?Ye.E:Promise.resolve(dr)}),function Z(C,A,E,S,F,J){return(0,ie.z)(_e=>function js(C,A,E,S,F,J,_e="emptyOnly"){return new Ys(C,A,E,S,F,_e,J).recognize()}(C,A,E,S,_e.extractedUrl,F,J).pipe((0,Et.U)(({state:at,tree:ot})=>({..._e,targetSnapshot:at,urlAfterRedirects:ot}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,ce.b)(dr=>{J.targetSnapshot=dr.targetSnapshot,J.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const Ur=new vi(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(Ur)}));if(Xn&&E.urlHandlingStrategy.shouldProcessUrl(ot.currentRawUrl)){const{id:dr,extractedUrl:Ur,source:ea,restoredState:ga,extras:ma}=ot,ys=new Mo(dr,this.urlSerializer.serialize(Ur),ea,ga);this.events.next(ys);const Rs=Qt(0,this.rootComponentType).snapshot;return this.currentTransition=J={...ot,targetSnapshot:Rs,urlAfterRedirects:Ur,extras:{...ma,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(J)}{const dr="";return this.events.next(new yo(ot.id,this.urlSerializer.serialize(ot.extractedUrl),dr,1)),ot.resolve(null),Ye.E}}),(0,ce.b)(ot=>{const ln=new Vi(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot);this.events.next(ln)}),(0,Et.U)(ot=>(this.currentTransition=J={...ot,guards:ua(ot.targetSnapshot,ot.currentSnapshot,this.rootContexts)},J)),function ts(C,A){return(0,ie.z)(E=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:J,canDeactivateChecks:_e}}=E;return 0===_e.length&&0===J.length?(0,De.of)({...E,guardsResult:!0}):function fo(C,A,E,S){return(0,me.D)(C).pipe((0,ie.z)(F=>function Fi(C,A,E,S,F){const J=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,De.of)(!0);const _e=J.map(at=>{const ot=Oi(A)??F,ln=wi(at,ot);return gn(function te(C){return C&&Ds(C.canDeactivate)}(ln)?ln.canDeactivate(C,A,E,S):ot.runInContext(()=>ln(C,A,E,S))).pipe((0,de.P)())});return(0,De.of)(_e).pipe(ki())}(F.component,F.route,E,A,S)),(0,de.P)(F=>!0!==F,!0))}(_e,S,F,C).pipe((0,ie.z)(at=>at&&function ca(C){return"boolean"==typeof C}(at)?function Co(C,A,E,S){return(0,me.D)(A).pipe((0,be.b)(F=>(0,sn.z)(function _c(C,A){return null!==C&&A&&A(new Ui(C)),(0,De.of)(!0)}(F.route.parent,S),function po(C,A){return null!==C&&A&&A(new Bi(C)),(0,De.of)(!0)}(F.route,S),function Ls(C,A,E){const S=A[A.length-1],J=A.slice(0,A.length-1).reverse().map(_e=>function bs(C){const A=C.routeConfig?C.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:C,guards:A}:null}(_e)).filter(_e=>null!==_e).map(_e=>Le(()=>{const at=_e.guards.map(ot=>{const ln=Oi(_e.node)??E,Xn=wi(ot,ln);return gn(function P(C){return C&&Ds(C.canActivateChild)}(Xn)?Xn.canActivateChild(S,C):ln.runInContext(()=>Xn(S,C))).pipe((0,de.P)())});return(0,De.of)(at).pipe(ki())}));return(0,De.of)(J).pipe(ki())}(C,F.path,E),function Lr(C,A,E){const S=A.routeConfig?A.routeConfig.canActivate:null;if(!S||0===S.length)return(0,De.of)(!0);const F=S.map(J=>Le(()=>{const _e=Oi(A)??E,at=wi(J,_e);return gn(function G(C){return C&&Ds(C.canActivate)}(at)?at.canActivate(A,C):_e.runInContext(()=>at(A,C))).pipe((0,de.P)())}));return(0,De.of)(F).pipe(ki())}(C,F.route,E))),(0,de.P)(F=>!0!==F,!0))}(S,J,C,A):(0,De.of)(at)),(0,Et.U)(at=>({...E,guardsResult:at})))})}(this.environmentInjector,ot=>this.events.next(ot)),(0,ce.b)(ot=>{if(J.guardsResult=ot.guardsResult,kr(ot.guardsResult))throw hn(0,ot.guardsResult);const ln=new hs(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot,!!ot.guardsResult);this.events.next(ln)}),(0,le.h)(ot=>!!ot.guardsResult||(this.cancelNavigationTransition(ot,"",3),!1)),gr(ot=>{if(ot.guards.canActivateChecks.length)return(0,De.of)(ot).pipe((0,ce.b)(ln=>{const Xn=new hi(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Xn)}),(0,kt.w)(ln=>{let Xn=!1;return(0,De.of)(ln).pipe(function N(C,A){return(0,ie.z)(E=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=E;if(!F.length)return(0,De.of)(E);let J=0;return(0,me.D)(F).pipe((0,be.b)(_e=>function W(C,A,E,S){const F=C.routeConfig,J=C._resolve;return void 0!==F?.title&&!mn(F)&&(J[xt]=F.title),function ve(C,A,E,S){const F=function lt(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===F.length)return(0,De.of)({});const J={};return(0,me.D)(F).pipe((0,ie.z)(_e=>function bt(C,A,E,S){const F=Oi(A)??S,J=wi(C,F);return gn(J.resolve?J.resolve(A,E):F.runInContext(()=>J(A,E)))}(C[_e],A,E,S).pipe((0,de.P)(),(0,ce.b)(at=>{J[_e]=at}))),vt(1),function Sn(C){return(0,Et.U)(()=>C)}(J),(0,Ie.K)(_e=>Ni(_e)?Ye.E:Ke(_e)))}(J,C,A,S).pipe((0,Et.U)(_e=>(C._resolvedData=_e,C.data=Ci(C,E).resolve,F&&mn(F)&&(C.data[xt]=F.title),null)))}(_e.route,S,C,A)),(0,ce.b)(()=>J++),vt(1),(0,ie.z)(_e=>J===F.length?(0,De.of)(E):Ye.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,ce.b)({next:()=>Xn=!0,complete:()=>{Xn||this.cancelNavigationTransition(ln,"",2)}}))}),(0,ce.b)(ln=>{const Xn=new ks(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Xn)}))}),gr(ot=>{const ln=Xn=>{const ar=[];Xn.routeConfig?.loadComponent&&!Xn.routeConfig._loadedComponent&&ar.push(this.configLoader.loadComponent(Xn.routeConfig).pipe((0,ce.b)(dr=>{Xn.component=dr}),(0,Et.U)(()=>{})));for(const dr of Xn.children)ar.push(...ln(dr));return ar};return Pt(ln(ot.targetSnapshot.root)).pipe((0,mt.d)(),(0,Ut.q)(1))}),gr(()=>this.afterPreactivation()),(0,Et.U)(ot=>{const ln=function ge(C,A,E){const S=we(C,A._root,E?E._root:void 0);return new Nr(S,A)}(E.routeReuseStrategy,ot.targetSnapshot,ot.currentRouterState);return this.currentTransition=J={...ot,targetRouterState:ln},J}),(0,ce.b)(()=>{this.events.next(new Nn)}),((C,A,E,S)=>(0,Et.U)(F=>(new Fs(A,F.targetRouterState,F.currentRouterState,E,S).activate(C),F)))(this.rootContexts,E.routeReuseStrategy,ot=>this.events.next(ot),this.inputBindingEnabled),(0,Ut.q)(1),(0,ce.b)({next:ot=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects))),E.titleStrategy?.updateTitle(ot.targetRouterState.snapshot),ot.resolve(!0)},complete:()=>{_e=!0}}),function Mt(C){return(0,Dt.e)((A,E)=>{(0,We.Xf)(C).subscribe((0,pt.x)(E,()=>E.complete(),er.Z)),!E.closed&&A.subscribe(E)})}(this.transitionAbortSubject.pipe((0,ce.b)(ot=>{throw ot}))),(0,_n.x)(()=>{_e||at||this.cancelNavigationTransition(J,"",1),this.currentNavigation?.id===J.id&&(this.currentNavigation=null)}),(0,Ie.K)(ot=>{if(at=!0,Zn(ot))this.events.next(new pr(J.id,this.urlSerializer.serialize(J.extractedUrl),ot.message,ot.cancellationCode)),function un(C){return Zn(C)&&kr(C.url)}(ot)?this.events.next(new Wr(ot.url)):J.resolve(!1);else{this.events.next(new Mi(J.id,this.urlSerializer.serialize(J.extractedUrl),ot,J.targetSnapshot??void 0));try{J.resolve(E.errorHandler(ot))}catch(ln){J.reject(ln)}}return Ye.E}))}))}cancelNavigationTransition(E,S,F){const J=new pr(E.id,this.urlSerializer.serialize(E.extractedUrl),S,F);this.events.next(J),E.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Zi(C){return C!==yi}let go=(()=>{class C{buildTitle(E){let S,F=E.root;for(;void 0!==F;)S=this.getResolvedTitleForRoute(F)??S,F=F.children.find(J=>J.outlet===Vt);return S}getResolvedTitleForRoute(E){return E.data[xt]}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Ss)},providedIn:"root"})}return C})(),Ss=(()=>{class C extends go{constructor(E){super(),this.title=E}updateTitle(E){const S=this.buildTitle(E);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(On.Dx))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),bo=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Hn)},providedIn:"root"})}return C})();class ti{shouldDetach(A){return!1}store(A,E){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,E){return A.routeConfig===E.routeConfig}}let Hn=(()=>{class C extends ti{static#e=this.\u0275fac=function(){let E;return function(F){return(E||(E=l.n5z(C)))(F||C)}}();static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Bo=new l.OlP("",{providedIn:"root",factory:()=>({})});let vc=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(ni)},providedIn:"root"})}return C})(),ni=(()=>{class C{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,S){return E}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var Qs=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(Qs||{});function Js(C,A){C.events.pipe((0,le.h)(E=>E instanceof _r||E instanceof pr||E instanceof Mi||E instanceof yo),(0,Et.U)(E=>E instanceof _r||E instanceof yo?Qs.COMPLETE:E instanceof pr&&(0===E.code||1===E.code)?Qs.REDIRECTING:Qs.FAILED),(0,le.h)(E=>E!==Qs.REDIRECTING),(0,Ut.q)(1)).subscribe(()=>{A()})}function Do(C){throw C}function Ec(C,A,E){return A.parse("/")}const Lu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ps={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Xt.x,this.options=(0,l.f3M)(Bo,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||Do,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ec,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(vc),this.routeReuseStrategy=(0,l.f3M)(bo),this.titleStrategy=(0,l.f3M)(go),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(Dr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(pi),this.urlSerializer=(0,l.f3M)(Ee),this.location=(0,l.f3M)(xn.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(q,{optional:!0}),this.eventsSubscription=new _t.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(tu(S)&&this._events.next(S));if(S instanceof Mo)Zi(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(S instanceof yo)this.rawUrlTree=F.rawUrl;else if(S instanceof vi){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(J,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(S instanceof Nn)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(S instanceof pr)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(F);else if(S instanceof Wr){const J=this.urlHandlingStrategy.merge(S.url,F.currentRawUrl),_e={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zi(F.source)};this.scheduleNavigation(J,yi,null,_e,{resolve:F.resolve,reject:F.reject,promise:F.promise})}S instanceof Mi&&this.restoreHistory(F,!0),S instanceof _r&&(this.navigated=!0),tu(S)&&this._events.next(S)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yi,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const S="popstate"===E.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,S,E.state)},0)}))}navigateToSyncWithBrowser(E,S,F){const J={replaceUrl:!0},_e=F?.navigationId?F:null;if(F){const ot={...F};delete ot.navigationId,delete ot.\u0275routerPageId,0!==Object.keys(ot).length&&(J.state=ot)}const at=this.parseUrl(E);this.scheduleNavigation(at,S,_e,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(Hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,S={}){const{relativeTo:F,queryParams:J,fragment:_e,queryParamsHandling:at,preserveFragment:ot}=S,ln=ot?this.currentUrlTree.fragment:_e;let ar,Xn=null;switch(at){case"merge":Xn={...this.currentUrlTree.queryParams,...J};break;case"preserve":Xn=this.currentUrlTree.queryParams;break;default:Xn=J||null}null!==Xn&&(Xn=this.removeEmptyProps(Xn));try{ar=st(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),ar=this.currentUrlTree.root}return qe(ar,E,Xn,ln??null)}navigateByUrl(E,S={skipLocationChange:!1}){const F=kr(E)?E:this.parseUrl(E),J=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(J,yi,null,S)}navigate(E,S={skipLocationChange:!1}){return function eu(C){for(let A=0;A<C.length;A++)if(null==C[A])throw new l.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,S),S)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let S;try{S=this.urlSerializer.parse(E)}catch(F){S=this.malformedUriErrorHandler(F,this.urlSerializer,E)}return S}isActive(E,S){let F;if(F=!0===S?{...Lu}:!1===S?{...Ps}:S,kr(E))return Rr(this.currentUrlTree,E,F);const J=this.parseUrl(E);return Rr(this.currentUrlTree,J,F)}removeEmptyProps(E){return Object.keys(E).reduce((S,F)=>{const J=E[F];return null!=J&&(S[F]=J),S},{})}scheduleNavigation(E,S,F,J,_e){if(this.disposed)return Promise.resolve(!1);let at,ot,ln;_e?(at=_e.resolve,ot=_e.reject,ln=_e.promise):ln=new Promise((ar,dr)=>{at=ar,ot=dr});const Xn=this.pendingTasks.add();return Js(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xn))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:J,resolve:at,reject:ot,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(ar=>Promise.reject(ar))}setBrowserUrl(E,S){const F=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(F)||S.extras.replaceUrl){const _e={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(F,"",_e)}else{const J={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(F,"",J)}}restoreHistory(E,S=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-this.browserPageId;0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,S){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:S}:{navigationId:E}}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function tu(C){return!(C instanceof Nn||C instanceof Wr)}let nu=(()=>{class C{constructor(E,S,F,J,_e,at){this.router=E,this.route=S,this.tabIndexAttribute=F,this.renderer=J,this.el=_e,this.locationStrategy=at,this.href=null,this.commands=null,this.onChanges=new Xt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ot=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ot||"area"===ot,this.isAnchorElement?this.subscription=E.events.subscribe(ln=>{ln instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,S,F,J,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||S||F||J||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,S){const F=this.renderer,J=this.el.nativeElement;null!==S?F.setAttribute(J,E,S):F.removeAttribute(J,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||C)(l.Y36(ri),l.Y36(Qn),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(xn.S$))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,F){1&S&&l.NdJ("click",function(_e){return F.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&S&&l.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return C})();class ru{}let wc=(()=>{class C{constructor(E,S,F,J,_e){this.router=E,this.injector=F,this.preloadingStrategy=J,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,le.h)(E=>E instanceof _r),(0,be.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,S){const F=[];for(const J of S){J.providers&&!J._injector&&(J._injector=(0,l.MMx)(J.providers,E,`Route: ${J.path}`));const _e=J._injector??E,at=J._loadedInjector??_e;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&F.push(this.preloadConfig(_e,J)),(J.children||J._loadedRoutes)&&F.push(this.processRoutes(at,J.children??J._loadedRoutes))}return(0,me.D)(F).pipe((0,En.J)())}preloadConfig(E,S){return this.preloadingStrategy.preload(S,()=>{let F;F=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(E,S):(0,De.of)(null);const J=F.pipe((0,ie.z)(_e=>null===_e?(0,De.of)(void 0):(S._loadedRoutes=_e.routes,S._loadedInjector=_e.injector,this.processRoutes(_e.injector??E,_e.routes))));if(S.loadComponent&&!S._loadedComponent){const _e=this.loader.loadComponent(S);return(0,me.D)([J,_e]).pipe((0,En.J)())}return J})}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(ri),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(ru),l.LFG(Sr))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Tc=new l.OlP("");let qn=(()=>{class C{constructor(E,S,F,J,_e={}){this.urlSerializer=E,this.transitions=S,this.viewportScroller=F,this.zone=J,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof _r?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof yo&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof ro&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ro(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function mo(C,A){return{\u0275kind:C,\u0275providers:A}}function iu(){const C=(0,l.f3M)(l.zs3);return A=>{const E=C.get(l.z2F);if(A!==E.components[0])return;const S=C.get(ri),F=C.get(Uu);1===C.get(ha)&&S.initialNavigation(),C.get(Cr,null,l.XFs.Optional)?.setUpPreloading(),C.get(Tc,null,l.XFs.Optional)?.init(),S.resetRootComponentType(E.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const Uu=new l.OlP("",{factory:()=>new Xt.x}),ha=new l.OlP("",{providedIn:"root",factory:()=>1}),Cr=new l.OlP("");function Bu(C){return mo(0,[{provide:Cr,useExisting:wc},{provide:ru,useExisting:C}])}const pa=new l.OlP("ROUTER_FORROOT_GUARD"),Ma=[xn.Ye,{provide:Ee,useClass:ht},ri,Er,{provide:Qn,useFactory:function Sa(C){return C.routerState.root},deps:[ri]},Sr,[]];function Dc(){return new l.PXZ("Router",ri)}let ju=(()=>{class C{constructor(E){}static forRoot(E,S){return{ngModule:C,providers:[Ma,[],{provide:Dr,multi:!0,useValue:E},{provide:pa,useFactory:su,deps:[[ri,new l.FiY,new l.tp0]]},{provide:Bo,useValue:S||{}},S?.useHash?{provide:xn.S$,useClass:xn.Do}:{provide:xn.S$,useClass:xn.b0},{provide:Tc,useFactory:()=>{const C=(0,l.f3M)(xn.EM),A=(0,l.f3M)(l.R0b),E=(0,l.f3M)(Bo),S=(0,l.f3M)(pi),F=(0,l.f3M)(Ee);return E.scrollOffset&&C.setOffset(E.scrollOffset),new qn(F,S,C,A,E)}},S?.preloadingStrategy?Bu(S.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Dc},S?.initialNavigation?ss(S):[],S?.bindToComponentInputs?mo(8,[B,{provide:q,useExisting:B}]).\u0275providers:[],[{provide:Oo,useFactory:iu},{provide:l.tb,multi:!0,useExisting:Oo}]]}}static forChild(E){return{ngModule:C,providers:[{provide:Dr,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(pa,8))};static#t=this.\u0275mod=l.oAB({type:C});static#n=this.\u0275inj=l.cJS({})}return C})();function su(C){return"guarded"}function ss(C){return["disabled"===C.initialNavigation?mo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const A=(0,l.f3M)(ri);return()=>{A.setUpLocationChangeListener()}}},{provide:ha,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?mo(2,[{provide:ha,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:A=>{const E=A.get(xn.V_,Promise.resolve());return()=>E.then(()=>new Promise(S=>{const F=A.get(ri),J=A.get(Uu);Js(F,()=>{S(!0)}),A.get(pi).afterPreactivation=()=>(S(!0),J.closed?(0,De.of)(void 0):J),F.initialNavigation()}))}}]).\u0275providers:[]]}const Oo=new l.OlP("")},3106:(nn,Je,k)=>{k.d(Je,{Z:()=>Pt});var l=k(9058),_=k(4537),H=k(534),Te=k(7879);class me{constructor(Lt,wt){this._delegate=Lt,this.firebase=wt,(0,H._addComponent)(Lt,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=Lt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Lt){this._delegate.automaticDataCollectionEnabled=Lt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Lt=>{this._delegate.checkDestroyed(),Lt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Lt,wt=H._DEFAULT_ENTRY_NAME){var sn;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(Lt);return!We.isInitialized()&&"EXPLICIT"===(null===(sn=We.getComponent())||void 0===sn?void 0:sn.instantiationMode)&&We.initialize(),We.getImmediate({identifier:wt})}_removeServiceInstance(Lt,wt=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Lt).clearInstance(wt)}_addComponent(Lt){(0,H._addComponent)(this._delegate,Lt)}_addOrOverwriteComponent(Lt){(0,H._addOrOverwriteComponent)(this._delegate,Lt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function He(){const yt=function ke(yt){const Lt={},wt={__esModule:!0,initializeApp:function Le(_t,Dt={}){const ye=H.initializeApp(_t,Dt);if((0,l.r3)(Lt,ye.name))return Lt[ye.name];const Ht=new yt(ye,wt);return Lt[ye.name]=Ht,Ht},app:We,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Ke(_t){const Dt=_t.name,ye=Dt.replace("-compat","");if(H._registerComponent(_t)&&"PUBLIC"===_t.type){const Ht=(Xt=We())=>{if("function"!=typeof Xt[ye])throw Ue.create("invalid-app-argument",{appName:Dt});return Xt[ye]()};void 0!==_t.serviceProps&&(0,l.ZB)(Ht,_t.serviceProps),wt[ye]=Ht,yt.prototype[ye]=function(...Xt){return this._getService.bind(this,Dt).apply(this,_t.multipleInstances?Xt:[])}}return"PUBLIC"===_t.type?wt[ye]:null},removeApp:function sn(_t){delete Lt[_t]},useAsService:function Ye(_t,Dt){return"serverAuth"===Dt?null:Dt},modularAPIs:H}};function We(_t){if(!(0,l.r3)(Lt,_t=_t||H._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:_t});return Lt[_t]}return wt.default=wt,Object.defineProperty(wt,"apps",{get:function Xe(){return Object.keys(Lt).map(_t=>Lt[_t])}}),We.App=yt,wt}(me);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function Lt(wt){(0,l.ZB)(yt,wt)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),yt}(),se=new Te.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pt=re;!function Ge(yt){(0,H.registerVersion)("@firebase/app-compat","0.2.35",yt)}()},534:(nn,Je,k)=>{k.r(Je),k.d(Je,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>Ee,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>xr,_apps:()=>rr,_clearComponents:()=>Dn,_components:()=>Rr,_getProvider:()=>en,_isFirebaseApp:()=>$n,_isFirebaseServerApp:()=>tr,_registerComponent:()=>Di,_removeServiceInstance:()=>Or,_serverApps:()=>ur,deleteApp:()=>Yn,getApp:()=>Tn,getApps:()=>mr,initializeApp:()=>ht,initializeServerApp:()=>Bt,onLog:()=>V,registerVersion:()=>K,setLogLevel:()=>O});var l=k(5861),_=k(4537),H=k(7879),Te=k(9058);const me=(st,qe)=>qe.some(It=>st instanceof It);let De,Ue;const re=new WeakMap,se=new WeakMap,Me=new WeakMap,pt=new WeakMap,Ge=new WeakMap;let Lt={get(st,qe,It){if(st instanceof IDBTransaction){if("done"===qe)return se.get(st);if("objectStoreNames"===qe)return st.objectStoreNames||Me.get(st);if("store"===qe)return It.objectStoreNames[1]?void 0:It.objectStore(It.objectStoreNames[0])}return Le(st[qe])},set:(st,qe,It)=>(st[qe]=It,!0),has:(st,qe)=>st instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in st};function We(st){return"function"==typeof st?function sn(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...qe){return st.apply(Xe(this),qe),Le(re.get(this))}:function(...qe){return Le(st.apply(Xe(this),qe))}:function(qe,...It){const tn=st.call(Xe(this),qe,...It);return Me.set(tn,qe.sort?qe.sort():[qe]),Le(tn)}}(st):(st instanceof IDBTransaction&&function yt(st){if(se.has(st))return;const qe=new Promise((It,tn)=>{const bn=()=>{st.removeEventListener("complete",Pn),st.removeEventListener("error",dn),st.removeEventListener("abort",dn)},Pn=()=>{It(),bn()},dn=()=>{tn(st.error||new DOMException("AbortError","AbortError")),bn()};st.addEventListener("complete",Pn),st.addEventListener("error",dn),st.addEventListener("abort",dn)});se.set(st,qe)}(st),me(st,function ke(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,Lt):st)}function Le(st){if(st instanceof IDBRequest)return function Pt(st){const qe=new Promise((It,tn)=>{const bn=()=>{st.removeEventListener("success",Pn),st.removeEventListener("error",dn)},Pn=()=>{It(Le(st.result)),bn()},dn=()=>{tn(st.error),bn()};st.addEventListener("success",Pn),st.addEventListener("error",dn)});return qe.then(It=>{It instanceof IDBCursor&&re.set(It,st)}).catch(()=>{}),Ge.set(qe,st),qe}(st);if(pt.has(st))return pt.get(st);const qe=We(st);return qe!==st&&(pt.set(st,qe),Ge.set(qe,st)),qe}const Xe=st=>Ge.get(st),_t=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],ye=new Map;function Ht(st,qe){if(!(st instanceof IDBDatabase)||qe in st||"string"!=typeof qe)return;if(ye.get(qe))return ye.get(qe);const It=qe.replace(/FromIndex$/,""),tn=qe!==It,bn=Dt.includes(It);if(!(It in(tn?IDBIndex:IDBObjectStore).prototype)||!bn&&!_t.includes(It))return;const Pn=function(){var dn=(0,l.Z)(function*(vr,...cr){const di=this.transaction(vr,bn?"readwrite":"readonly");let uo=di.store;return tn&&(uo=uo.index(cr.shift())),(yield Promise.all([uo[It](...cr),bn&&di.done]))[0]});return function(cr){return dn.apply(this,arguments)}}();return ye.set(qe,Pn),Pn}!function wt(st){Lt=st(Lt)}(st=>({...st,get:(qe,It,tn)=>Ht(qe,It)||st.get(qe,It,tn),has:(qe,It)=>!!Ht(qe,It)||st.has(qe,It)}));class Xt{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function xn(st){const qe=st.getComponent();return"VERSION"===qe?.type}(It)){const tn=It.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(It=>It).join(" ")}}const Et="@firebase/app",kt="0.10.5",Ut=new H.Yd("@firebase/app"),Cn="[DEFAULT]",gn={[Et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},rr=new Map,ur=new Map,Rr=new Map;function Rn(st,qe){try{st.container.addComponent(qe)}catch(It){Ut.debug(`Component ${qe.name} failed to register with FirebaseApp ${st.name}`,It)}}function xr(st,qe){st.container.addOrOverwriteComponent(qe)}function Di(st){const qe=st.name;if(Rr.has(qe))return Ut.debug(`There were multiple attempts to register component ${qe}.`),!1;Rr.set(qe,st);for(const It of rr.values())Rn(It,st);for(const It of ur.values())Rn(It,st);return!0}function en(st,qe){const It=st.container.getProvider("heartbeat").getImmediate({optional:!0});return It&&It.triggerHeartbeat(),st.container.getProvider(qe)}function Or(st,qe,It=Cn){en(st,qe).clearInstance(It)}function $n(st){return void 0!==st.options}function tr(st){return void 0!==st.settings}function Dn(){Rr.clear()}const je=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class dt{constructor(qe,It,tn){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw je.create("app-deleted",{appName:this._name})}}class X extends dt{constructor(qe,It,tn,bn){const Pn=void 0!==It.automaticDataCollectionEnabled&&It.automaticDataCollectionEnabled,dn={name:tn,automaticDataCollectionEnabled:Pn};super(void 0!==qe.apiKey?qe:qe.options,dn,bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Pn},It),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,It.releaseOnDeref=void 0,K(Et,kt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(qe){this.isDeleted||(this._refCount++,void 0!==qe&&this._finalizationRegistry.register(qe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Yn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw je.create("server-app-deleted")}}const Ee="10.12.2";function ht(st,qe={}){let It=st;"object"!=typeof qe&&(qe={name:qe});const tn=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},qe),bn=tn.name;if("string"!=typeof bn||!bn)throw je.create("bad-app-name",{appName:String(bn)});if(It||(It=(0,Te.aH)()),!It)throw je.create("no-options");const Pn=rr.get(bn);if(Pn){if((0,Te.vZ)(It,Pn.options)&&(0,Te.vZ)(tn,Pn.config))return Pn;throw je.create("duplicate-app",{appName:bn})}const dn=new _.H0(bn);for(const cr of Rr.values())dn.addComponent(cr);const vr=new dt(It,tn,dn);return rr.set(bn,vr),vr}function Bt(st,qe){if((0,Te.jU)())throw je.create("invalid-server-app-environment");let It;void 0===qe.automaticDataCollectionEnabled&&(qe.automaticDataCollectionEnabled=!1),It=$n(st)?st.options:st;const tn=Object.assign(Object.assign({},qe),It);if(void 0!==tn.releaseOnDeref&&delete tn.releaseOnDeref,void 0!==qe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw je.create("finalization-registry-not-supported",{});const Pn=""+(di=JSON.stringify(tn),[...di].reduce((uo,lr)=>Math.imul(31,uo)+lr.charCodeAt(0)|0,0)),dn=ur.get(Pn);var di;if(dn)return dn.incRefCount(qe.releaseOnDeref),dn;const vr=new _.H0(Pn);for(const di of Rr.values())vr.addComponent(di);const cr=new X(It,qe,Pn,vr);return ur.set(Pn,cr),cr}function Tn(st=Cn){const qe=rr.get(st);if(!qe&&st===Cn&&(0,Te.aH)())return ht();if(!qe)throw je.create("no-app",{appName:st});return qe}function mr(){return Array.from(rr.values())}function Yn(st){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(st){let qe=!1;const It=st.name;rr.has(It)?(qe=!0,rr.delete(It)):ur.has(It)&&st.decRefCount()<=0&&(ur.delete(It),qe=!0),qe&&(yield Promise.all(st.container.getProviders().map(tn=>tn.delete())),st.isDeleted=!0)})).apply(this,arguments)}function K(st,qe,It){var tn;let bn=null!==(tn=gn[st])&&void 0!==tn?tn:st;It&&(bn+=`-${It}`);const Pn=bn.match(/\s|\//),dn=qe.match(/\s|\//);if(Pn||dn){const vr=[`Unable to register library "${bn}" with version "${qe}":`];return Pn&&vr.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Pn&&dn&&vr.push("and"),dn&&vr.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void Ut.warn(vr.join(" "))}Di(new _.wA(`${bn}-version`,()=>({library:bn,version:qe}),"VERSION"))}function V(st,qe){if(null!==st&&"function"!=typeof st)throw je.create("invalid-log-argument");(0,H.Am)(st,qe)}function O(st){(0,H.Ub)(st)}const x="firebase-heartbeat-database",ae=1,xe="firebase-heartbeat-store";let ft=null;function At(){return ft||(ft=function Ke(st,qe,{blocked:It,upgrade:tn,blocking:bn,terminated:Pn}={}){const dn=indexedDB.open(st,qe),vr=Le(dn);return tn&&dn.addEventListener("upgradeneeded",cr=>{tn(Le(dn.result),cr.oldVersion,cr.newVersion,Le(dn.transaction),cr)}),It&&dn.addEventListener("blocked",cr=>It(cr.oldVersion,cr.newVersion,cr)),vr.then(cr=>{Pn&&cr.addEventListener("close",()=>Pn()),bn&&cr.addEventListener("versionchange",di=>bn(di.oldVersion,di.newVersion,di))}).catch(()=>{}),vr}(x,ae,{upgrade:(st,qe)=>{if(0===qe)try{st.createObjectStore(xe)}catch(It){console.warn(It)}}}).catch(st=>{throw je.create("idb-open",{originalErrorMessage:st.message})})),ft}function Zt(){return(Zt=(0,l.Z)(function*(st){try{const It=(yield At()).transaction(xe),tn=yield It.objectStore(xe).get(vn(st));return yield It.done,tn}catch(qe){if(qe instanceof Te.ZR)Ut.warn(qe.message);else{const It=je.create("idb-get",{originalErrorMessage:qe?.message});Ut.warn(It.message)}}})).apply(this,arguments)}function Jt(st,qe){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(st,qe){try{const tn=(yield At()).transaction(xe,"readwrite");yield tn.objectStore(xe).put(qe,vn(st)),yield tn.done}catch(It){if(It instanceof Te.ZR)Ut.warn(It.message);else{const tn=je.create("idb-set",{originalErrorMessage:It?.message});Ut.warn(tn.message)}}})).apply(this,arguments)}function vn(st){return`${st.name}!${st.options.appId}`}class Ai{constructor(qe){this.container=qe,this._heartbeatsCache=null;const It=this.container.getProvider("app").getImmediate();this._storage=new Gi(It),this._heartbeatsCachePromise=this._storage.read().then(tn=>(this._heartbeatsCache=tn,tn))}triggerHeartbeat(){var qe=this;return(0,l.Z)(function*(){var It,tn;const Pn=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=zr();if((null!=(null===(It=qe._heartbeatsCache)||void 0===It?void 0:It.heartbeats)||(qe._heartbeatsCache=yield qe._heartbeatsCachePromise,null!=(null===(tn=qe._heartbeatsCache)||void 0===tn?void 0:tn.heartbeats)))&&qe._heartbeatsCache.lastSentHeartbeatDate!==dn&&!qe._heartbeatsCache.heartbeats.some(vr=>vr.date===dn))return qe._heartbeatsCache.heartbeats.push({date:dn,agent:Pn}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(vr=>{const cr=new Date(vr.date).valueOf();return Date.now()-cr<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,l.Z)(function*(){var It;if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null==(null===(It=qe._heartbeatsCache)||void 0===It?void 0:It.heartbeats)||0===qe._heartbeatsCache.heartbeats.length)return"";const tn=zr(),{heartbeatsToSend:bn,unsentEntries:Pn}=function Qi(st,qe=1024){const It=[];let tn=st.slice();for(const bn of st){const Pn=It.find(dn=>dn.agent===bn.agent);if(Pn){if(Pn.dates.push(bn.date),kr(It)>qe){Pn.dates.pop();break}}else if(It.push({agent:bn.agent,dates:[bn.date]}),kr(It)>qe){It.pop();break}tn=tn.slice(1)}return{heartbeatsToSend:It,unsentEntries:tn}}(qe._heartbeatsCache.heartbeats),dn=(0,Te.L)(JSON.stringify({version:2,heartbeats:bn}));return qe._heartbeatsCache.lastSentHeartbeatDate=tn,Pn.length>0?(qe._heartbeatsCache.heartbeats=Pn,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),dn})()}}function zr(){return(new Date).toISOString().substring(0,10)}class Gi{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,l.Z)(function*(){if(yield qe._canUseIndexedDBPromise){const tn=yield function on(st){return Zt.apply(this,arguments)}(qe.app);return tn?.heartbeats?tn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(qe){var It=this;return(0,l.Z)(function*(){var tn;if(yield It._canUseIndexedDBPromise){const Pn=yield It.read();return Jt(It.app,{lastSentHeartbeatDate:null!==(tn=qe.lastSentHeartbeatDate)&&void 0!==tn?tn:Pn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var It=this;return(0,l.Z)(function*(){var tn;if(yield It._canUseIndexedDBPromise){const Pn=yield It.read();return Jt(It.app,{lastSentHeartbeatDate:null!==(tn=qe.lastSentHeartbeatDate)&&void 0!==tn?tn:Pn.lastSentHeartbeatDate,heartbeats:[...Pn.heartbeats,...qe.heartbeats]})}})()}}function kr(st){return(0,Te.L)(JSON.stringify({version:2,heartbeats:st})).length}!function Wn(st){Di(new _.wA("platform-logger",qe=>new Xt(qe),"PRIVATE")),Di(new _.wA("heartbeat",qe=>new Ai(qe),"PRIVATE")),K(Et,kt,st),K(Et,kt,"esm2017"),K("fire-js","")}("")},4537:(nn,Je,k)=>{k.d(Je,{H0:()=>ke,wA:()=>H});var l=k(5861),_=k(9058);class H{constructor(re,se,Me){this.name=re,this.instanceFactory=se,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const Te="[DEFAULT]";class me{constructor(re,se){this.name=re,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const se=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(se)){const Me=new _.BH;if(this.instancesDeferred.set(se,Me),this.isInitialized(se)||this.shouldAutoInitialize())try{const pt=this.getOrInitializeService({instanceIdentifier:se});pt&&Me.resolve(pt)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(re){var se;const Me=this.normalizeInstanceIdentifier(re?.identifier),pt=null!==(se=re?.optional)&&void 0!==se&&se;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Ge){if(pt)return null;throw Ge}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ue(He){return"EAGER"===He.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[se,Me]of this.instancesDeferred.entries()){const pt=this.normalizeInstanceIdentifier(se);try{const Ge=this.getOrInitializeService({instanceIdentifier:pt});Me.resolve(Ge)}catch{}}}}clearInstance(re=Te){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,l.Z)(function*(){const se=Array.from(re.instances.values());yield Promise.all([...se.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...se.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=Te){return this.instances.has(re)}getOptions(re=Te){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:se={}}=re,Me=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pt=this.getOrInitializeService({instanceIdentifier:Me,options:se});for(const[Ge,Pt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Ge)&&Pt.resolve(pt);return pt}onInit(re,se){var Me;const pt=this.normalizeInstanceIdentifier(se),Ge=null!==(Me=this.onInitCallbacks.get(pt))&&void 0!==Me?Me:new Set;Ge.add(re),this.onInitCallbacks.set(pt,Ge);const Pt=this.instances.get(pt);return Pt&&re(Pt,pt),()=>{Ge.delete(re)}}invokeOnInitCallbacks(re,se){const Me=this.onInitCallbacks.get(se);if(Me)for(const pt of Me)try{pt(re,se)}catch{}}getOrInitializeService({instanceIdentifier:re,options:se={}}){let Me=this.instances.get(re);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(He=re,He===Te?void 0:He),options:se}),this.instances.set(re,Me),this.instancesOptions.set(re,se),this.invokeOnInitCallbacks(Me,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Me)}catch{}var He;return Me||null}normalizeInstanceIdentifier(re=Te){return this.component?this.component.multipleInstances?re:Te:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const se=this.getProvider(re.name);if(se.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);se.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const se=new me(re,this);return this.providers.set(re,se),se}getProviders(){return Array.from(this.providers.values())}}},7879:(nn,Je,k)=>{k.d(Je,{Am:()=>He,Ub:()=>ke,Yd:()=>Ue,in:()=>_});const l=[];var _=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(_||{});const H={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},Te=_.INFO,me={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},De=(re,se,...Me)=>{if(se<re.logLevel)return;const pt=(new Date).toISOString(),Ge=me[se];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Ge](`[${pt}]  ${re.name}:`,...Me)};class Ue{constructor(se){this.name=se,this._logLevel=Te,this._logHandler=De,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in _))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?H[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...se),this._logHandler(this,_.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...se),this._logHandler(this,_.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,_.INFO,...se),this._logHandler(this,_.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,_.WARN,...se),this._logHandler(this,_.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...se),this._logHandler(this,_.ERROR,...se)}}function ke(re){l.forEach(se=>{se.setLogLevel(re)})}function He(re,se){for(const Me of l){let pt=null;se&&se.level&&(pt=H[se.level]),Me.userLogHandler=null===re?null:(Ge,Pt,...yt)=>{const Lt=yt.map(wt=>{if(null==wt)return null;if("string"==typeof wt)return wt;if("number"==typeof wt||"boolean"==typeof wt)return wt.toString();if(wt instanceof Error)return wt.message;try{return JSON.stringify(wt)}catch{return null}}).filter(wt=>wt).join(" ");Pt>=(pt??Ge.logLevel)&&re({level:_[Pt].toLowerCase(),message:Lt,args:yt,type:Ge.name})}}}},3182:(nn,Je,k)=>{k.d(Je,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(534);(0,l.registerVersion)("firebase","10.12.2","app")},7142:(nn,Je,k)=>{k.d(Je,{Z:()=>l.Z});var l=k(3106);l.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(nn,Je,k)=>{k.r(Je);var l=k(5861),_=k(3106),H=k(35),Te=k(9058),Ue=(k(534),k(7879),k(4537));function ke(){return window}function se(){return se=(0,l.Z)(function*(V,O,x){var ae;const{BuildInfo:xe}=ke();(0,H.au)(O.sessionId,"AuthEvent did not contain a session ID");const ft=yield function wt(V){return sn.apply(this,arguments)}(O.sessionId),At={};return(0,H.av)()?At.ibi=xe.packageName:(0,H.aw)()?At.apn=xe.packageName:(0,H.ax)(V,"operation-not-supported-in-this-environment"),xe.displayName&&(At.appDisplayName=xe.displayName),At.sessionId=ft,(0,H.ay)(V,x,O.type,void 0,null!==(ae=O.eventId)&&void 0!==ae?ae:void 0,At)}),se.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(V){const{BuildInfo:O}=ke(),x={};(0,H.av)()?x.iosBundleId=O.packageName:(0,H.aw)()?x.androidPackageName=O.packageName:(0,H.ax)(V,"operation-not-supported-in-this-environment"),yield(0,H.az)(V,x)})).apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(V,O,x){const{cordova:ae}=ke();let xe=()=>{};try{yield new Promise((ft,At)=>{let on=null;function Zt(){var vn;ft();const Gn=null===(vn=ae.plugins.browsertab)||void 0===vn?void 0:vn.close;"function"==typeof Gn&&Gn(),"function"==typeof x?.close&&x.close()}function Jt(){on||(on=window.setTimeout(()=>{At((0,H.aB)(V,"redirect-cancelled-by-user"))},2e3))}function zn(){"visible"===document?.visibilityState&&Jt()}O.addPassiveListener(Zt),document.addEventListener("resume",Jt,!1),(0,H.aw)()&&document.addEventListener("visibilitychange",zn,!1),xe=()=>{O.removePassiveListener(Zt),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",zn,!1),on&&window.clearTimeout(on)}})}finally{xe()}})).apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(V){const O=function We(V){if((0,H.au)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const O=new ArrayBuffer(V.length),x=new Uint8Array(O);for(let ae=0;ae<V.length;ae++)x[ae]=V.charCodeAt(ae);return x}(V),x=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(x)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Xe extends H.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(x=>x(O)),super.onEvent(O)}initialized(){var O=this;return(0,l.Z)(function*(){yield O.initPromise})()}}function _t(V){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(V){const O=yield Xt()._get(xn(V));return O&&(yield Xt()._remove(xn(V))),O})).apply(this,arguments)}function Ht(){const V=[];for(let x=0;x<20;x++){const ae=Math.floor(62*Math.random());V.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ae))}return V.join("")}function Xt(){return(0,H.aE)(H.b)}function xn(V){return(0,H.aF)("authEvent",V.config.apiKey,V.name)}function Ut(V){if(!V?.includes("?"))return{};const[O,...x]=V.split("?");return(0,Te.zd)(x.join("?"))}const ie=class le{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aG,this._overrideRedirectResult=H.aH}_initialize(O){var x=this;return(0,l.Z)(function*(){const ae=O._key();let xe=x.eventManagers.get(ae);return xe||(xe=new Xe(O),x.eventManagers.set(ae,xe),x.attachCallbackListeners(O,xe)),xe})()}_openPopup(O){(0,H.ax)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,x,ae,xe){var ft=this;return(0,l.Z)(function*(){!function Lt(V){var O,x,ae,xe,ft,At,on,Zt,Jt,zn;const vn=ke();(0,H.aC)("function"==typeof(null===(O=vn?.universalLinks)||void 0===O?void 0:O.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.aC)(typeof(null===(x=vn?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.aC)("function"==typeof(null===(ft=null===(xe=null===(ae=vn?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===ft?void 0:ft.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aC)("function"==typeof(null===(Zt=null===(on=null===(At=vn?.cordova)||void 0===At?void 0:At.plugins)||void 0===on?void 0:on.browsertab)||void 0===Zt?void 0:Zt.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aC)("function"==typeof(null===(zn=null===(Jt=vn?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===zn?void 0:zn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const At=yield ft._initialize(O);yield At.initialized(),At.resetRedirect(),(0,H.aI)(),yield ft._originValidation(O);const on=function Ke(V,O,x=null){return{type:O,eventId:x,urlResponse:null,sessionId:Ht(),postBody:null,tenantId:V.tenantId,error:(0,H.aB)(V,"no-auth-event")}}(O,ae,xe);yield function Ye(V,O){return Xt()._set(xn(V),O)}(O,on);const Zt=yield function re(V,O,x){return se.apply(this,arguments)}(O,on,x),Jt=yield function Ge(V){const{cordova:O}=ke();return new Promise(x=>{O.plugins.browsertab.isAvailable(ae=>{let xe=null;ae?O.plugins.browsertab.openUrl(V):xe=O.InAppBrowser.open(V,(0,H.aA)()?"_blank":"_system","location=yes"),x(xe)})})}(Zt);return function Pt(V,O,x){return yt.apply(this,arguments)}(O,At,Jt)})()}_isIframeWebStorageSupported(O,x){throw new Error("Method not implemented.")}_originValidation(O){const x=O._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function Me(V){return pt.apply(this,arguments)}(O)),this.originValidationPromises[x]}attachCallbackListeners(O,x){const{universalLinks:ae,handleOpenURL:xe,BuildInfo:ft}=ke(),At=setTimeout((0,l.Z)(function*(){yield _t(O),x.onEvent(de())}),500),on=function(){var zn=(0,l.Z)(function*(vn){clearTimeout(At);const Gn=yield _t(O);let Li=null;Gn&&vn?.url&&(Li=function ye(V,O){var x,ae;const xe=function kt(V){const O=Ut(V),x=O.link?decodeURIComponent(O.link):void 0,ae=Ut(x).link,xe=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return Ut(xe).link||xe||ae||x||V}(O);if(xe.includes("/__/auth/callback")){const ft=Ut(xe),At=ft.firebaseError?function Et(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(ft.firebaseError)):null,on=null===(ae=null===(x=At?.code)||void 0===x?void 0:x.split("auth/"))||void 0===ae?void 0:ae[1],Zt=on?(0,H.aB)(on):null;return Zt?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Zt,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:xe,postBody:null}}return null}(Gn,vn.url)),x.onEvent(Li||de())});return function(Gn){return zn.apply(this,arguments)}}();typeof ae<"u"&&"function"==typeof ae.subscribe&&ae.subscribe(null,on);const Zt=xe,Jt=`${ft.packageName.toLowerCase()}://`;ke().handleOpenURL=function(){var zn=(0,l.Z)(function*(vn){if(vn.toLowerCase().startsWith(Jt)&&on({url:vn}),"function"==typeof Zt)try{Zt(vn)}catch(Gn){console.error(Gn)}});return function(vn){return zn.apply(this,arguments)}}()}};function de(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aB)("no-auth-event")}}function mt(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function an(V=(0,Te.z$)()){return!("file:"!==mt()&&"ionic:"!==mt()&&"capacitor:"!==mt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mt(){try{const V=self.localStorage,O=H.aN();if(V)return V.setItem(O,"1"),V.removeItem(O),!function er(V=(0,Te.z$)()){return function Sn(){return(0,Te.w1)()&&11===document?.documentMode}()||function _n(V=(0,Te.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,Te.hl)()}catch{return En()&&(0,Te.hl)()}return!1}function En(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function vt(){return"http:"===mt()||"https:"===mt()}()||(0,Te.ru)()||an())&&!function qt(){return(0,Te.b$)()||(0,Te.UG)()}()&&Mt()&&!En()}function Vt(){return an()&&typeof document<"u"}function wr(){return(wr=(0,l.Z)(function*(){return!!Vt()&&new Promise(V=>{const O=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),V(!0)})})})).apply(this,arguments)}const sr={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=H.aC,Rt="persistence";function Cn(V){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(V){yield V._initializationPromise;const O=ur(),x=H.aF(Rt,V.config.apiKey,V.name);O&&O.setItem(x,V._getPersistence())})).apply(this,arguments)}function ur(){var V;try{return(null===(V=function rn(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const Rr=H.aC;class Rn{constructor(){this.browserResolver=H.aE(H.k),this.cordovaResolver=H.aE(ie),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aG,this._overrideRedirectResult=H.aH}_initialize(O){var x=this;return(0,l.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,x,ae,xe){var ft=this;return(0,l.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openPopup(O,x,ae,xe)})()}_openRedirect(O,x,ae,xe){var ft=this;return(0,l.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openRedirect(O,x,ae,xe)})()}_isIframeWebStorageSupported(O,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,x)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return Vt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,l.Z)(function*(){if(O.underlyingResolver)return;const x=yield function xt(){return wr.apply(this,arguments)}();O.underlyingResolver=x?O.cordovaResolver:O.browserResolver})()}}function xr(V){return V.unwrap()}function en(V){return $n(V)}function $n(V){const{_tokenResponse:O}=V instanceof Te.ZR?V.customData:V;if(!O)return null;if(!(V instanceof Te.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return H.P.credentialFromResult(V);const x=O.providerId;if(!x||x===H.p.PASSWORD)return null;let ae;switch(x){case H.p.GOOGLE:ae=H.X;break;case H.p.FACEBOOK:ae=H.W;break;case H.p.GITHUB:ae=H.Y;break;case H.p.TWITTER:ae=H.$;break;default:const{oauthIdToken:xe,oauthAccessToken:ft,oauthTokenSecret:At,pendingToken:on,nonce:Zt}=O;return ft||At||xe||on?on?x.startsWith("saml.")?H.aQ._create(x,on):H.N._fromParams({providerId:x,signInMethod:x,pendingToken:on,idToken:xe,accessToken:ft}):new H.Z(x).credential({idToken:xe,accessToken:ft,rawNonce:Zt}):null}return V instanceof Te.ZR?ae.credentialFromError(V):ae.credentialFromResult(V)}function tr(V,O){return O.catch(x=>{throw x instanceof Te.ZR&&function Or(V,O){var x;const ae=null===(x=O.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new je(V,H.as(V,O));else if(ae){const xe=$n(O),ft=O;xe&&(ft.credential=xe,ft.tenantId=ae.tenantId||void 0,ft.email=ae.email||void 0,ft.phoneNumber=ae.phoneNumber||void 0)}}(V,x),x}).then(x=>{const xe=x.user;return{operationType:x.operationType,credential:en(x),additionalUserInfo:H.aq(x),user:dt.getOrCreate(xe)}})}function Dn(V,O){return si.apply(this,arguments)}function si(){return(si=(0,l.Z)(function*(V,O){const x=yield O;return{verificationId:x.verificationId,confirm:ae=>tr(V,x.confirm(ae))}})).apply(this,arguments)}class je{constructor(O,x){this.resolver=x,this.auth=function Di(V){return V.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return tr(xr(this.auth),this.resolver.resolveSignIn(O))}}class dt{constructor(O){this._delegate=O,this.multiFactor=H.at(O)}static getOrCreate(O){return dt.USER_MAP.has(O)||dt.USER_MAP.set(O,new dt(O)),dt.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var x=this;return(0,l.Z)(function*(){return tr(x.auth,H.a2(x._delegate,O))})()}linkWithPhoneNumber(O,x){var ae=this;return(0,l.Z)(function*(){return Dn(ae.auth,H.l(ae._delegate,O,x))})()}linkWithPopup(O){var x=this;return(0,l.Z)(function*(){return tr(x.auth,H.d(x._delegate,O,Rn))})()}linkWithRedirect(O){var x=this;return(0,l.Z)(function*(){return yield Cn(H.aJ(x.auth)),H.g(x._delegate,O,Rn)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var x=this;return(0,l.Z)(function*(){return tr(x.auth,H.a3(x._delegate,O))})()}reauthenticateWithPhoneNumber(O,x){return Dn(this.auth,H.r(this._delegate,O,x))}reauthenticateWithPopup(O){return tr(this.auth,H.e(this._delegate,O,Rn))}reauthenticateWithRedirect(O){var x=this;return(0,l.Z)(function*(){return yield Cn(H.aJ(x.auth)),H.h(x._delegate,O,Rn)})()}sendEmailVerification(O){return H.ag(this._delegate,O)}unlink(O){var x=this;return(0,l.Z)(function*(){return yield H.ap(x._delegate,O),x})()}updateEmail(O){return H.al(this._delegate,O)}updatePassword(O){return H.am(this._delegate,O)}updatePhoneNumber(O){return H.u(this._delegate,O)}updateProfile(O){return H.ak(this._delegate,O)}verifyBeforeUpdateEmail(O,x){return H.ah(this._delegate,O,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}dt.USER_MAP=new WeakMap;const X=H.aC;let Ee=(()=>{class V{constructor(x,ae){if(this.app=x,ae.isInitialized())return this._delegate=ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=x.options;X(xe,"invalid-api-key",{appName:x.name}),X(xe,"invalid-api-key",{appName:x.name});const ft=typeof window<"u"?Rn:void 0;this._delegate=ae.initialize({options:{persistence:Bt(xe,x.name),popupRedirectResolver:ft}}),this._delegate._updateErrorMap(H.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?dt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(x){this._delegate.languageCode=x}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(x){this._delegate.tenantId=x}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(x,ae){H.K(this._delegate,x,ae)}applyActionCode(x){return H.a7(this._delegate,x)}checkActionCode(x){return H.a8(this._delegate,x)}confirmPasswordReset(x,ae){return H.a6(this._delegate,x,ae)}createUserWithEmailAndPassword(x,ae){var xe=this;return(0,l.Z)(function*(){return tr(xe._delegate,H.aa(xe._delegate,x,ae))})()}fetchProvidersForEmail(x){return this.fetchSignInMethodsForEmail(x)}fetchSignInMethodsForEmail(x){return H.af(this._delegate,x)}isSignInWithEmailLink(x){return H.ad(this._delegate,x)}getRedirectResult(){var x=this;return(0,l.Z)(function*(){X(On(),x._delegate,"operation-not-supported-in-this-environment");const ae=yield H.j(x._delegate,Rn);return ae?tr(x._delegate,Promise.resolve(ae)):{credential:null,user:null}})()}addFrameworkForLogging(x){!function be(V,O){(0,H.aJ)(V)._logFramework(O)}(this._delegate,x)}onAuthStateChanged(x,ae,xe){const{next:ft,error:At,complete:on}=ht(x,ae,xe);return this._delegate.onAuthStateChanged(ft,At,on)}onIdTokenChanged(x,ae,xe){const{next:ft,error:At,complete:on}=ht(x,ae,xe);return this._delegate.onIdTokenChanged(ft,At,on)}sendSignInLinkToEmail(x,ae){return H.ac(this._delegate,x,ae)}sendPasswordResetEmail(x,ae){return H.a5(this._delegate,x,ae||void 0)}setPersistence(x){var ae=this;return(0,l.Z)(function*(){let xe;switch(function cn(V,O){Vn(Object.values(sr).includes(O),V,"invalid-persistence-type"),(0,Te.b$)()?Vn(O!==sr.SESSION,V,"unsupported-persistence-type"):(0,Te.UG)()?Vn(O===sr.NONE,V,"unsupported-persistence-type"):En()?Vn(O===sr.NONE||O===sr.LOCAL&&(0,Te.hl)(),V,"unsupported-persistence-type"):Vn(O===sr.NONE||Mt(),V,"unsupported-persistence-type")}(ae._delegate,x),x){case sr.SESSION:xe=H.a;break;case sr.LOCAL:xe=(yield H.aE(H.i)._isAvailable())?H.i:H.b;break;case sr.NONE:xe=H.U;break;default:return H.ax("argument-error",{appName:ae._delegate.name})}return ae._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(x){return this.signInWithCredential(x)}signInAnonymously(){return tr(this._delegate,H.a0(this._delegate))}signInWithCredential(x){return tr(this._delegate,H.a1(this._delegate,x))}signInWithCustomToken(x){return tr(this._delegate,H.a4(this._delegate,x))}signInWithEmailAndPassword(x,ae){return tr(this._delegate,H.ab(this._delegate,x,ae))}signInWithEmailLink(x,ae){return tr(this._delegate,H.ae(this._delegate,x,ae))}signInWithPhoneNumber(x,ae){return Dn(this._delegate,H.s(this._delegate,x,ae))}signInWithPopup(x){var ae=this;return(0,l.Z)(function*(){return X(On(),ae._delegate,"operation-not-supported-in-this-environment"),tr(ae._delegate,H.c(ae._delegate,x,Rn))})()}signInWithRedirect(x){var ae=this;return(0,l.Z)(function*(){return X(On(),ae._delegate,"operation-not-supported-in-this-environment"),yield Cn(ae._delegate),H.f(ae._delegate,x,Rn)})()}updateCurrentUser(x){return this._delegate.updateCurrentUser(x)}verifyPasswordResetCode(x){return H.a9(this._delegate,x)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=sr,V})();function ht(V,O,x){let ae=V;"function"!=typeof V&&({next:ae,error:O,complete:x}=V);const xe=ae;return{next:At=>xe(At&&dt.getOrCreate(At)),error:O,complete:x}}function Bt(V,O){const x=function rr(V,O){const x=ur();if(!x)return[];const ae=H.aF(Rt,V,O);switch(x.getItem(ae)){case sr.NONE:return[H.U];case sr.LOCAL:return[H.i,H.a];case sr.SESSION:return[H.a];default:return[]}}(V,O);if(typeof self<"u"&&!x.includes(H.i)&&x.push(H.i),typeof window<"u")for(const ae of[H.b,H.a])x.includes(ae)||x.push(ae);return x.includes(H.U)||x.push(H.U),x}class Tn{constructor(){this.providerId="phone",this._delegate=new H.P(xr(_.Z.auth()))}static credential(O,x){return H.P.credential(O,x)}verifyPhoneNumber(O,x){return this._delegate.verifyPhoneNumber(O,x)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=H.P.PROVIDER_ID;const mr=H.aC;class Yn{constructor(O,x,ae=_.Z.app()){var xe;mr(null===(xe=ae.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:ae.name}),this._delegate=new H.R(ae.auth(),O,x),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K(V){V.INTERNAL.registerComponent(new Ue.wA("auth-compat",O=>{const x=O.getProvider("app-compat").getImmediate(),ae=O.getProvider("auth");return new Ee(x,ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.V,FacebookAuthProvider:H.W,GithubAuthProvider:H.Y,GoogleAuthProvider:H.X,OAuthProvider:H.Z,SAMLAuthProvider:H._,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:Yn,TwitterAuthProvider:H.$,Auth:Ee,AuthCredential:H.L,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.5.9")}(_.Z)},5861:(nn,Je,k)=>{function l(H,Te,me,De,Ue,ke,He){try{var re=H[ke](He),se=re.value}catch(Me){return void me(Me)}re.done?Te(se):Promise.resolve(se).then(De,Ue)}function _(H){return function(){var Te=this,me=arguments;return new Promise(function(De,Ue){var ke=H.apply(Te,me);function He(se){l(ke,De,Ue,He,re,"next",se)}function re(se){l(ke,De,Ue,He,re,"throw",se)}He(void 0)})}}k.d(Je,{Z:()=>_})},7582:(nn,Je,k)=>{function Te(ie,de){var be={};for(var ce in ie)Object.prototype.hasOwnProperty.call(ie,ce)&&de.indexOf(ce)<0&&(be[ce]=ie[ce]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(ce=Object.getOwnPropertySymbols(ie);Ie<ce.length;Ie++)de.indexOf(ce[Ie])<0&&Object.prototype.propertyIsEnumerable.call(ie,ce[Ie])&&(be[ce[Ie]]=ie[ce[Ie]])}return be}function Me(ie,de,be,ce){return new(be||(be=Promise))(function(Fe,mt){function vt(Sn){try{qt(ce.next(Sn))}catch(_n){mt(_n)}}function an(Sn){try{qt(ce.throw(Sn))}catch(_n){mt(_n)}}function qt(Sn){Sn.done?Fe(Sn.value):function Ie(Fe){return Fe instanceof be?Fe:new be(function(mt){mt(Fe)})}(Sn.value).then(vt,an)}qt((ce=ce.apply(ie,de||[])).next())})}function Le(ie){return this instanceof Le?(this.v=ie,this):new Le(ie)}function Xe(ie,de,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ce=be.apply(ie,de||[]),Fe=[];return Ie={},vt("next"),vt("throw"),vt("return",function mt(Mt){return function(En){return Promise.resolve(En).then(Mt,_n)}}),Ie[Symbol.asyncIterator]=function(){return this},Ie;function vt(Mt,En){ce[Mt]&&(Ie[Mt]=function(On){return new Promise(function(Vt,xt){Fe.push([Mt,On,Vt,xt])>1||an(Mt,On)})},En&&(Ie[Mt]=En(Ie[Mt])))}function an(Mt,En){try{!function qt(Mt){Mt.value instanceof Le?Promise.resolve(Mt.value.v).then(Sn,_n):er(Fe[0][2],Mt)}(ce[Mt](En))}catch(On){er(Fe[0][3],On)}}function Sn(Mt){an("next",Mt)}function _n(Mt){an("throw",Mt)}function er(Mt,En){Mt(En),Fe.shift(),Fe.length&&an(Fe[0][0],Fe[0][1])}}function Ye(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,de=ie[Symbol.asyncIterator];return de?de.call(ie):(ie=function yt(ie){var de="function"==typeof Symbol&&Symbol.iterator,be=de&&ie[de],ce=0;if(be)return be.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ce>=ie.length&&(ie=void 0),{value:ie&&ie[ce++],done:!ie}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),be={},ce("next"),ce("throw"),ce("return"),be[Symbol.asyncIterator]=function(){return this},be);function ce(Fe){be[Fe]=ie[Fe]&&function(mt){return new Promise(function(vt,an){!function Ie(Fe,mt,vt,an){Promise.resolve(an).then(function(qt){Fe({value:qt,done:vt})},mt)}(vt,an,(mt=ie[Fe](mt)).done,mt.value)})}}}k.d(Je,{FC:()=>Xe,KL:()=>Ye,_T:()=>Te,mG:()=>Me,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},nn=>{nn(nn.s=149)}]);