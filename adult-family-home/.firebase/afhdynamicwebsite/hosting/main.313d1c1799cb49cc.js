"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{4033:(nn,Je,L)=>{L.d(Je,{$:()=>ss,A:()=>ce,G:()=>Ye,K:()=>No,L:()=>lo,N:()=>xe,P:()=>bp,R:()=>wu,U:()=>_e,V:()=>Yi,W:()=>fr,X:()=>As,Y:()=>Ti,Z:()=>ti,_:()=>po,a:()=>$t,a0:()=>ks,a1:()=>as,a2:()=>$o,a3:()=>mu,a4:()=>Nc,a5:()=>Js,a6:()=>qa,a7:()=>hs,a8:()=>Xa,a9:()=>xa,aA:()=>nr,aB:()=>at,aC:()=>be,aD:()=>Su,aE:()=>le,aF:()=>ot,aG:()=>Qd,aH:()=>sf,aI:()=>$s,aJ:()=>Sr,aN:()=>Oa,aQ:()=>fo,aa:()=>Ya,ab:()=>Fl,ac:()=>Zs,ad:()=>Yu,ae:()=>ua,af:()=>S,ag:()=>U,ah:()=>Te,ak:()=>Pr,al:()=>jr,am:()=>yr,ap:()=>G,aq:()=>fs,as:()=>Eu,at:()=>Zu,au:()=>cn,av:()=>ii,aw:()=>ci,ax:()=>Ge,ay:()=>La,az:()=>Jd,b:()=>gs,c:()=>nf,d:()=>Ip,e:()=>sc,f:()=>Va,g:()=>af,h:()=>Gc,i:()=>M,j:()=>Tp,k:()=>nh,l:()=>ys,m:()=>Jl,p:()=>Fe,r:()=>Au,s:()=>Hl,u:()=>Bc});var c=L(467),ae=L(7852),o=L(1076),we=L(8041),fe=L(1635),Ae=L(1362);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ye=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Tt=function ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nt=new we.Vy("@firebase/auth");function et(b,...p){Nt.logLevel<=we.$b.ERROR&&Nt.error(`Auth (${ae.SDK_VERSION}): ${b}`,...p)}function Ge(b,...p){throw Vt(b,...p)}function at(b,...p){return Vt(b,...p)}function Ze(b,p,_){const A=Object.assign(Object.assign({},Tt()),{[p]:_});return new o.FA("auth","Firebase",A).create(p,{appName:b.name})}function it(b){return Ze(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function At(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Ge(b,"argument-error"),Ze(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vt(b,...p){if("string"!=typeof b){const _=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(_,...A)}return It.create(b,...p)}function be(b,p,..._){if(!b)throw Vt(p,..._)}function Jt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw et(p),new Error(p)}function cn(b,p){b||Jt(p)}function Zn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Mt(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Pe{constructor(p,_){this.shortDelay=p,this.longDelay=_,cn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return function qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,o.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function de(b,p){cn(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Oe{static initialize(p,_,A){this.fetchImpl=p,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},De=new Pe(3e4,6e4);function Se(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function $e(b,p,_,A){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.A)(function*(b,p,_,A,K={}){return xt(b,K,(0,c.A)(function*(){let se={},je={};A&&("GET"===p?je=A:se={body:JSON.stringify(A)});const vt=(0,o.Am)(Object.assign({key:b.config.apiKey},je)).slice(1),zt=yield b._getAdditionalHeaders();return zt["Content-Type"]="application/json",b.languageCode&&(zt["X-Firebase-Locale"]=b.languageCode),Oe.fetch()(Cn(b,b.config.apiHost,_,vt),Object.assign({method:p,headers:zt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function xt(b,p,_){return un.apply(this,arguments)}function un(){return(un=(0,c.A)(function*(b,p,_){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},Qe),p);try{const K=new Gt(b),se=yield Promise.race([_(),K.promise]);K.clearNetworkTimeout();const je=yield se.json();if("needConfirmation"in je)throw In(b,"account-exists-with-different-credential",je);if(se.ok&&!("errorMessage"in je))return je;{const vt=se.ok?je.errorMessage:je.error.message,[zt,An]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw In(b,"credential-already-in-use",je);if("EMAIL_EXISTS"===zt)throw In(b,"email-already-in-use",je);if("USER_DISABLED"===zt)throw In(b,"user-disabled",je);const $n=A[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw Ze(b,$n,An);Ge(b,$n)}}catch(K){if(K instanceof o.g)throw K;Ge(b,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function rn(b,p,_,A){return On.apply(this,arguments)}function On(){return(On=(0,c.A)(function*(b,p,_,A,K={}){const se=yield $e(b,p,_,A,K);return"mfaPendingCredential"in se&&Ge(b,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Cn(b,p,_,A){const K=`${p}${_}?${A}`;return b.config.emulator?de(b.config,K):`${b.config.apiScheme}://${K}`}function dr(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(at(this.auth,"network-request-failed")),De.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(b,p,_){const A={appName:b.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const K=at(b,p,A);return K.customData._tokenResponse=_,K}function Un(b){return void 0!==b&&void 0!==b.getResponse}function Wt(b){return void 0!==b&&void 0!==b.enterprise}class Lt{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===p)return dr(_.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function ln(){return(ln=(0,c.A)(function*(b){return(yield $e(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vr(b,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.A)(function*(b,p){return $e(b,"GET","/v2/recaptchaConfig",Se(b,p))})).apply(this,arguments)}function gn(){return(gn=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function bn(){return(bn=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hr(b,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Xr(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ki(){return(Ki=(0,c.A)(function*(b,p=!1){const _=(0,o.Ku)(b),A=yield _.getIdToken(p),K=Qr(A);be(K&&K.exp&&K.auth_time&&K.iat,_.auth,"internal-error");const se="object"==typeof K.firebase?K.firebase:void 0,je=se?.sign_in_provider;return{claims:K,token:A,authTime:Xr(an(K.auth_time)),issuedAtTime:Xr(an(K.iat)),expirationTime:Xr(an(K.exp)),signInProvider:je||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function an(b){return 1e3*Number(b)}function Qr(b){const[p,_,A]=b.split(".");if(void 0===p||void 0===_||void 0===A)return et("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,o.u)(_);return K?JSON.parse(K):(et("Failed to decode base64 JWT payload"),null)}catch(K){return et("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Wn(b){const p=Qr(b);return be(p,"internal-error"),be(typeof p.exp<"u","internal-error"),be(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function gr(b,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.A)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(A){throw A instanceof o.g&&function vi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}class ze{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,c.A)(function*(){yield _.iteration()}),A)}iteration(){var p=this;return(0,c.A)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class yt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ie(b){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.A)(function*(b){var p;const _=b.auth,A=yield b.getIdToken(),K=yield gr(b,hr(_,{idToken:A}));be(K?.users.length,_,"internal-error");const se=K.users[0];b._notifyReloadListener(se);const je=null!==(p=se.providerUserInfo)&&void 0!==p&&p.length?Tr(se.providerUserInfo):[],vt=function xn(b,p){return[...b.filter(A=>!p.some(K=>K.providerId===A.providerId)),...p]}(b.providerData,je),$n=!!b.isAnonymous&&!(b.email&&se.passwordHash||vt?.length),Br={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:vt,metadata:new yt(se.createdAt,se.lastLoginAt),isAnonymous:$n};Object.assign(b,Br)})).apply(this,arguments)}function Kt(){return(Kt=(0,c.A)(function*(b){const p=(0,o.Ku)(b);yield ie(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Tr(b){return b.map(p=>{var{providerId:_}=p,A=(0,fe.Tt)(p,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Re(){return(Re=(0,c.A)(function*(b,p){const _=yield xt(b,{},(0,c.A)(function*(){const A=(0,o.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:K,apiKey:se}=b.config,je=Cn(b,K,"/v1/token",`key=${se}`),vt=yield b._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(je,{method:"POST",headers:vt,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,c.A)(function*(b,p){return $e(b,"POST","/v2/accounts:revokeToken",Se(b,p))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){be(p.idToken,"internal-error"),be(typeof p.idToken<"u","internal-error"),be(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Wn(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}updateFromIdToken(p){be(0!==p.length,"internal-error");const _=Wn(p);this.updateTokensAndExpiration(p,null,_)}getToken(p,_=!1){var A=this;return(0,c.A)(function*(){return _||!A.accessToken||A.isExpired?(be(A.refreshToken,p,"user-token-expired"),A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var A=this;return(0,c.A)(function*(){const{accessToken:K,refreshToken:se,expiresIn:je}=yield function sr(b,p){return Re.apply(this,arguments)}(p,_);A.updateTokensAndExpiration(K,se,Number(je))})()}updateTokensAndExpiration(p,_,A){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,_){const{refreshToken:A,accessToken:K,expirationTime:se}=_,je=new V;return A&&(be("string"==typeof A,"internal-error",{appName:p}),je.refreshToken=A),K&&(be("string"==typeof K,"internal-error",{appName:p}),je.accessToken=K),se&&(be("number"==typeof se,"internal-error",{appName:p}),je.expirationTime=se),je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return Jt("not implemented")}}function F(b,p){be("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class ue{constructor(p){var{uid:_,auth:A,stsTokenManager:K}=p,se=(0,fe.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new yt(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,c.A)(function*(){const A=yield gr(_,_.stsTokenManager.getToken(_.auth,p));return be(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(p){return function Yr(b){return Ki.apply(this,arguments)}(this,p)}reload(){return function pt(b){return Kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(be(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new ue(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var A=this;return(0,c.A)(function*(){let K=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),K=!0),_&&(yield ie(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,c.A)(function*(){if((0,ae._isFirebaseServerApp)(p.auth.app))return Promise.reject(it(p.auth));const _=yield p.getIdToken();return yield gr(p,function Ut(b,p){return gn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var A,K,se,je,vt,zt,An,$n;const Br=null!==(A=_.displayName)&&void 0!==A?A:void 0,zs=null!==(K=_.email)&&void 0!==K?K:void 0,_c=null!==(se=_.phoneNumber)&&void 0!==se?se:void 0,vc=null!==(je=_.photoURL)&&void 0!==je?je:void 0,Fu=null!==(vt=_.tenantId)&&void 0!==vt?vt:void 0,eu=null!==(zt=_._redirectEventId)&&void 0!==zt?zt:void 0,sh=null!==(An=_.createdAt)&&void 0!==An?An:void 0,yc=null!==($n=_.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:tu,emailVerified:nd,isAnonymous:rd,providerData:id,stsTokenManager:ah}=_;be(tu&&ah,p,"internal-error");const Ec=V.fromJSON(this.name,ah);be("string"==typeof tu,p,"internal-error"),F(Br,p.name),F(zs,p.name),be("boolean"==typeof nd,p,"internal-error"),be("boolean"==typeof rd,p,"internal-error"),F(_c,p.name),F(vc,p.name),F(Fu,p.name),F(eu,p.name),F(sh,p.name),F(yc,p.name);const nu=new ue({uid:tu,auth:p,email:zs,emailVerified:nd,displayName:Br,isAnonymous:rd,photoURL:vc,phoneNumber:_c,tenantId:Fu,stsTokenManager:Ec,createdAt:sh,lastLoginAt:yc});return id&&Array.isArray(id)&&(nu.providerData=id.map(od=>Object.assign({},od))),eu&&(nu._redirectEventId=eu),nu}static _fromIdTokenResponse(p,_,A=!1){return(0,c.A)(function*(){const K=new V;K.updateFromServerResponse(_);const se=new ue({uid:_.localId,auth:p,stsTokenManager:K,isAnonymous:A});return yield ie(se),se})()}static _fromGetAccountInfoResponse(p,_,A){return(0,c.A)(function*(){const K=_.users[0];be(void 0!==K.localId,"internal-error");const se=void 0!==K.providerUserInfo?Tr(K.providerUserInfo):[],je=!(K.email&&K.passwordHash||se?.length),vt=new V;vt.updateFromIdToken(A);const zt=new ue({uid:K.localId,auth:p,stsTokenManager:vt,isAnonymous:je}),An={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:se,metadata:new yt(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||se?.length)};return Object.assign(zt,An),zt})()}}const Le=new Map;function le(b){cn(b instanceof Function,"Expected a class definition");let p=Le.get(b);return p?(cn(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Le.set(b,p),p)}const _e=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(_,A){var K=this;return(0,c.A)(function*(){K.storage[_]=A})()}_get(_){var A=this;return(0,c.A)(function*(){const K=A.storage[_];return void 0===K?null:K})()}_remove(_){var A=this;return(0,c.A)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return b.type="NONE",b})();function ot(b,p,_){return`firebase:${b}:${p}:${_}`}class Xe{constructor(p,_,A){this.persistence=p,this.auth=_,this.userKey=A;const{config:K,name:se}=this.auth;this.fullUserKey=ot(this.userKey,K.apiKey,se),this.fullPersistenceKey=ot("persistence",K.apiKey,se),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.A)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?ue._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,c.A)(function*(){if(_.persistence===p)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,A="authUser"){return(0,c.A)(function*(){if(!_.length)return new Xe(le(_e),p,A);const K=(yield Promise.all(_.map(function(){var An=(0,c.A)(function*($n){if(yield $n._isAvailable())return $n});return function($n){return An.apply(this,arguments)}}()))).filter(An=>An);let se=K[0]||le(_e);const je=ot(A,p.config.apiKey,p.name);let vt=null;for(const An of _)try{const $n=yield An._get(je);if($n){const Br=ue._fromJSON(p,$n);An!==se&&(vt=Br),se=An;break}}catch{}const zt=K.filter(An=>An._shouldAllowMigration);return se._shouldAllowMigration&&zt.length?(se=zt[0],vt&&(yield se._set(je,vt.toJSON())),yield Promise.all(_.map(function(){var An=(0,c.A)(function*($n){if($n!==se)try{yield $n._remove(je)}catch{}});return function($n){return An.apply(this,arguments)}}())),new Xe(se,p,A)):new Xe(se,p,A)})()}}function Rn(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Xo(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(En(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(no(p))return"Blackberry";if(Oi(p))return"Webos";if(Zr(p))return"Safari";if((p.includes("chrome/")||Cr(p))&&!p.includes("edge/"))return"Chrome";if(ci(p))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function En(b=(0,o.ZQ)()){return/firefox\//i.test(b)}function Zr(b=(0,o.ZQ)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Cr(b=(0,o.ZQ)()){return/crios\//i.test(b)}function Xo(b=(0,o.ZQ)()){return/iemobile/i.test(b)}function ci(b=(0,o.ZQ)()){return/android/i.test(b)}function no(b=(0,o.ZQ)()){return/blackberry/i.test(b)}function Oi(b=(0,o.ZQ)()){return/webos/i.test(b)}function ii(b=(0,o.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function nr(b=(0,o.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Pt(b=(0,o.ZQ)()){return ii(b)||ci(b)||Oi(b)||no(b)||/windows phone/i.test(b)||Xo(b)}function wn(b,p=[]){let _;switch(b){case"Browser":_=Rn((0,o.ZQ)());break;case"Worker":_=`${Rn((0,o.ZQ)())}-${b}`;break;default:_=b}const A=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${ae.SDK_VERSION}/${A}`}class Fn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const A=se=>new Promise((je,vt)=>{try{je(p(se))}catch(zt){vt(zt)}});A.onAbort=_,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,c.A)(function*(){if(_.auth.currentUser===p)return;const A=[];try{for(const K of _.queue)yield K(p),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const se of A)try{se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function $r(){return($r=(0,c.A)(function*(b,p={}){return $e(b,"GET","/v2/passwordPolicy",Se(b,p))})).apply(this,arguments)}class Ni{constructor(p){var _,A,K,se;const je=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=je.minPasswordLength)&&void 0!==_?_:6,je.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=je.maxPasswordLength),void 0!==je.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=je.containsLowercaseCharacter),void 0!==je.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=je.containsUppercaseCharacter),void 0!==je.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=je.containsNumericCharacter),void 0!==je.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=je.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(A=p.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(se=p.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=p.schemaVersion}validatePassword(p){var _,A,K,se,je,vt;const zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,zt),this.validatePasswordCharacterOptions(p,zt),zt.isValid&&(zt.isValid=null===(_=zt.meetsMinPasswordLength)||void 0===_||_),zt.isValid&&(zt.isValid=null===(A=zt.meetsMaxPasswordLength)||void 0===A||A),zt.isValid&&(zt.isValid=null===(K=zt.containsLowercaseLetter)||void 0===K||K),zt.isValid&&(zt.isValid=null===(se=zt.containsUppercaseLetter)||void 0===se||se),zt.isValid&&(zt.isValid=null===(je=zt.containsNumericCharacter)||void 0===je||je),zt.isValid&&(zt.isValid=null===(vt=zt.containsNonAlphanumericCharacter)||void 0===vt||vt),zt}validatePasswordLengthOptions(p,_){const A=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;A&&(_.meetsMinPasswordLength=p.length>=A),K&&(_.meetsMaxPasswordLength=p.length<=K)}validatePasswordCharacterOptions(p,_){let A;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let K=0;K<p.length;K++)A=p.charAt(K),this.updatePasswordCharacterOptionsStatuses(_,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(p,_,A,K,se){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=se))}}class Yo{constructor(p,_,A,K){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Is(this),this.idTokenSubscription=new Is(this),this.beforeStateQueue=new Fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(p,_){var A=this;return _&&(this._popupRedirectResolver=le(_)),this._initializationPromise=this.queue((0,c.A)(function*(){var K,se;if(!A._deleted&&(A.persistenceManager=yield Xe.create(A,p),!A._deleted)){if(null!==(K=A._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.A)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(p){var _=this;return(0,c.A)(function*(){try{const A=yield hr(_,{idToken:p}),K=yield ue._fromGetAccountInfoResponse(_,A,p);yield _.directlySetCurrentUser(K)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var _=this;return(0,c.A)(function*(){var A;if((0,ae._isFirebaseServerApp)(_.app)){const vt=_.app.settings.authIdToken;return vt?new Promise(zt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(vt).then(zt,zt))}):_.directlySetCurrentUser(null)}const K=yield _.assertedPersistence.getCurrentUser();let se=K,je=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const vt=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,zt=se?._redirectEventId,An=yield _.tryRedirectSignIn(p);(!vt||vt===zt)&&An?.user&&(se=An.user,je=!0)}if(!se)return _.directlySetCurrentUser(null);if(!se._redirectEventId){if(je)try{yield _.beforeStateQueue.runMiddleware(se)}catch(vt){se=K,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(vt))}return se?_.reloadAndSetCurrentUserOrClear(se):_.directlySetCurrentUser(null)}return be(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===se._redirectEventId?_.directlySetCurrentUser(se):_.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(p){var _=this;return(0,c.A)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,c.A)(function*(){try{yield ie(p)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,c.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,c.A)(function*(){if((0,ae._isFirebaseServerApp)(_.app))return Promise.reject(it(_));const A=p?(0,o.Ku)(p):null;return A&&be(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(p,_=!1){var A=this;return(0,c.A)(function*(){if(!A._deleted)return p&&be(A.tenantId===p.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(p)),A.queue((0,c.A)(function*(){yield A.directlySetCurrentUser(p),A.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.A)(function*(){return(0,ae._isFirebaseServerApp)(p.app)?Promise.reject(it(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var _=this;return(0,ae._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,c.A)(function*(){yield _.assertedPersistence.setPersistence(le(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var _=this;return(0,c.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const A=_._getPasswordPolicyInternal();return A.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,c.A)(function*(){const _=yield function Nn(b){return $r.apply(this,arguments)}(p),A=new Ni(_);null===p.tenantId?p._projectPasswordPolicy=A:p._tenantPasswordPolicies[p.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new o.FA("auth","Firebase",p())}onAuthStateChanged(p,_,A){return this.registerStateListener(this.authStateSubscription,p,_,A)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,A){return this.registerStateListener(this.idTokenSubscription,p,_,A)}authStateReady(){return new Promise((p,_)=>{if(this.currentUser)p();else{const A=this.onAuthStateChanged(()=>{A(),p()},_)}})}revokeAccessToken(p){var _=this;return(0,c.A)(function*(){if(_.currentUser){const A=yield _.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:A};null!=_.tenantId&&(K.tenantId=_.tenantId),yield function ee(b,p){return H.apply(this,arguments)}(_,K)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var A=this;return(0,c.A)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(_);return null===p?K.removeCurrentUser():K.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,c.A)(function*(){if(!_.redirectPersistenceManager){const A=p&&le(p)||_._popupRedirectResolver;be(A,_,"argument-error"),_.redirectPersistenceManager=yield Xe.create(_,[le(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,c.A)(function*(){var A,K;return _._isInitialized&&(yield _.queue((0,c.A)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===p?_._currentUser:(null===(K=_.redirectUser)||void 0===K?void 0:K._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,c.A)(function*(){if(p===_.currentUser)return _.queue((0,c.A)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,A,K){if(this._deleted)return()=>{};const se="function"==typeof _?_:_.next.bind(_);let je=!1;const vt=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(vt,this,"internal-error"),vt.then(()=>{je||se(this.currentUser)}),"function"==typeof _){const zt=p.addObserver(_,A,K);return()=>{je=!0,zt()}}{const zt=p.addObserver(_);return()=>{je=!0,zt()}}}directlySetCurrentUser(p){var _=this;return(0,c.A)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.A)(function*(){var _;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const K=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();K&&(A["X-Firebase-Client"]=K);const se=yield p._getAppCheckToken();return se&&(A["X-Firebase-AppCheck"]=se),A})()}_getAppCheckToken(){var p=this;return(0,c.A)(function*(){var _;const A=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function sn(b,...p){Nt.logLevel<=we.$b.WARN&&Nt.warn(`Auth (${ae.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Sr(b){return(0,o.Ku)(b)}class Is{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,o.tD)(_=>this.observer=_)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ki={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yi(b){return ki.loadJS(b)}function zi(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Vr{constructor(p){this.type="recaptcha-enterprise",this.auth=Sr(p)}verify(p="verify",_=!1){var A=this;return(0,c.A)(function*(){function se(){return se=(0,c.A)(function*(vt){if(!_){if(null==vt.tenantId&&null!=vt._agentRecaptchaConfig)return vt._agentRecaptchaConfig.siteKey;if(null!=vt.tenantId&&void 0!==vt._tenantRecaptchaConfigs[vt.tenantId])return vt._tenantRecaptchaConfigs[vt.tenantId].siteKey}return new Promise(function(){var zt=(0,c.A)(function*(An,$n){vr(vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Br=>{if(void 0!==Br.recaptchaKey){const zs=new Lt(Br);return null==vt.tenantId?vt._agentRecaptchaConfig=zs:vt._tenantRecaptchaConfigs[vt.tenantId]=zs,An(zs.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(Br=>{$n(Br)})});return function(An,$n){return zt.apply(this,arguments)}}())}),se.apply(this,arguments)}function je(vt,zt,An){const $n=window.grecaptcha;Wt($n)?$n.enterprise.ready(()=>{$n.enterprise.execute(vt,{action:p}).then(Br=>{zt(Br)}).catch(()=>{zt("NO_RECAPTCHA")})}):An(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((vt,zt)=>{(function K(vt){return se.apply(this,arguments)})(A.auth).then(An=>{if(!_&&Wt(window.grecaptcha))je(An,vt,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));let $n=function Oo(){return ki.recaptchaEnterpriseScript}();0!==$n.length&&($n+=An),yi($n).then(()=>{je(An,vt,zt)}).catch(Br=>{zt(Br)})}}).catch(An=>{zt(An)})})})()}}function Nr(b,p,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.A)(function*(b,p,_,A=!1){const K=new Vr(b);let se;try{se=yield K.verify(_)}catch{se=yield K.verify(_,!0)}const je=Object.assign({},p);return Object.assign(je,A?{captchaResp:se}:{captchaResponse:se}),Object.assign(je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),je})).apply(this,arguments)}function uo(b,p,_,A){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,c.A)(function*(b,p,_,A){var K;if(null!==(K=b._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield Nr(b,p,_,"getOobCode"===_);return A(b,se)}return A(b,p).catch(function(){var se=(0,c.A)(function*(je){if("auth/missing-recaptcha-token"===je.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const vt=yield Nr(b,p,_,"getOobCode"===_);return A(b,vt)}return Promise.reject(je)});return function(je){return se.apply(this,arguments)}}())}),Bi.apply(this,arguments)}function No(b,p,_){const A=Sr(b);be(A._canInitEmulator,A,"emulator-config-failed"),be(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const K=!!_?.disableWarnings,se=oi(p),{host:je,port:vt}=function Co(b){const p=oi(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const se=K[1];return{host:se,port:Qo(A.substr(se.length+1))}}{const[se,je]=A.split(":");return{host:se,port:Qo(je)}}}(p);A.config.emulator={url:`${se}//${je}${null===vt?"":`:${vt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:je,port:vt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function ws(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function oi(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Qo(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class lo{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Jt("not implemented")}_getIdTokenResponse(p){return Jt("not implemented")}_linkToIdToken(p,_){return Jt("not implemented")}_getReauthenticationResolver(p){return Jt("not implemented")}}function os(b,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:resetPassword",Se(b,p))})).apply(this,arguments)}function bi(){return(bi=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ho(b,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function li(){return(li=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:update",Se(b,p))})).apply(this,arguments)}function Fi(b,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithPassword",Se(b,p))})).apply(this,arguments)}function qi(b,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:sendOobCode",Se(b,p))})).apply(this,arguments)}function Vn(){return(Vn=(0,c.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function cr(b,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function ro(b,p){return di.apply(this,arguments)}function di(){return(di=(0,c.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function Ur(){return(Ur=(0,c.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function Fo(){return(Fo=(0,c.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,p))})).apply(this,arguments)}function Io(){return(Io=(0,c.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,p))})).apply(this,arguments)}class mi extends lo{constructor(p,_,A,K=null){super("password",A),this._email=p,this._password=_,this._tenantId=K}static _fromEmailAndPassword(p,_){return new mi(p,_,"password")}static _fromEmailAndCode(p,_,A=null){return new mi(p,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,c.A)(function*(){switch(_.signInMethod){case"password":return uo(p,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fi);case"emailLink":return function ko(b,p){return Fo.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Ge(p,"internal-error")}})()}_linkToIdToken(p,_){var A=this;return(0,c.A)(function*(){switch(A.signInMethod){case"password":return uo(p,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ho);case"emailLink":return function Gn(b,p){return Io.apply(this,arguments)}(p,{idToken:_,email:A._email,oobCode:A._password});default:Ge(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Q(b,p){return z.apply(this,arguments)}function z(){return(z=(0,c.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithIdp",Se(b,p))})).apply(this,arguments)}class xe extends lo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new xe(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Ge("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:K}=_,se=(0,fe.Tt)(_,["providerId","signInMethod"]);if(!A||!K)return null;const je=new xe(A,K);return je.idToken=se.idToken||void 0,je.accessToken=se.accessToken||void 0,je.secret=se.secret,je.nonce=se.nonce,je.pendingToken=se.pendingToken||null,je}_getIdTokenResponse(p){return Q(p,this.buildRequest())}_linkToIdToken(p,_){const A=this.buildRequest();return A.idToken=_,Q(p,A)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Q(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,o.Am)(_)}return p}}function bt(){return(bt=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:sendVerificationCode",Se(b,p))})).apply(this,arguments)}function fn(){return(fn=(0,c.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,p))})).apply(this,arguments)}function hn(){return(hn=(0,c.A)(function*(b,p){const _=yield rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,p));if(_.temporaryProof)throw In(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const rr={USER_NOT_FOUND:"user-not-found"};function hi(){return(hi=(0,c.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),rr)})).apply(this,arguments)}class br extends lo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new br({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new br({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Xt(b,p){return fn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Ot(b,p){return hn.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Sn(b,p){return hi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:A,verificationCode:K}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:A,code:K}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:se}=p;return A||_||K||se?new br({verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:se}):null}}class kr{constructor(p){var _,A,K,se,je,vt;const zt=(0,o.I9)((0,o.hp)(p)),An=null!==(_=zt.apiKey)&&void 0!==_?_:null,$n=null!==(A=zt.oobCode)&&void 0!==A?A:null,Br=function Kr(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=zt.mode)&&void 0!==K?K:null);be(An&&$n&&Br,"argument-error"),this.apiKey=An,this.operation=Br,this.code=$n,this.continueUrl=null!==(se=zt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(je=zt.languageCode)&&void 0!==je?je:null,this.tenantId=null!==(vt=zt.tenantId)&&void 0!==vt?vt:null}static parseLink(p){const _=function ei(b){const p=(0,o.I9)((0,o.hp)(b)).link,_=p?(0,o.I9)((0,o.hp)(p)).deep_link_id:null,A=(0,o.I9)((0,o.hp)(b)).deep_link_id;return(A?(0,o.I9)((0,o.hp)(A)).link:null)||A||_||p||b}(p);try{return new kr(_)}catch{return null}}}let Yi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,A){return mi._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const K=kr.parseLink(A);return be(K,"argument-error"),mi._fromEmailAndCode(_,K.code,K.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class er{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ei extends er{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ti extends Ei{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return be("providerId"in _&&"signInMethod"in _,"argument-error"),xe._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return be(p.idToken||p.accessToken,"argument-error"),xe._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ti.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ti.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:se,nonce:je,providerId:vt}=p;if(!A&&!K&&!_&&!se||!vt)return null;try{return new ti(vt)._credential({idToken:_,accessToken:A,nonce:je,pendingToken:se})}catch{return null}}}let fr=(()=>{class b extends Ei{constructor(){super("facebook.com")}static credential(_){return xe._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),As=(()=>{class b extends Ei{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return xe._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:K}=_;if(!A&&!K)return null;try{return b.credential(A,K)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ti=(()=>{class b extends Ei{constructor(){super("github.com")}static credential(_){return xe._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class fo extends lo{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Q(p,this.buildRequest())}_linkToIdToken(p,_){const A=this.buildRequest();return A.idToken=_,Q(p,A)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Q(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:K,pendingToken:se}=_;return A&&K&&se&&A===K?new fo(A,se):null}static _create(p,_){return new fo(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class po extends er{constructor(p){be(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return po.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return po.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=fo.fromJSON(p);return be(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:A}=p;if(!_||!A)return null;try{return fo._create(A,_)}catch{return null}}}let ss=(()=>{class b extends Ei{constructor(){super("twitter.com")}static credential(_,A){return xe._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=_;if(!A||!K)return null;try{return b.credential(A,K)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Qs(b,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signUp",Se(b,p))})).apply(this,arguments)}class $i{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,A,K=!1){return(0,c.A)(function*(){const se=yield ue._fromIdTokenResponse(p,A,K),je=Ns(A);return new $i({user:se,providerId:je,_tokenResponse:A,operationType:_})})()}static _forOperation(p,_,A){return(0,c.A)(function*(){yield p._updateTokensIfNecessary(A,!0);const K=Ns(A);return new $i({user:p,providerId:K,_tokenResponse:A,operationType:_})})()}}function Ns(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ks(b){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,c.A)(function*(b){var p;if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const _=Sr(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new $i({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Qs(_,{returnSecureToken:!0}),K=yield $i._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class Gr extends o.g{constructor(p,_,A,K){var se;super(_.code,_.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,Gr.prototype),this.customData={appName:p.name,tenantId:null!==(se=p.tenantId)&&void 0!==se?se:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,_,A,K){return new Gr(p,_,A,K)}}function aa(b,p,_,A){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Gr._fromErrorAndOperation(b,se,p,A):se})}function Da(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function G(b,p){return X.apply(this,arguments)}function X(){return X=(0,c.A)(function*(b,p){const _=(0,o.Ku)(b);yield Ne(!0,_,p);const{providerUserInfo:A}=yield function Dn(b,p){return bn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),K=Da(A||[]);return _.providerData=_.providerData.filter(se=>K.has(se.providerId)),K.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),X.apply(this,arguments)}function O(b,p){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.A)(function*(b,p,_=!1){const A=yield gr(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return $i._forOperation(b,"link",A)})).apply(this,arguments)}function Ne(b,p,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.A)(function*(b,p,_){yield ie(p);const K=!1===b?"provider-already-linked":"no-such-provider";be(Da(p.providerData).has(_)===b,p.auth,K)})).apply(this,arguments)}function Bn(b,p){return io.apply(this,arguments)}function io(){return(io=(0,c.A)(function*(b,p,_=!1){const{auth:A}=b;if((0,ae._isFirebaseServerApp)(A.app))return Promise.reject(it(A));const K="reauthenticate";try{const se=yield gr(b,aa(A,K,p,b),_);be(se.idToken,A,"internal-error");const je=Qr(se.idToken);be(je,A,"internal-error");const{sub:vt}=je;return be(b.uid===vt,A,"user-mismatch"),$i._forOperation(b,K,se)}catch(se){throw"auth/user-not-found"===se?.code&&Ge(A,"user-mismatch"),se}})).apply(this,arguments)}function go(b,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.A)(function*(b,p,_=!1){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const A="signIn",K=yield aa(b,A,p),se=yield $i._fromIdTokenResponse(b,A,K);return _||(yield b._updateCurrentUser(se.user)),se})).apply(this,arguments)}function as(b,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.A)(function*(b,p){return go(Sr(b),p)})).apply(this,arguments)}function $o(b,p){return So.apply(this,arguments)}function So(){return(So=(0,c.A)(function*(b,p){const _=(0,o.Ku)(b);return yield Ne(!1,_,p.providerId),O(_,p)})).apply(this,arguments)}function mu(b,p){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.A)(function*(b,p){return Bn((0,o.Ku)(b),p)})).apply(this,arguments)}function Wi(){return(Wi=(0,c.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithCustomToken",Se(b,p))})).apply(this,arguments)}function Nc(b,p){return To.apply(this,arguments)}function To(){return To=(0,c.A)(function*(b,p){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const _=Sr(b),A=yield function ya(b,p){return Wi.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),K=yield $i._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(K.user),K}),To.apply(this,arguments)}class Fs{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?cs._fromServerResponse(p,_):"totpInfo"in _?Ea._fromServerResponse(p,_):Ge(p,"internal-error")}}class cs extends Fs{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new cs(_)}}class Ea extends Fs{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new Ea(_)}}function Vs(b,p,_){var A;be((null===(A=_.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),be(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(be(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(be(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function ir(b){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.A)(function*(b){const p=Sr(b);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Js(b,p,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.A)(function*(b,p,_){const A=Sr(b),K={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};_&&Vs(A,K,_),yield uo(A,K,"getOobCode",cr)})).apply(this,arguments)}function qa(b,p,_){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,c.A)(function*(b,p,_){yield os((0,o.Ku)(b),{oobCode:p,newPassword:_}).catch(function(){var A=(0,c.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&ir(b),K});return function(K){return A.apply(this,arguments)}}())}),Ca.apply(this,arguments)}function hs(b,p){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,c.A)(function*(b,p){yield function Ii(b,p){return li.apply(this,arguments)}((0,o.Ku)(b),{oobCode:p})}),Ls.apply(this,arguments)}function Xa(b,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.A)(function*(b,p){const _=(0,o.Ku)(b),A=yield os(_,{oobCode:p}),K=A.requestType;switch(be(K,_,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(A.mfaInfo,_,"internal-error");default:be(A.email,_,"internal-error")}let se=null;return A.mfaInfo&&(se=Fs._fromServerResponse(Sr(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:K}})).apply(this,arguments)}function xa(b,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.A)(function*(b,p){const{data:_}=yield Xa((0,o.Ku)(b),p);return _.email})).apply(this,arguments)}function Ya(b,p,_){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const A=Sr(b),je=yield uo(A,{returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qs).catch(zt=>{throw"auth/password-does-not-meet-requirements"===zt.code&&ir(b),zt}),vt=yield $i._fromIdTokenResponse(A,"signIn",je);return yield A._updateCurrentUser(vt.user),vt})).apply(this,arguments)}function Fl(b,p,_){return(0,ae._isFirebaseServerApp)(b.app)?Promise.reject(it(b)):as((0,o.Ku)(b),Yi.credential(p,_)).catch(function(){var A=(0,c.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&ir(b),K});return function(K){return A.apply(this,arguments)}}())}function Zs(b,p,_){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.A)(function*(b,p,_){const A=Sr(b),K={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function se(je,vt){be(vt.handleCodeInApp,A,"argument-error"),vt&&Vs(A,je,vt)})(K,_),yield uo(A,K,"getOobCode",ro)})).apply(this,arguments)}function Yu(b,p){const _=kr.parseLink(p);return"EMAIL_SIGNIN"===_?.operation}function ua(b,p,_){return _u.apply(this,arguments)}function _u(){return(_u=(0,c.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const A=(0,o.Ku)(b),K=Yi.credentialWithLink(p,_||Zn());return be(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),as(A,K)})).apply(this,arguments)}function wi(){return(wi=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:createAuthUri",Se(b,p))})).apply(this,arguments)}function S(b,p){return J.apply(this,arguments)}function J(){return J=(0,c.A)(function*(b,p){const A={identifier:p,continueUri:Mt()?Zn():"http://localhost"},{signinMethods:K}=yield function vu(b,p){return wi.apply(this,arguments)}((0,o.Ku)(b),A);return K||[]}),J.apply(this,arguments)}function U(b,p){return Y.apply(this,arguments)}function Y(){return Y=(0,c.A)(function*(b,p){const _=(0,o.Ku)(b),K={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Vs(_.auth,K,p);const{email:se}=yield function en(b,p){return Vn.apply(this,arguments)}(_.auth,K);se!==b.email&&(yield b.reload())}),Y.apply(this,arguments)}function Te(b,p,_){return Ct.apply(this,arguments)}function Ct(){return Ct=(0,c.A)(function*(b,p,_){const A=(0,o.Ku)(b),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Vs(A.auth,se,_);const{email:je}=yield function bo(b,p){return Ur.apply(this,arguments)}(A.auth,se);je!==b.email&&(yield b.reload())}),Ct.apply(this,arguments)}function vn(){return(vn=(0,c.A)(function*(b,p){return $e(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pr(b,p){return zr.apply(this,arguments)}function zr(){return zr=(0,c.A)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const A=(0,o.Ku)(b),se={idToken:yield A.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},je=yield gr(A,function kt(b,p){return vn.apply(this,arguments)}(A.auth,se));A.displayName=je.displayName||null,A.photoURL=je.photoUrl||null;const vt=A.providerData.find(({providerId:zt})=>"password"===zt);vt&&(vt.displayName=A.displayName,vt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(je)}),zr.apply(this,arguments)}function jr(b,p){const _=(0,o.Ku)(b);return(0,ae._isFirebaseServerApp)(_.auth.app)?Promise.reject(it(_.auth)):_i(_,p,null)}function yr(b,p){return _i((0,o.Ku)(b),null,p)}function _i(b,p,_){return wr.apply(this,arguments)}function wr(){return wr=(0,c.A)(function*(b,p,_){const{auth:A}=b,se={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(se.email=p),_&&(se.password=_);const je=yield gr(b,function ui(b,p){return bi.apply(this,arguments)}(A,se));yield b._updateTokensIfNecessary(je,!0)}),wr.apply(this,arguments)}class wo{constructor(p,_,A={}){this.isNewUser=p,this.providerId=_,this.profile=A}}class Ho extends wo{constructor(p,_,A,K){super(p,_,A),this.username=K}}class js extends wo{constructor(p,_){super(p,"facebook.com",_)}}class Go extends Ho{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Ai extends wo{constructor(p,_){super(p,"google.com",_)}}class Yn extends Ho{constructor(p,_,A){super(p,"twitter.com",_,A)}}function fs(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Pi(b){var p,_;if(!b)return null;const{providerId:A}=b,K=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},se=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&b?.idToken){const je=null===(_=null===(p=Qr(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(je)return new wo(se,"anonymous"!==je&&"custom"!==je?je:null)}if(!A)return null;switch(A){case"facebook.com":return new js(se,K);case"github.com":return new Go(se,K);case"google.com":return new Ai(se,K);case"twitter.com":return new Yn(se,K,b.screenName||null);case"custom":case"anonymous":return new wo(se,null);default:return new wo(se,A,K)}}(_)}class Zi{constructor(p,_,A){this.type=p,this.credential=_,this.user=A}static _fromIdtoken(p,_){return new Zi("enroll",p,_)}static _fromMfaPendingCredential(p){return new Zi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,A;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Zi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(A=p.multiFactorSession)&&void 0!==A&&A.idToken)return Zi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Fc{constructor(p,_,A){this.session=p,this.hints=_,this.signInResolver=A}static _fromError(p,_){const A=Sr(p),K=_.customData._serverResponse,se=(K.mfaInfo||[]).map(vt=>Fs._fromServerResponse(A,vt));be(K.mfaPendingCredential,A,"internal-error");const je=Zi._fromMfaPendingCredential(K.mfaPendingCredential);return new Fc(je,se,function(){var vt=(0,c.A)(function*(zt){const An=yield zt._process(A,je);delete K.mfaInfo,delete K.mfaPendingCredential;const $n=Object.assign(Object.assign({},K),{idToken:An.idToken,refreshToken:An.refreshToken});switch(_.operationType){case"signIn":const Br=yield $i._fromIdTokenResponse(A,_.operationType,$n);return yield A._updateCurrentUser(Br.user),Br;case"reauthenticate":return be(_.user,A,"internal-error"),$i._forOperation(_.user,_.operationType,$n);default:Ge(A,"internal-error")}});return function(zt){return vt.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,c.A)(function*(){return _.signInResolver(p)})()}}function Eu(b,p){var _;const A=(0,o.Ku)(b),K=p;return be(p.customData.operationType,A,"argument-error"),be(null===(_=K.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),Fc._fromError(A,K)}class Za{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>Fs._fromServerResponse(p.auth,A)))})}static _fromUser(p){return new Za(p)}getSession(){var p=this;return(0,c.A)(function*(){return Zi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,_){var A=this;return(0,c.A)(function*(){const K=p,se=yield A.getSession(),je=yield gr(A.user,K._process(A.user.auth,se,_));return yield A.user._updateTokensIfNecessary(je),A.user.reload()})()}unenroll(p){var _=this;return(0,c.A)(function*(){const A="string"==typeof p?p:p.uid,K=yield _.user.getIdToken();try{const se=yield gr(_.user,function jl(b,p){return $e(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(b,p))}(_.user.auth,{idToken:K,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:je})=>je!==A),yield _.user._updateTokensIfNecessary(se),yield _.user.reload()}catch(se){throw se}})()}}const zo=new WeakMap;function Zu(b){const p=(0,o.Ku)(b);return zo.has(p)||zo.set(p,Za._fromUser(p)),zo.get(p)}const Cu="__sak";class eo{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Cu,"1"),this.storage.removeItem(Cu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const gs=(()=>{class b extends eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ra(){const b=(0,o.ZQ)();return Zr(b)||ii(b)}()&&function dn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),se=this.localCache[A];K!==se&&_(A,se,K)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((vt,zt,An)=>{this.notifyListeners(vt,An)});const K=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(K);if(_.newValue!==vt)null!==_.newValue?this.storage.setItem(K,_.newValue):this.storage.removeItem(K);else if(this.localCache[K]===_.newValue&&!A)return}const se=()=>{const vt=this.storage.getItem(K);!A&&this.localCache[K]===vt||this.notifyListeners(K,vt)},je=this.storage.getItem(K);!function tt(){return(0,o.lT)()&&10===document.documentMode}()||je===_.newValue||_.newValue===_.oldValue?se():setTimeout(se,10)}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const se of Array.from(K))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var K=()=>super._set,se=this;return(0,c.A)(function*(){yield K().call(se,_,A),se.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,K=this;return(0,c.A)(function*(){const se=yield A().call(K,_);return K.localCache[_]=JSON.stringify(se),se})()}_remove(_){var A=()=>super._remove,K=this;return(0,c.A)(function*(){yield A().call(K,_),delete K.localCache[_]})()}}return b.type="LOCAL",b})(),$t=(()=>{class b extends eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return b.type="SESSION",b})();let Lc=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(se=>se.isListeningto(_));if(A)return A;const K=new b(_);return this.receivers.push(K),K}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,c.A)(function*(){const K=_,{eventId:se,eventType:je,data:vt}=K.data,zt=A.handlersMap[je];if(!zt?.size)return;K.ports[0].postMessage({status:"ack",eventId:se,eventType:je});const An=Array.from(zt).map(function(){var Br=(0,c.A)(function*(zs){return zs(K.origin,vt)});return function(zs){return Br.apply(this,arguments)}}()),$n=yield function St(b){return Promise.all(b.map(function(){var p=(0,c.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return p.apply(this,arguments)}}()))}(An);K.ports[0].postMessage({status:"done",eventId:se,eventType:je,response:$n})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Oa(b="",p=10){let _="";for(let A=0;A<p;A++)_+=Math.floor(10*Math.random());return b+_}class Ao{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,A=50){var K=this;return(0,c.A)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let je,vt;return new Promise((zt,An)=>{const $n=Oa("",20);se.port1.start();const Br=setTimeout(()=>{An(new Error("unsupported_event"))},A);vt={messageChannel:se,onMessage(zs){const _c=zs;if(_c.data.eventId===$n)switch(_c.data.status){case"ack":clearTimeout(Br),je=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(je),zt(_c.data.response);break;default:clearTimeout(Br),clearTimeout(je),An(new Error("invalid_response"))}}},K.handlers.add(vt),se.port1.addEventListener("message",vt.onMessage),K.target.postMessage({eventType:p,eventId:$n,data:_},[se.port2])}).finally(()=>{vt&&K.removeMessageHandler(vt)})})()}}function Di(){return window}function Zo(){return typeof Di().WorkerGlobalScope<"u"&&"function"==typeof Di().importScripts}function Na(){return(Na=(0,c.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Iu="firebaseLocalStorageDb",ms="firebaseLocalStorage",Tu="fbase_key";class ea{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function _s(b,p){return b.transaction([ms],p?"readwrite":"readonly").objectStore(ms)}function vs(){const b=indexedDB.open(Iu,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(ms,{keyPath:Tu})}catch(K){_(K)}}),b.addEventListener("success",(0,c.A)(function*(){const A=b.result;A.objectStoreNames.contains(ms)?p(A):(A.close(),yield function Wd(){const b=indexedDB.deleteDatabase(Iu);return new ea(b).toPromise()}(),p(yield vs()))}))})}function tc(b,p,_){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,c.A)(function*(b,p,_){const A=_s(b,!0).put({[Tu]:p,value:_});return new ea(A).toPromise()})).apply(this,arguments)}function Uc(){return(Uc=(0,c.A)(function*(b,p){const _=_s(b,!1).get(p),A=yield new ea(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ta(b,p){const _=_s(b,!0).delete(p);return new ea(_).toPromise()}const M=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.A)(function*(){return _.db||(_.db=yield vs()),_.db})()}_withRetries(_){var A=this;return(0,c.A)(function*(){let K=0;for(;;)try{const se=yield A._openDb();return yield _(se)}catch(se){if(K++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.A)(function*(){return Zo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.A)(function*(){_.receiver=Lc._getInstance(function ec(){return Zo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,c.A)(function*(K,se){return{keyProcessed:(yield _._poll()).includes(se.key)}});return function(K,se){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,c.A)(function*(K,se){return["keyChanged"]});return function(K,se){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.A)(function*(){var A,K;if(_.activeServiceWorker=yield function Wo(){return Na.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ao(_.activeServiceWorker);const se=yield _.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(K=se[0])&&void 0!==K&&K.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,c.A)(function*(){if(A.sender&&A.activeServiceWorker&&function zn(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const _=yield vs();return yield tc(_,Cu,"1"),yield ta(_,Cu),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,c.A)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var K=this;return(0,c.A)(function*(){return K._withPendingWrite((0,c.A)(function*(){return yield K._withRetries(se=>tc(se,_,A)),K.localCache[_]=A,K.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,c.A)(function*(){const K=yield A._withRetries(se=>function $l(b,p){return Uc.apply(this,arguments)}(se,_));return A.localCache[_]=K,K})()}_remove(_){var A=this;return(0,c.A)(function*(){return A._withPendingWrite((0,c.A)(function*(){return yield A._withRetries(K=>ta(K,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.A)(function*(){const A=yield _._withRetries(je=>{const vt=_s(je,!1).getAll();return new ea(vt).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const K=[],se=new Set;if(0!==A.length)for(const{fbase_key:je,value:vt}of A)se.add(je),JSON.stringify(_.localCache[je])!==JSON.stringify(vt)&&(_.notifyListeners(je,vt),K.push(je));for(const je of Object.keys(_.localCache))_.localCache[je]&&!se.has(je)&&(_.notifyListeners(je,null),K.push(je));return K})()}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const se of Array.from(K))se(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),mn=1e12;class pr{constructor(p){this.auth=p,this.counter=mn,this._widgets=new Map}render(p,_){const A=this.counter;return this._widgets.set(A,new Ir(p,this.auth.name,_||{})),this.counter++,A}reset(p){var _;const A=p||mn;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(p){var _;return(null===(_=this._widgets.get(p||mn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,c.A)(function*(){var A;return null===(A=_._widgets.get(p||mn))||void 0===A||A.execute(),""})()}}class Ir{constructor(p,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof p?document.getElementById(p):p;be(K,"argument-error",{appName:_}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ar(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ri=zi("rcb"),nc=new Pe(3e4,6e4);class rc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Di().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return be(function da(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Un(Di().grecaptcha)?Promise.resolve(Di().grecaptcha):new Promise((A,K)=>{const se=Di().setTimeout(()=>{K(at(p,"network-request-failed"))},nc.get());Di()[ri]=()=>{Di().clearTimeout(se),delete Di()[ri];const vt=Di().grecaptcha;if(!vt||!Un(vt))return void K(at(p,"internal-error"));const zt=vt.render;vt.render=(An,$n)=>{const Br=zt(An,$n);return this.counter++,Br},this.hostLanguage=_,A(vt)},yi(`${function _a(){return ki.recaptchaV2Script}()}?${(0,o.Am)({onload:ri,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(se),K(at(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Di().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class na{load(p){return(0,c.A)(function*(){return new pr(p)})()}clearedOneInstance(){}}const ba="recaptcha",ka={theme:"light",type:"image"};class wu{constructor(p,_,A=Object.assign({},ka)){this.parameters=A,this.type=ba,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sr(p),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof _?document.getElementById(_):_;be(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new na:new rc,this.validateStartingState()}verify(){var p=this;return(0,c.A)(function*(){p.assertNotDestroyed();const _=yield p.render(),A=p.getAssertedRecaptcha();return A.getResponse(_)||new Promise(se=>{const je=vt=>{vt&&(p.tokenChangeListeners.delete(je),se(vt))};p.tokenChangeListeners.add(je),p.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof p)p(_);else if("string"==typeof p){const A=Di()[p];"function"==typeof A&&A(_)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.A)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.A)(function*(){be(Mt()&&!Zo(),p.auth,"internal-error"),yield function ic(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function Fr(b){return ln.apply(this,arguments)}(p.auth);be(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kd{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=br._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Hl(b,p,_){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const A=Sr(b),K=yield jc(A,p,(0,o.Ku)(_));return new Kd(K,se=>as(A,se))})).apply(this,arguments)}function ys(b,p,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.A)(function*(b,p,_){const A=(0,o.Ku)(b);yield Ne(!1,A,"phone");const K=yield jc(A.auth,p,(0,o.Ku)(_));return new Kd(K,se=>$o(A,se))})).apply(this,arguments)}function Au(b,p,_){return el.apply(this,arguments)}function el(){return(el=(0,c.A)(function*(b,p,_){const A=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(it(A.auth));const K=yield jc(A.auth,p,(0,o.Ku)(_));return new Kd(K,se=>mu(A,se))})).apply(this,arguments)}function jc(b,p,_){return oc.apply(this,arguments)}function oc(){return oc=(0,c.A)(function*(b,p,_){var A;const K=yield _.verify();try{let se;if(be("string"==typeof K,b,"argument-error"),be(_.type===ba,b,"argument-error"),se="string"==typeof p?{phoneNumber:p}:p,"session"in se){const je=se.session;if("phoneNumber"in se)return be("enroll"===je.type,b,"internal-error"),(yield function Vl(b,p){return $e(b,"POST","/v2/accounts/mfaEnrollment:start",Se(b,p))}(b,{idToken:je.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{be("signin"===je.type,b,"internal-error");const vt=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return be(vt,b,"missing-multi-factor-info"),(yield function j(b,p){return $e(b,"POST","/v2/accounts/mfaSignIn:start",Se(b,p))}(b,{mfaPendingCredential:je.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:je}=yield function Ke(b,p){return bt.apply(this,arguments)}(b,{phoneNumber:se.phoneNumber,recaptchaToken:K});return je}}finally{_._reset()}}),oc.apply(this,arguments)}function Bc(b,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.A)(function*(b,p){const _=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(_.auth.app))return Promise.reject(it(_.auth));yield O(_,p)})).apply(this,arguments)}let bp=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Sr(_)}verifyPhoneNumber(_,A){return jc(this.auth,_,(0,o.Ku)(A))}static credential(_,A){return br._fromVerification(_,A)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:K}=_;return A&&K?br._fromTokenResponse(A,K):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ha(b,p){return p?le(p):(be(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Gl extends lo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Q(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Q(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Q(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function qd(b){return go(b.auth,new Gl(b),b.bypassAuthState)}function $c(b){const{auth:p,user:_}=b;return be(_,p,"internal-error"),Bn(_,new Gl(b),b.bypassAuthState)}function Lg(b){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.A)(function*(b){const{auth:p,user:_}=b;return be(_,p,"internal-error"),O(_,new Gl(b),b.bypassAuthState)})).apply(this,arguments)}class Hc{constructor(p,_,A,K,se=!1){this.auth=p,this.resolver=A,this.user=K,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,c.A)(function*(A,K){p.pendingPromise={resolve:A,reject:K};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(se){p.reject(se)}});return function(A,K){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,c.A)(function*(){const{urlResponse:A,sessionId:K,postBody:se,tenantId:je,error:vt,type:zt}=p;if(vt)return void _.reject(vt);const An={auth:_.auth,requestUri:A,sessionId:K,tenantId:je||void 0,postBody:se||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(zt)(An))}catch($n){_.reject($n)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return qd;case"linkViaPopup":case"linkViaRedirect":return Lg;case"reauthViaPopup":case"reauthViaRedirect":return $c;default:Ge(this.auth,"internal-error")}}resolve(p){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nl=new Pe(2e3,1e4);function nf(b,p,_){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(at(b,"operation-not-supported-in-this-environment"));const A=Sr(b);At(b,p,er);const K=ha(A,_);return new Vo(A,"signInViaPopup",p,K).executeNotNull()})).apply(this,arguments)}function sc(b,p,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.A)(function*(b,p,_){const A=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(at(A.auth,"operation-not-supported-in-this-environment"));At(A.auth,p,er);const K=ha(A.auth,_);return new Vo(A.auth,"reauthViaPopup",p,K,A).executeNotNull()})).apply(this,arguments)}function Ip(b,p,_){return rl.apply(this,arguments)}function rl(){return(rl=(0,c.A)(function*(b,p,_){const A=(0,o.Ku)(b);At(A.auth,p,er);const K=ha(A.auth,_);return new Vo(A.auth,"linkViaPopup",p,K,A).executeNotNull()})).apply(this,arguments)}let Vo=(()=>{class b extends Hc{constructor(_,A,K,se,je){super(_,A,se,je),this.provider=K,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.A)(function*(){const A=yield _.execute();return be(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,c.A)(function*(){cn(1===_.filter.length,"Popup operations only handle one event");const A=Oa();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(K=>{_.reject(K)}),_.resolver._isIframeWebStorageSupported(_.auth,K=>{K||_.reject(at(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,K;this.pollId=null!==(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,nl.get())};_()}}return b.currentPopupAction=null,b})();const rf="pendingRedirect",ns=new Map;class Wl extends Hc{constructor(p,_,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,c.A)(function*(){let A=ns.get(_.auth._key());if(!A){try{const se=(yield function il(b,p){return ls.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;A=()=>Promise.resolve(se)}catch(K){A=()=>Promise.reject(K)}ns.set(_.auth._key(),A)}return _.bypassAuthState||ns.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,A=this;return(0,c.A)(function*(){if("signInViaRedirect"===p.type)return _().call(A,p);if("unknown"!==p.type){if(p.eventId){const K=yield A.auth._redirectUserForId(p.eventId);if(K)return A.user=K,_().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function ls(){return(ls=(0,c.A)(function*(b,p){const _=Kl(p),A=ac(b);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(_));return yield A._remove(_),K})).apply(this,arguments)}function Fa(b,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,c.A)(function*(b,p){return ac(b)._set(Kl(p),"true")})).apply(this,arguments)}function $s(){ns.clear()}function sf(b,p){ns.set(b._key(),p)}function ac(b){return le(b._redirectPersistence)}function Kl(b){return ot(rf,b.config.apiKey,b.name)}function Va(b,p,_){return function Xd(b,p,_){return Yd.apply(this,arguments)}(b,p,_)}function Yd(){return(Yd=(0,c.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const A=Sr(b);At(b,p,er),yield A._initializationPromise;const K=ha(A,_);return yield Fa(K,A),K._openRedirect(A,p,"signInViaRedirect")})).apply(this,arguments)}function Gc(b,p,_){return function ra(b,p,_){return zc.apply(this,arguments)}(b,p,_)}function zc(){return(zc=(0,c.A)(function*(b,p,_){const A=(0,o.Ku)(b);if(At(A.auth,p,er),(0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(it(A.auth));yield A.auth._initializationPromise;const K=ha(A.auth,_);yield Fa(K,A.auth);const se=yield Ia(A);return K._openRedirect(A.auth,p,"reauthViaRedirect",se)})).apply(this,arguments)}function af(b,p,_){return function ol(b,p,_){return cc.apply(this,arguments)}(b,p,_)}function cc(){return(cc=(0,c.A)(function*(b,p,_){const A=(0,o.Ku)(b);At(A.auth,p,er),yield A.auth._initializationPromise;const K=ha(A.auth,_);yield Ne(!1,A,p.providerId),yield Fa(K,A.auth);const se=yield Ia(A);return K._openRedirect(A.auth,p,"linkViaRedirect",se)})).apply(this,arguments)}function Tp(b,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.A)(function*(b,p){return yield Sr(b)._initializationPromise,Qd(b,p,!1)})).apply(this,arguments)}function Qd(b,p){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,c.A)(function*(b,p,_=!1){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const A=Sr(b),K=ha(A,p),je=yield new Wl(A,K,_).execute();return je&&!_&&(delete je.user._redirectEventId,yield A._persistUserIfCurrent(je.user),yield A._setRedirectUser(null,p)),je})).apply(this,arguments)}function Ia(b){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.A)(function*(b){const p=Oa(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Su{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(_=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function uc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ps(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var A;if(p.error&&!Ps(p)){const K=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(at(this.auth,K))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const A=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xu(p))}saveEventToCache(p){this.cachedEventUids.add(xu(p)),this.lastProcessedEventTime=Date.now()}}function xu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Ps({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Jd(b){return lc.apply(this,arguments)}function lc(){return(lc=(0,c.A)(function*(b,p={}){return $e(b,"GET","/v1/projects",p)})).apply(this,arguments)}const so=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wp=/^https?/;function cf(){return(cf=(0,c.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Jd(b);for(const _ of p)try{if(Ug(_))return}catch{}Ge(b,"unauthorized-domain")})).apply(this,arguments)}function Ug(b){const p=Zn(),{protocol:_,hostname:A}=new URL(p);if(b.startsWith("chrome-extension://")){const je=new URL(b);return""===je.hostname&&""===A?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&je.hostname===A}if(!wp.test(_))return!1;if(so.test(b))return A===b;const K=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const uf=new Pe(3e4,6e4);function Dp(){const b=Di().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Xc=null;const Yc=new Pe(5e3,15e3),Zd="__/auth/iframe",Do="emulator/auth/iframe",sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eh(b){const p=b.config;be(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?de(p,Do):`https://${b.config.authDomain}/${Zd}`,A={apiKey:p.apiKey,appName:b.name,v:ae.SDK_VERSION},K=dc.get(b.config.apiHost);K&&(A.eid=K);const se=b._getFrameworks();return se.length&&(A.fw=se.join(",")),`${_}?${(0,o.Am)(A).slice(1)}`}function hc(){return hc=(0,c.A)(function*(b){const p=yield function Pu(b){return Xc=Xc||function ql(b){return new Promise((p,_)=>{var A,K,se;function je(){Dp(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Dp(),_(at(b,"network-request-failed"))},timeout:uf.get()})}if(null!==(K=null===(A=Di().gapi)||void 0===A?void 0:A.iframes)&&void 0!==K&&K.Iframe)p(gapi.iframes.getContext());else{if(null===(se=Di().gapi)||void 0===se||!se.load){const vt=zi("iframefcb");return Di()[vt]=()=>{gapi.load?je():_(at(b,"network-request-failed"))},yi(`${function xi(){return ki.gapiScript}()}?onload=${vt}`).catch(zt=>_(zt))}je()}}).catch(p=>{throw Xc=null,p})}(b),Xc}(b),_=Di().gapi;return be(_,b,"internal-error"),p.open({where:document.body,url:eh(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sl,dontclear:!0},A=>new Promise(function(){var K=(0,c.A)(function*(se,je){yield A.restyle({setHideOnLeave:!1});const vt=at(b,"network-request-failed"),zt=Di().setTimeout(()=>{je(vt)},Yc.get());function An(){Di().clearTimeout(zt),se(A)}A.ping(An).then(An,()=>{je(vt)})});return function(se,je){return K.apply(this,arguments)}}()))}),hc.apply(this,arguments)}const Ru={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hf{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Yl="__/auth/handler",Ou="emulator/auth/handler",al=encodeURIComponent("fac");function La(b,p,_,A,K,se){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.A)(function*(b,p,_,A,K,se){be(b.config.authDomain,b,"auth-domain-config-required"),be(b.config.apiKey,b,"invalid-api-key");const je={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:A,v:ae.SDK_VERSION,eventId:K};if(p instanceof er){p.setDefaultLanguage(b.languageCode),je.providerId=p.providerId||"",(0,o.Im)(p.getCustomParameters())||(je.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$n,Br]of Object.entries(se||{}))je[$n]=Br}if(p instanceof Ei){const $n=p.getScopes().filter(Br=>""!==Br);$n.length>0&&(je.scopes=$n.join(","))}b.tenantId&&(je.tid=b.tenantId);const vt=je;for(const $n of Object.keys(vt))void 0===vt[$n]&&delete vt[$n];const zt=yield b._getAppCheckToken(),An=zt?`#${al}=${encodeURIComponent(zt)}`:"";return`${function Ql({config:b}){return b.emulator?de(b,Ou):`https://${b.authDomain}/${Yl}`}(b)}?${(0,o.Am)(vt).slice(1)}${An}`})).apply(this,arguments)}const Gs="webStorageSupport",nh=class th{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$t,this._completeRedirectFn=Qd,this._overrideRedirectResult=sf}_openPopup(p,_,A,K){var se=this;return(0,c.A)(function*(){var je;cn(null===(je=se.eventManagers[p._key()])||void 0===je?void 0:je.manager,"_initialize() not called before _openPopup()");const vt=yield La(p,_,A,Zn(),K);return function Sp(b,p,_,A=500,K=600){const se=Math.max((window.screen.availHeight-K)/2,0).toString(),je=Math.max((window.screen.availWidth-A)/2,0).toString();let vt="";const zt=Object.assign(Object.assign({},Ru),{width:A.toString(),height:K.toString(),top:se,left:je}),An=(0,o.ZQ)().toLowerCase();_&&(vt=Cr(An)?"_blank":_),En(An)&&(p=p||"http://localhost",zt.scrollbars="yes");const $n=Object.entries(zt).reduce((zs,[_c,vc])=>`${zs}${_c}=${vc},`,"");if(function gt(b=(0,o.ZQ)()){var p;return ii(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(An)&&"_self"!==vt)return function Hs(b,p){const _=document.createElement("a");_.href=b,_.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(p||"",vt),new hf(null);const Br=window.open(p||"",vt,$n);be(Br,b,"popup-blocked");try{Br.focus()}catch{}return new hf(Br)}(p,vt,Oa())})()}_openRedirect(p,_,A,K){var se=this;return(0,c.A)(function*(){return yield se._originValidation(p),function la(b){Di().location.href=b}(yield La(p,_,A,Zn(),K)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:K,promise:se}=this.eventManagers[_];return K?Promise.resolve(K):(cn(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(p);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(p){var _=this;return(0,c.A)(function*(){const A=yield function xo(b){return hc.apply(this,arguments)}(p),K=new Su(p);return A.register("authEvent",se=>(be(se?.authEvent,p,"invalid-auth-event"),{status:K.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:K},_.iframes[p._key()]=A,K})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Gs,{type:Gs},K=>{var se;const je=null===(se=K?.[0])||void 0===se?void 0:se[Gs];void 0!==je&&_(!!je),Ge(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ap(b){return cf.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Pt()||Zr()||ii()}};class rh{constructor(p){this.factorId=p}_process(p,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,A);case"signin":return this._finalizeSignIn(p,_.credential);default:return Jt("unexpected MultiFactorSessionType")}}}class fc extends rh{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new fc(p)}_finalizeEnroll(p,_,A){return function Ll(b,p){return $e(b,"POST","/v2/accounts/mfaEnrollment:finalize",Se(b,p))}(p,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ne(b,p){return $e(b,"POST","/v2/accounts/mfaSignIn:finalize",Se(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jl=(()=>{class b{constructor(){}static assertion(_){return fc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var mc="@firebase/auth";class Nu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,c.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(A=>{p(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,o.XA)("authIdTokenMaxAge"),function Ts(b){ki=b}({loadJS:b=>new Promise((p,_)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=p,A.onerror=K=>{const se=at("internal-error");se.customData=K,_(se)},A.type="text/javascript",A.charset="UTF-8",function oh(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Zl(b){(0,ae._registerComponent)(new Ae.uA("auth",(p,{options:_})=>{const A=p.getProvider("app").getImmediate(),K=p.getProvider("heartbeat"),se=p.getProvider("app-check-internal"),{apiKey:je,authDomain:vt}=A.options;be(je&&!je.includes(":"),"invalid-api-key",{appName:A.name});const zt={apiKey:je,authDomain:vt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wn(b)},An=new Yo(A,K,se,zt);return function oa(b,p){const _=p?.persistence||[],A=(Array.isArray(_)?_:[_]).map(le);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(A,p?.popupRedirectResolver)}(An,_),An},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,A)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Ae.uA("auth-internal",p=>{const _=Sr(p.getProvider("auth").getImmediate());return new Nu(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(mc,"1.7.4",function ku(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,ae.registerVersion)(mc,"1.7.4","esm2017")}("Browser")},9583:(nn,Je,L)=>{L.d(Je,{fS:()=>P_,Ix:()=>Hu,H6:()=>bl,T1:()=>Po,Wq:()=>Pd,uY:()=>cu,W6:()=>de,Ci:()=>lg,YQ:()=>mg,NJ:()=>Dl,Dc:()=>Wt,GA:()=>Od,cm:()=>Kn,K$:()=>Ut,FA:()=>Hn,lo:()=>Rr,bI:()=>qt,qG:()=>Os,qi:()=>cn,c8:()=>nm,gS:()=>k_,C3:()=>Jf,hq:()=>jh,me:()=>Id,rJ:()=>rm,Cs:()=>Sh,vN:()=>Bf,kd:()=>lu,CL:()=>Tm,LA:()=>sm,H9:()=>y_,ol:()=>Ic,Q5:()=>pa,Os:()=>E_,FD:()=>_v,rf:()=>D_,Ws:()=>_o,z6:()=>Ro,x7:()=>N_,nY:()=>ym,_e:()=>Sl,GG:()=>_g,kU:()=>yv,Rr:()=>Ev,aU:()=>bd,GV:()=>B_,AB:()=>mv,$1:()=>hg,po:()=>C_,St:()=>b_,aQ:()=>bv,FC:()=>Cy,My:()=>A_,P:()=>w_,B:()=>cg,yx:()=>$f,c4:()=>Im,O5:()=>vg,BN:()=>Cv,He:()=>Vt,lN:()=>Ac,HM:()=>Yf,EO:()=>Lh,mZ:()=>Em,iB:()=>Gf,_M:()=>pm});var Fe,Ue,c=L(467),ae=L(7852),o=L(1362),we=L(8041),fe=L(1076),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ke={};(function(){var u;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function l(nt,Me,He){He||(He=0);var rt=Array(16);if("string"==typeof Me)for(var ct=0;16>ct;++ct)rt[ct]=Me.charCodeAt(He++)|Me.charCodeAt(He++)<<8|Me.charCodeAt(He++)<<16|Me.charCodeAt(He++)<<24;else for(ct=0;16>ct;++ct)rt[ct]=Me[He++]|Me[He++]<<8|Me[He++]<<16|Me[He++]<<24;var Et=nt.g[3],Be=(Me=nt.g[0])+(Et^(He=nt.g[1])&((ct=nt.g[2])^Et))+rt[0]+3614090360&4294967295;Be=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=(He=(ct=(Et=(Me=He+(Be<<7&4294967295|Be>>>25))+((Be=Et+(ct^Me&(He^ct))+rt[1]+3905402710&4294967295)<<12&4294967295|Be>>>20))+((Be=ct+(He^Et&(Me^He))+rt[2]+606105819&4294967295)<<17&4294967295|Be>>>15))+((Be=He+(Me^ct&(Et^Me))+rt[3]+3250441966&4294967295)<<22&4294967295|Be>>>10))+((Be=Me+(Et^He&(ct^Et))+rt[4]+4118548399&4294967295)<<7&4294967295|Be>>>25))+((Be=Et+(ct^Me&(He^ct))+rt[5]+1200080426&4294967295)<<12&4294967295|Be>>>20))+((Be=ct+(He^Et&(Me^He))+rt[6]+2821735955&4294967295)<<17&4294967295|Be>>>15))+((Be=He+(Me^ct&(Et^Me))+rt[7]+4249261313&4294967295)<<22&4294967295|Be>>>10))+((Be=Me+(Et^He&(ct^Et))+rt[8]+1770035416&4294967295)<<7&4294967295|Be>>>25))+((Be=Et+(ct^Me&(He^ct))+rt[9]+2336552879&4294967295)<<12&4294967295|Be>>>20))+((Be=ct+(He^Et&(Me^He))+rt[10]+4294925233&4294967295)<<17&4294967295|Be>>>15))+((Be=He+(Me^ct&(Et^Me))+rt[11]+2304563134&4294967295)<<22&4294967295|Be>>>10))+((Be=Me+(Et^He&(ct^Et))+rt[12]+1804603682&4294967295)<<7&4294967295|Be>>>25))+((Be=Et+(ct^Me&(He^ct))+rt[13]+4254626195&4294967295)<<12&4294967295|Be>>>20))+((Be=ct+(He^Et&(Me^He))+rt[14]+2792965006&4294967295)<<17&4294967295|Be>>>15))+((Be=He+(Me^ct&(Et^Me))+rt[15]+1236535329&4294967295)<<22&4294967295|Be>>>10))+((Be=Me+(ct^Et&(He^ct))+rt[1]+4129170786&4294967295)<<5&4294967295|Be>>>27))+((Be=Et+(He^ct&(Me^He))+rt[6]+3225465664&4294967295)<<9&4294967295|Be>>>23))+((Be=ct+(Me^He&(Et^Me))+rt[11]+643717713&4294967295)<<14&4294967295|Be>>>18))+((Be=He+(Et^Me&(ct^Et))+rt[0]+3921069994&4294967295)<<20&4294967295|Be>>>12))+((Be=Me+(ct^Et&(He^ct))+rt[5]+3593408605&4294967295)<<5&4294967295|Be>>>27))+((Be=Et+(He^ct&(Me^He))+rt[10]+38016083&4294967295)<<9&4294967295|Be>>>23))+((Be=ct+(Me^He&(Et^Me))+rt[15]+3634488961&4294967295)<<14&4294967295|Be>>>18))+((Be=He+(Et^Me&(ct^Et))+rt[4]+3889429448&4294967295)<<20&4294967295|Be>>>12))+((Be=Me+(ct^Et&(He^ct))+rt[9]+568446438&4294967295)<<5&4294967295|Be>>>27))+((Be=Et+(He^ct&(Me^He))+rt[14]+3275163606&4294967295)<<9&4294967295|Be>>>23))+((Be=ct+(Me^He&(Et^Me))+rt[3]+4107603335&4294967295)<<14&4294967295|Be>>>18))+((Be=He+(Et^Me&(ct^Et))+rt[8]+1163531501&4294967295)<<20&4294967295|Be>>>12))+((Be=Me+(ct^Et&(He^ct))+rt[13]+2850285829&4294967295)<<5&4294967295|Be>>>27))+((Be=Et+(He^ct&(Me^He))+rt[2]+4243563512&4294967295)<<9&4294967295|Be>>>23))+((Be=ct+(Me^He&(Et^Me))+rt[7]+1735328473&4294967295)<<14&4294967295|Be>>>18))+((Be=He+(Et^Me&(ct^Et))+rt[12]+2368359562&4294967295)<<20&4294967295|Be>>>12))+((Be=Me+(He^ct^Et)+rt[5]+4294588738&4294967295)<<4&4294967295|Be>>>28))+((Be=Et+(Me^He^ct)+rt[8]+2272392833&4294967295)<<11&4294967295|Be>>>21))+((Be=ct+(Et^Me^He)+rt[11]+1839030562&4294967295)<<16&4294967295|Be>>>16))+((Be=He+(ct^Et^Me)+rt[14]+4259657740&4294967295)<<23&4294967295|Be>>>9))+((Be=Me+(He^ct^Et)+rt[1]+2763975236&4294967295)<<4&4294967295|Be>>>28))+((Be=Et+(Me^He^ct)+rt[4]+1272893353&4294967295)<<11&4294967295|Be>>>21))+((Be=ct+(Et^Me^He)+rt[7]+4139469664&4294967295)<<16&4294967295|Be>>>16))+((Be=He+(ct^Et^Me)+rt[10]+3200236656&4294967295)<<23&4294967295|Be>>>9))+((Be=Me+(He^ct^Et)+rt[13]+681279174&4294967295)<<4&4294967295|Be>>>28))+((Be=Et+(Me^He^ct)+rt[0]+3936430074&4294967295)<<11&4294967295|Be>>>21))+((Be=ct+(Et^Me^He)+rt[3]+3572445317&4294967295)<<16&4294967295|Be>>>16))+((Be=He+(ct^Et^Me)+rt[6]+76029189&4294967295)<<23&4294967295|Be>>>9))+((Be=Me+(He^ct^Et)+rt[9]+3654602809&4294967295)<<4&4294967295|Be>>>28))+((Be=Et+(Me^He^ct)+rt[12]+3873151461&4294967295)<<11&4294967295|Be>>>21))+((Be=ct+(Et^Me^He)+rt[15]+530742520&4294967295)<<16&4294967295|Be>>>16))+((Be=He+(ct^Et^Me)+rt[2]+3299628645&4294967295)<<23&4294967295|Be>>>9))+((Be=Me+(ct^(He|~Et))+rt[0]+4096336452&4294967295)<<6&4294967295|Be>>>26))+((Be=Et+(He^(Me|~ct))+rt[7]+1126891415&4294967295)<<10&4294967295|Be>>>22))+((Be=ct+(Me^(Et|~He))+rt[14]+2878612391&4294967295)<<15&4294967295|Be>>>17))+((Be=He+(Et^(ct|~Me))+rt[5]+4237533241&4294967295)<<21&4294967295|Be>>>11))+((Be=Me+(ct^(He|~Et))+rt[12]+1700485571&4294967295)<<6&4294967295|Be>>>26))+((Be=Et+(He^(Me|~ct))+rt[3]+2399980690&4294967295)<<10&4294967295|Be>>>22))+((Be=ct+(Me^(Et|~He))+rt[10]+4293915773&4294967295)<<15&4294967295|Be>>>17))+((Be=He+(Et^(ct|~Me))+rt[1]+2240044497&4294967295)<<21&4294967295|Be>>>11))+((Be=Me+(ct^(He|~Et))+rt[8]+1873313359&4294967295)<<6&4294967295|Be>>>26))+((Be=Et+(He^(Me|~ct))+rt[15]+4264355552&4294967295)<<10&4294967295|Be>>>22))+((Be=ct+(Me^(Et|~He))+rt[6]+2734768916&4294967295)<<15&4294967295|Be>>>17))+((Be=He+(Et^(ct|~Me))+rt[13]+1309151649&4294967295)<<21&4294967295|Be>>>11))+((Et=(Me=He+((Be=Me+(ct^(He|~Et))+rt[4]+4149444226&4294967295)<<6&4294967295|Be>>>26))+((Be=Et+(He^(Me|~ct))+rt[11]+3174756917&4294967295)<<10&4294967295|Be>>>22))^((ct=Et+((Be=ct+(Me^(Et|~He))+rt[2]+718787259&4294967295)<<15&4294967295|Be>>>17))|~Me))+rt[9]+3951481745&4294967295,nt.g[0]=nt.g[0]+Me&4294967295,nt.g[1]=nt.g[1]+(ct+(Be<<21&4294967295|Be>>>11))&4294967295,nt.g[2]=nt.g[2]+ct&4294967295,nt.g[3]=nt.g[3]+Et&4294967295}function y(nt,Me){this.h=Me;for(var He=[],rt=!0,ct=nt.length-1;0<=ct;ct--){var Et=0|nt[ct];rt&&Et==Me||(He[ct]=Et,rt=!1)}this.g=He}(function e(nt,Me){function He(){}He.prototype=Me.prototype,nt.D=Me.prototype,nt.prototype=new He,nt.prototype.constructor=nt,nt.C=function(rt,ct,Et){for(var Be=Array(arguments.length-2),Ku=2;Ku<arguments.length;Ku++)Be[Ku-2]=arguments[Ku];return Me.prototype[ct].apply(rt,Be)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(nt,Me){void 0===Me&&(Me=nt.length);for(var He=Me-this.blockSize,rt=this.B,ct=this.h,Et=0;Et<Me;){if(0==ct)for(;Et<=He;)l(this,nt,Et),Et+=this.blockSize;if("string"==typeof nt){for(;Et<Me;)if(rt[ct++]=nt.charCodeAt(Et++),ct==this.blockSize){l(this,rt),ct=0;break}}else for(;Et<Me;)if(rt[ct++]=nt[Et++],ct==this.blockSize){l(this,rt),ct=0;break}}this.h=ct,this.o+=Me},s.prototype.v=function(){var nt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);nt[0]=128;for(var Me=1;Me<nt.length-8;++Me)nt[Me]=0;var He=8*this.o;for(Me=nt.length-8;Me<nt.length;++Me)nt[Me]=255&He,He/=256;for(this.u(nt),nt=Array(16),Me=He=0;4>Me;++Me)for(var rt=0;32>rt;rt+=8)nt[He++]=this.g[Me]>>>rt&255;return nt};var D={};function N(nt){return-128<=nt&&128>nt?function m(nt,Me){var He=D;return Object.prototype.hasOwnProperty.call(He,nt)?He[nt]:He[nt]=Me(nt)}(nt,function(Me){return new y([0|Me],0>Me?-1:0)}):new y([0|nt],0>nt?-1:0)}function W(nt){if(isNaN(nt)||!isFinite(nt))return ge;if(0>nt)return Yt(W(-nt));for(var Me=[],He=1,rt=0;nt>=He;rt++)Me[rt]=nt/He|0,He*=4294967296;return new y(Me,0)}var ge=N(0),Ve=N(1),ht=N(16777216);function Ht(nt){if(0!=nt.h)return!1;for(var Me=0;Me<nt.g.length;Me++)if(0!=nt.g[Me])return!1;return!0}function on(nt){return-1==nt.h}function Yt(nt){for(var Me=nt.g.length,He=[],rt=0;rt<Me;rt++)He[rt]=~nt.g[rt];return new y(He,~nt.h).add(Ve)}function kn(nt,Me){return nt.add(Yt(Me))}function qn(nt,Me){for(;(65535&nt[Me])!=nt[Me];)nt[Me+1]+=nt[Me]>>>16,nt[Me]&=65535,Me++}function Ln(nt,Me){this.g=nt,this.h=Me}function Dr(nt,Me){if(Ht(Me))throw Error("division by zero");if(Ht(nt))return new Ln(ge,ge);if(on(nt))return Me=Dr(Yt(nt),Me),new Ln(Yt(Me.g),Yt(Me.h));if(on(Me))return Me=Dr(nt,Yt(Me)),new Ln(Yt(Me.g),Me.h);if(30<nt.g.length){if(on(nt)||on(Me))throw Error("slowDivide_ only works with positive integers.");for(var He=Ve,rt=Me;0>=rt.l(nt);)He=Ri(He),rt=Ri(rt);var ct=qr(He,1),Et=qr(rt,1);for(rt=qr(rt,2),He=qr(He,2);!Ht(rt);){var Be=Et.add(rt);0>=Be.l(nt)&&(ct=ct.add(He),Et=Be),rt=qr(rt,1),He=qr(He,1)}return Me=kn(nt,ct.j(Me)),new Ln(ct,Me)}for(ct=ge;0<=nt.l(Me);){for(He=Math.max(1,Math.floor(nt.m()/Me.m())),rt=48>=(rt=Math.ceil(Math.log(He)/Math.LN2))?1:Math.pow(2,rt-48),Be=(Et=W(He)).j(Me);on(Be)||0<Be.l(nt);)Be=(Et=W(He-=rt)).j(Me);Ht(Et)&&(Et=Ve),ct=ct.add(Et),nt=kn(nt,Be)}return new Ln(ct,nt)}function Ri(nt){for(var Me=nt.g.length+1,He=[],rt=0;rt<Me;rt++)He[rt]=nt.i(rt)<<1|nt.i(rt-1)>>>31;return new y(He,nt.h)}function qr(nt,Me){var He=Me>>5;Me%=32;for(var rt=nt.g.length-He,ct=[],Et=0;Et<rt;Et++)ct[Et]=0<Me?nt.i(Et+He)>>>Me|nt.i(Et+He+1)<<32-Me:nt.i(Et+He);return new y(ct,nt.h)}(u=y.prototype).m=function(){if(on(this))return-Yt(this).m();for(var nt=0,Me=1,He=0;He<this.g.length;He++){var rt=this.i(He);nt+=(0<=rt?rt:4294967296+rt)*Me,Me*=4294967296}return nt},u.toString=function(nt){if(2>(nt=nt||10)||36<nt)throw Error("radix out of range: "+nt);if(Ht(this))return"0";if(on(this))return"-"+Yt(this).toString(nt);for(var Me=W(Math.pow(nt,6)),He=this,rt="";;){var ct=Dr(He,Me).g,Et=((0<(He=kn(He,ct.j(Me))).g.length?He.g[0]:He.h)>>>0).toString(nt);if(Ht(He=ct))return Et+rt;for(;6>Et.length;)Et="0"+Et;rt=Et+rt}},u.i=function(nt){return 0>nt?0:nt<this.g.length?this.g[nt]:this.h},u.l=function(nt){return on(nt=kn(this,nt))?-1:Ht(nt)?0:1},u.abs=function(){return on(this)?Yt(this):this},u.add=function(nt){for(var Me=Math.max(this.g.length,nt.g.length),He=[],rt=0,ct=0;ct<=Me;ct++){var Et=rt+(65535&this.i(ct))+(65535&nt.i(ct)),Be=(Et>>>16)+(this.i(ct)>>>16)+(nt.i(ct)>>>16);rt=Be>>>16,He[ct]=(Be&=65535)<<16|(Et&=65535)}return new y(He,-2147483648&He[He.length-1]?-1:0)},u.j=function(nt){if(Ht(this)||Ht(nt))return ge;if(on(this))return on(nt)?Yt(this).j(Yt(nt)):Yt(Yt(this).j(nt));if(on(nt))return Yt(this.j(Yt(nt)));if(0>this.l(ht)&&0>nt.l(ht))return W(this.m()*nt.m());for(var Me=this.g.length+nt.g.length,He=[],rt=0;rt<2*Me;rt++)He[rt]=0;for(rt=0;rt<this.g.length;rt++)for(var ct=0;ct<nt.g.length;ct++){var Et=this.i(rt)>>>16,Be=65535&this.i(rt),Ku=nt.i(ct)>>>16,ep=65535&nt.i(ct);He[2*rt+2*ct]+=Be*ep,qn(He,2*rt+2*ct),He[2*rt+2*ct+1]+=Et*ep,qn(He,2*rt+2*ct+1),He[2*rt+2*ct+1]+=Be*Ku,qn(He,2*rt+2*ct+1),He[2*rt+2*ct+2]+=Et*Ku,qn(He,2*rt+2*ct+2)}for(rt=0;rt<Me;rt++)He[rt]=He[2*rt+1]<<16|He[2*rt];for(rt=Me;rt<2*Me;rt++)He[rt]=0;return new y(He,0)},u.A=function(nt){return Dr(this,nt).h},u.and=function(nt){for(var Me=Math.max(this.g.length,nt.g.length),He=[],rt=0;rt<Me;rt++)He[rt]=this.i(rt)&nt.i(rt);return new y(He,this.h&nt.h)},u.or=function(nt){for(var Me=Math.max(this.g.length,nt.g.length),He=[],rt=0;rt<Me;rt++)He[rt]=this.i(rt)|nt.i(rt);return new y(He,this.h|nt.h)},u.xor=function(nt){for(var Me=Math.max(this.g.length,nt.g.length),He=[],rt=0;rt<Me;rt++)He[rt]=this.i(rt)^nt.i(rt);return new y(He,this.h^nt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ue=ke.Md5=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=W,y.fromString=function re(nt,Me){if(0==nt.length)throw Error("number format error: empty string");if(2>(Me=Me||10)||36<Me)throw Error("radix out of range: "+Me);if("-"==nt.charAt(0))return Yt(re(nt.substring(1),Me));if(0<=nt.indexOf("-"))throw Error('number format error: interior "-" character');for(var He=W(Math.pow(Me,8)),rt=ge,ct=0;ct<nt.length;ct+=8){var Et=Math.min(8,nt.length-ct),Be=parseInt(nt.substring(ct,ct+Et),Me);8>Et?(Et=W(Math.pow(Me,Et)),rt=rt.j(Et).add(W(Be))):rt=(rt=rt.j(He)).add(W(Be))}return rt},Fe=ke.Integer=y}).apply(typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{});var me,ut,Ye,Tt,It,jt,Nt,sn,et,Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,k,q){return v==Array.prototype||v==Object.prototype||(v[k]=q.value),v},s=function r(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Z&&Z];for(var k=0;k<v.length;++k){var q=v[k];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function l(v,k){if(k)e:{var q=s;v=v.split(".");for(var he=0;he<v.length-1;he++){var dt=v[he];if(!(dt in q))break e;q=q[dt]}(k=k(he=q[v=v[v.length-1]]))!=he&&null!=k&&e(q,v,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(v){return v||function(){return function m(v,k){v instanceof String&&(v+="");var q=0,he=!1,dt={next:function(){if(!he&&q<v.length){var Rt=q++;return{value:k(Rt,v[Rt]),done:!1}}return he=!0,{done:!0,value:void 0}}};return dt[Symbol.iterator]=function(){return dt},dt}(this,function(k,q){return q})}});var y=y||{},D=this||self;function N(v){var k=typeof v;return"array"==(k="object"!=k?k:v?Array.isArray(v)?"array":k:"null")||"object"==k&&"number"==typeof v.length}function W(v){var k=typeof v;return"object"==k&&null!=v||"function"==k}function re(v,k,q){return v.call.apply(v.bind,arguments)}function ge(v,k,q){if(!v)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var dt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(dt,he),v.apply(k,dt)}}return function(){return v.apply(k,arguments)}}function Ve(v,k,q){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?re:ge).apply(null,arguments)}function ht(v,k){var q=Array.prototype.slice.call(arguments,1);return function(){var he=q.slice();return he.push.apply(he,arguments),v.apply(this,he)}}function Ht(v,k){function q(){}q.prototype=k.prototype,v.aa=k.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(he,dt,Rt){for(var yn=Array(arguments.length-2),to=2;to<arguments.length;to++)yn[to-2]=arguments[to];return k.prototype[dt].apply(he,yn)}}function on(v){const k=v.length;if(0<k){const q=Array(k);for(let he=0;he<k;he++)q[he]=v[he];return q}return[]}function Yt(v,k){for(let q=1;q<arguments.length;q++){const he=arguments[q];if(N(he)){const dt=v.length||0,Rt=he.length||0;v.length=dt+Rt;for(let yn=0;yn<Rt;yn++)v[dt+yn]=he[yn]}else v.push(he)}}function qn(v){return/^[\s\xa0]*$/.test(v)}function Ln(){var v=D.navigator;return v&&(v=v.userAgent)?v:""}function Dr(v){return Dr[" "](v),v}Dr[" "]=function(){};var Ri=!(-1==Ln().indexOf("Gecko")||-1!=Ln().toLowerCase().indexOf("webkit")&&-1==Ln().indexOf("Edge")||-1!=Ln().indexOf("Trident")||-1!=Ln().indexOf("MSIE")||-1!=Ln().indexOf("Edge"));function qr(v,k,q){for(const he in v)k.call(q,v[he],he,v)}function Me(v){const k={};for(const q in v)k[q]=v[q];return k}const He="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(v,k){let q,he;for(let dt=1;dt<arguments.length;dt++){for(q in he=arguments[dt],he)v[q]=he[q];for(let Rt=0;Rt<He.length;Rt++)q=He[Rt],Object.prototype.hasOwnProperty.call(he,q)&&(v[q]=he[q])}}function ct(v){var k=1;v=v.split(":");const q=[];for(;0<k&&v.length;)q.push(v.shift()),k--;return v.length&&q.push(v.join(":")),q}function Et(v){D.setTimeout(()=>{throw v},0)}function Be(){var v=H_;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}var ep=new class kn{constructor(k,q){this.i=k,this.j=q,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new wa,v=>v.reset());class wa{constructor(){this.next=this.g=this.h=null}set(k,q){this.h=k,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let tp,np=!1,H_=new class Ku{constructor(){this.h=this.g=null}add(k,q){const he=ep.get();he.set(k,q),this.h?this.h.next=he:this.g=he,this.h=he}},yg=()=>{const v=D.Promise.resolve(void 0);tp=()=>{v.then(G_)}};var G_=()=>{for(var v;v=Be();){try{v.h.call(v.g)}catch(q){Et(q)}var k=ep;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}np=!1};function xl(){this.s=this.s,this.C=this.C}function Ws(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}xl.prototype.s=!1,xl.prototype.ma=function(){this.s||(this.s=!0,this.N())},xl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ws.prototype.h=function(){this.defaultPrevented=!0};var kv=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};D.addEventListener("test",q,k),D.removeEventListener("test",q,k)}catch{}return v}();function $h(v,k){if(Ws.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,he=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(Ri){e:{try{Dr(k.nodeName);var dt=!0;break e}catch{}dt=!1}dt||(k=null)}}else"mouseover"==q?k=v.fromElement:"mouseout"==q&&(k=v.toElement);this.relatedTarget=k,he?(this.clientX=void 0!==he.clientX?he.clientX:he.pageX,this.clientY=void 0!==he.clientY?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Fv[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&$h.aa.h.call(this)}}Ht($h,Ws);var Fv={2:"touch",3:"pen",4:"mouse"};$h.prototype.h=function(){$h.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var rp="closure_listenable_"+(1e6*Math.random()|0),wm=0;function Vv(v,k,q,he,dt){this.listener=v,this.proxy=null,this.src=k,this.type=q,this.capture=!!he,this.ha=dt,this.key=++wm,this.da=this.fa=!1}function Eg(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Cg(v){this.src=v,this.g={},this.h=0}function Am(v,k){var q=k.type;if(q in v.g){var Rt,he=v.g[q],dt=Array.prototype.indexOf.call(he,k,void 0);(Rt=0<=dt)&&Array.prototype.splice.call(he,dt,1),Rt&&(Eg(k),0==v.g[q].length&&(delete v.g[q],v.h--))}}function Dm(v,k,q,he){for(var dt=0;dt<v.length;++dt){var Rt=v[dt];if(!Rt.da&&Rt.listener==k&&Rt.capture==!!q&&Rt.ha==he)return dt}return-1}Cg.prototype.add=function(v,k,q,he,dt){var Rt=v.toString();(v=this.g[Rt])||(v=this.g[Rt]=[],this.h++);var yn=Dm(v,k,he,dt);return-1<yn?(k=v[yn],q||(k.fa=!1)):((k=new Vv(k,this.src,Rt,!!he,dt)).fa=q,v.push(k)),k};var Ha="closure_lm_"+(1e6*Math.random()|0),ip={};function z_(v,k,q,he,dt){if(he&&he.once)return xm(v,k,q,he,dt);if(Array.isArray(k)){for(var Rt=0;Rt<k.length;Rt++)z_(v,k[Rt],q,he,dt);return null}return q=wg(q),v&&v[rp]?v.K(k,q,W(he)?!!he.capture:!!he,dt):Sm(v,k,q,!1,he,dt)}function Sm(v,k,q,he,dt,Rt){if(!k)throw Error("Invalid event type");var yn=W(dt)?!!dt.capture:!!dt,to=Ig(v);if(to||(v[Ha]=to=new Cg(v)),(q=to.add(k,q,he,yn,Rt)).proxy)return q;if(he=function Lv(){const k=Dy;return function v(q){return k.call(v.src,v.listener,q)}}(),q.proxy=he,he.src=v,he.listener=q,v.addEventListener)kv||(dt=yn),void 0===dt&&(dt=!1),v.addEventListener(k.toString(),he,dt);else if(v.attachEvent)v.attachEvent(bg(k.toString()),he);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(he)}return q}function xm(v,k,q,he,dt){if(Array.isArray(k)){for(var Rt=0;Rt<k.length;Rt++)xm(v,k[Rt],q,he,dt);return null}return q=wg(q),v&&v[rp]?v.L(k,q,W(he)?!!he.capture:!!he,dt):Sm(v,k,q,!0,he,dt)}function Pm(v,k,q,he,dt){if(Array.isArray(k))for(var Rt=0;Rt<k.length;Rt++)Pm(v,k[Rt],q,he,dt);else he=W(he)?!!he.capture:!!he,q=wg(q),v&&v[rp]?(v=v.i,(k=String(k).toString())in v.g&&-1<(q=Dm(Rt=v.g[k],q,he,dt))&&(Eg(Rt[q]),Array.prototype.splice.call(Rt,q,1),0==Rt.length&&(delete v.g[k],v.h--))):v&&(v=Ig(v))&&(k=v.g[k.toString()],v=-1,k&&(v=Dm(k,q,he,dt)),(q=-1<v?k[v]:null)&&Hh(q))}function Hh(v){if("number"!=typeof v&&v&&!v.da){var k=v.src;if(k&&k[rp])Am(k.i,v);else{var q=v.type,he=v.proxy;k.removeEventListener?k.removeEventListener(q,he,v.capture):k.detachEvent?k.detachEvent(bg(q),he):k.addListener&&k.removeListener&&k.removeListener(he),(q=Ig(k))?(Am(q,v),0==q.h&&(q.src=null,k[Ha]=null)):Eg(v)}}}function bg(v){return v in ip?ip[v]:ip[v]="on"+v}function Dy(v,k){if(v.da)v=!0;else{k=new $h(k,this);var q=v.listener,he=v.ha||v.src;v.fa&&Hh(v),v=q.call(he,k)}return v}function Ig(v){return(v=v[Ha])instanceof Cg?v:null}var Tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function wg(v){return"function"==typeof v?v:(v[Tg]||(v[Tg]=function(k){return v.handleEvent(k)}),v[Tg])}function Es(){xl.call(this),this.i=new Cg(this),this.M=this,this.F=null}function Cs(v,k){var q,he=v.F;if(he)for(q=[];he;he=he.F)q.push(he);if(v=v.M,he=k.type||k,"string"==typeof k)k=new Ws(k,v);else if(k instanceof Ws)k.target=k.target||v;else{var dt=k;rt(k=new Ws(he,v),dt)}if(dt=!0,q)for(var Rt=q.length-1;0<=Rt;Rt--){var yn=k.g=q[Rt];dt=Aa(yn,he,!0,k)&&dt}if(dt=Aa(yn=k.g=v,he,!0,k)&&dt,dt=Aa(yn,he,!1,k)&&dt,q)for(Rt=0;Rt<q.length;Rt++)dt=Aa(yn=k.g=q[Rt],he,!1,k)&&dt}function Aa(v,k,q,he){if(!(k=v.i.g[String(k)]))return!0;k=k.concat();for(var dt=!0,Rt=0;Rt<k.length;++Rt){var yn=k[Rt];if(yn&&!yn.da&&yn.capture==q){var to=yn.listener,bs=yn.ha||yn.src;yn.fa&&Am(v.i,yn),dt=!1!==to.call(bs,he)&&dt}}return dt&&!he.defaultPrevented}function Rm(v,k,q){if("function"==typeof v)q&&(v=Ve(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Ve(v.handleEvent,v)}return 2147483647<Number(k)?-1:D.setTimeout(v,k||0)}function op(v){v.g=Rm(()=>{v.g=null,v.i&&(v.i=!1,op(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}Ht(Es,xl),Es.prototype[rp]=!0,Es.prototype.removeEventListener=function(v,k,q,he){Pm(this,v,k,q,he)},Es.prototype.N=function(){if(Es.aa.N.call(this),this.i){var k,v=this.i;for(k in v.g){for(var q=v.g[k],he=0;he<q.length;he++)Eg(q[he]);delete v.g[k],v.h--}}this.F=null},Es.prototype.K=function(v,k,q,he){return this.i.add(String(v),k,!1,q,he)},Es.prototype.L=function(v,k,q,he){return this.i.add(String(v),k,!0,q,he)};class sp extends xl{constructor(k,q){super(),this.m=k,this.l=q,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:op(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gh(v){xl.call(this),this.h=v,this.g={}}Ht(Gh,xl);var Mm=[];function ap(v){qr(v.g,function(k,q){this.g.hasOwnProperty(q)&&Hh(k)},v),v.g={}}Gh.prototype.N=function(){Gh.aa.N.call(this),ap(this)},Gh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nd=D.JSON.stringify,zh=D.JSON.parse,Om=class{stringify(v){return D.JSON.stringify(v,void 0)}parse(v){return D.JSON.parse(v,void 0)}};function kd(){}function Nm(){}kd.prototype.h=null;var Wh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ag(){Ws.call(this,"d")}function km(){Ws.call(this,"c")}Ht(Ag,Ws),Ht(km,Ws);var Fd={},Fm=null;function cp(){return Fm=Fm||new Es}function Kh(v){Ws.call(this,Fd.La,v)}function up(v){const k=cp();Cs(k,new Kh(k))}function Dg(v,k){Ws.call(this,Fd.STAT_EVENT,v),this.stat=k}function Ks(v){const k=cp();Cs(k,new Dg(k,v))}function K_(v,k){Ws.call(this,Fd.Ma,v),this.size=k}function lp(v,k){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){v()},k)}function qu(){this.g=!0}function qh(v,k,q,he){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+function q_(v,k){if(!v.g)return k;if(!k)return null;try{var q=JSON.parse(k);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var he=q[v];if(!(2>he.length)){var dt=he[1];if(Array.isArray(dt)&&!(1>dt.length)){var Rt=dt[0];if("noop"!=Rt&&"stop"!=Rt&&"close"!=Rt)for(var yn=1;yn<dt.length;yn++)dt[yn]=""}}}return Nd(q)}catch{return k}}(v,q)+(he?" "+he:"")})}Fd.La="serverreachability",Ht(Kh,Ws),Fd.STAT_EVENT="statevent",Ht(Dg,Ws),Fd.Ma="timingevent",Ht(K_,Ws),qu.prototype.xa=function(){this.g=!1},qu.prototype.info=function(){};var Sg,dp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Xh(){}function hu(v,k,q,he){this.j=v,this.i=k,this.l=q,this.R=he||1,this.U=new Gh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vm}function Vm(){this.i=null,this.g="",this.h=!1}Ht(Xh,kd),Xh.prototype.g=function(){return new XMLHttpRequest},Xh.prototype.i=function(){return{}},Sg=new Xh;var E={},g={};function h(v,k,q){v.L=1,v.v=qs(ji(k)),v.m=q,v.P=!0,x(v,null)}function x(v,k){v.F=Date.now(),Ee(v),v.A=ji(v.v);var q=v.A,he=v.R;Array.isArray(he)||(he=[String(he)]),pu(q.i,"t",he),v.C=0,q=v.j.J,v.h=new Vm,v.g=Jv(v.j,q?k:null,!v.m),0<v.O&&(v.M=new sp(Ve(v.Y,v,v.g),v.O)),k=v.U,q=v.g,he=v.ca;var dt="readystatechange";Array.isArray(dt)||(dt&&(Mm[0]=dt.toString()),dt=Mm);for(var Rt=0;Rt<dt.length;Rt++){var yn=z_(q,dt[Rt],he||k.handleEvent,!1,k.h||k);if(!yn)break;k.g[yn.key]=yn}k=v.H?Me(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),up(),function Uv(v,k,q,he,dt,Rt){v.info(function(){if(v.g)if(Rt)for(var yn="",to=Rt.split("&"),bs=0;bs<to.length;bs++){var Mi=to[bs].split("=");if(1<Mi.length){var Ms=Mi[0];Mi=Mi[1];var Xs=Ms.split("_");yn=2<=Xs.length&&"type"==Xs[1]?yn+(Ms+"=")+Mi+"&":yn+(Ms+"=redacted&")}}else yn=null;else yn=Rt;return"XMLHTTP REQ ("+he+") [attempt "+dt+"]: "+k+"\n"+q+"\n"+yn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function $(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function pe(v,k){var q=v.C,he=k.indexOf("\n",q);return-1==he?g:(q=Number(k.substring(q,he)),isNaN(q)?E:(he+=1)+q>k.length?g:(k=k.slice(he,he+q),v.C=he+q,k))}function Ee(v){v.S=Date.now()+v.I,mt(v,v.I)}function mt(v,k){if(null!=v.B)throw Error("WatchDog timer not null");v.B=lp(Ve(v.ba,v),k)}function Dt(v){v.B&&(D.clearTimeout(v.B),v.B=null)}function pn(v){0==v.j.G||v.J||Yv(v.j,v)}function Zt(v){Dt(v);var k=v.M;k&&"function"==typeof k.ma&&k.ma(),v.M=null,ap(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function tr(v,k){try{var q=v.j;if(0!=q.G&&(q.g==v||Xn(q.h,v)))if(!v.K&&Xn(q.h,v)&&3==q.G){try{var he=q.Da.g.parse(k)}catch{he=null}if(Array.isArray(he)&&3==he.length){var dt=he;if(0==dt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;Hm(q),Q_(q)}Bm(q),Ks(18)}}else q.za=dt[1],0<q.za-q.T&&37500>dt[2]&&q.F&&0==q.v&&!q.C&&(q.C=lp(Ve(q.Za,q),6e3));if(1>=Mn(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else $d(q,11)}else if((v.K||q.g==v)&&Hm(q),!qn(k))for(dt=q.Da.g.parse(k),k=0;k<dt.length;k++){let Mi=dt[k];if(q.T=Mi[0],Mi=Mi[1],2==q.G)if("c"==Mi[0]){q.K=Mi[1],q.ia=Mi[2];const Ms=Mi[3];null!=Ms&&(q.la=Ms,q.j.info("VER="+q.la));const Xs=Mi[4];null!=Xs&&(q.Aa=Xs,q.j.info("SVER="+q.Aa));const yp=Mi[5];null!=yp&&"number"==typeof yp&&0<yp&&(q.L=he=1.5*yp,q.j.info("backChannelRequestTimeoutMs_="+he)),he=q;const xc=v.g;if(xc){const Og=xc.g?xc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Og){var Rt=he.h;Rt.g||-1==Og.indexOf("spdy")&&-1==Og.indexOf("quic")&&-1==Og.indexOf("h2")||(Rt.j=Rt.l,Rt.g=new Set,Rt.h&&(fi(Rt,Rt.h),Rt.h=null))}if(he.D){const Wm=xc.g?xc.g.getResponseHeader("X-HTTP-Session-Id"):null;Wm&&(he.ya=Wm,si(he.I,he.D,Wm))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var yn=v;if((he=q).qa=zm(he,he.J?he.ia:null,he.W),yn.K){Gi(he.h,yn);var to=yn,bs=he.L;bs&&(to.I=bs),to.B&&(Dt(to),Ee(to)),he.g=yn}else Xv(he);0<q.i.length&&jm(q)}else"stop"!=Mi[0]&&"close"!=Mi[0]||$d(q,7);else 3==q.G&&("stop"==Mi[0]||"close"==Mi[0]?"stop"==Mi[0]?$d(q,7):mp(q):"noop"!=Mi[0]&&q.l&&q.l.ta(Mi),q.v=0)}up()}catch{}}function ur(v){this.l=v||10,v=D.PerformanceNavigationTiming?0<(v=D.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Si(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Mn(v){return v.h?1:v.g?v.g.size:0}function Xn(v,k){return v.h?v.h==k:!!v.g&&v.g.has(k)}function fi(v,k){v.g?v.g.add(k):v.h=k}function Gi(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}function Jr(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let k=v.i;for(const q of v.g.values())k=k.concat(q.D);return k}return on(v.i)}function _r(v,k){if(v.forEach&&"function"==typeof v.forEach)v.forEach(k,void 0);else if(N(v)||"string"==typeof v)Array.prototype.forEach.call(v,k,void 0);else for(var q=function pi(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(N(v)||"string"==typeof v){var k=[];v=v.length;for(var q=0;q<v;q++)k.push(q);return k}k=[],q=0;for(const he in v)k[q++]=he;return k}}}(v),he=function lr(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(N(v)){for(var k=[],q=v.length,he=0;he<q;he++)k.push(v[he]);return k}for(he in k=[],q=0,v)k[q++]=v[he];return k}(v),dt=he.length,Rt=0;Rt<dt;Rt++)k.call(void 0,he[Rt],q&&q[Rt],v)}hu.prototype.ca=function(v){v=v.target;const k=this.M;k&&3==Ol(v)?k.j():this.Y(v)},hu.prototype.Y=function(v){try{if(v==this.g)e:{const Xs=Ol(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>Xs)&&(3!=Xs||this.g&&(this.h.h||this.g.oa()||zv(this.g)))){this.J||4!=Xs||7==k||up(),Dt(this);var q=this.g.Z();this.X=q;t:if($(this)){var he=zv(this.g);v="";var dt=he.length,Rt=4==Ol(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),pn(this);var yn="";break t}this.h.i=new D.TextDecoder}for(k=0;k<dt;k++)this.h.h=!0,v+=this.h.i.decode(he[k],{stream:!(Rt&&k==dt-1)});he.length=0,this.h.g+=v,this.C=0,yn=this.h.g}else yn=this.g.oa();if(this.o=200==q,function jv(v,k,q,he,dt,Rt,yn){v.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+dt+"]: "+k+"\n"+q+"\n"+Rt+" "+yn})}(this.i,this.u,this.A,this.l,this.R,Xs,q),this.o){if(this.T&&!this.K){t:{if(this.g){var to,bs=this.g;if((to=bs.g?bs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qn(to)){var Mi=to;break t}}Mi=null}if(!(q=Mi)){this.o=!1,this.s=3,Ks(12),Zt(this),pn(this);break e}qh(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tr(this,q)}if(this.P){let xc;for(q=!0;!this.J&&this.C<yn.length;){if(xc=pe(this,yn),xc==g){4==Xs&&(this.s=4,Ks(14),q=!1),qh(this.i,this.l,null,"[Incomplete Response]");break}if(xc==E){this.s=4,Ks(15),qh(this.i,this.l,yn,"[Invalid Chunk]"),q=!1;break}qh(this.i,this.l,xc,null),tr(this,xc)}if($(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Xs||0!=yn.length||this.h.h||(this.s=1,Ks(16),q=!1),this.o=this.o&&q,q){if(0<yn.length&&!this.W){this.W=!0;var Ms=this.j;Ms.g==this&&Ms.ba&&!Ms.M&&(Ms.j.info("Great, no buffering proxy detected. Bytes received: "+yn.length),$m(Ms),Ms.M=!0,Ks(11))}}else qh(this.i,this.l,yn,"[Invalid Chunked Response]"),Zt(this),pn(this)}else qh(this.i,this.l,yn,null),tr(this,yn);4==Xs&&Zt(this),this.o&&!this.J&&(4==Xs?Yv(this.j,this):(this.o=!1,Ee(this)))}else(function Sy(v){const k={};v=(v.g&&2<=Ol(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let he=0;he<v.length;he++){if(qn(v[he]))continue;var q=ct(v[he]);const dt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Rt=k[dt]||[];k[dt]=Rt,Rt.push(q)}!function nt(v,k){for(const q in v)k.call(void 0,v[q],q,v)}(k,function(he){return he.join(", ")})})(this.g),400==q&&0<yn.indexOf("Unknown SID")?(this.s=3,Ks(12)):(this.s=0,Ks(13)),Zt(this),pn(this)}}}catch{}},hu.prototype.cancel=function(){this.J=!0,Zt(this)},hu.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function Bv(v,k){v.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(up(),Ks(17)),Zt(this),this.s=2,pn(this)):mt(this,this.S-v)},ur.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof gi){this.h=v.h,yo(this,v.j),this.o=v.o,this.g=v.g,is(this,v.s),this.l=v.l;var k=v.i,q=new Ga;q.i=k.i,k.g&&(q.g=new Map(k.g),q.h=k.h),Uo(this,q),this.m=v.m}else v&&(k=String(v).match(Vi))?(this.h=!1,yo(this,k[1]||"",!0),this.o=Mo(k[2]||""),this.g=Mo(k[3]||"",!0),is(this,k[4]),this.l=Mo(k[5]||"",!0),Uo(this,k[6]||"",!0),this.m=Mo(k[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}function ji(v){return new gi(v)}function yo(v,k,q){v.j=q?Mo(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function is(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function Uo(v,k,q){k instanceof Ga?(v.i=k,function X_(v,k){k&&!v.j&&(Rs(v),v.i=null,v.g.forEach(function(q,he){var dt=he.toLowerCase();he!=dt&&(Pl(this,he),pu(this,dt,q))},v)),v.j=k}(v.i,v.h)):(q||(k=qo(k,Vd)),v.i=new Ga(k,v.h))}function si(v,k,q){v.i.set(k,q)}function qs(v){return si(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Mo(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function qo(v,k,q){return"string"==typeof v?(v=encodeURI(v).replace(k,fu),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function fu(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}gi.prototype.toString=function(){var v=[],k=this.j;k&&v.push(qo(k,ga,!0),":");var q=this.g;return(q||"file"==k)&&(v.push("//"),(k=this.o)&&v.push(qo(k,ga,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(qo(q,"/"==q.charAt(0)?fp:Yh,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",qo(q,Qh)),v.join("")};var v,ga=/[#\/\?@]/g,Yh=/[#\?:]/g,fp=/[#\?]/g,Vd=/[#\?@]/g,Qh=/#/g;function Ga(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function Rs(v){v.g||(v.g=new Map,v.h=0,v.i&&function Lo(v,k){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var he=v[q].indexOf("="),dt=null;if(0<=he){var Rt=v[q].substring(0,he);dt=v[q].substring(he+1)}else Rt=v[q];k(Rt,dt?decodeURIComponent(dt.replace(/\+/g," ")):"")}}}(v.i,function(k,q){v.add(decodeURIComponent(k.replace(/\+/g," ")),q)}))}function Pl(v,k){Rs(v),k=Sc(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function Ld(v,k){return Rs(v),k=Sc(v,k),v.g.has(k)}function pu(v,k,q){Pl(v,k),0<q.length&&(v.i=null,v.g.set(Sc(v,k),on(q)),v.h+=q.length)}function Sc(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function gu(v,k,q,he,dt){try{dt&&(dt.onload=null,dt.onerror=null,dt.onabort=null,dt.ontimeout=null),he(q)}catch{}}function Y_(){this.g=new Om}function Hv(v,k,q){const he=q||"";try{_r(v,function(dt,Rt){let yn=dt;W(dt)&&(yn=Nd(dt)),k.push(he+Rt+"="+encodeURIComponent(yn))})}catch(dt){throw k.push(he+"type="+encodeURIComponent("_badmap")),dt}}function Ud(v){this.l=v.Ub||null,this.j=v.eb||!1}function pp(v,k){Es.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Um(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Jh(v){v.readyState=4,v.l=null,v.j=null,v.v=null,za(v)}function za(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Rl(v){let k="";return qr(v,function(q,he){k+=he,k+=":",k+=q,k+="\r\n"}),k}function Xu(v,k,q){e:{for(he in q){var he=!1;break e}he=!0}he||(q=Rl(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):si(v,k,q))}function ao(v){Es.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=Ga.prototype).add=function(v,k){Rs(this),this.i=null,v=Sc(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(k),this.h+=1,this},u.forEach=function(v,k){Rs(this),this.g.forEach(function(q,he){q.forEach(function(dt){v.call(k,dt,he,this)},this)},this)},u.na=function(){Rs(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),q=[];for(let he=0;he<k.length;he++){const dt=v[he];for(let Rt=0;Rt<dt.length;Rt++)q.push(k[he])}return q},u.V=function(v){Rs(this);let k=[];if("string"==typeof v)Ld(this,v)&&(k=k.concat(this.g.get(Sc(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)k=k.concat(v[q])}return k},u.set=function(v,k){return Rs(this),this.i=null,Ld(this,v=Sc(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},u.get=function(v,k){return v&&0<(v=this.V(v)).length?String(v[0]):k},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var q=0;q<k.length;q++){var he=k[q];const Rt=encodeURIComponent(String(he)),yn=this.V(he);for(he=0;he<yn.length;he++){var dt=Rt;""!==yn[he]&&(dt+="="+encodeURIComponent(String(yn[he]))),v.push(dt)}}return this.i=v.join("&")},Ht(Ud,kd),Ud.prototype.g=function(){return new pp(this.l,this.j)},Ud.prototype.i=(v={},function(){return v}),Ht(pp,Es),(u=pp.prototype).open=function(v,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,za(this)},u.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||D).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jh(this)),this.readyState=0},u.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Um(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?Jh(this):za(this),3==this.readyState&&Um(this)}},u.Ra=function(v){this.g&&(this.response=this.responseText=v,Jh(this))},u.Qa=function(v){this.g&&(this.response=v,Jh(this))},u.ga=function(){this.g&&Jh(this)},u.setRequestHeader=function(v,k){this.u.append(v,k)},u.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var q=k.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=k.next();return v.join("\r\n")},Object.defineProperty(pp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Ht(ao,Es);var jd=/^https?$/i,xg=["POST","PUT"];function Ml(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,gp(v),Bd(v)}function gp(v){v.A||(v.A=!0,Cs(v,"complete"),Cs(v,"error"))}function Pg(v){if(v.h&&typeof y<"u"&&(!v.v[1]||4!=Ol(v)||2!=v.Z()))if(v.u&&4==Ol(v))Rm(v.Ea,0,v);else if(Cs(v,"readystatechange"),4==Ol(v)){v.h=!1;try{const yn=v.Z();e:switch(yn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var q;if(!(q=k)){var he;if(he=0===yn){var dt=String(v.D).match(Vi)[1]||null;!dt&&D.self&&D.self.location&&(dt=D.self.location.protocol.slice(0,-1)),he=!jd.test(dt?dt.toLowerCase():"")}q=he}if(q)Cs(v,"complete"),Cs(v,"success");else{v.m=6;try{var Rt=2<Ol(v)?v.g.statusText:""}catch{Rt=""}v.l=Rt+" ["+v.Z()+"]",gp(v)}}finally{Bd(v)}}}function Bd(v,k){if(v.g){Gv(v);const q=v.g,he=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||Cs(v,"ready");try{q.onreadystatechange=he}catch{}}}function Gv(v){v.I&&(D.clearTimeout(v.I),v.I=null)}function Ol(v){return v.g?v.g.readyState:0}function zv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Zh(v,k,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||k}function Rg(v){this.Aa=0,this.i=[],this.j=new qu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zh("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zh("baseRetryDelayMs",5e3,v),this.cb=Zh("retryDelaySeedMs",1e4,v),this.Wa=Zh("forwardChannelMaxRetries",2,v),this.wa=Zh("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new ur(v&&v.concurrentRequestLimit),this.Da=new Y_,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function mp(v){if(Wv(v),3==v.G){var k=v.U++,q=ji(v.I);if(si(q,"SID",v.K),si(q,"RID",k),si(q,"TYPE","terminate"),_p(v,q),(k=new hu(v,v.j,k)).L=2,k.v=qs(ji(q)),q=!1,D.navigator&&D.navigator.sendBeacon)try{q=D.navigator.sendBeacon(k.v.toString(),"")}catch{}!q&&D.Image&&((new Image).src=k.v,q=!0),q||(k.g=Jv(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Ee(k)}Gm(v)}function Q_(v){v.g&&($m(v),v.g.cancel(),v.g=null)}function Wv(v){Q_(v),v.u&&(D.clearTimeout(v.u),v.u=null),Hm(v),v.h.cancel(),v.s&&("number"==typeof v.s&&D.clearTimeout(v.s),v.s=null)}function jm(v){if(!Si(v.h)&&!v.s){v.s=!0;var k=v.Ga;tp||yg(),np||(tp(),np=!0),H_.add(k,v),v.B=0}}function Kv(v,k){var q;q=k?k.l:v.U++;const he=ji(v.I);si(he,"SID",v.K),si(he,"RID",q),si(he,"AID",v.T),_p(v,he),v.m&&v.o&&Xu(he,v.m,v.o),q=new hu(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),k&&(v.i=k.D.concat(v.i)),k=qv(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),fi(v.h,q),h(q,he,k)}function _p(v,k){v.H&&qr(v.H,function(q,he){si(k,he,q)}),v.l&&_r({},function(q,he){si(k,he,q)})}function qv(v,k,q){q=Math.min(v.i.length,q);var he=v.l?Ve(v.l.Na,v.l,v):null;e:{var dt=v.i;let Rt=-1;for(;;){const yn=["count="+q];-1==Rt?0<q?(Rt=dt[0].g,yn.push("ofs="+Rt)):Rt=0:yn.push("ofs="+Rt);let to=!0;for(let bs=0;bs<q;bs++){let Mi=dt[bs].g;const Ms=dt[bs].map;if(Mi-=Rt,0>Mi)Rt=Math.max(0,dt[bs].g-100),to=!1;else try{Hv(Ms,yn,"req"+Mi+"_")}catch{he&&he(Ms)}}if(to){he=yn.join("&");break e}}}return v=v.i.splice(0,q),k.D=v,he}function Xv(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;tp||yg(),np||(tp(),np=!0),H_.add(k,v),v.v=0}}function Bm(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=lp(Ve(v.Fa,v),Qv(v,v.v)),v.v++,0))}function $m(v){null!=v.A&&(D.clearTimeout(v.A),v.A=null)}function Z_(v){v.g=new hu(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var k=ji(v.qa);si(k,"RID","rpc"),si(k,"SID",v.K),si(k,"AID",v.T),si(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&si(k,"TO",v.ja),si(k,"TYPE","xmlhttp"),_p(v,k),v.m&&v.o&&Xu(k,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=qs(ji(k)),q.m=null,q.P=!0,x(q,v)}function Hm(v){null!=v.C&&(D.clearTimeout(v.C),v.C=null)}function Yv(v,k){var q=null;if(v.g==k){Hm(v),$m(v),v.g=null;var he=2}else{if(!Xn(v.h,k))return;q=k.D,Gi(v.h,k),he=1}if(0!=v.G)if(k.o)if(1==he){q=k.m?k.m.length:0,k=Date.now()-k.F;var dt=v.B;Cs(he=cp(),new K_(he,q)),jm(v)}else Xv(v);else if(3==(dt=k.s)||0==dt&&0<k.X||!(1==he&&function J_(v,k){return!(Mn(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=k.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=lp(Ve(v.Ga,v,k),Qv(v,v.B)),v.B++,0)))}(v,k)||2==he&&Bm(v)))switch(q&&0<q.length&&(k=v.h,k.i=k.i.concat(q)),dt){case 1:$d(v,5);break;case 4:$d(v,10);break;case 3:$d(v,6);break;default:$d(v,2)}}function Qv(v,k){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*k}function $d(v,k){if(v.j.info("Error code "+k),2==k){var q=Ve(v.fb,v),he=v.Xa;const dt=!he;he=new gi(he||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||yo(he,"https"),qs(he),dt?function Lm(v,k){const q=new qu;if(D.Image){const he=new Image;he.onload=ht(gu,q,"TestLoadImage: loaded",!0,k,he),he.onerror=ht(gu,q,"TestLoadImage: error",!1,k,he),he.onabort=ht(gu,q,"TestLoadImage: abort",!1,k,he),he.ontimeout=ht(gu,q,"TestLoadImage: timeout",!1,k,he),D.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=v}else k(!1)}(he.toString(),q):function $v(v,k){new qu;const he=new AbortController,dt=setTimeout(()=>{he.abort(),gu(0,0,!1,k)},1e4);fetch(v,{signal:he.signal}).then(Rt=>{clearTimeout(dt),gu(0,0,!!Rt.ok,k)}).catch(()=>{clearTimeout(dt),gu(0,0,!1,k)})}(he.toString(),q)}else Ks(2);v.G=0,v.l&&v.l.sa(k),Gm(v),Wv(v)}function Gm(v){if(v.G=0,v.ka=[],v.l){const k=Jr(v.h);(0!=k.length||0!=v.i.length)&&(Yt(v.ka,k),Yt(v.ka,v.i),v.h.i.length=0,on(v.i),v.i.length=0),v.l.ra()}}function zm(v,k,q){var he=q instanceof gi?ji(q):new gi(q);if(""!=he.g)k&&(he.g=k+"."+he.g),is(he,he.s);else{var dt=D.location;he=dt.protocol,k=k?k+"."+dt.hostname:dt.hostname,dt=+dt.port;var Rt=new gi(null);he&&yo(Rt,he),k&&(Rt.g=k),dt&&is(Rt,dt),q&&(Rt.l=q),he=Rt}return k=v.ya,(q=v.D)&&k&&si(he,q,k),si(he,"VER",v.la),_p(v,he),he}function Jv(v,k,q){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new ao(v.Ca&&!v.pa?new Ud({eb:q}):v.pa)).Ha(v.J),k}function Mg(){}function ef(){}function ma(v,k){Es.call(this),this.g=new Rg(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!qn(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!qn(k)&&(this.g.D=k,null!==(v=this.h)&&k in v&&k in(v=this.h)&&delete v[k]),this.j=new vp(this)}function ev(v){Ag.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const q in k){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,k=null!==k&&v in k?k[v]:void 0),this.data=k}else this.data=v}function Zv(){km.call(this),this.status=1}function vp(v){this.g=v}(u=ao.prototype).Ha=function(v){this.J=v},u.ea=function(v,k,q,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sg.g(),this.v=function W_(v){return v.h||(v.h=v.i())}(this.o?this.o:Sg),this.g.onreadystatechange=Ve(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(Rt){return void Ml(this,Rt)}if(v=q||"",q=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var dt in he)q.set(dt,he[dt]);else{if("function"!=typeof he.keys||"function"!=typeof he.get)throw Error("Unknown input type for opt_headers: "+String(he));for(const Rt of he.keys())q.set(Rt,he.get(Rt))}he=Array.from(q.keys()).find(Rt=>"content-type"==Rt.toLowerCase()),dt=D.FormData&&v instanceof D.FormData,!(0<=Array.prototype.indexOf.call(xg,k,void 0))||he||dt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Rt,yn]of q)this.g.setRequestHeader(Rt,yn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gv(this),this.u=!0,this.g.send(v),this.u=!1}catch(Rt){Ml(this,Rt)}},u.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Cs(this,"complete"),Cs(this,"abort"),Bd(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bd(this,!0)),ao.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?Pg(this):this.bb())},u.bb=function(){Pg(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Ol(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&0==k.indexOf(v)&&(k=k.substring(v.length)),zh(k)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=Rg.prototype).la=8,u.G=1,u.connect=function(v,k,q,he){Ks(0),this.W=v,this.H=k||{},q&&void 0!==he&&(this.H.OSID=q,this.H.OAID=he),this.F=this.X,this.I=zm(this,null,this.W),jm(this)},u.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const dt=new hu(this,this.j,v);let Rt=this.o;if(this.S&&(Rt?(Rt=Me(Rt),rt(Rt,this.S)):Rt=this.S),null!==this.m||this.O||(dt.H=Rt,Rt=null),this.P)e:{for(var k=0,q=0;q<this.i.length;q++){var he=this.i[q];if(void 0===(he="__data__"in he.map&&"string"==typeof(he=he.map.__data__)?he.length:void 0))break;if(4096<(k+=he)){k=q;break e}if(4096===k||q===this.i.length-1){k=q+1;break e}}k=1e3}else k=1e3;k=qv(this,dt,k),si(q=ji(this.I),"RID",v),si(q,"CVER",22),this.D&&si(q,"X-HTTP-Session-Id",this.D),_p(this,q),Rt&&(this.O?k="headers="+encodeURIComponent(String(Rl(Rt)))+"&"+k:this.m&&Xu(q,this.m,Rt)),fi(this.h,dt),this.Ua&&si(q,"TYPE","init"),this.P?(si(q,"$req",k),si(q,"SID","null"),dt.T=!0,h(dt,q,null)):h(dt,q,k),this.G=2}}else 3==this.G&&(v?Kv(this,v):0==this.i.length||Si(this.h)||Kv(this))},u.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=lp(Ve(this.ab,this),v)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ks(10),Q_(this),Z_(this))},u.Za=function(){null!=this.C&&(this.C=null,Q_(this),Bm(this),Ks(19))},u.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ks(2)):(this.j.info("Failed to ping google.com"),Ks(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Mg.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},ef.prototype.g=function(v,k){return new ma(v,k)},Ht(ma,Es),ma.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ma.prototype.close=function(){mp(this.g)},ma.prototype.o=function(v){var k=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=Nd(v),v=q);k.i.push(new class{constructor(v,k){this.g=v,this.map=k}}(k.Ya++,v)),3==k.G&&jm(k)},ma.prototype.N=function(){this.g.l=null,delete this.j,mp(this.g),delete this.g,ma.aa.N.call(this)},Ht(ev,Ag),Ht(Zv,km),Ht(vp,Mg),vp.prototype.ua=function(){Cs(this.g,"a")},vp.prototype.ta=function(v){Cs(this.g,new ev(v))},vp.prototype.sa=function(v){Cs(this.g,new Zv)},vp.prototype.ra=function(){Cs(this.g,"b")},ef.prototype.createWebChannel=ef.prototype.g,ma.prototype.send=ma.prototype.o,ma.prototype.open=ma.prototype.m,ma.prototype.close=ma.prototype.close,et=ce.createWebChannelTransport=function(){return new ef},sn=ce.getStatEventTarget=function(){return cp()},Nt=ce.Event=Fd,jt=ce.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dp.NO_ERROR=0,dp.TIMEOUT=8,dp.HTTP_ERROR=6,It=ce.ErrorCode=dp,hp.COMPLETE="complete",Tt=ce.EventType=hp,Nm.EventType=Wh,Wh.OPEN="a",Wh.CLOSE="b",Wh.ERROR="c",Wh.MESSAGE="d",Es.prototype.listen=Es.prototype.K,Ye=ce.WebChannel=Nm,ut=ce.FetchXmlHttpFactory=Ud,ao.prototype.listenOnce=ao.prototype.L,ao.prototype.getLastError=ao.prototype.Ka,ao.prototype.getLastErrorCode=ao.prototype.Ba,ao.prototype.getStatus=ao.prototype.Z,ao.prototype.getResponseJson=ao.prototype.Oa,ao.prototype.getResponseText=ao.prototype.oa,ao.prototype.send=ao.prototype.ea,ao.prototype.setWithCredentials=ao.prototype.Ha,me=ce.XhrIo=ao}).apply(typeof Z<"u"?Z:typeof self<"u"?self:typeof window<"u"?window:{});const Ge="@firebase/firestore";class at{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");let Ze="10.12.1";const it=new we.Vy("@firebase/firestore");function At(){return it.logLevel}function Vt(u){it.setLogLevel(u)}function be(u,...e){if(it.logLevel<=we.$b.DEBUG){const r=e.map(Zn);it.debug(`Firestore (${Ze}): ${u}`,...r)}}function Jt(u,...e){if(it.logLevel<=we.$b.ERROR){const r=e.map(Zn);it.error(`Firestore (${Ze}): ${u}`,...r)}}function cn(u,...e){if(it.logLevel<=we.$b.WARN){const r=e.map(Zn);it.warn(`Firestore (${Ze}): ${u}`,...r)}}function Zn(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Mt(u="Unexpected state"){const e=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+u;throw Jt(e),new Error(e)}function Bt(u,e){u||Mt()}function qt(u,e){u||Mt()}function lt(u,e){return u}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends fe.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oe{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Qe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class De{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(at.UNAUTHENTICATED))}shutdown(){}}class Se{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class $e{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const m=W=>this.i!==l?(l=this.i,r(W)):Promise.resolve();let y=new Oe;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Oe,e.enqueueRetryable(()=>m(this.currentUser))};const D=()=>{const W=y;e.enqueueRetryable((0,c.A)(function*(){yield W.promise,yield m(s.currentUser)}))},N=W=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(W=>N(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?N(W):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Oe)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt("string"==typeof s.accessToken),new Qe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new at(e)}}class wt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=at.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new wt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class un{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=m=>{null!=m.error&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const y=m.token!==this.R;return this.R=m.token,be("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const l=m=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>l(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?l(m):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Bt("string"==typeof r.token),this.R=r.token,new un(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cn(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<u;s++)r[s]=Math.floor(256*Math.random());return r}class dr{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Cn(40);for(let m=0;m<l.length;++m)s.length<20&&l[m]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[m]%62))}return s}}function Gt(u,e){return u<e?-1:u>e?1:0}function In(u,e,r){return u.length===e.length&&u.every((s,l)=>r(s,e[l]))}function Un(u){return u+"\0"}class Wt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new de(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new de(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new de(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Wt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Wt(0,0))}static max(){return new Lt(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fr{constructor(e,r,s){void 0===r?r=0:r>e.length&&Mt(),void 0===s?s=e.length-r:s>e.length-r&&Mt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Fr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const m=e.get(l),y=r.get(l);if(m<y)return-1;if(m>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class ln extends Fr{construct(e,r,s){return new ln(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(Pe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new ln(r)}static emptyPath(){return new ln([])}}const vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Fr{construct(e,r,s){return new Hn(e,r,s)}static isValidIdentifier(e){return vr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const m=()=>{if(0===s.length)throw new de(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let y=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new de(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[l+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new de(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,l+=2}else"`"===D?(y=!y,l++):"."!==D||y?(s+=D,l++):(m(),l++)}if(m(),y)throw new de(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(r)}static emptyPath(){return new Hn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(ln.fromString(e))}static fromName(e){return new Ut(ln.fromString(e).popFirst(5))}static empty(){return new Ut(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return ln.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new ln(e.slice()))}}class gn{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function Dn(u){return u.fields.find(e=>2===e.kind)}function bn(u){return u.fields.filter(e=>2!==e.kind)}gn.UNKNOWN_ID=-1;class Er{constructor(e,r){this.fieldPath=e,this.kind=r}}class jn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new jn(0,an.min())}}function Yr(u,e){const r=u.toTimestamp().seconds,s=u.toTimestamp().nanoseconds+1,l=Lt.fromTimestamp(1e9===s?new Wt(r+1,0):new Wt(r,s));return new an(l,Ut.empty(),e)}function Ki(u){return new an(u.readTime,u.key,-1)}class an{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new an(Lt.min(),Ut.empty(),-1)}static max(){return new an(Lt.max(),Ut.empty(),-1)}}function Qr(u,e){let r=u.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ut.comparator(u.documentKey,e.documentKey),0!==r?r:Gt(u.largestBatchId,e.largestBatchId))}const Wn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Pn(u){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.A)(function*(u){if(u.code!==Pe.FAILED_PRECONDITION||u.message!==Wn)throw u;be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ze((s,l)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,l)},this.catchCallback=m=>{this.wrapFailure(r,m).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ze?r:ze.resolve(r)}catch(r){return ze.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ze.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ze.reject(r)}static resolve(e){return new ze((r,s)=>{r(e)})}static reject(e){return new ze((r,s)=>{s(e)})}static waitFor(e){return new ze((r,s)=>{let l=0,m=0,y=!1;e.forEach(D=>{++l,D.next(()=>{++m,y&&m===l&&r()},N=>s(N))}),y=!0,m===l&&r()})}static or(e){let r=ze.resolve(!1);for(const s of e)r=r.next(l=>l?ze.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,m)=>{s.push(r.call(this,l,m))}),this.waitFor(s)}static mapArray(e,r){return new ze((s,l)=>{const m=e.length,y=new Array(m);let D=0;for(let N=0;N<m;N++){const W=N;r(e[W]).next(re=>{y[W]=re,++D,D===m&&s(y)},re=>l(re))}})}static doWhile(e,r){return new ze((s,l)=>{const m=()=>{!0===e()?r().next(()=>{m()},l):s()};m()})}}class yt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Oe,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Kt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=ee(s.target.error);this.V.reject(new Kt(e,l))}}static open(e,r,s,l){try{return new yt(r,e.transaction(l,s))}catch(m){throw new Kt(r,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Tr(r)}}class ie{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ie.S((0,fe.ZQ)())&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return be("SimpleDb","Removing database:",e),sr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,fe.zW)())return!1;if(ie.C())return!0;const e=(0,fe.ZQ)(),r=ie.S(e),s=0<r&&r<10,l=Ie(e),m=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,c.A)(function*(){return r.db||(be("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=y=>{s(y.target.result)},m.onblocked=()=>{l(new Kt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=y=>{const D=y.target.error;l("VersionError"===D.name?new de(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new de(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Kt(e,D))},m.onupgradeneeded=y=>{be("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.p.O(y.target.result,m.transaction,y.oldVersion,r.version).next(()=>{be("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var m=this;return(0,c.A)(function*(){const y="readonly"===r;let D=0;for(;;){++D;try{m.db=yield m.M(e);const N=yt.open(m.db,e,y?"readonly":"readwrite",s),W=l(N).next(re=>(N.g(),re)).catch(re=>(N.abort(re),ze.reject(re))).toPromise();return W.catch(()=>{}),yield N.m,W}catch(N){const W=N,re="FirebaseError"!==W.name&&D<3;if(be("SimpleDb","Transaction failed with error:",W.message,"Retrying:",re),m.close(),!re)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ie(u){const e=u.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class pt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return sr(this.B.delete())}}class Kt extends de{constructor(e,r){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function xn(u){return"IndexedDbTransactionError"===u.name}class Tr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(be("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),sr(s)}add(e){return be("SimpleDb","ADD",this.store.name,e,e),sr(this.store.add(e))}get(e){return sr(this.store.get(e)).next(r=>(void 0===r&&(r=null),be("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return be("SimpleDb","DELETE",this.store.name,e),sr(this.store.delete(e))}count(){return be("SimpleDb","COUNT",this.store.name),sr(this.store.count())}U(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const m=l.getAll(s.range);return new ze((y,D)=>{m.onerror=N=>{D(N.target.error)},m.onsuccess=N=>{y(N.target.result)}})}{const m=this.cursor(s),y=[];return this.W(m,(D,N)=>{y.push(N)}).next(()=>y)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new ze((l,m)=>{s.onerror=y=>{m(y.target.error)},s.onsuccess=y=>{l(y.target.result)}})}j(e,r){be("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const l=this.cursor(s);return this.W(l,(m,y,D)=>D.delete())}J(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.W(l,r)}Y(e){const r=this.cursor({});return new ze((s,l)=>{r.onerror=m=>{const y=ee(m.target.error);l(y)},r.onsuccess=m=>{const y=m.target.result;y?e(y.primaryKey,y.value).next(D=>{D?y.continue():s()}):s()}})}W(e,r){const s=[];return new ze((l,m)=>{e.onerror=y=>{m(y.target.error)},e.onsuccess=y=>{const D=y.target.result;if(!D)return void l();const N=new pt(D),W=r(D.primaryKey,D.value,N);if(W instanceof ze){const re=W.catch(ge=>(N.done(),ze.reject(ge)));s.push(re)}N.isDone?l():null===N.K?D.continue():D.continue(N.K)}}).next(()=>ze.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function sr(u){return new ze((e,r)=>{u.onsuccess=s=>{e(s.target.result)},u.onerror=s=>{const l=ee(s.target.error);r(l)}})}let Re=!1;function ee(u){const e=ie.S((0,fe.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(r)>=0){const s=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Re||(Re=!0,setTimeout(()=>{throw s},0)),s}}return u}class H{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;be("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.A)(function*(){r.task=null;try{be("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){xn(s)?be("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Pn(s)}yield r.X(6e4)}))}}class V{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,c.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let l=r,m=!0;return ze.doWhile(()=>!0===m&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return be("IndexBackfiller",`Processing collection: ${y}`),this.ne(e,y,l).next(D=>{l-=D,s.add(y)});m=!1})).next(()=>r-l)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(m=>{const y=m.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.re(l,m)).next(D=>(be("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,r,D))).next(()=>y.size)}))}re(e,r){let s=e;return r.changes.forEach((l,m)=>{const y=Ki(m);Qr(y,s)>0&&(s=y)}),new an(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class u{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.ie(l),this.se=l=>s.writeSequenceNumber(l))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function ue(u){return null==u}function Le(u){return 0===u&&1/u==-1/0}function le(u){return"number"==typeof u&&Number.isInteger(u)&&!Le(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function qe(u){let e="";for(let r=0;r<u.length;r++)e.length>0&&(e=ot(e)),e=_e(u.get(r),e);return ot(e)}function _e(u,e){let r=e;const s=u.length;for(let l=0;l<s;l++){const m=u.charAt(l);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function ot(u){return u+"\x01\x01"}function Xe(u){const e=u.length;if(Bt(e>=2),2===e)return Bt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),ln.emptyPath();const r=e-2,s=[];let l="";for(let m=0;m<e;){const y=u.indexOf("\x01",m);switch((y<0||y>r)&&Mt(),u.charAt(y+1)){case"\x01":const D=u.substring(m,y);let N;0===l.length?N=D:(l+=D,N=l,l=""),s.push(N);break;case"\x10":l+=u.substring(m,y),l+="\0";break;case"\x11":l+=u.substring(m,y+1);break;default:Mt()}m=y+2}return new ln(s)}const Rn=["userId","batchId"];function En(u,e){return[u,qe(e)]}function Zr(u,e,r){return[u,qe(e),r]}const Cr={},Xo=["prefixPath","collectionGroup","readTime","documentId"],ci=["prefixPath","collectionGroup","documentId"],no=["collectionGroup","readTime","prefixPath","documentId"],Oi=["canonicalId","targetId"],ii=["targetId","path"],nr=["path","targetId"],gt=["collectionId","parent"],tt=["indexId","uid"],Pt=["uid","sequenceNumber"],dn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wn=["indexId","uid","orderedDocumentKey"],Fn=["userId","collectionPath","documentId"],Nn=["userId","collectionPath","largestBatchId"],$r=["userId","collectionGroup","largestBatchId"],Or=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ni=[...Or,"documentOverlays"],Yo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sr=Yo,Is=[...Sr,"indexConfiguration","indexState","indexEntries"],ki=Is;class Ts extends gr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function yi(u,e){const r=lt(u);return ie.F(r._e,e)}function _a(u){let e=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e++;return e}function Oo(u,e){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e(r,u[r])}function zi(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class mr{constructor(e,r){this.comparator=e,this.root=r||Vr.EMPTY}insert(e,r){return new mr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ds(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ds(this.root,e,this.comparator,!1)}getReverseIterator(){return new ds(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ds(this.root,e,this.comparator,!0)}}class ds{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?s(e.key,r):1,r&&l&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,r,s,l,m){this.key=e,this.value=r,this.color=s??Vr.RED,this.left=l??Vr.EMPTY,this.right=m??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,m){return new Vr(e??this.key,r??this.value,s??this.color,l??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const m=s(e,l.key);return l=m<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===m?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Vr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(e,r,s,l,m){return this}insert(e,r,s){return new Vr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new jo(this.data.getIterator())}getIteratorFrom(e){return new jo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,m=s.getNext().key;if(0!==this.comparator(l,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Nr(this.comparator);return r.data=e,r}}class jo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uo(u){return u.hasNext()?u.getNext():void 0}class Bi{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Bi([])}unionWith(e){let r=new Nr(Hn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Bi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return In(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Eo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Os(){return typeof atob<"u"}class Li{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Eo("Invalid base64 string: "+m):m}}(e);return new Li(r)}static fromUint8Array(e){const r=function(l){let m="";for(let y=0;y<l.length;++y)m+=String.fromCharCode(l[y]);return m}(e);return new Li(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const oa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(u){if(Bt(!!u),"string"==typeof u){let e=0;const r=oa.exec(u);if(Bt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(u);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:oi(u.seconds),nanos:oi(u.nanos)}}function oi(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Co(u){return"string"==typeof u?Li.fromBase64String(u):Li.fromUint8Array(u)}function Qo(u){var e,r;return"server_timestamp"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ws(u){const e=u.mapValue.fields.__previous_value__;return Qo(e)?ws(e):e}function lo(u){const e=No(u.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}class os{constructor(e,r,s,l,m,y,D,N,W){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=D,this.longPollingOptions=N,this.useFetchStreams=W}}class Kn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Kn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kn&&e.projectId===this.projectId&&e.database===this.database}}const ui={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bi={nullValue:"NULL_VALUE"};function ho(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Qo(u)?4:Ur(u)?9007199254740991:10:Mt()}function Lr(u,e){if(u===e)return!0;const r=ho(u);if(r!==ho(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return lo(u).isEqual(lo(e));case 3:return function(l,m){if("string"==typeof l.timestampValue&&"string"==typeof m.timestampValue&&l.timestampValue.length===m.timestampValue.length)return l.timestampValue===m.timestampValue;const y=No(l.timestampValue),D=No(m.timestampValue);return y.seconds===D.seconds&&y.nanos===D.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return m=e,Co(u.bytesValue).isEqual(Co(m.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(l,m){return oi(l.geoPointValue.latitude)===oi(m.geoPointValue.latitude)&&oi(l.geoPointValue.longitude)===oi(m.geoPointValue.longitude)}(u,e);case 2:return function(l,m){if("integerValue"in l&&"integerValue"in m)return oi(l.integerValue)===oi(m.integerValue);if("doubleValue"in l&&"doubleValue"in m){const y=oi(l.doubleValue),D=oi(m.doubleValue);return y===D?Le(y)===Le(D):isNaN(y)&&isNaN(D)}return!1}(u,e);case 9:return In(u.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(l,m){const y=l.mapValue.fields||{},D=m.mapValue.fields||{};if(_a(y)!==_a(D))return!1;for(const N in y)if(y.hasOwnProperty(N)&&(void 0===D[N]||!Lr(y[N],D[N])))return!1;return!0}(u,e);default:return Mt()}var m}function Ii(u,e){return void 0!==(u.values||[]).find(r=>Lr(r,e))}function li(u,e){if(u===e)return 0;const r=ho(u),s=ho(e);if(r!==s)return Gt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Gt(u.booleanValue,e.booleanValue);case 2:return function(m,y){const D=oi(m.integerValue||m.doubleValue),N=oi(y.integerValue||y.doubleValue);return D<N?-1:D>N?1:D===N?0:isNaN(D)?isNaN(N)?0:-1:1}(u,e);case 3:return Fi(u.timestampValue,e.timestampValue);case 4:return Fi(lo(u),lo(e));case 5:return Gt(u.stringValue,e.stringValue);case 6:return function(m,y){const D=Co(m),N=Co(y);return D.compareTo(N)}(u.bytesValue,e.bytesValue);case 7:return function(m,y){const D=m.split("/"),N=y.split("/");for(let W=0;W<D.length&&W<N.length;W++){const re=Gt(D[W],N[W]);if(0!==re)return re}return Gt(D.length,N.length)}(u.referenceValue,e.referenceValue);case 8:return function(m,y){const D=Gt(oi(m.latitude),oi(y.latitude));return 0!==D?D:Gt(oi(m.longitude),oi(y.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return function(m,y){const D=m.values||[],N=y.values||[];for(let W=0;W<D.length&&W<N.length;++W){const re=li(D[W],N[W]);if(re)return re}return Gt(D.length,N.length)}(u.arrayValue,e.arrayValue);case 10:return function(m,y){if(m===ui.mapValue&&y===ui.mapValue)return 0;if(m===ui.mapValue)return 1;if(y===ui.mapValue)return-1;const D=m.fields||{},N=Object.keys(D),W=y.fields||{},re=Object.keys(W);N.sort(),re.sort();for(let ge=0;ge<N.length&&ge<re.length;++ge){const Ve=Gt(N[ge],re[ge]);if(0!==Ve)return Ve;const ht=li(D[N[ge]],W[re[ge]]);if(0!==ht)return ht}return Gt(N.length,re.length)}(u.mapValue,e.mapValue);default:throw Mt()}}function Fi(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return Gt(u,e);const r=No(u),s=No(e),l=Gt(r.seconds,s.seconds);return 0!==l?l:Gt(r.nanos,s.nanos)}function Hr(u){return qi(u)}function qi(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const s=No(r);return`time(${s.seconds},${s.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Co(u.bytesValue).toBase64():"referenceValue"in u?Ut.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let s="[",l=!0;for(const m of r.values||[])l?l=!1:s+=",",s+=qi(m);return s+"]"}(u.arrayValue):"mapValue"in u?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",m=!0;for(const y of s)m?m=!1:l+=",",l+=`${y}:${qi(r.fields[y])}`;return l+"}"}(u.mapValue):Mt()}function en(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function Vn(u){return!!u&&"integerValue"in u}function cr(u){return!!u&&"arrayValue"in u}function Ui(u){return!!u&&"nullValue"in u}function ro(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function di(u){return!!u&&"mapValue"in u}function bo(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return Oo(u.mapValue.fields,(r,s)=>e.mapValue.fields[r]=bo(s)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bo(u.arrayValue.values[r]);return e}return Object.assign({},u)}function Ur(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function ko(u){return"nullValue"in u?bi:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?en(Kn.empty(),Ut.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:Mt()}function Fo(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?en(Kn.empty(),Ut.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?ui:Mt()}function Gn(u,e){const r=li(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?-1:!u.inclusive&&e.inclusive?1:0}function Io(u,e){const r=li(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?1:!u.inclusive&&e.inclusive?-1:0}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!di(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(r)}setAll(e){let r=Hn.emptyPath(),s={},l=[];e.forEach((y,D)=>{if(!r.isImmediateParentOf(D)){const N=this.getFieldsMap(r);this.applyChanges(N,s,l),s={},l=[],r=D.popLast()}y?s[D.lastSegment()]=bo(y):l.push(D.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,s,l)}delete(e){const r=this.field(e.popLast());di(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];di(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){Oo(r,(l,m)=>e[l]=m);for(const l of s)delete e[l]}clone(){return new mi(bo(this.value))}}function Q(u){const e=[];return Oo(u.fields,(r,s)=>{const l=new Hn([r]);if(di(s)){const m=Q(s.mapValue).fields;if(0===m.length)e.push(l);else for(const y of m)e.push(l.child(y))}else e.push(l)}),new Bi(e)}class z{constructor(e,r,s,l,m,y,D){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=m,this.data=y,this.documentState=D}static newInvalidDocument(e){return new z(e,0,Lt.min(),Lt.min(),Lt.min(),mi.empty(),0)}static newFoundDocument(e,r,s,l){return new z(e,1,r,Lt.min(),s,l,0)}static newNoDocument(e,r){return new z(e,2,r,Lt.min(),Lt.min(),mi.empty(),0)}static newUnknownDocument(e,r){return new z(e,3,r,Lt.min(),Lt.min(),mi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof z&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new z(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ye{constructor(e,r){this.position=e,this.inclusive=r}}function xe(u,e,r){let s=0;for(let l=0;l<u.position.length;l++){const m=e[l],y=u.position[l];if(s=m.field.isKeyField()?Ut.comparator(Ut.fromName(y.referenceValue),r.key):li(y,r.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function Ke(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!Lr(u.position[r],e.position[r]))return!1;return!0}class bt{constructor(e,r="asc"){this.field=e,this.dir=r}}function Xt(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class fn{}class Ot extends fn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Yi(e,r,s):"array-contains"===r?new fr(e,s):"in"===r?new As(e,s):"not-in"===r?new Ti(e,s):"array-contains-any"===r?new Ds(e,s):new Ot(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new er(e,s):new Ei(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(li(r,this.value)):null!==r&&ho(this.value)===ho(r)&&this.matchesComparison(li(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends fn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new hn(e,r)}matches(e){return rr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rr(u){return"and"===u.op}function Sn(u){return"or"===u.op}function hi(u){return br(u)&&rr(u)}function br(u){for(const e of u.filters)if(e instanceof hn)return!1;return!0}function Kr(u){if(u instanceof Ot)return u.field.canonicalString()+u.op.toString()+Hr(u.value);if(hi(u))return u.filters.map(e=>Kr(e)).join(",");{const e=u.filters.map(r=>Kr(r)).join(",");return`${u.op}(${e})`}}function ei(u,e){return u instanceof Ot?(s=u,(l=e)instanceof Ot&&s.op===l.op&&s.field.isEqual(l.field)&&Lr(s.value,l.value)):u instanceof hn?function(s,l){return l instanceof hn&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((m,y,D)=>m&&ei(y,l.filters[D]),!0)}(u,e):void Mt();var s,l}function kr(u,e){const r=u.filters.concat(e);return hn.create(r,u.op)}function Xi(u){return u instanceof Ot?`${(r=u).field.canonicalString()} ${r.op} ${Hr(r.value)}`:u instanceof hn?function(r){return r.op.toString()+" {"+r.getFilters().map(Xi).join(" ,")+"}"}(u):"Filter";var r}class Yi extends Ot{constructor(e,r,s){super(e,r,s),this.key=Ut.fromName(s.referenceValue)}matches(e){const r=Ut.comparator(e.key,this.key);return this.matchesComparison(r)}}class er extends Ot{constructor(e,r){super(e,"in",r),this.keys=ti(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ei extends Ot{constructor(e,r){super(e,"not-in",r),this.keys=ti(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ti(u,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Ut.fromName(s.referenceValue))}class fr extends Ot{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return cr(r)&&Ii(r.arrayValue,this.value)}}class As extends Ot{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ii(this.value.arrayValue,r)}}class Ti extends Ot{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ii(this.value.arrayValue,r)}}class Ds extends Ot{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!cr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Ii(this.value.arrayValue,s))}}class fo{constructor(e,r=null,s=[],l=[],m=null,y=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=m,this.startAt=y,this.endAt=D,this.ue=null}}function va(u,e=null,r=[],s=[],l=null,m=null,y=null){return new fo(u,e,r,s,l,m,y)}function po(u){const e=lt(u);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Kr(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(m=s).field.canonicalString()+m.dir;var m}).join(","),ue(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Hr(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Hr(s)).join(",")),e.ue=r}return e.ue}function ss(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!Xt(u.orderBy[r],e.orderBy[r]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!ei(u.filters[r],e.filters[r]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!Ke(u.startAt,e.startAt)&&Ke(u.endAt,e.endAt)}function Qs(u){return Ut.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function sa(u,e){return u.filters.filter(r=>r instanceof Ot&&r.field.isEqual(e))}function $i(u,e,r){let s=bi,l=!0;for(const m of sa(u,e)){let y=bi,D=!0;switch(m.op){case"<":case"<=":y=ko(m.value);break;case"==":case"in":case">=":y=m.value;break;case">":y=m.value,D=!1;break;case"!=":case"not-in":y=bi}Gn({value:s,inclusive:l},{value:y,inclusive:D})<0&&(s=y,l=D)}if(null!==r)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(e)){const y=r.position[m];Gn({value:s,inclusive:l},{value:y,inclusive:r.inclusive})<0&&(s=y,l=r.inclusive);break}return{value:s,inclusive:l}}function Ns(u,e,r){let s=ui,l=!0;for(const m of sa(u,e)){let y=ui,D=!0;switch(m.op){case">=":case">":y=Fo(m.value),D=!1;break;case"==":case"in":case"<=":y=m.value;break;case"<":y=m.value,D=!1;break;case"!=":case"not-in":y=ui}Io({value:s,inclusive:l},{value:y,inclusive:D})>0&&(s=y,l=D)}if(null!==r)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(e)){const y=r.position[m];Io({value:s,inclusive:l},{value:y,inclusive:r.inclusive})>0&&(s=y,l=r.inclusive);break}return{value:s,inclusive:l}}class ks{constructor(e,r=null,s=[],l=[],m=null,y="F",D=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=m,this.limitType=y,this.startAt=D,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function Oc(u,e,r,s,l,m,y,D){return new ks(u,e,r,s,l,m,y,D)}function Gr(u){return new ks(u)}function aa(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function Da(u){return null!==u.collectionGroup}function G(u){const e=lt(u);if(null===e.ce){e.ce=[];const r=new Set;for(const m of e.explicitOrderBy)e.ce.push(m),r.add(m.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let D=new Nr(Hn.comparator);return y.filters.forEach(N=>{N.getFlattenedFilters().forEach(W=>{W.isInequality()&&(D=D.add(W.field))})}),D})(e).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||e.ce.push(new bt(m,s))}),r.has(Hn.keyField().canonicalString())||e.ce.push(new bt(Hn.keyField(),s))}return e.ce}function X(u){const e=lt(u);return e.le||(e.le=function oe(u,e){if("F"===u.limitType)return va(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(l=>new bt(l.field,"desc"===l.dir?"asc":"desc"));const r=u.endAt?new ye(u.endAt.position,u.endAt.inclusive):null,s=u.startAt?new ye(u.startAt.position,u.startAt.inclusive):null;return va(u.path,u.collectionGroup,e,u.filters,u.limit,r,s)}}(e,G(u))),e.le}function Ne(u,e){const r=u.filters.concat([e]);return new ks(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function _n(u,e,r){return new ks(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,r,u.startAt,u.endAt)}function Bn(u,e){return ss(X(u),X(e))&&u.limitType===e.limitType}function io(u){return`${po(X(u))}|lt:${u.limitType}`}function go(u){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Xi(l)).join(", ")}]`),ue(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(y=l).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>Hr(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>Hr(l)).join(",")),`Target(${s})`}(X(u))}; limitType=${u.limitType})`}function oo(u,e){return e.isFoundDocument()&&function(s,l){const m=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(m):Ut.isDocumentKey(s.path)?s.path.isEqual(m):s.path.isImmediateParentOf(m)}(u,e)&&function(s,l){for(const m of G(s))if(!m.field.isKeyField()&&null===l.data.field(m.field))return!1;return!0}(u,e)&&function(s,l){for(const m of s.filters)if(!m.matches(l))return!1;return!0}(u,e)&&(l=e,!((s=u).startAt&&!function(y,D,N){const W=xe(y,D,N);return y.inclusive?W<=0:W<0}(s.startAt,G(s),l)||s.endAt&&!function(y,D,N){const W=xe(y,D,N);return y.inclusive?W>=0:W>0}(s.endAt,G(s),l)));var s,l}function as(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Bo(u){return(e,r)=>{let s=!1;for(const l of G(u)){const m=$o(l,e,r);if(0!==m)return m;s=s||l.field.isKeyField()}return 0}}function $o(u,e,r){const s=u.field.isKeyField()?Ut.comparator(e.key,r.key):function(m,y,D){const N=y.data.field(m),W=D.data.field(m);return null!==N&&null!==W?li(N,W):Mt()}(u.field,e,r);switch(u.dir){case"asc":return s;case"desc":return-1*s;default:return Mt()}}class So{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,m]of s)if(this.equalsFn(l,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let m=0;m<l.length;m++)if(this.equalsFn(l[m][0],e))return void(l[m]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(r,s)=>{for(const[l,m]of s)e(l,m)})}isEmpty(){return zi(this.inner)}size(){return this.innerSize}}const mu=new mr(Ut.comparator);function ni(){return mu}const ya=new mr(Ut.comparator);function Wi(...u){let e=ya;for(const r of u)e=e.insert(r.key,r);return e}function Nc(u){let e=ya;return u.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function To(){return cs()}function Fs(){return cs()}function cs(){return new So(u=>u.toString(),(u,e)=>u.isEqual(e))}const Ea=new mr(Ut.comparator),Vs=new Nr(Ut.comparator);function ir(...u){let e=Vs;for(const r of u)e=e.add(r);return e}const Sa=new Nr(Gt);function Js(){return Sa}function Ka(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Le(e)?"-0":e}}function qa(u){return{integerValue:""+u}}function Ca(u,e){return le(e)?qa(e):Ka(u,e)}class hs{constructor(){this._=void 0}}function Ls(u,e,r){return u instanceof xa?function(l,m){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return m&&Qo(m)&&(m=ws(m)),m&&(y.fields.__previous_value__=m),{mapValue:y}}(r,e):u instanceof ca?Ya(u,e):u instanceof Us?Fl(u,e):function(l,m){const y=kc(l,m),D=Pa(y)+Pa(l.Pe);return Vn(y)&&Vn(l.Pe)?qa(D):Ka(l.serializer,D)}(u,e)}function Xa(u,e,r){return u instanceof ca?Ya(u,e):u instanceof Us?Fl(u,e):r}function kc(u,e){return u instanceof Zs?Vn(s=e)||(m=s)&&"doubleValue"in m?e:{integerValue:0}:null;var s,m}class xa extends hs{}class ca extends hs{constructor(e){super(),this.elements=e}}function Ya(u,e){const r=Yu(e);for(const s of u.elements)r.some(l=>Lr(l,s))||r.push(s);return{arrayValue:{values:r}}}class Us extends hs{constructor(e){super(),this.elements=e}}function Fl(u,e){let r=Yu(e);for(const s of u.elements)r=r.filter(l=>!Lr(l,s));return{arrayValue:{values:r}}}class Zs extends hs{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Pa(u){return oi(u.integerValue||u.doubleValue)}function Yu(u){return cr(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class ua{constructor(e,r){this.field=e,this.transform=r}}class vu{constructor(e,r){this.version=e,this.transformResults=r}}class wi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function S(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class J{}function U(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new _i(u.key,wi.none()):new vn(u.key,u.data,wi.none());{const r=u.data,s=mi.empty();let l=new Nr(Hn.comparator);for(let m of e.fields)if(!l.has(m)){let y=r.field(m);null===y&&m.length>1&&(m=m.popLast(),y=r.field(m)),null===y?s.delete(m):s.set(m,y),l=l.add(m)}return new Pr(u.key,s,new Bi(l.toArray()),wi.none())}}function Y(u,e,r){u instanceof vn?function(l,m,y){const D=l.value.clone(),N=jr(l.fieldTransforms,m,y.transformResults);D.setAll(N),m.convertToFoundDocument(y.version,D).setHasCommittedMutations()}(u,e,r):u instanceof Pr?function(l,m,y){if(!S(l.precondition,m))return void m.convertToUnknownDocument(y.version);const D=jr(l.fieldTransforms,m,y.transformResults),N=m.data;N.setAll(zr(l)),N.setAll(D),m.convertToFoundDocument(y.version,N).setHasCommittedMutations()}(u,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Te(u,e,r,s){return u instanceof vn?function(m,y,D,N){if(!S(m.precondition,y))return D;const W=m.value.clone(),re=yr(m.fieldTransforms,N,y);return W.setAll(re),y.convertToFoundDocument(y.version,W).setHasLocalMutations(),null}(u,e,r,s):u instanceof Pr?function(m,y,D,N){if(!S(m.precondition,y))return D;const W=yr(m.fieldTransforms,N,y),re=y.data;return re.setAll(zr(m)),re.setAll(W),y.convertToFoundDocument(y.version,re).setHasLocalMutations(),null===D?null:D.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(ge=>ge.field))}(u,e,r,s):(D=r,S(u.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):D);var y,D}function Ct(u,e){let r=null;for(const s of u.fieldTransforms){const l=e.data.field(s.field),m=kc(s.transform,l||null);null!=m&&(null===r&&(r=mi.empty()),r.set(s.field,m))}return r||null}function kt(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=u.fieldTransforms)&&void 0===l||s&&l&&In(s,l,(m,y)=>function _u(u,e){return u.field.isEqual(e.field)&&(l=e.transform,(s=u.transform)instanceof ca&&l instanceof ca||s instanceof Us&&l instanceof Us?In(s.elements,l.elements,Lr):s instanceof Zs&&l instanceof Zs?Lr(s.Pe,l.Pe):s instanceof xa&&l instanceof xa);var s,l}(m,y))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var s,l}class vn extends J{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Pr extends J{constructor(e,r,s,l,m=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function zr(u){const e=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=u.data.field(r);e.set(r,s)}}),e}function jr(u,e,r){const s=new Map;Bt(u.length===r.length);for(let l=0;l<r.length;l++){const m=u[l],y=m.transform,D=e.data.field(m.field);s.set(m.field,Xa(y,D,r[l]))}return s}function yr(u,e,r){const s=new Map;for(const l of u){const m=l.transform,y=r.data.field(l.field);s.set(l.field,Ls(m,y,e))}return s}class _i extends J{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wr extends J{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pi{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const m=this.mutations[l];m.key.isEqual(e.key)&&Y(m,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Te(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Te(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Fs();return this.mutations.forEach(l=>{const m=e.get(l.key),y=m.overlayedDocument;let D=this.applyToLocalView(y,m.mutatedFields);D=r.has(l.key)?null:D;const N=U(y,D);null!==N&&s.set(l.key,N),y.isValidDocument()||y.convertToNoDocument(Lt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ir())}isEqual(e){return this.batchId===e.batchId&&In(this.mutations,e.mutations,(r,s)=>kt(r,s))&&In(this.baseMutations,e.baseMutations,(r,s)=>kt(r,s))}}class wo{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Bt(e.mutations.length===s.length);let l=Ea;const m=e.mutations;for(let y=0;y<m.length;y++)l=l.insert(m[y].key,s[y].version);return new wo(e,r,s,l)}}class Ho{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Go{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ai,Yn;function fs(u){switch(u){default:return Mt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function Qu(u){if(void 0===u)return Jt("GRPC error has no .code"),Pe.UNKNOWN;switch(u){case Ai.OK:return Pe.OK;case Ai.CANCELLED:return Pe.CANCELLED;case Ai.UNKNOWN:return Pe.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return Pe.INTERNAL;case Ai.UNAVAILABLE:return Pe.UNAVAILABLE;case Ai.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Ai.NOT_FOUND:return Pe.NOT_FOUND;case Ai.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Ai.ABORTED:return Pe.ABORTED;case Ai.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Ai.DATA_LOSS:return Pe.DATA_LOSS;default:return Mt()}}(Yn=Ai||(Ai={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";function us(){return new TextEncoder}const Ss=new Fe([4294967295,4294967295],0);function Qi(u){const e=us().encode(u),r=new Ue;return r.update(e),new Uint8Array(r.digest())}function Ju(u){const e=new DataView(u.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Fe([r,s],0),new Fe([l,m],0)]}class Qa{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new ps(`Invalid padding: ${r}`);if(s<0)throw new ps(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new ps(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new ps(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Fe.fromNumber(this.Ie)}Ee(e,r,s){let l=e.add(r.multiply(Fe.fromNumber(s)));return 1===l.compare(Ss)&&(l=new Fe([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Qi(e),[s,l]=Ju(r);for(let m=0;m<this.hashCount;m++){const y=this.Ee(s,l,m);if(!this.de(y))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),y=new Qa(m,l,r);return s.forEach(D=>y.insert(D)),y}insert(e){if(0===this.Ie)return;const r=Qi(e),[s,l]=Ju(r);for(let m=0;m<this.hashCount;m++){const y=this.Ee(s,l,m);this.Ae(y)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class ps extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ci{constructor(e,r,s,l,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ci(Lt.min(),l,new mr(Gt),ni(),ir())}}class Ja{constructor(e,r,s,l,m){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Ja(s,r,ir(),ir(),ir())}}class yu{constructor(e,r,s,l){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=l}}class Jo{constructor(e,r){this.targetId=e,this.me=r}}class Ji{constructor(e,r,s=Li.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class Zi{constructor(){this.fe=0,this.ge=Vl(),this.pe=Li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ir(),r=ir(),s=ir();return this.ge.forEach((l,m)=>{switch(m){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Mt()}}),new Ja(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Vl()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Fc{constructor(e){this.Le=e,this.Be=new Map,this.ke=ni(),this.qe=Eu(),this.Qe=new mr(Gt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Mt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,s=e.me.count,l=this.Je(r);if(l){const m=l.target;if(Qs(m))if(0===s){const y=new Ut(m.path);this.Ue(r,y,z.newNoDocument(y,Lt.min()))}else Bt(1===s);else{const y=this.Ye(r);if(y!==s){const D=this.Ze(e),N=D?this.Xe(D,e,y):1;0!==N&&(this.je(r),this.Qe=this.Qe.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:m=0}=r;let y,D;try{y=Co(s).toUint8Array()}catch(N){if(N instanceof Eo)return cn("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{D=new Qa(y,l,m)}catch(N){return cn(N instanceof ps?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===D.Ie?null:D}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(m=>{const y=this.Le.tt(),D=`projects/${y.projectId}/databases/${y.database}/documents/${m.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,m,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((m,y)=>{const D=this.Je(y);if(D){if(m.current&&Qs(D.target)){const N=new Ut(D.target.path);null!==this.ke.get(N)||this.it(y,N)||this.Ue(y,N,z.newNoDocument(N,e))}m.be&&(r.set(y,m.Ce()),m.ve())}});let s=ir();this.qe.forEach((m,y)=>{let D=!0;y.forEachWhile(N=>{const W=this.Je(N);return!W||"TargetPurposeLimboResolution"===W.purpose||(D=!1,!1)}),D&&(s=s.add(m))}),this.ke.forEach((m,y)=>y.setReadTime(e));const l=new Ci(e,r,this.Qe,this.ke,s);return this.ke=ni(),this.qe=Eu(),this.Qe=new mr(Gt),l}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Zi,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Nr(Gt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||be("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zi),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Eu(){return new mr(Ut.comparator)}function Vl(){return new mr(Ut.comparator)}const Ll={asc:"ASCENDING",desc:"DESCENDING"},Ul={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qn={and:"AND",or:"OR"};class jl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Za(u,e){return u.useProto3Json||ue(e)?e:{value:e}}function zo(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zu(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function Cu(u,e){return zo(u,e.toTimestamp())}function eo(u){return Bt(!!u),Lt.fromTimestamp(function(r){const s=No(r);return new Wt(s.seconds,s.nanos)}(u))}function Ra(u,e){return Vc(u,e).canonicalString()}function Vc(u,e){const r=(l=u,new ln(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function bu(u){const e=ln.fromString(u);return Bt(Uc(e)),e}function Ma(u,e){return Ra(u.databaseId,e.path)}function gs(u,e){const r=bu(e);if(r.get(1)!==u.databaseId.projectId)throw new de(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new de(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new Ut(Lc(r))}function zd(u,e){return Ra(u.databaseId,e)}function $t(u){const e=bu(u);return 4===e.length?ln.emptyPath():Lc(e)}function St(u){return new ln(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Lc(u){return Bt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Oa(u,e,r){return{name:Ma(u,e),fields:r.value.mapValue.fields}}function Ao(u,e,r){const s=gs(u,e.name),l=eo(e.updateTime),m=e.createTime?eo(e.createTime):Lt.min(),y=new mi({mapValue:{fields:e.fields}}),D=z.newFoundDocument(s,l,m,y);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function Zo(u,e){let r;if(e instanceof vn)r={update:Oa(u,e.key,e.value)};else if(e instanceof _i)r={delete:Ma(u,e.key)};else if(e instanceof Pr)r={update:Oa(u,e.key,e.data),updateMask:$l(e.fieldMask)};else{if(!(e instanceof wr))return Mt();r={verify:Ma(u,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(m,y){const D=y.transform;if(D instanceof xa)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof ca)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Us)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Zs)return{fieldPath:y.field.canonicalString(),increment:D.Pe};throw Mt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Cu(u,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Mt()),r;var m}function Wo(u,e){const r=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?wi.updateTime(eo(m.updateTime)):void 0!==m.exists?wi.exists(m.exists):wi.none():wi.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(y,D){let N=null;"setToServerValue"in D?(Bt("REQUEST_TIME"===D.setToServerValue),N=new xa):"appendMissingElements"in D?N=new ca(D.appendMissingElements.values||[]):"removeAllFromArray"in D?N=new Us(D.removeAllFromArray.values||[]):"increment"in D?N=new Zs(y,D.increment):Mt();const W=Hn.fromServerFormat(D.fieldPath);return new ua(W,N)}(u,l)):[];var m;if(e.update){const l=gs(u,e.update.name),m=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new Bi((e.updateMask.fieldPaths||[]).map(re=>Hn.fromServerFormat(re)));return new Pr(l,m,y,r,s)}return new vn(l,m,r,s)}if(e.delete){const l=gs(u,e.delete);return new _i(l,r)}if(e.verify){const l=gs(u,e.verify);return new wr(l,r)}return Mt()}function zn(u,e){return{documents:[zd(u,e.path)]}}function ec(u,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=zd(u,l);const m=function(W){if(0!==W.length)return Bl(hn.create(W,"and"))}(e.filters);m&&(r.structuredQuery.where=m);const y=function(W){if(0!==W.length)return W.map(re=>{return{field:vs((Ve=re).field),direction:ea(Ve.dir)};var Ve})}(e.orderBy);y&&(r.structuredQuery.orderBy=y);const D=Za(u,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:l};var W}function es(u){let e=$t(u.parent);const r=u.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Bt(1===s);const re=r.from[0];re.allDescendants?l=re.collectionId:e=e.child(re.collectionId)}let m=[];r.where&&(m=function(ge){const Ve=Tu(ge);return Ve instanceof hn&&hi(Ve)?Ve.getFilters():[Ve]}(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(Ve=>{return new bt(tc((Ht=Ve).field),function(Yt){switch(Yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let D=null;r.limit&&(D=function(ge){let Ve;return Ve="object"==typeof ge?ge.value:ge,ue(Ve)?null:Ve}(r.limit));let N=null;var ge;r.startAt&&(N=new ye((ge=r.startAt).values||[],!!ge.before));let W=null;return r.endAt&&(W=function(ge){return new ye(ge.values||[],!ge.before)}(r.endAt)),Oc(e,l,y,m,D,"F",N,W)}function Tu(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=tc(r.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=tc(r.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=tc(r.unaryFilter.field);return Ot.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=tc(r.unaryFilter.field);return Ot.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(u):void 0!==u.fieldFilter?Ot.create(tc((r=u).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return hn.create(r.compositeFilter.filters.map(s=>Tu(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Mt()}}(r.compositeFilter.op))}(u):Mt();var r}function ea(u){return Ll[u]}function _s(u){return Ul[u]}function Wd(u){return Qn[u]}function vs(u){return{fieldPath:u.canonicalString()}}function tc(u){return Hn.fromServerFormat(u.fieldPath)}function Bl(u){return u instanceof Ot?function(r){if("=="===r.op){if(ro(r.value))return{unaryFilter:{field:vs(r.field),op:"IS_NAN"}};if(Ui(r.value))return{unaryFilter:{field:vs(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ro(r.value))return{unaryFilter:{field:vs(r.field),op:"IS_NOT_NAN"}};if(Ui(r.value))return{unaryFilter:{field:vs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(r.field),op:_s(r.op),value:r.value}}}(u):u instanceof hn?function(r){const s=r.getFilters().map(l=>Bl(l));return 1===s.length?s[0]:{compositeFilter:{op:Wd(r.op),filters:s}}}(u):Mt()}function $l(u){const e=[];return u.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Uc(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class ta{constructor(e,r,s,l,m=Lt.min(),y=Lt.min(),D=Li.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=D,this.expectedCount=N}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w{constructor(e){this.ct=e}}function I(u,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:M(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ma(m=u.ct,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:zo(m,y.version.toTimestamp()),createTime:zo(m,y.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:j(e.version)};else{if(!e.isUnknownDocument())return Mt();s.unknownDocument={path:r.path.toArray(),version:j(e.version)}}var m,y;return s}function M(u){const e=u.toTimestamp();return[e.seconds,e.nanoseconds]}function j(u){const e=u.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ne(u){const e=new Wt(u.seconds,u.nanoseconds);return Lt.fromTimestamp(e)}function Ce(u,e){const r=(e.baseMutations||[]).map(m=>Wo(u.ct,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const s=e.mutations.map(m=>Wo(u.ct,m)),l=Wt.fromMillis(e.localWriteTimeMs);return new Pi(e.batchId,l,r,s)}function _t(u){const e=ne(u.readTime),r=void 0!==u.lastLimboFreeSnapshotVersion?ne(u.lastLimboFreeSnapshotVersion):Lt.min();let s;return s=void 0!==u.query.documents?(Bt(1===(m=u.query).documents.length),X(Gr($t(m.documents[0])))):function(m){return X(es(m))}(u.query),new ta(s,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,e,r,Li.fromBase64String(u.resumeToken));var m}function ft(u,e){const r=j(e.snapshotVersion),s=j(e.lastLimboFreeSnapshotVersion);let l;l=Qs(e.target)?zn(u.ct,e.target):ec(u.ct,e.target)._t;const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:po(e.target),readTime:r,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function mn(u){const e=es({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?_n(e,e.limit,"L"):e}function pr(u,e){return new Ho(e.largestBatchId,Wo(u.ct,e.overlayMutation))}function Ir(u,e){const r=e.path.lastSegment();return[u,qe(e.path.popLast()),r]}function Ar(u,e,r,s){return{indexId:u,uid:e,sequenceNumber:r,readTime:j(s.readTime),documentKey:qe(s.documentKey.path),largestBatchId:s.largestBatchId}}class ri{getBundleMetadata(e,r){return nc(e).get(r).next(s=>{if(s)return{id:(m=s).bundleId,createTime:ne(m.createTime),version:m.version};var m})}saveBundleMetadata(e,r){return nc(e).put({bundleId:(l=r).id,createTime:j(eo(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return rc(e).get(r).next(s=>{if(s)return{name:(m=s).name,query:mn(m.bundledQuery),readTime:ne(m.readTime)};var m})}saveNamedQuery(e,r){return rc(e).put({name:(l=r).name,readTime:j(eo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function nc(u){return yi(u,"bundles")}function rc(u){return yi(u,"namedQueries")}class da{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new da(e,r.uid||"")}getOverlay(e,r){return na(e).get(Ir(this.userId,r)).next(s=>s?pr(this.serializer,s):null)}getOverlays(e,r){const s=To();return ze.forEach(r,l=>this.getOverlay(e,l).next(m=>{null!==m&&s.set(l,m)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((m,y)=>{const D=new Ho(r,y);l.push(this.ht(e,D))}),ze.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(y=>l.add(qe(y.getCollectionPath())));const m=[];return l.forEach(y=>{const D=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);m.push(na(e).j("collectionPathOverlayIndex",D))}),ze.waitFor(m)}getOverlaysForCollection(e,r,s){const l=To(),m=qe(r),y=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return na(e).U("collectionPathOverlayIndex",y).next(D=>{for(const N of D){const W=pr(this.serializer,N);l.set(W.getKey(),W)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const m=To();let y;const D=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return na(e).J({index:"collectionGroupOverlayIndex",range:D},(N,W,re)=>{const ge=pr(this.serializer,W);m.size()<l||ge.largestBatchId===y?(m.set(ge.getKey(),ge),y=ge.largestBatchId):re.done()}).next(()=>m)}ht(e,r){return na(e).put(function(l,m,y){const[D,N,W]=Ir(m,y.mutation.key);return{userId:m,collectionPath:N,documentId:W,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Zo(l.ct,y.mutation)}}(this.serializer,this.userId,r))}}function na(u){return yi(u,"documentOverlays")}class ba{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(oi(e.integerValue));else if("doubleValue"in e){const s=oi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Le(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=No(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Co(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Ur(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Mt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),Ut.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function ka(u){if(0===u)return 8;let e=0;return!(u>>4)&&(e+=4,u<<=4),!(u>>6)&&(e+=2,u<<=2),!(u>>7)&&(e+=1),e}function wu(u){const e=64-function(s){let l=0;for(let m=0;m<8;++m){const y=ka(255&s[m]);if(l+=y,8!==y)break}return l}(u);return Math.ceil(e/8)}ba.bt=new ba;class ic{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const r=this.Bt(e),s=wu(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Bt(e),s=wu(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(m){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,m,!1),new Uint8Array(y.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Kd{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Hl{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class xs{constructor(){this.Gt=new ic,this.zt=new Kd(this.Gt),this.jt=new Hl(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ys{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ys(this.indexId,this.documentKey,this.arrayValue,s)}}function ts(u,e){let r=u.indexId-e.indexId;return 0!==r?r:(r=Au(u.arrayValue,e.arrayValue),0!==r?r:(r=Au(u.directionalValue,e.directionalValue),0!==r?r:Ut.comparator(u.documentKey,e.documentKey)))}function Au(u,e){for(let r=0;r<u.length&&r<e.length;++r){const s=u[r]-e[r];if(0!==s)return s}return u.length-e.length}class el{constructor(e){this.Yt=new Nr((r,s)=>Hn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Bt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Dn(e);if(void 0!==r&&!this.nn(r))return!1;const s=bn(e);let l=new Set,m=0,y=0;for(;m<s.length&&this.nn(s[m]);++m)l=l.add(s[m].fieldPath.canonicalString());if(m===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const N=s[m];if(!this.rn(D,N)||!this.sn(this.Zt[y++],N))return!1}++m}for(;m<s.length;++m)if(y>=this.Zt.length||!this.sn(this.Zt[y++],s[m]))return!1;return!0}on(){if(this.en)return null;let e=new Nr(Hn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Er(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Er(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Er(s.field,"asc"===s.dir?0:1)));return new gn(gn.UNKNOWN_ID,this.collectionId,r,jn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function jc(u){var e,r;if(Bt(u instanceof Ot||u instanceof hn),u instanceof Ot){if(u instanceof As){const l=(null===(r=null===(e=u.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(m=>Ot.create(u.field,"==",m)))||[];return hn.create(l,"or")}return u}const s=u.filters.map(l=>jc(l));return hn.create(s,u.op)}function oc(u){if(0===u.getFilters().length)return[];const e=ha(jc(u));return Bt(bp(e)),Bc(e)||tl(e)?[e]:e.getFilters()}function Bc(u){return u instanceof Ot}function tl(u){return u instanceof hn&&hi(u)}function bp(u){return Bc(u)||tl(u)||function(r){if(r instanceof hn&&Sn(r)){for(const s of r.getFilters())if(!Bc(s)&&!tl(s))return!1;return!0}return!1}(u)}function ha(u){if(Bt(u instanceof Ot||u instanceof hn),u instanceof Ot)return u;if(1===u.filters.length)return ha(u.filters[0]);const e=u.filters.map(s=>ha(s));let r=hn.create(e,u.op);return r=$c(r),bp(r)?r:(Bt(r instanceof hn),Bt(rr(r)),Bt(r.filters.length>1),r.filters.reduce((s,l)=>Gl(s,l)))}function Gl(u,e){let r;return Bt(u instanceof Ot||u instanceof hn),Bt(e instanceof Ot||e instanceof hn),r=u instanceof Ot?e instanceof Ot?hn.create([u,e],"and"):qd(u,e):e instanceof Ot?qd(e,u):function(l,m){if(Bt(l.filters.length>0&&m.filters.length>0),rr(l)&&rr(m))return kr(l,m.getFilters());const y=Sn(l)?l:m,D=Sn(l)?m:l,N=y.filters.map(W=>Gl(W,D));return hn.create(N,"or")}(u,e),$c(r)}function qd(u,e){if(rr(e))return kr(e,u.getFilters());{const r=e.filters.map(s=>Gl(u,s));return hn.create(r,"or")}}function $c(u){if(Bt(u instanceof Ot||u instanceof hn),u instanceof Ot)return u;const e=u.getFilters();if(1===e.length)return $c(e[0]);if(br(u))return u;const r=e.map(l=>$c(l)),s=[];return r.forEach(l=>{l instanceof Ot?s.push(l):l instanceof hn&&(l.op===u.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:hn.create(s,u.op)}class Lg{constructor(){this._n=new zl}addToCollectionParentIndex(e,r){return this._n.add(r),ze.resolve()}getCollectionParents(e,r){return ze.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return ze.resolve()}deleteFieldIndex(e,r){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,r){return ze.resolve()}getDocumentsMatchingTarget(e,r){return ze.resolve(null)}getIndexType(e,r){return ze.resolve(0)}getFieldIndexes(e,r){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,r){return ze.resolve(an.min())}getMinOffsetFromCollectionGroup(e,r){return ze.resolve(an.min())}updateCollectionGroup(e,r,s){return ze.resolve()}updateIndexEntries(e,r){return ze.resolve()}}class zl{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new Nr(ln.comparator),m=!l.has(s);return this.index[r]=l.add(s),m}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Nr(ln.comparator)).toArray()}}const Hc=new Uint8Array(0);class nl{constructor(e,r){this.databaseId=r,this.an=new zl,this.un=new So(s=>po(s),(s,l)=>ss(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const m={collectionId:s,parent:qe(l)};return nf(e).put(m)}return ze.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[Un(r),""],!1,!0);return nf(e).U(l).next(m=>{for(const y of m){if(y.collectionId!==r)break;s.push(Xe(y.parent))}return s})}addFieldIndex(e,r){const s=sc(e),l={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var D;delete l.indexId;const m=s.add(l);if(r.indexState){const y=fa(e);return m.next(D=>{y.put(Ar(D,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(e,r){const s=sc(e),l=fa(e),m=Bs(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=sc(e),s=Bs(e),l=fa(e);return r.j().next(()=>s.j()).next(()=>l.j())}createTargetIndexes(e,r){return ze.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const m=new el(s).on();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,r){const s=Bs(e);let l=!0;const m=new Map;return ze.forEach(this.cn(r),y=>this.ln(e,y).next(D=>{l&&(l=!!D),m.set(y,D)})).next(()=>{if(l){let y=ir();const D=[];return ze.forEach(m,(N,W)=>{var Ln;be("IndexedDbIndexManager",`Using index ${Ln=N,`id=${Ln.indexId}|cg=${Ln.collectionGroup}|f=${Ln.fields.map(Dr=>`${Dr.fieldPath}:${Dr.kind}`).join(",")}`} to execute ${po(r)}`);const re=function(Ln,Dr){const Ri=Dn(Dr);if(void 0===Ri)return null;for(const qr of sa(Ln,Ri.fieldPath))switch(qr.op){case"array-contains-any":return qr.value.arrayValue.values||[];case"array-contains":return[qr.value]}return null}(W,N),ge=function(Ln,Dr){const Ri=new Map;for(const qr of bn(Dr))for(const nt of sa(Ln,qr.fieldPath))switch(nt.op){case"==":case"in":Ri.set(qr.fieldPath.canonicalString(),nt.value);break;case"not-in":case"!=":return Ri.set(qr.fieldPath.canonicalString(),nt.value),Array.from(Ri.values())}return null}(W,N),Ve=function(Ln,Dr){const Ri=[];let qr=!0;for(const nt of bn(Dr)){const Me=0===nt.kind?$i(Ln,nt.fieldPath,Ln.startAt):Ns(Ln,nt.fieldPath,Ln.startAt);Ri.push(Me.value),qr&&(qr=Me.inclusive)}return new ye(Ri,qr)}(W,N),ht=function(Ln,Dr){const Ri=[];let qr=!0;for(const nt of bn(Dr)){const Me=0===nt.kind?Ns(Ln,nt.fieldPath,Ln.endAt):$i(Ln,nt.fieldPath,Ln.endAt);Ri.push(Me.value),qr&&(qr=Me.inclusive)}return new ye(Ri,qr)}(W,N),Ht=this.hn(N,W,Ve),on=this.hn(N,W,ht),Yt=this.Pn(N,W,ge),kn=this.In(N.indexId,re,Ht,Ve.inclusive,on,ht.inclusive,Yt);return ze.forEach(kn,qn=>s.G(qn,r.limit).next(Ln=>{Ln.forEach(Dr=>{const Ri=Ut.fromSegments(Dr.documentKey);y.has(Ri)||(y=y.add(Ri),D.push(Ri))})}))}).next(()=>D)}return ze.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:oc(hn.create(e.filters,"and")).map(s=>va(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,m,y,D){const N=(null!=r?r.length:1)*Math.max(s.length,m.length),W=N/(null!=r?r.length:1),re=[];for(let ge=0;ge<N;++ge){const Ve=r?this.Tn(r[ge/W]):Hc,ht=this.En(e,Ve,s[ge%W],l),Ht=this.dn(e,Ve,m[ge%W],y),on=D.map(Yt=>this.En(e,Ve,Yt,!0));re.push(...this.createRange(ht,Ht,on))}return re}En(e,r,s,l){const m=new ys(e,Ut.empty(),r,s);return l?m:m.Jt()}dn(e,r,s,l){const m=new ys(e,Ut.empty(),r,s);return l?m.Jt():m}ln(e,r){const s=new el(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(m=>{let y=null;for(const D of m)s.tn(D)&&(!y||D.fields.length>y.fields.length)&&(y=D);return y})}getIndexType(e,r){let s=2;const l=this.cn(r);return ze.forEach(l,m=>this.ln(e,m).next(y=>{y?0!==s&&y.fields.length<function(N){let W=new Nr(Hn.comparator),re=!1;for(const ge of N.filters)for(const Ve of ge.getFlattenedFilters())Ve.field.isKeyField()||("array-contains"===Ve.op||"array-contains-any"===Ve.op?re=!0:W=W.add(Ve.field));for(const ge of N.orderBy)ge.field.isKeyField()||(W=W.add(ge.field));return W.size+(re?1:0)}(m)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new xs;for(const l of bn(e)){const m=r.data.field(l.fieldPath);if(null==m)return null;const y=s.Ht(l.kind);ba.bt.Pt(m,y)}return s.Wt()}Tn(e){const r=new xs;return ba.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new xs;return ba.bt.Pt(en(this.databaseId,r),s.Ht(function(m){const y=bn(m);return 0===y.length?0:y[y.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new xs);let m=0;for(const y of bn(e)){const D=s[m++];for(const N of l)if(this.Vn(r,y.fieldPath)&&cr(D))l=this.mn(l,y,D);else{const W=N.Ht(y.kind);ba.bt.Pt(D,W)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],m=[];for(const y of s.arrayValue.values||[])for(const D of l){const N=new xs;N.seed(D.Wt()),ba.bt.Pt(y,N.Ht(r.kind)),m.push(N)}return m}Vn(e,r){return!!e.filters.find(s=>s instanceof Ot&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=sc(e),l=fa(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(m=>{const y=[];return ze.forEach(m,D=>l.get([D.indexId,this.uid]).next(N=>{y.push(function(re,ge){const Ve=ge?new jn(ge.sequenceNumber,new an(ne(ge.readTime),new Ut(Xe(ge.documentKey)),ge.largestBatchId)):jn.empty(),ht=re.fields.map(([Ht,on])=>new Er(Hn.fromServerFormat(Ht),on));return new gn(re.indexId,re.collectionGroup,ht,Ve)}(D,N))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const m=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==m?m:Gt(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=sc(e),m=fa(e);return this.gn(e).next(y=>l.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(D=>ze.forEach(D,N=>m.put(Ar(N.indexId,this.uid,y,s)))))}updateIndexEntries(e,r){const s=new Map;return ze.forEach(r,(l,m)=>{const y=s.get(l.collectionGroup);return(y?ze.resolve(y):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),ze.forEach(D,N=>this.pn(e,l,N).next(W=>{const re=this.yn(m,N);return W.isEqual(re)?ze.resolve():this.wn(e,m,N,W,re)}))))})}Sn(e,r,s,l){return Bs(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return Bs(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=Bs(e);let m=new Nr(ts);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(y,D)=>{m=m.add(new ys(s.indexId,r,D.arrayValue,D.directionalValue))}).next(()=>m)}yn(e,r){let s=new Nr(ts);const l=this.An(r,e);if(null==l)return s;const m=Dn(r);if(null!=m){const y=e.data.field(m.fieldPath);if(cr(y))for(const D of y.arrayValue.values||[])s=s.add(new ys(r.indexId,e.key,this.Tn(D),l))}else s=s.add(new ys(r.indexId,e.key,Hc,l));return s}wn(e,r,s,l,m){be("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(N,W,re,ge,Ve){const ht=N.getIterator(),Ht=W.getIterator();let on=uo(ht),Yt=uo(Ht);for(;on||Yt;){let kn=!1,qn=!1;if(on&&Yt){const Ln=re(on,Yt);Ln<0?qn=!0:Ln>0&&(kn=!0)}else null!=on?qn=!0:kn=!0;kn?(ge(Yt),Yt=uo(Ht)):qn?(Ve(on),on=uo(ht)):(on=uo(ht),Yt=uo(Ht))}}(l,m,ts,D=>{y.push(this.Sn(e,r,s,D))},D=>{y.push(this.bn(e,r,s,D))}),ze.waitFor(y)}gn(e){let r=1;return fa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,m)=>{m.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((y,D)=>ts(y,D)).filter((y,D,N)=>!D||0!==ts(y,N[D-1]));const l=[];l.push(e);for(const y of s){const D=ts(y,e),N=ts(y,r);if(0===D)l[0]=e.Jt();else if(D>0&&N<0)l.push(y),l.push(y.Jt());else if(N>0)break}l.push(r);const m=[];for(let y=0;y<l.length;y+=2){if(this.Dn(l[y],l[y+1]))return[];m.push(IDBKeyRange.bound([l[y].indexId,this.uid,l[y].arrayValue,l[y].directionalValue,Hc,[]],[l[y+1].indexId,this.uid,l[y+1].arrayValue,l[y+1].directionalValue,Hc,[]]))}return m}Dn(e,r){return ts(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Ip)}getMinOffset(e,r){return ze.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||Mt())).next(Ip)}}function nf(u){return yi(u,"collectionParents")}function Bs(u){return yi(u,"indexEntries")}function sc(u){return yi(u,"indexConfiguration")}function fa(u){return yi(u,"indexState")}function Ip(u){Bt(0!==u.length);let e=u[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<u.length;s++){const l=u[s].indexState.offset;Qr(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new an(e.readTime,e.documentKey,r)}const rl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vo{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Vo(e,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rf(u,e,r){const s=u.store("mutations"),l=u.store("documentMutations"),m=[],y=IDBKeyRange.only(r.batchId);let D=0;const N=s.J({range:y},(re,ge,Ve)=>(D++,Ve.delete()));m.push(N.next(()=>{Bt(1===D)}));const W=[];for(const re of r.mutations){const ge=Zr(e,re.key.path,r.batchId);m.push(l.delete(ge)),W.push(re.key)}return ze.waitFor(m).next(()=>W)}function ns(u){if(!u)return 0;let e;if(u.document)e=u.document;else if(u.unknownDocument)e=u.unknownDocument;else{if(!u.noDocument)throw Mt();e=u.noDocument}return JSON.stringify(e).length}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class Wl{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){Bt(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Wl(m,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).J({index:"userMutationsIndex",range:s},(l,m,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const m=Fa(e),y=ls(e);return y.add({}).next(D=>{Bt("number"==typeof D);const N=new Pi(D,r,s,l),W=function(ht,Ht,on){const Yt=on.baseMutations.map(qn=>Zo(ht.ct,qn)),kn=on.mutations.map(qn=>Zo(ht.ct,qn));return{userId:Ht,batchId:on.batchId,localWriteTimeMs:on.localWriteTime.toMillis(),baseMutations:Yt,mutations:kn}}(this.serializer,this.userId,N),re=[];let ge=new Nr((Ve,ht)=>Gt(Ve.canonicalString(),ht.canonicalString()));for(const Ve of l){const ht=Zr(this.userId,Ve.key.path,D);ge=ge.add(Ve.key.path.popLast()),re.push(y.put(W)),re.push(m.put(ht,Cr))}return ge.forEach(Ve=>{re.push(this.indexManager.addToCollectionParentIndex(e,Ve))}),e.addOnCommittedListener(()=>{this.Cn[D]=N.keys()}),ze.waitFor(re).next(()=>N)})}lookupMutationBatch(e,r){return ls(e).get(r).next(s=>s?(Bt(s.userId===this.userId),Ce(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?ze.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return ls(e).J({index:"userMutationsIndex",range:l},(y,D,N)=>{D.userId===this.userId&&(Bt(D.batchId>=s),m=Ce(this.serializer,D)),N.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ls(e).J({index:"userMutationsIndex",range:r,reverse:!0},(l,m,y)=>{s=m.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).U("userMutationsIndex",r).next(s=>s.map(l=>Ce(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=En(this.userId,r.path),l=IDBKeyRange.lowerBound(s),m=[];return Fa(e).J({range:l},(y,D,N)=>{const[W,re,ge]=y,Ve=Xe(re);if(W===this.userId&&r.path.isEqual(Ve))return ls(e).get(ge).next(ht=>{if(!ht)throw Mt();Bt(ht.userId===this.userId),m.push(Ce(this.serializer,ht))});N.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Nr(Gt);const l=[];return r.forEach(m=>{const y=En(this.userId,m.path),D=IDBKeyRange.lowerBound(y),N=Fa(e).J({range:D},(W,re,ge)=>{const[Ve,ht,Ht]=W,on=Xe(ht);Ve===this.userId&&m.path.isEqual(on)?s=s.add(Ht):ge.done()});l.push(N)}),ze.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,m=En(this.userId,s),y=IDBKeyRange.lowerBound(m);let D=new Nr(Gt);return Fa(e).J({range:y},(N,W,re)=>{const[ge,Ve,ht]=N,Ht=Xe(Ve);ge===this.userId&&s.isPrefixOf(Ht)?Ht.length===l&&(D=D.add(ht)):re.done()}).next(()=>this.Fn(e,D))}Fn(e,r){const s=[],l=[];return r.forEach(m=>{l.push(ls(e).get(m).next(y=>{if(null===y)throw Mt();Bt(y.userId===this.userId),s.push(Ce(this.serializer,y))}))}),ze.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return rf(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),ze.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ze.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Fa(e).J({range:s},(m,y,D)=>{if(m[0]===this.userId){const N=Xe(m[1]);l.push(N)}else D.done()}).next(()=>{Bt(0===l.length)})})}containsKey(e,r){return il(e,this.userId,r)}xn(e){return Du(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function il(u,e,r){const s=En(e,r.path),l=s[1],m=IDBKeyRange.lowerBound(s);let y=!1;return Fa(u).J({range:m,H:!0},(D,N,W)=>{const[re,ge,Ve]=D;re===e&&ge===l&&(y=!0),W.done()}).next(()=>y)}function ls(u){return yi(u,"mutations")}function Fa(u){return yi(u,"documentMutations")}function Du(u){return yi(u,"mutationQueues")}class $s{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new $s(0)}static Ln(){return new $s(-1)}}class sf{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new $s(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Lt.fromTimestamp(new Wt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ac(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Bt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const m=[];return ac(e).J((y,D)=>{const N=_t(D);N.sequenceNumber<=r&&null===s.get(N.targetId)&&(l++,m.push(this.removeTargetData(e,N)))}).next(()=>ze.waitFor(m)).next(()=>l)}forEachTarget(e,r){return ac(e).J((s,l)=>{const m=_t(l);r(m)})}Bn(e){return Kl(e).get("targetGlobalKey").next(r=>(Bt(null!==r),r))}kn(e,r){return Kl(e).put("targetGlobalKey",r)}qn(e,r){return ac(e).put(ft(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=po(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return ac(e).J({range:l,index:"queryTargetsIndex"},(y,D,N)=>{const W=_t(D);ss(r,W.target)&&(m=W,N.done())}).next(()=>m)}addMatchingKeys(e,r,s){const l=[],m=Va(e);return r.forEach(y=>{const D=qe(y.path);l.push(m.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,y))}),ze.waitFor(l)}removeMatchingKeys(e,r,s){const l=Va(e);return ze.forEach(r,m=>{const y=qe(m.path);return ze.waitFor([l.delete([s,y]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,r){const s=Va(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Va(e);let m=ir();return l.J({range:s,H:!0},(y,D,N)=>{const W=Xe(y[1]),re=new Ut(W);m=m.add(re)}).next(()=>m)}containsKey(e,r){const s=qe(r.path),l=IDBKeyRange.bound([s],[Un(s)],!1,!0);let m=0;return Va(e).J({index:"documentTargetsIndex",H:!0,range:l},([y,D],N,W)=>{0!==y&&(m++,W.done())}).next(()=>m>0)}ot(e,r){return ac(e).get(r).next(s=>s?_t(s):null)}}function ac(u){return yi(u,"targets")}function Kl(u){return yi(u,"targetGlobal")}function Va(u){return yi(u,"targetDocuments")}function Xd([u,e],[r,s]){const l=Gt(u,r);return 0===l?Gt(e,s):l}class Yd{constructor(e){this.Kn=e,this.buffer=new Nr(Xd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Xd(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Gc{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){xn(s)?be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Pn(s)}yield r.zn(3e5)}))}}class ra{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return ze.resolve(F.oe);const s=new Yd(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(rl)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rl):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,m,y,D,N,W;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ge=>(ge>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ge}`),l=this.params.maximumSequenceNumbersToCollect):l=ge,y=Date.now(),this.nthSequenceNumber(e,l))).next(ge=>(s=ge,D=Date.now(),this.removeTargets(e,s,r))).next(ge=>(m=ge,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(ge=>(W=Date.now(),At()<=we.$b.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-re}ms\n\tDetermined least recently used ${l} in `+(D-y)+`ms\n\tRemoved ${m} targets in `+(N-D)+`ms\n\tRemoved ${ge} documents in `+(W-N)+`ms\nTotal Duration: ${W-re}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:m,documentsRemoved:ge})))}}class af{constructor(e,r){this.db=e,this.garbageCollector=function zc(u,e){return new ra(u,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return ol(e,s)}removeReference(e,r,s){return ol(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return ol(e,r)}er(e,r){return function(l,m){let y=!1;return Du(l).Y(D=>il(l,D,m).next(N=>(N&&(y=!0),ze.resolve(!N)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let m=0;return this.Xn(e,(y,D)=>{if(D<=r){const N=this.er(e,y).next(W=>{if(!W)return m++,s.getEntry(e,y).next(()=>(s.removeEntry(y,Lt.min()),Va(e).delete([0,qe(y.path)])))});l.push(N)}}).next(()=>ze.waitFor(l)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return ol(e,r)}Xn(e,r){const s=Va(e);let l,m=F.oe;return s.J({index:"documentTargetsIndex"},([y,D],{path:N,sequenceNumber:W})=>{0===y?(m!==F.oe&&r(new Ut(Xe(l)),m),m=W,l=N):m=F.oe}).next(()=>{m!==F.oe&&r(new Ut(Xe(l)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ol(u,e){return Va(u).put((l=u.currentSequenceNumber,{targetId:0,path:qe(e.path),sequenceNumber:l}));var l}class cc{constructor(){this.changes=new So(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,z.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?ze.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ia(e).put(s)}removeEntry(e,r,s){return Ia(e).delete(function(m,y){const D=m.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],M(y),D[D.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=z.newInvalidDocument(r);return Ia(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(r))},(l,m)=>{s=this.nr(r,m)}).next(()=>s)}rr(e,r){let s={size:0,document:z.newInvalidDocument(r)};return Ia(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(r))},(l,m)=>{s={document:this.nr(r,m),size:ns(m)}}).next(()=>s)}getEntries(e,r){let s=ni();return this.ir(e,r,(l,m)=>{const y=this.nr(l,m);s=s.insert(l,y)}).next(()=>s)}sr(e,r){let s=ni(),l=new mr(Ut.comparator);return this.ir(e,r,(m,y)=>{const D=this.nr(m,y);s=s.insert(m,D),l=l.insert(m,ns(y))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return ze.resolve();let l=new Nr(Su);r.forEach(N=>l=l.add(N));const m=IDBKeyRange.bound(Kc(l.first()),Kc(l.last())),y=l.getIterator();let D=y.getNext();return Ia(e).J({index:"documentKeyIndex",range:m},(N,W,re)=>{const ge=Ut.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;D&&Su(D,ge)<0;)s(D,null),D=y.getNext();D&&D.isEqual(ge)&&(s(D,W),D=y.hasNext()?y.getNext():null),D?re.$(Kc(D)):re.done()}).next(()=>{for(;D;)s(D,null),D=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,m){const y=r.path,D=[y.popLast().toArray(),y.lastSegment(),M(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ia(e).U(IDBKeyRange.bound(D,N,!0)).next(W=>{m?.incrementDocumentReadCount(W.length);let re=ni();for(const ge of W){const Ve=this.nr(Ut.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);Ve.isFoundDocument()&&(oo(r,Ve)||l.has(Ve.key))&&(re=re.insert(Ve.key,Ve))}return re})}getAllFromCollectionGroup(e,r,s,l){let m=ni();const y=qc(r,s),D=qc(r,an.max());return Ia(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,D,!0)},(N,W,re)=>{const ge=this.nr(Ut.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);m=m.insert(ge.key,ge),m.size===l&&re.done()}).next(()=>m)}newChangeBuffer(e){return new Qd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Wc(e).get("remoteDocumentGlobalKey").next(r=>(Bt(!!r),r))}tr(e,r){return Wc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function R(u,e){let r;if(e.document)r=Ao(u.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ut.fromSegments(e.noDocument.path),l=ne(e.noDocument.readTime);r=z.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const s=Ut.fromSegments(e.unknownDocument.path),l=ne(e.unknownDocument.version);r=z.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const m=new Wt(l[0],l[1]);return Lt.fromTimestamp(m)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Lt.min()))return s}return z.newInvalidDocument(e)}}function Ko(u){return new Tp(u)}class Qd extends cc{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new So(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new Nr((m,y)=>Gt(m.canonicalString(),y.canonicalString()));return this.changes.forEach((m,y)=>{const D=this.ur.get(m);if(r.push(this.ar.removeEntry(e,m,D.readTime)),y.isValidDocument()){const N=I(this.ar.serializer,y);l=l.add(m.path.popLast());const W=ns(N);s+=W-D.size,r.push(this.ar.addEntry(e,m,N))}else if(s-=D.size,this.trackRemovals){const N=I(this.ar.serializer,y.convertToNoDocument(Lt.min()));r.push(this.ar.addEntry(e,m,N))}}),l.forEach(m=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,m))}),r.push(this.ar.updateMetadata(e,s)),ze.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((m,y)=>{this.ur.set(m,{size:y,readTime:s.get(m).readTime})}),s))}}function Wc(u){return yi(u,"remoteDocumentGlobal")}function Ia(u){return yi(u,"remoteDocumentsV14")}function Kc(u){const e=u.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qc(u,e){const r=e.documentKey.path.toArray();return[u,M(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Su(u,e){const r=u.path.toArray(),s=e.path.toArray();let l=0;for(let m=0;m<r.length-2&&m<s.length-2;++m)if(l=Gt(r[m],s[m]),l)return l;return l=Gt(r.length,s.length),l||(l=Gt(r[r.length-2],s[s.length-2]),l||Gt(r[r.length-1],s[s.length-1]))}class xu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Ps{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&Te(s.mutation,l,Bi.empty(),Wt.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,ir()).next(()=>s))}getLocalViewOfDocuments(e,r,s=ir()){const l=To();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(m=>{let y=Wi();return m.forEach((D,N)=>{y=y.insert(D,N.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const s=To();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,ir()))}populateOverlays(e,r,s){const l=[];return s.forEach(m=>{r.has(m)||l.push(m)}),this.documentOverlayCache.getOverlays(e,l).next(m=>{m.forEach((y,D)=>{r.set(y,D)})})}computeViews(e,r,s,l){let m=ni();const y=cs(),D=cs();return r.forEach((N,W)=>{const re=s.get(W.key);l.has(W.key)&&(void 0===re||re.mutation instanceof Pr)?m=m.insert(W.key,W):void 0!==re?(y.set(W.key,re.mutation.getFieldMask()),Te(re.mutation,W,re.mutation.getFieldMask(),Wt.now())):y.set(W.key,Bi.empty())}),this.recalculateAndSaveOverlays(e,m).next(N=>(N.forEach((W,re)=>y.set(W,re)),r.forEach((W,re)=>{var ge;return D.set(W,new xu(re,null!==(ge=y.get(W))&&void 0!==ge?ge:null))}),D))}recalculateAndSaveOverlays(e,r){const s=cs();let l=new mr((y,D)=>y-D),m=ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const D of y)D.keys().forEach(N=>{const W=r.get(N);if(null===W)return;let re=s.get(N)||Bi.empty();re=D.applyToLocalView(W,re),s.set(N,re);const ge=(l.get(D.batchId)||ir()).add(N);l=l.insert(D.batchId,ge)})}).next(()=>{const y=[],D=l.getReverseIterator();for(;D.hasNext();){const N=D.getNext(),W=N.key,re=N.value,ge=Fs();re.forEach(Ve=>{if(!m.has(Ve)){const ht=U(r.get(Ve),s.get(Ve));null!==ht&&ge.set(Ve,ht),m=m.add(Ve)}}),y.push(this.documentOverlayCache.saveOverlays(e,W,ge))}return ze.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return Ut.isDocumentKey((y=r).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Da(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var y}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(m=>{const y=l-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-m.size):ze.resolve(To());let D=-1,N=m;return y.next(W=>ze.forEach(W,(re,ge)=>(D<ge.largestBatchId&&(D=ge.largestBatchId),m.get(re)?ze.resolve():this.remoteDocumentCache.getEntry(e,re).next(Ve=>{N=N.insert(re,Ve)}))).next(()=>this.populateOverlays(e,W,m)).next(()=>this.computeViews(e,N,W,ir())).next(re=>({batchId:D,changes:Nc(re)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ut(r)).next(s=>{let l=Wi();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const m=r.collectionGroup;let y=Wi();return this.indexManager.getCollectionParents(e,m).next(D=>ze.forEach(D,N=>{const W=(ge=r,Ve=N.child(m),new ks(Ve,null,ge.explicitOrderBy.slice(),ge.filters.slice(),ge.limit,ge.limitType,ge.startAt,ge.endAt));var ge,Ve;return this.getDocumentsMatchingCollectionQuery(e,W,s,l).next(re=>{re.forEach((ge,Ve)=>{y=y.insert(ge,Ve)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,r,s,l){let m;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(y=>(m=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,m,l))).next(y=>{m.forEach((N,W)=>{const re=W.getKey();null===y.get(re)&&(y=y.insert(re,z.newInvalidDocument(re)))});let D=Wi();return y.forEach((N,W)=>{const re=m.get(N);void 0!==re&&Te(re.mutation,W,Bi.empty(),Wt.now()),oo(r,W)&&(D=D.insert(N,W))}),D})}}class uc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return ze.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:eo(l.createTime)}),ze.resolve();var l}getNamedQuery(e,r){return ze.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:mn(l.bundledQuery),readTime:eo(l.readTime)}),ze.resolve();var l}}class Jd{constructor(){this.overlays=new mr(Ut.comparator),this.hr=new Map}getOverlay(e,r){return ze.resolve(this.overlays.get(r))}getOverlays(e,r){const s=To();return ze.forEach(r,l=>this.getOverlay(e,l).next(m=>{null!==m&&s.set(l,m)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,m)=>{this.ht(e,r,m)}),ze.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(m=>this.overlays=this.overlays.remove(m)),this.hr.delete(s)),ze.resolve()}getOverlaysForCollection(e,r,s){const l=To(),m=r.length+1,y=new Ut(r.child("")),D=this.overlays.getIteratorFrom(y);for(;D.hasNext();){const N=D.getNext().value,W=N.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===m&&N.largestBatchId>s&&l.set(N.getKey(),N)}return ze.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let m=new mr((W,re)=>W-re);const y=this.overlays.getIterator();for(;y.hasNext();){const W=y.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>s){let re=m.get(W.largestBatchId);null===re&&(re=To(),m=m.insert(W.largestBatchId,re)),re.set(W.getKey(),W)}}const D=To(),N=m.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((W,re)=>D.set(W,re)),!(D.size()>=l)););return ze.resolve(D)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const y=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new Ho(r,s));let m=this.hr.get(r);void 0===m&&(m=ir(),this.hr.set(r,m)),this.hr.set(r,m.add(s.key))}}class lc{constructor(){this.Pr=new Nr(so.Ir),this.Tr=new Nr(so.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new so(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new so(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Ut(new ln([])),s=new so(r,e),l=new so(r,e+1),m=[];return this.Tr.forEachInRange([s,l],y=>{this.Ar(y),m.push(y.key)}),m}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ut(new ln([])),s=new so(r,e),l=new so(r,e+1);let m=ir();return this.Tr.forEachInRange([s,l],y=>{m=m.add(y.key)}),m}containsKey(e){const r=new so(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class so{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ut.comparator(e.key,r.key)||Gt(e.pr,r.pr)}static Er(e,r){return Gt(e.pr,r.pr)||Ut.comparator(e.key,r.key)}}class wp{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Nr(so.Ir)}checkEmpty(e){return ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const m=this.yr;this.yr++;const y=new Pi(m,r,s,l);this.mutationQueue.push(y);for(const D of l)this.wr=this.wr.add(new so(D.key,m)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return ze.resolve(y)}lookupMutationBatch(e,r){return ze.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),m=l<0?0:l;return ze.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new so(r,0),l=new so(r,Number.POSITIVE_INFINITY),m=[];return this.wr.forEachInRange([s,l],y=>{const D=this.Sr(y.pr);m.push(D)}),ze.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Nr(Gt);return r.forEach(l=>{const m=new so(l,0),y=new so(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([m,y],D=>{s=s.add(D.pr)})}),ze.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let m=s;Ut.isDocumentKey(m)||(m=m.child(""));const y=new so(new Ut(m),0);let D=new Nr(Gt);return this.wr.forEachWhile(N=>{const W=N.key.path;return!!s.isPrefixOf(W)&&(W.length===l&&(D=D.add(N.pr)),!0)},y),ze.resolve(this.Dr(D))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Bt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return ze.forEach(r.mutations,l=>{const m=new so(l.key,r.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new so(r,0),l=this.wr.firstAfterOrEqual(s);return ze.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return ze.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ap{constructor(e){this.vr=e,this.docs=new mr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),m=l?l.size:0,y=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:y}),this.size+=y-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ze.resolve(s?s.document.mutableCopy():z.newInvalidDocument(r))}getEntries(e,r){let s=ni();return r.forEach(l=>{const m=this.docs.get(l);s=s.insert(l,m?m.document.mutableCopy():z.newInvalidDocument(l))}),ze.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let m=ni();const y=r.path,D=new Ut(y.child("")),N=this.docs.getIteratorFrom(D);for(;N.hasNext();){const{key:W,value:{document:re}}=N.getNext();if(!y.isPrefixOf(W.path))break;W.path.length>y.length+1||Qr(Ki(re),s)<=0||(l.has(re.key)||oo(r,re))&&(m=m.insert(re.key,re.mutableCopy()))}return ze.resolve(m)}getAllFromCollectionGroup(e,r,s,l){Mt()}Fr(e,r){return ze.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new cf(this)}getSize(e){return ze.resolve(this.size)}}class cf extends cc{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),ze.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Ug{constructor(e){this.persistence=e,this.Mr=new So(r=>po(r),ss),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lc,this.targetCount=0,this.Lr=$s.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),ze.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new $s(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,ze.resolve()}updateTargetData(e,r){return this.qn(r),ze.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,r,s){let l=0;const m=[];return this.Mr.forEach((y,D)=>{D.sequenceNumber<=r&&null===s.get(D.targetId)&&(this.Mr.delete(y),m.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),ze.waitFor(m).next(()=>l)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return ze.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),ze.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,m=[];return l&&r.forEach(y=>{m.push(l.markPotentiallyOrphaned(e,y))}),ze.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),ze.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return ze.resolve(s)}containsKey(e,r){return ze.resolve(this.Nr.containsKey(r))}}class uf{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ug(this),this.indexManager=new Lg,this.remoteDocumentCache=new Ap(s=>this.referenceDelegate.Kr(s)),this.serializer=new w(r),this.$r=new uc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Jd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new wp(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const l=new Dp(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(m=>this.referenceDelegate.Wr(l).next(()=>m)).toPromise().then(m=>(l.raiseOnCommittedEvent(),m))}Gr(e,r){return ze.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Dp extends gr{constructor(e){super(),this.currentSequenceNumber=e}}class ql{constructor(e){this.persistence=e,this.zr=new lc,this.jr=null}static Hr(e){return new ql(e)}get Jr(){if(this.jr)return this.jr;throw Mt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),ze.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),ze.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),ze.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(m=>this.Jr.add(m.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Jr,s=>{const l=Ut.fromPath(s);return this.Yr(e,l).next(m=>{m||r.removeEntry(l,Lt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return ze.or([()=>ze.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Pu{constructor(e){this.serializer=e}O(e,r,s,l){const m=new yt("createOrUpgrade",r);var N;s<1&&l>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rn,{unique:!0}),N.createObjectStore("documentMutations"),Yc(e),function(N){N.createObjectStore("remoteDocuments")}(e));let y=ze.resolve();return s<3&&l>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Yc(e)),y=y.next(()=>function(N){const W=N.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",re)}(m))),s<4&&l>=4&&(0!==s&&(y=y.next(()=>function(N,W){return W.store("mutations").U().next(re=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rn,{unique:!0});const ge=W.store("mutations"),Ve=re.map(ht=>ge.put(ht));return ze.waitFor(Ve)})}(e,m))),y=y.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(y=y.next(()=>this.Xr(m))),s<6&&l>=6&&(y=y.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.ei(m)))),s<7&&l>=7&&(y=y.next(()=>this.ti(m))),s<8&&l>=8&&(y=y.next(()=>this.ni(e,m))),s<9&&l>=9&&(y=y.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(y=y.next(()=>this.ri(m))),s<11&&l>=11&&(y=y.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(y=y.next(()=>{!function(N){const W=N.createObjectStore("documentOverlays",{keyPath:Fn});W.createIndex("collectionPathOverlayIndex",Nn,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",$r,{unique:!1})}(e)})),s<13&&l>=13&&(y=y.next(()=>function(N){const W=N.createObjectStore("remoteDocumentsV14",{keyPath:Xo});W.createIndex("documentKeyIndex",ci),W.createIndex("collectionGroupIndex",no)}(e)).next(()=>this.ii(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(y=y.next(()=>this.si(e,m))),s<15&&l>=15&&(y=y.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:tt}).createIndex("sequenceNumberIndex",Pt,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:dn}).createIndex("documentKeyIndex",wn,{unique:!1})}(e))),s<16&&l>=16&&(y=y.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),y}ei(e){let r=0;return e.store("remoteDocuments").J((s,l)=>{r+=ns(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(l=>ze.forEach(l,m=>{const y=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",y).next(D=>ze.forEach(D,N=>{Bt(N.userId===m.userId);const W=Ce(this.serializer,N);return rf(e,m.userId,W).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const m=[];return s.J((y,D)=>{const N=new ln(y),W=[0,qe(N)];m.push(r.get(W).next(re=>re?ze.resolve():r.put({targetId:0,path:qe(N),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ze.waitFor(m))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:gt});const s=r.store("collectionParents"),l=new zl,m=y=>{if(l.add(y)){const D=y.lastSegment(),N=y.popLast();return s.put({collectionId:D,parent:qe(N)})}};return r.store("remoteDocuments").J({H:!0},(y,D)=>{const N=new ln(y);return m(N.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([y,D,N],W)=>{const re=Xe(D);return m(re.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,l)=>{const m=_t(l),y=ft(this.serializer,m);return r.put(y)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.J((m,y)=>{const D=r.store("remoteDocumentsV14"),N=(ge=y,ge.document?new Ut(ln.fromString(ge.document.name).popFirst(5)):ge.noDocument?Ut.fromSegments(ge.noDocument.path):ge.unknownDocument?Ut.fromSegments(ge.unknownDocument.path):Mt()).path.toArray(),W={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var ge;l.push(D.put(W))}).next(()=>ze.waitFor(l))}si(e,r){const s=r.store("mutations"),l=Ko(this.serializer),m=new uf(ql.Hr,this.serializer.ct);return s.U().next(y=>{const D=new Map;return y.forEach(N=>{var W;let re=null!==(W=D.get(N.userId))&&void 0!==W?W:ir();Ce(this.serializer,N).keys().forEach(ge=>re=re.add(ge)),D.set(N.userId,re)}),ze.forEach(D,(N,W)=>{const re=new at(W),ge=da.lt(this.serializer,re),Ve=m.getIndexManager(re),ht=Wl.lt(re,this.serializer,Ve,m.referenceDelegate);return new Ps(l,ht,ge,Ve).recalculateAndSaveOverlaysForDocumentKeys(new Ts(r,F.oe),N).next()})})}}function Yc(u){u.createObjectStore("targetDocuments",{keyPath:ii}).createIndex("documentTargetsIndex",nr,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oi,{unique:!0}),u.createObjectStore("targetGlobal")}const Zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Do{constructor(e,r,s,l,m,y,D,N,W,re,ge=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=m,this.window=y,this.document=D,this._i=W,this.ai=re,this.ui=ge,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ve=>Promise.resolve(),!Do.D())throw new de(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new af(this,l),this.Ti=r+"main",this.serializer=new w(N),this.Ei=new ie(this.Ti,this.ui,new Pu(this.serializer)),this.Qr=new sf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ko(this.serializer),this.$r=new ri,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===re&&Jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(Pe.FAILED_PRECONDITION,Zd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,c.A)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,c.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,c.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(xn(e))return be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return sl(e).get("owner").next(r=>ze.resolve(this.Si(r)))}bi(e){return dc(e).delete(this.clientId)}Di(){var e=this;return(0,c.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=yi(s,"clientMetadata");return l.U().next(m=>{const y=e.vi(m,18e5),D=m.filter(N=>-1===y.indexOf(N));return ze.forEach(D,N=>l.delete(N.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ze.resolve(!0):sl(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new de(Pe.FAILED_PRECONDITION,Zd);return!1}}return!(!this.networkEnabled||!this.inForeground)||dc(e).U().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&be("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,c.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Ts(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>dc(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Wl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nl(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return da.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){be("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",m=16===(N=this.ui)?ki:15===N?Is:14===N?Sr:13===N?Yo:12===N?Ni:11===N?Or:void Mt();var N;let y;return this.Ei.runTransaction(e,l,m,D=>(y=new Ts(D,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(y).next(N=>!!N||this.pi(y)).next(N=>{if(!N)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new de(Pe.FAILED_PRECONDITION,Wn);return s(y)}).next(N=>this.wi(y).next(()=>N)):this.ki(y).next(()=>s(y)))).then(D=>(y.raiseOnCommittedEvent(),D))}ki(e){return sl(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new de(Pe.FAILED_PRECONDITION,Zd)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sl(e).put("owner",r)}static D(){return ie.D()}yi(e){const r=sl(e);return r.get("owner").next(s=>this.Si(s)?(be("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ze.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Jt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,fe.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return be("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Jt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sl(u){return yi(u,"owner")}function dc(u){return yi(u,"clientMetadata")}function eh(u,e){let r=u.projectId;return u.isDefaultDatabase||(r+="."+u.database),"firestore/"+e+"/"+r+"/"}class xo{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=ir(),l=ir();for(const m of r.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:l=l.add(m.doc.key)}return new xo(e,r.fromCache,s,l)}}class hc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ru{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,fe.nr)()?8:Ie((0,fe.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const m={result:null};return this.ji(e,r).next(y=>{m.result=y}).next(()=>{if(!m.result)return this.Hi(e,r,l,s).next(y=>{m.result=y})}).next(()=>{if(m.result)return;const y=new hc;return this.Ji(e,r,y).next(D=>{if(m.result=D,this.Ui)return this.Yi(e,r,y,D.size)})}).next(()=>m.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(At()<=we.$b.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",go(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ze.resolve()):(At()<=we.$b.DEBUG&&be("QueryEngine","Query:",go(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(At()<=we.$b.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",go(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,X(r))):ze.resolve())}ji(e,r){if(aa(r))return ze.resolve(null);let s=X(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=_n(r,null,"F"),s=X(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const y=ir(...m);return this.zi.getDocuments(e,y).next(D=>this.indexManager.getMinOffset(e,s).next(N=>{const W=this.Zi(r,D);return this.Xi(r,W,y,N.readTime)?this.ji(e,_n(r,null,"F")):this.es(e,W,r,N)}))})))}Hi(e,r,s,l){return aa(r)||l.isEqual(Lt.min())?ze.resolve(null):this.zi.getDocuments(e,s).next(m=>{const y=this.Zi(r,m);return this.Xi(r,y,s,l)?ze.resolve(null):(At()<=we.$b.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),go(r)),this.es(e,y,r,Yr(l,-1)).next(D=>D))})}Zi(e,r){let s=new Nr(Bo(e));return r.forEach((l,m)=>{oo(e,m)&&(s=s.add(m))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(l)>0)}Ji(e,r,s){return At()<=we.$b.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",go(r)),this.zi.getDocumentsMatchingQuery(e,r,an.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(m=>(r.forEach(y=>{m=m.insert(y.key,y)}),m))}}class Xl{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new mr(Gt),this.rs=new So(m=>po(m),ss),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ps(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Mu(u,e,r,s){return new Xl(u,e,r,s)}function lf(u,e){return df.apply(this,arguments)}function df(){return(df=(0,c.A)(function*(u,e){const r=lt(u);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(m=>(l=m,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(m=>{const y=[],D=[];let N=ir();for(const W of l){y.push(W.batchId);for(const re of W.mutations)N=N.add(re.key)}for(const W of m){D.push(W.batchId);for(const re of W.mutations)N=N.add(re.key)}return r.localDocuments.getDocuments(s,N).next(W=>({us:W,removedBatchIds:y,addedBatchIds:D}))})})})).apply(this,arguments)}function Sp(u){const e=lt(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Yl(u,e,r){let s=ir(),l=ir();return r.forEach(m=>s=s.add(m)),e.getEntries(u,s).next(m=>{let y=ni();return r.forEach((D,N)=>{const W=m.get(D);N.isFoundDocument()!==W.isFoundDocument()&&(l=l.add(D)),N.isNoDocument()&&N.version.isEqual(Lt.min())?(e.removeEntry(D,N.readTime),y=y.insert(D,N)):!W.isValidDocument()||N.version.compareTo(W.version)>0||0===N.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(N),y=y.insert(D,N)):be("LocalStore","Ignoring outdated watch update for ",D,". Current version:",W.version," Watch version:",N.version)}),{cs:y,ls:l}})}function Ou(u,e){const r=lt(u);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function al(u,e){const r=lt(u);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(m=>m?(l=m,ze.resolve(l)):r.Qr.allocateTargetId(s).next(y=>(l=new ta(e,y,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function La(u,e,r){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.A)(function*(u,e,r){const s=lt(u),l=s.ns.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",m,y=>s.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!xn(y))throw y;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)})).apply(this,arguments)}function Ql(u,e,r){const s=lt(u);let l=Lt.min(),m=ir();return s.persistence.runTransaction("Execute query","readwrite",y=>function(N,W,re){const ge=lt(N),Ve=ge.rs.get(re);return void 0!==Ve?ze.resolve(ge.ns.get(Ve)):ge.Qr.getTargetData(W,re)}(s,y,X(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(y,D.targetId).next(N=>{m=N})}).next(()=>s.ts.getDocumentsMatchingQuery(y,e,r?l:Lt.min(),r?m:ir())).next(D=>(nh(s,as(e),D),{documents:D,hs:m})))}function Gs(u,e){const r=lt(u),s=lt(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",m=>s.ot(m,e).next(y=>y?y.target:null))}function th(u,e){const r=lt(u),s=r.ss.get(e)||Lt.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,Yr(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(nh(r,e,l),l))}function nh(u,e,r){let s=u.ss.get(e)||Lt.min();r.forEach((l,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),u.ss.set(e,s)}function fc(){return(fc=(0,c.A)(function*(u,e,r,s){const l=lt(u);let m=ir(),y=ni();for(const W of r){const re=e.Ps(W.metadata.name);W.document&&(m=m.add(re));const ge=e.Is(W);ge.setReadTime(e.Ts(W.metadata.readTime)),y=y.insert(re,ge)}const D=l.os.newChangeBuffer({trackRemovals:!0}),N=yield al(l,(re=s,X(Gr(ln.fromString(`__bundle__/docs/${re}`)))));var re;return l.persistence.runTransaction("Apply bundle documents","readwrite",W=>Yl(W,D,y).next(re=>(D.apply(W),re)).next(re=>l.Qr.removeMatchingKeysForTargetId(W,N.targetId).next(()=>l.Qr.addMatchingKeys(W,m,N.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(W,re.cs,re.ls)).next(()=>re.cs)))})).apply(this,arguments)}function Jl(u,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,c.A)(function*(u,e,r=ir()){const s=yield al(u,X(mn(e.bundledQuery))),l=lt(u);return l.persistence.runTransaction("Save named query","readwrite",m=>{const y=eo(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return l.$r.saveNamedQuery(m,e);const D=s.withResumeToken(Li.EMPTY_BYTE_STRING,y);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(m,D).next(()=>l.Qr.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>l.Qr.addMatchingKeys(m,r,s.targetId)).next(()=>l.$r.saveNamedQuery(m,e))})})).apply(this,arguments)}function pc(u,e){return`firestore_clients_${u}_${e}`}function ih(u,e,r){let s=`firestore_mutations_${u}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function gc(u,e){return`firestore_targets_${u}_${e}`}class mc{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let m,y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(m=new de(l.error.code,l.error.message))),y?new mc(e,r,l.state,m):(Jt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(l=new de(s.error.code,s.error.message))),m?new Qc(e,s.state,l):(Jt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nu{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,m=Js();for(let y=0;l&&y<s.activeTargetIds.length;++y)l=le(s.activeTargetIds[y]),m=m.add(s.activeTargetIds[y]);return l?new Nu(e,m):(Jt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class ku{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new ku(r.clientId,r.onlineState):(Jt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zl{constructor(){this.activeTargetIds=Js()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ed{constructor(e,r,s,l,m){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new mr(Gt),this.started=!1,this.ys=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ws=pc(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Zl),this.bs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.A)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Vs)continue;const m=e.getItem(pc(e.persistenceKey,l));if(m){const y=Nu.Es(l,m);y&&(e.ps=e.ps.insert(y.clientId,y))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(gc(this.persistenceKey,e));if(s){const l=Qc.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gc(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return be("SharedClientState","READ",e,r),r}setItem(e,r){be("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(be("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,c.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(y){let D=F.oe;if(null!=y)try{const N=JSON.parse(y);Bt("number"==typeof N),D=N}catch(N){Jt("SharedClientState","Failed to read sequence number from WebStorage",N)}return D}(s.newValue);l!==F.oe&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(m=>r.syncEngine.Ys(m)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const l=new mc(this.currentUser,e,r,s),m=ih(this.persistenceKey,this.currentUser,e);this.setItem(m,l.ds())}Bs(e){const r=ih(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=gc(this.persistenceKey,e),m=new Qc(e,r,s);this.setItem(l,m.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Nu.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return mc.Es(new at(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return Qc.Es(l,r)}xs(e){return ku.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,c.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),m=this.Ns(s),y=[],D=[];return m.forEach(N=>{l.has(N)||y.push(N)}),l.forEach(N=>{m.has(N)||D.push(N)}),this.syncEngine.eo(y,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Js();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class pf{constructor(){this.no=new Zl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zl,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jc{io(e){}shutdown(){}}class Zc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let td=null;function oh(){return null===td?td=268435456+Math.round(2147483648*Math.random()):td++,"0x"+td.toString(16)}const b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const _="WebChannelConnection";class A extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${l}/databases/${m}`,this.bo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${m}`}get Do(){return!1}Co(r,s,l,m,y){const D=oh(),N=this.vo(r,s.toUriEncodedString());be("RestConnection",`Sending RPC '${r}' ${D}:`,N,l);const W={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(W,m,y),this.Mo(r,N,W,l).then(re=>(be("RestConnection",`Received RPC '${r}' ${D}: `,re),re),re=>{throw cn("RestConnection",`RPC '${r}' ${D} failed with error: `,re,"url: ",N,"request:",l),re})}xo(r,s,l,m,y,D){return this.Co(r,s,l,m,y)}Fo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((m,y)=>r[y]=m),l&&l.headers.forEach((m,y)=>r[y]=m)}vo(r,s){return`${this.wo}/v1/${s}:${b[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,l){const m=oh();return new Promise((y,D)=>{const N=new me;N.setWithCredentials(!0),N.listenOnce(Tt.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case It.NO_ERROR:const re=N.getResponseJson();be(_,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(re)),y(re);break;case It.TIMEOUT:be(_,`RPC '${e}' ${m} timed out`),D(new de(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case It.HTTP_ERROR:const ge=N.getStatus();if(be(_,`RPC '${e}' ${m} failed with status:`,ge,"response text:",N.getResponseText()),ge>0){let Ve=N.getResponseJson();Array.isArray(Ve)&&(Ve=Ve[0]);const ht=Ve?.error;if(ht&&ht.status&&ht.message){const Ht=function(Yt){const kn=Yt.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(kn)>=0?kn:Pe.UNKNOWN}(ht.status);D(new de(Ht,ht.message))}else D(new de(Pe.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new de(Pe.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{be(_,`RPC '${e}' ${m} completed.`)}});const W=JSON.stringify(l);be(_,`RPC '${e}' ${m} sending request:`,l),N.send(r,"POST",W,s,15)})}Oo(e,r,s){const l=oh(),m=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=et(),D=sn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(N.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(N.xmlHttpFactory=new ut({})),this.Fo(N.initMessageHeaders,r,s),N.encodeInitMessageHeaders=!0;const re=m.join("");be(_,`Creating RPC '${e}' stream ${l}: ${re}`,N);const ge=y.createWebChannel(re,N);let Ve=!1,ht=!1;const Ht=new p({lo:Yt=>{ht?be(_,`Not sending because RPC '${e}' stream ${l} is closed:`,Yt):(Ve||(be(_,`Opening RPC '${e}' stream ${l} transport.`),ge.open(),Ve=!0),be(_,`RPC '${e}' stream ${l} sending:`,Yt),ge.send(Yt))},ho:()=>ge.close()}),on=(Yt,kn,qn)=>{Yt.listen(kn,Ln=>{try{qn(Ln)}catch(Dr){setTimeout(()=>{throw Dr},0)}})};return on(ge,Ye.EventType.OPEN,()=>{ht||(be(_,`RPC '${e}' stream ${l} transport opened.`),Ht.mo())}),on(ge,Ye.EventType.CLOSE,()=>{ht||(ht=!0,be(_,`RPC '${e}' stream ${l} transport closed`),Ht.po())}),on(ge,Ye.EventType.ERROR,Yt=>{ht||(ht=!0,cn(_,`RPC '${e}' stream ${l} transport errored:`,Yt),Ht.po(new de(Pe.UNAVAILABLE,"The operation could not be completed")))}),on(ge,Ye.EventType.MESSAGE,Yt=>{var kn;if(!ht){const qn=Yt.data[0];Bt(!!qn);const Dr=qn.error||(null===(kn=qn[0])||void 0===kn?void 0:kn.error);if(Dr){be(_,`RPC '${e}' stream ${l} received error:`,Dr);const Ri=Dr.status;let qr=function(He){const rt=Ai[He];if(void 0!==rt)return Qu(rt)}(Ri),nt=Dr.message;void 0===qr&&(qr=Pe.INTERNAL,nt="Unknown error status: "+Ri+" with message "+Dr.message),ht=!0,Ht.po(new de(qr,nt)),ge.close()}else be(_,`RPC '${e}' stream ${l} received:`,qn),Ht.yo(qn)}}),on(D,Nt.STAT_EVENT,Yt=>{Yt.stat===jt.PROXY?be(_,`RPC '${e}' stream ${l} detected buffering proxy`):Yt.stat===jt.NOPROXY&&be(_,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ht.fo()},0),Ht}}function K(){return typeof window<"u"?window:null}function se(){return typeof document<"u"?document:null}function je(u){return new jl(u,!0)}class vt{constructor(e,r,s=1e3,l=1.5,m=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=l,this.Bo=m,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),l=Math.max(0,r-s);l>0&&be("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class zt{constructor(e,r,s,l,m,y,D,N){this.oi=e,this.Go=s,this.zo=l,this.connection=m,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=D,this.listener=N,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new vt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,c.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,c.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,c.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(Jt(r.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Pe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.jo===r&&this.u_(s,l)},s=>{e(()=>{const l=new de(Pe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(l)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(l=>{s(()=>this.c_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}e_(){var e=this;this.state=5,this.Yo.$o((0,c.A)(function*(){e.state=0,e.start()}))}c_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class An extends zt{constructor(e,r,s,l,m,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,y),this.serializer=m}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function la(u,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Mt(),l=e.targetChange.targetIds||[],m=function(W,re){return W.useProto3Json?(Bt(void 0===re||"string"==typeof re),Li.fromBase64String(re||"")):(Bt(void 0===re||re instanceof Buffer||re instanceof Uint8Array),Li.fromUint8Array(re||new Uint8Array))}(u,e.targetChange.resumeToken),y=e.targetChange.cause,D=y&&function(W){const re=void 0===W.code?Pe.UNKNOWN:Qu(W.code);return new de(re,W.message||"")}(y);r=new Ji(s,l,m,D||null)}else if("documentChange"in e){const s=e.documentChange,l=gs(u,s.document.name),m=eo(s.document.updateTime),y=s.document.createTime?eo(s.document.createTime):Lt.min(),D=new mi({mapValue:{fields:s.document.fields}}),N=z.newFoundDocument(l,m,y,D);r=new yu(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,l=gs(u,s.document),m=s.readTime?eo(s.readTime):Lt.min(),y=z.newNoDocument(l,m);r=new yu([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,l=gs(u,s.document);r=new yu([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Mt();{const s=e.filter,{count:l=0,unchangedNames:m}=s,y=new Go(l,m);r=new Jo(s.targetId,y)}}var W;return r}(this.serializer,e),s=function(m){if(!("targetChange"in m))return Lt.min();const y=m.targetChange;return y.targetIds&&y.targetIds.length?Lt.min():y.readTime?eo(y.readTime):Lt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=St(this.serializer),r.addTarget=function(m,y){let D;const N=y.target;if(D=Qs(N)?{documents:zn(m,N)}:{query:ec(m,N)._t},D.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){D.resumeToken=Zu(m,y.resumeToken);const W=Za(m,y.expectedCount);null!==W&&(D.expectedCount=W)}else if(y.snapshotVersion.compareTo(Lt.min())>0){D.readTime=zo(m,y.snapshotVersion.toTimestamp());const W=Za(m,y.expectedCount);null!==W&&(D.expectedCount=W)}return D}(this.serializer,e);const s=function ms(u,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=St(this.serializer),r.removeTarget=e,this.i_(r)}}class $n extends zt{constructor(e,r,s,l,m,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,y),this.serializer=m,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Na(u,e){return u&&u.length>0?(Bt(void 0!==e),u.map(r=>function(l,m){let y=eo(l.updateTime?l.updateTime:m);return y.isEqual(Lt.min())&&(y=eo(m)),new vu(y,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=eo(e.commitTime);return this.listener.A_(s,r)}return Bt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=St(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Zo(this.serializer,s))};this.i_(r)}}class Br extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.m_=!1}f_(){if(this.m_)throw new de(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Co(e,Vc(r,s),l,m,y)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new de(Pe.UNKNOWN,m.toString())})}xo(e,r,s,l,m){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,D])=>this.connection.xo(e,Vc(r,s),l,y,D,m)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new de(Pe.UNKNOWN,y.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class zs{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Jt(r),this.y_=!1):be("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class _c{constructor(e,r,s,l,m){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=m,this.O_.io(D=>{s.enqueueAndForget((0,c.A)(function*(){var N;Ec(y)&&(be("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,c.A)(function*(re){const ge=lt(re);ge.M_.add(4),yield eu(ge),ge.N_.set("Unknown"),ge.M_.delete(4),yield vc(ge)}),function W(re){return N.apply(this,arguments)})(y))}))}),this.N_=new zs(s,l)}}function vc(u){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.A)(function*(u){if(Ec(u))for(const e of u.x_)yield e(!0)})).apply(this,arguments)}function eu(u){return sh.apply(this,arguments)}function sh(){return(sh=(0,c.A)(function*(u){for(const e of u.x_)yield e(!1)})).apply(this,arguments)}function yc(u,e){const r=lt(u);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),ah(r)?id(r):cd(r).Xo()&&nd(r,e))}function tu(u,e){const r=lt(u),s=cd(r);r.F_.delete(e),s.Xo()&&rd(r,e),0===r.F_.size&&(s.Xo()?s.n_():Ec(r)&&r.N_.set("Unknown"))}function nd(u,e){if(u.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}cd(u).P_(e)}function rd(u,e){u.L_.xe(e),cd(u).I_(e)}function id(u){u.L_=new Fc({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.F_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),cd(u).start(),u.N_.w_()}function ah(u){return Ec(u)&&!cd(u).Zo()&&u.F_.size>0}function Ec(u){return 0===lt(u).M_.size}function nu(u){u.L_=void 0}function od(u){return gf.apply(this,arguments)}function gf(){return(gf=(0,c.A)(function*(u){u.N_.set("Online")})).apply(this,arguments)}function Vu(u){return mf.apply(this,arguments)}function mf(){return(mf=(0,c.A)(function*(u){u.F_.forEach((e,r)=>{nd(u,e)})})).apply(this,arguments)}function ch(u,e){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.A)(function*(u,e){nu(u),ah(u)?(u.N_.D_(e),id(u)):u.N_.set("Unknown")})).apply(this,arguments)}function xp(u,e,r){return sd.apply(this,arguments)}function sd(){return sd=(0,c.A)(function*(u,e,r){if(u.N_.set("Online"),e instanceof Ji&&2===e.state&&e.cause)try{yield(s=(0,c.A)(function*(m,y){const D=y.cause;for(const N of y.targetIds)m.F_.has(N)&&(yield m.remoteSyncer.rejectListen(N,D),m.F_.delete(N),m.L_.removeTarget(N))}),function l(m,y){return s.apply(this,arguments)})(u,e)}catch(s){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ul(u,s)}else if(e instanceof yu?u.L_.Ke(e):e instanceof Jo?u.L_.He(e):u.L_.We(e),!r.isEqual(Lt.min()))try{const s=yield Sp(u.localStore);r.compareTo(s)>=0&&(yield function(m,y){const D=m.L_.rt(y);return D.targetChanges.forEach((N,W)=>{if(N.resumeToken.approximateByteSize()>0){const re=m.F_.get(W);re&&m.F_.set(W,re.withResumeToken(N.resumeToken,y))}}),D.targetMismatches.forEach((N,W)=>{const re=m.F_.get(N);if(!re)return;m.F_.set(N,re.withResumeToken(Li.EMPTY_BYTE_STRING,re.snapshotVersion)),rd(m,N);const ge=new ta(re.target,N,W,re.sequenceNumber);nd(m,ge)}),m.remoteSyncer.applyRemoteEvent(D)}(u,r))}catch(s){be("RemoteStore","Failed to raise snapshot:",s),yield ul(u,s)}var s}),sd.apply(this,arguments)}function ul(u,e,r){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.A)(function*(u,e,r){if(!xn(e))throw e;u.M_.add(1),yield eu(u),u.N_.set("Offline"),r||(r=()=>Sp(u.localStore)),u.asyncQueue.enqueueRetryable((0,c.A)(function*(){be("RemoteStore","Retrying IndexedDB access"),yield r(),u.M_.delete(1),yield vc(u)}))})).apply(this,arguments)}function Pp(u,e){return e().catch(r=>ul(u,r,e))}function dl(u){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,c.A)(function*(u){const e=lt(u),r=ru(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Mp(e);)try{const l=yield Ou(e.localStore,s);if(null===l){0===e.v_.length&&r.n_();break}s=l.batchId,Op(e,l)}catch(l){yield ul(e,l)}jg(e)&&Bg(e)})).apply(this,arguments)}function Mp(u){return Ec(u)&&u.v_.length<10}function Op(u,e){u.v_.push(e);const r=ru(u);r.Xo()&&r.E_&&r.d_(e.mutations)}function jg(u){return Ec(u)&&!ru(u).Zo()&&u.v_.length>0}function Bg(u){ru(u).start()}function $g(u){return uh.apply(this,arguments)}function uh(){return(uh=(0,c.A)(function*(u){ru(u).V_()})).apply(this,arguments)}function t_(u){return Np.apply(this,arguments)}function Np(){return(Np=(0,c.A)(function*(u){const e=ru(u);for(const r of u.v_)e.d_(r.mutations)})).apply(this,arguments)}function ia(u,e,r){return lh.apply(this,arguments)}function lh(){return(lh=(0,c.A)(function*(u,e,r){const s=u.v_.shift(),l=wo.from(s,e,r);yield Pp(u,()=>u.remoteSyncer.applySuccessfulWrite(l)),yield dl(u)})).apply(this,arguments)}function Hg(u,e){return dh.apply(this,arguments)}function dh(){return dh=(0,c.A)(function*(u,e){var r;e&&ru(u).E_&&(yield(r=(0,c.A)(function*(l,m){if(fs(D=m.code)&&D!==Pe.ABORTED){const y=l.v_.shift();ru(l).t_(),yield Pp(l,()=>l.remoteSyncer.rejectFailedWrite(y.batchId,m)),yield dl(l)}var D}),function s(l,m){return r.apply(this,arguments)})(u,e)),jg(u)&&Bg(u)}),dh.apply(this,arguments)}function mo(u,e){return ad.apply(this,arguments)}function ad(){return(ad=(0,c.A)(function*(u,e){const r=lt(u);r.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const s=Ec(r);r.M_.add(3),yield eu(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield vc(r)})).apply(this,arguments)}function hh(u,e){return _f.apply(this,arguments)}function _f(){return(_f=(0,c.A)(function*(u,e){const r=lt(u);e?(r.M_.delete(2),yield vc(r)):e||(r.M_.add(2),yield eu(r),r.N_.set("Unknown"))})).apply(this,arguments)}function cd(u){return u.B_||(u.B_=function(r,s,l){const m=lt(r);return m.f_(),new An(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,l)}(u.datastore,u.asyncQueue,{Po:od.bind(null,u),To:Vu.bind(null,u),Ao:ch.bind(null,u),h_:xp.bind(null,u)}),u.x_.push(function(){var e=(0,c.A)(function*(r){r?(u.B_.t_(),ah(u)?id(u):u.N_.set("Unknown")):(yield u.B_.stop(),nu(u))});return function(r){return e.apply(this,arguments)}}())),u.B_}function ru(u){return u.k_||(u.k_=function(r,s,l){const m=lt(r);return m.f_(),new $n(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,l)}(u.datastore,u.asyncQueue,{Po:()=>Promise.resolve(),To:$g.bind(null,u),Ao:Hg.bind(null,u),R_:t_.bind(null,u),A_:ia.bind(null,u)}),u.x_.push(function(){var e=(0,c.A)(function*(r){r?(u.k_.t_(),yield dl(u)):(yield u.k_.stop(),u.v_.length>0&&(be("RemoteStore",`Stopping write stream with ${u.v_.length} pending writes`),u.v_=[]))});return function(r){return e.apply(this,arguments)}}())),u.k_}class kp{constructor(e,r,s,l,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=m,this.deferred=new Oe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,m){const y=Date.now()+s,D=new kp(e,r,y,l,m);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new de(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hl(u,e){if(Jt("AsyncQueue",`${e}: ${u}`),xn(u))return new de(Pe.UNAVAILABLE,`${e}: ${u}`);throw u}class ud{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ut.comparator(r.key,s.key):(r,s)=>Ut.comparator(r.key,s.key),this.keyedMap=Wi(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new ud(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,m=s.getNext().key;if(!l.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new ud;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Fp{constructor(){this.q_=new mr(Ut.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Mt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class ld{constructor(e,r,s,l,m,y,D,N,W){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=m,this.fromCache=y,this.syncStateChanged=D,this.excludesMetadataChanges=N,this.hasCachedResults=W}static fromInitialDocuments(e,r,s,l,m){const y=[];return r.forEach(D=>{y.push({type:0,doc:D})}),new ld(e,r,ud.emptySet(r),y,s,l,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class n_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Vp{constructor(){this.queries=new So(e=>io(e),Bn),this.onlineState="Unknown",this.z_=new Set}}function fh(u,e){return ph.apply(this,arguments)}function ph(){return(ph=(0,c.A)(function*(u,e){const r=lt(u);let s=3;const l=e.query;let m=r.queries.get(l);m?!m.W_()&&e.G_()&&(s=2):(m=new n_,s=e.G_()?0:1);try{switch(s){case 0:m.K_=yield r.onListen(l,!0);break;case 1:m.K_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(y){const D=hl(y,`Initialization of query '${go(e.query)}' failed`);return void e.onError(D)}r.queries.set(l,m),m.U_.push(e),e.j_(r.onlineState),m.K_&&e.H_(m.K_)&&gh(r)})).apply(this,arguments)}function fl(u,e){return dd.apply(this,arguments)}function dd(){return(dd=(0,c.A)(function*(u,e){const r=lt(u),s=e.query;let l=3;const m=r.queries.get(s);if(m){const y=m.U_.indexOf(e);y>=0&&(m.U_.splice(y,1),0===m.U_.length?l=e.G_()?0:1:!m.W_()&&e.G_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function r_(u,e){const r=lt(u);let s=!1;for(const l of e){const y=r.queries.get(l.query);if(y){for(const D of y.U_)D.H_(l)&&(s=!0);y.K_=l}}s&&gh(r)}function Lp(u,e,r){const s=lt(u),l=s.queries.get(e);if(l)for(const m of l.U_)m.onError(r);s.queries.delete(e)}function gh(u){u.z_.forEach(e=>{e.next()})}var Lu,iu;(iu=Lu||(Lu={})).J_="default",iu.Cache="cache";class hd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new ld(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Lu.Cache}}class Gg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class vf{constructor(e){this.serializer=e}Ps(e){return gs(this.serializer,e)}Is(e){return e.metadata.exists?Ao(this.serializer,e.document,!1):z.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return eo(e)}}class yf{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zg(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=ln.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new vf(this.serializer);for(const l of e)if(l.metadata.queries){const m=s.Ps(l.metadata.name);for(const y of l.metadata.queries){const D=(r.get(y)||ir()).add(m);r.set(y,D)}}return r}complete(){var e=this;return(0,c.A)(function*(){const r=yield function rh(u,e,r,s){return fc.apply(this,arguments)}(e.localStore,new vf(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const l of e.queries)yield Jl(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function zg(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Wg{constructor(e){this.key=e}}class Kg{constructor(e){this.key=e}}class qg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ir(),this.mutatedKeys=ir(),this.Ia=Bo(e),this.Ta=new ud(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Fp,l=r?r.Ta:this.Ta;let m=r?r.mutatedKeys:this.mutatedKeys,y=l,D=!1;const N="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,W="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((re,ge)=>{const Ve=l.get(re),ht=oo(this.query,ge)?ge:null,Ht=!!Ve&&this.mutatedKeys.has(Ve.key),on=!!ht&&(ht.hasLocalMutations||this.mutatedKeys.has(ht.key)&&ht.hasCommittedMutations);let Yt=!1;Ve&&ht?Ve.data.isEqual(ht.data)?Ht!==on&&(s.track({type:3,doc:ht}),Yt=!0):this.Ra(Ve,ht)||(s.track({type:2,doc:ht}),Yt=!0,(N&&this.Ia(ht,N)>0||W&&this.Ia(ht,W)<0)&&(D=!0)):!Ve&&ht?(s.track({type:0,doc:ht}),Yt=!0):Ve&&!ht&&(s.track({type:1,doc:Ve}),Yt=!0,(N||W)&&(D=!0)),Yt&&(ht?(y=y.add(ht),m=on?m.add(re):m.delete(re)):(y=y.delete(re),m=m.delete(re)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const re="F"===this.query.limitType?y.last():y.first();y=y.delete(re.key),m=m.delete(re.key),s.track({type:1,doc:re})}return{Ta:y,Aa:s,Xi:D,mutatedKeys:m}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const m=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const y=e.Aa.Q_();y.sort((re,ge)=>function(ht,Ht){const on=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return on(ht)-on(Ht)}(re.type,ge.type)||this.Ia(re.doc,ge.doc)),this.Va(s),l=null!=l&&l;const D=r&&!l?this.ma():[],N=0===this.Pa.size&&this.current&&!l?1:0,W=N!==this.ha;return this.ha=N,0!==y.length||W?{snapshot:new ld(this.query,e.Ta,m,y,e.mutatedKeys,0===N,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:D}:{fa:D}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Fp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ir(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Kg(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Wg(s))}),r}pa(e){this.la=e.hs,this.Pa=ir();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return ld.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class i_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class o_{constructor(e){this.key=e,this.wa=!1}}class Xg{constructor(e,r,s,l,m,y){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=m,this.maxConcurrentLimboResolutions=y,this.Sa={},this.ba=new So(D=>io(D),Bn),this.Da=new Map,this.Ca=new Set,this.va=new mr(Ut.comparator),this.Fa=new Map,this.Ma=new lc,this.xa={},this.Oa=new Map,this.Na=$s.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Ef(u,e){return mh.apply(this,arguments)}function mh(){return(mh=(0,c.A)(function*(u,e,r=!0){const s=Pf(u);let l;const m=s.ba.get(e);return m?(s.sharedClientState.addLocalQueryTarget(m.targetId),l=m.view.ya()):l=yield pl(s,e,r,!0),l})).apply(this,arguments)}function Up(u,e){return jp.apply(this,arguments)}function jp(){return(jp=(0,c.A)(function*(u,e){const r=Pf(u);yield pl(r,e,!0,!1)})).apply(this,arguments)}function pl(u,e,r,s){return _h.apply(this,arguments)}function _h(){return(_h=(0,c.A)(function*(u,e,r,s){const l=yield al(u.localStore,X(e)),m=l.targetId,y=r?u.sharedClientState.addLocalQueryTarget(m):"not-current";let D;return s&&(D=yield Cf(u,e,m,"current"===y,l.resumeToken)),u.isPrimaryClient&&r&&yc(u.remoteStore,l),D})).apply(this,arguments)}function Cf(u,e,r,s,l){return ou.apply(this,arguments)}function ou(){return ou=(0,c.A)(function*(u,e,r,s,l){u.Ba=(ge,Ve,ht)=>{return(Ht=(0,c.A)(function*(Yt,kn,qn,Ln){let Dr=kn.view.da(qn);Dr.Xi&&(Dr=yield Ql(Yt.localStore,kn.query,!1).then(({documents:Me})=>kn.view.da(Me,Dr)));const Ri=Ln&&Ln.targetChanges.get(kn.targetId),qr=Ln&&null!=Ln.targetMismatches.get(kn.targetId),nt=kn.view.applyChanges(Dr,Yt.isPrimaryClient,Ri,qr);return Kp(Yt,kn.targetId,nt.fa),nt.snapshot}),function on(Yt,kn,qn,Ln){return Ht.apply(this,arguments)})(u,ge,Ve,ht);var Ht};const m=yield Ql(u.localStore,e,!0),y=new qg(e,m.hs),D=y.da(m.documents),N=Ja.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==u.onlineState,l),W=y.applyChanges(D,u.isPrimaryClient,N);Kp(u,r,W.fa);const re=new i_(e,r,y);return u.ba.set(e,re),u.Da.has(r)?u.Da.get(r).push(e):u.Da.set(r,[e]),W.snapshot}),ou.apply(this,arguments)}function Yg(u,e,r){return bf.apply(this,arguments)}function bf(){return(bf=(0,c.A)(function*(u,e,r){const s=lt(u),l=s.ba.get(e),m=s.Da.get(l.targetId);if(m.length>1)return s.Da.set(l.targetId,m.filter(y=>!Bn(y,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield La(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&tu(s.remoteStore,l.targetId),fd(s,l.targetId)}).catch(Pn))):(fd(s,l.targetId),yield La(s.localStore,l.targetId,!0))})).apply(this,arguments)}function Bp(u,e){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,c.A)(function*(u,e){const r=lt(u),s=r.ba.get(e),l=r.Da.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),tu(r.remoteStore,s.targetId))})).apply(this,arguments)}function vh(){return(vh=(0,c.A)(function*(u,e,r){const s=Th(u);try{const l=yield function(y,D){const N=lt(y),W=Wt.now(),re=D.reduce((ht,Ht)=>ht.add(Ht.key),ir());let ge,Ve;return N.persistence.runTransaction("Locally write mutations","readwrite",ht=>{let Ht=ni(),on=ir();return N.os.getEntries(ht,re).next(Yt=>{Ht=Yt,Ht.forEach((kn,qn)=>{qn.isValidDocument()||(on=on.add(kn))})}).next(()=>N.localDocuments.getOverlayedDocuments(ht,Ht)).next(Yt=>{ge=Yt;const kn=[];for(const qn of D){const Ln=Ct(qn,ge.get(qn.key).overlayedDocument);null!=Ln&&kn.push(new Pr(qn.key,Ln,Q(Ln.value.mapValue),wi.exists(!0)))}return N.mutationQueue.addMutationBatch(ht,W,kn,D)}).next(Yt=>{Ve=Yt;const kn=Yt.applyToLocalDocumentSet(ge,on);return N.documentOverlayCache.saveOverlays(ht,Yt.batchId,kn)})}).then(()=>({batchId:Ve.batchId,changes:Nc(ge)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(y,D,N){let W=y.xa[y.currentUser.toKey()];W||(W=new mr(Gt)),W=W.insert(D,N),y.xa[y.currentUser.toKey()]=W}(s,l.batchId,r),yield Cc(s,l.changes),yield dl(s.remoteStore)}catch(l){const m=hl(l,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function Hp(u,e){return If.apply(this,arguments)}function If(){return(If=(0,c.A)(function*(u,e){const r=lt(u);try{const s=yield function Hs(u,e){const r=lt(u),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const y=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const D=[];e.targetChanges.forEach((re,ge)=>{const Ve=l.get(ge);if(!Ve)return;D.push(r.Qr.removeMatchingKeys(m,re.removedDocuments,ge).next(()=>r.Qr.addMatchingKeys(m,re.addedDocuments,ge)));let ht=Ve.withSequenceNumber(m.currentSequenceNumber);var on,Yt,kn;null!==e.targetMismatches.get(ge)?ht=ht.withResumeToken(Li.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):re.resumeToken.approximateByteSize()>0&&(ht=ht.withResumeToken(re.resumeToken,s)),l=l.insert(ge,ht),Yt=ht,kn=re,(0===(on=Ve).resumeToken.approximateByteSize()||Yt.snapshotVersion.toMicroseconds()-on.snapshotVersion.toMicroseconds()>=3e8||kn.addedDocuments.size+kn.modifiedDocuments.size+kn.removedDocuments.size>0)&&D.push(r.Qr.updateTargetData(m,ht))});let N=ni(),W=ir();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(m,re))}),D.push(Yl(m,y,e.documentUpdates).next(re=>{N=re.cs,W=re.ls})),!s.isEqual(Lt.min())){const re=r.Qr.getLastRemoteSnapshotVersion(m).next(ge=>r.Qr.setTargetsMetadata(m,m.currentSequenceNumber,s));D.push(re)}return ze.waitFor(D).next(()=>y.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,N,W)).next(()=>N)}).then(m=>(r.ns=l,m))}(r.localStore,e);e.targetChanges.forEach((l,m)=>{const y=r.Fa.get(m);y&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.wa=!0:l.modifiedDocuments.size>0?Bt(y.wa):l.removedDocuments.size>0&&(Bt(y.wa),y.wa=!1))}),yield Cc(r,s,e)}catch(s){yield Pn(s)}})).apply(this,arguments)}function Tf(u,e,r){const s=lt(u);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ba.forEach((m,y)=>{const D=y.view.j_(e);D.snapshot&&l.push(D.snapshot)}),function(y,D){const N=lt(y);N.onlineState=D;let W=!1;N.queries.forEach((re,ge)=>{for(const Ve of ge.U_)Ve.j_(D)&&(W=!0)}),W&&gh(N)}(s.eventManager,e),l.length&&s.Sa.h_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Gp(u,e,r){return wf.apply(this,arguments)}function wf(){return(wf=(0,c.A)(function*(u,e,r){const s=lt(u);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Fa.get(e),m=l&&l.key;if(m){let y=new mr(Ut.comparator);y=y.insert(m,z.newNoDocument(m,Lt.min()));const D=ir().add(m),N=new Ci(Lt.min(),new Map,new mr(Gt),y,D);yield Hp(s,N),s.va=s.va.remove(m),s.Fa.delete(e),pd(s)}else yield La(s.localStore,e,!1).then(()=>fd(s,e,r)).catch(Pn)})).apply(this,arguments)}function su(u,e){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.A)(function*(u,e){const r=lt(u),s=e.batch.batchId;try{const l=yield function hf(u,e){const r=lt(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),m=r.os.newChangeBuffer({trackRemovals:!0});return function(D,N,W,re){const ge=W.batch,Ve=ge.keys();let ht=ze.resolve();return Ve.forEach(Ht=>{ht=ht.next(()=>re.getEntry(N,Ht)).next(on=>{const Yt=W.docVersions.get(Ht);Bt(null!==Yt),on.version.compareTo(Yt)<0&&(ge.applyToRemoteDocument(on,W),on.isValidDocument()&&(on.setReadTime(W.commitVersion),re.addEntry(on)))})}),ht.next(()=>D.mutationQueue.removeMutationBatch(N,ge))}(r,s,e,m).next(()=>m.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let N=ir();for(let W=0;W<D.mutationResults.length;++W)D.mutationResults[W].transformResults.length>0&&(N=N.add(D.batch.mutations[W].key));return N}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);ml(r,s,null),Df(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Cc(r,l)}catch(l){yield Pn(l)}})).apply(this,arguments)}function Af(u,e,r){return yh.apply(this,arguments)}function yh(){return(yh=(0,c.A)(function*(u,e,r){const s=lt(u);try{const l=yield function(y,D){const N=lt(y);return N.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let re;return N.mutationQueue.lookupMutationBatch(W,D).next(ge=>(Bt(null!==ge),re=ge.keys(),N.mutationQueue.removeMutationBatch(W,ge))).next(()=>N.mutationQueue.performConsistencyCheck(W)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(W,re,D)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,re)).next(()=>N.localDocuments.getDocuments(W,re))})}(s.localStore,e);ml(s,e,r),Df(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Cc(s,l)}catch(l){yield Pn(l)}})).apply(this,arguments)}function zp(){return(zp=(0,c.A)(function*(u,e){const r=lt(u);Ec(r.remoteStore)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const D=lt(y);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>D.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Oa.get(s)||[];l.push(e),r.Oa.set(s,l)}catch(s){const l=hl(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function Df(u,e){(u.Oa.get(e)||[]).forEach(r=>{r.resolve()}),u.Oa.delete(e)}function ml(u,e,r){const s=lt(u);let l=s.xa[s.currentUser.toKey()];if(l){const m=l.get(e);m&&(r?m.reject(r):m.resolve(),l=l.remove(e)),s.xa[s.currentUser.toKey()]=l}}function fd(u,e,r=null){u.sharedClientState.removeLocalQueryTarget(e);for(const s of u.Da.get(e))u.ba.delete(s),r&&u.Sa.ka(s,r);u.Da.delete(e),u.isPrimaryClient&&u.Ma.Vr(e).forEach(s=>{u.Ma.containsKey(s)||Wp(u,s)})}function Wp(u,e){u.Ca.delete(e.path.canonicalString());const r=u.va.get(e);null!==r&&(tu(u.remoteStore,r),u.va=u.va.remove(e),u.Fa.delete(r),pd(u))}function Kp(u,e,r){for(const s of r)s instanceof Wg?(u.Ma.addReference(s.key,e),s_(u,s)):s instanceof Kg?(be("SyncEngine","Document no longer in limbo: "+s.key),u.Ma.removeReference(s.key,e),u.Ma.containsKey(s.key)||Wp(u,s.key)):Mt()}function s_(u,e){const r=e.key,s=r.path.canonicalString();u.va.get(r)||u.Ca.has(s)||(be("SyncEngine","New document in limbo: "+r),u.Ca.add(s),pd(u))}function pd(u){for(;u.Ca.size>0&&u.va.size<u.maxConcurrentLimboResolutions;){const e=u.Ca.values().next().value;u.Ca.delete(e);const r=new Ut(ln.fromString(e)),s=u.Na.next();u.Fa.set(s,new o_(r)),u.va=u.va.insert(r,s),yc(u.remoteStore,new ta(X(Gr(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function Cc(u,e,r){return qp.apply(this,arguments)}function qp(){return qp=(0,c.A)(function*(u,e,r){const s=lt(u),l=[],m=[],y=[];var D;s.ba.isEmpty()||(s.ba.forEach((D,N)=>{y.push(s.Ba(N,e,r).then(W=>{if((W||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,W&&!W.fromCache?"current":"not-current"),W){l.push(W);const re=xo.Ki(N.targetId,W);m.push(re)}}))}),yield Promise.all(y),s.Sa.h_(l),yield(D=(0,c.A)(function*(W,re){const ge=lt(W);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ve=>ze.forEach(re,ht=>ze.forEach(ht.qi,Ht=>ge.persistence.referenceDelegate.addReference(Ve,ht.targetId,Ht)).next(()=>ze.forEach(ht.Qi,Ht=>ge.persistence.referenceDelegate.removeReference(Ve,ht.targetId,Ht)))))}catch(Ve){if(!xn(Ve))throw Ve;be("LocalStore","Failed to update sequence numbers: "+Ve)}for(const Ve of re){const ht=Ve.targetId;if(!Ve.fromCache){const Ht=ge.ns.get(ht),Yt=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);ge.ns=ge.ns.insert(ht,Yt)}}}),function N(W,re){return D.apply(this,arguments)})(s.localStore,m))}),qp.apply(this,arguments)}function bc(u,e){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,c.A)(function*(u,e){const r=lt(u);if(!r.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const s=yield lf(r.localStore,e);r.currentUser=e,(m=r).Oa.forEach(D=>{D.forEach(N=>{N.reject(new de(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Cc(r,s.us)}var m})).apply(this,arguments)}function gd(u,e){const r=lt(u),s=r.Fa.get(e);if(s&&s.wa)return ir().add(s.key);{let l=ir();const m=r.Da.get(e);if(!m)return l;for(const y of m){const D=r.ba.get(y);l=l.unionWith(D.view.Ea)}return l}}function a_(u,e){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,c.A)(function*(u,e){const r=lt(u),s=yield Ql(r.localStore,e.query,!0),l=e.view.pa(s);return r.isPrimaryClient&&Kp(r,e.targetId,l.fa),l})).apply(this,arguments)}function hv(u,e){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,c.A)(function*(u,e){const r=lt(u);return th(r.localStore,e).then(s=>Cc(r,s))})).apply(this,arguments)}function Qp(u,e,r,s){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,c.A)(function*(u,e,r,s){const l=lt(u),m=yield function(D,N){const W=lt(D),re=lt(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ge=>re.vn(ge,N).next(Ve=>Ve?W.localDocuments.getDocuments(ge,Ve):ze.resolve(null)))}(l.localStore,e);var N;null!==m?("pending"===r?yield dl(l.remoteStore):"acknowledged"===r||"rejected"===r?(ml(l,e,s||null),Df(l,e),N=e,lt(lt(l.localStore).mutationQueue).Mn(N)):Mt(),yield Cc(l,m)):be("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function md(){return(md=(0,c.A)(function*(u,e){const r=lt(u);if(Pf(r),Th(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield bh(r,s.toArray());r.La=!0,yield hh(r.remoteStore,!0);for(const m of l)yc(r.remoteStore,m)}else if(!1===e&&!1!==r.La){const s=[];let l=Promise.resolve();r.Da.forEach((m,y)=>{r.sharedClientState.isLocalQueryTarget(y)?s.push(y):l=l.then(()=>(fd(r,y),La(r.localStore,y,!0))),tu(r.remoteStore,y)}),yield l,yield bh(r,s),function(y){const D=lt(y);D.Fa.forEach((N,W)=>{tu(D.remoteStore,W)}),D.Ma.mr(),D.Fa=new Map,D.va=new mr(Ut.comparator)}(r),r.La=!1,yield hh(r.remoteStore,!1)}})).apply(this,arguments)}function bh(u,e,r){return _d.apply(this,arguments)}function _d(){return(_d=(0,c.A)(function*(u,e,r){const s=lt(u),l=[],m=[];for(const y of e){let D;const N=s.Da.get(y);if(N&&0!==N.length){D=yield al(s.localStore,X(N[0]));for(const W of N){const re=s.ba.get(W),ge=yield a_(s,re);ge.snapshot&&m.push(ge.snapshot)}}else{const W=yield Gs(s.localStore,y);D=yield al(s.localStore,W),yield Cf(s,Sf(W),y,!1,D.resumeToken)}l.push(D)}return s.Sa.h_(m),l})).apply(this,arguments)}function Sf(u){return Oc(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function Uu(u){return r=lt(u).localStore,lt(lt(r).persistence).Bi();var r}function ju(u,e,r,s){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,c.A)(function*(u,e,r,s){const l=lt(u);if(l.La)return void be("SyncEngine","Ignoring unexpected query state notification.");const m=l.Da.get(e);if(m&&m.length>0)switch(r){case"current":case"not-current":{const y=yield th(l.localStore,as(m[0])),D=Ci.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Li.EMPTY_BYTE_STRING);yield Cc(l,y,D);break}case"rejected":yield La(l.localStore,e,!0),fd(l,e,s);break;default:Mt()}})).apply(this,arguments)}function c_(u,e,r){return xf.apply(this,arguments)}function xf(){return(xf=(0,c.A)(function*(u,e,r){const s=Pf(u);if(s.La){for(const l of e){if(s.Da.has(l)&&s.sharedClientState.isActiveQueryTarget(l)){be("SyncEngine","Adding an already active target "+l);continue}const m=yield Gs(s.localStore,l),y=yield al(s.localStore,m);yield Cf(s,Sf(m),y.targetId,!1,y.resumeToken),yc(s.remoteStore,y)}for(const l of r)s.Da.has(l)&&(yield La(s.localStore,l,!1).then(()=>{tu(s.remoteStore,l),fd(s,l)}).catch(Pn))}})).apply(this,arguments)}function Pf(u){const e=lt(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gp.bind(null,e),e.Sa.h_=r_.bind(null,e.eventManager),e.Sa.ka=Lp.bind(null,e.eventManager),e}function Th(u){const e=lt(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=su.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Af.bind(null,e),e}class Ua{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,c.A)(function*(){r.serializer=je(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Mu(this.persistence,new Ru,e.initialUser,this.serializer)}createPersistence(e){return new uf(ql.Hr,this.serializer)}createSharedClientState(e){return new pf}terminate(){var e=this;return(0,c.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rf extends Ua{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield Th(s.Qa.syncEngine),yield dl(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Mu(this.persistence,new Ru,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Gc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new V(r,this.persistence);return new H(e.asyncQueue,s)}createPersistence(e){const r=eh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Vo.withCacheSize(this.cacheSizeBytes):Vo.DEFAULT;return new Do(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,K(),se(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pf}}class Mf extends Rf{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,e);const l=s.Qa.syncEngine;s.sharedClientState instanceof ed&&(s.sharedClientState.syncEngine={Zs:Qp.bind(null,l),Xs:ju.bind(null,l),eo:c_.bind(null,l),Bi:Uu.bind(null,l),Ys:hv.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var m=(0,c.A)(function*(y){yield function _l(u,e){return md.apply(this,arguments)}(s.Qa.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const r=K();if(!ed.D(r))throw new de(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=eh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ed(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class vd{initialize(e,r){var s=this;return(0,c.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Tf(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=bc.bind(null,s.syncEngine),yield hh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vp}createDatastore(e){const r=je(e.databaseInfo.databaseId),s=new A(e.databaseInfo);return new Br(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,m=e.asyncQueue,y=r=>Tf(this.syncEngine,r,0),D=Zc.D()?new Zc:new Jc,new _c(s,l,m,y,D);var s,l,m,y,D}createSyncEngine(e,r){return function(l,m,y,D,N,W,re){const ge=new Xg(l,m,y,D,N,W);return re&&(ge.La=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,c.A)(function*(){var r,s;yield(s=(0,c.A)(function*(m){const y=lt(m);be("RemoteStore","RemoteStore shutting down."),y.M_.add(5),yield eu(y),y.O_.shutdown(),y.N_.set("Unknown")}),function l(m){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function vl(u,e=10240){let r=0;return{read:()=>(0,c.A)(function*(){if(r<u.byteLength){const s={value:u.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Of{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class l_{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Oe,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,c.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,c.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,c.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),l=Number(s);isNaN(l)&&e.ja(`length string (${s}) is not valid number`);const m=yield e.Ha(l);return new Gg(JSON.parse(m),r.length+l)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,c.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,c.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,c.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Bu{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,c.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new de(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,c.A)(function*(y,D){const N=lt(y),W={documents:D.map(ht=>Ma(N.serializer,ht))},re=yield N.xo("BatchGetDocuments",N.serializer.databaseId,ln.emptyPath(),W,D.length),ge=new Map;re.forEach(ht=>{const Ht=function Di(u,e){return"found"in e?function(s,l){Bt(!!l.found);const m=gs(s,l.found.name),y=eo(l.found.updateTime),D=l.found.createTime?eo(l.found.createTime):Lt.min(),N=new mi({mapValue:{fields:l.found.fields}});return z.newFoundDocument(m,y,D,N)}(u,e):"missing"in e?function(s,l){Bt(!!l.missing),Bt(!!l.readTime);const m=gs(s,l.missing),y=eo(l.readTime);return z.newNoDocument(m,y)}(u,e):Mt()}(N.serializer,ht);ge.set(Ht.key.toString(),Ht)});const Ve=[];return D.forEach(ht=>{const Ht=ge.get(ht.toString());Bt(!!Ht),Ve.push(Ht)}),Ve}),function m(y,D){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new _i(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const m=Ut.fromPath(l);e.mutations.push(new wr(m,e.precondition(m)))}),yield(s=(0,c.A)(function*(m,y){const D=lt(m),N={writes:y.map(W=>Zo(D.serializer,W))};yield D.Co("Commit",D.serializer.databaseId,ln.emptyPath(),N)}),function l(m,y){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Mt();r=Lt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new de(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Lt.min())?wi.exists(!1):wi.updateTime(r):wi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Lt.min()))throw new de(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wi.updateTime(r)}return wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class d_{constructor(e,r,s,l,m){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=m,this.Za=s.maxAttempts,this.Yo=new vt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,c.A)(function*(){const r=new Bu(e.datastore),s=e.tu(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(m=>{e.nu(m)}))}).catch(l=>{e.nu(l)})}))}tu(e){try{const r=this.updateFunction(e);return!ue(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!fs(r)}return!1}}class h_{constructor(e,r,s,l){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=at.UNAUTHENTICATED,this.clientId=dr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,c.A)(function*(D){be("FirestoreClient","Received user=",D.uid),yield m.authCredentialListener(D),m.user=D});return function(D){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(be("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Oe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=hl(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Nf(u,e){return yd.apply(this,arguments)}function yd(){return yd=(0,c.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield e.initialize(r);let s=r.initialUser;u.setCredentialChangeListener(function(){var l=(0,c.A)(function*(m){s.isEqual(m)||(yield lf(e.localStore,m),s=m)});return function(m){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),yd.apply(this,arguments)}function ja(u,e){return yl.apply(this,arguments)}function yl(){return(yl=(0,c.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const r=yield kf(u);be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,u.configuration),u.setCredentialChangeListener(s=>mo(e.remoteStore,s)),u.setAppCheckTokenChangeListener((s,l)=>mo(e.remoteStore,l)),u._onlineComponents=e})).apply(this,arguments)}function Zp(u){return"FirebaseError"===u.name?u.code===Pe.FAILED_PRECONDITION||u.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code}function kf(u){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,c.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nf(u,u._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Zp(r))throw r;cn("Error using user provided cache. Falling back to memory cache: "+r),yield Nf(u,new Ua)}}else be("FirestoreClient","Using default OfflineComponentProvider"),yield Nf(u,new Ua);return u._offlineComponents})).apply(this,arguments)}function Vf(u){return wh.apply(this,arguments)}function wh(){return(wh=(0,c.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),yield ja(u,u._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),yield ja(u,new vd))),u._onlineComponents})).apply(this,arguments)}function Lf(u){return kf(u).then(e=>e.persistence)}function $u(u){return kf(u).then(e=>e.localStore)}function Uf(u){return Vf(u).then(e=>e.remoteStore)}function Ah(u){return Vf(u).then(e=>e.syncEngine)}function El(u){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,c.A)(function*(u){const e=yield Vf(u),r=e.eventManager;return r.onListen=Ef.bind(null,e.syncEngine),r.onUnlisten=Yg.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Up.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Bp.bind(null,e.syncEngine),r})).apply(this,arguments)}function eg(u,e,r={}){const s=new Oe;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(m,y,D,N,W){const re=new Of({next:Ve=>{y.enqueueAndForget(()=>fl(m,ge));const ht=Ve.docs.has(D);!ht&&Ve.fromCache?W.reject(new de(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):ht&&Ve.fromCache&&N&&"server"===N.source?W.reject(new de(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ve)},error:Ve=>W.reject(Ve)}),ge=new hd(Gr(D.path),re,{includeMetadataChanges:!0,ra:!0});return fh(m,ge)}(yield El(u),u.asyncQueue,e,r,s)})),s.promise}function tg(u,e,r={}){const s=new Oe;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(m,y,D,N,W){const re=new Of({next:Ve=>{y.enqueueAndForget(()=>fl(m,ge)),Ve.fromCache&&"server"===N.source?W.reject(new de(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ve)},error:Ve=>W.reject(Ve)}),ge=new hd(D,re,{includeMetadataChanges:!0,ra:!0});return fh(m,ge)}(yield El(u),u.asyncQueue,e,r,s)})),s.promise}function em(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const tm=new Map;function ig(u,e,r){if(!r)throw new de(Pe.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function nm(u,e,r,s){if(!0===e&&!0===s)throw new de(Pe.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)}function og(u){if(!Ut.isDocumentKey(u))throw new de(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function v_(u){if(Ut.isDocumentKey(u))throw new de(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function sg(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(s=u).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof u?"a function":Mt()}function Rr(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new de(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=sg(u);throw new de(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return u}function Ed(u,e){if(e<=0)throw new de(Pe.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}class ag{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new de(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new de(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=em(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new de(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new de(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new de(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ag({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new de(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ag(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new De;switch(s.type){case"firstParty":return new xt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=tm.get(r);s&&(be("ComponentProvider","Removing Datastore"),tm.delete(r),s.terminate())}(this),Promise.resolve()}}function Bf(u,e,r,s={}){var l;const m=(u=Rr(u,Cd))._getSettings(),y=`${e}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==y&&cn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},m),{host:y,ssl:!1})),s.mockUserToken){let D,N;if("string"==typeof s.mockUserToken)D=s.mockUserToken,N=at.MOCK_USER;else{D=(0,fe.Fy)(s.mockUserToken,null===(l=u._app)||void 0===l?void 0:l.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new de(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new at(W)}u._authCredentials=new Se(new Qe(D,N))}}class rs{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Po{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Po(this.firestore,e,this._key)}}class Ba extends rs{constructor(e,r,s){super(e,r,Gr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Po(this.firestore,null,new Ut(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function rm(u,e,...r){if(u=(0,fe.Ku)(u),ig("collection","path",e),u instanceof Cd){const s=ln.fromString(e,...r);return v_(s),new Ba(u,null,s)}{if(!(u instanceof Po||u instanceof Ba))throw new de(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(ln.fromString(e,...r));return v_(s),new Ba(u.firestore,null,s)}}function Sh(u,e){if(u=Rr(u,Cd),ig("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rs(u,null,(s=e,new ks(ln.emptyPath(),s)));var s}function y_(u,e,...r){if(u=(0,fe.Ku)(u),1===arguments.length&&(e=dr.newId()),ig("doc","path",e),u instanceof Cd){const s=ln.fromString(e,...r);return og(s),new Po(u,null,new Ut(s))}{if(!(u instanceof Po||u instanceof Ba))throw new de(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(ln.fromString(e,...r));return og(s),new Po(u.firestore,u instanceof Ba?u.converter:null,new Ut(s))}}function $f(u,e){return u=(0,fe.Ku)(u),e=(0,fe.Ku)(e),(u instanceof Po||u instanceof Ba)&&(e instanceof Po||e instanceof Ba)&&u.firestore===e.firestore&&u.path===e.path&&u.converter===e.converter}function cg(u,e){return u=(0,fe.Ku)(u),e=(0,fe.Ku)(e),u instanceof rs&&e instanceof rs&&u.firestore===e.firestore&&Bn(u._query,e._query)&&u.converter===e.converter}class ug{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new vt(this,"async_queue_retry"),this.hu=()=>{const r=se();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=se();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=se();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Oe;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,c.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!xn(r))throw r;be("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Jt("INTERNAL UNHANDLED ERROR: ",function(y){let D=y.message||"";return y.stack&&(D=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),D}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const l=kp.createAndSchedule(this,e,r,s,m=>this.Eu(m));return this._u.push(l),l}Pu(){this.au&&Mt()}verifyOperationInProgress(){}du(){var e=this;return(0,c.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Hf(u){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const m of["next","error","complete"])if(m in l&&"function"==typeof l[m])return!0;return!1}(u)}class im{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oe,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const bl=-1;class Hi extends Cd{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new ug,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Il(this),this._firestoreClient.terminate()}}function bd(u,e){const r="object"==typeof u?u:(0,ae.getApp)(),s="string"==typeof u?u:e||"(default)",l=(0,ae._getProvider)(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const m=(0,fe.yU)("firestore");m&&Bf(l,...m)}return l}function _o(u){return u._firestoreClient||Il(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function Il(u){var e,r,s;const l=u._freezeSettings(),m=(N=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new os(u._databaseId,N,u._persistenceKey,(re=l).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,em(re.experimentalLongPollingOptions),re.useFetchStreams));var N,re;u._firestoreClient=new h_(u._authCredentials,u._appCheckCredentials,u._queue,m),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Ic(u,e){am(u=Rr(u,Hi));const r=_o(u);if(r._uninitializedComponentsProvider)throw new de(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");cn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=u._freezeSettings(),l=new vd;return Tc(r,l,new Rf(l,s.cacheSizeBytes,e?.forceOwnership))}function pa(u){am(u=Rr(u,Hi));const e=_o(u);if(e._uninitializedComponentsProvider)throw new de(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");cn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=u._freezeSettings(),s=new vd;return Tc(e,s,new Mf(s,r.cacheSizeBytes))}function Tc(u,e,r){const s=new Oe;return u.asyncQueue.enqueue((0,c.A)(function*(){try{yield Nf(u,r),yield ja(u,e),s.resolve()}catch(l){const m=l;if(!Zp(m))throw m;cn("Error enabling indexeddb cache. Falling back to memory cache: "+m),s.reject(m)}})).then(()=>s.promise)}function Id(u){if(u._initialized&&!u._terminated)throw new de(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Oe;return u._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(r=(0,c.A)(function*(l){if(!ie.D())return Promise.resolve();const m=l+"main";yield ie.delete(m)}),function s(l){return r.apply(this,arguments)})(eh(u._databaseId,u._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Gf(u){return function(r){const s=new Oe;return r.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Eh(u,e){return zp.apply(this,arguments)}(yield Ah(r),s)})),s.promise}(_o(u=Rr(u,Hi)))}function E_(u){return function f_(u){return u.asyncQueue.enqueue((0,c.A)(function*(){const e=yield Lf(u),r=yield Uf(u);return e.setNetworkEnabled(!0),function(l){const m=lt(l);return m.M_.delete(0),vc(m)}(r)}))}(_o(u=Rr(u,Hi)))}function sm(u){return function p_(u){return u.asyncQueue.enqueue((0,c.A)(function*(){const e=yield Lf(u),r=yield Uf(u);return e.setNetworkEnabled(!1),(s=(0,c.A)(function*(m){const y=lt(m);y.M_.add(0),yield eu(y),y.N_.set("Offline")}),function l(m){return s.apply(this,arguments)})(r);var s}))}(_o(u=Rr(u,Hi)))}function C_(u,e){const r=_o(u=Rr(u,Hi)),s=new im;return function Cl(u,e,r,s){const l=function(y,D){let N;return N="string"==typeof y?us().encode(y):y,re=function(re,ge){if(re instanceof Uint8Array)return vl(re,void 0);if(re instanceof ArrayBuffer)return vl(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new l_(re,D);var re}(r,je(e));u.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function au(u,e,r){const s=lt(u);var l;(l=(0,c.A)(function*(y,D,N){try{const W=yield D.getMetadata();if(yield function(Ht,on){const Yt=lt(Ht),kn=eo(on.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",qn=>Yt.$r.getBundleMetadata(qn,on.id)).then(qn=>!!qn&&qn.createTime.compareTo(kn)>=0)}(y.localStore,W))return yield D.close(),N._completeWith({taskState:"Success",documentsLoaded:(Ht=W).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);N._updateProgress(zg(W));const re=new yf(W,y.localStore,D.serializer);let ge=yield D.qa();for(;ge;){const ht=yield re._a(ge);ht&&N._updateProgress(ht),ge=yield D.qa()}const Ve=yield re.complete();return yield Cc(y,Ve.ca,void 0),yield function(Ht,on){const Yt=lt(Ht);return Yt.persistence.runTransaction("Save bundle","readwrite",kn=>Yt.$r.saveBundleMetadata(kn,on))}(y.localStore,W),N._completeWith(Ve.progress),Promise.resolve(Ve.ua)}catch(W){return cn("SyncEngine",`Loading bundle failed with ${W}`),N._failWith(W),Promise.resolve(new Set)}var Ht}),function m(y,D,N){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Ah(u),l,s)}))}(r,u._databaseId,e,s),s}function b_(u,e){return function Jg(u,e){return u.asyncQueue.enqueue((0,c.A)(function*(){return function(s,l){const m=lt(s);return m.persistence.runTransaction("Get named query","readonly",y=>m.$r.getNamedQuery(y,l))}(yield $u(u),e)}))}(_o(u=Rr(u,Hi)),e).then(r=>r?new rs(u,null,r.query):null)}function am(u){if(u._initialized||u._terminated)throw new de(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hu(Li.fromBase64String(e))}catch(r){throw new de(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Hu(Li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new de(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Td{constructor(e){this._methodName=e}}class lg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new de(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new de(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const I_=/^__.*__$/;class T_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Pr(e,this.data,this.fieldMask,r,this.fieldTransforms):new vn(e,this.data,r,this.fieldTransforms)}}class lm{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Pr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Gu(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class vo{constructor(e,r,s,l,m,y){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===m&&this.mu(),this.fieldTransforms=m||[],this.fieldMask=y||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new vo(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.wu(e),l}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.mu(),l}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return kh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Gu(this.fu)&&I_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class wd{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||je(e)}Fu(e,r,s,l=!1){return new vo({fu:e,methodName:r,vu:s,path:Hn.emptyPath(),yu:!1,Cu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $a(u){const e=u._freezeSettings(),r=je(u._databaseId);return new wd(u._databaseId,!!e.ignoreUndefinedProperties,r)}function xh(u,e,r,s,l,m={}){const y=u.Fu(m.merge||m.mergeFields?2:0,e,r,l);dm("Data must be an object, but it was:",y,s);const D=Kf(s,y);let N,W;if(m.merge)N=new Bi(y.fieldMask),W=y.fieldTransforms;else if(m.mergeFields){const re=[];for(const ge of m.mergeFields){const Ve=Nh(e,ge,r);if(!y.contains(Ve))throw new de(Pe.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);hm(re,Ve)||re.push(Ve)}N=new Bi(re),W=y.fieldTransforms.filter(ge=>N.covers(ge.field))}else N=null,W=y.fieldTransforms;return new T_(new mi(D),N,W)}class wc extends Td{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function Ad(u,e,r){return new vo({fu:3,vu:e.settings.vu,methodName:u._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ph extends Td{_toFieldTransform(e){return new ua(e.path,new xa)}isEqual(e){return e instanceof Ph}}class Al extends Td{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Ad(this,e,!0),s=this.Mu.map(m=>Mh(m,r)),l=new ca(s);return new ua(e.path,l)}isEqual(e){return e instanceof Al&&(0,fe.bD)(this.Mu,e.Mu)}}class Dd extends Td{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Ad(this,e,!0),s=this.Mu.map(m=>Mh(m,r)),l=new Us(s);return new ua(e.path,l)}isEqual(e){return e instanceof Dd&&(0,fe.bD)(this.Mu,e.Mu)}}class zu extends Td{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Zs(e.serializer,Ca(e.serializer,this.xu));return new ua(e.path,r)}isEqual(e){return e instanceof zu&&this.xu===e.xu}}function Rh(u,e,r,s){const l=u.Fu(1,e,r);dm("Data must be an object, but it was:",l,s);const m=[],y=mi.empty();Oo(s,(N,W)=>{const re=dg(e,N,r);W=(0,fe.Ku)(W);const ge=l.Su(re);if(W instanceof wc)m.push(re);else{const Ve=Mh(W,ge);null!=Ve&&(m.push(re),y.set(re,Ve))}});const D=new Bi(m);return new lm(y,D,l.fieldTransforms)}function zf(u,e,r,s,l,m){const y=u.Fu(1,e,r),D=[Nh(e,s,r)],N=[l];if(m.length%2!=0)throw new de(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ve=0;Ve<m.length;Ve+=2)D.push(Nh(e,m[Ve])),N.push(m[Ve+1]);const W=[],re=mi.empty();for(let Ve=D.length-1;Ve>=0;--Ve)if(!hm(W,D[Ve])){const ht=D[Ve];let Ht=N[Ve];Ht=(0,fe.Ku)(Ht);const on=y.Su(ht);if(Ht instanceof wc)W.push(ht);else{const Yt=Mh(Ht,on);null!=Yt&&(W.push(ht),re.set(ht,Yt))}}const ge=new Bi(W);return new lm(re,ge,y.fieldTransforms)}function Wf(u,e,r,s=!1){return Mh(r,u.Fu(s?4:3,e))}function Mh(u,e){if(Oh(u=(0,fe.Ku)(u)))return dm("Unsupported field value:",e,u),Kf(u,e);if(u instanceof Td)return function(s,l){if(!Gu(l.fu))throw l.Du(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Du(`${s._methodName}() is not currently supported inside arrays`);const m=s._toFieldTransform(l);m&&l.fieldTransforms.push(m)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,l){const m=[];let y=0;for(const D of s){let N=Mh(D,l.bu(y));null==N&&(N={nullValue:"NULL_VALUE"}),m.push(N),y++}return{arrayValue:{values:m}}}(u,e)}return function(s,l){if(null===(s=(0,fe.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ca(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const m=Wt.fromDate(s);return{timestampValue:zo(l.serializer,m)}}if(s instanceof Wt){const m=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zo(l.serializer,m)}}if(s instanceof lg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hu)return{bytesValue:Zu(l.serializer,s._byteString)};if(s instanceof Po){const m=l.databaseId,y=s.firestore._databaseId;if(!y.isEqual(m))throw l.Du(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Ra(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Du(`Unsupported field value: ${sg(s)}`)}(u,e)}function Kf(u,e){const r={};return zi(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(u,(s,l)=>{const m=Mh(l,e.pu(s));null!=m&&(r[s]=m)}),{mapValue:{fields:r}}}function Oh(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Wt||u instanceof lg||u instanceof Hu||u instanceof Po||u instanceof Td)}function dm(u,e,r){if(!Oh(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=sg(r);throw e.Du("an object"===s?u+" a custom object":u+" "+s)}var l}function Nh(u,e,r){if((e=(0,fe.Ku)(e))instanceof cu)return e._internalPath;if("string"==typeof e)return dg(u,e);throw kh("Field path arguments must be of type string or ",u,!1,void 0,r)}const fv=new RegExp("[~\\*/\\[\\]]");function dg(u,e,r){if(e.search(fv)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new cu(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function kh(u,e,r,s,l){const m=s&&!s.isEmpty(),y=void 0!==l;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let N="";return(m||y)&&(N+=" (found",m&&(N+=` in field ${s}`),y&&(N+=` in document ${l}`),N+=")"),new de(Pe.INVALID_ARGUMENT,D+u+N)}function hm(u,e){return u.some(r=>r.isEqual(e))}class qf{constructor(e,r,s,l,m){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Po(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Fh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class fm extends qf{data(){return super.data()}}function Fh(u,e){return"string"==typeof e?dg(u,e):e instanceof cu?e._internalPath:e._delegate._internalPath}function Xf(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new de(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vh{}class uu extends Vh{}function w_(u,e,...r){let s=[];e instanceof Vh&&s.push(e),s=s.concat(r),function(m){const y=m.filter(N=>N instanceof Wu).length,D=m.filter(N=>N instanceof Sd).length;if(y>1||y>0&&D>0)throw new de(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)u=l._apply(u);return u}class Sd extends uu{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Sd(e,r,s)}_apply(e){const r=this._parse(e);return vm(e._query,r),new rs(e.firestore,e.converter,Ne(e._query,r))}_parse(e){const r=$a(e.firestore);return function(m,y,D,N,W,re,ge){let Ve;if(W.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new de(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){_m(ge,re);const ht=[];for(const Ht of ge)ht.push(x_(N,m,Ht));Ve={arrayValue:{values:ht}}}else Ve=x_(N,m,ge)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||_m(ge,re),Ve=Wf(D,"where",ge,"in"===re||"not-in"===re);return Ot.create(W,re,Ve)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function pm(u,e,r){const s=e,l=Fh("where",u);return Sd._create(l,s,r)}class Wu extends Vh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Wu(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:hn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,m){let y=l;const D=m.getFlattenedFilters();for(const N of D)vm(y,N),y=Ne(y,N)}(e._query,r),new rs(e.firestore,e.converter,Ne(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gm extends uu{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new gm(e,r)}_apply(e){const r=function(l,m,y){if(null!==l.startAt)throw new de(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new de(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bt(m,y)}(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,function(l,m){const y=l.explicitOrderBy.concat([m]);return new ks(l.path,l.collectionGroup,y,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}function A_(u,e="asc"){const r=e,s=Fh("orderBy",u);return gm._create(s,r)}class mm extends uu{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new mm(e,r,s)}_apply(e){return new rs(e.firestore,e.converter,_n(e._query,this._limit,this._limitType))}}function mv(u){return Ed("limit",u),mm._create("limit",u,"F")}function hg(u){return Ed("limitToLast",u),mm._create("limitToLast",u,"L")}class fg extends uu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new fg(e,r,s)}_apply(e){const r=S_(e,this.type,this._docOrFields,this._inclusive);return new rs(e.firestore,e.converter,(m=r,new ks((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,m,l.endAt)));var l,m}}function Lh(...u){return fg._create("startAt",u,!0)}function Yf(...u){return fg._create("startAfter",u,!1)}class pg extends uu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new pg(e,r,s)}_apply(e){const r=S_(e,this.type,this._docOrFields,this._inclusive);return new rs(e.firestore,e.converter,(m=r,new ks((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,m)));var l,m}}function D_(...u){return pg._create("endBefore",u,!1)}function _v(...u){return pg._create("endAt",u,!0)}function S_(u,e,r,s){if(r[0]=(0,fe.Ku)(r[0]),r[0]instanceof qf)return function(m,y,D,N,W){if(!N)throw new de(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const re=[];for(const ge of G(m))if(ge.field.isKeyField())re.push(en(y,N.key));else{const Ve=N.data.field(ge.field);if(Qo(Ve))throw new de(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ve){const ht=ge.field.canonicalString();throw new de(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ht}' (used as the orderBy) does not exist.`)}re.push(Ve)}return new ye(re,W)}(u._query,u.firestore._databaseId,e,r[0]._document,s);{const l=$a(u.firestore);return function(y,D,N,W,re,ge){const Ve=y.explicitOrderBy;if(re.length>Ve.length)throw new de(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ht=[];for(let Ht=0;Ht<re.length;Ht++){const on=re[Ht];if(Ve[Ht].field.isKeyField()){if("string"!=typeof on)throw new de(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof on}`);if(!Da(y)&&-1!==on.indexOf("/"))throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${on}' contains a slash.`);const Yt=y.path.child(ln.fromString(on));if(!Ut.isDocumentKey(Yt))throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Yt}' is not because it contains an odd number of segments.`);const kn=new Ut(Yt);ht.push(en(D,kn))}else{const Yt=Wf(N,W,on);ht.push(Yt)}}return new ye(ht,ge)}(u._query,u.firestore._databaseId,l,e,r,s)}}function x_(u,e,r){if("string"==typeof(r=(0,fe.Ku)(r))){if(""===r)throw new de(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Da(e)&&-1!==r.indexOf("/"))throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(ln.fromString(r));if(!Ut.isDocumentKey(s))throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return en(u,new Ut(s))}if(r instanceof Po)return en(u,r._key);throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sg(r)}.`)}function _m(u,e){if(!Array.isArray(u)||0===u.length)throw new de(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vm(u,e){const r=function(l,m){for(const y of l)for(const D of y.getFlattenedFilters())if(m.indexOf(D.op)>=0)return D.op;return null}(u.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new de(Pe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class P_{convertValue(e,r="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Mt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Oo(e,(l,m)=>{s[l]=this.convertValue(m,r)}),s}convertGeoPoint(e){return new lg(oi(e.latitude),oi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=ws(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(lo(e));default:return null}}convertTimestamp(e){const r=No(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=ln.fromString(e);Bt(Uc(s));const l=new Kn(s.get(1),s.get(3)),m=new Ut(s.popFirst(5));return l.isEqual(r)||Jt(`Document ${m} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function Uh(u,e,r){let s;return s=u?r&&(r.merge||r.mergeFields)?u.toFirestore(e,r):u.toFirestore(e):e,s}class R_ extends P_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Po(this.firestore,null,r)}}class xd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pd extends qf{constructor(e,r,s,l,m,y){super(e,r,s,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Fh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class mg extends Pd{data(e={}){return super.data(e)}}class Dl{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new xd(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new mg(this._firestore,this._userDataWriter,s.key,s,new xd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new de(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,m){if(l._snapshot.oldDocs.isEmpty()){let y=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new mg(l._firestore,l._userDataWriter,D.doc.key,D.doc,new xd(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:y++}))}{let y=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>m||3!==D.type).map(D=>{const N=new mg(l._firestore,l._userDataWriter,D.doc.key,D.doc,new xd(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let W=-1,re=-1;return 0!==D.type&&(W=y.indexOf(D.doc.key),y=y.delete(D.doc.key)),1!==D.type&&(y=y.add(D.doc),re=y.indexOf(D.doc.key)),{type:O_(D.type),doc:N,oldIndex:W,newIndex:re}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function O_(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function Ac(u,e){return u instanceof Pd&&e instanceof Pd?u._firestore===e._firestore&&u._key.isEqual(e._key)&&(null===u._document?null===e._document:u._document.isEqual(e._document))&&u._converter===e._converter:u instanceof Dl&&e instanceof Dl&&u._firestore===e._firestore&&cg(u.query,e.query)&&u.metadata.isEqual(e.metadata)&&u._snapshot.isEqual(e._snapshot)}function N_(u){u=Rr(u,Po);const e=Rr(u.firestore,Hi);return eg(_o(e),u._key).then(r=>Cm(e,u,r))}class Rd extends P_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Po(this.firestore,null,r)}}function ym(u){u=Rr(u,Po);const e=Rr(u.firestore,Hi),r=_o(e),s=new Rd(e);return function g_(u,e){const r=new Oe;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(m,y,D){try{const N=yield function(re,ge){const Ve=lt(re);return Ve.persistence.runTransaction("read document","readonly",ht=>Ve.localDocuments.getDocument(ht,ge))}(m,y);N.isFoundDocument()?D.resolve(N):N.isNoDocument()?D.resolve(null):D.reject(new de(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const W=hl(N,`Failed to get document '${y} from cache`);D.reject(W)}}),function l(m,y,D){return s.apply(this,arguments)})(yield $u(u),e,r);var s})),r.promise}(r,u._key).then(l=>new Pd(e,s,u._key,l,new xd(null!==l&&l.hasLocalMutations,!0),u.converter))}function Sl(u){u=Rr(u,Po);const e=Rr(u.firestore,Hi);return eg(_o(e),u._key,{source:"server"}).then(r=>Cm(e,u,r))}function _g(u){u=Rr(u,rs);const e=Rr(u.firestore,Hi),r=_o(e),s=new Rd(e);return Xf(u._query),tg(r,u._query).then(l=>new Dl(e,s,u,l))}function yv(u){u=Rr(u,rs);const e=Rr(u.firestore,Hi),r=_o(e),s=new Rd(e);return function jf(u,e){const r=new Oe;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(m,y,D){try{const N=yield Ql(m,y,!0),W=new qg(y,N.hs),re=W.da(N.documents),ge=W.applyChanges(re,!1);D.resolve(ge.snapshot)}catch(N){const W=hl(N,`Failed to execute query '${y} against cache`);D.reject(W)}}),function l(m,y,D){return s.apply(this,arguments)})(yield $u(u),e,r);var s})),r.promise}(r,u._query).then(l=>new Dl(e,s,u,l))}function Ev(u){u=Rr(u,rs);const e=Rr(u.firestore,Hi),r=_o(e),s=new Rd(e);return tg(r,u._query,{source:"server"}).then(l=>new Dl(e,s,u,l))}function Cv(u,e,r){u=Rr(u,Po);const s=Rr(u.firestore,Hi),l=Uh(u.converter,e,r);return Ro(s,[xh($a(s),"setDoc",u._key,l,null!==u.converter,r).toMutation(u._key,wi.none())])}function Em(u,e,r,...s){u=Rr(u,Po);const l=Rr(u.firestore,Hi),m=$a(l);let y;return y="string"==typeof(e=(0,fe.Ku)(e))||e instanceof cu?zf(m,"updateDoc",u._key,e,r,s):Rh(m,"updateDoc",u._key,e),Ro(l,[y.toMutation(u._key,wi.exists(!0))])}function lu(u){return Ro(Rr(u.firestore,Hi),[new _i(u._key,wi.none())])}function k_(u,e){const r=Rr(u.firestore,Hi),s=y_(u),l=Uh(u.converter,e);return Ro(r,[xh($a(u.firestore),"addDoc",s._key,l,null!==u.converter,{}).toMutation(s._key,wi.exists(!1))]).then(()=>s)}function bv(u,...e){var r,s,l;u=(0,fe.Ku)(u);let m={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof e[y]||Hf(e[y])||(m=e[y],y++);const D={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(Hf(e[y])){const ge=e[y];e[y]=null===(r=ge.next)||void 0===r?void 0:r.bind(ge),e[y+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[y+2]=null===(l=ge.complete)||void 0===l?void 0:l.bind(ge)}let N,W,re;if(u instanceof Po)W=Rr(u.firestore,Hi),re=Gr(u._key.path),N={next:ge=>{e[y]&&e[y](Cm(W,u,ge))},error:e[y+1],complete:e[y+2]};else{const ge=Rr(u,rs);W=Rr(ge.firestore,Hi),re=ge._query;const Ve=new Rd(W);N={next:ht=>{e[y]&&e[y](new Dl(W,Ve,ge,ht))},error:e[y+1],complete:e[y+2]},Xf(u._query)}return function(Ve,ht,Ht,on){const Yt=new Of(on),kn=new hd(ht,Yt,Ht);return Ve.asyncQueue.enqueueAndForget((0,c.A)(function*(){return fh(yield El(Ve),kn)})),()=>{Yt.$a(),Ve.asyncQueue.enqueueAndForget((0,c.A)(function*(){return fl(yield El(Ve),kn)}))}}(_o(W),re,D,N)}function Cy(u,e){return function m_(u,e){const r=new Of(e);return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return l=yield El(u),m=r,lt(l).z_.add(m),void m.next();var l,m})),()=>{r.$a(),u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return l=yield El(u),m=r,void lt(l).z_.delete(m);var l,m}))}}(_o(u=Rr(u,Hi)),Hf(e)?e:{next:e})}function Ro(u,e){return function(s,l){const m=new Oe;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function $p(u,e,r){return vh.apply(this,arguments)}(yield Ah(s),l,m)})),m.promise}(_o(u),e)}function Cm(u,e,r){const s=r.docs.get(e._key),l=new Rd(u);return new Pd(u,l,e._key,s,new xd(r.hasPendingWrites,r.fromCache),e.converter)}const du={maxAttempts:5};class Od{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=$a(e)}set(e,r,s){this._verifyNotCommitted();const l=Dc(e,this._firestore),m=Uh(l.converter,r,s),y=xh(this._dataReader,"WriteBatch.set",l._key,m,null!==l.converter,s);return this._mutations.push(y.toMutation(l._key,wi.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const m=Dc(e,this._firestore);let y;return y="string"==typeof(r=(0,fe.Ku)(r))||r instanceof cu?zf(this._dataReader,"WriteBatch.update",m._key,r,s,l):Rh(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(y.toMutation(m._key,wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Dc(e,this._firestore);return this._mutations=this._mutations.concat(new _i(r._key,wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dc(u,e){if((u=(0,fe.Ku)(u)).firestore!==e)throw new de(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class j_ extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=$a(r)}get(r){const s=Dc(r,this._firestore),l=new R_(this._firestore);return this._transaction.lookup([s._key]).then(m=>{if(!m||1!==m.length)return Mt();const y=m[0];if(y.isFoundDocument())return new qf(this._firestore,l,y.key,y,s.converter);if(y.isNoDocument())return new qf(this._firestore,l,s._key,null,s.converter);throw Mt()})}set(r,s,l){const m=Dc(r,this._firestore),y=Uh(m.converter,s,l),D=xh(this._dataReader,"Transaction.set",m._key,y,null!==m.converter,l);return this._transaction.set(m._key,D),this}update(r,s,l,...m){const y=Dc(r,this._firestore);let D;return D="string"==typeof(s=(0,fe.Ku)(s))||s instanceof cu?zf(this._dataReader,"Transaction.update",y._key,s,l,m):Rh(this._dataReader,"Transaction.update",y._key,s),this._transaction.update(y._key,D),this}delete(r){const s=Dc(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Dc(e,this._firestore),s=new Rd(this._firestore);return super.get(e).then(l=>new Pd(this._firestore,s,r._key,l._document,new xd(!1,!1),r.converter))}}function Im(u,e,r){u=Rr(u,Hi);const s=Object.assign(Object.assign({},du),r);return function(m){if(m.maxAttempts<1)throw new de(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(m,y,D){const N=new Oe;return m.asyncQueue.enqueueAndForget((0,c.A)(function*(){const W=yield function ar(u){return Vf(u).then(e=>e.datastore)}(m);new d_(m.asyncQueue,W,D,y,N).Xa()})),N.promise}(_o(u),l=>e(new j_(u,l)),s)}function Tm(){return new wc("deleteField")}function vg(){return new Ph("serverTimestamp")}function jh(...u){return new Al("arrayUnion",u)}function Jf(...u){return new Dd("arrayRemove",u)}function B_(u){return new zu("increment",u)}!function(e,r=!0){Ze=ae.SDK_VERSION,(0,ae._registerComponent)(new o.uA("firestore",(s,{instanceIdentifier:l,options:m})=>{const y=s.getProvider("app").getImmediate(),D=new Hi(new $e(s.getProvider("auth-internal")),new rn(s.getProvider("app-check-internal")),function(W,re){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new de(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kn(W.options.projectId,re)}(y,l),y);return m=Object.assign({useFetchStreams:r},m),D._setSettings(m),D},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ge,"4.6.3",e),(0,ae.registerVersion)(Ge,"4.6.3","esm2017")}()},4535:(nn,Je,L)=>{L.d(Je,{Ad:()=>Nn,D5:()=>en,KR:()=>di,Mp:()=>bo,Mx:()=>Qr,TZ:()=>qt,UC:()=>xi,UY:()=>Zn,XR:()=>ro,ZH:()=>bn,_w:()=>cr,bp:()=>qi,c7:()=>Ur,nb:()=>ko,nw:()=>gn,p_:()=>Vn,qk:()=>Ui,uj:()=>Jt,xc:()=>Fn,yb:()=>xr});var c=L(467),ae=L(7852),o=L(1076),we=L(1362);const fe="firebasestorage.googleapis.com",Ae="storageBucket";class Z extends o.g{constructor(z,ye,xe=0){super(me(z),`Firebase Storage: ${ye} (${me(z)})`),this.status_=xe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Z.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return me(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ce=function(Q){return Q.UNKNOWN="unknown",Q.OBJECT_NOT_FOUND="object-not-found",Q.BUCKET_NOT_FOUND="bucket-not-found",Q.PROJECT_NOT_FOUND="project-not-found",Q.QUOTA_EXCEEDED="quota-exceeded",Q.UNAUTHENTICATED="unauthenticated",Q.UNAUTHORIZED="unauthorized",Q.UNAUTHORIZED_APP="unauthorized-app",Q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Q.INVALID_CHECKSUM="invalid-checksum",Q.CANCELED="canceled",Q.INVALID_EVENT_NAME="invalid-event-name",Q.INVALID_URL="invalid-url",Q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Q.NO_DEFAULT_BUCKET="no-default-bucket",Q.CANNOT_SLICE_BLOB="cannot-slice-blob",Q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Q.NO_DOWNLOAD_URL="no-download-url",Q.INVALID_ARGUMENT="invalid-argument",Q.INVALID_ARGUMENT_COUNT="invalid-argument-count",Q.APP_DELETED="app-deleted",Q.INVALID_ROOT_OPERATION="invalid-root-operation",Q.INVALID_FORMAT="invalid-format",Q.INTERNAL_ERROR="internal-error",Q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Q}(ce||{});function me(Q){return"storage/"+Q}function ut(){return new Z(ce.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sn(){return new Z(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function et(){return new Z(ce.CANCELED,"User canceled the upload/download.")}function it(){return new Z(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Jt(Q){return new Z(ce.INVALID_ARGUMENT,Q)}function cn(){return new Z(ce.APP_DELETED,"The Firebase app was deleted.")}function Zn(Q){return new Z(ce.INVALID_ROOT_OPERATION,"The operation '"+Q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mt(Q,z){return new Z(ce.INVALID_FORMAT,"String does not match format '"+Q+"': "+z)}function Bt(Q){throw new Z(ce.INTERNAL_ERROR,"Internal error: "+Q)}class qt{constructor(z,ye){this.bucket=z,this.path_=ye}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,ye){let xe;try{xe=qt.makeFromUrl(z,ye)}catch{return new qt(z,"")}if(""===xe.path)return xe;throw function at(Q){return new Z(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Q+"'.")}(z)}static makeFromUrl(z,ye){let xe=null;const Ke="([A-Za-z0-9.\\-_]+)",fn=new RegExp("^gs://"+Ke+"(/(.*))?$","i");function hn(Ei){Ei.path_=decodeURIComponent(Ei.path)}const Sn=ye.replace(/[.]/g,"\\."),er=[{regex:fn,indices:{bucket:1,path:3},postModify:function bt(Ei){"/"===Ei.path.charAt(Ei.path.length-1)&&(Ei.path_=Ei.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Sn}/v[A-Za-z0-9_]+/b/${Ke}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:hn},{regex:new RegExp(`^https?://${ye===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":ye}/${Ke}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:hn}];for(let Ei=0;Ei<er.length;Ei++){const ti=er[Ei],fr=ti.regex.exec(z);if(fr){let Ti=fr[ti.indices.path];Ti||(Ti=""),xe=new qt(fr[ti.indices.bucket],Ti),ti.postModify(xe);break}}if(null==xe)throw function Ge(Q){return new Z(ce.INVALID_URL,"Invalid URL '"+Q+"'.")}(z);return xe}}class lt{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function Se(Q){return"string"==typeof Q||Q instanceof String}function $e(Q){return wt()&&Q instanceof Blob}function wt(){return typeof Blob<"u"}function xt(Q,z,ye,xe){if(xe<z)throw Jt(`Invalid value for '${Q}'. Expected ${z} or greater.`);if(xe>ye)throw Jt(`Invalid value for '${Q}'. Expected ${ye} or less.`)}function un(Q,z,ye){let xe=z;return null==ye&&(xe=`https://${z}`),`${ye}://${xe}/v0${Q}`}function rn(Q){const z=encodeURIComponent;let ye="?";for(const xe in Q)Q.hasOwnProperty(xe)&&(ye=ye+(z(xe)+"=")+z(Q[xe])+"&");return ye=ye.slice(0,-1),ye}var On=function(Q){return Q[Q.NO_ERROR=0]="NO_ERROR",Q[Q.NETWORK_ERROR=1]="NETWORK_ERROR",Q[Q.ABORT=2]="ABORT",Q}(On||{});function Cn(Q,z){const ye=Q>=500&&Q<600,Ke=-1!==[408,429].indexOf(Q),bt=-1!==z.indexOf(Q);return ye||Ke||bt}class dr{constructor(z,ye,xe,Ke,bt,Xt,fn,Ot,hn,rr,Sn,hi=!0){this.url_=z,this.method_=ye,this.headers_=xe,this.body_=Ke,this.successCodes_=bt,this.additionalRetryCodes_=Xt,this.callback_=fn,this.errorCallback_=Ot,this.timeout_=hn,this.progressCallback_=rr,this.connectionFactory_=Sn,this.retry=hi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((br,Kr)=>{this.resolve_=br,this.reject_=Kr,this.start_()})}start_(){const ye=(xe,Ke)=>{const bt=this.resolve_,Xt=this.reject_,fn=Ke.connection;if(Ke.wasSuccessCode)try{const Ot=this.callback_(fn,fn.getResponse());!function Oe(Q){return void 0!==Q}(Ot)?bt():bt(Ot)}catch(Ot){Xt(Ot)}else if(null!==fn){const Ot=ut();Ot.serverResponse=fn.getErrorText(),Xt(this.errorCallback_?this.errorCallback_(fn,Ot):Ot)}else Xt(Ke.canceled?this.appDelete_?cn():et():sn())};this.canceled_?ye(0,new Gt(!1,null,!0)):this.backoffId_=function Pe(Q,z,ye){let xe=1,Ke=null,bt=null,Xt=!1,fn=0;function Ot(){return 2===fn}let hn=!1;function rr(...kr){hn||(hn=!0,z.apply(null,kr))}function Sn(kr){Ke=setTimeout(()=>{Ke=null,Q(br,Ot())},kr)}function hi(){bt&&clearTimeout(bt)}function br(kr,...Xi){if(hn)return void hi();if(kr)return hi(),void rr.call(null,kr,...Xi);if(Ot()||Xt)return hi(),void rr.call(null,kr,...Xi);let er;xe<64&&(xe*=2),1===fn?(fn=2,er=0):er=1e3*(xe+Math.random()),Sn(er)}let Kr=!1;function ei(kr){Kr||(Kr=!0,hi(),!hn&&(null!==Ke?(kr||(fn=2),clearTimeout(Ke),Sn(0)):kr||(fn=1)))}return Sn(0),bt=setTimeout(()=>{Xt=!0,ei(!0)},ye),ei}((xe,Ke)=>{if(Ke)return void xe(!1,new Gt(!1,null,!0));const bt=this.connectionFactory_();this.pendingConnection_=bt;const Xt=fn=>{null!==this.progressCallback_&&this.progressCallback_(fn.loaded,fn.lengthComputable?fn.total:-1)};null!==this.progressCallback_&&bt.addUploadProgressListener(Xt),bt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&bt.removeUploadProgressListener(Xt),this.pendingConnection_=null;const fn=bt.getErrorCode()===On.NO_ERROR,Ot=bt.getStatus();if(!fn||Cn(Ot,this.additionalRetryCodes_)&&this.retry){const rr=bt.getErrorCode()===On.ABORT;return void xe(!1,new Gt(!1,null,rr))}const hn=-1!==this.successCodes_.indexOf(Ot);xe(!0,new Gt(hn,bt))})},ye,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function de(Q){Q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Gt{constructor(z,ye,xe){this.wasSuccessCode=z,this.connection=ye,this.canceled=!!xe}}function vr(...Q){const z=function ln(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==z){const ye=new z;for(let xe=0;xe<Q.length;xe++)ye.append(Q[xe]);return ye.getBlob()}if(wt())return new Blob(Q);throw new Z(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dn{constructor(z,ye){this.data=z,this.contentType=ye||null}}function bn(Q,z){switch(Q){case gn.RAW:return new Dn(hr(z));case gn.BASE64:case gn.BASE64URL:return new Dn(Xr(Q,z));case gn.DATA_URL:return new Dn(function Yr(Q){const z=new jn(Q);return z.base64?Xr(gn.BASE64,z.rest):function Er(Q){let z;try{z=decodeURIComponent(Q)}catch{throw Mt(gn.DATA_URL,"Malformed data URL.")}return hr(z)}(z.rest)}(z),function Ki(Q){return new jn(Q).contentType}(z))}throw ut()}function hr(Q){const z=[];for(let ye=0;ye<Q.length;ye++){let xe=Q.charCodeAt(ye);xe<=127?z.push(xe):xe<=2047?z.push(192|xe>>6,128|63&xe):55296==(64512&xe)?ye<Q.length-1&&56320==(64512&Q.charCodeAt(ye+1))?(xe=65536|(1023&xe)<<10|1023&Q.charCodeAt(++ye),z.push(240|xe>>18,128|xe>>12&63,128|xe>>6&63,128|63&xe)):z.push(239,191,189):56320==(64512&xe)?z.push(239,191,189):z.push(224|xe>>12,128|xe>>6&63,128|63&xe)}return new Uint8Array(z)}function Xr(Q,z){switch(Q){case gn.BASE64:{const Ke=-1!==z.indexOf("-"),bt=-1!==z.indexOf("_");if(Ke||bt)throw Mt(Q,"Invalid character '"+(Ke?"-":"_")+"' found: is it base64url encoded?");break}case gn.BASE64URL:{const Ke=-1!==z.indexOf("+"),bt=-1!==z.indexOf("/");if(Ke||bt)throw Mt(Q,"Invalid character '"+(Ke?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let ye;try{ye=function Ut(Q){if(typeof atob>"u")throw function be(Q){return new Z(ce.UNSUPPORTED_ENVIRONMENT,`${Q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Q)}(z)}catch(Ke){throw Ke.message.includes("polyfill")?Ke:Mt(Q,"Invalid character found")}const xe=new Uint8Array(ye.length);for(let Ke=0;Ke<ye.length;Ke++)xe[Ke]=ye.charCodeAt(Ke);return xe}class jn{constructor(z){this.base64=!1,this.contentType=null;const ye=z.match(/^data:([^,]+)?,/);if(null===ye)throw Mt(gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const xe=ye[1]||null;null!=xe&&(this.base64=function an(Q,z){return Q.length>=z.length&&Q.substring(Q.length-z.length)===z}(xe,";base64"),this.contentType=this.base64?xe.substring(0,xe.length-7):xe),this.rest=z.substring(z.indexOf(",")+1)}}class Qr{constructor(z,ye){let xe=0,Ke="";$e(z)?(this.data_=z,xe=z.size,Ke=z.type):z instanceof ArrayBuffer?(ye?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),xe=this.data_.length):z instanceof Uint8Array&&(ye?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),xe=z.length),this.size_=xe,this.type_=Ke}size(){return this.size_}type(){return this.type_}slice(z,ye){if($e(this.data_)){const Ke=function Hn(Q,z,ye){return Q.webkitSlice?Q.webkitSlice(z,ye):Q.mozSlice?Q.mozSlice(z,ye):Q.slice?Q.slice(z,ye):null}(this.data_,z,ye);return null===Ke?null:new Qr(Ke)}{const xe=new Uint8Array(this.data_.buffer,z,ye-z);return new Qr(xe,!0)}}static getBlob(...z){if(wt()){const ye=z.map(xe=>xe instanceof Qr?xe.data_:xe);return new Qr(vr.apply(null,ye))}{const ye=z.map(Xt=>Se(Xt)?bn(gn.RAW,Xt).data:Xt.data_);let xe=0;ye.forEach(Xt=>{xe+=Xt.byteLength});const Ke=new Uint8Array(xe);let bt=0;return ye.forEach(Xt=>{for(let fn=0;fn<Xt.length;fn++)Ke[bt++]=Xt[fn]}),new Qr(Ke,!0)}}uploadData(){return this.data_}}function Wn(Q){let z;try{z=JSON.parse(Q)}catch{return null}return function De(Q){return"object"==typeof Q&&!Array.isArray(Q)}(z)?z:null}function vi(Q){const z=Q.lastIndexOf("/",Q.length-2);return-1===z?Q:Q.slice(z+1)}function ze(Q,z){return z}class yt{constructor(z,ye,xe,Ke){this.server=z,this.local=ye||z,this.writable=!!xe,this.xform=Ke||ze}}let ie=null;function pt(){if(ie)return ie;const Q=[];Q.push(new yt("bucket")),Q.push(new yt("generation")),Q.push(new yt("metageneration")),Q.push(new yt("name","fullPath",!0));const ye=new yt("name");ye.xform=function z(bt,Xt){return function Ie(Q){return!Se(Q)||Q.length<2?Q:vi(Q)}(Xt)},Q.push(ye);const Ke=new yt("size");return Ke.xform=function xe(bt,Xt){return void 0!==Xt?Number(Xt):Xt},Q.push(Ke),Q.push(new yt("timeCreated")),Q.push(new yt("updated")),Q.push(new yt("md5Hash",null,!0)),Q.push(new yt("cacheControl",null,!0)),Q.push(new yt("contentDisposition",null,!0)),Q.push(new yt("contentEncoding",null,!0)),Q.push(new yt("contentLanguage",null,!0)),Q.push(new yt("contentType",null,!0)),Q.push(new yt("metadata","customMetadata",!0)),ie=Q,ie}function Tr(Q,z,ye){const xe=Wn(z);return null===xe?null:function xn(Q,z,ye){const xe={type:"file"},Ke=ye.length;for(let bt=0;bt<Ke;bt++){const Xt=ye[bt];xe[Xt.local]=Xt.xform(xe,z[Xt.server])}return function Kt(Q,z){Object.defineProperty(Q,"ref",{get:function ye(){const bt=new qt(Q.bucket,Q.fullPath);return z._makeStorageReference(bt)}})}(xe,Q),xe}(Q,xe,ye)}function Re(Q,z){const ye={},xe=z.length;for(let Ke=0;Ke<xe;Ke++){const bt=z[Ke];bt.writable&&(ye[bt.server]=Q[bt.local])}return JSON.stringify(ye)}const ee="prefixes",H="items";class ue{constructor(z,ye,xe,Ke){this.url=z,this.method=ye,this.handler=xe,this.timeout=Ke,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Le(Q){if(!Q)throw ut()}function le(Q,z){return function ye(xe,Ke){const bt=Tr(Q,Ke,z);return Le(null!==bt),bt}}function ot(Q){return function z(ye,xe){let Ke;return Ke=401===ye.getStatus()?ye.getErrorText().includes("Firebase App Check token is invalid")?function jt(){return new Z(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function It(){return new Z(ce.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ye.getStatus()?function Tt(Q){return new Z(ce.QUOTA_EXCEEDED,"Quota for bucket '"+Q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Q.bucket):403===ye.getStatus()?function Nt(Q){return new Z(ce.UNAUTHORIZED,"User does not have permission to access '"+Q+"'.")}(Q.path):xe,Ke.status=ye.getStatus(),Ke.serverResponse=xe.serverResponse,Ke}}function Xe(Q){const z=ot(Q);return function ye(xe,Ke){let bt=z(xe,Ke);return 404===xe.getStatus()&&(bt=function Ye(Q){return new Z(ce.OBJECT_NOT_FOUND,"Object '"+Q+"' does not exist.")}(Q.path)),bt.serverResponse=Ke.serverResponse,bt}}function Rn(Q,z,ye){const Ke=un(z.fullServerUrl(),Q.host,Q._protocol),Xt=Q.maxOperationRetryTime,fn=new ue(Ke,"GET",le(Q,ye),Xt);return fn.errorHandler=Xe(z),fn}function En(Q,z,ye,xe,Ke){const bt={};bt.prefix=z.isRoot?"":z.path+"/",ye&&ye.length>0&&(bt.delimiter=ye),xe&&(bt.pageToken=xe),Ke&&(bt.maxResults=Ke);const fn=un(z.bucketOnlyServerUrl(),Q.host,Q._protocol),hn=Q.maxOperationRetryTime,rr=new ue(fn,"GET",function qe(Q,z){return function ye(xe,Ke){const bt=function F(Q,z,ye){const xe=Wn(ye);return null===xe?null:function V(Q,z,ye){const xe={prefixes:[],items:[],nextPageToken:ye.nextPageToken};if(ye[ee])for(const Ke of ye[ee]){const bt=Ke.replace(/\/$/,""),Xt=Q._makeStorageReference(new qt(z,bt));xe.prefixes.push(Xt)}if(ye[H])for(const Ke of ye[H]){const bt=Q._makeStorageReference(new qt(z,Ke.name));xe.items.push(bt)}return xe}(Q,z,xe)}(Q,z,Ke);return Le(null!==bt),bt}}(Q,z.bucket),hn);return rr.urlParams=bt,rr.errorHandler=ot(z),rr}function Oi(Q,z,ye){const xe=Object.assign({},ye);return xe.fullPath=Q.path,xe.size=z.size(),xe.contentType||(xe.contentType=function no(Q,z){return Q&&Q.contentType||z&&z.type()||"application/octet-stream"}(null,z)),xe}class nr{constructor(z,ye,xe,Ke){this.current=z,this.total=ye,this.finalized=!!xe,this.metadata=Ke||null}}function gt(Q,z){let ye=null;try{ye=Q.getResponseHeader("X-Goog-Upload-Status")}catch{Le(!1)}return Le(!!ye&&-1!==(z||["active"]).indexOf(ye)),ye}const Fn={STATE_CHANGED:"state_changed"},Nn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $r(Q){switch(Q){case"running":case"pausing":case"canceling":return Nn.RUNNING;case"paused":return Nn.PAUSED;case"success":return Nn.SUCCESS;case"canceled":return Nn.CANCELED;default:return Nn.ERROR}}class Or{constructor(z,ye,xe){if(function Qe(Q){return"function"==typeof Q}(z)||null!=ye||null!=xe)this.next=z,this.error=ye??void 0,this.complete=xe??void 0;else{const bt=z;this.next=bt.next,this.error=bt.error,this.complete=bt.complete}}}function Ni(Q){return(...z)=>{Promise.resolve().then(()=>Q(...z))}}let Yo=null;class Sr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=On.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=On.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=On.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,ye,xe,Ke){if(this.sent_)throw Bt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ye,z,!0),void 0!==Ke)for(const bt in Ke)Ke.hasOwnProperty(bt)&&this.xhr_.setRequestHeader(bt,Ke[bt].toString());return void 0!==xe?this.xhr_.send(xe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class Is extends Sr{initXhr(){this.xhr_.responseType="text"}}function ki(){return Yo?Yo():new Is}class xi{constructor(z,ye,xe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=z,this._blob=ye,this._metadata=xe,this._mappings=pt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ke=>{if(this._request=void 0,this._chunkMultiplier=1,Ke._codeEquals(ce.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const bt=this.isExponentialBackoffExpired();if(Cn(Ke.status,[])){if(!bt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ke=sn()}this._error=Ke,this._transition("error")}},this._metadataErrorHandler=Ke=>{this._request=void 0,Ke._codeEquals(ce.CANCELED)?this.completeTransitions_():(this._error=Ke,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ke,bt)=>{this._resolve=Ke,this._reject=bt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const z=this._transferred;return ye=>this._updateProgress(z+ye)}_shouldDoResumable(z){return z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ye,xe])=>{switch(this._state){case"running":z(ye,xe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((z,ye)=>{const xe=function tt(Q,z,ye,xe,Ke){const bt=z.bucketOnlyServerUrl(),Xt=Oi(z,xe,Ke),fn={name:Xt.fullPath},Ot=un(bt,Q.host,Q._protocol),rr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${xe.size()}`,"X-Goog-Upload-Header-Content-Type":Xt.contentType,"Content-Type":"application/json; charset=utf-8"},Sn=Re(Xt,ye),Kr=new ue(Ot,"POST",function br(ei){let kr;gt(ei);try{kr=ei.getResponseHeader("X-Goog-Upload-URL")}catch{Le(!1)}return Le(Se(kr)),kr},Q.maxUploadRetryTime);return Kr.urlParams=fn,Kr.headers=rr,Kr.body=Sn,Kr.errorHandler=ot(z),Kr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ke=this._ref.storage._makeRequest(xe,ki,z,ye);this._request=Ke,Ke.getPromise().then(bt=>{this._request=void 0,this._uploadUrl=bt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const z=this._uploadUrl;this._resolveToken((ye,xe)=>{const Ke=function Pt(Q,z,ye,xe){const Ot=new ue(ye,"POST",function bt(hn){const rr=gt(hn,["active","final"]);let Sn=null;try{Sn=hn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Le(!1)}Sn||Le(!1);const hi=Number(Sn);return Le(!isNaN(hi)),new nr(hi,xe.size(),"final"===rr)},Q.maxUploadRetryTime);return Ot.headers={"X-Goog-Upload-Command":"query"},Ot.errorHandler=ot(z),Ot}(this._ref.storage,this._ref._location,z,this._blob),bt=this._ref.storage._makeRequest(Ke,ki,ye,xe);this._request=bt,bt.getPromise().then(Xt=>{this._request=void 0,this._updateProgress(Xt.current),this._needToFetchStatus=!1,Xt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const z=262144*this._chunkMultiplier,ye=new nr(this._transferred,this._blob.size()),xe=this._uploadUrl;this._resolveToken((Ke,bt)=>{let Xt;try{Xt=function wn(Q,z,ye,xe,Ke,bt,Xt,fn){const Ot=new nr(0,0);if(Xt?(Ot.current=Xt.current,Ot.total=Xt.total):(Ot.current=0,Ot.total=xe.size()),xe.size()!==Ot.total)throw function At(){return new Z(ce.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const hn=Ot.total-Ot.current;let rr=hn;Ke>0&&(rr=Math.min(rr,Ke));const Sn=Ot.current;let br="";br=0===rr?"finalize":hn===rr?"upload, finalize":"upload";const Kr={"X-Goog-Upload-Command":br,"X-Goog-Upload-Offset":`${Ot.current}`},ei=xe.slice(Sn,Sn+rr);if(null===ei)throw it();const er=new ue(ye,"POST",function kr(Ei,ti){const fr=gt(Ei,["active","final"]),As=Ot.current+rr,Ti=xe.size();let Ds;return Ds="final"===fr?le(z,bt)(Ei,ti):null,new nr(As,Ti,"final"===fr,Ds)},z.maxUploadRetryTime);return er.headers=Kr,er.body=ei.uploadData(),er.progressCallback=fn||null,er.errorHandler=ot(Q),er}(this._ref._location,this._ref.storage,xe,this._blob,z,this._mappings,ye,this._makeProgressCallback())}catch(Ot){return this._error=Ot,void this._transition("error")}const fn=this._ref.storage._makeRequest(Xt,ki,Ke,bt,!1);this._request=fn,fn.getPromise().then(Ot=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ot.current),Ot.finalized?(this._metadata=Ot.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((z,ye)=>{const xe=Rn(this._ref.storage,this._ref._location,this._mappings),Ke=this._ref.storage._makeRequest(xe,ki,z,ye);this._request=Ke,Ke.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((z,ye)=>{const xe=function ii(Q,z,ye,xe,Ke){const bt=z.bucketOnlyServerUrl(),Xt={"X-Goog-Upload-Protocol":"multipart"},Ot=function fn(){let er="";for(let Ei=0;Ei<2;Ei++)er+=Math.random().toString().slice(2);return er}();Xt["Content-Type"]="multipart/related; boundary="+Ot;const hn=Oi(z,xe,Ke),rr=Re(hn,ye),br=Qr.getBlob("--"+Ot+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rr+"\r\n--"+Ot+"\r\nContent-Type: "+hn.contentType+"\r\n\r\n",xe,"\r\n--"+Ot+"--");if(null===br)throw it();const Kr={name:hn.fullPath},ei=un(bt,Q.host,Q._protocol),Xi=Q.maxUploadRetryTime,Yi=new ue(ei,"POST",le(Q,ye),Xi);return Yi.urlParams=Kr,Yi.headers=Xt,Yi.body=br.uploadData(),Yi.errorHandler=ot(z),Yi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ke=this._ref.storage._makeRequest(xe,ki,z,ye);this._request=Ke,Ke.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(z){const ye=this._transferred;this._transferred=z,this._transferred!==ye&&this._notifyObservers()}_transition(z){if(this._state!==z)switch(z){case"canceling":case"pausing":this._state=z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ye="paused"===this._state;this._state=z,ye&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=z,this._notifyObservers();break;case"canceled":this._error=et(),this._state=z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const z=$r(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:z,metadata:this._metadata,task:this,ref:this._ref}}on(z,ye,xe,Ke){const bt=new Or(ye||void 0,xe||void 0,Ke||void 0);return this._addObserver(bt),()=>{this._removeObserver(bt)}}then(z,ye){return this._promise.then(z,ye)}catch(z){return this.then(null,z)}_addObserver(z){this._observers.push(z),this._notifyObserver(z)}_removeObserver(z){const ye=this._observers.indexOf(z);-1!==ye&&this._observers.splice(ye,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ye=>{this._notifyObserver(ye)})}_finishPromise(){if(void 0!==this._resolve){let z=!0;switch($r(this._state)){case Nn.SUCCESS:Ni(this._resolve.bind(null,this.snapshot))();break;case Nn.CANCELED:case Nn.ERROR:Ni(this._reject.bind(null,this._error))();break;default:z=!1}z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(z){switch($r(this._state)){case Nn.RUNNING:case Nn.PAUSED:z.next&&Ni(z.next.bind(z,this.snapshot))();break;case Nn.SUCCESS:z.complete&&Ni(z.complete.bind(z))();break;default:z.error&&Ni(z.error.bind(z,this._error))()}}resume(){const z="paused"===this._state||"pausing"===this._state;return z&&this._transition("running"),z}pause(){const z="running"===this._state;return z&&this._transition("pausing"),z}cancel(){const z="running"===this._state||"pausing"===this._state;return z&&this._transition("canceling"),z}}class zi{constructor(z,ye){this._service=z,this._location=ye instanceof qt?ye:qt.makeFromUrl(ye,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,ye){return new zi(z,ye)}get root(){const z=new qt(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vi(this._location.path)}get storage(){return this._service}get parent(){const z=function gr(Q){if(0===Q.length)return null;const z=Q.lastIndexOf("/");return-1===z?"":Q.slice(0,z)}(this._location.path);if(null===z)return null;const ye=new qt(this._location.bucket,z);return new zi(this._service,ye)}_throwIfRoot(z){if(""===this._location.path)throw Zn(z)}}function Bi(Q,z,ye){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.A)(function*(Q,z,ye){const Ke=yield Os(Q,{pageToken:ye});z.prefixes.push(...Ke.prefixes),z.items.push(...Ke.items),null!=Ke.nextPageToken&&(yield Bi(Q,z,Ke.nextPageToken))})).apply(this,arguments)}function Os(Q,z){null!=z&&"number"==typeof z.maxResults&&xt("options.maxResults",1,1e3,z.maxResults);const ye=z||{},xe=En(Q.storage,Q._location,"/",ye.pageToken,ye.maxResults);return Q.storage.makeRequestWithTokens(xe,ki)}function No(Q){Q._throwIfRoot("getDownloadURL");const z=function Cr(Q,z,ye){const Ke=un(z.fullServerUrl(),Q.host,Q._protocol),Xt=Q.maxOperationRetryTime,fn=new ue(Ke,"GET",function _e(Q,z){return function ye(xe,Ke){const bt=Tr(Q,Ke,z);return Le(null!==bt),function sr(Q,z,ye,xe){const Ke=Wn(z);if(null===Ke||!Se(Ke.downloadTokens))return null;const bt=Ke.downloadTokens;if(0===bt.length)return null;const Xt=encodeURIComponent;return bt.split(",").map(hn=>{const Sn=Q.fullPath;return un("/b/"+Xt(Q.bucket)+"/o/"+Xt(Sn),ye,xe)+rn({alt:"media",token:hn})})[0]}(bt,Ke,Q.host,Q._protocol)}}(Q,ye),Xt);return fn.errorHandler=Xe(z),fn}(Q.storage,Q._location,pt());return Q.storage.makeRequestWithTokens(z,ki).then(ye=>{if(null===ye)throw function Vt(){return new Z(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ye})}function Co(Q,z){const ye=function Pn(Q,z){const ye=z.split("/").filter(xe=>xe.length>0).join("/");return 0===Q.length?ye:Q+"/"+ye}(Q._location.path,z),xe=new qt(Q._location.bucket,ye);return new zi(Q.storage,xe)}function lo(Q,z){if(Q instanceof bi){const ye=Q;if(null==ye._bucket)throw function Ze(){return new Z(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();const xe=new zi(ye,ye._bucket);return null!=z?lo(xe,z):xe}return void 0!==z?Co(Q,z):Q}function os(Q,z){if(z&&function Qo(Q){return/^[A-Za-z]+:\/\//.test(Q)}(z)){if(Q instanceof bi)return function ws(Q,z){return new zi(Q,z)}(Q,z);throw Jt("To use ref(service, url), the first argument must be a Storage instance.")}return lo(Q,z)}function Kn(Q,z){const ye=z?.[Ae];return null==ye?null:qt.makeFromBucketSpec(ye,Q)}class bi{constructor(z,ye,xe,Ke,bt){this.app=z,this._authProvider=ye,this._appCheckProvider=xe,this._url=Ke,this._firebaseVersion=bt,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ke?qt.makeFromBucketSpec(Ke,this._host):Kn(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?qt.makeFromBucketSpec(this._url,z):Kn(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){xt("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){xt("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,c.A)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const ye=z._authProvider.getImmediate({optional:!0});if(ye){const xe=yield ye.getToken();if(null!==xe)return xe.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,c.A)(function*(){const ye=z._appCheckProvider.getImmediate({optional:!0});return ye?(yield ye.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new zi(this,z)}_makeRequest(z,ye,xe,Ke,bt=!0){if(this._deleted)return new lt(cn());{const Xt=function Fr(Q,z,ye,xe,Ke,bt,Xt=!0){const fn=rn(Q.urlParams),Ot=Q.url+fn,hn=Object.assign({},Q.headers);return function Wt(Q,z){z&&(Q["X-Firebase-GMPID"]=z)}(hn,z),function In(Q,z){null!==z&&z.length>0&&(Q.Authorization="Firebase "+z)}(hn,ye),function Un(Q,z){Q["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(hn,bt),function Lt(Q,z){null!==z&&(Q["X-Firebase-AppCheck"]=z)}(hn,xe),new dr(Ot,Q.method,hn,Q.body,Q.successCodes,Q.additionalRetryCodes,Q.handler,Q.errorHandler,Q.timeout,Q.progressCallback,Ke,Xt)}(z,this._appId,xe,Ke,ye,this._firebaseVersion,bt);return this._requests.add(Xt),Xt.getPromise().then(()=>this._requests.delete(Xt),()=>this._requests.delete(Xt)),Xt}}makeRequestWithTokens(z,ye){var xe=this;return(0,c.A)(function*(){const[Ke,bt]=yield Promise.all([xe._getAuthToken(),xe._getAppCheckToken()]);return xe._makeRequest(z,ye,Ke,bt).getPromise()})()}}const ho="@firebase/storage",Ii="storage";function qi(Q,z,ye){return function Nr(Q,z,ye){return Q._throwIfRoot("uploadBytesResumable"),new xi(Q,new Qr(z),ye)}(Q=(0,o.Ku)(Q),z,ye)}function xr(Q){return function Li(Q){Q._throwIfRoot("getMetadata");const z=Rn(Q.storage,Q._location,pt());return Q.storage.makeRequestWithTokens(z,ki)}(Q=(0,o.Ku)(Q))}function en(Q,z){return function oa(Q,z){Q._throwIfRoot("updateMetadata");const ye=function Xo(Q,z,ye,xe){const bt=un(z.fullServerUrl(),Q.host,Q._protocol),fn=Re(ye,xe),hn=Q.maxOperationRetryTime,rr=new ue(bt,"PATCH",le(Q,xe),hn);return rr.headers={"Content-Type":"application/json; charset=utf-8"},rr.body=fn,rr.errorHandler=Xe(z),rr}(Q.storage,Q._location,z,pt());return Q.storage.makeRequestWithTokens(ye,ki)}(Q=(0,o.Ku)(Q),z)}function Vn(Q,z){return Os(Q=(0,o.Ku)(Q),z)}function cr(Q){return function uo(Q){const z={prefixes:[],items:[]};return Bi(Q,z).then(()=>z)}(Q=(0,o.Ku)(Q))}function Ui(Q){return No(Q=(0,o.Ku)(Q))}function ro(Q){return function oi(Q){Q._throwIfRoot("deleteObject");const z=function ci(Q,z){const xe=un(z.fullServerUrl(),Q.host,Q._protocol),fn=new ue(xe,"DELETE",function Xt(Ot,hn){},Q.maxOperationRetryTime);return fn.successCodes=[200,204],fn.errorHandler=Xe(z),fn}(Q.storage,Q._location);return Q.storage.makeRequestWithTokens(z,ki)}(Q=(0,o.Ku)(Q))}function di(Q,z){return os(Q=(0,o.Ku)(Q),z)}function bo(Q,z){return Co(Q,z)}function Ur(Q=(0,ae.getApp)(),z){Q=(0,o.Ku)(Q);const xe=(0,ae._getProvider)(Q,Ii).getImmediate({identifier:z}),Ke=(0,o.yU)("storage");return Ke&&ko(xe,...Ke),xe}function ko(Q,z,ye,xe={}){!function ui(Q,z,ye,xe={}){Q.host=`${z}:${ye}`,Q._protocol="http";const{mockUserToken:Ke}=xe;Ke&&(Q._overrideAuthToken="string"==typeof Ke?Ke:(0,o.Fy)(Ke,Q.app.options.projectId))}(Q,z,ye,xe)}function Io(Q,{instanceIdentifier:z}){const ye=Q.getProvider("app").getImmediate(),xe=Q.getProvider("auth-internal"),Ke=Q.getProvider("app-check-internal");return new bi(ye,xe,Ke,z,ae.SDK_VERSION)}!function mi(){(0,ae._registerComponent)(new we.uA(Ii,Io,"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ho,"0.12.5",""),(0,ae.registerVersion)(ho,"0.12.5","esm2017")}()},1076:(nn,Je,L)=>{L.d(Je,{Am:()=>Ut,Bd:()=>Jt,FA:()=>$e,Fy:()=>it,I9:()=>gn,Im:()=>Lt,Ku:()=>sr,Ll:()=>be,T9:()=>Ge,Uj:()=>Ue,XA:()=>at,ZQ:()=>At,bD:()=>ln,cY:()=>Ze,eX:()=>Oe,g:()=>Se,gR:()=>Un,hp:()=>Dn,jZ:()=>Vt,lT:()=>Bt,lV:()=>Zn,nr:()=>Pe,sr:()=>cn,tD:()=>hr,u:()=>Z,yU:()=>et,zW:()=>de,zw:()=>me});const we=function(Re){const ee=[];let H=0;for(let V=0;V<Re.length;V++){let F=Re.charCodeAt(V);F<128?ee[H++]=F:F<2048?(ee[H++]=F>>6|192,ee[H++]=63&F|128):55296==(64512&F)&&V+1<Re.length&&56320==(64512&Re.charCodeAt(V+1))?(F=65536+((1023&F)<<10)+(1023&Re.charCodeAt(++V)),ee[H++]=F>>18|240,ee[H++]=F>>12&63|128,ee[H++]=F>>6&63|128,ee[H++]=63&F|128):(ee[H++]=F>>12|224,ee[H++]=F>>6&63|128,ee[H++]=63&F|128)}return ee},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,ee){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let F=0;F<Re.length;F+=3){const ue=Re[F],Le=F+1<Re.length,le=Le?Re[F+1]:0,qe=F+2<Re.length,_e=qe?Re[F+2]:0;let Rn=(15&le)<<2|_e>>6,En=63&_e;qe||(En=64,Le||(Rn=64)),V.push(H[ue>>2],H[(3&ue)<<4|le>>4],H[Rn],H[En])}return V.join("")},encodeString(Re,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(Re):this.encodeByteArray(we(Re),ee)},decodeString(Re,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(Re):function(Re){const ee=[];let H=0,V=0;for(;H<Re.length;){const F=Re[H++];if(F<128)ee[V++]=String.fromCharCode(F);else if(F>191&&F<224){const ue=Re[H++];ee[V++]=String.fromCharCode((31&F)<<6|63&ue)}else if(F>239&&F<365){const qe=((7&F)<<18|(63&Re[H++])<<12|(63&Re[H++])<<6|63&Re[H++])-65536;ee[V++]=String.fromCharCode(55296+(qe>>10)),ee[V++]=String.fromCharCode(56320+(1023&qe))}else{const ue=Re[H++],Le=Re[H++];ee[V++]=String.fromCharCode((15&F)<<12|(63&ue)<<6|63&Le)}}return ee.join("")}(this.decodeStringToByteArray(Re,ee))},decodeStringToByteArray(Re,ee){this.init_();const H=ee?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let F=0;F<Re.length;){const ue=H[Re.charAt(F++)],le=F<Re.length?H[Re.charAt(F)]:0;++F;const _e=F<Re.length?H[Re.charAt(F)]:64;++F;const Xe=F<Re.length?H[Re.charAt(F)]:64;if(++F,null==ue||null==le||null==_e||null==Xe)throw new ke;V.push(ue<<2|le>>4),64!==_e&&(V.push(le<<4&240|_e>>2),64!==Xe&&V.push(_e<<6&192|Xe))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(Re){return function(Re){const ee=we(Re);return Ae.encodeByteArray(ee,!0)}(Re).replace(/\./g,"")},Z=function(Re){try{return Ae.decodeString(Re,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function me(Re,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return ee}for(const H in ee)!ee.hasOwnProperty(H)||!ut(H)||(Re[H]=me(Re[H],ee[H]));return Re}function ut(Re){return"__proto__"!==Re}const Nt=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Re=process.env.__FIREBASE_DEFAULTS__;return Re?JSON.parse(Re):void 0})()||(()=>{if(typeof document>"u")return;let Re;try{Re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ee=Re&&Z(Re[1]);return ee&&JSON.parse(ee)})()}catch(Re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Re}`)}},et=Re=>{const ee=(Re=>{var ee,H;return null===(H=null===(ee=Nt())||void 0===ee?void 0:ee.emulatorHosts)||void 0===H?void 0:H[Re]})(Re);if(!ee)return;const H=ee.lastIndexOf(":");if(H<=0||H+1===ee.length)throw new Error(`Invalid host ${ee} with no separate hostname and port!`);const V=parseInt(ee.substring(H+1),10);return"["===ee[0]?[ee.substring(1,H-1),V]:[ee.substring(0,H),V]},Ge=()=>{var Re;return null===(Re=Nt())||void 0===Re?void 0:Re.config},at=Re=>{var ee;return null===(ee=Nt())||void 0===ee?void 0:ee[`_${Re}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,H)=>{this.resolve=ee,this.reject=H})}wrapCallback(ee){return(H,V)=>{H?this.reject(H):this.resolve(V),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(H):ee(H,V))}}}function it(Re,ee){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=ee||"demo-project",F=Re.iat||0,ue=Re.sub||Re.user_id;if(!ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:F,exp:F+3600,auth_time:F,sub:ue,user_id:ue,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(Le)),""].join(".")}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function be(){var Re;const ee=null===(Re=Nt())||void 0===Re?void 0:Re.forceEnvironment;if("node"===ee)return!0;if("browser"===ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Jt(){return"object"==typeof self&&self.self===self}function cn(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function Zn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bt(){const Re=At();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function Pe(){return!be()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((Re,ee)=>{try{let H=!0;const V="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(V);F.onsuccess=()=>{F.result.close(),H||self.indexedDB.deleteDatabase(V),Re(!0)},F.onupgradeneeded=()=>{H=!1},F.onerror=()=>{var ue;ee((null===(ue=F.error)||void 0===ue?void 0:ue.message)||"")}}catch(H){ee(H)}})}class Se extends Error{constructor(ee,H,V){super(H),this.code=ee,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(ee,H,V){this.service=ee,this.serviceName=H,this.errors=V}create(ee,...H){const V=H[0]||{},F=`${this.service}/${ee}`,ue=this.errors[ee],Le=ue?function wt(Re,ee){return Re.replace(xt,(H,V)=>{const F=ee[V];return null!=F?String(F):`<${V}?>`})}(ue,V):"Error";return new Se(F,`${this.serviceName}: ${Le} (${F}).`,V)}}const xt=/\{\$([^}]+)}/g;function Un(Re,ee){return Object.prototype.hasOwnProperty.call(Re,ee)}function Lt(Re){for(const ee in Re)if(Object.prototype.hasOwnProperty.call(Re,ee))return!1;return!0}function ln(Re,ee){if(Re===ee)return!0;const H=Object.keys(Re),V=Object.keys(ee);for(const F of H){if(!V.includes(F))return!1;const ue=Re[F],Le=ee[F];if(vr(ue)&&vr(Le)){if(!ln(ue,Le))return!1}else if(ue!==Le)return!1}for(const F of V)if(!H.includes(F))return!1;return!0}function vr(Re){return null!==Re&&"object"==typeof Re}function Ut(Re){const ee=[];for(const[H,V]of Object.entries(Re))Array.isArray(V)?V.forEach(F=>{ee.push(encodeURIComponent(H)+"="+encodeURIComponent(F))}):ee.push(encodeURIComponent(H)+"="+encodeURIComponent(V));return ee.length?"&"+ee.join("&"):""}function gn(Re){const ee={};return Re.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[F,ue]=V.split("=");ee[decodeURIComponent(F)]=decodeURIComponent(ue)}}),ee}function Dn(Re){const ee=Re.indexOf("?");if(!ee)return"";const H=Re.indexOf("#",ee);return Re.substring(ee,H>0?H:void 0)}function hr(Re,ee){const H=new Er(Re,ee);return H.subscribe.bind(H)}class Er{constructor(ee,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{ee(this)}).catch(V=>{this.error(V)})}next(ee){this.forEachObserver(H=>{H.next(ee)})}error(ee){this.forEachObserver(H=>{H.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,H,V){let F;if(void 0===ee&&void 0===H&&void 0===V)throw new Error("Missing Observer.");F=function jn(Re,ee){if("object"!=typeof Re||null===Re)return!1;for(const H of ee)if(H in Re&&"function"==typeof Re[H])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:H,complete:V},void 0===F.next&&(F.next=Yr),void 0===F.error&&(F.error=Yr),void 0===F.complete&&(F.complete=Yr);const ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),ue}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,ee)}sendOne(ee,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{H(this.observers[ee])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function sr(Re){return Re&&Re._delegate?Re._delegate:Re}},3739:(nn,Je,L)=>{L.d(Je,{W:()=>we});var c=L(7705),ae=L(177);function o(fe,Ae){1&fe&&(c.j41(0,"button",4),c.EFF(1,"Scehdule A Visit"),c.k0s())}let we=(()=>{class fe{static#e=this.\u0275fac=function(Fe){return new(Fe||fe)};static#t=this.\u0275cmp=c.VBU({type:fe,selectors:[["app-center-text"]],inputs:{title:"title",content:"content",showBtn:"showBtn"},decls:6,vars:3,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description"],["class","afhBtn",4,"ngIf"],[1,"afhBtn"]],template:function(Fe,Ue){1&Fe&&(c.j41(0,"div",0)(1,"h2",1),c.EFF(2),c.k0s(),c.j41(3,"h4",2),c.EFF(4),c.k0s(),c.DNE(5,o,2,0,"button",3),c.k0s()),2&Fe&&(c.R7$(2),c.JRh(Ue.title),c.R7$(2),c.SpI(" ",Ue.content," "),c.R7$(1),c.Y8G("ngIf",Ue.showBtn))},dependencies:[ae.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}return fe})()},491:(nn,Je,L)=>{L.d(Je,{G:()=>ae});var c=L(7705);let ae=(()=>{class o{static#e=this.\u0275fac=function(Ae){return new(Ae||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"]],template:function(Ae,ke){1&Ae&&(c.j41(0,"section",0)(1,"div",1)(2,"h2"),c.EFF(3),c.k0s(),c.j41(4,"h4"),c.EFF(5),c.k0s()(),c.j41(6,"div",2),c.nrm(7,"img",3),c.k0s()()),2&Ae&&(c.R7$(3),c.JRh(ke.title),c.R7$(2),c.JRh(ke.content),c.R7$(2),c.FS9("src",ke.imageURL,c.B4B),c.FS9("alt",ke.title))},styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},4593:(nn,Je,L)=>{L.d(Je,{F:()=>ae});var c=L(7705);let ae=(()=>{class o{static#e=this.\u0275fac=function(Ae){return new(Ae||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"]],template:function(Ae,ke){1&Ae&&(c.j41(0,"section",0)(1,"div",1),c.nrm(2,"img",2),c.k0s(),c.j41(3,"div",3)(4,"h2"),c.EFF(5),c.k0s(),c.j41(6,"h4"),c.EFF(7),c.k0s()()()),2&Ae&&(c.R7$(2),c.FS9("src",ke.imageURL,c.B4B),c.FS9("alt",ke.title),c.R7$(3),c.JRh(ke.title),c.R7$(2),c.JRh(ke.content))},styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;padding:3rem}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},1584:(nn,Je,L)=>{L.d(Je,{B:()=>Le});var c=L(7705),ae=L(6814),o=L(6861),we=L(923),fe=L(177),Ae=L(467),ke=L(5558),Fe=L(8455),Ue=L(6354),Z=L(8704);function ce(le,qe){if(1&le&&c.nrm(0,"button",14),2&le){const _e=qe.index;c.AVh("active",0===_e),c.BMQ("data-bs-slide-to",_e)("aria-current",0===_e?"true":null)("aria-label","Slide "+(_e+1))}}function me(le,qe){if(1&le){const _e=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",17)(3,"h1"),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.EFF(6),c.k0s(),c.j41(7,"div",18),c.nrm(8,"br"),c.j41(9,"p"),c.EFF(10),c.k0s()(),c.j41(11,"button",19),c.bIt("click",function(){c.eBV(_e);const Xe=c.XpG(3);return c.Njj(Xe.navigateToContact(Xe.businessId))}),c.EFF(12," Book Consultation "),c.k0s()()()}if(2&le){const _e=qe.$implicit,ot=qe.index,Xe=c.XpG(3);c.AVh("active",0===ot),c.R7$(1),c.Y8G("src",_e.url,c.B4B),c.R7$(5),c.SpI(" ",Xe.business.businessName,""),c.R7$(4),c.JRh(Xe.business.tagline)}}function ut(le,qe){if(1&le&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,ce,1,5,"button",6),c.k0s(),c.j41(3,"div",7),c.DNE(4,me,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&le){const _e=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",_e.heroImages),c.R7$(2),c.Y8G("ngForOf",_e.heroImages)}}function Ye(le,qe){if(1&le&&(c.qex(0),c.DNE(1,ut,13,2,"div",3),c.bVm()),2&le){const _e=c.XpG();c.R7$(1),c.Y8G("ngIf",_e.business)}}function Tt(le,qe){if(1&le&&c.nrm(0,"button",14),2&le){const _e=qe.index;c.AVh("active",0===_e),c.BMQ("data-bs-slide-to",_e)("aria-current",0===_e?"true":null)("aria-label","Slide "+(_e+1))}}function It(le,qe){if(1&le){const _e=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",21)(3,"h1",22),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.j41(6,"span",23),c.EFF(7),c.k0s()(),c.j41(8,"div",24)(9,"h3"),c.EFF(10),c.k0s()(),c.j41(11,"button",25),c.bIt("click",function(){c.eBV(_e);const Xe=c.XpG(3);return c.Njj(Xe.navigateToContact(Xe.businessId))}),c.EFF(12," Schedule a Visit "),c.k0s()()()}if(2&le){const _e=qe.$implicit,ot=qe.index,Xe=c.XpG(3);c.AVh("active",0===ot),c.R7$(1),c.Y8G("src",_e.url,c.B4B),c.R7$(6),c.JRh(Xe.business.businessName),c.R7$(3),c.JRh(Xe.business.tagline)}}function jt(le,qe){if(1&le&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,Tt,1,5,"button",6),c.k0s(),c.j41(3,"div",7),c.DNE(4,It,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&le){const _e=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",_e.heroImages),c.R7$(2),c.Y8G("ngForOf",_e.heroImages)}}function Nt(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",20),c.DNE(2,jt,13,2,"div",3),c.k0s(),c.bVm()),2&le){const _e=c.XpG();c.R7$(2),c.Y8G("ngIf",_e.business)}}function sn(le,qe){if(1&le&&c.nrm(0,"button",14),2&le){const _e=qe.index;c.AVh("active",0===_e),c.BMQ("data-bs-slide-to",_e)("aria-current",0===_e?"true":null)("aria-label","Slide "+(_e+1))}}function et(le,qe){if(1&le){const _e=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",21)(3,"h1",22),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.j41(6,"span",23),c.EFF(7),c.k0s()(),c.j41(8,"div",24)(9,"h3"),c.EFF(10),c.k0s()(),c.j41(11,"button",25),c.bIt("click",function(){c.eBV(_e);const Xe=c.XpG(3);return c.Njj(Xe.navigateToContact(Xe.businessId))}),c.EFF(12," Schedule a Visit "),c.k0s()()()}if(2&le){const _e=qe.$implicit,ot=qe.index,Xe=c.XpG(3);c.AVh("active",0===ot),c.R7$(1),c.Y8G("src",_e.url,c.B4B),c.R7$(6),c.JRh(Xe.business.businessName),c.R7$(3),c.JRh(Xe.business.tagline)}}function Ge(le,qe){if(1&le&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,sn,1,5,"button",6),c.k0s(),c.j41(3,"div",7),c.DNE(4,et,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&le){const _e=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",_e.heroImages),c.R7$(2),c.Y8G("ngForOf",_e.heroImages)}}function at(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",20),c.DNE(2,Ge,13,2,"div",3),c.k0s(),c.bVm()),2&le){const _e=c.XpG();c.R7$(2),c.Y8G("ngIf",_e.business)}}function Ze(le,qe){if(1&le&&c.nrm(0,"button",27),2&le){const _e=qe.index;c.AVh("active",0===_e),c.BMQ("data-bs-slide-to",_e)("aria-current",0===_e?"true":null)("aria-label","Slide "+(_e+1))}}function it(le,qe){if(1&le){const _e=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",21)(3,"h1",22),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.j41(6,"span",23),c.EFF(7),c.k0s()(),c.j41(8,"div",24)(9,"h3"),c.EFF(10),c.k0s()(),c.j41(11,"button",28),c.bIt("click",function(){c.eBV(_e);const Xe=c.XpG(3);return c.Njj(Xe.navigateToContact(Xe.businessId))}),c.EFF(12," Schedule a Visit "),c.k0s()()()}if(2&le){const _e=qe.$implicit,ot=qe.index,Xe=c.XpG(3);c.AVh("active",0===ot),c.R7$(1),c.Y8G("src",_e.url,c.B4B),c.R7$(6),c.JRh(Xe.business.businessName),c.R7$(3),c.JRh(Xe.business.tagline)}}function At(le,qe){if(1&le&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,Ze,1,5,"button",26),c.k0s(),c.j41(3,"div",7),c.DNE(4,it,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&le){const _e=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",_e.heroImages),c.R7$(2),c.Y8G("ngForOf",_e.heroImages)}}function Vt(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",20),c.DNE(2,At,13,2,"div",3),c.k0s(),c.bVm()),2&le){const _e=c.XpG();c.R7$(2),c.Y8G("ngIf",_e.business)}}let be=(()=>{class le{constructor(_e,ot,Xe,Rn){this.router=_e,this.route=ot,this.webContentService=Xe,this.businessDataService=Rn,this.business=null,this.heroImages=[],this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(_e=>{this.business=_e,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.business&&(console.log("Hero Section busines id:",this.business.id),console.log("Hero Section LayoutType: ",this.layoutType),this.loadHeroImages())})}loadHeroImages(){var _e=this;this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,ke.n)(Xe=>{const Rn=Xe.map(function(){var En=(0,Ae.A)(function*(Zr){return(yield _e.webContentService.checkImageExists(Zr.url))?Zr:null});return function(Zr){return En.apply(this,arguments)}}());return(0,Fe.H)(Promise.all(Rn))}),(0,Ue.T)(Xe=>Xe.filter(Rn=>null!==Rn))).subscribe(Xe=>{this.heroImages=Xe,this.heroImages.forEach(Rn=>{console.log(Rn.url)})})}navigateToContact(_e){this.router.navigate(["/contact-us"],{queryParams:{id:_e}})}static#e=this.\u0275fac=function(ot){return new(ot||le)(c.rXU(ae.Ix),c.rXU(ae.nX),c.rXU(Z.N),c.rXU(we.A))};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-hero-carousel"]],decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","class","afhBtn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"afhBtn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],["type","button",1,"afhBtn",3,"click"],[1,"ae-hero-section"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"ae-afhBtn",3,"click"],["type","button","class","ae-afhBtn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel",1,"ae-afhBtn"],["type","button",1,"afhBtn","carouselBtn",3,"click"]],template:function(ot,Xe){1&ot&&(c.j41(0,"div",0),c.DNE(1,Ye,2,1,"ng-container",1),c.DNE(2,Nt,3,1,"ng-container",1),c.DNE(3,at,3,1,"ng-container",1),c.DNE(4,Vt,3,1,"ng-container",2),c.k0s()),2&ot&&(c.Y8G("ngSwitch",Xe.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"),c.R7$(1),c.Y8G("ngSwitchCase","ehc"))},dependencies:[fe.Sq,fe.bT,fe.ux,fe.e1,fe.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out;height:800px}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption[_ngcontent-%COMP%]{text-align:left}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;margin-bottom:10px;position:absolute;top:55%;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7rem;margin-bottom:20px;position:absolute;top:75%;left:10%;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.ae-afhBtn[_ngcontent-%COMP%]{position:absolute;top:80%;left:10%}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{padding-left:5%;align-items:center}.ae-h1[_ngcontent-%COMP%]{font-size:2rem;top:60%}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;top:70%}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:60vh;overflow:hidden}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{padding:10px}.ae-hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.ae-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:40vh;overflow:hidden}}"]})}return le})();function Jt(le,qe){if(1&le&&(c.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),c.EFF(5),c.k0s(),c.j41(6,"strong"),c.EFF(7),c.k0s()()()()()),2&le){const _e=qe.$implicit;c.R7$(5),c.SpI('" ',_e.quote,' "'),c.R7$(2),c.JRh(_e.name)}}function cn(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Testimonials"),c.k0s()(),c.j41(5,"div",6),c.DNE(6,Jt,8,2,"div",7),c.k0s()(),c.bVm()),2&le){const _e=c.XpG();c.R7$(6),c.Y8G("ngForOf",_e.testimonials)}}function Zn(le,qe){if(1&le&&(c.j41(0,"div",18)(1,"div",19)(2,"div",20),c.EFF(3,"\u275d"),c.k0s(),c.j41(4,"p",21),c.EFF(5),c.k0s(),c.j41(6,"h4",22),c.EFF(7),c.k0s()()()),2&le){const _e=qe.$implicit;c.R7$(5),c.JRh(_e.quote),c.R7$(2),c.JRh(_e.name)}}function Mt(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",11)(2,"div",12)(3,"h2",13),c.EFF(4,"Word of mouth"),c.k0s(),c.j41(5,"p",14),c.EFF(6,"You should hear what people have to say about us"),c.k0s()(),c.j41(7,"div",15)(8,"div",16),c.DNE(9,Zn,8,2,"div",17),c.nI1(10,"slice"),c.k0s()()(),c.bVm()),2&le){const _e=c.XpG();c.R7$(9),c.Y8G("ngForOf",c.brH(10,1,_e.testimonials,0,4))}}function Bt(le,qe){if(1&le&&(c.j41(0,"div",32)(1,"p",33),c.EFF(2),c.k0s(),c.j41(3,"div",34)(4,"span"),c.EFF(5),c.k0s()()()),2&le){const _e=qe.$implicit;c.R7$(2),c.SpI("\u201c",_e.quote,"\u201d"),c.R7$(3),c.JRh(_e.name)}}function qt(le,qe){if(1&le){const _e=c.RV6();c.j41(0,"button",35),c.bIt("click",function(){const Rn=c.eBV(_e).index,En=c.XpG(3);return c.Njj(En.setSlide(Rn))}),c.k0s()}if(2&le){const _e=qe.index,ot=c.XpG(3);c.AVh("active",ot.currentIndex===_e)}}function lt(le,qe){if(1&le&&(c.j41(0,"div",27)(1,"div",28),c.DNE(2,Bt,6,2,"div",29),c.k0s(),c.j41(3,"div",30),c.DNE(4,qt,1,2,"button",31),c.k0s()()),2&le){const _e=c.XpG(2);c.R7$(1),c.xc7("transform","translateX(-"+100*_e.currentIndex+"%)"),c.R7$(1),c.Y8G("ngForOf",_e.testimonials),c.R7$(2),c.Y8G("ngForOf",_e.testimonials)}}function Pe(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",23)(2,"div",24)(3,"h2",25),c.EFF(4,"Testimonials"),c.k0s()(),c.DNE(5,lt,5,4,"div",26),c.k0s(),c.bVm()),2&le){const _e=c.XpG();c.R7$(5),c.Y8G("ngIf",_e.testimonials&&_e.testimonials.length>0)}}function de(le,qe){if(1&le&&(c.j41(0,"div",43)(1,"div",44),c.nrm(2,"div",45),c.j41(3,"p",46),c.EFF(4),c.k0s()(),c.j41(5,"div",47)(6,"p",48),c.EFF(7),c.k0s()()()),2&le){const _e=qe.$implicit;c.R7$(4),c.JRh(_e.quote),c.R7$(3),c.JRh(_e.name)}}function Oe(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",36)(2,"div",37)(3,"h2",38),c.EFF(4,"Word of Mouth"),c.k0s(),c.j41(5,"p",39),c.EFF(6,"You should hear what people have to say about us"),c.k0s()(),c.j41(7,"div",40)(8,"div",41),c.DNE(9,de,8,2,"div",42),c.k0s()()(),c.bVm()),2&le){const _e=c.XpG();c.R7$(9),c.Y8G("ngForOf",_e.testimonials)}}let Qe=(()=>{class le{constructor(){this.layoutType="demo",this.currentIndex=0}setSlide(_e){this.currentIndex=_e}static#e=this.\u0275fac=function(ot){return new(ot||le)};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(ot,Xe){1&ot&&(c.j41(0,"div",0),c.DNE(1,cn,7,1,"ng-container",1),c.DNE(2,Mt,11,5,"ng-container",1),c.DNE(3,Pe,6,1,"ng-container",1),c.DNE(4,Oe,10,1,"ng-container",2),c.k0s()),2&ot&&(c.Y8G("ngSwitch",Xe.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"),c.R7$(1),c.Y8G("ngSwitchCase","ehc"))},dependencies:[fe.Sq,fe.bT,fe.ux,fe.e1,fe.fG,fe.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:12px;height:12px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:50%;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:teal}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}return le})();function De(le,qe){if(1&le&&(c.j41(0,"div",9),c.nrm(1,"i",10),c.j41(2,"h3",11),c.EFF(3),c.k0s(),c.j41(4,"div",12)(5,"p"),c.EFF(6),c.k0s()()()),2&le){const _e=qe.$implicit;c.R7$(1),c.Y8G("ngClass",_e.icon),c.R7$(2),c.JRh(_e.title),c.R7$(3),c.JRh(_e.description)}}function Se(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our "),c.k0s(),c.j41(5,"span",5),c.EFF(6,"Services"),c.k0s()(),c.j41(7,"h3",6),c.EFF(8,"Home Care From Trained Professionals"),c.k0s(),c.j41(9,"div",7),c.DNE(10,De,7,3,"div",8),c.k0s()(),c.bVm()),2&le){const _e=c.XpG();c.R7$(10),c.Y8G("ngForOf",_e.services)}}function $e(le,qe){if(1&le&&(c.j41(0,"div",31)(1,"p"),c.EFF(2),c.k0s()()),2&le){const _e=c.XpG().$implicit;c.R7$(2),c.JRh(_e.description)}}function wt(le,qe){if(1&le){const _e=c.RV6();c.j41(0,"div",26),c.bIt("click",function(){const Rn=c.eBV(_e).index,En=c.XpG(2);return c.Njj(En.toggleService(Rn))}),c.j41(1,"div",27)(2,"span",28),c.EFF(3),c.k0s(),c.j41(4,"span",29),c.EFF(5),c.k0s()(),c.DNE(6,$e,3,1,"div",30),c.k0s()}if(2&le){const _e=qe.$implicit,ot=qe.index,Xe=c.XpG(2);c.R7$(3),c.JRh(_e.title),c.R7$(2),c.JRh(Xe.expandedServiceIndex===ot?"-":"+"),c.R7$(1),c.Y8G("ngIf",Xe.expandedServiceIndex===ot)}}function xt(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),c.EFF(6,"Our "),c.k0s(),c.j41(7,"span",18),c.EFF(8,"Services"),c.k0s()(),c.j41(9,"div",19),c.DNE(10,wt,7,3,"div",20),c.k0s()(),c.j41(11,"div",21)(12,"div",22),c.nrm(13,"img",23),c.k0s(),c.j41(14,"div",24),c.nrm(15,"img",25),c.k0s()()()(),c.bVm()),2&le){const _e=c.XpG();c.R7$(10),c.Y8G("ngForOf",_e.services)}}let un=(()=>{class le{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(_e){this.expandedServiceIndex=this.expandedServiceIndex===_e?null:_e}static#e=this.\u0275fac=function(ot){return new(ot||le)};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(ot,Xe){1&ot&&(c.j41(0,"div",0),c.DNE(1,Se,11,1,"ng-container",1),c.DNE(2,xt,16,1,"ng-container",1),c.k0s()),2&ot&&(c.Y8G("ngSwitch",Xe.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[fe.YU,fe.Sq,fe.bT,fe.ux,fe.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}return le})();var rn=L(3739);function On(le,qe){if(1&le){const _e=c.RV6();c.qex(0),c.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),c.EFF(5,"We Are "),c.j41(6,"span",6),c.EFF(7),c.k0s()(),c.j41(8,"h1"),c.EFF(9),c.k0s(),c.j41(10,"p"),c.EFF(11),c.k0s(),c.j41(12,"div",7)(13,"button",8),c.bIt("click",function(){c.eBV(_e);const Xe=c.XpG();return c.Njj(Xe.navigateToContact())}),c.EFF(14,"Contact Us"),c.k0s()()()()(),c.bVm()}if(2&le){const _e=c.XpG();c.R7$(7),c.JRh(null==_e.business?null:_e.business.businessName),c.R7$(2),c.JRh(null==_e.business?null:_e.business.welcomeMessage),c.R7$(2),c.JRh(null==_e.business?null:_e.business.keyServicesHighlights)}}function Cn(le,qe){if(1&le&&(c.qex(0),c.nrm(1,"app-center-text",9),c.bVm()),2&le){const _e=c.XpG();c.R7$(1),c.Y8G("title","Who We Are")("content",(null==_e.business?null:_e.business.businessStory)||"")}}function dr(le,qe){if(1&le&&(c.qex(0),c.j41(1,"div",10),c.nrm(2,"app-center-text",9),c.k0s(),c.bVm()),2&le){const _e=c.XpG();c.R7$(2),c.Y8G("title","Who We Are")("content",(null==_e.business?null:_e.business.businessStory)||"")}}let Gt=(()=>{class le{constructor(_e,ot){this.router=_e,this.businessDataService=ot,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(_e=>{_e&&(console.log("HomeComponent - Using cached business data:",_e),this.business=_e)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static#e=this.\u0275fac=function(ot){return new(ot||le)(c.rXU(ae.Ix),c.rXU(we.A))};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"],[1,"content-wrapper"]],template:function(ot,Xe){1&ot&&(c.j41(0,"div",0),c.DNE(1,On,15,3,"ng-container",1),c.DNE(2,Cn,2,2,"ng-container",1),c.DNE(3,dr,3,2,"ng-container",2),c.k0s()),2&ot&&(c.Y8G("ngSwitch",Xe.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[fe.ux,fe.e1,fe.fG,rn.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}return le})();function In(le,qe){if(1&le){const _e=c.RV6();c.qex(0),c.j41(1,"div",2)(2,"div",3)(3,"span",4),c.EFF(4,"Book a "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Consultation"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," We would love to meet you! Contact us to schedule a tour. "),c.k0s(),c.j41(9,"button",7),c.bIt("click",function(){c.eBV(_e);const Xe=c.XpG();return c.Njj(Xe.navigateToContact(Xe.id))}),c.EFF(10,"Book Consultation"),c.k0s()(),c.bVm()}}function Un(le,qe){if(1&le){const _e=c.RV6();c.qex(0),c.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),c.EFF(6,"Ready to experience "),c.k0s(),c.j41(7,"span",13),c.EFF(8),c.k0s()(),c.j41(9,"p"),c.EFF(10,"Discover what makes our services unique and tailored to your needs."),c.k0s(),c.j41(11,"div",14)(12,"button",15),c.bIt("click",function(){c.eBV(_e);const Xe=c.XpG();return c.Njj(Xe.navigateToContact(Xe.id))}),c.EFF(13,"Schedule a Visit"),c.k0s()()()()(),c.bVm()}if(2&le){const _e=c.XpG();c.R7$(8),c.SpI("",_e.businessName,"?")}}let Wt=(()=>{class le{constructor(_e){this.router=_e,this.id=null,this.layoutType="demo"}navigateToContact(_e){this.router.navigate(["/contact-us"],{queryParams:{id:_e}})}static#e=this.\u0275fac=function(ot){return new(ot||le)(c.rXU(ae.Ix))};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(ot,Xe){1&ot&&(c.j41(0,"div",0),c.DNE(1,In,11,0,"ng-container",1),c.DNE(2,Un,14,1,"ng-container",1),c.k0s()),2&ot&&(c.Y8G("ngSwitch",Xe.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[fe.ux,fe.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}"]})}return le})();function Lt(le,qe){if(1&le&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&le){const _e=qe.$implicit;c.R7$(1),c.Y8G("innerHTML",_e.name,c.npT),c.R7$(1),c.Y8G("innerHTML",_e.description,c.npT)}}function Fr(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our Unique "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Features"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,Lt,3,2,"div",9),c.k0s()()(),c.bVm()),2&le){const _e=c.XpG();c.R7$(11),c.Y8G("ngForOf",_e.uniqueService)}}function ln(le,qe){1&le&&c.eu8(0)}let vr=(()=>{class le{constructor(_e,ot){this.webContent=_e,this.route=ot,this.layoutType="demo"}static#e=this.\u0275fac=function(ot){return new(ot||le)(c.rXU(Z.N),c.rXU(ae.nX))};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ot,Xe){1&ot&&(c.j41(0,"div",0),c.DNE(1,Fr,12,1,"ng-container",1),c.DNE(2,ln,1,0,"ng-container",1),c.k0s()),2&ot&&(c.Y8G("ngSwitch",Xe.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[fe.Sq,fe.ux,fe.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}return le})();function Hn(le,qe){if(1&le&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&le){const _e=qe.$implicit;c.R7$(1),c.Y8G("innerHTML",_e.name,c.npT),c.R7$(1),c.Y8G("innerHTML",_e.description,c.npT)}}function Ut(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Why Choose "),c.k0s(),c.j41(5,"span",6),c.EFF(6," US "),c.k0s()(),c.j41(7,"div",7)(8,"div",8),c.DNE(9,Hn,3,2,"div",9),c.k0s()()(),c.bVm()),2&le){const _e=c.XpG();c.R7$(9),c.Y8G("ngForOf",_e.whyChooseUs)}}function gn(le,qe){1&le&&c.eu8(0)}function Dn(le,qe){if(1&le&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&le){const _e=qe.$implicit;c.R7$(1),c.Y8G("innerHTML",_e.name,c.npT),c.R7$(1),c.Y8G("innerHTML",_e.description,c.npT)}}function bn(le,qe){if(1&le&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Why Choose "),c.k0s(),c.j41(5,"span",6),c.EFF(6),c.k0s()(),c.j41(7,"p",13),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,Dn,3,2,"div",9),c.k0s()()(),c.bVm()),2&le){const _e=c.XpG();c.R7$(6),c.SpI(" ",_e.businessName,""),c.R7$(5),c.Y8G("ngForOf",_e.whyChooseUs)}}let hr=(()=>{class le{constructor(_e,ot){this.webContent=_e,this.route=ot,this.layoutType="demo"}static#e=this.\u0275fac=function(ot){return new(ot||le)(c.rXU(Z.N),c.rXU(ae.nX))};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(ot,Xe){1&ot&&(c.j41(0,"div",0),c.DNE(1,Ut,10,1,"ng-container",1),c.DNE(2,gn,1,0,"ng-container",1),c.DNE(3,bn,12,2,"ng-container",2),c.k0s()),2&ot&&(c.Y8G("ngSwitch",Xe.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[fe.Sq,fe.ux,fe.e1,fe.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return le})();var Er=L(4593),Xr=L(491);function jn(le,qe){if(1&le&&(c.j41(0,"div",5),c.nrm(1,"i",6),c.j41(2,"h3",7),c.EFF(3),c.k0s()()),2&le){const _e=qe.$implicit;c.R7$(1),c.HbH(_e.icon),c.R7$(2),c.JRh(_e.title)}}let Yr=(()=>{class le{constructor(){this.services=[]}static#e=this.\u0275fac=function(ot){return new(ot||le)};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:7,vars:1,consts:[[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(ot,Xe){1&ot&&(c.j41(0,"div",0)(1,"h2",1),c.EFF(2,"Our Services"),c.k0s(),c.j41(3,"div",2),c.DNE(4,jn,4,3,"div",3),c.k0s(),c.j41(5,"button",4),c.EFF(6,"Learn More"),c.k0s()()),2&ot&&(c.R7$(4),c.Y8G("ngForOf",Xe.services))},dependencies:[fe.Sq,ae.Wk],styles:[".services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;background-color:var(--dark-background-color);color:var(--primary-color);padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:4rem}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}"]})}return le})();function Ki(le,qe){1&le&&c.nrm(0,"app-right-text",9),2&le&&c.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident\u2019s unique needs, ensuring they feel valued and supported.")}function an(le,qe){1&le&&c.nrm(0,"app-left-text",9),2&le&&c.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}const Qr=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},Wn=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},gr=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Pn=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},vi=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},ze=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},yt=function(le,qe,_e,ot,Xe,Rn){return[le,qe,_e,ot,Xe,Rn]};function ie(le,qe){1&le&&c.nrm(0,"app-icon-list",10),2&le&&c.Y8G("services",c.l4e(7,yt,c.lJ4(1,Qr),c.lJ4(2,Wn),c.lJ4(3,gr),c.lJ4(4,Pn),c.lJ4(5,vi),c.lJ4(6,ze)))}const Ie=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},pt=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},xn=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},sr=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},ee=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},V=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}};function F(le,qe){if(1&le&&c.nrm(0,"app-our-services-home",11),2&le){const _e=c.XpG();c.Y8G("layoutType",(null==_e.business||null==_e.business.theme?null:_e.business.theme.themeType)||"demo")("services",c.l4e(8,yt,c.lJ4(2,Ie),c.lJ4(3,pt),c.lJ4(4,xn),c.lJ4(5,sr),c.lJ4(6,ee),c.lJ4(7,V)))}}const ue=function(){return[]};let Le=(()=>{class le{constructor(_e,ot,Xe){this.route=_e,this.metaService=ot,this.businessDataService=Xe,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(_e=>{_e&&(this.businessId=_e,this.businessDataService.getBusinessData().subscribe(ot=>{this.business=ot}))})}static#e=this.\u0275fac=function(ot){return new(ot||le)(c.rXU(ae.nX),c.rXU(o.R),c.rXU(we.A))};static#t=this.\u0275cmp=c.VBU({type:le,selectors:[["app-home"]],decls:12,vars:18,consts:[[1,"content-wrapper"],[3,"layoutType","businessId"],[3,"imageURL","title","content",4,"ngIf"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"id","layoutType","businessName"],[3,"imageURL","title","content"],[3,"services"],[3,"layoutType","services"]],template:function(ot,Xe){1&ot&&(c.nrm(0,"app-hero-carousel"),c.j41(1,"div",0),c.nrm(2,"app-welcome",1),c.k0s(),c.DNE(3,Ki,1,3,"app-right-text",2),c.DNE(4,an,1,3,"app-left-text",2),c.DNE(5,ie,1,14,"app-icon-list",3),c.j41(6,"div",0),c.DNE(7,F,1,15,"app-our-services-home",4),c.k0s(),c.nrm(8,"app-why-us",5)(9,"app-features",6)(10,"app-testimonials",7)(11,"app-consultation",8)),2&ot&&(c.R7$(2),c.Y8G("layoutType",(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)||"demo")("businessId",(null==Xe.business?null:Xe.business.id)||""),c.R7$(1),c.Y8G("ngIf","ae"===(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","ae"===(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","ae"===(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)),c.R7$(2),c.Y8G("ngIf","hh"===(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)),c.R7$(1),c.Y8G("whyChooseUs",(null==Xe.business?null:Xe.business.whyChoose)||c.lJ4(16,ue))("layoutType",(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)||"demo")("businessName",(null==Xe.business?null:Xe.business.businessName)||"Demo"),c.R7$(1),c.Y8G("uniqueService",(null==Xe.business?null:Xe.business.uniqueService)||c.lJ4(17,ue))("layoutType",(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)||"demo"),c.R7$(1),c.Y8G("testimonials",null==Xe.business?null:Xe.business.testimonials)("layoutType",(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)||"demo"),c.R7$(1),c.Y8G("id",(null==Xe.business?null:Xe.business.id)||"")("layoutType",(null==Xe.business||null==Xe.business.theme?null:Xe.business.theme.themeType)||"demo")("businessName",(null==Xe.business?null:Xe.business.businessName)||"Demo"))},dependencies:[fe.bT,be,Qe,un,Gt,Wt,vr,hr,Er.F,Xr.G,Yr]})}return le})()},214:(nn,Je,L)=>{L.d(Je,{W:()=>ae});var c=L(7705);let ae=(()=>{class o{constructor(){this.closeModal=new c.bkB}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(Ae){return new(Ae||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Ae,ke){1&Ae&&(c.j41(0,"div",0),c.bIt("click",function(){return ke.close()}),c.j41(1,"div",1),c.bIt("click",function(Ue){return Ue.stopPropagation()}),c.j41(2,"button",2),c.bIt("click",function(){return ke.close()}),c.EFF(3,"Close"),c.k0s(),c.nrm(4,"img",3),c.k0s()()),2&Ae&&(c.R7$(4),c.Y8G("src",ke.imageUrl,c.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return o})()},4796:(nn,Je,L)=>{L.d(Je,{u:()=>fe});var c=L(6354),ae=L(7705),o=L(1977),we=L(6814);let fe=(()=>{class Ae{constructor(Fe,Ue){this.afAuth=Fe,this.router=Ue,this.user$=Fe.authState}login(Fe,Ue){return this.afAuth.signInWithEmailAndPassword(Fe,Ue)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,c.T)(Fe=>!!Fe))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(Ue){return new(Ue||Ae)(ae.KVO(o.DS),ae.KVO(we.Ix))};static#t=this.\u0275prov=ae.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})()},923:(nn,Je,L)=>{L.d(Je,{A:()=>Ae});var c=L(4412),ae=L(6354),o=L(8141),we=L(7705),fe=L(3012);let Ae=(()=>{class ke{constructor(Ue){this.businessService=Ue,this.businessDataSubject=new c.t(null),this.businessIdSubject=new c.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Ue){return console.log("BusinessDataService - loadBusinessData for ID:",Ue),this.businessService.getBusinessData(Ue).pipe((0,ae.T)(Z=>Z??null),(0,o.M)(Z=>{console.log("BusinessDataService - Business fetched:",Z),this.businessDataSubject.next(Z),this.businessIdSubject.next(Ue)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static#e=this.\u0275fac=function(Z){return new(Z||ke)(we.KVO(fe.u))};static#t=this.\u0275prov=we.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})()},3012:(nn,Je,L)=>{L.d(Je,{u:()=>ke});var c=L(7673),ae=L(6354),o=L(5558),we=L(7705),fe=L(6340),Ae=L(8721);let ke=(()=>{class Fe{constructor(Z,ce){this.afs=Z,this.storage=ce,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(Z){console.log("Business Created");const ce=this.afs.createId();return this.afs.doc(`${this.basePath}/${ce}`).set({...Z,id:ce}),this.afs.doc(`${this.basePath}/${ce}`).valueChanges().pipe((0,ae.T)(me=>{if(!me)throw new Error("Business not found after creation");return me}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ae.T)(Z=>Z.map(ce=>{const me=ce.payload.doc.data(),ut=ce.payload.doc.id,{id:Ye,...Tt}=me;return{id:ut,...Tt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,Z=>Z.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(Z){return this.getBusinessData(Z)}getBusinessData(Z){const ce=Z&&Z.trim()?Z:this.defaultBusinessId;return this.afs.collection("businesses").doc(ce).snapshotChanges().pipe((0,o.n)(me=>{const ut=me.payload.data(),Ye=me.payload.id;if(!ut)return(0,c.of)(void 0);const{id:Tt,...It}=ut,jt={id:Ye,...It},Nt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Ye}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ae.T)(et=>{const Ge=et.payload.data()||Nt;return jt.theme=Ge,jt}))}))}updateBusiness(Z,ce){return this.afs.doc(`${this.basePath}/${Z}`).update(ce)}deleteBusiness(Z){return this.afs.doc(`${this.basePath}/${Z}`).delete()}uploadFile(Z,ce){return this.storage.upload(Z,ce)}getDownloadURL(Z){return this.storage.ref(Z).getDownloadURL()}updateThemeFileName(Z,ce=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ce}`).update({"theme.themeFileName":Z})}getThemeFileName(Z=this.defaultBusinessId){const me=this.afs.collection(this.basePath).doc(Z).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${Z}`),me.get().toPromise().then(ut=>{if(ut&&ut.exists){const Ye=ut.data();console.log("Theme document found:",Ye);const Tt=Ye?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${Tt}`),Tt}return console.warn(`No theme document found for business ID: ${Z}. Using default theme.`),"default.css"}).catch(ut=>(console.error(`Error fetching theme file name for business ID: ${Z}`,ut),"default.css"))}static#e=this.\u0275fac=function(ce){return new(ce||Fe)(we.KVO(fe.Qe),we.KVO(Ae.ap))};static#t=this.\u0275prov=we.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},6861:(nn,Je,L)=>{L.d(Je,{R:()=>fe});var c=L(6354),ae=L(7705),o=L(345),we=L(6340);let fe=(()=>{class Ae{constructor(Fe,Ue,Z){this.meta=Fe,this.title=Ue,this.firestore=Z,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}updateMetaTags(Fe){this.title.setTitle(Fe.title),this.meta.updateTag({name:"description",content:Fe.description}),this.meta.updateTag({name:"keywords",content:Fe.keywords}),this.meta.updateTag({property:"og:title",content:Fe.title}),this.meta.updateTag({property:"og:description",content:Fe.description})}getMetaData(Fe){return(null==Fe||""==Fe||""===Fe)&&(Fe=this.defaultBusinessId),this.firestore.collection("businesses").doc(Fe).valueChanges().pipe((0,c.T)(Ue=>Ue?{title:Ue.metaTitle||"Adult Family Home",description:Ue.metaDescription||"Best Adult Family home in Washington State",keywords:Ue.metaKeywords||"default, keywords"}:{title:"No Metadata Title",description:"No Default Description",keywords:"default, keywords"}))}static#e=this.\u0275fac=function(Ue){return new(Ue||Ae)(ae.KVO(o.W8),ae.KVO(o.hE),ae.KVO(we.Qe))};static#t=this.\u0275prov=ae.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})()},5009:(nn,Je,L)=>{L.d(Je,{F:()=>Ue});var c=L(8810),ae=L(8455),o=L(7673),we=L(6697),fe=L(5558),Ae=L(9437),ke=L(7705),Fe=L(6340);let Ue=(()=>{class Z{constructor(me){this.firestore=me,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(me){return this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(me){console.log("Theme Service: - Fetching theme for business ID:",me);const ut=this.firestore.collection("businesses").doc(me),Ye=ut.collection("theme").doc("themeDoc");return ut.snapshotChanges().pipe((0,we.s)(1),(0,fe.n)(Tt=>Tt.payload.exists?Ye.get().pipe((0,fe.n)(It=>It.exists?(It.data(),Ye.valueChanges()):(0,ae.H)(Ye.set(this.defaultTheme)).pipe((0,fe.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Ye.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,c.$)("Theme Service: - Business document does not exist"))),(0,Ae.W)(Tt=>(console.error("Error fetching theme:",Tt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,o.of)(this.defaultTheme))))}updateColors(me,ut){const Ye=this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+me+" theme service updateColors: ",ut),Ye.set(ut,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),ut.themeFileName&&this.applyThemeFile(ut.themeFileName)}).catch(Tt=>{throw console.error("Theme Service: - Error updating colors:",Tt),new Error(Tt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(me){return this.loadCss(`assets/themes/${me}`)}loadCss(me){return new Promise((ut,Ye)=>{console.log("Load css from  file:",me);const Tt=document.createElement("link");Tt.rel="stylesheet",Tt.href=me,Tt.onload=()=>{console.log(`Loaded theme: ${me}`),ut()},Tt.onerror=It=>{console.error(`Failed to load theme: ${me}`,It),Ye(It)},document.head.appendChild(Tt)})}static#e=this.\u0275fac=function(ut){return new(ut||Z)(ke.KVO(Fe.Qe))};static#t=this.\u0275prov=ke.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})()},8704:(nn,Je,L)=>{L.d(Je,{N:()=>ke});var c=L(6354),ae=L(9437),o=L(7673),we=L(7705),fe=L(6340),Ae=L(8721);let ke=(()=>{class Fe{constructor(Z,ce){this.firestore=Z,this.storage=ce,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(Z){const ce=Z&&Z.trim()?Z:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ce).snapshotChanges().pipe((0,c.T)(me=>{const ut=me.payload.data(),Ye=me.payload.id;if(ut){const{id:Tt,testimonials:It=[],...jt}=ut;return{id:Ye,testimonials:It.map(sn=>({...sn,photoURL:sn.photoURL&&sn.photoURL.trim()?sn.photoURL:this.defaultImage})),...jt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(Z){return this.storage.ref(Z).getDownloadURL().pipe((0,ae.W)(ce=>(console.error("Error fetching photo URL:",ce),(0,o.of)(""))))}getEmployeesByBusinessId(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).get().pipe((0,c.T)(ce=>{if(ce.exists){const me=ce.data();return me&&me.employees?me.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ae.W)(ce=>(console.error("Error fetching employees:",ce),(0,o.of)([]))))}getBusinessGalleryImagesById(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection("gallery").valueChanges()}getBusinessUploadedImagesById(Z,ce){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection(ce).valueChanges()}checkImageExists(Z){return this.storage.refFromURL(Z).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static#e=this.\u0275fac=function(ce){return new(ce||Fe)(we.KVO(fe.Qe),we.KVO(Ae.ap))};static#t=this.\u0275prov=we.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},8094:(nn,Je,L)=>{var c={};L.r(c),L.d(c,{afterMain:()=>Q,afterRead:()=>Gn,afterWrite:()=>xe,applyStyles:()=>hi,arrow:()=>Da,auto:()=>qi,basePlacements:()=>xr,beforeMain:()=>Io,beforeRead:()=>ko,beforeWrite:()=>z,bottom:()=>li,clippingParents:()=>cr,computeStyles:()=>_n,createPopper:()=>jr,createPopperBase:()=>Pr,createPopperLite:()=>_i,detectOverflow:()=>Js,end:()=>Vn,eventListeners:()=>go,flip:()=>hs,hide:()=>xa,left:()=>Hr,main:()=>mi,modifierPhases:()=>Ke,offset:()=>Us,placements:()=>Ur,popper:()=>ro,popperGenerator:()=>vn,popperOffsets:()=>Zs,preventOverflow:()=>ua,read:()=>Fo,reference:()=>di,right:()=>Fi,start:()=>en,top:()=>Ii,variationPlacements:()=>bo,viewport:()=>Ui,write:()=>ye});var ae=L(345),o=L(7705),we=L(7673),fe=L(8455),Ae=L(1985),ke=L(274),Fe=L(5964),Ue=L(6354),Z=L(980),ce=L(5558),me=L(177);class ut{}class Ye{}class Tt{constructor(g){this.normalizedNames=new Map,this.lazyUpdate=null,g?"string"==typeof g?this.lazyInit=()=>{this.headers=new Map,g.split("\n").forEach(h=>{const x=h.indexOf(":");if(x>0){const $=h.slice(0,x),pe=$.toLowerCase(),Ee=h.slice(x+1).trim();this.maybeSetNormalizedName($,pe),this.headers.has(pe)?this.headers.get(pe).push(Ee):this.headers.set(pe,[Ee])}})}:typeof Headers<"u"&&g instanceof Headers?(this.headers=new Map,g.forEach((h,x)=>{this.setHeaderEntries(x,h)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(g).forEach(([h,x])=>{this.setHeaderEntries(h,x)})}:this.headers=new Map}has(g){return this.init(),this.headers.has(g.toLowerCase())}get(g){this.init();const h=this.headers.get(g.toLowerCase());return h&&h.length>0?h[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(g){return this.init(),this.headers.get(g.toLowerCase())||null}append(g,h){return this.clone({name:g,value:h,op:"a"})}set(g,h){return this.clone({name:g,value:h,op:"s"})}delete(g,h){return this.clone({name:g,value:h,op:"d"})}maybeSetNormalizedName(g,h){this.normalizedNames.has(h)||this.normalizedNames.set(h,g)}init(){this.lazyInit&&(this.lazyInit instanceof Tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(g=>this.applyUpdate(g)),this.lazyUpdate=null))}copyFrom(g){g.init(),Array.from(g.headers.keys()).forEach(h=>{this.headers.set(h,g.headers.get(h)),this.normalizedNames.set(h,g.normalizedNames.get(h))})}clone(g){const h=new Tt;return h.lazyInit=this.lazyInit&&this.lazyInit instanceof Tt?this.lazyInit:this,h.lazyUpdate=(this.lazyUpdate||[]).concat([g]),h}applyUpdate(g){const h=g.name.toLowerCase();switch(g.op){case"a":case"s":let x=g.value;if("string"==typeof x&&(x=[x]),0===x.length)return;this.maybeSetNormalizedName(g.name,h);const $=("a"===g.op?this.headers.get(h):void 0)||[];$.push(...x),this.headers.set(h,$);break;case"d":const pe=g.value;if(pe){let Ee=this.headers.get(h);if(!Ee)return;Ee=Ee.filter(mt=>-1===pe.indexOf(mt)),0===Ee.length?(this.headers.delete(h),this.normalizedNames.delete(h)):this.headers.set(h,Ee)}else this.headers.delete(h),this.normalizedNames.delete(h)}}setHeaderEntries(g,h){const x=(Array.isArray(h)?h:[h]).map(pe=>pe.toString()),$=g.toLowerCase();this.headers.set($,x),this.maybeSetNormalizedName(g,$)}forEach(g){this.init(),Array.from(this.normalizedNames.keys()).forEach(h=>g(this.normalizedNames.get(h),this.headers.get(h)))}}class jt{encodeKey(g){return Ge(g)}encodeValue(g){return Ge(g)}decodeKey(g){return decodeURIComponent(g)}decodeValue(g){return decodeURIComponent(g)}}const sn=/%(\d[a-f0-9])/gi,et={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ge(E){return encodeURIComponent(E).replace(sn,(g,h)=>et[h]??g)}function at(E){return`${E}`}class Ze{constructor(g={}){if(this.updates=null,this.cloneFrom=null,this.encoder=g.encoder||new jt,g.fromString){if(g.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Nt(E,g){const h=new Map;return E.length>0&&E.replace(/^\?/,"").split("&").forEach($=>{const pe=$.indexOf("="),[Ee,mt]=-1==pe?[g.decodeKey($),""]:[g.decodeKey($.slice(0,pe)),g.decodeValue($.slice(pe+1))],Dt=h.get(Ee)||[];Dt.push(mt),h.set(Ee,Dt)}),h}(g.fromString,this.encoder)}else g.fromObject?(this.map=new Map,Object.keys(g.fromObject).forEach(h=>{const x=g.fromObject[h],$=Array.isArray(x)?x.map(at):[at(x)];this.map.set(h,$)})):this.map=null}has(g){return this.init(),this.map.has(g)}get(g){this.init();const h=this.map.get(g);return h?h[0]:null}getAll(g){return this.init(),this.map.get(g)||null}keys(){return this.init(),Array.from(this.map.keys())}append(g,h){return this.clone({param:g,value:h,op:"a"})}appendAll(g){const h=[];return Object.keys(g).forEach(x=>{const $=g[x];Array.isArray($)?$.forEach(pe=>{h.push({param:x,value:pe,op:"a"})}):h.push({param:x,value:$,op:"a"})}),this.clone(h)}set(g,h){return this.clone({param:g,value:h,op:"s"})}delete(g,h){return this.clone({param:g,value:h,op:"d"})}toString(){return this.init(),this.keys().map(g=>{const h=this.encoder.encodeKey(g);return this.map.get(g).map(x=>h+"="+this.encoder.encodeValue(x)).join("&")}).filter(g=>""!==g).join("&")}clone(g){const h=new Ze({encoder:this.encoder});return h.cloneFrom=this.cloneFrom||this,h.updates=(this.updates||[]).concat(g),h}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(g=>this.map.set(g,this.cloneFrom.map.get(g))),this.updates.forEach(g=>{switch(g.op){case"a":case"s":const h=("a"===g.op?this.map.get(g.param):void 0)||[];h.push(at(g.value)),this.map.set(g.param,h);break;case"d":if(void 0===g.value){this.map.delete(g.param);break}{let x=this.map.get(g.param)||[];const $=x.indexOf(at(g.value));-1!==$&&x.splice($,1),x.length>0?this.map.set(g.param,x):this.map.delete(g.param)}}}),this.cloneFrom=this.updates=null)}}class At{constructor(){this.map=new Map}set(g,h){return this.map.set(g,h),this}get(g){return this.map.has(g)||this.map.set(g,g.defaultValue()),this.map.get(g)}delete(g){return this.map.delete(g),this}has(g){return this.map.has(g)}keys(){return this.map.keys()}}function be(E){return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer}function Jt(E){return typeof Blob<"u"&&E instanceof Blob}function cn(E){return typeof FormData<"u"&&E instanceof FormData}class Mt{constructor(g,h,x,$){let pe;if(this.url=h,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=g.toUpperCase(),function Vt(E){switch(E){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$?(this.body=void 0!==x?x:null,pe=$):pe=x,pe&&(this.reportProgress=!!pe.reportProgress,this.withCredentials=!!pe.withCredentials,pe.responseType&&(this.responseType=pe.responseType),pe.headers&&(this.headers=pe.headers),pe.context&&(this.context=pe.context),pe.params&&(this.params=pe.params)),this.headers||(this.headers=new Tt),this.context||(this.context=new At),this.params){const Ee=this.params.toString();if(0===Ee.length)this.urlWithParams=h;else{const mt=h.indexOf("?");this.urlWithParams=h+(-1===mt?"?":mt<h.length-1?"&":"")+Ee}}else this.params=new Ze,this.urlWithParams=h}serializeBody(){return null===this.body?null:be(this.body)||Jt(this.body)||cn(this.body)||function Zn(E){return typeof URLSearchParams<"u"&&E instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cn(this.body)?null:Jt(this.body)?this.body.type||null:be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(g={}){const h=g.method||this.method,x=g.url||this.url,$=g.responseType||this.responseType,pe=void 0!==g.body?g.body:this.body,Ee=void 0!==g.withCredentials?g.withCredentials:this.withCredentials,mt=void 0!==g.reportProgress?g.reportProgress:this.reportProgress;let Dt=g.headers||this.headers,pn=g.params||this.params;const Zt=g.context??this.context;return void 0!==g.setHeaders&&(Dt=Object.keys(g.setHeaders).reduce((tr,or)=>tr.set(or,g.setHeaders[or]),Dt)),g.setParams&&(pn=Object.keys(g.setParams).reduce((tr,or)=>tr.set(or,g.setParams[or]),pn)),new Mt(h,x,pe,{params:pn,headers:Dt,context:Zt,reportProgress:mt,responseType:$,withCredentials:Ee})}}var Bt=function(E){return E[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E}(Bt||{});class qt{constructor(g,h=200,x="OK"){this.headers=g.headers||new Tt,this.status=void 0!==g.status?g.status:h,this.statusText=g.statusText||x,this.url=g.url||null,this.ok=this.status>=200&&this.status<300}}class lt extends qt{constructor(g={}){super(g),this.type=Bt.ResponseHeader}clone(g={}){return new lt({headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class Pe extends qt{constructor(g={}){super(g),this.type=Bt.Response,this.body=void 0!==g.body?g.body:null}clone(g={}){return new Pe({body:void 0!==g.body?g.body:this.body,headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class de extends qt{constructor(g){super(g,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${g.url||"(unknown url)"}`:`Http failure response for ${g.url||"(unknown url)"}: ${g.status} ${g.statusText}`,this.error=g.error||null}}function Oe(E,g){return{body:g,headers:E.headers,context:E.context,observe:E.observe,params:E.params,reportProgress:E.reportProgress,responseType:E.responseType,withCredentials:E.withCredentials}}let Qe=(()=>{class E{constructor(h){this.handler=h}request(h,x,$={}){let pe;if(h instanceof Mt)pe=h;else{let Dt,pn;Dt=$.headers instanceof Tt?$.headers:new Tt($.headers),$.params&&(pn=$.params instanceof Ze?$.params:new Ze({fromObject:$.params})),pe=new Mt(h,x,void 0!==$.body?$.body:null,{headers:Dt,context:$.context,params:pn,reportProgress:$.reportProgress,responseType:$.responseType||"json",withCredentials:$.withCredentials})}const Ee=(0,we.of)(pe).pipe((0,ke.H)(Dt=>this.handler.handle(Dt)));if(h instanceof Mt||"events"===$.observe)return Ee;const mt=Ee.pipe((0,Fe.p)(Dt=>Dt instanceof Pe));switch($.observe||"body"){case"body":switch(pe.responseType){case"arraybuffer":return mt.pipe((0,Ue.T)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Dt.body}));case"blob":return mt.pipe((0,Ue.T)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof Blob))throw new Error("Response is not a Blob.");return Dt.body}));case"text":return mt.pipe((0,Ue.T)(Dt=>{if(null!==Dt.body&&"string"!=typeof Dt.body)throw new Error("Response is not a string.");return Dt.body}));default:return mt.pipe((0,Ue.T)(Dt=>Dt.body))}case"response":return mt;default:throw new Error(`Unreachable: unhandled observe type ${$.observe}}`)}}delete(h,x={}){return this.request("DELETE",h,x)}get(h,x={}){return this.request("GET",h,x)}head(h,x={}){return this.request("HEAD",h,x)}jsonp(h,x){return this.request("JSONP",h,{params:(new Ze).append(x,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(h,x={}){return this.request("OPTIONS",h,x)}patch(h,x,$={}){return this.request("PATCH",h,Oe($,x))}post(h,x,$={}){return this.request("POST",h,Oe($,x))}put(h,x,$={}){return this.request("PUT",h,Oe($,x))}static#e=this.\u0275fac=function(x){return new(x||E)(o.KVO(ut))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();function On(E,g){return g(E)}function Cn(E,g){return(h,x)=>g.intercept(h,{handle:$=>E($,x)})}const Gt=new o.nKC(""),In=new o.nKC(""),Un=new o.nKC("");function Wt(){let E=null;return(g,h)=>{null===E&&(E=((0,o.WQX)(Gt,{optional:!0})??[]).reduceRight(Cn,On));const x=(0,o.WQX)(o.$K3),$=x.add();return E(g,h).pipe((0,Z.j)(()=>x.remove($)))}}let Lt=(()=>{class E extends ut{constructor(h,x){super(),this.backend=h,this.injector=x,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle(h){if(null===this.chain){const $=Array.from(new Set([...this.injector.get(In),...this.injector.get(Un,[])]));this.chain=$.reduceRight((pe,Ee)=>function dr(E,g,h){return(x,$)=>h.runInContext(()=>g(x,pe=>E(pe,$)))}(pe,Ee,this.injector),On)}const x=this.pendingTasks.add();return this.chain(h,$=>this.backend.handle($)).pipe((0,Z.j)(()=>this.pendingTasks.remove(x)))}static#e=this.\u0275fac=function(x){return new(x||E)(o.KVO(Ye),o.KVO(o.uvJ))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();const jn=/^\)\]\}',?\n/;let Ki=(()=>{class E{constructor(h){this.xhrFactory=h}handle(h){if("JSONP"===h.method)throw new o.wOt(-2800,!1);const x=this.xhrFactory;return(x.\u0275loadImpl?(0,fe.H)(x.\u0275loadImpl()):(0,we.of)(null)).pipe((0,ce.n)(()=>new Ae.c(pe=>{const Ee=x.build();if(Ee.open(h.method,h.urlWithParams),h.withCredentials&&(Ee.withCredentials=!0),h.headers.forEach((Mn,Xn)=>Ee.setRequestHeader(Mn,Xn.join(","))),h.headers.has("Accept")||Ee.setRequestHeader("Accept","application/json, text/plain, */*"),!h.headers.has("Content-Type")){const Mn=h.detectContentTypeHeader();null!==Mn&&Ee.setRequestHeader("Content-Type",Mn)}if(h.responseType){const Mn=h.responseType.toLowerCase();Ee.responseType="json"!==Mn?Mn:"text"}const mt=h.serializeBody();let Dt=null;const pn=()=>{if(null!==Dt)return Dt;const Mn=Ee.statusText||"OK",Xn=new Tt(Ee.getAllResponseHeaders()),fi=function Yr(E){return"responseURL"in E&&E.responseURL?E.responseURL:/^X-Request-URL:/m.test(E.getAllResponseHeaders())?E.getResponseHeader("X-Request-URL"):null}(Ee)||h.url;return Dt=new lt({headers:Xn,status:Ee.status,statusText:Mn,url:fi}),Dt},Zt=()=>{let{headers:Mn,status:Xn,statusText:fi,url:Gi}=pn(),Jr=null;204!==Xn&&(Jr=typeof Ee.response>"u"?Ee.responseText:Ee.response),0===Xn&&(Xn=Jr?200:0);let lr=Xn>=200&&Xn<300;if("json"===h.responseType&&"string"==typeof Jr){const pi=Jr;Jr=Jr.replace(jn,"");try{Jr=""!==Jr?JSON.parse(Jr):null}catch(_r){Jr=pi,lr&&(lr=!1,Jr={error:_r,text:Jr})}}lr?(pe.next(new Pe({body:Jr,headers:Mn,status:Xn,statusText:fi,url:Gi||void 0})),pe.complete()):pe.error(new de({error:Jr,headers:Mn,status:Xn,statusText:fi,url:Gi||void 0}))},tr=Mn=>{const{url:Xn}=pn(),fi=new de({error:Mn,status:Ee.status||0,statusText:Ee.statusText||"Unknown Error",url:Xn||void 0});pe.error(fi)};let or=!1;const ur=Mn=>{or||(pe.next(pn()),or=!0);let Xn={type:Bt.DownloadProgress,loaded:Mn.loaded};Mn.lengthComputable&&(Xn.total=Mn.total),"text"===h.responseType&&Ee.responseText&&(Xn.partialText=Ee.responseText),pe.next(Xn)},Si=Mn=>{let Xn={type:Bt.UploadProgress,loaded:Mn.loaded};Mn.lengthComputable&&(Xn.total=Mn.total),pe.next(Xn)};return Ee.addEventListener("load",Zt),Ee.addEventListener("error",tr),Ee.addEventListener("timeout",tr),Ee.addEventListener("abort",tr),h.reportProgress&&(Ee.addEventListener("progress",ur),null!==mt&&Ee.upload&&Ee.upload.addEventListener("progress",Si)),Ee.send(mt),pe.next({type:Bt.Sent}),()=>{Ee.removeEventListener("error",tr),Ee.removeEventListener("abort",tr),Ee.removeEventListener("load",Zt),Ee.removeEventListener("timeout",tr),h.reportProgress&&(Ee.removeEventListener("progress",ur),null!==mt&&Ee.upload&&Ee.upload.removeEventListener("progress",Si)),Ee.readyState!==Ee.DONE&&Ee.abort()}})))}static#e=this.\u0275fac=function(x){return new(x||E)(o.KVO(me.N0))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();const an=new o.nKC("XSRF_ENABLED"),Wn=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Pn=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vi{}let ze=(()=>{class E{constructor(h,x,$){this.doc=h,this.platform=x,this.cookieName=$,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const h=this.doc.cookie||"";return h!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me._b)(h,this.cookieName),this.lastCookieString=h),this.lastToken}static#e=this.\u0275fac=function(x){return new(x||E)(o.KVO(me.qQ),o.KVO(o.Agw),o.KVO(Wn))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();function yt(E,g){const h=E.url.toLowerCase();if(!(0,o.WQX)(an)||"GET"===E.method||"HEAD"===E.method||h.startsWith("http://")||h.startsWith("https://"))return g(E);const x=(0,o.WQX)(vi).getToken(),$=(0,o.WQX)(Pn);return null!=x&&!E.headers.has($)&&(E=E.clone({headers:E.headers.set($,x)})),g(E)}var Ie=function(E){return E[E.Interceptors=0]="Interceptors",E[E.LegacyInterceptors=1]="LegacyInterceptors",E[E.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",E[E.NoXsrfProtection=3]="NoXsrfProtection",E[E.JsonpSupport=4]="JsonpSupport",E[E.RequestsMadeViaParent=5]="RequestsMadeViaParent",E[E.Fetch=6]="Fetch",E}(Ie||{});function Kt(...E){const g=[Qe,Ki,Lt,{provide:ut,useExisting:Lt},{provide:Ye,useExisting:Ki},{provide:In,useValue:yt,multi:!0},{provide:an,useValue:!0},{provide:vi,useClass:ze}];for(const h of E)g.push(...h.\u0275providers);return(0,o.EmA)(g)}const Tr=new o.nKC("LEGACY_INTERCEPTOR_FN");function sr(){return function pt(E,g){return{\u0275kind:E,\u0275providers:g}}(Ie.LegacyInterceptors,[{provide:Tr,useFactory:Wt},{provide:In,useExisting:Tr,multi:!0}])}let Le=(()=>{class E{static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275mod=o.$C({type:E});static#n=this.\u0275inj=o.G2t({providers:[Kt(sr())]})}return E})();var Cr=L(6814),Xo=L(1584),ci=L(8704),no=L(6861),Oi=L(923),ii=L(9437);function nr(E,g){if(1&E&&(o.j41(0,"div",4),o.nrm(1,"img",5),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s()()),2&E){const h=g.$implicit;o.R7$(1),o.FS9("alt",h.name),o.Y8G("src",h.photoURL,o.B4B),o.R7$(2),o.JRh(h.name),o.R7$(2),o.JRh(h.role),o.R7$(2),o.JRh(h.bio)}}function gt(E,g){if(1&E&&(o.j41(0,"div",1)(1,"h2"),o.EFF(2,"Meet the Team"),o.k0s(),o.j41(3,"div",2),o.DNE(4,nr,8,5,"div",3),o.nI1(5,"async"),o.k0s()()),2&E){const h=o.XpG();o.R7$(4),o.Y8G("ngForOf",o.bMT(5,1,h.employees$))}}let tt=(()=>{class E{constructor(h,x){this.route=h,this.employeeService=x}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Ue.T)(h=>h.get("id")||""),(0,ce.n)(h=>this.employeeService.getEmployeesByBusinessId(h)),(0,ii.W)(h=>(console.error("Error fetching employees:",h),(0,we.of)([]))))}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Cr.nX),o.rXU(ci.N))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(x,$){1&x&&o.DNE(0,gt,6,3,"div",0),2&x&&o.Y8G("ngIf",$.employees$)},dependencies:[me.Sq,me.bT,me.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return E})();var Pt=L(4593),dn=L(491);let wn=(()=>{class E{constructor(h,x){this.route=h,this.router=x,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const x=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",x),x&&this.imagesAndMessages[x]?(this.backgroundImage=`url(${this.imagesAndMessages[x].image})`,this.message=this.imagesAndMessages[x].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Cr.nX),o.rXU(Cr.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(x,$){1&x&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3),o.k0s()()()),2&x&&(o.xc7("background-image",$.backgroundImage),o.R7$(3),o.JRh($.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}return E})(),Fn=(()=>{class E{constructor(){this.text="",this.author="",this.imageURL=""}static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(x,$){1&x&&(o.j41(0,"div",0)(1,"div",1),o.nrm(2,"img",2),o.j41(3,"div",3)(4,"p",4),o.EFF(5),o.k0s(),o.j41(6,"p",5),o.EFF(7),o.k0s()()()()),2&x&&(o.R7$(2),o.FS9("src",$.imageURL,o.B4B),o.R7$(3),o.SpI('" ',$.text,'"'),o.R7$(2),o.SpI("\u2013 ",$.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}return E})();function Nn(E,g){if(1&E&&(o.qex(0),o.j41(1,"button",3),o.EFF(2),o.k0s(),o.bVm()),2&E){const h=o.XpG();o.R7$(2),o.JRh(h.buttonText)}}function $r(E,g){if(1&E&&(o.j41(0,"a",4),o.EFF(1),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.JRh(h.buttonText)}}const Or=function(E,g){return{"background-color":E,color:g}};let Ni=(()=>{class E{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(x,$){if(1&x&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2),o.k0s(),o.DNE(3,Nn,3,1,"ng-container",1),o.DNE(4,$r,2,1,"ng-template",null,2,o.C5r),o.k0s()),2&x){const pe=o.sdS(5);o.Y8G("ngStyle",o.l_i(4,Or,$.bgColor,$.textColor)),o.R7$(2),o.JRh($.text),o.R7$(1),o.Y8G("ngIf",$.isButton)("ngIfElse",pe)}},dependencies:[me.bT,me.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}return E})();function Yo(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"About Us"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),o.EFF(12,"Our Story"),o.k0s()(),o.nrm(13,"div",11),o.k0s(),o.j41(14,"section",12)(15,"div",13),o.nrm(16,"img",14),o.j41(17,"div",9)(18,"h2",10),o.EFF(19,"Our Mission"),o.k0s()(),o.nrm(20,"div",11),o.k0s(),o.j41(21,"div",15),o.nrm(22,"img",14),o.j41(23,"div",9)(24,"h2",10),o.EFF(25,"Our Vision"),o.k0s()(),o.nrm(26,"div",11),o.k0s()(),o.j41(27,"section",16),o.nrm(28,"app-meet-the-team",17),o.k0s()(),o.j41(29,"div",18)(30,"div",19)(31,"h2"),o.EFF(32,"Come Meet Our Family"),o.k0s(),o.j41(33,"p"),o.EFF(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(35,"button",20),o.bIt("click",function(){o.eBV(h);const $=o.XpG(2);return o.Njj($.navigateToContact())}),o.EFF(36,"Schedule a Visit"),o.k0s()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(13),o.Y8G("innerHTML",h.business.businessStory,o.npT),o.R7$(3),o.Y8G("src",h.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",h.business.mission,o.npT),o.R7$(2),o.Y8G("src",h.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",h.business.vision,o.npT),o.R7$(2),o.Y8G("businessId",h.business.id)}}function Sr(E,g){if(1&E&&o.nrm(0,"app-right-text",25),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission)}}function Is(E,g){if(1&E&&o.nrm(0,"app-left-text",25),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision)}}function ki(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",21),o.DNE(3,Sr,1,3,"app-right-text",22),o.DNE(4,Is,1,3,"app-left-text",22),o.k0s(),o.nrm(5,"app-testimonial-image",23)(6,"app-call-to-action",24)(7,"app-meet-the-team"),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("ngIf","ae"===h.business.theme.themeType),o.R7$(1),o.Y8G("ngIf","ae"===h.business.theme.themeType),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[0].name)("text",h.business.testimonials[0].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function Ts(E,g){if(1&E&&o.nrm(0,"app-right-text",25),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission)}}function yi(E,g){if(1&E&&o.nrm(0,"app-left-text",25),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision)}}function _a(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",21),o.DNE(3,Ts,1,3,"app-right-text",22),o.DNE(4,yi,1,3,"app-left-text",22),o.k0s(),o.nrm(5,"app-testimonial-image",23)(6,"app-call-to-action",24)(7,"app-meet-the-team"),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("ngIf","ehc"===h.business.theme.themeType),o.R7$(1),o.Y8G("ngIf","ehc"===h.business.theme.themeType),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[0].name)("text",h.business.testimonials[0].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function Oo(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",21),o.nrm(3,"app-right-text",25)(4,"app-left-text",25),o.k0s(),o.nrm(5,"app-testimonial-image",23)(6,"app-call-to-action",24),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission),o.R7$(1),o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[5].name)("text",h.business.testimonials[5].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function xi(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,Yo,37,6,"ng-container",2),o.DNE(3,ki,8,10,"ng-container",2),o.DNE(4,_a,8,10,"ng-container",2),o.DNE(5,Oo,7,14,"ng-container",3),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc")}}let zi=(()=>{class E{constructor(h,x,$,pe,Ee){this.webContent=h,this.route=x,this.router=$,this.metaService=pe,this.businessDataService=Ee,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.businessId=h?.id||null,this.businessId&&this.metaService.getMetaData(this.businessId).subscribe(x=>{this.metaService.updateMetaTags(x)})})}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(ci.N),o.rXU(Cr.nX),o.rXU(Cr.Ix),o.rXU(no.R),o.rXU(Oi.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"our-approach"],[3,"imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"imageURL","title","content"]],template:function(x,$){1&x&&o.DNE(0,xi,6,4,"div",0),2&x&&o.Y8G("ngIf",$.business)},dependencies:[me.bT,me.ux,me.e1,me.fG,tt,Pt.F,dn.G,wn,Fn,Ni],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}return E})();function mr(E,g){if(1&E&&(o.j41(0,"div",4),o.nrm(1,"i",5),o.j41(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&E){const h=g.$implicit;o.R7$(1),o.Y8G("ngClass",h.icon),o.R7$(2),o.JRh(h.title),o.R7$(2),o.JRh(h.description)}}let ds=(()=>{class E{constructor(){this.layoutType="demo"}static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:7,vars:1,consts:[[1,"services-section"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"afhBtn"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(x,$){1&x&&(o.j41(0,"section",0)(1,"h2"),o.EFF(2,"Our Services"),o.k0s(),o.j41(3,"div",1),o.DNE(4,mr,6,3,"div",2),o.k0s(),o.j41(5,"button",3),o.EFF(6,"Book a consultation"),o.k0s()()),2&x&&(o.R7$(4),o.Y8G("ngForOf",$.services))},dependencies:[me.YU,me.Sq],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return E})();function Vr(E,g){if(1&E&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&E){const h=g.$implicit;o.R7$(2),o.JRh(h.name)}}function Nr(E,g){if(1&E&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&E){const h=g.$implicit;o.R7$(2),o.JRh(h.name)}}function jo(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Providing exceptional care tailored to your needs"),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8),o.nrm(10,"img",9),o.j41(11,"h2"),o.EFF(12,"Our Comprehensive Services"),o.k0s(),o.j41(13,"ul"),o.DNE(14,Vr,3,1,"li",10),o.k0s()(),o.j41(15,"section",8),o.nrm(16,"img",9),o.j41(17,"h2"),o.EFF(18,"Our Benefits"),o.k0s(),o.j41(19,"ul"),o.DNE(20,Nr,3,1,"li",10),o.k0s()(),o.j41(21,"section",11)(22,"h2"),o.EFF(23,"Special Programs"),o.k0s(),o.j41(24,"h3"),o.EFF(25),o.k0s()(),o.j41(26,"section",12)(27,"div",13),o.nrm(28,"img",14),o.j41(29,"div",15)(30,"h2",16),o.EFF(31,"Tours"),o.k0s()(),o.nrm(32,"div",17),o.k0s(),o.j41(33,"div",18),o.nrm(34,"img",19),o.j41(35,"div",15)(36,"h2",16),o.EFF(37,"Free Consulting"),o.k0s()(),o.nrm(38,"div",17),o.k0s()()(),o.j41(39,"div",20)(40,"div",21)(41,"h2"),o.EFF(42,"Ready to Experience Exceptional Care?"),o.k0s(),o.j41(43,"p"),o.EFF(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),o.k0s(),o.j41(45,"button",22),o.bIt("click",function(){o.eBV(h);const $=o.XpG(2);return o.Njj($.navigateToContact())}),o.EFF(46,"Book a Consultation"),o.k0s()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(14),o.Y8G("ngForOf",h.business.services),o.R7$(6),o.Y8G("ngForOf",h.business.benefits),o.R7$(5),o.JRh(h.business.specialPrograms),o.R7$(7),o.Y8G("innerHTML",h.business.tours,o.npT),o.R7$(6),o.Y8G("innerHTML",h.business.freeConsulting,o.npT)}}const Bi=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Os=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},oa=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},oi=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},Qo=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},lo=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},os=function(E,g,h,x,$,pe){return[E,g,h,x,$,pe]};function Kn(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,os,o.lJ4(10,Bi),o.lJ4(11,Os),o.lJ4(12,oa),o.lJ4(13,oi),o.lJ4(14,Qo),o.lJ4(15,lo))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[1].name)("text",h.business.testimonials[1].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function ui(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,os,o.lJ4(10,Bi),o.lJ4(11,Os),o.lJ4(12,oa),o.lJ4(13,oi),o.lJ4(14,Qo),o.lJ4(15,lo))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[1].name)("text",h.business.testimonials[1].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function bi(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,os,o.lJ4(10,Bi),o.lJ4(11,Os),o.lJ4(12,oa),o.lJ4(13,oi),o.lJ4(14,Qo),o.lJ4(15,lo))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[6].name)("text",h.business.testimonials[6].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function ho(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,jo,47,5,"ng-container",2),o.DNE(3,Kn,6,23,"ng-container",2),o.DNE(4,ui,6,23,"ng-container",2),o.DNE(5,bi,6,23,"ng-container",3),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc")}}let Lr=(()=>{class E{constructor(h,x,$){this.router=h,this.businessDataService=x,this.metaService=$,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.businessId=h?.id||null,this.businessId&&this.metaService.getMetaData(this.businessId).subscribe(x=>{this.metaService.updateMetaTags(x)})})}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Cr.Ix),o.rXU(Oi.A),o.rXU(no.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","../../../../assets/sharedAssets/icons/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(x,$){1&x&&o.DNE(0,ho,6,4,"div",0),2&x&&o.Y8G("ngIf",$.business)},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,ds,wn,Fn,Ni],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return E})();var Ii="top",li="bottom",Fi="right",Hr="left",qi="auto",xr=[Ii,li,Fi,Hr],en="start",Vn="end",cr="clippingParents",Ui="viewport",ro="popper",di="reference",bo=xr.reduce(function(E,g){return E.concat([g+"-"+en,g+"-"+Vn])},[]),Ur=[].concat(xr,[qi]).reduce(function(E,g){return E.concat([g,g+"-"+en,g+"-"+Vn])},[]),ko="beforeRead",Fo="read",Gn="afterRead",Io="beforeMain",mi="main",Q="afterMain",z="beforeWrite",ye="write",xe="afterWrite",Ke=[ko,Fo,Gn,Io,mi,Q,z,ye,xe];function bt(E){return E?(E.nodeName||"").toLowerCase():null}function Xt(E){if(null==E)return window;if("[object Window]"!==E.toString()){var g=E.ownerDocument;return g&&g.defaultView||window}return E}function fn(E){return E instanceof Xt(E).Element||E instanceof Element}function Ot(E){return E instanceof Xt(E).HTMLElement||E instanceof HTMLElement}function hn(E){return!(typeof ShadowRoot>"u")&&(E instanceof Xt(E).ShadowRoot||E instanceof ShadowRoot)}const hi={name:"applyStyles",enabled:!0,phase:"write",fn:function rr(E){var g=E.state;Object.keys(g.elements).forEach(function(h){var x=g.styles[h]||{},$=g.attributes[h]||{},pe=g.elements[h];!Ot(pe)||!bt(pe)||(Object.assign(pe.style,x),Object.keys($).forEach(function(Ee){var mt=$[Ee];!1===mt?pe.removeAttribute(Ee):pe.setAttribute(Ee,!0===mt?"":mt)}))})},effect:function Sn(E){var g=E.state,h={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(g.elements.popper.style,h.popper),g.styles=h,g.elements.arrow&&Object.assign(g.elements.arrow.style,h.arrow),function(){Object.keys(g.elements).forEach(function(x){var $=g.elements[x],pe=g.attributes[x]||{},mt=Object.keys(g.styles.hasOwnProperty(x)?g.styles[x]:h[x]).reduce(function(Dt,pn){return Dt[pn]="",Dt},{});!Ot($)||!bt($)||(Object.assign($.style,mt),Object.keys(pe).forEach(function(Dt){$.removeAttribute(Dt)}))})}},requires:["computeStyles"]};function br(E){return E.split("-")[0]}var Kr=Math.max,ei=Math.min,kr=Math.round;function Xi(){var E=navigator.userAgentData;return null!=E&&E.brands&&Array.isArray(E.brands)?E.brands.map(function(g){return g.brand+"/"+g.version}).join(" "):navigator.userAgent}function Yi(){return!/^((?!chrome|android).)*safari/i.test(Xi())}function er(E,g,h){void 0===g&&(g=!1),void 0===h&&(h=!1);var x=E.getBoundingClientRect(),$=1,pe=1;g&&Ot(E)&&($=E.offsetWidth>0&&kr(x.width)/E.offsetWidth||1,pe=E.offsetHeight>0&&kr(x.height)/E.offsetHeight||1);var mt=(fn(E)?Xt(E):window).visualViewport,Dt=!Yi()&&h,pn=(x.left+(Dt&&mt?mt.offsetLeft:0))/$,Zt=(x.top+(Dt&&mt?mt.offsetTop:0))/pe,tr=x.width/$,or=x.height/pe;return{width:tr,height:or,top:Zt,right:pn+tr,bottom:Zt+or,left:pn,x:pn,y:Zt}}function Ei(E){var g=er(E),h=E.offsetWidth,x=E.offsetHeight;return Math.abs(g.width-h)<=1&&(h=g.width),Math.abs(g.height-x)<=1&&(x=g.height),{x:E.offsetLeft,y:E.offsetTop,width:h,height:x}}function ti(E,g){var h=g.getRootNode&&g.getRootNode();if(E.contains(g))return!0;if(h&&hn(h)){var x=g;do{if(x&&E.isSameNode(x))return!0;x=x.parentNode||x.host}while(x)}return!1}function fr(E){return Xt(E).getComputedStyle(E)}function As(E){return["table","td","th"].indexOf(bt(E))>=0}function Ti(E){return((fn(E)?E.ownerDocument:E.document)||window.document).documentElement}function Ds(E){return"html"===bt(E)?E:E.assignedSlot||E.parentNode||(hn(E)?E.host:null)||Ti(E)}function fo(E){return Ot(E)&&"fixed"!==fr(E).position?E.offsetParent:null}function po(E){for(var g=Xt(E),h=fo(E);h&&As(h)&&"static"===fr(h).position;)h=fo(h);return h&&("html"===bt(h)||"body"===bt(h)&&"static"===fr(h).position)?g:h||function va(E){var g=/firefox/i.test(Xi());if(/Trident/i.test(Xi())&&Ot(E)&&"fixed"===fr(E).position)return null;var $=Ds(E);for(hn($)&&($=$.host);Ot($)&&["html","body"].indexOf(bt($))<0;){var pe=fr($);if("none"!==pe.transform||"none"!==pe.perspective||"paint"===pe.contain||-1!==["transform","perspective"].indexOf(pe.willChange)||g&&"filter"===pe.willChange||g&&pe.filter&&"none"!==pe.filter)return $;$=$.parentNode}return null}(E)||g}function ss(E){return["top","bottom"].indexOf(E)>=0?"x":"y"}function Qs(E,g,h){return Kr(E,ei(g,h))}function Ns(E){return Object.assign({},{top:0,right:0,bottom:0,left:0},E)}function ks(E,g){return g.reduce(function(h,x){return h[x]=E,h},{})}const Da={name:"arrow",enabled:!0,phase:"main",fn:function Gr(E){var g,h=E.state,x=E.name,$=E.options,pe=h.elements.arrow,Ee=h.modifiersData.popperOffsets,mt=br(h.placement),Dt=ss(mt),Zt=[Hr,Fi].indexOf(mt)>=0?"height":"width";if(pe&&Ee){var tr=function(g,h){return Ns("number"!=typeof(g="function"==typeof g?g(Object.assign({},h.rects,{placement:h.placement})):g)?g:ks(g,xr))}($.padding,h),or=Ei(pe),ur="y"===Dt?Ii:Hr,Si="y"===Dt?li:Fi,Mn=h.rects.reference[Zt]+h.rects.reference[Dt]-Ee[Dt]-h.rects.popper[Zt],Xn=Ee[Dt]-h.rects.reference[Dt],fi=po(pe),Gi=fi?"y"===Dt?fi.clientHeight||0:fi.clientWidth||0:0,_r=Gi/2-or[Zt]/2+(Mn/2-Xn/2),Vi=Qs(tr[ur],_r,Gi-or[Zt]-tr[Si]);h.modifiersData[x]=((g={})[Dt]=Vi,g.centerOffset=Vi-_r,g)}},effect:function aa(E){var g=E.state,x=E.options.element,$=void 0===x?"[data-popper-arrow]":x;null!=$&&("string"==typeof $&&!($=g.elements.popper.querySelector($))||ti(g.elements.popper,$)&&(g.elements.arrow=$))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function G(E){return E.split("-")[1]}var X={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oe(E){var g,h=E.popper,x=E.popperRect,$=E.placement,pe=E.variation,Ee=E.offsets,mt=E.position,Dt=E.gpuAcceleration,pn=E.adaptive,Zt=E.roundOffsets,tr=E.isFixed,or=Ee.x,ur=void 0===or?0:or,Si=Ee.y,Mn=void 0===Si?0:Si,Xn="function"==typeof Zt?Zt({x:ur,y:Mn}):{x:ur,y:Mn};ur=Xn.x,Mn=Xn.y;var fi=Ee.hasOwnProperty("x"),Gi=Ee.hasOwnProperty("y"),Jr=Hr,lr=Ii,pi=window;if(pn){var _r=po(h),Vi="clientHeight",Lo="clientWidth";_r===Xt(h)&&"static"!==fr(_r=Ti(h)).position&&"absolute"===mt&&(Vi="scrollHeight",Lo="scrollWidth"),($===Ii||($===Hr||$===Fi)&&pe===Vn)&&(lr=li,Mn-=(tr&&_r===pi&&pi.visualViewport?pi.visualViewport.height:_r[Vi])-x.height,Mn*=Dt?1:-1),$!==Hr&&($!==Ii&&$!==li||pe!==Vn)||(Jr=Fi,ur-=(tr&&_r===pi&&pi.visualViewport?pi.visualViewport.width:_r[Lo])-x.width,ur*=Dt?1:-1)}var Uo,yo=Object.assign({position:mt},pn&&X),is=!0===Zt?function O(E,g){var x=E.y,$=g.devicePixelRatio||1;return{x:kr(E.x*$)/$||0,y:kr(x*$)/$||0}}({x:ur,y:Mn},Xt(h)):{x:ur,y:Mn};return ur=is.x,Mn=is.y,Object.assign({},yo,Dt?((Uo={})[lr]=Gi?"0":"",Uo[Jr]=fi?"0":"",Uo.transform=(pi.devicePixelRatio||1)<=1?"translate("+ur+"px, "+Mn+"px)":"translate3d("+ur+"px, "+Mn+"px, 0)",Uo):((g={})[lr]=Gi?Mn+"px":"",g[Jr]=fi?ur+"px":"",g.transform="",g))}const _n={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Ne(E){var g=E.state,h=E.options,x=h.gpuAcceleration,$=void 0===x||x,pe=h.adaptive,Ee=void 0===pe||pe,mt=h.roundOffsets,Dt=void 0===mt||mt,pn={placement:br(g.placement),variation:G(g.placement),popper:g.elements.popper,popperRect:g.rects.popper,gpuAcceleration:$,isFixed:"fixed"===g.options.strategy};null!=g.modifiersData.popperOffsets&&(g.styles.popper=Object.assign({},g.styles.popper,oe(Object.assign({},pn,{offsets:g.modifiersData.popperOffsets,position:g.options.strategy,adaptive:Ee,roundOffsets:Dt})))),null!=g.modifiersData.arrow&&(g.styles.arrow=Object.assign({},g.styles.arrow,oe(Object.assign({},pn,{offsets:g.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Dt})))),g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-placement":g.placement})},data:{}};var Bn={passive:!0};const go={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function io(E){var g=E.state,h=E.instance,x=E.options,$=x.scroll,pe=void 0===$||$,Ee=x.resize,mt=void 0===Ee||Ee,Dt=Xt(g.elements.popper),pn=[].concat(g.scrollParents.reference,g.scrollParents.popper);return pe&&pn.forEach(function(Zt){Zt.addEventListener("scroll",h.update,Bn)}),mt&&Dt.addEventListener("resize",h.update,Bn),function(){pe&&pn.forEach(function(Zt){Zt.removeEventListener("scroll",h.update,Bn)}),mt&&Dt.removeEventListener("resize",h.update,Bn)}},data:{}};var oo={left:"right",right:"left",bottom:"top",top:"bottom"};function as(E){return E.replace(/left|right|bottom|top/g,function(g){return oo[g]})}var Bo={start:"end",end:"start"};function $o(E){return E.replace(/start|end/g,function(g){return Bo[g]})}function So(E){var g=Xt(E);return{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function mu(E){return er(Ti(E)).left+So(E).scrollLeft}function Wi(E){var g=fr(E);return/auto|scroll|overlay|hidden/.test(g.overflow+g.overflowY+g.overflowX)}function Nc(E){return["html","body","#document"].indexOf(bt(E))>=0?E.ownerDocument.body:Ot(E)&&Wi(E)?E:Nc(Ds(E))}function To(E,g){var h;void 0===g&&(g=[]);var x=Nc(E),$=x===(null==(h=E.ownerDocument)?void 0:h.body),pe=Xt(x),Ee=$?[pe].concat(pe.visualViewport||[],Wi(x)?x:[]):x,mt=g.concat(Ee);return $?mt:mt.concat(To(Ds(Ee)))}function Fs(E){return Object.assign({},E,{left:E.x,top:E.y,right:E.x+E.width,bottom:E.y+E.height})}function Ea(E,g,h){return g===Ui?Fs(function ni(E,g){var h=Xt(E),x=Ti(E),$=h.visualViewport,pe=x.clientWidth,Ee=x.clientHeight,mt=0,Dt=0;if($){pe=$.width,Ee=$.height;var pn=Yi();(pn||!pn&&"fixed"===g)&&(mt=$.offsetLeft,Dt=$.offsetTop)}return{width:pe,height:Ee,x:mt+mu(E),y:Dt}}(E,h)):fn(g)?function cs(E,g){var h=er(E,!1,"fixed"===g);return h.top=h.top+E.clientTop,h.left=h.left+E.clientLeft,h.bottom=h.top+E.clientHeight,h.right=h.left+E.clientWidth,h.width=E.clientWidth,h.height=E.clientHeight,h.x=h.left,h.y=h.top,h}(g,h):Fs(function ya(E){var g,h=Ti(E),x=So(E),$=null==(g=E.ownerDocument)?void 0:g.body,pe=Kr(h.scrollWidth,h.clientWidth,$?$.scrollWidth:0,$?$.clientWidth:0),Ee=Kr(h.scrollHeight,h.clientHeight,$?$.scrollHeight:0,$?$.clientHeight:0),mt=-x.scrollLeft+mu(E),Dt=-x.scrollTop;return"rtl"===fr($||h).direction&&(mt+=Kr(h.clientWidth,$?$.clientWidth:0)-pe),{width:pe,height:Ee,x:mt,y:Dt}}(Ti(E)))}function Sa(E){var Dt,g=E.reference,h=E.element,x=E.placement,$=x?br(x):null,pe=x?G(x):null,Ee=g.x+g.width/2-h.width/2,mt=g.y+g.height/2-h.height/2;switch($){case Ii:Dt={x:Ee,y:g.y-h.height};break;case li:Dt={x:Ee,y:g.y+g.height};break;case Fi:Dt={x:g.x+g.width,y:mt};break;case Hr:Dt={x:g.x-h.width,y:mt};break;default:Dt={x:g.x,y:g.y}}var pn=$?ss($):null;if(null!=pn){var Zt="y"===pn?"height":"width";switch(pe){case en:Dt[pn]=Dt[pn]-(g[Zt]/2-h[Zt]/2);break;case Vn:Dt[pn]=Dt[pn]+(g[Zt]/2-h[Zt]/2)}}return Dt}function Js(E,g){void 0===g&&(g={});var x=g.placement,$=void 0===x?E.placement:x,pe=g.strategy,Ee=void 0===pe?E.strategy:pe,mt=g.boundary,Dt=void 0===mt?cr:mt,pn=g.rootBoundary,Zt=void 0===pn?Ui:pn,tr=g.elementContext,or=void 0===tr?ro:tr,ur=g.altBoundary,Si=void 0!==ur&&ur,Mn=g.padding,Xn=void 0===Mn?0:Mn,fi=Ns("number"!=typeof Xn?Xn:ks(Xn,xr)),Jr=E.rects.popper,lr=E.elements[Si?or===ro?di:ro:or],pi=function ir(E,g,h,x){var $="clippingParents"===g?function Vs(E){var g=To(Ds(E)),x=["absolute","fixed"].indexOf(fr(E).position)>=0&&Ot(E)?po(E):E;return fn(x)?g.filter(function($){return fn($)&&ti($,x)&&"body"!==bt($)}):[]}(E):[].concat(g),pe=[].concat($,[h]),mt=pe.reduce(function(Dt,pn){var Zt=Ea(E,pn,x);return Dt.top=Kr(Zt.top,Dt.top),Dt.right=ei(Zt.right,Dt.right),Dt.bottom=ei(Zt.bottom,Dt.bottom),Dt.left=Kr(Zt.left,Dt.left),Dt},Ea(E,pe[0],x));return mt.width=mt.right-mt.left,mt.height=mt.bottom-mt.top,mt.x=mt.left,mt.y=mt.top,mt}(fn(lr)?lr:lr.contextElement||Ti(E.elements.popper),Dt,Zt,Ee),_r=er(E.elements.reference),Vi=Sa({reference:_r,element:Jr,strategy:"absolute",placement:$}),Lo=Fs(Object.assign({},Jr,Vi)),gi=or===ro?Lo:_r,ji={top:pi.top-gi.top+fi.top,bottom:gi.bottom-pi.bottom+fi.bottom,left:pi.left-gi.left+fi.left,right:gi.right-pi.right+fi.right},yo=E.modifiersData.offset;if(or===ro&&yo){var is=yo[$];Object.keys(ji).forEach(function(Uo){var si=[Fi,li].indexOf(Uo)>=0?1:-1,qs=[Ii,li].indexOf(Uo)>=0?"y":"x";ji[Uo]+=is[qs]*si})}return ji}const hs={name:"flip",enabled:!0,phase:"main",fn:function Ca(E){var g=E.state,h=E.options,x=E.name;if(!g.modifiersData[x]._skip){for(var $=h.mainAxis,pe=void 0===$||$,Ee=h.altAxis,mt=void 0===Ee||Ee,Dt=h.fallbackPlacements,pn=h.padding,Zt=h.boundary,tr=h.rootBoundary,or=h.altBoundary,ur=h.flipVariations,Si=void 0===ur||ur,Mn=h.allowedAutoPlacements,Xn=g.options.placement,fi=br(Xn),Jr=Dt||(fi!==Xn&&Si?function qa(E){if(br(E)===qi)return[];var g=as(E);return[$o(E),g,$o(g)]}(Xn):[as(Xn)]),lr=[Xn].concat(Jr).reduce(function(Ga,Rs){return Ga.concat(br(Rs)===qi?function Ka(E,g){void 0===g&&(g={});var $=g.boundary,pe=g.rootBoundary,Ee=g.padding,mt=g.flipVariations,Dt=g.allowedAutoPlacements,pn=void 0===Dt?Ur:Dt,Zt=G(g.placement),tr=Zt?mt?bo:bo.filter(function(Si){return G(Si)===Zt}):xr,or=tr.filter(function(Si){return pn.indexOf(Si)>=0});0===or.length&&(or=tr);var ur=or.reduce(function(Si,Mn){return Si[Mn]=Js(E,{placement:Mn,boundary:$,rootBoundary:pe,padding:Ee})[br(Mn)],Si},{});return Object.keys(ur).sort(function(Si,Mn){return ur[Si]-ur[Mn]})}(g,{placement:Rs,boundary:Zt,rootBoundary:tr,padding:pn,flipVariations:Si,allowedAutoPlacements:Mn}):Rs)},[]),pi=g.rects.reference,_r=g.rects.popper,Vi=new Map,Lo=!0,gi=lr[0],ji=0;ji<lr.length;ji++){var yo=lr[ji],is=br(yo),Uo=G(yo)===en,si=[Ii,li].indexOf(is)>=0,qs=si?"width":"height",Mo=Js(g,{placement:yo,boundary:Zt,rootBoundary:tr,altBoundary:or,padding:pn}),qo=si?Uo?Fi:Hr:Uo?li:Ii;pi[qs]>_r[qs]&&(qo=as(qo));var fu=as(qo),ga=[];if(pe&&ga.push(Mo[is]<=0),mt&&ga.push(Mo[qo]<=0,Mo[fu]<=0),ga.every(function(Ga){return Ga})){gi=yo,Lo=!1;break}Vi.set(yo,ga)}if(Lo)for(var fp=function(Rs){var Pl=lr.find(function(Ld){var pu=Vi.get(Ld);if(pu)return pu.slice(0,Rs).every(function(Sc){return Sc})});if(Pl)return gi=Pl,"break"},Vd=Si?3:1;Vd>0&&"break"!==fp(Vd);Vd--);g.placement!==gi&&(g.modifiersData[x]._skip=!0,g.placement=gi,g.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ls(E,g,h){return void 0===h&&(h={x:0,y:0}),{top:E.top-g.height-h.y,right:E.right-g.width+h.x,bottom:E.bottom-g.height+h.y,left:E.left-g.width-h.x}}function Xa(E){return[Ii,Fi,li,Hr].some(function(g){return E[g]>=0})}const xa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function kc(E){var g=E.state,h=E.name,x=g.rects.reference,$=g.rects.popper,pe=g.modifiersData.preventOverflow,Ee=Js(g,{elementContext:"reference"}),mt=Js(g,{altBoundary:!0}),Dt=Ls(Ee,x),pn=Ls(mt,$,pe),Zt=Xa(Dt),tr=Xa(pn);g.modifiersData[h]={referenceClippingOffsets:Dt,popperEscapeOffsets:pn,isReferenceHidden:Zt,hasPopperEscaped:tr},g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-reference-hidden":Zt,"data-popper-escaped":tr})}},Us={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ya(E){var g=E.state,x=E.name,$=E.options.offset,pe=void 0===$?[0,0]:$,Ee=Ur.reduce(function(Zt,tr){return Zt[tr]=function ca(E,g,h){var x=br(E),$=[Hr,Ii].indexOf(x)>=0?-1:1,pe="function"==typeof h?h(Object.assign({},g,{placement:E})):h,Ee=pe[0],mt=pe[1];return Ee=Ee||0,mt=(mt||0)*$,[Hr,Fi].indexOf(x)>=0?{x:mt,y:Ee}:{x:Ee,y:mt}}(tr,g.rects,pe),Zt},{}),mt=Ee[g.placement],pn=mt.y;null!=g.modifiersData.popperOffsets&&(g.modifiersData.popperOffsets.x+=mt.x,g.modifiersData.popperOffsets.y+=pn),g.modifiersData[x]=Ee}},Zs={name:"popperOffsets",enabled:!0,phase:"read",fn:function Fl(E){var g=E.state;g.modifiersData[E.name]=Sa({reference:g.rects.reference,element:g.rects.popper,strategy:"absolute",placement:g.placement})},data:{}},ua={name:"preventOverflow",enabled:!0,phase:"main",fn:function Yu(E){var g=E.state,h=E.options,x=E.name,$=h.mainAxis,pe=void 0===$||$,Ee=h.altAxis,mt=void 0!==Ee&&Ee,or=h.tether,ur=void 0===or||or,Si=h.tetherOffset,Mn=void 0===Si?0:Si,Xn=Js(g,{boundary:h.boundary,rootBoundary:h.rootBoundary,padding:h.padding,altBoundary:h.altBoundary}),fi=br(g.placement),Gi=G(g.placement),Jr=!Gi,lr=ss(fi),pi=function Pa(E){return"x"===E?"y":"x"}(lr),_r=g.modifiersData.popperOffsets,Vi=g.rects.reference,Lo=g.rects.popper,gi="function"==typeof Mn?Mn(Object.assign({},g.rects,{placement:g.placement})):Mn,ji="number"==typeof gi?{mainAxis:gi,altAxis:gi}:Object.assign({mainAxis:0,altAxis:0},gi),yo=g.modifiersData.offset?g.modifiersData.offset[g.placement]:null,is={x:0,y:0};if(_r){if(pe){var Uo,si="y"===lr?Ii:Hr,qs="y"===lr?li:Fi,Mo="y"===lr?"height":"width",qo=_r[lr],fu=qo+Xn[si],ga=qo-Xn[qs],Yh=ur?-Lo[Mo]/2:0,fp=Gi===en?Vi[Mo]:Lo[Mo],Vd=Gi===en?-Lo[Mo]:-Vi[Mo],Qh=g.elements.arrow,Ga=ur&&Qh?Ei(Qh):{width:0,height:0},Rs=g.modifiersData["arrow#persistent"]?g.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Pl=Rs[si],Ld=Rs[qs],pu=Qs(0,Vi[Mo],Ga[Mo]),Sc=Jr?Vi[Mo]/2-Yh-pu-Pl-ji.mainAxis:fp-pu-Pl-ji.mainAxis,X_=Jr?-Vi[Mo]/2+Yh+pu+Ld+ji.mainAxis:Vd+pu+Ld+ji.mainAxis,Lm=g.elements.arrow&&po(g.elements.arrow),$v=Lm?"y"===lr?Lm.clientTop||0:Lm.clientLeft||0:0,gu=null!=(Uo=yo?.[lr])?Uo:0,Hv=qo+X_-gu,Ud=Qs(ur?ei(fu,qo+Sc-gu-$v):fu,qo,ur?Kr(ga,Hv):ga);_r[lr]=Ud,is[lr]=Ud-qo}if(mt){var pp,za=_r[pi],Rl="y"===pi?"height":"width",Xu=za+Xn["x"===lr?Ii:Hr],ao=za-Xn["x"===lr?li:Fi],jd=-1!==[Ii,Hr].indexOf(fi),xg=null!=(pp=yo?.[pi])?pp:0,Ml=jd?Xu:za-Vi[Rl]-Lo[Rl]-xg+ji.altAxis,gp=jd?za+Vi[Rl]+Lo[Rl]-xg-ji.altAxis:ao,Pg=ur&&jd?function sa(E,g,h){var x=Qs(E,g,h);return x>h?h:x}(Ml,za,gp):Qs(ur?Ml:Xu,za,ur?gp:ao);_r[pi]=Pg,is[pi]=Pg-za}g.modifiersData[x]=is}},requiresIfExists:["offset"]};function S(E,g,h){void 0===h&&(h=!1);var x=Ot(g),$=Ot(g)&&function wi(E){var g=E.getBoundingClientRect(),h=kr(g.width)/E.offsetWidth||1,x=kr(g.height)/E.offsetHeight||1;return 1!==h||1!==x}(g),pe=Ti(g),Ee=er(E,$,h),mt={scrollLeft:0,scrollTop:0},Dt={x:0,y:0};return(x||!x&&!h)&&(("body"!==bt(g)||Wi(pe))&&(mt=function vu(E){return E!==Xt(E)&&Ot(E)?function _u(E){return{scrollLeft:E.scrollLeft,scrollTop:E.scrollTop}}(E):So(E)}(g)),Ot(g)?((Dt=er(g,!0)).x+=g.clientLeft,Dt.y+=g.clientTop):pe&&(Dt.x=mu(pe))),{x:Ee.left+mt.scrollLeft-Dt.x,y:Ee.top+mt.scrollTop-Dt.y,width:Ee.width,height:Ee.height}}function J(E){var g=new Map,h=new Set,x=[];function $(pe){h.add(pe.name),[].concat(pe.requires||[],pe.requiresIfExists||[]).forEach(function(mt){if(!h.has(mt)){var Dt=g.get(mt);Dt&&$(Dt)}}),x.push(pe)}return E.forEach(function(pe){g.set(pe.name,pe)}),E.forEach(function(pe){h.has(pe.name)||$(pe)}),x}function Y(E){var g;return function(){return g||(g=new Promise(function(h){Promise.resolve().then(function(){g=void 0,h(E())})})),g}}var Ct={placement:"bottom",modifiers:[],strategy:"absolute"};function kt(){for(var E=arguments.length,g=new Array(E),h=0;h<E;h++)g[h]=arguments[h];return!g.some(function(x){return!(x&&"function"==typeof x.getBoundingClientRect)})}function vn(E){void 0===E&&(E={});var h=E.defaultModifiers,x=void 0===h?[]:h,$=E.defaultOptions,pe=void 0===$?Ct:$;return function(mt,Dt,pn){void 0===pn&&(pn=pe);var Zt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ct,pe),modifiersData:{},elements:{reference:mt,popper:Dt},attributes:{},styles:{}},tr=[],or=!1,ur={state:Zt,setOptions:function(fi){var Gi="function"==typeof fi?fi(Zt.options):fi;Mn(),Zt.options=Object.assign({},pe,Zt.options,Gi),Zt.scrollParents={reference:fn(mt)?To(mt):mt.contextElement?To(mt.contextElement):[],popper:To(Dt)};var Jr=function U(E){var g=J(E);return Ke.reduce(function(h,x){return h.concat(g.filter(function($){return $.phase===x}))},[])}(function Te(E){var g=E.reduce(function(h,x){var $=h[x.name];return h[x.name]=$?Object.assign({},$,x,{options:Object.assign({},$.options,x.options),data:Object.assign({},$.data,x.data)}):x,h},{});return Object.keys(g).map(function(h){return g[h]})}([].concat(x,Zt.options.modifiers)));return Zt.orderedModifiers=Jr.filter(function(lr){return lr.enabled}),function Si(){Zt.orderedModifiers.forEach(function(Xn){var Gi=Xn.options,lr=Xn.effect;if("function"==typeof lr){var pi=lr({state:Zt,name:Xn.name,instance:ur,options:void 0===Gi?{}:Gi});tr.push(pi||function(){})}})}(),ur.update()},forceUpdate:function(){if(!or){var fi=Zt.elements,Gi=fi.reference,Jr=fi.popper;if(kt(Gi,Jr)){Zt.rects={reference:S(Gi,po(Jr),"fixed"===Zt.options.strategy),popper:Ei(Jr)},Zt.reset=!1,Zt.placement=Zt.options.placement,Zt.orderedModifiers.forEach(function(ji){return Zt.modifiersData[ji.name]=Object.assign({},ji.data)});for(var lr=0;lr<Zt.orderedModifiers.length;lr++)if(!0!==Zt.reset){var pi=Zt.orderedModifiers[lr],_r=pi.fn,Vi=pi.options;"function"==typeof _r&&(Zt=_r({state:Zt,options:void 0===Vi?{}:Vi,name:pi.name,instance:ur})||Zt)}else Zt.reset=!1,lr=-1}}},update:Y(function(){return new Promise(function(Xn){ur.forceUpdate(),Xn(Zt)})}),destroy:function(){Mn(),or=!0}};if(!kt(mt,Dt))return ur;function Mn(){tr.forEach(function(Xn){return Xn()}),tr=[]}return ur.setOptions(pn).then(function(Xn){!or&&pn.onFirstUpdate&&pn.onFirstUpdate(Xn)}),ur}}var Pr=vn(),jr=vn({defaultModifiers:[go,Zs,_n,hi,Us,hs,ua,Da,xa]}),_i=vn({defaultModifiers:[go,Zs,_n,hi]});const wr=new Map,Pi={set(E,g,h){wr.has(E)||wr.set(E,new Map);const x=wr.get(E);x.has(g)||0===x.size?x.set(g,h):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(x.keys())[0]}.`)},get:(E,g)=>wr.has(E)&&wr.get(E).get(g)||null,remove(E,g){if(!wr.has(E))return;const h=wr.get(E);h.delete(g),0===h.size&&wr.delete(E)}},js="transitionend",Go=E=>(E&&window.CSS&&window.CSS.escape&&(E=E.replace(/#([^\s"#']+)/g,(g,h)=>`#${CSS.escape(h)}`)),E),Qu=E=>{E.dispatchEvent(new Event(js))},Wr=E=>!(!E||"object"!=typeof E)&&(typeof E.jquery<"u"&&(E=E[0]),typeof E.nodeType<"u"),us=E=>Wr(E)?E.jquery?E[0]:E:"string"==typeof E&&E.length>0?document.querySelector(Go(E)):null,Ss=E=>{if(!Wr(E)||0===E.getClientRects().length)return!1;const g="visible"===getComputedStyle(E).getPropertyValue("visibility"),h=E.closest("details:not([open])");if(!h)return g;if(h!==E){const x=E.closest("summary");if(x&&x.parentNode!==h||null===x)return!1}return g},Qi=E=>!(E&&E.nodeType===Node.ELEMENT_NODE&&!E.classList.contains("disabled"))||(typeof E.disabled<"u"?E.disabled:E.hasAttribute("disabled")&&"false"!==E.getAttribute("disabled")),Ju=E=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof E.getRootNode){const g=E.getRootNode();return g instanceof ShadowRoot?g:null}return E instanceof ShadowRoot?E:E.parentNode?Ju(E.parentNode):null},Qa=()=>{},Ci=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ja=[],Jo=()=>"rtl"===document.documentElement.dir,Ji=E=>{(E=>{"loading"===document.readyState?(Ja.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of Ja)g()}),Ja.push(E)):E()})(()=>{const g=Ci();if(g){const h=E.NAME,x=g.fn[h];g.fn[h]=E.jQueryInterface,g.fn[h].Constructor=E,g.fn[h].noConflict=()=>(g.fn[h]=x,E.jQueryInterface)}})},Zi=(E,g=[],h=E)=>"function"==typeof E?E(...g):h,Fc=(E,g,h=!0)=>{if(!h)return void Zi(E);const $=(E=>{if(!E)return 0;let{transitionDuration:g,transitionDelay:h}=window.getComputedStyle(E);const x=Number.parseFloat(g),$=Number.parseFloat(h);return x||$?(g=g.split(",")[0],h=h.split(",")[0],1e3*(Number.parseFloat(g)+Number.parseFloat(h))):0})(g)+5;let pe=!1;const Ee=({target:mt})=>{mt===g&&(pe=!0,g.removeEventListener(js,Ee),Zi(E))};g.addEventListener(js,Ee),setTimeout(()=>{pe||Qu(g)},$)},Eu=(E,g,h,x)=>{const $=E.length;let pe=E.indexOf(g);return-1===pe?!h&&x?E[$-1]:E[0]:(pe+=h?1:-1,x&&(pe=(pe+$)%$),E[Math.max(0,Math.min(pe,$-1))])},Vl=/[^.]*(?=\..*)\.|.*/,Ll=/\..*/,Ul=/::\d+$/,Qn={};let jl=1;const Za={mouseenter:"mouseover",mouseleave:"mouseout"},zo=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Zu(E,g){return g&&`${g}::${jl++}`||E.uidEvent||jl++}function Cu(E){const g=Zu(E);return E.uidEvent=g,Qn[g]=Qn[g]||{},Qn[g]}function Vc(E,g,h=null){return Object.values(E).find(x=>x.callable===g&&x.delegationSelector===h)}function bu(E,g,h){const x="string"==typeof g,$=x?h:g||h;let pe=$t(E);return zo.has(pe)||(pe=E),[x,$,pe]}function Ma(E,g,h,x,$){if("string"!=typeof g||!E)return;let[pe,Ee,mt]=bu(g,h,x);var Si;g in Za&&(Si=Ee,Ee=function(Mn){if(!Mn.relatedTarget||Mn.relatedTarget!==Mn.delegateTarget&&!Mn.delegateTarget.contains(Mn.relatedTarget))return Si.call(this,Mn)});const Dt=Cu(E),pn=Dt[mt]||(Dt[mt]={}),Zt=Vc(pn,Ee,pe?h:null);if(Zt)return void(Zt.oneOff=Zt.oneOff&&$);const tr=Zu(Ee,g.replace(Vl,"")),or=pe?function Ra(E,g,h){return function x($){const pe=E.querySelectorAll(g);for(let{target:Ee}=$;Ee&&Ee!==this;Ee=Ee.parentNode)for(const mt of pe)if(mt===Ee)return Lc($,{delegateTarget:Ee}),x.oneOff&&St.off(E,$.type,g,h),h.apply(Ee,[$])}}(E,h,Ee):function eo(E,g){return function h(x){return Lc(x,{delegateTarget:E}),h.oneOff&&St.off(E,x.type,g),g.apply(E,[x])}}(E,Ee);or.delegationSelector=pe?h:null,or.callable=Ee,or.oneOff=$,or.uidEvent=tr,pn[tr]=or,E.addEventListener(mt,or,pe)}function gs(E,g,h,x,$){const pe=Vc(g[h],x,$);pe&&(E.removeEventListener(h,pe,!!$),delete g[h][pe.uidEvent])}function zd(E,g,h,x){const $=g[h]||{};for(const[pe,Ee]of Object.entries($))pe.includes(x)&&gs(E,g,h,Ee.callable,Ee.delegationSelector)}function $t(E){return E=E.replace(Ll,""),Za[E]||E}const St={on(E,g,h,x){Ma(E,g,h,x,!1)},one(E,g,h,x){Ma(E,g,h,x,!0)},off(E,g,h,x){if("string"!=typeof g||!E)return;const[$,pe,Ee]=bu(g,h,x),mt=Ee!==g,Dt=Cu(E),pn=Dt[Ee]||{},Zt=g.startsWith(".");if(typeof pe<"u"){if(!Object.keys(pn).length)return;gs(E,Dt,Ee,pe,$?h:null)}else{if(Zt)for(const tr of Object.keys(Dt))zd(E,Dt,tr,g.slice(1));for(const[tr,or]of Object.entries(pn)){const ur=tr.replace(Ul,"");(!mt||g.includes(ur))&&gs(E,Dt,Ee,or.callable,or.delegationSelector)}}},trigger(E,g,h){if("string"!=typeof g||!E)return null;const x=Ci();let Ee=null,mt=!0,Dt=!0,pn=!1;g!==$t(g)&&x&&(Ee=x.Event(g,h),x(E).trigger(Ee),mt=!Ee.isPropagationStopped(),Dt=!Ee.isImmediatePropagationStopped(),pn=Ee.isDefaultPrevented());const Zt=Lc(new Event(g,{bubbles:mt,cancelable:!0}),h);return pn&&Zt.preventDefault(),Dt&&E.dispatchEvent(Zt),Zt.defaultPrevented&&Ee&&Ee.preventDefault(),Zt}};function Lc(E,g={}){for(const[h,x]of Object.entries(g))try{E[h]=x}catch{Object.defineProperty(E,h,{configurable:!0,get:()=>x})}return E}function Oa(E){if("true"===E)return!0;if("false"===E)return!1;if(E===Number(E).toString())return Number(E);if(""===E||"null"===E)return null;if("string"!=typeof E)return E;try{return JSON.parse(decodeURIComponent(E))}catch{return E}}function Ao(E){return E.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`)}const Di={setDataAttribute(E,g,h){E.setAttribute(`data-bs-${Ao(g)}`,h)},removeDataAttribute(E,g){E.removeAttribute(`data-bs-${Ao(g)}`)},getDataAttributes(E){if(!E)return{};const g={},h=Object.keys(E.dataset).filter(x=>x.startsWith("bs")&&!x.startsWith("bsConfig"));for(const x of h){let $=x.replace(/^bs/,"");$=$.charAt(0).toLowerCase()+$.slice(1,$.length),g[$]=Oa(E.dataset[x])}return g},getDataAttribute:(E,g)=>Oa(E.getAttribute(`data-bs-${Ao(g)}`))};class la{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(g){return g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g}_mergeConfigObj(g,h){const x=Wr(h)?Di.getDataAttribute(h,"config"):{};return{...this.constructor.Default,..."object"==typeof x?x:{},...Wr(h)?Di.getDataAttributes(h):{},..."object"==typeof g?g:{}}}_typeCheckConfig(g,h=this.constructor.DefaultType){for(const[x,$]of Object.entries(h)){const pe=g[x],Ee=Wr(pe)?"element":null==(E=pe)?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp($).test(Ee))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${x}" provided type "${Ee}" but expected type "${$}".`)}var E}}class Wo extends la{constructor(g,h){super(),(g=us(g))&&(this._element=g,this._config=this._getConfig(h),Pi.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Pi.remove(this._element,this.constructor.DATA_KEY),St.off(this._element,this.constructor.EVENT_KEY);for(const g of Object.getOwnPropertyNames(this))this[g]=null}_queueCallback(g,h,x=!0){Fc(g,h,x)}_getConfig(g){return g=this._mergeConfigObj(g,this._element),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}static getInstance(g){return Pi.get(us(g),this.DATA_KEY)}static getOrCreateInstance(g,h={}){return this.getInstance(g)||new this(g,"object"==typeof h?h:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(g){return`${g}${this.EVENT_KEY}`}}const Na=E=>{let g=E.getAttribute("data-bs-target");if(!g||"#"===g){let h=E.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),g=h&&"#"!==h?h.trim():null}return g?g.split(",").map(h=>Go(h)).join(","):null},zn={find:(E,g=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(g,E)),findOne:(E,g=document.documentElement)=>Element.prototype.querySelector.call(g,E),children:(E,g)=>[].concat(...E.children).filter(h=>h.matches(g)),parents(E,g){const h=[];let x=E.parentNode.closest(g);for(;x;)h.push(x),x=x.parentNode.closest(g);return h},prev(E,g){let h=E.previousElementSibling;for(;h;){if(h.matches(g))return[h];h=h.previousElementSibling}return[]},next(E,g){let h=E.nextElementSibling;for(;h;){if(h.matches(g))return[h];h=h.nextElementSibling}return[]},focusableChildren(E){const g=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(g,E).filter(h=>!Qi(h)&&Ss(h))},getSelectorFromElement(E){const g=Na(E);return g&&zn.findOne(g)?g:null},getElementFromSelector(E){const g=Na(E);return g?zn.findOne(g):null},getMultipleElementsFromSelector(E){const g=Na(E);return g?zn.find(g):[]}},ec=(E,g="hide")=>{const x=E.NAME;St.on(document,`click.dismiss${E.EVENT_KEY}`,`[data-bs-dismiss="${x}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),Qi(this))return;const pe=zn.getElementFromSelector(this)||this.closest(`.${x}`);E.getOrCreateInstance(pe)[g]()})},ms=".bs.alert",Tu=`close${ms}`,ea=`closed${ms}`;class vs extends Wo{static get NAME(){return"alert"}close(){if(St.trigger(this._element,Tu).defaultPrevented)return;this._element.classList.remove("show");const h=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),St.trigger(this._element,ea),this.dispose()}static jQueryInterface(g){return this.each(function(){const h=vs.getOrCreateInstance(this);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g](this)}})}}ec(vs,"close"),Ji(vs);const w='[data-bs-toggle="button"]';class I extends Wo{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(g){return this.each(function(){const h=I.getOrCreateInstance(this);"toggle"===g&&h[g]()})}}St.on(document,"click.bs.button.data-api",w,E=>{E.preventDefault();const g=E.target.closest(w);I.getOrCreateInstance(g).toggle()}),Ji(I);const j=".bs.swipe",ne=`touchstart${j}`,Ce=`touchmove${j}`,_t=`touchend${j}`,ft=`pointerdown${j}`,mn=`pointerup${j}`,nc={endCallback:null,leftCallback:null,rightCallback:null},rc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class da extends la{constructor(g,h){super(),this._element=g,g&&da.isSupported()&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return nc}static get DefaultType(){return rc}static get NAME(){return"swipe"}dispose(){St.off(this._element,j)}_start(g){this._supportPointerEvents?this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX):this._deltaX=g.touches[0].clientX}_end(g){this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX-this._deltaX),this._handleSwipe(),Zi(this._config.endCallback)}_move(g){this._deltaX=g.touches&&g.touches.length>1?0:g.touches[0].clientX-this._deltaX}_handleSwipe(){const g=Math.abs(this._deltaX);if(g<=40)return;const h=g/this._deltaX;this._deltaX=0,h&&Zi(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(St.on(this._element,ft,g=>this._start(g)),St.on(this._element,mn,g=>this._end(g)),this._element.classList.add("pointer-event")):(St.on(this._element,ne,g=>this._start(g)),St.on(this._element,Ce,g=>this._move(g)),St.on(this._element,_t,g=>this._end(g)))}_eventIsPointerPenTouch(g){return this._supportPointerEvents&&("pen"===g.pointerType||"touch"===g.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ka=".bs.carousel",wu=".data-api",xs="next",ys="prev",ts="left",Au="right",el=`slide${ka}`,jc=`slid${ka}`,oc=`keydown${ka}`,Bc=`mouseenter${ka}`,tl=`mouseleave${ka}`,bp=`dragstart${ka}`,ha=`load${ka}${wu}`,Gl=`click${ka}${wu}`,qd="carousel",$c="active",Bs=".active",sc=".carousel-item",fa=Bs+sc,ns={ArrowLeft:Au,ArrowRight:ts},Wl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},il={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ls extends Wo{constructor(g,h){super(g,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=zn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===qd&&this.cycle()}static get Default(){return Wl}static get DefaultType(){return il}static get NAME(){return"carousel"}next(){this._slide(xs)}nextWhenVisible(){!document.hidden&&Ss(this._element)&&this.next()}prev(){this._slide(ys)}pause(){this._isSliding&&Qu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void St.one(this._element,jc,()=>this.cycle());this.cycle()}}to(g){const h=this._getItems();if(g>h.length-1||g<0)return;if(this._isSliding)return void St.one(this._element,jc,()=>this.to(g));const x=this._getItemIndex(this._getActive());x!==g&&this._slide(g>x?xs:ys,h[g])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(g){return g.defaultInterval=g.interval,g}_addEventListeners(){this._config.keyboard&&St.on(this._element,oc,g=>this._keydown(g)),"hover"===this._config.pause&&(St.on(this._element,Bc,()=>this.pause()),St.on(this._element,tl,()=>this._maybeEnableCycle())),this._config.touch&&da.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const x of zn.find(".carousel-item img",this._element))St.on(x,bp,$=>$.preventDefault());this._swipeHelper=new da(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ts)),rightCallback:()=>this._slide(this._directionToOrder(Au)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(g){if(/input|textarea/i.test(g.target.tagName))return;const h=ns[g.key];h&&(g.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(g){return this._getItems().indexOf(g)}_setActiveIndicatorElement(g){if(!this._indicatorsElement)return;const h=zn.findOne(Bs,this._indicatorsElement);h.classList.remove($c),h.removeAttribute("aria-current");const x=zn.findOne(`[data-bs-slide-to="${g}"]`,this._indicatorsElement);x&&(x.classList.add($c),x.setAttribute("aria-current","true"))}_updateInterval(){const g=this._activeElement||this._getActive();if(!g)return;const h=Number.parseInt(g.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(g,h=null){if(this._isSliding)return;const x=this._getActive(),$=g===xs,pe=h||Eu(this._getItems(),x,$,this._config.wrap);if(pe===x)return;const Ee=this._getItemIndex(pe),mt=ur=>St.trigger(this._element,ur,{relatedTarget:pe,direction:this._orderToDirection(g),from:this._getItemIndex(x),to:Ee});if(mt(el).defaultPrevented||!x||!pe)return;const pn=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Ee),this._activeElement=pe;const Zt=$?"carousel-item-start":"carousel-item-end",tr=$?"carousel-item-next":"carousel-item-prev";pe.classList.add(tr),x.classList.add(Zt),pe.classList.add(Zt),this._queueCallback(()=>{pe.classList.remove(Zt,tr),pe.classList.add($c),x.classList.remove($c,tr,Zt),this._isSliding=!1,mt(jc)},x,this._isAnimated()),pn&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return zn.findOne(fa,this._element)}_getItems(){return zn.find(sc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(g){return Jo()?g===ts?ys:xs:g===ts?xs:ys}_orderToDirection(g){return Jo()?g===ys?ts:Au:g===ys?Au:ts}static jQueryInterface(g){return this.each(function(){const h=ls.getOrCreateInstance(this,g);if("number"!=typeof g){if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}}else h.to(g)})}}St.on(document,Gl,"[data-bs-slide], [data-bs-slide-to]",function(E){const g=zn.getElementFromSelector(this);if(!g||!g.classList.contains(qd))return;E.preventDefault();const h=ls.getOrCreateInstance(g),x=this.getAttribute("data-bs-slide-to");return x?(h.to(x),void h._maybeEnableCycle()):"next"===Di.getDataAttribute(this,"slide")?(h.next(),void h._maybeEnableCycle()):(h.prev(),void h._maybeEnableCycle())}),St.on(window,ha,()=>{const E=zn.find('[data-bs-ride="carousel"]');for(const g of E)ls.getOrCreateInstance(g)}),Ji(ls);const $s=".bs.collapse",ac=`show${$s}`,Kl=`shown${$s}`,Va=`hide${$s}`,Xd=`hidden${$s}`,Yd=`click${$s}.data-api`,Gc="show",ra="collapse",zc="collapsing",ol=`:scope .${ra} .${ra}`,Wc='[data-bs-toggle="collapse"]',Ia={parent:null,toggle:!0},Kc={parent:"(null|element)",toggle:"boolean"};class qc extends Wo{constructor(g,h){super(g,h),this._isTransitioning=!1,this._triggerArray=[];const x=zn.find(Wc);for(const $ of x){const pe=zn.getSelectorFromElement($),Ee=zn.find(pe).filter(mt=>mt===this._element);null!==pe&&Ee.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ia}static get DefaultType(){return Kc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let g=[];if(this._config.parent&&(g=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(mt=>mt!==this._element).map(mt=>qc.getOrCreateInstance(mt,{toggle:!1}))),g.length&&g[0]._isTransitioning||St.trigger(this._element,ac).defaultPrevented)return;for(const mt of g)mt.hide();const x=this._getDimension();this._element.classList.remove(ra),this._element.classList.add(zc),this._element.style[x]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ee=`scroll${x[0].toUpperCase()+x.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(zc),this._element.classList.add(ra,Gc),this._element.style[x]="",St.trigger(this._element,Kl)},this._element,!0),this._element.style[x]=`${this._element[Ee]}px`}hide(){if(this._isTransitioning||!this._isShown()||St.trigger(this._element,Va).defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,this._element.classList.add(zc),this._element.classList.remove(ra,Gc);for(const $ of this._triggerArray){const pe=zn.getElementFromSelector($);pe&&!this._isShown(pe)&&this._addAriaAndCollapsedClass([$],!1)}this._isTransitioning=!0,this._element.style[h]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(zc),this._element.classList.add(ra),St.trigger(this._element,Xd)},this._element,!0)}_isShown(g=this._element){return g.classList.contains(Gc)}_configAfterMerge(g){return g.toggle=!!g.toggle,g.parent=us(g.parent),g}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const g=this._getFirstLevelChildren(Wc);for(const h of g){const x=zn.getElementFromSelector(h);x&&this._addAriaAndCollapsedClass([h],this._isShown(x))}}_getFirstLevelChildren(g){const h=zn.find(ol,this._config.parent);return zn.find(g,this._config.parent).filter(x=>!h.includes(x))}_addAriaAndCollapsedClass(g,h){if(g.length)for(const x of g)x.classList.toggle("collapsed",!h),x.setAttribute("aria-expanded",h)}static jQueryInterface(g){const h={};return"string"==typeof g&&/show|hide/.test(g)&&(h.toggle=!1),this.each(function(){const x=qc.getOrCreateInstance(this,h);if("string"==typeof g){if(typeof x[g]>"u")throw new TypeError(`No method named "${g}"`);x[g]()}})}}St.on(document,Yd,Wc,function(E){("A"===E.target.tagName||E.delegateTarget&&"A"===E.delegateTarget.tagName)&&E.preventDefault();for(const g of zn.getMultipleElementsFromSelector(this))qc.getOrCreateInstance(g,{toggle:!1}).toggle()}),Ji(qc);const Su="dropdown",Ps=".bs.dropdown",uc=".data-api",so="ArrowUp",wp="ArrowDown",cf=`hide${Ps}`,Ug=`hidden${Ps}`,uf=`show${Ps}`,Dp=`shown${Ps}`,ql=`click${Ps}${uc}`,Xc=`keydown${Ps}${uc}`,Pu=`keyup${Ps}${uc}`,Yc="show",xo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',hc=`${xo}.${Yc}`,Ru=".dropdown-menu",df=Jo()?"top-end":"top-start",hf=Jo()?"top-start":"top-end",Sp=Jo()?"bottom-end":"bottom-start",Hs=Jo()?"bottom-start":"bottom-end",Yl=Jo()?"left-start":"right-start",Ou=Jo()?"right-start":"left-start",cl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ql={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gs extends Wo{constructor(g,h){super(g,h),this._popper=null,this._parent=this._element.parentNode,this._menu=zn.next(this._element,Ru)[0]||zn.prev(this._element,Ru)[0]||zn.findOne(Ru,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return cl}static get DefaultType(){return Ql}static get NAME(){return Su}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Qi(this._element)||this._isShown())return;const g={relatedTarget:this._element};if(!St.trigger(this._element,uf,g).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const x of[].concat(...document.body.children))St.on(x,"mouseover",Qa);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Yc),this._element.classList.add(Yc),St.trigger(this._element,Dp,g)}}hide(){!Qi(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(g){if(!St.trigger(this._element,cf,g).defaultPrevented){if("ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))St.off(x,"mouseover",Qa);this._popper&&this._popper.destroy(),this._menu.classList.remove(Yc),this._element.classList.remove(Yc),this._element.setAttribute("aria-expanded","false"),Di.removeDataAttribute(this._menu,"popper"),St.trigger(this._element,Ug,g)}}_getConfig(g){if("object"==typeof(g=super._getConfig(g)).reference&&!Wr(g.reference)&&"function"!=typeof g.reference.getBoundingClientRect)throw new TypeError(`${Su.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return g}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let g=this._element;"parent"===this._config.reference?g=this._parent:Wr(this._config.reference)?g=us(this._config.reference):"object"==typeof this._config.reference&&(g=this._config.reference);const h=this._getPopperConfig();this._popper=jr(g,this._menu,h)}_isShown(){return this._menu.classList.contains(Yc)}_getPlacement(){const g=this._parent;if(g.classList.contains("dropend"))return Yl;if(g.classList.contains("dropstart"))return Ou;if(g.classList.contains("dropup-center"))return"top";if(g.classList.contains("dropdown-center"))return"bottom";const h="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return g.classList.contains("dropup")?h?hf:df:h?Hs:Sp}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(h=>Number.parseInt(h,10)):"function"==typeof g?h=>g(h,this._element):g}_getPopperConfig(){const g={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Di.setDataAttribute(this._menu,"popper","static"),g.modifiers=[{name:"applyStyles",enabled:!1}]),{...g,...Zi(this._config.popperConfig,[g])}}_selectMenuItem({key:g,target:h}){const x=zn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter($=>Ss($));x.length&&Eu(x,h,g===wp,!x.includes(h)).focus()}static jQueryInterface(g){return this.each(function(){const h=Gs.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}static clearMenus(g){if(2===g.button||"keyup"===g.type&&"Tab"!==g.key)return;const h=zn.find(hc);for(const x of h){const $=Gs.getInstance(x);if(!$||!1===$._config.autoClose)continue;const pe=g.composedPath(),Ee=pe.includes($._menu);if(pe.includes($._element)||"inside"===$._config.autoClose&&!Ee||"outside"===$._config.autoClose&&Ee||$._menu.contains(g.target)&&("keyup"===g.type&&"Tab"===g.key||/input|select|option|textarea|form/i.test(g.target.tagName)))continue;const mt={relatedTarget:$._element};"click"===g.type&&(mt.clickEvent=g),$._completeHide(mt)}}static dataApiKeydownHandler(g){const h=/input|textarea/i.test(g.target.tagName),x="Escape"===g.key,$=[so,wp].includes(g.key);if(!$&&!x||h&&!x)return;g.preventDefault();const pe=this.matches(xo)?this:zn.prev(this,xo)[0]||zn.next(this,xo)[0]||zn.findOne(xo,g.delegateTarget.parentNode),Ee=Gs.getOrCreateInstance(pe);if($)return g.stopPropagation(),Ee.show(),void Ee._selectMenuItem(g);Ee._isShown()&&(g.stopPropagation(),Ee.hide(),pe.focus())}}St.on(document,Xc,xo,Gs.dataApiKeydownHandler),St.on(document,Xc,Ru,Gs.dataApiKeydownHandler),St.on(document,ql,Gs.clearMenus),St.on(document,Pu,Gs.clearMenus),St.on(document,ql,xo,function(E){E.preventDefault(),Gs.getOrCreateInstance(this).toggle()}),Ji(Gs);const th="backdrop",fc=`mousedown.bs.${th}`,Jl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ff={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pc extends la{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return Jl}static get DefaultType(){return ff}static get NAME(){return th}show(g){if(!this._config.isVisible)return void Zi(g);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zi(g)})}hide(g){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zi(g)})):Zi(g)}dispose(){this._isAppended&&(St.off(this._element,fc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add("fade"),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=us(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),St.on(g,fc,()=>{Zi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){Fc(g,this._getElement(),this._config.isAnimated)}}const mc=".bs.focustrap",Qc=`focusin${mc}`,Nu=`keydown.tab${mc}`,ed="backward",pf={autofocus:!0,trapElement:null},Jc={autofocus:"boolean",trapElement:"element"};class Zc extends la{constructor(g){super(),this._config=this._getConfig(g),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pf}static get DefaultType(){return Jc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),St.off(document,mc),St.on(document,Qc,g=>this._handleFocusin(g)),St.on(document,Nu,g=>this._handleKeydown(g)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,St.off(document,mc))}_handleFocusin(g){const{trapElement:h}=this._config;if(g.target===document||g.target===h||h.contains(g.target))return;const x=zn.focusableChildren(h);0===x.length?h.focus():this._lastTabNavDirection===ed?x[x.length-1].focus():x[0].focus()}_handleKeydown(g){"Tab"===g.key&&(this._lastTabNavDirection=g.shiftKey?ed:"forward")}}const td=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",oh=".sticky-top",b="padding-right",p="margin-right";class _{constructor(){this._element=document.body}getWidth(){const g=document.documentElement.clientWidth;return Math.abs(window.innerWidth-g)}hide(){const g=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,b,h=>h+g),this._setElementAttributes(td,b,h=>h+g),this._setElementAttributes(oh,p,h=>h-g)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,b),this._resetElementAttributes(td,b),this._resetElementAttributes(oh,p)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(g,h,x){const $=this.getWidth();this._applyManipulationCallback(g,Ee=>{if(Ee!==this._element&&window.innerWidth>Ee.clientWidth+$)return;this._saveInitialAttribute(Ee,h);const mt=window.getComputedStyle(Ee).getPropertyValue(h);Ee.style.setProperty(h,`${x(Number.parseFloat(mt))}px`)})}_saveInitialAttribute(g,h){const x=g.style.getPropertyValue(h);x&&Di.setDataAttribute(g,h,x)}_resetElementAttributes(g,h){this._applyManipulationCallback(g,$=>{const pe=Di.getDataAttribute($,h);null!==pe?(Di.removeDataAttribute($,h),$.style.setProperty(h,pe)):$.style.removeProperty(h)})}_applyManipulationCallback(g,h){if(Wr(g))h(g);else for(const x of zn.find(g,this._element))h(x)}}const se=".bs.modal",zt=`hide${se}`,An=`hidePrevented${se}`,$n=`hidden${se}`,Br=`show${se}`,zs=`shown${se}`,_c=`resize${se}`,vc=`click.dismiss${se}`,Fu=`mousedown.dismiss${se}`,eu=`keydown.dismiss${se}`,sh=`click${se}.data-api`,yc="modal-open",rd="modal-static",od={backdrop:!0,focus:!0,keyboard:!0},gf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Vu extends Wo{constructor(g,h){super(g,h),this._dialog=zn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _,this._addEventListeners()}static get Default(){return od}static get DefaultType(){return gf}static get NAME(){return"modal"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||this._isTransitioning||St.trigger(this._element,Br,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(yc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(g)))}hide(){!this._isShown||this._isTransitioning||St.trigger(this._element,zt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){St.off(window,se),St.off(this._dialog,se),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Zc({trapElement:this._element})}_showElement(g){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=zn.findOne(".modal-body",this._dialog);h&&(h.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,St.trigger(this._element,zs,{relatedTarget:g})},this._dialog,this._isAnimated())}_addEventListeners(){St.on(this._element,eu,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),St.on(window,_c,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),St.on(this._element,Fu,g=>{St.one(this._element,vc,h=>{if(this._element===g.target&&this._element===h.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(yc),this._resetAdjustments(),this._scrollBar.reset(),St.trigger(this._element,$n)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(St.trigger(this._element,An).defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,x=this._element.style.overflowY;"hidden"===x||this._element.classList.contains(rd)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(rd),this._queueCallback(()=>{this._element.classList.remove(rd),this._queueCallback(()=>{this._element.style.overflowY=x},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const g=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),x=h>0;if(x&&!g){const $=Jo()?"paddingLeft":"paddingRight";this._element.style[$]=`${h}px`}if(!x&&g){const $=Jo()?"paddingRight":"paddingLeft";this._element.style[$]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(g,h){return this.each(function(){const x=Vu.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof x[g]>"u")throw new TypeError(`No method named "${g}"`);x[g](h)}})}}St.on(document,sh,'[data-bs-toggle="modal"]',function(E){const g=zn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&E.preventDefault(),St.one(g,Br,$=>{$.defaultPrevented||St.one(g,$n,()=>{Ss(this)&&this.focus()})});const h=zn.findOne(".modal.show");h&&Vu.getInstance(h).hide(),Vu.getOrCreateInstance(g).toggle(this)}),ec(Vu),Ji(Vu);const Ta=".bs.offcanvas",xp=".data-api",sd=`load${Ta}${xp}`,Pp="showing",Mp=".offcanvas.show",Op=`show${Ta}`,jg=`shown${Ta}`,Bg=`hide${Ta}`,$g=`hidePrevented${Ta}`,uh=`hidden${Ta}`,t_=`resize${Ta}`,Np=`click${Ta}${xp}`,ia=`keydown.dismiss${Ta}`,Hg={backdrop:!0,keyboard:!0,scroll:!1},dh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class mo extends Wo{constructor(g,h){super(g,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Hg}static get DefaultType(){return dh}static get NAME(){return"offcanvas"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||St.trigger(this._element,Op,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new _).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Pp),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Pp),St.trigger(this._element,jg,{relatedTarget:g})},this._element,!0))}hide(){this._isShown&&!St.trigger(this._element,Bg).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new _).reset(),St.trigger(this._element,uh)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const h=!!this._config.backdrop;return new pc({className:"offcanvas-backdrop",isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?()=>{"static"!==this._config.backdrop?this.hide():St.trigger(this._element,$g)}:null})}_initializeFocusTrap(){return new Zc({trapElement:this._element})}_addEventListeners(){St.on(this._element,ia,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();St.trigger(this._element,$g)}})}static jQueryInterface(g){return this.each(function(){const h=mo.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g](this)}})}}St.on(document,Np,'[data-bs-toggle="offcanvas"]',function(E){const g=zn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),Qi(this))return;St.one(g,uh,()=>{Ss(this)&&this.focus()});const h=zn.findOne(Mp);h&&h!==g&&mo.getInstance(h).hide(),mo.getOrCreateInstance(g).toggle(this)}),St.on(window,sd,()=>{for(const E of zn.find(Mp))mo.getOrCreateInstance(E).show()}),St.on(window,t_,()=>{for(const E of zn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(E).position&&mo.getOrCreateInstance(E).hide()}),ec(mo),Ji(mo);const hh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},_f=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),cd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ru=(E,g)=>{const h=E.nodeName.toLowerCase();return g.includes(h)?!_f.has(h)||!!cd.test(E.nodeValue):g.filter(x=>x instanceof RegExp).some(x=>x.test(h))},ud={allowList:hh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Fp={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ld={entry:"(string|element|function|null)",selector:"(string|element)"};class n_ extends la{constructor(g){super(),this._config=this._getConfig(g)}static get Default(){return ud}static get DefaultType(){return Fp}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(g=>this._resolvePossibleFunction(g)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(g){return this._checkContent(g),this._config.content={...this._config.content,...g},this}toHtml(){const g=document.createElement("div");g.innerHTML=this._maybeSanitize(this._config.template);for(const[$,pe]of Object.entries(this._config.content))this._setContent(g,pe,$);const h=g.children[0],x=this._resolvePossibleFunction(this._config.extraClass);return x&&h.classList.add(...x.split(" ")),h}_typeCheckConfig(g){super._typeCheckConfig(g),this._checkContent(g.content)}_checkContent(g){for(const[h,x]of Object.entries(g))super._typeCheckConfig({selector:h,entry:x},ld)}_setContent(g,h,x){const $=zn.findOne(x,g);if($){if(!(h=this._resolvePossibleFunction(h)))return void $.remove();if(Wr(h))return void this._putElementInTemplate(us(h),$);if(this._config.html)return void($.innerHTML=this._maybeSanitize(h));$.textContent=h}}_maybeSanitize(g){return this._config.sanitize?function kp(E,g,h){if(!E.length)return E;if(h&&"function"==typeof h)return h(E);const $=(new window.DOMParser).parseFromString(E,"text/html"),pe=[].concat(...$.body.querySelectorAll("*"));for(const Ee of pe){const mt=Ee.nodeName.toLowerCase();if(!Object.keys(g).includes(mt)){Ee.remove();continue}const Dt=[].concat(...Ee.attributes),pn=[].concat(g["*"]||[],g[mt]||[]);for(const Zt of Dt)ru(Zt,pn)||Ee.removeAttribute(Zt.nodeName)}return $.body.innerHTML}(g,this._config.allowList,this._config.sanitizeFn):g}_resolvePossibleFunction(g){return Zi(g,[this])}_putElementInTemplate(g,h){if(this._config.html)return h.innerHTML="",void h.append(g);h.textContent=g.textContent}}const fh=new Set(["sanitize","allowList","sanitizeFn"]),ph="fade",dd="show",gh="hide.bs.modal",Lu="hover",iu="focus",mh={AUTO:"auto",TOP:"top",RIGHT:Jo()?"left":"right",BOTTOM:"bottom",LEFT:Jo()?"right":"left"},Up={allowList:hh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pl extends Wo{constructor(g,h){if(typeof c>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(g,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Up}static get DefaultType(){return jp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),St.off(this._element.closest(".modal"),gh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const g=St.trigger(this._element,this.constructor.eventName("show")),x=(Ju(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(g.defaultPrevented||!x)return;this._disposePopper();const $=this._getTipElement();this._element.setAttribute("aria-describedby",$.getAttribute("id"));const{container:pe}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(pe.append($),St.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper($),$.classList.add(dd),"ontouchstart"in document.documentElement)for(const mt of[].concat(...document.body.children))St.on(mt,"mouseover",Qa);this._queueCallback(()=>{St.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!St.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(dd),"ontouchstart"in document.documentElement)for(const $ of[].concat(...document.body.children))St.off($,"mouseover",Qa);this._activeTrigger.click=!1,this._activeTrigger[iu]=!1,this._activeTrigger[Lu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),St.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(g){const h=this._getTemplateFactory(g).toHtml();if(!h)return null;h.classList.remove(ph,dd),h.classList.add(`bs-${this.constructor.NAME}-auto`);const x=(E=>{do{E+=Math.floor(1e6*Math.random())}while(document.getElementById(E));return E})(this.constructor.NAME).toString();return h.setAttribute("id",x),this._isAnimated()&&h.classList.add(ph),h}setContent(g){this._newContent=g,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(g){return this._templateFactory?this._templateFactory.changeContent(g):this._templateFactory=new n_({...this._config,content:g,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(g){return this.constructor.getOrCreateInstance(g.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ph)}_isShown(){return this.tip&&this.tip.classList.contains(dd)}_createPopper(g){const h=Zi(this._config.placement,[this,g,this._element]),x=mh[h.toUpperCase()];return jr(this._element,g,this._getPopperConfig(x))}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(h=>Number.parseInt(h,10)):"function"==typeof g?h=>g(h,this._element):g}_resolvePossibleFunction(g){return Zi(g,[this._element])}_getPopperConfig(g){const h={placement:g,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:x=>{this._getTipElement().setAttribute("data-popper-placement",x.state.placement)}}]};return{...h,...Zi(this._config.popperConfig,[h])}}_setListeners(){const g=this._config.trigger.split(" ");for(const h of g)if("click"===h)St.on(this._element,this.constructor.eventName("click"),this._config.selector,x=>{this._initializeOnDelegatedTarget(x).toggle()});else if("manual"!==h){const x=this.constructor.eventName(h===Lu?"mouseenter":"focusin"),$=this.constructor.eventName(h===Lu?"mouseleave":"focusout");St.on(this._element,x,this._config.selector,pe=>{const Ee=this._initializeOnDelegatedTarget(pe);Ee._activeTrigger["focusin"===pe.type?iu:Lu]=!0,Ee._enter()}),St.on(this._element,$,this._config.selector,pe=>{const Ee=this._initializeOnDelegatedTarget(pe);Ee._activeTrigger["focusout"===pe.type?iu:Lu]=Ee._element.contains(pe.relatedTarget),Ee._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},St.on(this._element.closest(".modal"),gh,this._hideModalHandler)}_fixTitle(){const g=this._element.getAttribute("title");g&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",g),this._element.setAttribute("data-bs-original-title",g),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(g,h){clearTimeout(this._timeout),this._timeout=setTimeout(g,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(g){const h=Di.getDataAttributes(this._element);for(const x of Object.keys(h))fh.has(x)&&delete h[x];return g={...h,..."object"==typeof g&&g?g:{}},g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g.container=!1===g.container?document.body:us(g.container),"number"==typeof g.delay&&(g.delay={show:g.delay,hide:g.delay}),"number"==typeof g.title&&(g.title=g.title.toString()),"number"==typeof g.content&&(g.content=g.content.toString()),g}_getDelegateConfig(){const g={};for(const[h,x]of Object.entries(this._config))this.constructor.Default[h]!==x&&(g[h]=x);return g.selector=!1,g.trigger="manual",g}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(g){return this.each(function(){const h=pl.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}}Ji(pl);const Yg={...pl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bf={...pl.DefaultType,content:"(null|string|element|function)"};class Bp extends pl{static get Default(){return Yg}static get DefaultType(){return bf}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(g){return this.each(function(){const h=Bp.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}}Ji(Bp);const vh=".bs.scrollspy",If=`activate${vh}`,Tf=`click${vh}`,Gp=`load${vh}.data-api`,su="active",Af="[href]",Eh=".nav-link",ml=`${Eh}, .nav-item > ${Eh}, .list-group-item`,Kp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},s_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class pd extends Wo{constructor(g,h){super(g,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Kp}static get DefaultType(){return s_}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const g of this._observableSections.values())this._observer.observe(g)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(g){return g.target=us(g.target)||document.body,g.rootMargin=g.offset?`${g.offset}px 0px -30%`:g.rootMargin,"string"==typeof g.threshold&&(g.threshold=g.threshold.split(",").map(h=>Number.parseFloat(h))),g}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(St.off(this._config.target,Tf),St.on(this._config.target,Tf,Af,g=>{const h=this._observableSections.get(g.target.hash);if(h){g.preventDefault();const x=this._rootElement||window,$=h.offsetTop-this._element.offsetTop;if(x.scrollTo)return void x.scrollTo({top:$,behavior:"smooth"});x.scrollTop=$}}))}_getNewObserver(){return new IntersectionObserver(h=>this._observerCallback(h),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(g){const h=Ee=>this._targetLinks.get(`#${Ee.target.id}`),x=Ee=>{this._previousScrollData.visibleEntryTop=Ee.target.offsetTop,this._process(h(Ee))},$=(this._rootElement||document.documentElement).scrollTop,pe=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const Ee of g){if(!Ee.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(Ee));continue}const mt=Ee.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(pe&&mt){if(x(Ee),!$)return}else!pe&&!mt&&x(Ee)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const g=zn.find(Af,this._config.target);for(const h of g){if(!h.hash||Qi(h))continue;const x=zn.findOne(decodeURI(h.hash),this._element);Ss(x)&&(this._targetLinks.set(decodeURI(h.hash),h),this._observableSections.set(h.hash,x))}}_process(g){this._activeTarget!==g&&(this._clearActiveClass(this._config.target),this._activeTarget=g,g.classList.add(su),this._activateParents(g),St.trigger(this._element,If,{relatedTarget:g}))}_activateParents(g){if(g.classList.contains("dropdown-item"))zn.findOne(".dropdown-toggle",g.closest(".dropdown")).classList.add(su);else for(const h of zn.parents(g,".nav, .list-group"))for(const x of zn.prev(h,ml))x.classList.add(su)}_clearActiveClass(g){g.classList.remove(su);const h=zn.find(`${Af}.${su}`,g);for(const x of h)x.classList.remove(su)}static jQueryInterface(g){return this.each(function(){const h=pd.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}})}}St.on(window,Gp,()=>{for(const E of zn.find('[data-bs-spy="scroll"]'))pd.getOrCreateInstance(E)}),Ji(pd);const bc=".bs.tab",Ch=`hide${bc}`,gd=`hidden${bc}`,a_=`show${bc}`,Xp=`shown${bc}`,hv=`click${bc}`,Yp=`keydown${bc}`,Qp=`load${bc}`,Jp="ArrowLeft",_l="ArrowRight",md="ArrowUp",bh="ArrowDown",_d="Home",Sf="End",Uu="active",Ih="show",xf=".dropdown-toggle",Th=`:not(${xf})`,Rf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Mf=`.nav-link${Th}, .list-group-item${Th}, [role="tab"]${Th}, ${Rf}`,vd=`.${Uu}[data-bs-toggle="tab"], .${Uu}[data-bs-toggle="pill"], .${Uu}[data-bs-toggle="list"]`;class vl extends Wo{constructor(g){super(g),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),St.on(this._element,Yp,h=>this._keydown(h)))}static get NAME(){return"tab"}show(){const g=this._element;if(this._elemIsActive(g))return;const h=this._getActiveElem(),x=h?St.trigger(h,Ch,{relatedTarget:g}):null;St.trigger(g,a_,{relatedTarget:h}).defaultPrevented||x&&x.defaultPrevented||(this._deactivate(h,g),this._activate(g,h))}_activate(g,h){g&&(g.classList.add(Uu),this._activate(zn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.removeAttribute("tabindex"),g.setAttribute("aria-selected",!0),this._toggleDropDown(g,!0),St.trigger(g,Xp,{relatedTarget:h})):g.classList.add(Ih)},g,g.classList.contains("fade")))}_deactivate(g,h){g&&(g.classList.remove(Uu),g.blur(),this._deactivate(zn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.setAttribute("aria-selected",!1),g.setAttribute("tabindex","-1"),this._toggleDropDown(g,!1),St.trigger(g,gd,{relatedTarget:h})):g.classList.remove(Ih)},g,g.classList.contains("fade")))}_keydown(g){if(![Jp,_l,md,bh,_d,Sf].includes(g.key))return;g.stopPropagation(),g.preventDefault();const h=this._getChildren().filter($=>!Qi($));let x;if([_d,Sf].includes(g.key))x=h[g.key===_d?0:h.length-1];else{const $=[_l,bh].includes(g.key);x=Eu(h,g.target,$,!0)}x&&(x.focus({preventScroll:!0}),vl.getOrCreateInstance(x).show())}_getChildren(){return zn.find(Mf,this._parent)}_getActiveElem(){return this._getChildren().find(g=>this._elemIsActive(g))||null}_setInitialAttributes(g,h){this._setAttributeIfNotExists(g,"role","tablist");for(const x of h)this._setInitialAttributesOnChild(x)}_setInitialAttributesOnChild(g){g=this._getInnerElement(g);const h=this._elemIsActive(g),x=this._getOuterElement(g);g.setAttribute("aria-selected",h),x!==g&&this._setAttributeIfNotExists(x,"role","presentation"),h||g.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(g,"role","tab"),this._setInitialAttributesOnTargetPanel(g)}_setInitialAttributesOnTargetPanel(g){const h=zn.getElementFromSelector(g);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),g.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${g.id}`))}_toggleDropDown(g,h){const x=this._getOuterElement(g);if(!x.classList.contains("dropdown"))return;const $=(pe,Ee)=>{const mt=zn.findOne(pe,x);mt&&mt.classList.toggle(Ee,h)};$(xf,Uu),$(".dropdown-menu",Ih),x.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(g,h,x){g.hasAttribute(h)||g.setAttribute(h,x)}_elemIsActive(g){return g.classList.contains(Uu)}_getInnerElement(g){return g.matches(Mf)?g:zn.findOne(Mf,g)}_getOuterElement(g){return g.closest(".nav-item, .list-group-item")||g}static jQueryInterface(g){return this.each(function(){const h=vl.getOrCreateInstance(this);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}})}}St.on(document,hv,Rf,function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),!Qi(this)&&vl.getOrCreateInstance(this).show()}),St.on(window,Qp,()=>{for(const E of zn.find(vd))vl.getOrCreateInstance(E)}),Ji(vl);const Bu=".bs.toast",d_=`mouseover${Bu}`,h_=`mouseout${Bu}`,Nf=`focusin${Bu}`,yd=`focusout${Bu}`,ja=`hide${Bu}`,yl=`hidden${Bu}`,Zp=`show${Bu}`,kf=`shown${Bu}`,wh="show",Lf="showing",$u={animation:"boolean",autohide:"boolean",delay:"number"},Uf={animation:!0,autohide:!0,delay:5e3};class Ah extends Wo{constructor(g,h){super(g,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Uf}static get DefaultType(){return $u}static get NAME(){return"toast"}show(){St.trigger(this._element,Zp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(wh,Lf),this._queueCallback(()=>{this._element.classList.remove(Lf),St.trigger(this._element,kf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!St.trigger(this._element,ja).defaultPrevented&&(this._element.classList.add(Lf),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Lf,wh),St.trigger(this._element,yl)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(wh),super.dispose()}isShown(){return this._element.classList.contains(wh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(g,h){switch(g.type){case"mouseover":case"mouseout":this._hasMouseInteraction=h;break;case"focusin":case"focusout":this._hasKeyboardInteraction=h}if(h)return void this._clearTimeout();const x=g.relatedTarget;this._element===x||this._element.contains(x)||this._maybeScheduleHide()}_setListeners(){St.on(this._element,d_,g=>this._onInteraction(g,!0)),St.on(this._element,h_,g=>this._onInteraction(g,!1)),St.on(this._element,Nf,g=>this._onInteraction(g,!0)),St.on(this._element,yd,g=>this._onInteraction(g,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(g){return this.each(function(){const h=Ah.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g](this)}})}}ec(Ah),Ji(Ah);var ar=L(4341);let El=(()=>{class E{static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(x,$){1&x&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2),o.nrm(3,"i",3),o.j41(4,"p"),o.EFF(5),o.k0s()(),o.j41(6,"div",2),o.nrm(7,"i",4),o.j41(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",2),o.nrm(11,"i",5),o.j41(12,"p"),o.EFF(13),o.k0s()()()()),2&x&&(o.R7$(5),o.JRh($.phoneNumber),o.R7$(4),o.JRh($.address),o.R7$(4),o.JRh($.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return E})();var Dh=L(6340);let f_=(()=>{class E{constructor(h,x,$){this.firestore=h,this.route=x,this.sanitizer=$,this.mapIframeUrl=null}ngOnInit(){this.route.queryParams.subscribe(h=>{this.businessId=h.id,this.loadMapIframe()})}loadMapIframe(){this.firestore.collection("businesses").doc(this.businessId).valueChanges().subscribe(h=>{this.mapIframeUrl=this.sanitizer.bypassSecurityTrustHtml(h?.mapIframeUrl??null)})}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Dh.Qe),o.rXU(Cr.nX),o.rXU(ae.up))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-map-iframe"]],decls:5,vars:1,consts:[[1,"map-section"],[1,"section-heading"],[1,"map-container"],[1,"iframeMap",3,"innerHTML"]],template:function(x,$){1&x&&(o.j41(0,"section",0)(1,"div",1),o.EFF(2,"Find Us Here"),o.k0s(),o.j41(3,"div",2),o.nrm(4,"div",3),o.k0s()()),2&x&&(o.R7$(4),o.Y8G("innerHTML",$.mapIframeUrl,o.npT))},styles:[".map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]})}return E})();function p_(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Email"),o.k0s(),o.j41(3,"p")(4,"a",45),o.EFF(5),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(4),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function g_(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Fax"),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(4),o.JRh(h.business.fax)}}function eg(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Social Media"),o.k0s(),o.j41(3,"p")(4,"a",45),o.EFF(5),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(4),o.FS9("href",h.business.socialMedia,o.B4B),o.R7$(1),o.JRh(h.business.socialMedia)}}function jf(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",13)(2,"div",14)(3,"h1"),o.EFF(4,"Contact Us"),o.k0s(),o.j41(5,"div",15)(6,"p"),o.EFF(7,"We're here to answer any questions you have"),o.k0s()()()(),o.j41(8,"div",16)(9,"section",17)(10,"div",18),o.EFF(11,"Get in Touch"),o.k0s(),o.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),o.EFF(17,"Address"),o.k0s(),o.j41(18,"p"),o.EFF(19),o.k0s()(),o.j41(20,"div",22)(21,"h3"),o.EFF(22,"Phone"),o.k0s(),o.j41(23,"p"),o.EFF(24),o.k0s()(),o.DNE(25,p_,6,2,"div",23),o.DNE(26,g_,5,1,"div",23),o.DNE(27,eg,6,2,"div",23),o.j41(28,"div")(29,"h3"),o.EFF(30,"Visitation Hours"),o.k0s(),o.j41(31,"ul")(32,"li")(33,"strong"),o.EFF(34,"Monday:"),o.k0s(),o.EFF(35," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(36,"li")(37,"strong"),o.EFF(38,"Tuesday:"),o.k0s(),o.EFF(39," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(40,"li")(41,"strong"),o.EFF(42,"Wednesday:"),o.k0s(),o.EFF(43," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(44,"li")(45,"strong"),o.EFF(46,"Thursday:"),o.k0s(),o.EFF(47," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(48,"li")(49,"strong"),o.EFF(50,"Friday:"),o.k0s(),o.EFF(51," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(52,"li")(53,"strong"),o.EFF(54,"Saturday:"),o.k0s(),o.EFF(55," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(56,"li")(57,"strong"),o.EFF(58,"Sunday:"),o.k0s(),o.EFF(59," 7:00am \u2013 7:00pm"),o.k0s()()()()(),o.j41(60,"div",24)(61,"div",25),o.nrm(62,"img",26),o.k0s()()()(),o.j41(63,"section",27)(64,"div",18),o.EFF(65,"Send Us a Message"),o.k0s(),o.j41(66,"div",28)(67,"div",29)(68,"div",30)(69,"h2",31),o.EFF(70,"How can we help?"),o.k0s(),o.j41(71,"p",32),o.EFF(72,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),o.k0s()()(),o.j41(73,"div",33)(74,"form",34,35),o.bIt("ngSubmit",function(){o.eBV(h);const $=o.XpG(2);return o.Njj($.onSubmit())}),o.j41(76,"div",36)(77,"label",37),o.EFF(78,"Name"),o.k0s(),o.j41(79,"input",38),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.name=$)}),o.k0s()(),o.j41(80,"div",36)(81,"label",39),o.EFF(82,"Email"),o.k0s(),o.j41(83,"input",40),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.email=$)}),o.k0s()(),o.j41(84,"div",36)(85,"label",41),o.EFF(86,"Message"),o.k0s(),o.j41(87,"textarea",42),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.message=$)}),o.k0s()(),o.j41(88,"button",43),o.EFF(89,"Submit"),o.k0s()()()()(),o.nrm(90,"app-information",44)(91,"app-map-iframe"),o.k0s(),o.bVm()}if(2&E){const h=o.sdS(75),x=o.XpG(2);o.R7$(19),o.JRh(x.business.address),o.R7$(5),o.JRh(x.business.phone),o.R7$(1),o.Y8G("ngIf",x.business.email),o.R7$(1),o.Y8G("ngIf",x.business.fax),o.R7$(1),o.Y8G("ngIf",x.business.socialMedia),o.R7$(35),o.Y8G("src",x.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",o.B4B),o.R7$(17),o.Y8G("ngModel",x.formData.name),o.R7$(4),o.Y8G("ngModel",x.formData.email),o.R7$(4),o.Y8G("ngModel",x.formData.message),o.R7$(1),o.Y8G("disabled",!h.form.valid),o.R7$(2),o.Y8G("phoneNumber",x.business.phone)("address",x.business.address)("email",x.business.email)}}function tg(E,g){if(1&E&&(o.j41(0,"div",49)(1,"p")(2,"a",45),o.EFF(3),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function ng(E,g){if(1&E&&(o.j41(0,"div",60)(1,"a",61),o.nrm(2,"i",62),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(1),o.FS9("href",h.business.socialMedia,o.B4B)}}function m_(E,g){if(1&E){const h=o.RV6();o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",46)(3,"div",47)(4,"h2"),o.EFF(5,"Contact us"),o.k0s(),o.DNE(6,tg,4,2,"div",48),o.j41(7,"div",49)(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",49)(11,"p"),o.EFF(12),o.k0s()(),o.DNE(13,ng,3,1,"div",50),o.k0s(),o.j41(14,"div",51)(15,"form",52),o.bIt("submit",function(){o.eBV(h);const $=o.XpG(2);return o.Njj($.onSubmit())}),o.j41(16,"div",36)(17,"label",53),o.EFF(18,"Name "),o.j41(19,"span"),o.EFF(20,"(required)"),o.k0s()(),o.j41(21,"div",54)(22,"input",55),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.name=$)}),o.k0s()()(),o.j41(23,"div",36)(24,"label",39),o.EFF(25,"Email "),o.j41(26,"span"),o.EFF(27,"(required)"),o.k0s()(),o.j41(28,"input",56),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.email=$)}),o.k0s()(),o.j41(29,"div",36)(30,"label",41),o.EFF(31,"Message "),o.j41(32,"span"),o.EFF(33,"(required)"),o.k0s()(),o.j41(34,"textarea",57),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.message=$)}),o.k0s()(),o.j41(35,"button",58),o.EFF(36,"Send"),o.k0s()()()(),o.j41(37,"div",46)(38,"div",47)(39,"div")(40,"h2"),o.EFF(41,"Visitation Hours"),o.k0s(),o.j41(42,"ul")(43,"li")(44,"strong"),o.EFF(45,"Monday:"),o.k0s(),o.EFF(46," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(47,"li")(48,"strong"),o.EFF(49,"Tuesday:"),o.k0s(),o.EFF(50," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(51,"li")(52,"strong"),o.EFF(53,"Wednesday:"),o.k0s(),o.EFF(54," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(55,"li")(56,"strong"),o.EFF(57,"Thursday:"),o.k0s(),o.EFF(58," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(59,"li")(60,"strong"),o.EFF(61,"Friday:"),o.k0s(),o.EFF(62," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(63,"li")(64,"strong"),o.EFF(65,"Saturday:"),o.k0s(),o.EFF(66," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(67,"li")(68,"strong"),o.EFF(69,"Sunday:"),o.k0s(),o.EFF(70," 7:00am \u2013 7:00pm"),o.k0s()()()(),o.j41(71,"div",59),o.nrm(72,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(6),o.Y8G("ngIf",h.business.email),o.R7$(3),o.JRh(h.business.phone),o.R7$(3),o.JRh(h.business.address),o.R7$(1),o.Y8G("ngIf",h.business.socialMedia),o.R7$(9),o.Y8G("ngModel",h.formData.name),o.R7$(6),o.Y8G("ngModel",h.formData.email),o.R7$(6),o.Y8G("ngModel",h.formData.message)}}function Cl(E,g){if(1&E&&(o.j41(0,"div",49)(1,"p")(2,"a",45),o.EFF(3),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function Jg(E,g){if(1&E&&(o.j41(0,"div",60)(1,"a",61),o.nrm(2,"i",62),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(1),o.FS9("href",h.business.socialMedia,o.B4B)}}function __(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",46)(2,"div",47)(3,"h2"),o.EFF(4,"Contact us"),o.k0s(),o.DNE(5,Cl,4,2,"div",48),o.j41(6,"div",49)(7,"p"),o.EFF(8),o.k0s()(),o.j41(9,"div",49)(10,"p"),o.EFF(11),o.k0s()(),o.DNE(12,Jg,3,1,"div",50),o.k0s(),o.j41(13,"div",51)(14,"form",52),o.bIt("submit",function(){o.eBV(h);const $=o.XpG(2);return o.Njj($.onSubmit())}),o.j41(15,"div",36)(16,"label",53),o.EFF(17,"Name "),o.j41(18,"span"),o.EFF(19,"(required)"),o.k0s()(),o.j41(20,"div",54)(21,"input",55),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.name=$)}),o.k0s()()(),o.j41(22,"div",36)(23,"label",39),o.EFF(24,"Email "),o.j41(25,"span"),o.EFF(26,"(required)"),o.k0s()(),o.j41(27,"input",56),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.email=$)}),o.k0s()(),o.j41(28,"div",36)(29,"label",41),o.EFF(30,"Message "),o.j41(31,"span"),o.EFF(32,"(required)"),o.k0s()(),o.j41(33,"textarea",57),o.bIt("ngModelChange",function($){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.message=$)}),o.k0s()(),o.j41(34,"button",58),o.EFF(35,"Send"),o.k0s()()()(),o.j41(36,"div",46)(37,"div",47)(38,"div")(39,"h2"),o.EFF(40,"Visitation Hours"),o.k0s(),o.j41(41,"ul")(42,"li")(43,"strong"),o.EFF(44,"Monday:"),o.k0s(),o.EFF(45," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(46,"li")(47,"strong"),o.EFF(48,"Tuesday:"),o.k0s(),o.EFF(49," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(50,"li")(51,"strong"),o.EFF(52,"Wednesday:"),o.k0s(),o.EFF(53," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(54,"li")(55,"strong"),o.EFF(56,"Thursday:"),o.k0s(),o.EFF(57," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(58,"li")(59,"strong"),o.EFF(60,"Friday:"),o.k0s(),o.EFF(61," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(62,"li")(63,"strong"),o.EFF(64,"Saturday:"),o.k0s(),o.EFF(65," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(66,"li")(67,"strong"),o.EFF(68,"Sunday:"),o.k0s(),o.EFF(69," 7:00am \u2013 7:00pm"),o.k0s()()()(),o.j41(70,"div",59),o.nrm(71,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(5),o.Y8G("ngIf",h.business.email),o.R7$(3),o.JRh(h.business.phone),o.R7$(3),o.JRh(h.business.address),o.R7$(1),o.Y8G("ngIf",h.business.socialMedia),o.R7$(9),o.Y8G("ngModel",h.formData.name),o.R7$(6),o.Y8G("ngModel",h.formData.email),o.R7$(6),o.Y8G("ngModel",h.formData.message)}}function rg(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,jf,92,13,"ng-container",2),o.DNE(3,m_,73,7,"ng-container",2),o.DNE(4,__,72,7,"ng-container",3),o.k0s(),o.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),o.EFF(10),o.k0s(),o.nrm(11,"button",9),o.k0s(),o.j41(12,"div",10),o.EFF(13),o.k0s(),o.j41(14,"div",11)(15,"button",12),o.EFF(16,"Close"),o.k0s()()()()()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(7),o.JRh(h.modalTitle),o.R7$(3),o.SpI(" ",h.modalMessage," ")}}let Zg=(()=>{class E{constructor(h,x,$,pe,Ee){this.businessDataService=h,this.webContent=x,this.route=$,this.http=pe,this.metaService=Ee,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:""},this.modalTitle="",this.modalMessage=""}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,h?.id&&(this.metaService.getMetaData(h.id).subscribe(x=>{this.metaService.updateMetaTags(x)}),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const h=document.getElementById("responseModal");h?this.responseModal=new Vu(h):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(h=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},h=>{console.error("Error sending email",h),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}showModal(){this.responseModal&&this.responseModal.show()}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Oi.A),o.rXU(ci.N),o.rXU(Cr.nX),o.rXU(Qe),o.rXU(no.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(x,$){1&x&&o.DNE(0,rg,17,5,"div",0),2&x&&o.Y8G("ngIf",$.business)},dependencies:[me.bT,me.ux,me.e1,me.fG,ar.qT,ar.me,ar.BC,ar.cb,ar.YS,ar.vS,ar.cV,El,f_,wn],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}return E})();var em=L(467),tm=L(214),ig=L(3739);function nm(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,Ee=o.XpG(3);return o.Njj(Ee.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function og(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",5)(2,"div",6)(3,"h1"),o.EFF(4,"Our Home"),o.k0s(),o.j41(5,"div",7)(6,"p"),o.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),o.k0s()()()(),o.j41(8,"div",8)(9,"section",9)(10,"div",10),o.EFF(11,"Welcome to Our Home"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"section",11)(15,"div",10),o.EFF(16,"Explore Our Gallery"),o.k0s(),o.j41(17,"div",12),o.DNE(18,nm,2,1,"div",13),o.k0s()(),o.j41(19,"div",14)(20,"div",15)(21,"h2"),o.EFF(22,"Come Meet Our Family"),o.k0s(),o.j41(23,"p"),o.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(25,"button",16),o.bIt("click",function(){o.eBV(h);const $=o.XpG(2);return o.Njj($.navigateToContact($.business.id))}),o.EFF(26,"Schedule a Visit"),o.k0s()()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(13),o.SpI(" ",h.business.photoGalleryText," "),o.R7$(5),o.Y8G("ngForOf",h.images)}}function v_(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,Ee=o.XpG(3);return o.Njj(Ee.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function sg(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,Ee=o.XpG(3);return o.Njj(Ee.onImageClick(pe.url))}),o.nrm(1,"img",21),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function Rr(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text",19),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,v_,2,1,"div",13),o.k0s()(),o.j41(9,"section",11)(10,"div",10)(11,"h2"),o.EFF(12,"Lifestyle Images"),o.k0s()(),o.j41(13,"div",12),o.DNE(14,sg,2,1,"div",13),o.k0s()(),o.nrm(15,"app-testimonial-image",20),o.bVm()),2&E){const h=o.XpG(2);o.R7$(2),o.Y8G("content",h.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),o.R7$(6),o.Y8G("ngForOf",h.images),o.R7$(6),o.Y8G("ngForOf",h.lifeStyleImages),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[4].name)("text",h.business.testimonials[4].quote)}}function Ed(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,Ee=o.XpG(3);return o.Njj(Ee.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function ag(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,Ee=o.XpG(3);return o.Njj(Ee.onImageClick(pe.url))}),o.nrm(1,"img",21),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function Cd(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text",19),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,Ed,2,1,"div",13),o.k0s()(),o.j41(9,"section",11)(10,"div",10)(11,"h2"),o.EFF(12,"Lifestyle Images"),o.k0s()(),o.j41(13,"div",12),o.DNE(14,ag,2,1,"div",13),o.k0s()(),o.nrm(15,"app-testimonial-image",20),o.bVm()),2&E){const h=o.XpG(2);o.R7$(2),o.Y8G("content",h.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),o.R7$(6),o.Y8G("ngForOf",h.images),o.R7$(6),o.Y8G("ngForOf",h.lifeStyleImages),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[4].name)("text",h.business.testimonials[4].quote)}}function Bf(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,Ee=o.XpG(3);return o.Njj(Ee.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function rs(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text"),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Explore Our Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,Bf,2,1,"div",13),o.k0s()(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(8),o.Y8G("ngForOf",h.images)}}function Po(E,g){if(1&E){const h=o.RV6();o.j41(0,"app-image-viewer-modal",22),o.bIt("closeModal",function(){o.eBV(h);const $=o.XpG(2);return o.Njj($.onCloseModal())}),o.k0s()}if(2&E){const h=o.XpG(2);o.Y8G("imageUrl",h.selectedImageUrl)}}function Ba(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,og,27,2,"ng-container",2),o.DNE(3,Rr,16,8,"ng-container",2),o.DNE(4,Cd,16,8,"ng-container",2),o.DNE(5,rs,9,1,"ng-container",3),o.DNE(6,Po,1,1,"app-image-viewer-modal",4),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(2),o.Y8G("ngIf",h.selectedImageUrl)}}let rm=(()=>{class E{constructor(h,x,$,pe,Ee){this.businessDataService=h,this.route=x,this.webContent=$,this.metaService=pe,this.router=Ee,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.layoutType=h?.theme.themeType||"",h?.id&&(this.businessId=h.id,this.metaService.getMetaData(h.id).subscribe(x=>{this.metaService.updateMetaTags(x),this.loadImages()}))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var h=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:$,target:pe})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,$).pipe((0,ce.n)(Ee=>{const mt=Ee.map(function(){var Dt=(0,em.A)(function*(pn){return(yield h.webContent.checkImageExists(pn.url))?pn:null});return function(pn){return Dt.apply(this,arguments)}}());return(0,fe.H)(Promise.all(mt))}),(0,Ue.T)(Ee=>Ee.filter(mt=>null!==mt))).subscribe(Ee=>{this[pe]=Ee})})}onImageClick(h){this.selectedImageUrl=h}onCloseModal(){this.selectedImageUrl=null}navigateToContact(h){this.router.navigate(["/contact-us"],{queryParams:{id:h}})}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Oi.A),o.rXU(Cr.nX),o.rXU(ci.N),o.rXU(no.R),o.rXU(Cr.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(x,$){1&x&&o.DNE(0,Ba,7,5,"div",0),2&x&&o.Y8G("ngIf",$.business)},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,tm.W,ig.W,wn,Fn],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}return E})();var Sh=L(4796);function y_(E,g){if(1&E&&(o.j41(0,"div",11),o.EFF(1),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.JRh(h.errorMessage)}}let $f=(()=>{class E{constructor(h,x){this.authService=h,this.router=x,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(h=>{this.errorMessage=h.message})}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Sh.u),o.rXU(Cr.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(x,$){1&x&&(o.j41(0,"div",0)(1,"div",1)(2,"h2",2),o.EFF(3,"Login"),o.k0s(),o.j41(4,"form",3),o.bIt("submit",function(){return $.login()}),o.j41(5,"div",4)(6,"label",5),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",6),o.bIt("ngModelChange",function(Ee){return $.email=Ee}),o.k0s()(),o.j41(9,"div",4)(10,"label",7),o.EFF(11,"Password"),o.k0s(),o.j41(12,"input",8),o.bIt("ngModelChange",function(Ee){return $.password=Ee}),o.k0s()(),o.j41(13,"button",9),o.EFF(14,"Login"),o.k0s(),o.DNE(15,y_,2,1,"div",10),o.k0s()()()),2&x&&(o.R7$(8),o.Y8G("ngModel",$.email),o.R7$(4),o.Y8G("ngModel",$.password),o.R7$(3),o.Y8G("ngIf",$.errorMessage))},dependencies:[me.bT,ar.qT,ar.me,ar.BC,ar.cb,ar.YS,ar.vS,ar.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return E})(),cg=(()=>{class E{constructor(h){this.afs=h,this.basePath="businesses"}saveIntakeForm(h,x){const $=this.afs.createId(),pe=this.afs.collection(`${this.basePath}/${x}/intake`).doc($);return new Ae.c(Ee=>{pe.set(h).then(()=>{Ee.next(h),Ee.complete()}).catch(mt=>{console.error("Error saving intake form data",mt),Ee.error(mt)})})}getIntakeForms(h){return this.afs.collection(`${this.basePath}/${h}/intake`).snapshotChanges().pipe((0,Ue.T)(x=>x.map($=>{const pe=$.payload.doc.data();return{id:$.payload.doc.id,...pe}})))}getIntakeForm(h,x){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(x).valueChanges().pipe((0,Ue.T)($=>$||void 0))}updateIntakeForm(h,x,$){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(x).update($)}deleteIntakeForm(h,x){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(x).delete()}static#e=this.\u0275fac=function(x){return new(x||E)(o.KVO(Dh.Qe))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Hf(E,g){if(1&E&&(o.j41(0,"div",3)(1,"blockquote",4)(2,"p"),o.EFF(3),o.k0s()(),o.j41(4,"div",5)(5,"p"),o.EFF(6),o.k0s()()()),2&E){const h=g.$implicit;o.R7$(3),o.SpI('"',h.quote,'"'),o.R7$(3),o.JRh(h.name)}}function im(E,g){if(1&E&&(o.j41(0,"div",1),o.DNE(1,Hf,7,2,"div",2),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngForOf",h.testimonials)}}const Hi=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Xo.B},{path:"about-us",component:zi},{path:"services",component:Lr},{path:"contact-us",component:Zg},{path:"gallery",component:rm},{path:"login",component:$f},{path:"resident-form",component:(()=>{class E{constructor(h,x,$){this.fb=h,this.intakeService=x,this.businessDataService=$,this.businessId=null,this.intakeForm=this.fb.group({name:["",ar.k0.required],email:["",[ar.k0.required,ar.k0.email]],phoneNumber:["",ar.k0.required],referralSource:["",ar.k0.required],relationToResident:["",ar.k0.required],residentName:["",ar.k0.required],age:["",ar.k0.required],gender:["",ar.k0.required],medicalHistory:["",ar.k0.required],height:["",ar.k0.required],weight:["",ar.k0.required],reasonForMoving:["",ar.k0.required],rnAssessment:["",ar.k0.required],eating:["",ar.k0.required],personalHygiene:["",ar.k0.required],bathing:["",ar.k0.required],toileting:["",ar.k0.required],mobility:["",ar.k0.required],transfers:["",ar.k0.required],medicationAssistance:["",ar.k0.required],memoryIssues:["",ar.k0.required],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:["",ar.k0.required],targetMoveInDate:["",ar.k0.required],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.getBusinessId().subscribe(h=>{this.businessId=h})}onSubmit(){this.intakeForm.valid&&(console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(this.intakeForm.value,this.businessId).subscribe(x=>{console.log("Intake form saved successfully!",x)},x=>{console.error("Error saving intake form:",x)}))}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(ar.ok),o.rXU(cg),o.rXU(Oi.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-resident-intake-form"]],decls:193,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(x,$){1&x&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return $.onSubmit()}),o.j41(1,"div",1)(2,"h2"),o.EFF(3,"Personal Information"),o.k0s(),o.j41(4,"label",2),o.EFF(5,"Name *"),o.k0s(),o.nrm(6,"input",3),o.j41(7,"label",4),o.EFF(8,"Email *"),o.k0s(),o.nrm(9,"input",5),o.j41(10,"label",6),o.EFF(11,"Phone number *"),o.k0s(),o.nrm(12,"input",7),o.k0s(),o.j41(13,"div",1)(14,"h2"),o.EFF(15,"Referral Source"),o.k0s(),o.j41(16,"label",8),o.EFF(17,"How did you find out about us? *"),o.k0s(),o.j41(18,"select",9)(19,"option",10),o.EFF(20,"Google"),o.k0s(),o.j41(21,"option",11),o.EFF(22,"Facebook"),o.k0s(),o.j41(23,"option",12),o.EFF(24,"Placement Agency"),o.k0s(),o.j41(25,"option",13),o.EFF(26,"Friends and/or Family"),o.k0s(),o.j41(27,"option",14),o.EFF(28,"Other"),o.k0s()(),o.j41(29,"label",15),o.EFF(30,"What is your relation to the resident? *"),o.k0s(),o.nrm(31,"input",16),o.k0s(),o.j41(32,"div",1)(33,"h2"),o.EFF(34,"Resident Information"),o.k0s(),o.j41(35,"label",17),o.EFF(36,"Resident's name *"),o.k0s(),o.nrm(37,"input",18),o.j41(38,"label",19),o.EFF(39,"Age *"),o.k0s(),o.nrm(40,"input",20),o.j41(41,"label",21),o.EFF(42,"Gender *"),o.k0s(),o.j41(43,"select",22)(44,"option",23),o.EFF(45,"Male"),o.k0s(),o.j41(46,"option",24),o.EFF(47,"Female"),o.k0s(),o.j41(48,"option",25),o.EFF(49,"Prefer not to say"),o.k0s(),o.j41(50,"option",14),o.EFF(51,"Other"),o.k0s()()(),o.j41(52,"div",1)(53,"h2"),o.EFF(54,"Medical History"),o.k0s(),o.j41(55,"label",26),o.EFF(56,"Relevant medical and surgical history *"),o.k0s(),o.nrm(57,"textarea",27),o.j41(58,"label",28),o.EFF(59,"Height *"),o.k0s(),o.nrm(60,"input",29),o.j41(61,"label",30),o.EFF(62,"Weight *"),o.k0s(),o.nrm(63,"input",31),o.j41(64,"label",32),o.EFF(65,"Reason for moving to an adult family home *"),o.k0s(),o.nrm(66,"textarea",33),o.j41(67,"label",34),o.EFF(68,'Do you already have an "RN Assessment for AFH"? *'),o.k0s(),o.j41(69,"select",35)(70,"option",36),o.EFF(71,"Yes"),o.k0s(),o.j41(72,"option",37),o.EFF(73,"No"),o.k0s()()(),o.j41(74,"div",1)(75,"h2"),o.EFF(76,"Care Levels"),o.k0s(),o.j41(77,"label",38),o.EFF(78,"Eating *"),o.k0s(),o.j41(79,"select",39)(80,"option",40),o.EFF(81,"Independent"),o.k0s(),o.j41(82,"option",41),o.EFF(83,"Needing Assistance"),o.k0s(),o.j41(84,"option",42),o.EFF(85,"Dependent"),o.k0s()(),o.j41(86,"label",43),o.EFF(87,"Personal Hygiene *"),o.k0s(),o.j41(88,"select",44)(89,"option",40),o.EFF(90,"Independent"),o.k0s(),o.j41(91,"option",41),o.EFF(92,"Needing Assistance"),o.k0s(),o.j41(93,"option",42),o.EFF(94,"Dependent"),o.k0s()(),o.j41(95,"label",45),o.EFF(96,"Bathing *"),o.k0s(),o.j41(97,"select",46)(98,"option",40),o.EFF(99,"Independent"),o.k0s(),o.j41(100,"option",41),o.EFF(101,"Needing Assistance"),o.k0s(),o.j41(102,"option",42),o.EFF(103,"Dependent"),o.k0s()(),o.j41(104,"label",47),o.EFF(105,"Toileting *"),o.k0s(),o.j41(106,"select",48)(107,"option",40),o.EFF(108,"Independent"),o.k0s(),o.j41(109,"option",41),o.EFF(110,"Needing Assistance"),o.k0s(),o.j41(111,"option",42),o.EFF(112,"Dependent"),o.k0s()(),o.j41(113,"label",49),o.EFF(114,"Mobility *"),o.k0s(),o.j41(115,"select",50)(116,"option",40),o.EFF(117,"Independent"),o.k0s(),o.j41(118,"option",41),o.EFF(119,"Needing Assistance"),o.k0s(),o.j41(120,"option",42),o.EFF(121,"Dependent"),o.k0s()(),o.j41(122,"label",51),o.EFF(123,"Transfers *"),o.k0s(),o.j41(124,"select",52)(125,"option",40),o.EFF(126,"Independent"),o.k0s(),o.j41(127,"option",41),o.EFF(128,"Needing Assistance"),o.k0s(),o.j41(129,"option",42),o.EFF(130,"Dependent"),o.k0s()(),o.j41(131,"label",53),o.EFF(132,"Medication Assistance *"),o.k0s(),o.j41(133,"select",54)(134,"option",36),o.EFF(135,"Yes"),o.k0s(),o.j41(136,"option",37),o.EFF(137,"No"),o.k0s()()(),o.j41(138,"div",1)(139,"h2"),o.EFF(140,"Other Medical Information"),o.k0s(),o.j41(141,"label",55),o.EFF(142,"Memory Issues *"),o.k0s(),o.j41(143,"select",56)(144,"option",36),o.EFF(145,"Yes"),o.k0s(),o.j41(146,"option",37),o.EFF(147,"No"),o.k0s()(),o.j41(148,"label",57),o.EFF(149,"Behavior"),o.k0s(),o.nrm(150,"textarea",58),o.j41(151,"label",59),o.EFF(152,"Skin Condition"),o.k0s(),o.nrm(153,"textarea",60),o.j41(154,"label",61),o.EFF(155,"Other information you want us to know"),o.k0s(),o.nrm(156,"textarea",62),o.k0s(),o.j41(157,"div",1)(158,"h2"),o.EFF(159,"Living Situation"),o.k0s(),o.j41(160,"label",63),o.EFF(161,"Current living situation *"),o.k0s(),o.j41(162,"select",64)(163,"option",65),o.EFF(164,"Own Home"),o.k0s(),o.j41(165,"option",66),o.EFF(166,"Relative's Home"),o.k0s(),o.j41(167,"option",67),o.EFF(168,"Hospital"),o.k0s(),o.j41(169,"option",68),o.EFF(170,"Adult Family Home"),o.k0s(),o.j41(171,"option",69),o.EFF(172,"Senior Living"),o.k0s(),o.j41(173,"option",14),o.EFF(174,"Other"),o.k0s()()(),o.j41(175,"div",1)(176,"label",70),o.EFF(177,"Target move in date *"),o.k0s(),o.nrm(178,"input",71),o.k0s(),o.j41(179,"div",1)(180,"label",72),o.EFF(181,"Would you like a summary of disclosures of our rates and services, including itemized services?"),o.k0s(),o.j41(182,"select",73)(183,"option",36),o.EFF(184,"Yes"),o.k0s(),o.j41(185,"option",37),o.EFF(186,"No"),o.k0s()()(),o.j41(187,"div",1)(188,"label",74),o.EFF(189,"Do you have any questions for us?"),o.k0s(),o.nrm(190,"textarea",75),o.k0s(),o.j41(191,"button",76),o.EFF(192,"Submit"),o.k0s()()),2&x&&(o.Y8G("formGroup",$.intakeForm),o.R7$(191),o.Y8G("disabled",$.intakeForm.invalid))},dependencies:[ar.qT,ar.xH,ar.y7,ar.me,ar.Q0,ar.wz,ar.BC,ar.cb,ar.j4,ar.JD],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}return E})()},{path:"testimonials",component:(()=>{class E{constructor(h){this.businessDataService=h,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{console.log("Testimonial List - :",h),h&&(this.testimonials=h.testimonials||[],this.themeType=h.theme.themeType)})}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Oi.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-testimonials-list"]],decls:2,vars:1,consts:[["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(x,$){1&x&&(o.nrm(0,"app-hero"),o.DNE(1,im,2,1,"div",0)),2&x&&(o.R7$(1),o.Y8G("ngIf",$.testimonials.length>0))},dependencies:[me.Sq,me.bT,wn],styles:[".testimonials-container[_ngcontent-%COMP%]{padding:20px}.testimonial-card[_ngcontent-%COMP%]{background-color:var(--card-bg-color, #f9f9f9);border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:right;color:var(--text-secondary-color, #555)}"]})}return E})()},{path:"login",component:$f},{path:"admin",loadChildren:()=>L.e(948).then(L.bind(L,5948)).then(E=>E.AdminModule)},{path:":id",component:Xo.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let om=(()=>{class E{static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275mod=o.$C({type:E});static#n=this.\u0275inj=o.G2t({imports:[Cr.iI.forRoot(Hi),Cr.iI]})}return E})();var bd=L(5009);function _o(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}const Il=function(){return["/home"]},Ic=function(E){return{id:E}},pa=function(E){return{"open-bar1":E}},Tc=function(E){return{"open-bar2":E}},Id=function(E){return{"open-bar3":E}},Gf=function(E){return{active:E}};function E_(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),o.DNE(5,_o,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(7,Il))("queryParams",o.eq3(8,Ic,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(10,pa,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(12,Tc,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Id,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Gf,h.menuOpen))}}function sm(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}const Tl=function(){return["/contact-us"]};function C_(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,sm,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("testimonials"))}),o.EFF(20,"Testimonials"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("contact-us"))}),o.EFF(22,"Contact"),o.k0s(),o.j41(23,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("resident-form"))}),o.EFF(24,"Resident Form"),o.k0s()(),o.j41(25,"div",4)(26,"a",5)(27,"button",15),o.EFF(28,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Il))("queryParams",o.eq3(10,Ic,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,pa,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Tc,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Id,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,Gf,h.menuOpen)),o.R7$(16),o.Y8G("routerLink",o.lJ4(20,Tl))("queryParams",o.eq3(21,Ic,h.businessId))}}function b_(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}function am(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,b_,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("testimonials"))}),o.EFF(20,"Testimonials"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("contact-us"))}),o.EFF(22,"Contact"),o.k0s(),o.j41(23,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("resident-form"))}),o.EFF(24,"Resident Form"),o.k0s()(),o.j41(25,"div",4)(26,"a",5)(27,"button",15),o.EFF(28,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Il))("queryParams",o.eq3(10,Ic,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,pa,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Tc,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Id,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,Gf,h.menuOpen)),o.R7$(16),o.Y8G("routerLink",o.lJ4(20,Tl))("queryParams",o.eq3(21,Ic,h.businessId))}}function wl(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}function cm(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,wl,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const $=o.XpG();return o.Njj($.navigateTo("resident-form"))}),o.EFF(22,"Intake Form"),o.k0s()(),o.j41(23,"div",4)(24,"a",5)(25,"button",15),o.EFF(26,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Il))("queryParams",o.eq3(10,Ic,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,pa,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Tc,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Id,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,Gf,h.menuOpen)),o.R7$(14),o.Y8G("routerLink",o.lJ4(20,Tl))("queryParams",o.eq3(21,Ic,h.businessId))}}let Hu=(()=>{class E{constructor(h,x,$){this.route=h,this.router=x,this.businessDataService=$,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(h=>{h&&(this.businessId=h,this.businessDataService.getBusinessData().subscribe(x=>{this.business=x,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(h){const x=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${h}`],{queryParams:x}).then($=>{$||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Cr.nX),o.rXU(Cr.Ix),o.rXU(Oi.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-navigation"]],decls:5,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(x,$){1&x&&(o.j41(0,"div",0),o.DNE(1,E_,21,18,"ng-container",1),o.DNE(2,C_,29,23,"ng-container",1),o.DNE(3,am,29,23,"ng-container",1),o.DNE(4,cm,27,23,"ng-container",1),o.k0s()),2&x&&(o.Y8G("ngSwitch",$.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","demo"))},dependencies:[me.YU,me.bT,me.ux,me.e1,Cr.Wk],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return E})();function cu(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(4),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.SpI(" ",null==h.business?null:h.business.address," "),o.R7$(3),o.SpI("Provider:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone)}}function um(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",12)(2,"div",13)(3,"div",14),o.nrm(4,"hr",15),o.j41(5,"h2",16),o.EFF(6),o.k0s(),o.nrm(7,"hr",15),o.k0s(),o.j41(8,"div",17)(9,"div",18)(10,"h3",19),o.EFF(11,"Owner:"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"div",18)(15,"h3",19),o.EFF(16,"Location:"),o.k0s(),o.j41(17,"address"),o.EFF(18),o.k0s()(),o.j41(19,"div",18)(20,"h3",19),o.EFF(21,"Provider:"),o.k0s(),o.j41(22,"p"),o.EFF(23),o.k0s(),o.j41(24,"p"),o.EFF(25,"Email: "),o.j41(26,"a",11),o.EFF(27),o.k0s()(),o.j41(28,"p"),o.EFF(29,"Phone: "),o.j41(30,"a",11),o.EFF(31),o.k0s()()()(),o.j41(32,"div",20)(33,"p"),o.EFF(34),o.k0s()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(6),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.JRh(null==h.business?null:h.business.providerName),o.R7$(5),o.JRh(null==h.business?null:h.business.address),o.R7$(5),o.JRh(null==h.business?null:h.business.providerName),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.email),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.Lme("\xa9 ",2024," ",null==h.business?null:h.business.businessName,". All rights reserved.")}}function Td(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(4),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.SpI(" ",null==h.business?null:h.business.address," "),o.R7$(3),o.SpI("Provider:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone)}}function lg(E,g){if(1&E&&(o.j41(0,"div",21)(1,"h1",22),o.EFF(2,"Debugger:"),o.k0s(),o.j41(3,"div",23)(4,"div",24)(5,"span",25),o.EFF(6,"Theme File:"),o.k0s(),o.j41(7,"span",26),o.EFF(8),o.k0s()(),o.j41(9,"div",24)(10,"span",25),o.EFF(11,"Business ID:"),o.k0s(),o.j41(12,"span",26),o.EFF(13),o.k0s()(),o.j41(14,"div",24)(15,"span",25),o.EFF(16,"Business Name:"),o.k0s(),o.j41(17,"span",26),o.EFF(18),o.k0s()()()()),2&E){const h=o.XpG();o.R7$(8),o.JRh(h.themeFileName),o.R7$(5),o.JRh(null==h.business?null:h.business.id),o.R7$(5),o.JRh(null==h.business?null:h.business.businessName)}}let I_=(()=>{class E{constructor(h,x,$,pe,Ee,mt){this.route=h,this.webContentService=x,this.authService=$,this.themeService=pe,this.businessDataService=Ee,this.router=mt,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(h=>{this.business=h}),this.businessDataService.getBusinessId().subscribe(h=>{h&&(this.businessId=h,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(x=>{x&&(this.themeFileName=x.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Cr.nX),o.rXU(ci.N),o.rXU(Sh.u),o.rXU(bd.F),o.rXU(Oi.A),o.rXU(Cr.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-footer"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(x,$){1&x&&(o.j41(0,"div",0),o.DNE(1,cu,34,12,"ng-container",1),o.DNE(2,um,35,10,"ng-container",1),o.DNE(3,Td,34,12,"ng-container",2),o.k0s(),o.DNE(4,lg,19,3,"div",3),o.nI1(5,"async")),2&x&&(o.Y8G("ngSwitch",$.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(2),o.Y8G("ngIf",o.bMT(5,4,$.isAuthenticated$)))},dependencies:[me.bT,me.ux,me.e1,me.fG,me.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}return E})(),T_=(()=>{class E{constructor(h,x,$,pe,Ee){this.route=h,this.webContent=x,this.metaService=$,this.router=pe,this.themeService=Ee,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(h=>{h&&(this.business=h)})}static#e=this.\u0275fac=function(x){return new(x||E)(o.rXU(Cr.nX),o.rXU(ci.N),o.rXU(no.R),o.rXU(Cr.Ix),o.rXU(bd.F))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-root"]],decls:3,vars:0,template:function(x,$){1&x&&o.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[Cr.n3,Hu,I_]})}return E})();const lm_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Gu=L(2214),vo=L(5407);class wd{constructor(g){return g}}class $a{constructor(){return(0,Gu.Dk)()}}const Ad=new o.nKC("angularfire2._apps"),Ph={provide:wd,useFactory:function wc(E){return E&&1===E.length?E[0]:new wd((0,Gu.Sx)())},deps:[[new o.Xx1,Ad]]},Al={provide:$a,deps:[[new o.Xx1,Ad]]};function Dd(E){return(g,h)=>{const x=g.runOutsideAngular(()=>E(h));return new wd(x)}}let zu=(()=>{class E{constructor(h){(0,Gu.KO)("angularfire",vo.xv.full,"core"),(0,Gu.KO)("angularfire",vo.xv.full,"app"),(0,Gu.KO)("angular",o.xvI.full,h.toString())}static \u0275fac=function(x){return new(x||E)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[Ph,Al]})}return E})();function Rh(E,...g){return{ngModule:zu,providers:[{provide:Ad,useFactory:Dd(E),multi:!0,deps:[o.SKi,o.zZn,vo.u0,...g]}]}}const Kf=(0,vo.S3)(Gu.Wp,!0);L(4033),L(7852),L(1076),L(8041),L(1362);class Xf{constructor(){return(0,vo.CA)("auth")}}var U_=L(9583);class Qf{constructor(g){return g}}const Md="firestore",Dc=new o.nKC("angularfire2.firestore-instances");function Im(E){return(g,h)=>{const x=g.runOutsideAngular(()=>E(h));return new Qf(x)}}const Tm={provide:class du{constructor(){return(0,vo.CA)(Md)}},deps:[[new o.Xx1,Dc]]},vg={provide:Qf,useFactory:function j_(E,g){const h=(0,vo.lR)(Md,E,g);return h&&new Qf(h)},deps:[[new o.Xx1,Dc],wd]};let jh=(()=>{class E{constructor(){(0,Gu.KO)("angularfire",vo.xv.full,"fst")}static \u0275fac=function(x){return new(x||E)};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[vg,Tm]})}return E})();function Jf(E,...g){return{ngModule:jh,providers:[{provide:Dc,useFactory:Im(E),multi:!0,deps:[o.SKi,o.zZn,vo.u0,$a,[new o.Xx1,Xf],[new o.Xx1,vo.Jv],...g]}]}}const Et=(0,vo.S3)(U_.aU,!0);var Es=L(9253),Cs=L(8721),Aa=L(1977),Rm=L(4535);class op{constructor(g){return g}}const sp="storage",ap=new o.nKC("angularfire2.storage-instances");function zh(E){return(g,h)=>{const x=g.runOutsideAngular(()=>E(h));return new op(x)}}const Om={provide:class Gh{constructor(){return(0,vo.CA)(sp)}},deps:[[new o.Xx1,ap]]},kd={provide:op,useFactory:function Nd(E,g){const h=(0,vo.lR)(sp,E,g);return h&&new op(h)},deps:[[new o.Xx1,ap],wd]};let W_=(()=>{class E{constructor(){(0,Gu.KO)("angularfire",vo.xv.full,"gcs")}static \u0275fac=function(x){return new(x||E)};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[kd,Om]})}return E})();function Nm(E,...g){return{ngModule:W_,providers:[{provide:ap,useFactory:zh(E),multi:!0,deps:[o.SKi,o.zZn,vo.u0,$a,[new o.Xx1,Xf],[new o.Xx1,vo.Jv],...g]}]}}const Dg=(0,vo.S3)(Rm.c7,!0);var q_=L(3012);let dp=(()=>{class E{constructor(h,x,$){this.http=h,this.themeService=x,this.businessService=$,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(h){return new Promise((x,$)=>{this.themeService.getBusinessTheme(h).subscribe({next:pe=>{this.themeService.applyThemeFile(pe?pe.themeFileName:"default.css").then(()=>x()).catch(mt=>{console.error("Error applying theme file:",mt),x()}),this.themeService.getThemeColors(h).subscribe(mt=>{this.applyTheme(mt),x()},mt=>{console.error("Error loading theme:",mt),x()})},error:pe=>{console.error("Error loading business theme:",pe),this.themeService.applyThemeFile("default.css").then(()=>x()).catch(Ee=>{console.error("Error applying default theme file:",Ee),x()})}})})}applyTheme(h){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",h.primaryColor),document.documentElement.style.setProperty("--secondary-color",h.secondaryColor),document.documentElement.style.setProperty("--accent-color",h.accentColor),document.documentElement.style.setProperty("--background-color",h.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",h.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",h.textColor),document.documentElement.style.setProperty("--nav-background-color",h.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",h.navTextColor),document.documentElement.style.setProperty("--nav-active-background",h.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",h.navActiveText),document.documentElement.style.setProperty("--button-color",h.buttonColor),document.documentElement.style.setProperty("--button-hover-color",h.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(h){return h.primaryColor&&h.secondaryColor&&h.accentColor&&h.backgroundColor&&h.darkBackgroundColor&&h.textColor&&h.navBackgroundColor&&h.navTextColor&&h.navActiveBackground&&h.navActiveText&&h.buttonColor&&h.buttonHoverColor}static#e=this.\u0275fac=function(x){return new(x||E)(o.KVO(Qe),o.KVO(bd.F),o.KVO(q_.u))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const hp={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function Sg(E,g,h){return()=>{const x=window.location.hostname,$=new URL(window.location.href);let pe=hp[x]||$.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+pe+" - hostname: "+x),E.loadTheme(pe)}}function Xh(E,g,h){const x=window.location.hostname,$=new URL(window.location.href);let pe=hp[x]||$.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+pe+" - hostname: "+x),()=>{E.loadBusinessData(pe).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(Ee=>{console.error("Error loading business data:",Ee)})}}let Vm=(()=>{class E{static#e=this.\u0275fac=function(x){return new(x||E)};static#t=this.\u0275mod=o.$C({type:E,bootstrap:[T_]});static#n=this.\u0275inj=o.G2t({providers:[{provide:o.hnV,useFactory:Sg,deps:[dp,me.aZ,Cr.Ix],multi:!0},{provide:o.hnV,useFactory:Xh,deps:[Oi.A,me.aZ,Cr.Ix],multi:!0}],imports:[ae.Bb,Cr.iI,om,Dh.cM,Cs.y5,Aa.X8,Es.bf.initializeApp(lm_firebase),Rh(()=>Kf(lm_firebase)),Jf(()=>Et()),Nm(()=>Dg()),ar.X1,ar.YN,Le]})}return E})();ae.sG().bootstrapModule(Vm).catch(E=>console.error(E))},4412:(nn,Je,L)=>{L.d(Je,{t:()=>ae});var c=L(1413);class ae extends c.B{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const fe=super._subscribe(we);return!fe.closed&&we.next(this._value),fe}getValue(){const{hasError:we,thrownError:fe,_value:Ae}=this;if(we)throw fe;return this._throwIfClosed(),Ae}next(we){super.next(this._value=we)}}},1985:(nn,Je,L)=>{L.d(Je,{c:()=>Fe});var c=L(7707),ae=L(8359),o=L(3494),we=L(1203),fe=L(1026),Ae=L(8071),ke=L(9786);let Fe=(()=>{class me{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const Tt=new me;return Tt.source=this,Tt.operator=Ye,Tt}subscribe(Ye,Tt,It){const jt=function ce(me){return me&&me instanceof c.vU||function Z(me){return me&&(0,Ae.T)(me.next)&&(0,Ae.T)(me.error)&&(0,Ae.T)(me.complete)}(me)&&(0,ae.Uv)(me)}(Ye)?Ye:new c.Ms(Ye,Tt,It);return(0,ke.Y)(()=>{const{operator:Nt,source:sn}=this;jt.add(Nt?Nt.call(jt,sn):sn?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(Tt){Ye.error(Tt)}}forEach(Ye,Tt){return new(Tt=Ue(Tt))((It,jt)=>{const Nt=new c.Ms({next:sn=>{try{Ye(sn)}catch(et){jt(et),Nt.unsubscribe()}},error:jt,complete:It});this.subscribe(Nt)})}_subscribe(Ye){var Tt;return null===(Tt=this.source)||void 0===Tt?void 0:Tt.subscribe(Ye)}[o.s](){return this}pipe(...Ye){return(0,we.m)(Ye)(this)}toPromise(Ye){return new(Ye=Ue(Ye))((Tt,It)=>{let jt;this.subscribe(Nt=>jt=Nt,Nt=>It(Nt),()=>Tt(jt))})}}return me.create=ut=>new me(ut),me})();function Ue(me){var ut;return null!==(ut=me??fe.$.Promise)&&void 0!==ut?ut:Promise}},1413:(nn,Je,L)=>{L.d(Je,{B:()=>ke});var c=L(1985),ae=L(8359);const we=(0,L(1853).L)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=L(7908),Ae=L(9786);let ke=(()=>{class Ue extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const me=new Fe(this,this);return me.operator=ce,me}_throwIfClosed(){if(this.closed)throw new we}next(ce){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ce)}})}error(ce){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:me}=this;for(;me.length;)me.shift().error(ce)}})}complete(){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:me,isStopped:ut,observers:Ye}=this;return me||ut?ae.Kn:(this.currentObservers=null,Ye.push(ce),new ae.yU(()=>{this.currentObservers=null,(0,fe.o)(Ye,ce)}))}_checkFinalizedStatuses(ce){const{hasError:me,thrownError:ut,isStopped:Ye}=this;me?ce.error(ut):Ye&&ce.complete()}asObservable(){const ce=new c.c;return ce.source=this,ce}}return Ue.create=(Z,ce)=>new Fe(Z,ce),Ue})();class Fe extends ke{constructor(Z,ce){super(),this.destination=Z,this.source=ce}next(Z){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===me||me.call(ce,Z)}error(Z){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===me||me.call(ce,Z)}complete(){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===ce||ce.call(Z)}_subscribe(Z){var ce,me;return null!==(me=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Z))&&void 0!==me?me:ae.Kn}}},7707:(nn,Je,L)=>{L.d(Je,{Ms:()=>It,vU:()=>me});var c=L(8071),ae=L(8359),o=L(1026),we=L(5334),fe=L(5343);const Ae=Ue("C",void 0,void 0);function Ue(Ge,at,Ze){return{kind:Ge,value:at,error:Ze}}var Z=L(9270),ce=L(9786);class me extends ae.yU{constructor(at){super(),this.isStopped=!1,at?(this.destination=at,(0,ae.Uv)(at)&&at.add(this)):this.destination=et}static create(at,Ze,it){return new It(at,Ze,it)}next(at){this.isStopped?sn(function Fe(Ge){return Ue("N",Ge,void 0)}(at),this):this._next(at)}error(at){this.isStopped?sn(function ke(Ge){return Ue("E",void 0,Ge)}(at),this):(this.isStopped=!0,this._error(at))}complete(){this.isStopped?sn(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(at){this.destination.next(at)}_error(at){try{this.destination.error(at)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function Ye(Ge,at){return ut.call(Ge,at)}class Tt{constructor(at){this.partialObserver=at}next(at){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(at)}catch(it){jt(it)}}error(at){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(at)}catch(it){jt(it)}else jt(at)}complete(){const{partialObserver:at}=this;if(at.complete)try{at.complete()}catch(Ze){jt(Ze)}}}class It extends me{constructor(at,Ze,it){let At;if(super(),(0,c.T)(at)||!at)At={next:at??void 0,error:Ze??void 0,complete:it??void 0};else{let Vt;this&&o.$.useDeprecatedNextContext?(Vt=Object.create(at),Vt.unsubscribe=()=>this.unsubscribe(),At={next:at.next&&Ye(at.next,Vt),error:at.error&&Ye(at.error,Vt),complete:at.complete&&Ye(at.complete,Vt)}):At=at}this.destination=new Tt(At)}}function jt(Ge){o.$.useDeprecatedSynchronousErrorHandling?(0,ce.l)(Ge):(0,we.m)(Ge)}function sn(Ge,at){const{onStoppedNotification:Ze}=o.$;Ze&&Z.f.setTimeout(()=>Ze(Ge,at))}const et={closed:!0,next:fe.l,error:function Nt(Ge){throw Ge},complete:fe.l}},8359:(nn,Je,L)=>{L.d(Je,{Kn:()=>Ae,yU:()=>fe,Uv:()=>ke});var c=L(8071);const o=(0,L(1853).L)(Ue=>function(ce){Ue(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((me,ut)=>`${ut+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var we=L(7908);class fe{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Ye of ce)Ye.remove(this);else ce.remove(this);const{initialTeardown:me}=this;if((0,c.T)(me))try{me()}catch(Ye){Z=Ye instanceof o?Ye.errors:[Ye]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const Ye of ut)try{Fe(Ye)}catch(Tt){Z=Z??[],Tt instanceof o?Z=[...Z,...Tt.errors]:Z.push(Tt)}}if(Z)throw new o(Z)}}add(Z){var ce;if(Z&&Z!==this)if(this.closed)Fe(Z);else{if(Z instanceof fe){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(Z)}}_hasParent(Z){const{_parentage:ce}=this;return ce===Z||Array.isArray(ce)&&ce.includes(Z)}_addParent(Z){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(Z),ce):ce?[ce,Z]:Z}_removeParent(Z){const{_parentage:ce}=this;ce===Z?this._parentage=null:Array.isArray(ce)&&(0,we.o)(ce,Z)}remove(Z){const{_finalizers:ce}=this;ce&&(0,we.o)(ce,Z),Z instanceof fe&&Z._removeParent(this)}}fe.EMPTY=(()=>{const Ue=new fe;return Ue.closed=!0,Ue})();const Ae=fe.EMPTY;function ke(Ue){return Ue instanceof fe||Ue&&"closed"in Ue&&(0,c.T)(Ue.remove)&&(0,c.T)(Ue.add)&&(0,c.T)(Ue.unsubscribe)}function Fe(Ue){(0,c.T)(Ue)?Ue():Ue.unsubscribe()}},1026:(nn,Je,L)=>{L.d(Je,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(nn,Je,L)=>{L.d(Je,{x:()=>fe});var c=L(6365),o=L(3794),we=L(8455);function fe(...Ae){return function ae(){return(0,c.U)(1)}()((0,we.H)(Ae,(0,o.lI)(Ae)))}},983:(nn,Je,L)=>{L.d(Je,{w:()=>ae});const ae=new(L(1985).c)(fe=>fe.complete())},8455:(nn,Je,L)=>{L.d(Je,{H:()=>at});var c=L(8750),ae=L(941),o=L(6745),Ae=L(1985),Fe=L(4761),Ue=L(8071),Z=L(5225);function me(Ze,it){if(!Ze)throw new Error("Iterable cannot be null");return new Ae.c(At=>{(0,Z.N)(At,it,()=>{const Vt=Ze[Symbol.asyncIterator]();(0,Z.N)(At,it,()=>{Vt.next().then(be=>{be.done?At.complete():At.next(be.value)})},0,!0)})})}var ut=L(5055),Ye=L(9858),Tt=L(7441),It=L(5397),jt=L(7953),Nt=L(591),sn=L(5196);function at(Ze,it){return it?function Ge(Ze,it){if(null!=Ze){if((0,ut.l)(Ze))return function we(Ze,it){return(0,c.Tg)(Ze).pipe((0,o._)(it),(0,ae.Q)(it))}(Ze,it);if((0,Tt.X)(Ze))return function ke(Ze,it){return new Ae.c(At=>{let Vt=0;return it.schedule(function(){Vt===Ze.length?At.complete():(At.next(Ze[Vt++]),At.closed||this.schedule())})})}(Ze,it);if((0,Ye.y)(Ze))return function fe(Ze,it){return(0,c.Tg)(Ze).pipe((0,o._)(it),(0,ae.Q)(it))}(Ze,it);if((0,jt.T)(Ze))return me(Ze,it);if((0,It.x)(Ze))return function ce(Ze,it){return new Ae.c(At=>{let Vt;return(0,Z.N)(At,it,()=>{Vt=Ze[Fe.l](),(0,Z.N)(At,it,()=>{let be,Jt;try{({value:be,done:Jt}=Vt.next())}catch(cn){return void At.error(cn)}Jt?At.complete():At.next(be)},0,!0)}),()=>(0,Ue.T)(Vt?.return)&&Vt.return()})}(Ze,it);if((0,sn.U)(Ze))return function et(Ze,it){return me((0,sn.C)(Ze),it)}(Ze,it)}throw(0,Nt.L)(Ze)}(Ze,it):(0,c.Tg)(Ze)}},8750:(nn,Je,L)=>{L.d(Je,{Tg:()=>ut});var c=L(1635),ae=L(7441),o=L(9858),we=L(1985),fe=L(5055),Ae=L(7953),ke=L(591),Fe=L(5397),Ue=L(5196),Z=L(8071),ce=L(5334),me=L(3494);function ut(Ge){if(Ge instanceof we.c)return Ge;if(null!=Ge){if((0,fe.l)(Ge))return function Ye(Ge){return new we.c(at=>{const Ze=Ge[me.s]();if((0,Z.T)(Ze.subscribe))return Ze.subscribe(at);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,ae.X)(Ge))return function Tt(Ge){return new we.c(at=>{for(let Ze=0;Ze<Ge.length&&!at.closed;Ze++)at.next(Ge[Ze]);at.complete()})}(Ge);if((0,o.y)(Ge))return function It(Ge){return new we.c(at=>{Ge.then(Ze=>{at.closed||(at.next(Ze),at.complete())},Ze=>at.error(Ze)).then(null,ce.m)})}(Ge);if((0,Ae.T)(Ge))return Nt(Ge);if((0,Fe.x)(Ge))return function jt(Ge){return new we.c(at=>{for(const Ze of Ge)if(at.next(Ze),at.closed)return;at.complete()})}(Ge);if((0,Ue.U)(Ge))return function sn(Ge){return Nt((0,Ue.C)(Ge))}(Ge)}throw(0,ke.L)(Ge)}function Nt(Ge){return new we.c(at=>{(function et(Ge,at){var Ze,it,At,Vt;return(0,c.sH)(this,void 0,void 0,function*(){try{for(Ze=(0,c.xN)(Ge);!(it=yield Ze.next()).done;)if(at.next(it.value),at.closed)return}catch(be){At={error:be}}finally{try{it&&!it.done&&(Vt=Ze.return)&&(yield Vt.call(Ze))}finally{if(At)throw At.error}}at.complete()})})(Ge,at).catch(Ze=>at.error(Ze))})}},7786:(nn,Je,L)=>{L.d(Je,{h:()=>Ae});var c=L(6365),ae=L(8750),o=L(983),we=L(3794),fe=L(8455);function Ae(...ke){const Fe=(0,we.lI)(ke),Ue=(0,we.R0)(ke,1/0),Z=ke;return Z.length?1===Z.length?(0,ae.Tg)(Z[0]):(0,c.U)(Ue)((0,fe.H)(Z,Fe)):o.w}},7673:(nn,Je,L)=>{L.d(Je,{of:()=>o});var c=L(3794),ae=L(8455);function o(...we){const fe=(0,c.lI)(we);return(0,ae.H)(we,fe)}},8810:(nn,Je,L)=>{L.d(Je,{$:()=>o});var c=L(1985),ae=L(8071);function o(we,fe){const Ae=(0,ae.T)(we)?we:()=>we,ke=Fe=>Fe.error(Ae());return new c.c(fe?Fe=>fe.schedule(ke,0,Fe):ke)}},4360:(nn,Je,L)=>{L.d(Je,{_:()=>ae});var c=L(7707);function ae(we,fe,Ae,ke,Fe){return new o(we,fe,Ae,ke,Fe)}class o extends c.vU{constructor(fe,Ae,ke,Fe,Ue,Z){super(fe),this.onFinalize=Ue,this.shouldUnsubscribe=Z,this._next=Ae?function(ce){try{Ae(ce)}catch(me){fe.error(me)}}:super._next,this._error=Fe?function(ce){try{Fe(ce)}catch(me){fe.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(ce){fe.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},9437:(nn,Je,L)=>{L.d(Je,{W:()=>we});var c=L(8750),ae=L(4360),o=L(9974);function we(fe){return(0,o.N)((Ae,ke)=>{let Z,Fe=null,Ue=!1;Fe=Ae.subscribe((0,ae._)(ke,void 0,void 0,ce=>{Z=(0,c.Tg)(fe(ce,we(fe)(Ae))),Fe?(Fe.unsubscribe(),Fe=null,Z.subscribe(ke)):Ue=!0})),Ue&&(Fe.unsubscribe(),Fe=null,Z.subscribe(ke))})}},274:(nn,Je,L)=>{L.d(Je,{H:()=>o});var c=L(1397),ae=L(8071);function o(we,fe){return(0,ae.T)(fe)?(0,c.Z)(we,fe,1):(0,c.Z)(we,1)}},9901:(nn,Je,L)=>{L.d(Je,{U:()=>o});var c=L(9974),ae=L(4360);function o(we){return(0,c.N)((fe,Ae)=>{let ke=!1;fe.subscribe((0,ae._)(Ae,Fe=>{ke=!0,Ae.next(Fe)},()=>{ke||Ae.next(we),Ae.complete()}))})}},3294:(nn,Je,L)=>{L.d(Je,{F:()=>we});var c=L(3669),ae=L(9974),o=L(4360);function we(Ae,ke=c.D){return Ae=Ae??fe,(0,ae.N)((Fe,Ue)=>{let Z,ce=!0;Fe.subscribe((0,o._)(Ue,me=>{const ut=ke(me);(ce||!Ae(Z,ut))&&(ce=!1,Z=ut,Ue.next(me))}))})}function fe(Ae,ke){return Ae===ke}},5964:(nn,Je,L)=>{L.d(Je,{p:()=>o});var c=L(9974),ae=L(4360);function o(we,fe){return(0,c.N)((Ae,ke)=>{let Fe=0;Ae.subscribe((0,ae._)(ke,Ue=>we.call(fe,Ue,Fe++)&&ke.next(Ue)))})}},980:(nn,Je,L)=>{L.d(Je,{j:()=>ae});var c=L(9974);function ae(o){return(0,c.N)((we,fe)=>{try{we.subscribe(fe)}finally{fe.add(o)}})}},1594:(nn,Je,L)=>{L.d(Je,{$:()=>ke});var c=L(9350),ae=L(5964),o=L(6697),we=L(9901),fe=L(3774),Ae=L(3669);function ke(Fe,Ue){const Z=arguments.length>=2;return ce=>ce.pipe(Fe?(0,ae.p)((me,ut)=>Fe(me,ut,ce)):Ae.D,(0,o.s)(1),Z?(0,we.U)(Ue):(0,fe.v)(()=>new c.G))}},6354:(nn,Je,L)=>{L.d(Je,{T:()=>o});var c=L(9974),ae=L(4360);function o(we,fe){return(0,c.N)((Ae,ke)=>{let Fe=0;Ae.subscribe((0,ae._)(ke,Ue=>{ke.next(we.call(fe,Ue,Fe++))}))})}},6365:(nn,Je,L)=>{L.d(Je,{U:()=>o});var c=L(1397),ae=L(3669);function o(we=1/0){return(0,c.Z)(ae.D,we)}},1397:(nn,Je,L)=>{L.d(Je,{Z:()=>Fe});var c=L(6354),ae=L(8750),o=L(9974),we=L(5225),fe=L(4360),ke=L(8071);function Fe(Ue,Z,ce=1/0){return(0,ke.T)(Z)?Fe((me,ut)=>(0,c.T)((Ye,Tt)=>Z(me,Ye,ut,Tt))((0,ae.Tg)(Ue(me,ut))),ce):("number"==typeof Z&&(ce=Z),(0,o.N)((me,ut)=>function Ae(Ue,Z,ce,me,ut,Ye,Tt,It){const jt=[];let Nt=0,sn=0,et=!1;const Ge=()=>{et&&!jt.length&&!Nt&&Z.complete()},at=it=>Nt<me?Ze(it):jt.push(it),Ze=it=>{Ye&&Z.next(it),Nt++;let At=!1;(0,ae.Tg)(ce(it,sn++)).subscribe((0,fe._)(Z,Vt=>{ut?.(Vt),Ye?at(Vt):Z.next(Vt)},()=>{At=!0},void 0,()=>{if(At)try{for(Nt--;jt.length&&Nt<me;){const Vt=jt.shift();Tt?(0,we.N)(Z,Tt,()=>Ze(Vt)):Ze(Vt)}Ge()}catch(Vt){Z.error(Vt)}}))};return Ue.subscribe((0,fe._)(Z,at,()=>{et=!0,Ge()})),()=>{It?.()}}(me,ut,Ue,ce)))}},941:(nn,Je,L)=>{L.d(Je,{Q:()=>we});var c=L(5225),ae=L(9974),o=L(4360);function we(fe,Ae=0){return(0,ae.N)((ke,Fe)=>{ke.subscribe((0,o._)(Fe,Ue=>(0,c.N)(Fe,fe,()=>Fe.next(Ue),Ae),()=>(0,c.N)(Fe,fe,()=>Fe.complete(),Ae),Ue=>(0,c.N)(Fe,fe,()=>Fe.error(Ue),Ae)))})}},2816:(nn,Je,L)=>{L.d(Je,{S:()=>we});var c=L(9974),ae=L(4360);function we(fe,Ae){return(0,c.N)(function o(fe,Ae,ke,Fe,Ue){return(Z,ce)=>{let me=ke,ut=Ae,Ye=0;Z.subscribe((0,ae._)(ce,Tt=>{const It=Ye++;ut=me?fe(ut,Tt,It):(me=!0,Tt),Fe&&ce.next(ut)},Ue&&(()=>{me&&ce.next(ut),ce.complete()})))}}(fe,Ae,arguments.length>=2,!0))}},7647:(nn,Je,L)=>{L.d(Je,{u:()=>fe});var c=L(8750),ae=L(1413),o=L(7707),we=L(9974);function fe(ke={}){const{connector:Fe=(()=>new ae.B),resetOnError:Ue=!0,resetOnComplete:Z=!0,resetOnRefCountZero:ce=!0}=ke;return me=>{let ut,Ye,Tt,It=0,jt=!1,Nt=!1;const sn=()=>{Ye?.unsubscribe(),Ye=void 0},et=()=>{sn(),ut=Tt=void 0,jt=Nt=!1},Ge=()=>{const at=ut;et(),at?.unsubscribe()};return(0,we.N)((at,Ze)=>{It++,!Nt&&!jt&&sn();const it=Tt=Tt??Fe();Ze.add(()=>{It--,0===It&&!Nt&&!jt&&(Ye=Ae(Ge,ce))}),it.subscribe(Ze),!ut&&It>0&&(ut=new o.Ms({next:At=>it.next(At),error:At=>{Nt=!0,sn(),Ye=Ae(et,Ue,At),it.error(At)},complete:()=>{jt=!0,sn(),Ye=Ae(et,Z),it.complete()}}),(0,c.Tg)(at).subscribe(ut))})(me)}}function Ae(ke,Fe,...Ue){if(!0===Fe)return void ke();if(!1===Fe)return;const Z=new o.Ms({next:()=>{Z.unsubscribe(),ke()}});return(0,c.Tg)(Fe(...Ue)).subscribe(Z)}},9172:(nn,Je,L)=>{L.d(Je,{Z:()=>we});var c=L(8793),ae=L(3794),o=L(9974);function we(...fe){const Ae=(0,ae.lI)(fe);return(0,o.N)((ke,Fe)=>{(Ae?(0,c.x)(fe,ke,Ae):(0,c.x)(fe,ke)).subscribe(Fe)})}},6745:(nn,Je,L)=>{L.d(Je,{_:()=>ae});var c=L(9974);function ae(o,we=0){return(0,c.N)((fe,Ae)=>{Ae.add(o.schedule(()=>fe.subscribe(Ae),we))})}},5558:(nn,Je,L)=>{L.d(Je,{n:()=>we});var c=L(8750),ae=L(9974),o=L(4360);function we(fe,Ae){return(0,ae.N)((ke,Fe)=>{let Ue=null,Z=0,ce=!1;const me=()=>ce&&!Ue&&Fe.complete();ke.subscribe((0,o._)(Fe,ut=>{Ue?.unsubscribe();let Ye=0;const Tt=Z++;(0,c.Tg)(fe(ut,Tt)).subscribe(Ue=(0,o._)(Fe,It=>Fe.next(Ae?Ae(ut,It,Tt,Ye++):It),()=>{Ue=null,me()}))},()=>{ce=!0,me()}))})}},6697:(nn,Je,L)=>{L.d(Je,{s:()=>we});var c=L(983),ae=L(9974),o=L(4360);function we(fe){return fe<=0?()=>c.w:(0,ae.N)((Ae,ke)=>{let Fe=0;Ae.subscribe((0,o._)(ke,Ue=>{++Fe<=fe&&(ke.next(Ue),fe<=Fe&&ke.complete())}))})}},8141:(nn,Je,L)=>{L.d(Je,{M:()=>fe});var c=L(8071),ae=L(9974),o=L(4360),we=L(3669);function fe(Ae,ke,Fe){const Ue=(0,c.T)(Ae)||ke||Fe?{next:Ae,error:ke,complete:Fe}:Ae;return Ue?(0,ae.N)((Z,ce)=>{var me;null===(me=Ue.subscribe)||void 0===me||me.call(Ue);let ut=!0;Z.subscribe((0,o._)(ce,Ye=>{var Tt;null===(Tt=Ue.next)||void 0===Tt||Tt.call(Ue,Ye),ce.next(Ye)},()=>{var Ye;ut=!1,null===(Ye=Ue.complete)||void 0===Ye||Ye.call(Ue),ce.complete()},Ye=>{var Tt;ut=!1,null===(Tt=Ue.error)||void 0===Tt||Tt.call(Ue,Ye),ce.error(Ye)},()=>{var Ye,Tt;ut&&(null===(Ye=Ue.unsubscribe)||void 0===Ye||Ye.call(Ue)),null===(Tt=Ue.finalize)||void 0===Tt||Tt.call(Ue)}))}):we.D}},3774:(nn,Je,L)=>{L.d(Je,{v:()=>we});var c=L(9350),ae=L(9974),o=L(4360);function we(Ae=fe){return(0,ae.N)((ke,Fe)=>{let Ue=!1;ke.subscribe((0,o._)(Fe,Z=>{Ue=!0,Fe.next(Z)},()=>Ue?Fe.complete():Fe.error(Ae())))})}function fe(){return new c.G}},6780:(nn,Je,L)=>{L.d(Je,{R:()=>fe});var c=L(8359);class ae extends c.yU{constructor(ke,Fe){super()}schedule(ke,Fe=0){return this}}const o={setInterval(Ae,ke,...Fe){const{delegate:Ue}=o;return Ue?.setInterval?Ue.setInterval(Ae,ke,...Fe):setInterval(Ae,ke,...Fe)},clearInterval(Ae){const{delegate:ke}=o;return(ke?.clearInterval||clearInterval)(Ae)},delegate:void 0};var we=L(7908);class fe extends ae{constructor(ke,Fe){super(ke,Fe),this.scheduler=ke,this.work=Fe,this.pending=!1}schedule(ke,Fe=0){var Ue;if(this.closed)return this;this.state=ke;const Z=this.id,ce=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(ce,Z,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(ce,this.id,Fe),this}requestAsyncId(ke,Fe,Ue=0){return o.setInterval(ke.flush.bind(ke,this),Ue)}recycleAsyncId(ke,Fe,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return Fe;null!=Fe&&o.clearInterval(Fe)}execute(ke,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(ke,Fe);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,Fe){let Z,Ue=!1;try{this.work(ke)}catch(ce){Ue=!0,Z=ce||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:ke,scheduler:Fe}=this,{actions:Ue}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.o)(Ue,this),null!=ke&&(this.id=this.recycleAsyncId(Fe,ke,null)),this.delay=null,super.unsubscribe()}}}},9687:(nn,Je,L)=>{L.d(Je,{q:()=>o});var c=L(6129);class ae{constructor(fe,Ae=ae.now){this.schedulerActionCtor=fe,this.now=Ae}schedule(fe,Ae=0,ke){return new this.schedulerActionCtor(this,fe).schedule(ke,Ae)}}ae.now=c.U.now;class o extends ae{constructor(fe,Ae=ae.now){super(fe,Ae),this.actions=[],this._active=!1}flush(fe){const{actions:Ae}=this;if(this._active)return void Ae.push(fe);let ke;this._active=!0;do{if(ke=fe.execute(fe.state,fe.delay))break}while(fe=Ae.shift());if(this._active=!1,ke){for(;fe=Ae.shift();)fe.unsubscribe();throw ke}}}},3236:(nn,Je,L)=>{L.d(Je,{E:()=>o});var c=L(6780);const o=new(L(9687).q)(c.R)},6129:(nn,Je,L)=>{L.d(Je,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(nn,Je,L)=>{L.d(Je,{f:()=>c});const c={setTimeout(ae,o,...we){const{delegate:fe}=c;return fe?.setTimeout?fe.setTimeout(ae,o,...we):setTimeout(ae,o,...we)},clearTimeout(ae){const{delegate:o}=c;return(o?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4761:(nn,Je,L)=>{L.d(Je,{l:()=>ae});const ae=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(nn,Je,L)=>{L.d(Je,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(nn,Je,L)=>{L.d(Je,{G:()=>ae});const ae=(0,L(1853).L)(o=>function(){o(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(nn,Je,L)=>{L.d(Je,{R0:()=>Ae,ms:()=>we,lI:()=>fe});var c=L(8071);function o(ke){return ke[ke.length-1]}function we(ke){return(0,c.T)(o(ke))?ke.pop():void 0}function fe(ke){return function ae(ke){return ke&&(0,c.T)(ke.schedule)}(o(ke))?ke.pop():void 0}function Ae(ke,Fe){return"number"==typeof o(ke)?ke.pop():Fe}},3073:(nn,Je,L)=>{L.d(Je,{D:()=>fe});const{isArray:c}=Array,{getPrototypeOf:ae,prototype:o,keys:we}=Object;function fe(ke){if(1===ke.length){const Fe=ke[0];if(c(Fe))return{args:Fe,keys:null};if(function Ae(ke){return ke&&"object"==typeof ke&&ae(ke)===o}(Fe)){const Ue=we(Fe);return{args:Ue.map(Z=>Fe[Z]),keys:Ue}}}return{args:ke,keys:null}}},7908:(nn,Je,L)=>{function c(ae,o){if(ae){const we=ae.indexOf(o);0<=we&&ae.splice(we,1)}}L.d(Je,{o:()=>c})},1853:(nn,Je,L)=>{function c(ae){const we=ae(fe=>{Error.call(fe),fe.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}L.d(Je,{L:()=>c})},8496:(nn,Je,L)=>{function c(ae,o){return ae.reduce((we,fe,Ae)=>(we[fe]=o[Ae],we),{})}L.d(Je,{e:()=>c})},9786:(nn,Je,L)=>{L.d(Je,{Y:()=>o,l:()=>we});var c=L(1026);let ae=null;function o(fe){if(c.$.useDeprecatedSynchronousErrorHandling){const Ae=!ae;if(Ae&&(ae={errorThrown:!1,error:null}),fe(),Ae){const{errorThrown:ke,error:Fe}=ae;if(ae=null,ke)throw Fe}}else fe()}function we(fe){c.$.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=fe)}},5225:(nn,Je,L)=>{function c(ae,o,we,fe=0,Ae=!1){const ke=o.schedule(function(){we(),Ae?ae.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ae.add(ke),!Ae)return ke}L.d(Je,{N:()=>c})},3669:(nn,Je,L)=>{function c(ae){return ae}L.d(Je,{D:()=>c})},7441:(nn,Je,L)=>{L.d(Je,{X:()=>c});const c=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},7953:(nn,Je,L)=>{L.d(Je,{T:()=>ae});var c=L(8071);function ae(o){return Symbol.asyncIterator&&(0,c.T)(o?.[Symbol.asyncIterator])}},8071:(nn,Je,L)=>{function c(ae){return"function"==typeof ae}L.d(Je,{T:()=>c})},5055:(nn,Je,L)=>{L.d(Je,{l:()=>o});var c=L(3494),ae=L(8071);function o(we){return(0,ae.T)(we[c.s])}},5397:(nn,Je,L)=>{L.d(Je,{x:()=>o});var c=L(4761),ae=L(8071);function o(we){return(0,ae.T)(we?.[c.l])}},9858:(nn,Je,L)=>{L.d(Je,{y:()=>ae});var c=L(8071);function ae(o){return(0,c.T)(o?.then)}},5196:(nn,Je,L)=>{L.d(Je,{C:()=>o,U:()=>we});var c=L(1635),ae=L(8071);function o(fe){return(0,c.AQ)(this,arguments,function*(){const ke=fe.getReader();try{for(;;){const{value:Fe,done:Ue}=yield(0,c.N3)(ke.read());if(Ue)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Fe)}}finally{ke.releaseLock()}})}function we(fe){return(0,ae.T)(fe?.getReader)}},9974:(nn,Je,L)=>{L.d(Je,{N:()=>o,S:()=>ae});var c=L(8071);function ae(we){return(0,c.T)(we?.lift)}function o(we){return fe=>{if(ae(fe))return fe.lift(function(Ae){try{return we(Ae,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(nn,Je,L)=>{L.d(Je,{I:()=>we});var c=L(6354);const{isArray:ae}=Array;function we(fe){return(0,c.T)(Ae=>function o(fe,Ae){return ae(Ae)?fe(...Ae):fe(Ae)}(fe,Ae))}},5343:(nn,Je,L)=>{function c(){}L.d(Je,{l:()=>c})},1203:(nn,Je,L)=>{L.d(Je,{F:()=>ae,m:()=>o});var c=L(3669);function ae(...we){return o(we)}function o(we){return 0===we.length?c.D:1===we.length?we[0]:function(Ae){return we.reduce((ke,Fe)=>Fe(ke),Ae)}}},5334:(nn,Je,L)=>{L.d(Je,{m:()=>o});var c=L(1026),ae=L(9270);function o(we){ae.f.setTimeout(()=>{const{onUnhandledError:fe}=c.$;if(!fe)throw we;fe(we)})}},591:(nn,Je,L)=>{function c(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Je,{L:()=>c})},177:(nn,Je,L)=>{L.d(Je,{AJ:()=>Ur,B3:()=>jo,Jj:()=>oi,MD:()=>bo,N0:()=>fn,P9:()=>ro,QT:()=>o,Sm:()=>Tt,Sq:()=>Sr,VF:()=>fe,Vy:()=>mi,Xr:()=>xe,YU:()=>$r,ZD:()=>we,_b:()=>wn,aZ:()=>jt,bT:()=>Ts,e1:()=>zi,fG:()=>mr,fw:()=>It,hb:()=>ut,hj:()=>Fe,lG:()=>Hr,qQ:()=>Ae,ux:()=>xi});var c=L(7705);let ae=null;function o(){return ae}function we(S){ae||(ae=S)}class fe{}const Ae=new c.nKC("DocumentToken");let ke=(()=>{class S{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)(Ue)},providedIn:"platform"})}return S})();const Fe=new c.nKC("Location Initialized");let Ue=(()=>{class S extends ke{constructor(){super(),this._doc=(0,c.WQX)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(U){const Y=o().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",U,!1),()=>Y.removeEventListener("popstate",U)}onHashChange(U){const Y=o().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",U,!1),()=>Y.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,Y,Te){this._history.pushState(U,Y,Te)}replaceState(U,Y,Te){this._history.replaceState(U,Y,Te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return new S},providedIn:"platform"})}return S})();function Z(S,J){if(0==S.length)return J;if(0==J.length)return S;let U=0;return S.endsWith("/")&&U++,J.startsWith("/")&&U++,2==U?S+J.substring(1):1==U?S+J:S+"/"+J}function ce(S){const J=S.match(/#|\?|$/),U=J&&J.index||S.length;return S.slice(0,U-("/"===S[U-1]?1:0))+S.slice(U)}function me(S){return S&&"?"!==S[0]?"?"+S:S}let ut=(()=>{class S{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)(Tt)},providedIn:"root"})}return S})();const Ye=new c.nKC("appBaseHref");let Tt=(()=>{class S extends ut{constructor(U,Y){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Z(this._baseHref,U)}path(U=!1){const Y=this._platformLocation.pathname+me(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&U?`${Y}${Te}`:Y}pushState(U,Y,Te,Ct){const kt=this.prepareExternalUrl(Te+me(Ct));this._platformLocation.pushState(U,Y,kt)}replaceState(U,Y,Te,Ct){const kt=this.prepareExternalUrl(Te+me(Ct));this._platformLocation.replaceState(U,Y,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.KVO(ke),c.KVO(Ye,8))};static#t=this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),It=(()=>{class S extends ut{constructor(U,Y){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(U){const Y=Z(this._baseHref,U);return Y.length>0?"#"+Y:Y}pushState(U,Y,Te,Ct){let kt=this.prepareExternalUrl(Te+me(Ct));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.pushState(U,Y,kt)}replaceState(U,Y,Te,Ct){let kt=this.prepareExternalUrl(Te+me(Ct));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.replaceState(U,Y,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.KVO(ke),c.KVO(Ye,8))};static#t=this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac})}return S})(),jt=(()=>{class S{constructor(U){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const Y=this._locationStrategy.getBaseHref();this._basePath=function Ge(S){if(new RegExp("^(https?:)?//").test(S)){const[,U]=S.split(/\/\/[^\/]+/);return U}return S}(ce(et(Y))),this._locationStrategy.onPopState(Te=>{this._subject.emit({url:this.path(!0),pop:!0,state:Te.state,type:Te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,Y=""){return this.path()==this.normalize(U+me(Y))}normalize(U){return S.stripTrailingSlash(function sn(S,J){if(!S||!J.startsWith(S))return J;const U=J.substring(S.length);return""===U||["/",";","?","#"].includes(U[0])?U:J}(this._basePath,et(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,Y="",Te=null){this._locationStrategy.pushState(Te,"",U,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+me(Y)),Te)}replaceState(U,Y="",Te=null){this._locationStrategy.replaceState(Te,"",U,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+me(Y)),Te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",Y){this._urlChangeListeners.forEach(Te=>Te(U,Y))}subscribe(U,Y,Te){return this._subject.subscribe({next:U,error:Y,complete:Te})}static#e=this.normalizeQueryParams=me;static#t=this.joinWithSlash=Z;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(Y){return new(Y||S)(c.KVO(ut))};static#i=this.\u0275prov=c.jDH({token:S,factory:function(){return function Nt(){return new jt((0,c.KVO)(ut))}()},providedIn:"root"})}return S})();function et(S){return S.replace(/\/index.html$/,"")}function wn(S,J){J=encodeURIComponent(J);for(const U of S.split(";")){const Y=U.indexOf("="),[Te,Ct]=-1==Y?[U,""]:[U.slice(0,Y),U.slice(Y+1)];if(Te.trim()===J)return decodeURIComponent(Ct)}return null}const Fn=/\s+/,Nn=[];let $r=(()=>{class S{constructor(U,Y,Te,Ct){this._iterableDiffers=U,this._keyValueDiffers=Y,this._ngEl=Te,this._renderer=Ct,this.initialClasses=Nn,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(Fn):Nn}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Fn):U}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const Y of U)this._updateState(Y,!0);else if(null!=U)for(const Y of Object.keys(U))this._updateState(Y,!!U[Y]);this._applyStateDiff()}_updateState(U,Y){const Te=this.stateMap.get(U);void 0!==Te?(Te.enabled!==Y&&(Te.changed=!0,Te.enabled=Y),Te.touched=!0):this.stateMap.set(U,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const Y=U[0],Te=U[1];Te.changed?(this._toggleClass(Y,Te.enabled),Te.changed=!1):Te.touched||(Te.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Te.touched=!1}}_toggleClass(U,Y){(U=U.trim()).length>0&&U.split(Fn).forEach(Te=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c._q3),c.rXU(c.MKu),c.rXU(c.aKT),c.rXU(c.sFG))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return S})();class Yo{constructor(J,U,Y,Te){this.$implicit=J,this.ngForOf=U,this.index=Y,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sr=(()=>{class S{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,Y,Te){this._viewContainer=U,this._template=Y,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const Y=this._viewContainer;U.forEachOperation((Te,Ct,kt)=>{if(null==Te.previousIndex)Y.createEmbeddedView(this._template,new Yo(Te.item,this._ngForOf,-1,-1),null===kt?void 0:kt);else if(null==kt)Y.remove(null===Ct?void 0:Ct);else if(null!==Ct){const vn=Y.get(Ct);Y.move(vn,kt),Is(vn,Te)}});for(let Te=0,Ct=Y.length;Te<Ct;Te++){const vn=Y.get(Te).context;vn.index=Te,vn.count=Ct,vn.ngForOf=this._ngForOf}U.forEachIdentityChange(Te=>{Is(Y.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(U,Y){return!0}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return S})();function Is(S,J){S.context.$implicit=J.item}let Ts=(()=>{class S{constructor(U,Y){this._viewContainer=U,this._context=new yi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){_a("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){_a("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,Y){return!0}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.c1b),c.rXU(c.C4Q))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return S})();class yi{constructor(){this.$implicit=null,this.ngIf=null}}function _a(S,J){if(J&&!J.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,c.Tbb)(J)}'.`)}class Oo{constructor(J,U){this._viewContainerRef=J,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let xi=(()=>{class S{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews.push(U)}_matchCase(U){const Y=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(U){if(this._defaultViews.length>0&&U!==this._defaultUsed){this._defaultUsed=U;for(const Y of this._defaultViews)Y.enforceState(U)}}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return S})(),zi=(()=>{class S{constructor(U,Y,Te){this.ngSwitch=Te,Te._addCase(),this._view=new Oo(U,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(xi,9))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return S})(),mr=(()=>{class S{constructor(U,Y,Te){Te._addDefault(new Oo(U,Y))}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(xi,9))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return S})(),jo=(()=>{class S{constructor(U,Y,Te){this._ngEl=U,this._differs=Y,this._renderer=Te,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,Y){const[Te,Ct]=U.split("."),kt=-1===Te.indexOf("-")?void 0:c.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Te,Ct?`${Y}${Ct}`:Y,kt):this._renderer.removeStyle(this._ngEl.nativeElement,Te,kt)}_applyChanges(U){U.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),U.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),U.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.aKT),c.rXU(c.MKu),c.rXU(c.sFG))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return S})();function Eo(S,J){return new c.wOt(2100,!1)}class Os{createSubscription(J,U){return(0,c.O8t)(()=>J.subscribe({next:U,error:Y=>{throw Y}}))}dispose(J){(0,c.O8t)(()=>J.unsubscribe())}}class Li{createSubscription(J,U){return J.then(U,Y=>{throw Y})}dispose(J){}}const oa=new Li,No=new Os;let oi=(()=>{class S{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,Y=>this._updateLatestValue(U,Y))}_selectStrategy(U){if((0,c.jNT)(U))return oa;if((0,c.zjR)(U))return No;throw Eo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,Y){U===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.gRc,16))};static#t=this.\u0275pipe=c.EJ8({name:"async",type:S,pure:!1,standalone:!0})}return S})(),Hr=(()=>{class S{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=qi}transform(U,Y=qi){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const Te=this.differ.diff(U),Ct=Y!==this.compareFn;return Te&&(this.keyValues=[],Te.forEachItem(kt=>{this.keyValues.push(function Fi(S,J){return{key:S,value:J}}(kt.key,kt.currentValue))})),(Te||Ct)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.MKu,16))};static#t=this.\u0275pipe=c.EJ8({name:"keyvalue",type:S,pure:!1,standalone:!0})}return S})();function qi(S,J){const U=S.key,Y=J.key;if(U===Y)return 0;if(void 0===U)return 1;if(void 0===Y)return-1;if(null===U)return 1;if(null===Y)return-1;if("string"==typeof U&&"string"==typeof Y)return U<Y?-1:1;if("number"==typeof U&&"number"==typeof Y)return U-Y;if("boolean"==typeof U&&"boolean"==typeof Y)return U<Y?-1:1;const Te=String(U),Ct=String(Y);return Te==Ct?0:Te<Ct?-1:1}let ro=(()=>{class S{transform(U,Y,Te){if(null==U)return null;if(!this.supports(U))throw Eo();return U.slice(Y,Te)}supports(U){return"string"==typeof U||Array.isArray(U)}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275pipe=c.EJ8({name:"slice",type:S,pure:!1,standalone:!0})}return S})(),bo=(()=>{class S{static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275mod=c.$C({type:S});static#n=this.\u0275inj=c.G2t({})}return S})();const Ur="browser",ko="server";function mi(S){return S===ko}let xe=(()=>{class S{static#e=this.\u0275prov=(0,c.jDH)({token:S,providedIn:"root",factory:()=>new Ke((0,c.KVO)(Ae),window)})}return S})();class Ke{constructor(J,U){this.document=J,this.window=U,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const U=function bt(S,J){const U=S.getElementById(J)||S.getElementsByName(J)[0];if(U)return U;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const Y=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let Te=Y.currentNode;for(;Te;){const Ct=Te.shadowRoot;if(Ct){const kt=Ct.getElementById(J)||Ct.querySelector(`[name="${J}"]`);if(kt)return kt}Te=Y.nextNode()}}return null}(this.document,J);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(J){this.supportsScrolling()&&(this.window.history.scrollRestoration=J)}scrollToElement(J){const U=J.getBoundingClientRect(),Y=U.left+this.window.pageXOffset,Te=U.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(Y-Ct[0],Te-Ct[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fn{}},7705:(nn,Je,L)=>{L.d(Je,{$C:()=>Co,$GK:()=>gn,$K3:()=>KC,$MX:()=>yd,AVh:()=>Ny,Agw:()=>um,B4B:()=>rg,BIS:()=>I_,BMQ:()=>ji,C4Q:()=>uv,C5r:()=>SC,Co$:()=>$E,DNE:()=>Bm,EFF:()=>K0,EJ8:()=>os,EmA:()=>rs,FS9:()=>xy,FsC:()=>lo,G2t:()=>Gt,GBs:()=>bC,GFd:()=>ur,H3F:()=>WC,H5H:()=>Ly,H8p:()=>om,HJs:()=>HA,HbH:()=>j0,Hbi:()=>PA,JRh:()=>Fy,JZv:()=>jn,Jv_:()=>BE,KH2:()=>Xm,KVO:()=>qe,Kcf:()=>Rf,L39:()=>BA,LfX:()=>Un,Lme:()=>Vy,MKu:()=>y0,Mz_:()=>ey,NEm:()=>sA,NYb:()=>nA,Njj:()=>Oa,O8t:()=>Ct,OA$:()=>yr,Ocv:()=>Rw,Ol2:()=>GE,PLl:()=>cu,QTQ:()=>N,Ql9:()=>Nw,QuC:()=>ho,R7$:()=>m,RV6:()=>to,Rfq:()=>Tt,RxE:()=>_m,SKi:()=>Ro,SpI:()=>ry,TL$:()=>Jp,Tbb:()=>me,UyX:()=>vd,VBU:()=>Li,Vns:()=>Fg,Vt3:()=>hu,WHO:()=>QC,WPN:()=>Cl,WQX:()=>ot,XpG:()=>T0,Xx1:()=>pc,Y8G:()=>Gm,Z63:()=>Ed,ZF7:()=>Ua,_9s:()=>D_,_q3:()=>v0,aKT:()=>Yf,aNF:()=>zE,bIt:()=>Ms,bMT:()=>cC,bVm:()=>q,bkB:()=>lu,brH:()=>uC,c1b:()=>ly,cWb:()=>Mf,czy:()=>ll,e01:()=>JC,e5t:()=>Of,eBV:()=>Lc,eq3:()=>ZE,eu8:()=>he,fpN:()=>xA,gRc:()=>gA,gXe:()=>Oi,giA:()=>ZC,h9k:()=>tg,hnV:()=>zC,iLQ:()=>h0,j41:()=>Mg,jDH:()=>Cn,jNT:()=>bs,k0s:()=>ef,kS0:()=>Su,kdw:()=>gc,l4e:()=>tC,lJ4:()=>JE,lNU:()=>et,l_i:()=>eC,lsd:()=>TC,mGM:()=>CC,mq5:()=>fE,n$t:()=>og,nI1:()=>aC,nKC:()=>an,naY:()=>pA,npT:()=>Jg,nrm:()=>ma,o8S:()=>Zm,oH4:()=>rb,osQ:()=>vl,plB:()=>t0,qex:()=>k,rXU:()=>D,rcV:()=>au,sFG:()=>_v,sZ2:()=>cm,sdS:()=>$d,uvJ:()=>pa,w6W:()=>CT,wOt:()=>Ge,wni:()=>IC,xGo:()=>Wc,xc7:()=>Oy,xe9:()=>hy,xvI:()=>vm,zZn:()=>Ac,zcH:()=>Sl,zjR:()=>Mi});var c=L(1413),ae=L(8359),o=L(1985),we=L(7786),fe=L(4412),Ae=L(7673),ke=L(7647),Fe=L(5558),Ue=L(3294);function Z(t){for(let n in t)if(t[n]===Z)return n;throw Error("Could not find renamed property on target object.")}function ce(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function ut(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ye=Z({__forward_ref__:Z});function Tt(t){return t.__forward_ref__=Tt,t.toString=function(){return me(this())},t}function It(t){return jt(t)?t():t}function jt(t){return"function"==typeof t&&t.hasOwnProperty(Ye)&&t.__forward_ref__===Tt}function Nt(t){return t&&!!t.\u0275providers}const et="https://g.co/ng/security#xss";class Ge extends Error{constructor(n,i){super(function at(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function Jt(t,n){throw new Ge(-201,!1)}function wt(t,n){null==t&&function xt(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Cn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function In(t){return Wt(t,ln)||Wt(t,Hn)}function Un(t){return null!==In(t)}function Wt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Fr(t){return t&&(t.hasOwnProperty(vr)||t.hasOwnProperty(Ut))?t[vr]:null}const ln=Z({\u0275prov:Z}),vr=Z({\u0275inj:Z}),Hn=Z({ngInjectableDef:Z}),Ut=Z({ngInjectorDef:Z});var gn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(gn||{});let Dn;function hr(t){const n=Dn;return Dn=t,n}function Er(t,n,i){const a=In(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&gn.Optional?null:void 0!==n?n:void Jt(me(t))}const jn=globalThis;class an{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Cn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xn={},Tr="__NG_DI_FLAG__",sr="ngTempTokenPath",ee=/\n/gm,V="__source";let F;function Le(t){const n=F;return F=t,n}function le(t,n=gn.Default){if(void 0===F)throw new Ge(-203,!1);return null===F?Er(t,void 0,n):F.get(t,n&gn.Optional?null:void 0,n)}function qe(t,n=gn.Default){return(function bn(){return Dn}()||le)(It(t),n)}function ot(t,n=gn.Default){return qe(t,Xe(n))}function Xe(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rn(t){const n=[];for(let i=0;i<t.length;i++){const a=It(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Ge(900,!1);let d,f=gn.Default;for(let C=0;C<a.length;C++){const T=a[C],P=Zr(T);"number"==typeof P?-1===P?d=T.token:f|=P:d=T}n.push(qe(d,f))}else n.push(qe(a))}return n}function En(t,n){return t[Tr]=n,t.prototype[Tr]=n,t}function Zr(t){return t[Tr]}function ci(t){return{toString:t}.toString()}var no=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(no||{}),Oi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Oi||{});const ii={},nr=[],gt=Z({\u0275cmp:Z}),tt=Z({\u0275dir:Z}),Pt=Z({\u0275pipe:Z}),dn=Z({\u0275mod:Z}),wn=Z({\u0275fac:Z}),Fn=Z({__NG_ELEMENT_ID__:Z}),Nn=Z({__NG_ENV_ID__:Z});function $r(t,n,i){let a=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const f=n.length;if(d+f===a||t.charCodeAt(d+f)<=32)return d}i=d+1}}function Or(t,n,i){let a=0;for(;a<i.length;){const d=i[a];if("number"==typeof d){if(0!==d)break;a++;const f=i[a++],C=i[a++],T=i[a++];t.setAttribute(n,C,T,f)}else{const f=d,C=i[++a];Yo(f)?t.setProperty(n,f,C):t.setAttribute(n,f,C),a++}}return a}function Ni(t){return 3===t||4===t||6===t}function Yo(t){return 64===t.charCodeAt(0)}function Sr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d?i=d:0===i||Is(t,i,d,null,-1===i||2===i?n[++a]:null)}}return t}function Is(t,n,i,a,d){let f=0,C=t.length;if(-1===n)C=-1;else for(;f<t.length;){const T=t[f++];if("number"==typeof T){if(T===n){C=-1;break}if(T>n){C=f-1;break}}}for(;f<t.length;){const T=t[f];if("number"==typeof T)break;if(T===i){if(null===a)return void(null!==d&&(t[f+1]=d));if(a===t[f+1])return void(t[f+2]=d)}f++,null!==a&&f++,null!==d&&f++}-1!==C&&(t.splice(C,0,n),f=C+1),t.splice(f++,0,i),null!==a&&t.splice(f++,0,a),null!==d&&t.splice(f++,0,d)}const ki="ng-template";function Ts(t,n,i){let a=0,d=!0;for(;a<t.length;){let f=t[a++];if("string"==typeof f&&d){const C=t[a++];if(i&&"class"===f&&-1!==$r(C.toLowerCase(),n,0))return!0}else{if(1===f){for(;a<t.length&&"string"==typeof(f=t[a++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function yi(t){return 4===t.type&&t.value!==ki}function _a(t,n,i){return n===(4!==t.type||i?t.value:ki)}function Oo(t,n,i){let a=4;const d=t.attrs||[],f=function Vr(t){for(let n=0;n<t.length;n++)if(Ni(t[n]))return n;return t.length}(d);let C=!1;for(let T=0;T<n.length;T++){const P=n[T];if("number"!=typeof P){if(!C)if(4&a){if(a=2|1&a,""!==P&&!_a(t,P,i)||""===P&&1===n.length){if(xi(a))return!1;C=!0}}else{const B=8&a?P:n[++T];if(8&a&&null!==t.attrs){if(!Ts(t.attrs,B,i)){if(xi(a))return!1;C=!0}continue}const ve=zi(8&a?"class":P,d,yi(t),i);if(-1===ve){if(xi(a))return!1;C=!0;continue}if(""!==B){let We;We=ve>f?"":d[ve+1].toLowerCase();const st=8&a?We:null;if(st&&-1!==$r(st,B,0)||2&a&&B!==We){if(xi(a))return!1;C=!0}}}}else{if(!C&&!xi(a)&&!xi(P))return!1;if(C&&xi(P))continue;C=!1,a=P|1&a}}return xi(a)||C}function xi(t){return 0==(1&t)}function zi(t,n,i,a){if(null===n)return-1;let d=0;if(a||!i){let f=!1;for(;d<n.length;){const C=n[d];if(C===t)return d;if(3===C||6===C)f=!0;else{if(1===C||2===C){let T=n[++d];for(;"string"==typeof T;)T=n[++d];continue}if(4===C)break;if(0===C){d+=4;continue}}d+=f?1:2}return-1}return function Nr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function mr(t,n,i=!1){for(let a=0;a<n.length;a++)if(Oo(t,n[a],i))return!0;return!1}function uo(t,n){return t?":not("+n.trim()+")":n}function Bi(t){let n=t[0],i=1,a=2,d="",f=!1;for(;i<t.length;){let C=t[i];if("string"==typeof C)if(2&a){const T=t[++i];d+="["+C+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?d+="."+C:4&a&&(d+=" "+C);else""!==d&&!xi(C)&&(n+=uo(f,d),d=""),a=C,f=f||!xi(a);i++}return""!==d&&(n+=uo(f,d)),n}function Li(t){return ci(()=>{const n=Ii(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===no.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Oi.Emulated,styles:t.styles||nr,_:null,schemas:t.schemas||null,tView:null,id:""};li(i);const a=t.dependencies;return i.directiveDefs=Fi(a,!1),i.pipeDefs=Fi(a,!0),i.id=function qi(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function No(t){return Kn(t)||ui(t)}function oi(t){return null!==t}function Co(t){return ci(()=>({type:t.type,bootstrap:t.bootstrap||nr,declarations:t.declarations||nr,imports:t.imports||nr,exports:t.exports||nr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ws(t,n){if(null==t)return ii;const i={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),i[d]=a,n&&(n[d]=f)}return i}function lo(t){return ci(()=>{const n=Ii(t);return li(n),n})}function os(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Kn(t){return t[gt]||null}function ui(t){return t[tt]||null}function bi(t){return t[Pt]||null}function ho(t){const n=Kn(t)||ui(t)||bi(t);return null!==n&&n.standalone}function Lr(t,n){const i=t[dn]||null;if(!i&&!0===n)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return i}function Ii(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ii,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||nr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ws(t.inputs,n),outputs:ws(t.outputs)}}function li(t){t.features?.forEach(n=>n(t))}function Fi(t,n){if(!t)return null;const i=n?bi:No;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(oi)}const xr=0,en=1,Vn=2,cr=3,Ui=4,ro=5,di=6,bo=7,Ur=8,ko=9,Fo=10,Gn=11,Io=12,mi=13,Q=14,z=15,ye=16,xe=17,Ke=18,bt=19,Xt=20,fn=21,Ot=22,hn=23,rr=24,Sn=25,br=1,Kr=2,ei=7,Xi=9,er=11;function ti(t){return Array.isArray(t)&&"object"==typeof t[br]}function fr(t){return Array.isArray(t)&&!0===t[br]}function As(t){return 0!=(4&t.flags)}function Ti(t){return t.componentOffset>-1}function Ds(t){return 1==(1&t.flags)}function fo(t){return!!t.template}function va(t){return 0!=(512&t[Vn])}function Bo(t,n){return t.hasOwnProperty(wn)?t[wn]:null}let ni=null,ya=!1;function Wi(t){const n=ni;return ni=t,n}const Nc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fs(t){if(!hs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Js(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Vs(t){t.dirty=!0,function cs(t){if(void 0===t.liveConsumerNode)return;const n=ya;ya=!0;try{for(const i of t.liveConsumerNode)i.dirty||Vs(i)}finally{ya=n}}(t),t.consumerMarkedDirty?.(t)}function ir(t){return t&&(t.nextProducerIndex=0),Wi(t)}function Sa(t,n){if(Wi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(hs(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ca(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Js(t){Ls(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(Fs(i),a!==i.version))return!0}return!1}function Ka(t){if(Ls(t),hs(t))for(let n=0;n<t.producerNode.length;n++)Ca(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ca(t,n){if(function Xa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ls(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ca(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];Ls(d),d.producerIndexOfThis[a]=n}}function hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ls(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Zs=null;function Ct(t){const n=Wi(null);try{return t()}finally{Wi(n)}}const vn=()=>{},Pr=(()=>({...Nc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:vn}))();class jr{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function yr(){return _i}function _i(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pi),wr}function wr(){const t=Ho(this),n=t?.current;if(n){const i=t.previous;if(i===ii)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Pi(t,n,i,a){const d=this.declaredInputs[i],f=Ho(t)||function js(t,n){return t[wo]=n}(t,{previous:ii,current:null}),C=f.current||(f.current={}),T=f.previous,P=T[d];C[d]=new jr(P&&P.currentValue,n,T===ii),t[a]=n}yr.ngInherit=!0;const wo="__ngSimpleChanges__";function Ho(t){return t[wo]||null}const Yn=function(t,n,i){};function Wr(t){for(;Array.isArray(t);)t=t[xr];return t}function Ss(t,n){return Wr(n[t])}function Qi(t,n){return Wr(n[t.index])}function Qa(t,n){return t.data[n]}function ps(t,n){return t[n]}function Ci(t,n){const i=n[t];return ti(i)?i:i[xr]}function Ji(t,n){return null==n?null:t[n]}function Zi(t){t[xe]=0}function Fc(t){1024&t[Vn]||(t[Vn]|=1024,Vl(t,1))}function Eu(t){1024&t[Vn]&&(t[Vn]&=-1025,Vl(t,-1))}function Vl(t,n){let i=t[cr];if(null===i)return;i[ro]+=n;let a=i;for(i=i[cr];null!==i&&(1===n&&1===a[ro]||-1===n&&0===a[ro]);)i[ro]+=n,a=i,i=i[cr]}const Qn={lFrame:ne(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eo(){return Qn.bindingsEnabled}function $t(){return Qn.lFrame.lView}function St(){return Qn.lFrame.tView}function Lc(t){return Qn.lFrame.contextLView=t,t[Ur]}function Oa(t){return Qn.lFrame.contextLView=null,t}function Ao(){let t=Di();for(;null!==t&&64===t.type;)t=t.parent;return t}function Di(){return Qn.lFrame.currentTNode}function Zo(t,n){const i=Qn.lFrame;i.currentTNode=t,i.isParent=n}function Wo(){return Qn.lFrame.isParent}function Na(){Qn.lFrame.isParent=!1}function es(){const t=Qn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ea(){return Qn.lFrame.bindingIndex++}function _s(t){const n=Qn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function tc(t,n){const i=Qn.lFrame;i.bindingIndex=i.bindingRootIndex=t,$l(n)}function $l(t){Qn.lFrame.currentDirectiveIndex=t}function ta(){return Qn.lFrame.currentQueryIndex}function w(t){Qn.lFrame.currentQueryIndex=t}function R(t){const n=t[en];return 2===n.type?n.declTNode:1===n.type?t[di]:null}function I(t,n,i){if(i&gn.SkipSelf){let d=n,f=t;for(;!(d=d.parent,null!==d||i&gn.Host||(d=R(f),null===d||(f=f[Q],10&d.type))););if(null===d)return!1;n=d,t=f}const a=Qn.lFrame=j();return a.currentTNode=n,a.lView=t,!0}function M(t){const n=j(),i=t[en];Qn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function j(){const t=Qn.lFrame,n=null===t?null:t.child;return null===n?ne(t):n}function ne(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ce(){const t=Qn.lFrame;return Qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _t=Ce;function ft(){const t=Ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ir(){return Qn.lFrame.selectedIndex}function Ar(t){Qn.lFrame.selectedIndex=t}function ri(){const t=Qn.lFrame;return Qa(t.tView,t.selectedIndex)}let ka=!0;function wu(){return ka}function ic(t){ka=t}function Hl(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const f=t.data[i].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:T,ngAfterViewInit:P,ngAfterViewChecked:B,ngOnDestroy:te}=f;C&&(t.contentHooks??=[]).push(-i,C),T&&((t.contentHooks??=[]).push(i,T),(t.contentCheckHooks??=[]).push(i,T)),P&&(t.viewHooks??=[]).push(-i,P),B&&((t.viewHooks??=[]).push(i,B),(t.viewCheckHooks??=[]).push(i,B)),null!=te&&(t.destroyHooks??=[]).push(i,te)}}function xs(t,n,i){Au(t,n,3,i)}function ys(t,n,i,a){(3&t[Vn])===i&&Au(t,n,i,a)}function ts(t,n){let i=t[Vn];(3&i)===n&&(i&=8191,i+=1,t[Vn]=i)}function Au(t,n,i,a){const f=a??-1,C=n.length-1;let T=0;for(let P=void 0!==a?65535&t[xe]:0;P<C;P++)if("number"==typeof n[P+1]){if(T=n[P],null!=a&&T>=a)break}else n[P]<0&&(t[xe]+=65536),(T<f||-1==f)&&(jc(t,i,n,P),t[xe]=(4294901760&t[xe])+P+2),P++}function el(t,n){Yn(4,t,n);const i=Wi(null);try{n.call(t)}finally{Wi(i),Yn(5,t,n)}}function jc(t,n,i,a){const d=i[a]<0,f=i[a+1],T=t[d?-i[a]:i[a]];d?t[Vn]>>13<t[xe]>>16&&(3&t[Vn])===n&&(t[Vn]+=8192,el(T,f)):el(T,f)}const oc=-1;class Bc{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function Hc(t){return t!==oc}function nl(t){return 32767&t}function Bs(t,n){let i=function nf(t){return t>>16}(t),a=n;for(;i>0;)a=a[Q],i--;return a}let sc=!0;function fa(t){const n=sc;return sc=t,n}const rl=255,Vo=5;let rf=0;const ns={};function il(t,n){const i=Fa(t,n);if(-1!==i)return i;const a=n[en];a.firstCreatePass&&(t.injectorIndex=n.length,ls(a.data,t),ls(n,null),ls(a.blueprint,null));const d=Du(t,n),f=t.injectorIndex;if(Hc(d)){const C=nl(d),T=Bs(d,n),P=T[en].data;for(let B=0;B<8;B++)n[f+B]=T[C+B]|P[C+B]}return n[f+8]=d,f}function ls(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Fa(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Du(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,d=n;for(;null!==d;){if(a=qc(d),null===a)return oc;if(i++,d=d[Q],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return oc}function $s(t,n,i){!function Wl(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Fn)&&(a=i[Fn]),null==a&&(a=i[Fn]=rf++);const d=a&rl;n.data[t+(d>>Vo)]|=1<<d}(t,n,i)}function ac(t,n,i){if(i&gn.Optional||void 0!==t)return t;Jt()}function Kl(t,n,i,a){if(i&gn.Optional&&void 0===a&&(a=null),!(i&(gn.Self|gn.Host))){const d=t[ko],f=hr(void 0);try{return d?d.get(n,a,i&gn.Optional):Er(n,a,i&gn.Optional)}finally{hr(f)}}return ac(a,0,i)}function Va(t,n,i,a=gn.Default,d){if(null!==t){if(2048&n[Vn]&&!(a&gn.Self)){const C=function Kc(t,n,i,a,d){let f=t,C=n;for(;null!==f&&null!==C&&2048&C[Vn]&&!(512&C[Vn]);){const T=Xd(f,C,i,a|gn.Self,ns);if(T!==ns)return T;let P=f.parent;if(!P){const B=C[Xt];if(B){const te=B.get(i,ns,a);if(te!==ns)return te}P=qc(C),C=C[Q]}f=P}return d}(t,n,i,a,ns);if(C!==ns)return C}const f=Xd(t,n,i,a,ns);if(f!==ns)return f}return Kl(n,i,a,d)}function Xd(t,n,i,a,d){const f=function zc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Fn)?t[Fn]:void 0;return"number"==typeof n?n>=0?n&rl:Qd:n}(i);if("function"==typeof f){if(!I(n,t,a))return a&gn.Host?ac(d,0,a):Kl(n,i,a,d);try{let C;if(C=f(a),null!=C||a&gn.Optional)return C;Jt()}finally{_t()}}else if("number"==typeof f){let C=null,T=Fa(t,n),P=oc,B=a&gn.Host?n[z][di]:null;for((-1===T||a&gn.SkipSelf)&&(P=-1===T?Du(t,n):n[T+8],P!==oc&&ol(a,!1)?(C=n[en],T=nl(P),n=Bs(P,n)):T=-1);-1!==T;){const te=n[en];if(af(f,T,te.data)){const ve=Yd(T,n,i,C,a,B);if(ve!==ns)return ve}P=n[T+8],P!==oc&&ol(a,n[en].data[T+8]===B)&&af(f,T,n)?(C=te,T=nl(P),n=Bs(P,n)):T=-1}}return d}function Yd(t,n,i,a,d,f){const C=n[en],T=C.data[t+8],te=Gc(T,C,i,null==a?Ti(T)&&sc:a!=C&&0!=(3&T.type),d&gn.Host&&f===T);return null!==te?ra(n,C,te,T):ns}function Gc(t,n,i,a,d){const f=t.providerIndexes,C=n.data,T=1048575&f,P=t.directiveStart,te=f>>20,We=d?T+te:t.directiveEnd;for(let st=a?T:T+te;st<We;st++){const Ft=C[st];if(st<P&&i===Ft||st>=P&&Ft.type===i)return st}if(d){const st=C[P];if(st&&fo(st)&&st.type===i)return P}return null}function ra(t,n,i,a){let d=t[i];const f=n.data;if(function tl(t){return t instanceof Bc}(d)){const C=d;C.resolving&&function At(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${t}${i}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(f[i]));const T=fa(C.canSeeViewProviders);C.resolving=!0;const B=C.injectImpl?hr(C.injectImpl):null;I(t,a,gn.Default);try{d=t[i]=C.factory(void 0,f,t,a),n.firstCreatePass&&i>=a.directiveStart&&function Kd(t,n,i){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:f}=n.type.prototype;if(a){const C=_i(n);(i.preOrderHooks??=[]).push(t,C),(i.preOrderCheckHooks??=[]).push(t,C)}d&&(i.preOrderHooks??=[]).push(0-t,d),f&&((i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f))}(i,f[i],n)}finally{null!==B&&hr(B),fa(T),C.resolving=!1,_t()}}return d}function af(t,n,i){return!!(i[n+(t>>Vo)]&1<<t)}function ol(t,n){return!(t&gn.Self||t&gn.Host&&n)}class Ko{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return Va(this._tNode,this._lView,n,Xe(a),i)}}function Qd(){return new Ko(Ao(),$t())}function Wc(t){return ci(()=>{const n=t.prototype.constructor,i=n[wn]||Ia(n),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const f=d[wn]||Ia(d);if(f&&f!==i)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Ia(t){return jt(t)?()=>{const n=Ia(It(t));return n&&n()}:Bo(t)}function qc(t){const n=t[en],i=n.type;return 2===i?n.declTNode:1===i?t[di]:null}function Su(t){return function sf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let d=0;for(;d<a;){const f=i[d];if(Ni(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<a&&"string"==typeof i[d];)d++;else{if(f===n)return i[d+1];d+=2}}}return null}(Ao(),t)}const Ps="__parameters__";function so(t,n,i){return ci(()=>{const a=function lc(t){return function(...i){if(t){const a=t(...i);for(const d in a)this[d]=a[d]}}}(n);function d(...f){if(this instanceof d)return a.apply(this,f),this;const C=new d(...f);return T.annotation=C,T;function T(P,B,te){const ve=P.hasOwnProperty(Ps)?P[Ps]:Object.defineProperty(P,Ps,{value:[]})[Ps];for(;ve.length<=te;)ve.push(null);return(ve[te]=ve[te]||[]).push(C),P}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function hc(t,n){t.forEach(i=>Array.isArray(i)?hc(i,n):n(i))}function Ru(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Xl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Hs(t,n,i){let a=Ou(t,n);return a>=0?t[1|a]=i:(a=~a,function hf(t,n,i,a){let d=t.length;if(d==n)t.push(i,a);else if(1===d)t.push(a,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function Yl(t,n){const i=Ou(t,n);if(i>=0)return t[1|i]}function Ou(t,n){return function La(t,n,i){let a=0,d=t.length>>i;for(;d!==a;){const f=a+(d-a>>1),C=t[f<<i];if(n===C)return f<<i;C>n?d=f:a=f+1}return~(d<<i)}(t,n,1)}const pc=En(so("Optional"),8),gc=En(so("SkipSelf"),4);function sd(t){return 128==(128&t.flags)}var ll=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ll||{});const Pp=/^>|^->|<!--|-->|--!>|<!-$/g,dl=/(<|>)/g,Rp="\u200b$1\u200b";const Op=new Map;let jg=0;const dh="__ngContext__";function mo(t,n){ti(n)?(t[dh]=n[bt],function $g(t){Op.set(t[bt],t)}(n)):t[dh]=n}let Vp;function fh(t,n){return Vp(t,n)}function fl(t){const n=t[cr];return fr(n)?n[cr]:n}function Lp(t){return Lu(t[Io])}function gh(t){return Lu(t[Ui])}function Lu(t){for(;null!==t&&!fr(t);)t=t[Ui];return t}function iu(t,n,i,a,d){if(null!=a){let f,C=!1;fr(a)?f=a:ti(a)&&(C=!0,a=a[xr]);const T=Wr(a);0===t&&null!==i?null==d?Yg(n,i,T):ou(n,i,T,d||null,!0):1===t&&null!==i?ou(n,i,T,d||null,!0):2===t?function Eh(t,n,i){const a=$p(t,n);a&&function Bp(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,T,C):3===t&&n.destroyNode(T),null!=f&&function Kp(t,n,i,a,d){const f=i[ei];f!==Wr(i)&&iu(n,t,a,f,d);for(let T=er;T<i.length;T++){const P=i[T];ml(P[en],P,t,n,a,f)}}(n,t,f,i,d)}}function vf(t,n){return t.createComment(function Mp(t){return t.replace(Pp,n=>n.replace(dl,Rp))}(n))}function yf(t,n,i){return t.createElement(n,i)}function Xg(t,n){const i=t[Xi],a=i.indexOf(n);Eu(n),i.splice(a,1)}function Ef(t,n){if(t.length<=er)return;const i=er+n,a=t[i];if(a){const d=a[ye];null!==d&&d!==t&&Xg(d,a),n>0&&(t[i-1][Ui]=a[Ui]);const f=Xl(t,er+n);!function zg(t,n){ml(t,n,n[Gn],2,null,null),n[xr]=null,n[di]=null}(a[en],a);const C=f[Ke];null!==C&&C.detachView(f[en]),a[cr]=null,a[Ui]=null,a[Vn]&=-129}return a}function mh(t,n){if(!(256&n[Vn])){const i=n[Gn];n[hn]&&Ka(n[hn]),n[rr]&&Ka(n[rr]),i.destroyNode&&ml(t,n,i,3,null,null),function qg(t){let n=t[Io];if(!n)return Up(t[en],t);for(;n;){let i=null;if(ti(n))i=n[Io];else{const a=n[er];a&&(i=a)}if(!i){for(;n&&!n[Ui]&&n!==t;)ti(n)&&Up(n[en],n),n=n[cr];null===n&&(n=t),ti(n)&&Up(n[en],n),i=n&&n[Ui]}n=i}}(n)}}function Up(t,n){if(!(256&n[Vn])){n[Vn]&=-129,n[Vn]|=256,function pl(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const d=n[i[a]];if(!(d instanceof Bc)){const f=i[a+1];if(Array.isArray(f))for(let C=0;C<f.length;C+=2){const T=d[f[C]],P=f[C+1];Yn(4,T,P);try{P.call(T)}finally{Yn(5,T,P)}}else{Yn(4,d,f);try{f.call(d)}finally{Yn(5,d,f)}}}}}(t,n),function jp(t,n){const i=t.cleanup,a=n[bo];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const C=i[f+3];C>=0?a[C]():a[-C].unsubscribe(),f+=2}else i[f].call(a[i[f+1]]);null!==a&&(n[bo]=null);const d=n[fn];if(null!==d){n[fn]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(t,n),1===n[en].type&&n[Gn].destroy();const i=n[ye];if(null!==i&&fr(n[cr])){i!==n[cr]&&Xg(i,n);const a=n[Ke];null!==a&&a.detachView(t)}!function t_(t){Op.delete(t[bt])}(n)}}function _h(t,n,i){return function Cf(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[xr];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:f}=t.data[a.directiveStart+d];if(f===Oi.None||f===Oi.Emulated)return null}return Qi(a,i)}}(t,n.parent,i)}function ou(t,n,i,a,d){t.insertBefore(n,i,a,d)}function Yg(t,n,i){t.appendChild(n,i)}function bf(t,n,i,a,d){null!==a?ou(t,n,i,a,d):Yg(t,n,i)}function $p(t,n){return t.parentNode(n)}let Gp,bc,Qp,md,Tf=function If(t,n,i){return 40&t.type?Qi(t,i):null};function su(t,n,i,a){const d=_h(t,a,n),f=n[Gn],T=function Hp(t,n,i){return Tf(t,n,i)}(a.parent||n[di],a,n);if(null!=d)if(Array.isArray(i))for(let P=0;P<i.length;P++)bf(f,d,i[P],T,!1);else bf(f,d,i,T,!1);void 0!==Gp&&Gp(f,a,n,i,d)}function gl(t,n){if(null!==n){const i=n.type;if(3&i)return Qi(n,t);if(4&i)return yh(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return gl(t,a);{const d=t[n.index];return fr(d)?yh(-1,d):Wr(d)}}if(32&i)return fh(n,t)()||Wr(t[n.index]);{const a=Af(t,n);return null!==a?Array.isArray(a)?a[0]:gl(fl(t[z]),a):gl(t,n.next)}}return null}function Af(t,n){return null!==n?t[z][di].projection[n.projection]:null}function yh(t,n){const i=er+t+1;if(i<n.length){const a=n[i],d=a[en].firstChild;if(null!==d)return gl(a,d)}return n[ei]}function Df(t,n,i,a,d,f,C){for(;null!=i;){const T=a[i.index],P=i.type;if(C&&0===n&&(T&&mo(Wr(T),a),i.flags|=2),32!=(32&i.flags))if(8&P)Df(t,n,i.child,a,d,f,!1),iu(n,t,d,T,f);else if(32&P){const B=fh(i,a);let te;for(;te=B();)iu(n,t,d,te,f);iu(n,t,d,T,f)}else 16&P?Wp(t,n,a,i,d,f):iu(n,t,d,T,f);i=C?i.projectionNext:i.next}}function ml(t,n,i,a,d,f){Df(i,a,t.firstChild,n,d,f,!1)}function Wp(t,n,i,a,d,f){const C=i[z],P=C[di].projection[a.projection];if(Array.isArray(P))for(let B=0;B<P.length;B++)iu(n,t,d,P[B],f);else{let B=P;const te=C[cr];sd(a)&&(B.flags|=128),Df(t,n,B,te,d,f,!0)}}function Cc(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function qp(t,n,i){const{mergedAttrs:a,classes:d,styles:f}=i;null!==a&&Or(t,n,a),null!==d&&Cc(t,n,d),null!==f&&function pd(t,n,i){t.setAttribute(n,"style",i)}(t,n,f)}function gd(t){return function Ch(){if(void 0===bc&&(bc=null,jn.trustedTypes))try{bc=jn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bc}()?.createHTML(t)||t}function Jp(t){Qp=t}function _l(){if(void 0!==Qp)return Qp;if(typeof document<"u")return document;throw new Ge(210,!1)}function bh(){if(void 0===md&&(md=null,jn.trustedTypes))try{md=jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return md}function _d(t){return bh()?.createHTML(t)||t}function Uu(t){return bh()?.createScriptURL(t)||t}class ju{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${et})`}}class Ih extends ju{getTypeName(){return"HTML"}}class c_ extends ju{getTypeName(){return"Style"}}class xf extends ju{getTypeName(){return"Script"}}class Pf extends ju{getTypeName(){return"URL"}}class Th extends ju{getTypeName(){return"ResourceURL"}}function au(t){return t instanceof ju?t.changingThisBreaksApplicationSecurity:t}function Ua(t,n){const i=function u_(t){return t instanceof ju&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${et})`)}return i===n}function Rf(t){return new Ih(t)}function Mf(t){return new c_(t)}function vd(t){return new xf(t)}function vl(t){return new Pf(t)}function Of(t){return new Th(t)}class Bu{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(gd(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class d_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=gd(n),i}}const Nf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yd(t){return(t=String(t)).match(Nf)?t:"unsafe:"+t}function ja(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function yl(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Zp=ja("area,br,col,hr,img,wbr"),kf=ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ff=ja("rp,rt"),$u=yl(Zp,yl(kf,ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yl(Ff,ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yl(Ff,kf)),Uf=ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),El=yl(Uf,ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dh=ja("script,style,template");class f_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!$u.hasOwnProperty(i))return this.sanitizedSomething=!0,!Dh.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let d=0;d<a.length;d++){const f=a.item(d),C=f.name,T=C.toLowerCase();if(!El.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let P=f.value;Uf[T]&&(P=yd(P)),this.buf.push(" ",C,'="',eg(P),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();$u.hasOwnProperty(i)&&!Zp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(eg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const p_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g_=/([^\#-~ |!])/g;function eg(t){return t.replace(/&/g,"&amp;").replace(p_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(g_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jf;function tg(t,n){let i=null;try{jf=jf||function l_(t){const n=new d_(t);return function h_(){try{return!!(new window.DOMParser).parseFromString(gd(""),"text/html")}catch{return!1}}()?new Bu(n):n}(t);let a=n?String(n):"";i=jf.getInertBodyElement(a);let d=5,f=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=f,f=i.innerHTML,i=jf.getInertBodyElement(a)}while(a!==f);return gd((new f_).sanitizeChildren(ng(i)||i))}finally{if(i){const a=ng(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function ng(t){return"content"in t&&function m_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cl||{});function Jg(t){const n=Rr();return n?_d(n.sanitize(Cl.HTML,t)||""):Ua(t,"HTML")?_d(au(t)):tg(_l(),Ze(t))}function rg(t){const n=Rr();return n?n.sanitize(Cl.URL,t)||"":Ua(t,"URL")?au(t):yd(Ze(t))}function Zg(t){const n=Rr();if(n)return Uu(n.sanitize(Cl.RESOURCE_URL,t)||"");if(Ua(t,"ResourceURL"))return Uu(au(t));throw new Ge(904,!1)}function og(t,n,i){return function nm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Zg:rg}(n,i)(t)}function Rr(){const t=$t();return t&&t[Fo].sanitizer}const Ed=new an("ENVIRONMENT_INITIALIZER"),ag=new an("INJECTOR",-1),Cd=new an("INJECTOR_DEF_TYPES");class Bf{get(n,i=xn){if(i===xn){const a=new Error(`NullInjectorError: No provider for ${me(n)}!`);throw a.name="NullInjectorError",a}return i}}function rs(t){return{\u0275providers:t}}function Po(...t){return{\u0275providers:Ba(0,t),\u0275fromNgModule:!0}}function Ba(t,...n){const i=[],a=new Set;let d;const f=C=>{i.push(C)};return hc(n,C=>{const T=C;Sh(T,f,[],a)&&(d||=[],d.push(T))}),void 0!==d&&rm(d,f),i}function rm(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:d}=t[i];$f(d,f=>{n(f,a)})}}function Sh(t,n,i,a){if(!(t=It(t)))return!1;let d=null,f=Fr(t);const C=!f&&Kn(t);if(f||C){if(C&&!C.standalone)return!1;d=t}else{const P=t.ngModule;if(f=Fr(P),!f)return!1;d=P}const T=a.has(d);if(C){if(T)return!1;if(a.add(d),C.dependencies){const P="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const B of P)Sh(B,n,i,a)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let B;a.add(d);try{hc(f.imports,te=>{Sh(te,n,i,a)&&(B||=[],B.push(te))})}finally{}void 0!==B&&rm(B,n)}if(!T){const B=Bo(d)||(()=>new d);n({provide:d,useFactory:B,deps:nr},d),n({provide:Cd,useValue:d,multi:!0},d),n({provide:Ed,useValue:()=>qe(d),multi:!0},d)}const P=f.providers;if(null!=P&&!T){const B=t;$f(P,te=>{n(te,B)})}}}return d!==t&&void 0!==t.providers}function $f(t,n){for(let i of t)Nt(i)&&(i=i.\u0275providers),Array.isArray(i)?$f(i,n):n(i)}const cg=Z({provide:String,useValue:Z});function ug(t){return null!==t&&"object"==typeof t&&cg in t}function bl(t){return"function"==typeof t}const om=new an("Set Injector scope."),bd={},_o={};let Il;function Ic(){return void 0===Il&&(Il=new Bf),Il}class pa{}class Tc extends pa{get destroyed(){return this._destroyed}constructor(n,i,a,d){super(),this.parent=i,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wl(n,C=>this.processProvider(C)),this.records.set(ag,Tl(void 0,this)),d.has("environment")&&this.records.set(pa,Tl(void 0,this));const f=this.records.get(om);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Cd.multi,nr,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Le(this),a=hr(void 0);try{return n()}finally{Le(i),hr(a)}}get(n,i=xn,a=gn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Nn))return n[Nn](this);a=Xe(a);const f=Le(this),C=hr(void 0);try{if(!(a&gn.SkipSelf)){let P=this.records.get(n);if(void 0===P){const B=function am(t){return"function"==typeof t||"object"==typeof t&&t instanceof an}(n)&&In(n);P=B&&this.injectableDefInScope(B)?Tl(Id(n),bd):null,this.records.set(n,P)}if(null!=P)return this.hydrate(n,P)}return(a&gn.Self?Ic():this.parent).get(n,i=a&gn.Optional&&i===xn?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[sr]=T[sr]||[]).unshift(me(n)),f)throw T;return function Cr(t,n,i,a){const d=t[sr];throw n[V]&&d.unshift(n[V]),t.message=function Xo(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=me(n);if(Array.isArray(n))d=n.map(me).join(" -> ");else if("object"==typeof n){let f=[];for(let C in n)if(n.hasOwnProperty(C)){let T=n[C];f.push(C+":"+("string"==typeof T?JSON.stringify(T):me(T)))}d=`{${f.join(", ")}}`}return`${i}${a?"("+a+")":""}[${d}]: ${t.replace(ee,"\n  ")}`}("\n"+t.message,d,i,a),t.ngTokenPath=d,t[sr]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{hr(C),Le(f)}}resolveInjectorInitializers(){const n=Le(this),i=hr(void 0);try{const d=this.get(Ed.multi,nr,gn.Self);for(const f of d)f()}finally{Le(n),hr(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(me(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(n){let i=bl(n=It(n))?n:It(n&&n.provide);const a=function E_(t){return ug(t)?Tl(void 0,t.useValue):Tl(sm(t),bd)}(n);if(bl(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=Tl(void 0,bd,!0),d.factory=()=>Rn(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===bd&&(i.value=_o,i.value=i.factory()),"object"==typeof i.value&&i.value&&function b_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=It(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Id(t){const n=In(t),i=null!==n?n.factory:Bo(t);if(null!==i)return i;if(t instanceof an)throw new Ge(204,!1);if(t instanceof Function)return function Gf(t){const n=t.length;if(n>0)throw function Mu(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}(n,"?"),new Ge(204,!1);const i=function Lt(t){return t&&(t[ln]||t[Hn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ge(204,!1)}function sm(t,n,i){let a;if(bl(t)){const d=It(t);return Bo(d)||Id(d)}if(ug(t))a=()=>It(t.useValue);else if(function im(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Rn(t.deps||[]));else if(function Hf(t){return!(!t||!t.useExisting)}(t))a=()=>qe(It(t.useExisting));else{const d=It(t&&(t.useClass||t.provide));if(!function C_(t){return!!t.deps}(t))return Bo(d)||Id(d);a=()=>new d(...Rn(t.deps))}return a}function Tl(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function wl(t,n){for(const i of t)Array.isArray(i)?wl(i,n):i&&Nt(i)?wl(i.\u0275providers,n):n(i)}const cm=new an("AppId",{providedIn:"root",factory:()=>Hu}),Hu="ng",cu=new an("Platform Initializer"),um=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),I_=new an("CSP nonce",{providedIn:"root",factory:()=>_l().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Nh=(t,n,i)=>null;function kh(t,n,i=!1){return Nh(t,n,i)}class pv{}class gv{}class mv{resolveComponentFactory(n){throw function gm(t){const n=Error(`No component factory found for ${me(t)}.`);return n.ngComponent=t,n}(n)}}let hg=(()=>{class t{static#e=this.NULL=new mv}return t})();function fg(){return Lh(Ao(),$t())}function Lh(t,n){return new Yf(Qi(t,n))}let Yf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=fg}return t})();function pg(t){return t instanceof Yf?t.nativeElement:t}class D_{}let _v=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function S_(){const t=$t(),i=Ci(Ao().index,t);return(ti(i)?i:t)[Gn]}()}return t})(),x_=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>null})}return t})();class _m{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const vm=new _m("16.2.12"),gg={};function Dl(t,n=null,i=null,a){const d=O_(t,n,i,a);return d.resolveInjectorInitializers(),d}function O_(t,n=null,i=null,a,d=new Set){const f=[i||nr,Po(t)];return a=a||("object"==typeof t?void 0:me(t)),new Tc(f,n||Ic(),a||null,d)}let Ac=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=xn;static#t=this.NULL=new Bf;static create(i,a){if(Array.isArray(i))return Dl({name:""},a,i,"");{const d=i.name??"";return Dl({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=Cn({token:t,providedIn:"any",factory:()=>qe(ag)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ym(t){return t.ngOriginalError}class Sl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ym(n);for(;i&&ym(i);)i=ym(i);return i||null}}function Em(t){return n=>{setTimeout(t,void 0,n)}}const lu=class Cv extends c.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let d=n,f=i||(()=>null),C=a;if(n&&"object"==typeof n){const P=n;d=P.next?.bind(P),f=P.error?.bind(P),C=P.complete?.bind(P)}this.__isAsync&&(f=Em(f),d&&(d=Em(d)),C&&(C=Em(C)));const T=super.subscribe({next:d,error:f,complete:C});return n instanceof ae.yU&&n.add(T),T}};function k_(...t){}class Ro{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lu(!1),this.onMicrotaskEmpty=new lu(!1),this.onStable=new lu(!1),this.onError=new lu(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&i,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function bv(){const t="function"==typeof jn.requestAnimationFrame;let n=jn[t?"requestAnimationFrame":"setTimeout"],i=jn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Tv(t){const n=()=>{!function Iv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bm(t),t.isCheckStableRunning=!0,F_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,d,f,C,T)=>{if(function Iy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(T))return i.invokeTask(d,f,C,T);try{return V_(t),i.invokeTask(d,f,C,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),L_(t)}},onInvoke:(i,a,d,f,C,T,P)=>{try{return V_(t),i.invoke(d,f,C,T,P)}finally{t.shouldCoalesceRunChangeDetection&&n(),L_(t)}},onHasTask:(i,a,d,f)=>{i.hasTask(d,f),a===d&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,bm(t),F_(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,a,d,f)=>(i.handleError(d,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ro.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(Ro.isInAngularZone())throw new Ge(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,d){const f=this._inner,C=f.scheduleEventTask("NgZoneEvent: "+d,n,Cm,k_,k_);try{return f.runTask(C,i,a)}finally{f.cancelTask(C)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const Cm={};function F_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function V_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function L_(t){t._nesting--,F_(t)}class by{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lu,this.onMicrotaskEmpty=new lu,this.onStable=new lu,this.onError=new lu}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,d){return n.apply(i,a)}}const wv=new an("",{providedIn:"root",factory:Av});function Av(){const t=ot(Ro);let n=!0;const i=new o.c(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),a=new o.c(d=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{Ro.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Ro.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),C.unsubscribe()}});return(0,we.h)(i,a.pipe((0,ke.u)()))}function du(t){return t instanceof Function?t():t}let vg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t})}return t})();function jh(t){for(;t;){t[Vn]|=64;const n=fl(t);if(va(t)&&!n)return t;t=n}return null}const Sv=new an("",{providedIn:"root",factory:()=>!1});let Bh=null;function Zf(t,n){return t[n]??s()}function u(t,n){const i=s();i.producerNode?.length&&(t[n]=Bh,i.lView=t,Bh=r())}const e={...Nc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jh(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Bh??=r(),Bh}const l={};function m(t){y(St(),$t(),Ir()+t,!1)}function y(t,n,i,a){if(!a)if(3==(3&n[Vn])){const f=t.preOrderCheckHooks;null!==f&&xs(n,f,i)}else{const f=t.preOrderHooks;null!==f&&ys(n,f,0,i)}Ar(i)}function D(t,n=gn.Default){const i=$t();return null===i?qe(t,n):Va(Ao(),i,It(t),n)}function N(){throw new Error("invalid")}function re(t,n,i,a,d,f,C,T,P,B,te){const ve=n.blueprint.slice();return ve[xr]=d,ve[Vn]=140|a,(null!==B||t&&2048&t[Vn])&&(ve[Vn]|=2048),Zi(ve),ve[cr]=ve[Q]=t,ve[Ur]=i,ve[Fo]=C||t&&t[Fo],ve[Gn]=T||t&&t[Gn],ve[ko]=P||t&&t[ko]||null,ve[di]=f,ve[bt]=function Bg(){return jg++}(),ve[Ot]=te,ve[Xt]=B,ve[z]=2==n.type?t[z]:ve,ve}function ge(t,n,i,a,d){let f=t.data[n];if(null===f)f=function Ve(t,n,i,a,d){const f=Di(),C=Wo(),P=t.data[n]=function ct(t,n,i,a,d,f){let C=n?n.injectorIndex:-1,T=0;return function Ra(){return null!==Qn.skipHydrationRootTNode}()&&(T|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?f:f&&f.parent,i,n,a,d);return null===t.firstChild&&(t.firstChild=P),null!==f&&(C?null==f.child&&null!==P.parent&&(f.child=P):null===f.next&&(f.next=P,P.prev=f)),P}(t,n,i,a,d),function Wd(){return Qn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=a,f.attrs=d;const C=function la(){const t=Qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===C?-1:C.injectorIndex}return Zo(f,!0),f}function ht(t,n,i,a){if(0===i)return-1;const d=n.length;for(let f=0;f<i;f++)n.push(a),t.blueprint.push(a),t.data.push(null);return d}function Ht(t,n,i,a,d){const f=Zf(n,hn),C=Ir(),T=2&a;try{Ar(-1),T&&n.length>Sn&&y(t,n,Sn,!1),Yn(T?2:0,d);const B=T?f:null,te=ir(B);try{null!==B&&(B.dirty=!1),i(a,d)}finally{Sa(B,te)}}finally{T&&null===n[hn]&&u(n,hn),Ar(C),Yn(T?3:1,d)}}function on(t,n,i){if(As(n)){const a=Wi(null);try{const f=n.directiveEnd;for(let C=n.directiveStart;C<f;C++){const T=t.data[C];T.contentQueries&&T.contentQueries(1,i[C],C)}}finally{Wi(a)}}}function Yt(t,n,i){eo()&&(function kv(t,n,i,a){const d=i.directiveStart,f=i.directiveEnd;Ti(i)&&function Dm(t,n,i){const a=Qi(n,t),d=qn(i);let C=16;i.signals?C=4096:i.onPush&&(C=64);const T=Hh(t,re(t,d,null,C,a,n,null,t[Fo].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=T}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||il(i,n),mo(a,n);const C=i.initialInputs;for(let T=d;T<f;T++){const P=t.data[T],B=ra(n,t,T,i);mo(B,n),null!==C&&z_(0,T-d,B,P,0,C),fo(P)&&(Ci(i.index,n)[Ur]=ra(n,t,T,i))}}(t,n,i,Qi(i,n)),64==(64&i.flags)&&$h(t,n,i))}function kn(t,n,i=Qi){const a=n.localNames;if(null!==a){let d=n.index+1;for(let f=0;f<a.length;f+=2){const C=a[f+1],T=-1===C?i(n,t):t[C];t[d++]=T}}}function qn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ln(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ln(t,n,i,a,d,f,C,T,P,B,te){const ve=Sn+a,We=ve+d,st=function Dr(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:l);return i}(ve,We),Ft="function"==typeof B?B():B;return st[en]={type:t,blueprint:st,template:i,queries:null,viewQuery:T,declTNode:n,data:st.slice().fill(null,ve),bindingStartIndex:ve,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:P,consts:Ft,incompleteFirstPass:!1,ssrId:te}}let nt=t=>null;function Et(t,n,i,a){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const f=t[d];null===a?Be(i,n,d,f):a.hasOwnProperty(d)&&Be(i,n,a[d],f)}return i}function Be(t,n,i,a){t.hasOwnProperty(i)?t[i].push(n,a):t[i]=[n,a]}function wa(t,n,i,a,d,f,C,T){const P=Qi(n,i);let te,B=n.inputs;!T&&null!=B&&(te=B[a])?(Cs(t,i,te,a,d),Ti(n)&&function tp(t,n){const i=Ci(n,t);16&i[Vn]||(i[Vn]|=64)}(i,n.index)):3&n.type&&(a=function ep(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=C?C(d,n.value||"",a):d,f.setProperty(P,a,d))}function yg(t,n,i,a){if(eo()){const d=null===a?null:{"":-1},f=function rp(t,n){const i=t.directiveRegistry;let a=null,d=null;if(i)for(let f=0;f<i.length;f++){const C=i[f];if(mr(n,C.selectors,!1))if(a||(a=[]),fo(C))if(null!==C.findHostDirectiveDefs){const T=[];d=d||new Map,C.findHostDirectiveDefs(C,T,d),a.unshift(...T,C),wm(t,n,T.length)}else a.unshift(C),wm(t,n,0);else d=d||new Map,C.findHostDirectiveDefs?.(C,a,d),a.push(C)}return null===a?null:[a,d]}(t,i);let C,T;null===f?C=T=null:[C,T]=f,null!==C&&G_(t,n,i,C,d,T),d&&function Vv(t,n,i){if(n){const a=t.localNames=[];for(let d=0;d<n.length;d+=2){const f=i[n[d+1]];if(null==f)throw new Ge(-301,!1);a.push(n[d],f)}}}(i,a,d)}i.mergedAttrs=Sr(i.mergedAttrs,i.attrs)}function G_(t,n,i,a,d,f){for(let B=0;B<a.length;B++)$s(il(i,n),t,a[B].type);!function Cg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let B=0;B<a.length;B++){const te=a[B];te.providersResolver&&te.providersResolver(te)}let C=!1,T=!1,P=ht(t,n,a.length,null);for(let B=0;B<a.length;B++){const te=a[B];i.mergedAttrs=Sr(i.mergedAttrs,te.hostAttrs),Am(t,i,n,P,te),Eg(P,te,d),null!==te.contentQueries&&(i.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(i.flags|=64);const ve=te.type.prototype;!C&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),C=!0),!T&&(ve.ngOnChanges||ve.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),T=!0),P++}!function Ku(t,n,i){const d=n.directiveEnd,f=t.data,C=n.attrs,T=[];let P=null,B=null;for(let te=n.directiveStart;te<d;te++){const ve=f[te],We=i?i.get(ve):null,Ft=We?We.outputs:null;P=Et(ve.inputs,te,P,We?We.inputs:null),B=Et(ve.outputs,te,B,Ft);const tn=null===P||null===C||yi(n)?null:Lv(P,te,C);T.push(tn)}null!==P&&(P.hasOwnProperty("class")&&(n.flags|=8),P.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=P,n.outputs=B}(t,i,f)}function $h(t,n,i){const a=i.directiveStart,d=i.directiveEnd,f=i.index,C=function Bl(){return Qn.lFrame.currentDirectiveIndex}();try{Ar(f);for(let T=a;T<d;T++){const P=t.data[T],B=n[T];$l(T),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Fv(P,B)}}finally{Ar(-1),$l(C)}}function Fv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function wm(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Eg(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;fo(n)&&(i[""]=t)}}function Am(t,n,i,a,d){t.data[a]=d;const f=d.factory||(d.factory=Bo(d.type)),C=new Bc(f,fo(d),D);t.blueprint[a]=C,i[a]=C,function xl(t,n,i,a,d){const f=d.hostBindings;if(f){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const T=~n.index;(function Ws(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=T&&C.push(T),C.push(i,a,f)}}(t,n,a,ht(t,i,d.hostVars,l),d)}function Ha(t,n,i,a,d,f){const C=Qi(t,n);!function ip(t,n,i,a,d,f,C){if(null==f)t.removeAttribute(n,d,i);else{const T=null==C?Ze(f):C(f,a||"",d);t.setAttribute(n,d,T,i)}}(n[Gn],C,f,t.value,i,a,d)}function z_(t,n,i,a,d,f){const C=f[n];if(null!==C)for(let T=0;T<C.length;)Sm(a,i,C[T++],C[T++],C[T++])}function Sm(t,n,i,a,d){const f=Wi(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(a)&&(d=C[a].call(n,d)),null!==t.setInput?t.setInput(n,d,i,a):n[a]=d}finally{Wi(f)}}function Lv(t,n,i){let a=null,d=0;for(;d<i.length;){const f=i[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===a&&(a=[]);const C=t[f];for(let T=0;T<C.length;T+=2)if(C[T]===n){a.push(f,C[T+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function xm(t,n,i,a){return[t,!0,!1,n,null,0,a,i,null,null,null]}function Pm(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const f=i[a+1];if(-1!==f){const C=t.data[f];w(i[a]),C.contentQueries(2,n[f],f)}}}function Hh(t,n){return t[Io]?t[mi][Ui]=n:t[Io]=n,t[mi]=n,n}function bg(t,n,i){w(0);const a=Wi(null);try{n(t,i)}finally{Wi(a)}}function Ig(t){return t[bo]||(t[bo]=[])}function Tg(t){return t.cleanup||(t.cleanup=[])}function Es(t,n){const i=t[ko],a=i?i.get(Sl,null):null;a&&a.handleError(n)}function Cs(t,n,i,a,d){for(let f=0;f<i.length;){const C=i[f++],T=i[f++];Sm(t.data[C],n[C],a,T,d)}}function Aa(t,n,i){const a=Ss(n,t);!function Gg(t,n,i){t.setValue(n,i)}(t[Gn],a,i)}function Rm(t,n){const i=Ci(n,t),a=i[en];!function op(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const d=i[xr];null!==d&&null===i[Ot]&&(i[Ot]=kh(d,i[ko])),sp(a,i,i[Ur])}function sp(t,n,i){M(n);try{const a=t.viewQuery;null!==a&&bg(1,a,i);const d=t.template;null!==d&&Ht(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pm(t,n),t.staticViewQueries&&bg(2,t.viewQuery,i);const f=t.components;null!==f&&function Gh(t,n){for(let i=0;i<n.length;i++)Rm(t,n[i])}(n,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Vn]&=-5,ft()}}let Mm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,a,d){const f=typeof Zone>"u"?null:Zone.current,C=function kt(t,n,i){const a=Object.create(Pr);i&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const d=C=>{a.cleanupFn=C};return a.ref={notify:()=>Vs(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Js(a))return;a.hasRun=!0;const C=ir(a);try{a.cleanupFn(),a.cleanupFn=vn,a.fn(d)}finally{Sa(a,C)}},cleanup:()=>a.cleanupFn()},a.ref}(i,B=>{this.all.has(B)&&this.queue.set(B,f)},d);let T;this.all.add(C),C.notify();const P=()=>{C.cleanup(),T?.(),this.all.delete(C),this.queue.delete(C)};return T=a?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[i,a]of this.queue)this.queue.delete(i),a?a.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Nd(t,n,i){let a=i?t.styles:null,d=i?t.classes:null,f=0;if(null!==n)for(let C=0;C<n.length;C++){const T=n[C];"number"==typeof T?f=T:1==f?d=ut(d,T):2==f&&(a=ut(a,T+": "+n[++C]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=d:t.classesWithoutHost=d}function zh(t,n,i,a,d=!1){for(;null!==i;){const f=n[i.index];null!==f&&a.push(Wr(f)),fr(f)&&Om(f,a);const C=i.type;if(8&C)zh(t,n,i.child,a);else if(32&C){const T=fh(i,n);let P;for(;P=T();)a.push(P)}else if(16&C){const T=Af(n,i);if(Array.isArray(T))a.push(...T);else{const P=fl(n[z]);zh(P[en],P,T,a,!0)}}i=d?i.projectionNext:i.next}return a}function Om(t,n){for(let i=er;i<t.length;i++){const a=t[i],d=a[en].firstChild;null!==d&&zh(a[en],a,d,n)}t[ei]!==t[xr]&&n.push(t[ei])}function kd(t,n,i,a=!0){const d=n[Fo],f=d.rendererFactory,C=d.afterRenderEventManager;f.begin?.(),C?.begin();try{Wh(t,n,t.template,i)}catch(P){throw a&&Es(n,P),P}finally{f.end?.(),d.effectManager?.flush(),C?.end()}}function Wh(t,n,i,a){const d=n[Vn];if(256!=(256&d)){n[Fo].effectManager?.flush(),M(n);try{Zi(n),function Tu(t){return Qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Ht(t,n,i,2,a);const C=3==(3&d);if(C){const B=t.preOrderCheckHooks;null!==B&&xs(n,B,null)}else{const B=t.preOrderHooks;null!==B&&ys(n,B,0,null),ts(n,0)}if(function km(t){for(let n=Lp(t);null!==n;n=gh(n)){if(!n[Kr])continue;const i=n[Xi];for(let a=0;a<i.length;a++){Fc(i[a])}}}(n),Ag(n,2),null!==t.contentQueries&&Pm(t,n),C){const B=t.contentCheckHooks;null!==B&&xs(n,B)}else{const B=t.contentHooks;null!==B&&ys(n,B,1),ts(n,1)}!function W(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const a=Zf(n,rr);try{for(let d=0;d<i.length;d++){const f=i[d];if(f<0)Ar(~f);else{const C=f,T=i[++d],P=i[++d];tc(T,C),a.dirty=!1;const B=ir(a);try{P(2,n[C])}finally{Sa(a,B)}}}}finally{null===n[rr]&&u(n,rr),Ar(-1)}}(t,n);const T=t.components;null!==T&&cp(n,T,0);const P=t.viewQuery;if(null!==P&&bg(2,P,a),C){const B=t.viewCheckHooks;null!==B&&xs(n,B)}else{const B=t.viewHooks;null!==B&&ys(n,B,2),ts(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Vn]&=-73,Eu(n)}finally{ft()}}}function Ag(t,n){for(let i=Lp(t);null!==i;i=gh(i))for(let a=er;a<i.length;a++)Fm(i[a],n)}function Fd(t,n,i){Fm(Ci(n,t),i)}function Fm(t,n){if(!function yu(t){return 128==(128&t[Vn])}(t))return;const i=t[en],a=t[Vn];if(80&a&&0===n||1024&a||2===n)Wh(i,t,i.template,t[Ur]);else if(t[ro]>0){Ag(t,1);const d=i.components;null!==d&&cp(t,d,1)}}function cp(t,n,i){for(let a=0;a<n.length;a++)Fd(t,n[a],i)}class Kh{get rootNodes(){const n=this._lView,i=n[en];return zh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ur]}set context(n){this._lView[Ur]=n}get destroyed(){return 256==(256&this._lView[Vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[cr];if(fr(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Ef(n,a),Xl(i,a))}this._attachedToViewContainer=!1}mh(this._lView[en],this._lView)}onDestroy(n){!function Ll(t,n){if(256==(256&t[Vn]))throw new Ge(911,!1);null===t[fn]&&(t[fn]=[]),t[fn].push(n)}(this._lView,n)}markForCheck(){jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vn]&=-129}reattach(){this._lView[Vn]|=128}detectChanges(){kd(this._lView[en],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kg(t,n){ml(t,n,n[Gn],2,null,null)}(this._lView[en],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=n}}class up extends Kh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;kd(n[en],n,n[Ur],!1)}checkNoChanges(){}get context(){return null}}class Dg extends hg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Kn(n);return new qu(i,this.ngModule)}}function Ks(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class lp{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=Xe(a);const d=this.injector.get(n,gg,a);return d!==gg||i===gg?d:this.parentInjector.get(n,i,a)}}class qu extends gv{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=Ks(n.inputs);if(null!==i)for(const d of a)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return a}get outputs(){return Ks(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Eo(t){return t.map(Bi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,d){let f=(d=d||this.ngModule)instanceof pa?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const C=f?new lp(n,f):n,T=C.get(D_,null);if(null===T)throw new Ge(407,!1);const ve={rendererFactory:T,sanitizer:C.get(x_,null),effectManager:C.get(Mm,null),afterRenderEventManager:C.get(vg,null)},We=T.createRenderer(null,this.componentDef),st=this.componentDef.selectors[0][0]||"div",Ft=a?function Ri(t,n,i,a){const f=a.get(Sv,!1)||i===Oi.ShadowDom,C=t.selectRootElement(n,f);return function qr(t){nt(t)}(C),C}(We,a,this.componentDef.encapsulation,C):yf(We,st,function K_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(st)),Jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Qt=null;null!==Ft&&(Qt=kh(Ft,C,!0));const Mr=Ln(0,null,null,1,0,null,null,null,null,null,null),ai=re(null,Mr,null,Jn,null,null,ve,We,C,null,Qt);let co,Mc;M(ai);try{const tf=this.componentDef;let e_,C0=null;tf.findHostDirectiveDefs?(e_=[],C0=new Map,tf.findHostDirectiveDefs(tf,e_,C0),e_.push(tf)):e_=[tf];const GA=function jv(t,n){const i=t[en],a=Sn;return t[a]=n,ge(i,a,2,"#host",null)}(ai,Ft),zA=function qh(t,n,i,a,d,f,C){const T=d[en];!function Bv(t,n,i,a){for(const d of t)n.mergedAttrs=Sr(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Nd(n,n.mergedAttrs,!0),null!==i&&qp(a,i,n))}(a,t,n,C);let P=null;null!==n&&(P=kh(n,d[ko]));const B=f.rendererFactory.createRenderer(n,i);let te=16;i.signals?te=4096:i.onPush&&(te=64);const ve=re(d,qn(i),null,te,d[t.index],t,f,B,null,null,P);return T.firstCreatePass&&wm(T,t,a.length-1),Hh(d,ve),d[t.index]=ve}(GA,Ft,tf,e_,ai,ve,We);Mc=Qa(Mr,Sn),Ft&&function dp(t,n,i,a){if(a)Or(t,i,["ng-version",vm.full]);else{const{attrs:d,classes:f}=function Os(t){const n=[],i=[];let a=1,d=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===d?""!==f&&n.push(f,t[++a]):8===d&&i.push(f);else{if(!xi(d))break;d=f}a++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Or(t,i,d),f&&f.length>0&&Cc(t,i,f.join(" "))}}(We,tf,Ft,a),void 0!==i&&function hp(t,n,i){const a=t.projection=[];for(let d=0;d<n.length;d++){const f=i[d];a.push(null!=f?Array.from(f):null)}}(Mc,this.ngContentSelectors,i),co=function q_(t,n,i,a,d,f){const C=Ao(),T=d[en],P=Qi(C,d);G_(T,d,C,i,null,a);for(let te=0;te<i.length;te++)mo(ra(d,T,C.directiveStart+te,C),d);$h(T,d,C),P&&mo(P,d);const B=ra(d,T,C.directiveStart+C.componentOffset,C);if(t[Ur]=d[Ur]=B,null!==f)for(const te of f)te(B,n);return on(T,C,t),B}(zA,tf,e_,C0,ai,[Sg]),sp(Mr,ai,null)}finally{ft()}return new Uv(this.componentType,co,Lh(Mc,ai),ai,Mc)}}class Uv extends pv{constructor(n,i,a,d,f){super(),this.location=a,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new up(d),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;Cs(f[en],f,d,n,i),this.previousInputValues.set(n,i),jh(Ci(this._tNode.index,f))}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Sg(){const t=Ao();Hl($t()[en],t)}function hu(t){let n=function Xh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let d;if(fo(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ge(903,!1);d=n.\u0275dir}if(d){if(i){a.push(d);const C=t;C.inputs=E(t.inputs),C.inputTransforms=E(t.inputTransforms),C.declaredInputs=E(t.declaredInputs),C.outputs=E(t.outputs);const T=d.hostBindings;T&&x(t,T);const P=d.viewQuery,B=d.contentQueries;if(P&&g(t,P),B&&h(t,B),ce(t.inputs,d.inputs),ce(t.declaredInputs,d.declaredInputs),ce(t.outputs,d.outputs),null!==d.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ce(C.inputTransforms,d.inputTransforms)),fo(d)&&d.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let C=0;C<f.length;C++){const T=f[C];T&&T.ngInherit&&T(t),T===hu&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Vm(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=n+=d.hostVars,d.hostAttrs=Sr(d.hostAttrs,i=Sr(i,d.hostAttrs))}}(a)}function E(t){return t===ii?{}:t===nr?[]:t}function g(t,n){const i=t.viewQuery;t.viewQuery=i?(a,d)=>{n(a,d),i(a,d)}:n}function h(t,n){const i=t.contentQueries;t.contentQueries=i?(a,d,f)=>{n(a,d,f),i(a,d,f)}:n}function x(t,n){const i=t.hostBindings;t.hostBindings=i?(a,d)=>{n(a,d),i(a,d)}:n}function ur(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const d=n[a];Array.isArray(d)&&d[2]&&(i[a]=d[2])}t.inputTransforms=i}function Mn(t){return!!Gi(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Gi(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function lr(t,n,i){return t[n]=i}function pi(t,n){return t[n]}function _r(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Vi(t,n,i,a){const d=_r(t,n,i);return _r(t,n+1,a)||d}function ji(t,n,i,a){const d=$t();return _r(d,ea(),n)&&(St(),Ha(ri(),d,t,n,i,a)),ji}function is(t,n,i,a){return _r(t,ea(),i)?n+Ze(i)+a:l}function Uo(t,n,i,a,d,f){const T=Vi(t,function ms(){return Qn.lFrame.bindingIndex}(),i,d);return _s(2),T?n+Ze(i)+a+Ze(d)+f:l}function Bm(t,n,i,a,d,f,C,T){const P=$t(),B=St(),te=t+Sn,ve=B.firstCreatePass?function Xv(t,n,i,a,d,f,C,T,P){const B=n.consts,te=ge(n,t,4,C||null,Ji(B,T));yg(n,i,te,Ji(B,P)),Hl(n,te);const ve=te.tView=Ln(2,te,a,d,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,B,null);return null!==n.queries&&(n.queries.template(n,te),ve.queries=n.queries.embeddedTView(te)),te}(te,B,P,n,i,a,d,f,C):B.data[te];Zo(ve,!1);const We=$m(B,P,ve,t);wu()&&su(B,P,We,ve),mo(We,P),Hh(P,P[te]=xm(We,P,We,ve)),Ds(ve)&&Yt(B,P,ve),null!=C&&kn(P,ve,T)}let $m=function Z_(t,n,i,a){return ic(!0),n[Gn].createComment("")};function $d(t){return ps(function zn(){return Qn.lFrame.contextLView}(),Sn+t)}function Gm(t,n,i){const a=$t();return _r(a,ea(),n)&&wa(St(),ri(),a,t,n,a[Gn],i,!1),Gm}function zm(t,n,i,a,d){const C=d?"class":"style";Cs(t,i,n.inputs[C],C,a)}function Mg(t,n,i,a){const d=$t(),f=St(),C=Sn+t,T=d[Gn],P=f.firstCreatePass?function Jv(t,n,i,a,d,f){const C=n.consts,P=ge(n,t,2,a,Ji(C,d));return yg(n,i,P,Ji(C,f)),null!==P.attrs&&Nd(P,P.attrs,!1),null!==P.mergedAttrs&&Nd(P,P.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,P),P}(C,f,d,n,i,a):f.data[C],B=ev(f,d,P,T,n,t);d[C]=B;const te=Ds(P);return Zo(P,!0),qp(T,B,P),32!=(32&P.flags)&&wu()&&su(f,d,B,P),0===function zo(){return Qn.lFrame.elementDepthCount}()&&mo(B,d),function Zu(){Qn.lFrame.elementDepthCount++}(),te&&(Yt(f,d,P),on(f,P,d)),null!==a&&kn(d,P),Mg}function ef(){let t=Ao();Wo()?Na():(t=t.parent,Zo(t,!1));const n=t;(function Vc(t){return Qn.skipHydrationRootTNode===t})(n)&&function zd(){Qn.skipHydrationRootTNode=null}(),function Cu(){Qn.lFrame.elementDepthCount--}();const i=St();return i.firstCreatePass&&(Hl(i,t),As(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function qd(t){return 0!=(8&t.flags)}(n)&&zm(i,n,$t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function $c(t){return 0!=(16&t.flags)}(n)&&zm(i,n,$t(),n.stylesWithoutHost,!1),ef}function ma(t,n,i,a){return Mg(t,n,i,a),ef(),ma}let ev=(t,n,i,a,d,f)=>(ic(!0),yf(a,d,function ba(){return Qn.lFrame.currentNamespace}()));function k(t,n,i){const a=$t(),d=St(),f=t+Sn,C=d.firstCreatePass?function v(t,n,i,a,d){const f=n.consts,C=Ji(f,a),T=ge(n,t,8,"ng-container",C);return null!==C&&Nd(T,C,!0),yg(n,i,T,Ji(f,d)),null!==n.queries&&n.queries.elementStart(n,T),T}(f,d,a,n,i):d.data[f];Zo(C,!0);const T=dt(d,a,C,t);return a[f]=T,wu()&&su(d,a,T,C),mo(T,a),Ds(C)&&(Yt(d,a,C),on(d,C,a)),null!=i&&kn(a,C),k}function q(){let t=Ao();const n=St();return Wo()?Na():(t=t.parent,Zo(t,!1)),n.firstCreatePass&&(Hl(n,t),As(t)&&n.queries.elementEnd(t)),q}function he(t,n,i){return k(t,n,i),q(),he}let dt=(t,n,i,a)=>(ic(!0),vf(n[Gn],""));function to(){return $t()}function bs(t){return!!t&&"function"==typeof t.then}function Mi(t){return!!t&&"function"==typeof t.subscribe}function Ms(t,n,i,a){const d=$t(),f=St(),C=Ao();return function xc(t,n,i,a,d,f,C){const T=Ds(a),B=t.firstCreatePass&&Tg(t),te=n[Ur],ve=Ig(n);let We=!0;if(3&a.type||C){const tn=Qi(a,n),Tn=C?C(tn):tn,Jn=ve.length,Qt=C?ai=>C(Wr(ai[a.index])):a.index;let Mr=null;if(!C&&T&&(Mr=function yp(t,n,i,a){const d=t.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const C=d[f];if(C===i&&d[f+1]===a){const T=n[bo],P=d[f+2];return T.length>P?T[P]:null}"string"==typeof C&&(f+=2)}return null}(t,n,d,a.index)),null!==Mr)(Mr.__ngLastListenerFn__||Mr).__ngNextListenerFn__=f,Mr.__ngLastListenerFn__=f,We=!1;else{f=Wm(a,n,te,f,!1);const ai=i.listen(Tn,d,f);ve.push(f,ai),B&&B.push(d,Qt,Jn,Jn+1)}}else f=Wm(a,n,te,f,!1);const st=a.outputs;let Ft;if(We&&null!==st&&(Ft=st[d])){const tn=Ft.length;if(tn)for(let Tn=0;Tn<tn;Tn+=2){const co=n[Ft[Tn]][Ft[Tn+1]].subscribe(f),Mc=ve.length;ve.push(f,co),B&&B.push(d,a.index,Mc,-(Mc+1))}}}(f,d,d[Gn],C,t,n,a),Ms}function Og(t,n,i,a){try{return Yn(6,n,i),!1!==i(a)}catch(d){return Es(t,d),!1}finally{Yn(7,n,i)}}function Wm(t,n,i,a,d){return function f(C){if(C===Function)return a;jh(t.componentOffset>-1?Ci(t.index,n):n);let P=Og(n,i,a,C),B=f.__ngNextListenerFn__;for(;B;)P=Og(n,i,B,C)&&P,B=B.__ngNextListenerFn__;return d&&!1===P&&C.preventDefault(),P}}function T0(t=1){return function mn(t){return(Qn.lFrame.contextLView=function pr(t,n){for(;t>0;)n=n[Q],t--;return n}(t,Qn.lFrame.contextLView))[Ur]}(t)}function xy(t,n,i){return ey(t,"",n,"",i),xy}function ey(t,n,i,a,d){const f=$t(),C=is(f,n,i,a);return C!==l&&wa(St(),ri(),f,t,C,f[Gn],d,!1),ey}function ty(t,n){return t<<17|n<<2}function Ep(t){return t>>17&32767}function Py(t){return 2|t}function Ng(t){return(131068&t)>>2}function Ry(t,n){return-131069&t|n<<2}function My(t){return 1|t}function O0(t,n,i,a,d){const f=t[i+1],C=null===n;let T=a?Ep(f):Ng(f),P=!1;for(;0!==T&&(!1===P||C);){const te=t[T+1];Lb(t[T],n)&&(P=!0,t[T+1]=a?My(te):Py(te)),T=a?Ep(te):Ng(te)}P&&(t[i+1]=a?Py(f):My(f))}function Lb(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ou(t,n)>=0}const Ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function N0(t){return t.substring(Ys.key,Ys.keyEnd)}function k0(t,n){const i=Ys.textEnd;return i===n?-1:(n=Ys.keyEnd=function $b(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Ys.key=n,i),Km(t,n,i))}function Km(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Oy(t,n,i){return Nl(t,n,i,!1),Oy}function Ny(t,n){return Nl(t,n,null,!0),Ny}function j0(t){!function kl(t,n,i,a){const d=St(),f=_s(2);d.firstUpdatePass&&$0(d,null,f,a);const C=$t();if(i!==l&&_r(C,f,i)){const T=d.data[Ir()];if(W0(T,a)&&!B0(d,f)){let P=a?T.classesWithoutHost:T.stylesWithoutHost;null!==P&&(i=ut(P,i||"")),zm(d,T,C,i,a)}else!function Jb(t,n,i,a,d,f,C,T){d===l&&(d=nr);let P=0,B=0,te=0<d.length?d[0]:null,ve=0<f.length?f[0]:null;for(;null!==te||null!==ve;){const We=P<d.length?d[P+1]:void 0,st=B<f.length?f[B+1]:void 0;let tn,Ft=null;te===ve?(P+=2,B+=2,We!==st&&(Ft=ve,tn=st)):null===ve||null!==te&&te<ve?(P+=2,Ft=te):(B+=2,Ft=ve,tn=st),null!==Ft&&G0(t,n,i,a,Ft,tn,C,T),te=P<d.length?d[P]:null,ve=B<f.length?f[B]:null}}(d,T,C,C[Gn],C[f+1],C[f+1]=function Yb(t,n,i){if(null==i||""===i)return nr;const a=[],d=au(i);if(Array.isArray(d))for(let f=0;f<d.length;f++)t(a,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&t(a,f,d[f]);else"string"==typeof d&&n(a,d);return a}(t,n,i),a,f)}}(Qb,Gd,t,!0)}function Gd(t,n){for(let i=function jb(t){return function V0(t){Ys.key=0,Ys.keyEnd=0,Ys.value=0,Ys.valueEnd=0,Ys.textEnd=t.length}(t),k0(t,Km(t,0,Ys.textEnd))}(n);i>=0;i=k0(n,i))Hs(t,N0(n),!0)}function Nl(t,n,i,a){const d=$t(),f=St(),C=_s(2);f.firstUpdatePass&&$0(f,t,C,a),n!==l&&_r(d,C,n)&&G0(f,f.data[Ir()],d,d[Gn],t,d[C+1]=function Zb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=me(au(t)))),t}(n,i),a,C)}function B0(t,n){return n>=t.expandoStartIndex}function $0(t,n,i,a){const d=t.data;if(null===d[i+1]){const f=d[Ir()],C=B0(t,i);W0(f,a)&&null===n&&!C&&(n=!1),n=function Wb(t,n,i,a){const d=function Uc(t){const n=Qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=a?n.residualClasses:n.residualStyles;if(null===d)0===(a?n.classBindings:n.styleBindings)&&(i=tv(i=ky(null,t,n,i,a),n.attrs,a),f=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==d)if(i=ky(d,t,n,i,a),null===f){let P=function Kb(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Ng(a))return t[Ep(a)]}(t,n,a);void 0!==P&&Array.isArray(P)&&(P=ky(null,t,n,P[1],a),P=tv(P,n.attrs,a),function qb(t,n,i,a){t[Ep(i?n.classBindings:n.styleBindings)]=a}(t,n,a,P))}else f=function Xb(t,n,i){let a;const d=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<d;f++)a=tv(a,t[f].hostAttrs,i);return tv(a,n.attrs,i)}(t,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),i}(d,f,n,a),function Fb(t,n,i,a,d,f){let C=f?n.classBindings:n.styleBindings,T=Ep(C),P=Ng(C);t[a]=i;let te,B=!1;if(Array.isArray(i)?(te=i[1],(null===te||Ou(i,te)>0)&&(B=!0)):te=i,d)if(0!==P){const We=Ep(t[T+1]);t[a+1]=ty(We,T),0!==We&&(t[We+1]=Ry(t[We+1],a)),t[T+1]=function Nb(t,n){return 131071&t|n<<17}(t[T+1],a)}else t[a+1]=ty(T,0),0!==T&&(t[T+1]=Ry(t[T+1],a)),T=a;else t[a+1]=ty(P,0),0===T?T=a:t[P+1]=Ry(t[P+1],a),P=a;B&&(t[a+1]=Py(t[a+1])),O0(t,te,a,!0),O0(t,te,a,!1),function Vb(t,n,i,a,d){const f=d?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Ou(f,n)>=0&&(i[a+1]=My(i[a+1]))}(n,te,t,a,f),C=ty(T,P),f?n.classBindings=C:n.styleBindings=C}(d,f,n,i,C,a)}}function ky(t,n,i,a,d){let f=null;const C=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<C&&(f=n[T],a=tv(a,f.hostAttrs,d),f!==t);)T++;return null!==t&&(i.directiveStylingLast=T),a}function tv(t,n,i){const a=i?1:2;let d=-1;if(null!==n)for(let f=0;f<n.length;f++){const C=n[f];"number"==typeof C?d=C:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Hs(t,C,!!i||n[++f]))}return void 0===t?null:t}function Qb(t,n,i){const a=String(n);""!==a&&!a.includes(" ")&&Hs(t,a,i)}function G0(t,n,i,a,d,f,C,T){if(!(3&n.type))return;const P=t.data,B=P[T+1],te=function kb(t){return 1==(1&t)}(B)?z0(P,n,i,d,Ng(B),C):void 0;ny(te)||(ny(f)||function Ob(t){return 2==(2&t)}(B)&&(f=z0(P,null,i,d,T,C)),function s_(t,n,i,a,d){if(n)d?t.addClass(i,a):t.removeClass(i,a);else{let f=-1===a.indexOf("-")?void 0:ll.DashCase;null==d?t.removeStyle(i,a,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=ll.Important),t.setStyle(i,a,d,f))}}(a,C,Ss(Ir(),i),d,f))}function z0(t,n,i,a,d,f){const C=null===n;let T;for(;d>0;){const P=t[d],B=Array.isArray(P),te=B?P[1]:P,ve=null===te;let We=i[d+1];We===l&&(We=ve?nr:void 0);let st=ve?Yl(We,a):te===a?We:void 0;if(B&&!ny(st)&&(st=Yl(P,a)),ny(st)&&(T=st,C))return T;const Ft=t[d+1];d=C?Ep(Ft):Ng(Ft)}if(null!==n){let P=f?n.residualClasses:n.residualStyles;null!=P&&(T=Yl(P,a))}return T}function ny(t){return void 0!==t}function W0(t,n){return 0!=(t.flags&(n?8:16))}function K0(t,n=""){const i=$t(),a=St(),d=t+Sn,f=a.firstCreatePass?ge(a,d,1,n,null):a.data[d],C=q0(a,i,f,n,t);i[d]=C,wu()&&su(a,i,C,f),Zo(f,!1)}let q0=(t,n,i,a,d)=>(ic(!0),function hd(t,n){return t.createText(n)}(n[Gn],a));function Fy(t){return ry("",t,""),Fy}function ry(t,n,i){const a=$t(),d=is(a,t,n,i);return d!==l&&Aa(a,Ir(),d),ry}function Vy(t,n,i,a,d){const f=$t(),C=Uo(f,t,n,i,a,d);return C!==l&&Aa(f,Ir(),C),Vy}const kg=void 0;var CI=["en",[["a","p"],["AM","PM"],kg],[["AM","PM"],kg,kg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kg,"{1} 'at' {0}",kg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EI(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let qm={};function Ly(t){const n=function bI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=pE(n);if(i)return i;const a=n.split("-")[0];if(i=pE(a),i)return i;if("en"===a)return CI;throw new Ge(701,!1)}function fE(t){return Ly(t)[Xm.PluralCase]}function pE(t){return t in qm||(qm[t]=jn.ng&&jn.ng.common&&jn.ng.common.locales&&jn.ng.common.locales[t]),qm[t]}var Xm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Xm||{});const Ym="en-US";let gE=Ym;function By(t,n,i,a,d){if(t=It(t),Array.isArray(t))for(let f=0;f<t.length;f++)By(t[f],n,i,a,d);else{const f=St(),C=$t(),T=Ao();let P=bl(t)?t:It(t.provide);const B=sm(t),te=1048575&T.providerIndexes,ve=T.directiveStart,We=T.providerIndexes>>20;if(bl(t)||!t.multi){const st=new Bc(B,d,D),Ft=Hy(P,n,d?te:te+We,ve);-1===Ft?($s(il(T,C),f,P),$y(f,t,n.length),n.push(P),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(st),C.push(st)):(i[Ft]=st,C[Ft]=st)}else{const st=Hy(P,n,te+We,ve),Ft=Hy(P,n,te,te+We),Tn=Ft>=0&&i[Ft];if(d&&!Tn||!d&&!(st>=0&&i[st])){$s(il(T,C),f,P);const Jn=function ET(t,n,i,a,d){const f=new Bc(t,i,D);return f.multi=[],f.index=n,f.componentProviders=0,jE(f,d,a&&!i),f}(d?yT:vT,i.length,d,a,B);!d&&Tn&&(i[Ft].providerFactory=Jn),$y(f,t,n.length,0),n.push(P),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(Jn),C.push(Jn)}else $y(f,t,st>-1?st:Ft,jE(i[d?Ft:st],B,!d&&a));!d&&a&&Tn&&i[Ft].componentProviders++}}}function $y(t,n,i,a){const d=bl(n),f=function Hi(t){return!!t.useClass}(n);if(d||f){const P=(f?It(n.useClass):n).prototype.ngOnDestroy;if(P){const B=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const te=B.indexOf(i);-1===te?B.push(i,[a,P]):B[te+1].push(a,P)}else B.push(i,P)}}}function jE(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Hy(t,n,i,a){for(let d=i;d<a;d++)if(n[d]===t)return d;return-1}function vT(t,n,i,a){return Gy(this.multi,[])}function yT(t,n,i,a){const d=this.multi;let f;if(this.providerFactory){const C=this.providerFactory.componentProviders,T=ra(i,i[en],this.providerFactory.index,a);f=T.slice(0,C),Gy(d,f);for(let P=C;P<T.length;P++)f.push(T[P])}else f=[],Gy(d,f);return f}function Gy(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function BE(t,n=[]){return i=>{i.providersResolver=(a,d)=>function _T(t,n,i){const a=St();if(a.firstCreatePass){const d=fo(t);By(i,a.data,a.blueprint,d,!0),By(n,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,n)}}class Fg{}class $E{}function CT(t,n){return new zy(t,n??null,[])}class zy extends Fg{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dg(this);const d=Lr(n);this._bootstrapComponents=du(d.bootstrap),this._r3Injector=O_(n,i,[{provide:Fg,useValue:this},{provide:hg,useValue:this.componentFactoryResolver},...a],me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Wy extends $E{constructor(n){super(),this.moduleType=n}create(n){return new zy(this.moduleType,n,[])}}class HE extends Fg{constructor(n){super(),this.componentFactoryResolver=new Dg(this),this.instance=null;const i=new Tc([...n.providers,{provide:Fg,useValue:this},{provide:hg,useValue:this.componentFactoryResolver}],n.parent||Ic(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function GE(t,n,i=null){return new HE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let IT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=Ba(0,i.type),d=a.length>0?GE([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Cn({token:t,providedIn:"environment",factory:()=>new t(qe(pa))})}return t})();function zE(t){t.getStandaloneInjector=n=>n.get(IT).getOrCreateStandaloneInjector(t)}function JE(t,n,i){const a=es()+t,d=$t();return d[a]===l?lr(d,a,i?n.call(i):n()):pi(d,a)}function ZE(t,n,i,a){return nC($t(),es(),t,n,i,a)}function eC(t,n,i,a,d){return function rC(t,n,i,a,d,f,C){const T=n+i;return Vi(t,T,d,f)?lr(t,T+2,C?a.call(C,d,f):a(d,f)):av(t,T+2)}($t(),es(),t,n,i,a,d)}function tC(t,n,i,a,d,f,C,T,P){const B=es()+t,te=$t(),ve=function gi(t,n,i,a,d,f){const C=Vi(t,n,i,a);return Vi(t,n+2,d,f)||C}(te,B,i,a,d,f);return Vi(te,B+4,C,T)||ve?lr(te,B+6,P?n.call(P,i,a,d,f,C,T):n(i,a,d,f,C,T)):pi(te,B+6)}function av(t,n){const i=t[n];return i===l?void 0:i}function nC(t,n,i,a,d,f){const C=n+i;return _r(t,C,d)?lr(t,C+1,f?a.call(f,d):a(d)):av(t,C+1)}function iC(t,n,i,a,d,f,C,T){const P=n+i;return function Lo(t,n,i,a,d){const f=Vi(t,n,i,a);return _r(t,n+2,d)||f}(t,P,d,f,C)?lr(t,P+3,T?a.call(T,d,f,C):a(d,f,C)):av(t,P+3)}function aC(t,n){const i=St();let a;const d=t+Sn;i.firstCreatePass?(a=function LT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[d]=a,a.onDestroy&&(i.destroyHooks??=[]).push(d,a.onDestroy)):a=i.data[d];const f=a.factory||(a.factory=Bo(a.type)),T=hr(D);try{const P=fa(!1),B=f();return fa(P),function Qv(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,$t(),d,B),B}finally{hr(T)}}function cC(t,n,i){const a=t+Sn,d=$t(),f=ps(d,a);return cv(d,a)?nC(d,es(),n,f.transform,i,f):f.transform(i)}function uC(t,n,i,a,d){const f=t+Sn,C=$t(),T=ps(C,f);return cv(C,f)?iC(C,es(),n,T.transform,i,a,d,T):T.transform(i,a,d)}function cv(t,n){return t[en].data[n].pure}function $T(){return this._results[Symbol.iterator]()}class qy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new lu)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=qy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=$T)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const d=function xo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function eh(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],f=n[a];if(i&&(d=i(d),f=i(f)),f!==d)return!1}return!0}(a._results,d,i))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GT(t,n,i,a=!0){const d=n[en];if(function i_(t,n,i,a){const d=er+a,f=i.length;a>0&&(i[d-1][Ui]=n),a<f-er?(n[Ui]=i[d],Ru(i,er+a,n)):(i.push(n),n[Ui]=null),n[cr]=i;const C=n[ye];null!==C&&i!==C&&function o_(t,n){const i=t[Xi];n[z]!==n[cr][cr][z]&&(t[Kr]=!0),null===i?t[Xi]=[n]:i.push(n)}(C,n);const T=n[Ke];null!==T&&T.insertView(t),n[Vn]|=128}(d,n,t,i),a){const f=yh(i,t),C=n[Gn],T=$p(C,t[ei]);null!==T&&function Wg(t,n,i,a,d,f){a[xr]=d,a[di]=n,ml(t,a,i,1,d,f)}(d,t[di],C,n,T,f)}}let uv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KT}return t})();const zT=uv,WT=class extends zT{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const d=function HT(t,n,i,a){const d=n.tView,T=re(t,d,i,4096&t[Vn]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);T[ye]=t[n.index];const B=t[Ke];return null!==B&&(T[Ke]=B.createEmbeddedView(d)),sp(d,T,i),T}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:a});return new Kh(d)}};function KT(){return cy(Ao(),$t())}function cy(t,n){return 4&t.type?new WT(n,t,Lh(t,n)):null}let ly=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZT}return t})();function ZT(){return mC(Ao(),$t())}const ew=ly,pC=class extends ew{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Lh(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const n=Du(this._hostTNode,this._hostLView);if(Hc(n)){const i=Bs(n,this._hostLView),a=nl(n);return new Ko(i[en].data[a+8],i)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=gC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-er}createEmbeddedView(n,i,a){let d,f;"number"==typeof a?d=a:null!=a&&(d=a.index,f=a.injector);const T=n.createEmbeddedViewImpl(i||{},f,null);return this.insertImpl(T,d,false),T}createComponent(n,i,a,d,f){const C=n&&!function dc(t){return"function"==typeof t}(n);let T;if(C)T=i;else{const tn=i||{};T=tn.index,a=tn.injector,d=tn.projectableNodes,f=tn.environmentInjector||tn.ngModuleRef}const P=C?n:new qu(Kn(n)),B=a||this.parentInjector;if(!f&&null==P.ngModule){const Tn=(C?B:this.parentInjector).get(pa,null);Tn&&(f=Tn)}Kn(P.componentType??{});const st=P.create(B,d,null,f);return this.insertImpl(st.hostView,T,false),st}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,a){const d=n._lView;if(function Jo(t){return fr(t[cr])}(d)){const P=this.indexOf(n);if(-1!==P)this.detach(P);else{const B=d[cr],te=new pC(B,B[di],B[cr]);te.detach(te.indexOf(n))}}const C=this._adjustIndex(i),T=this._lContainer;return GT(T,d,C,!a),n.attachToViewContainerRef(),Ru(Xy(T),C,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=gC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Ef(this._lContainer,i);a&&(Xl(Xy(this._lContainer),i),mh(a[en],a))}detach(n){const i=this._adjustIndex(n,-1),a=Ef(this._lContainer,i);return a&&null!=Xl(Xy(this._lContainer),i)?new Kh(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function gC(t){return t[8]}function Xy(t){return t[8]||(t[8]=[])}function mC(t,n){let i;const a=n[t.index];return fr(a)?i=a:(i=xm(a,n,null,t),n[t.index]=i,Hh(n,i)),_C(i,n,t,a),new pC(i,t,n)}let _C=function vC(t,n,i,a){if(t[ei])return;let d;d=8&i.type?Wr(a):function tw(t,n){const i=t[Gn],a=i.createComment(""),d=Qi(n,t);return ou(i,$p(i,d),a,function vh(t,n){return t.nextSibling(n)}(i,d),!1),a}(n,i),t[ei]=d};class Yy{constructor(n){this.queryList=n,this.matches=null}clone(){return new Yy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let f=0;f<a;f++){const C=i.getByIndex(f);d.push(this.queries[C.indexInDeclarationView].clone())}return new Qy(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==DC(n,i).matches&&this.queries[i].setDirty()}}class yC{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class Jy{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const d=null!==i?i.length:0,f=this.getByIndex(a).embeddedTView(n,d);f&&(f.indexInDeclarationView=a,null!==i?i.push(f):i=[f])}return null!==i?new Jy(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Zy{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Zy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const f=a[d];this.matchTNodeWithReadOption(n,i,iw(i,f)),this.matchTNodeWithReadOption(n,i,Gc(i,n,f,!1,!1))}else a===uv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Gc(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Yf||d===ly||d===uv&&4&i.type)this.addMatch(i.index,-2);else{const f=Gc(i,n,d,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function iw(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function sw(t,n,i,a){return-1===i?function ow(t,n){return 11&t.type?Lh(t,n):4&t.type?cy(t,n):null}(n,t):-2===i?function aw(t,n,i){return i===Yf?Lh(n,t):i===uv?cy(n,t):i===ly?mC(n,t):void 0}(t,n,a):ra(t,t[en],i,n)}function EC(t,n,i,a){const d=n[Ke].queries[a];if(null===d.matches){const f=t.data,C=i.matches,T=[];for(let P=0;P<C.length;P+=2){const B=C[P];T.push(B<0?null:sw(n,f[B],C[P+1],i.metadata.read))}d.matches=T}return d.matches}function e0(t,n,i,a){const d=t.queries.getByIndex(i),f=d.matches;if(null!==f){const C=EC(t,n,d,i);for(let T=0;T<f.length;T+=2){const P=f[T];if(P>0)a.push(C[T/2]);else{const B=f[T+1],te=n[-P];for(let ve=er;ve<te.length;ve++){const We=te[ve];We[ye]===We[cr]&&e0(We[en],We,B,a)}if(null!==te[Xi]){const ve=te[Xi];for(let We=0;We<ve.length;We++){const st=ve[We];e0(st[en],st,B,a)}}}}}return a}function CC(t){const n=$t(),i=St(),a=ta();w(a+1);const d=DC(i,a);if(t.dirty&&function Ja(t){return 4==(4&t[Vn])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const f=d.crossesNgTemplate?e0(i,n,a,[]):EC(i,n,d,a);t.reset(f,pg),t.notifyOnChanges()}return!0}return!1}function bC(t,n,i){const a=St();a.firstCreatePass&&(AC(a,new yC(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),wC(a,$t(),n)}function IC(t,n,i,a){const d=St();if(d.firstCreatePass){const f=Ao();AC(d,new yC(n,i,a),f.index),function uw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}wC(d,$t(),i)}function TC(){return function cw(t,n){return t[Ke].queries[n].queryList}($t(),ta())}function wC(t,n,i){const a=new qy(4==(4&i));(function rt(t,n,i,a){const d=Ig(n);d.push(i),t.firstCreatePass&&Tg(t).push(a,d.length-1)})(t,n,a,a.destroy),null===n[Ke]&&(n[Ke]=new Qy),n[Ke].queries.push(new Yy(a))}function AC(t,n,i){null===t.queries&&(t.queries=new Jy),t.queries.track(new Zy(n,i))}function DC(t,n){return t.queries.getByIndex(n)}function SC(t,n){return cy(t,n)}function t0(t){return!!Lr(t)}const zC=new an("Application Initializer");let a0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=ot(zC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const f=d();if(bs(f))i.push(f);else if(Mi(f)){const C=new Promise((T,P)=>{f.subscribe({complete:T,error:P})});i.push(C)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(d=>{this.reject(d)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WC=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const hy=new an("LocaleId",{providedIn:"root",factory:()=>ot(hy,gn.Optional|gn.SkipSelf)||function Pw(){return typeof $localize<"u"&&$localize.locale||Ym}()}),Rw=new an("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ow{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Nw=(()=>{class t{compileModuleSync(i){return new Wy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),f=du(Lr(i).declarations).reduce((C,T)=>{const P=Kn(T);return P&&C.push(new qu(P)),C},[]);return new Ow(a,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QC=new an(""),JC=new an("");let l0,nA=(()=>{class t{constructor(i,a,d){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,l0||(function rA(t){l0=t}(d),d.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ro.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,d){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==f),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:d})}whenStable(i,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(qe(Ro),qe(ZC),qe(JC))};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac})}return t})(),ZC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return l0?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Cp=null;const eb=new an("AllowMultipleToken"),d0=new an("PlatformDestroyListeners"),h0=new an("appBootstrapListener");class sA{constructor(n,i){this.name=n,this.token=i}}function rb(t,n,i=[]){const a=`Platform: ${n}`,d=new an(a);return(f=[])=>{let C=f0();if(!C||C.injector.get(eb,!1)){const T=[...i,...f,{provide:d,useValue:!0}];t?t(T):function aA(t){if(Cp&&!Cp.get(eb,!1))throw new Ge(400,!1);(function tb(){!function Yu(t){Zs=t}(()=>{throw new Ge(600,!1)})})(),Cp=t;const n=t.get(ob);(function nb(t){t.get(cu,null)?.forEach(i=>i())})(t)}(function ib(t=[],n){return Ac.create({name:n,providers:[{provide:om,useValue:"platform"},{provide:d0,useValue:new Set([()=>Cp=null])},...t]})}(T,a))}return function uA(t){const n=f0();if(!n)throw new Ge(401,!1);return n}()}}function f0(){return Cp?.get(ob)??null}let ob=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const d=function lA(t="zone.js",n){return"noop"===t?new by:"zone.js"===t?new Ro(n):t}(a?.ngZone,function sb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const f=function bT(t,n,i){return new zy(t,n,i)}(i.moduleType,this.injector,function db(t){return[{provide:Ro,useFactory:t},{provide:Ed,multi:!0,useFactory:()=>{const n=ot(hA,{optional:!0});return()=>n.initialize()}},{provide:lb,useFactory:dA},{provide:wv,useFactory:Av}]}(()=>d)),C=f.injector.get(Sl,null);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:P=>{C.handleError(P)}});f.onDestroy(()=>{py(this._modules,f),T.unsubscribe()})}),function ab(t,n,i){try{const a=i();return bs(a)?a.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(C,d,()=>{const T=f.injector.get(a0);return T.runInitializers(),T.donePromise.then(()=>(function mE(t){wt(t,"Expected localeId to be defined"),"string"==typeof t&&(gE=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(hy,Ym)||Ym),this._moduleDoBootstrap(f),f))})})}bootstrapModule(i,a=[]){const d=cb({},a);return function iA(t,n,i){const a=new Wy(i);return Promise.resolve(a)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(i){const a=i.injector.get(Zm);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new Ge(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(d0,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(qe(Ac))};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function cb(t,n){return Array.isArray(n)?n.reduce(cb,t):{...t,...n}}let Zm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(lb),this.zoneIsStable=ot(wv),this.componentTypes=[],this.components=[],this.isStable=ot(KC).hasPendingTasks.pipe((0,Fe.n)(i=>i?(0,Ae.of)(!1):this.zoneIsStable),(0,Ue.F)(),(0,ke.u)()),this._injector=ot(pa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const d=i instanceof gv;if(!this._injector.get(a0).done)throw!d&&ho(i),new Ge(405,!1);let C;C=d?i:this._injector.get(hg).resolveComponentFactory(i),this.componentTypes.push(C.componentType);const T=function oA(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Fg),B=C.create(Ac.NULL,[],a||C.selector,T),te=B.location.nativeElement,ve=B.injector.get(QC,null);return ve?.registerApplication(te),B.onDestroy(()=>{this.detachView(B.hostView),py(this.components,B),ve?.unregisterApplication(te)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;py(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get(h0,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>py(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ge(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function py(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const lb=new an("",{providedIn:"root",factory:()=>ot(Sl).handleError.bind(void 0)});function dA(){const t=ot(Ro),n=ot(Sl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let hA=(()=>{class t{constructor(){this.zone=ot(Ro),this.applicationRef=ot(Zm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pA(){return!1}let gA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mA}return t})();function mA(t){return function _A(t,n,i){if(Ti(t)&&!i){const a=Ci(t.index,n);return new Kh(a,a)}return 47&t.type?new Kh(n[z],n):null}(Ao(),$t(),16==(16&t))}class mb{constructor(){}supports(n){return Mn(n)}create(n){return new bA(n)}}const CA=(t,n)=>n;class bA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||CA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,d=0,f=null;for(;i||a;){const C=!a||i&&i.currentIndex<vb(a,d,f)?i:a,T=vb(C,d,f),P=C.currentIndex;if(C===a)d--,a=a._nextRemoved;else if(i=i._next,null==C.previousIndex)d++;else{f||(f=[]);const B=T-d,te=P-d;if(B!=te){for(let We=0;We<B;We++){const st=We<f.length?f[We]:f[We]=0,Ft=st+We;te<=Ft&&Ft<B&&(f[We]=st+1)}f[C.previousIndex]=te-B}}T!==P&&n(C,T,P)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Mn(n))throw new Ge(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,f,C,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)f=n[T],C=this._trackByFn(T,f),null!==i&&Object.is(i.trackById,C)?(a&&(i=this._verifyReinsertion(i,f,C,T)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,C,T),a=!0),i=i._next}else d=0,function fi(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,T=>{C=this._trackByFn(d,T),null!==i&&Object.is(i.trackById,C)?(a&&(i=this._verifyReinsertion(i,T,C,d)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,C,d),a=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,d){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,d)):n=this._addAfter(new IA(i,a),f,d),n}_verifyReinsertion(n,i,a,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,f=n._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new _b),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _b),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class _b{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new TA,this.map.set(i,a)),a.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vb(t,n,i){const a=t.previousIndex;if(null===a)return a;let d=0;return i&&a<i.length&&(d=i[a]),a+n+d}class yb{constructor(){}supports(n){return n instanceof Map||Gi(n)}create(){return new wA}}class wA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Gi(n)))throw new Ge(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(d,a);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const f=d._prev,C=d._next;return f&&(f._next=C),C&&(C._prev=f),d._next=null,d._prev=null,d}const a=new AA(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class AA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eb(){return new v0([new mb])}let v0=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:Eb});constructor(i){this.factories=i}static create(i,a){if(null!=a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Eb()),deps:[[t,new gc,new pc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(null!=a)return a;throw new Ge(901,!1)}}return t})();function Cb(){return new y0([new yb])}let y0=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:Cb});constructor(i){this.factories=i}static create(i,a){if(a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Cb()),deps:[[t,new gc,new pc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(a)return a;throw new Ge(901,!1)}}return t})();const xA=rb(null,"core",[]);let PA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)(qe(Zm))};static#t=this.\u0275mod=Co({type:t});static#n=this.\u0275inj=Gt({})}return t})();function BA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HA(t){const n=Kn(t);if(!n)return null;const i=new qu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(nn,Je,L)=>{L.d(Je,{DS:()=>Bt,X8:()=>qt,$z:()=>Jt,UB:()=>Zn,yy:()=>Vt,ZP:()=>be,AU:()=>cn,CP:()=>At,gF:()=>Mt}),L(2438);var ae=L(177),o=L(7705),we=L(5407),fe=L(9253),Ae=L(1413),ke=L(7673),Fe=L(1985),Ue=L(8455),Z=L(7786),ce=L(941),me=L(5558),ut=L(6354),Ye=L(6129);class Tt extends Ae.B{constructor(Pe=1/0,de=1/0,Oe=Ye.U){super(),this._bufferSize=Pe,this._windowTime=de,this._timestampProvider=Oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=de===1/0,this._bufferSize=Math.max(1,Pe),this._windowTime=Math.max(1,de)}next(Pe){const{isStopped:de,_buffer:Oe,_infiniteTimeWindow:Qe,_timestampProvider:De,_windowTime:Se}=this;de||(Oe.push(Pe),!Qe&&Oe.push(De.now()+Se)),this._trimBuffer(),super.next(Pe)}_subscribe(Pe){this._throwIfClosed(),this._trimBuffer();const de=this._innerSubscribe(Pe),{_infiniteTimeWindow:Oe,_buffer:Qe}=this,De=Qe.slice();for(let Se=0;Se<De.length&&!Pe.closed;Se+=Oe?1:2)Pe.next(De[Se]);return this._checkFinalizedStatuses(Pe),de}_trimBuffer(){const{_bufferSize:Pe,_timestampProvider:de,_buffer:Oe,_infiniteTimeWindow:Qe}=this,De=(Qe?1:2)*Pe;if(Pe<1/0&&De<Oe.length&&Oe.splice(0,Oe.length-De),!Qe){const Se=de.now();let $e=0;for(let wt=1;wt<Oe.length&&Oe[wt]<=Se;wt+=2)$e=wt;$e&&Oe.splice(0,$e+1)}}}var It=L(7647);function jt(lt,Pe,de){let Oe,Qe=!1;return lt&&"object"==typeof lt?({bufferSize:Oe=1/0,windowTime:Pe=1/0,refCount:Qe=!1,scheduler:de}=lt):Oe=lt??1/0,(0,It.u)({connector:()=>new Tt(Oe,Pe,de),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Qe})}var Nt=L(1594),sn=L(8071);function et(lt,Pe){return(0,sn.T)(Pe)?(0,me.n)(()=>lt,Pe):(0,me.n)(()=>lt)}var Ge=L(6745),at=L(5964),Ze=L(7935);const At=new o.nKC("angularfire2.auth.use-emulator"),Vt=new o.nKC("angularfire2.auth.settings"),be=new o.nKC("angularfire2.auth.tenant-id"),Jt=new o.nKC("angularfire2.auth.langugage-code"),cn=new o.nKC("angularfire2.auth.use-device-language"),Zn=new o.nKC("angularfire.auth.persistence"),Mt=(lt,Pe,de,Oe,Qe,De,Se,$e)=>(0,fe.BM)(`${lt.name}.auth`,"AngularFireAuth",lt.name,()=>{const wt=Pe.runOutsideAngular(()=>lt.auth());if(de&&wt.useEmulator(...de),Oe&&(wt.tenantId=Oe),wt.languageCode=Qe,De&&wt.useDeviceLanguage(),Se)for(const[xt,un]of Object.entries(Se))wt.settings[xt]=un;return $e&&wt.setPersistence($e),wt},[de,Oe,Qe,De,Se,$e]);let Bt=(()=>{class lt{authState;idToken;user;idTokenResult;credential;constructor(de,Oe,Qe,De,Se,$e,wt,xt,un,rn,On,Cn){const dr=new Ae.B,Gt=(0,ke.of)(void 0).pipe((0,ce.Q)(Se.outsideAngular),(0,me.n)(()=>De.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,ut.T)(()=>(0,fe.iB)(de,De,Oe)),(0,ut.T)(In=>Mt(In,De,$e,xt,un,rn,wt,On)),jt({bufferSize:1,refCount:!1}));if((0,ae.Vy)(Qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ke.of)(null);else{Gt.pipe((0,Nt.$)()).subscribe();const In=Gt.pipe((0,me.n)(Lt=>Lt.getRedirectResult().then(Fr=>Fr,()=>null)),we.U0,jt({bufferSize:1,refCount:!1})),Un=Gt.pipe((0,me.n)(Lt=>new Fe.c(Fr=>({unsubscribe:De.runOutsideAngular(()=>Lt.onAuthStateChanged(ln=>Fr.next(ln),ln=>Fr.error(ln),()=>Fr.complete()))})))),Wt=Gt.pipe((0,me.n)(Lt=>new Fe.c(Fr=>({unsubscribe:De.runOutsideAngular(()=>Lt.onIdTokenChanged(ln=>Fr.next(ln),ln=>Fr.error(ln),()=>Fr.complete()))}))));this.authState=In.pipe(et(Un),(0,Ge._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular)),this.user=In.pipe(et(Wt),(0,Ge._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular)),this.idToken=this.user.pipe((0,me.n)(Lt=>Lt?(0,Ue.H)(Lt.getIdToken()):(0,ke.of)(null))),this.idTokenResult=this.user.pipe((0,me.n)(Lt=>Lt?(0,Ue.H)(Lt.getIdTokenResult()):(0,ke.of)(null))),this.credential=(0,Z.h)(In,dr,this.authState.pipe((0,at.p)(Lt=>!Lt))).pipe((0,ut.T)(Lt=>Lt?.user?Lt:null),(0,Ge._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular))}return(0,fe.Gt)(this,Gt,De,{spy:{apply:(In,Un,Wt)=>{(In.startsWith("signIn")||In.startsWith("createUser"))&&Wt.then(Lt=>dr.next(Lt))}}})}static \u0275fac=function(Oe){return new(Oe||lt)(o.KVO(fe.rx),o.KVO(fe.uP,8),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(we.u0),o.KVO(At,8),o.KVO(Vt,8),o.KVO(be,8),o.KVO(Jt,8),o.KVO(cn,8),o.KVO(Zn,8),o.KVO(we.Jv,8))};static \u0275prov=o.jDH({token:lt,factory:lt.\u0275fac,providedIn:"any"})}return lt})(),qt=(()=>{class lt{constructor(){Ze.A.registerVersion("angularfire",we.xv.full,"auth-compat")}static \u0275fac=function(Oe){return new(Oe||lt)};static \u0275mod=o.$C({type:lt});static \u0275inj=o.G2t({providers:[Bt]})}return lt})()},6340:(nn,Je,L)=>{L.d(Je,{Qe:()=>vi,cM:()=>ze});var c=L(177),ae=L(7705),o=L(5407),we=L(9253),fe=L(1977),Ae=L(3236),ke=L(1985),Fe=L(8455),Ue=L(7673),Z=L(9172),ce=L(9974),me=L(4360);function ut(){return(0,ce.N)((yt,ie)=>{let Ie,pt=!1;yt.subscribe((0,me._)(ie,Kt=>{const xn=Ie;Ie=Kt,pt&&ie.next([xn,Kt]),pt=!0}))})}var Ye=L(6354),Tt=L(2816),It=L(3294),jt=L(5964),sn=(L(2438),L(3345)),et=L(9583),Ge=L(1076),at=L(1362);function At(yt,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new et.W6("invalid-argument",`Invalid options passed to function ${yt}(): You cannot specify both "merge" and "mergeFields".`);return ie}function Vt(){if(typeof Uint8Array>"u")throw new et.W6("unimplemented","Uint8Arrays are not available in this environment.")}function be(){if(!(0,et.qG)())throw new et.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Jt{constructor(ie){this._delegate=ie}static fromBase64String(ie){return be(),new Jt(et.Ix.fromBase64String(ie))}static fromUint8Array(ie){return Vt(),new Jt(et.Ix.fromUint8Array(ie))}toBase64(){return be(),this._delegate.toBase64()}toUint8Array(){return Vt(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cn(yt){return function Zn(yt,ie){if("object"!=typeof yt||null===yt)return!1;const Ie=yt;for(const pt of ie)if(pt in Ie&&"function"==typeof Ie[pt])return!0;return!1}(yt,["next","error","complete"])}class Mt{enableIndexedDbPersistence(ie,Ie){return(0,et.ol)(ie._delegate,{forceOwnership:Ie})}enableMultiTabIndexedDbPersistence(ie){return(0,et.Q5)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,et.me)(ie._delegate)}}class Bt{constructor(ie,Ie,pt){this._delegate=Ie,this._persistenceProvider=pt,this.INTERNAL={delete:()=>this.terminate()},ie instanceof et.cm||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Ie=this._delegate._getSettings();!ie.merge&&Ie.host!==ie.host&&(0,et.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Ie),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Ie,pt={}){(0,et.vN)(this._delegate,ie,Ie,pt)}enableNetwork(){return(0,et.Os)(this._delegate)}disableNetwork(){return(0,et.LA)(this._delegate)}enablePersistence(ie){let Ie=!1,pt=!1;return ie&&(Ie=!!ie.synchronizeTabs,pt=!!ie.experimentalForceOwningTab,(0,et.c8)("synchronizeTabs",Ie,"experimentalForceOwningTab",pt)),Ie?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,pt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,et.iB)(this._delegate)}onSnapshotsInSync(ie){return(0,et.FC)(this._delegate,ie)}get app(){if(!this._appCompat)throw new et.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new Cn(this,(0,et.rJ)(this._delegate,ie))}catch(Ie){throw De(Ie,"collection()","Firestore.collection()")}}doc(ie){try{return new Qe(this,(0,et.H9)(this._delegate,ie))}catch(Ie){throw De(Ie,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new un(this,(0,et.Cs)(this._delegate,ie))}catch(Ie){throw De(Ie,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,et.c4)(this._delegate,Ie=>ie(new Pe(this,Ie)))}batch(){return(0,et.Ws)(this._delegate),new de(new et.GA(this._delegate,ie=>(0,et.z6)(this._delegate,ie)))}loadBundle(ie){return(0,et.po)(this._delegate,ie)}namedQuery(ie){return(0,et.St)(this._delegate,ie).then(Ie=>Ie?new un(this,Ie):null)}}class qt extends et.fS{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new Jt(new et.Ix(ie))}convertReference(ie){const Ie=this.convertDocumentKey(ie,this.firestore._databaseId);return Qe.forKey(Ie,this.firestore,null)}}class Pe{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}get(ie){const Ie=dr(ie);return this._delegate.get(Ie).then(pt=>new wt(this._firestore,new et.Wq(this._firestore._delegate,this._userDataWriter,pt._key,pt._document,pt.metadata,Ie.converter)))}set(ie,Ie,pt){const Kt=dr(ie);return pt?(At("Transaction.set",pt),this._delegate.set(Kt,Ie,pt)):this._delegate.set(Kt,Ie),this}update(ie,Ie,pt,...Kt){const xn=dr(ie);return 2===arguments.length?this._delegate.update(xn,Ie):this._delegate.update(xn,Ie,pt,...Kt),this}delete(ie){const Ie=dr(ie);return this._delegate.delete(Ie),this}}class de{constructor(ie){this._delegate=ie}set(ie,Ie,pt){const Kt=dr(ie);return pt?(At("WriteBatch.set",pt),this._delegate.set(Kt,Ie,pt)):this._delegate.set(Kt,Ie),this}update(ie,Ie,pt,...Kt){const xn=dr(ie);return 2===arguments.length?this._delegate.update(xn,Ie):this._delegate.update(xn,Ie,pt,...Kt),this}delete(ie){const Ie=dr(ie);return this._delegate.delete(Ie),this}commit(){return this._delegate.commit()}}class Oe{constructor(ie,Ie,pt){this._firestore=ie,this._userDataWriter=Ie,this._delegate=pt}fromFirestore(ie,Ie){const pt=new et.YQ(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new xt(this._firestore,pt),Ie??{})}toFirestore(ie,Ie){return Ie?this._delegate.toFirestore(ie,Ie):this._delegate.toFirestore(ie)}static getInstance(ie,Ie){const pt=Oe.INSTANCES;let Kt=pt.get(ie);Kt||(Kt=new WeakMap,pt.set(ie,Kt));let xn=Kt.get(Ie);return xn||(xn=new Oe(ie,new qt(ie),Ie),Kt.set(Ie,xn)),xn}}Oe.INSTANCES=new WeakMap;class Qe{constructor(ie,Ie){this.firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}static forPath(ie,Ie,pt){if(ie.length%2!=0)throw new et.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new Qe(Ie,new et.T1(Ie._delegate,pt,new et.K$(ie)))}static forKey(ie,Ie,pt){return new Qe(Ie,new et.T1(Ie._delegate,pt,ie))}get id(){return this._delegate.id}get parent(){return new Cn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new Cn(this.firestore,(0,et.rJ)(this._delegate,ie))}catch(Ie){throw De(Ie,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,Ge.Ku)(ie))instanceof et.T1&&(0,et.yx)(this._delegate,ie)}set(ie,Ie){Ie=At("DocumentReference.set",Ie);try{return Ie?(0,et.BN)(this._delegate,ie,Ie):(0,et.BN)(this._delegate,ie)}catch(pt){throw De(pt,"setDoc()","DocumentReference.set()")}}update(ie,Ie,...pt){try{return 1===arguments.length?(0,et.mZ)(this._delegate,ie):(0,et.mZ)(this._delegate,ie,Ie,...pt)}catch(Kt){throw De(Kt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,et.kd)(this._delegate)}onSnapshot(...ie){const Ie=Se(ie),pt=$e(ie,Kt=>new wt(this.firestore,new et.Wq(this.firestore._delegate,this._userDataWriter,Kt._key,Kt._document,Kt.metadata,this._delegate.converter)));return(0,et.aQ)(this._delegate,Ie,pt)}get(ie){let Ie;return Ie="cache"===ie?.source?(0,et.nY)(this._delegate):"server"===ie?.source?(0,et._e)(this._delegate):(0,et.x7)(this._delegate),Ie.then(pt=>new wt(this.firestore,new et.Wq(this.firestore._delegate,this._userDataWriter,pt._key,pt._document,pt.metadata,this._delegate.converter)))}withConverter(ie){return new Qe(this.firestore,this._delegate.withConverter(ie?Oe.getInstance(this.firestore,ie):null))}}function De(yt,ie,Ie){return yt.message=yt.message.replace(ie,Ie),yt}function Se(yt){for(const ie of yt)if("object"==typeof ie&&!cn(ie))return ie;return{}}function $e(yt,ie){var Ie,pt;let Kt;return Kt=cn(yt[0])?yt[0]:cn(yt[1])?yt[1]:"function"==typeof yt[0]?{next:yt[0],error:yt[1],complete:yt[2]}:{next:yt[1],error:yt[2],complete:yt[3]},{next:xn=>{Kt.next&&Kt.next(ie(xn))},error:null===(Ie=Kt.error)||void 0===Ie?void 0:Ie.bind(Kt),complete:null===(pt=Kt.complete)||void 0===pt?void 0:pt.bind(Kt)}}class wt{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get ref(){return new Qe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Ie){return this._delegate.get(ie,Ie)}isEqual(ie){return(0,et.lN)(this._delegate,ie._delegate)}}class xt extends wt{data(ie){const Ie=this._delegate.data(ie);return this._delegate._converter||(0,et.bI)(void 0!==Ie,"Document in a QueryDocumentSnapshot should exist"),Ie}}class un{constructor(ie,Ie){this.firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}where(ie,Ie,pt){try{return new un(this.firestore,(0,et.P)(this._delegate,(0,et._M)(ie,Ie,pt)))}catch(Kt){throw De(Kt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Ie){try{return new un(this.firestore,(0,et.P)(this._delegate,(0,et.My)(ie,Ie)))}catch(pt){throw De(pt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new un(this.firestore,(0,et.P)(this._delegate,(0,et.AB)(ie)))}catch(Ie){throw De(Ie,"limit()","Query.limit()")}}limitToLast(ie){try{return new un(this.firestore,(0,et.P)(this._delegate,(0,et.$1)(ie)))}catch(Ie){throw De(Ie,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new un(this.firestore,(0,et.P)(this._delegate,(0,et.EO)(...ie)))}catch(Ie){throw De(Ie,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new un(this.firestore,(0,et.P)(this._delegate,(0,et.HM)(...ie)))}catch(Ie){throw De(Ie,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new un(this.firestore,(0,et.P)(this._delegate,(0,et.rf)(...ie)))}catch(Ie){throw De(Ie,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new un(this.firestore,(0,et.P)(this._delegate,(0,et.FD)(...ie)))}catch(Ie){throw De(Ie,"endAt()","Query.endAt()")}}isEqual(ie){return(0,et.B)(this._delegate,ie._delegate)}get(ie){let Ie;return Ie="cache"===ie?.source?(0,et.kU)(this._delegate):"server"===ie?.source?(0,et.Rr)(this._delegate):(0,et.GG)(this._delegate),Ie.then(pt=>new On(this.firestore,new et.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,pt._snapshot)))}onSnapshot(...ie){const Ie=Se(ie),pt=$e(ie,Kt=>new On(this.firestore,new et.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Kt._snapshot)));return(0,et.aQ)(this._delegate,Ie,pt)}withConverter(ie){return new un(this.firestore,this._delegate.withConverter(ie?Oe.getInstance(this.firestore,ie):null))}}class rn{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get type(){return this._delegate.type}get doc(){return new xt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class On{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get query(){return new un(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new xt(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Ie=>new rn(this._firestore,Ie))}forEach(ie,Ie){this._delegate.forEach(pt=>{ie.call(Ie,new xt(this._firestore,pt))})}isEqual(ie){return(0,et.lN)(this._delegate,ie._delegate)}}class Cn extends un{constructor(ie,Ie){super(ie,Ie),this.firestore=ie,this._delegate=Ie}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new Qe(this.firestore,ie):null}doc(ie){try{return new Qe(this.firestore,void 0===ie?(0,et.H9)(this._delegate):(0,et.H9)(this._delegate,ie))}catch(Ie){throw De(Ie,"doc()","CollectionReference.doc()")}}add(ie){return(0,et.gS)(this._delegate,ie).then(Ie=>new Qe(this.firestore,Ie))}isEqual(ie){return(0,et.yx)(this._delegate,ie._delegate)}withConverter(ie){return new Cn(this.firestore,this._delegate.withConverter(ie?Oe.getInstance(this.firestore,ie):null))}}function dr(yt){return(0,et.lo)(yt,et.T1)}class Gt{constructor(...ie){this._delegate=new et.uY(...ie)}static documentId(){return new Gt(et.FA.keyField().canonicalString())}isEqual(ie){return(ie=(0,Ge.Ku)(ie))instanceof et.uY&&this._delegate._internalPath.isEqual(ie._internalPath)}}class In{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,et.O5)();return ie._methodName="FieldValue.serverTimestamp",new In(ie)}static delete(){const ie=(0,et.CL)();return ie._methodName="FieldValue.delete",new In(ie)}static arrayUnion(...ie){const Ie=(0,et.hq)(...ie);return Ie._methodName="FieldValue.arrayUnion",new In(Ie)}static arrayRemove(...ie){const Ie=(0,et.C3)(...ie);return Ie._methodName="FieldValue.arrayRemove",new In(Ie)}static increment(ie){const Ie=(0,et.GV)(ie);return Ie._methodName="FieldValue.increment",new In(Ie)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const Un={Firestore:Bt,GeoPoint:et.Ci,Timestamp:et.Dc,Blob:Jt,Transaction:Pe,WriteBatch:de,DocumentReference:Qe,DocumentSnapshot:wt,Query:un,QueryDocumentSnapshot:xt,QuerySnapshot:On,CollectionReference:Cn,FieldPath:Gt,FieldValue:In,setLogLevel:function lt(yt){(0,et.He)(yt)},CACHE_SIZE_UNLIMITED:et.H6};!function Lt(yt){(function Wt(yt,ie){yt.INTERNAL.registerComponent(new at.uA("firestore-compat",Ie=>{const pt=Ie.getProvider("app-compat").getImmediate(),Kt=Ie.getProvider("firestore").getImmediate();return ie(pt,Kt)},"PUBLIC").setServiceProps(Object.assign({},Un)))})(yt,(ie,Ie)=>new Bt(ie,Ie,new Mt)),yt.registerVersion("@firebase/firestore-compat","0.3.32")}(sn.A);var Fr=L(7935);function vr(yt,ie){return function ln(yt,ie=Ae.E){return new ke.c(Ie=>{let pt;return null!=ie?ie.schedule(()=>{pt=yt.onSnapshot({includeMetadataChanges:!0},Ie)}):pt=yt.onSnapshot({includeMetadataChanges:!0},Ie),()=>{pt?.()}})}(yt,ie)}function Ut(yt,ie){return vr(yt,ie).pipe((0,Ye.T)(Ie=>({payload:Ie,type:"query"})))}class gn{ref;afs;constructor(ie,Ie){this.ref=ie,this.afs=Ie}set(ie,Ie){return this.ref.set(ie,Ie)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Ie){const pt=this.ref.collection(ie),{ref:Kt,query:xn}=Pn(pt,Ie);return new Yr(Kt,xn,this.afs)}snapshotChanges(){return function Hn(yt,ie){return vr(yt,ie).pipe((0,Z.Z)(void 0),ut(),(0,Ye.T)(Ie=>{const[pt,Kt]=Ie;return Kt.exists?pt?.exists?{payload:Kt,type:"modified"}:{payload:Kt,type:"added"}:{payload:Kt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,Ye.T)(({payload:Ie})=>ie.idField?{...Ie.data(),[ie.idField]:Ie.id}:Ie.data()))}get(ie){return(0,Fe.H)(this.ref.get(ie)).pipe(o.U0)}}function Dn(yt,ie){return Ut(yt,ie).pipe((0,Z.Z)(void 0),ut(),(0,Ye.T)(Ie=>{const[pt,Kt]=Ie,xn=Kt.payload.docChanges(),Tr=xn.map(sr=>({type:sr.type,payload:sr}));return pt&&JSON.stringify(pt.payload.metadata)!==JSON.stringify(Kt.payload.metadata)&&Kt.payload.docs.forEach((sr,Re)=>{const ee=xn.find(V=>V.doc.ref.isEqual(sr.ref)),H=pt?.payload.docs.find(V=>V.ref.isEqual(sr.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(sr.metadata)||!ee&&H&&JSON.stringify(H.metadata)===JSON.stringify(sr.metadata)||Tr.push({type:"modified",payload:{oldIndex:Re,newIndex:Re,type:"modified",doc:sr}})}),Tr}))}function bn(yt,ie,Ie){return Dn(yt,Ie).pipe((0,Tt.S)((pt,Kt)=>function hr(yt,ie,Ie){return ie.forEach(pt=>{Ie.indexOf(pt.type)>-1&&(yt=function Xr(yt,ie){switch(ie.type){case"added":if(!yt[ie.newIndex]||!yt[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return Er(yt,ie.newIndex,0,ie);break;case"modified":if(null==yt[ie.oldIndex]||yt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Ie=yt.slice();return Ie.splice(ie.oldIndex,1),Ie.splice(ie.newIndex,0,ie),Ie}return Er(yt,ie.newIndex,1,ie)}break;case"removed":if(yt[ie.oldIndex]&&yt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return Er(yt,ie.oldIndex,1)}return yt}(yt,pt))}),yt}(pt,Kt.map(xn=>xn.payload),ie),[]),(0,It.F)(),(0,Ye.T)(pt=>pt.map(Kt=>({type:Kt.type,payload:Kt}))))}function Er(yt,ie,Ie,...pt){const Kt=yt.slice();return Kt.splice(ie,Ie,...pt),Kt}function jn(yt){return(!yt||0===yt.length)&&(yt=["added","removed","modified"]),yt}class Yr{ref;query;afs;constructor(ie,Ie,pt){this.ref=ie,this.query=Ie,this.afs=pt}stateChanges(ie){let Ie=Dn(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Ie=Ie.pipe((0,Ye.T)(pt=>pt.filter(Kt=>ie.indexOf(Kt.type)>-1)))),Ie.pipe((0,Z.Z)(void 0),ut(),(0,jt.p)(([pt,Kt])=>Kt.length>0||!pt),(0,Ye.T)(([,pt])=>pt),o.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Tt.S)((Ie,pt)=>[...Ie,...pt],[]))}snapshotChanges(ie){const Ie=jn(ie);return bn(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(Ie=>Ie.payload.docs.map(pt=>ie.idField?{...pt.data(),[ie.idField]:pt.id}:pt.data())),o.U0)}get(ie){return(0,Fe.H)(this.query.get(ie)).pipe(o.U0)}add(ie){return this.ref.add(ie)}doc(ie){return new gn(this.ref.doc(ie),this.afs)}}class Ki{query;afs;constructor(ie,Ie){this.query=ie,this.afs=Ie}stateChanges(ie){return ie&&0!==ie.length?Dn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(Ie=>Ie.filter(pt=>ie.indexOf(pt.type)>-1)),(0,jt.p)(Ie=>Ie.length>0),o.U0):Dn(this.query,this.afs.schedulers.outsideAngular).pipe(o.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Tt.S)((Ie,pt)=>[...Ie,...pt],[]))}snapshotChanges(ie){const Ie=jn(ie);return bn(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(pt=>pt.payload.docs.map(Kt=>ie.idField?{[ie.idField]:Kt.id,...Kt.data()}:Kt.data())),o.U0)}get(ie){return(0,Fe.H)(this.query.get(ie)).pipe(o.U0)}}const an=new ae.nKC("angularfire2.enableFirestorePersistence"),Qr=new ae.nKC("angularfire2.firestore.persistenceSettings"),Wn=new ae.nKC("angularfire2.firestore.settings"),gr=new ae.nKC("angularfire2.firestore.use-emulator");function Pn(yt,ie=(Ie=>Ie)){return{query:ie(yt),ref:yt}}let vi=(()=>{class yt{schedulers;firestore;persistenceEnabled$;constructor(Ie,pt,Kt,xn,Tr,sr,Re,ee,H,V,F,ue,Le,le,qe,_e,ot){this.schedulers=Re;const Xe=(0,we.iB)(Ie,sr,pt),Rn=H;V&&(0,fe.gF)(Xe,sr,F,Le,le,qe,ue,_e),[this.firestore,this.persistenceEnabled$]=(0,we.BM)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const En=sr.runOutsideAngular(()=>Xe.firestore());if(xn&&En.settings(xn),Rn&&En.useEmulator(...Rn),Kt&&!(0,c.Vy)(Tr)){const Zr=()=>{try{return(0,Fe.H)(En.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Cr){return typeof console<"u"&&console.warn(Cr),(0,Ue.of)(!1)}};return[En,sr.runOutsideAngular(Zr)]}return[En,(0,Ue.of)(!1)]},[xn,Rn,Kt])}collection(Ie,pt){let Kt;Kt="string"==typeof Ie?this.firestore.collection(Ie):Ie;const{ref:xn,query:Tr}=Pn(Kt,pt),sr=this.schedulers.ngZone.run(()=>xn);return new Yr(sr,Tr,this)}collectionGroup(Ie,pt){const Kt=pt||(Tr=>Tr),xn=this.firestore.collectionGroup(Ie);return new Ki(Kt(xn),this)}doc(Ie){let pt;pt="string"==typeof Ie?this.firestore.doc(Ie):Ie;const Kt=this.schedulers.ngZone.run(()=>pt);return new gn(Kt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(pt){return new(pt||yt)(ae.KVO(we.rx),ae.KVO(we.uP,8),ae.KVO(an,8),ae.KVO(Wn,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(o.u0),ae.KVO(Qr,8),ae.KVO(gr,8),ae.KVO(fe.DS,8),ae.KVO(fe.CP,8),ae.KVO(fe.yy,8),ae.KVO(fe.ZP,8),ae.KVO(fe.$z,8),ae.KVO(fe.AU,8),ae.KVO(fe.UB,8),ae.KVO(o.Jv,8))};static \u0275prov=ae.jDH({token:yt,factory:yt.\u0275fac,providedIn:"any"})}return yt})(),ze=(()=>{class yt{constructor(){Fr.A.registerVersion("angularfire",o.xv.full,"fst-compat")}static enablePersistence(Ie){return{ngModule:yt,providers:[{provide:an,useValue:!0},{provide:Qr,useValue:Ie}]}}static \u0275fac=function(pt){return new(pt||yt)};static \u0275mod=ae.$C({type:yt});static \u0275inj=ae.G2t({providers:[vi]})}return yt})()},8721:(nn,Je,L)=>{L.d(Je,{ap:()=>Pe,y5:()=>Qe});var c=L(5407),ae=L(1985),o=L(7673),we=L(8455),fe=L(3236),Ae=L(9974),ke=L(4360),Ue=L(6354),Z=L(5558),ce=L(7705),me=L(9253),ut=L(3345),Ye=L(4535),Tt=L(1362);class It{constructor(Se,$e,wt){this._delegate=Se,this.task=$e,this.ref=wt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jt{constructor(Se,$e){this._delegate=Se,this._ref=$e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new It(this._delegate.snapshot,this,this._ref)}then(Se,$e){return this._delegate.then(wt=>{if(Se)return Se(new It(wt,this,this._ref))},$e)}on(Se,$e,wt,xt){let un;return $e&&(un="function"==typeof $e?rn=>$e(new It(rn,this,this._ref)):{next:$e.next?rn=>$e.next(new It(rn,this,this._ref)):void 0,complete:$e.complete||void 0,error:$e.error||void 0}),this._delegate.on(Se,un,wt||void 0,xt||void 0)}}class Nt{constructor(Se,$e){this._delegate=Se,this._service=$e}get prefixes(){return this._delegate.prefixes.map(Se=>new sn(Se,this._service))}get items(){return this._delegate.items.map(Se=>new sn(Se,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sn{constructor(Se,$e){this._delegate=Se,this.storage=$e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Se){const $e=(0,Ye.Mp)(this._delegate,Se);return new sn($e,this.storage)}get root(){return new sn(this._delegate.root,this.storage)}get parent(){const Se=this._delegate.parent;return null==Se?null:new sn(Se,this.storage)}put(Se,$e){return this._throwIfRoot("put"),new jt((0,Ye.bp)(this._delegate,Se,$e),this)}putString(Se,$e=Ye.nw.RAW,wt){this._throwIfRoot("putString");const xt=(0,Ye.ZH)($e,Se),un=Object.assign({},wt);return null==un.contentType&&null!=xt.contentType&&(un.contentType=xt.contentType),new jt(new Ye.UC(this._delegate,new Ye.Mx(xt.data,!0),un),this)}listAll(){return(0,Ye._w)(this._delegate).then(Se=>new Nt(Se,this.storage))}list(Se){return(0,Ye.p_)(this._delegate,Se||void 0).then($e=>new Nt($e,this.storage))}getMetadata(){return(0,Ye.yb)(this._delegate)}updateMetadata(Se){return(0,Ye.D5)(this._delegate,Se)}getDownloadURL(){return(0,Ye.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ye.XR)(this._delegate)}_throwIfRoot(Se){if(""===this._delegate._location.path)throw(0,Ye.UY)(Se)}}class et{constructor(Se,$e){this.app=Se,this._delegate=$e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Se){if(Ge(Se))throw(0,Ye.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new sn((0,Ye.KR)(this._delegate,Se),this)}refFromURL(Se){if(!Ge(Se))throw(0,Ye.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ye.TZ.makeFromUrl(Se,this._delegate.host)}catch{throw(0,Ye.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new sn((0,Ye.KR)(this._delegate,Se),this)}setMaxUploadRetryTime(Se){this._delegate.maxUploadRetryTime=Se}setMaxOperationRetryTime(Se){this._delegate.maxOperationRetryTime=Se}useEmulator(Se,$e,wt={}){(0,Ye.nb)(this._delegate,Se,$e,wt)}}function Ge(De){return/^[A-Za-z]+:\/\//.test(De)}function At(De,{instanceIdentifier:Se}){const $e=De.getProvider("app-compat").getImmediate(),wt=De.getProvider("storage").getImmediate({identifier:Se});return new et($e,wt)}!function Vt(De){const Se={TaskState:Ye.Ad,TaskEvent:Ye.xc,StringFormat:Ye.nw,Storage:et,Reference:sn};De.INTERNAL.registerComponent(new Tt.uA("storage-compat",At,"PUBLIC").setServiceProps(Se).setMultipleInstances(!0)),De.registerVersion("@firebase/storage-compat","0.3.8")}(ut.A);var be=L(7935);function cn(De){const Se=function Jt(De){return new ae.c(Se=>{const $e=rn=>Se.next(rn);$e(De.snapshot);const un=De.on("state_changed",$e);return De.then(rn=>{$e(rn),Se.complete()},rn=>{$e(De.snapshot),(rn=>{Se.error(rn)})(rn)}),function(){un()}}).pipe(function Fe(De,Se=fe.E){return(0,Ae.N)(($e,wt)=>{let xt=null,un=null,rn=null;const On=()=>{if(xt){xt.unsubscribe(),xt=null;const dr=un;un=null,wt.next(dr)}};function Cn(){const dr=rn+De,Gt=Se.now();if(Gt<dr)return xt=this.schedule(void 0,dr-Gt),void wt.add(xt);On()}$e.subscribe((0,ke._)(wt,dr=>{un=dr,rn=Se.now(),xt||(xt=Se.schedule(Cn,De),wt.add(xt))},()=>{On(),wt.complete()},void 0,()=>{un=xt=null}))})}(0))}(De);return{task:De,then:De.then.bind(De),catch:De.catch.bind(De),pause:De.pause.bind(De),cancel:De.cancel.bind(De),resume:De.resume.bind(De),snapshotChanges:()=>Se,percentageChanges:()=>Se.pipe((0,Ue.T)($e=>$e.bytesTransferred/$e.totalBytes*100))}}function Zn(De){return{getDownloadURL:()=>(0,o.of)(void 0).pipe(c.Oe,(0,Z.n)(()=>De.getDownloadURL()),c.U0),getMetadata:()=>(0,o.of)(void 0).pipe(c.Oe,(0,Z.n)(()=>De.getMetadata()),c.U0),delete:()=>(0,we.H)(De.delete()),child:Se=>Zn(De.child(Se)),updateMetadata:Se=>(0,we.H)(De.updateMetadata(Se)),put:(Se,$e)=>cn(De.put(Se,$e)),putString:(Se,$e,wt)=>cn(De.putString(Se,$e,wt)),list:Se=>(0,we.H)(De.list(Se)),listAll:()=>(0,we.H)(De.listAll())}}const Mt=new ce.nKC("angularfire2.storageBucket"),Bt=new ce.nKC("angularfire2.storage.maxUploadRetryTime"),qt=new ce.nKC("angularfire2.storage.maxOperationRetryTime"),lt=new ce.nKC("angularfire2.storage.use-emulator");let Pe=(()=>{class De{storage;constructor($e,wt,xt,un,rn,On,Cn,dr,Gt,In){const Un=(0,me.iB)($e,rn,wt);this.storage=(0,me.BM)(`${Un.name}.storage.${xt}`,"AngularFireStorage",Un.name,()=>{const Wt=rn.runOutsideAngular(()=>Un.storage(xt||void 0)),Lt=Gt;return Lt&&Wt.useEmulator(...Lt),Cn&&Wt.setMaxUploadRetryTime(Cn),dr&&Wt.setMaxOperationRetryTime(dr),Wt},[Cn,dr])}ref($e){return Zn(this.storage.ref($e))}refFromURL($e){return Zn(this.storage.refFromURL($e))}upload($e,wt,xt){return Zn(this.storage.ref($e)).put(wt,xt)}static \u0275fac=function(wt){return new(wt||De)(ce.KVO(me.rx),ce.KVO(me.uP,8),ce.KVO(Mt,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(c.u0),ce.KVO(Bt,8),ce.KVO(qt,8),ce.KVO(lt,8),ce.KVO(c.Jv,8))};static \u0275prov=ce.jDH({token:De,factory:De.\u0275fac,providedIn:"any"})}return De})(),Oe=(()=>{class De{static \u0275fac=function(wt){return new(wt||De)};static \u0275mod=ce.$C({type:De});static \u0275inj=ce.G2t({})}return De})(),Qe=(()=>{class De{constructor(){be.A.registerVersion("angularfire",c.xv.full,"gcs-compat")}static \u0275fac=function(wt){return new(wt||De)};static \u0275mod=ce.$C({type:De});static \u0275inj=ce.G2t({providers:[Pe],imports:[Oe]})}return De})()},9253:(nn,Je,L)=>{L.d(Je,{BM:()=>Ye,Gt:()=>fe,bf:()=>ut,e7:()=>Ae,iB:()=>Z,rx:()=>Fe,uP:()=>Ue});var c=L(7705),ae=L(5407),o=L(7935);const we=["ngOnDestroy"],fe=(Nt,sn,et,Ge={})=>new Proxy(Nt,{get:(at,Ze)=>et.runOutsideAngular(()=>{if(Nt[Ze])return Ge?.spy?.get&&Ge.spy.get(Ze,Nt[Ze]),Nt[Ze];if(we.indexOf(Ze)>-1)return()=>{};const it=sn.toPromise().then(At=>{const Vt=At?.[Ze];return"function"==typeof Vt?Vt.bind(At):Vt?.then?Vt.then(be=>et.run(()=>be)):et.run(()=>Vt)});return new Proxy(()=>{},{get:(At,Vt)=>it[Vt],apply:(At,Vt,be)=>it.then(Jt=>{const cn=Jt?.(...be);return Ge?.spy?.apply&&Ge.spy.apply(Ze,be,cn),cn})})})}),Ae=(Nt,sn)=>{sn.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Ge=>{Object.defineProperty(Nt.prototype,Ge,Object.getOwnPropertyDescriptor(et.prototype||et,Ge))})})};class ke{constructor(sn){return sn}}const Fe=new c.nKC("angularfire2.app.options"),Ue=new c.nKC("angularfire2.app.name");function Z(Nt,sn,et){const at="object"==typeof et&&et||{};at.name=at.name||"string"==typeof et&&et||"[DEFAULT]";const it=o.A.apps.filter(At=>At&&At.name===at.name)[0]||sn.runOutsideAngular(()=>o.A.initializeApp(Nt,at));try{if(JSON.stringify(Nt)!==JSON.stringify(it.options)){const At=!!module.hot;ce("error",`${it.name} Firebase App already initialized with different options${At?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ke(it)}const ce=(Nt,...sn)=>{(0,c.naY)()&&typeof console<"u"&&console[Nt](...sn)},me={provide:ke,useFactory:Z,deps:[Fe,c.SKi,[new c.Xx1,Ue]]};let ut=(()=>{class Nt{static initializeApp(et,Ge){return{ngModule:Nt,providers:[{provide:Fe,useValue:et},{provide:Ue,useValue:Ge}]}}constructor(et){o.A.registerVersion("angularfire",ae.xv.full,"core"),o.A.registerVersion("angularfire",ae.xv.full,"app-compat"),o.A.registerVersion("angular",c.xvI.full,et.toString())}static \u0275fac=function(Ge){return new(Ge||Nt)(c.KVO(c.Agw))};static \u0275mod=c.$C({type:Nt});static \u0275inj=c.G2t({providers:[me]})}return Nt})();function Ye(Nt,sn,et,Ge,at){const[,Ze,it]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===Nt)||[];if(Ze)return function Tt(Nt,sn){try{return Nt.toString()===sn.toString()}catch{return Nt===sn}}(at,it)||(jt("error",`${sn} was already initialized on the ${et} Firebase App with different settings.${It?" You may need to reload as Firebase is not HMR aware.":""}`),jt("warn",{is:at,was:it})),Ze;{const At=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Nt,At,at]),At}}const It=typeof module<"u"&&!!module.hot,jt=(Nt,...sn)=>{(0,c.naY)()&&typeof console<"u"&&console[Nt](...sn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(nn,Je,L)=>{L.d(Je,{xv:()=>Ye,U0:()=>cn,Oe:()=>be,u0:()=>Ze,Jv:()=>Nt,CA:()=>jt,lR:()=>It,S3:()=>Bt});var c=L(7705),ae=L(2214),o=L(6780),fe=L(9687);const ke=new class Ae extends fe.q{}(class we extends o.R{constructor(lt,Pe){super(lt,Pe),this.scheduler=lt,this.work=Pe}schedule(lt,Pe=0){return Pe>0?super.schedule(lt,Pe):(this.delay=Pe,this.state=lt,this.scheduler.flush(this),this)}execute(lt,Pe){return Pe>0||this.closed?super.execute(lt,Pe):this._execute(lt,Pe)}requestAsyncId(lt,Pe,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(lt,Pe,de):(lt.flush(this),0)}});var Ue=L(3236),Z=L(1985),ce=L(8141),me=L(941),ut=L(6745);const Ye=new c.RxE("ANGULARFIRE2_VERSION");function It(qt,lt,Pe){if(lt){if(1===lt.length)return lt[0];const Qe=lt.filter(De=>De.app===Pe);if(1===Qe.length)return Qe[0]}return Pe.container.getProvider(qt).getImmediate({optional:!0})}const jt=(qt,lt)=>{const Pe=lt?[lt]:(0,ae.Dk)(),de=[];return Pe.forEach(Oe=>{Oe.container.getProvider(qt).instances.forEach(De=>{de.includes(De)||de.push(De)})}),de};class Nt{constructor(){return jt(sn)}}const sn="app-check";function et(){}class Ge{zone;delegate;constructor(lt,Pe=ke){this.zone=lt,this.delegate=Pe}now(){return this.delegate.now()}schedule(lt,Pe,de){const Oe=this.zone;return this.delegate.schedule(function(De){Oe.runGuarded(()=>{lt.apply(this,[De])})},Pe,de)}}class at{zone;task=null;constructor(lt){this.zone=lt}call(lt,Pe){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et)),Pe.pipe((0,ce.M)({next:de,complete:de,error:de})).subscribe(lt).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class qt{ngZone;outsideAngular;insideAngular;constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new Ge(Zone.current)),this.insideAngular=Pe.run(()=>new Ge(Zone.current,Ue.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(de){return new(de||qt)(c.KVO(c.SKi))};static \u0275prov=c.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})();function it(){const qt=globalThis.\u0275AngularFireScheduler;if(!qt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return qt}function Vt(qt){return it().ngZone.run(()=>qt())}function be(qt){return qt.pipe((0,me.Q)(it().outsideAngular))}function cn(qt){return function Zn(qt){return function(Pe){return(Pe=Pe.lift(new at(qt.ngZone))).pipe((0,ut._)(qt.outsideAngular),(0,me.Q)(qt.insideAngular))}}(it())(qt)}const Mt=(qt,lt)=>function(){const de=arguments;return lt&&setTimeout(()=>{"scheduled"===lt.state&&lt.invoke()},10),Vt(()=>qt.apply(void 0,de))},Bt=(qt,lt)=>function(){let Pe;const de=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof de[Qe]&&(lt&&(Pe||=Vt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et))),de[Qe]=Mt(de[Qe],Pe));const Oe=function At(qt){return it().ngZone.runOutsideAngular(()=>qt())}(()=>qt.apply(this,de));if(!lt){if(Oe instanceof Z.c){const Qe=it();return Oe.pipe((0,ut._)(Qe.outsideAngular),(0,me.Q)(Qe.insideAngular))}return Vt(()=>Oe)}return Oe instanceof Z.c?Oe.pipe(cn):Oe instanceof Promise?Vt(()=>new Promise((Qe,De)=>Oe.then(Se=>Vt(()=>Qe(Se)),Se=>Vt(()=>De(Se))))):"function"==typeof Oe&&Pe?function(){return setTimeout(()=>{Pe&&"scheduled"===Pe.state&&Pe.invoke()},10),Oe.apply(this,arguments)}:Vt(()=>Oe)}},4341:(nn,Je,L)=>{L.d(Je,{Zm:()=>jt,me:()=>Ge,v8:()=>ro,ok:()=>Ns,JD:()=>Ur,j4:()=>en,$R:()=>cr,YN:()=>aa,BC:()=>Dn,cb:()=>bn,cV:()=>zi,vS:()=>Qo,xH:()=>mi,Q0:()=>os,Fm:()=>Lr,X1:()=>Da,YS:()=>ei,wz:()=>Io,k0:()=>be,qT:()=>ws,y7:()=>bt});var c=L(7705),ae=L(177),o=L(8455),we=L(1985),fe=L(3073),Ae=L(8750),ke=L(3794),Fe=L(4360),Ue=L(6450),Z=L(8496),me=L(6354);let ut=(()=>{class G{constructor(O,oe){this._renderer=O,this._elementRef=oe,this.onChange=Ne=>{},this.onTouched=()=>{}}setProperty(O,oe){this._renderer.setProperty(this._elementRef.nativeElement,O,oe)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(c.sFG),c.rXU(c.aKT))};static#t=this.\u0275dir=c.FsC({type:G})}return G})(),Ye=(()=>{class G extends ut{static#e=this.\u0275fac=function(){let O;return function(Ne){return(O||(O=c.xGo(G)))(Ne||G)}}();static#t=this.\u0275dir=c.FsC({type:G,features:[c.Vt3]})}return G})();const Tt=new c.nKC("NgValueAccessor"),It={provide:Tt,useExisting:(0,c.Rfq)(()=>jt),multi:!0};let jt=(()=>{class G extends Ye{writeValue(O){this.setProperty("checked",O)}static#e=this.\u0275fac=function(){let O;return function(Ne){return(O||(O=c.xGo(G)))(Ne||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(oe,Ne){1&oe&&c.bIt("change",function(Bn){return Ne.onChange(Bn.target.checked)})("blur",function(){return Ne.onTouched()})},features:[c.Jv_([It]),c.Vt3]})}return G})();const Nt={provide:Tt,useExisting:(0,c.Rfq)(()=>Ge),multi:!0},et=new c.nKC("CompositionEventMode");let Ge=(()=>{class G extends ut{constructor(O,oe,Ne){super(O,oe),this._compositionMode=Ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sn(){const G=(0,ae.QT)()?(0,ae.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(et,8))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Ne){1&oe&&c.bIt("input",function(Bn){return Ne._handleInput(Bn.target.value)})("blur",function(){return Ne.onTouched()})("compositionstart",function(){return Ne._compositionStart()})("compositionend",function(Bn){return Ne._compositionEnd(Bn.target.value)})},features:[c.Jv_([Nt]),c.Vt3]})}return G})();function at(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function Ze(G){return null!=G&&"number"==typeof G.length}const it=new c.nKC("NgValidators"),At=new c.nKC("NgAsyncValidators"),Vt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(X){return function Jt(G){return X=>{if(at(X.value)||at(G))return null;const O=parseFloat(X.value);return!isNaN(O)&&O<G?{min:{min:G,actual:X.value}}:null}}(X)}static max(X){return function cn(G){return X=>{if(at(X.value)||at(G))return null;const O=parseFloat(X.value);return!isNaN(O)&&O>G?{max:{max:G,actual:X.value}}:null}}(X)}static required(X){return Zn(X)}static requiredTrue(X){return function Mt(G){return!0===G.value?null:{required:!0}}(X)}static email(X){return function Bt(G){return at(G.value)||Vt.test(G.value)?null:{email:!0}}(X)}static minLength(X){return function qt(G){return X=>at(X.value)||!Ze(X.value)?null:X.value.length<G?{minlength:{requiredLength:G,actualLength:X.value.length}}:null}(X)}static maxLength(X){return function lt(G){return X=>Ze(X.value)&&X.value.length>G?{maxlength:{requiredLength:G,actualLength:X.value.length}}:null}(X)}static pattern(X){return function Pe(G){if(!G)return de;let X,O;return"string"==typeof G?(O="","^"!==G.charAt(0)&&(O+="^"),O+=G,"$"!==G.charAt(G.length-1)&&(O+="$"),X=new RegExp(O)):(O=G.toString(),X=G),oe=>{if(at(oe.value))return null;const Ne=oe.value;return X.test(Ne)?null:{pattern:{requiredPattern:O,actualValue:Ne}}}}(X)}static nullValidator(X){return null}static compose(X){return xt(X)}static composeAsync(X){return rn(X)}}function Zn(G){return at(G.value)?{required:!0}:null}function de(G){return null}function Oe(G){return null!=G}function Qe(G){return(0,c.jNT)(G)?(0,o.H)(G):G}function De(G){let X={};return G.forEach(O=>{X=null!=O?{...X,...O}:X}),0===Object.keys(X).length?null:X}function Se(G,X){return X.map(O=>O(G))}function wt(G){return G.map(X=>function $e(G){return!G.validate}(X)?X:O=>X.validate(O))}function xt(G){if(!G)return null;const X=G.filter(Oe);return 0==X.length?null:function(O){return De(Se(O,X))}}function un(G){return null!=G?xt(wt(G)):null}function rn(G){if(!G)return null;const X=G.filter(Oe);return 0==X.length?null:function(O){return function ce(...G){const X=(0,ke.ms)(G),{args:O,keys:oe}=(0,fe.D)(G),Ne=new we.c(_n=>{const{length:Bn}=O;if(!Bn)return void _n.complete();const io=new Array(Bn);let go=Bn,oo=Bn;for(let as=0;as<Bn;as++){let Bo=!1;(0,Ae.Tg)(O[as]).subscribe((0,Fe._)(_n,$o=>{Bo||(Bo=!0,oo--),io[as]=$o},()=>go--,void 0,()=>{(!go||!Bo)&&(oo||_n.next(oe?(0,Z.e)(oe,io):io),_n.complete())}))}});return X?Ne.pipe((0,Ue.I)(X)):Ne}(Se(O,X).map(Qe)).pipe((0,me.T)(De))}}function On(G){return null!=G?rn(wt(G)):null}function Cn(G,X){return null===G?[X]:Array.isArray(G)?[...G,X]:[G,X]}function dr(G){return G._rawValidators}function Gt(G){return G._rawAsyncValidators}function In(G){return G?Array.isArray(G)?G:[G]:[]}function Un(G,X){return Array.isArray(G)?G.includes(X):G===X}function Wt(G,X){const O=In(X);return In(G).forEach(Ne=>{Un(O,Ne)||O.push(Ne)}),O}function Lt(G,X){return In(X).filter(O=>!Un(G,O))}class Fr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=un(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=On(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,O){return!!this.control&&this.control.hasError(X,O)}getError(X,O){return this.control?this.control.getError(X,O):null}}class ln extends Fr{get formDirective(){return null}get path(){return null}}class vr extends Fr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hn{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dn=(()=>{class G extends Hn{constructor(O){super(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(vr,2))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Ne){2&oe&&c.AVh("ng-untouched",Ne.isUntouched)("ng-touched",Ne.isTouched)("ng-pristine",Ne.isPristine)("ng-dirty",Ne.isDirty)("ng-valid",Ne.isValid)("ng-invalid",Ne.isInvalid)("ng-pending",Ne.isPending)},features:[c.Vt3]})}return G})(),bn=(()=>{class G extends Hn{constructor(O){super(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(ln,10))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Ne){2&oe&&c.AVh("ng-untouched",Ne.isUntouched)("ng-touched",Ne.isTouched)("ng-pristine",Ne.isPristine)("ng-dirty",Ne.isDirty)("ng-valid",Ne.isValid)("ng-invalid",Ne.isInvalid)("ng-pending",Ne.isPending)("ng-submitted",Ne.isSubmitted)},features:[c.Vt3]})}return G})();const Kt="VALID",xn="INVALID",Tr="PENDING",sr="DISABLED";function Re(G){return(F(G)?G.validators:G)||null}function H(G,X){return(F(X)?X.asyncValidators:G)||null}function F(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function ue(G,X,O){const oe=G.controls;if(!(X?Object.keys(oe):oe).length)throw new c.wOt(1e3,"");if(!oe[O])throw new c.wOt(1001,"")}function Le(G,X,O){G._forEachChild((oe,Ne)=>{if(void 0===O[Ne])throw new c.wOt(1002,"")})}class le{constructor(X,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===xn}get pending(){return this.status==Tr}get disabled(){return this.status===sr}get enabled(){return this.status!==sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(Wt(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(Wt(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(Lt(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(Lt(X,this._rawAsyncValidators))}hasValidator(X){return Un(this._rawValidators,X)}hasAsyncValidator(X){return Un(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=Tr,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const O=this._parentMarkedDirty(X.onlySelf);this.status=sr,this.errors=null,this._forEachChild(oe=>{oe.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:O}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(X={}){const O=this._parentMarkedDirty(X.onlySelf);this.status=Kt,this._forEachChild(oe=>{oe.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:O}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===Tr)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sr:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=Tr,this._hasOwnPendingAsyncValidator=!0;const O=Qe(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,O={}){this.errors=X,this._updateControlsErrors(!1!==O.emitEvent)}get(X){let O=X;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((oe,Ne)=>oe&&oe._find(Ne),this)}getError(X,O){const oe=O?this.get(O):this;return oe&&oe.errors?oe.errors[X]:null}hasError(X,O){return!!this.getError(X,O)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?sr:this.errors?xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tr)?Tr:this._anyControlsHaveStatus(xn)?xn:Kt}_anyControlsHaveStatus(X){return this._anyControls(O=>O.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){F(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function ee(G){return Array.isArray(G)?un(G):G||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function V(G){return Array.isArray(G)?On(G):G||null}(this._rawAsyncValidators)}}class qe extends le{constructor(X,O,oe){super(Re(O),H(oe,O)),this.controls=X,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,O){return this.controls[X]?this.controls[X]:(this.controls[X]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(X,O,oe={}){this.registerControl(X,O),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(X,O={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(X,O,oe={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],O&&this.registerControl(X,O),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,O={}){Le(this,0,X),Object.keys(X).forEach(oe=>{ue(this,!0,oe),this.controls[oe].setValue(X[oe],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(X,O={}){null!=X&&(Object.keys(X).forEach(oe=>{const Ne=this.controls[oe];Ne&&Ne.patchValue(X[oe],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(X={},O={}){this._forEachChild((oe,Ne)=>{oe.reset(X?X[Ne]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(X,O,oe)=>(X[oe]=O.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(O,oe)=>!!oe._syncPendingControls()||O);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(O=>{const oe=this.controls[O];oe&&X(oe,O)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[O,oe]of Object.entries(this.controls))if(this.contains(O)&&X(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,oe,Ne)=>((oe.enabled||this.disabled)&&(O[Ne]=oe.value),O))}_reduceChildren(X,O){let oe=X;return this._forEachChild((Ne,_n)=>{oe=O(oe,Ne,_n)}),oe}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class Xe extends qe{}const En=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Zr}),Zr="always";function Cr(G,X){return[...X.path,G]}function Xo(G,X,O=Zr){ii(G,X),X.valueAccessor.writeValue(G.value),(G.disabled||"always"===O)&&X.valueAccessor.setDisabledState?.(G.disabled),function gt(G,X){X.valueAccessor.registerOnChange(O=>{G._pendingValue=O,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Pt(G,X)})}(G,X),function dn(G,X){const O=(oe,Ne)=>{X.valueAccessor.writeValue(oe),Ne&&X.viewToModelUpdate(oe)};G.registerOnChange(O),X._registerOnDestroy(()=>{G._unregisterOnChange(O)})}(G,X),function tt(G,X){X.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Pt(G,X),"submit"!==G.updateOn&&G.markAsTouched()})}(G,X),function Oi(G,X){if(X.valueAccessor.setDisabledState){const O=oe=>{X.valueAccessor.setDisabledState(oe)};G.registerOnDisabledChange(O),X._registerOnDestroy(()=>{G._unregisterOnDisabledChange(O)})}}(G,X)}function ci(G,X,O=!0){const oe=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(oe),X.valueAccessor.registerOnTouched(oe)),nr(G,X),G&&(X._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function no(G,X){G.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(X)})}function ii(G,X){const O=dr(G);null!==X.validator?G.setValidators(Cn(O,X.validator)):"function"==typeof O&&G.setValidators([O]);const oe=Gt(G);null!==X.asyncValidator?G.setAsyncValidators(Cn(oe,X.asyncValidator)):"function"==typeof oe&&G.setAsyncValidators([oe]);const Ne=()=>G.updateValueAndValidity();no(X._rawValidators,Ne),no(X._rawAsyncValidators,Ne)}function nr(G,X){let O=!1;if(null!==G){if(null!==X.validator){const Ne=dr(G);if(Array.isArray(Ne)&&Ne.length>0){const _n=Ne.filter(Bn=>Bn!==X.validator);_n.length!==Ne.length&&(O=!0,G.setValidators(_n))}}if(null!==X.asyncValidator){const Ne=Gt(G);if(Array.isArray(Ne)&&Ne.length>0){const _n=Ne.filter(Bn=>Bn!==X.asyncValidator);_n.length!==Ne.length&&(O=!0,G.setAsyncValidators(_n))}}}const oe=()=>{};return no(X._rawValidators,oe),no(X._rawAsyncValidators,oe),O}function Pt(G,X){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function wn(G,X){ii(G,X)}function Sr(G,X){if(!G.hasOwnProperty("model"))return!1;const O=G.model;return!!O.isFirstChange()||!Object.is(X,O.currentValue)}function ki(G,X){G._syncPendingControls(),X.forEach(O=>{const oe=O.control;"submit"===oe.updateOn&&oe._pendingChange&&(O.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}function Ts(G,X){if(!X)return null;let O,oe,Ne;return Array.isArray(X),X.forEach(_n=>{_n.constructor===Ge?O=_n:function Is(G){return Object.getPrototypeOf(G.constructor)===Ye}(_n)?oe=_n:Ne=_n}),Ne||oe||O||null}const Oo={provide:ln,useExisting:(0,c.Rfq)(()=>zi)},xi=(()=>Promise.resolve())();let zi=(()=>{class G extends ln{constructor(O,oe,Ne){super(),this.callSetDisabledState=Ne,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new qe({},un(O),On(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){xi.then(()=>{const oe=this._findContainer(O.path);O.control=oe.registerControl(O.name,O.control),Xo(O.control,O,this.callSetDisabledState),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){xi.then(()=>{const oe=this._findContainer(O.path);oe&&oe.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){xi.then(()=>{const oe=this._findContainer(O.path),Ne=new qe({});wn(Ne,O),oe.registerControl(O.name,Ne),Ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){xi.then(()=>{const oe=this._findContainer(O.path);oe&&oe.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,oe){xi.then(()=>{this.form.get(O.path).setValue(oe)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,ki(this.form,this._directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(it,10),c.rXU(At,10),c.rXU(En,8))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,Ne){1&oe&&c.bIt("submit",function(Bn){return Ne.onSubmit(Bn)})("reset",function(){return Ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([Oo]),c.Vt3]})}return G})();function mr(G,X){const O=G.indexOf(X);O>-1&&G.splice(O,1)}function ds(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const Vr=class extends le{constructor(X=null,O,oe){super(Re(O),H(oe,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=ds(X)?X.value:X)}setValue(X,O={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(X,O={}){this.setValue(X,O)}reset(X=this.defaultValue,O={}){this._applyFormState(X),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){mr(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){mr(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){ds(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}};let uo=(()=>{class G extends ln{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Cr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let O;return function(Ne){return(O||(O=c.xGo(G)))(Ne||G)}}();static#t=this.\u0275dir=c.FsC({type:G,features:[c.Vt3]})}return G})();const oi={provide:vr,useExisting:(0,c.Rfq)(()=>Qo)},Co=(()=>Promise.resolve())();let Qo=(()=>{class G extends vr{constructor(O,oe,Ne,_n,Bn,io){super(),this._changeDetectorRef=Bn,this.callSetDisabledState=io,this.control=new Vr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ne),this.valueAccessor=Ts(0,_n)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const oe=O.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),Sr(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Co.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const oe=O.isDisabled.currentValue,Ne=0!==oe&&(0,c.L39)(oe);Co.then(()=>{Ne&&!this.control.disabled?this.control.disable():!Ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?Cr(O,this._parent):[O]}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(ln,9),c.rXU(it,10),c.rXU(At,10),c.rXU(Tt,10),c.rXU(c.gRc,8),c.rXU(En,8))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([oi]),c.Vt3,c.OA$]})}return G})(),ws=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})();const lo={provide:Tt,useExisting:(0,c.Rfq)(()=>os),multi:!0};let os=(()=>{class G extends Ye{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=oe=>{O(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let O;return function(Ne){return(O||(O=c.xGo(G)))(Ne||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Ne){1&oe&&c.bIt("input",function(Bn){return Ne.onChange(Bn.target.value)})("blur",function(){return Ne.onTouched()})},features:[c.Jv_([lo]),c.Vt3]})}return G})();const Kn={provide:Tt,useExisting:(0,c.Rfq)(()=>Lr),multi:!0};let bi=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=c.$C({type:G});static#n=this.\u0275inj=c.G2t({})}return G})(),ho=(()=>{class G{constructor(){this._accessors=[]}add(O,oe){this._accessors.push([O,oe])}remove(O){for(let oe=this._accessors.length-1;oe>=0;--oe)if(this._accessors[oe][1]===O)return void this._accessors.splice(oe,1)}select(O){this._accessors.forEach(oe=>{this._isSameGroup(oe,O)&&oe[1]!==O&&oe[1].fireUncheck(O.value)})}_isSameGroup(O,oe){return!!O[0].control&&O[0]._parent===oe._control._parent&&O[1].name===oe.name}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275prov=c.jDH({token:G,factory:G.\u0275fac,providedIn:bi})}return G})(),Lr=(()=>{class G extends Ye{constructor(O,oe,Ne,_n){super(O,oe),this._registry=Ne,this._injector=_n,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,c.WQX)(En,{optional:!0})??Zr}ngOnInit(){this._control=this._injector.get(vr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(O){this._state=O===this.value,this.setProperty("checked",this._state)}registerOnChange(O){this._fn=O,this.onChange=()=>{O(this.value),this._registry.select(this)}}setDisabledState(O){(this.setDisabledStateFired||O||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",O),this.setDisabledStateFired=!0}fireUncheck(O){this.writeValue(O)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(ho),c.rXU(c.zZn))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(oe,Ne){1&oe&&c.bIt("change",function(){return Ne.onChange()})("blur",function(){return Ne.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c.Jv_([Kn]),c.Vt3]})}return G})();const Fi=new c.nKC("NgModelWithFormControlWarning"),xr={provide:ln,useExisting:(0,c.Rfq)(()=>en)};let en=(()=>{class G extends ln{constructor(O,oe,Ne){super(),this.callSetDisabledState=Ne,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(O),this._setAsyncValidators(oe)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const oe=this.form.get(O.path);return Xo(oe,O,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),oe}getControl(O){return this.form.get(O.path)}removeControl(O){ci(O.control||null,O,!1),function yi(G,X){const O=G.indexOf(X);O>-1&&G.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,oe){this.form.get(O.path).setValue(oe)}onSubmit(O){return this.submitted=!0,ki(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const oe=O.control,Ne=this.form.get(O.path);oe!==Ne&&(ci(oe||null,O),(G=>G instanceof Vr)(Ne)&&(Xo(Ne,O,this.callSetDisabledState),O.control=Ne))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const oe=this.form.get(O.path);wn(oe,O),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const oe=this.form.get(O.path);oe&&function Fn(G,X){return nr(G,X)}(oe,O)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ii(this.form,this),this._oldForm&&nr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(it,10),c.rXU(At,10),c.rXU(En,8))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formGroup",""]],hostBindings:function(oe,Ne){1&oe&&c.bIt("submit",function(Bn){return Ne.onSubmit(Bn)})("reset",function(){return Ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([xr]),c.Vt3,c.OA$]})}return G})();const Vn={provide:ln,useExisting:(0,c.Rfq)(()=>cr)};let cr=(()=>{class G extends uo{constructor(O,oe,Ne){super(),this.name=null,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ne)}_checkParentType(){di(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(ln,13),c.rXU(it,10),c.rXU(At,10))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c.Jv_([Vn]),c.Vt3]})}return G})();const Ui={provide:ln,useExisting:(0,c.Rfq)(()=>ro)};let ro=(()=>{class G extends ln{constructor(O,oe,Ne){super(),this.name=null,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ne)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Cr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){di(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(ln,13),c.rXU(it,10),c.rXU(At,10))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c.Jv_([Ui]),c.Vt3]})}return G})();function di(G){return!(G instanceof cr||G instanceof en||G instanceof ro)}const bo={provide:vr,useExisting:(0,c.Rfq)(()=>Ur)};let Ur=(()=>{class G extends vr{set isDisabled(O){}static#e=this._ngModelWarningSentOnce=!1;constructor(O,oe,Ne,_n,Bn){super(),this._ngModelWarningConfig=Bn,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ne),this.valueAccessor=Ts(0,_n)}ngOnChanges(O){this._added||this._setUpControl(),Sr(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return Cr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(ln,13),c.rXU(it,10),c.rXU(At,10),c.rXU(Tt,10),c.rXU(Fi,8))};static#n=this.\u0275dir=c.FsC({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([bo]),c.Vt3,c.OA$]})}return G})();const ko={provide:Tt,useExisting:(0,c.Rfq)(()=>Io),multi:!0};function Fo(G,X){return null==G?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${G}: ${X}`.slice(0,50))}let Io=(()=>{class G extends Ye{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const Ne=Fo(this._getOptionId(O),O);this.setProperty("value",Ne)}registerOnChange(O){this.onChange=oe=>{this.value=this._getOptionValue(oe),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),O))return oe;return null}_getOptionValue(O){const oe=function Gn(G){return G.split(":")[0]}(O);return this._optionMap.has(oe)?this._optionMap.get(oe):O}static#e=this.\u0275fac=function(){let O;return function(Ne){return(O||(O=c.xGo(G)))(Ne||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Ne){1&oe&&c.bIt("change",function(Bn){return Ne.onChange(Bn.target.value)})("blur",function(){return Ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([ko]),c.Vt3]})}return G})(),mi=(()=>{class G{constructor(O,oe,Ne){this._element=O,this._renderer=oe,this._select=Ne,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(Fo(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(Io,9))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return G})();const Q={provide:Tt,useExisting:(0,c.Rfq)(()=>Ke),multi:!0};function z(G,X){return null==G?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${G}: ${X}`.slice(0,50))}let Ke=(()=>{class G extends Ye{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let oe;if(this.value=O,Array.isArray(O)){const Ne=O.map(_n=>this._getOptionId(_n));oe=(_n,Bn)=>{_n._setSelected(Ne.indexOf(Bn.toString())>-1)}}else oe=(Ne,_n)=>{Ne._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(O){this.onChange=oe=>{const Ne=[],_n=oe.selectedOptions;if(void 0!==_n){const Bn=_n;for(let io=0;io<Bn.length;io++){const oo=this._getOptionValue(Bn[io].value);Ne.push(oo)}}else{const Bn=oe.options;for(let io=0;io<Bn.length;io++){const go=Bn[io];if(go.selected){const oo=this._getOptionValue(go.value);Ne.push(oo)}}}this.value=Ne,O(Ne)}}_registerOption(O){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,O),oe}_getOptionId(O){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,O))return oe;return null}_getOptionValue(O){const oe=function ye(G){return G.split(":")[0]}(O);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:O}static#e=this.\u0275fac=function(){let O;return function(Ne){return(O||(O=c.xGo(G)))(Ne||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Ne){1&oe&&c.bIt("change",function(Bn){return Ne.onChange(Bn.target)})("blur",function(){return Ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Q]),c.Vt3]})}return G})(),bt=(()=>{class G{constructor(O,oe,Ne){this._element=O,this._renderer=oe,this._select=Ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(z(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(z(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||G)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(Ke,9))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return G})(),Ot=(()=>{class G{constructor(){this._validator=de}ngOnChanges(O){if(this.inputName in O){const oe=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):de,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275dir=c.FsC({type:G,features:[c.OA$]})}return G})();const br={provide:it,useExisting:(0,c.Rfq)(()=>ei),multi:!0};let ei=(()=>{class G extends Ot{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=O=>Zn}enabled(O){return O}static#e=this.\u0275fac=function(){let O;return function(Ne){return(O||(O=c.xGo(G)))(Ne||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Ne){2&oe&&c.BMQ("required",Ne._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([br]),c.Vt3]})}return G})(),po=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=c.$C({type:G});static#n=this.\u0275inj=c.G2t({imports:[bi]})}return G})();class ss extends le{constructor(X,O,oe){super(Re(O),H(oe,O)),this.controls=X,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,O={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(X,O,oe={}){this.controls.splice(X,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(X,O={}){let oe=this._adjustIndex(X);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(X,O,oe={}){let Ne=this._adjustIndex(X);Ne<0&&(Ne=0),this.controls[Ne]&&this.controls[Ne]._registerOnCollectionChange(()=>{}),this.controls.splice(Ne,1),O&&(this.controls.splice(Ne,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,O={}){Le(this,0,X),X.forEach((oe,Ne)=>{ue(this,!1,Ne),this.at(Ne).setValue(oe,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(X,O={}){null!=X&&(X.forEach((oe,Ne)=>{this.at(Ne)&&this.at(Ne).patchValue(oe,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(X=[],O={}){this._forEachChild((oe,Ne)=>{oe.reset(X[Ne],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((O,oe)=>!!oe._syncPendingControls()||O,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((O,oe)=>{X(O,oe)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(O=>O.enabled&&X(O))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function $i(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let Ns=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new G;return O.useNonNullable=!0,O}group(O,oe=null){const Ne=this._reduceControls(O);let _n={};return $i(oe)?_n=oe:null!==oe&&(_n.validators=oe.validator,_n.asyncValidators=oe.asyncValidator),new qe(Ne,_n)}record(O,oe=null){const Ne=this._reduceControls(O);return new Xe(Ne,oe)}control(O,oe,Ne){let _n={};return this.useNonNullable?($i(oe)?_n=oe:(_n.validators=oe,_n.asyncValidators=Ne),new Vr(O,{..._n,nonNullable:!0})):new Vr(O,oe,Ne)}array(O,oe,Ne){const _n=O.map(Bn=>this._createControl(Bn));return new ss(_n,oe,Ne)}_reduceControls(O){const oe={};return Object.keys(O).forEach(Ne=>{oe[Ne]=this._createControl(O[Ne])}),oe}_createControl(O){return O instanceof Vr||O instanceof le?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275prov=c.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),aa=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:En,useValue:O.callSetDisabledState??Zr}]}}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=c.$C({type:G});static#n=this.\u0275inj=c.G2t({imports:[po]})}return G})(),Da=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:Fi,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:En,useValue:O.callSetDisabledState??Zr}]}}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=c.$C({type:G});static#n=this.\u0275inj=c.G2t({imports:[po]})}return G})()},345:(nn,Je,L)=>{L.d(Je,{Bb:()=>Un,W8:()=>Lt,hE:()=>vr,sG:()=>Cn,up:()=>vi});var c=L(7705),ae=L(177);class o extends ae.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends o{static makeCurrent(){(0,ae.ZD)(new we)}onAndCancel(H,V,F){return H.addEventListener(V,F),()=>{H.removeEventListener(V,F)}}dispatchEvent(H,V){H.dispatchEvent(V)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,V){return(V=V||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,V){return"window"===V?window:"document"===V?H:"body"===V?H.body:null}getBaseHref(H){const V=function Ae(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==V?null:function Fe(ee){ke=ke||document.createElement("a"),ke.setAttribute("href",ee);const H=ke.pathname;return"/"===H.charAt(0)?H:`/${H}`}(V)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,ae._b)(document.cookie,H)}}let ke,fe=null,Z=(()=>{class ee{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const ce=new c.nKC("EventManagerPlugins");let me=(()=>{class ee{constructor(V,F){this._zone=F,this._eventNameToPlugin=new Map,V.forEach(ue=>{ue.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,F,ue){return this._findPluginFor(F).addEventListener(V,F,ue)}getZone(){return this._zone}_findPluginFor(V){let F=this._eventNameToPlugin.get(V);if(F)return F;if(F=this._plugins.find(Le=>Le.supports(V)),!F)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(V,F),F}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ce),c.KVO(c.SKi))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class ut{constructor(H){this._doc=H}}const Ye="ng-app-id";let Tt=(()=>{class ee{constructor(V,F,ue,Le={}){this.doc=V,this.appId=F,this.nonce=ue,this.platformId=Le,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.Vy)(Le),this.resetHostNodes()}addStyles(V){for(const F of V)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(V){for(const F of V)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(F=>F.remove()),V.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const F of this.getAllStyles())this.addStyleToHost(V,F)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const F of this.hostNodes)this.addStyleToHost(F,V)}onStyleRemoved(V){const F=this.styleRef;F.get(V)?.elements?.forEach(ue=>ue.remove()),F.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${Ye}="${this.appId}"]`);if(V?.length){const F=new Map;return V.forEach(ue=>{null!=ue.textContent&&F.set(ue.textContent,ue)}),F}return null}changeUsageCount(V,F){const ue=this.styleRef;if(ue.has(V)){const Le=ue.get(V);return Le.usage+=F,Le.usage}return ue.set(V,{usage:F,elements:[]}),F}getStyleElement(V,F){const ue=this.styleNodesInDOM,Le=ue?.get(F);if(Le?.parentNode===V)return ue.delete(F),Le.removeAttribute(Ye),Le;{const le=this.doc.createElement("style");return this.nonce&&le.setAttribute("nonce",this.nonce),le.textContent=F,this.platformIsServer&&le.setAttribute(Ye,this.appId),le}}addStyleToHost(V,F){const ue=this.getStyleElement(V,F);V.appendChild(ue);const Le=this.styleRef,le=Le.get(F)?.elements;le?le.push(ue):Le.set(F,{elements:[ue],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ae.qQ),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jt=/%COMP%/g,at=new c.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function At(ee,H){return H.map(V=>V.replace(jt,ee))}let Vt=(()=>{class ee{constructor(V,F,ue,Le,le,qe,_e,ot=null){this.eventManager=V,this.sharedStylesHost=F,this.appId=ue,this.removeStylesOnCompDestroy=Le,this.doc=le,this.platformId=qe,this.ngZone=_e,this.nonce=ot,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.Vy)(qe),this.defaultRenderer=new be(V,le,_e,this.platformIsServer)}createRenderer(V,F){if(!V||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===c.gXe.ShadowDom&&(F={...F,encapsulation:c.gXe.Emulated});const ue=this.getOrCreateRenderer(V,F);return ue instanceof qt?ue.applyToHost(V):ue instanceof Bt&&ue.applyStyles(),ue}getOrCreateRenderer(V,F){const ue=this.rendererByCompId;let Le=ue.get(F.id);if(!Le){const le=this.doc,qe=this.ngZone,_e=this.eventManager,ot=this.sharedStylesHost,Xe=this.removeStylesOnCompDestroy,Rn=this.platformIsServer;switch(F.encapsulation){case c.gXe.Emulated:Le=new qt(_e,ot,F,this.appId,Xe,le,qe,Rn);break;case c.gXe.ShadowDom:return new Mt(_e,ot,V,F,le,qe,this.nonce,Rn);default:Le=new Bt(_e,ot,F,Xe,le,qe,Rn)}ue.set(F.id,Le)}return Le}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(me),c.KVO(Tt),c.KVO(c.sZ2),c.KVO(at),c.KVO(ae.qQ),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class be{constructor(H,V,F,ue){this.eventManager=H,this.doc=V,this.ngZone=F,this.platformIsServer=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,V){return V?this.doc.createElementNS(It[V]||V,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,V){(Zn(H)?H.content:H).appendChild(V)}insertBefore(H,V,F){H&&(Zn(H)?H.content:H).insertBefore(V,F)}removeChild(H,V){H&&H.removeChild(V)}selectRootElement(H,V){let F="string"==typeof H?this.doc.querySelector(H):H;if(!F)throw new c.wOt(-5104,!1);return V||(F.textContent=""),F}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,V,F,ue){if(ue){V=ue+":"+V;const Le=It[ue];Le?H.setAttributeNS(Le,V,F):H.setAttribute(V,F)}else H.setAttribute(V,F)}removeAttribute(H,V,F){if(F){const ue=It[F];ue?H.removeAttributeNS(ue,V):H.removeAttribute(`${F}:${V}`)}else H.removeAttribute(V)}addClass(H,V){H.classList.add(V)}removeClass(H,V){H.classList.remove(V)}setStyle(H,V,F,ue){ue&(c.czy.DashCase|c.czy.Important)?H.style.setProperty(V,F,ue&c.czy.Important?"important":""):H.style[V]=F}removeStyle(H,V,F){F&c.czy.DashCase?H.style.removeProperty(V):H.style[V]=""}setProperty(H,V,F){H[V]=F}setValue(H,V){H.nodeValue=V}listen(H,V,F){if("string"==typeof H&&!(H=(0,ae.QT)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${V}`);return this.eventManager.addEventListener(H,V,this.decoratePreventDefault(F))}decoratePreventDefault(H){return V=>{if("__ngUnwrap__"===V)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(V)):H(V))&&V.preventDefault()}}}function Zn(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class Mt extends be{constructor(H,V,F,ue,Le,le,qe,_e){super(H,Le,le,_e),this.sharedStylesHost=V,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ot=At(ue.id,ue.styles);for(const Xe of ot){const Rn=document.createElement("style");qe&&Rn.setAttribute("nonce",qe),Rn.textContent=Xe,this.shadowRoot.appendChild(Rn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,V){return super.appendChild(this.nodeOrShadowRoot(H),V)}insertBefore(H,V,F){return super.insertBefore(this.nodeOrShadowRoot(H),V,F)}removeChild(H,V){return super.removeChild(this.nodeOrShadowRoot(H),V)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bt extends be{constructor(H,V,F,ue,Le,le,qe,_e){super(H,Le,le,qe),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=ue,this.styles=_e?At(_e,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qt extends Bt{constructor(H,V,F,ue,Le,le,qe,_e){const ot=ue+"-"+F.id;super(H,V,F,Le,le,qe,_e,ot),this.contentAttr=function Ze(ee){return"_ngcontent-%COMP%".replace(jt,ee)}(ot),this.hostAttr=function it(ee){return"_nghost-%COMP%".replace(jt,ee)}(ot)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,V){const F=super.createElement(H,V);return super.setAttribute(F,this.contentAttr,""),F}}let lt=(()=>{class ee extends ut{constructor(V){super(V)}supports(V){return!0}addEventListener(V,F,ue){return V.addEventListener(F,ue,!1),()=>this.removeEventListener(V,F,ue)}removeEventListener(V,F,ue){return V.removeEventListener(F,ue)}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const Pe=["alt","control","meta","shift"],de={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oe={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let Qe=(()=>{class ee extends ut{constructor(V){super(V)}supports(V){return null!=ee.parseEventName(V)}addEventListener(V,F,ue){const Le=ee.parseEventName(F),le=ee.eventCallback(Le.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.QT)().onAndCancel(V,Le.domEventName,le))}static parseEventName(V){const F=V.toLowerCase().split("."),ue=F.shift();if(0===F.length||"keydown"!==ue&&"keyup"!==ue)return null;const Le=ee._normalizeKey(F.pop());let le="",qe=F.indexOf("code");if(qe>-1&&(F.splice(qe,1),le="code."),Pe.forEach(ot=>{const Xe=F.indexOf(ot);Xe>-1&&(F.splice(Xe,1),le+=ot+".")}),le+=Le,0!=F.length||0===Le.length)return null;const _e={};return _e.domEventName=ue,_e.fullKey=le,_e}static matchEventFullKeyCode(V,F){let ue=de[V.key]||V.key,Le="";return F.indexOf("code.")>-1&&(ue=V.code,Le="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),Pe.forEach(le=>{le!==ue&&(0,Oe[le])(V)&&(Le+=le+".")}),Le+=ue,Le===F)}static eventCallback(V,F,ue){return Le=>{ee.matchEventFullKeyCode(Le,V)&&ue.runGuarded(()=>F(Le))}}static _normalizeKey(V){return"esc"===V?"escape":V}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const Cn=(0,c.oH4)(c.fpN,"browser",[{provide:c.Agw,useValue:ae.AJ},{provide:c.PLl,useValue:function xt(){we.makeCurrent()},multi:!0},{provide:ae.qQ,useFactory:function rn(){return(0,c.TL$)(document),document},deps:[]}]),dr=new c.nKC(""),Gt=[{provide:c.e01,useClass:class Ue{addToWindow(H){c.JZv.getAngularTestability=(F,ue=!0)=>{const Le=H.findTestabilityInTree(F,ue);if(null==Le)throw new c.wOt(5103,!1);return Le},c.JZv.getAllAngularTestabilities=()=>H.getAllTestabilities(),c.JZv.getAllAngularRootElements=()=>H.getAllRootElements(),c.JZv.frameworkStabilizers||(c.JZv.frameworkStabilizers=[]),c.JZv.frameworkStabilizers.push(F=>{const ue=c.JZv.getAllAngularTestabilities();let Le=ue.length,le=!1;const qe=function(_e){le=le||_e,Le--,0==Le&&F(le)};ue.forEach(_e=>{_e.whenStable(qe)})})}findTestabilityInTree(H,V,F){return null==V?null:H.getTestability(V)??(F?(0,ae.QT)().isShadowRoot(V)?this.findTestabilityInTree(H,V.host,!0):this.findTestabilityInTree(H,V.parentElement,!0):null)}},deps:[]},{provide:c.WHO,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]},{provide:c.NYb,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]}],In=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function un(){return new c.zcH},deps:[]},{provide:ce,useClass:lt,multi:!0,deps:[ae.qQ,c.SKi,c.Agw]},{provide:ce,useClass:Qe,multi:!0,deps:[ae.qQ]},Vt,Tt,me,{provide:c._9s,useExisting:Vt},{provide:ae.N0,useClass:Z,deps:[]},[]];let Un=(()=>{class ee{constructor(V){}static withServerTransition(V){return{ngModule:ee,providers:[{provide:c.sZ2,useValue:V.appId}]}}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(dr,12))};static#t=this.\u0275mod=c.$C({type:ee});static#n=this.\u0275inj=c.G2t({providers:[...In,...Gt],imports:[ae.MD,c.Hbi]})}return ee})(),Lt=(()=>{class ee{constructor(V){this._doc=V,this._dom=(0,ae.QT)()}addTag(V,F=!1){return V?this._getOrCreateElement(V,F):null}addTags(V,F=!1){return V?V.reduce((ue,Le)=>(Le&&ue.push(this._getOrCreateElement(Le,F)),ue),[]):[]}getTag(V){return V&&this._doc.querySelector(`meta[${V}]`)||null}getTags(V){if(!V)return[];const F=this._doc.querySelectorAll(`meta[${V}]`);return F?[].slice.call(F):[]}updateTag(V,F){if(!V)return null;F=F||this._parseSelector(V);const ue=this.getTag(F);return ue?this._setMetaElementAttributes(V,ue):this._getOrCreateElement(V,!0)}removeTag(V){this.removeTagElement(this.getTag(V))}removeTagElement(V){V&&this._dom.remove(V)}_getOrCreateElement(V,F=!1){if(!F){const le=this._parseSelector(V),qe=this.getTags(le).filter(_e=>this._containsAttributes(V,_e))[0];if(void 0!==qe)return qe}const ue=this._dom.createElement("meta");return this._setMetaElementAttributes(V,ue),this._doc.getElementsByTagName("head")[0].appendChild(ue),ue}_setMetaElementAttributes(V,F){return Object.keys(V).forEach(ue=>F.setAttribute(this._getMetaKeyMap(ue),V[ue])),F}_parseSelector(V){const F=V.name?"name":"property";return`${F}="${V[F]}"`}_containsAttributes(V,F){return Object.keys(V).every(ue=>F.getAttribute(this._getMetaKeyMap(ue))===V[ue])}_getMetaKeyMap(V){return Fr[V]||V}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:function(F){let ue=null;return ue=F?new F:function Wt(){return new Lt((0,c.KVO)(ae.qQ))}(),ue},providedIn:"root"})}return ee})();const Fr={httpEquiv:"http-equiv"};let vr=(()=>{class ee{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:function(F){let ue=null;return ue=F?new F:function ln(){return new vr((0,c.KVO)(ae.qQ))}(),ue},providedIn:"root"})}return ee})();typeof window<"u"&&window;let vi=(()=>{class ee{static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=c.jDH({token:ee,factory:function(F){let ue=null;return ue=F?new(F||ee):c.KVO(yt),ue},providedIn:"root"})}return ee})(),yt=(()=>{class ee extends vi{constructor(V){super(),this._doc=V}sanitize(V,F){if(null==F)return null;switch(V){case c.WPN.NONE:return F;case c.WPN.HTML:return(0,c.ZF7)(F,"HTML")?(0,c.rcV)(F):(0,c.h9k)(this._doc,String(F)).toString();case c.WPN.STYLE:return(0,c.ZF7)(F,"Style")?(0,c.rcV)(F):F;case c.WPN.SCRIPT:if((0,c.ZF7)(F,"Script"))return(0,c.rcV)(F);throw new c.wOt(5200,!1);case c.WPN.URL:return(0,c.ZF7)(F,"URL")?(0,c.rcV)(F):(0,c.$MX)(String(F));case c.WPN.RESOURCE_URL:if((0,c.ZF7)(F,"ResourceURL"))return(0,c.rcV)(F);throw new c.wOt(5201,!1);default:throw new c.wOt(5202,!1)}}bypassSecurityTrustHtml(V){return(0,c.Kcf)(V)}bypassSecurityTrustStyle(V){return(0,c.cWb)(V)}bypassSecurityTrustScript(V){return(0,c.UyX)(V)}bypassSecurityTrustUrl(V){return(0,c.osQ)(V)}bypassSecurityTrustResourceUrl(V){return(0,c.e5t)(V)}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:function(F){let ue=null;return ue=F?new F:function ze(ee){return new yt(ee.get(ae.qQ))}(c.KVO(c.zZn)),ue},providedIn:"root"})}return ee})()},6814:(nn,Je,L)=>{L.d(Je,{nX:()=>cr,Ix:()=>Ci,Wk:()=>Jo,iI:()=>ec,n3:()=>Io});var c=L(7705),ae=L(1985),o=L(8071),fe=L(8455),Ae=L(7673),ke=L(4412),Fe=L(3073),Ue=L(3669),Z=L(6450),ce=L(3794),me=L(8496),ut=L(4360),Ye=L(5225);function Tt(...w){const R=(0,ce.lI)(w),I=(0,ce.ms)(w),{args:M,keys:j}=(0,Fe.D)(w);if(0===M.length)return(0,fe.H)([],R);const ne=new ae.c(function It(w,R,I=Ue.D){return M=>{jt(R,()=>{const{length:j}=w,ne=new Array(j);let Ce=j,_t=j;for(let ft=0;ft<j;ft++)jt(R,()=>{const mn=(0,fe.H)(w[ft],R);let pr=!1;mn.subscribe((0,ut._)(M,Ir=>{ne[ft]=Ir,pr||(pr=!0,_t--),_t||M.next(I(ne.slice()))},()=>{--Ce||M.complete()}))},M)},M)}}(M,R,j?Ce=>(0,me.e)(j,Ce):Ue.D));return I?ne.pipe((0,Z.I)(I)):ne}function jt(w,R,I){w?(0,Ye.N)(I,w,R):R()}var Nt=L(9350),sn=L(8793),et=L(8750);function Ge(w){return new ae.c(R=>{(0,et.Tg)(w()).subscribe(R)})}var at=L(1203),Ze=L(8810),it=L(983),At=L(8359),Vt=L(9974);function be(){return(0,Vt.N)((w,R)=>{let I=null;w._refCount++;const M=(0,ut._)(R,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(I=null);const j=w._connection,ne=I;I=null,j&&(!ne||j===ne)&&j.unsubscribe(),R.unsubscribe()});w.subscribe(M),M.closed||(I=w.connect())})}class Jt extends ae.c{constructor(R,I){super(),this.source=R,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,Vt.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new At.yU;const I=this.getSubject();R.add(this.source.subscribe((0,ut._)(I,void 0,()=>{this._teardown(),I.complete()},M=>{this._teardown(),I.error(M)},()=>this._teardown()))),R.closed&&(this._connection=null,R=At.yU.EMPTY)}return R}refCount(){return be()(this)}}var cn=L(1413),Zn=L(177),Mt=L(6354),Bt=L(5558),qt=L(6697),lt=L(9172),Pe=L(5964),de=L(1397),Oe=L(1594),Qe=L(274),De=L(8141),Se=L(9437),$e=L(2816),wt=L(9901);function xt(w){return w<=0?()=>it.w:(0,Vt.N)((R,I)=>{let M=[];R.subscribe((0,ut._)(I,j=>{M.push(j),w<M.length&&M.shift()},()=>{for(const j of M)I.next(j);I.complete()},void 0,()=>{M=null}))})}var un=L(3774),Cn=L(980),dr=L(5343),In=L(6365),Un=L(345);const Wt="primary",Lt=Symbol("RouteTitle");class Fr{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const I=this.params[R];return Array.isArray(I)?I[0]:I}return null}getAll(R){if(this.has(R)){const I=this.params[R];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function ln(w){return new Fr(w)}function vr(w,R,I){const M=I.path.split("/");if(M.length>w.length||"full"===I.pathMatch&&(R.hasChildren()||M.length<w.length))return null;const j={};for(let ne=0;ne<M.length;ne++){const Ce=M[ne],_t=w[ne];if(Ce.startsWith(":"))j[Ce.substring(1)]=_t;else if(Ce!==_t.path)return null}return{consumed:w.slice(0,M.length),posParams:j}}function Ut(w,R){const I=w?Object.keys(w):void 0,M=R?Object.keys(R):void 0;if(!I||!M||I.length!=M.length)return!1;let j;for(let ne=0;ne<I.length;ne++)if(j=I[ne],!gn(w[j],R[j]))return!1;return!0}function gn(w,R){if(Array.isArray(w)&&Array.isArray(R)){if(w.length!==R.length)return!1;const I=[...w].sort(),M=[...R].sort();return I.every((j,ne)=>M[ne]===j)}return w===R}function Dn(w){return w.length>0?w[w.length-1]:null}function bn(w){return function we(w){return!!w&&(w instanceof ae.c||(0,o.T)(w.lift)&&(0,o.T)(w.subscribe))}(w)?w:(0,c.jNT)(w)?(0,fe.H)(Promise.resolve(w)):(0,Ae.of)(w)}const hr={exact:function Yr(w,R,I){if(!yt(w.segments,R.segments)||!Wn(w.segments,R.segments,I)||w.numberOfChildren!==R.numberOfChildren)return!1;for(const M in R.children)if(!w.children[M]||!Yr(w.children[M],R.children[M],I))return!1;return!0},subset:an},Er={exact:function jn(w,R){return Ut(w,R)},subset:function Ki(w,R){return Object.keys(R).length<=Object.keys(w).length&&Object.keys(R).every(I=>gn(w[I],R[I]))},ignored:()=>!0};function Xr(w,R,I){return hr[I.paths](w.root,R.root,I.matrixParams)&&Er[I.queryParams](w.queryParams,R.queryParams)&&!("exact"===I.fragment&&w.fragment!==R.fragment)}function an(w,R,I){return Qr(w,R,R.segments,I)}function Qr(w,R,I,M){if(w.segments.length>I.length){const j=w.segments.slice(0,I.length);return!(!yt(j,I)||R.hasChildren()||!Wn(j,I,M))}if(w.segments.length===I.length){if(!yt(w.segments,I)||!Wn(w.segments,I,M))return!1;for(const j in R.children)if(!w.children[j]||!an(w.children[j],R.children[j],M))return!1;return!0}{const j=I.slice(0,w.segments.length),ne=I.slice(w.segments.length);return!!(yt(w.segments,j)&&Wn(w.segments,j,M)&&w.children[Wt])&&Qr(w.children[Wt],R,ne,M)}}function Wn(w,R,I){return R.every((M,j)=>Er[I](w[j].parameters,M.parameters))}class gr{constructor(R=new Pn([],{}),I={},M=null){this.root=R,this.queryParams=I,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ln(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class Pn{constructor(R,I){this.segments=R,this.children=I,this.parent=null,Object.values(I).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}}class vi{constructor(R,I){this.path=R,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=ln(this.parameters)),this._parameterMap}toString(){return ue(this)}}function yt(w,R){return w.length===R.length&&w.every((I,M)=>I.path===R[M].path)}let Ie=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return new pt},providedIn:"root"})}return w})();class pt{parse(R){const I=new Xo(R);return new gr(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(R){const I=`/${Tr(R.root,!0)}`,M=function le(w){const R=Object.keys(w).map(I=>{const M=w[I];return Array.isArray(M)?M.map(j=>`${Re(I)}=${Re(j)}`).join("&"):`${Re(I)}=${Re(M)}`}).filter(I=>!!I);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${I}${M}${"string"==typeof R.fragment?`#${function ee(w){return encodeURI(w)}(R.fragment)}`:""}`}}const Kt=new pt;function xn(w){return w.segments.map(R=>ue(R)).join("/")}function Tr(w,R){if(!w.hasChildren())return xn(w);if(R){const I=w.children[Wt]?Tr(w.children[Wt],!1):"",M=[];return Object.entries(w.children).forEach(([j,ne])=>{j!==Wt&&M.push(`${j}:${Tr(ne,!1)}`)}),M.length>0?`${I}(${M.join("//")})`:I}{const I=function ie(w,R){let I=[];return Object.entries(w.children).forEach(([M,j])=>{M===Wt&&(I=I.concat(R(j,M)))}),Object.entries(w.children).forEach(([M,j])=>{M!==Wt&&(I=I.concat(R(j,M)))}),I}(w,(M,j)=>j===Wt?[Tr(w.children[Wt],!1)]:[`${j}:${Tr(M,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Wt]?`${xn(w)}/${I[0]}`:`${xn(w)}/(${I.join("//")})`}}function sr(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Re(w){return sr(w).replace(/%3B/gi,";")}function H(w){return sr(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V(w){return decodeURIComponent(w)}function F(w){return V(w.replace(/\+/g,"%20"))}function ue(w){return`${H(w.path)}${function Le(w){return Object.keys(w).map(R=>`;${H(R)}=${H(w[R])}`).join("")}(w.parameters)}`}const qe=/^[^\/()?;#]+/;function _e(w){const R=w.match(qe);return R?R[0]:""}const ot=/^[^\/()?;=#]+/,Rn=/^[^=?&#]+/,Zr=/^[^&#]+/;class Xo{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(R.length>0||Object.keys(I).length>0)&&(M[Wt]=new Pn(R,I)),M}parseSegment(){const R=_e(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(R),new vi(V(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const I=function Xe(w){const R=w.match(ot);return R?R[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const j=_e(this.remaining);j&&(M=j,this.capture(M))}R[V(I)]=V(M)}parseQueryParam(R){const I=function En(w){const R=w.match(Rn);return R?R[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const Ce=function Cr(w){const R=w.match(Zr);return R?R[0]:""}(this.remaining);Ce&&(M=Ce,this.capture(M))}const j=F(I),ne=F(M);if(R.hasOwnProperty(j)){let Ce=R[j];Array.isArray(Ce)||(Ce=[Ce],R[j]=Ce),Ce.push(ne)}else R[j]=ne}parseParens(R){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=_e(this.remaining),j=this.remaining[M.length];if("/"!==j&&")"!==j&&";"!==j)throw new c.wOt(4010,!1);let ne;M.indexOf(":")>-1?(ne=M.slice(0,M.indexOf(":")),this.capture(ne),this.capture(":")):R&&(ne=Wt);const Ce=this.parseChildren();I[ne]=1===Object.keys(Ce).length?Ce[Wt]:new Pn([],Ce),this.consumeOptional("//")}return I}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new c.wOt(4011,!1)}}function ci(w){return w.segments.length>0?new Pn([],{[Wt]:w}):w}function no(w){const R={};for(const M of Object.keys(w.children)){const ne=no(w.children[M]);if(M===Wt&&0===ne.segments.length&&ne.hasChildren())for(const[Ce,_t]of Object.entries(ne.children))R[Ce]=_t;else(ne.segments.length>0||ne.hasChildren())&&(R[M]=ne)}return function Oi(w){if(1===w.numberOfChildren&&w.children[Wt]){const R=w.children[Wt];return new Pn(w.segments.concat(R.segments),R.children)}return w}(new Pn(w.segments,R))}function ii(w){return w instanceof gr}function gt(w){let R;const j=ci(function I(ne){const Ce={};for(const ft of ne.children){const mn=I(ft);Ce[ft.outlet]=mn}const _t=new Pn(ne.url,Ce);return ne===w&&(R=_t),_t}(w.root));return R??j}function tt(w,R,I,M){let j=w;for(;j.parent;)j=j.parent;if(0===R.length)return wn(j,j,j,I,M);const ne=function $r(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Nn(!0,0,w);let R=0,I=!1;const M=w.reduce((j,ne,Ce)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const _t={};return Object.entries(ne.outlets).forEach(([ft,mn])=>{_t[ft]="string"==typeof mn?mn.split("/"):mn}),[...j,{outlets:_t}]}if(ne.segmentPath)return[...j,ne.segmentPath]}return"string"!=typeof ne?[...j,ne]:0===Ce?(ne.split("/").forEach((_t,ft)=>{0==ft&&"."===_t||(0==ft&&""===_t?I=!0:".."===_t?R++:""!=_t&&j.push(_t))}),j):[...j,ne]},[]);return new Nn(I,R,M)}(R);if(ne.toRoot())return wn(j,j,new Pn([],{}),I,M);const Ce=function Ni(w,R,I){if(w.isAbsolute)return new Or(R,!0,0);if(!I)return new Or(R,!1,NaN);if(null===I.parent)return new Or(I,!0,0);const M=Pt(w.commands[0])?0:1;return function Yo(w,R,I){let M=w,j=R,ne=I;for(;ne>j;){if(ne-=j,M=M.parent,!M)throw new c.wOt(4005,!1);j=M.segments.length}return new Or(M,!1,j-ne)}(I,I.segments.length-1+M,w.numberOfDoubleDots)}(ne,j,w),_t=Ce.processChildren?ki(Ce.segmentGroup,Ce.index,ne.commands):Is(Ce.segmentGroup,Ce.index,ne.commands);return wn(j,Ce.segmentGroup,_t,I,M)}function Pt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function dn(w){return"object"==typeof w&&null!=w&&w.outlets}function wn(w,R,I,M,j){let Ce,ne={};M&&Object.entries(M).forEach(([ft,mn])=>{ne[ft]=Array.isArray(mn)?mn.map(pr=>`${pr}`):`${mn}`}),Ce=w===R?I:Fn(w,R,I);const _t=ci(no(Ce));return new gr(_t,ne,j)}function Fn(w,R,I){const M={};return Object.entries(w.children).forEach(([j,ne])=>{M[j]=ne===R?I:Fn(ne,R,I)}),new Pn(w.segments,M)}class Nn{constructor(R,I,M){if(this.isAbsolute=R,this.numberOfDoubleDots=I,this.commands=M,R&&M.length>0&&Pt(M[0]))throw new c.wOt(4003,!1);const j=M.find(dn);if(j&&j!==Dn(M))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Or{constructor(R,I,M){this.segmentGroup=R,this.processChildren=I,this.index=M}}function Is(w,R,I){if(w||(w=new Pn([],{})),0===w.segments.length&&w.hasChildren())return ki(w,R,I);const M=function Ts(w,R,I){let M=0,j=R;const ne={match:!1,pathIndex:0,commandIndex:0};for(;j<w.segments.length;){if(M>=I.length)return ne;const Ce=w.segments[j],_t=I[M];if(dn(_t))break;const ft=`${_t}`,mn=M<I.length-1?I[M+1]:null;if(j>0&&void 0===ft)break;if(ft&&mn&&"object"==typeof mn&&void 0===mn.outlets){if(!xi(ft,mn,Ce))return ne;M+=2}else{if(!xi(ft,{},Ce))return ne;M++}j++}return{match:!0,pathIndex:j,commandIndex:M}}(w,R,I),j=I.slice(M.commandIndex);if(M.match&&M.pathIndex<w.segments.length){const ne=new Pn(w.segments.slice(0,M.pathIndex),{});return ne.children[Wt]=new Pn(w.segments.slice(M.pathIndex),w.children),ki(ne,0,j)}return M.match&&0===j.length?new Pn(w.segments,{}):M.match&&!w.hasChildren()?yi(w,R,I):M.match?ki(w,0,j):yi(w,R,I)}function ki(w,R,I){if(0===I.length)return new Pn(w.segments,{});{const M=function Sr(w){return dn(w[0])?w[0].outlets:{[Wt]:w}}(I),j={};if(Object.keys(M).some(ne=>ne!==Wt)&&w.children[Wt]&&1===w.numberOfChildren&&0===w.children[Wt].segments.length){const ne=ki(w.children[Wt],R,I);return new Pn(w.segments,ne.children)}return Object.entries(M).forEach(([ne,Ce])=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(j[ne]=Is(w.children[ne],R,Ce))}),Object.entries(w.children).forEach(([ne,Ce])=>{void 0===M[ne]&&(j[ne]=Ce)}),new Pn(w.segments,j)}}function yi(w,R,I){const M=w.segments.slice(0,R);let j=0;for(;j<I.length;){const ne=I[j];if(dn(ne)){const ft=_a(ne.outlets);return new Pn(M,ft)}if(0===j&&Pt(I[0])){M.push(new vi(w.segments[R].path,Oo(I[0]))),j++;continue}const Ce=dn(ne)?ne.outlets[Wt]:`${ne}`,_t=j<I.length-1?I[j+1]:null;Ce&&_t&&Pt(_t)?(M.push(new vi(Ce,Oo(_t))),j+=2):(M.push(new vi(Ce,{})),j++)}return new Pn(M,{})}function _a(w){const R={};return Object.entries(w).forEach(([I,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(R[I]=yi(new Pn([],{}),0,M))}),R}function Oo(w){const R={};return Object.entries(w).forEach(([I,M])=>R[I]=`${M}`),R}function xi(w,R,I){return w==I.path&&Ut(R,I.parameters)}const zi="imperative";class mr{constructor(R,I){this.id=R,this.url=I}}class ds extends mr{constructor(R,I,M="imperative",j=null){super(R,I),this.type=0,this.navigationTrigger=M,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vr extends mr{constructor(R,I,M){super(R,I),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nr extends mr{constructor(R,I,M,j){super(R,I),this.reason=M,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jo extends mr{constructor(R,I,M,j){super(R,I),this.reason=M,this.code=j,this.type=16}}class uo extends mr{constructor(R,I,M,j){super(R,I),this.error=M,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bi extends mr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eo extends mr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Os extends mr{constructor(R,I,M,j,ne){super(R,I),this.urlAfterRedirects=M,this.state=j,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Li extends mr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa extends mr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class No{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oi{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Co{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(R,I,M){this.routerEvent=R,this.position=I,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kn{}class ui{constructor(R){this.url=R}}class ho{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lr,this.attachRef=null}}let Lr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(I,M){const j=this.getOrCreateContext(I);j.outlet=M,this.contexts.set(I,j)}onChildOutletDestroyed(I){const M=this.getContext(I);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let M=this.getContext(I);return M||(M=new ho,this.contexts.set(I,M)),M}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class Ii{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const I=this.pathFromRoot(R);return I.length>1?I[I.length-2]:null}children(R){const I=li(R,this._root);return I?I.children.map(M=>M.value):[]}firstChild(R){const I=li(R,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(R){const I=Fi(R,this._root);return I.length<2?[]:I[I.length-2].children.map(j=>j.value).filter(j=>j!==R)}pathFromRoot(R){return Fi(R,this._root).map(I=>I.value)}}function li(w,R){if(w===R.value)return R;for(const I of R.children){const M=li(w,I);if(M)return M}return null}function Fi(w,R){if(w===R.value)return[R];for(const I of R.children){const M=Fi(w,I);if(M.length)return M.unshift(R),M}return[]}class Hr{constructor(R,I){this.value=R,this.children=I}toString(){return`TreeNode(${this.value})`}}function qi(w){const R={};return w&&w.children.forEach(I=>R[I.value.outlet]=I),R}class xr extends Ii{constructor(R,I){super(R),this.snapshot=I,Ur(this,R)}toString(){return this.snapshot.toString()}}function en(w,R){const I=function Vn(w,R){const Ce=new di([],{},{},"",{},Wt,R,null,{});return new bo("",new Hr(Ce,[]))}(0,R),M=new ke.t([new vi("",{})]),j=new ke.t({}),ne=new ke.t({}),Ce=new ke.t({}),_t=new ke.t(""),ft=new cr(M,j,Ce,_t,ne,Wt,R,I.root);return ft.snapshot=I.root,new xr(new Hr(ft,[]),I)}class cr{constructor(R,I,M,j,ne,Ce,_t,ft){this.urlSubject=R,this.paramsSubject=I,this.queryParamsSubject=M,this.fragmentSubject=j,this.dataSubject=ne,this.outlet=Ce,this.component=_t,this._futureSnapshot=ft,this.title=this.dataSubject?.pipe((0,Mt.T)(mn=>mn[Lt]))??(0,Ae.of)(void 0),this.url=R,this.params=I,this.queryParams=M,this.fragment=j,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.T)(R=>ln(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.T)(R=>ln(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ui(w,R="emptyOnly"){const I=w.pathFromRoot;let M=0;if("always"!==R)for(M=I.length-1;M>=1;){const j=I[M],ne=I[M-1];if(j.routeConfig&&""===j.routeConfig.path)M--;else{if(ne.component)break;M--}}return function ro(w){return w.reduce((R,I)=>({params:{...R.params,...I.params},data:{...R.data,...I.data},resolve:{...I.data,...R.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(M))}class di{get title(){return this.data?.[Lt]}constructor(R,I,M,j,ne,Ce,_t,ft,mn){this.url=R,this.params=I,this.queryParams=M,this.fragment=j,this.data=ne,this.outlet=Ce,this.component=_t,this.routeConfig=ft,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ln(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ln(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bo extends Ii{constructor(R,I){super(I),this.url=R,Ur(this,I)}toString(){return ko(this._root)}}function Ur(w,R){R.value._routerState=w,R.children.forEach(I=>Ur(w,I))}function ko(w){const R=w.children.length>0?` { ${w.children.map(ko).join(", ")} } `:"";return`${w.value}${R}`}function Fo(w){if(w.snapshot){const R=w.snapshot,I=w._futureSnapshot;w.snapshot=I,Ut(R.queryParams,I.queryParams)||w.queryParamsSubject.next(I.queryParams),R.fragment!==I.fragment&&w.fragmentSubject.next(I.fragment),Ut(R.params,I.params)||w.paramsSubject.next(I.params),function Hn(w,R){if(w.length!==R.length)return!1;for(let I=0;I<w.length;++I)if(!Ut(w[I],R[I]))return!1;return!0}(R.url,I.url)||w.urlSubject.next(I.url),Ut(R.data,I.data)||w.dataSubject.next(I.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Gn(w,R){const I=Ut(w.params,R.params)&&function ze(w,R){return yt(w,R)&&w.every((I,M)=>Ut(I.parameters,R[M].parameters))}(w.url,R.url);return I&&!(!w.parent!=!R.parent)&&(!w.parent||Gn(w.parent,R.parent))}let Io=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(Lr),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.environmentInjector=(0,c.WQX)(c.uvJ),this.inputBinder=(0,c.WQX)(Q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:M,previousValue:j}=I.name;if(M)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,M){this.activated=I,this._activatedRoute=M,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,M){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=I;const j=this.location,Ce=I.snapshot.component,_t=this.parentContexts.getOrCreateContext(this.name).children,ft=new mi(I,_t,j.injector);this.activated=j.createComponent(Ce,{index:j.length,injector:ft,environmentInjector:M??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275dir=c.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}return w})();class mi{constructor(R,I,M){this.route=R,this.childContexts=I,this.parent=M}get(R,I){return R===cr?this.route:R===Lr?this.childContexts:this.parent.get(R,I)}}const Q=new c.nKC("");let z=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:M}=I,j=Tt([M.queryParams,M.params,M.data]).pipe((0,Bt.n)(([ne,Ce,_t],ft)=>(_t={...ne,...Ce,..._t},0===ft?(0,Ae.of)(_t):Promise.resolve(_t)))).subscribe(ne=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(I);const Ce=(0,c.HJs)(M.component);if(Ce)for(const{templateName:_t}of Ce.inputs)I.activatedComponentRef.setInput(_t,ne[_t]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,j)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac})}return w})();function xe(w,R,I){if(I&&w.shouldReuseRoute(R.value,I.value.snapshot)){const M=I.value;M._futureSnapshot=R.value;const j=function Ke(w,R,I){return R.children.map(M=>{for(const j of I.children)if(w.shouldReuseRoute(M.value,j.value.snapshot))return xe(w,M,j);return xe(w,M)})}(w,R,I);return new Hr(M,j)}{if(w.shouldAttach(R.value)){const ne=w.retrieve(R.value);if(null!==ne){const Ce=ne.route;return Ce.value._futureSnapshot=R.value,Ce.children=R.children.map(_t=>xe(w,_t)),Ce}}const M=function bt(w){return new cr(new ke.t(w.url),new ke.t(w.params),new ke.t(w.queryParams),new ke.t(w.fragment),new ke.t(w.data),w.outlet,w.component,w)}(R.value),j=R.children.map(ne=>xe(w,ne));return new Hr(M,j)}}const Xt="ngNavigationCancelingError";function fn(w,R){const{redirectTo:I,navigationBehaviorOptions:M}=ii(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,j=Ot(!1,0,R);return j.url=I,j.navigationBehaviorOptions=M,j}function Ot(w,R,I){const M=new Error("NavigationCancelingError: "+(w||""));return M[Xt]=!0,M.cancellationCode=R,I&&(M.url=I),M}function rr(w){return w&&w[Xt]}let Sn=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275cmp=c.VBU({type:w,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(M,j){1&M&&c.nrm(0,"router-outlet")},dependencies:[Io],encapsulation:2})}return w})();function ti(w){const R=w.children&&w.children.map(ti),I=R?{...w,children:R}:{...w};return!I.component&&!I.loadComponent&&(R||I.loadChildren)&&I.outlet&&I.outlet!==Wt&&(I.component=Sn),I}function fr(w){return w.outlet||Wt}function Ti(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let R=w.parent;R;R=R.parent){const I=R.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class va{constructor(R,I,M,j,ne){this.routeReuseStrategy=R,this.futureState=I,this.currState=M,this.forwardEvent=j,this.inputBindingEnabled=ne}activate(R){const I=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,M,R),Fo(this.futureState.root),this.activateChildRoutes(I,M,R)}deactivateChildRoutes(R,I,M){const j=qi(I);R.children.forEach(ne=>{const Ce=ne.value.outlet;this.deactivateRoutes(ne,j[Ce],M),delete j[Ce]}),Object.values(j).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,M)})}deactivateRoutes(R,I,M){const j=R.value,ne=I?I.value:null;if(j===ne)if(j.component){const Ce=M.getContext(j.outlet);Ce&&this.deactivateChildRoutes(R,I,Ce.children)}else this.deactivateChildRoutes(R,I,M);else ne&&this.deactivateRouteAndItsChildren(I,M)}deactivateRouteAndItsChildren(R,I){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,I):this.deactivateRouteAndOutlet(R,I)}detachAndStoreRouteSubtree(R,I){const M=I.getContext(R.value.outlet),j=M&&R.value.component?M.children:I,ne=qi(R);for(const Ce of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ce],j);if(M&&M.outlet){const Ce=M.outlet.detach(),_t=M.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ce,route:R,contexts:_t})}}deactivateRouteAndOutlet(R,I){const M=I.getContext(R.value.outlet),j=M&&R.value.component?M.children:I,ne=qi(R);for(const Ce of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ce],j);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(R,I,M){const j=qi(I);R.children.forEach(ne=>{this.activateRoutes(ne,j[ne.value.outlet],M),this.forwardEvent(new lo(ne.value.snapshot))}),R.children.length&&this.forwardEvent(new Qo(R.value.snapshot))}activateRoutes(R,I,M){const j=R.value,ne=I?I.value:null;if(Fo(j),j===ne)if(j.component){const Ce=M.getOrCreateContext(j.outlet);this.activateChildRoutes(R,I,Ce.children)}else this.activateChildRoutes(R,I,M);else if(j.component){const Ce=M.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const _t=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Ce.children.onOutletReAttached(_t.contexts),Ce.attachRef=_t.componentRef,Ce.route=_t.route.value,Ce.outlet&&Ce.outlet.attach(_t.componentRef,_t.route.value),Fo(_t.route.value),this.activateChildRoutes(R,null,Ce.children)}else{const _t=Ti(j.snapshot);Ce.attachRef=null,Ce.route=j,Ce.injector=_t,Ce.outlet&&Ce.outlet.activateWith(j,Ce.injector),this.activateChildRoutes(R,null,Ce.children)}}else this.activateChildRoutes(R,null,M)}}class po{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class ss{constructor(R,I){this.component=R,this.route=I}}function Qs(w,R,I){const M=w._root;return Ns(M,R?R._root:null,I,[M.value])}function $i(w,R){const I=Symbol(),M=R.get(w,I);return M===I?"function"!=typeof w||(0,c.LfX)(w)?R.get(w):w:M}function Ns(w,R,I,M,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=qi(R);return w.children.forEach(Ce=>{(function ks(w,R,I,M,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=w.value,Ce=R?R.value:null,_t=I?I.getContext(w.value.outlet):null;if(Ce&&ne.routeConfig===Ce.routeConfig){const ft=function Oc(w,R,I){if("function"==typeof I)return I(w,R);switch(I){case"pathParamsChange":return!yt(w.url,R.url);case"pathParamsOrQueryParamsChange":return!yt(w.url,R.url)||!Ut(w.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gn(w,R)||!Ut(w.queryParams,R.queryParams);default:return!Gn(w,R)}}(Ce,ne,ne.routeConfig.runGuardsAndResolvers);ft?j.canActivateChecks.push(new po(M)):(ne.data=Ce.data,ne._resolvedData=Ce._resolvedData),Ns(w,R,ne.component?_t?_t.children:null:I,M,j),ft&&_t&&_t.outlet&&_t.outlet.isActivated&&j.canDeactivateChecks.push(new ss(_t.outlet.component,Ce))}else Ce&&Gr(R,_t,j),j.canActivateChecks.push(new po(M)),Ns(w,null,ne.component?_t?_t.children:null:I,M,j)})(Ce,ne[Ce.value.outlet],I,M.concat([Ce.value]),j),delete ne[Ce.value.outlet]}),Object.entries(ne).forEach(([Ce,_t])=>Gr(_t,I.getContext(Ce),j)),j}function Gr(w,R,I){const M=qi(w),j=w.value;Object.entries(M).forEach(([ne,Ce])=>{Gr(Ce,j.component?R?R.children.getContext(ne):null:R,I)}),I.canDeactivateChecks.push(new ss(j.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,j))}function aa(w){return"function"==typeof w}function io(w){return w instanceof Nt.G||"EmptyError"===w?.name}const go=Symbol("INITIAL_VALUE");function oo(){return(0,Bt.n)(w=>Tt(w.map(R=>R.pipe((0,qt.s)(1),(0,lt.Z)(go)))).pipe((0,Mt.T)(R=>{for(const I of R)if(!0!==I){if(I===go)return go;if(!1===I||I instanceof gr)return I}return!0}),(0,Pe.p)(R=>R!==go),(0,qt.s)(1)))}function To(w){return(0,at.F)((0,De.M)(R=>{if(ii(R))throw fn(0,R)}),(0,Mt.T)(R=>!0===R))}class cs{constructor(R){this.segmentGroup=R||null}}class Ea{constructor(R){this.urlTree=R}}function Vs(w){return(0,Ze.$)(new cs(w))}function ir(w){return(0,Ze.$)(new Ea(w))}class Ka{constructor(R,I){this.urlSerializer=R,this.urlTree=I}noMatchError(R){return new c.wOt(4002,!1)}lineralizeSegments(R,I){let M=[],j=I.root;for(;;){if(M=M.concat(j.segments),0===j.numberOfChildren)return(0,Ae.of)(M);if(j.numberOfChildren>1||!j.children[Wt])return(0,Ze.$)(new c.wOt(4e3,!1));j=j.children[Wt]}}applyRedirectCommands(R,I,M){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),R,M)}applyRedirectCreateUrlTree(R,I,M,j){const ne=this.createSegmentGroup(R,I.root,M,j);return new gr(ne,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(R,I){const M={};return Object.entries(R).forEach(([j,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const _t=ne.substring(1);M[j]=I[_t]}else M[j]=ne}),M}createSegmentGroup(R,I,M,j){const ne=this.createSegments(R,I.segments,M,j);let Ce={};return Object.entries(I.children).forEach(([_t,ft])=>{Ce[_t]=this.createSegmentGroup(R,ft,M,j)}),new Pn(ne,Ce)}createSegments(R,I,M,j){return I.map(ne=>ne.path.startsWith(":")?this.findPosParam(R,ne,j):this.findOrReturn(ne,M))}findPosParam(R,I,M){const j=M[I.path.substring(1)];if(!j)throw new c.wOt(4001,!1);return j}findOrReturn(R,I){let M=0;for(const j of I){if(j.path===R.path)return I.splice(M),j;M++}return R}}const qa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ca(w,R,I,M,j){const ne=hs(w,R,I);return ne.matched?(M=function hi(w,R){return w.providers&&!w._injector&&(w._injector=(0,c.Ol2)(w.providers,R,`Route: ${w.path}`)),w._injector??R}(R,M),function Fs(w,R,I,M){const j=R.canMatch;if(!j||0===j.length)return(0,Ae.of)(!0);const ne=j.map(Ce=>{const _t=$i(Ce,w);return bn(function Ne(w){return w&&aa(w.canMatch)}(_t)?_t.canMatch(R,I):w.runInContext(()=>_t(R,I)))});return(0,Ae.of)(ne).pipe(oo(),To())}(M,R,I).pipe((0,Mt.T)(Ce=>!0===Ce?ne:{...qa}))):(0,Ae.of)(ne)}function hs(w,R,I){if(""===R.path)return"full"===R.pathMatch&&(w.hasChildren()||I.length>0)?{...qa}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const j=(R.matcher||vr)(I,w,R);if(!j)return{...qa};const ne={};Object.entries(j.posParams??{}).forEach(([_t,ft])=>{ne[_t]=ft.path});const Ce=j.consumed.length>0?{...ne,...j.consumed[j.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:j.consumed,remainingSegments:I.slice(j.consumed.length),parameters:Ce,positionalParamSegments:j.posParams??{}}}function Ls(w,R,I,M){return I.length>0&&function xa(w,R,I){return I.some(M=>Ya(w,R,M)&&fr(M)!==Wt)}(w,I,M)?{segmentGroup:new Pn(R,kc(M,new Pn(I,w.children))),slicedSegments:[]}:0===I.length&&function ca(w,R,I){return I.some(M=>Ya(w,R,M))}(w,I,M)?{segmentGroup:new Pn(w.segments,Xa(w,0,I,M,w.children)),slicedSegments:I}:{segmentGroup:new Pn(w.segments,w.children),slicedSegments:I}}function Xa(w,R,I,M,j){const ne={};for(const Ce of M)if(Ya(w,I,Ce)&&!j[fr(Ce)]){const _t=new Pn([],{});ne[fr(Ce)]=_t}return{...j,...ne}}function kc(w,R){const I={};I[Wt]=R;for(const M of w)if(""===M.path&&fr(M)!==Wt){const j=new Pn([],{});I[fr(M)]=j}return I}function Ya(w,R,I){return(!(w.hasChildren()||R.length>0)||"full"!==I.pathMatch)&&""===I.path}class Pa{constructor(R,I,M,j,ne,Ce,_t){this.injector=R,this.configLoader=I,this.rootComponentType=M,this.config=j,this.urlTree=ne,this.paramsInheritanceStrategy=Ce,this.urlSerializer=_t,this.allowRedirects=!0,this.applyRedirects=new Ka(this.urlSerializer,this.urlTree)}noMatchError(R){return new c.wOt(4002,!1)}recognize(){const R=Ls(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Wt).pipe((0,Se.W)(I=>{if(I instanceof Ea)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof cs?this.noMatchError(I):I}),(0,Mt.T)(I=>{const M=new di([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),j=new Hr(M,I),ne=new bo("",j),Ce=function nr(w,R,I=null,M=null){return tt(gt(w),R,I,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return Ce.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Ce),this.inheritParamsAndData(ne._root),{state:ne,tree:Ce}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Wt).pipe((0,Se.W)(M=>{throw M instanceof cs?this.noMatchError(M):M}))}inheritParamsAndData(R){const I=R.value,M=Ui(I,this.paramsInheritanceStrategy);I.params=Object.freeze(M.params),I.data=Object.freeze(M.data),R.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(R,I,M,j){return 0===M.segments.length&&M.hasChildren()?this.processChildren(R,I,M):this.processSegment(R,I,M,M.segments,j,!0)}processChildren(R,I,M){const j=[];for(const ne of Object.keys(M.children))"primary"===ne?j.unshift(ne):j.push(ne);return(0,fe.H)(j).pipe((0,Qe.H)(ne=>{const Ce=M.children[ne],_t=function As(w,R){const I=w.filter(M=>fr(M)===R);return I.push(...w.filter(M=>fr(M)!==R)),I}(I,ne);return this.processSegmentGroup(R,_t,Ce,ne)}),(0,$e.S)((ne,Ce)=>(ne.push(...Ce),ne)),(0,wt.U)(null),function rn(w,R){const I=arguments.length>=2;return M=>M.pipe(w?(0,Pe.p)((j,ne)=>w(j,ne,M)):Ue.D,xt(1),I?(0,wt.U)(R):(0,un.v)(()=>new Nt.G))}(),(0,de.Z)(ne=>{if(null===ne)return Vs(M);const Ce=_u(ne);return function Yu(w){w.sort((R,I)=>R.value.outlet===Wt?-1:I.value.outlet===Wt?1:R.value.outlet.localeCompare(I.value.outlet))}(Ce),(0,Ae.of)(Ce)}))}processSegment(R,I,M,j,ne,Ce){return(0,fe.H)(I).pipe((0,Qe.H)(_t=>this.processSegmentAgainstRoute(_t._injector??R,I,_t,M,j,ne,Ce).pipe((0,Se.W)(ft=>{if(ft instanceof cs)return(0,Ae.of)(null);throw ft}))),(0,Oe.$)(_t=>!!_t),(0,Se.W)(_t=>{if(io(_t))return function Fl(w,R,I){return 0===R.length&&!w.children[I]}(M,j,ne)?(0,Ae.of)([]):Vs(M);throw _t}))}processSegmentAgainstRoute(R,I,M,j,ne,Ce,_t){return function Us(w,R,I,M){return!!(fr(w)===M||M!==Wt&&Ya(R,I,w))&&("**"===w.path||hs(R,w,I).matched)}(M,j,ne,Ce)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(R,j,M,ne,Ce,_t):_t&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,j,I,M,ne,Ce):Vs(j):Vs(j)}expandSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ce){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,M,j,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,I,M,j){const ne=this.applyRedirects.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?ir(ne):this.applyRedirects.lineralizeSegments(M,ne).pipe((0,de.Z)(Ce=>{const _t=new Pn(Ce,{});return this.processSegment(R,I,_t,Ce,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ce){const{matched:_t,consumedSegments:ft,remainingSegments:mn,positionalParamSegments:pr}=hs(I,j,ne);if(!_t)return Vs(I);const Ir=this.applyRedirects.applyRedirectCommands(ft,j.redirectTo,pr);return j.redirectTo.startsWith("/")?ir(Ir):this.applyRedirects.lineralizeSegments(j,Ir).pipe((0,de.Z)(Ar=>this.processSegment(R,M,I,Ar.concat(mn),Ce,!1)))}matchSegmentAgainstRoute(R,I,M,j,ne,Ce){let _t;if("**"===M.path){const ft=j.length>0?Dn(j).parameters:{},mn=new di(j,ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wi(M),fr(M),M.component??M._loadedComponent??null,M,S(M));_t=(0,Ae.of)({snapshot:mn,consumedSegments:[],remainingSegments:[]}),I.children={}}else _t=Ca(I,M,j,R).pipe((0,Mt.T)(({matched:ft,consumedSegments:mn,remainingSegments:pr,parameters:Ir})=>ft?{snapshot:new di(mn,Ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wi(M),fr(M),M.component??M._loadedComponent??null,M,S(M)),consumedSegments:mn,remainingSegments:pr}:null));return _t.pipe((0,Bt.n)(ft=>null===ft?Vs(I):this.getChildConfig(R=M._injector??R,M,j).pipe((0,Bt.n)(({routes:mn})=>{const pr=M._loadedInjector??R,{snapshot:Ir,consumedSegments:Ar,remainingSegments:ri}=ft,{segmentGroup:nc,slicedSegments:rc}=Ls(I,Ar,ri,mn);if(0===rc.length&&nc.hasChildren())return this.processChildren(pr,mn,nc).pipe((0,Mt.T)(na=>null===na?null:[new Hr(Ir,na)]));if(0===mn.length&&0===rc.length)return(0,Ae.of)([new Hr(Ir,[])]);const da=fr(M)===ne;return this.processSegment(pr,mn,nc,rc,da?Wt:ne,!0).pipe((0,Mt.T)(na=>[new Hr(Ir,na)]))}))))}getChildConfig(R,I,M){return I.children?(0,Ae.of)({routes:I.children,injector:R}):I.loadChildren?void 0!==I._loadedRoutes?(0,Ae.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Nc(w,R,I,M){const j=R.canLoad;if(void 0===j||0===j.length)return(0,Ae.of)(!0);const ne=j.map(Ce=>{const _t=$i(Ce,w);return bn(function G(w){return w&&aa(w.canLoad)}(_t)?_t.canLoad(R,I):w.runInContext(()=>_t(R,I)))});return(0,Ae.of)(ne).pipe(oo(),To())}(R,I,M).pipe((0,de.Z)(j=>j?this.configLoader.loadChildren(R,I).pipe((0,De.M)(ne=>{I._loadedRoutes=ne.routes,I._loadedInjector=ne.injector})):function Js(w){return(0,Ze.$)(Ot(!1,3))}())):(0,Ae.of)({routes:[],injector:R})}}function ua(w){const R=w.value.routeConfig;return R&&""===R.path}function _u(w){const R=[],I=new Set;for(const M of w){if(!ua(M)){R.push(M);continue}const j=R.find(ne=>M.value.routeConfig===ne.value.routeConfig);void 0!==j?(j.children.push(...M.children),I.add(j)):R.push(M)}for(const M of I){const j=_u(M.children);R.push(new Hr(M.value,j))}return R.filter(M=>!I.has(M))}function wi(w){return w.data||{}}function S(w){return w.resolve||{}}function vn(w){return"string"==typeof w.title||null===w.title}function Pr(w){return(0,Bt.n)(R=>{const I=w(R);return I?(0,fe.H)(I).pipe((0,Mt.T)(()=>R)):(0,Ae.of)(R)})}const zr=new c.nKC("ROUTES");let jr=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,Ae.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const M=bn(I.loadComponent()).pipe((0,Mt.T)(wr),(0,De.M)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ne}),(0,Cn.j)(()=>{this.componentLoaders.delete(I)})),j=new Jt(M,()=>new cn.B).pipe(be());return this.componentLoaders.set(I,j),j}loadChildren(I,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,Ae.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const ne=function yr(w,R,I,M){return bn(w.loadChildren()).pipe((0,Mt.T)(wr),(0,de.Z)(j=>j instanceof c.Co$||Array.isArray(j)?(0,Ae.of)(j):(0,fe.H)(R.compileModuleAsync(j))),(0,Mt.T)(j=>{M&&M(w);let ne,Ce,_t=!1;return Array.isArray(j)?(Ce=j,!0):(ne=j.create(I).injector,Ce=ne.get(zr,[],{optional:!0,self:!0}).flat()),{routes:Ce.map(ti),injector:ne}}))}(M,this.compiler,I,this.onLoadEndListener).pipe((0,Cn.j)(()=>{this.childrenLoaders.delete(M)})),Ce=new Jt(ne,()=>new cn.B).pipe(be());return this.childrenLoaders.set(M,Ce),Ce}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function wr(w){return function _i(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Pi=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new cn.B,this.transitionAbortSubject=new cn.B,this.configLoader=(0,c.WQX)(jr),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Ie),this.rootContexts=(0,c.WQX)(Lr),this.inputBindingEnabled=null!==(0,c.WQX)(Q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new oi(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new No(j))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:M})}setupNavigations(I,M,j){return this.transitions=new ke.t({id:0,currentUrlTree:M,currentRawUrl:M,currentBrowserUrl:M,extractedUrl:I.urlHandlingStrategy.extract(M),urlAfterRedirects:I.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zi,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Pe.p)(ne=>0!==ne.id),(0,Mt.T)(ne=>({...ne,extractedUrl:I.urlHandlingStrategy.extract(ne.rawUrl)})),(0,Bt.n)(ne=>{this.currentTransition=ne;let Ce=!1,_t=!1;return(0,Ae.of)(ne).pipe((0,De.M)(ft=>{this.currentNavigation={id:ft.id,initialUrl:ft.rawUrl,extractedUrl:ft.extractedUrl,trigger:ft.source,extras:ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Bt.n)(ft=>{const mn=ft.currentBrowserUrl.toString(),pr=!I.navigated||ft.extractedUrl.toString()!==mn||mn!==ft.currentUrlTree.toString();if(!pr&&"reload"!==(ft.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const Ar="";return this.events.next(new jo(ft.id,this.urlSerializer.serialize(ft.rawUrl),Ar,0)),ft.resolve(null),it.w}if(I.urlHandlingStrategy.shouldProcessUrl(ft.rawUrl))return(0,Ae.of)(ft).pipe((0,Bt.n)(Ar=>{const ri=this.transitions?.getValue();return this.events.next(new ds(Ar.id,this.urlSerializer.serialize(Ar.extractedUrl),Ar.source,Ar.restoredState)),ri!==this.transitions?.getValue()?it.w:Promise.resolve(Ar)}),function J(w,R,I,M,j,ne){return(0,de.Z)(Ce=>function Zs(w,R,I,M,j,ne,Ce="emptyOnly"){return new Pa(w,R,I,M,j,Ce,ne).recognize()}(w,R,I,M,Ce.extractedUrl,j,ne).pipe((0,Mt.T)(({state:_t,tree:ft})=>({...Ce,targetSnapshot:_t,urlAfterRedirects:ft}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,De.M)(Ar=>{ne.targetSnapshot=Ar.targetSnapshot,ne.urlAfterRedirects=Ar.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ar.urlAfterRedirects};const ri=new Bi(Ar.id,this.urlSerializer.serialize(Ar.extractedUrl),this.urlSerializer.serialize(Ar.urlAfterRedirects),Ar.targetSnapshot);this.events.next(ri)}));if(pr&&I.urlHandlingStrategy.shouldProcessUrl(ft.currentRawUrl)){const{id:Ar,extractedUrl:ri,source:nc,restoredState:rc,extras:da}=ft,na=new ds(Ar,this.urlSerializer.serialize(ri),nc,rc);this.events.next(na);const ba=en(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...ft,targetSnapshot:ba,urlAfterRedirects:ri,extras:{...da,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(ne)}{const Ar="";return this.events.next(new jo(ft.id,this.urlSerializer.serialize(ft.extractedUrl),Ar,1)),ft.resolve(null),it.w}}),(0,De.M)(ft=>{const mn=new Eo(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(mn)}),(0,Mt.T)(ft=>(this.currentTransition=ne={...ft,guards:Qs(ft.targetSnapshot,ft.currentSnapshot,this.rootContexts)},ne)),function as(w,R){return(0,de.Z)(I=>{const{targetSnapshot:M,currentSnapshot:j,guards:{canActivateChecks:ne,canDeactivateChecks:Ce}}=I;return 0===Ce.length&&0===ne.length?(0,Ae.of)({...I,guardsResult:!0}):function Bo(w,R,I,M){return(0,fe.H)(w).pipe((0,de.Z)(j=>function Wi(w,R,I,M,j){const ne=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,Ae.of)(!0);const Ce=ne.map(_t=>{const ft=Ti(R)??j,mn=$i(_t,ft);return bn(function oe(w){return w&&aa(w.canDeactivate)}(mn)?mn.canDeactivate(w,R,I,M):ft.runInContext(()=>mn(w,R,I,M))).pipe((0,Oe.$)())});return(0,Ae.of)(Ce).pipe(oo())}(j.component,j.route,I,R,M)),(0,Oe.$)(j=>!0!==j,!0))}(Ce,M,j,w).pipe((0,de.Z)(_t=>_t&&function Da(w){return"boolean"==typeof w}(_t)?function $o(w,R,I,M){return(0,fe.H)(R).pipe((0,Qe.H)(j=>(0,sn.x)(function mu(w,R){return null!==w&&R&&R(new Co(w)),(0,Ae.of)(!0)}(j.route.parent,M),function So(w,R){return null!==w&&R&&R(new ws(w)),(0,Ae.of)(!0)}(j.route,M),function ya(w,R,I){const M=R[R.length-1],ne=R.slice(0,R.length-1).reverse().map(Ce=>function sa(w){const R=w.routeConfig?w.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:w,guards:R}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>Ge(()=>{const _t=Ce.guards.map(ft=>{const mn=Ti(Ce.node)??I,pr=$i(ft,mn);return bn(function O(w){return w&&aa(w.canActivateChild)}(pr)?pr.canActivateChild(M,w):mn.runInContext(()=>pr(M,w))).pipe((0,Oe.$)())});return(0,Ae.of)(_t).pipe(oo())}));return(0,Ae.of)(ne).pipe(oo())}(w,j.path,I),function ni(w,R,I){const M=R.routeConfig?R.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Ae.of)(!0);const j=M.map(ne=>Ge(()=>{const Ce=Ti(R)??I,_t=$i(ne,Ce);return bn(function X(w){return w&&aa(w.canActivate)}(_t)?_t.canActivate(R,w):Ce.runInContext(()=>_t(R,w))).pipe((0,Oe.$)())}));return(0,Ae.of)(j).pipe(oo())}(w,j.route,I))),(0,Oe.$)(j=>!0!==j,!0))}(M,ne,w,R):(0,Ae.of)(_t)),(0,Mt.T)(_t=>({...I,guardsResult:_t})))})}(this.environmentInjector,ft=>this.events.next(ft)),(0,De.M)(ft=>{if(ne.guardsResult=ft.guardsResult,ii(ft.guardsResult))throw fn(0,ft.guardsResult);const mn=new Os(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot,!!ft.guardsResult);this.events.next(mn)}),(0,Pe.p)(ft=>!!ft.guardsResult||(this.cancelNavigationTransition(ft,"",3),!1)),Pr(ft=>{if(ft.guards.canActivateChecks.length)return(0,Ae.of)(ft).pipe((0,De.M)(mn=>{const pr=new Li(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(pr)}),(0,Bt.n)(mn=>{let pr=!1;return(0,Ae.of)(mn).pipe(function U(w,R){return(0,de.Z)(I=>{const{targetSnapshot:M,guards:{canActivateChecks:j}}=I;if(!j.length)return(0,Ae.of)(I);let ne=0;return(0,fe.H)(j).pipe((0,Qe.H)(Ce=>function Y(w,R,I,M){const j=w.routeConfig,ne=w._resolve;return void 0!==j?.title&&!vn(j)&&(ne[Lt]=j.title),function Te(w,R,I,M){const j=function Ct(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===j.length)return(0,Ae.of)({});const ne={};return(0,fe.H)(j).pipe((0,de.Z)(Ce=>function kt(w,R,I,M){const j=Ti(R)??M,ne=$i(w,j);return bn(ne.resolve?ne.resolve(R,I):j.runInContext(()=>ne(R,I)))}(w[Ce],R,I,M).pipe((0,Oe.$)(),(0,De.M)(_t=>{ne[Ce]=_t}))),xt(1),function On(w){return(0,Mt.T)(()=>w)}(ne),(0,Se.W)(Ce=>io(Ce)?it.w:(0,Ze.$)(Ce)))}(ne,w,R,M).pipe((0,Mt.T)(Ce=>(w._resolvedData=Ce,w.data=Ui(w,I).resolve,j&&vn(j)&&(w.data[Lt]=j.title),null)))}(Ce.route,M,w,R)),(0,De.M)(()=>ne++),xt(1),(0,de.Z)(Ce=>ne===j.length?(0,Ae.of)(I):it.w))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,De.M)({next:()=>pr=!0,complete:()=>{pr||this.cancelNavigationTransition(mn,"",2)}}))}),(0,De.M)(mn=>{const pr=new oa(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(pr)}))}),Pr(ft=>{const mn=pr=>{const Ir=[];pr.routeConfig?.loadComponent&&!pr.routeConfig._loadedComponent&&Ir.push(this.configLoader.loadComponent(pr.routeConfig).pipe((0,De.M)(Ar=>{pr.component=Ar}),(0,Mt.T)(()=>{})));for(const Ar of pr.children)Ir.push(...mn(Ar));return Ir};return Tt(mn(ft.targetSnapshot.root)).pipe((0,wt.U)(),(0,qt.s)(1))}),Pr(()=>this.afterPreactivation()),(0,Mt.T)(ft=>{const mn=function ye(w,R,I){const M=xe(w,R._root,I?I._root:void 0);return new xr(M,R)}(I.routeReuseStrategy,ft.targetSnapshot,ft.currentRouterState);return this.currentTransition=ne={...ft,targetRouterState:mn},ne}),(0,De.M)(()=>{this.events.next(new Kn)}),((w,R,I,M)=>(0,Mt.T)(j=>(new va(R,j.targetRouterState,j.currentRouterState,I,M).activate(w),j)))(this.rootContexts,I.routeReuseStrategy,ft=>this.events.next(ft),this.inputBindingEnabled),(0,qt.s)(1),(0,De.M)({next:ft=>{Ce=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vr(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects))),I.titleStrategy?.updateTitle(ft.targetRouterState.snapshot),ft.resolve(!0)},complete:()=>{Ce=!0}}),function Gt(w){return(0,Vt.N)((R,I)=>{(0,et.Tg)(w).subscribe((0,ut._)(I,()=>I.complete(),dr.l)),!I.closed&&R.subscribe(I)})}(this.transitionAbortSubject.pipe((0,De.M)(ft=>{throw ft}))),(0,Cn.j)(()=>{Ce||_t||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),(0,Se.W)(ft=>{if(_t=!0,rr(ft))this.events.next(new Nr(ne.id,this.urlSerializer.serialize(ne.extractedUrl),ft.message,ft.cancellationCode)),function hn(w){return rr(w)&&ii(w.url)}(ft)?this.events.next(new ui(ft.url)):ne.resolve(!1);else{this.events.next(new uo(ne.id,this.urlSerializer.serialize(ne.extractedUrl),ft,ne.targetSnapshot??void 0));try{ne.resolve(I.errorHandler(ft))}catch(mn){ne.reject(mn)}}return it.w}))}))}cancelNavigationTransition(I,M,j){const ne=new Nr(I.id,this.urlSerializer.serialize(I.extractedUrl),M,j);this.events.next(ne),I.resolve(!1)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function wo(w){return w!==zi}let Ho=(()=>{class w{buildTitle(I){let M,j=I.root;for(;void 0!==j;)M=this.getResolvedTitleForRoute(j)??M,j=j.children.find(ne=>ne.outlet===Wt);return M}getResolvedTitleForRoute(I){return I.data[Lt]}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(js)},providedIn:"root"})}return w})(),js=(()=>{class w extends Ho{constructor(I){super(),this.title=I}updateTitle(I){const M=this.buildTitle(I);void 0!==M&&this.title.setTitle(M)}static#e=this.\u0275fac=function(M){return new(M||w)(c.KVO(Un.hE))};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Go=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(Yn)},providedIn:"root"})}return w})();class Ai{shouldDetach(R){return!1}store(R,I){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,I){return R.routeConfig===I.routeConfig}}let Yn=(()=>{class w extends Ai{static#e=this.\u0275fac=function(){let I;return function(j){return(I||(I=c.xGo(w)))(j||w)}}();static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const fs=new c.nKC("",{providedIn:"root",factory:()=>({})});let Qu=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(Wr)},providedIn:"root"})}return w})(),Wr=(()=>{class w{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,M){return I}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var us=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(us||{});function Ss(w,R){w.events.pipe((0,Pe.p)(I=>I instanceof Vr||I instanceof Nr||I instanceof uo||I instanceof jo),(0,Mt.T)(I=>I instanceof Vr||I instanceof jo?us.COMPLETE:I instanceof Nr&&(0===I.code||1===I.code)?us.REDIRECTING:us.FAILED),(0,Pe.p)(I=>I!==us.REDIRECTING),(0,qt.s)(1)).subscribe(()=>{R()})}function Qi(w){throw w}function Ju(w,R,I){return R.parse("/")}const Qa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ps={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.WQX)(c.H3F),this.isNgZoneEnabled=!1,this._events=new cn.B,this.options=(0,c.WQX)(fs,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.$K3),this.errorHandler=this.options.errorHandler||Qi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ju,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.WQX)(Qu),this.routeReuseStrategy=(0,c.WQX)(Go),this.titleStrategy=(0,c.WQX)(Ho),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.WQX)(zr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.WQX)(Pi),this.urlSerializer=(0,c.WQX)(Ie),this.location=(0,c.WQX)(Zn.aZ),this.componentInputBindingEnabled=!!(0,c.WQX)(Q,{optional:!0}),this.eventsSubscription=new At.yU,this.isNgZoneEnabled=(0,c.WQX)(c.SKi)instanceof c.SKi&&c.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=en(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(M=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(yu(M)&&this._events.next(M));if(M instanceof ds)wo(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(M instanceof jo)this.rawUrlTree=j.rawUrl;else if(M instanceof Bi){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(ne,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(M instanceof Kn)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(M instanceof Nr)0!==M.code&&1!==M.code&&(this.navigated=!0),(3===M.code||2===M.code)&&this.restoreHistory(j);else if(M instanceof ui){const ne=this.urlHandlingStrategy.merge(M.url,j.currentRawUrl),Ce={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wo(j.source)};this.scheduleNavigation(ne,zi,null,Ce,{resolve:j.resolve,reject:j.reject,promise:j.promise})}M instanceof uo&&this.restoreHistory(j,!0),M instanceof Vr&&(this.navigated=!0),yu(M)&&this._events.next(M)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zi,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const M="popstate"===I.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,M,I.state)},0)}))}navigateToSyncWithBrowser(I,M,j){const ne={replaceUrl:!0},Ce=j?.navigationId?j:null;if(j){const ft={...j};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(ne.state=ft)}const _t=this.parseUrl(I);this.scheduleNavigation(_t,M,Ce,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(ti),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,M={}){const{relativeTo:j,queryParams:ne,fragment:Ce,queryParamsHandling:_t,preserveFragment:ft}=M,mn=ft?this.currentUrlTree.fragment:Ce;let Ir,pr=null;switch(_t){case"merge":pr={...this.currentUrlTree.queryParams,...ne};break;case"preserve":pr=this.currentUrlTree.queryParams;break;default:pr=ne||null}null!==pr&&(pr=this.removeEmptyProps(pr));try{Ir=gt(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Ir=this.currentUrlTree.root}return tt(Ir,I,pr,mn??null)}navigateByUrl(I,M={skipLocationChange:!1}){const j=ii(I)?I:this.parseUrl(I),ne=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ne,zi,null,M)}navigate(I,M={skipLocationChange:!1}){return function Ja(w){for(let R=0;R<w.length;R++)if(null==w[R])throw new c.wOt(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,M),M)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let M;try{M=this.urlSerializer.parse(I)}catch(j){M=this.malformedUriErrorHandler(j,this.urlSerializer,I)}return M}isActive(I,M){let j;if(j=!0===M?{...Qa}:!1===M?{...ps}:M,ii(I))return Xr(this.currentUrlTree,I,j);const ne=this.parseUrl(I);return Xr(this.currentUrlTree,ne,j)}removeEmptyProps(I){return Object.keys(I).reduce((M,j)=>{const ne=I[j];return null!=ne&&(M[j]=ne),M},{})}scheduleNavigation(I,M,j,ne,Ce){if(this.disposed)return Promise.resolve(!1);let _t,ft,mn;Ce?(_t=Ce.resolve,ft=Ce.reject,mn=Ce.promise):mn=new Promise((Ir,Ar)=>{_t=Ir,ft=Ar});const pr=this.pendingTasks.add();return Ss(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(pr))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:ne,resolve:_t,reject:ft,promise:mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mn.catch(Ir=>Promise.reject(Ir))}setBrowserUrl(I,M){const j=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(j)||M.extras.replaceUrl){const Ce={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(j,"",Ce)}else{const ne={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go(j,"",ne)}}restoreHistory(I,M=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,M){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:M}:{navigationId:I}}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function yu(w){return!(w instanceof Kn||w instanceof ui)}let Jo=(()=>{class w{constructor(I,M,j,ne,Ce,_t){this.router=I,this.route=M,this.tabIndexAttribute=j,this.renderer=ne,this.el=Ce,this.locationStrategy=_t,this.href=null,this.commands=null,this.onChanges=new cn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ft=Ce.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ft||"area"===ft,this.isAnchorElement?this.subscription=I.events.subscribe(mn=>{mn instanceof Vr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,M,j,ne,Ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||M||j||ne||Ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const I=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",I)}applyAttributeValue(I,M){const j=this.renderer,ne=this.el.nativeElement;null!==M?j.setAttribute(ne,I,M):j.removeAttribute(ne,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(M){return new(M||w)(c.rXU(Ci),c.rXU(cr),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Zn.hb))};static#t=this.\u0275dir=c.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,j){1&M&&c.bIt("click",function(Ce){return j.onClick(Ce.button,Ce.ctrlKey,Ce.shiftKey,Ce.altKey,Ce.metaKey)}),2&M&&c.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.L39],skipLocationChange:["skipLocationChange","skipLocationChange",c.L39],replaceUrl:["replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}return w})();class Fc{}let Ll=(()=>{class w{constructor(I,M,j,ne,Ce){this.router=I,this.injector=j,this.preloadingStrategy=ne,this.loader=Ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.p)(I=>I instanceof Vr),(0,Qe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,M){const j=[];for(const ne of M){ne.providers&&!ne._injector&&(ne._injector=(0,c.Ol2)(ne.providers,I,`Route: ${ne.path}`));const Ce=ne._injector??I,_t=ne._loadedInjector??Ce;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&j.push(this.preloadConfig(Ce,ne)),(ne.children||ne._loadedRoutes)&&j.push(this.processRoutes(_t,ne.children??ne._loadedRoutes))}return(0,fe.H)(j).pipe((0,In.U)())}preloadConfig(I,M){return this.preloadingStrategy.preload(M,()=>{let j;j=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(I,M):(0,Ae.of)(null);const ne=j.pipe((0,de.Z)(Ce=>null===Ce?(0,Ae.of)(void 0):(M._loadedRoutes=Ce.routes,M._loadedInjector=Ce.injector,this.processRoutes(Ce.injector??I,Ce.routes))));if(M.loadComponent&&!M._loadedComponent){const Ce=this.loader.loadComponent(M);return(0,fe.H)([ne,Ce]).pipe((0,In.U)())}return ne})}static#e=this.\u0275fac=function(M){return new(M||w)(c.KVO(Ci),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Fc),c.KVO(jr))};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Ul=new c.nKC("");let Qn=(()=>{class w{constructor(I,M,j,ne,Ce={}){this.urlSerializer=I,this.transitions=M,this.viewportScroller=j,this.zone=ne,this.options=Ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ce.scrollPositionRestoration=Ce.scrollPositionRestoration||"disabled",Ce.anchorScrolling=Ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Vr?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof jo&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof os&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new os(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(M){c.QTQ()};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac})}return w})();function zo(w,R){return{\u0275kind:w,\u0275providers:R}}function Vc(){const w=(0,c.WQX)(c.zZn);return R=>{const I=w.get(c.o8S);if(R!==I.components[0])return;const M=w.get(Ci),j=w.get(bu);1===w.get(Ma)&&M.initialNavigation(),w.get(St,null,c.$GK.Optional)?.setUpPreloading(),w.get(Ul,null,c.$GK.Optional)?.init(),M.resetRootComponentType(I.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const bu=new c.nKC("",{factory:()=>new cn.B}),Ma=new c.nKC("",{providedIn:"root",factory:()=>1}),St=new c.nKC("");function Lc(w){return zo(0,[{provide:St,useExisting:Ll},{provide:Fc,useExisting:w}])}const Wo=new c.nKC("ROUTER_FORROOT_GUARD"),Na=[Zn.aZ,{provide:Ie,useClass:pt},Ci,Lr,{provide:cr,useFactory:function Za(w){return w.routerState.root},deps:[Ci]},jr,[]];function zn(){return new c.NEm("Router",Ci)}let ec=(()=>{class w{constructor(I){}static forRoot(I,M){return{ngModule:w,providers:[Na,[],{provide:zr,multi:!0,useValue:I},{provide:Wo,useFactory:Tu,deps:[[Ci,new c.Xx1,new c.kdw]]},{provide:fs,useValue:M||{}},M?.useHash?{provide:Zn.hb,useClass:Zn.fw}:{provide:Zn.hb,useClass:Zn.Sm},{provide:Ul,useFactory:()=>{const w=(0,c.WQX)(Zn.Xr),R=(0,c.WQX)(c.SKi),I=(0,c.WQX)(fs),M=(0,c.WQX)(Pi),j=(0,c.WQX)(Ie);return I.scrollOffset&&w.setOffset(I.scrollOffset),new Qn(j,M,w,R,I)}},M?.preloadingStrategy?Lc(M.preloadingStrategy).\u0275providers:[],{provide:c.NEm,multi:!0,useFactory:zn},M?.initialNavigation?ea(M):[],M?.bindToComponentInputs?zo(8,[z,{provide:Q,useExisting:z}]).\u0275providers:[],[{provide:_s,useFactory:Vc},{provide:c.iLQ,multi:!0,useExisting:_s}]]}}static forChild(I){return{ngModule:w,providers:[{provide:zr,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(M){return new(M||w)(c.KVO(Wo,8))};static#t=this.\u0275mod=c.$C({type:w});static#n=this.\u0275inj=c.G2t({})}return w})();function Tu(w){return"guarded"}function ea(w){return["disabled"===w.initialNavigation?zo(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const R=(0,c.WQX)(Ci);return()=>{R.setUpLocationChangeListener()}}},{provide:Ma,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?zo(2,[{provide:Ma,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:R=>{const I=R.get(Zn.hj,Promise.resolve());return()=>I.then(()=>new Promise(M=>{const j=R.get(Ci),ne=R.get(bu);Ss(j,()=>{M(!0)}),R.get(Pi).afterPreactivation=()=>(M(!0),ne.closed?(0,Ae.of)(void 0):ne),j.initialNavigation()}))}}]).\u0275providers:[]]}const _s=new c.nKC("")},3345:(nn,Je,L)=>{L.d(Je,{A:()=>Tt});var c=L(1076),ae=L(1362),o=L(7852),we=L(8041);class fe{constructor(jt,Nt){this._delegate=jt,this.firebase=Nt,(0,o._addComponent)(jt,new ae.uA("app-compat",()=>this,"PUBLIC")),this.container=jt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this._delegate.automaticDataCollectionEnabled=jt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(jt=>{this._delegate.checkDestroyed(),jt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate)))}_getService(jt,Nt=o._DEFAULT_ENTRY_NAME){var sn;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(jt);return!et.isInitialized()&&"EXPLICIT"===(null===(sn=et.getComponent())||void 0===sn?void 0:sn.instantiationMode)&&et.initialize(),et.getImmediate({identifier:Nt})}_removeServiceInstance(jt,Nt=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(jt).clearInstance(Nt)}_addComponent(jt){(0,o._addComponent)(this._delegate,jt)}_addOrOverwriteComponent(jt){(0,o._addOrOverwriteComponent)(this._delegate,jt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function Ue(){const It=function Fe(It){const jt={},Nt={__esModule:!0,initializeApp:function Ge(At,Vt={}){const be=o.initializeApp(At,Vt);if((0,c.gR)(jt,be.name))return jt[be.name];const Jt=new It(be,Nt);return jt[be.name]=Jt,Jt},app:et,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function Ze(At){const Vt=At.name,be=Vt.replace("-compat","");if(o._registerComponent(At)&&"PUBLIC"===At.type){const Jt=(cn=et())=>{if("function"!=typeof cn[be])throw ke.create("invalid-app-argument",{appName:Vt});return cn[be]()};void 0!==At.serviceProps&&(0,c.zw)(Jt,At.serviceProps),Nt[be]=Jt,It.prototype[be]=function(...cn){return this._getService.bind(this,Vt).apply(this,At.multipleInstances?cn:[])}}return"PUBLIC"===At.type?Nt[be]:null},removeApp:function sn(At){delete jt[At]},useAsService:function it(At,Vt){return"serverAuth"===Vt?null:Vt},modularAPIs:o}};function et(At){if(!(0,c.gR)(jt,At=At||o._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:At});return jt[At]}return Nt.default=Nt,Object.defineProperty(Nt,"apps",{get:function at(){return Object.keys(jt).map(At=>jt[At])}}),et.App=It,Nt}(fe);return It.INTERNAL=Object.assign(Object.assign({},It.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function jt(Nt){(0,c.zw)(It,Nt)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),It}(),ce=new we.Vy("@firebase/app-compat");if((0,c.Bd)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const It=self.firebase.SDK_VERSION;It&&It.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Tt=Z;!function Ye(It){(0,o.registerVersion)("@firebase/app-compat","0.2.35",It)}()},7852:(nn,Je,L)=>{L.r(Je),L.d(Je,{FirebaseError:()=>we.g,SDK_VERSION:()=>Ie,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>jn,_addOrOverwriteComponent:()=>Yr,_apps:()=>hr,_clearComponents:()=>Pn,_components:()=>Xr,_getProvider:()=>an,_isFirebaseApp:()=>Wn,_isFirebaseServerApp:()=>gr,_registerComponent:()=>Ki,_removeServiceInstance:()=>Qr,_serverApps:()=>Er,deleteApp:()=>sr,getApp:()=>xn,getApps:()=>Tr,initializeApp:()=>pt,initializeServerApp:()=>Kt,onLog:()=>H,registerVersion:()=>ee,setLogLevel:()=>V});var c=L(467),ae=L(1362),o=L(8041),we=L(1076);const fe=(gt,tt)=>tt.some(Pt=>gt instanceof Pt);let Ae,ke;const Z=new WeakMap,ce=new WeakMap,me=new WeakMap,ut=new WeakMap,Ye=new WeakMap;let jt={get(gt,tt,Pt){if(gt instanceof IDBTransaction){if("done"===tt)return ce.get(gt);if("objectStoreNames"===tt)return gt.objectStoreNames||me.get(gt);if("store"===tt)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return Ge(gt[tt])},set:(gt,tt,Pt)=>(gt[tt]=Pt,!0),has:(gt,tt)=>gt instanceof IDBTransaction&&("done"===tt||"store"===tt)||tt in gt};function et(gt){return"function"==typeof gt?function sn(gt){return gt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ue(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(gt)?function(...tt){return gt.apply(at(this),tt),Ge(Z.get(this))}:function(...tt){return Ge(gt.apply(at(this),tt))}:function(tt,...Pt){const dn=gt.call(at(this),tt,...Pt);return me.set(dn,tt.sort?tt.sort():[tt]),Ge(dn)}}(gt):(gt instanceof IDBTransaction&&function It(gt){if(ce.has(gt))return;const tt=new Promise((Pt,dn)=>{const wn=()=>{gt.removeEventListener("complete",Fn),gt.removeEventListener("error",Nn),gt.removeEventListener("abort",Nn)},Fn=()=>{Pt(),wn()},Nn=()=>{dn(gt.error||new DOMException("AbortError","AbortError")),wn()};gt.addEventListener("complete",Fn),gt.addEventListener("error",Nn),gt.addEventListener("abort",Nn)});ce.set(gt,tt)}(gt),fe(gt,function Fe(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(gt,jt):gt)}function Ge(gt){if(gt instanceof IDBRequest)return function Tt(gt){const tt=new Promise((Pt,dn)=>{const wn=()=>{gt.removeEventListener("success",Fn),gt.removeEventListener("error",Nn)},Fn=()=>{Pt(Ge(gt.result)),wn()},Nn=()=>{dn(gt.error),wn()};gt.addEventListener("success",Fn),gt.addEventListener("error",Nn)});return tt.then(Pt=>{Pt instanceof IDBCursor&&Z.set(Pt,gt)}).catch(()=>{}),Ye.set(tt,gt),tt}(gt);if(ut.has(gt))return ut.get(gt);const tt=et(gt);return tt!==gt&&(ut.set(gt,tt),Ye.set(tt,gt)),tt}const at=gt=>Ye.get(gt),At=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],be=new Map;function Jt(gt,tt){if(!(gt instanceof IDBDatabase)||tt in gt||"string"!=typeof tt)return;if(be.get(tt))return be.get(tt);const Pt=tt.replace(/FromIndex$/,""),dn=tt!==Pt,wn=Vt.includes(Pt);if(!(Pt in(dn?IDBIndex:IDBObjectStore).prototype)||!wn&&!At.includes(Pt))return;const Fn=function(){var Nn=(0,c.A)(function*($r,...Or){const Ni=this.transaction($r,wn?"readwrite":"readonly");let Yo=Ni.store;return dn&&(Yo=Yo.index(Or.shift())),(yield Promise.all([Yo[Pt](...Or),wn&&Ni.done]))[0]});return function(Or){return Nn.apply(this,arguments)}}();return be.set(tt,Fn),Fn}!function Nt(gt){jt=gt(jt)}(gt=>({...gt,get:(tt,Pt,dn)=>Jt(tt,Pt)||gt.get(tt,Pt,dn),has:(tt,Pt)=>!!Jt(tt,Pt)||gt.has(tt,Pt)}));class cn{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function Zn(gt){const tt=gt.getComponent();return"VERSION"===tt?.type}(Pt)){const dn=Pt.getImmediate();return`${dn.library}/${dn.version}`}return null}).filter(Pt=>Pt).join(" ")}}const Mt="@firebase/app",Bt="0.10.5",qt=new o.Vy("@firebase/app"),Dn="[DEFAULT]",bn={[Mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},hr=new Map,Er=new Map,Xr=new Map;function jn(gt,tt){try{gt.container.addComponent(tt)}catch(Pt){qt.debug(`Component ${tt.name} failed to register with FirebaseApp ${gt.name}`,Pt)}}function Yr(gt,tt){gt.container.addOrOverwriteComponent(tt)}function Ki(gt){const tt=gt.name;if(Xr.has(tt))return qt.debug(`There were multiple attempts to register component ${tt}.`),!1;Xr.set(tt,gt);for(const Pt of hr.values())jn(Pt,gt);for(const Pt of Er.values())jn(Pt,gt);return!0}function an(gt,tt){const Pt=gt.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),gt.container.getProvider(tt)}function Qr(gt,tt,Pt=Dn){an(gt,tt).clearInstance(Pt)}function Wn(gt){return void 0!==gt.options}function gr(gt){return void 0!==gt.settings}function Pn(){Xr.clear()}const ze=new we.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yt{constructor(tt,Pt,dn){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=dn,this.container.addComponent(new ae.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw ze.create("app-deleted",{appName:this._name})}}class ie extends yt{constructor(tt,Pt,dn,wn){const Fn=void 0!==Pt.automaticDataCollectionEnabled&&Pt.automaticDataCollectionEnabled,Nn={name:dn,automaticDataCollectionEnabled:Fn};super(void 0!==tt.apiKey?tt:tt.options,Nn,wn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Fn},Pt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Pt.releaseOnDeref=void 0,ee(Mt,Bt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(tt){this.isDeleted||(this._refCount++,void 0!==tt&&this._finalizationRegistry.register(tt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){sr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ze.create("server-app-deleted")}}const Ie="10.12.2";function pt(gt,tt={}){let Pt=gt;"object"!=typeof tt&&(tt={name:tt});const dn=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},tt),wn=dn.name;if("string"!=typeof wn||!wn)throw ze.create("bad-app-name",{appName:String(wn)});if(Pt||(Pt=(0,we.T9)()),!Pt)throw ze.create("no-options");const Fn=hr.get(wn);if(Fn){if((0,we.bD)(Pt,Fn.options)&&(0,we.bD)(dn,Fn.config))return Fn;throw ze.create("duplicate-app",{appName:wn})}const Nn=new ae.h1(wn);for(const Or of Xr.values())Nn.addComponent(Or);const $r=new yt(Pt,dn,Nn);return hr.set(wn,$r),$r}function Kt(gt,tt){if((0,we.Bd)())throw ze.create("invalid-server-app-environment");let Pt;void 0===tt.automaticDataCollectionEnabled&&(tt.automaticDataCollectionEnabled=!1),Pt=Wn(gt)?gt.options:gt;const dn=Object.assign(Object.assign({},tt),Pt);if(void 0!==dn.releaseOnDeref&&delete dn.releaseOnDeref,void 0!==tt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ze.create("finalization-registry-not-supported",{});const Fn=""+(Ni=JSON.stringify(dn),[...Ni].reduce((Yo,Sr)=>Math.imul(31,Yo)+Sr.charCodeAt(0)|0,0)),Nn=Er.get(Fn);var Ni;if(Nn)return Nn.incRefCount(tt.releaseOnDeref),Nn;const $r=new ae.h1(Fn);for(const Ni of Xr.values())$r.addComponent(Ni);const Or=new ie(Pt,tt,Fn,$r);return Er.set(Fn,Or),Or}function xn(gt=Dn){const tt=hr.get(gt);if(!tt&&gt===Dn&&(0,we.T9)())return pt();if(!tt)throw ze.create("no-app",{appName:gt});return tt}function Tr(){return Array.from(hr.values())}function sr(gt){return Re.apply(this,arguments)}function Re(){return(Re=(0,c.A)(function*(gt){let tt=!1;const Pt=gt.name;hr.has(Pt)?(tt=!0,hr.delete(Pt)):Er.has(Pt)&&gt.decRefCount()<=0&&(Er.delete(Pt),tt=!0),tt&&(yield Promise.all(gt.container.getProviders().map(dn=>dn.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function ee(gt,tt,Pt){var dn;let wn=null!==(dn=bn[gt])&&void 0!==dn?dn:gt;Pt&&(wn+=`-${Pt}`);const Fn=wn.match(/\s|\//),Nn=tt.match(/\s|\//);if(Fn||Nn){const $r=[`Unable to register library "${wn}" with version "${tt}":`];return Fn&&$r.push(`library name "${wn}" contains illegal characters (whitespace or "/")`),Fn&&Nn&&$r.push("and"),Nn&&$r.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),void qt.warn($r.join(" "))}Ki(new ae.uA(`${wn}-version`,()=>({library:wn,version:tt}),"VERSION"))}function H(gt,tt){if(null!==gt&&"function"!=typeof gt)throw ze.create("invalid-log-argument");(0,o.Ey)(gt,tt)}function V(gt){(0,o.He)(gt)}const F="firebase-heartbeat-database",ue=1,Le="firebase-heartbeat-store";let le=null;function qe(){return le||(le=function Ze(gt,tt,{blocked:Pt,upgrade:dn,blocking:wn,terminated:Fn}={}){const Nn=indexedDB.open(gt,tt),$r=Ge(Nn);return dn&&Nn.addEventListener("upgradeneeded",Or=>{dn(Ge(Nn.result),Or.oldVersion,Or.newVersion,Ge(Nn.transaction),Or)}),Pt&&Nn.addEventListener("blocked",Or=>Pt(Or.oldVersion,Or.newVersion,Or)),$r.then(Or=>{Fn&&Or.addEventListener("close",()=>Fn()),wn&&Or.addEventListener("versionchange",Ni=>wn(Ni.oldVersion,Ni.newVersion,Ni))}).catch(()=>{}),$r}(F,ue,{upgrade:(gt,tt)=>{if(0===tt)try{gt.createObjectStore(Le)}catch(Pt){console.warn(Pt)}}}).catch(gt=>{throw ze.create("idb-open",{originalErrorMessage:gt.message})})),le}function ot(){return(ot=(0,c.A)(function*(gt){try{const Pt=(yield qe()).transaction(Le),dn=yield Pt.objectStore(Le).get(En(gt));return yield Pt.done,dn}catch(tt){if(tt instanceof we.g)qt.warn(tt.message);else{const Pt=ze.create("idb-get",{originalErrorMessage:tt?.message});qt.warn(Pt.message)}}})).apply(this,arguments)}function Xe(gt,tt){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.A)(function*(gt,tt){try{const dn=(yield qe()).transaction(Le,"readwrite");yield dn.objectStore(Le).put(tt,En(gt)),yield dn.done}catch(Pt){if(Pt instanceof we.g)qt.warn(Pt.message);else{const dn=ze.create("idb-set",{originalErrorMessage:Pt?.message});qt.warn(dn.message)}}})).apply(this,arguments)}function En(gt){return`${gt.name}!${gt.options.appId}`}class Xo{constructor(tt){this.container=tt,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new Oi(Pt),this._heartbeatsCachePromise=this._storage.read().then(dn=>(this._heartbeatsCache=dn,dn))}triggerHeartbeat(){var tt=this;return(0,c.A)(function*(){var Pt,dn;const Fn=tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nn=ci();if((null!=(null===(Pt=tt._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||(tt._heartbeatsCache=yield tt._heartbeatsCachePromise,null!=(null===(dn=tt._heartbeatsCache)||void 0===dn?void 0:dn.heartbeats)))&&tt._heartbeatsCache.lastSentHeartbeatDate!==Nn&&!tt._heartbeatsCache.heartbeats.some($r=>$r.date===Nn))return tt._heartbeatsCache.heartbeats.push({date:Nn,agent:Fn}),tt._heartbeatsCache.heartbeats=tt._heartbeatsCache.heartbeats.filter($r=>{const Or=new Date($r.date).valueOf();return Date.now()-Or<=2592e6}),tt._storage.overwrite(tt._heartbeatsCache)})()}getHeartbeatsHeader(){var tt=this;return(0,c.A)(function*(){var Pt;if(null===tt._heartbeatsCache&&(yield tt._heartbeatsCachePromise),null==(null===(Pt=tt._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||0===tt._heartbeatsCache.heartbeats.length)return"";const dn=ci(),{heartbeatsToSend:wn,unsentEntries:Fn}=function no(gt,tt=1024){const Pt=[];let dn=gt.slice();for(const wn of gt){const Fn=Pt.find(Nn=>Nn.agent===wn.agent);if(Fn){if(Fn.dates.push(wn.date),ii(Pt)>tt){Fn.dates.pop();break}}else if(Pt.push({agent:wn.agent,dates:[wn.date]}),ii(Pt)>tt){Pt.pop();break}dn=dn.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:dn}}(tt._heartbeatsCache.heartbeats),Nn=(0,we.Uj)(JSON.stringify({version:2,heartbeats:wn}));return tt._heartbeatsCache.lastSentHeartbeatDate=dn,Fn.length>0?(tt._heartbeatsCache.heartbeats=Fn,yield tt._storage.overwrite(tt._heartbeatsCache)):(tt._heartbeatsCache.heartbeats=[],tt._storage.overwrite(tt._heartbeatsCache)),Nn})()}}function ci(){return(new Date).toISOString().substring(0,10)}class Oi{constructor(tt){this.app=tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,we.zW)()&&(0,we.eX)().then(()=>!0).catch(()=>!1)})()}read(){var tt=this;return(0,c.A)(function*(){if(yield tt._canUseIndexedDBPromise){const dn=yield function _e(gt){return ot.apply(this,arguments)}(tt.app);return dn?.heartbeats?dn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(tt){var Pt=this;return(0,c.A)(function*(){var dn;if(yield Pt._canUseIndexedDBPromise){const Fn=yield Pt.read();return Xe(Pt.app,{lastSentHeartbeatDate:null!==(dn=tt.lastSentHeartbeatDate)&&void 0!==dn?dn:Fn.lastSentHeartbeatDate,heartbeats:tt.heartbeats})}})()}add(tt){var Pt=this;return(0,c.A)(function*(){var dn;if(yield Pt._canUseIndexedDBPromise){const Fn=yield Pt.read();return Xe(Pt.app,{lastSentHeartbeatDate:null!==(dn=tt.lastSentHeartbeatDate)&&void 0!==dn?dn:Fn.lastSentHeartbeatDate,heartbeats:[...Fn.heartbeats,...tt.heartbeats]})}})()}}function ii(gt){return(0,we.Uj)(JSON.stringify({version:2,heartbeats:gt})).length}!function nr(gt){Ki(new ae.uA("platform-logger",tt=>new cn(tt),"PRIVATE")),Ki(new ae.uA("heartbeat",tt=>new Xo(tt),"PRIVATE")),ee(Mt,Bt,gt),ee(Mt,Bt,"esm2017"),ee("fire-js","")}("")},1362:(nn,Je,L)=>{L.d(Je,{h1:()=>Fe,uA:()=>o});var c=L(467),ae=L(1076);class o{constructor(Z,ce,me){this.name=Z,this.instanceFactory=ce,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const we="[DEFAULT]";class fe{constructor(Z,ce){this.name=Z,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const ce=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(ce)){const me=new ae.cY;if(this.instancesDeferred.set(ce,me),this.isInitialized(ce)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:ce});ut&&me.resolve(ut)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(Z){var ce;const me=this.normalizeInstanceIdentifier(Z?.identifier),ut=null!==(ce=Z?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Ye){if(ut)return null;throw Ye}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function ke(Ue){return"EAGER"===Ue.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[ce,me]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(ce);try{const Ye=this.getOrInitializeService({instanceIdentifier:ut});me.resolve(Ye)}catch{}}}}clearInstance(Z=we){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,c.A)(function*(){const ce=Array.from(Z.instances.values());yield Promise.all([...ce.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ce.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=we){return this.instances.has(Z)}getOptions(Z=we){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:ce={}}=Z,me=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:me,options:ce});for(const[Ye,Tt]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Ye)&&Tt.resolve(ut);return ut}onInit(Z,ce){var me;const ut=this.normalizeInstanceIdentifier(ce),Ye=null!==(me=this.onInitCallbacks.get(ut))&&void 0!==me?me:new Set;Ye.add(Z),this.onInitCallbacks.set(ut,Ye);const Tt=this.instances.get(ut);return Tt&&Z(Tt,ut),()=>{Ye.delete(Z)}}invokeOnInitCallbacks(Z,ce){const me=this.onInitCallbacks.get(ce);if(me)for(const ut of me)try{ut(Z,ce)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:ce={}}){let me=this.instances.get(Z);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=Z,Ue===we?void 0:Ue),options:ce}),this.instances.set(Z,me),this.instancesOptions.set(Z,ce),this.invokeOnInitCallbacks(me,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,me)}catch{}var Ue;return me||null}normalizeInstanceIdentifier(Z=we){return this.component?this.component.multipleInstances?Z:we:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const ce=this.getProvider(Z.name);if(ce.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);ce.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const ce=new fe(Z,this);return this.providers.set(Z,ce),ce}getProviders(){return Array.from(this.providers.values())}}},8041:(nn,Je,L)=>{L.d(Je,{$b:()=>ae,Ey:()=>Ue,He:()=>Fe,Vy:()=>ke});const c=[];var ae=function(Z){return Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z}(ae||{});const o={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},we=ae.INFO,fe={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Ae=(Z,ce,...me)=>{if(ce<Z.logLevel)return;const ut=(new Date).toISOString(),Ye=fe[ce];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Ye](`[${ut}]  ${Z.name}:`,...me)};class ke{constructor(ce){this.name=ce,this._logLevel=we,this._logHandler=Ae,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in ae))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?o[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...ce),this._logHandler(this,ae.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...ce),this._logHandler(this,ae.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...ce),this._logHandler(this,ae.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...ce),this._logHandler(this,ae.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...ce),this._logHandler(this,ae.ERROR,...ce)}}function Fe(Z){c.forEach(ce=>{ce.setLogLevel(Z)})}function Ue(Z,ce){for(const me of c){let ut=null;ce&&ce.level&&(ut=o[ce.level]),me.userLogHandler=null===Z?null:(Ye,Tt,...It)=>{const jt=It.map(Nt=>{if(null==Nt)return null;if("string"==typeof Nt)return Nt;if("number"==typeof Nt||"boolean"==typeof Nt)return Nt.toString();if(Nt instanceof Error)return Nt.message;try{return JSON.stringify(Nt)}catch{return null}}).filter(Nt=>Nt).join(" ");Tt>=(ut??Ye.logLevel)&&Z({level:ae[Tt].toLowerCase(),message:jt,args:It,type:Ye.name})}}}},2214:(nn,Je,L)=>{L.d(Je,{Dk:()=>c.getApps,KO:()=>c.registerVersion,Sx:()=>c.getApp,Wp:()=>c.initializeApp});var c=L(7852);(0,c.registerVersion)("firebase","10.12.2","app")},7935:(nn,Je,L)=>{L.d(Je,{A:()=>c.A});var c=L(3345);c.A.registerVersion("firebase","10.12.2","app-compat")},2438:(nn,Je,L)=>{var c=L(467),ae=L(3345),o=L(4033),we=L(1076),ke=(L(7852),L(8041),L(1362));function Fe(){return window}function ce(){return ce=(0,c.A)(function*(H,V,F){var ue;const{BuildInfo:Le}=Fe();(0,o.au)(V.sessionId,"AuthEvent did not contain a session ID");const le=yield function Nt(H){return sn.apply(this,arguments)}(V.sessionId),qe={};return(0,o.av)()?qe.ibi=Le.packageName:(0,o.aw)()?qe.apn=Le.packageName:(0,o.ax)(H,"operation-not-supported-in-this-environment"),Le.displayName&&(qe.appDisplayName=Le.displayName),qe.sessionId=le,(0,o.ay)(H,F,V.type,void 0,null!==(ue=V.eventId)&&void 0!==ue?ue:void 0,qe)}),ce.apply(this,arguments)}function ut(){return(ut=(0,c.A)(function*(H){const{BuildInfo:V}=Fe(),F={};(0,o.av)()?F.iosBundleId=V.packageName:(0,o.aw)()?F.androidPackageName=V.packageName:(0,o.ax)(H,"operation-not-supported-in-this-environment"),yield(0,o.az)(H,F)})).apply(this,arguments)}function It(){return(It=(0,c.A)(function*(H,V,F){const{cordova:ue}=Fe();let Le=()=>{};try{yield new Promise((le,qe)=>{let _e=null;function ot(){var En;le();const Zr=null===(En=ue.plugins.browsertab)||void 0===En?void 0:En.close;"function"==typeof Zr&&Zr(),"function"==typeof F?.close&&F.close()}function Xe(){_e||(_e=window.setTimeout(()=>{qe((0,o.aB)(H,"redirect-cancelled-by-user"))},2e3))}function Rn(){"visible"===document?.visibilityState&&Xe()}V.addPassiveListener(ot),document.addEventListener("resume",Xe,!1),(0,o.aw)()&&document.addEventListener("visibilitychange",Rn,!1),Le=()=>{V.removePassiveListener(ot),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Rn,!1),_e&&window.clearTimeout(_e)}})}finally{Le()}})).apply(this,arguments)}function sn(){return(sn=(0,c.A)(function*(H){const V=function et(H){if((0,o.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const V=new ArrayBuffer(H.length),F=new Uint8Array(V);for(let ue=0;ue<H.length;ue++)F[ue]=H.charCodeAt(ue);return F}(H),F=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(F)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class at extends o.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.A)(function*(){yield V.initPromise})()}}function At(H){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.A)(function*(H){const V=yield cn()._get(Zn(H));return V&&(yield cn()._remove(Zn(H))),V})).apply(this,arguments)}function Jt(){const H=[];for(let F=0;F<20;F++){const ue=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ue))}return H.join("")}function cn(){return(0,o.aE)(o.b)}function Zn(H){return(0,o.aF)("authEvent",H.config.apiKey,H.name)}function qt(H){if(!H?.includes("?"))return{};const[V,...F]=H.split("?");return(0,we.I9)(F.join("?"))}const de=class Pe{constructor(){this._redirectPersistence=o.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(V){var F=this;return(0,c.A)(function*(){const ue=V._key();let Le=F.eventManagers.get(ue);return Le||(Le=new at(V),F.eventManagers.set(ue,Le),F.attachCallbackListeners(V,Le)),Le})()}_openPopup(V){(0,o.ax)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,F,ue,Le){var le=this;return(0,c.A)(function*(){!function jt(H){var V,F,ue,Le,le,qe,_e,ot,Xe,Rn;const En=Fe();(0,o.aC)("function"==typeof(null===(V=En?.universalLinks)||void 0===V?void 0:V.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,o.aC)(typeof(null===(F=En?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,o.aC)("function"==typeof(null===(le=null===(Le=null===(ue=En?.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===le?void 0:le.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(ot=null===(_e=null===(qe=En?.cordova)||void 0===qe?void 0:qe.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===ot?void 0:ot.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(Rn=null===(Xe=En?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Rn?void 0:Rn.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const qe=yield le._initialize(V);yield qe.initialized(),qe.resetRedirect(),(0,o.aI)(),yield le._originValidation(V);const _e=function Ze(H,V,F=null){return{type:V,eventId:F,urlResponse:null,sessionId:Jt(),postBody:null,tenantId:H.tenantId,error:(0,o.aB)(H,"no-auth-event")}}(V,ue,Le);yield function it(H,V){return cn()._set(Zn(H),V)}(V,_e);const ot=yield function Z(H,V,F){return ce.apply(this,arguments)}(V,_e,F),Xe=yield function Ye(H){const{cordova:V}=Fe();return new Promise(F=>{V.plugins.browsertab.isAvailable(ue=>{let Le=null;ue?V.plugins.browsertab.openUrl(H):Le=V.InAppBrowser.open(H,(0,o.aA)()?"_blank":"_system","location=yes"),F(Le)})})}(ot);return function Tt(H,V,F){return It.apply(this,arguments)}(V,qe,Xe)})()}_isIframeWebStorageSupported(V,F){throw new Error("Method not implemented.")}_originValidation(V){const F=V._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function me(H){return ut.apply(this,arguments)}(V)),this.originValidationPromises[F]}attachCallbackListeners(V,F){const{universalLinks:ue,handleOpenURL:Le,BuildInfo:le}=Fe(),qe=setTimeout((0,c.A)(function*(){yield At(V),F.onEvent(Oe())}),500),_e=function(){var Rn=(0,c.A)(function*(En){clearTimeout(qe);const Zr=yield At(V);let Cr=null;Zr&&En?.url&&(Cr=function be(H,V){var F,ue;const Le=function Bt(H){const V=qt(H),F=V.link?decodeURIComponent(V.link):void 0,ue=qt(F).link,Le=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return qt(Le).link||Le||ue||F||H}(V);if(Le.includes("/__/auth/callback")){const le=qt(Le),qe=le.firebaseError?function Mt(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,_e=null===(ue=null===(F=qe?.code)||void 0===F?void 0:F.split("auth/"))||void 0===ue?void 0:ue[1],ot=_e?(0,o.aB)(_e):null;return ot?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:ot,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:Le,postBody:null}}return null}(Zr,En.url)),F.onEvent(Cr||Oe())});return function(Zr){return Rn.apply(this,arguments)}}();typeof ue<"u"&&"function"==typeof ue.subscribe&&ue.subscribe(null,_e);const ot=Le,Xe=`${le.packageName.toLowerCase()}://`;Fe().handleOpenURL=function(){var Rn=(0,c.A)(function*(En){if(En.toLowerCase().startsWith(Xe)&&_e({url:En}),"function"==typeof ot)try{ot(En)}catch(Zr){console.error(Zr)}});return function(En){return Rn.apply(this,arguments)}}()}};function Oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,o.aB)("no-auth-event")}}function wt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function un(H=(0,we.ZQ)()){return!("file:"!==wt()&&"ionic:"!==wt()&&"capacitor:"!==wt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gt(){try{const H=self.localStorage,V=o.aN();if(H)return H.setItem(V,"1"),H.removeItem(V),!function dr(H=(0,we.ZQ)()){return function On(){return(0,we.lT)()&&11===document?.documentMode}()||function Cn(H=(0,we.ZQ)()){return/Edge\/\d+/.test(H)}(H)}()||(0,we.zW)()}catch{return In()&&(0,we.zW)()}return!1}function In(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Un(){return(function xt(){return"http:"===wt()||"https:"===wt()}()||(0,we.sr)()||un())&&!function rn(){return(0,we.lV)()||(0,we.Ll)()}()&&Gt()&&!In()}function Wt(){return un()&&typeof document<"u"}function Fr(){return(Fr=(0,c.A)(function*(){return!!Wt()&&new Promise(H=>{const V=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),H(!0)})})})).apply(this,arguments)}const vr={LOCAL:"local",NONE:"none",SESSION:"session"},Hn=o.aC,Ut="persistence";function Dn(H){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.A)(function*(H){yield H._initializationPromise;const V=Er(),F=o.aF(Ut,H.config.apiKey,H.name);V&&V.setItem(F,H._getPersistence())})).apply(this,arguments)}function Er(){var H;try{return(null===(H=function ln(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const Xr=o.aC;class jn{constructor(){this.browserResolver=o.aE(o.k),this.cordovaResolver=o.aE(de),this.underlyingResolver=null,this._redirectPersistence=o.a,this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(V){var F=this;return(0,c.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,F,ue,Le){var le=this;return(0,c.A)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(V,F,ue,Le)})()}_openRedirect(V,F,ue,Le){var le=this;return(0,c.A)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(V,F,ue,Le)})()}_isIframeWebStorageSupported(V,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,F)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Wt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.A)(function*(){if(V.underlyingResolver)return;const F=yield function Lt(){return Fr.apply(this,arguments)}();V.underlyingResolver=F?V.cordovaResolver:V.browserResolver})()}}function Yr(H){return H.unwrap()}function an(H){return Wn(H)}function Wn(H){const{_tokenResponse:V}=H instanceof we.g?H.customData:H;if(!V)return null;if(!(H instanceof we.g)&&"temporaryProof"in V&&"phoneNumber"in V)return o.P.credentialFromResult(H);const F=V.providerId;if(!F||F===o.p.PASSWORD)return null;let ue;switch(F){case o.p.GOOGLE:ue=o.X;break;case o.p.FACEBOOK:ue=o.W;break;case o.p.GITHUB:ue=o.Y;break;case o.p.TWITTER:ue=o.$;break;default:const{oauthIdToken:Le,oauthAccessToken:le,oauthTokenSecret:qe,pendingToken:_e,nonce:ot}=V;return le||qe||Le||_e?_e?F.startsWith("saml.")?o.aQ._create(F,_e):o.N._fromParams({providerId:F,signInMethod:F,pendingToken:_e,idToken:Le,accessToken:le}):new o.Z(F).credential({idToken:Le,accessToken:le,rawNonce:ot}):null}return H instanceof we.g?ue.credentialFromError(H):ue.credentialFromResult(H)}function gr(H,V){return V.catch(F=>{throw F instanceof we.g&&function Qr(H,V){var F;const ue=null===(F=V.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new ze(H,o.as(H,V));else if(ue){const Le=Wn(V),le=V;Le&&(le.credential=Le,le.tenantId=ue.tenantId||void 0,le.email=ue.email||void 0,le.phoneNumber=ue.phoneNumber||void 0)}}(H,F),F}).then(F=>{const Le=F.user;return{operationType:F.operationType,credential:an(F),additionalUserInfo:o.aq(F),user:yt.getOrCreate(Le)}})}function Pn(H,V){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.A)(function*(H,V){const F=yield V;return{verificationId:F.verificationId,confirm:ue=>gr(H,F.confirm(ue))}})).apply(this,arguments)}class ze{constructor(V,F){this.resolver=F,this.auth=function Ki(H){return H.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return gr(Yr(this.auth),this.resolver.resolveSignIn(V))}}class yt{constructor(V){this._delegate=V,this.multiFactor=o.at(V)}static getOrCreate(V){return yt.USER_MAP.has(V)||yt.USER_MAP.set(V,new yt(V)),yt.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var F=this;return(0,c.A)(function*(){return gr(F.auth,o.a2(F._delegate,V))})()}linkWithPhoneNumber(V,F){var ue=this;return(0,c.A)(function*(){return Pn(ue.auth,o.l(ue._delegate,V,F))})()}linkWithPopup(V){var F=this;return(0,c.A)(function*(){return gr(F.auth,o.d(F._delegate,V,jn))})()}linkWithRedirect(V){var F=this;return(0,c.A)(function*(){return yield Dn(o.aJ(F.auth)),o.g(F._delegate,V,jn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var F=this;return(0,c.A)(function*(){return gr(F.auth,o.a3(F._delegate,V))})()}reauthenticateWithPhoneNumber(V,F){return Pn(this.auth,o.r(this._delegate,V,F))}reauthenticateWithPopup(V){return gr(this.auth,o.e(this._delegate,V,jn))}reauthenticateWithRedirect(V){var F=this;return(0,c.A)(function*(){return yield Dn(o.aJ(F.auth)),o.h(F._delegate,V,jn)})()}sendEmailVerification(V){return o.ag(this._delegate,V)}unlink(V){var F=this;return(0,c.A)(function*(){return yield o.ap(F._delegate,V),F})()}updateEmail(V){return o.al(this._delegate,V)}updatePassword(V){return o.am(this._delegate,V)}updatePhoneNumber(V){return o.u(this._delegate,V)}updateProfile(V){return o.ak(this._delegate,V)}verifyBeforeUpdateEmail(V,F){return o.ah(this._delegate,V,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yt.USER_MAP=new WeakMap;const ie=o.aC;let Ie=(()=>{class H{constructor(F,ue){if(this.app=F,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=F.options;ie(Le,"invalid-api-key",{appName:F.name}),ie(Le,"invalid-api-key",{appName:F.name});const le=typeof window<"u"?jn:void 0;this._delegate=ue.initialize({options:{persistence:Kt(Le,F.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(o.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ue){o.K(this._delegate,F,ue)}applyActionCode(F){return o.a7(this._delegate,F)}checkActionCode(F){return o.a8(this._delegate,F)}confirmPasswordReset(F,ue){return o.a6(this._delegate,F,ue)}createUserWithEmailAndPassword(F,ue){var Le=this;return(0,c.A)(function*(){return gr(Le._delegate,o.aa(Le._delegate,F,ue))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return o.af(this._delegate,F)}isSignInWithEmailLink(F){return o.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,c.A)(function*(){ie(Un(),F._delegate,"operation-not-supported-in-this-environment");const ue=yield o.j(F._delegate,jn);return ue?gr(F._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Qe(H,V){(0,o.aJ)(H)._logFramework(V)}(this._delegate,F)}onAuthStateChanged(F,ue,Le){const{next:le,error:qe,complete:_e}=pt(F,ue,Le);return this._delegate.onAuthStateChanged(le,qe,_e)}onIdTokenChanged(F,ue,Le){const{next:le,error:qe,complete:_e}=pt(F,ue,Le);return this._delegate.onIdTokenChanged(le,qe,_e)}sendSignInLinkToEmail(F,ue){return o.ac(this._delegate,F,ue)}sendPasswordResetEmail(F,ue){return o.a5(this._delegate,F,ue||void 0)}setPersistence(F){var ue=this;return(0,c.A)(function*(){let Le;switch(function gn(H,V){Hn(Object.values(vr).includes(V),H,"invalid-persistence-type"),(0,we.lV)()?Hn(V!==vr.SESSION,H,"unsupported-persistence-type"):(0,we.Ll)()?Hn(V===vr.NONE,H,"unsupported-persistence-type"):In()?Hn(V===vr.NONE||V===vr.LOCAL&&(0,we.zW)(),H,"unsupported-persistence-type"):Hn(V===vr.NONE||Gt(),H,"unsupported-persistence-type")}(ue._delegate,F),F){case vr.SESSION:Le=o.a;break;case vr.LOCAL:Le=(yield o.aE(o.i)._isAvailable())?o.i:o.b;break;case vr.NONE:Le=o.U;break;default:return o.ax("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return gr(this._delegate,o.a0(this._delegate))}signInWithCredential(F){return gr(this._delegate,o.a1(this._delegate,F))}signInWithCustomToken(F){return gr(this._delegate,o.a4(this._delegate,F))}signInWithEmailAndPassword(F,ue){return gr(this._delegate,o.ab(this._delegate,F,ue))}signInWithEmailLink(F,ue){return gr(this._delegate,o.ae(this._delegate,F,ue))}signInWithPhoneNumber(F,ue){return Pn(this._delegate,o.s(this._delegate,F,ue))}signInWithPopup(F){var ue=this;return(0,c.A)(function*(){return ie(Un(),ue._delegate,"operation-not-supported-in-this-environment"),gr(ue._delegate,o.c(ue._delegate,F,jn))})()}signInWithRedirect(F){var ue=this;return(0,c.A)(function*(){return ie(Un(),ue._delegate,"operation-not-supported-in-this-environment"),yield Dn(ue._delegate),o.f(ue._delegate,F,jn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return o.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=vr,H})();function pt(H,V,F){let ue=H;"function"!=typeof H&&({next:ue,error:V,complete:F}=H);const Le=ue;return{next:qe=>Le(qe&&yt.getOrCreate(qe)),error:V,complete:F}}function Kt(H,V){const F=function hr(H,V){const F=Er();if(!F)return[];const ue=o.aF(Ut,H,V);switch(F.getItem(ue)){case vr.NONE:return[o.U];case vr.LOCAL:return[o.i,o.a];case vr.SESSION:return[o.a];default:return[]}}(H,V);if(typeof self<"u"&&!F.includes(o.i)&&F.push(o.i),typeof window<"u")for(const ue of[o.b,o.a])F.includes(ue)||F.push(ue);return F.includes(o.U)||F.push(o.U),F}class xn{constructor(){this.providerId="phone",this._delegate=new o.P(Yr(ae.A.auth()))}static credential(V,F){return o.P.credential(V,F)}verifyPhoneNumber(V,F){return this._delegate.verifyPhoneNumber(V,F)}unwrap(){return this._delegate}}xn.PHONE_SIGN_IN_METHOD=o.P.PHONE_SIGN_IN_METHOD,xn.PROVIDER_ID=o.P.PROVIDER_ID;const Tr=o.aC;class sr{constructor(V,F,ue=ae.A.app()){var Le;Tr(null===(Le=ue.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new o.R(ue.auth(),V,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ee(H){H.INTERNAL.registerComponent(new ke.uA("auth-compat",V=>{const F=V.getProvider("app-compat").getImmediate(),ue=V.getProvider("auth");return new Ie(F,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.A.EMAIL_SIGNIN,PASSWORD_RESET:o.A.PASSWORD_RESET,RECOVER_EMAIL:o.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.A.VERIFY_EMAIL}},EmailAuthProvider:o.V,FacebookAuthProvider:o.W,GithubAuthProvider:o.Y,GoogleAuthProvider:o.X,OAuthProvider:o.Z,SAMLAuthProvider:o._,PhoneAuthProvider:xn,PhoneMultiFactorGenerator:o.m,RecaptchaVerifier:sr,TwitterAuthProvider:o.$,Auth:Ie,AuthCredential:o.L,Error:we.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.9")}(ae.A)},467:(nn,Je,L)=>{function c(o,we,fe,Ae,ke,Fe,Ue){try{var Z=o[Fe](Ue),ce=Z.value}catch(me){return void fe(me)}Z.done?we(ce):Promise.resolve(ce).then(Ae,ke)}function ae(o){return function(){var we=this,fe=arguments;return new Promise(function(Ae,ke){var Fe=o.apply(we,fe);function Ue(ce){c(Fe,Ae,ke,Ue,Z,"next",ce)}function Z(ce){c(Fe,Ae,ke,Ue,Z,"throw",ce)}Ue(void 0)})}}L.d(Je,{A:()=>ae})},1635:(nn,Je,L)=>{function we(de,Oe){var Qe={};for(var De in de)Object.prototype.hasOwnProperty.call(de,De)&&Oe.indexOf(De)<0&&(Qe[De]=de[De]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(De=Object.getOwnPropertySymbols(de);Se<De.length;Se++)Oe.indexOf(De[Se])<0&&Object.prototype.propertyIsEnumerable.call(de,De[Se])&&(Qe[De[Se]]=de[De[Se]])}return Qe}function me(de,Oe,Qe,De){return new(Qe||(Qe=Promise))(function($e,wt){function xt(On){try{rn(De.next(On))}catch(Cn){wt(Cn)}}function un(On){try{rn(De.throw(On))}catch(Cn){wt(Cn)}}function rn(On){On.done?$e(On.value):function Se($e){return $e instanceof Qe?$e:new Qe(function(wt){wt($e)})}(On.value).then(xt,un)}rn((De=De.apply(de,Oe||[])).next())})}function Ge(de){return this instanceof Ge?(this.v=de,this):new Ge(de)}function at(de,Oe,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,De=Qe.apply(de,Oe||[]),$e=[];return Se={},xt("next"),xt("throw"),xt("return",function wt(Gt){return function(In){return Promise.resolve(In).then(Gt,Cn)}}),Se[Symbol.asyncIterator]=function(){return this},Se;function xt(Gt,In){De[Gt]&&(Se[Gt]=function(Un){return new Promise(function(Wt,Lt){$e.push([Gt,Un,Wt,Lt])>1||un(Gt,Un)})},In&&(Se[Gt]=In(Se[Gt])))}function un(Gt,In){try{!function rn(Gt){Gt.value instanceof Ge?Promise.resolve(Gt.value.v).then(On,Cn):dr($e[0][2],Gt)}(De[Gt](In))}catch(Un){dr($e[0][3],Un)}}function On(Gt){un("next",Gt)}function Cn(Gt){un("throw",Gt)}function dr(Gt,In){Gt(In),$e.shift(),$e.length&&un($e[0][0],$e[0][1])}}function it(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Oe=de[Symbol.asyncIterator];return Oe?Oe.call(de):(de=function It(de){var Oe="function"==typeof Symbol&&Symbol.iterator,Qe=Oe&&de[Oe],De=0;if(Qe)return Qe.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&De>=de.length&&(de=void 0),{value:de&&de[De++],done:!de}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Qe={},De("next"),De("throw"),De("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function De($e){Qe[$e]=de[$e]&&function(wt){return new Promise(function(xt,un){!function Se($e,wt,xt,un){Promise.resolve(un).then(function(rn){$e({value:rn,done:xt})},wt)}(xt,un,(wt=de[$e](wt)).done,wt.value)})}}}L.d(Je,{AQ:()=>at,N3:()=>Ge,Tt:()=>we,sH:()=>me,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},nn=>{nn(nn.s=8094)}]);