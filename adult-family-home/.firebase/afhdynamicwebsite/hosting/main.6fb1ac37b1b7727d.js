"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(tn,Xe,V)=>{V.d(Xe,{$:()=>Ja,A:()=>ne,G:()=>je,K:()=>Pi,L:()=>mi,N:()=>Se,P:()=>oa,R:()=>Ba,U:()=>on,V:()=>Vi,W:()=>wi,X:()=>Mr,Y:()=>Bo,Z:()=>Ii,_:()=>na,a:()=>ya,a0:()=>Ro,a1:()=>Zi,a2:()=>Ps,a3:()=>Go,a4:()=>Wi,a5:()=>Fa,a6:()=>vu,a7:()=>Tl,a8:()=>_o,a9:()=>Eu,aA:()=>sr,aB:()=>tt,aC:()=>Ie,aD:()=>ap,aE:()=>dt,aF:()=>hn,aG:()=>op,aH:()=>Ga,aI:()=>Hh,aJ:()=>fr,aN:()=>Cr,aQ:()=>Js,aa:()=>jh,ab:()=>bu,ac:()=>Il,ad:()=>Ql,ae:()=>La,af:()=>il,ag:()=>ie,ah:()=>X,ak:()=>Ln,al:()=>si,am:()=>Zr,ap:()=>$o,aq:()=>ts,as:()=>Jl,at:()=>zo,au:()=>Xt,av:()=>gi,aw:()=>Ni,ax:()=>Ae,ay:()=>Wa,az:()=>qo,b:()=>ec,c:()=>Fu,d:()=>Lu,e:()=>Od,f:()=>pl,g:()=>Ha,h:()=>Rl,i:()=>k,j:()=>jc,k:()=>Yh,l:()=>$a,m:()=>Hc,p:()=>Pe,r:()=>xu,s:()=>ko,u:()=>Al});var s=V(467),ce=V(7852),r=V(1076),Ee=V(8041),me=V(1635),Te=V(1362);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function he(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ve=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tt=new Ee.Vy("@firebase/auth");function Ge(C,..._){Tt.logLevel<=Ee.$b.ERROR&&Tt.error(`Auth (${ce.SDK_VERSION}): ${C}`,..._)}function Ae(C,..._){throw ut(C,..._)}function tt(C,..._){return ut(C,..._)}function Ke(C,_,v){const R=Object.assign(Object.assign({},ve()),{[_]:v});return new r.FA("auth","Firebase",R).create(_,{appName:C.name})}function ct(C){return Ke(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xt(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Ae(C,"argument-error"),Ke(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ut(C,..._){if("string"!=typeof C){const v=_[0],R=[..._.slice(1)];return R[0]&&(R[0].appName=C.name),C._errorFactory.create(v,...R)}return Ye.create(C,..._)}function Ie(C,_,...v){if(!C)throw ut(_,...v)}function Ze(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Ge(_),new Error(_)}function Xt(C,_){C||Ze(_)}function On(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ot(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ve{constructor(_,v){this.shortDelay=_,this.longDelay=v,Xt(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,r.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(C,_){Xt(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class it{static initialize(_,v,R){this.fetchImpl=_,v&&(this.headersImpl=v),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Z=new Ve(3e4,6e4);function ye(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function Fe(C,_,v,R){return ot.apply(this,arguments)}function ot(){return(ot=(0,s.A)(function*(C,_,v,R,Q={}){return We(C,Q,(0,s.A)(function*(){let fe={},Je={};R&&("GET"===_?Je=R:fe={body:JSON.stringify(R)});const Rt=(0,r.Am)(Object.assign({key:C.config.apiKey},Je)).slice(1),Wt=yield C._getAdditionalHeaders();Wt["Content-Type"]="application/json",C.languageCode&&(Wt["X-Firebase-Locale"]=C.languageCode);const Rn=Object.assign({method:_,headers:Wt},fe);return(0,r.c1)()||(Rn.referrerPolicy="no-referrer"),it.fetch()(rn(C,C.config.apiHost,v,Rt),Rn)}))})).apply(this,arguments)}function We(C,_,v){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.A)(function*(C,_,v){C._canInitEmulator=!1;const R=Object.assign(Object.assign({},xe),_);try{const Q=new Qt(C),fe=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const Je=yield fe.json();if("needConfirmation"in Je)throw Bn(C,"account-exists-with-different-credential",Je);if(fe.ok&&!("errorMessage"in Je))return Je;{const Rt=fe.ok?Je.errorMessage:Je.error.message,[Wt,Rn]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Wt)throw Bn(C,"credential-already-in-use",Je);if("EMAIL_EXISTS"===Wt)throw Bn(C,"email-already-in-use",Je);if("USER_DISABLED"===Wt)throw Bn(C,"user-disabled",Je);const Pn=R[Wt]||Wt.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw Ke(C,Pn,Rn);Ae(C,Pn)}}catch(Q){if(Q instanceof r.g)throw Q;Ae(C,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function bn(C,_,v,R){return tr.apply(this,arguments)}function tr(){return(tr=(0,s.A)(function*(C,_,v,R,Q={}){const fe=yield Fe(C,_,v,R,Q);return"mfaPendingCredential"in fe&&Ae(C,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function rn(C,_,v,R){const Q=`${_}${v}?${R}`;return C.config.emulator?st(C.config,Q):`${C.config.apiScheme}://${Q}`}function Fn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,R)=>{this.timer=setTimeout(()=>R(tt(this.auth,"network-request-failed")),Z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(C,_,v){const R={appName:C.name};v.email&&(R.email=v.email),v.phoneNumber&&(R.phoneNumber=v.phoneNumber);const Q=tt(C,_,R);return Q.customData._tokenResponse=v,Q}function xn(C){return void 0!==C&&void 0!==C.getResponse}function zt(C){return void 0!==C&&void 0!==C.enterprise}class Ut{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Fn(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function sn(){return(sn=(0,s.A)(function*(C){return(yield Fe(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xr(C,_){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,s.A)(function*(C,_){return Fe(C,"GET","/v2/recaptchaConfig",ye(C,_))})).apply(this,arguments)}function En(){return(En=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Tn(){return(Tn=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Br(C,_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Hr(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ys(){return(ys=(0,s.A)(function*(C,_=!1){const v=(0,r.Ku)(C),R=yield v.getIdToken(_),Q=ti(R);Ie(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const fe="object"==typeof Q.firebase?Q.firebase:void 0,Je=fe?.sign_in_provider;return{claims:Q,token:R,authTime:Hr(dn(Q.auth_time)),issuedAtTime:Hr(dn(Q.iat)),expirationTime:Hr(dn(Q.exp)),signInProvider:Je||null,signInSecondFactor:fe?.sign_in_second_factor||null}})).apply(this,arguments)}function dn(C){return 1e3*Number(C)}function ti(C){const[_,v,R]=C.split(".");if(void 0===_||void 0===v||void 0===R)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,r.u)(v);return Q?JSON.parse(Q):(Ge("Failed to decode base64 JWT payload"),null)}catch(Q){return Ge("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Jn(C){const _=ti(C);return Ie(_,"internal-error"),Ie(typeof _.exp<"u","internal-error"),Ie(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Tr(C,_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,s.A)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(R){throw R instanceof r.g&&function Ri({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(R)&&C.auth.currentUser===C&&(yield C.auth.signOut()),R}})).apply(this,arguments)}class at{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const R=this.getInterval(_);this.timerId=setTimeout((0,s.A)(function*(){yield v.iteration()}),R)}iteration(){var _=this;return(0,s.A)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class bt{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hr(this.lastLoginAt),this.creationTime=Hr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function de(C){return ke.apply(this,arguments)}function ke(){return(ke=(0,s.A)(function*(C){var _;const v=C.auth,R=yield C.getIdToken(),Q=yield Tr(C,Br(v,{idToken:R}));Ie(Q?.users.length,v,"internal-error");const fe=Q.users[0];C._notifyReloadListener(fe);const Je=null!==(_=fe.providerUserInfo)&&void 0!==_&&_.length?Vr(fe.providerUserInfo):[],Rt=function Vn(C,_){return[...C.filter(R=>!_.some(Q=>Q.providerId===R.providerId)),..._]}(C.providerData,Je),Pn=!!C.isAnonymous&&!(C.email&&fe.passwordHash||Rt?.length),ei={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:Rt,metadata:new bt(fe.createdAt,fe.lastLoginAt),isAnonymous:Pn};Object.assign(C,ei)})).apply(this,arguments)}function qt(){return(qt=(0,s.A)(function*(C){const _=(0,r.Ku)(C);yield de(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Vr(C){return C.map(_=>{var{providerId:v}=_,R=(0,me.Tt)(_,["providerId"]);return{providerId:v,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function Qe(){return(Qe=(0,s.A)(function*(C,_){const v=yield We(C,{},(0,s.A)(function*(){const R=(0,r.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Q,apiKey:fe}=C.config,Je=rn(C,Q,"/v1/token",`key=${fe}`),Rt=yield C._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(Je,{method:"POST",headers:Rt,body:R})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function x(){return(x=(0,s.A)(function*(C,_){return Fe(C,"POST","/v2/accounts:revokeToken",ye(C,_))})).apply(this,arguments)}class A{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ie(_.idToken,"internal-error"),Ie(typeof _.idToken<"u","internal-error"),Ie(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Jn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){Ie(0!==_.length,"internal-error");const v=Jn(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var R=this;return(0,s.A)(function*(){return v||!R.accessToken||R.isExpired?(Ie(R.refreshToken,_,"user-token-expired"),R.refreshToken?(yield R.refresh(_,R.refreshToken),R.accessToken):null):R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var R=this;return(0,s.A)(function*(){const{accessToken:Q,refreshToken:fe,expiresIn:Je}=yield function Ir(C,_){return Qe.apply(this,arguments)}(_,v);R.updateTokensAndExpiration(Q,fe,Number(Je))})()}updateTokensAndExpiration(_,v,R){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(_,v){const{refreshToken:R,accessToken:Q,expirationTime:fe}=v,Je=new A;return R&&(Ie("string"==typeof R,"internal-error",{appName:_}),Je.refreshToken=R),Q&&(Ie("string"==typeof Q,"internal-error",{appName:_}),Je.accessToken=Q),fe&&(Ie("number"==typeof fe,"internal-error",{appName:_}),Je.expirationTime=fe),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new A,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function O(C,_){Ie("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class re{constructor(_){var{uid:v,auth:R,stsTokenManager:Q}=_,fe=(0,me.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=R,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new bt(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,s.A)(function*(){const R=yield Tr(v,v.stsTokenManager.getToken(v.auth,_));return Ie(R,v.auth,"internal-error"),v.accessToken!==R&&(v.accessToken=R,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),R})()}getIdTokenResult(_){return function hi(C){return ys.apply(this,arguments)}(this,_)}reload(){return function At(C){return qt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ie(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new re(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var R=this;return(0,s.A)(function*(){let Q=!1;_.idToken&&_.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(_),Q=!0),v&&(yield de(R)),yield R.auth._persistUserIfCurrent(R),Q&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var _=this;return(0,s.A)(function*(){if((0,ce._isFirebaseServerApp)(_.auth.app))return Promise.reject(ct(_.auth));const v=yield _.getIdToken();return yield Tr(_,function Gt(C,_){return En.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var R,Q,fe,Je,Rt,Wt,Rn,Pn;const ei=null!==(R=v.displayName)&&void 0!==R?R:void 0,Eo=null!==(Q=v.email)&&void 0!==Q?Q:void 0,ca=null!==(fe=v.phoneNumber)&&void 0!==fe?fe:void 0,Ll=null!==(Je=v.photoURL)&&void 0!==Je?Je:void 0,Kc=null!==(Rt=v.tenantId)&&void 0!==Rt?Rt:void 0,Kd=null!==(Wt=v._redirectEventId)&&void 0!==Wt?Wt:void 0,qd=null!==(Rn=v.createdAt)&&void 0!==Rn?Rn:void 0,Ng=null!==(Pn=v.lastLoginAt)&&void 0!==Pn?Pn:void 0,{uid:hp,emailVerified:Yd,isAnonymous:kg,providerData:ua,stsTokenManager:Zh}=v;Ie(hp&&Zh,_,"internal-error");const Xd=A.fromJSON(this.name,Zh);Ie("string"==typeof hp,_,"internal-error"),O(ei,_.name),O(Eo,_.name),Ie("boolean"==typeof Yd,_,"internal-error"),Ie("boolean"==typeof kg,_,"internal-error"),O(ca,_.name),O(Ll,_.name),O(Kc,_.name),O(Kd,_.name),O(qd,_.name),O(Ng,_.name);const da=new re({uid:hp,auth:_,email:Eo,emailVerified:Yd,displayName:ei,isAnonymous:kg,photoURL:Ll,phoneNumber:ca,tenantId:Kc,stsTokenManager:Xd,createdAt:qd,lastLoginAt:Ng});return ua&&Array.isArray(ua)&&(da.providerData=ua.map(Wu=>Object.assign({},Wu))),Kd&&(da._redirectEventId=Kd),da}static _fromIdTokenResponse(_,v,R=!1){return(0,s.A)(function*(){const Q=new A;Q.updateFromServerResponse(v);const fe=new re({uid:v.localId,auth:_,stsTokenManager:Q,isAnonymous:R});return yield de(fe),fe})()}static _fromGetAccountInfoResponse(_,v,R){return(0,s.A)(function*(){const Q=v.users[0];Ie(void 0!==Q.localId,"internal-error");const fe=void 0!==Q.providerUserInfo?Vr(Q.providerUserInfo):[],Je=!(Q.email&&Q.passwordHash||fe?.length),Rt=new A;Rt.updateFromIdToken(R);const Wt=new re({uid:Q.localId,auth:_,stsTokenManager:Rt,isAnonymous:Je}),Rn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:fe,metadata:new bt(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||fe?.length)};return Object.assign(Wt,Rn),Wt})()}}const pe=new Map;function dt(C){Xt(C instanceof Function,"Expected a class definition");let _=pe.get(C);return _?(Xt(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,pe.set(C,_),_)}const on=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.A)(function*(){return!0})()}_set(v,R){var Q=this;return(0,s.A)(function*(){Q.storage[v]=R})()}_get(v){var R=this;return(0,s.A)(function*(){const Q=R.storage[v];return void 0===Q?null:Q})()}_remove(v){var R=this;return(0,s.A)(function*(){delete R.storage[v]})()}_addListener(v,R){}_removeListener(v,R){}}return C.type="NONE",C})();function hn(C,_,v){return`firebase:${C}:${_}:${v}`}class wn{constructor(_,v,R){this.persistence=_,this.auth=v,this.userKey=R;const{config:Q,name:fe}=this.auth;this.fullUserKey=hn(this.userKey,Q.apiKey,fe),this.fullPersistenceKey=hn("persistence",Q.apiKey,fe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,s.A)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?re._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,s.A)(function*(){if(v.persistence===_)return;const R=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,R?v.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,R="authUser"){return(0,s.A)(function*(){if(!v.length)return new wn(dt(on),_,R);const Q=(yield Promise.all(v.map(function(){var Rn=(0,s.A)(function*(Pn){if(yield Pn._isAvailable())return Pn});return function(Pn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let fe=Q[0]||dt(on);const Je=hn(R,_.config.apiKey,_.name);let Rt=null;for(const Rn of v)try{const Pn=yield Rn._get(Je);if(Pn){const ei=re._fromJSON(_,Pn);Rn!==fe&&(Rt=ei),fe=Rn;break}}catch{}const Wt=Q.filter(Rn=>Rn._shouldAllowMigration);return fe._shouldAllowMigration&&Wt.length?(fe=Wt[0],Rt&&(yield fe._set(Je,Rt.toJSON())),yield Promise.all(v.map(function(){var Rn=(0,s.A)(function*(Pn){if(Pn!==fe)try{yield Pn._remove(Je)}catch{}});return function(Pn){return Rn.apply(this,arguments)}}())),new wn(fe,_,R)):new wn(fe,_,R)})()}}function Er(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Bs(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(an(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vs(_))return"Blackberry";if(Es(_))return"Webos";if(zr(_))return"Safari";if((_.includes("chrome/")||cr(_))&&!_.includes("edge/"))return"Chrome";if(Ni(_))return"Android";{const R=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function an(C=(0,r.ZQ)()){return/firefox\//i.test(C)}function zr(C=(0,r.ZQ)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function cr(C=(0,r.ZQ)()){return/crios\//i.test(C)}function Bs(C=(0,r.ZQ)()){return/iemobile/i.test(C)}function Ni(C=(0,r.ZQ)()){return/android/i.test(C)}function vs(C=(0,r.ZQ)()){return/blackberry/i.test(C)}function Es(C=(0,r.ZQ)()){return/webos/i.test(C)}function gi(C=(0,r.ZQ)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function sr(C=(0,r.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function lt(C=(0,r.ZQ)()){return gi(C)||Ni(C)||Es(C)||vs(C)||/windows phone/i.test(C)||Bs(C)}function Mt(C,_=[]){let v;switch(C){case"Browser":v=Er((0,r.ZQ)());break;case"Worker":v=`${Er((0,r.ZQ)())}-${C}`;break;default:v=C}const R=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${ce.SDK_VERSION}/${R}`}class ln{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const R=fe=>new Promise((Je,Rt)=>{try{Je(_(fe))}catch(Wt){Rt(Wt)}});R.onAbort=v,this.queue.push(R);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,s.A)(function*(){if(v.auth.currentUser===_)return;const R=[];try{for(const Q of v.queue)yield Q(_),Q.onAbort&&R.push(Q.onAbort)}catch(Q){R.reverse();for(const fe of R)try{fe()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function Nn(){return(Nn=(0,s.A)(function*(C,_={}){return Fe(C,"GET","/v2/passwordPolicy",ye(C,_))})).apply(this,arguments)}class $r{constructor(_){var v,R,Q,fe;const Je=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Je.minPasswordLength)&&void 0!==v?v:6,Je.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Je.maxPasswordLength),void 0!==Je.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Je.containsLowercaseCharacter),void 0!==Je.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Je.containsUppercaseCharacter),void 0!==Je.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Je.containsNumericCharacter),void 0!==Je.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Je.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(R=_.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(fe=_.forceUpgradeOnSignin)&&void 0!==fe&&fe,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,R,Q,fe,Je,Rt;const Wt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Wt),this.validatePasswordCharacterOptions(_,Wt),Wt.isValid&&(Wt.isValid=null===(v=Wt.meetsMinPasswordLength)||void 0===v||v),Wt.isValid&&(Wt.isValid=null===(R=Wt.meetsMaxPasswordLength)||void 0===R||R),Wt.isValid&&(Wt.isValid=null===(Q=Wt.containsLowercaseLetter)||void 0===Q||Q),Wt.isValid&&(Wt.isValid=null===(fe=Wt.containsUppercaseLetter)||void 0===fe||fe),Wt.isValid&&(Wt.isValid=null===(Je=Wt.containsNumericCharacter)||void 0===Je||Je),Wt.isValid&&(Wt.isValid=null===(Rt=Wt.containsNonAlphanumericCharacter)||void 0===Rt||Rt),Wt}validatePasswordLengthOptions(_,v){const R=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;R&&(v.meetsMinPasswordLength=_.length>=R),Q&&(v.meetsMaxPasswordLength=_.length<=Q)}validatePasswordCharacterOptions(_,v){let R;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Q=0;Q<_.length;Q++)R=_.charAt(Q),this.updatePasswordCharacterOptionsStatuses(v,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(_,v,R,Q,fe){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=fe))}}class qr{constructor(_,v,R,Q){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=R,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xi(this),this.idTokenSubscription=new Xi(this),this.beforeStateQueue=new ln(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(_,v){var R=this;return v&&(this._popupRedirectResolver=dt(v)),this._initializationPromise=this.queue((0,s.A)(function*(){var Q,fe;if(!R._deleted&&(R.persistenceManager=yield wn.create(R,_),!R._deleted)){if(null!==(Q=R._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(v),R.lastNotifiedUid=(null===(fe=R.currentUser)||void 0===fe?void 0:fe.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,s.A)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,s.A)(function*(){try{const R=yield Br(v,{idToken:_}),Q=yield re._fromGetAccountInfoResponse(v,R,_);yield v.directlySetCurrentUser(Q)}catch(R){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",R),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,s.A)(function*(){var R;if((0,ce._isFirebaseServerApp)(v.app)){const Rt=v.app.settings.authIdToken;return Rt?new Promise(Wt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Rt).then(Wt,Wt))}):v.directlySetCurrentUser(null)}const Q=yield v.assertedPersistence.getCurrentUser();let fe=Q,Je=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Rt=null===(R=v.redirectUser)||void 0===R?void 0:R._redirectEventId,Wt=fe?._redirectEventId,Rn=yield v.tryRedirectSignIn(_);(!Rt||Rt===Wt)&&Rn?.user&&(fe=Rn.user,Je=!0)}if(!fe)return v.directlySetCurrentUser(null);if(!fe._redirectEventId){if(Je)try{yield v.beforeStateQueue.runMiddleware(fe)}catch(Rt){fe=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Rt))}return fe?v.reloadAndSetCurrentUserOrClear(fe):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===fe._redirectEventId?v.directlySetCurrentUser(fe):v.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(_){var v=this;return(0,s.A)(function*(){let R=null;try{R=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,s.A)(function*(){try{yield de(_)}catch(R){if("auth/network-request-failed"!==R?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,s.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,s.A)(function*(){if((0,ce._isFirebaseServerApp)(v.app))return Promise.reject(ct(v));const R=_?(0,r.Ku)(_):null;return R&&Ie(R.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(R&&R._clone(v))})()}_updateCurrentUser(_,v=!1){var R=this;return(0,s.A)(function*(){if(!R._deleted)return _&&Ie(R.tenantId===_.tenantId,R,"tenant-id-mismatch"),v||(yield R.beforeStateQueue.runMiddleware(_)),R.queue((0,s.A)(function*(){yield R.directlySetCurrentUser(_),R.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,s.A)(function*(){return(0,ce._isFirebaseServerApp)(_.app)?Promise.reject(ct(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,ce._isFirebaseServerApp)(this.app)?Promise.reject(ct(this)):this.queue((0,s.A)(function*(){yield v.assertedPersistence.setPersistence(dt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,s.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const R=v._getPasswordPolicyInternal();return R.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,s.A)(function*(){const v=yield function Un(C){return Nn.apply(this,arguments)}(_),R=new $r(v);null===_.tenantId?_._projectPasswordPolicy=R:_._tenantPasswordPolicies[_.tenantId]=R})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new r.FA("auth","Firebase",_())}onAuthStateChanged(_,v,R){return this.registerStateListener(this.authStateSubscription,_,v,R)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,R){return this.registerStateListener(this.idTokenSubscription,_,v,R)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const R=this.onAuthStateChanged(()=>{R(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,s.A)(function*(){if(v.currentUser){const R=yield v.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:R};null!=v.tenantId&&(Q.tenantId=v.tenantId),yield function He(C,_){return x.apply(this,arguments)}(v,Q)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var R=this;return(0,s.A)(function*(){const Q=yield R.getOrInitRedirectPersistenceManager(v);return null===_?Q.removeCurrentUser():Q.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,s.A)(function*(){if(!v.redirectPersistenceManager){const R=_&&dt(_)||v._popupRedirectResolver;Ie(R,v,"argument-error"),v.redirectPersistenceManager=yield wn.create(v,[dt(R._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,s.A)(function*(){var R,Q;return v._isInitialized&&(yield v.queue((0,s.A)(function*(){}))),(null===(R=v._currentUser)||void 0===R?void 0:R._redirectEventId)===_?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,s.A)(function*(){if(_===v.currentUser)return v.queue((0,s.A)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,R,Q){if(this._deleted)return()=>{};const fe="function"==typeof v?v:v.next.bind(v);let Je=!1;const Rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(Rt,this,"internal-error"),Rt.then(()=>{Je||fe(this.currentUser)}),"function"==typeof v){const Wt=_.addObserver(v,R,Q);return()=>{Je=!0,Wt()}}{const Wt=_.addObserver(v);return()=>{Je=!0,Wt()}}}directlySetCurrentUser(_){var v=this;return(0,s.A)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Mt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,s.A)(function*(){var v;const R={"X-Client-Version":_.clientVersion};_.app.options.appId&&(R["X-Firebase-gmpid"]=_.app.options.appId);const Q=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(R["X-Firebase-Client"]=Q);const fe=yield _._getAppCheckToken();return fe&&(R["X-Firebase-AppCheck"]=fe),R})()}_getAppCheckToken(){var _=this;return(0,s.A)(function*(){var v;const R=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return R?.error&&function Bt(C,..._){Tt.logLevel<=Ee.$b.WARN&&Tt.warn(`Auth (${ce.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function fr(C){return(0,r.Ku)(C)}class Xi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,r.tD)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ks={loadJS:()=>(0,s.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ao(C){return ks.loadJS(C)}function li(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Yr{constructor(_){this.type="recaptcha-enterprise",this.auth=fr(_)}verify(_="verify",v=!1){var R=this;return(0,s.A)(function*(){function fe(){return fe=(0,s.A)(function*(Rt){if(!v){if(null==Rt.tenantId&&null!=Rt._agentRecaptchaConfig)return Rt._agentRecaptchaConfig.siteKey;if(null!=Rt.tenantId&&void 0!==Rt._tenantRecaptchaConfigs[Rt.tenantId])return Rt._tenantRecaptchaConfigs[Rt.tenantId].siteKey}return new Promise(function(){var Wt=(0,s.A)(function*(Rn,Pn){xr(Rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ei=>{if(void 0!==ei.recaptchaKey){const Eo=new Ut(ei);return null==Rt.tenantId?Rt._agentRecaptchaConfig=Eo:Rt._tenantRecaptchaConfigs[Rt.tenantId]=Eo,Rn(Eo.siteKey)}Pn(new Error("recaptcha Enterprise site key undefined"))}).catch(ei=>{Pn(ei)})});return function(Rn,Pn){return Wt.apply(this,arguments)}}())}),fe.apply(this,arguments)}function Je(Rt,Wt,Rn){const Pn=window.grecaptcha;zt(Pn)?Pn.enterprise.ready(()=>{Pn.enterprise.execute(Rt,{action:_}).then(ei=>{Wt(ei)}).catch(()=>{Wt("NO_RECAPTCHA")})}):Rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Rt,Wt)=>{(function Q(Rt){return fe.apply(this,arguments)})(R.auth).then(Rn=>{if(!v&&zt(window.grecaptcha))Je(Rn,Rt,Wt);else{if(typeof window>"u")return void Wt(new Error("RecaptchaVerifier is only supported in browser"));let Pn=function ji(){return ks.recaptchaEnterpriseScript}();0!==Pn.length&&(Pn+=Rn),Ao(Pn).then(()=>{Je(Rn,Rt,Wt)}).catch(ei=>{Wt(ei)})}}).catch(Rn=>{Wt(Rn)})})})()}}function Bi(C,_,v){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.A)(function*(C,_,v,R=!1){const Q=new Yr(C);let fe;try{fe=yield Q.verify(v)}catch{fe=yield Q.verify(v,!0)}const Je=Object.assign({},_);return Object.assign(Je,R?{captchaResp:fe}:{captchaResponse:fe}),Object.assign(Je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Je})).apply(this,arguments)}function wr(C,_,v,R){return co.apply(this,arguments)}function co(){return co=(0,s.A)(function*(C,_,v,R){var Q;if(null!==(Q=C._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const fe=yield Bi(C,_,v,"getOobCode"===v);return R(C,fe)}return R(C,_).catch(function(){var fe=(0,s.A)(function*(Je){if("auth/missing-recaptcha-token"===Je.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Rt=yield Bi(C,_,v,"getOobCode"===v);return R(C,Rt)}return Promise.reject(Je)});return function(Je){return fe.apply(this,arguments)}}())}),co.apply(this,arguments)}function Pi(C,_,v){const R=fr(C);Ie(R._canInitEmulator,R,"emulator-config-failed"),Ie(/^https?:\/\//.test(_),R,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,fe=pa(_),{host:Je,port:Rt}=function Xs(C){const _=pa(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const R=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(R);if(Q){const fe=Q[1];return{host:fe,port:ni(R.substr(fe.length+1))}}{const[fe,Je]=R.split(":");return{host:fe,port:ni(Je)}}}(_);R.config.emulator={url:`${fe}//${Je}${null===Rt?"":`:${Rt}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Je,port:Rt,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function $s(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function pa(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function ni(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class mi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Ze("not implemented")}_getIdTokenResponse(_){return Ze("not implemented")}_linkToIdToken(_,v){return Ze("not implemented")}_getReauthenticationResolver(_){return Ze("not implemented")}}function $i(C,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:resetPassword",ye(C,_))})).apply(this,arguments)}function Xr(){return(Xr=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ri(C,_){return zi.apply(this,arguments)}function zi(){return(zi=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function ls(){return(ls=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:update",ye(C,_))})).apply(this,arguments)}function Qs(C,_){return ki.apply(this,arguments)}function ki(){return(ki=(0,s.A)(function*(C,_){return bn(C,"POST","/v1/accounts:signInWithPassword",ye(C,_))})).apply(this,arguments)}function Ts(C,_){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:sendOobCode",ye(C,_))})).apply(this,arguments)}function gn(){return(gn=(0,s.A)(function*(C,_){return Ts(C,_)})).apply(this,arguments)}function nr(C,_){return ur.apply(this,arguments)}function ur(){return(ur=(0,s.A)(function*(C,_){return Ts(C,_)})).apply(this,arguments)}function Qi(C,_){return cs.apply(this,arguments)}function cs(){return(cs=(0,s.A)(function*(C,_){return Ts(C,_)})).apply(this,arguments)}function Gs(){return(Gs=(0,s.A)(function*(C,_){return Ts(C,_)})).apply(this,arguments)}function us(){return(us=(0,s.A)(function*(C,_){return bn(C,"POST","/v1/accounts:signInWithEmailLink",ye(C,_))})).apply(this,arguments)}function jn(){return(jn=(0,s.A)(function*(C,_){return bn(C,"POST","/v1/accounts:signInWithEmailLink",ye(C,_))})).apply(this,arguments)}class _i extends mi{constructor(_,v,R,Q=null){super("password",R),this._email=_,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(_,v){return new _i(_,v,"password")}static _fromEmailAndCode(_,v,R=null){return new _i(_,v,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,s.A)(function*(){switch(v.signInMethod){case"password":return wr(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qs);case"emailLink":return function Qr(C,_){return us.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Ae(_,"internal-error")}})()}_linkToIdToken(_,v){var R=this;return(0,s.A)(function*(){switch(R.signInMethod){case"password":return wr(_,{idToken:v,returnSecureToken:!0,email:R._email,password:R._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ri);case"emailLink":return function Rs(C,_){return jn.apply(this,arguments)}(_,{idToken:v,email:R._email,oobCode:R._password});default:Ae(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Ji(C,_){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.A)(function*(C,_){return bn(C,"POST","/v1/accounts:signInWithIdp",ye(C,_))})).apply(this,arguments)}class Se extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Se(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Ae("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:R,signInMethod:Q}=v,fe=(0,me.Tt)(v,["providerId","signInMethod"]);if(!R||!Q)return null;const Je=new Se(R,Q);return Je.idToken=fe.idToken||void 0,Je.accessToken=fe.accessToken||void 0,Je.secret=fe.secret,Je.nonce=fe.nonce,Je.pendingToken=fe.pendingToken||null,Je}_getIdTokenResponse(_){return Ji(_,this.buildRequest())}_linkToIdToken(_,v){const R=this.buildRequest();return R.idToken=v,Ji(_,R)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Ji(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,r.Am)(v)}return _}}function nt(){return(nt=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:sendVerificationCode",ye(C,_))})).apply(this,arguments)}function Yt(){return(Yt=(0,s.A)(function*(C,_){return bn(C,"POST","/v1/accounts:signInWithPhoneNumber",ye(C,_))})).apply(this,arguments)}function fn(){return(fn=(0,s.A)(function*(C,_){const v=yield bn(C,"POST","/v1/accounts:signInWithPhoneNumber",ye(C,_));if(v.temporaryProof)throw Bn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const qn={USER_NOT_FOUND:"user-not-found"};function Dn(){return(Dn=(0,s.A)(function*(C,_){return bn(C,"POST","/v1/accounts:signInWithPhoneNumber",ye(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),qn)})).apply(this,arguments)}class kn extends mi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new kn({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new kn({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function _t(C,_){return Yt.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function In(C,_){return fn.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Ar(C,_){return Dn.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:R,verificationCode:Q}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:R,code:Q}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:R,phoneNumber:Q,temporaryProof:fe}=_;return R||v||Q||fe?new kn({verificationId:v,verificationCode:R,phoneNumber:Q,temporaryProof:fe}):null}}class ii{constructor(_){var v,R,Q,fe,Je,Rt;const Wt=(0,r.I9)((0,r.hp)(_)),Rn=null!==(v=Wt.apiKey)&&void 0!==v?v:null,Pn=null!==(R=Wt.oobCode)&&void 0!==R?R:null,ei=function Zn(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Wt.mode)&&void 0!==Q?Q:null);Ie(Rn&&Pn&&ei,"argument-error"),this.apiKey=Rn,this.operation=ei,this.code=Pn,this.continueUrl=null!==(fe=Wt.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(Je=Wt.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(Rt=Wt.tenantId)&&void 0!==Rt?Rt:null}static parseLink(_){const v=function kr(C){const _=(0,r.I9)((0,r.hp)(C)).link,v=_?(0,r.I9)((0,r.hp)(_)).deep_link_id:null,R=(0,r.I9)((0,r.hp)(C)).deep_link_id;return(R?(0,r.I9)((0,r.hp)(R)).link:null)||R||v||_||C}(_);try{return new ii(v)}catch{return null}}}let Vi=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,R){return _i._fromEmailAndPassword(v,R)}static credentialWithLink(v,R){const Q=ii.parseLink(R);return Ie(Q,"argument-error"),_i._fromEmailAndCode(v,Q.code,Q.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Ci{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Sr extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ii extends Sr{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),Se._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ie(_.idToken||_.accessToken,"argument-error"),Se._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ii.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ii.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:R,oauthTokenSecret:Q,pendingToken:fe,nonce:Je,providerId:Rt}=_;if(!R&&!Q&&!v&&!fe||!Rt)return null;try{return new Ii(Rt)._credential({idToken:v,accessToken:R,nonce:Je,pendingToken:fe})}catch{return null}}}let wi=(()=>{class C extends Sr{constructor(){super("facebook.com")}static credential(v){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Mr=(()=>{class C extends Sr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,R){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:R})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:R,oauthAccessToken:Q}=v;if(!R&&!Q)return null;try{return C.credential(R,Q)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Bo=(()=>{class C extends Sr{constructor(){super("github.com")}static credential(v){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Js extends mi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Ji(_,this.buildRequest())}_linkToIdToken(_,v){const R=this.buildRequest();return R.idToken=v,Ji(_,R)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Ji(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:R,signInMethod:Q,pendingToken:fe}=v;return R&&Q&&fe&&R===Q?new Js(R,fe):null}static _create(_,v){return new Js(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class na extends Ci{constructor(_){Ie(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return na.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return na.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Js.fromJSON(_);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:R}=_;if(!v||!R)return null;try{return Js._create(R,v)}catch{return null}}}let Ja=(()=>{class C extends Sr{constructor(){super("twitter.com")}static credential(v,R){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:R})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:R,oauthTokenSecret:Q}=v;if(!R||!Q)return null;try{return C.credential(R,Q)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function ra(C,_){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,s.A)(function*(C,_){return bn(C,"POST","/v1/accounts:signUp",ye(C,_))})).apply(this,arguments)}class hs{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,R,Q=!1){return(0,s.A)(function*(){const fe=yield re._fromIdTokenResponse(_,R,Q),Je=Fs(R);return new hs({user:fe,providerId:Je,_tokenResponse:R,operationType:v})})()}static _forOperation(_,v,R){return(0,s.A)(function*(){yield _._updateTokensIfNecessary(R,!0);const Q=Fs(R);return new hs({user:_,providerId:Q,_tokenResponse:R,operationType:v})})()}}function Fs(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ro(C){return Na.apply(this,arguments)}function Na(){return(Na=(0,s.A)(function*(C){var _;if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const v=fr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new hs({user:v.currentUser,providerId:null,operationType:"signIn"});const R=yield ra(v,{returnSecureToken:!0}),Q=yield hs._fromIdTokenResponse(v,"signIn",R,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class ka extends r.g{constructor(_,v,R,Q){var fe;super(v.code,v.message),this.operationType=R,this.user=Q,Object.setPrototypeOf(this,ka.prototype),this.customData={appName:_.name,tenantId:null!==(fe=_.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:v.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(_,v,R,Q){return new ka(_,v,R,Q)}}function yi(C,_,v,R){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?ka._fromErrorAndOperation(C,fe,_,R):fe})}function Po(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function $o(C,_){return K.apply(this,arguments)}function K(){return K=(0,s.A)(function*(C,_){const v=(0,r.Ku)(C);yield ue(!0,v,_);const{providerUserInfo:R}=yield function Gn(C,_){return Tn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Q=Po(R||[]);return v.providerData=v.providerData.filter(fe=>Q.has(fe.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),K.apply(this,arguments)}function te(C,_){return j.apply(this,arguments)}function j(){return(j=(0,s.A)(function*(C,_,v=!1){const R=yield Tr(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return hs._forOperation(C,"link",R)})).apply(this,arguments)}function ue(C,_,v){return Be.apply(this,arguments)}function Be(){return(Be=(0,s.A)(function*(C,_,v){yield de(_);const Q=!1===C?"provider-already-linked":"no-such-provider";Ie(Po(_.providerData).has(v)===C,_.auth,Q)})).apply(this,arguments)}function pn(C,_){return er.apply(this,arguments)}function er(){return(er=(0,s.A)(function*(C,_,v=!1){const{auth:R}=C;if((0,ce._isFirebaseServerApp)(R.app))return Promise.reject(ct(R));const Q="reauthenticate";try{const fe=yield Tr(C,yi(R,Q,_,C),v);Ie(fe.idToken,R,"internal-error");const Je=ti(fe.idToken);Ie(Je,R,"internal-error");const{sub:Rt}=Je;return Ie(C.uid===Rt,R,"user-mismatch"),hs._forOperation(C,Q,fe)}catch(fe){throw"auth/user-not-found"===fe?.code&&Ae(R,"user-mismatch"),fe}})).apply(this,arguments)}function Is(C,_){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,s.A)(function*(C,_,v=!1){if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const R="signIn",Q=yield yi(C,R,_),fe=yield hs._fromIdTokenResponse(C,R,Q);return v||(yield C._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function Zi(C,_){return uo.apply(this,arguments)}function uo(){return(uo=(0,s.A)(function*(C,_){return Is(fr(C),_)})).apply(this,arguments)}function Ps(C,_){return es.apply(this,arguments)}function es(){return(es=(0,s.A)(function*(C,_){const v=(0,r.Ku)(C);return yield ue(!1,v,_.providerId),te(v,_)})).apply(this,arguments)}function Go(C,_){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,s.A)(function*(C,_){return pn((0,r.Ku)(C),_)})).apply(this,arguments)}function ga(){return(ga=(0,s.A)(function*(C,_){return bn(C,"POST","/v1/accounts:signInWithCustomToken",ye(C,_))})).apply(this,arguments)}function Wi(C,_){return ia.apply(this,arguments)}function ia(){return ia=(0,s.A)(function*(C,_){if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const v=fr(C),R=yield function xs(C,_){return ga.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Q=yield hs._fromIdTokenResponse(v,"signIn",R);return yield v._updateCurrentUser(Q.user),Q}),ia.apply(this,arguments)}class ms{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Za._fromServerResponse(_,v):"totpInfo"in v?ho._fromServerResponse(_,v):Ae(_,"internal-error")}}class Za extends ms{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Za(v)}}class ho extends ms{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new ho(v)}}function sa(C,_,v){var R;Ie((null===(R=v.url)||void 0===R?void 0:R.length)>0,C,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Cs(C){return ma.apply(this,arguments)}function ma(){return(ma=(0,s.A)(function*(C){const _=fr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Fa(C,_,v){return bl.apply(this,arguments)}function bl(){return(bl=(0,s.A)(function*(C,_,v){const R=fr(C),Q={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&sa(R,Q,v),yield wr(R,Q,"getOobCode",nr)})).apply(this,arguments)}function vu(C,_,v){return gr.apply(this,arguments)}function gr(){return gr=(0,s.A)(function*(C,_,v){yield $i((0,r.Ku)(C),{oobCode:_,newPassword:v}).catch(function(){var R=(0,s.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Cs(C),Q});return function(Q){return R.apply(this,arguments)}}())}),gr.apply(this,arguments)}function Tl(C,_){return mo.apply(this,arguments)}function mo(){return mo=(0,s.A)(function*(C,_){yield function Gr(C,_){return ls.apply(this,arguments)}((0,r.Ku)(C),{oobCode:_})}),mo.apply(this,arguments)}function _o(C,_){return el.apply(this,arguments)}function el(){return(el=(0,s.A)(function*(C,_){const v=(0,r.Ku)(C),R=yield $i(v,{oobCode:_}),Q=R.requestType;switch(Ie(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(R.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(R.mfaInfo,v,"internal-error");default:Ie(R.email,v,"internal-error")}let fe=null;return R.mfaInfo&&(fe=ms._fromServerResponse(fr(v),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:fe},operation:Q}})).apply(this,arguments)}function Eu(C,_){return tl.apply(this,arguments)}function tl(){return(tl=(0,s.A)(function*(C,_){const{data:v}=yield _o((0,r.Ku)(C),_);return v.email})).apply(this,arguments)}function jh(C,_,v){return nl.apply(this,arguments)}function nl(){return(nl=(0,s.A)(function*(C,_,v){if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const R=fr(C),Je=yield wr(R,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ra).catch(Wt=>{throw"auth/password-does-not-meet-requirements"===Wt.code&&Cs(C),Wt}),Rt=yield hs._fromIdTokenResponse(R,"signIn",Je);return yield R._updateCurrentUser(Rt.user),Rt})).apply(this,arguments)}function bu(C,_,v){return(0,ce._isFirebaseServerApp)(C.app)?Promise.reject(ct(C)):Zi((0,r.Ku)(C),Vi.credential(_,v)).catch(function(){var R=(0,s.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Cs(C),Q});return function(Q){return R.apply(this,arguments)}}())}function Il(C,_,v){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,s.A)(function*(C,_,v){const R=fr(C),Q={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function fe(Je,Rt){Ie(Rt.handleCodeInApp,R,"argument-error"),Rt&&sa(R,Je,Rt)})(Q,v),yield wr(R,Q,"getOobCode",Qi)})).apply(this,arguments)}function Ql(C,_){const v=ii.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function La(C,_,v){return rl.apply(this,arguments)}function rl(){return(rl=(0,s.A)(function*(C,_,v){if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const R=(0,r.Ku)(C),Q=Vi.credentialWithLink(_,v||On());return Ie(Q._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),Zi(R,Q)})).apply(this,arguments)}function Ua(){return(Ua=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:createAuthUri",ye(C,_))})).apply(this,arguments)}function il(C,_){return M.apply(this,arguments)}function M(){return M=(0,s.A)(function*(C,_){const R={identifier:_,continueUri:Ot()?On():"http://localhost"},{signinMethods:Q}=yield function Va(C,_){return Ua.apply(this,arguments)}((0,r.Ku)(C),R);return Q||[]}),M.apply(this,arguments)}function ie(C,_){return $.apply(this,arguments)}function $(){return $=(0,s.A)(function*(C,_){const v=(0,r.Ku)(C),Q={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&sa(v.auth,Q,_);const{email:fe}=yield function Wr(C,_){return gn.apply(this,arguments)}(v.auth,Q);fe!==C.email&&(yield C.reload())}),$.apply(this,arguments)}function X(C,_,v){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,s.A)(function*(C,_,v){const R=(0,r.Ku)(C),fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&sa(R.auth,fe,v);const{email:Je}=yield function Fi(C,_){return Gs.apply(this,arguments)}(R.auth,fe);Je!==C.email&&(yield C.reload())}),Ne.apply(this,arguments)}function kt(){return(kt=(0,s.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ln(C,_){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,s.A)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const R=(0,r.Ku)(C),fe={idToken:yield R.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Je=yield Tr(R,function It(C,_){return kt.apply(this,arguments)}(R.auth,fe));R.displayName=Je.displayName||null,R.photoURL=Je.photoUrl||null;const Rt=R.providerData.find(({providerId:Wt})=>"password"===Wt);Rt&&(Rt.displayName=R.displayName,Rt.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Je)}),Kr.apply(this,arguments)}function si(C,_){const v=(0,r.Ku)(C);return(0,ce._isFirebaseServerApp)(v.auth.app)?Promise.reject(ct(v.auth)):mr(v,_,null)}function Zr(C,_){return mr((0,r.Ku)(C),null,_)}function mr(C,_,v){return ci.apply(this,arguments)}function ci(){return ci=(0,s.A)(function*(C,_,v){const{auth:R}=C,fe={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(fe.email=_),v&&(fe.password=v);const Je=yield Tr(C,function Yn(C,_){return Xr.apply(this,arguments)}(R,fe));yield C._updateTokensIfNecessary(Je,!0)}),ci.apply(this,arguments)}class Di{constructor(_,v,R={}){this.isNewUser=_,this.providerId=v,this.profile=R}}class fs extends Di{constructor(_,v,R,Q){super(_,v,R),this.username=Q}}class Gi extends Di{constructor(_,v){super(_,"facebook.com",v)}}class so extends fs{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Ki extends Di{constructor(_,v){super(_,"google.com",v)}}class xo extends fs{constructor(_,v,R){super(_,"twitter.com",v,R)}}function ts(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ai(C){var _,v;if(!C)return null;const{providerId:R}=C,Q=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},fe=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!R&&C?.idToken){const Je=null===(v=null===(_=ti(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Je)return new Di(fe,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!R)return null;switch(R){case"facebook.com":return new Gi(fe,Q);case"github.com":return new so(fe,Q);case"google.com":return new Ki(fe,Q);case"twitter.com":return new xo(fe,Q,C.screenName||null);case"custom":case"anonymous":return new Di(fe,null);default:return new Di(fe,R,Q)}}(v)}class ws{constructor(_,v,R){this.type=_,this.credential=v,this.user=R}static _fromIdtoken(_,v){return new ws("enroll",_,v)}static _fromMfaPendingCredential(_){return new ws("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,R;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ws._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(R=_.multiFactorSession)&&void 0!==R&&R.idToken)return ws._fromIdtoken(_.multiFactorSession.idToken)}return null}}class _a{constructor(_,v,R){this.session=_,this.hints=v,this.signInResolver=R}static _fromError(_,v){const R=fr(_),Q=v.customData._serverResponse,fe=(Q.mfaInfo||[]).map(Rt=>ms._fromServerResponse(R,Rt));Ie(Q.mfaPendingCredential,R,"internal-error");const Je=ws._fromMfaPendingCredential(Q.mfaPendingCredential);return new _a(Je,fe,function(){var Rt=(0,s.A)(function*(Wt){const Rn=yield Wt._process(R,Je);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Pn=Object.assign(Object.assign({},Q),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(v.operationType){case"signIn":const ei=yield hs._fromIdTokenResponse(R,v.operationType,Pn);return yield R._updateCurrentUser(ei.user),ei;case"reauthenticate":return Ie(v.user,R,"internal-error"),hs._forOperation(v.user,v.operationType,Pn);default:Ae(R,"internal-error")}});return function(Wt){return Rt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,s.A)(function*(){return v.signInResolver(_)})()}}function Jl(C,_){var v;const R=(0,r.Ku)(C),Q=_;return Ie(_.customData.operationType,R,"argument-error"),Ie(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,R,"argument-error"),_a._fromError(R,Q)}class Zl{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(R=>ms._fromServerResponse(_.auth,R)))})}static _fromUser(_){return new Zl(_)}getSession(){var _=this;return(0,s.A)(function*(){return ws._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var R=this;return(0,s.A)(function*(){const Q=_,fe=yield R.getSession(),Je=yield Tr(R.user,Q._process(R.user.auth,fe,v));return yield R.user._updateTokensIfNecessary(Je),R.user.reload()})()}unenroll(_){var v=this;return(0,s.A)(function*(){const R="string"==typeof _?_:_.uid,Q=yield v.user.getIdToken();try{const fe=yield Tr(v.user,function or(C,_){return Fe(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ye(C,_))}(v.user.auth,{idToken:Q,mfaEnrollmentId:R}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Je})=>Je!==R),yield v.user._updateTokensIfNecessary(fe),yield v.user.reload()}catch(fe){throw fe}})()}}const Nc=new WeakMap;function zo(C){const _=(0,r.Ku)(C);return Nc.has(_)||Nc.set(_,Zl._fromUser(_)),Nc.get(_)}const kc="__sak";class Sd{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ec=(()=>{class C extends Sd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,R)=>this.onStorageEvent(v,R),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const R of Object.keys(this.listeners)){const Q=this.storage.getItem(R),fe=this.localCache[R];Q!==fe&&v(R,fe,Q)}}onStorageEvent(v,R=!1){if(!v.key)return void this.forAllChangedKeys((Rt,Wt,Rn)=>{this.notifyListeners(Rt,Rn)});const Q=v.key;R?this.detachListener():this.stopPolling();const fe=()=>{const Rt=this.storage.getItem(Q);!R&&this.localCache[Q]===Rt||this.notifyListeners(Q,Rt)},Je=this.storage.getItem(Q);!function Dt(){return(0,r.lT)()&&10===document.documentMode}()||Je===v.newValue||v.newValue===v.oldValue?fe():setTimeout(fe,10)}notifyListeners(v,R){this.localCache[v]=R;const Q=this.listeners[v];if(Q)for(const fe of Array.from(Q))fe(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,R,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:R,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,R){var Q=()=>super._set,fe=this;return(0,s.A)(function*(){yield Q().call(fe,v,R),fe.localCache[v]=JSON.stringify(R)})()}_get(v){var R=()=>super._get,Q=this;return(0,s.A)(function*(){const fe=yield R().call(Q,v);return Q.localCache[v]=JSON.stringify(fe),fe})()}_remove(v){var R=()=>super._remove,Q=this;return(0,s.A)(function*(){yield R().call(Q,v),delete Q.localCache[v]})()}}return C.type="LOCAL",C})(),ya=(()=>{class C extends Sd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,R){}_removeListener(v,R){}}return C.type="SESSION",C})();let jt=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const R=this.receivers.find(fe=>fe.isListeningto(v));if(R)return R;const Q=new C(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var R=this;return(0,s.A)(function*(){const Q=v,{eventId:fe,eventType:Je,data:Rt}=Q.data,Wt=R.handlersMap[Je];if(!Wt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:fe,eventType:Je});const Rn=Array.from(Wt).map(function(){var ei=(0,s.A)(function*(Eo){return Eo(Q.origin,Rt)});return function(Eo){return ei.apply(this,arguments)}}()),Pn=yield function Su(C){return Promise.all(C.map(function(){var _=(0,s.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(R){return{fulfilled:!1,reason:R}}});return function(v){return _.apply(this,arguments)}}()))}(Rn);Q.ports[0].postMessage({status:"done",eventId:fe,eventType:Je,response:Pn})})()}_subscribe(v,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(R)}_unsubscribe(v,R){this.handlersMap[v]&&R&&this.handlersMap[v].delete(R),(!R||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Cr(C="",_=10){let v="";for(let R=0;R<_;R++)v+=Math.floor(10*Math.random());return C+v}class $n{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,R=50){var Q=this;return(0,s.A)(function*(){const fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let Je,Rt;return new Promise((Wt,Rn)=>{const Pn=Cr("",20);fe.port1.start();const ei=setTimeout(()=>{Rn(new Error("unsupported_event"))},R);Rt={messageChannel:fe,onMessage(Eo){const ca=Eo;if(ca.data.eventId===Pn)switch(ca.data.status){case"ack":clearTimeout(ei),Je=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),Wt(ca.data.response);break;default:clearTimeout(ei),clearTimeout(Je),Rn(new Error("invalid_response"))}}},Q.handlers.add(Rt),fe.port1.addEventListener("message",Rt.onMessage),Q.target.postMessage({eventType:_,eventId:Pn,data:v},[fe.port2])}).finally(()=>{Rt&&Q.removeMessageHandler(Rt)})})()}}function qi(){return window}function Fc(){return typeof qi().WorkerGlobalScope<"u"&&"function"==typeof qi().importScripts}function No(){return(No=(0,s.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rd="firebaseLocalStorageDb",ll="firebaseLocalStorage",oo="fbase_key";class fo{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ja(C,_){return C.transaction([ll],_?"readwrite":"readonly").objectStore(ll)}function po(){const C=indexedDB.open(Rd,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const R=C.result;try{R.createObjectStore(ll,{keyPath:oo})}catch(Q){v(Q)}}),C.addEventListener("success",(0,s.A)(function*(){const R=C.result;R.objectStoreNames.contains(ll)?_(R):(R.close(),yield function cl(){const C=indexedDB.deleteDatabase(Rd);return new fo(C).toPromise()}(),_(yield po()))}))})}function Pd(C,_,v){return ul.apply(this,arguments)}function ul(){return(ul=(0,s.A)(function*(C,_,v){const R=ja(C,!0).put({[oo]:_,value:v});return new fo(R).toPromise()})).apply(this,arguments)}function dl(){return(dl=(0,s.A)(function*(C,_){const v=ja(C,!1).get(_),R=yield new fo(v).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Pu(C,_){const v=ja(C,!0).delete(_);return new fo(v).toPromise()}const k=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,s.A)(function*(){return v.db||(v.db=yield po()),v.db})()}_withRetries(v){var R=this;return(0,s.A)(function*(){let Q=0;for(;;)try{const fe=yield R._openDb();return yield v(fe)}catch(fe){if(Q++>3)throw fe;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,s.A)(function*(){return Fc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,s.A)(function*(){v.receiver=jt._getInstance(function Ru(){return Fc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var R=(0,s.A)(function*(Q,fe){return{keyProcessed:(yield v._poll()).includes(fe.key)}});return function(Q,fe){return R.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var R=(0,s.A)(function*(Q,fe){return["keyChanged"]});return function(Q,fe){return R.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,s.A)(function*(){var R,Q;if(v.activeServiceWorker=yield function ol(){return No.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new $n(v.activeServiceWorker);const fe=yield v.sender._send("ping",{},800);fe&&null!==(R=fe[0])&&void 0!==R&&R.fulfilled&&null!==(Q=fe[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var R=this;return(0,s.A)(function*(){if(R.sender&&R.activeServiceWorker&&function tc(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:v},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.A)(function*(){try{if(!indexedDB)return!1;const v=yield po();return yield Pd(v,kc,"1"),yield Pu(v,kc),!0}catch{}return!1})()}_withPendingWrite(v){var R=this;return(0,s.A)(function*(){R.pendingWrites++;try{yield v()}finally{R.pendingWrites--}})()}_set(v,R){var Q=this;return(0,s.A)(function*(){return Q._withPendingWrite((0,s.A)(function*(){return yield Q._withRetries(fe=>Pd(fe,v,R)),Q.localCache[v]=R,Q.notifyServiceWorker(v)}))})()}_get(v){var R=this;return(0,s.A)(function*(){const Q=yield R._withRetries(fe=>function tp(C,_){return dl.apply(this,arguments)}(fe,v));return R.localCache[v]=Q,Q})()}_remove(v){var R=this;return(0,s.A)(function*(){return R._withPendingWrite((0,s.A)(function*(){return yield R._withRetries(Q=>Pu(Q,v)),delete R.localCache[v],R.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,s.A)(function*(){const R=yield v._withRetries(Je=>{const Rt=ja(Je,!1).getAll();return new fo(Rt).toPromise()});if(!R)return[];if(0!==v.pendingWrites)return[];const Q=[],fe=new Set;if(0!==R.length)for(const{fbase_key:Je,value:Rt}of R)fe.add(Je),JSON.stringify(v.localCache[Je])!==JSON.stringify(Rt)&&(v.notifyListeners(Je,Rt),Q.push(Je));for(const Je of Object.keys(v.localCache))v.localCache[Je]&&!fe.has(Je)&&(v.notifyListeners(Je,null),Q.push(Je));return Q})()}notifyListeners(v,R){this.localCache[v]=R;const Q=this.listeners[v];if(Q)for(const fe of Array.from(Q))fe(R)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,s.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),wt=1e12;class yt{constructor(_){this.auth=_,this.counter=wt,this._widgets=new Map}render(_,v){const R=this.counter;return this._widgets.set(R,new yn(_,this.auth.name,v||{})),this.counter++,R}reset(_){var v;const R=_||wt;null===(v=this._widgets.get(R))||void 0===v||v.delete(),this._widgets.delete(R)}getResponse(_){var v;return(null===(v=this._widgets.get(_||wt))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,s.A)(function*(){var R;return null===(R=v._widgets.get(_||wt))||void 0===R||R.execute(),""})()}}class yn{constructor(_,v,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof _?document.getElementById(_):_;Ie(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _r(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<C;R++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rr=li("rcb"),Or=new Ve(3e4,6e4);class pi{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=qi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return Ie(function hl(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&xn(qi().grecaptcha)?Promise.resolve(qi().grecaptcha):new Promise((R,Q)=>{const fe=qi().setTimeout(()=>{Q(tt(_,"network-request-failed"))},Or.get());qi()[rr]=()=>{qi().clearTimeout(fe),delete qi()[rr];const Rt=qi().grecaptcha;if(!Rt||!xn(Rt))return void Q(tt(_,"internal-error"));const Wt=Rt.render;Rt.render=(Rn,Pn)=>{const ei=Wt(Rn,Pn);return this.counter++,ei},this.hostLanguage=v,R(Rt)},Ao(`${function Do(){return ks.recaptchaV2Script}()}?${(0,r.Am)({onload:rr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(fe),Q(tt(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=qi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wl{load(_){return(0,s.A)(function*(){return new yt(_)})()}clearedOneInstance(){}}const Ea="recaptcha",Wo={theme:"light",type:"image"};class Ba{constructor(_,v,R=Object.assign({},Wo)){this.parameters=R,this.type=Ea,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(_),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof v?document.getElementById(v):v;Ie(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wl:new pi,this.validateStartingState()}verify(){var _=this;return(0,s.A)(function*(){_.assertNotDestroyed();const v=yield _.render(),R=_.getAssertedRecaptcha();return R.getResponse(v)||new Promise(fe=>{const Je=Rt=>{Rt&&(_.tokenChangeListeners.delete(Je),fe(Rt))};_.tokenChangeListeners.add(Je),_.isInvisible&&R.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(R=>R(v)),"function"==typeof _)_(v);else if("string"==typeof _){const R=qi()[_];"function"==typeof R&&R(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,s.A)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const R=document.createElement("div");v.appendChild(R),v=R}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,s.A)(function*(){Ie(Ot()&&!Fc(),_.auth,"internal-error"),yield function Lc(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function dr(C){return sn.apply(this,arguments)}(_.auth);Ie(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fl{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=kn._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function ko(C,_,v){return $h.apply(this,arguments)}function $h(){return($h=(0,s.A)(function*(C,_,v){if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const R=fr(C),Q=yield Ou(R,_,(0,r.Ku)(v));return new fl(Q,fe=>Zi(R,fe))})).apply(this,arguments)}function $a(C,_,v){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,s.A)(function*(C,_,v){const R=(0,r.Ku)(C);yield ue(!1,R,"phone");const Q=yield Ou(R.auth,_,(0,r.Ku)(v));return new fl(Q,fe=>Ps(R,fe))})).apply(this,arguments)}function xu(C,_,v){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,s.A)(function*(C,_,v){const R=(0,r.Ku)(C);if((0,ce._isFirebaseServerApp)(R.auth.app))return Promise.reject(ct(R.auth));const Q=yield Ou(R.auth,_,(0,r.Ku)(v));return new fl(Q,fe=>Go(R,fe))})).apply(this,arguments)}function Ou(C,_,v){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,s.A)(function*(C,_,v){var R;const Q=yield v.verify();try{let fe;if(Ie("string"==typeof Q,C,"argument-error"),Ie(v.type===Ea,C,"argument-error"),fe="string"==typeof _?{phoneNumber:_}:_,"session"in fe){const Je=fe.session;if("phoneNumber"in fe)return Ie("enroll"===Je.type,C,"internal-error"),(yield function Cu(C,_){return Fe(C,"POST","/v2/accounts/mfaEnrollment:start",ye(C,_))}(C,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:fe.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Ie("signin"===Je.type,C,"internal-error");const Rt=(null===(R=fe.multiFactorHint)||void 0===R?void 0:R.uid)||fe.multiFactorUid;return Ie(Rt,C,"missing-multi-factor-info"),(yield function w(C,_){return Fe(C,"POST","/v2/accounts/mfaSignIn:start",ye(C,_))}(C,{mfaPendingCredential:Je.credential,mfaEnrollmentId:Rt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield function Le(C,_){return nt.apply(this,arguments)}(C,{phoneNumber:fe.phoneNumber,recaptchaToken:Q});return Je}}finally{v._reset()}}),Nu.apply(this,arguments)}function Al(C,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,s.A)(function*(C,_){const v=(0,r.Ku)(C);if((0,ce._isFirebaseServerApp)(v.auth.app))return Promise.reject(ct(v.auth));yield te(v,_)})).apply(this,arguments)}let oa=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=fr(v)}verifyPhoneNumber(v,R){return Ou(this.auth,v,(0,r.Ku)(R))}static credential(v,R){return kn._fromVerification(v,R)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:R,temporaryProof:Q}=v;return R&&Q?kn._fromTokenResponse(R,Q):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Dl(C,_){return _?dt(_):(Ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Gh extends mi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Ji(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Ji(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Ji(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function xd(C){return Is(C.auth,new Gh(C),C.bypassAuthState)}function Rg(C){const{auth:_,user:v}=C;return Ie(v,_,"internal-error"),pn(v,new Gh(C),C.bypassAuthState)}function Md(C){return ku.apply(this,arguments)}function ku(){return(ku=(0,s.A)(function*(C){const{auth:_,user:v}=C;return Ie(v,_,"internal-error"),te(v,new Gh(C),C.bypassAuthState)})).apply(this,arguments)}class np{constructor(_,v,R,Q,fe=!1){this.auth=_,this.resolver=R,this.user=Q,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,s.A)(function*(R,Q){_.pendingPromise={resolve:R,reject:Q};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(fe){_.reject(fe)}});return function(R,Q){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,s.A)(function*(){const{urlResponse:R,sessionId:Q,postBody:fe,tenantId:Je,error:Rt,type:Wt}=_;if(Rt)return void v.reject(Rt);const Rn={auth:v.auth,requestUri:R,sessionId:Q,tenantId:Je||void 0,postBody:fe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Wt)(Rn))}catch(Pn){v.reject(Pn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return xd;case"linkViaPopup":case"linkViaRedirect":return Md;case"reauthViaPopup":case"reauthViaRedirect":return Rg;default:Ae(this.auth,"internal-error")}}resolve(_){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rp=new Ve(2e3,1e4);function Fu(C,_,v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,s.A)(function*(C,_,v){if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(tt(C,"operation-not-supported-in-this-environment"));const R=fr(C);xt(C,_,Ci);const Q=Dl(R,v);return new ip(R,"signInViaPopup",_,Q).executeNotNull()})).apply(this,arguments)}function Od(C,_,v){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.A)(function*(C,_,v){const R=(0,r.Ku)(C);if((0,ce._isFirebaseServerApp)(R.auth.app))return Promise.reject(tt(R.auth,"operation-not-supported-in-this-environment"));xt(R.auth,_,Ci);const Q=Dl(R.auth,v);return new ip(R.auth,"reauthViaPopup",_,Q,R).executeNotNull()})).apply(this,arguments)}function Lu(C,_,v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,s.A)(function*(C,_,v){const R=(0,r.Ku)(C);xt(R.auth,_,Ci);const Q=Dl(R.auth,v);return new ip(R.auth,"linkViaPopup",_,Q,R).executeNotNull()})).apply(this,arguments)}let ip=(()=>{class C extends np{constructor(v,R,Q,fe,Je){super(v,R,fe,Je),this.provider=Q,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,s.A)(function*(){const R=yield v.execute();return Ie(R,v.auth,"internal-error"),R})()}onExecution(){var v=this;return(0,s.A)(function*(){Xt(1===v.filter.length,"Popup operations only handle one event");const R=Cr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],R),v.authWindow.associatedEvent=R,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(tt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var R,Q;this.pollId=null!==(Q=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,rp.get())};v()}}return C.currentPopupAction=null,C})();const sp="pendingRedirect",yo=new Map;class Vu extends np{constructor(_,v,R=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,R),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,s.A)(function*(){let R=yo.get(v.auth._key());if(!R){try{const fe=(yield function vo(C,_){return Nd.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;R=()=>Promise.resolve(fe)}catch(Q){R=()=>Promise.reject(Q)}yo.set(v.auth._key(),R)}return v.bypassAuthState||yo.set(v.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,R=this;return(0,s.A)(function*(){if("signInViaRedirect"===_.type)return v().call(R,_);if("unknown"!==_.type){if(_.eventId){const Q=yield R.auth._redirectUserForId(_.eventId);if(Q)return R.user=Q,v().call(R,_);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,s.A)(function*(){})()}cleanUp(){}}function Nd(){return(Nd=(0,s.A)(function*(C,_){const v=Uc(_),R=aa(C);if(!(yield R._isAvailable()))return!1;const Q="true"===(yield R._get(v));return yield R._remove(v),Q})).apply(this,arguments)}function rc(C,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,s.A)(function*(C,_){return aa(C)._set(Uc(_),"true")})).apply(this,arguments)}function Hh(){yo.clear()}function Ga(C,_){yo.set(C._key(),_)}function aa(C){return dt(C._redirectPersistence)}function Uc(C){return hn(sp,C.config.apiKey,C.name)}function pl(C,_,v){return function ic(C,_,v){return Uu.apply(this,arguments)}(C,_,v)}function Uu(){return(Uu=(0,s.A)(function*(C,_,v){if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const R=fr(C);xt(C,_,Ci),yield R._initializationPromise;const Q=Dl(R,v);return yield rc(Q,R),Q._openRedirect(R,_,"signInViaRedirect")})).apply(this,arguments)}function Rl(C,_,v){return function Pg(C,_,v){return ba.apply(this,arguments)}(C,_,v)}function ba(){return(ba=(0,s.A)(function*(C,_,v){const R=(0,r.Ku)(C);if(xt(R.auth,_,Ci),(0,ce._isFirebaseServerApp)(R.auth.app))return Promise.reject(ct(R.auth));yield R.auth._initializationPromise;const Q=Dl(R.auth,v);yield rc(Q,R.auth);const fe=yield kd(R);return Q._openRedirect(R.auth,_,"reauthViaRedirect",fe)})).apply(this,arguments)}function Ha(C,_,v){return function Pl(C,_,v){return ju.apply(this,arguments)}(C,_,v)}function ju(){return(ju=(0,s.A)(function*(C,_,v){const R=(0,r.Ku)(C);xt(R.auth,_,Ci),yield R.auth._initializationPromise;const Q=Dl(R.auth,v);yield ue(!1,R,_.providerId),yield rc(Q,R.auth);const fe=yield kd(R);return Q._openRedirect(R.auth,_,"linkViaRedirect",fe)})).apply(this,arguments)}function jc(C,_){return gl.apply(this,arguments)}function gl(){return(gl=(0,s.A)(function*(C,_){return yield fr(C)._initializationPromise,op(C,_,!1)})).apply(this,arguments)}function op(C,_){return ps.apply(this,arguments)}function ps(){return(ps=(0,s.A)(function*(C,_,v=!1){if((0,ce._isFirebaseServerApp)(C.app))return Promise.reject(ct(C));const R=fr(C),Q=Dl(R,_),Je=yield new Vu(R,Q,v).execute();return Je&&!v&&(delete Je.user._redirectEventId,yield R._persistUserIfCurrent(Je.user),yield R._setRedirectUser(null,_)),Je})).apply(this,arguments)}function kd(C){return sc.apply(this,arguments)}function sc(){return(sc=(0,s.A)(function*(C){const _=Cr(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class ap{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(_,R)&&(v=!0,this.sendToConsumer(_,R),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function oc(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fd(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var R;if(_.error&&!Fd(_)){const Q=(null===(R=_.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";v.onError(tt(this.auth,Q))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const R=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&R}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($u(_))}saveEventToCache(_){this.cachedEventUids.add($u(_)),this.lastProcessedEventTime=Date.now()}}function $u(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Fd({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function qo(C){return la.apply(this,arguments)}function la(){return(la=(0,s.A)(function*(C,_={}){return Fe(C,"GET","/v1/projects",_)})).apply(this,arguments)}const zh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gu=/^https?/;function Wh(){return(Wh=(0,s.A)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield qo(C);for(const v of _)try{if(Bc(v))return}catch{}Ae(C,"unauthorized-domain")})).apply(this,arguments)}function Bc(C){const _=On(),{protocol:v,hostname:R}=new URL(_);if(C.startsWith("chrome-extension://")){const Je=new URL(C);return""===Je.hostname&&""===R?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Je.hostname===R}if(!Gu.test(v))return!1;if(zh.test(C))return R===C;const Q=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(R)}const Jm=new Ve(3e4,6e4);function xg(){const C=qi().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Vs=null;const $c=new Ve(5e3,15e3),Gc="__/auth/iframe",Ld="emulator/auth/iframe",Kh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ws=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vd(C){const _=C.config;Ie(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?st(_,Ld):`https://${C.config.authDomain}/${Gc}`,R={apiKey:_.apiKey,appName:C.name,v:ce.SDK_VERSION},Q=Ws.get(C.config.apiHost);Q&&(R.eid=Q);const fe=C._getFrameworks();return fe.length&&(R.fw=fe.join(",")),`${v}?${(0,r.Am)(R).slice(1)}`}function qh(){return qh=(0,s.A)(function*(C){const _=yield function Zm(C){return Vs=Vs||function lp(C){return new Promise((_,v)=>{var R,Q,fe;function Je(){xg(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{xg(),v(tt(C,"network-request-failed"))},timeout:Jm.get()})}if(null!==(Q=null===(R=qi().gapi)||void 0===R?void 0:R.iframes)&&void 0!==Q&&Q.Iframe)_(gapi.iframes.getContext());else{if(null===(fe=qi().gapi)||void 0===fe||!fe.load){const Rt=li("iframefcb");return qi()[Rt]=()=>{gapi.load?Je():v(tt(C,"network-request-failed"))},Ao(`${function jo(){return ks.gapiScript}()}?onload=${Rt}`).catch(Wt=>v(Wt))}Je()}}).catch(_=>{throw Vs=null,_})}(C),Vs}(C),v=qi().gapi;return Ie(v,C,"internal-error"),_.open({where:document.body,url:Vd(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kh,dontclear:!0},R=>new Promise(function(){var Q=(0,s.A)(function*(fe,Je){yield R.restyle({setHideOnLeave:!1});const Rt=tt(C,"network-request-failed"),Wt=qi().setTimeout(()=>{Je(Rt)},$c.get());function Rn(){qi().clearTimeout(Wt),fe(R)}R.ping(Rn).then(Rn,()=>{Je(Rt)})});return function(fe,Je){return Q.apply(this,arguments)}}()))}),qh.apply(this,arguments)}const Yo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const za="__/auth/handler",Lo="emulator/auth/handler",Bd=encodeURIComponent("fac");function Wa(C,_,v,R,Q,fe){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,s.A)(function*(C,_,v,R,Q,fe){Ie(C.config.authDomain,C,"auth-domain-config-required"),Ie(C.config.apiKey,C,"invalid-api-key");const Je={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:R,v:ce.SDK_VERSION,eventId:Q};if(_ instanceof Ci){_.setDefaultLanguage(C.languageCode),Je.providerId=_.providerId||"",(0,r.Im)(_.getCustomParameters())||(Je.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Pn,ei]of Object.entries(fe||{}))Je[Pn]=ei}if(_ instanceof Sr){const Pn=_.getScopes().filter(ei=>""!==ei);Pn.length>0&&(Je.scopes=Pn.join(","))}C.tenantId&&(Je.tid=C.tenantId);const Rt=Je;for(const Pn of Object.keys(Rt))void 0===Rt[Pn]&&delete Rt[Pn];const Wt=yield C._getAppCheckToken(),Rn=Wt?`#${Bd}=${encodeURIComponent(Wt)}`:"";return`${function up({config:C}){return C.emulator?st(C,Lo):`https://${C.authDomain}/${za}`}(C)}?${(0,r.Am)(Rt).slice(1)}${Rn}`})).apply(this,arguments)}const $d="webStorageSupport",Yh=class dp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ya,this._completeRedirectFn=op,this._overrideRedirectResult=Ga}_openPopup(_,v,R,Q){var fe=this;return(0,s.A)(function*(){var Je;Xt(null===(Je=fe.eventManagers[_._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const Rt=yield Wa(_,v,R,On(),Q);return function cp(C,_,v,R=500,Q=600){const fe=Math.max((window.screen.availHeight-Q)/2,0).toString(),Je=Math.max((window.screen.availWidth-R)/2,0).toString();let Rt="";const Wt=Object.assign(Object.assign({},Yo),{width:R.toString(),height:Q.toString(),top:fe,left:Je}),Rn=(0,r.ZQ)().toLowerCase();v&&(Rt=cr(Rn)?"_blank":v),an(Rn)&&(_=_||"http://localhost",Wt.scrollbars="yes");const Pn=Object.entries(Wt).reduce((Eo,[ca,Ll])=>`${Eo}${ca}=${Ll},`,"");if(function Ns(C=(0,r.ZQ)()){var _;return gi(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Rn)&&"_self"!==Rt)return function Mg(C,_){const v=document.createElement("a");v.href=C,v.target=_;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(R)}(_||"",Rt),new jd(null);const ei=window.open(_||"",Rt,Pn);Ie(ei,C,"popup-blocked");try{ei.focus()}catch{}return new jd(ei)}(_,Rt,Cr())})()}_openRedirect(_,v,R,Q){var fe=this;return(0,s.A)(function*(){return yield fe._originValidation(_),function zs(C){qi().location.href=C}(yield Wa(_,v,R,On(),Q)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Q,promise:fe}=this.eventManagers[v];return Q?Promise.resolve(Q):(Xt(fe,"If manager is not set, promise should be"),fe)}const R=this.initAndGetManager(_);return this.eventManagers[v]={promise:R},R.catch(()=>{delete this.eventManagers[v]}),R}initAndGetManager(_){var v=this;return(0,s.A)(function*(){const R=yield function xl(C){return qh.apply(this,arguments)}(_),Q=new ap(_);return R.register("authEvent",fe=>(Ie(fe?.authEvent,_,"invalid-auth-event"),{status:Q.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Q},v.iframes[_._key()]=R,Q})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send($d,{type:$d},Q=>{var fe;const Je=null===(fe=Q?.[0])||void 0===fe?void 0:fe[$d];void 0!==Je&&v(!!Je),Ae(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ac(C){return Wh.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return lt()||zr()||gi()}};class Og{constructor(_){this.factorId=_}_process(_,v,R){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,R);case"signin":return this._finalizeSignIn(_,v.credential);default:return Ze("unexpected MultiFactorSessionType")}}}class Ta extends Og{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Ta(_)}_finalizeEnroll(_,v,R){return function wu(C,_){return Fe(C,"POST","/v2/accounts/mfaEnrollment:finalize",ye(C,_))}(_,{idToken:v,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function F(C,_){return Fe(C,"POST","/v2/accounts/mfaSignIn:finalize",ye(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hc=(()=>{class C{constructor(){}static assertion(v){return Ta._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Qh="@firebase/auth";class Hd{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,s.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(R=>{_(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,r.XA)("authIdTokenMaxAge"),function os(C){ks=C}({loadJS:C=>new Promise((_,v)=>{const R=document.createElement("script");R.setAttribute("src",C),R.onload=_,R.onerror=Q=>{const fe=tt("internal-error");fe.customData=Q,v(fe)},R.type="text/javascript",R.charset="UTF-8",function Ks(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(R)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function zc(C){(0,ce._registerComponent)(new Te.uA("auth",(_,{options:v})=>{const R=_.getProvider("app").getImmediate(),Q=_.getProvider("heartbeat"),fe=_.getProvider("app-check-internal"),{apiKey:Je,authDomain:Rt}=R.options;Ie(Je&&!Je.includes(":"),"invalid-api-key",{appName:R.name});const Wt={apiKey:Je,authDomain:Rt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mt(C)},Rn=new qr(R,Q,fe,Wt);return function Qa(C,_){const v=_?.persistence||[],R=(Array.isArray(v)?v:[v]).map(dt);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(R,_?.popupRedirectResolver)}(Rn,v),Rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,R)=>{_.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Te.uA("auth-internal",_=>{const v=fr(_.getProvider("auth").getImmediate());return new Hd(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Qh,"1.7.9",function Jh(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,ce.registerVersion)(Qh,"1.7.9","esm2017")}("Browser")},9583:(tn,Xe,V)=>{V.d(Xe,{fS:()=>Zp,Ix:()=>nu,H6:()=>$p,T1:()=>Us,Wq:()=>su,uY:()=>td,W6:()=>st,Ci:()=>yc,YQ:()=>vl,NJ:()=>wc,Dc:()=>zt,GA:()=>ig,cm:()=>Xr,K$:()=>Gt,FA:()=>Xn,lo:()=>ui,bI:()=>Kt,qG:()=>Qa,qi:()=>Xt,c8:()=>am,gS:()=>CE,C3:()=>bv,hq:()=>ME,me:()=>tv,rJ:()=>R_,Cs:()=>dm,vN:()=>Zy,kd:()=>IE,CL:()=>PE,LA:()=>nv,H9:()=>_c,ol:()=>x_,Q5:()=>hh,Os:()=>O_,FD:()=>V_,rf:()=>j0,Ws:()=>As,z6:()=>mh,x7:()=>EE,nY:()=>Dc,_e:()=>hv,GG:()=>bE,kU:()=>B0,Rr:()=>bo,aU:()=>fm,GV:()=>G0,AB:()=>pE,$1:()=>gE,po:()=>gm,St:()=>dE,aQ:()=>B_,FC:()=>fv,My:()=>fE,P:()=>L_,B:()=>Ef,yx:()=>ev,c4:()=>RE,O5:()=>xE,BN:()=>TE,He:()=>ut,lN:()=>vE,HM:()=>cv,EO:()=>lv,mZ:()=>j_,iB:()=>pm,_M:()=>av});var Pe,Me,s=V(467),ce=V(7852),r=V(1362),Ee=V(8041),me=V(1076),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={};(function(){var d;function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ht,Ue,et){et||(et=0);var ft=Array(16);if("string"==typeof Ue)for(var vt=0;16>vt;++vt)ft[vt]=Ue.charCodeAt(et++)|Ue.charCodeAt(et++)<<8|Ue.charCodeAt(et++)<<16|Ue.charCodeAt(et++)<<24;else for(vt=0;16>vt;++vt)ft[vt]=Ue[et++]|Ue[et++]<<8|Ue[et++]<<16|Ue[et++]<<24;var St=ht.g[3],qe=(Ue=ht.g[0])+(St^(et=ht.g[1])&((vt=ht.g[2])^St))+ft[0]+3614090360&4294967295;qe=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=(et=(vt=(St=(Ue=et+(qe<<7&4294967295|qe>>>25))+((qe=St+(vt^Ue&(et^vt))+ft[1]+3905402710&4294967295)<<12&4294967295|qe>>>20))+((qe=vt+(et^St&(Ue^et))+ft[2]+606105819&4294967295)<<17&4294967295|qe>>>15))+((qe=et+(Ue^vt&(St^Ue))+ft[3]+3250441966&4294967295)<<22&4294967295|qe>>>10))+((qe=Ue+(St^et&(vt^St))+ft[4]+4118548399&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(vt^Ue&(et^vt))+ft[5]+1200080426&4294967295)<<12&4294967295|qe>>>20))+((qe=vt+(et^St&(Ue^et))+ft[6]+2821735955&4294967295)<<17&4294967295|qe>>>15))+((qe=et+(Ue^vt&(St^Ue))+ft[7]+4249261313&4294967295)<<22&4294967295|qe>>>10))+((qe=Ue+(St^et&(vt^St))+ft[8]+1770035416&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(vt^Ue&(et^vt))+ft[9]+2336552879&4294967295)<<12&4294967295|qe>>>20))+((qe=vt+(et^St&(Ue^et))+ft[10]+4294925233&4294967295)<<17&4294967295|qe>>>15))+((qe=et+(Ue^vt&(St^Ue))+ft[11]+2304563134&4294967295)<<22&4294967295|qe>>>10))+((qe=Ue+(St^et&(vt^St))+ft[12]+1804603682&4294967295)<<7&4294967295|qe>>>25))+((qe=St+(vt^Ue&(et^vt))+ft[13]+4254626195&4294967295)<<12&4294967295|qe>>>20))+((qe=vt+(et^St&(Ue^et))+ft[14]+2792965006&4294967295)<<17&4294967295|qe>>>15))+((qe=et+(Ue^vt&(St^Ue))+ft[15]+1236535329&4294967295)<<22&4294967295|qe>>>10))+((qe=Ue+(vt^St&(et^vt))+ft[1]+4129170786&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(et^vt&(Ue^et))+ft[6]+3225465664&4294967295)<<9&4294967295|qe>>>23))+((qe=vt+(Ue^et&(St^Ue))+ft[11]+643717713&4294967295)<<14&4294967295|qe>>>18))+((qe=et+(St^Ue&(vt^St))+ft[0]+3921069994&4294967295)<<20&4294967295|qe>>>12))+((qe=Ue+(vt^St&(et^vt))+ft[5]+3593408605&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(et^vt&(Ue^et))+ft[10]+38016083&4294967295)<<9&4294967295|qe>>>23))+((qe=vt+(Ue^et&(St^Ue))+ft[15]+3634488961&4294967295)<<14&4294967295|qe>>>18))+((qe=et+(St^Ue&(vt^St))+ft[4]+3889429448&4294967295)<<20&4294967295|qe>>>12))+((qe=Ue+(vt^St&(et^vt))+ft[9]+568446438&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(et^vt&(Ue^et))+ft[14]+3275163606&4294967295)<<9&4294967295|qe>>>23))+((qe=vt+(Ue^et&(St^Ue))+ft[3]+4107603335&4294967295)<<14&4294967295|qe>>>18))+((qe=et+(St^Ue&(vt^St))+ft[8]+1163531501&4294967295)<<20&4294967295|qe>>>12))+((qe=Ue+(vt^St&(et^vt))+ft[13]+2850285829&4294967295)<<5&4294967295|qe>>>27))+((qe=St+(et^vt&(Ue^et))+ft[2]+4243563512&4294967295)<<9&4294967295|qe>>>23))+((qe=vt+(Ue^et&(St^Ue))+ft[7]+1735328473&4294967295)<<14&4294967295|qe>>>18))+((qe=et+(St^Ue&(vt^St))+ft[12]+2368359562&4294967295)<<20&4294967295|qe>>>12))+((qe=Ue+(et^vt^St)+ft[5]+4294588738&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Ue^et^vt)+ft[8]+2272392833&4294967295)<<11&4294967295|qe>>>21))+((qe=vt+(St^Ue^et)+ft[11]+1839030562&4294967295)<<16&4294967295|qe>>>16))+((qe=et+(vt^St^Ue)+ft[14]+4259657740&4294967295)<<23&4294967295|qe>>>9))+((qe=Ue+(et^vt^St)+ft[1]+2763975236&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Ue^et^vt)+ft[4]+1272893353&4294967295)<<11&4294967295|qe>>>21))+((qe=vt+(St^Ue^et)+ft[7]+4139469664&4294967295)<<16&4294967295|qe>>>16))+((qe=et+(vt^St^Ue)+ft[10]+3200236656&4294967295)<<23&4294967295|qe>>>9))+((qe=Ue+(et^vt^St)+ft[13]+681279174&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Ue^et^vt)+ft[0]+3936430074&4294967295)<<11&4294967295|qe>>>21))+((qe=vt+(St^Ue^et)+ft[3]+3572445317&4294967295)<<16&4294967295|qe>>>16))+((qe=et+(vt^St^Ue)+ft[6]+76029189&4294967295)<<23&4294967295|qe>>>9))+((qe=Ue+(et^vt^St)+ft[9]+3654602809&4294967295)<<4&4294967295|qe>>>28))+((qe=St+(Ue^et^vt)+ft[12]+3873151461&4294967295)<<11&4294967295|qe>>>21))+((qe=vt+(St^Ue^et)+ft[15]+530742520&4294967295)<<16&4294967295|qe>>>16))+((qe=et+(vt^St^Ue)+ft[2]+3299628645&4294967295)<<23&4294967295|qe>>>9))+((qe=Ue+(vt^(et|~St))+ft[0]+4096336452&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(et^(Ue|~vt))+ft[7]+1126891415&4294967295)<<10&4294967295|qe>>>22))+((qe=vt+(Ue^(St|~et))+ft[14]+2878612391&4294967295)<<15&4294967295|qe>>>17))+((qe=et+(St^(vt|~Ue))+ft[5]+4237533241&4294967295)<<21&4294967295|qe>>>11))+((qe=Ue+(vt^(et|~St))+ft[12]+1700485571&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(et^(Ue|~vt))+ft[3]+2399980690&4294967295)<<10&4294967295|qe>>>22))+((qe=vt+(Ue^(St|~et))+ft[10]+4293915773&4294967295)<<15&4294967295|qe>>>17))+((qe=et+(St^(vt|~Ue))+ft[1]+2240044497&4294967295)<<21&4294967295|qe>>>11))+((qe=Ue+(vt^(et|~St))+ft[8]+1873313359&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(et^(Ue|~vt))+ft[15]+4264355552&4294967295)<<10&4294967295|qe>>>22))+((qe=vt+(Ue^(St|~et))+ft[6]+2734768916&4294967295)<<15&4294967295|qe>>>17))+((qe=et+(St^(vt|~Ue))+ft[13]+1309151649&4294967295)<<21&4294967295|qe>>>11))+((St=(Ue=et+((qe=Ue+(vt^(et|~St))+ft[4]+4149444226&4294967295)<<6&4294967295|qe>>>26))+((qe=St+(et^(Ue|~vt))+ft[11]+3174756917&4294967295)<<10&4294967295|qe>>>22))^((vt=St+((qe=vt+(Ue^(St|~et))+ft[2]+718787259&4294967295)<<15&4294967295|qe>>>17))|~Ue))+ft[9]+3951481745&4294967295,ht.g[0]=ht.g[0]+Ue&4294967295,ht.g[1]=ht.g[1]+(vt+(qe<<21&4294967295|qe>>>11))&4294967295,ht.g[2]=ht.g[2]+vt&4294967295,ht.g[3]=ht.g[3]+St&4294967295}function T(ht,Ue){this.h=Ue;for(var et=[],ft=!0,vt=ht.length-1;0<=vt;vt--){var St=0|ht[vt];ft&&St==Ue||(et[vt]=St,ft=!1)}this.g=et}(function e(ht,Ue){function et(){}et.prototype=Ue.prototype,ht.D=Ue.prototype,ht.prototype=new et,ht.prototype.constructor=ht,ht.C=function(ft,vt,St){for(var qe=Array(arguments.length-2),au=2;au<arguments.length;au++)qe[au-2]=arguments[au];return Ue.prototype[vt].apply(ft,qe)}})(l,function i(){this.blockSize=-1}),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},l.prototype.u=function(ht,Ue){void 0===Ue&&(Ue=ht.length);for(var et=Ue-this.blockSize,ft=this.B,vt=this.h,St=0;St<Ue;){if(0==vt)for(;St<=et;)h(this,ht,St),St+=this.blockSize;if("string"==typeof ht){for(;St<Ue;)if(ft[vt++]=ht.charCodeAt(St++),vt==this.blockSize){h(this,ft),vt=0;break}}else for(;St<Ue;)if(ft[vt++]=ht[St++],vt==this.blockSize){h(this,ft),vt=0;break}}this.h=vt,this.o+=Ue},l.prototype.v=function(){var ht=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ht[0]=128;for(var Ue=1;Ue<ht.length-8;++Ue)ht[Ue]=0;var et=8*this.o;for(Ue=ht.length-8;Ue<ht.length;++Ue)ht[Ue]=255&et,et/=256;for(this.u(ht),ht=Array(16),Ue=et=0;4>Ue;++Ue)for(var ft=0;32>ft;ft+=8)ht[et++]=this.g[Ue]>>>ft&255;return ht};var P={};function U(ht){return-128<=ht&&128>ht?function y(ht,Ue){var et=P;return Object.prototype.hasOwnProperty.call(et,ht)?et[ht]:et[ht]=Ue(ht)}(ht,function(Ue){return new T([0|Ue],0>Ue?-1:0)}):new T([0|ht],0>ht?-1:0)}function q(ht){if(isNaN(ht)||!isFinite(ht))return Ce;if(0>ht)return nn(q(-ht));for(var Ue=[],et=1,ft=0;ht>=et;ft++)Ue[ft]=ht/et|0,et*=4294967296;return new T(Ue,0)}var Ce=U(0),ze=U(1),Ct=U(16777216);function Ht(ht){if(0!=ht.h)return!1;for(var Ue=0;Ue<ht.g.length;Ue++)if(0!=ht.g[Ue])return!1;return!0}function cn(ht){return-1==ht.h}function nn(ht){for(var Ue=ht.g.length,et=[],ft=0;ft<Ue;ft++)et[ft]=~ht.g[ft];return new T(et,~ht.h).add(ze)}function Kn(ht,Ue){return ht.add(nn(Ue))}function ar(ht,Ue){for(;(65535&ht[Ue])!=ht[Ue];)ht[Ue+1]+=ht[Ue]>>>16,ht[Ue]&=65535,Ue++}function Qn(ht,Ue){this.g=ht,this.h=Ue}function Nr(ht,Ue){if(Ht(Ue))throw Error("division by zero");if(Ht(ht))return new Qn(Ce,Ce);if(cn(ht))return Ue=Nr(nn(ht),Ue),new Qn(nn(Ue.g),nn(Ue.h));if(cn(Ue))return Ue=Nr(ht,nn(Ue)),new Qn(nn(Ue.g),Ue.h);if(30<ht.g.length){if(cn(ht)||cn(Ue))throw Error("slowDivide_ only works with positive integers.");for(var et=ze,ft=Ue;0>=ft.l(ht);)et=Oi(et),ft=Oi(ft);var vt=oi(et,1),St=oi(ft,1);for(ft=oi(ft,2),et=oi(et,2);!Ht(ft);){var qe=St.add(ft);0>=qe.l(ht)&&(vt=vt.add(et),St=qe),ft=oi(ft,1),et=oi(et,1)}return Ue=Kn(ht,vt.j(Ue)),new Qn(vt,Ue)}for(vt=Ce;0<=ht.l(Ue);){for(et=Math.max(1,Math.floor(ht.m()/Ue.m())),ft=48>=(ft=Math.ceil(Math.log(et)/Math.LN2))?1:Math.pow(2,ft-48),qe=(St=q(et)).j(Ue);cn(qe)||0<qe.l(ht);)qe=(St=q(et-=ft)).j(Ue);Ht(St)&&(St=ze),vt=vt.add(St),ht=Kn(ht,qe)}return new Qn(vt,ht)}function Oi(ht){for(var Ue=ht.g.length+1,et=[],ft=0;ft<Ue;ft++)et[ft]=ht.i(ft)<<1|ht.i(ft-1)>>>31;return new T(et,ht.h)}function oi(ht,Ue){var et=Ue>>5;Ue%=32;for(var ft=ht.g.length-et,vt=[],St=0;St<ft;St++)vt[St]=0<Ue?ht.i(St+et)>>>Ue|ht.i(St+et+1)<<32-Ue:ht.i(St+et);return new T(vt,ht.h)}(d=T.prototype).m=function(){if(cn(this))return-nn(this).m();for(var ht=0,Ue=1,et=0;et<this.g.length;et++){var ft=this.i(et);ht+=(0<=ft?ft:4294967296+ft)*Ue,Ue*=4294967296}return ht},d.toString=function(ht){if(2>(ht=ht||10)||36<ht)throw Error("radix out of range: "+ht);if(Ht(this))return"0";if(cn(this))return"-"+nn(this).toString(ht);for(var Ue=q(Math.pow(ht,6)),et=this,ft="";;){var vt=Nr(et,Ue).g,St=((0<(et=Kn(et,vt.j(Ue))).g.length?et.g[0]:et.h)>>>0).toString(ht);if(Ht(et=vt))return St+ft;for(;6>St.length;)St="0"+St;ft=St+ft}},d.i=function(ht){return 0>ht?0:ht<this.g.length?this.g[ht]:this.h},d.l=function(ht){return cn(ht=Kn(this,ht))?-1:Ht(ht)?0:1},d.abs=function(){return cn(this)?nn(this):this},d.add=function(ht){for(var Ue=Math.max(this.g.length,ht.g.length),et=[],ft=0,vt=0;vt<=Ue;vt++){var St=ft+(65535&this.i(vt))+(65535&ht.i(vt)),qe=(St>>>16)+(this.i(vt)>>>16)+(ht.i(vt)>>>16);ft=qe>>>16,et[vt]=(qe&=65535)<<16|(St&=65535)}return new T(et,-2147483648&et[et.length-1]?-1:0)},d.j=function(ht){if(Ht(this)||Ht(ht))return Ce;if(cn(this))return cn(ht)?nn(this).j(nn(ht)):nn(nn(this).j(ht));if(cn(ht))return nn(this.j(nn(ht)));if(0>this.l(Ct)&&0>ht.l(Ct))return q(this.m()*ht.m());for(var Ue=this.g.length+ht.g.length,et=[],ft=0;ft<2*Ue;ft++)et[ft]=0;for(ft=0;ft<this.g.length;ft++)for(var vt=0;vt<ht.g.length;vt++){var St=this.i(ft)>>>16,qe=65535&this.i(ft),au=ht.i(vt)>>>16,sg=65535&ht.i(vt);et[2*ft+2*vt]+=qe*sg,ar(et,2*ft+2*vt),et[2*ft+2*vt+1]+=St*sg,ar(et,2*ft+2*vt+1),et[2*ft+2*vt+1]+=qe*au,ar(et,2*ft+2*vt+1),et[2*ft+2*vt+2]+=St*au,ar(et,2*ft+2*vt+2)}for(ft=0;ft<Ue;ft++)et[ft]=et[2*ft+1]<<16|et[2*ft];for(ft=Ue;ft<2*Ue;ft++)et[ft]=0;return new T(et,0)},d.A=function(ht){return Nr(this,ht).h},d.and=function(ht){for(var Ue=Math.max(this.g.length,ht.g.length),et=[],ft=0;ft<Ue;ft++)et[ft]=this.i(ft)&ht.i(ft);return new T(et,this.h&ht.h)},d.or=function(ht){for(var Ue=Math.max(this.g.length,ht.g.length),et=[],ft=0;ft<Ue;ft++)et[ft]=this.i(ft)|ht.i(ft);return new T(et,this.h|ht.h)},d.xor=function(ht){for(var Ue=Math.max(this.g.length,ht.g.length),et=[],ft=0;ft<Ue;ft++)et[ft]=this.i(ft)^ht.i(ft);return new T(et,this.h^ht.h)},l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,Me=be.Md5=l,T.prototype.add=T.prototype.add,T.prototype.multiply=T.prototype.j,T.prototype.modulo=T.prototype.A,T.prototype.compare=T.prototype.l,T.prototype.toNumber=T.prototype.m,T.prototype.toString=T.prototype.toString,T.prototype.getBits=T.prototype.i,T.fromNumber=q,T.fromString=function ae(ht,Ue){if(0==ht.length)throw Error("number format error: empty string");if(2>(Ue=Ue||10)||36<Ue)throw Error("radix out of range: "+Ue);if("-"==ht.charAt(0))return nn(ae(ht.substring(1),Ue));if(0<=ht.indexOf("-"))throw Error('number format error: interior "-" character');for(var et=q(Math.pow(Ue,8)),ft=Ce,vt=0;vt<ht.length;vt+=8){var St=Math.min(8,ht.length-vt),qe=parseInt(ht.substring(vt,vt+St),Ue);8>St?(St=q(Math.pow(Ue,St)),ft=ft.j(St).add(q(qe))):ft=(ft=ft.j(et)).add(q(qe))}return ft},Pe=be.Integer=T}).apply(typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{});var he,je,ve,Ye,we,Tt,Bt,Ge,W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,B,Y){return E==Array.prototype||E==Object.prototype||(E[B]=Y.value),E},l=function i(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof W&&W];for(var B=0;B<E.length;++B){var Y=E[B];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}(this);!function h(E,B){if(B)e:{var Y=l;E=E.split(".");for(var ge=0;ge<E.length-1;ge++){var Et=E[ge];if(!(Et in Y))break e;Y=Y[Et]}(B=B(ge=Y[E=E[E.length-1]]))!=ge&&null!=B&&e(Y,E,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(E){return E||function(){return function y(E,B){E instanceof String&&(E+="");var Y=0,ge=!1,Et={next:function(){if(!ge&&Y<E.length){var Nt=Y++;return{value:B(Nt,E[Nt]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return Et[Symbol.iterator]=function(){return Et},Et}(this,function(B,Y){return Y})}});var T=T||{},P=this||self;function U(E){var B=typeof E;return"array"==(B="object"!=B?B:E?Array.isArray(E)?"array":B:"null")||"object"==B&&"number"==typeof E.length}function q(E){var B=typeof E;return"object"==B&&null!=E||"function"==B}function ae(E,B,Y){return E.call.apply(E.bind,arguments)}function Ce(E,B,Y){if(!E)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var Et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Et,ge),E.apply(B,Et)}}return function(){return E.apply(B,arguments)}}function ze(E,B,Y){return(ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ae:Ce).apply(null,arguments)}function Ct(E,B){var Y=Array.prototype.slice.call(arguments,1);return function(){var ge=Y.slice();return ge.push.apply(ge,arguments),E.apply(this,ge)}}function Ht(E,B){function Y(){}Y.prototype=B.prototype,E.aa=B.prototype,E.prototype=new Y,E.prototype.constructor=E,E.Qb=function(ge,Et,Nt){for(var Cn=Array(arguments.length-2),Yi=2;Yi<arguments.length;Yi++)Cn[Yi-2]=arguments[Yi];return B.prototype[Et].apply(ge,Cn)}}function cn(E){const B=E.length;if(0<B){const Y=Array(B);for(let ge=0;ge<B;ge++)Y[ge]=E[ge];return Y}return[]}function nn(E,B){for(let Y=1;Y<arguments.length;Y++){const ge=arguments[Y];if(U(ge)){const Et=E.length||0,Nt=ge.length||0;E.length=Et+Nt;for(let Cn=0;Cn<Nt;Cn++)E[Et+Cn]=ge[Cn]}else E.push(ge)}}function ar(E){return/^[\s\xa0]*$/.test(E)}function Qn(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function Nr(E){return Nr[" "](E),E}Nr[" "]=function(){};var Oi=!(-1==Qn().indexOf("Gecko")||-1!=Qn().toLowerCase().indexOf("webkit")&&-1==Qn().indexOf("Edge")||-1!=Qn().indexOf("Trident")||-1!=Qn().indexOf("MSIE")||-1!=Qn().indexOf("Edge"));function oi(E,B,Y){for(const ge in E)B.call(Y,E[ge],ge,E)}function Ue(E){const B={};for(const Y in E)B[Y]=E[Y];return B}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(E,B){let Y,ge;for(let Et=1;Et<arguments.length;Et++){for(Y in ge=arguments[Et],ge)E[Y]=ge[Y];for(let Nt=0;Nt<et.length;Nt++)Y=et[Nt],Object.prototype.hasOwnProperty.call(ge,Y)&&(E[Y]=ge[Y])}}function vt(E){var B=1;E=E.split(":");const Y=[];for(;0<B&&E.length;)Y.push(E.shift()),B--;return E.length&&Y.push(E.join(":")),Y}function St(E){P.setTimeout(()=>{throw E},0)}function qe(){var E=K_;let B=null;return E.g&&(B=E.g,E.g=E.g.next,E.g||(E.h=null),B.next=null),B}var sg=new class Kn{constructor(B,Y){this.i=B,this.j=Y,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new FE,E=>E.reset());class FE{constructor(){this.next=this.g=this.h=null}set(B,Y){this.h=B,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let Mf,og=!1,K_=new class au{constructor(){this.h=this.g=null}add(B,Y){const ge=sg.get();ge.set(B,Y),this.h?this.h.next=ge:this.g=ge,this.h=ge}},bm=()=>{const E=P.Promise.resolve(void 0);Mf=()=>{E.then(LE)}};var LE=()=>{for(var E;E=qe();){try{E.h.call(E.g)}catch(Y){St(Y)}var B=sg;B.j(E),100>B.h&&(B.h++,E.next=B.g,B.g=E)}og=!1};function cd(){this.s=this.s,this.C=this.C}function Qo(E,B){this.type=E,this.g=this.target=B,this.defaultPrevented=!1}cd.prototype.s=!1,cd.prototype.ma=function(){this.s||(this.s=!0,this.N())},cd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Qo.prototype.h=function(){this.defaultPrevented=!0};var VE=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,B=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Y=()=>{};P.addEventListener("test",Y,B),P.removeEventListener("test",Y,B)}catch{}return E}();function ag(E,B){if(Qo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Y=this.type=E.type,ge=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=B,B=E.relatedTarget){if(Oi){e:{try{Nr(B.nodeName);var Et=!0;break e}catch{}Et=!1}Et||(B=null)}}else"mouseover"==Y?B=E.fromElement:"mouseout"==Y&&(B=E.toElement);this.relatedTarget=B,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Rc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&ag.aa.h.call(this)}}Ht(ag,Qo);var Rc={2:"touch",3:"pen",4:"mouse"};ag.prototype.h=function(){ag.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var yh="closure_listenable_"+(1e6*Math.random()|0),UE=0;function Iv(E,B,Y,ge,Et){this.listener=E,this.proxy=null,this.src=B,this.type=Y,this.capture=!!ge,this.ha=Et,this.key=++UE,this.da=this.fa=!1}function Tm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function lg(E){this.src=E,this.g={},this.h=0}function Im(E,B){var Y=B.type;if(Y in E.g){var Nt,ge=E.g[Y],Et=Array.prototype.indexOf.call(ge,B,void 0);(Nt=0<=Et)&&Array.prototype.splice.call(ge,Et,1),Nt&&(Tm(B),0==E.g[Y].length&&(delete E.g[Y],E.h--))}}function vh(E,B,Y,ge){for(var Et=0;Et<E.length;++Et){var Nt=E[Et];if(!Nt.da&&Nt.listener==B&&Nt.capture==!!Y&&Nt.ha==ge)return Et}return-1}lg.prototype.add=function(E,B,Y,ge,Et){var Nt=E.toString();(E=this.g[Nt])||(E=this.g[Nt]=[],this.h++);var Cn=vh(E,B,ge,Et);return-1<Cn?(B=E[Cn],Y||(B.fa=!1)):((B=new Iv(B,this.src,Nt,!!ge,Et)).fa=Y,E.push(B)),B};var cg="closure_lm_"+(1e6*Math.random()|0),Cv={};function q_(E,B,Y,ge,Et){if(ge&&ge.once)return X_(E,B,Y,ge,Et);if(Array.isArray(B)){for(var Nt=0;Nt<B.length;Nt++)q_(E,B[Nt],Y,ge,Et);return null}return Y=wm(Y),E&&E[yh]?E.K(B,Y,q(ge)?!!ge.capture:!!ge,Et):Y_(E,B,Y,!1,ge,Et)}function Y_(E,B,Y,ge,Et,Nt){if(!B)throw Error("Invalid event type");var Cn=q(Et)?!!Et.capture:!!Et,Yi=ug(E);if(Yi||(E[cg]=Yi=new lg(E)),(Y=Yi.add(B,Y,ge,Cn,Nt)).proxy)return Y;if(ge=function wv(){const B=jE;return function E(Y){return B.call(E.src,E.listener,Y)}}(),Y.proxy=ge,ge.src=E,ge.listener=Y,E.addEventListener)VE||(Et=Cn),void 0===Et&&(Et=!1),E.addEventListener(B.toString(),ge,Et);else if(E.attachEvent)E.attachEvent(Av(B.toString()),ge);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(ge)}return Y}function X_(E,B,Y,ge,Et){if(Array.isArray(B)){for(var Nt=0;Nt<B.length;Nt++)X_(E,B[Nt],Y,ge,Et);return null}return Y=wm(Y),E&&E[yh]?E.L(B,Y,q(ge)?!!ge.capture:!!ge,Et):Y_(E,B,Y,!0,ge,Et)}function Cm(E,B,Y,ge,Et){if(Array.isArray(B))for(var Nt=0;Nt<B.length;Nt++)Cm(E,B[Nt],Y,ge,Et);else ge=q(ge)?!!ge.capture:!!ge,Y=wm(Y),E&&E[yh]?(E=E.i,(B=String(B).toString())in E.g&&-1<(Y=vh(Nt=E.g[B],Y,ge,Et))&&(Tm(Nt[Y]),Array.prototype.splice.call(Nt,Y,1),0==Nt.length&&(delete E.g[B],E.h--))):E&&(E=ug(E))&&(B=E.g[B.toString()],E=-1,B&&(E=vh(B,Y,ge,Et)),(Y=-1<E?B[E]:null)&&jl(Y))}function jl(E){if("number"!=typeof E&&E&&!E.da){var B=E.src;if(B&&B[yh])Im(B.i,E);else{var Y=E.type,ge=E.proxy;B.removeEventListener?B.removeEventListener(Y,ge,E.capture):B.detachEvent?B.detachEvent(Av(Y),ge):B.addListener&&B.removeListener&&B.removeListener(ge),(Y=ug(B))?(Im(Y,E),0==Y.h&&(Y.src=null,B[cg]=null)):Tm(E)}}}function Av(E){return E in Cv?Cv[E]:Cv[E]="on"+E}function jE(E,B){if(E.da)E=!0;else{B=new ag(B,this);var Y=E.listener,ge=E.ha||E.src;E.fa&&jl(E),E=Y.call(ge,B)}return E}function ug(E){return(E=E[cg])instanceof lg?E:null}var Q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function wm(E){return"function"==typeof E?E:(E[Q_]||(E[Q_]=function(B){return E.handleEvent(B)}),E[Q_])}function Jo(){cd.call(this),this.i=new lg(this),this.M=this,this.F=null}function To(E,B){var Y,ge=E.F;if(ge)for(Y=[];ge;ge=ge.F)Y.push(ge);if(E=E.M,ge=B.type||B,"string"==typeof B)B=new Qo(B,E);else if(B instanceof Qo)B.target=B.target||E;else{var Et=B;ft(B=new Qo(ge,E),Et)}if(Et=!0,Y)for(var Nt=Y.length-1;0<=Nt;Nt--){var Cn=B.g=Y[Nt];Et=ud(Cn,ge,!0,B)&&Et}if(Et=ud(Cn=B.g=E,ge,!0,B)&&Et,Et=ud(Cn,ge,!1,B)&&Et,Y)for(Nt=0;Nt<Y.length;Nt++)Et=ud(Cn=B.g=Y[Nt],ge,!1,B)&&Et}function ud(E,B,Y,ge){if(!(B=E.i.g[String(B)]))return!0;B=B.concat();for(var Et=!0,Nt=0;Nt<B.length;++Nt){var Cn=B[Nt];if(Cn&&!Cn.da&&Cn.capture==Y){var Yi=Cn.listener,go=Cn.ha||Cn.src;Cn.fa&&Im(E.i,Cn),Et=!1!==Yi.call(go,ge)&&Et}}return Et&&!ge.defaultPrevented}function J_(E,B,Y){if("function"==typeof E)Y&&(E=ze(E,Y));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=ze(E.handleEvent,E)}return 2147483647<Number(B)?-1:P.setTimeout(E,B||0)}function dg(E){E.g=J_(()=>{E.g=null,E.i&&(E.i=!1,dg(E))},E.l);const B=E.h;E.h=null,E.m.apply(null,B)}Ht(Jo,cd),Jo.prototype[yh]=!0,Jo.prototype.removeEventListener=function(E,B,Y,ge){Cm(this,E,B,Y,ge)},Jo.prototype.N=function(){if(Jo.aa.N.call(this),this.i){var B,E=this.i;for(B in E.g){for(var Y=E.g[B],ge=0;ge<Y.length;ge++)Tm(Y[ge]);delete E.g[B],E.h--}}this.F=null},Jo.prototype.K=function(E,B,Y,ge){return this.i.add(String(E),B,!1,Y,ge)},Jo.prototype.L=function(E,B,Y,ge){return this.i.add(String(E),B,!0,Y,ge)};class z0 extends cd{constructor(B,Y){super(),this.m=B,this.l=Y,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:dg(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hg(E){cd.call(this),this.h=E,this.g={}}Ht(hg,cd);var Z_=[];function ey(E){oi(E.g,function(B,Y){this.g.hasOwnProperty(Y)&&jl(B)},E),E.g={}}hg.prototype.N=function(){hg.aa.N.call(this),ey(this)},hg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ty=P.JSON.stringify,BE=P.JSON.parse,Dv=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function Am(){}function Sv(){}Am.prototype.h=null;var Nf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dm(){Qo.call(this,"d")}function ny(){Qo.call(this,"c")}Ht(Dm,Qo),Ht(ny,Qo);var Eh={},kf=null;function Sm(){return kf=kf||new Jo}function ry(E){Qo.call(this,Eh.La,E)}function Ff(E){const B=Sm();To(B,new ry(B))}function iy(E,B){Qo.call(this,Eh.STAT_EVENT,E),this.stat=B}function Zo(E){const B=Sm();To(B,new iy(B,E))}function fg(E,B){Qo.call(this,Eh.Ma,E),this.size=B}function bh(E,B){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},B)}function Lf(){this.g=!0}function Th(E,B,Y,ge){E.info(function(){return"XMLHTTP TEXT ("+B+"): "+function Pv(E,B){if(!E.g)return B;if(!B)return null;try{var Y=JSON.parse(B);if(Y)for(E=0;E<Y.length;E++)if(Array.isArray(Y[E])){var ge=Y[E];if(!(2>ge.length)){var Et=ge[1];if(Array.isArray(Et)&&!(1>Et.length)){var Nt=Et[0];if("noop"!=Nt&&"stop"!=Nt&&"close"!=Nt)for(var Cn=1;Cn<Et.length;Cn++)Et[Cn]=""}}}return ty(Y)}catch{return B}}(E,Y)+(ge?" "+ge:"")})}Eh.La="serverreachability",Ht(ry,Qo),Eh.STAT_EVENT="statevent",Ht(iy,Qo),Eh.Ma="timingevent",Ht(fg,Qo),Lf.prototype.xa=function(){this.g=!1},Lf.prototype.info=function(){};var Rm,gg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pm(){}function dd(E,B,Y,ge){this.j=E,this.i=B,this.l=Y,this.R=ge||1,this.U=new hg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}Ht(Pm,Am),Pm.prototype.g=function(){return new XMLHttpRequest},Pm.prototype.i=function(){return{}},Rm=new Pm;var oy={},xm={};function ay(E,B,Y){E.L=1,E.v=$f(ha(B)),E.m=Y,E.P=!0,$E(E,null)}function $E(E,B){E.F=Date.now(),uy(E),E.A=ha(E.v);var Y=E.A,ge=E.R;Array.isArray(ge)||(ge=[String(ge)]),_y(Y.i,"t",ge),E.C=0,Y=E.j.J,E.h=new xv,E.g=Xf(E.j,Y?B:null,!E.m),0<E.O&&(E.M=new z0(ze(E.Y,E,E.g),E.O)),B=E.U,Y=E.g,ge=E.ca;var Et="readystatechange";Array.isArray(Et)||(Et&&(Z_[0]=Et.toString()),Et=Z_);for(var Nt=0;Nt<Et.length;Nt++){var Cn=q_(Y,Et[Nt],ge||B.handleEvent,!1,B.h||B);if(!Cn)break;B.g[Cn.key]=Cn}B=E.H?Ue(E.H):{},E.m?(E.u||(E.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,B)):(E.u="GET",E.g.ea(E.A,E.u,null,B)),Ff(),function Rv(E,B,Y,ge,Et,Nt){E.info(function(){if(E.g)if(Nt)for(var Cn="",Yi=Nt.split("&"),go=0;go<Yi.length;go++){var Fr=Yi[go].split("=");if(1<Fr.length){var Co=Fr[0];Fr=Fr[1];var ta=Co.split("_");Cn=2<=ta.length&&"type"==ta[1]?Cn+(Co+"=")+Fr+"&":Cn+(Co+"=redacted&")}}else Cn=null;else Cn=Nt;return"XMLHTTP REQ ("+ge+") [attempt "+Et+"]: "+B+"\n"+Y+"\n"+Cn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function ly(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function cy(E,B){var Y=E.C,ge=B.indexOf("\n",Y);return-1==ge?xm:(Y=Number(B.substring(Y,ge)),isNaN(Y)?oy:(ge+=1)+Y>B.length?xm:(B=B.slice(ge,ge+Y),E.C=ge+Y,B))}function uy(E){E.S=Date.now()+E.I,mg(E,E.I)}function mg(E,B){if(null!=E.B)throw Error("WatchDog timer not null");E.B=bh(ze(E.ba,E),B)}function dy(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function _g(E){0==E.j.G||E.J||Mh(E.j,E)}function lu(E){dy(E);var B=E.M;B&&"function"==typeof B.ma&&B.ma(),E.M=null,ey(E.U),E.g&&(B=E.g,E.g=null,B.abort(),B.ma())}function hy(E,B){try{var Y=E.j;if(0!=Y.G&&(Y.g==E||Li(Y.h,E)))if(!E.K&&Li(Y.h,E)&&3==Y.G){try{var ge=Y.Da.g.parse(B)}catch{ge=null}if(Array.isArray(ge)&&3==ge.length){var Et=ge;if(0==Et[0]){e:if(!Y.u){if(Y.g){if(!(Y.g.F+3e3<E.F))break e;ea(Y),Ph(Y)}hu(Y),Zo(18)}}else Y.za=Et[1],0<Y.za-Y.T&&37500>Et[2]&&Y.F&&0==Y.v&&!Y.C&&(Y.C=bh(ze(Y.Za,Y),6e3));if(1>=cu(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else bd(Y,11)}else if((E.K||Y.g==E)&&ea(Y),!ar(B))for(Et=Y.Da.g.parse(B),B=0;B<Et.length;B++){let Fr=Et[B];if(Y.T=Fr[0],Fr=Fr[1],2==Y.G)if("c"==Fr[0]){Y.K=Fr[1],Y.ia=Fr[2];const Co=Fr[3];null!=Co&&(Y.la=Co,Y.j.info("VER="+Y.la));const ta=Fr[4];null!=ta&&(Y.Aa=ta,Y.j.info("SVER="+Y.Aa));const Id=Fr[5];null!=Id&&"number"==typeof Id&&0<Id&&(Y.L=ge=1.5*Id,Y.j.info("backChannelRequestTimeoutMs_="+ge)),ge=Y;const Ma=E.g;if(Ma){const bg=Ma.g?Ma.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bg){var Nt=ge.h;Nt.g||-1==bg.indexOf("spdy")&&-1==bg.indexOf("quic")&&-1==bg.indexOf("h2")||(Nt.j=Nt.l,Nt.g=new Set,Nt.h&&(Sa(Nt,Nt.h),Nt.h=null))}if(ge.D){const Tg=Ma.g?Ma.g.getResponseHeader("X-HTTP-Session-Id"):null;Tg&&(ge.ya=Tg,gs(ge.I,ge.D,Tg))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-E.F,Y.j.info("Handshake RTT: "+Y.R+"ms"));var Cn=E;if((ge=Y).qa=Vm(ge,ge.J?ge.ia:null,ge.W),Cn.K){jf(ge.h,Cn);var Yi=Cn,go=ge.L;go&&(Yi.I=go),Yi.B&&(dy(Yi),uy(Yi)),ge.g=Cn}else vd(ge);0<Y.i.length&&Yf(Y)}else"stop"!=Fr[0]&&"close"!=Fr[0]||bd(Y,7);else 3==Y.G&&("stop"==Fr[0]||"close"==Fr[0]?"stop"==Fr[0]?bd(Y,7):vy(Y):"noop"!=Fr[0]&&Y.l&&Y.l.ta(Fr),Y.v=0)}Ff()}catch{}}function Uf(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Io(E){return!!E.h||!!E.g&&E.g.size>=E.j}function cu(E){return E.h?1:E.g?E.g.size:0}function Li(E,B){return E.h?E.h==B:!!E.g&&E.g.has(B)}function Sa(E,B){E.g?E.g.add(B):E.h=B}function jf(E,B){E.h&&E.h==B?E.h=null:E.g&&E.g.has(B)&&E.g.delete(B)}function hd(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let B=E.i;for(const Y of E.g.values())B=B.concat(Y.D);return B}return cn(E.i)}function fd(E,B){if(E.forEach&&"function"==typeof E.forEach)E.forEach(B,void 0);else if(U(E)||"string"==typeof E)Array.prototype.forEach.call(E,B,void 0);else for(var Y=function Ch(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(U(E)||"string"==typeof E){var B=[];E=E.length;for(var Y=0;Y<E;Y++)B.push(Y);return B}B=[],Y=0;for(const ge in E)B[Y++]=ge;return B}}}(E),ge=function Ih(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(U(E)){for(var B=[],Y=E.length,ge=0;ge<Y;ge++)B.push(E[ge]);return B}for(ge in B=[],Y=0,E)B[Y++]=E[ge];return B}(E),Et=ge.length,Nt=0;Nt<Et;Nt++)B.call(void 0,ge[Nt],Y&&Y[Nt],E)}dd.prototype.ca=function(E){E=E.target;const B=this.M;B&&3==Oc(E)?B.j():this.Y(E)},dd.prototype.Y=function(E){try{if(E==this.g)e:{const ta=Oc(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>ta)&&(3!=ta||this.g&&(this.h.h||this.g.oa()||Fm(this.g)))){this.J||4!=ta||7==B||Ff(),dy(this);var Y=this.g.Z();this.X=Y;t:if(ly(this)){var ge=Fm(this.g);E="";var Et=ge.length,Nt=4==Oc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lu(this),_g(this);var Cn="";break t}this.h.i=new P.TextDecoder}for(B=0;B<Et;B++)this.h.h=!0,E+=this.h.i.decode(ge[B],{stream:!(Nt&&B==Et-1)});ge.length=0,this.h.g+=E,this.C=0,Cn=this.h.g}else Cn=this.g.oa();if(this.o=200==Y,function Vf(E,B,Y,ge,Et,Nt,Cn){E.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+Et+"]: "+B+"\n"+Y+"\n"+Nt+" "+Cn})}(this.i,this.u,this.A,this.l,this.R,ta,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Yi,go=this.g;if((Yi=go.g?go.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ar(Yi)){var Fr=Yi;break t}}Fr=null}if(!(Y=Fr)){this.o=!1,this.s=3,Zo(12),lu(this),_g(this);break e}Th(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hy(this,Y)}if(this.P){let Ma;for(Y=!0;!this.J&&this.C<Cn.length;){if(Ma=cy(this,Cn),Ma==xm){4==ta&&(this.s=4,Zo(14),Y=!1),Th(this.i,this.l,null,"[Incomplete Response]");break}if(Ma==oy){this.s=4,Zo(15),Th(this.i,this.l,Cn,"[Invalid Chunk]"),Y=!1;break}Th(this.i,this.l,Ma,null),hy(this,Ma)}if(ly(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ta||0!=Cn.length||this.h.h||(this.s=1,Zo(16),Y=!1),this.o=this.o&&Y,Y){if(0<Cn.length&&!this.W){this.W=!0;var Co=this.j;Co.g==this&&Co.ba&&!Co.M&&(Co.j.info("Great, no buffering proxy detected. Bytes received: "+Cn.length),Eg(Co),Co.M=!0,Zo(11))}}else Th(this.i,this.l,Cn,"[Invalid Chunked Response]"),lu(this),_g(this)}else Th(this.i,this.l,Cn,null),hy(this,Cn);4==ta&&lu(this),this.o&&!this.J&&(4==ta?Mh(this.j,this):(this.o=!1,uy(this)))}else(function Lv(E){const B={};E=(E.g&&2<=Oc(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let ge=0;ge<E.length;ge++){if(ar(E[ge]))continue;var Y=vt(E[ge]);const Et=Y[0];if("string"!=typeof(Y=Y[1]))continue;Y=Y.trim();const Nt=B[Et]||[];B[Et]=Nt,Nt.push(Y)}!function ht(E,B){for(const Y in E)B.call(void 0,E[Y],Y,E)}(B,function(ge){return ge.join(", ")})})(this.g),400==Y&&0<Cn.indexOf("Unknown SID")?(this.s=3,Zo(12)):(this.s=0,Zo(13)),lu(this),_g(this)}}}catch{}},dd.prototype.cancel=function(){this.J=!0,lu(this)},dd.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function pg(E,B){E.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(Ff(),Zo(17)),lu(this),this.s=2,_g(this)):mg(this,this.S-E)},Uf.prototype.cancel=function(){if(this.i=hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var pd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ya(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Ya){this.h=E.h,xc(this,E.j),this.o=E.o,this.g=E.g,Bf(this,E.s),this.l=E.l;var B=E.i,Y=new yg;Y.i=B.i,B.g&&(Y.g=new Map(B.g),Y.h=B.h),fy(this,Y),this.m=E.m}else E&&(B=String(E).match(pd))?(this.h=!1,xc(this,B[1]||"",!0),this.o=Ah(B[2]||""),this.g=Ah(B[3]||"",!0),Bf(this,B[4]),this.l=Ah(B[5]||"",!0),fy(this,B[6]||"",!0),this.m=Ah(B[7]||"")):(this.h=!1,this.i=new yg(null,this.h))}function ha(E){return new Ya(E)}function xc(E,B,Y){E.j=Y?Ah(B,!0):B,E.j&&(E.j=E.j.replace(/:$/,""))}function Bf(E,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);E.s=B}else E.s=null}function fy(E,B,Y){B instanceof yg?(E.i=B,function Nv(E,B){B&&!E.j&&(uu(E),E.i=null,E.g.forEach(function(Y,ge){var Et=ge.toLowerCase();ge!=Et&&(my(this,ge),_y(this,Et,Y))},E)),E.j=B}(E.i,E.h)):(Y||(B=Dh(B,Mv)),E.i=new yg(B,E.h))}function gs(E,B,Y){E.i.set(B,Y)}function $f(E){return gs(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ah(E,B){return E?B?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Dh(E,B,Y){return"string"==typeof E?(E=encodeURI(E).replace(B,py),Y&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function py(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Ya.prototype.toString=function(){var E=[],B=this.j;B&&E.push(Dh(B,Mm,!0),":");var Y=this.g;return(Y||"file"==B)&&(E.push("//"),(B=this.o)&&E.push(Dh(B,Mm,!0),"@"),E.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.s)&&E.push(":",String(Y))),(Y=this.l)&&(this.g&&"/"!=Y.charAt(0)&&E.push("/"),E.push(Dh(Y,"/"==Y.charAt(0)?Om:gy,!0))),(Y=this.i.toString())&&E.push("?",Y),(Y=this.m)&&E.push("#",Dh(Y,GE)),E.join("")};var E,Mm=/[#\/\?@]/g,gy=/[#\?:]/g,Om=/[#\?]/g,Mv=/[#\?@]/g,GE=/#/g;function yg(E,B){this.h=this.g=null,this.i=E||null,this.j=!!B}function uu(E){E.g||(E.g=new Map,E.h=0,E.i&&function wh(E,B){if(E){E=E.split("&");for(var Y=0;Y<E.length;Y++){var ge=E[Y].indexOf("="),Et=null;if(0<=ge){var Nt=E[Y].substring(0,ge);Et=E[Y].substring(ge+1)}else Nt=E[Y];B(Nt,Et?decodeURIComponent(Et.replace(/\+/g," ")):"")}}}(E.i,function(B,Y){E.add(decodeURIComponent(B.replace(/\+/g," ")),Y)}))}function my(E,B){uu(E),B=Gf(E,B),E.g.has(B)&&(E.i=null,E.h-=E.g.get(B).length,E.g.delete(B))}function Ov(E,B){return uu(E),B=Gf(E,B),E.g.has(B)}function _y(E,B,Y){my(E,B),0<Y.length&&(E.i=null,E.g.set(Gf(E,B),cn(Y)),E.h+=Y.length)}function Gf(E,B){return B=String(B),E.j&&(B=B.toLowerCase()),B}function Bl(E,B,Y,ge,Et){try{Et&&(Et.onload=null,Et.onerror=null,Et.onabort=null,Et.ontimeout=null),ge(Y)}catch{}}function Hf(){this.g=new Dv}function Nm(E,B,Y){const ge=Y||"";try{fd(E,function(Et,Nt){let Cn=Et;q(Et)&&(Cn=ty(Et)),B.push(ge+Nt+"="+encodeURIComponent(Cn))})}catch(Et){throw B.push(ge+"type="+encodeURIComponent("_badmap")),Et}}function gd(E){this.l=E.Ub||null,this.j=E.eb||!1}function zf(E,B){Jo.call(this),this.D=E,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Sh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Ra(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Rh(E)}function Rh(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function du(E){let B="";return oi(E,function(Y,ge){B+=ge,B+=":",B+=Y,B+="\r\n"}),B}function Wf(E,B,Y){e:{for(ge in Y){var ge=!1;break e}ge=!0}ge||(Y=du(Y),"string"==typeof E?null!=Y&&encodeURIComponent(String(Y)):gs(E,B,Y))}function Ds(E){Jo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=yg.prototype).add=function(E,B){uu(this),this.i=null,E=Gf(this,E);var Y=this.g.get(E);return Y||this.g.set(E,Y=[]),Y.push(B),this.h+=1,this},d.forEach=function(E,B){uu(this),this.g.forEach(function(Y,ge){Y.forEach(function(Et){E.call(B,Et,ge,this)},this)},this)},d.na=function(){uu(this);const E=Array.from(this.g.values()),B=Array.from(this.g.keys()),Y=[];for(let ge=0;ge<B.length;ge++){const Et=E[ge];for(let Nt=0;Nt<Et.length;Nt++)Y.push(B[ge])}return Y},d.V=function(E){uu(this);let B=[];if("string"==typeof E)Ov(this,E)&&(B=B.concat(this.g.get(Gf(this,E))));else{E=Array.from(this.g.values());for(let Y=0;Y<E.length;Y++)B=B.concat(E[Y])}return B},d.set=function(E,B){return uu(this),this.i=null,Ov(this,E=Gf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[B]),this.h+=1,this},d.get=function(E,B){return E&&0<(E=this.V(E)).length?String(E[0]):B},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],B=Array.from(this.g.keys());for(var Y=0;Y<B.length;Y++){var ge=B[Y];const Nt=encodeURIComponent(String(ge)),Cn=this.V(ge);for(ge=0;ge<Cn.length;ge++){var Et=Nt;""!==Cn[ge]&&(Et+="="+encodeURIComponent(String(Cn[ge]))),E.push(Et)}}return this.i=E.join("&")},Ht(gd,Am),gd.prototype.g=function(){return new zf(this.l,this.j)},gd.prototype.i=(E={},function(){return E}),Ht(zf,Jo),(d=zf.prototype).open=function(E,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=B,this.readyState=1,Rh(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(B.body=E),(this.D||P).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ra(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Rh(this)),this.g&&(this.readyState=3,Rh(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var B=E.value?E.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!E.done}))&&(this.response=this.responseText+=B)}E.done?Ra(this):Rh(this),3==this.readyState&&Sh(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,Ra(this))},d.Qa=function(E){this.g&&(this.response=E,Ra(this))},d.ga=function(){this.g&&Ra(this)},d.setRequestHeader=function(E,B){this.u.append(E,B)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],B=this.h.entries();for(var Y=B.next();!Y.done;)E.push((Y=Y.value)[0]+": "+Y[1]),Y=B.next();return E.join("\r\n")},Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Ht(Ds,Jo);var Pa=/^https?$/i,yy=["POST","PUT"];function vg(E,B){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=B,E.m=5,md(E),Mc(E)}function md(E){E.A||(E.A=!0,To(E,"complete"),To(E,"error"))}function Kf(E){if(E.h&&typeof T<"u"&&(!E.v[1]||4!=Oc(E)||2!=E.Z()))if(E.u&&4==Oc(E))J_(E.Ea,0,E);else if(To(E,"readystatechange"),4==Oc(E)){E.h=!1;try{const Cn=E.Z();e:switch(Cn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var Y;if(!(Y=B)){var ge;if(ge=0===Cn){var Et=String(E.D).match(pd)[1]||null;!Et&&P.self&&P.self.location&&(Et=P.self.location.protocol.slice(0,-1)),ge=!Pa.test(Et?Et.toLowerCase():"")}Y=ge}if(Y)To(E,"complete"),To(E,"success");else{E.m=6;try{var Nt=2<Oc(E)?E.g.statusText:""}catch{Nt=""}E.l=Nt+" ["+E.Z()+"]",md(E)}}finally{Mc(E)}}}function Mc(E,B){if(E.g){km(E);const Y=E.g,ge=E.v[0]?()=>{}:null;E.g=null,E.v=null,B||To(E,"ready");try{Y.onreadystatechange=ge}catch{}}}function km(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function Oc(E){return E.g?E.g.readyState:0}function Fm(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function _d(E,B,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[E]||B}function Lm(E){this.Aa=0,this.i=[],this.j=new Lf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_d("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_d("baseRetryDelayMs",5e3,E),this.cb=_d("retryDelaySeedMs",1e4,E),this.Wa=_d("forwardChannelMaxRetries",2,E),this.wa=_d("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Uf(E&&E.concurrentRequestLimit),this.Da=new Hf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function vy(E){if(qf(E),3==E.G){var B=E.U++,Y=ha(E.I);if(gs(Y,"SID",E.K),gs(Y,"RID",B),gs(Y,"TYPE","terminate"),yd(E,Y),(B=new dd(E,E.j,B)).L=2,B.v=$f(ha(Y)),Y=!1,P.navigator&&P.navigator.sendBeacon)try{Y=P.navigator.sendBeacon(B.v.toString(),"")}catch{}!Y&&P.Image&&((new Image).src=B.v,Y=!0),Y||(B.g=Xf(B.j,null),B.g.ea(B.v)),B.F=Date.now(),uy(B)}Nh(E)}function Ph(E){E.g&&(Eg(E),E.g.cancel(),E.g=null)}function qf(E){Ph(E),E.u&&(P.clearTimeout(E.u),E.u=null),ea(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function Yf(E){if(!Io(E.h)&&!E.s){E.s=!0;var B=E.Ga;Mf||bm(),og||(Mf(),og=!0),K_.add(B,E),E.B=0}}function by(E,B){var Y;Y=B?B.l:E.U++;const ge=ha(E.I);gs(ge,"SID",E.K),gs(ge,"RID",Y),gs(ge,"AID",E.T),yd(E,ge),E.m&&E.o&&Wf(ge,E.m,E.o),Y=new dd(E,E.j,Y,E.B+1),null===E.m&&(Y.H=E.o),B&&(E.i=B.D.concat(E.i)),B=xh(E,Y,1e3),Y.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Sa(E.h,Y),ay(Y,ge,B)}function yd(E,B){E.H&&oi(E.H,function(Y,ge){gs(B,ge,Y)}),E.l&&fd({},function(Y,ge){gs(B,ge,Y)})}function xh(E,B,Y){Y=Math.min(E.i.length,Y);var ge=E.l?ze(E.l.Na,E.l,E):null;e:{var Et=E.i;let Nt=-1;for(;;){const Cn=["count="+Y];-1==Nt?0<Y?(Nt=Et[0].g,Cn.push("ofs="+Nt)):Nt=0:Cn.push("ofs="+Nt);let Yi=!0;for(let go=0;go<Y;go++){let Fr=Et[go].g;const Co=Et[go].map;if(Fr-=Nt,0>Fr)Nt=Math.max(0,Et[go].g-100),Yi=!1;else try{Nm(Co,Cn,"req"+Fr+"_")}catch{ge&&ge(Co)}}if(Yi){ge=Cn.join("&");break e}}}return E=E.i.splice(0,Y),B.D=E,ge}function vd(E){if(!E.g&&!E.u){E.Y=1;var B=E.Fa;Mf||bm(),og||(Mf(),og=!0),K_.add(B,E),E.v=0}}function hu(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=bh(ze(E.Fa,E),Oh(E,E.v)),E.v++,0))}function Eg(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function Ed(E){E.g=new dd(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var B=ha(E.qa);gs(B,"RID","rpc"),gs(B,"SID",E.K),gs(B,"AID",E.T),gs(B,"CI",E.F?"0":"1"),!E.F&&E.ja&&gs(B,"TO",E.ja),gs(B,"TYPE","xmlhttp"),yd(E,B),E.m&&E.o&&Wf(B,E.m,E.o),E.L&&(E.g.I=E.L);var Y=E.g;E=E.ia,Y.L=1,Y.v=$f(ha(B)),Y.m=null,Y.P=!0,$E(Y,E)}function ea(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function Mh(E,B){var Y=null;if(E.g==B){ea(E),Eg(E),E.g=null;var ge=2}else{if(!Li(E.h,B))return;Y=B.D,jf(E.h,B),ge=1}if(0!=E.G)if(B.o)if(1==ge){Y=B.m?B.m.length:0,B=Date.now()-B.F;var Et=E.B;To(ge=Sm(),new fg(ge,Y)),Yf(E)}else vd(E);else if(3==(Et=B.s)||0==Et&&0<B.X||!(1==ge&&function Ey(E,B){return!(cu(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=B.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=bh(ze(E.Ga,E,B),Oh(E,E.B)),E.B++,0)))}(E,B)||2==ge&&hu(E)))switch(Y&&0<Y.length&&(B=E.h,B.i=B.i.concat(Y)),Et){case 1:bd(E,5);break;case 4:bd(E,10);break;case 3:bd(E,6);break;default:bd(E,2)}}function Oh(E,B){let Y=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Y*=2),Y*B}function bd(E,B){if(E.j.info("Error code "+B),2==B){var Y=ze(E.fb,E),ge=E.Xa;const Et=!ge;ge=new Ya(ge||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||xc(ge,"https"),$f(ge),Et?function kv(E,B){const Y=new Lf;if(P.Image){const ge=new Image;ge.onload=Ct(Bl,Y,"TestLoadImage: loaded",!0,B,ge),ge.onerror=Ct(Bl,Y,"TestLoadImage: error",!1,B,ge),ge.onabort=Ct(Bl,Y,"TestLoadImage: abort",!1,B,ge),ge.ontimeout=Ct(Bl,Y,"TestLoadImage: timeout",!1,B,ge),P.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=E}else B(!1)}(ge.toString(),Y):function Fv(E,B){new Lf;const ge=new AbortController,Et=setTimeout(()=>{ge.abort(),Bl(0,0,!1,B)},1e4);fetch(E,{signal:ge.signal}).then(Nt=>{clearTimeout(Et),Bl(0,0,!!Nt.ok,B)}).catch(()=>{clearTimeout(Et),Bl(0,0,!1,B)})}(ge.toString(),Y)}else Zo(2);E.G=0,E.l&&E.l.sa(B),Nh(E),qf(E)}function Nh(E){if(E.G=0,E.ka=[],E.l){const B=hd(E.h);(0!=B.length||0!=E.i.length)&&(nn(E.ka,B),nn(E.ka,E.i),E.h.i.length=0,cn(E.i),E.i.length=0),E.l.ra()}}function Vm(E,B,Y){var ge=Y instanceof Ya?ha(Y):new Ya(Y);if(""!=ge.g)B&&(ge.g=B+"."+ge.g),Bf(ge,ge.s);else{var Et=P.location;ge=Et.protocol,B=B?B+"."+Et.hostname:Et.hostname,Et=+Et.port;var Nt=new Ya(null);ge&&xc(Nt,ge),B&&(Nt.g=B),Et&&Bf(Nt,Et),Y&&(Nt.l=Y),ge=Nt}return B=E.ya,(Y=E.D)&&B&&gs(ge,Y,B),gs(ge,"VER",E.la),yd(E,ge),ge}function Xf(E,B,Y){if(B&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new Ds(E.Ca&&!E.pa?new gd({eb:Y}):E.pa)).Ha(E.J),B}function kh(){}function xa(){}function Os(E,B){Jo.call(this),this.g=new Lm(B),this.l=E,this.h=B&&B.messageUrlParams||null,E=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(E?E["X-WebChannel-Content-Type"]=B.messageContentType:E={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(E?E["X-WebChannel-Client-Profile"]=B.va:E={"X-WebChannel-Client-Profile":B.va}),this.g.S=E,(E=B&&B.Sb)&&!ar(E)&&(this.g.m=E),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!ar(B)&&(this.g.D=B,null!==(E=this.h)&&B in E&&B in(E=this.h)&&delete E[B]),this.j=new Td(this)}function fu(E){Dm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var B=E.__sm__;if(B){e:{for(const Y in B){E=Y;break e}E=void 0}(this.i=E)&&(E=this.i,B=null!==B&&E in B?B[E]:void 0),this.data=B}else this.data=E}function Fh(){ny.call(this),this.status=1}function Td(E){this.g=E}(d=Ds.prototype).Ha=function(E){this.J=E},d.ea=function(E,B,Y,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);B=B?B.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rm.g(),this.v=function Of(E){return E.h||(E.h=E.i())}(this.o?this.o:Rm),this.g.onreadystatechange=ze(this.Ea,this);try{this.B=!0,this.g.open(B,String(E),!0),this.B=!1}catch(Nt){return void vg(this,Nt)}if(E=Y||"",Y=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var Et in ge)Y.set(Et,ge[Et]);else{if("function"!=typeof ge.keys||"function"!=typeof ge.get)throw Error("Unknown input type for opt_headers: "+String(ge));for(const Nt of ge.keys())Y.set(Nt,ge.get(Nt))}ge=Array.from(Y.keys()).find(Nt=>"content-type"==Nt.toLowerCase()),Et=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(yy,B,void 0))||ge||Et||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Nt,Cn]of Y)this.g.setRequestHeader(Nt,Cn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{km(this),this.u=!0,this.g.send(E),this.u=!1}catch(Nt){vg(this,Nt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,To(this,"complete"),To(this,"abort"),Mc(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mc(this,!0)),Ds.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Kf(this):this.bb())},d.bb=function(){Kf(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Oc(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var B=this.g.responseText;return E&&0==B.indexOf(E)&&(B=B.substring(E.length)),BE(B)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=Lm.prototype).la=8,d.G=1,d.connect=function(E,B,Y,ge){Zo(0),this.W=E,this.H=B||{},Y&&void 0!==ge&&(this.H.OSID=Y,this.H.OAID=ge),this.F=this.X,this.I=Vm(this,null,this.W),Yf(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Et=new dd(this,this.j,E);let Nt=this.o;if(this.S&&(Nt?(Nt=Ue(Nt),ft(Nt,this.S)):Nt=this.S),null!==this.m||this.O||(Et.H=Nt,Nt=null),this.P)e:{for(var B=0,Y=0;Y<this.i.length;Y++){var ge=this.i[Y];if(void 0===(ge="__data__"in ge.map&&"string"==typeof(ge=ge.map.__data__)?ge.length:void 0))break;if(4096<(B+=ge)){B=Y;break e}if(4096===B||Y===this.i.length-1){B=Y+1;break e}}B=1e3}else B=1e3;B=xh(this,Et,B),gs(Y=ha(this.I),"RID",E),gs(Y,"CVER",22),this.D&&gs(Y,"X-HTTP-Session-Id",this.D),yd(this,Y),Nt&&(this.O?B="headers="+encodeURIComponent(String(du(Nt)))+"&"+B:this.m&&Wf(Y,this.m,Nt)),Sa(this.h,Et),this.Ua&&gs(Y,"TYPE","init"),this.P?(gs(Y,"$req",B),gs(Y,"SID","null"),Et.T=!0,ay(Et,Y,null)):ay(Et,Y,B),this.G=2}}else 3==this.G&&(E?by(this,E):0==this.i.length||Io(this.h)||by(this))},d.Fa=function(){if(this.u=null,Ed(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=bh(ze(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zo(10),Ph(this),Ed(this))},d.Za=function(){null!=this.C&&(this.C=null,Ph(this),hu(this),Zo(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Zo(2)):(this.j.info("Failed to ping google.com"),Zo(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=kh.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},xa.prototype.g=function(E,B){return new Os(E,B)},Ht(Os,Jo),Os.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Os.prototype.close=function(){vy(this.g)},Os.prototype.o=function(E){var B=this.g;if("string"==typeof E){var Y={};Y.__data__=E,E=Y}else this.u&&((Y={}).__data__=ty(E),E=Y);B.i.push(new class{constructor(E,B){this.g=E,this.map=B}}(B.Ya++,E)),3==B.G&&Yf(B)},Os.prototype.N=function(){this.g.l=null,delete this.j,vy(this.g),delete this.g,Os.aa.N.call(this)},Ht(fu,Dm),Ht(Fh,ny),Ht(Td,kh),Td.prototype.ua=function(){To(this.g,"a")},Td.prototype.ta=function(E){To(this.g,new fu(E))},Td.prototype.sa=function(E){To(this.g,new Fh)},Td.prototype.ra=function(){To(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,Os.prototype.send=Os.prototype.o,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Ge=ne.createWebChannelTransport=function(){return new xa},Bt=ne.getStatEventTarget=function(){return Sm()},Tt=ne.Event=Eh,we=ne.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gg.NO_ERROR=0,gg.TIMEOUT=8,gg.HTTP_ERROR=6,Ye=ne.ErrorCode=gg,sy.COMPLETE="complete",ve=ne.EventType=sy,Sv.EventType=Nf,Nf.OPEN="a",Nf.CLOSE="b",Nf.ERROR="c",Nf.MESSAGE="d",Jo.prototype.listen=Jo.prototype.K,je=ne.WebChannel=Sv,ne.FetchXmlHttpFactory=gd,Ds.prototype.listenOnce=Ds.prototype.L,Ds.prototype.getLastError=Ds.prototype.Ka,Ds.prototype.getLastErrorCode=Ds.prototype.Ba,Ds.prototype.getStatus=Ds.prototype.Z,Ds.prototype.getResponseJson=Ds.prototype.Oa,Ds.prototype.getResponseText=Ds.prototype.oa,Ds.prototype.send=Ds.prototype.ea,Ds.prototype.setWithCredentials=Ds.prototype.Ha,he=ne.XhrIo=Ds}).apply(typeof W<"u"?W:typeof self<"u"?self:typeof window<"u"?window:{});const Ae="@firebase/firestore";class tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");let Ke="10.14.0";const ct=new Ee.Vy("@firebase/firestore");function xt(){return ct.logLevel}function ut(d){ct.setLogLevel(d)}function Ie(d,...e){if(ct.logLevel<=Ee.$b.DEBUG){const i=e.map(On);ct.debug(`Firestore (${Ke}): ${d}`,...i)}}function Ze(d,...e){if(ct.logLevel<=Ee.$b.ERROR){const i=e.map(On);ct.error(`Firestore (${Ke}): ${d}`,...i)}}function Xt(d,...e){if(ct.logLevel<=Ee.$b.WARN){const i=e.map(On);ct.warn(`Firestore (${Ke}): ${d}`,...i)}}function On(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Ot(d="Unexpected state"){const e=`FIRESTORE (${Ke}) INTERNAL ASSERTION FAILED: `+d;throw Ze(e),new Error(e)}function Vt(d,e){d||Ot()}function Kt(d,e){d||Ot()}function pt(d,e){return d}const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends me.g{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class it{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class xe{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(tt.UNAUTHENTICATED))}shutdown(){}}class ye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var l=this;Vt(void 0===this.o);let h=this.i;const y=q=>this.i!==h?(h=this.i,i(q)):Promise.resolve();let T=new it;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new it,e.enqueueRetryable(()=>y(this.currentUser))};const P=()=>{const q=T;e.enqueueRetryable((0,s.A)(function*(){yield q.promise,yield y(l.currentUser)}))},U=q=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(q=>U(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?U(q):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new it)}},0),P()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(l=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Vt("string"==typeof l.accessToken),new xe(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new tt(e)}}class ot{constructor(e,i,l){this.l=e,this.h=i,this.P=l,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class We{constructor(e,i,l){this.l=e,this.h=i,this.P=l}getToken(){return Promise.resolve(new ot(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ft{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Vt(void 0===this.o);const l=y=>{null!=y.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const T=y.token!==this.R;return this.R=y.token,Ie("FirebaseAppCheckTokenProvider",`Received ${T?"new":"existing"} token.`),T?i(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>l(y))};const h=y=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Vt("string"==typeof i.token),this.R=i.token,new Ft(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let l=0;l<d;l++)i[l]=Math.floor(256*Math.random());return i}class Fn{static newId(){const i=62*Math.floor(256/62);let l="";for(;l.length<20;){const h=rn(40);for(let y=0;y<h.length;++y)l.length<20&&h[y]<i&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return l}}function Qt(d,e){return d<e?-1:d>e?1:0}function Bn(d,e,i){return d.length===e.length&&d.every((l,h)=>i(l,e[h]))}function xn(d){return d+"\0"}class zt{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new st(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*i));return new zt(i,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new zt(0,0))}static max(){return new Ut(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dr{constructor(e,i,l){void 0===i?i=0:i>e.length&&Ot(),void 0===l?l=e.length-i:l>e.length-i&&Ot(),this.segments=e,this.offset=i,this.len=l}get length(){return this.len}isEqual(e){return 0===dr.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(l=>{i.push(l)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,l=this.limit();i<l;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const l=Math.min(e.length,i.length);for(let h=0;h<l;h++){const y=e.get(h),T=i.get(h);if(y<T)return-1;if(y>T)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class sn extends dr{construct(e,i,l){return new sn(e,i,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const l of e){if(l.indexOf("//")>=0)throw new st(Ve.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);i.push(...l.split("/").filter(h=>h.length>0))}return new sn(i)}static emptyPath(){return new sn([])}}const xr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends dr{construct(e,i,l){return new Xn(e,i,l)}static isValidIdentifier(e){return xr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const i=[];let l="",h=0;const y=()=>{if(0===l.length)throw new st(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(l),l=""};let T=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new st(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[h+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new st(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=U,h+=2}else"`"===P?(T=!T,h++):"."!==P||T?(l+=P,h++):(y(),h++)}if(y(),T)throw new st(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(i)}static emptyPath(){return new Xn([])}}class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(sn.fromString(e))}static fromName(e){return new Gt(sn.fromString(e).popFirst(5))}static empty(){return new Gt(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return sn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new sn(e.slice()))}}class En{constructor(e,i,l,h){this.indexId=e,this.collectionGroup=i,this.fields=l,this.indexState=h}}function Gn(d){return d.fields.find(e=>2===e.kind)}function Tn(d){return d.fields.filter(e=>2!==e.kind)}En.UNKNOWN_ID=-1;class Dr{constructor(e,i){this.fieldPath=e,this.kind=i}}class zn{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new zn(0,dn.min())}}function hi(d,e){const i=d.toTimestamp().seconds,l=d.toTimestamp().nanoseconds+1,h=Ut.fromTimestamp(1e9===l?new zt(i+1,0):new zt(i,l));return new dn(h,Gt.empty(),e)}function ys(d){return new dn(d.readTime,d.key,-1)}class dn{constructor(e,i,l){this.readTime=e,this.documentKey=i,this.largestBatchId=l}static min(){return new dn(Ut.min(),Gt.empty(),-1)}static max(){return new dn(Ut.max(),Gt.empty(),-1)}}function ti(d,e){let i=d.readTime.compareTo(e.readTime);return 0!==i?i:(i=Gt.comparator(d.documentKey,e.documentKey),0!==i?i:Qt(d.largestBatchId,e.largestBatchId))}const Jn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Hn(d){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.A)(function*(d){if(d.code!==Ve.FAILED_PRECONDITION||d.message!==Jn)throw d;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at((l,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(l,h)},this.catchCallback=y=>{this.wrapFailure(i,y).next(l,h)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):at.reject(i)}static resolve(e){return new at((i,l)=>{i(e)})}static reject(e){return new at((i,l)=>{l(e)})}static waitFor(e){return new at((i,l)=>{let h=0,y=0,T=!1;e.forEach(P=>{++h,P.next(()=>{++y,T&&y===h&&i()},U=>l(U))}),T=!0,y===h&&i()})}static or(e){let i=at.resolve(!1);for(const l of e)i=i.next(h=>h?at.resolve(h):l());return i}static forEach(e,i){const l=[];return e.forEach((h,y)=>{l.push(i.call(this,h,y))}),this.waitFor(l)}static mapArray(e,i){return new at((l,h)=>{const y=e.length,T=new Array(y);let P=0;for(let U=0;U<y;U++){const q=U;i(e[q]).next(ae=>{T[q]=ae,++P,P===y&&l(T)},ae=>h(ae))}})}static doWhile(e,i){return new at((l,h)=>{const y=()=>{!0===e()?i().next(()=>{y()},h):l()};y()})}}class bt{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.V=new it,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new qt(e,i.error)):this.V.resolve()},this.transaction.onerror=l=>{const h=He(l.target.error);this.V.reject(new qt(e,h))}}static open(e,i,l,h){try{return new bt(i,e.transaction(h,l))}catch(y){throw new qt(i,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new Vr(i)}}class de{constructor(e,i,l){this.name=e,this.version=i,this.p=l,12.2===de.S((0,me.ZQ)())&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),Ir(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.zW)())return!1;if(de.v())return!0;const e=(0,me.ZQ)(),i=de.S(e),l=0<i&&i<10,h=ke(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,i){return e.store(i)}static S(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(l)}M(e){var i=this;return(0,s.A)(function*(){return i.db||(Ie("SimpleDb","Opening database:",i.name),i.db=yield new Promise((l,h)=>{const y=indexedDB.open(i.name,i.version);y.onsuccess=T=>{l(T.target.result)},y.onblocked=()=>{h(new qt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=T=>{const P=T.target.error;h("VersionError"===P.name?new st(Ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new st(Ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new qt(e,P))},y.onupgradeneeded=T=>{Ie("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',T.oldVersion),i.p.O(T.target.result,y.transaction,T.oldVersion,i.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=l=>i.N(l)),i.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,l,h){var y=this;return(0,s.A)(function*(){const T="readonly"===i;let P=0;for(;;){++P;try{y.db=yield y.M(e);const U=bt.open(y.db,e,T?"readonly":"readwrite",l),q=h(U).next(ae=>(U.g(),ae)).catch(ae=>(U.abort(ae),at.reject(ae))).toPromise();return q.catch(()=>{}),yield U.m,q}catch(U){const q=U,ae="FirebaseError"!==q.name&&P<3;if(Ie("SimpleDb","Transaction failed with error:",q.message,"Retrying:",ae),y.close(),!ae)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ke(d){const e=d.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class At{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ir(this.B.delete())}}class qt extends st{constructor(e,i){super(Ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Vn(d){return"IndexedDbTransactionError"===d.name}class Vr{constructor(e){this.store=e}put(e,i){let l;return void 0!==i?(Ie("SimpleDb","PUT",this.store.name,e,i),l=this.store.put(i,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Ir(l)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),Ir(this.store.add(e))}get(e){return Ir(this.store.get(e)).next(i=>(void 0===i&&(i=null),Ie("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),Ir(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),Ir(this.store.count())}U(e,i){const l=this.options(e,i),h=l.index?this.store.index(l.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(l.range);return new at((T,P)=>{y.onerror=U=>{P(U.target.error)},y.onsuccess=U=>{T(U.target.result)}})}{const y=this.cursor(l),T=[];return this.W(y,(P,U)=>{T.push(U)}).next(()=>T)}}G(e,i){const l=this.store.getAll(e,null===i?void 0:i);return new at((h,y)=>{l.onerror=T=>{y(T.target.error)},l.onsuccess=T=>{h(T.target.result)}})}j(e,i){Ie("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,i);l.H=!1;const h=this.cursor(l);return this.W(h,(y,T,P)=>P.delete())}J(e,i){let l;i?l=e:(l={},i=e);const h=this.cursor(l);return this.W(h,i)}Y(e){const i=this.cursor({});return new at((l,h)=>{i.onerror=y=>{const T=He(y.target.error);h(T)},i.onsuccess=y=>{const T=y.target.result;T?e(T.primaryKey,T.value).next(P=>{P?T.continue():l()}):l()}})}W(e,i){const l=[];return new at((h,y)=>{e.onerror=T=>{y(T.target.error)},e.onsuccess=T=>{const P=T.target.result;if(!P)return void h();const U=new At(P),q=i(P.primaryKey,P.value,U);if(q instanceof at){const ae=q.catch(Ce=>(U.done(),at.reject(Ce)));l.push(ae)}U.isDone?h():null===U.K?P.continue():P.continue(U.K)}}).next(()=>at.waitFor(l))}options(e,i){let l;return void 0!==e&&("string"==typeof e?l=e:i=e),{index:l,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const l=this.store.index(e.index);return e.H?l.openKeyCursor(e.range,i):l.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function Ir(d){return new at((e,i)=>{d.onsuccess=l=>{e(l.target.result)},d.onerror=l=>{const h=He(l.target.error);i(h)}})}let Qe=!1;function He(d){const e=de.S((0,me.ZQ)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(i)>=0){const l=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qe||(Qe=!0,setTimeout(()=>{throw l},0)),l}}return d}class x{constructor(e,i){this.asyncQueue=e,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var i=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,s.A)(function*(){i.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(l){Vn(l)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",l):yield Hn(l)}yield i.X(6e4)}))}}class A{constructor(e,i){this.localStore=e,this.persistence=i}ee(e=50){var i=this;return(0,s.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>i.te(l,e))})()}te(e,i){const l=new Set;let h=i,y=!0;return at.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(T=>{if(null!==T&&!l.has(T))return Ie("IndexBackfiller",`Processing collection: ${T}`),this.ne(e,T,h).next(P=>{h-=P,l.add(T)});y=!1})).next(()=>i-h)}ne(e,i,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,i).next(h=>this.localStore.localDocuments.getNextDocuments(e,i,h,l).next(y=>{const T=y.changes;return this.localStore.indexManager.updateIndexEntries(e,T).next(()=>this.re(h,y)).next(P=>(Ie("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,i,P))).next(()=>T.size)}))}re(e,i){let l=e;return i.changes.forEach((h,y)=>{const T=ys(y);ti(T,l)>0&&(l=T)}),new dn(l.readTime,l.documentKey,Math.max(i.batchId,e.largestBatchId))}}let O=(()=>{class d{constructor(i,l){this.previousValue=i,l&&(l.sequenceNumberHandler=h=>this.ie(h),this.se=h=>l.writeSequenceNumber(h))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return d.oe=-1,d})();function re(d){return null==d}function pe(d){return 0===d&&1/d==-1/0}function dt(d){return"number"==typeof d&&Number.isInteger(d)&&!pe(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Pt(d){let e="";for(let i=0;i<d.length;i++)e.length>0&&(e=hn(e)),e=on(d.get(i),e);return hn(e)}function on(d,e){let i=e;const l=d.length;for(let h=0;h<l;h++){const y=d.charAt(h);switch(y){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=y}}return i}function hn(d){return d+"\x01\x01"}function wn(d){const e=d.length;if(Vt(e>=2),2===e)return Vt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),sn.emptyPath();const i=e-2,l=[];let h="";for(let y=0;y<e;){const T=d.indexOf("\x01",y);switch((T<0||T>i)&&Ot(),d.charAt(T+1)){case"\x01":const P=d.substring(y,T);let U;0===h.length?U=P:(h+=P,U=h,h=""),l.push(U);break;case"\x10":h+=d.substring(y,T),h+="\0";break;case"\x11":h+=d.substring(y,T+1);break;default:Ot()}y=T+2}return new sn(l)}const Er=["userId","batchId"];function an(d,e){return[d,Pt(e)]}function zr(d,e,i){return[d,Pt(e),i]}const cr={},Bs=["prefixPath","collectionGroup","readTime","documentId"],Ni=["prefixPath","collectionGroup","documentId"],vs=["collectionGroup","readTime","prefixPath","documentId"],Es=["canonicalId","targetId"],gi=["targetId","path"],sr=["path","targetId"],Ns=["collectionId","parent"],Dt=["indexId","uid"],lt=["uid","sequenceNumber"],Mt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ln=["indexId","uid","orderedDocumentKey"],Un=["userId","collectionPath","documentId"],Nn=["userId","collectionPath","largestBatchId"],hr=["userId","collectionGroup","largestBatchId"],$r=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qr=[...$r,"documentOverlays"],fr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xi=fr,ks=[...Xi,"indexConfiguration","indexState","indexEntries"],os=ks,Ao=[...ks,"globals"];class Do extends Tr{constructor(e,i){super(),this._e=e,this.currentSequenceNumber=i}}function ji(d,e){const i=pt(d);return de.F(i._e,e)}function jo(d){let e=0;for(const i in d)Object.prototype.hasOwnProperty.call(d,i)&&e++;return e}function li(d,e){for(const i in d)Object.prototype.hasOwnProperty.call(d,i)&&e(i,d[i])}function bs(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Yr{constructor(e,i){this.comparator=e,this.root=i||Mi.EMPTY}insert(e,i){return new Yr(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return i.value;l<0?i=i.left:l>0&&(i=i.right)}return null}indexOf(e){let i=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return i+l.left.size;h<0?l=l.left:(i+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,l)=>(e(i,l),!1))}toString(){const e=[];return this.inorderTraversal((i,l)=>(e.push(`${i}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}}class Bi{constructor(e,i,l,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=i?l(e.key,i):1,i&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,i,l,h,y){this.key=e,this.value=i,this.color=l??Mi.RED,this.left=h??Mi.EMPTY,this.right=y??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,l,h,y){return new Mi(e??this.key,i??this.value,l??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,l){let h=this;const y=l(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,i,l),null):0===y?h.copy(null,i,null,null,null):h.copy(null,null,null,null,h.right.insert(e,i,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let l,h=this;if(i(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,i),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===i(e,h.key)){if(h.right.isEmpty())return Mi.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,i))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(e,i,l,h,y){return this}insert(e,i,l){return new Mi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,l)=>(e(i),!1))}forEachInRange(e,i){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;i(h.key)}}forEachWhile(e,i){let l;for(l=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new co(this.data.getIterator())}getIteratorFrom(e){return new co(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(l=>{i=i.add(l)}),i}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const i=this.data.getIterator(),l=e.data.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=l.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new wr(this.comparator);return i.data=e,i}}class co{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function So(d){return d.hasNext()?d.getNext():void 0}class fi{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new fi([])}unionWith(e){let i=new wr(Xn.comparator);for(const l of this.fields)i=i.add(l);for(const l of e)i=i.add(l);return new fi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bn(this.fields,e.fields,(i,l)=>i.isEqual(l))}}class Oa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Qa(){return typeof atob<"u"}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Oa("Invalid base64 string: "+y):y}}(e);return new Pi(i)}static fromUint8Array(e){const i=function(h){let y="";for(let T=0;T<h.length;++T)y+=String.fromCharCode(h[T]);return y}(e);return new Pi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const l=new Uint8Array(i.length);for(let h=0;h<i.length;h++)l[h]=i.charCodeAt(h);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const pa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(d){if(Vt(!!d),"string"==typeof d){let e=0;const i=pa.exec(d);if(Vt(!!i),i[1]){let h=i[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(d);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:ni(d.seconds),nanos:ni(d.nanos)}}function ni(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function $s(d){return"string"==typeof d?Pi.fromBase64String(d):Pi.fromUint8Array(d)}function mi(d){var e,i;return"server_timestamp"===(null===(i=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function $i(d){const e=d.mapValue.fields.__previous_value__;return mi(e)?$i(e):e}function xi(d){const e=Xs(d.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}class Yn{constructor(e,i,l,h,y,T,P,U,q){this.databaseId=e,this.appId=i,this.persistenceKey=l,this.host=h,this.ssl=y,this.forceLongPolling=T,this.autoDetectLongPolling=P,this.longPollingOptions=U,this.useFetchStreams=q}}class Xr{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Xr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xr&&e.projectId===this.projectId&&e.database===this.database}}const ri={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zi={nullValue:"NULL_VALUE"};function Gr(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?mi(d)?4:jn(d)?9007199254740991:us(d)?10:11:Ot()}function ls(d,e){if(d===e)return!0;const i=Gr(d);if(i!==Gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return xi(d).isEqual(xi(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const T=Xs(h.timestampValue),P=Xs(y.timestampValue);return T.seconds===P.seconds&&T.nanos===P.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,$s(d.bytesValue).isEqual($s(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return ni(h.geoPointValue.latitude)===ni(y.geoPointValue.latitude)&&ni(h.geoPointValue.longitude)===ni(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return ni(h.integerValue)===ni(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const T=ni(h.doubleValue),P=ni(y.doubleValue);return T===P?pe(T)===pe(P):isNaN(T)&&isNaN(P)}return!1}(d,e);case 9:return Bn(d.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(h,y){const T=h.mapValue.fields||{},P=y.mapValue.fields||{};if(jo(T)!==jo(P))return!1;for(const U in T)if(T.hasOwnProperty(U)&&(void 0===P[U]||!ls(T[U],P[U])))return!1;return!0}(d,e);default:return Ot()}var y}function Qs(d,e){return void 0!==(d.values||[]).find(i=>ls(i,e))}function ki(d,e){if(d===e)return 0;const i=Gr(d),l=Gr(e);if(i!==l)return Qt(i,l);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qt(d.booleanValue,e.booleanValue);case 2:return function(y,T){const P=ni(y.integerValue||y.doubleValue),U=ni(T.integerValue||T.doubleValue);return P<U?-1:P>U?1:P===U?0:isNaN(P)?isNaN(U)?0:-1:1}(d,e);case 3:return Ts(d.timestampValue,e.timestampValue);case 4:return Ts(xi(d),xi(e));case 5:return Qt(d.stringValue,e.stringValue);case 6:return function(y,T){const P=$s(y),U=$s(T);return P.compareTo(U)}(d.bytesValue,e.bytesValue);case 7:return function(y,T){const P=y.split("/"),U=T.split("/");for(let q=0;q<P.length&&q<U.length;q++){const ae=Qt(P[q],U[q]);if(0!==ae)return ae}return Qt(P.length,U.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,T){const P=Qt(ni(y.latitude),ni(T.latitude));return 0!==P?P:Qt(ni(y.longitude),ni(T.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Ss(d.arrayValue,e.arrayValue);case 10:return function(y,T){var P,U,q,ae;const Ct=null===(P=(y.fields||{}).value)||void 0===P?void 0:P.arrayValue,Ht=null===(U=(T.fields||{}).value)||void 0===U?void 0:U.arrayValue,cn=Qt((null===(q=Ct?.values)||void 0===q?void 0:q.length)||0,(null===(ae=Ht?.values)||void 0===ae?void 0:ae.length)||0);return 0!==cn?cn:Ss(Ct,Ht)}(d.mapValue,e.mapValue);case 11:return function(y,T){if(y===ri.mapValue&&T===ri.mapValue)return 0;if(y===ri.mapValue)return 1;if(T===ri.mapValue)return-1;const P=y.fields||{},U=Object.keys(P),q=T.fields||{},ae=Object.keys(q);U.sort(),ae.sort();for(let Ce=0;Ce<U.length&&Ce<ae.length;++Ce){const ze=Qt(U[Ce],ae[Ce]);if(0!==ze)return ze;const Ct=ki(P[U[Ce]],q[ae[Ce]]);if(0!==Ct)return Ct}return Qt(U.length,ae.length)}(d.mapValue,e.mapValue);default:throw Ot()}}function Ts(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Qt(d,e);const i=Xs(d),l=Xs(e),h=Qt(i.seconds,l.seconds);return 0!==h?h:Qt(i.nanos,l.nanos)}function Ss(d,e){const i=d.values||[],l=e.values||[];for(let h=0;h<i.length&&h<l.length;++h){const y=ki(i[h],l[h]);if(y)return y}return Qt(i.length,l.length)}function Wr(d){return gn(d)}function gn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(i){const l=Xs(i);return`time(${l.seconds},${l.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?$s(d.bytesValue).toBase64():"referenceValue"in d?Gt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(i){return`geo(${i.latitude},${i.longitude})`}(d.geoPointValue):"arrayValue"in d?function(i){let l="[",h=!0;for(const y of i.values||[])h?h=!1:l+=",",l+=gn(y);return l+"]"}(d.arrayValue):"mapValue"in d?function(i){const l=Object.keys(i.fields||{}).sort();let h="{",y=!0;for(const T of l)y?y=!1:h+=",",h+=`${T}:${gn(i.fields[T])}`;return h+"}"}(d.mapValue):Ot()}function ur(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Qi(d){return!!d&&"integerValue"in d}function cs(d){return!!d&&"arrayValue"in d}function Fi(d){return!!d&&"nullValue"in d}function Gs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Qr(d){return!!d&&"mapValue"in d}function us(d){var e,i;return"__vector__"===(null===(i=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Rs(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return li(d.mapValue.fields,(i,l)=>e.mapValue.fields[i]=Rs(l)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(d.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Rs(d.arrayValue.values[i]);return e}return Object.assign({},d)}function jn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const _i={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Ji(d){return"nullValue"in d?zi:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?ur(Xr.empty(),Gt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?us(d)?_i:{mapValue:{}}:Ot()}function ee(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?ur(Xr.empty(),Gt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?_i:"mapValue"in d?us(d)?{mapValue:{}}:ri:Ot()}function J(d,e){const i=ki(d.value,e.value);return 0!==i?i:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Se(d,e){const i=ki(d.value,e.value);return 0!==i?i:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Le{constructor(e){this.value=e}static empty(){return new Le({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let l=0;l<e.length-1;++l)if(i=(i.mapValue.fields||{})[e.get(l)],!Qr(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rs(i)}setAll(e){let i=Xn.emptyPath(),l={},h=[];e.forEach((T,P)=>{if(!i.isImmediateParentOf(P)){const U=this.getFieldsMap(i);this.applyChanges(U,l,h),l={},h=[],i=P.popLast()}T?l[P.lastSegment()]=Rs(T):h.push(P.lastSegment())});const y=this.getFieldsMap(i);this.applyChanges(y,l,h)}delete(e){const i=this.field(e.popLast());Qr(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=i.mapValue.fields[e.get(l)];Qr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},i.mapValue.fields[e.get(l)]=h),i=h}return i.mapValue.fields}applyChanges(e,i,l){li(i,(h,y)=>e[h]=y);for(const h of l)delete e[h]}clone(){return new Le(Rs(this.value))}}function nt(d){const e=[];return li(d.fields,(i,l)=>{const h=new Xn([i]);if(Qr(l)){const y=nt(l.mapValue).fields;if(0===y.length)e.push(h);else for(const T of y)e.push(h.child(T))}else e.push(h)}),new fi(e)}class _t{constructor(e,i,l,h,y,T,P){this.key=e,this.documentType=i,this.version=l,this.readTime=h,this.createTime=y,this.data=T,this.documentState=P}static newInvalidDocument(e){return new _t(e,0,Ut.min(),Ut.min(),Ut.min(),Le.empty(),0)}static newFoundDocument(e,i,l,h){return new _t(e,1,i,Ut.min(),l,h,0)}static newNoDocument(e,i){return new _t(e,2,i,Ut.min(),Ut.min(),Le.empty(),0)}static newUnknownDocument(e,i){return new _t(e,3,i,Ut.min(),Ut.min(),Le.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Le.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Le.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yt{constructor(e,i){this.position=e,this.inclusive=i}}function In(d,e,i){let l=0;for(let h=0;h<d.position.length;h++){const y=e[h],T=d.position[h];if(l=y.field.isKeyField()?Gt.comparator(Gt.fromName(T.referenceValue),i.key):ki(T,i.data.field(y.field)),"desc"===y.dir&&(l*=-1),0!==l)break}return l}function fn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let i=0;i<d.position.length;i++)if(!ls(d.position[i],e.position[i]))return!1;return!0}class qn{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ar(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Dn{}class kn extends Dn{constructor(e,i,l){super(),this.field=e,this.op=i,this.value=l}static create(e,i,l){return e.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(e,i,l):new Mr(e,i,l):"array-contains"===i?new io(e,l):"in"===i?new na(e,l):"not-in"===i?new Ja(e,l):"array-contains-any"===i?new ra(e,l):new kn(e,i,l)}static createKeyFieldInFilter(e,i,l){return"in"===i?new Bo(e,l):new ds(e,l)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(ki(i,this.value)):null!==i&&Gr(this.value)===Gr(i)&&this.matchesComparison(ki(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Dn{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Zn(e,i)}matches(e){return kr(this)?void 0===this.filters.find(i=>!i.matches(e)):void 0!==this.filters.find(i=>i.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kr(d){return"and"===d.op}function ii(d){return"or"===d.op}function Jr(d){return Vi(d)&&kr(d)}function Vi(d){for(const e of d.filters)if(e instanceof Zn)return!1;return!0}function Ci(d){if(d instanceof kn)return d.field.canonicalString()+d.op.toString()+Wr(d.value);if(Jr(d))return d.filters.map(e=>Ci(e)).join(",");{const e=d.filters.map(i=>Ci(i)).join(",");return`${d.op}(${e})`}}function Sr(d,e){return d instanceof kn?(l=d,(h=e)instanceof kn&&l.op===h.op&&l.field.isEqual(h.field)&&ls(l.value,h.value)):d instanceof Zn?function(l,h){return h instanceof Zn&&l.op===h.op&&l.filters.length===h.filters.length&&l.filters.reduce((y,T,P)=>y&&Sr(T,h.filters[P]),!0)}(d,e):void Ot();var l,h}function Ii(d,e){const i=d.filters.concat(e);return Zn.create(i,d.op)}function wi(d){return d instanceof kn?`${(i=d).field.canonicalString()} ${i.op} ${Wr(i.value)}`:d instanceof Zn?function(i){return i.op.toString()+" {"+i.getFilters().map(wi).join(" ,")+"}"}(d):"Filter";var i}class Mr extends kn{constructor(e,i,l){super(e,i,l),this.key=Gt.fromName(l.referenceValue)}matches(e){const i=Gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Bo extends kn{constructor(e,i){super(e,"in",i),this.keys=Js(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class ds extends kn{constructor(e,i){super(e,"not-in",i),this.keys=Js(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Js(d,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(l=>Gt.fromName(l.referenceValue))}class io extends kn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cs(i)&&Qs(i.arrayValue,this.value)}}class na extends kn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&Qs(this.value.arrayValue,i)}}class Ja extends kn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!Qs(this.value.arrayValue,i)}}class ra extends kn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cs(i)||!i.arrayValue.values)&&i.arrayValue.values.some(l=>Qs(this.value.arrayValue,l))}}class Yl{constructor(e,i=null,l=[],h=[],y=null,T=null,P=null){this.path=e,this.collectionGroup=i,this.orderBy=l,this.filters=h,this.limit=y,this.startAt=T,this.endAt=P,this.ue=null}}function hs(d,e=null,i=[],l=[],h=null,y=null,T=null){return new Yl(d,e,i,l,h,y,T)}function Fs(d){const e=pt(d);if(null===e.ue){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(l=>Ci(l)).join(","),i+="|ob:",i+=e.orderBy.map(l=>{return(y=l).field.canonicalString()+y.dir;var y}).join(","),re(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(l=>Wr(l)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(l=>Wr(l)).join(",")),e.ue=i}return e.ue}function Ro(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<d.orderBy.length;i++)if(!Ar(d.orderBy[i],e.orderBy[i]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let i=0;i<d.filters.length;i++)if(!Sr(d.filters[i],e.filters[i]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!fn(d.startAt,e.startAt)&&fn(d.endAt,e.endAt)}function Na(d){return Gt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function ka(d,e){return d.filters.filter(i=>i instanceof kn&&i.field.isEqual(e))}function yi(d,e,i){let l=zi,h=!0;for(const y of ka(d,e)){let T=zi,P=!0;switch(y.op){case"<":case"<=":T=Ji(y.value);break;case"==":case"in":case">=":T=y.value;break;case">":T=y.value,P=!1;break;case"!=":case"not-in":T=zi}J({value:l,inclusive:h},{value:T,inclusive:P})<0&&(l=T,h=P)}if(null!==i)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const T=i.position[y];J({value:l,inclusive:h},{value:T,inclusive:i.inclusive})<0&&(l=T,h=i.inclusive);break}return{value:l,inclusive:h}}function Po(d,e,i){let l=ri,h=!0;for(const y of ka(d,e)){let T=ri,P=!0;switch(y.op){case">=":case">":T=ee(y.value),P=!1;break;case"==":case"in":case"<=":T=y.value;break;case"<":T=y.value,P=!1;break;case"!=":case"not-in":T=ri}Se({value:l,inclusive:h},{value:T,inclusive:P})>0&&(l=T,h=P)}if(null!==i)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const T=i.position[y];Se({value:l,inclusive:h},{value:T,inclusive:i.inclusive})>0&&(l=T,h=i.inclusive);break}return{value:l,inclusive:h}}class $o{constructor(e,i=null,l=[],h=[],y=null,T="F",P=null,U=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=l,this.filters=h,this.limit=y,this.limitType=T,this.startAt=P,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function K(d,e,i,l,h,y,T,P){return new $o(d,e,i,l,h,y,T,P)}function te(d){return new $o(d)}function j(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ue(d){return null!==d.collectionGroup}function Be(d){const e=pt(d);if(null===e.ce){e.ce=[];const i=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),i.add(y.field.canonicalString());const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(T){let P=new wr(Xn.comparator);return T.filters.forEach(U=>{U.getFlattenedFilters().forEach(q=>{q.isInequality()&&(P=P.add(q.field))})}),P})(e).forEach(y=>{i.has(y.canonicalString())||y.isKeyField()||e.ce.push(new qn(y,l))}),i.has(Xn.keyField().canonicalString())||e.ce.push(new qn(Xn.keyField(),l))}return e.ce}function pn(d){const e=pt(d);return e.le||(e.le=function Is(d,e){if("F"===d.limitType)return hs(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new qn(h.field,"desc"===h.dir?"asc":"desc"));const i=d.endAt?new Yt(d.endAt.position,d.endAt.inclusive):null,l=d.startAt?new Yt(d.startAt.position,d.startAt.inclusive):null;return hs(d.path,d.collectionGroup,e,d.filters,d.limit,i,l)}}(e,Be(d))),e.le}function Zs(d,e){const i=d.filters.concat([e]);return new $o(d.path,d.collectionGroup,d.explicitOrderBy.slice(),i,d.limit,d.limitType,d.startAt,d.endAt)}function Zi(d,e,i){return new $o(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,i,d.startAt,d.endAt)}function uo(d,e){return Ro(pn(d),pn(e))&&d.limitType===e.limitType}function Ps(d){return`${Fs(pn(d))}|lt:${d.limitType}`}function es(d){return`Query(target=${function(i){let l=i.path.canonicalString();return null!==i.collectionGroup&&(l+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(l+=`, filters: [${i.filters.map(h=>wi(h)).join(", ")}]`),re(i.limit)||(l+=", limit: "+i.limit),i.orderBy.length>0&&(l+=`, orderBy: [${i.orderBy.map(h=>{return`${(T=h).field.canonicalString()} (${T.dir})`;var T}).join(", ")}]`),i.startAt&&(l+=", startAt: ",l+=i.startAt.inclusive?"b:":"a:",l+=i.startAt.position.map(h=>Wr(h)).join(",")),i.endAt&&(l+=", endAt: ",l+=i.endAt.inclusive?"a:":"b:",l+=i.endAt.position.map(h=>Wr(h)).join(",")),`Target(${l})`}(pn(d))}; limitType=${d.limitType})`}function Go(d,e){return e.isFoundDocument()&&function(l,h){const y=h.key.path;return null!==l.collectionGroup?h.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(y):Gt.isDocumentKey(l.path)?l.path.isEqual(y):l.path.isImmediateParentOf(y)}(d,e)&&function(l,h){for(const y of Be(l))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(l,h){for(const y of l.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((l=d).startAt&&!function(T,P,U){const q=In(T,P,U);return T.inclusive?q<=0:q<0}(l.startAt,Be(l),h)||l.endAt&&!function(T,P,U){const q=In(T,P,U);return T.inclusive?q>=0:q>0}(l.endAt,Be(l),h)));var l,h}function Xl(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function xs(d){return(e,i)=>{let l=!1;for(const h of Be(d)){const y=ga(h,e,i);if(0!==y)return y;l=l||h.field.isKeyField()}return 0}}function ga(d,e,i){const l=d.field.isKeyField()?Gt.comparator(e.key,i.key):function(y,T,P){const U=T.data.field(y),q=P.data.field(y);return null!==U&&null!==q?ki(U,q):Ot()}(d.field,e,i);switch(d.dir){case"asc":return l;case"desc":return-1*l;default:return Ot()}}class Wi{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0!==l)for(const[h,y]of l)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,i){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,i]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,i]);h.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[i]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(i,l)=>{for(const[h,y]of l)e(h,y)})}isEmpty(){return bs(this.inner)}size(){return this.innerSize}}const ia=new Yr(Gt.comparator);function ms(){return ia}const Za=new Yr(Gt.comparator);function ho(...d){let e=Za;for(const i of d)e=e.insert(i.key,i);return e}function sa(d){let e=Za;return d.forEach((i,l)=>e=e.insert(i,l.overlayedDocument)),e}function Cs(){return Fa()}function ma(){return Fa()}function Fa(){return new Wi(d=>d.toString(),(d,e)=>d.isEqual(e))}const bl=new Yr(Gt.comparator),vu=new wr(Gt.comparator);function gr(...d){let e=vu;for(const i of d)e=e.add(i);return e}const Tl=new wr(Qt);function mo(){return Tl}function _o(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pe(e)?"-0":e}}function el(d){return{integerValue:""+d}}function Eu(d,e){return dt(e)?el(e):_o(d,e)}class tl{constructor(){this._=void 0}}function jh(d,e,i){return d instanceof Il?function(h,y){const T={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&mi(y)&&(y=$i(y)),y&&(T.fields.__previous_value__=y),{mapValue:T}}(i,e):d instanceof Ho?Ql(d,e):d instanceof La?rl(d,e):function(h,y){const T=bu(h,y),P=Ua(T)+Ua(h.Pe);return Qi(T)&&Qi(h.Pe)?el(P):_o(h.serializer,P)}(d,e)}function nl(d,e,i){return d instanceof Ho?Ql(d,e):d instanceof La?rl(d,e):i}function bu(d,e){return d instanceof Va?Qi(l=e)||(y=l)&&"doubleValue"in y?e:{integerValue:0}:null;var l,y}class Il extends tl{}class Ho extends tl{constructor(e){super(),this.elements=e}}function Ql(d,e){const i=il(e);for(const l of d.elements)i.some(h=>ls(h,l))||i.push(l);return{arrayValue:{values:i}}}class La extends tl{constructor(e){super(),this.elements=e}}function rl(d,e){let i=il(e);for(const l of d.elements)i=i.filter(h=>!ls(h,l));return{arrayValue:{values:i}}}class Va extends tl{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function Ua(d){return ni(d.integerValue||d.doubleValue)}function il(d){return cs(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class M{constructor(e,i){this.field=e,this.transform=i}}class ${constructor(e,i){this.version=e,this.transformResults=i}}class X{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new X}static exists(e){return new X(void 0,e)}static updateTime(e){return new X(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ne(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class It{}function kt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Gi(d.key,X.none()):new mr(d.key,d.data,X.none());{const i=d.data,l=Le.empty();let h=new wr(Xn.comparator);for(let y of e.fields)if(!h.has(y)){let T=i.field(y);null===T&&y.length>1&&(y=y.popLast(),T=i.field(y)),null===T?l.delete(y):l.set(y,T),h=h.add(y)}return new ci(d.key,l,new fi(h.toArray()),X.none())}}function Ln(d,e,i){d instanceof mr?function(h,y,T){const P=h.value.clone(),U=Di(h.fieldTransforms,y,T.transformResults);P.setAll(U),y.convertToFoundDocument(T.version,P).setHasCommittedMutations()}(d,e,i):d instanceof ci?function(h,y,T){if(!Ne(h.precondition,y))return void y.convertToUnknownDocument(T.version);const P=Di(h.fieldTransforms,y,T.transformResults),U=y.data;U.setAll(Ai(h)),U.setAll(P),y.convertToFoundDocument(T.version,U).setHasCommittedMutations()}(d,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function Kr(d,e,i,l){return d instanceof mr?function(y,T,P,U){if(!Ne(y.precondition,T))return P;const q=y.value.clone(),ae=fs(y.fieldTransforms,U,T);return q.setAll(ae),T.convertToFoundDocument(T.version,q).setHasLocalMutations(),null}(d,e,i,l):d instanceof ci?function(y,T,P,U){if(!Ne(y.precondition,T))return P;const q=fs(y.fieldTransforms,U,T),ae=T.data;return ae.setAll(Ai(y)),ae.setAll(q),T.convertToFoundDocument(T.version,ae).setHasLocalMutations(),null===P?null:P.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(Ce=>Ce.field))}(d,e,i,l):(P=i,Ne(d.precondition,T=e)?(T.convertToNoDocument(T.version).setHasLocalMutations(),null):P);var T,P}function si(d,e){let i=null;for(const l of d.fieldTransforms){const h=e.data.field(l.field),y=bu(l.transform,h||null);null!=y&&(null===i&&(i=Le.empty()),i.set(l.field,y))}return i||null}function Zr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(l=d.fieldTransforms)&&void 0===h||l&&h&&Bn(l,h,(y,T)=>function ie(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(l=d.transform)instanceof Ho&&h instanceof Ho||l instanceof La&&h instanceof La?Bn(l.elements,h.elements,ls):l instanceof Va&&h instanceof Va?ls(l.Pe,h.Pe):l instanceof Il&&h instanceof Il);var l,h}(y,T))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var l,h}class mr extends It{constructor(e,i,l,h=[]){super(),this.key=e,this.value=i,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ci extends It{constructor(e,i,l,h,y=[]){super(),this.key=e,this.data=i,this.fieldMask=l,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Ai(d){const e=new Map;return d.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const l=d.data.field(i);e.set(i,l)}}),e}function Di(d,e,i){const l=new Map;Vt(d.length===i.length);for(let h=0;h<i.length;h++){const y=d[h],T=y.transform,P=e.data.field(y.field);l.set(y.field,nl(T,P,i[h]))}return l}function fs(d,e,i){const l=new Map;for(const h of d){const y=h.transform,T=i.data.field(h.field);l.set(h.field,jh(y,T,e))}return l}class Gi extends It{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class so extends It{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ki{constructor(e,i,l,h){this.batchId=e,this.localWriteTime=i,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,i){const l=i.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&Ln(y,e,l[h])}}applyToLocalView(e,i){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(i=Kr(l,e,i,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(i=Kr(l,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const l=ma();return this.mutations.forEach(h=>{const y=e.get(h.key),T=y.overlayedDocument;let P=this.applyToLocalView(T,y.mutatedFields);P=i.has(h.key)?null:P;const U=kt(T,P);null!==U&&l.set(h.key,U),T.isValidDocument()||T.convertToNoDocument(Ut.min())}),l}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),gr())}isEqual(e){return this.batchId===e.batchId&&Bn(this.mutations,e.mutations,(i,l)=>Zr(i,l))&&Bn(this.baseMutations,e.baseMutations,(i,l)=>Zr(i,l))}}class xo{constructor(e,i,l,h){this.batch=e,this.commitVersion=i,this.mutationResults=l,this.docVersions=h}static from(e,i,l){Vt(e.mutations.length===l.length);let h=bl;const y=e.mutations;for(let T=0;T<y.length;T++)h=h.insert(y[T].key,l[T].version);return new xo(e,i,l,h)}}class ts{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ad{constructor(e,i){this.count=e,this.unchangedNames=i}}var br,Rr;function Hs(d){switch(d){default:return Ot();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0}}function Ui(d){if(void 0===d)return Ze("GRPC error has no .code"),Ve.UNKNOWN;switch(d){case br.OK:return Ve.OK;case br.CANCELLED:return Ve.CANCELLED;case br.UNKNOWN:return Ve.UNKNOWN;case br.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case br.INTERNAL:return Ve.INTERNAL;case br.UNAVAILABLE:return Ve.UNAVAILABLE;case br.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case br.NOT_FOUND:return Ve.NOT_FOUND;case br.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case br.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case br.ABORTED:return Ve.ABORTED;case br.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case br.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case br.DATA_LOSS:return Ve.DATA_LOSS;default:return Ot()}}(Rr=br||(br={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";function Tu(){return new TextEncoder}const sl=new Pe([4294967295,4294967295],0);function Hi(d){const e=Tu().encode(d),i=new Me;return i.update(e),new Uint8Array(i.digest())}function Bh(d){const e=new DataView(d.buffer),i=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Pe([i,l],0),new Pe([h,y],0)]}class Iu{constructor(e,i,l){if(this.bitmap=e,this.padding=i,this.hashCount=l,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(l<0)throw new Mo(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new Mo(`Invalid hash count: ${l}`);if(0===e.length&&0!==i)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Pe.fromNumber(this.Ie)}Ee(e,i,l){let h=e.add(i.multiply(Pe.fromNumber(l)));return 1===h.compare(sl)&&(h=new Pe([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const i=Hi(e),[l,h]=Bh(i);for(let y=0;y<this.hashCount;y++){const T=this.Ee(l,h,y);if(!this.de(T))return!1}return!0}static create(e,i,l){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),T=new Iu(y,h,i);return l.forEach(P=>T.insert(P)),T}insert(e){if(0===this.Ie)return;const i=Hi(e),[l,h]=Bh(i);for(let y=0;y<this.hashCount;y++){const T=this.Ee(l,h,y);this.Ae(T)}}Ae(e){const i=Math.floor(e/8);this.bitmap[i]|=1<<e%8}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ws{constructor(e,i,l,h,y){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,i,l){const h=new Map;return h.set(e,_a.createSynthesizedTargetChangeForCurrentChange(e,i,l)),new ws(Ut.min(),h,new Yr(Qt),ms(),gr())}}class _a{constructor(e,i,l,h,y){this.resumeToken=e,this.current=i,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,i,l){return new _a(l,i,gr(),gr(),gr())}}class Jl{constructor(e,i,l,h){this.Re=e,this.removedTargetIds=i,this.key=l,this.Ve=h}}class Cu{constructor(e,i){this.targetId=e,this.me=i}}class wu{constructor(e,i,l=Pi.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=i,this.resumeToken=l,this.cause=h}}class Dd{constructor(){this.fe=0,this.ge=Zl(),this.pe=Pi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=gr(),i=gr(),l=gr();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:i=i.add(h);break;case 1:l=l.add(h);break;default:Ot()}}),new _a(this.pe,this.ye,e,i,l)}Ce(){this.we=!1,this.ge=Zl()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Au{constructor(e){this.Le=e,this.Be=new Map,this.ke=ms(),this.qe=or(),this.Qe=new Yr(Qt)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{const l=this.Ge(i);switch(e.state){case 0:this.ze(i)&&l.De(e.resumeToken);break;case 1:l.Oe(),l.Se||l.Ce(),l.De(e.resumeToken);break;case 2:l.Oe(),l.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(l.Ne(),l.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),l.De(e.resumeToken));break;default:Ot()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((l,h)=>{this.ze(h)&&i(h)})}He(e){const i=e.targetId,l=e.me.count,h=this.Je(i);if(h){const y=h.target;if(Na(y))if(0===l){const T=new Gt(y.path);this.Ue(i,T,_t.newNoDocument(T,Ut.min()))}else Vt(1===l);else{const T=this.Ye(i);if(T!==l){const P=this.Ze(e),U=P?this.Xe(P,e,T):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:l="",padding:h=0},hashCount:y=0}=i;let T,P;try{T=$s(l).toUint8Array()}catch(U){if(U instanceof Oa)return Xt("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{P=new Iu(T,h,y)}catch(U){return Xt(U instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===P.Ie?null:P}Xe(e,i,l){return i.me.count===l-this.nt(e,i.targetId)?0:2}nt(e,i){const l=this.Le.getRemoteKeysForTarget(i);let h=0;return l.forEach(y=>{const T=this.Le.tt(),P=`projects/${T.projectId}/databases/${T.database}/documents/${y.path.canonicalString()}`;e.mightContain(P)||(this.Ue(i,y,null),h++)}),h}rt(e){const i=new Map;this.Be.forEach((y,T)=>{const P=this.Je(T);if(P){if(y.current&&Na(P.target)){const U=new Gt(P.target.path);null!==this.ke.get(U)||this.it(T,U)||this.Ue(T,U,_t.newNoDocument(U,e))}y.be&&(i.set(T,y.ve()),y.Ce())}});let l=gr();this.qe.forEach((y,T)=>{let P=!0;T.forEachWhile(U=>{const q=this.Je(U);return!q||"TargetPurposeLimboResolution"===q.purpose||(P=!1,!1)}),P&&(l=l.add(y))}),this.ke.forEach((y,T)=>T.setReadTime(e));const h=new ws(e,i,this.Qe,this.ke,l);return this.ke=ms(),this.qe=or(),this.Qe=new Yr(Qt),h}$e(e,i){if(!this.ze(e))return;const l=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,l),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,l){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,i)?h.Fe(i,1):h.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),l&&(this.ke=this.ke.insert(i,l))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new Dd,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new wr(Qt),this.qe=this.qe.insert(e,i)),i}ze(e){const i=null!==this.Je(e);return i||Ie("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Dd),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function or(){return new Yr(Gt.comparator)}function Zl(){return new Yr(Gt.comparator)}const Nc={asc:"ASCENDING",desc:"DESCENDING"},zo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kc={and:"AND",or:"OR"};class Sd{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Zt(d,e){return d.useProto3Json||re(e)?e:{value:e}}function Oo(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Du(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function ec(d,e){return Oo(d,e.toTimestamp())}function Si(d){return Vt(!!d),Ut.fromTimestamp(function(i){const l=Xs(i);return new zt(l.seconds,l.nanos)}(d))}function ya(d,e){return Su(d,e).canonicalString()}function Su(d,e){const i=(h=d,new sn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?i:i.child(e)}function jt(d){const e=sn.fromString(d);return Vt(w(e)),e}function Cr(d,e){return ya(d.databaseId,e.path)}function $n(d,e){const i=jt(e);if(i.get(1)!==d.databaseId.projectId)throw new st(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+d.databaseId.projectId);if(i.get(3)!==d.databaseId.database)throw new st(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+d.databaseId.database);return new Gt(ol(i))}function qi(d,e){return ya(d.databaseId,e)}function zs(d){const e=jt(d);return 4===e.length?sn.emptyPath():ol(e)}function Fc(d){return new sn(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function ol(d){return Vt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function No(d,e,i){return{name:Cr(d,e),fields:i.value.mapValue.fields}}function tc(d,e,i){const l=$n(d,e.name),h=Si(e.updateTime),y=e.createTime?Si(e.createTime):Ut.min(),T=new Le({mapValue:{fields:e.fields}}),P=_t.newFoundDocument(l,h,y,T);return i&&P.setHasCommittedMutations(),i?P.setHasCommittedMutations():P}function al(d,e){let i;if(e instanceof mr)i={update:No(d,e.key,e.value)};else if(e instanceof Gi)i={delete:Cr(d,e.key)};else if(e instanceof ci)i={update:No(d,e.key,e.data),updateMask:k(e.fieldMask)};else{if(!(e instanceof so))return Ot();i={verify:Cr(d,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(l=>function(y,T){const P=T.transform;if(P instanceof Il)return{fieldPath:T.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Ho)return{fieldPath:T.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof La)return{fieldPath:T.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Va)return{fieldPath:T.field.canonicalString(),increment:P.Pe};throw Ot()}(0,l))),e.precondition.isNone||(i.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:ec(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Ot()),i;var y}function ll(d,e){const i=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?X.updateTime(Si(y.updateTime)):void 0!==y.exists?X.exists(y.exists):X.none():X.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(T,P){let U=null;"setToServerValue"in P?(Vt("REQUEST_TIME"===P.setToServerValue),U=new Il):"appendMissingElements"in P?U=new Ho(P.appendMissingElements.values||[]):"removeAllFromArray"in P?U=new La(P.removeAllFromArray.values||[]):"increment"in P?U=new Va(T,P.increment):Ot();const q=Xn.fromServerFormat(P.fieldPath);return new M(q,U)}(d,h)):[];var y;if(e.update){const h=$n(d,e.update.name),y=new Le({mapValue:{fields:e.update.fields}});if(e.updateMask){const T=new fi((e.updateMask.fieldPaths||[]).map(ae=>Xn.fromServerFormat(ae)));return new ci(h,y,T,i,l)}return new mr(h,y,i,l)}if(e.delete){const h=$n(d,e.delete);return new Gi(h,i)}if(e.verify){const h=$n(d,e.verify);return new so(h,i)}return Ot()}function fo(d,e){return{documents:[qi(d,e.path)]}}function ja(d,e){const i={structuredQuery:{}},l=e.path;let h;null!==e.collectionGroup?(h=l,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=l.popLast(),i.structuredQuery.from=[{collectionId:l.lastSegment()}]),i.parent=qi(d,h);const y=function(q){if(0!==q.length)return S(Zn.create(q,"and"))}(e.filters);y&&(i.structuredQuery.where=y);const T=function(q){if(0!==q.length)return q.map(ae=>{return{field:va((ze=ae).field),direction:tp(ze.dir)};var ze})}(e.orderBy);T&&(i.structuredQuery.orderBy=T);const P=Zt(d,e.limit);return null!==P&&(i.structuredQuery.limit=P),e.startAt&&(i.structuredQuery.startAt={before:(q=e.startAt).inclusive,values:q.position}),e.endAt&&(i.structuredQuery.endAt=function(q){return{before:!q.inclusive,values:q.position}}(e.endAt)),{_t:i,parent:h};var q}function po(d){let e=zs(d.parent);const i=d.structuredQuery,l=i.from?i.from.length:0;let h=null;if(l>0){Vt(1===l);const ae=i.from[0];ae.allDescendants?h=ae.collectionId:e=e.child(ae.collectionId)}let y=[];i.where&&(y=function(Ce){const ze=ul(Ce);return ze instanceof Zn&&Jr(ze)?ze.getFilters():[ze]}(i.where));let T=[];i.orderBy&&(T=i.orderBy.map(ze=>{return new qn(Cl((Ht=ze).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let P=null;i.limit&&(P=function(Ce){let ze;return ze="object"==typeof Ce?Ce.value:Ce,re(ze)?null:ze}(i.limit));let U=null;var Ce;i.startAt&&(U=new Yt((Ce=i.startAt).values||[],!!Ce.before));let q=null;return i.endAt&&(q=function(Ce){return new Yt(Ce.values||[],!Ce.before)}(i.endAt)),K(e,h,T,y,P,"F",U,q)}function ul(d){return void 0!==d.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const l=Cl(i.unaryFilter.field);return kn.create(l,"==",{doubleValue:NaN});case"IS_NULL":const h=Cl(i.unaryFilter.field);return kn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Cl(i.unaryFilter.field);return kn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const T=Cl(i.unaryFilter.field);return kn.create(T,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(d):void 0!==d.fieldFilter?kn.create(Cl((i=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==d.compositeFilter?function(i){return Zn.create(i.compositeFilter.filters.map(l=>ul(l)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Ot()}}(i.compositeFilter.op))}(d):Ot();var i}function tp(d){return Nc[d]}function dl(d){return zo[d]}function Pu(d){return kc[d]}function va(d){return{fieldPath:d.canonicalString()}}function Cl(d){return Xn.fromServerFormat(d.fieldPath)}function S(d){return d instanceof kn?function(i){if("=="===i.op){if(Gs(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NAN"}};if(Fi(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Gs(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NOT_NAN"}};if(Fi(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(i.field),op:dl(i.op),value:i.value}}}(d):d instanceof Zn?function(i){const l=i.getFilters().map(h=>S(h));return 1===l.length?l[0]:{compositeFilter:{op:Pu(i.op),filters:l}}}(d):Ot()}function k(d){const e=[];return d.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class F{constructor(e,i,l,h,y=Ut.min(),T=Ut.min(),P=Pi.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=i,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=P,this.expectedCount=U}withSequenceNumber(e){return new F(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Oe(d,e){const i=e.key,l={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:wt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:Cr(y=d.ct,(T=e).key),fields:T.data.value.mapValue.fields,updateTime:Oo(y,T.version.toTimestamp()),createTime:Oo(y,T.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:i.path.toArray(),readTime:yt(e.version)};else{if(!e.isUnknownDocument())return Ot();l.unknownDocument={path:i.path.toArray(),version:yt(e.version)}}var y,T;return l}function wt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function yt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yn(d){const e=new zt(d.seconds,d.nanoseconds);return Ut.fromTimestamp(e)}function _r(d,e){const i=(e.baseMutations||[]).map(y=>ll(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const l=e.mutations.map(y=>ll(d.ct,y)),h=zt.fromMillis(e.localWriteTimeMs);return new Ki(e.batchId,h,i,l)}function rr(d){const e=yn(d.readTime),i=void 0!==d.lastLimboFreeSnapshotVersion?yn(d.lastLimboFreeSnapshotVersion):Ut.min();let l;return l=void 0!==d.query.documents?(Vt(1===(y=d.query).documents.length),pn(te(zs(y.documents[0])))):function(y){return pn(po(y))}(d.query),new F(l,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,i,Pi.fromBase64String(d.resumeToken));var y}function Or(d,e){const i=yt(e.snapshotVersion),l=yt(e.lastLimboFreeSnapshotVersion);let h;h=Na(e.target)?fo(d.ct,e.target):ja(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fs(e.target),readTime:i,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function pi(d){const e=po({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?Zi(e,e.limit,"L"):e}function hl(d,e){return new ts(e.largestBatchId,ll(d.ct,e.overlayMutation))}function wl(d,e){const i=e.path.lastSegment();return[d,Pt(e.path.popLast()),i]}function Ea(d,e,i,l){return{indexId:d,uid:e,sequenceNumber:i,readTime:yt(l.readTime),documentKey:Pt(l.documentKey.path),largestBatchId:l.largestBatchId}}class Wo{getBundleMetadata(e,i){return Ba(e).get(i).next(l=>{if(l)return{id:(y=l).bundleId,createTime:yn(y.createTime),version:y.version};var y})}saveBundleMetadata(e,i){return Ba(e).put({bundleId:(h=i).id,createTime:yt(Si(h.createTime)),version:h.version});var h}getNamedQuery(e,i){return Lc(e).get(i).next(l=>{if(l)return{name:(y=l).name,query:pi(y.bundledQuery),readTime:yn(y.readTime)};var y})}saveNamedQuery(e,i){return Lc(e).put({name:(h=i).name,readTime:yt(Si(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Ba(d){return ji(d,"bundles")}function Lc(d){return ji(d,"namedQueries")}class fl{constructor(e,i){this.serializer=e,this.userId=i}static lt(e,i){return new fl(e,i.uid||"")}getOverlay(e,i){return ko(e).get(wl(this.userId,i)).next(l=>l?hl(this.serializer,l):null)}getOverlays(e,i){const l=Cs();return at.forEach(i,h=>this.getOverlay(e,h).next(y=>{null!==y&&l.set(h,y)})).next(()=>l)}saveOverlays(e,i,l){const h=[];return l.forEach((y,T)=>{const P=new ts(i,T);h.push(this.ht(e,P))}),at.waitFor(h)}removeOverlaysForBatchId(e,i,l){const h=new Set;i.forEach(T=>h.add(Pt(T.getCollectionPath())));const y=[];return h.forEach(T=>{const P=IDBKeyRange.bound([this.userId,T,l],[this.userId,T,l+1],!1,!0);y.push(ko(e).j("collectionPathOverlayIndex",P))}),at.waitFor(y)}getOverlaysForCollection(e,i,l){const h=Cs(),y=Pt(i),T=IDBKeyRange.bound([this.userId,y,l],[this.userId,y,Number.POSITIVE_INFINITY],!0);return ko(e).U("collectionPathOverlayIndex",T).next(P=>{for(const U of P){const q=hl(this.serializer,U);h.set(q.getKey(),q)}return h})}getOverlaysForCollectionGroup(e,i,l,h){const y=Cs();let T;const P=IDBKeyRange.bound([this.userId,i,l],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ko(e).J({index:"collectionGroupOverlayIndex",range:P},(U,q,ae)=>{const Ce=hl(this.serializer,q);y.size()<h||Ce.largestBatchId===T?(y.set(Ce.getKey(),Ce),T=Ce.largestBatchId):ae.done()}).next(()=>y)}ht(e,i){return ko(e).put(function(h,y,T){const[P,U,q]=wl(y,T.mutation.key);return{userId:y,collectionPath:U,documentId:q,collectionGroup:T.mutation.key.getCollectionGroup(),largestBatchId:T.largestBatchId,overlayMutation:al(h.ct,T.mutation)}}(this.serializer,this.userId,i))}}function ko(d){return ji(d,"documentOverlays")}class $h{Pt(e){return ji(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(i=>{const l=i?.value;return l?Pi.fromUint8Array(l):Pi.EMPTY_BYTE_STRING})}setSessionToken(e,i){return this.Pt(e).put({name:"sessionToken",value:i.toUint8Array()})}}class $a{constructor(){}It(e,i){this.Tt(e,i),i.Et()}Tt(e,i){if("nullValue"in e)this.dt(i,5);else if("booleanValue"in e)this.dt(i,10),i.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(i,15),i.At(ni(e.integerValue));else if("doubleValue"in e){const l=ni(e.doubleValue);isNaN(l)?this.dt(i,13):(this.dt(i,15),pe(l)?i.At(0):i.At(l))}else if("timestampValue"in e){let l=e.timestampValue;this.dt(i,20),"string"==typeof l&&(l=Xs(l)),i.Rt(`${l.seconds||""}`),i.At(l.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,i),this.ft(i);else if("bytesValue"in e)this.dt(i,30),i.gt($s(e.bytesValue)),this.ft(i);else if("referenceValue"in e)this.yt(e.referenceValue,i);else if("geoPointValue"in e){const l=e.geoPointValue;this.dt(i,45),i.At(l.latitude||0),i.At(l.longitude||0)}else"mapValue"in e?jn(e)?this.dt(i,Number.MAX_SAFE_INTEGER):us(e)?this.wt(e.mapValue,i):(this.St(e.mapValue,i),this.ft(i)):"arrayValue"in e?(this.bt(e.arrayValue,i),this.ft(i)):Ot()}Vt(e,i){this.dt(i,25),this.Dt(e,i)}Dt(e,i){i.Rt(e)}St(e,i){const l=e.fields||{};this.dt(i,55);for(const h of Object.keys(l))this.Vt(h,i),this.Tt(l[h],i)}wt(e,i){var l,h;const y=e.fields||{};this.dt(i,53);const T="value",P=(null===(h=null===(l=y[T].arrayValue)||void 0===l?void 0:l.values)||void 0===h?void 0:h.length)||0;this.dt(i,15),i.At(ni(P)),this.Vt(T,i),this.Tt(y[T],i)}bt(e,i){const l=e.values||[];this.dt(i,50);for(const h of l)this.Tt(h,i)}yt(e,i){this.dt(i,37),Gt.fromName(e).path.forEach(l=>{this.dt(i,60),this.Dt(l,i)})}dt(e,i){e.At(i)}ft(e){e.At(2)}}function Vc(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function xu(d){const e=64-function(l){let h=0;for(let y=0;y<8;++y){const T=Vc(255&l[y]);if(h+=T,8!==T)break}return h}(d);return Math.ceil(e/8)}$a.vt=new $a;class Mu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const i=e[Symbol.iterator]();let l=i.next();for(;!l.done;)this.Ft(l.value),l=i.next();this.Mt()}xt(e){const i=e[Symbol.iterator]();let l=i.next();for(;!l.done;)this.Ot(l.value),l=i.next();this.Nt()}Lt(e){for(const i of e){const l=i.charCodeAt(0);if(l<128)this.Ft(l);else if(l<2048)this.Ft(960|l>>>6),this.Ft(128|63&l);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l);else{const h=i.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const i of e){const l=i.charCodeAt(0);if(l<128)this.Ot(l);else if(l<2048)this.Ot(960|l>>>6),this.Ot(128|63&l);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|l>>>12),this.Ot(128|63&l>>>6),this.Ot(128|63&l);else{const h=i.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const i=this.qt(e),l=xu(i);this.Qt(1+l),this.buffer[this.position++]=255&l;for(let h=i.length-l;h<i.length;++h)this.buffer[this.position++]=255&i[h]}Kt(e){const i=this.qt(e),l=xu(i);this.Qt(1+l),this.buffer[this.position++]=~(255&l);for(let h=i.length-l;h<i.length;++h)this.buffer[this.position++]=~(255&i[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const i=function(y){const T=new DataView(new ArrayBuffer(8));return T.setFloat64(0,y,!1),new Uint8Array(T.buffer)}(e),l=0!=(128&i[0]);i[0]^=l?255:128;for(let h=1;h<i.length;++h)i[h]^=l?255:0;return i}Ft(e){const i=255&e;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(e){const i=255&e;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const i=e+this.position;if(i<=this.buffer.length)return;let l=2*this.buffer.length;l<i&&(l=i);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class Ou{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Nu{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Al{constructor(){this.jt=new Mu,this.Ht=new Ou(this.jt),this.Jt=new Nu(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Fo{constructor(e,i,l,h){this.indexId=e,this.documentKey=i,this.arrayValue=l,this.directionalValue=h}Zt(){const e=this.directionalValue.length,i=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(i);return l.set(this.directionalValue,0),i!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new Fo(this.indexId,this.documentKey,this.arrayValue,l)}}function oa(d,e){let i=d.indexId-e.indexId;return 0!==i?i:(i=Dl(d.arrayValue,e.arrayValue),0!==i?i:(i=Dl(d.directionalValue,e.directionalValue),0!==i?i:Gt.comparator(d.documentKey,e.documentKey)))}function Dl(d,e){for(let i=0;i<d.length&&i<e.length;++i){const l=d[i]-e[i];if(0!==l)return l}return d.length-e.length}class Gh{constructor(e){this.Xt=new wr((i,l)=>Xn.comparator(i.field,l.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const i of e.filters){const l=i;l.isInequality()?this.Xt=this.Xt.add(l):this.tn.push(l)}}get nn(){return this.Xt.size>1}rn(e){if(Vt(e.collectionGroup===this.collectionId),this.nn)return!1;const i=Gn(e);if(void 0!==i&&!this.sn(i))return!1;const l=Tn(e);let h=new Set,y=0,T=0;for(;y<l.length&&this.sn(l[y]);++y)h=h.add(l[y].fieldPath.canonicalString());if(y===l.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!h.has(P.field.canonicalString())){const U=l[y];if(!this.on(P,U)||!this._n(this.en[T++],U))return!1}++y}for(;y<l.length;++y)if(T>=this.en.length||!this._n(this.en[T++],l[y]))return!1;return!0}an(){if(this.nn)return null;let e=new wr(Xn.comparator);const i=[];for(const l of this.tn)if(!l.field.isKeyField())if("array-contains"===l.op||"array-contains-any"===l.op)i.push(new Dr(l.field,2));else{if(e.has(l.field))continue;e=e.add(l.field),i.push(new Dr(l.field,0))}for(const l of this.en)l.field.isKeyField()||e.has(l.field)||(e=e.add(l.field),i.push(new Dr(l.field,"asc"===l.dir?0:1)));return new En(En.UNKNOWN_ID,this.collectionId,i,zn.empty())}sn(e){for(const i of this.tn)if(this.on(i,e))return!0;return!1}on(e,i){return!(void 0===e||!e.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,i){return!!e.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===e.dir||1===i.kind&&"desc"===e.dir)}}function xd(d){var e,i;if(Vt(d instanceof kn||d instanceof Zn),d instanceof kn){if(d instanceof na){const h=(null===(i=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===i?void 0:i.map(y=>kn.create(d.field,"==",y)))||[];return Zn.create(h,"or")}return d}const l=d.filters.map(h=>xd(h));return Zn.create(l,d.op)}function Rg(d){if(0===d.getFilters().length)return[];const e=rp(xd(d));return Vt(np(e)),Md(e)||ku(e)?[e]:e.getFilters()}function Md(d){return d instanceof kn}function ku(d){return d instanceof Zn&&Jr(d)}function np(d){return Md(d)||ku(d)||function(i){if(i instanceof Zn&&ii(i)){for(const l of i.getFilters())if(!Md(l)&&!ku(l))return!1;return!0}return!1}(d)}function rp(d){if(Vt(d instanceof kn||d instanceof Zn),d instanceof kn)return d;if(1===d.filters.length)return rp(d.filters[0]);const e=d.filters.map(l=>rp(l));let i=Zn.create(e,d.op);return i=Od(i),np(i)?i:(Vt(i instanceof Zn),Vt(kr(i)),Vt(i.filters.length>1),i.filters.reduce((l,h)=>Fu(l,h)))}function Fu(d,e){let i;return Vt(d instanceof kn||d instanceof Zn),Vt(e instanceof kn||e instanceof Zn),i=d instanceof kn?e instanceof kn?Zn.create([d,e],"and"):Sl(d,e):e instanceof kn?Sl(e,d):function(h,y){if(Vt(h.filters.length>0&&y.filters.length>0),kr(h)&&kr(y))return Ii(h,y.getFilters());const T=ii(h)?h:y,P=ii(h)?y:h,U=T.filters.map(q=>Fu(q,P));return Zn.create(U,"or")}(d,e),Od(i)}function Sl(d,e){if(kr(e))return Ii(e,d.getFilters());{const i=e.filters.map(l=>Fu(d,l));return Zn.create(i,"or")}}function Od(d){if(Vt(d instanceof kn||d instanceof Zn),d instanceof kn)return d;const e=d.getFilters();if(1===e.length)return Od(e[0]);if(Vi(d))return d;const i=e.map(h=>Od(h)),l=[];return i.forEach(h=>{h instanceof kn?l.push(h):h instanceof Zn&&(h.op===d.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:Zn.create(l,d.op)}class nc{constructor(){this.un=new Lu}addToCollectionParentIndex(e,i){return this.un.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(dn.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(dn.min())}updateCollectionGroup(e,i,l){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class Lu{constructor(){this.index={}}add(e){const i=e.lastSegment(),l=e.popLast(),h=this.index[i]||new wr(sn.comparator),y=!h.has(l);return this.index[i]=h.add(l),y}has(e){const i=e.lastSegment(),l=e.popLast(),h=this.index[i];return h&&h.has(l)}getEntries(e){return(this.index[e]||new wr(sn.comparator)).toArray()}}const Ko=new Uint8Array(0);class ip{constructor(e,i){this.databaseId=i,this.cn=new Lu,this.ln=new Wi(l=>Fs(l),(l,h)=>Ro(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.cn.has(i)){const l=i.lastSegment(),h=i.popLast();e.addOnCommittedListener(()=>{this.cn.add(i)});const y={collectionId:l,parent:Pt(h)};return sp(e).put(y)}return at.resolve()}getCollectionParents(e,i){const l=[],h=IDBKeyRange.bound([i,""],[xn(i),""],!1,!0);return sp(e).U(h).next(y=>{for(const T of y){if(T.collectionId!==i)break;l.push(wn(T.parent))}return l})}addFieldIndex(e,i){const l=Vu(e),h={indexId:(P=i).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var P;delete h.indexId;const y=l.add(h);if(i.indexState){const T=vo(e);return y.next(P=>{T.put(Ea(P,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return y.next()}deleteFieldIndex(e,i){const l=Vu(e),h=vo(e),y=yo(e);return l.delete(i.indexId).next(()=>h.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const i=Vu(e),l=yo(e),h=vo(e);return i.j().next(()=>l.j()).next(()=>h.j())}createTargetIndexes(e,i){return at.forEach(this.hn(i),l=>this.getIndexType(e,l).next(h=>{if(0===h||1===h){const y=new Gh(l).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,i){const l=yo(e);let h=!0;const y=new Map;return at.forEach(this.hn(i),T=>this.Pn(e,T).next(P=>{h&&(h=!!P),y.set(T,P)})).next(()=>{if(h){let T=gr();const P=[];return at.forEach(y,(U,q)=>{var Qn;Ie("IndexedDbIndexManager",`Using index ${Qn=U,`id=${Qn.indexId}|cg=${Qn.collectionGroup}|f=${Qn.fields.map(Nr=>`${Nr.fieldPath}:${Nr.kind}`).join(",")}`} to execute ${Fs(i)}`);const ae=function(Qn,Nr){const Oi=Gn(Nr);if(void 0===Oi)return null;for(const oi of ka(Qn,Oi.fieldPath))switch(oi.op){case"array-contains-any":return oi.value.arrayValue.values||[];case"array-contains":return[oi.value]}return null}(q,U),Ce=function(Qn,Nr){const Oi=new Map;for(const oi of Tn(Nr))for(const ht of ka(Qn,oi.fieldPath))switch(ht.op){case"==":case"in":Oi.set(oi.fieldPath.canonicalString(),ht.value);break;case"not-in":case"!=":return Oi.set(oi.fieldPath.canonicalString(),ht.value),Array.from(Oi.values())}return null}(q,U),ze=function(Qn,Nr){const Oi=[];let oi=!0;for(const ht of Tn(Nr)){const Ue=0===ht.kind?yi(Qn,ht.fieldPath,Qn.startAt):Po(Qn,ht.fieldPath,Qn.startAt);Oi.push(Ue.value),oi&&(oi=Ue.inclusive)}return new Yt(Oi,oi)}(q,U),Ct=function(Qn,Nr){const Oi=[];let oi=!0;for(const ht of Tn(Nr)){const Ue=0===ht.kind?Po(Qn,ht.fieldPath,Qn.endAt):yi(Qn,ht.fieldPath,Qn.endAt);Oi.push(Ue.value),oi&&(oi=Ue.inclusive)}return new Yt(Oi,oi)}(q,U),Ht=this.In(U,q,ze),cn=this.In(U,q,Ct),nn=this.Tn(U,q,Ce),Kn=this.En(U.indexId,ae,Ht,ze.inclusive,cn,Ct.inclusive,nn);return at.forEach(Kn,ar=>l.G(ar,i.limit).next(Qn=>{Qn.forEach(Nr=>{const Oi=Gt.fromSegments(Nr.documentKey);T.has(Oi)||(T=T.add(Oi),P.push(Oi))})}))}).next(()=>P)}return at.resolve(null)})}hn(e){let i=this.ln.get(e);return i||(i=0===e.filters.length?[e]:Rg(Zn.create(e.filters,"and")).map(l=>hs(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,i),i)}En(e,i,l,h,y,T,P){const U=(null!=i?i.length:1)*Math.max(l.length,y.length),q=U/(null!=i?i.length:1),ae=[];for(let Ce=0;Ce<U;++Ce){const ze=i?this.dn(i[Ce/q]):Ko,Ct=this.An(e,ze,l[Ce%q],h),Ht=this.Rn(e,ze,y[Ce%q],T),cn=P.map(nn=>this.An(e,ze,nn,!0));ae.push(...this.createRange(Ct,Ht,cn))}return ae}An(e,i,l,h){const y=new Fo(e,Gt.empty(),i,l);return h?y:y.Zt()}Rn(e,i,l,h){const y=new Fo(e,Gt.empty(),i,l);return h?y.Zt():y}Pn(e,i){const l=new Gh(i),h=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let T=null;for(const P of y)l.rn(P)&&(!T||P.fields.length>T.fields.length)&&(T=P);return T})}getIndexType(e,i){let l=2;const h=this.hn(i);return at.forEach(h,y=>this.Pn(e,y).next(T=>{T?0!==l&&T.fields.length<function(U){let q=new wr(Xn.comparator),ae=!1;for(const Ce of U.filters)for(const ze of Ce.getFlattenedFilters())ze.field.isKeyField()||("array-contains"===ze.op||"array-contains-any"===ze.op?ae=!0:q=q.add(ze.field));for(const Ce of U.orderBy)Ce.field.isKeyField()||(q=q.add(Ce.field));return q.size+(ae?1:0)}(y)&&(l=1):l=0})).next(()=>null!==i.limit&&h.length>1&&2===l?1:l)}Vn(e,i){const l=new Al;for(const h of Tn(e)){const y=i.data.field(h.fieldPath);if(null==y)return null;const T=l.Yt(h.kind);$a.vt.It(y,T)}return l.zt()}dn(e){const i=new Al;return $a.vt.It(e,i.Yt(0)),i.zt()}mn(e,i){const l=new Al;return $a.vt.It(ur(this.databaseId,i),l.Yt(function(y){const T=Tn(y);return 0===T.length?0:T[T.length-1].kind}(e))),l.zt()}Tn(e,i,l){if(null===l)return[];let h=[];h.push(new Al);let y=0;for(const T of Tn(e)){const P=l[y++];for(const U of h)if(this.fn(i,T.fieldPath)&&cs(P))h=this.gn(h,T,P);else{const q=U.Yt(T.kind);$a.vt.It(P,q)}}return this.pn(h)}In(e,i,l){return this.Tn(e,i,l.position)}pn(e){const i=[];for(let l=0;l<e.length;++l)i[l]=e[l].zt();return i}gn(e,i,l){const h=[...e],y=[];for(const T of l.arrayValue.values||[])for(const P of h){const U=new Al;U.seed(P.zt()),$a.vt.It(T,U.Yt(i.kind)),y.push(U)}return y}fn(e,i){return!!e.filters.find(l=>l instanceof kn&&l.field.isEqual(i)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,i){const l=Vu(e),h=vo(e);return(i?l.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):l.U()).next(y=>{const T=[];return at.forEach(y,P=>h.get([P.indexId,this.uid]).next(U=>{T.push(function(ae,Ce){const ze=Ce?new zn(Ce.sequenceNumber,new dn(yn(Ce.readTime),new Gt(wn(Ce.documentKey)),Ce.largestBatchId)):zn.empty(),Ct=ae.fields.map(([Ht,cn])=>new Dr(Xn.fromServerFormat(Ht),cn));return new En(ae.indexId,ae.collectionGroup,Ct,ze)}(P,U))})).next(()=>T)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((l,h)=>{const y=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:Qt(l.collectionGroup,h.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,l){const h=Vu(e),y=vo(e);return this.yn(e).next(T=>h.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(P=>at.forEach(P,U=>y.put(Ea(U.indexId,this.uid,T,l)))))}updateIndexEntries(e,i){const l=new Map;return at.forEach(i,(h,y)=>{const T=l.get(h.collectionGroup);return(T?at.resolve(T):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(l.set(h.collectionGroup,P),at.forEach(P,U=>this.wn(e,h,U).next(q=>{const ae=this.Sn(y,U);return q.isEqual(ae)?at.resolve():this.bn(e,y,U,q,ae)}))))})}Dn(e,i,l,h){return yo(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(l,i.key),documentKey:i.key.path.toArray()})}vn(e,i,l,h){return yo(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(l,i.key),i.key.path.toArray()])}wn(e,i,l){const h=yo(e);let y=new wr(oa);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.mn(l,i)])},(T,P)=>{y=y.add(new Fo(l.indexId,i,P.arrayValue,P.directionalValue))}).next(()=>y)}Sn(e,i){let l=new wr(oa);const h=this.Vn(i,e);if(null==h)return l;const y=Gn(i);if(null!=y){const T=e.data.field(y.fieldPath);if(cs(T))for(const P of T.arrayValue.values||[])l=l.add(new Fo(i.indexId,e.key,this.dn(P),h))}else l=l.add(new Fo(i.indexId,e.key,Ko,h));return l}bn(e,i,l,h,y){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const T=[];return function(U,q,ae,Ce,ze){const Ct=U.getIterator(),Ht=q.getIterator();let cn=So(Ct),nn=So(Ht);for(;cn||nn;){let Kn=!1,ar=!1;if(cn&&nn){const Qn=ae(cn,nn);Qn<0?ar=!0:Qn>0&&(Kn=!0)}else null!=cn?ar=!0:Kn=!0;Kn?(Ce(nn),nn=So(Ht)):ar?(ze(cn),cn=So(Ct)):(cn=So(Ct),nn=So(Ht))}}(h,y,oa,P=>{T.push(this.Dn(e,i,l,P))},P=>{T.push(this.vn(e,i,l,P))}),at.waitFor(T)}yn(e){let i=1;return vo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,y)=>{y.done(),i=h.sequenceNumber+1}).next(()=>i)}createRange(e,i,l){l=l.sort((T,P)=>oa(T,P)).filter((T,P,U)=>!P||0!==oa(T,U[P-1]));const h=[];h.push(e);for(const T of l){const P=oa(T,e),U=oa(T,i);if(0===P)h[0]=e.Zt();else if(P>0&&U<0)h.push(T),h.push(T.Zt());else if(U>0)break}h.push(i);const y=[];for(let T=0;T<h.length;T+=2){if(this.Cn(h[T],h[T+1]))return[];y.push(IDBKeyRange.bound([h[T].indexId,this.uid,h[T].arrayValue,h[T].directionalValue,Ko,[]],[h[T+1].indexId,this.uid,h[T+1].arrayValue,h[T+1].directionalValue,Ko,[]]))}return y}Cn(e,i){return oa(e,i)>0}getMinOffsetFromCollectionGroup(e,i){return this.getFieldIndexes(e,i).next(Nd)}getMinOffset(e,i){return at.mapArray(this.hn(i),l=>this.Pn(e,l).next(h=>h||Ot())).next(Nd)}}function sp(d){return ji(d,"collectionParents")}function yo(d){return ji(d,"indexEntries")}function Vu(d){return ji(d,"indexConfiguration")}function vo(d){return ji(d,"indexState")}function Nd(d){Vt(0!==d.length);let e=d[0].indexState.offset,i=e.largestBatchId;for(let l=1;l<d.length;l++){const h=d[l].indexState.offset;ti(h,e)<0&&(e=h),i<h.largestBatchId&&(i=h.largestBatchId)}return new dn(e.readTime,e.documentKey,i)}const rc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(e,i,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hh(d,e,i){const l=d.store("mutations"),h=d.store("documentMutations"),y=[],T=IDBKeyRange.only(i.batchId);let P=0;const U=l.J({range:T},(ae,Ce,ze)=>(P++,ze.delete()));y.push(U.next(()=>{Vt(1===P)}));const q=[];for(const ae of i.mutations){const Ce=zr(e,ae.key.path,i.batchId);y.push(h.delete(Ce)),q.push(ae.key)}return at.waitFor(y).next(()=>q)}function Ga(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Ot();e=d.noDocument}return JSON.stringify(e).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class aa{constructor(e,i,l,h){this.userId=e,this.serializer=i,this.indexManager=l,this.referenceDelegate=h,this.Fn={}}static lt(e,i,l,h){Vt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new aa(y,i,l,h)}checkEmpty(e){let i=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pl(e).J({index:"userMutationsIndex",range:l},(h,y,T)=>{i=!1,T.done()}).next(()=>i)}addMutationBatch(e,i,l,h){const y=ic(e),T=pl(e);return T.add({}).next(P=>{Vt("number"==typeof P);const U=new Ki(P,i,l,h),q=function(Ct,Ht,cn){const nn=cn.baseMutations.map(ar=>al(Ct.ct,ar)),Kn=cn.mutations.map(ar=>al(Ct.ct,ar));return{userId:Ht,batchId:cn.batchId,localWriteTimeMs:cn.localWriteTime.toMillis(),baseMutations:nn,mutations:Kn}}(this.serializer,this.userId,U),ae=[];let Ce=new wr((ze,Ct)=>Qt(ze.canonicalString(),Ct.canonicalString()));for(const ze of h){const Ct=zr(this.userId,ze.key.path,P);Ce=Ce.add(ze.key.path.popLast()),ae.push(T.put(q)),ae.push(y.put(Ct,cr))}return Ce.forEach(ze=>{ae.push(this.indexManager.addToCollectionParentIndex(e,ze))}),e.addOnCommittedListener(()=>{this.Fn[P]=U.keys()}),at.waitFor(ae).next(()=>U)})}lookupMutationBatch(e,i){return pl(e).get(i).next(l=>l?(Vt(l.userId===this.userId),_r(this.serializer,l)):null)}Mn(e,i){return this.Fn[i]?at.resolve(this.Fn[i]):this.lookupMutationBatch(e,i).next(l=>{if(l){const h=l.keys();return this.Fn[i]=h,h}return null})}getNextMutationBatchAfterBatchId(e,i){const l=i+1,h=IDBKeyRange.lowerBound([this.userId,l]);let y=null;return pl(e).J({index:"userMutationsIndex",range:h},(T,P,U)=>{P.userId===this.userId&&(Vt(P.batchId>=l),y=_r(this.serializer,P)),U.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return pl(e).J({index:"userMutationsIndex",range:i,reverse:!0},(h,y,T)=>{l=y.batchId,T.done()}).next(()=>l)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pl(e).U("userMutationsIndex",i).next(l=>l.map(h=>_r(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,i){const l=an(this.userId,i.path),h=IDBKeyRange.lowerBound(l),y=[];return ic(e).J({range:h},(T,P,U)=>{const[q,ae,Ce]=T,ze=wn(ae);if(q===this.userId&&i.path.isEqual(ze))return pl(e).get(Ce).next(Ct=>{if(!Ct)throw Ot();Vt(Ct.userId===this.userId),y.push(_r(this.serializer,Ct))});U.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,i){let l=new wr(Qt);const h=[];return i.forEach(y=>{const T=an(this.userId,y.path),P=IDBKeyRange.lowerBound(T),U=ic(e).J({range:P},(q,ae,Ce)=>{const[ze,Ct,Ht]=q,cn=wn(Ct);ze===this.userId&&y.path.isEqual(cn)?l=l.add(Ht):Ce.done()});h.push(U)}),at.waitFor(h).next(()=>this.xn(e,l))}getAllMutationBatchesAffectingQuery(e,i){const l=i.path,h=l.length+1,y=an(this.userId,l),T=IDBKeyRange.lowerBound(y);let P=new wr(Qt);return ic(e).J({range:T},(U,q,ae)=>{const[Ce,ze,Ct]=U,Ht=wn(ze);Ce===this.userId&&l.isPrefixOf(Ht)?Ht.length===h&&(P=P.add(Ct)):ae.done()}).next(()=>this.xn(e,P))}xn(e,i){const l=[],h=[];return i.forEach(y=>{h.push(pl(e).get(y).next(T=>{if(null===T)throw Ot();Vt(T.userId===this.userId),l.push(_r(this.serializer,T))}))}),at.waitFor(h).next(()=>l)}removeMutationBatch(e,i){return Hh(e._e,this.userId,i).next(l=>(e.addOnCommittedListener(()=>{this.On(i.batchId)}),at.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return at.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return ic(e).J({range:l},(y,T,P)=>{if(y[0]===this.userId){const U=wn(y[1]);h.push(U)}else P.done()}).next(()=>{Vt(0===h.length)})})}containsKey(e,i){return Uc(e,this.userId,i)}Nn(e){return Uu(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Uc(d,e,i){const l=an(e,i.path),h=l[1],y=IDBKeyRange.lowerBound(l);let T=!1;return ic(d).J({range:y,H:!0},(P,U,q)=>{const[ae,Ce,ze]=P;ae===e&&Ce===h&&(T=!0),q.done()}).next(()=>T)}function pl(d){return ji(d,"mutations")}function ic(d){return ji(d,"documentMutations")}function Uu(d){return ji(d,"mutationQueues")}class Rl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Rl(0)}static kn(){return new Rl(-1)}}class Pg{constructor(e,i){this.referenceDelegate=e,this.serializer=i}allocateTargetId(e){return this.qn(e).next(i=>{const l=new Rl(i.highestTargetId);return i.highestTargetId=l.next(),this.Qn(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(i=>Ut.fromTimestamp(new zt(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,l){return this.qn(e).next(h=>(h.highestListenSequenceNumber=i,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),i>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=i),this.Qn(e,h)))}addTargetData(e,i){return this.Kn(e,i).next(()=>this.qn(e).next(l=>(l.targetCount+=1,this.$n(i,l),this.Qn(e,l))))}updateTargetData(e,i){return this.Kn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>ba(e).delete(i.targetId)).next(()=>this.qn(e)).next(l=>(Vt(l.targetCount>0),l.targetCount-=1,this.Qn(e,l)))}removeTargets(e,i,l){let h=0;const y=[];return ba(e).J((T,P)=>{const U=rr(P);U.sequenceNumber<=i&&null===l.get(U.targetId)&&(h++,y.push(this.removeTargetData(e,U)))}).next(()=>at.waitFor(y)).next(()=>h)}forEachTarget(e,i){return ba(e).J((l,h)=>{const y=rr(h);i(y)})}qn(e){return Ha(e).get("targetGlobalKey").next(i=>(Vt(null!==i),i))}Qn(e,i){return Ha(e).put("targetGlobalKey",i)}Kn(e,i){return ba(e).put(Or(this.serializer,i))}$n(e,i){let l=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,l=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.qn(e).next(i=>i.targetCount)}getTargetData(e,i){const l=Fs(i),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let y=null;return ba(e).J({range:h,index:"queryTargetsIndex"},(T,P,U)=>{const q=rr(P);Ro(i,q.target)&&(y=q,U.done())}).next(()=>y)}addMatchingKeys(e,i,l){const h=[],y=Pl(e);return i.forEach(T=>{const P=Pt(T.path);h.push(y.put({targetId:l,path:P})),h.push(this.referenceDelegate.addReference(e,l,T))}),at.waitFor(h)}removeMatchingKeys(e,i,l){const h=Pl(e);return at.forEach(i,y=>{const T=Pt(y.path);return at.waitFor([h.delete([l,T]),this.referenceDelegate.removeReference(e,l,y)])})}removeMatchingKeysForTargetId(e,i){const l=Pl(e),h=IDBKeyRange.bound([i],[i+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,i){const l=IDBKeyRange.bound([i],[i+1],!1,!0),h=Pl(e);let y=gr();return h.J({range:l,H:!0},(T,P,U)=>{const q=wn(T[1]),ae=new Gt(q);y=y.add(ae)}).next(()=>y)}containsKey(e,i){const l=Pt(i.path),h=IDBKeyRange.bound([l],[xn(l)],!1,!0);let y=0;return Pl(e).J({index:"documentTargetsIndex",H:!0,range:h},([T,P],U,q)=>{0!==T&&(y++,q.done())}).next(()=>y>0)}ot(e,i){return ba(e).get(i).next(l=>l?rr(l):null)}}function ba(d){return ji(d,"targets")}function Ha(d){return ji(d,"targetGlobal")}function Pl(d){return ji(d,"targetDocuments")}function ju([d,e],[i,l]){const h=Qt(d,i);return 0===h?Qt(e,l):h}class jc{constructor(e){this.Un=e,this.buffer=new wr(ju),this.Wn=0}Gn(){return++this.Wn}zn(e){const i=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const l=this.buffer.last();ju(i,l)<0&&(this.buffer=this.buffer.delete(l).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gl{constructor(e,i,l){this.garbageCollector=e,this.asyncQueue=i,this.localStore=l,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var i=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,s.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(l){Vn(l)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Hn(l)}yield i.Hn(3e5)}))}}class op{constructor(e,i){this.Jn=e,this.params=i}calculateTargetCount(e,i){return this.Jn.Yn(e).next(l=>Math.floor(i/100*l))}nthSequenceNumber(e,i){if(0===i)return at.resolve(O.oe);const l=new jc(i);return this.Jn.forEachTarget(e,h=>l.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>l.zn(h))).next(()=>l.maxValue)}removeTargets(e,i,l){return this.Jn.removeTargets(e,i,l)}removeOrphanedDocuments(e,i){return this.Jn.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(rc)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rc):this.Xn(e,i))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,i){let l,h,y,T,P,U,q;const ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),h=this.params.maximumSequenceNumbersToCollect):h=Ce,T=Date.now(),this.nthSequenceNumber(e,h))).next(Ce=>(l=Ce,P=Date.now(),this.removeTargets(e,l,i))).next(Ce=>(y=Ce,U=Date.now(),this.removeOrphanedDocuments(e,l))).next(Ce=>(q=Date.now(),xt()<=Ee.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-ae}ms\n\tDetermined least recently used ${h} in `+(P-T)+`ms\n\tRemoved ${y} targets in `+(U-P)+`ms\n\tRemoved ${Ce} documents in `+(q-U)+`ms\nTotal Duration: ${q-ae}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:Ce})))}}class kd{constructor(e,i){this.db=e,this.garbageCollector=function ps(d,e){return new op(d,e)}(this,i)}Yn(e){const i=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(l=>i.next(h=>l+h))}er(e){let i=0;return this.Zn(e,l=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}Zn(e,i){return this.tr(e,(l,h)=>i(h))}addReference(e,i,l){return sc(e,l)}removeReference(e,i,l){return sc(e,l)}removeTargets(e,i,l){return this.db.getTargetCache().removeTargets(e,i,l)}markPotentiallyOrphaned(e,i){return sc(e,i)}nr(e,i){return function(h,y){let T=!1;return Uu(h).Y(P=>Uc(h,P,y).next(U=>(U&&(T=!0),at.resolve(!U)))).next(()=>T)}(e,i)}removeOrphanedDocuments(e,i){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(T,P)=>{if(P<=i){const U=this.nr(e,T).next(q=>{if(!q)return y++,l.getEntry(e,T).next(()=>(l.removeEntry(T,Ut.min()),Pl(e).delete([0,Pt(T.path)])))});h.push(U)}}).next(()=>at.waitFor(h)).next(()=>l.apply(e)).next(()=>y)}removeTarget(e,i){const l=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,i){return sc(e,i)}tr(e,i){const l=Pl(e);let h,y=O.oe;return l.J({index:"documentTargetsIndex"},([T,P],{path:U,sequenceNumber:q})=>{0===T?(y!==O.oe&&i(new Gt(wn(h)),y),y=q,h=U):y=O.oe}).next(()=>{y!==O.oe&&i(new Gt(wn(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sc(d,e){return Pl(d).put((h=d.currentSequenceNumber,{targetId:0,path:Pt(e.path),sequenceNumber:h}));var h}class Bu{constructor(){this.changes=new Wi(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const l=this.changes.get(i);return void 0!==l?at.resolve(l):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ap{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,l){return qo(e).put(l)}removeEntry(e,i,l){return qo(e).delete(function(y,T){const P=y.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],wt(T),P[P.length-1]]}(i,l))}updateMetadata(e,i){return this.getMetadata(e).next(l=>(l.byteSize+=i,this.rr(e,l)))}getEntry(e,i){let l=_t.newInvalidDocument(i);return qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(la(i))},(h,y)=>{l=this.ir(i,y)}).next(()=>l)}sr(e,i){let l={size:0,document:_t.newInvalidDocument(i)};return qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(la(i))},(h,y)=>{l={document:this.ir(i,y),size:Ga(y)}}).next(()=>l)}getEntries(e,i){let l=ms();return this._r(e,i,(h,y)=>{const T=this.ir(h,y);l=l.insert(h,T)}).next(()=>l)}ar(e,i){let l=ms(),h=new Yr(Gt.comparator);return this._r(e,i,(y,T)=>{const P=this.ir(y,T);l=l.insert(y,P),h=h.insert(y,Ga(T))}).next(()=>({documents:l,ur:h}))}_r(e,i,l){if(i.isEmpty())return at.resolve();let h=new wr(Gu);i.forEach(U=>h=h.add(U));const y=IDBKeyRange.bound(la(h.first()),la(h.last())),T=h.getIterator();let P=T.getNext();return qo(e).J({index:"documentKeyIndex",range:y},(U,q,ae)=>{const Ce=Gt.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;P&&Gu(P,Ce)<0;)l(P,null),P=T.getNext();P&&P.isEqual(Ce)&&(l(P,q),P=T.hasNext()?T.getNext():null),P?ae.$(la(P)):ae.done()}).next(()=>{for(;P;)l(P,null),P=T.hasNext()?T.getNext():null})}getDocumentsMatchingQuery(e,i,l,h,y){const T=i.path,P=[T.popLast().toArray(),T.lastSegment(),wt(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],U=[T.popLast().toArray(),T.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qo(e).U(IDBKeyRange.bound(P,U,!0)).next(q=>{y?.incrementDocumentReadCount(q.length);let ae=ms();for(const Ce of q){const ze=this.ir(Gt.fromSegments(Ce.prefixPath.concat(Ce.collectionGroup,Ce.documentId)),Ce);ze.isFoundDocument()&&(Go(i,ze)||h.has(ze.key))&&(ae=ae.insert(ze.key,ze))}return ae})}getAllFromCollectionGroup(e,i,l,h){let y=ms();const T=zh(i,l),P=zh(i,dn.max());return qo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(T,P,!0)},(U,q,ae)=>{const Ce=this.ir(Gt.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);y=y.insert(Ce.key,Ce),y.size===h&&ae.done()}).next(()=>y)}newChangeBuffer(e){return new Fd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return oc(e).get("remoteDocumentGlobalKey").next(i=>(Vt(!!i),i))}rr(e,i){return oc(e).put("remoteDocumentGlobalKey",i)}ir(e,i){if(i){const l=function le(d,e){let i;if(e.document)i=tc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=Gt.fromSegments(e.noDocument.path),h=yn(e.noDocument.readTime);i=_t.newNoDocument(l,h),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ot();{const l=Gt.fromSegments(e.unknownDocument.path),h=yn(e.unknownDocument.version);i=_t.newUnknownDocument(l,h)}}return e.readTime&&i.setReadTime(function(h){const y=new zt(h[0],h[1]);return Ut.fromTimestamp(y)}(e.readTime)),i}(this.serializer,i);if(!l.isNoDocument()||!l.version.isEqual(Ut.min()))return l}return _t.newInvalidDocument(e)}}function $u(d){return new ap(d)}class Fd extends Bu{constructor(e,i){super(),this.cr=e,this.trackRemovals=i,this.lr=new Wi(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const i=[];let l=0,h=new wr((y,T)=>Qt(y.canonicalString(),T.canonicalString()));return this.changes.forEach((y,T)=>{const P=this.lr.get(y);if(i.push(this.cr.removeEntry(e,y,P.readTime)),T.isValidDocument()){const U=Oe(this.cr.serializer,T);h=h.add(y.path.popLast());const q=Ga(U);l+=q-P.size,i.push(this.cr.addEntry(e,y,U))}else if(l-=P.size,this.trackRemovals){const U=Oe(this.cr.serializer,T.convertToNoDocument(Ut.min()));i.push(this.cr.addEntry(e,y,U))}}),h.forEach(y=>{i.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),i.push(this.cr.updateMetadata(e,l)),at.waitFor(i)}getFromCache(e,i){return this.cr.sr(e,i).next(l=>(this.lr.set(i,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,i){return this.cr.ar(e,i).next(({documents:l,ur:h})=>(h.forEach((y,T)=>{this.lr.set(y,{size:T,readTime:l.get(y).readTime})}),l))}}function oc(d){return ji(d,"remoteDocumentGlobal")}function qo(d){return ji(d,"remoteDocumentsV14")}function la(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zh(d,e){const i=e.documentKey.path.toArray();return[d,wt(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Gu(d,e){const i=d.path.toArray(),l=e.path.toArray();let h=0;for(let y=0;y<i.length-2&&y<l.length-2;++y)if(h=Qt(i[y],l[y]),h)return h;return h=Qt(i.length,l.length),h||(h=Qt(i[i.length-2],l[l.length-2]),h||Qt(i[i.length-1],l[l.length-1]))}class ac{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Wh{constructor(e,i,l,h){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,i){let l=null;return this.documentOverlayCache.getOverlay(e,i).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,i))).next(h=>(null!==l&&Kr(l.mutation,h,fi.empty(),zt.now()),h))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.getLocalViewOfDocuments(e,l,gr()).next(()=>l))}getLocalViewOfDocuments(e,i,l=gr()){const h=Cs();return this.populateOverlays(e,h,i).next(()=>this.computeViews(e,i,h,l).next(y=>{let T=ho();return y.forEach((P,U)=>{T=T.insert(P,U.overlayedDocument)}),T}))}getOverlayedDocuments(e,i){const l=Cs();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,gr()))}populateOverlays(e,i,l){const h=[];return l.forEach(y=>{i.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((T,P)=>{i.set(T,P)})})}computeViews(e,i,l,h){let y=ms();const T=Fa(),P=Fa();return i.forEach((U,q)=>{const ae=l.get(q.key);h.has(q.key)&&(void 0===ae||ae.mutation instanceof ci)?y=y.insert(q.key,q):void 0!==ae?(T.set(q.key,ae.mutation.getFieldMask()),Kr(ae.mutation,q,ae.mutation.getFieldMask(),zt.now())):T.set(q.key,fi.empty())}),this.recalculateAndSaveOverlays(e,y).next(U=>(U.forEach((q,ae)=>T.set(q,ae)),i.forEach((q,ae)=>{var Ce;return P.set(q,new ac(ae,null!==(Ce=T.get(q))&&void 0!==Ce?Ce:null))}),P))}recalculateAndSaveOverlays(e,i){const l=Fa();let h=new Yr((T,P)=>T-P),y=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(T=>{for(const P of T)P.keys().forEach(U=>{const q=i.get(U);if(null===q)return;let ae=l.get(U)||fi.empty();ae=P.applyToLocalView(q,ae),l.set(U,ae);const Ce=(h.get(P.batchId)||gr()).add(U);h=h.insert(P.batchId,Ce)})}).next(()=>{const T=[],P=h.getReverseIterator();for(;P.hasNext();){const U=P.getNext(),q=U.key,ae=U.value,Ce=ma();ae.forEach(ze=>{if(!y.has(ze)){const Ct=kt(i.get(ze),l.get(ze));null!==Ct&&Ce.set(ze,Ct),y=y.add(ze)}}),T.push(this.documentOverlayCache.saveOverlays(e,q,Ce))}return at.waitFor(T)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,i,l,h){return Gt.isDocumentKey((T=i).path)&&null===T.collectionGroup&&0===T.filters.length?this.getDocumentsMatchingDocumentQuery(e,i.path):ue(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,l,h):this.getDocumentsMatchingCollectionQuery(e,i,l,h);var T}getNextDocuments(e,i,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,l,h).next(y=>{const T=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,l.largestBatchId,h-y.size):at.resolve(Cs());let P=-1,U=y;return T.next(q=>at.forEach(q,(ae,Ce)=>(P<Ce.largestBatchId&&(P=Ce.largestBatchId),y.get(ae)?at.resolve():this.remoteDocumentCache.getEntry(e,ae).next(ze=>{U=U.insert(ae,ze)}))).next(()=>this.populateOverlays(e,q,y)).next(()=>this.computeViews(e,U,q,gr())).next(ae=>({batchId:P,changes:sa(ae)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Gt(i)).next(l=>{let h=ho();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,i,l,h){const y=i.collectionGroup;let T=ho();return this.indexManager.getCollectionParents(e,y).next(P=>at.forEach(P,U=>{const q=(Ce=i,ze=U.child(y),new $o(ze,null,Ce.explicitOrderBy.slice(),Ce.filters.slice(),Ce.limit,Ce.limitType,Ce.startAt,Ce.endAt));var Ce,ze;return this.getDocumentsMatchingCollectionQuery(e,q,l,h).next(ae=>{ae.forEach((Ce,ze)=>{T=T.insert(Ce,ze)})})}).next(()=>T))}getDocumentsMatchingCollectionQuery(e,i,l,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,l.largestBatchId).next(T=>(y=T,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,l,y,h))).next(T=>{y.forEach((U,q)=>{const ae=q.getKey();null===T.get(ae)&&(T=T.insert(ae,_t.newInvalidDocument(ae)))});let P=ho();return T.forEach((U,q)=>{const ae=y.get(U);void 0!==ae&&Kr(ae.mutation,q,fi.empty(),zt.now()),Go(i,q)&&(P=P.insert(U,q))}),P})}}class Bc{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return at.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,{id:(h=i).id,version:h.version,createTime:Si(h.createTime)}),at.resolve();var h}getNamedQuery(e,i){return at.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,{name:(h=i).name,query:pi(h.bundledQuery),readTime:Si(h.readTime)}),at.resolve();var h}}class Jm{constructor(){this.overlays=new Yr(Gt.comparator),this.Ir=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const l=Cs();return at.forEach(i,h=>this.getOverlay(e,h).next(y=>{null!==y&&l.set(h,y)})).next(()=>l)}saveOverlays(e,i,l){return l.forEach((h,y)=>{this.ht(e,i,y)}),at.resolve()}removeOverlaysForBatchId(e,i,l){const h=this.Ir.get(l);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(l)),at.resolve()}getOverlaysForCollection(e,i,l){const h=Cs(),y=i.length+1,T=new Gt(i.child("")),P=this.overlays.getIteratorFrom(T);for(;P.hasNext();){const U=P.getNext().value,q=U.getKey();if(!i.isPrefixOf(q.path))break;q.path.length===y&&U.largestBatchId>l&&h.set(U.getKey(),U)}return at.resolve(h)}getOverlaysForCollectionGroup(e,i,l,h){let y=new Yr((q,ae)=>q-ae);const T=this.overlays.getIterator();for(;T.hasNext();){const q=T.getNext().value;if(q.getKey().getCollectionGroup()===i&&q.largestBatchId>l){let ae=y.get(q.largestBatchId);null===ae&&(ae=Cs(),y=y.insert(q.largestBatchId,ae)),ae.set(q.getKey(),q)}}const P=Cs(),U=y.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((q,ae)=>P.set(q,ae)),!(P.size()>=h)););return at.resolve(P)}ht(e,i,l){const h=this.overlays.get(l.key);if(null!==h){const T=this.Ir.get(h.largestBatchId).delete(l.key);this.Ir.set(h.largestBatchId,T)}this.overlays=this.overlays.insert(l.key,new ts(i,l));let y=this.Ir.get(i);void 0===y&&(y=gr(),this.Ir.set(i,y)),this.Ir.set(i,y.add(l.key))}}class xg{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}class lp{constructor(){this.Tr=new wr(Vs.Er),this.dr=new wr(Vs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const l=new Vs(e,i);this.Tr=this.Tr.add(l),this.dr=this.dr.add(l)}Rr(e,i){e.forEach(l=>this.addReference(l,i))}removeReference(e,i){this.Vr(new Vs(e,i))}mr(e,i){e.forEach(l=>this.removeReference(l,i))}gr(e){const i=new Gt(new sn([])),l=new Vs(i,e),h=new Vs(i,e+1),y=[];return this.dr.forEachInRange([l,h],T=>{this.Vr(T),y.push(T.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new Gt(new sn([])),l=new Vs(i,e),h=new Vs(i,e+1);let y=gr();return this.dr.forEachInRange([l,h],T=>{y=y.add(T.key)}),y}containsKey(e){const i=new Vs(e,0),l=this.Tr.firstAfterOrEqual(i);return null!==l&&e.isEqual(l.key)}}class Vs{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return Gt.comparator(e.key,i.key)||Qt(e.wr,i.wr)}static Ar(e,i){return Qt(e.wr,i.wr)||Gt.comparator(e.key,i.key)}}class Zm{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new wr(Vs.Er)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,i,l,h){const y=this.Sr;this.Sr++;const T=new Ki(y,i,l,h);this.mutationQueue.push(T);for(const P of h)this.br=this.br.add(new Vs(P.key,y)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return at.resolve(T)}lookupMutationBatch(e,i){return at.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const h=this.vr(i+1),y=h<0?0:h;return at.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const l=new Vs(i,0),h=new Vs(i,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([l,h],T=>{const P=this.Dr(T.wr);y.push(P)}),at.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,i){let l=new wr(Qt);return i.forEach(h=>{const y=new Vs(h,0),T=new Vs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,T],P=>{l=l.add(P.wr)})}),at.resolve(this.Cr(l))}getAllMutationBatchesAffectingQuery(e,i){const l=i.path,h=l.length+1;let y=l;Gt.isDocumentKey(y)||(y=y.child(""));const T=new Vs(new Gt(y),0);let P=new wr(Qt);return this.br.forEachWhile(U=>{const q=U.key.path;return!!l.isPrefixOf(q)&&(q.length===h&&(P=P.add(U.wr)),!0)},T),at.resolve(this.Cr(P))}Cr(e){const i=[];return e.forEach(l=>{const h=this.Dr(l);null!==h&&i.push(h)}),i}removeMutationBatch(e,i){Vt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let l=this.br;return at.forEach(i.mutations,h=>{const y=new Vs(h.key,i.batchId);return l=l.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=l})}On(e){}containsKey(e,i){const l=new Vs(i,0),h=this.br.firstAfterOrEqual(l);return at.resolve(i.isEqual(h&&h.key))}performConsistencyCheck(e){return at.resolve()}Fr(e,i){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class $c{constructor(e){this.Mr=e,this.docs=new Yr(Gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const l=i.key,h=this.docs.get(l),y=h?h.size:0,T=this.Mr(i);return this.docs=this.docs.insert(l,{document:i.mutableCopy(),size:T}),this.size+=T-y,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const l=this.docs.get(i);return at.resolve(l?l.document.mutableCopy():_t.newInvalidDocument(i))}getEntries(e,i){let l=ms();return i.forEach(h=>{const y=this.docs.get(h);l=l.insert(h,y?y.document.mutableCopy():_t.newInvalidDocument(h))}),at.resolve(l)}getDocumentsMatchingQuery(e,i,l,h){let y=ms();const T=i.path,P=new Gt(T.child("")),U=this.docs.getIteratorFrom(P);for(;U.hasNext();){const{key:q,value:{document:ae}}=U.getNext();if(!T.isPrefixOf(q.path))break;q.path.length>T.length+1||ti(ys(ae),l)<=0||(h.has(ae.key)||Go(i,ae))&&(y=y.insert(ae.key,ae.mutableCopy()))}return at.resolve(y)}getAllFromCollectionGroup(e,i,l,h){Ot()}Or(e,i){return at.forEach(this.docs,l=>i(l))}newChangeBuffer(e){return new Gc(this)}getSize(e){return at.resolve(this.size)}}class Gc extends Bu{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?i.push(this.cr.addEntry(e,h)):this.cr.removeEntry(l)}),at.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}class Ld{constructor(e){this.persistence=e,this.Nr=new Wi(i=>Fs(i),Ro),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lp,this.targetCount=0,this.kr=Rl.Bn()}forEachTarget(e,i){return this.Nr.forEach((l,h)=>i(h)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,l){return l&&(this.lastRemoteSnapshotVersion=l),i>this.Lr&&(this.Lr=i),at.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new Rl(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.Kn(i),at.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,l){let h=0;const y=[];return this.Nr.forEach((T,P)=>{P.sequenceNumber<=i&&null===l.get(P.targetId)&&(this.Nr.delete(T),y.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),at.waitFor(y).next(()=>h)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const l=this.Nr.get(i)||null;return at.resolve(l)}addMatchingKeys(e,i,l){return this.Br.Rr(i,l),at.resolve()}removeMatchingKeys(e,i,l){this.Br.mr(i,l);const h=this.persistence.referenceDelegate,y=[];return h&&i.forEach(T=>{y.push(h.markPotentiallyOrphaned(e,T))}),at.waitFor(y)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),at.resolve()}getMatchingKeysForTargetId(e,i){const l=this.Br.yr(i);return at.resolve(l)}containsKey(e,i){return at.resolve(this.Br.containsKey(i))}}class Kh{constructor(e,i){this.qr={},this.overlays={},this.Qr=new O(0),this.Kr=!1,this.Kr=!0,this.$r=new xg,this.referenceDelegate=e(this),this.Ur=new Ld(this),this.indexManager=new nc,this.remoteDocumentCache=new $c(l=>this.referenceDelegate.Wr(l)),this.serializer=new H(i),this.Gr=new Bc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Jm,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let l=this.qr[e.toKey()];return l||(l=new Zm(i,this.referenceDelegate),this.qr[e.toKey()]=l),l}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,l){Ie("MemoryPersistence","Starting transaction:",e);const h=new Ws(this.Qr.next());return this.referenceDelegate.zr(),l(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,i){return at.or(Object.values(this.qr).map(l=>()=>l.containsKey(e,i)))}}class Ws extends Tr{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Jr=new lp,this.Yr=null}static Zr(e){return new Vd(e)}get Xr(){if(this.Yr)return this.Yr;throw Ot()}addReference(e,i,l){return this.Jr.addReference(l,i),this.Xr.delete(l.toString()),at.resolve()}removeReference(e,i,l){return this.Jr.removeReference(l,i),this.Xr.add(l.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),at.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach(h=>this.Xr.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,i.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>l.removeTargetData(e,i))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Xr,l=>{const h=Gt.fromPath(l);return this.ei(e,h).next(y=>{y||i.removeEntry(h,Ut.min())})}).next(()=>(this.Yr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ei(e,i).next(l=>{l?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(e){return 0}ei(e,i){return at.or([()=>at.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}class qh{constructor(e){this.serializer=e}O(e,i,l,h){const y=new bt("createOrUpgrade",i);var U;l<1&&h>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0}),U.createObjectStore("documentMutations"),Yo(e),function(U){U.createObjectStore("remoteDocuments")}(e));let T=at.resolve();return l<3&&h>=3&&(0!==l&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),Yo(e)),T=T.next(()=>function(U){const q=U.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",ae)}(y))),l<4&&h>=4&&(0!==l&&(T=T.next(()=>function(U,q){return q.store("mutations").U().next(ae=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0});const Ce=q.store("mutations"),ze=ae.map(Ct=>Ce.put(Ct));return at.waitFor(ze)})}(e,y))),T=T.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(T=T.next(()=>this.ni(y))),l<6&&h>=6&&(T=T.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),l<7&&h>=7&&(T=T.next(()=>this.ii(y))),l<8&&h>=8&&(T=T.next(()=>this.si(e,y))),l<9&&h>=9&&(T=T.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(T=T.next(()=>this.oi(y))),l<11&&h>=11&&(T=T.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(T=T.next(()=>{!function(U){const q=U.createObjectStore("documentOverlays",{keyPath:Un});q.createIndex("collectionPathOverlayIndex",Nn,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",hr,{unique:!1})}(e)})),l<13&&h>=13&&(T=T.next(()=>function(U){const q=U.createObjectStore("remoteDocumentsV14",{keyPath:Bs});q.createIndex("documentKeyIndex",Ni),q.createIndex("collectionGroupIndex",vs)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(T=T.next(()=>this.ai(e,y))),l<15&&h>=15&&(T=T.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:Dt}).createIndex("sequenceNumberIndex",lt,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Mt}).createIndex("documentKeyIndex",ln,{unique:!1})}(e))),l<16&&h>=16&&(T=T.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),l<17&&h>=17&&(T=T.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(e)})),T}ri(e){let i=0;return e.store("remoteDocuments").J((l,h)=>{i+=Ga(h)}).next(()=>{const l={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}ni(e){const i=e.store("mutationQueues"),l=e.store("mutations");return i.U().next(h=>at.forEach(h,y=>{const T=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return l.U("userMutationsIndex",T).next(P=>at.forEach(P,U=>{Vt(U.userId===y.userId);const q=_r(this.serializer,U);return Hh(e,y.userId,q).next(()=>{})}))}))}ii(e){const i=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return l.J((T,P)=>{const U=new sn(T),q=[0,Pt(U)];y.push(i.get(q).next(ae=>ae?at.resolve():i.put({targetId:0,path:Pt(U),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>at.waitFor(y))})}si(e,i){e.createObjectStore("collectionParents",{keyPath:Ns});const l=i.store("collectionParents"),h=new Lu,y=T=>{if(h.add(T)){const P=T.lastSegment(),U=T.popLast();return l.put({collectionId:P,parent:Pt(U)})}};return i.store("remoteDocuments").J({H:!0},(T,P)=>{const U=new sn(T);return y(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([T,P,U],q)=>{const ae=wn(P);return y(ae.popLast())}))}oi(e){const i=e.store("targets");return i.J((l,h)=>{const y=rr(h),T=Or(this.serializer,y);return i.put(T)})}_i(e,i){const l=i.store("remoteDocuments"),h=[];return l.J((y,T)=>{const P=i.store("remoteDocumentsV14"),U=(Ce=T,Ce.document?new Gt(sn.fromString(Ce.document.name).popFirst(5)):Ce.noDocument?Gt.fromSegments(Ce.noDocument.path):Ce.unknownDocument?Gt.fromSegments(Ce.unknownDocument.path):Ot()).path.toArray(),q={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:T.readTime||[0,0],unknownDocument:T.unknownDocument,noDocument:T.noDocument,document:T.document,hasCommittedMutations:!!T.hasCommittedMutations};var Ce;h.push(P.put(q))}).next(()=>at.waitFor(h))}ai(e,i){const l=i.store("mutations"),h=$u(this.serializer),y=new Kh(Vd.Zr,this.serializer.ct);return l.U().next(T=>{const P=new Map;return T.forEach(U=>{var q;let ae=null!==(q=P.get(U.userId))&&void 0!==q?q:gr();_r(this.serializer,U).keys().forEach(Ce=>ae=ae.add(Ce)),P.set(U.userId,ae)}),at.forEach(P,(U,q)=>{const ae=new tt(q),Ce=fl.lt(this.serializer,ae),ze=y.getIndexManager(ae),Ct=aa.lt(ae,this.serializer,ze,y.referenceDelegate);return new Wh(h,Ct,Ce,ze).recalculateAndSaveOverlaysForDocumentKeys(new Do(i,O.oe),U).next()})})}}function Yo(d){d.createObjectStore("targetDocuments",{keyPath:gi}).createIndex("documentTargetsIndex",sr,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Es,{unique:!0}),d.createObjectStore("targetGlobal")}const Ml="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ud{constructor(e,i,l,h,y,T,P,U,q,ae,Ce=17){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=l,this.ui=y,this.window=T,this.document=P,this.ci=q,this.li=ae,this.hi=Ce,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=ze=>Promise.resolve(),!Ud.D())throw new st(Ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kd(this,h),this.Ai=i+"main",this.serializer=new H(U),this.Ri=new de(this.Ai,this.hi,new qh(this.serializer)),this.$r=new $h,this.Ur=new Pg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$u(this.serializer),this.Gr=new Wo,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ae&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Ve.FAILED_PRECONDITION,Ml);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new O(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var i=this;return this.di=function(){var l=(0,s.A)(function*(h){if(i.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var i=(0,s.A)(function*(l){null===l.newVersion&&(yield e())});return function(l){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,s.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Nl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(i=>this.isPrimary&&!i?this.bi(e).next(()=>!1):!!i&&this.Di(e).next(()=>!0))).catch(e=>{if(Vn(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Ol(e).get("owner").next(i=>at.resolve(this.vi(i)))}Ci(e){return Nl(e).delete(this.clientId)}Fi(){var e=this;return(0,s.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=ji(l,"clientMetadata");return h.U().next(y=>{const T=e.xi(y,18e5),P=y.filter(U=>-1===T.indexOf(U));return at.forEach(P,U=>h.delete(U.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Vi)for(const l of i)e.Vi.removeItem(e.Oi(l.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?at.resolve(!0):Ol(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new st(Ve.FAILED_PRECONDITION,Ml);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nl(e).U().next(l=>void 0===this.xi(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Ie("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,s.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const l=new Do(i,O.oe);return e.bi(l).next(()=>e.Ci(l))}),e.Ri.close(),e.qi()})()}xi(e,i){return e.filter(l=>this.Mi(l.updateTimeMs,i)&&!this.Ni(l.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Nl(e).U().next(i=>this.xi(i,18e5).map(l=>l.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,i){return aa.lt(e,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ip(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return fl.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,i,l){Ie("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===i?"readonly":"readwrite",y=17===(U=this.hi)?Ao:16===U?os:15===U?ks:14===U?Xi:13===U?fr:12===U?qr:11===U?$r:void Ot();var U;let T;return this.Ri.runTransaction(e,h,y,P=>(T=new Do(P,this.Qr?this.Qr.next():O.oe),"readwrite-primary"===i?this.wi(T).next(U=>!!U||this.Si(T)).next(U=>{if(!U)throw Ze(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new st(Ve.FAILED_PRECONDITION,Jn);return l(T)}).next(U=>this.Di(T).next(()=>U)):this.Ki(T).next(()=>l(T)))).then(P=>(T.raiseOnCommittedEvent(),P))}Ki(e){return Ol(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new st(Ve.FAILED_PRECONDITION,Ml)})}Di(e){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ol(e).put("owner",i)}static D(){return de.D()}bi(e){const i=Ol(e);return i.get("owner").next(l=>this.vi(l)?(Ie("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):at.resolve())}Mi(e,i){const l=Date.now();return!(e<l-i||e>l&&(Ze(`Detected an update time that is in the future: ${e} > ${l}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,me.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var i;try{const l=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Ze("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ze("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ol(d){return ji(d,"owner")}function Nl(d){return ji(d,"clientMetadata")}function jd(d,e){let i=d.projectId;return d.isDefaultDatabase||(i+="."+d.database),"firestore/"+e+"/"+i+"/"}class cp{constructor(e,i,l,h){this.targetId=e,this.fromCache=i,this.$i=l,this.Ui=h}static Wi(e,i){let l=gr(),h=gr();for(const y of i.docChanges)switch(y.type){case 0:l=l.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new cp(e,i.fromCache,l,h)}}class Mg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class za{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,me.nr)()?8:ke((0,me.ZQ)())>0?6:4}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,l,h){const y={result:null};return this.Yi(e,i).next(T=>{y.result=T}).next(()=>{if(!y.result)return this.Zi(e,i,h,l).next(T=>{y.result=T})}).next(()=>{if(y.result)return;const T=new Mg;return this.Xi(e,i,T).next(P=>{if(y.result=P,this.zi)return this.es(e,i,T,P.size)})}).next(()=>y.result)}es(e,i,l,h){return l.documentReadCount<this.ji?(xt()<=Ee.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",es(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),at.resolve()):(xt()<=Ee.$b.DEBUG&&Ie("QueryEngine","Query:",es(i),"scans",l.documentReadCount,"local documents and returns",h,"documents as results."),l.documentReadCount>this.Hi*h?(xt()<=Ee.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",es(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(i))):at.resolve())}Yi(e,i){if(j(i))return at.resolve(null);let l=pn(i);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==i.limit&&1===h&&(i=Zi(i,null,"F"),l=pn(i)),this.indexManager.getDocumentsMatchingTarget(e,l).next(y=>{const T=gr(...y);return this.Ji.getDocuments(e,T).next(P=>this.indexManager.getMinOffset(e,l).next(U=>{const q=this.ts(i,P);return this.ns(i,q,T,U.readTime)?this.Yi(e,Zi(i,null,"F")):this.rs(e,q,i,U)}))})))}Zi(e,i,l,h){return j(i)||h.isEqual(Ut.min())?at.resolve(null):this.Ji.getDocuments(e,l).next(y=>{const T=this.ts(i,y);return this.ns(i,T,l,h)?at.resolve(null):(xt()<=Ee.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),es(i)),this.rs(e,T,i,hi(h,-1)).next(P=>P))})}ts(e,i){let l=new wr(xs(e));return i.forEach((h,y)=>{Go(e,y)&&(l=l.add(y))}),l}ns(e,i,l,h){if(null===e.limit)return!1;if(l.size!==i.size)return!0;const y="F"===e.limitType?i.last():i.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,i,l){return xt()<=Ee.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",es(i)),this.Ji.getDocumentsMatchingQuery(e,i,dn.min(),l)}rs(e,i,l,h){return this.Ji.getDocumentsMatchingQuery(e,l,h).next(y=>(i.forEach(T=>{y=y.insert(T.key,T)}),y))}}class Lo{constructor(e,i,l,h){this.persistence=e,this.ss=i,this.serializer=h,this.os=new Yr(Qt),this._s=new Wi(y=>Fs(y),Ro),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(l)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.os))}}function Bd(d,e,i,l){return new Lo(d,e,i,l)}function Wa(d,e){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,s.A)(function*(d,e){const i=pt(d);return yield i.persistence.runTransaction("Handle user change","readonly",l=>{let h;return i.mutationQueue.getAllMutationBatches(l).next(y=>(h=y,i.ls(e),i.mutationQueue.getAllMutationBatches(l))).next(y=>{const T=[],P=[];let U=gr();for(const q of h){T.push(q.batchId);for(const ae of q.mutations)U=U.add(ae.key)}for(const q of y){P.push(q.batchId);for(const ae of q.mutations)U=U.add(ae.key)}return i.localDocuments.getDocuments(l,U).next(q=>({hs:q,removedBatchIds:T,addedBatchIds:P}))})})})).apply(this,arguments)}function $d(d){const e=pt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ur.getLastRemoteSnapshotVersion(i))}function Yh(d,e,i){let l=gr(),h=gr();return i.forEach(y=>l=l.add(y)),e.getEntries(d,l).next(y=>{let T=ms();return i.forEach((P,U)=>{const q=y.get(P);U.isFoundDocument()!==q.isFoundDocument()&&(h=h.add(P)),U.isNoDocument()&&U.version.isEqual(Ut.min())?(e.removeEntry(P,U.readTime),T=T.insert(P,U)):!q.isValidDocument()||U.version.compareTo(q.version)>0||0===U.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(U),T=T.insert(P,U)):Ie("LocalStore","Ignoring outdated watch update for ",P,". Current version:",q.version," Watch version:",U.version)}),{Ps:T,Is:h}})}function Og(d,e){const i=pt(d);return i.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Ta(d,e){const i=pt(d);return i.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return i.Ur.getTargetData(l,e).next(y=>y?(h=y,at.resolve(h)):i.Ur.allocateTargetId(l).next(T=>(h=new F(e,T,"TargetPurposeListen",l.currentSequenceNumber),i.Ur.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=i.os.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(i.os=i.os.insert(l.targetId,l),i._s.set(e,l.targetId)),l})}function Hc(d,e,i){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,s.A)(function*(d,e,i){const l=pt(d),h=l.os.get(e),y=i?"readwrite":"readwrite-primary";try{i||(yield l.persistence.runTransaction("Release target",y,T=>l.persistence.referenceDelegate.removeTarget(T,h)))}catch(T){if(!Vn(T))throw T;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${T}`)}l.os=l.os.remove(e),l._s.delete(h.target)})).apply(this,arguments)}function ml(d,e,i){const l=pt(d);let h=Ut.min(),y=gr();return l.persistence.runTransaction("Execute query","readwrite",T=>function(U,q,ae){const Ce=pt(U),ze=Ce._s.get(ae);return void 0!==ze?at.resolve(Ce.os.get(ze)):Ce.Ur.getTargetData(q,ae)}(l,T,pn(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,l.Ur.getMatchingKeysForTargetId(T,P.targetId).next(U=>{y=U})}).next(()=>l.ss.getDocumentsMatchingQuery(T,e,i?h:Ut.min(),i?y:gr())).next(P=>(Qh(l,Xl(e),P),{documents:P,Ts:y})))}function Xh(d,e){const i=pt(d),l=pt(i.Ur),h=i.os.get(e);return h?Promise.resolve(h.target):i.persistence.runTransaction("Get target data","readonly",y=>l.ot(y,e).next(T=>T?T.target:null))}function _l(d,e){const i=pt(d),l=i.us.get(e)||Ut.min();return i.persistence.runTransaction("Get new document changes","readonly",h=>i.cs.getAllFromCollectionGroup(h,e,hi(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Qh(i,e,h),h))}function Qh(d,e,i){let l=d.us.get(e)||Ut.min();i.forEach((h,y)=>{y.readTime.compareTo(l)>0&&(l=y.readTime)}),d.us.set(e,l)}function Hd(){return(Hd=(0,s.A)(function*(d,e,i,l){const h=pt(d);let y=gr(),T=ms();for(const q of i){const ae=e.Es(q.metadata.name);q.document&&(y=y.add(ae));const Ce=e.ds(q);Ce.setReadTime(e.As(q.metadata.readTime)),T=T.insert(ae,Ce)}const P=h.cs.newChangeBuffer({trackRemovals:!0}),U=yield Ta(h,(ae=l,pn(te(sn.fromString(`__bundle__/docs/${ae}`)))));var ae;return h.persistence.runTransaction("Apply bundle documents","readwrite",q=>Yh(q,P,T).next(ae=>(P.apply(q),ae)).next(ae=>h.Ur.removeMatchingKeysForTargetId(q,U.targetId).next(()=>h.Ur.addMatchingKeys(q,y,U.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(q,ae.Ps,ae.Is)).next(()=>ae.Ps)))})).apply(this,arguments)}function Jh(d,e){return zc.apply(this,arguments)}function zc(){return(zc=(0,s.A)(function*(d,e,i=gr()){const l=yield Ta(d,pn(pi(e.bundledQuery))),h=pt(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const T=Si(e.readTime);if(l.snapshotVersion.compareTo(T)>=0)return h.Gr.saveNamedQuery(y,e);const P=l.withResumeToken(Pi.EMPTY_BYTE_STRING,T);return h.os=h.os.insert(P.targetId,P),h.Ur.updateTargetData(y,P).next(()=>h.Ur.removeMatchingKeysForTargetId(y,l.targetId)).next(()=>h.Ur.addMatchingKeys(y,i,l.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function kl(d,e){return`firestore_clients_${d}_${e}`}function zd(d,e,i){let l=`firestore_mutations_${d}_${i}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function Wc(d,e){return`firestore_targets_${d}_${e}`}class Wd{constructor(e,i,l,h){this.user=e,this.batchId=i,this.state=l,this.error=h}static Rs(e,i,l){const h=JSON.parse(l);let y,T="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return T&&h.error&&(T="string"==typeof h.error.message&&"string"==typeof h.error.code,T&&(y=new st(h.error.code,h.error.message))),T?new Wd(e,i,h.state,y):(Ze("SharedClientState",`Failed to parse mutation state for ID '${i}': ${l}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fl{constructor(e,i,l){this.targetId=e,this.state=i,this.error=l}static Rs(e,i){const l=JSON.parse(i);let h,y="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(h=new st(l.error.code,l.error.message))),y?new Fl(e,l.state,h):(Ze("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ks{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Rs(e,i){const l=JSON.parse(i);let h="object"==typeof l&&l.activeTargetIds instanceof Array,y=mo();for(let T=0;h&&T<l.activeTargetIds.length;++T)h=dt(l.activeTargetIds[T]),y=y.add(l.activeTargetIds[T]);return h?new Ks(e,y):(Ze("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class C{constructor(e,i){this.clientId=e,this.onlineState=i}static Rs(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new C(i.clientId,i.onlineState):(Ze("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _{constructor(){this.activeTargetIds=mo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,i,l,h,y){this.window=e,this.ui=i,this.persistenceKey=l,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Yr(Qt),this.started=!1,this.bs=[];const T=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=kl(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new _),this.Cs=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,s.A)(function*(){const i=yield e.syncEngine.Qi();for(const h of i){if(h===e.ps)continue;const y=e.getItem(kl(e.persistenceKey,h));if(y){const T=Ks.Rs(h,y);T&&(e.Ss=e.Ss.insert(T.clientId,T))}}e.Ns();const l=e.storage.getItem(e.xs);if(l){const h=e.Ls(l);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let i=!1;return this.Ss.forEach((l,h)=>{h.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,i,l){this.qs(e,i,l),this.Qs(e)}addLocalQueryTarget(e,i=!0){let l="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Wc(this.persistenceKey,e));if(h){const y=Fl.Rs(e,h);y&&(l=y.state)}}return i&&this.Ks.fs(e),this.Ns(),l}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wc(this.persistenceKey,e))}updateQueryState(e,i,l){this.$s(e,i,l)}handleUserChange(e,i,l){i.forEach(h=>{this.Qs(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Ie("SharedClientState","READ",e,i),i}setItem(e,i){Ie("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var i=this;const l=e;if(l.storageArea===this.storage){if(Ie("SharedClientState","EVENT",l.key,l.newValue),l.key===this.Ds)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,s.A)(function*(){if(i.started){if(null!==l.key)if(i.Cs.test(l.key)){if(null==l.newValue){const h=i.Gs(l.key);return i.zs(h,null)}{const h=i.js(l.key,l.newValue);if(h)return i.zs(h.clientId,h)}}else if(i.Fs.test(l.key)){if(null!==l.newValue){const h=i.Hs(l.key,l.newValue);if(h)return i.Js(h)}}else if(i.Ms.test(l.key)){if(null!==l.newValue){const h=i.Ys(l.key,l.newValue);if(h)return i.Zs(h)}}else if(l.key===i.xs){if(null!==l.newValue){const h=i.Ls(l.newValue);if(h)return i.Bs(h)}}else if(l.key===i.vs){const h=function(T){let P=O.oe;if(null!=T)try{const U=JSON.parse(T);Vt("number"==typeof U),P=U}catch(U){Ze("SharedClientState","Failed to read sequence number from WebStorage",U)}return P}(l.newValue);h!==O.oe&&i.sequenceNumberHandler(h)}else if(l.key===i.Os){const h=i.Xs(l.newValue);yield Promise.all(h.map(y=>i.syncEngine.eo(y)))}}else i.bs.push(l)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,i,l){const h=new Wd(this.currentUser,e,i,l),y=zd(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const i=zd(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,i,l){const h=Wc(this.persistenceKey,e),y=new Fl(e,i,l);this.setItem(h,y.Vs())}Ws(e){const i=JSON.stringify(Array.from(e));this.setItem(this.Os,i)}Gs(e){const i=this.Cs.exec(e);return i?i[1]:null}js(e,i){const l=this.Gs(e);return Ks.Rs(l,i)}Hs(e,i){const l=this.Fs.exec(e),h=Number(l[1]);return Wd.Rs(new tt(void 0!==l[2]?l[2]:null),h,i)}Ys(e,i){const l=this.Ms.exec(e),h=Number(l[1]);return Fl.Rs(h,i)}Ls(e){return C.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var i=this;return(0,s.A)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.no(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,i){const l=i?this.Ss.insert(e,i):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(l),T=[],P=[];return y.forEach(U=>{h.has(U)||T.push(U)}),h.forEach(U=>{y.has(U)||P.push(U)}),this.syncEngine.io(T,P).then(()=>{this.Ss=l})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let i=mo();return e.forEach((l,h)=>{i=i.unionWith(h.activeTargetIds)}),i}}class R{constructor(){this.so=new _,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,l){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,l){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _,Promise.resolve()}handleUserChange(e,i,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q{_o(e){}shutdown(){}}class fe{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Je=null;function Rt(){return null===Je?Je=268435456+Math.round(2147483648*Math.random()):Je++,"0x"+Je.toString(16)}const Wt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Pn="WebChannelConnection";class ei extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const l=i.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=l+"://"+i.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(i,l,h,y,T){const P=Rt(),U=this.xo(i,l.toUriEncodedString());Ie("RestConnection",`Sending RPC '${i}' ${P}:`,U,h);const q={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(q,y,T),this.No(i,U,q,h).then(ae=>(Ie("RestConnection",`Received RPC '${i}' ${P}: `,ae),ae),ae=>{throw Xt("RestConnection",`RPC '${i}' ${P} failed with error: `,ae,"url: ",U,"request:",h),ae})}Lo(i,l,h,y,T,P){return this.Mo(i,l,h,y,T)}Oo(i,l,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+Ke,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),l&&l.headers.forEach((y,T)=>i[T]=y),h&&h.headers.forEach((y,T)=>i[T]=y)}xo(i,l){return`${this.Do}/v1/${l}:${Wt[i]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,l,h){const y=Rt();return new Promise((T,P)=>{const U=new he;U.setWithCredentials(!0),U.listenOnce(ve.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Ye.NO_ERROR:const ae=U.getResponseJson();Ie(Pn,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(ae)),T(ae);break;case Ye.TIMEOUT:Ie(Pn,`RPC '${e}' ${y} timed out`),P(new st(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case Ye.HTTP_ERROR:const Ce=U.getStatus();if(Ie(Pn,`RPC '${e}' ${y} failed with status:`,Ce,"response text:",U.getResponseText()),Ce>0){let ze=U.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const Ct=ze?.error;if(Ct&&Ct.status&&Ct.message){const Ht=function(nn){const Kn=nn.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(Kn)>=0?Kn:Ve.UNKNOWN}(Ct.status);P(new st(Ht,Ct.message))}else P(new st(Ve.UNKNOWN,"Server responded with status "+U.getStatus()))}else P(new st(Ve.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{Ie(Pn,`RPC '${e}' ${y} completed.`)}});const q=JSON.stringify(h);Ie(Pn,`RPC '${e}' ${y} sending request:`,h),U.send(i,"POST",q,l,15)})}Bo(e,i,l){const h=Rt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],T=Ge(),P=Bt(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(U.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(U.useFetchStreams=!0),this.Oo(U.initMessageHeaders,i,l),U.encodeInitMessageHeaders=!0;const ae=y.join("");Ie(Pn,`Creating RPC '${e}' stream ${h}: ${ae}`,U);const Ce=T.createWebChannel(ae,U);let ze=!1,Ct=!1;const Ht=new Rn({Io:nn=>{Ct?Ie(Pn,`Not sending because RPC '${e}' stream ${h} is closed:`,nn):(ze||(Ie(Pn,`Opening RPC '${e}' stream ${h} transport.`),Ce.open(),ze=!0),Ie(Pn,`RPC '${e}' stream ${h} sending:`,nn),Ce.send(nn))},To:()=>Ce.close()}),cn=(nn,Kn,ar)=>{nn.listen(Kn,Qn=>{try{ar(Qn)}catch(Nr){setTimeout(()=>{throw Nr},0)}})};return cn(Ce,je.EventType.OPEN,()=>{Ct||(Ie(Pn,`RPC '${e}' stream ${h} transport opened.`),Ht.yo())}),cn(Ce,je.EventType.CLOSE,()=>{Ct||(Ct=!0,Ie(Pn,`RPC '${e}' stream ${h} transport closed`),Ht.So())}),cn(Ce,je.EventType.ERROR,nn=>{Ct||(Ct=!0,Xt(Pn,`RPC '${e}' stream ${h} transport errored:`,nn),Ht.So(new st(Ve.UNAVAILABLE,"The operation could not be completed")))}),cn(Ce,je.EventType.MESSAGE,nn=>{var Kn;if(!Ct){const ar=nn.data[0];Vt(!!ar);const Nr=ar.error||(null===(Kn=ar[0])||void 0===Kn?void 0:Kn.error);if(Nr){Ie(Pn,`RPC '${e}' stream ${h} received error:`,Nr);const Oi=Nr.status;let oi=function(et){const ft=br[et];if(void 0!==ft)return Ui(ft)}(Oi),ht=Nr.message;void 0===oi&&(oi=Ve.INTERNAL,ht="Unknown error status: "+Oi+" with message "+Nr.message),Ct=!0,Ht.So(new st(oi,ht)),Ce.close()}else Ie(Pn,`RPC '${e}' stream ${h} received:`,ar),Ht.bo(ar)}}),cn(P,Tt.STAT_EVENT,nn=>{nn.stat===we.PROXY?Ie(Pn,`RPC '${e}' stream ${h} detected buffering proxy`):nn.stat===we.NOPROXY&&Ie(Pn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Ht.wo()},0),Ht}}function Eo(){return typeof window<"u"?window:null}function ca(){return typeof document<"u"?document:null}function Ll(d){return new Sd(d,!0)}class Kc{constructor(e,i,l=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=i,this.ko=l,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),l=Math.max(0,Date.now()-this.Uo),h=Math.max(0,i-l);h>0&&Ie("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${l} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Kd{constructor(e,i,l,h,y,T,P,U){this.ui=e,this.Ho=l,this.Jo=h,this.connection=y,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=P,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Kc(e,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,s.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,s.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,i){var l=this;return(0,s.A)(function*(){l.u_(),l.c_(),l.t_.cancel(),l.Yo++,4!==e?l.t_.reset():i&&i.code===Ve.RESOURCE_EXHAUSTED?(Ze(i.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),l.t_.Wo()):i&&i.code===Ve.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.l_(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.mo(i)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Yo===i&&this.P_(l,h)},l=>{e(()=>{const h=new st(Ve.UNKNOWN,"Fetching auth token failed: "+l.message);return this.I_(h)})})}P_(e,i){const l=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo(()=>{l(()=>this.listener.Eo())}),this.stream.Ro(()=>{l(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{l(()=>this.I_(h))}),this.stream.onMessage(h=>{l(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,s.A)(function*(){e.state=0,e.start()}))}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget(()=>this.Yo===e?i():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qd extends Kd{constructor(e,i,l,h,y,T){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,l,h,T),this.serializer=y}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=function Rd(d,e){let i;if("targetChange"in e){const l="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Ot(),h=e.targetChange.targetIds||[],y=function(q,ae){return q.useProto3Json?(Vt(void 0===ae||"string"==typeof ae),Pi.fromBase64String(ae||"")):(Vt(void 0===ae||ae instanceof Buffer||ae instanceof Uint8Array),Pi.fromUint8Array(ae||new Uint8Array))}(d,e.targetChange.resumeToken),T=e.targetChange.cause,P=T&&function(q){const ae=void 0===q.code?Ve.UNKNOWN:Ui(q.code);return new st(ae,q.message||"")}(T);i=new wu(l,h,y,P||null)}else if("documentChange"in e){const l=e.documentChange,h=$n(d,l.document.name),y=Si(l.document.updateTime),T=l.document.createTime?Si(l.document.createTime):Ut.min(),P=new Le({mapValue:{fields:l.document.fields}}),U=_t.newFoundDocument(h,y,T,P);i=new Jl(l.targetIds||[],l.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const l=e.documentDelete,h=$n(d,l.document),y=l.readTime?Si(l.readTime):Ut.min(),T=_t.newNoDocument(h,y);i=new Jl([],l.removedTargetIds||[],T.key,T)}else if("documentRemove"in e){const l=e.documentRemove,h=$n(d,l.document);i=new Jl([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Ot();{const l=e.filter,{count:h=0,unchangedNames:y}=l,T=new Ad(h,y);i=new Cu(l.targetId,T)}}var q;return i}(this.serializer,e),l=function(y){if(!("targetChange"in y))return Ut.min();const T=y.targetChange;return T.targetIds&&T.targetIds.length?Ut.min():T.readTime?Si(T.readTime):Ut.min()}(e);return this.listener.d_(i,l)}A_(e){const i={};i.database=Fc(this.serializer),i.addTarget=function(y,T){let P;const U=T.target;if(P=Na(U)?{documents:fo(y,U)}:{query:ja(y,U)._t},P.targetId=T.targetId,T.resumeToken.approximateByteSize()>0){P.resumeToken=Du(y,T.resumeToken);const q=Zt(y,T.expectedCount);null!==q&&(P.expectedCount=q)}else if(T.snapshotVersion.compareTo(Ut.min())>0){P.readTime=Oo(y,T.snapshotVersion.toTimestamp());const q=Zt(y,T.expectedCount);null!==q&&(P.expectedCount=q)}return P}(this.serializer,e);const l=function Pd(d,e){const i=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);l&&(i.labels=l),this.a_(i)}R_(e){const i={};i.database=Fc(this.serializer),i.removeTarget=e,this.a_(i)}}class Ng extends Kd{constructor(e,i,l,h,y,T){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,l,h,T),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=function oo(d,e){return d&&d.length>0?(Vt(void 0!==e),d.map(i=>function(h,y){let T=Si(h.updateTime?h.updateTime:y);return T.isEqual(Ut.min())&&(T=Si(y)),new $(T,h.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),l=Si(e.commitTime);return this.listener.g_(l,i)}p_(){const e={};e.database=Fc(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map(l=>al(this.serializer,l))};this.a_(i)}}class hp extends class{}{constructor(e,i,l,h){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=l,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new st(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,l,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,T])=>this.connection.Mo(e,Su(i,l),h,y,T)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new st(Ve.UNKNOWN,y.toString())})}Lo(e,i,l,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([T,P])=>this.connection.Lo(e,Su(i,l),h,T,P,y)).catch(T=>{throw"FirebaseError"===T.name?(T.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),T):new st(Ve.UNKNOWN,T.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Yd{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ze(i),this.D_=!1):Ie("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class kg{constructor(e,i,l,h,y){var T=this;this.localStore=e,this.datastore=i,this.asyncQueue=l,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(P=>{l.enqueueAndForget((0,s.A)(function*(){var U;Ia(T)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,s.A)(function*(ae){const Ce=pt(ae);Ce.L_.add(4),yield Xd(Ce),Ce.q_.set("Unknown"),Ce.L_.delete(4),yield ua(Ce)}),function q(ae){return U.apply(this,arguments)})(T))}))}),this.q_=new Yd(l,h)}}function ua(d){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,s.A)(function*(d){if(Ia(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Xd(d){return da.apply(this,arguments)}function da(){return(da=(0,s.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Wu(d,e){const i=pt(d);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),tf(i)?ef(i):Yu(i).r_()&&Qd(i,e))}function lc(d,e){const i=pt(d),l=Yu(i);i.N_.delete(e),l.r_()&&fp(i,e),0===i.N_.size&&(l.r_()?l.o_():Ia(i)&&i.q_.set("Unknown"))}function Qd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const i=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Yu(d).A_(e)}function fp(d,e){d.Q_.xe(e),Yu(d).R_(e)}function ef(d){d.Q_=new Au({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Yu(d).start(),d.q_.v_()}function tf(d){return Ia(d)&&!Yu(d).n_()&&d.N_.size>0}function Ia(d){return 0===pt(d).L_.size}function pp(d){d.Q_=void 0}function e_(d){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,s.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function gp(d){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,s.A)(function*(d){d.N_.forEach((e,i)=>{Qd(d,e)})})).apply(this,arguments)}function t_(d,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,s.A)(function*(d,e){pp(d),tf(d)?(d.q_.M_(e),ef(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Ly(d,e,i){return mp.apply(this,arguments)}function mp(){return mp=(0,s.A)(function*(d,e,i){if(d.q_.set("Online"),e instanceof wu&&2===e.state&&e.cause)try{yield(l=(0,s.A)(function*(y,T){const P=T.cause;for(const U of T.targetIds)y.N_.has(U)&&(yield y.remoteSyncer.rejectListen(U,P),y.N_.delete(U),y.Q_.removeTarget(U))}),function h(y,T){return l.apply(this,arguments)})(d,e)}catch(l){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Zd(d,l)}else if(e instanceof Jl?d.Q_.Ke(e):e instanceof Cu?d.Q_.He(e):d.Q_.We(e),!i.isEqual(Ut.min()))try{const l=yield $d(d.localStore);i.compareTo(l)>=0&&(yield function(y,T){const P=y.Q_.rt(T);return P.targetChanges.forEach((U,q)=>{if(U.resumeToken.approximateByteSize()>0){const ae=y.N_.get(q);ae&&y.N_.set(q,ae.withResumeToken(U.resumeToken,T))}}),P.targetMismatches.forEach((U,q)=>{const ae=y.N_.get(U);if(!ae)return;y.N_.set(U,ae.withResumeToken(Pi.EMPTY_BYTE_STRING,ae.snapshotVersion)),fp(y,U);const Ce=new F(ae.target,U,q,ae.sequenceNumber);Qd(y,Ce)}),y.remoteSyncer.applyRemoteEvent(P)}(d,i))}catch(l){Ie("RemoteStore","Failed to raise snapshot:",l),yield Zd(d,l)}var l}),mp.apply(this,arguments)}function Zd(d,e,i){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,s.A)(function*(d,e,i){if(!Vn(e))throw e;d.L_.add(1),yield Xd(d),d.q_.set("Offline"),i||(i=()=>$d(d.localStore)),d.asyncQueue.enqueueRetryable((0,s.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield i(),d.L_.delete(1),yield ua(d)}))})).apply(this,arguments)}function n_(d,e){return e().catch(i=>Zd(d,i,e))}function Ca(d){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,s.A)(function*(d){const e=pt(d),i=cc(e);let l=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;r_(e);)try{const h=yield Og(e.localStore,l);if(null===h){0===e.O_.length&&i.o_();break}l=h.batchId,Vy(e,h)}catch(h){yield Zd(e,h)}Xo(e)&&_p(e)})).apply(this,arguments)}function r_(d){return Ia(d)&&d.O_.length<10}function Vy(d,e){d.O_.push(e);const i=cc(d);i.r_()&&i.V_&&i.m_(e.mutations)}function Xo(d){return Ia(d)&&!cc(d).n_()&&d.O_.length>0}function _p(d){cc(d).start()}function i_(d){return nf.apply(this,arguments)}function nf(){return(nf=(0,s.A)(function*(d){cc(d).p_()})).apply(this,arguments)}function Vo(d){return qu.apply(this,arguments)}function qu(){return(qu=(0,s.A)(function*(d){const e=cc(d);for(const i of d.O_)e.m_(i.mutations)})).apply(this,arguments)}function s_(d,e,i){return yp.apply(this,arguments)}function yp(){return(yp=(0,s.A)(function*(d,e,i){const l=d.O_.shift(),h=xo.from(l,e,i);yield n_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Ca(d)})).apply(this,arguments)}function Uy(d,e){return vp.apply(this,arguments)}function vp(){return vp=(0,s.A)(function*(d,e){var i;e&&cc(d).V_&&(yield(i=(0,s.A)(function*(h,y){if(Hs(P=y.code)&&P!==Ve.ABORTED){const T=h.O_.shift();cc(h).s_(),yield n_(h,()=>h.remoteSyncer.rejectFailedWrite(T.batchId,y)),yield Ca(h)}var P}),function l(h,y){return i.apply(this,arguments)})(d,e)),Xo(d)&&_p(d)}),vp.apply(this,arguments)}function Ep(d,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,s.A)(function*(d,e){const i=pt(d);i.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const l=Ia(i);i.L_.add(3),yield Xd(i),l&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),yield ua(i)})).apply(this,arguments)}function eh(d,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,s.A)(function*(d,e){const i=pt(d);e?(i.L_.delete(2),yield ua(i)):e||(i.L_.add(2),yield Xd(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Yu(d){return d.K_||(d.K_=function(i,l,h){const y=pt(i);return y.w_(),new qd(l,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:e_.bind(null,d),Ro:gp.bind(null,d),mo:t_.bind(null,d),d_:Ly.bind(null,d)}),d.B_.push(function(){var e=(0,s.A)(function*(i){i?(d.K_.s_(),tf(d)?ef(d):d.q_.set("Unknown")):(yield d.K_.stop(),pp(d))});return function(i){return e.apply(this,arguments)}}())),d.K_}function cc(d){return d.U_||(d.U_=function(i,l,h){const y=pt(i);return y.w_(),new Ng(l,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:i_.bind(null,d),mo:Uy.bind(null,d),f_:Vo.bind(null,d),g_:s_.bind(null,d)}),d.B_.push(function(){var e=(0,s.A)(function*(i){i?(d.U_.s_(),yield Ca(d)):(yield d.U_.stop(),d.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(i){return e.apply(this,arguments)}}())),d.U_}class uc{constructor(e,i,l,h,y){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=l,this.op=h,this.removalCallback=y,this.deferred=new it,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,l,h,y){const T=Date.now()+l,P=new uc(e,i,T,h,y);return P.start(l),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vl(d,e){if(Ze("AsyncQueue",`${e}: ${d}`),Vn(d))return new st(Ve.UNAVAILABLE,`${e}: ${d}`);throw d}class th{constructor(e){this.comparator=e?(i,l)=>e(i,l)||Gt.comparator(i.key,l.key):(i,l)=>Gt.comparator(i.key,l.key),this.keyedMap=ho(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new th(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,l)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof th)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=l.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const l=new th;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=i,l}}class nh{constructor(){this.W_=new Yr(Gt.comparator)}track(e){const i=e.doc.key,l=this.W_.get(i);l?0!==e.type&&3===l.type?this.W_=this.W_.insert(i,e):3===e.type&&1!==l.type?this.W_=this.W_.insert(i,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.W_=this.W_.remove(i):1===e.type&&2===l.type?this.W_=this.W_.insert(i,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Ot():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal((i,l)=>{e.push(l)}),e}}class rh{constructor(e,i,l,h,y,T,P,U,q){this.query=e,this.docs=i,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=y,this.fromCache=T,this.syncStateChanged=P,this.excludesMetadataChanges=U,this.hasCachedResults=q}static fromInitialDocuments(e,i,l,h,y){const T=[];return i.forEach(P=>{T.push({type:0,doc:P})}),new rh(e,i,th.emptySet(i),T,l,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,l=e.docChanges;if(i.length!==l.length)return!1;for(let h=0;h<i.length;h++)if(i[h].type!==l[h].type||!i[h].doc.isEqual(l[h].doc))return!1;return!0}}class jy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class o_{constructor(){this.queries=Ug(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,l){const h=pt(i),y=h.queries;h.queries=Ug(),y.forEach((T,P)=>{for(const U of P.j_)U.onError(l)})}(this,new st(Ve.ABORTED,"Firestore shutting down"))}}function Ug(){return new Wi(d=>Ps(d),uo)}function Ip(d,e){return qc.apply(this,arguments)}function qc(){return(qc=(0,s.A)(function*(d,e){const i=pt(d);let l=3;const h=e.query;let y=i.queries.get(h);y?!y.H_()&&e.J_()&&(l=2):(y=new jy,l=e.J_()?0:1);try{switch(l){case 0:y.z_=yield i.onListen(h,!0);break;case 1:y.z_=yield i.onListen(h,!1);break;case 2:yield i.onFirstRemoteStoreListen(h)}}catch(T){const P=Vl(T,`Initialization of query '${es(e.query)}' failed`);return void e.onError(P)}i.queries.set(h,y),y.j_.push(e),e.Z_(i.onlineState),y.z_&&e.X_(y.z_)&&Bg(i)})).apply(this,arguments)}function ih(d,e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,s.A)(function*(d,e){const i=pt(d),l=e.query;let h=3;const y=i.queries.get(l);if(y){const T=y.j_.indexOf(e);T>=0&&(y.j_.splice(T,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return i.queries.delete(l),i.onUnlisten(l,!0);case 1:return i.queries.delete(l),i.onUnlisten(l,!1);case 2:return i.onLastRemoteStoreUnlisten(l);default:return}})).apply(this,arguments)}function jg(d,e){const i=pt(d);let l=!1;for(const h of e){const T=i.queries.get(h.query);if(T){for(const P of T.j_)P.X_(h)&&(l=!0);T.z_=h}}l&&Bg(i)}function wp(d,e,i){const l=pt(d),h=l.queries.get(e);if(h)for(const y of h.j_)y.onError(i);l.queries.delete(e)}function Bg(d){d.Y_.forEach(e=>{e.next()})}var $g,a_;(a_=$g||($g={})).ea="default",a_.Cache="cache";class Yc{constructor(e,i,l){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=l||{}}X_(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new rh(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===i)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$g.Cache}}class By{constructor(e,i){this.aa=e,this.byteLength=i}ua(){return"metadata"in this.aa}}class l_{constructor(e){this.serializer=e}Es(e){return $n(this.serializer,e)}ds(e){return e.metadata.exists?tc(this.serializer,e.document,!1):_t.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Si(e)}}class c_{constructor(e,i,l){this.ca=e,this.localStore=i,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++i;const l=sn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(e){const i=new Map,l=new l_(this.serializer);for(const h of e)if(h.metadata.queries){const y=l.Es(h.metadata.name);for(const T of h.metadata.queries){const P=(i.get(T)||gr()).add(y);i.set(T,P)}}return i}complete(){var e=this;return(0,s.A)(function*(){const i=yield function zu(d,e,i,l){return Hd.apply(this,arguments)}(e.localStore,new l_(e.serializer),e.documents,e.ca.id),l=e.ha(e.documents);for(const h of e.queries)yield Jh(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:i}})()}}function rf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class Ap{constructor(e){this.key=e}}class sh{constructor(e){this.key=e}}class u_{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=gr(),this.mutatedKeys=gr(),this.Aa=xs(e),this.Ra=new th(this.Aa)}get Va(){return this.Ta}ma(e,i){const l=i?i.fa:new nh,h=i?i.Ra:this.Ra;let y=i?i.mutatedKeys:this.mutatedKeys,T=h,P=!1;const U="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,q="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ae,Ce)=>{const ze=h.get(ae),Ct=Go(this.query,Ce)?Ce:null,Ht=!!ze&&this.mutatedKeys.has(ze.key),cn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let nn=!1;ze&&Ct?ze.data.isEqual(Ct.data)?Ht!==cn&&(l.track({type:3,doc:Ct}),nn=!0):this.ga(ze,Ct)||(l.track({type:2,doc:Ct}),nn=!0,(U&&this.Aa(Ct,U)>0||q&&this.Aa(Ct,q)<0)&&(P=!0)):!ze&&Ct?(l.track({type:0,doc:Ct}),nn=!0):ze&&!Ct&&(l.track({type:1,doc:ze}),nn=!0,(U||q)&&(P=!0)),nn&&(Ct?(T=T.add(Ct),y=cn?y.add(ae):y.delete(ae)):(T=T.delete(ae),y=y.delete(ae)))}),null!==this.query.limit)for(;T.size>this.query.limit;){const ae="F"===this.query.limitType?T.last():T.first();T=T.delete(ae.key),y=y.delete(ae.key),l.track({type:1,doc:ae})}return{Ra:T,fa:l,ns:P,mutatedKeys:y}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,l,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const T=e.fa.G_();T.sort((ae,Ce)=>function(Ct,Ht){const cn=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return cn(Ct)-cn(Ht)}(ae.type,Ce.type)||this.Aa(ae.doc,Ce.doc)),this.pa(l),h=null!=h&&h;const P=i&&!h?this.ya():[],U=0===this.da.size&&this.current&&!h?1:0,q=U!==this.Ea;return this.Ea=U,0!==T.length||q?{snapshot:new rh(this.query,e.Ra,y,T,e.mutatedKeys,0===U,q,!1,!!l&&l.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=gr(),this.Ra.forEach(l=>{this.Sa(l.key)&&(this.da=this.da.add(l.key))});const i=[];return e.forEach(l=>{this.da.has(l)||i.push(new sh(l))}),this.da.forEach(l=>{e.has(l)||i.push(new Ap(l))}),i}ba(e){this.Ta=e.Ts,this.da=gr();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return rh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class cE{constructor(e,i,l){this.query=e,this.targetId=i,this.view=l}}class sf{constructor(e){this.key=e,this.va=!1}}class d_{constructor(e,i,l,h,y,T){this.localStore=e,this.remoteStore=i,this.eventManager=l,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=T,this.Ca={},this.Fa=new Wi(P=>Ps(P),uo),this.Ma=new Map,this.xa=new Set,this.Oa=new Yr(Gt.comparator),this.Na=new Map,this.La=new lp,this.Ba={},this.ka=new Map,this.qa=Rl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Xu(d,e){return af.apply(this,arguments)}function af(){return(af=(0,s.A)(function*(d,e,i=!0){const l=Fp(d);let h;const y=l.Fa.get(e);return y?(l.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield oh(l,e,i,!0),h})).apply(this,arguments)}function h_(d,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,s.A)(function*(d,e){const i=Fp(d);yield oh(i,e,!0,!1)})).apply(this,arguments)}function oh(d,e,i,l){return ah.apply(this,arguments)}function ah(){return(ah=(0,s.A)(function*(d,e,i,l){const h=yield Ta(d.localStore,pn(e)),y=h.targetId,T=d.sharedClientState.addLocalQueryTarget(y,i);let P;return l&&(P=yield lf(d,e,y,"current"===T,h.resumeToken)),d.isPrimaryClient&&i&&Wu(d.remoteStore,h),P})).apply(this,arguments)}function lf(d,e,i,l,h){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,s.A)(function*(d,e,i,l,h){d.Ka=(Ce,ze,Ct)=>{return(Ht=(0,s.A)(function*(nn,Kn,ar,Qn){let Nr=Kn.view.ma(ar);Nr.ns&&(Nr=yield ml(nn.localStore,Kn.query,!1).then(({documents:Ue})=>Kn.view.ma(Ue,Nr)));const Oi=Qn&&Qn.targetChanges.get(Kn.targetId),oi=Qn&&null!=Qn.targetMismatches.get(Kn.targetId),ht=Kn.view.applyChanges(Nr,nn.isPrimaryClient,Oi,oi);return Qc(nn,Kn.targetId,ht.wa),ht.snapshot}),function cn(nn,Kn,ar,Qn){return Ht.apply(this,arguments)})(d,Ce,ze,Ct);var Ht};const y=yield ml(d.localStore,e,!0),T=new u_(e,y.Ts),P=T.ma(y.documents),U=_a.createSynthesizedTargetChangeForCurrentChange(i,l&&"Offline"!==d.onlineState,h),q=T.applyChanges(P,d.isPrimaryClient,U);Qc(d,i,q.wa);const ae=new cE(e,i,T);return d.Fa.set(e,ae),d.Ma.has(i)?d.Ma.get(i).push(e):d.Ma.set(i,[e]),q.snapshot}),Dp.apply(this,arguments)}function Hg(d,e,i){return zg.apply(this,arguments)}function zg(){return(zg=(0,s.A)(function*(d,e,i){const l=pt(d),h=l.Fa.get(e),y=l.Ma.get(h.targetId);if(y.length>1)return l.Ma.set(h.targetId,y.filter(T=>!uo(T,e))),void l.Fa.delete(e);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(h.targetId),l.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Hc(l.localStore,h.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(h.targetId),i&&lc(l.remoteStore,h.targetId),dc(l,h.targetId)}).catch(Hn))):(dc(l,h.targetId),yield Hc(l.localStore,h.targetId,!0))})).apply(this,arguments)}function f_(d,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,s.A)(function*(d,e){const i=pt(d),l=i.Fa.get(e),h=i.Ma.get(l.targetId);i.isPrimaryClient&&1===h.length&&(i.sharedClientState.removeLocalQueryTarget(l.targetId),lc(i.remoteStore,l.targetId))})).apply(this,arguments)}function Qu(){return(Qu=(0,s.A)(function*(d,e,i){const l=Jg(d);try{const h=yield function(T,P){const U=pt(T),q=zt.now(),ae=P.reduce((Ct,Ht)=>Ct.add(Ht.key),gr());let Ce,ze;return U.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let Ht=ms(),cn=gr();return U.cs.getEntries(Ct,ae).next(nn=>{Ht=nn,Ht.forEach((Kn,ar)=>{ar.isValidDocument()||(cn=cn.add(Kn))})}).next(()=>U.localDocuments.getOverlayedDocuments(Ct,Ht)).next(nn=>{Ce=nn;const Kn=[];for(const ar of P){const Qn=si(ar,Ce.get(ar.key).overlayedDocument);null!=Qn&&Kn.push(new ci(ar.key,Qn,nt(Qn.value.mapValue),X.exists(!0)))}return U.mutationQueue.addMutationBatch(Ct,q,Kn,P)}).next(nn=>{ze=nn;const Kn=nn.applyToLocalDocumentSet(Ce,cn);return U.documentOverlayCache.saveOverlays(Ct,nn.batchId,Kn)})}).then(()=>({batchId:ze.batchId,changes:sa(Ce)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(T,P,U){let q=T.Ba[T.currentUser.toKey()];q||(q=new Yr(Qt)),q=q.insert(P,U),T.Ba[T.currentUser.toKey()]=q}(l,h.batchId,i),yield hc(l,h.changes),yield Ca(l.remoteStore)}catch(h){const y=Vl(h,"Failed to persist write");i.reject(y)}})).apply(this,arguments)}function Wg(d,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,s.A)(function*(d,e){const i=pt(d);try{const l=yield function dp(d,e){const i=pt(d),l=e.snapshotVersion;let h=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const T=i.cs.newChangeBuffer({trackRemovals:!0});h=i.os;const P=[];e.targetChanges.forEach((ae,Ce)=>{const ze=h.get(Ce);if(!ze)return;P.push(i.Ur.removeMatchingKeys(y,ae.removedDocuments,Ce).next(()=>i.Ur.addMatchingKeys(y,ae.addedDocuments,Ce)));let Ct=ze.withSequenceNumber(y.currentSequenceNumber);var cn,nn,Kn;null!==e.targetMismatches.get(Ce)?Ct=Ct.withResumeToken(Pi.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):ae.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(ae.resumeToken,l)),h=h.insert(Ce,Ct),nn=Ct,Kn=ae,(0===(cn=ze).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-cn.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&P.push(i.Ur.updateTargetData(y,Ct))});let U=ms(),q=gr();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&P.push(i.persistence.referenceDelegate.updateLimboDocument(y,ae))}),P.push(Yh(y,T,e.documentUpdates).next(ae=>{U=ae.Ps,q=ae.Is})),!l.isEqual(Ut.min())){const ae=i.Ur.getLastRemoteSnapshotVersion(y).next(Ce=>i.Ur.setTargetsMetadata(y,y.currentSequenceNumber,l));P.push(ae)}return at.waitFor(P).next(()=>T.apply(y)).next(()=>i.localDocuments.getLocalViewOfDocuments(y,U,q)).next(()=>U)}).then(y=>(i.os=h,y))}(i.localStore,e);e.targetChanges.forEach((h,y)=>{const T=i.Na.get(y);T&&(Vt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?T.va=!0:h.modifiedDocuments.size>0?Vt(T.va):h.removedDocuments.size>0&&(Vt(T.va),T.va=!1))}),yield hc(i,l,e)}catch(l){yield Hn(l)}})).apply(this,arguments)}function Xc(d,e,i){const l=pt(d);if(l.isPrimaryClient&&0===i||!l.isPrimaryClient&&1===i){const h=[];l.Fa.forEach((y,T)=>{const P=T.view.Z_(e);P.snapshot&&h.push(P.snapshot)}),function(T,P){const U=pt(T);U.onlineState=P;let q=!1;U.queries.forEach((ae,Ce)=>{for(const ze of Ce.j_)ze.Z_(P)&&(q=!0)}),q&&Bg(U)}(l.eventManager,e),h.length&&l.Ca.d_(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function p_(d,e,i){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,s.A)(function*(d,e,i){const l=pt(d);l.sharedClientState.updateQueryState(e,"rejected",i);const h=l.Na.get(e),y=h&&h.key;if(y){let T=new Yr(Gt.comparator);T=T.insert(y,_t.newNoDocument(y,Ut.min()));const P=gr().add(y),U=new ws(Ut.min(),new Map,new Yr(Qt),T,P);yield Wg(l,U),l.Oa=l.Oa.remove(y),l.Na.delete(e),df(l)}else yield Hc(l.localStore,e,!1).then(()=>dc(l,e,i)).catch(Hn)})).apply(this,arguments)}function yl(d,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,s.A)(function*(d,e){const i=pt(d),l=e.batch.batchId;try{const h=yield function up(d,e){const i=pt(d);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),y=i.cs.newChangeBuffer({trackRemovals:!0});return function(P,U,q,ae){const Ce=q.batch,ze=Ce.keys();let Ct=at.resolve();return ze.forEach(Ht=>{Ct=Ct.next(()=>ae.getEntry(U,Ht)).next(cn=>{const nn=q.docVersions.get(Ht);Vt(null!==nn),cn.version.compareTo(nn)<0&&(Ce.applyToRemoteDocument(cn,q),cn.isValidDocument()&&(cn.setReadTime(q.commitVersion),ae.addEntry(cn)))})}),Ct.next(()=>P.mutationQueue.removeMutationBatch(U,Ce))}(i,l,e,y).next(()=>y.apply(l)).next(()=>i.mutationQueue.performConsistencyCheck(l)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(P){let U=gr();for(let q=0;q<P.mutationResults.length;++q)P.mutationResults[q].transformResults.length>0&&(U=U.add(P.batch.mutations[q].key));return U}(e))).next(()=>i.localDocuments.getDocuments(l,h))})}(i.localStore,e);Mp(i,l,null),xp(i,l),i.sharedClientState.updateMutationState(l,"acknowledged"),yield hc(i,h)}catch(h){yield Hn(h)}})).apply(this,arguments)}function g_(d,e,i){return qg.apply(this,arguments)}function qg(){return(qg=(0,s.A)(function*(d,e,i){const l=pt(d);try{const h=yield function(T,P){const U=pt(T);return U.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let ae;return U.mutationQueue.lookupMutationBatch(q,P).next(Ce=>(Vt(null!==Ce),ae=Ce.keys(),U.mutationQueue.removeMutationBatch(q,Ce))).next(()=>U.mutationQueue.performConsistencyCheck(q)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(q,ae,P)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,ae)).next(()=>U.localDocuments.getDocuments(q,ae))})}(l.localStore,e);Mp(l,e,i),xp(l,e),l.sharedClientState.updateMutationState(e,"rejected",i),yield hc(l,h)}catch(h){yield Hn(h)}})).apply(this,arguments)}function Yg(){return(Yg=(0,s.A)(function*(d,e){const i=pt(d);Ia(i.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(T){const P=pt(T);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>P.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===l)return void e.resolve();const h=i.ka.get(l)||[];h.push(e),i.ka.set(l,h)}catch(l){const h=Vl(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function xp(d,e){(d.ka.get(e)||[]).forEach(i=>{i.resolve()}),d.ka.delete(e)}function Mp(d,e,i){const l=pt(d);let h=l.Ba[l.currentUser.toKey()];if(h){const y=h.get(e);y&&(i?y.reject(i):y.resolve(),h=h.remove(e)),l.Ba[l.currentUser.toKey()]=h}}function dc(d,e,i=null){d.sharedClientState.removeLocalQueryTarget(e);for(const l of d.Ma.get(e))d.Fa.delete(l),i&&d.Ca.$a(l,i);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(l=>{d.La.containsKey(l)||uf(d,l)})}function uf(d,e){d.xa.delete(e.path.canonicalString());const i=d.Oa.get(e);null!==i&&(lc(d.remoteStore,i),d.Oa=d.Oa.remove(e),d.Na.delete(i),df(d))}function Qc(d,e,i){for(const l of i)l instanceof Ap?(d.La.addReference(l.key,e),m_(d,l)):l instanceof sh?(Ie("SyncEngine","Document no longer in limbo: "+l.key),d.La.removeReference(l.key,e),d.La.containsKey(l.key)||uf(d,l.key)):Ot()}function m_(d,e){const i=e.key,l=i.path.canonicalString();d.Oa.get(i)||d.xa.has(l)||(Ie("SyncEngine","New document in limbo: "+i),d.xa.add(l),df(d))}function df(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const i=new Gt(sn.fromString(e)),l=d.qa.next();d.Na.set(l,new sf(i)),d.Oa=d.Oa.insert(i,l),Wu(d.remoteStore,new F(pn(te(i.path)),l,"TargetPurposeLimboResolution",O.oe))}}function hc(d,e,i){return fc.apply(this,arguments)}function fc(){return fc=(0,s.A)(function*(d,e,i){const l=pt(d),h=[],y=[],T=[];var P;l.Fa.isEmpty()||(l.Fa.forEach((P,U)=>{T.push(l.Ka(U,e,i).then(q=>{var ae;if((q||i)&&l.isPrimaryClient){const Ce=q?!q.fromCache:null===(ae=i?.targetChanges.get(U.targetId))||void 0===ae?void 0:ae.current;l.sharedClientState.updateQueryState(U.targetId,Ce?"current":"not-current")}if(q){h.push(q);const Ce=cp.Wi(U.targetId,q);y.push(Ce)}}))}),yield Promise.all(T),l.Ca.d_(h),yield(P=(0,s.A)(function*(q,ae){const Ce=pt(q);try{yield Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",ze=>at.forEach(ae,Ct=>at.forEach(Ct.$i,Ht=>Ce.persistence.referenceDelegate.addReference(ze,Ct.targetId,Ht)).next(()=>at.forEach(Ct.Ui,Ht=>Ce.persistence.referenceDelegate.removeReference(ze,Ct.targetId,Ht)))))}catch(ze){if(!Vn(ze))throw ze;Ie("LocalStore","Failed to update sequence numbers: "+ze)}for(const ze of ae){const Ct=ze.targetId;if(!ze.fromCache){const Ht=Ce.os.get(Ct),nn=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);Ce.os=Ce.os.insert(Ct,nn)}}}),function U(q,ae){return P.apply(this,arguments)})(l.localStore,y))}),fc.apply(this,arguments)}function Op(d,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,s.A)(function*(d,e){const i=pt(d);if(!i.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const l=yield Wa(i.localStore,e);i.currentUser=e,(y=i).ka.forEach(P=>{P.forEach(U=>{U.reject(new st(Ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),i.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield hc(i,l.hs)}var y})).apply(this,arguments)}function lh(d,e){const i=pt(d),l=i.Na.get(e);if(l&&l.va)return gr().add(l.key);{let h=gr();const y=i.Ma.get(e);if(!y)return h;for(const T of y){const P=i.Fa.get(T);h=h.unionWith(P.view.Va)}return h}}function ff(d,e){return pf.apply(this,arguments)}function pf(){return(pf=(0,s.A)(function*(d,e){const i=pt(d),l=yield ml(i.localStore,e.query,!0),h=e.view.ba(l);return i.isPrimaryClient&&Qc(i,e.targetId,h.wa),h})).apply(this,arguments)}function Np(d,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,s.A)(function*(d,e){const i=pt(d);return _l(i.localStore,e).then(l=>hc(i,l))})).apply(this,arguments)}function __(d,e,i,l){return pc.apply(this,arguments)}function pc(){return(pc=(0,s.A)(function*(d,e,i,l){const h=pt(d),y=yield function(P,U){const q=pt(P),ae=pt(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",Ce=>ae.Mn(Ce,U).next(ze=>ze?q.localDocuments.getDocuments(Ce,ze):at.resolve(null)))}(h.localStore,e);var U;null!==y?("pending"===i?yield Ca(h.remoteStore):"acknowledged"===i||"rejected"===i?(Mp(h,e,l||null),xp(h,e),U=e,pt(pt(h.localStore).mutationQueue).On(U)):Ot(),yield hc(h,y)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function gf(){return(gf=(0,s.A)(function*(d,e){const i=pt(d);if(Fp(i),Jg(i),!0===e&&!0!==i.Qa){const l=i.sharedClientState.getAllActiveQueryTargets(),h=yield v_(i,l.toArray());i.Qa=!0,yield eh(i.remoteStore,!0);for(const y of h)Wu(i.remoteStore,y)}else if(!1===e&&!1!==i.Qa){const l=[];let h=Promise.resolve();i.Ma.forEach((y,T)=>{i.sharedClientState.isLocalQueryTarget(T)?l.push(T):h=h.then(()=>(dc(i,T),Hc(i.localStore,T,!0))),lc(i.remoteStore,T)}),yield h,yield v_(i,l),function(T){const P=pt(T);P.Na.forEach((U,q)=>{lc(P.remoteStore,q)}),P.La.pr(),P.Na=new Map,P.Oa=new Yr(Gt.comparator)}(i),i.Qa=!1,yield eh(i.remoteStore,!1)}})).apply(this,arguments)}function v_(d,e,i){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,s.A)(function*(d,e,i){const l=pt(d),h=[],y=[];for(const T of e){let P;const U=l.Ma.get(T);if(U&&0!==U.length){P=yield Ta(l.localStore,pn(U[0]));for(const q of U){const ae=l.Fa.get(q),Ce=yield ff(l,ae);Ce.snapshot&&y.push(Ce.snapshot)}}else{const q=yield Xh(l.localStore,T);P=yield Ta(l.localStore,q),yield lf(l,E_(q),T,!1,P.resumeToken)}h.push(P)}return l.Ca.d_(y),h})).apply(this,arguments)}function E_(d){return K(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function Zc(d){return i=pt(d).localStore,pt(pt(i).persistence).Qi();var i}function wa(d,e,i,l){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,s.A)(function*(d,e,i,l){const h=pt(d);if(h.Qa)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(i){case"current":case"not-current":{const T=yield _l(h.localStore,Xl(y[0])),P=ws.createSynthesizedRemoteEventForCurrentChange(e,"current"===i,Pi.EMPTY_BYTE_STRING);yield hc(h,T,P);break}case"rejected":yield Hc(h.localStore,e,!0),dc(h,e,l);break;default:Ot()}})).apply(this,arguments)}function Gy(d,e,i){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,s.A)(function*(d,e,i){const l=Fp(d);if(l.Qa){for(const h of e){if(l.Ma.has(h)&&l.sharedClientState.isActiveQueryTarget(h)){Ie("SyncEngine","Adding an already active target "+h);continue}const y=yield Xh(l.localStore,h),T=yield Ta(l.localStore,y);yield lf(l,E_(y),T.targetId,!1,T.resumeToken),Wu(l.remoteStore,T)}for(const h of i)l.Ma.has(h)&&(yield Hc(l.localStore,h,!1).then(()=>{lc(l.remoteStore,h),dc(l,h)}).catch(Hn))}})).apply(this,arguments)}function Fp(d){const e=pt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p_.bind(null,e),e.Ca.d_=jg.bind(null,e.eventManager),e.Ca.$a=wp.bind(null,e.eventManager),e}function Jg(d){const e=pt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g_.bind(null,e),e}let Ju=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var l=this;return(0,s.A)(function*(){l.serializer=Ll(i.databaseInfo.databaseId),l.sharedClientState=l.Wa(i),l.persistence=l.Ga(i),yield l.persistence.start(),l.localStore=l.za(i),l.gcScheduler=l.ja(i,l.localStore),l.indexBackfillerScheduler=l.Ha(i,l.localStore)})()}ja(i,l){return null}Ha(i,l){return null}za(i){return Bd(this.persistence,new za,i.initialUser,this.serializer)}Ga(i){return new Kh(Vd.Zr,this.serializer)}Wa(i){return new R}terminate(){var i=this;return(0,s.A)(function*(){var l,h;null===(l=i.gcScheduler)||void 0===l||l.stop(),null===(h=i.indexBackfillerScheduler)||void 0===h||h.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Zg extends Ju{constructor(e,i,l){super(),this.Ja=e,this.cacheSizeBytes=i,this.forceOwnership=l,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,l=this;return(0,s.A)(function*(){yield i().call(l,e),yield l.Ja.initialize(l,e),yield Jg(l.Ja.syncEngine),yield Ca(l.Ja.remoteStore),yield l.persistence.yi(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Bd(this.persistence,new za,e.initialUser,this.serializer)}ja(e,i){return new gl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,i)}Ha(e,i){const l=new A(i,this.persistence);return new x(e.asyncQueue,l)}Ga(e){const i=jd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new Ud(this.synchronizeTabs,i,e.clientId,l,e.asyncQueue,Eo(),ca(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new R}}class em extends Zg{constructor(e,i){super(e,i,!1),this.Ja=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,l=this;return(0,s.A)(function*(){yield i().call(l,e);const h=l.Ja.syncEngine;l.sharedClientState instanceof v&&(l.sharedClientState.syncEngine={no:__.bind(null,h),ro:wa.bind(null,h),io:Gy.bind(null,h),Qi:Zc.bind(null,h),eo:Np.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.yi(function(){var y=(0,s.A)(function*(T){yield function y_(d,e){return gf.apply(this,arguments)}(l.Ja.syncEngine,T),l.gcScheduler&&(T&&!l.gcScheduler.started?l.gcScheduler.start():T||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(T&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():T||l.indexBackfillerScheduler.stop())});return function(T){return y.apply(this,arguments)}}())})()}Wa(e){const i=Eo();if(!v.D(i))throw new st(Ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=jd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(i,e.asyncQueue,l,e.clientId,e.initialUser)}}let gc=(()=>{class d{initialize(i,l){var h=this;return(0,s.A)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(l),h.remoteStore=h.createRemoteStore(l),h.eventManager=h.createEventManager(l),h.syncEngine=h.createSyncEngine(l,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>Xc(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=Op.bind(null,h.syncEngine),yield eh(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new o_}createDatastore(i){const l=Ll(i.databaseInfo.databaseId),h=new ei(i.databaseInfo);return new hp(i.authCredentials,i.appCheckCredentials,h,l)}createRemoteStore(i){return h=this.localStore,y=this.datastore,T=i.asyncQueue,P=l=>Xc(this.syncEngine,l,0),U=fe.D()?new fe:new Q,new kg(h,y,T,P,U);var h,y,T,P,U}createSyncEngine(i,l){return function(y,T,P,U,q,ae,Ce){const ze=new d_(y,T,P,U,q,ae);return Ce&&(ze.Qa=!0),ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,l)}terminate(){var i=this;return(0,s.A)(function*(){var l,h,y;yield(y=(0,s.A)(function*(P){const U=pt(P);Ie("RemoteStore","RemoteStore shutting down."),U.L_.add(5),yield Xd(U),U.k_.shutdown(),U.q_.set("Unknown")}),function T(P){return y.apply(this,arguments)})(i.remoteStore),null===(l=i.datastore)||void 0===l||l.terminate(),null===(h=i.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function eu(d,e=10240){let i=0;return{read:()=>(0,s.A)(function*(){if(i<d.byteLength){const l={value:d.slice(i,i+e),done:!1};return i+=e,l}return{done:!0}})(),cancel:()=>(0,s.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ka{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ze("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout(()=>{this.muted||e(i)},0)}}class mf{constructor(e,i){this.Xa=e,this.serializer=i,this.metadata=new it,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(l=>{l&&l.ua()?this.metadata.resolve(l.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(l?.aa)}`))},l=>this.metadata.reject(l))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,s.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,s.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,s.A)(function*(){const i=yield e.nu();if(null===i)return null;const l=e.eu.decode(i),h=Number(l);isNaN(h)&&e.ru(`length string (${l}) is not valid number`);const y=yield e.iu(h);return new By(JSON.parse(y),i.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,s.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const i=e.su();i<0&&e.ru("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),l})()}iu(e){var i=this;return(0,s.A)(function*(){for(;i.buffer.length<e;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const l=i.eu.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),l})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,s.A)(function*(){const i=yield e.Xa.read();if(!i.done){const l=new Uint8Array(e.buffer.length+i.value.length);l.set(e.buffer),l.set(i.value,e.buffer.length),e.buffer=l}return i.done})()}}class _f{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,s.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new st(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const l=yield(h=(0,s.A)(function*(T,P){const U=pt(T),q={documents:P.map(Ct=>Cr(U.serializer,Ct))},ae=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,sn.emptyPath(),q,P.length),Ce=new Map;ae.forEach(Ct=>{const Ht=function Ru(d,e){return"found"in e?function(l,h){Vt(!!h.found);const y=$n(l,h.found.name),T=Si(h.found.updateTime),P=h.found.createTime?Si(h.found.createTime):Ut.min(),U=new Le({mapValue:{fields:h.found.fields}});return _t.newFoundDocument(y,T,P,U)}(d,e):"missing"in e?function(l,h){Vt(!!h.missing),Vt(!!h.readTime);const y=$n(l,h.missing),T=Si(h.readTime);return _t.newNoDocument(y,T)}(d,e):Ot()}(U.serializer,Ct);Ce.set(Ht.key.toString(),Ht)});const ze=[];return P.forEach(Ct=>{const Ht=Ce.get(Ct.toString());Vt(!!Ht),ze.push(Ht)}),ze}),function y(T,P){return h.apply(this,arguments)})(i.datastore,e);var h;return l.forEach(h=>i.recordVersion(h)),l})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastTransactionError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,s.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const i=e.readVersions;var l;e.mutations.forEach(l=>{i.delete(l.key.toString())}),i.forEach((l,h)=>{const y=Gt.fromPath(h);e.mutations.push(new so(y,e.precondition(y)))}),yield(l=(0,s.A)(function*(y,T){const P=pt(y),U={writes:T.map(q=>al(P.serializer,q))};yield P.Mo("Commit",P.serializer.databaseId,sn.emptyPath(),U)}),function h(y,T){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Ot();i=Ut.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!i.isEqual(l))throw new st(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(Ut.min())?X.exists(!1):X.updateTime(i):X.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Ut.min()))throw new st(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return X.updateTime(i)}return X.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tm{constructor(e,i,l,h,y){this.asyncQueue=e,this.datastore=i,this.options=l,this.updateFunction=h,this.deferred=y,this._u=l.maxAttempts,this.t_=new Kc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,s.A)(function*(){const i=new _f(e.datastore),l=e.cu(i);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const i=this.updateFunction(e);return!re(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Hs(i)}return!1}}class vi{constructor(e,i,l,h,y){var T=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=l,this.databaseInfo=h,this.user=tt.UNAUTHENTICATED,this.clientId=Fn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(l,function(){var P=(0,s.A)(function*(U){Ie("FirestoreClient","Received user=",U.uid),yield T.authCredentialListener(U),T.user=U});return function(U){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(l,P=>(Ie("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new it;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,s.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(l){const h=Vl(l,"Failed to shutdown persistence");i.reject(h)}})),i.promise}}function b_(d,e){return T_.apply(this,arguments)}function T_(){return T_=(0,s.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const i=d.configuration;yield e.initialize(i);let l=i.initialUser;d.setCredentialChangeListener(function(){var h=(0,s.A)(function*(y){l.isEqual(y)||(yield Wa(e.localStore,y),l=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),T_.apply(this,arguments)}function I_(d,e){return yf.apply(this,arguments)}function yf(){return(yf=(0,s.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const i=yield vf(d);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,d.configuration),d.setCredentialChangeListener(l=>Ep(e.remoteStore,l)),d.setAppCheckTokenChangeListener((l,h)=>Ep(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function vf(d){return C_.apply(this,arguments)}function C_(){return(C_=(0,s.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield b_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Ve.FAILED_PRECONDITION||h.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;Xt("Error using user provided cache. Falling back to memory cache: "+e),yield b_(d,new Ju)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield b_(d,new Ju);var h;return d._offlineComponents})).apply(this,arguments)}function nm(d){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,s.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield I_(d,d._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield I_(d,new gc))),d._onlineComponents})).apply(this,arguments)}function w_(d){return vf(d).then(e=>e.persistence)}function ch(d){return vf(d).then(e=>e.localStore)}function A_(d){return nm(d).then(e=>e.remoteStore)}function rm(d){return nm(d).then(e=>e.syncEngine)}function mc(d){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,s.A)(function*(d){const e=yield nm(d),i=e.eventManager;return i.onListen=Xu.bind(null,e.syncEngine),i.onUnlisten=Hg.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=h_.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=f_.bind(null,e.syncEngine),i})).apply(this,arguments)}function om(d,e,i={}){const l=new it;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function(y,T,P,U,q){const ae=new Ka({next:ze=>{ae.Za(),T.enqueueAndForget(()=>ih(y,Ce));const Ct=ze.docs.has(P);!Ct&&ze.fromCache?q.reject(new st(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&ze.fromCache&&U&&"server"===U.source?q.reject(new st(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(ze)},error:ze=>q.reject(ze)}),Ce=new Yc(te(P.path),ae,{includeMetadataChanges:!0,_a:!0});return Ip(y,Ce)}(yield mc(d),d.asyncQueue,e,i,l)})),l.promise}function Up(d,e,i={}){const l=new it;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function(y,T,P,U,q){const ae=new Ka({next:ze=>{ae.Za(),T.enqueueAndForget(()=>ih(y,Ce)),ze.fromCache&&"server"===U.source?q.reject(new st(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(ze)},error:ze=>q.reject(ze)}),Ce=new Yc(P,ae,{includeMetadataChanges:!0,_a:!0});return Ip(y,Ce)}(yield mc(d),d.asyncQueue,e,i,l)})),l.promise}function Jy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const uh=new Map;function ed(d,e,i){if(!i)throw new st(Ve.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function am(d,e,i,l){if(!0===e&&!0===l)throw new st(Ve.INVALID_ARGUMENT,`${d} and ${i} cannot be used together.`)}function lm(d){if(!Gt.isDocumentKey(d))throw new st(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function jp(d){if(Gt.isDocumentKey(d))throw new st(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function dh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(l=d).constructor?l.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var l;return"function"==typeof d?"a function":Ot()}function ui(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new st(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(d);throw new st(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return d}function cm(d,e){if(e<=0)throw new st(Ve.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class um{constructor(e){var i,l;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}am("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jy(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tu{constructor(e,i,l,h){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new um({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new um(e),void 0!==e.credentials&&(this._authCredentials=function(l){if(!l)return new Z;switch(l.type){case"firstParty":return new We(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new st(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,s.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const l=uh.get(i);l&&(Ie("ComponentProvider","Removing Datastore"),uh.delete(i),l.terminate())}(this),Promise.resolve()}}function Zy(d,e,i,l={}){var h;const y=(d=ui(d,tu))._getSettings(),T=`${e}:${i}`;if("firestore.googleapis.com"!==y.host&&y.host!==T&&Xt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:T,ssl:!1})),l.mockUserToken){let P,U;if("string"==typeof l.mockUserToken)P=l.mockUserToken,U=tt.MOCK_USER;else{P=(0,me.Fy)(l.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const q=l.mockUserToken.sub||l.mockUserToken.user_id;if(!q)throw new st(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new tt(q)}d._authCredentials=new ye(new xe(P,U))}}class ao{constructor(e,i,l){this.converter=i,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class Us{constructor(e,i,l){this.converter=i,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Us(this.firestore,e,this._key)}}class Aa extends ao{constructor(e,i,l){super(e,i,te(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Us(this.firestore,null,new Gt(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function R_(d,e,...i){if(d=(0,me.Ku)(d),ed("collection","path",e),d instanceof tu){const l=sn.fromString(e,...i);return jp(l),new Aa(d,null,l)}{if(!(d instanceof Us||d instanceof Aa))throw new st(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=d._path.child(sn.fromString(e,...i));return jp(l),new Aa(d.firestore,null,l)}}function dm(d,e){if(d=ui(d,tu),ed("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(Ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ao(d,null,(l=e,new $o(sn.emptyPath(),l)));var l}function _c(d,e,...i){if(d=(0,me.Ku)(d),1===arguments.length&&(e=Fn.newId()),ed("doc","path",e),d instanceof tu){const l=sn.fromString(e,...i);return lm(l),new Us(d,null,new Gt(l))}{if(!(d instanceof Us||d instanceof Aa))throw new st(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=d._path.child(sn.fromString(e,...i));return lm(l),new Us(d.firestore,d instanceof Aa?d.converter:null,new Gt(l))}}function ev(d,e){return d=(0,me.Ku)(d),e=(0,me.Ku)(e),(d instanceof Us||d instanceof Aa)&&(e instanceof Us||e instanceof Aa)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function Ef(d,e){return d=(0,me.Ku)(d),e=(0,me.Ku)(e),d instanceof ao&&e instanceof ao&&d.firestore===e.firestore&&uo(d._query,e._query)&&d.converter===e.converter}class bf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Kc(this,"async_queue_retry"),this.Vu=()=>{const l=ca();l&&Ie("AsyncQueue","Visibility state changed to "+l.visibilityState),this.t_.jo()},this.mu=e;const i=ca();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=ca();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new it;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,s.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(i){if(!Vn(i))throw i;Ie("AsyncQueue","Operation failed with retryable error: "+i)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const i=this.mu.then(()=>(this.du=!0,e().catch(l=>{throw this.Eu=l,this.du=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(T){let P=T.message||"";return T.stack&&(P=T.stack.includes(T.message)?T.stack:T.message+"\n"+T.stack),P}(l)),l}).then(l=>(this.du=!1,l))));return this.mu=i,i}enqueueAfterDelay(e,i,l){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const h=uc.createAndSchedule(this,e,i,l,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Ot()}verifyOperationInProgress(){}wu(){var e=this;return(0,s.A)(function*(){let i;do{i=e.mu,yield i}while(i!==e.mu)})()}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((i,l)=>i.targetTimeMs-l.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function Bp(d){return function(i,l){if("object"!=typeof i||null===i)return!1;const h=i;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class hm{constructor(){this._progressObserver={},this._taskCompletionResolver=new it,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,l){this._progressObserver={next:e,error:i,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const $p=-1;class Ei extends tu{constructor(e,i,l,h){super(e,i,l,h),this.type="firestore",this._queue=new bf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,s.A)(function*(){if(e._firestoreClient){const i=e._firestoreClient.terminate();e._queue=new bf(i),e._firestoreClient=void 0,yield i}})()}}function fm(d,e){const i="object"==typeof d?d:(0,ce.getApp)(),l="string"==typeof d?d:e||"(default)",h=(0,ce._getProvider)(i,"firestore").getImmediate({identifier:l});if(!h._initialized){const y=(0,me.yU)("firestore");y&&Zy(h,...y)}return h}function As(d){if(d._terminated)throw new st(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||P_(d),d._firestoreClient}function P_(d){var e,i,l;const h=d._freezeSettings(),y=(U=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Yn(d._databaseId,U,d._persistenceKey,(ae=h).host,ae.ssl,ae.experimentalForceLongPolling,ae.experimentalAutoDetectLongPolling,Jy(ae.experimentalLongPollingOptions),ae.useFetchStreams));var U,ae;d._componentsProvider||!(null===(i=h.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(l=h.localCache)||void 0===l)&&l._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new vi(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(P){const U=P?._online.build();return{_offline:P?._offline.build(U),_online:U}}(d._componentsProvider))}function x_(d,e){Xt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=d._freezeSettings();return M_(d,gc.provider,{build:l=>new Zg(l,i.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function hh(d){return If.apply(this,arguments)}function If(){return(If=(0,s.A)(function*(d){Xt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();M_(d,gc.provider,{build:i=>new em(i,e.cacheSizeBytes)})})).apply(this,arguments)}function M_(d,e,i){if((d=ui(d,Ei))._firestoreClient||d._terminated)throw new st(Ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new st(Ve.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:i},P_(d)}function tv(d){if(d._initialized&&!d._terminated)throw new st(Ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new it;return d._queue.enqueueAndForgetEvenWhileRestricted((0,s.A)(function*(){try{yield(i=(0,s.A)(function*(h){if(!de.D())return Promise.resolve();const y=h+"main";yield de.delete(y)}),function l(h){return i.apply(this,arguments)})(jd(d._databaseId,d._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}function pm(d){return function(i){const l=new it;return i.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function $y(d,e){return Yg.apply(this,arguments)}(yield rm(i),l)})),l.promise}(As(d=ui(d,Ei)))}function O_(d){return function sm(d){return d.asyncQueue.enqueue((0,s.A)(function*(){const e=yield w_(d),i=yield A_(d);return e.setNetworkEnabled(!0),function(h){const y=pt(h);return y.L_.delete(0),ua(y)}(i)}))}(As(d=ui(d,Ei)))}function nv(d){return function Wy(d){return d.asyncQueue.enqueue((0,s.A)(function*(){const e=yield w_(d),i=yield A_(d);return e.setNetworkEnabled(!1),(l=(0,s.A)(function*(y){const T=pt(y);T.L_.add(0),yield Xd(T),T.q_.set("Offline")}),function h(y){return l.apply(this,arguments)})(i);var l}))}(As(d=ui(d,Ei)))}function gm(d,e){const i=As(d=ui(d,Ei)),l=new hm;return function Yy(d,e,i,l){const h=function(T,P){let U;return U="string"==typeof T?Tu().encode(T):T,ae=function(ae,Ce){if(ae instanceof Uint8Array)return eu(ae,void 0);if(ae instanceof ArrayBuffer)return eu(new Uint8Array(ae),void 0);if(ae instanceof ReadableStream)return ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new mf(ae,P);var ae}(i,Ll(e));d.asyncQueue.enqueueAndForget((0,s.A)(function*(){!function Hy(d,e,i){const l=pt(d);var h;(h=(0,s.A)(function*(T,P,U){try{const q=yield P.getMetadata();if(yield function(Ht,cn){const nn=pt(Ht),Kn=Si(cn.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",ar=>nn.Gr.getBundleMetadata(ar,cn.id)).then(ar=>!!ar&&ar.createTime.compareTo(Kn)>=0)}(T.localStore,q))return yield P.close(),U._completeWith({taskState:"Success",documentsLoaded:(Ht=q).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);U._updateProgress(rf(q));const ae=new c_(q,T.localStore,P.serializer);let Ce=yield P.Ua();for(;Ce;){const Ct=yield ae.la(Ce);Ct&&U._updateProgress(Ct),Ce=yield P.Ua()}const ze=yield ae.complete();return yield hc(T,ze.Ia,void 0),yield function(Ht,cn){const nn=pt(Ht);return nn.persistence.runTransaction("Save bundle","readwrite",Kn=>nn.Gr.saveBundleMetadata(Kn,cn))}(T.localStore,q),U._completeWith(ze.progress),Promise.resolve(ze.Pa)}catch(q){return Xt("SyncEngine",`Loading bundle failed with ${q}`),U._failWith(q),Promise.resolve(new Set)}var Ht}),function y(T,P,U){return h.apply(this,arguments)})(l,e,i).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield rm(d),h,l)}))}(i,d._databaseId,e,l),l}function dE(d,e){return function Xy(d,e){return d.asyncQueue.enqueue((0,s.A)(function*(){return function(l,h){const y=pt(l);return y.persistence.runTransaction("Get named query","readonly",T=>y.Gr.getNamedQuery(T,h))}(yield ch(d),e)}))}(As(d=ui(d,Ei)),e).then(i=>i?new ao(d,null,i.query):null)}class nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nu(Pi.fromBase64String(e))}catch(i){throw new st(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new nu(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class td{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new st(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Da{constructor(e){this._methodName=e}}class yc{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}class vc{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(l,h){if(l.length!==h.length)return!1;for(let y=0;y<l.length;++y)if(l[y]!==h[y])return!1;return!0}(this._values,e._values)}}const fh=/^__.*__$/;class Ec{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return null!==this.fieldMask?new ci(e,this.data,this.fieldMask,i,this.fieldTransforms):new mr(e,this.data,i,this.fieldTransforms)}}class nd{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return new ci(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Gp(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class ru{constructor(e,i,l,h,y,T){this.settings=e,this.databaseId=i,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=T||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ru(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const l=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:l,xu:!1});return h.Ou(e),h}Nu(e){var i;const l=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:l,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return od(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Gp(this.Cu)&&fh.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wf{constructor(e,i,l){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=l||Ll(e)}Qu(e,i,l,h=!1){return new ru({Cu:e,methodName:i,qu:l,path:Xn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qa(d){const e=d._freezeSettings(),i=Ll(d._databaseId);return new wf(d._databaseId,!!e.ignoreUndefinedProperties,i)}function ph(d,e,i,l,h,y={}){const T=d.Qu(y.merge||y.mergeFields?2:0,e,i,h);vm("Data must be an object, but it was:",T,l);const P=ym(l,T);let U,q;if(y.merge)U=new fi(T.fieldMask),q=T.fieldTransforms;else if(y.mergeFields){const ae=[];for(const Ce of y.mergeFields){const ze=zp(e,Ce,i);if(!T.contains(ze))throw new st(Ve.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);Tc(ae,ze)||ae.push(ze)}U=new fi(ae),q=T.fieldTransforms.filter(Ce=>U.covers(Ce.field))}else U=null,q=T.fieldTransforms;return new Ec(new Le(P),U,q)}class rd extends Da{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}function Af(d,e,i){return new ru({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class N_ extends Da{_toFieldTransform(e){return new M(e.path,new Il)}isEqual(e){return e instanceof N_}}class Df extends Da{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=Af(this,e,!0),l=this.Ku.map(y=>bc(y,i)),h=new Ho(l);return new M(e.path,h)}isEqual(e){return e instanceof Df&&(0,me.bD)(this.Ku,e.Ku)}}class id extends Da{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=Af(this,e,!0),l=this.Ku.map(y=>bc(y,i)),h=new La(l);return new M(e.path,h)}isEqual(e){return e instanceof id&&(0,me.bD)(this.Ku,e.Ku)}}class mm extends Da{constructor(e,i){super(e),this.$u=i}_toFieldTransform(e){const i=new Va(e.serializer,Eu(e.serializer,this.$u));return new M(e.path,i)}isEqual(e){return e instanceof mm&&this.$u===e.$u}}function Hp(d,e,i,l){const h=d.Qu(1,e,i);vm("Data must be an object, but it was:",h,l);const y=[],T=Le.empty();li(l,(U,q)=>{const ae=sd(e,U,i);q=(0,me.Ku)(q);const Ce=h.Nu(ae);if(q instanceof rd)y.push(ae);else{const ze=bc(q,Ce);null!=ze&&(y.push(ae),T.set(ae,ze))}});const P=new fi(y);return new nd(T,P,h.fieldTransforms)}function _m(d,e,i,l,h,y){const T=d.Qu(1,e,i),P=[zp(e,l,i)],U=[h];if(y.length%2!=0)throw new st(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<y.length;ze+=2)P.push(zp(e,y[ze])),U.push(y[ze+1]);const q=[],ae=Le.empty();for(let ze=P.length-1;ze>=0;--ze)if(!Tc(q,P[ze])){const Ct=P[ze];let Ht=U[ze];Ht=(0,me.Ku)(Ht);const cn=T.Nu(Ct);if(Ht instanceof rd)q.push(Ct);else{const nn=bc(Ht,cn);null!=nn&&(q.push(Ct),ae.set(Ct,nn))}}const Ce=new fi(q);return new nd(ae,Ce,T.fieldTransforms)}function k_(d,e,i,l=!1){return bc(i,d.Qu(l?4:3,e))}function bc(d,e){if(F_(d=(0,me.Ku)(d)))return vm("Unsupported field value:",e,d),ym(d,e);if(d instanceof Da)return function(l,h){if(!Gp(h.Cu))throw h.Bu(`${l._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${l._methodName}() is not currently supported inside arrays`);const y=l._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(l,h){const y=[];let T=0;for(const P of l){let U=bc(P,h.Lu(T));null==U&&(U={nullValue:"NULL_VALUE"}),y.push(U),T++}return{arrayValue:{values:y}}}(d,e)}return function(l,h){if(null===(l=(0,me.Ku)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return Eu(h.serializer,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){const y=zt.fromDate(l);return{timestampValue:Oo(h.serializer,y)}}if(l instanceof zt){const y=new zt(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Oo(h.serializer,y)}}if(l instanceof yc)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof nu)return{bytesValue:Du(h.serializer,l._byteString)};if(l instanceof Us){const y=h.databaseId,T=l.firestore._databaseId;if(!T.isEqual(y))throw h.Bu(`Document reference is for database ${T.projectId}/${T.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:ya(l.firestore._databaseId||h.databaseId,l._key.path)}}if(l instanceof vc)return P=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(U=>{if("number"!=typeof U)throw P.Bu("VectorValues must only contain numeric values.");return _o(P.serializer,U)})}}}}};var P;throw h.Bu(`Unsupported field value: ${dh(l)}`)}(d,e)}function ym(d,e){const i={};return bs(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(d,(l,h)=>{const y=bc(h,e.Mu(l));null!=y&&(i[l]=y)}),{mapValue:{fields:i}}}function F_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof zt||d instanceof yc||d instanceof nu||d instanceof Us||d instanceof Da||d instanceof vc)}function vm(d,e,i){if(!F_(i)||"object"!=typeof(h=i)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const l=dh(i);throw e.Bu("an object"===l?d+" a custom object":d+" "+l)}var h}function zp(d,e,i){if((e=(0,me.Ku)(e))instanceof td)return e._internalPath;if("string"==typeof e)return sd(d,e);throw od("Field path arguments must be of type string or ",d,!1,void 0,i)}const sv=new RegExp("[~\\*/\\[\\]]");function sd(d,e,i){if(e.search(sv)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,i);try{return new td(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,i)}}function od(d,e,i,l,h){const y=l&&!l.isEmpty(),T=void 0!==h;let P=`Function ${e}() called with invalid data`;i&&(P+=" (via `toFirestore()`)"),P+=". ";let U="";return(y||T)&&(U+=" (found",y&&(U+=` in field ${l}`),T&&(U+=` in document ${h}`),U+=")"),new st(Ve.INVALID_ARGUMENT,P+d+U)}function Tc(d,e){return d.some(i=>i.isEqual(e))}class Ms{constructor(e,i,l,h,y){this._firestore=e,this._userDataWriter=i,this._key=l,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ic("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class iu extends Ms{data(){return super.data()}}function Ic(d,e){return"string"==typeof e?sd(d,e):e instanceof td?e._internalPath:e._delegate._internalPath}function ov(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new st(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}class ad extends Wp{}function L_(d,e,...i){let l=[];e instanceof Wp&&l.push(e),l=l.concat(i),function(y){const T=y.filter(U=>U instanceof Ul).length,P=y.filter(U=>U instanceof Kp).length;if(T>1||T>0&&P>0)throw new st(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)d=h._apply(d);return d}class Kp extends ad{constructor(e,i,l){super(),this._field=e,this._op=i,this._value=l,this.type="where"}static _create(e,i,l){return new Kp(e,i,l)}_apply(e){const i=this._parse(e);return U_(e._query,i),new ao(e.firestore,e.converter,Zs(e._query,i))}_parse(e){const i=qa(e.firestore);return function(y,T,P,U,q,ae,Ce){let ze;if(q.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new st(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){Qp(Ce,ae);const Ct=[];for(const Ht of Ce)Ct.push(Xp(U,y,Ht));ze={arrayValue:{values:Ct}}}else ze=Xp(U,y,Ce)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||Qp(Ce,ae),ze=k_(P,"where",Ce,"in"===ae||"not-in"===ae);return kn.create(q,ae,ze)}(e._query,0,i,e.firestore._databaseId,this._field,this._op,this._value)}}function av(d,e,i){const l=e,h=Ic("where",d);return Kp._create(h,l,i)}class Ul extends Wp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ul(e,i)}_parse(e){const i=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===i.length?i[0]:Zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return 0===i.getFilters().length?e:(function(h,y){let T=h;const P=y.getFlattenedFilters();for(const U of P)U_(T,U),T=Zs(T,U)}(e._query,i),new ao(e.firestore,e.converter,Zs(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gh extends ad{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new gh(e,i)}_apply(e){const i=function(h,y,T){if(null!==h.startAt)throw new st(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new st(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qn(y,T)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(h,y){const T=h.explicitOrderBy.concat([y]);return new $o(h.path,h.collectionGroup,T,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,i))}}function fE(d,e="asc"){const i=e,l=Ic("orderBy",d);return gh._create(l,i)}class Sf extends ad{constructor(e,i,l){super(),this.type=e,this._limit=i,this._limitType=l}static _create(e,i,l){return new Sf(e,i,l)}_apply(e){return new ao(e.firestore,e.converter,Zi(e._query,this._limit,this._limitType))}}function pE(d){return cm("limit",d),Sf._create("limit",d,"F")}function gE(d){return cm("limitToLast",d),Sf._create("limitToLast",d,"L")}class Em extends ad{constructor(e,i,l){super(),this.type=e,this._docOrFields=i,this._inclusive=l}static _create(e,i,l){return new Em(e,i,l)}_apply(e){const i=Yp(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(y=i,new $o((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function lv(...d){return Em._create("startAt",d,!0)}function cv(...d){return Em._create("startAfter",d,!1)}class Rf extends ad{constructor(e,i,l){super(),this.type=e,this._docOrFields=i,this._inclusive=l}static _create(e,i,l){return new Rf(e,i,l)}_apply(e){const i=Yp(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(y=i,new $o((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function j0(...d){return Rf._create("endBefore",d,!1)}function V_(...d){return Rf._create("endAt",d,!0)}function Yp(d,e,i,l){if(i[0]=(0,me.Ku)(i[0]),i[0]instanceof Ms)return function(y,T,P,U,q){if(!U)throw new st(Ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ae=[];for(const Ce of Be(y))if(Ce.field.isKeyField())ae.push(ur(T,U.key));else{const ze=U.data.field(Ce.field);if(mi(ze))throw new st(Ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ze){const Ct=Ce.field.canonicalString();throw new st(Ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}ae.push(ze)}return new Yt(ae,q)}(d._query,d.firestore._databaseId,e,i[0]._document,l);{const h=qa(d.firestore);return function(T,P,U,q,ae,Ce){const ze=T.explicitOrderBy;if(ae.length>ze.length)throw new st(Ve.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let Ht=0;Ht<ae.length;Ht++){const cn=ae[Ht];if(ze[Ht].field.isKeyField()){if("string"!=typeof cn)throw new st(Ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof cn}`);if(!ue(T)&&-1!==cn.indexOf("/"))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${cn}' contains a slash.`);const nn=T.path.child(sn.fromString(cn));if(!Gt.isDocumentKey(nn))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Kn=new Gt(nn);Ct.push(ur(P,Kn))}else{const nn=k_(U,q,cn);Ct.push(nn)}}return new Yt(Ct,Ce)}(d._query,d.firestore._databaseId,h,e,i,l)}}function Xp(d,e,i){if("string"==typeof(i=(0,me.Ku)(i))){if(""===i)throw new st(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ue(e)&&-1!==i.indexOf("/"))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const l=e.path.child(sn.fromString(i));if(!Gt.isDocumentKey(l))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return ur(d,new Gt(l))}if(i instanceof Us)return ur(d,i._key);throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function Qp(d,e){if(!Array.isArray(d)||0===d.length)throw new st(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U_(d,e){const i=function(h,y){for(const T of h)for(const P of T.getFlattenedFilters())if(y.indexOf(P.op)>=0)return P.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new st(Ve.INVALID_ARGUMENT,i===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Zp{convertValue(e,i="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const l={};return li(e,(h,y)=>{l[h]=this.convertValue(y,i)}),l}convertVectorValue(e){var i,l,h;const y=null===(h=null===(l=null===(i=e.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===l?void 0:l.values)||void 0===h?void 0:h.map(T=>ni(T.doubleValue));return new vc(y)}convertGeoPoint(e){return new yc(ni(e.latitude),ni(e.longitude))}convertArray(e,i){return(e.values||[]).map(l=>this.convertValue(l,i))}convertServerTimestamp(e,i){switch(i){case"previous":const l=$i(e);return null==l?null:this.convertValue(l,i);case"estimate":return this.convertTimestamp(xi(e));default:return null}}convertTimestamp(e){const i=Xs(e);return new zt(i.seconds,i.nanos)}convertDocumentKey(e,i){const l=sn.fromString(e);Vt(w(l));const h=new Xr(l.get(1),l.get(3)),y=new Gt(l.popFirst(5));return h.isEqual(i)||Ze(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),y}}function eg(d,e,i){let l;return l=d?i&&(i.merge||i.mergeFields)?d.toFirestore(e,i):d.toFirestore(e):e,l}class mE extends Zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,i)}}class Pf{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends Ms{constructor(e,i,l,h,y,T){super(e,i,l,h,T),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const l=this._document.data.field(Ic("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,i.serverTimestamps)}}}class vl extends su{data(e={}){return super.data(e)}}class wc{constructor(e,i,l,h){this._firestore=e,this._userDataWriter=i,this._snapshot=h,this.metadata=new Pf(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(l=>{e.call(i,new vl(this._firestore,this._userDataWriter,l.key,l,new Pf(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let T=0;return h._snapshot.docChanges.map(P=>({type:"added",doc:new vl(h._firestore,h._userDataWriter,P.doc.key,P.doc,new Pf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:T++}))}{let T=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(P=>y||3!==P.type).map(P=>{const U=new vl(h._firestore,h._userDataWriter,P.doc.key,P.doc,new Pf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter);let q=-1,ae=-1;return 0!==P.type&&(q=T.indexOf(P.doc.key),T=T.delete(P.doc.key)),1!==P.type&&(T=T.add(P.doc),ae=T.indexOf(P.doc.key)),{type:yE(P.type),doc:U,oldIndex:q,newIndex:ae}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function yE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}function vE(d,e){return d instanceof su&&e instanceof su?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof wc&&e instanceof wc&&d._firestore===e._firestore&&Ef(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function EE(d){d=ui(d,Us);const e=ui(d.firestore,Ei);return om(As(e),d._key).then(i=>$_(e,d,i))}class Ac extends Zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,i)}}function Dc(d){d=ui(d,Us);const e=ui(d.firestore,Ei),i=As(e),l=new Ac(e);return function Zu(d,e){const i=new it;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return(l=(0,s.A)(function*(y,T,P){try{const U=yield function(ae,Ce){const ze=pt(ae);return ze.persistence.runTransaction("read document","readonly",Ct=>ze.localDocuments.getDocument(Ct,Ce))}(y,T);U.isFoundDocument()?P.resolve(U):U.isNoDocument()?P.resolve(null):P.reject(new st(Ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const q=Vl(U,`Failed to get document '${T} from cache`);P.reject(q)}}),function h(y,T,P){return l.apply(this,arguments)})(yield ch(d),e,i);var l})),i.promise}(i,d._key).then(h=>new su(e,l,d._key,h,new Pf(null!==h&&h.hasLocalMutations,!0),d.converter))}function hv(d){d=ui(d,Us);const e=ui(d.firestore,Ei);return om(As(e),d._key,{source:"server"}).then(i=>$_(e,d,i))}function bE(d){d=ui(d,ao);const e=ui(d.firestore,Ei),i=As(e),l=new Ac(e);return ov(d._query),Up(i,d._query).then(h=>new wc(e,l,d,h))}function B0(d){d=ui(d,ao);const e=ui(d.firestore,Ei),i=As(e),l=new Ac(e);return function Ky(d,e){const i=new it;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return(l=(0,s.A)(function*(y,T,P){try{const U=yield ml(y,T,!0),q=new u_(T,U.Ts),ae=q.ma(U.documents),Ce=q.applyChanges(ae,!1);P.resolve(Ce.snapshot)}catch(U){const q=Vl(U,`Failed to execute query '${T} against cache`);P.reject(q)}}),function h(y,T,P){return l.apply(this,arguments)})(yield ch(d),e,i);var l})),i.promise}(i,d._query).then(h=>new wc(e,l,d,h))}function bo(d){d=ui(d,ao);const e=ui(d.firestore,Ei),i=As(e),l=new Ac(e);return Up(i,d._query,{source:"server"}).then(h=>new wc(e,l,d,h))}function TE(d,e,i){d=ui(d,Us);const l=ui(d.firestore,Ei),h=eg(d.converter,e,i);return mh(l,[ph(qa(l),"setDoc",d._key,h,null!==d.converter,i).toMutation(d._key,X.none())])}function j_(d,e,i,...l){d=ui(d,Us);const h=ui(d.firestore,Ei),y=qa(h);let T;return T="string"==typeof(e=(0,me.Ku)(e))||e instanceof td?_m(y,"updateDoc",d._key,e,i,l):Hp(y,"updateDoc",d._key,e),mh(h,[T.toMutation(d._key,X.exists(!0))])}function IE(d){return mh(ui(d.firestore,Ei),[new Gi(d._key,X.none())])}function CE(d,e){const i=ui(d.firestore,Ei),l=_c(d),h=eg(d.converter,e);return mh(i,[ph(qa(d.firestore),"addDoc",l._key,h,null!==d.converter,{}).toMutation(l._key,X.exists(!1))]).then(()=>l)}function B_(d,...e){var i,l,h;d=(0,me.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},T=0;"object"!=typeof e[T]||Bp(e[T])||(y=e[T],T++);const P={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(Bp(e[T])){const Ce=e[T];e[T]=null===(i=Ce.next)||void 0===i?void 0:i.bind(Ce),e[T+1]=null===(l=Ce.error)||void 0===l?void 0:l.bind(Ce),e[T+2]=null===(h=Ce.complete)||void 0===h?void 0:h.bind(Ce)}let U,q,ae;if(d instanceof Us)q=ui(d.firestore,Ei),ae=te(d._key.path),U={next:Ce=>{e[T]&&e[T]($_(q,d,Ce))},error:e[T+1],complete:e[T+2]};else{const Ce=ui(d,ao);q=ui(Ce.firestore,Ei),ae=Ce._query;const ze=new Ac(q);U={next:Ct=>{e[T]&&e[T](new wc(q,ze,Ce,Ct))},error:e[T+1],complete:e[T+2]},ov(d._query)}return function(ze,Ct,Ht,cn){const nn=new Ka(cn),Kn=new Yc(Ct,nn,Ht);return ze.asyncQueue.enqueueAndForget((0,s.A)(function*(){return Ip(yield mc(ze),Kn)})),()=>{nn.Za(),ze.asyncQueue.enqueueAndForget((0,s.A)(function*(){return ih(yield mc(ze),Kn)}))}}(As(q),ae,P,U)}function fv(d,e){return function qy(d,e){const i=new Ka(e);return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return h=yield mc(d),y=i,pt(h).Y_.add(y),void y.next();var h,y})),()=>{i.Za(),d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return h=yield mc(d),y=i,void pt(h).Y_.delete(y);var h,y}))}}(As(d=ui(d,Ei)),Bp(e)?e:{next:e})}function mh(d,e){return function(l,h){const y=new it;return l.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function Rp(d,e,i){return Qu.apply(this,arguments)}(yield rm(l),h,y)})),y.promise}(As(d),e)}function $_(d,e,i){const l=i.docs.get(e._key),h=new Ac(d);return new su(d,h,e._key,l,new Pf(i.hasPendingWrites,i.fromCache),e.converter)}const rg={maxAttempts:5};class ig{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=qa(e)}set(e,i,l){this._verifyNotCommitted();const h=ou(e,this._firestore),y=eg(h.converter,i,l),T=ph(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,l);return this._mutations.push(T.toMutation(h._key,X.none())),this}update(e,i,l,...h){this._verifyNotCommitted();const y=ou(e,this._firestore);let T;return T="string"==typeof(i=(0,me.Ku)(i))||i instanceof td?_m(this._dataReader,"WriteBatch.update",y._key,i,l,h):Hp(this._dataReader,"WriteBatch.update",y._key,i),this._mutations.push(T.toMutation(y._key,X.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=ou(e,this._firestore);return this._mutations=this._mutations.concat(new Gi(i._key,X.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ou(d,e){if((d=(0,me.Ku)(d)).firestore!==e)throw new st(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class Ev extends class{constructor(i,l){this._firestore=i,this._transaction=l,this._dataReader=qa(i)}get(i){const l=ou(i,this._firestore),h=new mE(this._firestore);return this._transaction.lookup([l._key]).then(y=>{if(!y||1!==y.length)return Ot();const T=y[0];if(T.isFoundDocument())return new Ms(this._firestore,h,T.key,T,l.converter);if(T.isNoDocument())return new Ms(this._firestore,h,l._key,null,l.converter);throw Ot()})}set(i,l,h){const y=ou(i,this._firestore),T=eg(y.converter,l,h),P=ph(this._dataReader,"Transaction.set",y._key,T,null!==y.converter,h);return this._transaction.set(y._key,P),this}update(i,l,h,...y){const T=ou(i,this._firestore);let P;return P="string"==typeof(l=(0,me.Ku)(l))||l instanceof td?_m(this._dataReader,"Transaction.update",T._key,l,h,y):Hp(this._dataReader,"Transaction.update",T._key,l),this._transaction.update(T._key,P),this}delete(i){const l=ou(i,this._firestore);return this._transaction.delete(l._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=ou(e,this._firestore),l=new Ac(this._firestore);return super.get(e).then(h=>new su(this._firestore,l,i._key,h._document,new Pf(!1,!1),i.converter))}}function RE(d,e,i){d=ui(d,Ei);const l=Object.assign(Object.assign({},rg),i);return function(y){if(y.maxAttempts<1)throw new st(Ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(y,T,P){const U=new it;return y.asyncQueue.enqueueAndForget((0,s.A)(function*(){const q=yield function im(d){return nm(d).then(e=>e.datastore)}(y);new tm(y.asyncQueue,q,P,T,U).au()})),U.promise}(As(d),h=>e(new Ev(d,h)),l)}function PE(){return new rd("deleteField")}function xE(){return new N_("serverTimestamp")}function ME(...d){return new Df("arrayUnion",d)}function bv(...d){return new id("arrayRemove",d)}function G0(d){return new mm("increment",d)}!function(e,i=!0){Ke=ce.SDK_VERSION,(0,ce._registerComponent)(new r.uA("firestore",(l,{instanceIdentifier:h,options:y})=>{const T=l.getProvider("app").getImmediate(),P=new Ei(new Fe(l.getProvider("auth-internal")),new bn(l.getProvider("app-check-internal")),function(q,ae){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new st(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xr(q.options.projectId,ae)}(T,h),T);return y=Object.assign({useFetchStreams:i},y),P._setSettings(y),P},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ae,"4.7.3",e),(0,ce.registerVersion)(Ae,"4.7.3","esm2017")}()},4535:(tn,Xe,V)=>{V.d(Xe,{Ad:()=>Nn,D5:()=>gn,KR:()=>Fi,Mp:()=>Gs,Mx:()=>ti,TZ:()=>Kt,UC:()=>li,UY:()=>On,XR:()=>cs,ZH:()=>Tn,_w:()=>ur,bp:()=>Ss,c7:()=>Qr,nb:()=>us,nw:()=>En,p_:()=>nr,qk:()=>Qi,uj:()=>Ze,xc:()=>Un,yb:()=>Wr});var s=V(467),ce=V(7852),r=V(1076),Ee=V(1362);const me="firebasestorage.googleapis.com",Te="storageBucket";class W extends r.g{constructor(J,Se,Le=0){super(he(J),`Firebase Storage: ${Se} (${he(J)})`),this.status_=Le,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,W.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return he(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ne=function(ee){return ee.UNKNOWN="unknown",ee.OBJECT_NOT_FOUND="object-not-found",ee.BUCKET_NOT_FOUND="bucket-not-found",ee.PROJECT_NOT_FOUND="project-not-found",ee.QUOTA_EXCEEDED="quota-exceeded",ee.UNAUTHENTICATED="unauthenticated",ee.UNAUTHORIZED="unauthorized",ee.UNAUTHORIZED_APP="unauthorized-app",ee.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ee.INVALID_CHECKSUM="invalid-checksum",ee.CANCELED="canceled",ee.INVALID_EVENT_NAME="invalid-event-name",ee.INVALID_URL="invalid-url",ee.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ee.NO_DEFAULT_BUCKET="no-default-bucket",ee.CANNOT_SLICE_BLOB="cannot-slice-blob",ee.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ee.NO_DOWNLOAD_URL="no-download-url",ee.INVALID_ARGUMENT="invalid-argument",ee.INVALID_ARGUMENT_COUNT="invalid-argument-count",ee.APP_DELETED="app-deleted",ee.INVALID_ROOT_OPERATION="invalid-root-operation",ee.INVALID_FORMAT="invalid-format",ee.INTERNAL_ERROR="internal-error",ee.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ee}(ne||{});function he(ee){return"storage/"+ee}function Re(){return new W(ne.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Bt(){return new W(ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ge(){return new W(ne.CANCELED,"User canceled the upload/download.")}function ct(){return new W(ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ze(ee){return new W(ne.INVALID_ARGUMENT,ee)}function Xt(){return new W(ne.APP_DELETED,"The Firebase app was deleted.")}function On(ee){return new W(ne.INVALID_ROOT_OPERATION,"The operation '"+ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ot(ee,J){return new W(ne.INVALID_FORMAT,"String does not match format '"+ee+"': "+J)}function Vt(ee){throw new W(ne.INTERNAL_ERROR,"Internal error: "+ee)}class Kt{constructor(J,Se){this.bucket=J,this.path_=Se}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Se){let Le;try{Le=Kt.makeFromUrl(J,Se)}catch{return new Kt(J,"")}if(""===Le.path)return Le;throw function tt(ee){return new W(ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ee+"'.")}(J)}static makeFromUrl(J,Se){let Le=null;const nt="([A-Za-z0-9.\\-_]+)",In=new RegExp("^gs://"+nt+"(/(.*))?$","i");function qn(Ii){Ii.path_=decodeURIComponent(Ii.path)}const Dn=Se.replace(/[.]/g,"\\."),Sr=[{regex:In,indices:{bucket:1,path:3},postModify:function _t(Ii){"/"===Ii.path.charAt(Ii.path.length-1)&&(Ii.path_=Ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Dn}/v[A-Za-z0-9_]+/b/${nt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:qn},{regex:new RegExp(`^https?://${Se===me?"(?:storage.googleapis.com|storage.cloud.google.com)":Se}/${nt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:qn}];for(let Ii=0;Ii<Sr.length;Ii++){const wi=Sr[Ii],Mr=wi.regex.exec(J);if(Mr){let ds=Mr[wi.indices.path];ds||(ds=""),Le=new Kt(Mr[wi.indices.bucket],ds),wi.postModify(Le);break}}if(null==Le)throw function Ae(ee){return new W(ne.INVALID_URL,"Invalid URL '"+ee+"'.")}(J);return Le}}class pt{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function ye(ee){return"string"==typeof ee||ee instanceof String}function Fe(ee){return ot()&&ee instanceof Blob}function ot(){return typeof Blob<"u"}function We(ee,J,Se,Le){if(Le<J)throw Ze(`Invalid value for '${ee}'. Expected ${J} or greater.`);if(Le>Se)throw Ze(`Invalid value for '${ee}'. Expected ${Se} or less.`)}function Ft(ee,J,Se){let Le=J;return null==Se&&(Le=`https://${J}`),`${Se}://${Le}/v0${ee}`}function bn(ee){const J=encodeURIComponent;let Se="?";for(const Le in ee)ee.hasOwnProperty(Le)&&(Se=Se+(J(Le)+"=")+J(ee[Le])+"&");return Se=Se.slice(0,-1),Se}var tr=function(ee){return ee[ee.NO_ERROR=0]="NO_ERROR",ee[ee.NETWORK_ERROR=1]="NETWORK_ERROR",ee[ee.ABORT=2]="ABORT",ee}(tr||{});function rn(ee,J){const Se=ee>=500&&ee<600,nt=-1!==[408,429].indexOf(ee),_t=-1!==J.indexOf(ee);return Se||nt||_t}class Fn{constructor(J,Se,Le,nt,_t,Yt,In,fn,qn,Ar,Dn,kn=!0){this.url_=J,this.method_=Se,this.headers_=Le,this.body_=nt,this.successCodes_=_t,this.additionalRetryCodes_=Yt,this.callback_=In,this.errorCallback_=fn,this.timeout_=qn,this.progressCallback_=Ar,this.connectionFactory_=Dn,this.retry=kn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Zn,kr)=>{this.resolve_=Zn,this.reject_=kr,this.start_()})}start_(){const Se=(Le,nt)=>{const _t=this.resolve_,Yt=this.reject_,In=nt.connection;if(nt.wasSuccessCode)try{const fn=this.callback_(In,In.getResponse());!function it(ee){return void 0!==ee}(fn)?_t():_t(fn)}catch(fn){Yt(fn)}else if(null!==In){const fn=Re();fn.serverResponse=In.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(In,fn):fn)}else Yt(nt.canceled?this.appDelete_?Xt():Ge():Bt())};this.canceled_?Se(0,new Qt(!1,null,!0)):this.backoffId_=function Ve(ee,J,Se){let Le=1,nt=null,_t=null,Yt=!1,In=0;function fn(){return 2===In}let qn=!1;function Ar(...Jr){qn||(qn=!0,J.apply(null,Jr))}function Dn(Jr){nt=setTimeout(()=>{nt=null,ee(Zn,fn())},Jr)}function kn(){_t&&clearTimeout(_t)}function Zn(Jr,...Vi){if(qn)return void kn();if(Jr)return kn(),void Ar.call(null,Jr,...Vi);if(fn()||Yt)return kn(),void Ar.call(null,Jr,...Vi);let Sr;Le<64&&(Le*=2),1===In?(In=2,Sr=0):Sr=1e3*(Le+Math.random()),Dn(Sr)}let kr=!1;function ii(Jr){kr||(kr=!0,kn(),!qn&&(null!==nt?(Jr||(In=2),clearTimeout(nt),Dn(0)):Jr||(In=1)))}return Dn(0),_t=setTimeout(()=>{Yt=!0,ii(!0)},Se),ii}((Le,nt)=>{if(nt)return void Le(!1,new Qt(!1,null,!0));const _t=this.connectionFactory_();this.pendingConnection_=_t;const Yt=In=>{null!==this.progressCallback_&&this.progressCallback_(In.loaded,In.lengthComputable?In.total:-1)};null!==this.progressCallback_&&_t.addUploadProgressListener(Yt),_t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&_t.removeUploadProgressListener(Yt),this.pendingConnection_=null;const In=_t.getErrorCode()===tr.NO_ERROR,fn=_t.getStatus();if(!In||rn(fn,this.additionalRetryCodes_)&&this.retry){const Ar=_t.getErrorCode()===tr.ABORT;return void Le(!1,new Qt(!1,null,Ar))}const qn=-1!==this.successCodes_.indexOf(fn);Le(!0,new Qt(qn,_t))})},Se,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function st(ee){ee(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Qt{constructor(J,Se,Le){this.wasSuccessCode=J,this.connection=Se,this.canceled=!!Le}}function xr(...ee){const J=function sn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const Se=new J;for(let Le=0;Le<ee.length;Le++)Se.append(ee[Le]);return Se.getBlob()}if(ot())return new Blob(ee);throw new W(ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const En={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gn{constructor(J,Se){this.data=J,this.contentType=Se||null}}function Tn(ee,J){switch(ee){case En.RAW:return new Gn(Br(J));case En.BASE64:case En.BASE64URL:return new Gn(Hr(ee,J));case En.DATA_URL:return new Gn(function hi(ee){const J=new zn(ee);return J.base64?Hr(En.BASE64,J.rest):function Dr(ee){let J;try{J=decodeURIComponent(ee)}catch{throw Ot(En.DATA_URL,"Malformed data URL.")}return Br(J)}(J.rest)}(J),function ys(ee){return new zn(ee).contentType}(J))}throw Re()}function Br(ee){const J=[];for(let Se=0;Se<ee.length;Se++){let Le=ee.charCodeAt(Se);Le<=127?J.push(Le):Le<=2047?J.push(192|Le>>6,128|63&Le):55296==(64512&Le)?Se<ee.length-1&&56320==(64512&ee.charCodeAt(Se+1))?(Le=65536|(1023&Le)<<10|1023&ee.charCodeAt(++Se),J.push(240|Le>>18,128|Le>>12&63,128|Le>>6&63,128|63&Le)):J.push(239,191,189):56320==(64512&Le)?J.push(239,191,189):J.push(224|Le>>12,128|Le>>6&63,128|63&Le)}return new Uint8Array(J)}function Hr(ee,J){switch(ee){case En.BASE64:{const nt=-1!==J.indexOf("-"),_t=-1!==J.indexOf("_");if(nt||_t)throw Ot(ee,"Invalid character '"+(nt?"-":"_")+"' found: is it base64url encoded?");break}case En.BASE64URL:{const nt=-1!==J.indexOf("+"),_t=-1!==J.indexOf("/");if(nt||_t)throw Ot(ee,"Invalid character '"+(nt?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Se;try{Se=function Gt(ee){if(typeof atob>"u")throw function Ie(ee){return new W(ne.UNSUPPORTED_ENVIRONMENT,`${ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(ee)}(J)}catch(nt){throw nt.message.includes("polyfill")?nt:Ot(ee,"Invalid character found")}const Le=new Uint8Array(Se.length);for(let nt=0;nt<Se.length;nt++)Le[nt]=Se.charCodeAt(nt);return Le}class zn{constructor(J){this.base64=!1,this.contentType=null;const Se=J.match(/^data:([^,]+)?,/);if(null===Se)throw Ot(En.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Le=Se[1]||null;null!=Le&&(this.base64=function dn(ee,J){return ee.length>=J.length&&ee.substring(ee.length-J.length)===J}(Le,";base64"),this.contentType=this.base64?Le.substring(0,Le.length-7):Le),this.rest=J.substring(J.indexOf(",")+1)}}class ti{constructor(J,Se){let Le=0,nt="";Fe(J)?(this.data_=J,Le=J.size,nt=J.type):J instanceof ArrayBuffer?(Se?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),Le=this.data_.length):J instanceof Uint8Array&&(Se?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),Le=J.length),this.size_=Le,this.type_=nt}size(){return this.size_}type(){return this.type_}slice(J,Se){if(Fe(this.data_)){const nt=function Xn(ee,J,Se){return ee.webkitSlice?ee.webkitSlice(J,Se):ee.mozSlice?ee.mozSlice(J,Se):ee.slice?ee.slice(J,Se):null}(this.data_,J,Se);return null===nt?null:new ti(nt)}{const Le=new Uint8Array(this.data_.buffer,J,Se-J);return new ti(Le,!0)}}static getBlob(...J){if(ot()){const Se=J.map(Le=>Le instanceof ti?Le.data_:Le);return new ti(xr.apply(null,Se))}{const Se=J.map(Yt=>ye(Yt)?Tn(En.RAW,Yt).data:Yt.data_);let Le=0;Se.forEach(Yt=>{Le+=Yt.byteLength});const nt=new Uint8Array(Le);let _t=0;return Se.forEach(Yt=>{for(let In=0;In<Yt.length;In++)nt[_t++]=Yt[In]}),new ti(nt,!0)}}uploadData(){return this.data_}}function Jn(ee){let J;try{J=JSON.parse(ee)}catch{return null}return function Z(ee){return"object"==typeof ee&&!Array.isArray(ee)}(J)?J:null}function Ri(ee){const J=ee.lastIndexOf("/",ee.length-2);return-1===J?ee:ee.slice(J+1)}function at(ee,J){return J}class bt{constructor(J,Se,Le,nt){this.server=J,this.local=Se||J,this.writable=!!Le,this.xform=nt||at}}let de=null;function At(){if(de)return de;const ee=[];ee.push(new bt("bucket")),ee.push(new bt("generation")),ee.push(new bt("metageneration")),ee.push(new bt("name","fullPath",!0));const Se=new bt("name");Se.xform=function J(_t,Yt){return function ke(ee){return!ye(ee)||ee.length<2?ee:Ri(ee)}(Yt)},ee.push(Se);const nt=new bt("size");return nt.xform=function Le(_t,Yt){return void 0!==Yt?Number(Yt):Yt},ee.push(nt),ee.push(new bt("timeCreated")),ee.push(new bt("updated")),ee.push(new bt("md5Hash",null,!0)),ee.push(new bt("cacheControl",null,!0)),ee.push(new bt("contentDisposition",null,!0)),ee.push(new bt("contentEncoding",null,!0)),ee.push(new bt("contentLanguage",null,!0)),ee.push(new bt("contentType",null,!0)),ee.push(new bt("metadata","customMetadata",!0)),de=ee,de}function Vr(ee,J,Se){const Le=Jn(J);return null===Le?null:function Vn(ee,J,Se){const Le={type:"file"},nt=Se.length;for(let _t=0;_t<nt;_t++){const Yt=Se[_t];Le[Yt.local]=Yt.xform(Le,J[Yt.server])}return function qt(ee,J){Object.defineProperty(ee,"ref",{get:function Se(){const _t=new Kt(ee.bucket,ee.fullPath);return J._makeStorageReference(_t)}})}(Le,ee),Le}(ee,Le,Se)}function Qe(ee,J){const Se={},Le=J.length;for(let nt=0;nt<Le;nt++){const _t=J[nt];_t.writable&&(Se[_t.server]=ee[_t.local])}return JSON.stringify(Se)}const He="prefixes",x="items";class re{constructor(J,Se,Le,nt){this.url=J,this.method=Se,this.handler=Le,this.timeout=nt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pe(ee){if(!ee)throw Re()}function dt(ee,J){return function Se(Le,nt){const _t=Vr(ee,nt,J);return pe(null!==_t),_t}}function hn(ee){return function J(Se,Le){let nt;return nt=401===Se.getStatus()?Se.getErrorText().includes("Firebase App Check token is invalid")?function we(){return new W(ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ye(){return new W(ne.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Se.getStatus()?function ve(ee){return new W(ne.QUOTA_EXCEEDED,"Quota for bucket '"+ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ee.bucket):403===Se.getStatus()?function Tt(ee){return new W(ne.UNAUTHORIZED,"User does not have permission to access '"+ee+"'.")}(ee.path):Le,nt.status=Se.getStatus(),nt.serverResponse=Le.serverResponse,nt}}function wn(ee){const J=hn(ee);return function Se(Le,nt){let _t=J(Le,nt);return 404===Le.getStatus()&&(_t=function je(ee){return new W(ne.OBJECT_NOT_FOUND,"Object '"+ee+"' does not exist.")}(ee.path)),_t.serverResponse=nt.serverResponse,_t}}function Er(ee,J,Se){const nt=Ft(J.fullServerUrl(),ee.host,ee._protocol),Yt=ee.maxOperationRetryTime,In=new re(nt,"GET",dt(ee,Se),Yt);return In.errorHandler=wn(J),In}function an(ee,J,Se,Le,nt){const _t={};_t.prefix=J.isRoot?"":J.path+"/",Se&&Se.length>0&&(_t.delimiter=Se),Le&&(_t.pageToken=Le),nt&&(_t.maxResults=nt);const In=Ft(J.bucketOnlyServerUrl(),ee.host,ee._protocol),qn=ee.maxOperationRetryTime,Ar=new re(In,"GET",function Pt(ee,J){return function Se(Le,nt){const _t=function O(ee,J,Se){const Le=Jn(Se);return null===Le?null:function A(ee,J,Se){const Le={prefixes:[],items:[],nextPageToken:Se.nextPageToken};if(Se[He])for(const nt of Se[He]){const _t=nt.replace(/\/$/,""),Yt=ee._makeStorageReference(new Kt(J,_t));Le.prefixes.push(Yt)}if(Se[x])for(const nt of Se[x]){const _t=ee._makeStorageReference(new Kt(J,nt.name));Le.items.push(_t)}return Le}(ee,J,Le)}(ee,J,nt);return pe(null!==_t),_t}}(ee,J.bucket),qn);return Ar.urlParams=_t,Ar.errorHandler=hn(J),Ar}function Es(ee,J,Se){const Le=Object.assign({},Se);return Le.fullPath=ee.path,Le.size=J.size(),Le.contentType||(Le.contentType=function vs(ee,J){return ee&&ee.contentType||J&&J.type()||"application/octet-stream"}(null,J)),Le}class sr{constructor(J,Se,Le,nt){this.current=J,this.total=Se,this.finalized=!!Le,this.metadata=nt||null}}function Ns(ee,J){let Se=null;try{Se=ee.getResponseHeader("X-Goog-Upload-Status")}catch{pe(!1)}return pe(!!Se&&-1!==(J||["active"]).indexOf(Se)),Se}const Un={STATE_CHANGED:"state_changed"},Nn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hr(ee){switch(ee){case"running":case"pausing":case"canceling":return Nn.RUNNING;case"paused":return Nn.PAUSED;case"success":return Nn.SUCCESS;case"canceled":return Nn.CANCELED;default:return Nn.ERROR}}class $r{constructor(J,Se,Le){if(function xe(ee){return"function"==typeof ee}(J)||null!=Se||null!=Le)this.next=J,this.error=Se??void 0,this.complete=Le??void 0;else{const _t=J;this.next=_t.next,this.error=_t.error,this.complete=_t.complete}}}function qr(ee){return(...J)=>{Promise.resolve().then(()=>ee(...J))}}let fr=null;class Xi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tr.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tr.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tr.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Se,Le,nt){if(this.sent_)throw Vt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Se,J,!0),void 0!==nt)for(const _t in nt)nt.hasOwnProperty(_t)&&this.xhr_.setRequestHeader(_t,nt[_t].toString());return void 0!==Le?this.xhr_.send(Le):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class ks extends Xi{initXhr(){this.xhr_.responseType="text"}}function os(){return fr?fr():new ks}class li{constructor(J,Se,Le=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Se,this._metadata=Le,this._mappings=At(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=nt=>{if(this._request=void 0,this._chunkMultiplier=1,nt._codeEquals(ne.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const _t=this.isExponentialBackoffExpired();if(rn(nt.status,[])){if(!_t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();nt=Bt()}this._error=nt,this._transition("error")}},this._metadataErrorHandler=nt=>{this._request=void 0,nt._codeEquals(ne.CANCELED)?this.completeTransitions_():(this._error=nt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((nt,_t)=>{this._resolve=nt,this._reject=_t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return Se=>this._updateProgress(J+Se)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Se,Le])=>{switch(this._state){case"running":J(Se,Le);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Se)=>{const Le=function Dt(ee,J,Se,Le,nt){const _t=J.bucketOnlyServerUrl(),Yt=Es(J,Le,nt),In={name:Yt.fullPath},fn=Ft(_t,ee.host,ee._protocol),Ar={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Le.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},Dn=Qe(Yt,Se),kr=new re(fn,"POST",function Zn(ii){let Jr;Ns(ii);try{Jr=ii.getResponseHeader("X-Goog-Upload-URL")}catch{pe(!1)}return pe(ye(Jr)),Jr},ee.maxUploadRetryTime);return kr.urlParams=In,kr.headers=Ar,kr.body=Dn,kr.errorHandler=hn(J),kr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(Le,os,J,Se);this._request=nt,nt.getPromise().then(_t=>{this._request=void 0,this._uploadUrl=_t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Se,Le)=>{const nt=function lt(ee,J,Se,Le){const fn=new re(Se,"POST",function _t(qn){const Ar=Ns(qn,["active","final"]);let Dn=null;try{Dn=qn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pe(!1)}Dn||pe(!1);const kn=Number(Dn);return pe(!isNaN(kn)),new sr(kn,Le.size(),"final"===Ar)},ee.maxUploadRetryTime);return fn.headers={"X-Goog-Upload-Command":"query"},fn.errorHandler=hn(J),fn}(this._ref.storage,this._ref._location,J,this._blob),_t=this._ref.storage._makeRequest(nt,os,Se,Le);this._request=_t,_t.getPromise().then(Yt=>{this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Se=new sr(this._transferred,this._blob.size()),Le=this._uploadUrl;this._resolveToken((nt,_t)=>{let Yt;try{Yt=function ln(ee,J,Se,Le,nt,_t,Yt,In){const fn=new sr(0,0);if(Yt?(fn.current=Yt.current,fn.total=Yt.total):(fn.current=0,fn.total=Le.size()),Le.size()!==fn.total)throw function xt(){return new W(ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const qn=fn.total-fn.current;let Ar=qn;nt>0&&(Ar=Math.min(Ar,nt));const Dn=fn.current;let Zn="";Zn=0===Ar?"finalize":qn===Ar?"upload, finalize":"upload";const kr={"X-Goog-Upload-Command":Zn,"X-Goog-Upload-Offset":`${fn.current}`},ii=Le.slice(Dn,Dn+Ar);if(null===ii)throw ct();const Sr=new re(Se,"POST",function Jr(Ii,wi){const Mr=Ns(Ii,["active","final"]),Bo=fn.current+Ar,ds=Le.size();let Js;return Js="final"===Mr?dt(J,_t)(Ii,wi):null,new sr(Bo,ds,"final"===Mr,Js)},J.maxUploadRetryTime);return Sr.headers=kr,Sr.body=ii.uploadData(),Sr.progressCallback=In||null,Sr.errorHandler=hn(ee),Sr}(this._ref._location,this._ref.storage,Le,this._blob,J,this._mappings,Se,this._makeProgressCallback())}catch(fn){return this._error=fn,void this._transition("error")}const In=this._ref.storage._makeRequest(Yt,os,nt,_t,!1);this._request=In,In.getPromise().then(fn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(fn.current),fn.finalized?(this._metadata=fn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Se)=>{const Le=Er(this._ref.storage,this._ref._location,this._mappings),nt=this._ref.storage._makeRequest(Le,os,J,Se);this._request=nt,nt.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Se)=>{const Le=function gi(ee,J,Se,Le,nt){const _t=J.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},fn=function In(){let Sr="";for(let Ii=0;Ii<2;Ii++)Sr+=Math.random().toString().slice(2);return Sr}();Yt["Content-Type"]="multipart/related; boundary="+fn;const qn=Es(J,Le,nt),Ar=Qe(qn,Se),Zn=ti.getBlob("--"+fn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ar+"\r\n--"+fn+"\r\nContent-Type: "+qn.contentType+"\r\n\r\n",Le,"\r\n--"+fn+"--");if(null===Zn)throw ct();const kr={name:qn.fullPath},ii=Ft(_t,ee.host,ee._protocol),Vi=ee.maxUploadRetryTime,Ci=new re(ii,"POST",dt(ee,Se),Vi);return Ci.urlParams=kr,Ci.headers=Yt,Ci.body=Zn.uploadData(),Ci.errorHandler=hn(J),Ci}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(Le,os,J,Se);this._request=nt,nt.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Se=this._transferred;this._transferred=J,this._transferred!==Se&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Se="paused"===this._state;this._state=J,Se&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=Ge(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=hr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Se,Le,nt){const _t=new $r(Se||void 0,Le||void 0,nt||void 0);return this._addObserver(_t),()=>{this._removeObserver(_t)}}then(J,Se){return this._promise.then(J,Se)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Se=this._observers.indexOf(J);-1!==Se&&this._observers.splice(Se,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Se=>{this._notifyObserver(Se)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(hr(this._state)){case Nn.SUCCESS:qr(this._resolve.bind(null,this.snapshot))();break;case Nn.CANCELED:case Nn.ERROR:qr(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(hr(this._state)){case Nn.RUNNING:case Nn.PAUSED:J.next&&qr(J.next.bind(J,this.snapshot))();break;case Nn.SUCCESS:J.complete&&qr(J.complete.bind(J))();break;default:J.error&&qr(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class as{constructor(J,Se){this._service=J,this._location=Se instanceof Kt?Se:Kt.makeFromUrl(Se,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Se){return new as(J,Se)}get root(){const J=new Kt(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ri(this._location.path)}get storage(){return this._service}get parent(){const J=function Tr(ee){if(0===ee.length)return null;const J=ee.lastIndexOf("/");return-1===J?"":ee.slice(0,J)}(this._location.path);if(null===J)return null;const Se=new Kt(this._location.bucket,J);return new as(this._service,Se)}_throwIfRoot(J){if(""===this._location.path)throw On(J)}}function So(ee,J,Se){return fi.apply(this,arguments)}function fi(){return(fi=(0,s.A)(function*(ee,J,Se){const nt=yield Oa(ee,{pageToken:Se});J.prefixes.push(...nt.prefixes),J.items.push(...nt.items),null!=nt.nextPageToken&&(yield So(ee,J,nt.nextPageToken))})).apply(this,arguments)}function Oa(ee,J){null!=J&&"number"==typeof J.maxResults&&We("options.maxResults",1,1e3,J.maxResults);const Se=J||{},Le=an(ee.storage,ee._location,"/",Se.pageToken,Se.maxResults);return ee.storage.makeRequestWithTokens(Le,os)}function pa(ee){ee._throwIfRoot("getDownloadURL");const J=function cr(ee,J,Se){const nt=Ft(J.fullServerUrl(),ee.host,ee._protocol),Yt=ee.maxOperationRetryTime,In=new re(nt,"GET",function on(ee,J){return function Se(Le,nt){const _t=Vr(ee,nt,J);return pe(null!==_t),function Ir(ee,J,Se,Le){const nt=Jn(J);if(null===nt||!ye(nt.downloadTokens))return null;const _t=nt.downloadTokens;if(0===_t.length)return null;const Yt=encodeURIComponent;return _t.split(",").map(qn=>{const Dn=ee.fullPath;return Ft("/b/"+Yt(ee.bucket)+"/o/"+Yt(Dn),Se,Le)+bn({alt:"media",token:qn})})[0]}(_t,nt,ee.host,ee._protocol)}}(ee,Se),Yt);return In.errorHandler=wn(J),In}(ee.storage,ee._location,At());return ee.storage.makeRequestWithTokens(J,os).then(Se=>{if(null===Se)throw function ut(){return new W(ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Se})}function ni(ee,J){const Se=function Hn(ee,J){const Se=J.split("/").filter(Le=>Le.length>0).join("/");return 0===ee.length?Se:ee+"/"+Se}(ee._location.path,J),Le=new Kt(ee._location.bucket,Se);return new as(ee.storage,Le)}function $i(ee,J){if(ee instanceof ri){const Se=ee;if(null==Se._bucket)throw function Ke(){return new W(ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Te+"' property when initializing the app?")}();const Le=new as(Se,Se._bucket);return null!=J?$i(Le,J):Le}return void 0!==J?ni(ee,J):ee}function xi(ee,J){if(J&&function $s(ee){return/^[A-Za-z]+:\/\//.test(ee)}(J)){if(ee instanceof ri)return function mi(ee,J){return new as(ee,J)}(ee,J);throw Ze("To use ref(service, url), the first argument must be a Storage instance.")}return $i(ee,J)}function Yn(ee,J){const Se=J?.[Te];return null==Se?null:Kt.makeFromBucketSpec(Se,ee)}class ri{constructor(J,Se,Le,nt,_t){this.app=J,this._authProvider=Se,this._appCheckProvider=Le,this._url=nt,this._firebaseVersion=_t,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=nt?Kt.makeFromBucketSpec(nt,this._host):Yn(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?Kt.makeFromBucketSpec(this._url,J):Yn(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){We("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){We("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,s.A)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Se=J._authProvider.getImmediate({optional:!0});if(Se){const Le=yield Se.getToken();if(null!==Le)return Le.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,s.A)(function*(){const Se=J._appCheckProvider.getImmediate({optional:!0});return Se?(yield Se.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new as(this,J)}_makeRequest(J,Se,Le,nt,_t=!0){if(this._deleted)return new pt(Xt());{const Yt=function dr(ee,J,Se,Le,nt,_t,Yt=!0){const In=bn(ee.urlParams),fn=ee.url+In,qn=Object.assign({},ee.headers);return function zt(ee,J){J&&(ee["X-Firebase-GMPID"]=J)}(qn,J),function Bn(ee,J){null!==J&&J.length>0&&(ee.Authorization="Firebase "+J)}(qn,Se),function xn(ee,J){ee["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(qn,_t),function Ut(ee,J){null!==J&&(ee["X-Firebase-AppCheck"]=J)}(qn,Le),new Fn(fn,ee.method,qn,ee.body,ee.successCodes,ee.additionalRetryCodes,ee.handler,ee.errorHandler,ee.timeout,ee.progressCallback,nt,Yt)}(J,this._appId,Le,nt,Se,this._firebaseVersion,_t);return this._requests.add(Yt),Yt.getPromise().then(()=>this._requests.delete(Yt),()=>this._requests.delete(Yt)),Yt}}makeRequestWithTokens(J,Se){var Le=this;return(0,s.A)(function*(){const[nt,_t]=yield Promise.all([Le._getAuthToken(),Le._getAppCheckToken()]);return Le._makeRequest(J,Se,nt,_t).getPromise()})()}}const zi="@firebase/storage",ls="storage";function Ss(ee,J,Se){return function Mi(ee,J,Se){return ee._throwIfRoot("uploadBytesResumable"),new li(ee,new ti(J),Se)}(ee=(0,r.Ku)(ee),J,Se)}function Wr(ee){return function Qa(ee){ee._throwIfRoot("getMetadata");const J=Er(ee.storage,ee._location,At());return ee.storage.makeRequestWithTokens(J,os)}(ee=(0,r.Ku)(ee))}function gn(ee,J){return function Pi(ee,J){ee._throwIfRoot("updateMetadata");const Se=function Bs(ee,J,Se,Le){const _t=Ft(J.fullServerUrl(),ee.host,ee._protocol),In=Qe(Se,Le),qn=ee.maxOperationRetryTime,Ar=new re(_t,"PATCH",dt(ee,Le),qn);return Ar.headers={"Content-Type":"application/json; charset=utf-8"},Ar.body=In,Ar.errorHandler=wn(J),Ar}(ee.storage,ee._location,J,At());return ee.storage.makeRequestWithTokens(Se,os)}(ee=(0,r.Ku)(ee),J)}function nr(ee,J){return Oa(ee=(0,r.Ku)(ee),J)}function ur(ee){return function co(ee){const J={prefixes:[],items:[]};return So(ee,J).then(()=>J)}(ee=(0,r.Ku)(ee))}function Qi(ee){return pa(ee=(0,r.Ku)(ee))}function cs(ee){return function Xs(ee){ee._throwIfRoot("deleteObject");const J=function Ni(ee,J){const Le=Ft(J.fullServerUrl(),ee.host,ee._protocol),In=new re(Le,"DELETE",function Yt(fn,qn){},ee.maxOperationRetryTime);return In.successCodes=[200,204],In.errorHandler=wn(J),In}(ee.storage,ee._location);return ee.storage.makeRequestWithTokens(J,os)}(ee=(0,r.Ku)(ee))}function Fi(ee,J){return xi(ee=(0,r.Ku)(ee),J)}function Gs(ee,J){return ni(ee,J)}function Qr(ee=(0,ce.getApp)(),J){ee=(0,r.Ku)(ee);const Le=(0,ce._getProvider)(ee,ls).getImmediate({identifier:J}),nt=(0,r.yU)("storage");return nt&&us(Le,...nt),Le}function us(ee,J,Se,Le={}){!function Xr(ee,J,Se,Le={}){ee.host=`${J}:${Se}`,ee._protocol="http";const{mockUserToken:nt}=Le;nt&&(ee._overrideAuthToken="string"==typeof nt?nt:(0,r.Fy)(nt,ee.app.options.projectId))}(ee,J,Se,Le)}function _i(ee,{instanceIdentifier:J}){const Se=ee.getProvider("app").getImmediate(),Le=ee.getProvider("auth-internal"),nt=ee.getProvider("app-check-internal");return new ri(Se,Le,nt,J,ce.SDK_VERSION)}!function Ji(){(0,ce._registerComponent)(new Ee.uA(ls,_i,"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(zi,"0.13.2",""),(0,ce.registerVersion)(zi,"0.13.2","esm2017")}()},1076:(tn,Xe,V)=>{V.d(Xe,{Am:()=>Gn,Bd:()=>Ze,FA:()=>We,Fy:()=>ct,I9:()=>Tn,Im:()=>sn,Ku:()=>He,Ll:()=>Ie,T9:()=>Ae,Uj:()=>Me,XA:()=>tt,ZQ:()=>xt,bD:()=>Xn,c1:()=>On,cY:()=>Ke,eX:()=>Z,g:()=>ot,gR:()=>Ut,hp:()=>Br,jZ:()=>ut,lT:()=>pt,lV:()=>Vt,mS:()=>je,nr:()=>it,p7:()=>Xt,sr:()=>Ot,tD:()=>Hr,u:()=>W,yU:()=>Ge,zW:()=>xe,zw:()=>he});const Ee=function(x){const A=[];let O=0;for(let re=0;re<x.length;re++){let pe=x.charCodeAt(re);pe<128?A[O++]=pe:pe<2048?(A[O++]=pe>>6|192,A[O++]=63&pe|128):55296==(64512&pe)&&re+1<x.length&&56320==(64512&x.charCodeAt(re+1))?(pe=65536+((1023&pe)<<10)+(1023&x.charCodeAt(++re)),A[O++]=pe>>18|240,A[O++]=pe>>12&63|128,A[O++]=pe>>6&63|128,A[O++]=63&pe|128):(A[O++]=pe>>12|224,A[O++]=pe>>6&63|128,A[O++]=63&pe|128)}return A},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(x,A){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let pe=0;pe<x.length;pe+=3){const dt=x[pe],Pt=pe+1<x.length,on=Pt?x[pe+1]:0,hn=pe+2<x.length,wn=hn?x[pe+2]:0;let zr=(15&on)<<2|wn>>6,cr=63&wn;hn||(cr=64,Pt||(zr=64)),re.push(O[dt>>2],O[(3&dt)<<4|on>>4],O[zr],O[cr])}return re.join("")},encodeString(x,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(x):this.encodeByteArray(Ee(x),A)},decodeString(x,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(x):function(x){const A=[];let O=0,re=0;for(;O<x.length;){const pe=x[O++];if(pe<128)A[re++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const dt=x[O++];A[re++]=String.fromCharCode((31&pe)<<6|63&dt)}else if(pe>239&&pe<365){const hn=((7&pe)<<18|(63&x[O++])<<12|(63&x[O++])<<6|63&x[O++])-65536;A[re++]=String.fromCharCode(55296+(hn>>10)),A[re++]=String.fromCharCode(56320+(1023&hn))}else{const dt=x[O++],Pt=x[O++];A[re++]=String.fromCharCode((15&pe)<<12|(63&dt)<<6|63&Pt)}}return A.join("")}(this.decodeStringToByteArray(x,A))},decodeStringToByteArray(x,A){this.init_();const O=A?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let pe=0;pe<x.length;){const dt=O[x.charAt(pe++)],on=pe<x.length?O[x.charAt(pe)]:0;++pe;const wn=pe<x.length?O[x.charAt(pe)]:64;++pe;const an=pe<x.length?O[x.charAt(pe)]:64;if(++pe,null==dt||null==on||null==wn||null==an)throw new be;re.push(dt<<2|on>>4),64!==wn&&(re.push(on<<4&240|wn>>2),64!==an&&re.push(wn<<6&192|an))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(x){return function(x){const A=Ee(x);return Te.encodeByteArray(A,!0)}(x).replace(/\./g,"")},W=function(x){try{return Te.decodeString(x,!0)}catch(A){console.error("base64Decode failed: ",A)}return null};function he(x,A){if(!(A instanceof Object))return A;switch(A.constructor){case Date:return new Date(A.getTime());case Object:void 0===x&&(x={});break;case Array:x=[];break;default:return A}for(const O in A)!A.hasOwnProperty(O)||!Re(O)||(x[O]=he(x[O],A[O]));return x}function Re(x){return"__proto__"!==x}function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Tt=()=>{try{return je().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const x=process.env.__FIREBASE_DEFAULTS__;return x?JSON.parse(x):void 0})()||(()=>{if(typeof document>"u")return;let x;try{x=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const A=x&&W(x[1]);return A&&JSON.parse(A)})()}catch(x){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${x}`)}},Ge=x=>{const A=(x=>{var A,O;return null===(O=null===(A=Tt())||void 0===A?void 0:A.emulatorHosts)||void 0===O?void 0:O[x]})(x);if(!A)return;const O=A.lastIndexOf(":");if(O<=0||O+1===A.length)throw new Error(`Invalid host ${A} with no separate hostname and port!`);const re=parseInt(A.substring(O+1),10);return"["===A[0]?[A.substring(1,O-1),re]:[A.substring(0,O),re]},Ae=()=>{var x;return null===(x=Tt())||void 0===x?void 0:x.config},tt=x=>{var A;return null===(A=Tt())||void 0===A?void 0:A[`_${x}`]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((A,O)=>{this.resolve=A,this.reject=O})}wrapCallback(A){return(O,re)=>{O?this.reject(O):this.resolve(re),"function"==typeof A&&(this.promise.catch(()=>{}),1===A.length?A(O):A(O,re))}}}function ct(x,A){if(x.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=A||"demo-project",pe=x.iat||0,dt=x.sub||x.user_id;if(!dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pt=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:pe,exp:pe+3600,auth_time:pe,sub:dt,user_id:dt,firebase:{sign_in_provider:"custom",identities:{}}},x);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(Pt)),""].join(".")}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Ie(){var x;const A=null===(x=Tt())||void 0===x?void 0:x.forceEnvironment;if("node"===A)return!0;if("browser"===A)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return typeof window<"u"||Xt()}function Xt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function On(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ot(){const x="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof x&&void 0!==x.id}function Vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){const x=xt();return x.indexOf("MSIE ")>=0||x.indexOf("Trident/")>=0}function it(){return!Ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function Z(){return new Promise((x,A)=>{try{let O=!0;const re="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(re);pe.onsuccess=()=>{pe.result.close(),O||self.indexedDB.deleteDatabase(re),x(!0)},pe.onupgradeneeded=()=>{O=!1},pe.onerror=()=>{var dt;A((null===(dt=pe.error)||void 0===dt?void 0:dt.message)||"")}}catch(O){A(O)}})}class ot extends Error{constructor(A,O,re){super(O),this.code=A,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(A,O,re){this.service=A,this.serviceName=O,this.errors=re}create(A,...O){const re=O[0]||{},pe=`${this.service}/${A}`,dt=this.errors[A],Pt=dt?function Ft(x,A){return x.replace(bn,(O,re)=>{const pe=A[re];return null!=pe?String(pe):`<${re}?>`})}(dt,re):"Error";return new ot(pe,`${this.serviceName}: ${Pt} (${pe}).`,re)}}const bn=/\{\$([^}]+)}/g;function Ut(x,A){return Object.prototype.hasOwnProperty.call(x,A)}function sn(x){for(const A in x)if(Object.prototype.hasOwnProperty.call(x,A))return!1;return!0}function Xn(x,A){if(x===A)return!0;const O=Object.keys(x),re=Object.keys(A);for(const pe of O){if(!re.includes(pe))return!1;const dt=x[pe],Pt=A[pe];if(Gt(dt)&&Gt(Pt)){if(!Xn(dt,Pt))return!1}else if(dt!==Pt)return!1}for(const pe of re)if(!O.includes(pe))return!1;return!0}function Gt(x){return null!==x&&"object"==typeof x}function Gn(x){const A=[];for(const[O,re]of Object.entries(x))Array.isArray(re)?re.forEach(pe=>{A.push(encodeURIComponent(O)+"="+encodeURIComponent(pe))}):A.push(encodeURIComponent(O)+"="+encodeURIComponent(re));return A.length?"&"+A.join("&"):""}function Tn(x){const A={};return x.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[pe,dt]=re.split("=");A[decodeURIComponent(pe)]=decodeURIComponent(dt)}}),A}function Br(x){const A=x.indexOf("?");if(!A)return"";const O=x.indexOf("#",A);return x.substring(A,O>0?O:void 0)}function Hr(x,A){const O=new zn(x,A);return O.subscribe.bind(O)}class zn{constructor(A,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{A(this)}).catch(re=>{this.error(re)})}next(A){this.forEachObserver(O=>{O.next(A)})}error(A){this.forEachObserver(O=>{O.error(A)}),this.close(A)}complete(){this.forEachObserver(A=>{A.complete()}),this.close()}subscribe(A,O,re){let pe;if(void 0===A&&void 0===O&&void 0===re)throw new Error("Missing Observer.");pe=function ys(x,A){if("object"!=typeof x||null===x)return!1;for(const O of A)if(O in x&&"function"==typeof x[O])return!0;return!1}(A,["next","error","complete"])?A:{next:A,error:O,complete:re},void 0===pe.next&&(pe.next=dn),void 0===pe.error&&(pe.error=dn),void 0===pe.complete&&(pe.complete=dn);const dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch{}}),this.observers.push(pe),dt}unsubscribeOne(A){void 0===this.observers||void 0===this.observers[A]||(delete this.observers[A],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(A){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,A)}sendOne(A,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[A])try{O(this.observers[A])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(A){this.finalized||(this.finalized=!0,void 0!==A&&(this.finalError=A),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}function He(x){return x&&x._delegate?x._delegate:x}},9483:(tn,Xe,V)=>{V.d(Xe,{j:()=>he});var s=V(7705),ce=V(6814),r=V(923),Ee=V(177);const me=function(Re,je){return{"background-color":Re,color:je}};function Te(Re,je){if(1&Re){const ve=s.RV6();s.qex(0),s.j41(1,"button",4),s.bIt("click",function(){s.eBV(ve);const we=s.XpG();return s.Njj(we.navigateTo(we.buttonLink))}),s.EFF(2),s.k0s(),s.bVm()}if(2&Re){const ve=s.XpG();s.R7$(1),s.Y8G("ngStyle",s.l_i(2,me,ve.buttonBgColor,ve.buttonTextColor)),s.R7$(1),s.SpI(" ",ve.buttonText," ")}}function be(Re,je){if(1&Re){const ve=s.RV6();s.j41(0,"a",4),s.bIt("click",function(){s.eBV(ve);const we=s.XpG();return s.Njj(we.navigateTo(we.buttonLink))}),s.EFF(1),s.k0s()}if(2&Re){const ve=s.XpG();s.Y8G("ngStyle",s.l_i(2,me,ve.buttonBgColor,ve.buttonTextColor)),s.R7$(1),s.SpI(" ",ve.buttonText," ")}}const Pe=function(Re,je,ve){return{"full-width":Re,centered:je,shadow:ve}},Me=function(Re,je,ve,Ye){return{"background-color":Re,color:je,"text-align":ve,"border-radius":Ye}},W=function(Re,je){return{color:Re,"font-size":je}},ne=function(Re){return{color:Re}};let he=(()=>{class Re{constructor(ve,Ye){this.router=ve,this.businessDataService=Ye,this.title="Come Meet Our Family!",this.content="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.textColor="var(--text-color)",this.titleColor="var(--accent-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigateTo(ve){this.businessDataService.getBusinessId().subscribe(Ye=>{Ye&&(this.businessId=Ye)}),console.log("Page: "+ve+" Parameters = "+this.businessId),this.router.navigate(["/"+ve],{queryParams:{id:this.businessId}})}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Ye){return new(Ye||Re)(s.rXU(ce.Ix),s.rXU(r.A))}}static{this.\u0275cmp=s.VBU({type:Re,selectors:[["app-call-to-action"]],inputs:{title:"title",content:"content",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor",titleColor:"titleColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:8,vars:22,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"]],template:function(Ye,we){if(1&Ye&&(s.j41(0,"div",0)(1,"h2",1),s.EFF(2),s.k0s(),s.j41(3,"p",1),s.EFF(4),s.k0s(),s.DNE(5,Te,3,5,"ng-container",2),s.DNE(6,be,2,5,"ng-template",null,3,s.C5r),s.k0s()),2&Ye){const Tt=s.sdS(7);s.Y8G("ngClass",s.sMw(8,Pe,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,Me,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(1),s.Y8G("ngStyle",s.l_i(17,W,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.JRh(we.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(20,ne,we.textColor)),s.R7$(1),s.JRh(we.content),s.R7$(1),s.Y8G("ngIf",we.isButton)("ngIfElse",Tt)}},dependencies:[Ee.YU,Ee.bT,Ee.B3]})}}return Re})()},7304:(tn,Xe,V)=>{V.d(Xe,{W:()=>xt});var s=V(7705),ce=V(345),r=V(6814),Ee=V(177);let me=(()=>{class ut{transform(Ze,Xt){if(!Ze||!Xt)return Ze;let On=Ze;for(const Ot in Xt)if(Xt.hasOwnProperty(Ot)){const Vt=new RegExp(`{{${Ot}}}`,"g");On=On.replace(Vt,Xt[Ot])}return On}static{this.\u0275fac=function(Xt){return new(Xt||ut)}}static{this.\u0275pipe=s.EJ8({name:"replaceKeyword",type:ut,pure:!0})}}return ut})();const Te=function(ut){return{"text-align":ut}},be=function(ut,Ie){return{color:ut,"font-size":Ie}},Pe=function(ut){return{businessName:ut}};function Me(ut,Ie){if(1&ut&&(s.j41(0,"div")(1,"div",9)(2,"span",10),s.EFF(3),s.nI1(4,"replaceKeyword"),s.k0s(),s.nrm(5,"br"),s.j41(6,"span",11),s.EFF(7),s.k0s()()()),2&ut){const Ze=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Te,Ze.alignText)),s.R7$(1),s.Y8G("ngStyle",s.l_i(10,be,Ze.subtitleColor,Ze.subtitleFontSize+"px")),s.R7$(1),s.JRh(s.i5U(4,5,Ze.subTitle,s.eq3(13,Pe,Ze._businessName))),s.R7$(3),s.Y8G("ngStyle",s.l_i(15,be,Ze.titleColor,Ze.titleFontSize+"px")),s.R7$(1),s.SpI("",Ze.title," ")}}function W(ut,Ie){if(1&ut&&(s.j41(0,"div")(1,"h3")(2,"span",12),s.EFF(3),s.nI1(4,"replaceKeyword"),s.k0s()(),s.j41(5,"div",13)(6,"h2",14),s.EFF(7),s.k0s()()()),2&ut){const Ze=s.XpG(2);s.R7$(3),s.JRh(s.i5U(4,2,Ze.subTitle,s.eq3(5,Pe,Ze._businessName))),s.R7$(4),s.JRh(Ze.title)}}function ne(ut,Ie){if(1&ut){const Ze=s.RV6();s.j41(0,"button",15),s.bIt("click",function(){s.eBV(Ze);const On=s.XpG(2);return s.Njj(On.navigateToContact(On.buttonLink))}),s.EFF(1),s.k0s()}if(2&ut){const Ze=s.XpG(2);s.R7$(1),s.JRh(Ze.buttonText)}}const he=function(ut,Ie,Ze){return{"full-width":ut,centered:Ie,shadow:Ze}},Re=function(ut,Ie,Ze,Xt){return{"background-color":ut,color:Ie,"text-align":Ze,"border-radius":Xt}};function je(ut,Ie){if(1&ut&&(s.j41(0,"div",2)(1,"div",3)(2,"div",4),s.DNE(3,Me,8,18,"div",5),s.DNE(4,W,8,7,"div",5),s.nrm(5,"p",6),s.j41(6,"div",7),s.DNE(7,ne,2,1,"button",8),s.k0s()()()()),2&ut){const Ze=s.XpG();s.Y8G("ngClass",s.sMw(6,he,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",s.ziG(10,Re,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),s.R7$(3),s.Y8G("ngIf","home"==Ze.page),s.R7$(1),s.Y8G("ngIf","home"!=Ze.page),s.R7$(1),s.Y8G("innerHTML",Ze.sanitizedContent,s.npT),s.R7$(2),s.Y8G("ngIf",Ze.showButton)}}function ve(ut,Ie){if(1&ut&&s.nrm(0,"img",19),2&ut){const Ze=s.XpG(2);s.Y8G("src",Ze.imageURL,s.B4B)}}function Ye(ut,Ie){1&ut&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function we(ut,Ie){if(1&ut&&(s.j41(0,"div",2),s.DNE(1,ve,1,1,"img",16),s.j41(2,"h3",17),s.EFF(3),s.k0s(),s.j41(4,"h2",17),s.EFF(5),s.k0s(),s.nrm(6,"p",6),s.DNE(7,Ye,2,0,"button",18),s.k0s()),2&ut){const Ze=s.XpG();s.Y8G("ngClass",s.sMw(7,he,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",s.ziG(11,Re,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Ze.imageURL&&Ze.showImage),s.R7$(2),s.JRh(Ze.subTitle),s.R7$(2),s.JRh(Ze.title),s.R7$(1),s.Y8G("innerHTML",Ze.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Ze.showButton)}}function Tt(ut,Ie){if(1&ut&&s.nrm(0,"img",19),2&ut){const Ze=s.XpG(2);s.Y8G("src",Ze.imageURL,s.B4B)}}function Bt(ut,Ie){1&ut&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function Ge(ut,Ie){if(1&ut&&(s.j41(0,"div",2),s.DNE(1,Tt,1,1,"img",16),s.j41(2,"h3",17),s.EFF(3),s.k0s(),s.j41(4,"h2",17),s.EFF(5),s.k0s(),s.nrm(6,"p",6),s.DNE(7,Bt,2,0,"button",18),s.k0s()),2&ut){const Ze=s.XpG();s.Y8G("ngClass",s.sMw(7,he,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",s.ziG(11,Re,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Ze.imageURL&&Ze.showImage),s.R7$(2),s.JRh(Ze.subTitle),s.R7$(2),s.JRh(Ze.title),s.R7$(1),s.Y8G("innerHTML",Ze.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Ze.showButton)}}function Ae(ut,Ie){if(1&ut&&s.nrm(0,"img",19),2&ut){const Ze=s.XpG(2);s.Y8G("src",Ze.imageURL,s.B4B)}}function tt(ut,Ie){if(1&ut&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&ut){const Ze=s.XpG(2);s.R7$(1),s.SpI(" ",Ze.titleParts.part2,"")}}function Ke(ut,Ie){1&ut&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function ct(ut,Ie){if(1&ut&&(s.j41(0,"div",21),s.DNE(1,Ae,1,1,"img",16),s.j41(2,"div",22)(3,"h3"),s.EFF(4),s.k0s(),s.j41(5,"h2"),s.DNE(6,tt,2,1,"span",5),s.k0s(),s.nrm(7,"div",23)(8,"p",6),s.k0s(),s.DNE(9,Ke,2,0,"button",18),s.k0s()),2&ut){const Ze=s.XpG();s.Y8G("ngClass",s.sMw(7,he,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",s.ziG(11,Re,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Ze.imageURL&&Ze.showImage),s.R7$(3),s.JRh(Ze.titleParts.part1),s.R7$(2),s.Y8G("ngIf",Ze.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",Ze.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Ze.showButton)}}let xt=(()=>{class ut{constructor(Ze,Xt){this.sanitizer=Ze,this.router=Xt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Ze){this._content=Ze,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Ze,Xt]=this.title.split("|").map(On=>On.trim());return{part1:Ze,part2:Xt}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(Ze){this.router.navigate([Ze])}convertToBoolean(Ze){return"boolean"==typeof Ze?Ze:"string"==typeof Ze&&"true"===Ze.toLowerCase()}static{this.\u0275fac=function(Xt){return new(Xt||ut)(s.rXU(ce.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:ut,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[1,"separator2"]],template:function(Xt,On){1&Xt&&(s.DNE(0,je,8,15,"div",0),s.DNE(1,we,8,16,"div",0),s.DNE(2,Ge,8,16,"div",0),s.DNE(3,ct,10,16,"div",1)),2&Xt&&(s.Y8G("ngIf","hh"==On.themeType),s.R7$(1),s.Y8G("ngIf","ae"==On.themeType),s.R7$(1),s.Y8G("ngIf","clemo"==On.themeType),s.R7$(1),s.Y8G("ngIf","sb"==On.themeType||"sp"==On.themeType||"prestige"==On.themeType))},dependencies:[Ee.YU,Ee.bT,Ee.B3,me]})}}return ut})()},3967:(tn,Xe,V)=>{V.d(Xe,{t:()=>je});var s=V(7705),ce=V(345),r=V(6814),Ee=V(923),me=V(177);const Te=function(ve,Ye,we){return{"full-width":ve,centered:Ye,shadow:we}},be=function(ve,Ye,we,Tt){return{"background-color":ve,color:Ye,"text-align":we,"border-radius":Tt}},Pe=function(ve,Ye){return{color:ve,"font-size":Ye}};function Me(ve,Ye){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),s.EFF(4),s.k0s(),s.j41(5,"span",6),s.EFF(6),s.k0s()(),s.nrm(7,"p",7),s.j41(8,"button",8),s.bIt("click",function(){s.eBV(we);const Bt=s.XpG();return s.Njj(Bt.navigateTo("resident-form"))}),s.EFF(9,"Get Started"),s.k0s()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(7,Te,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(11,be,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(3),s.Y8G("ngStyle",s.l_i(16,Pe,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI("",we.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(19,Pe,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.JRh(we.subTitle),s.R7$(1),s.Y8G("innerHTML",we.sanitizedContent,s.npT)}}function W(ve,Ye){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",14),s.EFF(8),s.k0s()(),s.j41(9,"p"),s.EFF(10,"Discover what makes our services unique and tailored to your needs."),s.k0s(),s.EFF(11),s.j41(12,"div",15)(13,"button",16),s.bIt("click",function(){s.eBV(we);const Bt=s.XpG();return s.Njj(Bt.navigateToContact(Bt.businessId))}),s.EFF(14,"Schedule a Visit"),s.k0s()()()()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(8,Te,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,be,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,Pe,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI(" ",we.title," Ready to experience "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,Pe,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.Lme("",we.subTitle,"",we._businessName,"?"),s.R7$(3),s.SpI(" ",we.content," ")}}function ne(ve,Ye){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",17),s.bIt("click",function(){s.eBV(we);const Bt=s.XpG();return s.Njj(Bt.navigateTo("resident-form"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(8,Te,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,be,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,Pe,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI("",we.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,Pe,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.JRh(we.subTitle),s.R7$(1),s.Y8G("innerHTML",we.sanitizedContent,s.npT),s.R7$(3),s.JRh(we.buttonText)}}function he(ve,Ye){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",18)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",19),s.bIt("click",function(){s.eBV(we);const Bt=s.XpG();return s.Njj(Bt.navigateTo("contact-us"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(8,Te,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,be,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,Pe,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI("",we.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,Pe,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.JRh(we.subTitle),s.R7$(1),s.Y8G("innerHTML",we.sanitizedContent,s.npT),s.R7$(3),s.JRh(we.buttonText)}}function Re(ve,Ye){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",17),s.bIt("click",function(){s.eBV(we);const Bt=s.XpG();return s.Njj(Bt.navigateTo("resident-form"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(8,Te,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,be,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,Pe,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI("",we.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,Pe,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.JRh(we.subTitle),s.R7$(1),s.Y8G("innerHTML",we.sanitizedContent,s.npT),s.R7$(3),s.JRh(we.buttonText)}}let je=(()=>{class ve{set content(we){this._content=we,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(we,Tt,Bt){this.sanitizer=we,this.router=Tt,this.businessDataService=Bt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(we){this.router.navigate(["/contact-us"],{queryParams:{id:we}})}navigateTo(we){this.businessDataService.getBusinessId().subscribe(Tt=>{Tt&&(this.businessId=Tt)}),this.router.navigate(["/"+we],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Tt){return new(Tt||ve)(s.rXU(ce.up),s.rXU(r.Ix),s.rXU(Ee.A))}}static{this.\u0275cmp=s.VBU({type:ve,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:6,vars:6,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],["type","button",1,"cta-btn",3,"click"],[1,"consultation-container"],[1,"consultation-btn",3,"click"]],template:function(Tt,Bt){1&Tt&&(s.j41(0,"div",0),s.DNE(1,Me,10,22,"div",1),s.DNE(2,W,15,23,"div",1),s.DNE(3,ne,13,23,"div",1),s.DNE(4,he,13,23,"div",1),s.DNE(5,Re,13,23,"div",1),s.k0s()),2&Tt&&(s.Y8G("ngSwitch",Bt.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"))},dependencies:[me.YU,me.B3,me.ux,me.e1]})}}return ve})()},3095:(tn,Xe,V)=>{V.d(Xe,{C:()=>me});var s=V(7705),ce=V(177);function r(Te,be){if(1&Te&&(s.j41(0,"div",5)(1,"p"),s.EFF(2),s.k0s()()),2&Te){const Pe=s.XpG().$implicit;s.R7$(2),s.JRh(Pe.answer)}}function Ee(Te,be){if(1&Te){const Pe=s.RV6();s.j41(0,"div",2)(1,"button",3),s.bIt("click",function(){const ne=s.eBV(Pe).$implicit;return s.Njj(ne.open=!ne.open)}),s.EFF(2),s.k0s(),s.DNE(3,r,3,1,"div",4),s.k0s()}if(2&Te){const Pe=be.$implicit;s.R7$(2),s.SpI(" ",Pe.question," "),s.R7$(1),s.Y8G("ngIf",Pe.open)}}let me=(()=>{class Te{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(Me){return new(Me||Te)}}static{this.\u0275cmp=s.VBU({type:Te,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(Me,W){1&Me&&(s.j41(0,"div",0)(1,"h2"),s.EFF(2,"Frequently Asked Questions (FAQs)"),s.k0s(),s.DNE(3,Ee,4,2,"div",1),s.k0s()),2&Me&&(s.R7$(3),s.Y8G("ngForOf",W.faqs))},dependencies:[ce.Sq,ce.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return Te})()},3711:(tn,Xe,V)=>{V.d(Xe,{a:()=>Te});var s=V(7705),ce=V(4710),r=V(177);function Ee(be,Pe){1&be&&(s.qex(0),s.nrm(1,"div",3),s.bVm())}function me(be,Pe){1&be&&(s.qex(0),s.nrm(1,"div",4),s.bVm())}let Te=(()=>{class be{constructor(Me){this.googleMapsLoader=Me,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Me=>{console.error("Error loading Google Maps script:",Me)})}ngOnChanges(Me){Me.address&&!Me.address.firstChange&&this.showAddressOnMap(Me.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Me){this.geocoder.geocode({address:Me},(W,ne)=>{if("OK"===ne){this.map.setCenter(W[0].geometry.location);const he=new google.maps.LatLngBounds;he.extend(W[0].geometry.location),this.map.fitBounds(he),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:W[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ne)})}getZoomLevel(Me){document.getElementById("map");const he=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Me*he)))}static{this.\u0275fac=function(W){return new(W||be)(s.rXU(ce.L))}}static{this.\u0275cmp=s.VBU({type:be,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[s.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(W,ne){1&W&&(s.j41(0,"div",0),s.qex(1),s.DNE(2,Ee,2,0,"ng-container",1),s.DNE(3,me,2,0,"ng-container",2),s.bVm(),s.k0s()),2&W&&(s.Y8G("ngSwitch",ne.layoutType),s.R7$(2),s.Y8G("ngSwitchCase","clemo"))},dependencies:[r.ux,r.e1,r.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return be})()},263:(tn,Xe,V)=>{V.d(Xe,{g:()=>Me});var s=V(7705),ce=V(6814),r=V(177);const Ee=function(W){return{color:W}};function me(W,ne){if(1&W&&(s.j41(0,"span",4),s.EFF(1),s.k0s()),2&W){const he=s.XpG(2);s.Y8G("ngStyle",s.eq3(2,Ee,he.titleColor)),s.R7$(1),s.SpI(" ",he.titleParts.part2,"")}}function Te(W,ne){if(1&W&&(s.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",13)(6,"p"),s.EFF(7),s.k0s()()()()),2&W){const he=ne.$implicit;s.R7$(4),s.JRh(he.title),s.R7$(3),s.JRh(he.description)}}const be=function(W,ne,he){return{"background-image":W,"background-color":ne,color:he}};function Pe(W,ne){if(1&W&&(s.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"h3",4),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,me,2,4,"span",5),s.k0s(),s.nrm(8,"div",6),s.k0s()(),s.j41(9,"h3",7),s.EFF(10),s.k0s(),s.j41(11,"div",8),s.DNE(12,Te,8,2,"div",9),s.k0s()()()),2&W){const he=s.XpG();s.R7$(4),s.Y8G("ngStyle",s.eq3(7,Ee,he.titleColor)),s.R7$(1),s.JRh(he.titleParts.part1),s.R7$(2),s.Y8G("ngIf",he.titleParts.part2),s.R7$(2),s.Y8G("ngStyle",s.eq3(9,Ee,he.subtitleColor)),s.R7$(1),s.SpI(" ",he.subTitle," "),s.R7$(1),s.Y8G("ngStyle",s.sMw(11,be,he.sectionImageUrl?"url("+he.sectionImageUrl+")":"none",he.backgroundColor,he.textColor)),s.R7$(1),s.Y8G("ngForOf",he.items)}}let Me=(()=>{class W{constructor(he){this.router=he,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(he){return"boolean"==typeof he?he:"string"==typeof he&&"true"===he.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[he,Re]=this.title.split("|").map(je=>je.trim());return{part1:he,part2:Re}}return{part1:this.title,part2:null}}navigateTo(he){this.router.navigate(["/"+he],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Re){return new(Re||W)(s.rXU(ce.Ix))}}static{this.\u0275cmp=s.VBU({type:W,selectors:[["app-item-list-image"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"text-container"],[3,"ngStyle"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"parent",3,"ngStyle"],["class","child",4,"ngFor","ngForOf"],[1,"child"],[1,"content"],[1,"content-header"],[1,"content-text"]],template:function(Re,je){1&Re&&s.DNE(0,Pe,13,15,"div",0),2&Re&&s.Y8G("ngIf",!je.isMinimal)},dependencies:[r.Sq,r.bT,r.B3]})}}return W})()},1915:(tn,Xe,V)=>{V.d(Xe,{j:()=>st});var s=V(7705),ce=V(6814),r=V(177),Ee=V(4591);function me(it,xe){if(1&it&&(s.j41(0,"div",11)(1,"div",12),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&it){const Z=xe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(3),s.JRh(Z.description)}}const Te=function(it){return{color:it}};function be(it,xe){if(1&it&&(s.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",9),s.DNE(6,me,8,3,"div",10),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(3),s.Y8G("ngStyle",s.eq3(3,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function Pe(it,xe){if(1&it&&(s.j41(0,"div",20),s.nrm(1,"i",21),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&it){const Z=xe.$implicit,ye=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Te,ye.textColor))("ngClass",Z.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Te,ye.subtitleColor)),s.R7$(1),s.JRh(Z.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Te,ye.textColor)),s.R7$(1),s.JRh(Z.description)}}function Me(it,xe){if(1&it&&(s.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),s.EFF(5),s.k0s(),s.j41(6,"span",17),s.EFF(7),s.k0s()()(),s.j41(8,"div",18),s.DNE(9,Pe,6,12,"div",19),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(5),s.SpI("",Z.title," "),s.R7$(2),s.JRh(Z.subTitle),s.R7$(2),s.Y8G("ngForOf",Z.items)}}const W=function(it,xe,Z,ye,Fe,ot){return{"parallax-container":it,"regular-image-container":xe,"solid-bg-container":Z,"full-width":ye,centered:Fe,shadow:ot}},ne=function(it,xe,Z,ye,Fe){return{"background-image":it,"background-color":xe,color:Z,"text-align":ye,"border-radius":Fe}};function he(it,xe){if(1&it&&(s.j41(0,"section",4)(1,"div"),s.DNE(2,be,7,5,"div",5),s.DNE(3,Me,10,3,"div",5),s.k0s()()),2&it){const Z=s.XpG();s.Y8G("ngClass",s.l4e(4,W,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth,Z.boxShadow))("ngStyle",s.s1E(11,ne,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor,Z.alignText,Z.borderRadius+"px")),s.R7$(2),s.Y8G("ngIf",!Z.isMinimal),s.R7$(1),s.Y8G("ngIf",Z.isMinimal)}}function Re(it,xe){if(1&it&&(s.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29),s.EFF(4),s.k0s()(),s.j41(5,"div",30)(6,"h2",31),s.EFF(7),s.k0s(),s.j41(8,"p",32),s.EFF(9),s.k0s()()()()),2&it){const Z=xe.$implicit,ye=xe.index;s.AVh("alt-section",ye%2!=0),s.R7$(4),s.JRh(ye+1),s.R7$(3),s.JRh(Z.title),s.R7$(2),s.JRh(Z.description)}}function je(it,xe){if(1&it&&(s.j41(0,"section",24),s.DNE(1,Re,10,5,"div",25),s.k0s()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngForOf",Z.items)}}function ve(it,xe){if(1&it&&(s.j41(0,"div",37),s.nrm(1,"i",38),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s()()),2&it){const Z=xe.$implicit;s.R7$(1),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(2),s.JRh(Z.description)}}function Ye(it,xe){if(1&it){const Z=s.RV6();s.j41(0,"div",39)(1,"button",40),s.bIt("click",function(){s.eBV(Z);const Fe=s.XpG(3);return s.Njj(Fe.navigateTo("contact-us"))}),s.EFF(2),s.k0s()()}if(2&it){const Z=s.XpG(3);s.R7$(2),s.SpI(" ",Z.buttonText," ")}}const we=function(it,xe,Z){return{"parallax-container":it,"regular-image-container":xe,"solid-bg-container":Z}},Tt=function(it){return{"background-image":it}};function Bt(it,xe){if(1&it&&(s.j41(0,"div"),s.nrm(1,"app-section-tilte",33),s.j41(2,"div",34)(3,"div",18),s.DNE(4,ve,6,3,"div",35),s.k0s()(),s.DNE(5,Ye,3,1,"div",36),s.k0s()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("titleColor",Z.titleColor)("title",Z.title),s.R7$(1),s.Y8G("ngClass",s.sMw(6,we,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl))("ngStyle",s.eq3(10,Tt,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none")),s.R7$(2),s.Y8G("ngForOf",Z.items),s.R7$(1),s.Y8G("ngIf",Z.showButton)}}function Ge(it,xe){if(1&it&&(s.j41(0,"section",4)(1,"div"),s.DNE(2,je,2,1,"section",23),s.DNE(3,Bt,6,12,"div",5),s.k0s()()),2&it){const Z=s.XpG();s.Y8G("ngClass",s.l4e(4,W,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth,Z.boxShadow))("ngStyle",s.s1E(11,ne,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor,Z.alignText,Z.borderRadius+"px")),s.R7$(2),s.Y8G("ngIf",!Z.isMinimal),s.R7$(1),s.Y8G("ngIf",Z.isMinimal)}}function Ae(it,xe){if(1&it&&(s.j41(0,"span",22),s.EFF(1),s.k0s()),2&it){const Z=s.XpG(3);s.Y8G("ngStyle",s.eq3(2,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.titleParts.part2,"")}}function tt(it,xe){if(1&it&&(s.j41(0,"div",11)(1,"div"),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&it){const Z=xe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(3),s.JRh(Z.description)}}const Ke=function(it,xe,Z){return{"background-image":it,"background-color":xe,color:Z}};function ct(it,xe){if(1&it&&(s.j41(0,"div")(1,"section",42)(2,"div",7)(3,"div",43)(4,"h3",22),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,Ae,2,4,"span",44),s.k0s(),s.nrm(8,"div",45),s.k0s()(),s.j41(9,"h3",46),s.EFF(10),s.k0s(),s.j41(11,"div",9),s.DNE(12,tt,8,3,"div",10),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.sMw(7,Ke,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),s.R7$(3),s.Y8G("ngStyle",s.eq3(11,Te,Z.titleColor)),s.R7$(1),s.JRh(Z.titleParts.part1),s.R7$(2),s.Y8G("ngIf",Z.titleParts.part2),s.R7$(2),s.Y8G("ngStyle",s.eq3(13,Te,Z.subtitleColor)),s.R7$(1),s.SpI(" ",Z.subTitle," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function xt(it,xe){if(1&it&&(s.j41(0,"div",37),s.nrm(1,"i",47),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&it){const Z=xe.$implicit,ye=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Te,ye.titleColor))("ngClass",Z.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Te,ye.titleColor)),s.R7$(1),s.JRh(Z.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Te,ye.subtitleColor)),s.R7$(1),s.SpI(" ",Z.description," ")}}const ut=function(it,xe,Z,ye,Fe){return{"parallax-container":it,"regular-image-container":xe,"solid-bg-container":Z,"full-width":ye,centered:Fe}};function Ie(it,xe){if(1&it&&(s.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",18),s.DNE(6,xt,6,12,"div",35),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngClass",s.s1E(5,ut,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth))("ngStyle",s.sMw(11,Ke,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(15,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function Ze(it,xe){if(1&it&&(s.j41(0,"section",41)(1,"div"),s.DNE(2,ct,13,15,"div",5),s.DNE(3,Ie,7,17,"div",5),s.k0s()()),2&it){const Z=s.XpG();s.R7$(2),s.Y8G("ngIf",!Z.isMinimal),s.R7$(1),s.Y8G("ngIf",Z.isMinimal)}}function Xt(it,xe){if(1&it&&(s.j41(0,"div",11)(1,"div"),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&it){const Z=xe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(3),s.JRh(Z.description)}}function On(it,xe){if(1&it&&(s.j41(0,"div")(1,"section",42)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"h3",46),s.EFF(6),s.k0s(),s.j41(7,"div",9),s.DNE(8,Xt,8,3,"div",10),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.sMw(6,Ke,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(10,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(1),s.Y8G("ngStyle",s.eq3(12,Te,Z.subtitleColor)),s.R7$(1),s.SpI(" ",Z.subTitle," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function Ot(it,xe){if(1&it&&(s.j41(0,"div",37),s.nrm(1,"i",47),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&it){const Z=xe.$implicit,ye=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Te,ye.titleColor))("ngClass",Z.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Te,ye.titleColor)),s.R7$(1),s.JRh(Z.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Te,ye.subtitleColor)),s.R7$(1),s.SpI(" ",Z.description," ")}}function Vt(it,xe){if(1&it&&(s.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",18),s.DNE(6,Ot,6,12,"div",35),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngClass",s.s1E(5,ut,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth))("ngStyle",s.sMw(11,Ke,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(15,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function Kt(it,xe){if(1&it&&(s.j41(0,"section",41)(1,"div"),s.DNE(2,On,9,14,"div",5),s.DNE(3,Vt,7,17,"div",5),s.k0s()()),2&it){const Z=s.XpG();s.R7$(2),s.Y8G("ngIf",!Z.isMinimal),s.R7$(1),s.Y8G("ngIf",Z.isMinimal)}}function pt(it,xe){if(1&it&&(s.j41(0,"div",52)(1,"div",53),s.nrm(2,"i",54),s.k0s(),s.j41(3,"div",55)(4,"h2",56),s.EFF(5),s.k0s(),s.j41(6,"p",57),s.EFF(7),s.k0s()()()),2&it){const Z=xe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(3),s.JRh(Z.name),s.R7$(2),s.JRh(Z.description)}}function Ve(it,xe){if(1&it&&(s.j41(0,"section",48),s.nrm(1,"app-section-tilte",49),s.j41(2,"div",50),s.DNE(3,pt,8,3,"div",51),s.k0s()()),2&it){const Z=s.XpG();s.R7$(1),s.Y8G("title","Our Services"),s.R7$(2),s.Y8G("ngForOf",Z.items)}}let st=(()=>{class it{constructor(Z){this.router=Z,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(Z){return"boolean"==typeof Z?Z:"string"==typeof Z&&"true"===Z.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[Z,ye]=this.title.split("|").map(Fe=>Fe.trim());return{part1:Z,part2:ye}}return{part1:this.title,part2:null}}navigateTo(Z){this.router.navigate(["/"+Z],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ye){return new(ye||it)(s.rXU(ce.Ix))}}static{this.\u0275cmp=s.VBU({type:it,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:6,vars:5,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],["class","modern-service-section",4,"ngIf"],[1,"modern-service-section"],["class","service-section",3,"alt-section",4,"ngFor","ngForOf"],[1,"service-section"],[1,"section-content"],[1,"section-right"],[1,"section-number"],[1,"section-left"],[1,"section-title"],[1,"section-description"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngStyle"],[1,"text-container"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(ye,Fe){1&ye&&(s.j41(0,"div",0),s.DNE(1,he,4,17,"section",1),s.DNE(2,Ge,4,17,"section",1),s.DNE(3,Ze,4,2,"section",2),s.DNE(4,Kt,4,2,"section",2),s.DNE(5,Ve,4,2,"section",3),s.k0s()),2&ye&&(s.R7$(1),s.Y8G("ngIf","hh"===Fe.themeType),s.R7$(1),s.Y8G("ngIf","ae"===Fe.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===Fe.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===Fe.themeType),s.R7$(1),s.Y8G("ngIf","sb"==Fe.themeType||"sp"==Fe.themeType))},dependencies:[r.YU,r.Sq,r.bT,r.B3,Ee.L]})}}return it})()},491:(tn,Xe,V)=>{V.d(Xe,{G:()=>he});var s=V(7705),ce=V(345),r=V(6814),Ee=V(177);const me=function(Re,je,ve){return{"full-width":Re,centered:je,shadow:ve}},Te=function(Re,je,ve,Ye){return{"background-color":Re,color:je,"text-align":ve,"border-radius":Ye}};function be(Re,je){if(1&Re&&(s.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),s.EFF(4),s.k0s()(),s.nrm(5,"p",6),s.k0s(),s.j41(6,"div",7),s.nrm(7,"img",8),s.k0s()()),2&Re){const ve=s.XpG();s.Y8G("ngClass",s.sMw(6,me,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(10,Te,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(4),s.JRh(ve.title),s.R7$(1),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}function Pe(Re,je){if(1&Re&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Re){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function Me(Re,je){if(1&Re&&(s.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h3"),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,Pe,2,1,"span",12),s.k0s(),s.nrm(8,"div",13)(9,"p",6),s.k0s(),s.j41(10,"div",14),s.nrm(11,"img",8),s.k0s()()()()),2&Re){const ve=s.XpG();s.R7$(5),s.SpI(" ",ve.titleParts.part1," "),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}function W(Re,je){if(1&Re&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Re){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function ne(Re,je){if(1&Re&&(s.j41(0,"section",2)(1,"div",3)(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"h2"),s.DNE(5,W,2,1,"span",12),s.k0s(),s.nrm(6,"div",13)(7,"p",15),s.k0s(),s.j41(8,"div",7),s.nrm(9,"img",8),s.k0s()()),2&Re){const ve=s.XpG();s.Y8G("ngClass",s.sMw(7,me,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(11,Te,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}let he=(()=>{class Re{constructor(ve,Ye){this.sanitizer=ve,this.router=Ye,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ve){this._content=ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[ve,Ye]=this.title.split("|").map(we=>we.trim());return{part1:ve,part2:Ye}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Ye){return new(Ye||Re)(s.rXU(ce.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:Re,selectors:[["app-left-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:3,vars:3,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"],[1,"center-text-description",3,"innerHTML"]],template:function(Ye,we){1&Ye&&(s.DNE(0,be,8,15,"section",0),s.DNE(1,Me,12,5,"section",1),s.DNE(2,ne,10,16,"section",0)),2&Ye&&(s.Y8G("ngIf","hh"===we.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===we.themeType||"ae"===we.themeType||"sb"===we.themeType||"sp"===we.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===we.themeType))},dependencies:[Ee.YU,Ee.bT,Ee.B3]})}}return Re})()},4593:(tn,Xe,V)=>{V.d(Xe,{F:()=>he});var s=V(7705),ce=V(345),r=V(6814),Ee=V(177);const me=function(Re,je,ve){return{"full-width":Re,centered:je,shadow:ve}},Te=function(Re,je,ve,Ye){return{"background-color":Re,color:je,"text-align":ve,"border-radius":Ye}};function be(Re,je){if(1&Re&&(s.j41(0,"section",3)(1,"div",4),s.nrm(2,"img",5),s.k0s(),s.j41(3,"div",6)(4,"div",7)(5,"h2",8),s.EFF(6),s.k0s()(),s.nrm(7,"p",9),s.k0s()()),2&Re){const ve=s.XpG();s.Y8G("ngClass",s.sMw(6,me,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(10,Te,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(4),s.JRh(ve.title),s.R7$(1),s.Y8G("innerHTML",ve.sanitizedContent,s.npT)}}function Pe(Re,je){if(1&Re&&(s.j41(0,"h2")(1,"span"),s.EFF(2),s.k0s()()),2&Re){const ve=s.XpG(2);s.R7$(2),s.JRh(ve.titleParts.part2)}}function Me(Re,je){if(1&Re&&(s.j41(0,"section",10)(1,"div",11)(2,"div",12)(3,"div",13),s.nrm(4,"img",5),s.k0s(),s.j41(5,"div",6)(6,"h3"),s.EFF(7),s.k0s(),s.DNE(8,Pe,3,1,"h2",14),s.nrm(9,"div",15),s.j41(10,"p",9),s.EFF(11),s.k0s()()()()()),2&Re){const ve=s.XpG();s.R7$(4),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(1),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(1),s.JRh(ve.content)}}function W(Re,je){if(1&Re&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Re){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function ne(Re,je){if(1&Re&&(s.j41(0,"section",16)(1,"div",4),s.nrm(2,"img",5),s.k0s(),s.j41(3,"div",6)(4,"h3"),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,W,2,1,"span",14),s.k0s(),s.nrm(8,"div",15)(9,"p",17),s.k0s()()),2&Re){const ve=s.XpG();s.Y8G("ngClass",s.sMw(7,me,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(11,Te,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT)}}let he=(()=>{class Re{constructor(ve,Ye){this.sanitizer=ve,this.router=Ye,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ve){this._content=ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ve)}get titleParts(){if(this.title.includes("|")){const[ve,Ye]=this.title.split("|").map(we=>we.trim());return{part1:ve,part2:Ye}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Ye){return new(Ye||Re)(s.rXU(ce.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:Re,selectors:[["app-right-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:3,vars:3,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"center-text-description",3,"innerHTML"]],template:function(Ye,we){1&Ye&&(s.DNE(0,be,8,15,"section",0),s.DNE(1,Me,12,6,"section",1),s.DNE(2,ne,10,16,"section",2)),2&Ye&&(s.Y8G("ngIf","hh"===we.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===we.themeType||"ae"===we.themeType||"sb"===we.themeType||"sp"===we.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===we.themeType))},dependencies:[Ee.YU,Ee.bT,Ee.B3]})}}return Re})()},4591:(tn,Xe,V)=>{V.d(Xe,{L:()=>Ee});var s=V(7705),ce=V(177);const r=function(me){return{color:me}};let Ee=(()=>{class me{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(Pe){return new(Pe||me)}}static{this.\u0275cmp=s.VBU({type:me,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(Pe,Me){1&Pe&&(s.j41(0,"div",0)(1,"h2",1),s.EFF(2),s.k0s()()),2&Pe&&(s.R7$(1),s.Y8G("ngStyle",s.eq3(2,r,Me.titleColor)),s.R7$(1),s.JRh(Me.title))},dependencies:[ce.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return me})()},8353:(tn,Xe,V)=>{V.d(Xe,{B:()=>Ir});var s=V(7705),ce=V(7304),r=V(4593),Ee=V(491),me=V(6814),Te=V(923),be=V(177);const Pe=function(Qe){return{id:Qe}},Me=function(Qe,He){return{"clemo-btn":Qe,"clemo-btn-outline":He}},W=function(Qe){return{"border-radius":Qe}};function ne(Qe,He){if(1&Qe&&(s.qex(0),s.j41(1,"a",15),s.EFF(2),s.k0s(),s.bVm()),2&Qe){const x=He.$implicit,A=s.XpG(3);s.R7$(1),s.Y8G("routerLink",x.link)("queryParams",s.eq3(5,Pe,null==A.business?null:A.business.id))("ngClass",s.l_i(7,Me,!x.outline,x.outline))("ngStyle",s.eq3(10,W,A.buttonBorderRadius)),s.R7$(1),s.SpI(" ",x.text," ")}}const he=function(Qe,He){return{"font-size":Qe,"font-weight":He}};function Re(Qe,He){if(1&Qe&&(s.j41(0,"div",6)(1,"div",7)(2,"h1"),s.EFF(3),s.k0s(),s.nrm(4,"div",8)(5,"h2",9),s.j41(6,"div",10),s.DNE(7,ne,3,12,"ng-container",11),s.k0s()(),s.j41(8,"div",12)(9,"div",13),s.nrm(10,"div",14),s.k0s(),s.j41(11,"p"),s.EFF(12,"Scroll down"),s.k0s()()()),2&Qe){const x=s.XpG().$implicit,A=s.XpG();s.R7$(3),s.JRh(x.title),s.R7$(2),s.Y8G("ngStyle",s.l_i(4,he,A.subtitleSize,A.subtitleWeight))("innerHTML",x.subtitle,s.npT),s.R7$(2),s.Y8G("ngForOf",x.buttons)}}const je=function(Qe){return{backgroundImage:Qe,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function ve(Qe,He){if(1&Qe&&(s.j41(0,"div",3),s.nrm(1,"div",4),s.DNE(2,Re,13,7,"div",5),s.k0s()),2&Qe){const x=He.$implicit,A=He.index,O=s.XpG();s.AVh("clemo-active",A===O.currentSlide),s.R7$(1),s.Y8G("ngStyle",s.eq3(4,je,"url("+x.backgroundImage+")")),s.R7$(1),s.Y8G("ngIf",null==x.title?null:x.title.trim())}}const Ye=function(Qe){return{"line-style":Qe}};function we(Qe,He){if(1&Qe){const x=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const re=s.eBV(x).index,pe=s.XpG(2);return s.Njj(pe.navigateToSlide(re))}),s.k0s()}if(2&Qe){const x=He.index,A=s.XpG(2);s.AVh("clemo-active",x===A.currentSlide),s.Y8G("ngClass",s.eq3(3,Ye,"bottom"===A.navigation))}}function Tt(Qe,He){if(1&Qe){const x=s.RV6();s.j41(0,"button",21),s.bIt("click",function(){s.eBV(x);const O=s.XpG(2);return s.Njj(O.prevSlide())}),s.nrm(1,"span",22),s.j41(2,"span",23),s.EFF(3,"Previous"),s.k0s()()}}function Bt(Qe,He){if(1&Qe){const x=s.RV6();s.j41(0,"button",24),s.bIt("click",function(){s.eBV(x);const O=s.XpG(2);return s.Njj(O.nextSlide())}),s.nrm(1,"span",25),s.j41(2,"span",23),s.EFF(3,"Next"),s.k0s()()}}const Ge=function(Qe){return{"bottom-nav":Qe}};function Ae(Qe,He){if(1&Qe&&(s.j41(0,"div")(1,"div",16),s.DNE(2,we,1,5,"div",17),s.k0s(),s.DNE(3,Tt,4,0,"button",18),s.DNE(4,Bt,4,0,"button",19),s.k0s()),2&Qe){const x=s.XpG();s.R7$(1),s.Y8G("ngClass",s.eq3(4,Ge,"bottom"===x.navigation)),s.R7$(1),s.Y8G("ngForOf",x.slides),s.R7$(1),s.Y8G("ngIf",x.sideButtons),s.R7$(1),s.Y8G("ngIf",x.sideButtons)}}const tt=function(Qe,He,x,A,O){return{"--slider-opacity":Qe,height:He,"--button-border-radius":x,"--subtitle-size":A,"--subtitle-weight":O}};let Ke=(()=>{class Qe{constructor(x,A){this.router=x,this.businessDataService=A,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(x=>{x?(this.business=x,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(A=>({title:this.replaceKeywords(A.title),subtitle:this.replaceKeywords(A.subtitle),backgroundImage:A.backgroundImage,buttons:A.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(x){this.navigation=x.navigation??"side",this.sideButtons=x.sideButtons??!0,this.sliderHeight=x.sliderHeight??"100vh",this.buttonBorderRadius=x.buttonBorderRadius??"25px",this.subtitleSize=x.subtitleSize??"1.5rem",this.subtitleWeight=x.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",x)}replaceKeywords(x){return x&&this.business?.businessName?x.replace(/{{businessName}}/g,this.business.businessName):x}navigateToSlide(x){this.currentSlide=x}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const x=window.scrollY,A=window.innerHeight;this.sliderOpacity=Math.max(1-x/A,0)}static{this.\u0275fac=function(A){return new(A||Qe)(s.rXU(me.Ix),s.rXU(Te.A))}}static{this.\u0275cmp=s.VBU({type:Qe,selectors:[["app-hero-slider"]],hostBindings:function(A,O){1&A&&s.bIt("scroll",function(pe){return O.onScroll(pe)},!1,s.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-main-home-content"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","queryParams","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(A,O){1&A&&(s.j41(0,"div",0),s.DNE(1,ve,3,6,"div",1),s.DNE(2,Ae,5,6,"div",2),s.k0s()),2&A&&(s.Y8G("ngStyle",s.s1E(3,tt,O.sliderOpacity,O.sliderHeight,O.buttonBorderRadius,O.subtitleSize,O.subtitleWeight)),s.R7$(1),s.Y8G("ngForOf",O.slides),s.R7$(1),s.Y8G("ngIf",O.slides.length>1))},dependencies:[be.YU,be.Sq,be.bT,be.B3,me.Wk,me.wQ]})}}return Qe})();var ct=V(1915);function xt(Qe,He){if(1&Qe&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&Qe){const x=He.$implicit;s.R7$(1),s.Y8G("innerHTML",x.title,s.npT),s.R7$(1),s.Y8G("innerHTML",x.description,s.npT)}}const ut=function(Qe,He,x){return{"full-width":Qe,centered:He,shadow:x}},Ie=function(Qe,He,x,A){return{"background-color":Qe,color:He,"text-align":x,"border-radius":A}};function Ze(Qe,He){if(1&Qe&&(s.qex(0,4),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,xt,3,2,"div",11),s.k0s()()(),s.bVm()),2&Qe){const x=s.XpG();s.Y8G("ngClass",s.sMw(5,ut,x.fullWidth,!x.fullWidth,x.boxShadow))("ngStyle",s.ziG(9,Ie,x.backgroundColor,x.textColor,x.alignText,x.borderRadius+"px")),s.R7$(4),s.SpI("",x.title," "),s.R7$(2),s.JRh(x.subTitle),s.R7$(3),s.Y8G("ngForOf",x.items)}}function Xt(Qe,He){1&Qe&&s.eu8(0)}function On(Qe,He){if(1&Qe&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&Qe){const x=He.$implicit;s.R7$(1),s.Y8G("innerHTML",x.title,s.npT),s.R7$(1),s.Y8G("innerHTML",x.description,s.npT)}}function Ot(Qe,He){if(1&Qe&&(s.qex(0),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,On,3,2,"div",11),s.k0s()()(),s.bVm()),2&Qe){const x=s.XpG();s.R7$(4),s.SpI("",x.title," "),s.R7$(2),s.JRh(x.subTitle),s.R7$(3),s.Y8G("ngForOf",x.items)}}let Vt=(()=>{class Qe{constructor(x){this.route=x,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(A){return new(A||Qe)(s.rXU(me.nX))}}static{this.\u0275cmp=s.VBU({type:Qe,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(A,O){1&A&&(s.j41(0,"div",0),s.DNE(1,Ze,10,14,"ng-container",1),s.DNE(2,Xt,1,0,"ng-container",2),s.DNE(3,Ot,10,3,"ng-container",3),s.k0s()),2&A&&(s.Y8G("ngSwitch",O.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"))},dependencies:[be.YU,be.Sq,be.B3,be.ux,be.e1,be.fG]})}}return Qe})();function Kt(Qe,He){if(1&Qe&&(s.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),s.EFF(5),s.k0s(),s.j41(6,"strong"),s.EFF(7),s.k0s()()()()()),2&Qe){const x=He.$implicit;s.R7$(5),s.SpI('" ',x.quote,' "'),s.R7$(2),s.JRh(x.name)}}function pt(Qe,He){if(1&Qe&&(s.qex(0),s.j41(1,"section",3)(2,"div",4)(3,"span",5),s.EFF(4,"Testimonials"),s.k0s()(),s.j41(5,"div",6),s.DNE(6,Kt,8,2,"div",7),s.k0s()(),s.bVm()),2&Qe){const x=s.XpG();s.R7$(6),s.Y8G("ngForOf",x.testimonials)}}function Ve(Qe,He){if(1&Qe&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&Qe){const x=He.$implicit;s.R7$(5),s.JRh(x.quote),s.R7$(2),s.JRh(x.name)}}function st(Qe,He){if(1&Qe&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,Ve,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&Qe){const x=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,x.testimonials,0,4))}}function it(Qe,He){if(1&Qe&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&Qe){const x=He.$implicit;s.R7$(5),s.JRh(x.quote),s.R7$(2),s.JRh(x.name)}}function xe(Qe,He){if(1&Qe&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,it,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&Qe){const x=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,x.testimonials,0,4))}}function Z(Qe,He){if(1&Qe&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&Qe){const x=He.$implicit;s.R7$(5),s.JRh(x.quote),s.R7$(2),s.JRh(x.name)}}function ye(Qe,He){if(1&Qe&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,Z,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&Qe){const x=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,x.testimonials,0,4))}}function Fe(Qe,He){1&Qe&&s.eu8(0)}let ot=(()=>{class Qe{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(x){this.currentIndex=x,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(A){return new(A||Qe)}}static{this.\u0275cmp=s.VBU({type:Qe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(A,O){1&A&&(s.j41(0,"div",0),s.DNE(1,pt,7,1,"ng-container",1),s.DNE(2,st,15,5,"ng-container",1),s.DNE(3,xe,15,5,"ng-container",1),s.DNE(4,ye,15,5,"ng-container",1),s.DNE(5,Fe,1,0,"ng-container",2),s.k0s()),2&A&&(s.Y8G("ngSwitch",O.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"))},dependencies:[be.Sq,be.ux,be.e1,be.fG,me.Wk,be.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return Qe})();var We=V(9969),Ft=V(4710);function bn(Qe,He){if(1&Qe&&(s.j41(0,"a",11),s.EFF(1," Leave us a Google Review "),s.k0s()),2&Qe){const x=s.XpG();s.Y8G("href",x.googleReviewLink,s.B4B)}}function tr(Qe,He){if(1&Qe){const x=s.RV6();s.j41(0,"span"),s.EFF(1," ... "),s.j41(2,"button",23),s.bIt("click",function(){s.eBV(x);const O=s.XpG(3);return s.Njj(O.navigateToTestimonials())}),s.EFF(3,"Read More"),s.k0s()()}}function rn(Qe,He){if(1&Qe&&s.nrm(0,"img",24),2&Qe){const x=s.XpG().$implicit;s.FS9("alt",x.name),s.Y8G("src",x.photoUrl,s.B4B)}}function Fn(Qe,He){if(1&Qe&&(s.j41(0,"div",25),s.EFF(1),s.k0s()),2&Qe){const x=s.XpG().$implicit;s.R7$(1),s.SpI(" ",x.name.charAt(0).toUpperCase()," ")}}function Qt(Qe,He){1&Qe&&(s.j41(0,"div",26),s.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),s.k0s())}function Bn(Qe,He){if(1&Qe&&(s.j41(0,"div",13)(1,"div",14),s.EFF(2,"\u201c"),s.k0s(),s.j41(3,"p",15),s.EFF(4),s.DNE(5,tr,4,0,"span",16),s.k0s(),s.j41(6,"div",17),s.DNE(7,rn,1,2,"img",18),s.DNE(8,Fn,2,1,"ng-template",null,19,s.C5r),s.j41(10,"div")(11,"p",20),s.EFF(12),s.k0s(),s.j41(13,"p",21),s.EFF(14),s.k0s(),s.DNE(15,Qt,2,0,"div",22),s.k0s()()()),2&Qe){const x=He.$implicit,A=s.sdS(9),O=s.XpG(2);s.Y8G("@slideIn",void 0),s.R7$(4),s.SpI(" ",O.truncateText(x.quote)," "),s.R7$(1),s.Y8G("ngIf",O.isTruncated(x.quote)),s.R7$(2),s.Y8G("ngIf",x.photoUrl)("ngIfElse",A),s.R7$(5),s.JRh(x.name),s.R7$(2),s.JRh(x.relationship),s.R7$(1),s.Y8G("ngIf",x.isGoogle)}}const xn=function(Qe){return[Qe]};function zt(Qe,He){if(1&Qe&&(s.qex(0),s.DNE(1,Bn,16,8,"div",12),s.bVm()),2&Qe){const x=s.XpG();s.R7$(1),s.Y8G("ngForOf",s.eq3(2,xn,x.currentTestimonial))("ngForTrackBy",x.trackByIndex)}}function Ut(Qe,He){1&Qe&&(s.j41(0,"p",27),s.EFF(1,"No testimonials available at the moment."),s.k0s())}let dr=(()=>{class Qe{constructor(x,A,O){this.businessDataService=x,this.googleMapsLoader=A,this.router=O,this.business=null,this.business$=this.businessDataService.businessData$,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){console.log("Testimonial Carousel Loading for ID: ",this.businessId),this.businessDataService.businessData$.subscribe(x=>{x&&(this.business=x)}),"0"!=this.business?.placeId&&this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(x=>{if(x&&x.testimonials){const A=x.testimonials.map(O=>({...O,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...A]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(A,O)=>{if(O===google.maps.places.PlacesServiceStatus.OK){const re=A?.reviews?.map(pe=>({name:pe.author_name,quote:pe.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...re,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",O)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(x){this.currentIndex=x}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}previousSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex-1+this.testimonials.length)%this.testimonials.length)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(x,A){return x}truncateText(x){return x.length>this.maxTextLength?x.slice(0,this.maxTextLength):x}isTruncated(x){return x.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(A){return new(A||Qe)(s.rXU(Te.A),s.rXU(Ft.L),s.rXU(me.Ix))}}static{this.\u0275cmp=s.VBU({type:Qe,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:19,vars:3,consts:[[1,"testimonials-container","modern-carousel"],[1,"testimonial-content"],[1,"testimonial-intro"],[1,"highlight"],[1,"intro-subtext"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"carousel-arrows"],["aria-label","Previous testimonial",3,"click"],["aria-label","Next testimonial",3,"click"],[4,"ngIf","ngIfElse"],["noTestimonials",""],["target","_blank",1,"afhBtn",3,"href"],["class","testimonial-quote",4,"ngFor","ngForOf","ngForTrackBy"],[1,"testimonial-quote"],[1,"quote-icon"],[1,"quote-text"],[4,"ngIf"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"read-more",3,"click"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"google-stars"],[1,"no-testimonials-message"]],template:function(A,O){if(1&A&&(s.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),s.EFF(5,"from our "),s.j41(6,"span",3),s.EFF(7,"community"),s.k0s()(),s.j41(8,"p",4),s.EFF(9," Here\u2019s what others had to say about us. "),s.k0s(),s.DNE(10,bn,2,1,"a",5),s.j41(11,"div",6)(12,"button",7),s.bIt("click",function(){return O.previousSlide()}),s.EFF(13,"\u2190"),s.k0s(),s.j41(14,"button",8),s.bIt("click",function(){return O.nextSlide()}),s.EFF(15,"\u2192"),s.k0s()()(),s.DNE(16,zt,2,4,"ng-container",9),s.k0s(),s.DNE(17,Ut,2,0,"ng-template",null,10,s.C5r),s.k0s()()),2&A){const re=s.sdS(18);s.R7$(10),s.Y8G("ngIf","0"!=(null==O.business?null:O.business.placeId)),s.R7$(6),s.Y8G("ngIf",O.currentTestimonial)("ngIfElse",re)}},dependencies:[be.Sq,be.bT],data:{animation:[(0,We.hZ)("slideIn",[(0,We.kY)(":enter",[(0,We.iF)({opacity:0,transform:"translateX(-100%)"}),(0,We.i0)("0.5s ease-in",(0,We.iF)({opacity:1,transform:"translateX(0)"}))]),(0,We.kY)(":leave",[(0,We.i0)("0.5s ease-out",(0,We.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,We.hZ)("fadeInLeft",[(0,We.kY)(":enter",[(0,We.iF)({opacity:0,transform:"translateX(-100%)"}),(0,We.i0)("0.5s ease-in",(0,We.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,We.hZ)("fadeInRight",[(0,We.kY)(":enter",[(0,We.iF)({opacity:0,transform:"translateX(100%)"}),(0,We.i0)("0.5s ease-in",(0,We.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return Qe})();var sn=V(3967);function xr(Qe,He){if(1&Qe&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&Qe){const x=He.$implicit;s.R7$(1),s.Y8G("innerHTML",x.title,s.npT),s.R7$(1),s.Y8G("innerHTML",x.description,s.npT)}}const Xn=function(Qe,He,x){return{"full-width":Qe,centered:He,shadow:x}},Gt=function(Qe,He,x,A){return{"background-color":Qe,color:He,"text-align":x,"border-radius":A}};function En(Qe,He){if(1&Qe&&(s.qex(0,4),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,xr,3,2,"div",11),s.k0s()()(),s.bVm()),2&Qe){const x=s.XpG();s.Y8G("ngClass",s.sMw(5,Xn,x.fullWidth,!x.fullWidth,x.boxShadow))("ngStyle",s.ziG(9,Gt,x.backgroundColor,x.textColor,x.alignText,x.borderRadius+"px")),s.R7$(4),s.JRh(x.title),s.R7$(2),s.SpI(" ",x.subTitle," "),s.R7$(3),s.Y8G("ngForOf",x.items)}}function Gn(Qe,He){1&Qe&&s.eu8(0)}function Tn(Qe,He){if(1&Qe&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&Qe){const x=He.$implicit;s.R7$(1),s.Y8G("innerHTML",x.title,s.npT),s.R7$(1),s.Y8G("innerHTML",x.description,s.npT)}}function Br(Qe,He){if(1&Qe&&(s.qex(0),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,Tn,3,2,"div",11),s.k0s()()(),s.bVm()),2&Qe){const x=s.XpG();s.R7$(4),s.SpI("",x.title," "),s.R7$(2),s.SpI(" ",x.subTitle,""),s.R7$(3),s.Y8G("ngForOf",x.items)}}let Dr=(()=>{class Qe{constructor(x){this.route=x,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.order=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(A){return new(A||Qe)(s.rXU(me.nX))}}static{this.\u0275cmp=s.VBU({type:Qe,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",order:"order"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(A,O){1&A&&(s.j41(0,"div",0),s.DNE(1,En,10,14,"ng-container",1),s.DNE(2,Gn,1,0,"ng-container",2),s.DNE(3,Br,10,3,"ng-container",3),s.k0s()),2&A&&(s.Y8G("ngSwitch",O.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"))},dependencies:[be.YU,be.Sq,be.B3,be.ux,be.e1,be.fG]})}}return Qe})();var Hr=V(3711),zn=V(5558);function hi(Qe,He){if(1&Qe&&(s.j41(0,"div",7),s.nrm(1,"i",8),s.j41(2,"h3",9),s.EFF(3),s.k0s(),s.j41(4,"p",10),s.EFF(5),s.k0s()()),2&Qe){const x=He.$implicit;s.R7$(1),s.HbH(x.icon),s.R7$(2),s.JRh(x.title),s.R7$(2),s.JRh(x.description)}}function ys(Qe,He){1&Qe&&(s.j41(0,"button",11),s.EFF(1,"Learn More"),s.k0s())}let dn=(()=>{class Qe{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(A){return new(A||Qe)}}static{this.\u0275cmp=s.VBU({type:Qe,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(A,O){1&A&&(s.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s.EFF(4),s.k0s(),s.j41(5,"div",4),s.DNE(6,hi,6,4,"div",5),s.k0s(),s.DNE(7,ys,2,0,"button",6),s.k0s()()()),2&A&&(s.R7$(4),s.JRh(O.sectionTitle),s.R7$(2),s.Y8G("ngForOf",O.items),s.R7$(1),s.Y8G("ngIf",O.showLearnMore))},dependencies:[be.Sq,be.bT,me.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return Qe})();var ti=V(345),Jn=V(4591);function Tr(Qe,He){if(1&Qe&&(s.j41(0,"div",6),s.nrm(1,"img",7),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"span",8),s.EFF(5),s.k0s(),s.nrm(6,"p",9),s.k0s()),2&Qe){const x=He.$implicit,A=s.XpG(2);s.R7$(1),s.Y8G("src",x.image,s.B4B)("alt",x.title),s.R7$(2),s.JRh(x.title),s.R7$(2),s.JRh(x.category),s.R7$(1),s.Y8G("innerHTML",A.getSanitizedDescription(x.description),s.npT)}}function Hn(Qe,He){if(1&Qe&&(s.j41(0,"div",1),s.nrm(1,"app-section-tilte",2),s.j41(2,"p",3),s.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),s.k0s(),s.j41(4,"div",4),s.DNE(5,Tr,7,5,"div",5),s.k0s()()),2&Qe){const x=s.XpG();s.R7$(1),s.Y8G("title","Website Packages"),s.R7$(4),s.Y8G("ngForOf",x.displayItems)}}function Ri(Qe,He){if(1&Qe&&(s.j41(0,"div",6)(1,"div",10),s.nrm(2,"img",11),s.j41(3,"span",12),s.EFF(4),s.nI1(5,"number"),s.k0s()(),s.j41(6,"h3",13),s.EFF(7),s.k0s(),s.nrm(8,"p",9),s.j41(9,"a",14),s.EFF(10,"Visit"),s.k0s()()),2&Qe){const x=He.$implicit,A=He.index,O=s.XpG(2);s.R7$(2),s.Mz_("alt","",x.title," Logo"),s.Y8G("src",x.companyLogo||x.image,s.B4B),s.R7$(2),s.JRh(s.i5U(5,6,A+1,"2.0")),s.R7$(3),s.JRh(x.title),s.R7$(1),s.Y8G("innerHTML",O.getSanitizedDescription(x.description),s.npT),s.R7$(1),s.FS9("href",x.url,s.B4B)}}function at(Qe,He){if(1&Qe&&(s.j41(0,"div",1),s.nrm(1,"app-section-tilte",2),s.j41(2,"p",3),s.EFF(3,"Using carefully vetted providers and vendors."),s.k0s(),s.j41(4,"div",4),s.DNE(5,Ri,11,9,"div",5),s.k0s()()),2&Qe){const x=s.XpG();s.R7$(1),s.Y8G("title","Trusted Partners"),s.R7$(4),s.Y8G("ngForOf",x.displayItems)}}let bt=(()=>{class Qe{constructor(x){this.sanitizer=x,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$999",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1799",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"$2500+",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(x){return this.sanitizer.bypassSecurityTrustHtml(x)}ngOnInit(){console.log("Latest Products LayoutType:",this.layoutType),this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(A){return new(A||Qe)(s.rXU(ti.up))}}static{this.\u0275cmp=s.VBU({type:Qe,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(A,O){1&A&&(s.DNE(0,Hn,6,2,"div",0),s.DNE(1,at,6,2,"div",0)),2&A&&(s.Y8G("ngIf","sb"==O.layoutType),s.R7$(1),s.Y8G("ngIf","sb"!=O.layoutType))},dependencies:[be.Sq,be.bT,Jn.L,be.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return Qe})();var de=V(9483),ke=V(3095),At=V(263),qt=V(5743),Vn=V(6861);const Vr=["dynamicContainer"];let Ir=(()=>{class Qe{constructor(x,A,O,re,pe,dt){this.sectionService=x,this.resolver=A,this.injector=O,this.route=re,this.metaService=pe,this.businessDataService=dt,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":ce.W,"hero-slider":Ke,"right-text":r.F,"left-text":Ee.G,"item-list":ct.j,"icon-list":dn,"unique-features":Vt,testimonials:ot,"testimonials-carousel":dr,"why-us":Dr,"google-map":Hr.a,"latest-products":bt,cta:de.j,consultation:sn.t,"item-list-image":At.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,zn.n)(x=>x?(this.businessId=x,this.metaService.loadAndApplyMeta(x),this.businessDataService.loadBusinessData(x)):[])).subscribe(x=>{x&&(this.business=x,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(x=>{x&&0!==x.length?(this.sections=x.filter(A=>!1!==A.isActive).sort((A,O)=>(A.order||0)-(O.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){if(this.container.clear(),this.container.createComponent(Ke),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let x=null;if(this.sections.forEach((A,O)=>{const re=this.componentsMap[A.component];if(!re)return void console.error("Component Not Found:",A.component);if("consultation"===A.component)return void(x=A);const pe=this.container.createComponent(re);this.assignComponentProperties(pe.instance,A)}),this.loadManualComponents(),x){const A=this.componentsMap.consultation;if(A){const O=this.container.createComponent(A);this.assignComponentProperties(O.instance,x)}else console.error("Consultation Component Not Found!")}}loadManualComponents(){if("sb"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(bt);const A=this.container.createComponent(bt,{index:void 0,injector:this.injector});A.instance.layoutType=this.business?.theme?.themeType,A.changeDetectorRef.detectChanges()}if(this.business?.placeId&&(this.resolver.resolveComponentFactory(dr),this.container.createComponent(dr,{index:void 0,injector:this.injector}).instance.placeId=this.business.placeId),this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Hr.a);const A=this.container.createComponent(Hr.a,{index:void 0,injector:this.injector});A.instance.layoutType=this.business?.theme?.themeType||"demo",A.instance.address=this.business?.address||""}"clemo"!==this.business?.theme?.themeType&&"sp"!==this.business?.theme?.themeType||this.container.createComponent(ke.C,{index:void 0,injector:this.injector})}assignComponentProperties(x,A){x&&"object"==typeof x&&(Object.assign(x,{title:this.applyReplaceKeyword(A.sectionTitle||""),subTitle:this.applyReplaceKeyword(A.sectionSubTitle||""),content:this.applyReplaceKeyword(A.sectionContent||""),sectionImageUrl:A.sectionImageUrl||"",showButton:A.showButton||!1,buttonText:A.buttonText||"Learn More",buttonLink:A.buttonLink||"",_businessName:this.business?.businessName||"",showImage:A.showImage,themeType:this.business?.theme?.themeType,items:A.items||[],isMinimal:A.isMinimal||!1,isParallax:A.isParallax??!0,backgroundColor:A.backgroundColor||"#ffffff",textColor:A.textColor||"#000000",titleColor:A.titleColor||"#000000",titleFontSize:A.titleFontSize||"36",subtitleColor:A.subtitleColor||"#000000",subtitleFontSize:A.subtitleFontSize||"14",fullWidth:A.fullWidth||!1,alignText:A.alignText||"left",boxShadow:A.boxShadow||!1,borderRadius:A.borderRadius??10,page:A.page,location:A.location,businessId:this.business?.id}),x.changeDetectorRef&&x.changeDetectorRef.detectChanges())}applyReplaceKeyword(x){return x&&this.business?.businessName?x.replace(/{{\s*businessName\s*}}/g,this.business.businessName):x}static{this.\u0275fac=function(A){return new(A||Qe)(s.rXU(qt.W),s.rXU(s.OM3),s.rXU(s.zZn),s.rXU(me.nX),s.rXU(Vn.R),s.rXU(Te.A))}}static{this.\u0275cmp=s.VBU({type:Qe,selectors:[["app-home"]],viewQuery:function(A,O){if(1&A&&s.GBs(Vr,7,s.c1b),2&A){let re;s.mGM(re=s.lsd())&&(O.container=re.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(A,O){1&A&&s.nrm(0,"div",0,1)}})}}return Qe})()},4796:(tn,Xe,V)=>{V.d(Xe,{u:()=>me});var s=V(6354),ce=V(7705),r=V(1977),Ee=V(6814);let me=(()=>{class Te{constructor(Pe,Me){this.afAuth=Pe,this.router=Me,this.user$=Pe.authState}login(Pe,Me){return this.afAuth.signInWithEmailAndPassword(Pe,Me)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,s.T)(Pe=>!!Pe))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Me){return new(Me||Te)(ce.KVO(r.DS),ce.KVO(Ee.Ix))}}static{this.\u0275prov=ce.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},923:(tn,Xe,V)=>{V.d(Xe,{A:()=>Te});var s=V(4412),ce=V(6354),r=V(8141),Ee=V(7705),me=V(3012);let Te=(()=>{class be{constructor(Me){this.businessService=Me,this.businessDataSubject=new s.t(null),this.businessIdSubject=new s.t(null),this.locationsSubject=new s.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Me){return console.log("BusinessDataService - loadBusinessData for ID:",Me),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Me).pipe((0,ce.T)(W=>W?(W.sections||(W.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),W):null),(0,r.M)(W=>{this.businessDataSubject.next(W),this.businessIdSubject.next(Me),this.businessService.getLocations(Me).subscribe(ne=>{this.locationsSubject.next(ne)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}static{this.\u0275fac=function(W){return new(W||be)(Ee.KVO(me.u))}}static{this.\u0275prov=Ee.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},5743:(tn,Xe,V)=>{V.d(Xe,{W:()=>Te});var s=V(467),ce=V(6354),r=V(7705),Ee=V(6340),me=V(5571);let Te=(()=>{class be{constructor(Me,W){this.firestore=Me,this.uploadService=W,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinesses(){return this.firestore.collection("businesses").valueChanges()}getAllBusinessSections(Me){return this.firestore.collection(this.collectionName).doc(Me).collection("sections").snapshotChanges().pipe((0,ce.T)(W=>W.map(ne=>({...ne.payload.doc.data(),id:ne.payload.doc.id}))))}getBusinessSections(Me,W){return this.firestore.collection(this.collectionName).doc(Me).collection("sections",ne=>ne.where("page","==",W)).snapshotChanges().pipe((0,ce.T)(ne=>ne.map(he=>({...he.payload.doc.data(),id:he.payload.doc.id}))))}saveSection(Me,W){return console.log("\u{1f504} Attempting to save section:",W),W.id&&""!==W.id.trim()?console.log("\u270f\ufe0f Updating existing section with ID:",W.id):W.id=this.firestore.createId(),this.firestore.collection(this.collectionName).doc(Me).collection("sections").doc(W.id).set(W,{merge:!0})}deleteSection(Me,W){return this.firestore.collection(this.collectionName).doc(Me).collection("sections").doc(W).delete()}uploadImage(Me,W,ne,he="",Re="",je="",ve=""){var Ye=this;return(0,s.A)(function*(){try{const{downloadUrl:we}=Ye.uploadService.uploadFile(Me,W,"sections",he,Re,je,ve);return new Promise((Tt,Bt)=>{we.subscribe({next:Ge=>{Ge?(console.log("\u2705 Image uploaded successfully:",Ge),Tt(Ge)):Bt("\u274c Image URL is undefined.")},error:Ge=>{console.error("\u274c Error getting image URL:",Ge),Bt(Ge)}})})}catch(we){return console.error("\u274c Error uploading image:",we),""}})()}mapComponent(Me){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[Me]||"default-component"}static{this.\u0275fac=function(W){return new(W||be)(r.KVO(Ee.Qe),r.KVO(me.B))}}static{this.\u0275prov=r.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},3012:(tn,Xe,V)=>{V.d(Xe,{u:()=>be});var s=V(7673),ce=V(6354),r=V(5558),Ee=V(7705),me=V(6340),Te=V(8721);let be=(()=>{class Pe{constructor(W,ne){this.afs=W,this.storage=ne,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(W){console.log("Business Created");const ne=this.afs.createId();return this.afs.doc(`${this.basePath}/${ne}`).set({...W,id:ne}),this.afs.doc(`${this.basePath}/${ne}`).valueChanges().pipe((0,ce.T)(he=>{if(!he)throw new Error("Business not found after creation");return he}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ce.T)(W=>W.map(ne=>{const he=ne.payload.doc.data(),Re=ne.payload.doc.id,{id:je,...ve}=he;return{id:Re,...ve}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,W=>W.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(W){return this.getBusinessData(W)}getBusinessData(W){const ne=W&&W.trim()?W:"defaultBusinessId";return this.afs.collection("businesses").doc(ne).snapshotChanges().pipe((0,r.n)(he=>{const Re=he.payload.data(),je=he.payload.id;if(!Re)return(0,s.of)(void 0);const ve={...Re,id:je};return this.afs.collection("sections",Ye=>Ye.where("businessId","==",je)).snapshotChanges().pipe((0,ce.T)(Ye=>{const we=Ye.map(Tt=>({...Tt.payload.doc.data(),id:Tt.payload.doc.id}));return{...ve,sections:we}}),(0,r.n)(Ye=>{const we={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${je}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ce.T)(Tt=>{const Bt=Tt.payload.data()||we;return Ye.theme=Bt,Ye}))}))}))}updateBusiness(W,ne){return this.afs.doc(`${this.basePath}/${W}`).update(ne)}deleteBusiness(W){return this.afs.doc(`${this.basePath}/${W}`).delete()}uploadFile(W,ne){return this.storage.upload(W,ne)}getDownloadURL(W){return this.storage.ref(W).getDownloadURL()}updateThemeFileName(W,ne=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ne}`).update({"theme.themeFileName":W})}getThemeFileName(W=this.defaultBusinessId){return this.afs.collection(this.basePath).doc(W).collection("theme").doc("themeDoc").get().toPromise().then(Re=>Re&&Re.exists?Re.data()?.themeFileName||"styles.css":(console.warn(`No theme document found for business ID: ${W}. Using default theme.`),"default.css")).catch(Re=>(console.error(`Error fetching theme file name for business ID: ${W}`,Re),"default.css"))}createSection(W,ne){return this.afs.collection(`${this.basePath}/${W}/sections`).add(ne)}getSections(W){return this.afs.collection(`${this.basePath}/${W}/sections`).snapshotChanges().pipe((0,ce.T)(ne=>ne.map(he=>{const Re=he.payload.doc.data();return{sectionId:he.payload.doc.id,...Re}})))}updateSection(W,ne,he){return this.afs.doc(`${this.basePath}/${W}/sections/${ne}`).update(he)}deleteSection(W,ne){return this.afs.doc(`${this.basePath}/${W}/sections/${ne}`).delete()}addLocation(W,ne){const he=this.afs.collection(`businesses/${W}/locations`),Re=this.afs.createId();return he.doc(Re).set({id:Re,...ne})}getLocations(W){return this.afs.collection(`businesses/${W}/locations`).snapshotChanges().pipe((0,ce.T)(ne=>(ne.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${W}`),ne.map(he=>{const Re=he.payload.doc.data();return"object"==typeof Re&&null!==Re?{id:he.payload.doc.id,...Re}:(console.error("\u274c Firestore data format error:",Re),{id:he.payload.doc.id})}))))}updateLocation(W,ne,he){return this.afs.doc(`businesses/${W}/locations/${ne}`).update(he)}deleteLocation(W,ne){return this.afs.doc(`businesses/${W}/locations/${ne}`).delete()}static{this.\u0275fac=function(ne){return new(ne||Pe)(Ee.KVO(me.Qe),Ee.KVO(Te.ap))}}static{this.\u0275prov=Ee.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}}return Pe})()},4710:(tn,Xe,V)=>{V.d(Xe,{L:()=>r});var ce=V(7705);let r=(()=>{class Ee{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Te,be)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Te();const Pe=document.createElement("script");Pe.id="google-maps-script",Pe.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Pe.async=!0,Pe.defer=!0,Pe.onload=()=>{this.scriptLoaded=!0,Te()},Pe.onerror=Me=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,be(Me)},document.body.appendChild(Pe)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(be){return new(be||Ee)}}static{this.\u0275prov=ce.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}return Ee})()},6861:(tn,Xe,V)=>{V.d(Xe,{R:()=>Ee});var s=V(7705),ce=V(345),r=V(923);let Ee=(()=>{class me{constructor(be,Pe,Me){this.meta=be,this.title=Pe,this.businessDataService=Me}updateMetaTags(be){this.title.setTitle(be.title),this.meta.updateTag({name:"description",content:be.description}),this.meta.updateTag({name:"keywords",content:be.keywords}),this.meta.updateTag({property:"og:title",content:be.title}),this.meta.updateTag({property:"og:description",content:be.description})}updateFavicon(be){const Pe=document.getElementsByTagName("head")[0];let Me=document.querySelector("link[rel*='icon']");Me||(Me=document.createElement("link"),Me.rel="icon",Pe.appendChild(Me)),Me.href=be}loadAndApplyMeta(be){this.businessDataService.loadBusinessData(be).subscribe(Pe=>{Pe?(this.updateMetaTags({title:Pe.metaTitle||"Default Title",description:Pe.metaDescription||"Default Description",keywords:Pe.metaKeywords||"default, keywords"}),Pe.faviconUrl&&this.updateFavicon(Pe.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Pe){return new(Pe||me)(s.KVO(ce.W8),s.KVO(ce.hE),s.KVO(r.A))}}static{this.\u0275prov=s.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})()},5009:(tn,Xe,V)=>{V.d(Xe,{F:()=>Me});var s=V(8810),ce=V(8455),r=V(7673),Ee=V(6697),me=V(5558),Te=V(9437),be=V(7705),Pe=V(6340);let Me=(()=>{class W{constructor(he){this.firestore=he,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(he){return this.firestore.collection("businesses").doc(he).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(he){const Re=this.firestore.collection("businesses").doc(he),je=Re.collection("theme").doc("themeDoc");return Re.snapshotChanges().pipe((0,Ee.s)(1),(0,me.n)(ve=>ve.payload.exists?je.get().pipe((0,me.n)(Ye=>Ye.exists?(Ye.data(),je.valueChanges()):(0,ce.H)(je.set(this.defaultTheme)).pipe((0,me.n)(()=>(this.applyThemeFile(this.defaultTheme.themeFileName),je.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,s.$)("Theme Service: - Business document does not exist"))),(0,Te.W)(ve=>(console.error("Error fetching theme:",ve),this.applyThemeFile(this.defaultTheme.themeFileName),(0,r.of)(this.defaultTheme))))}updateColors(he,Re){return this.firestore.collection("businesses").doc(he).collection("theme").doc("themeDoc").set(Re,{merge:!0}).then(()=>{Re.themeFileName&&this.applyThemeFile(Re.themeFileName)}).catch(ve=>{throw console.error("Theme Service: - Error updating colors:",ve),new Error(ve)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(he){return this.loadCss(`assets/themes/${he}`)}loadCss(he){return new Promise((Re,je)=>{const ve=document.createElement("link");ve.rel="stylesheet",ve.href=he,ve.onload=()=>{console.log(`Loaded theme: ${he}`),Re()},ve.onerror=Ye=>{console.error(`Failed to load theme: ${he}`,Ye),je(Ye)},document.head.appendChild(ve)})}static{this.\u0275fac=function(Re){return new(Re||W)(be.KVO(Pe.Qe))}}static{this.\u0275prov=be.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},5571:(tn,Xe,V)=>{V.d(Xe,{B:()=>be});var s=V(1985),ce=V(6354),r=V(980),Ee=V(7705),me=V(8721),Te=V(6340);let be=(()=>{class Pe{constructor(W,ne){this.storage=W,this.firestore=ne}uploadFile(W,ne,he,Re="",je="",ve="",Ye=""){let we;switch(he){case"testimonail":we=`businesses/${ne}/testimonail/${W.name}`;break;case"employee":we=`businesses/${ne}/employee/${W.name}`;break;case"business":we=`businesses/${ne}/business/${W.name}`;break;case"heroImages":we=`businesses/${ne}/heroImages/${W.name}`;break;case"lifeStyle":we=`businesses/${ne}/lifeStyle/${W.name}`;break;case"sectionsImages":we=`businesses/${ne}/sectionsImages/${W.name}`;break;default:we=`businesses/${ne}/gallery/${W.name}`}const Tt=this.storage.ref(we),Bt=this.storage.upload(we,W);return{uploadProgress:Bt.percentageChanges().pipe((0,ce.T)(tt=>tt??0)),downloadUrl:new s.c(tt=>{Bt.snapshotChanges().pipe((0,r.j)(()=>{Tt.getDownloadURL().subscribe(Ke=>{this.firestore.collection("businesses").doc(ne).collection(he).add({url:Ke,title:Re,description:je,link:ve,order:Ye}),tt.next(Ke),tt.complete()})})).subscribe()})}}deleteFile(W,ne,he){return new Promise((Re,je)=>{const ve=decodeURIComponent(W.split("/").pop()?.split("?")[0]||"");this.storage.ref(ve).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(ne).collection(he).ref.where("url","==",W).get().then(we=>{we.forEach(Tt=>Tt.ref.delete()),Re()}).catch(we=>{console.error("Error deleting from Firestore:",we),je(we)})},error:we=>{console.error("Error deleting from Storage:",we),je(we)}})})}static{this.\u0275fac=function(ne){return new(ne||Pe)(Ee.KVO(me.ap),Ee.KVO(Te.Qe))}}static{this.\u0275prov=Ee.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}}return Pe})()},8704:(tn,Xe,V)=>{V.d(Xe,{N:()=>be});var s=V(6354),ce=V(9437),r=V(7673),Ee=V(7705),me=V(6340),Te=V(8721);let be=(()=>{class Pe{constructor(W,ne){this.firestore=W,this.storage=ne,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(W){const ne=W&&W.trim()?W:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ne).snapshotChanges().pipe((0,s.T)(he=>{const Re=he.payload.data(),je=he.payload.id;if(Re){const{id:ve,testimonials:Ye=[],...we}=Re;return{id:je,testimonials:Ye.map(Bt=>({...Bt,photoURL:Bt.photoURL&&Bt.photoURL.trim()?Bt.photoURL:this.defaultImage})),...we}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(W){return this.storage.ref(W).getDownloadURL().pipe((0,ce.W)(ne=>(console.error("Error fetching photo URL:",ne),(0,r.of)(""))))}getEmployeesByBusinessId(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).get().pipe((0,s.T)(ne=>{if(ne.exists){const he=ne.data();return he&&he.employees?he.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ce.W)(ne=>(console.error("Error fetching employees:",ne),(0,r.of)([]))))}getBusinessGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessUploadedImagesById(W,ne){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection(ne).valueChanges()}checkImageExists(W){return this.storage.refFromURL(W).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ne){return new(ne||Pe)(Ee.KVO(me.Qe),Ee.KVO(Te.ap))}}static{this.\u0275prov=Ee.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}}return Pe})()},2714:(tn,Xe,V)=>{var s={};V.r(s),V.d(s,{afterMain:()=>Fi,afterRead:()=>ur,afterWrite:()=>us,applyStyles:()=>nt,arrow:()=>Yl,auto:()=>Xr,basePlacements:()=>ri,beforeMain:()=>Qi,beforeRead:()=>gn,beforeWrite:()=>Gs,bottom:()=>$i,clippingParents:()=>ls,computeStyles:()=>yi,createPopper:()=>$,createPopperBase:()=>M,createPopperLite:()=>Ne,detectOverflow:()=>ia,end:()=>Gr,eventListeners:()=>K,flip:()=>sa,hide:()=>bl,left:()=>Yn,main:()=>cs,modifierPhases:()=>Rs,offset:()=>Tl,placements:()=>Wr,popper:()=>ki,popperGenerator:()=>il,popperOffsets:()=>_o,preventOverflow:()=>tl,read:()=>nr,reference:()=>Ts,right:()=>xi,start:()=>zi,top:()=>mi,variationPlacements:()=>Ss,viewport:()=>Qs,write:()=>Qr});var ce=V(345),r=V(7705),Ee=V(7673),me=V(8455),Te=V(1985),be=V(274),Pe=V(5964),Me=V(6354),W=V(980),ne=V(5558),he=V(177);class Re{}class je{}class ve{constructor(c){this.normalizedNames=new Map,this.lazyUpdate=null,c?"string"==typeof c?this.lazyInit=()=>{this.headers=new Map,c.split("\n").forEach(a=>{const p=a.indexOf(":");if(p>0){const b=a.slice(0,p),L=b.toLowerCase(),G=a.slice(p+1).trim();this.maybeSetNormalizedName(b,L),this.headers.has(L)?this.headers.get(L).push(G):this.headers.set(L,[G])}})}:typeof Headers<"u"&&c instanceof Headers?(this.headers=new Map,c.forEach((a,p)=>{this.setHeaderEntries(p,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(c).forEach(([a,p])=>{this.setHeaderEntries(a,p)})}:this.headers=new Map}has(c){return this.init(),this.headers.has(c.toLowerCase())}get(c){this.init();const a=this.headers.get(c.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(c){return this.init(),this.headers.get(c.toLowerCase())||null}append(c,a){return this.clone({name:c,value:a,op:"a"})}set(c,a){return this.clone({name:c,value:a,op:"s"})}delete(c,a){return this.clone({name:c,value:a,op:"d"})}maybeSetNormalizedName(c,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,c)}init(){this.lazyInit&&(this.lazyInit instanceof ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(c=>this.applyUpdate(c)),this.lazyUpdate=null))}copyFrom(c){c.init(),Array.from(c.headers.keys()).forEach(a=>{this.headers.set(a,c.headers.get(a)),this.normalizedNames.set(a,c.normalizedNames.get(a))})}clone(c){const a=new ve;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof ve?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([c]),a}applyUpdate(c){const a=c.name.toLowerCase();switch(c.op){case"a":case"s":let p=c.value;if("string"==typeof p&&(p=[p]),0===p.length)return;this.maybeSetNormalizedName(c.name,a);const b=("a"===c.op?this.headers.get(a):void 0)||[];b.push(...p),this.headers.set(a,b);break;case"d":const L=c.value;if(L){let G=this.headers.get(a);if(!G)return;G=G.filter(se=>-1===L.indexOf(se)),0===G.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,G)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(c,a){const p=(Array.isArray(a)?a:[a]).map(L=>L.toString()),b=c.toLowerCase();this.headers.set(b,p),this.maybeSetNormalizedName(c,b)}forEach(c){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>c(this.normalizedNames.get(a),this.headers.get(a)))}}class we{encodeKey(c){return Ae(c)}encodeValue(c){return Ae(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}}const Bt=/%(\d[a-f0-9])/gi,Ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ae(g){return encodeURIComponent(g).replace(Bt,(c,a)=>Ge[a]??c)}function tt(g){return`${g}`}class Ke{constructor(c={}){if(this.updates=null,this.cloneFrom=null,this.encoder=c.encoder||new we,c.fromString){if(c.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tt(g,c){const a=new Map;return g.length>0&&g.replace(/^\?/,"").split("&").forEach(b=>{const L=b.indexOf("="),[G,se]=-1==L?[c.decodeKey(b),""]:[c.decodeKey(b.slice(0,L)),c.decodeValue(b.slice(L+1))],_e=a.get(G)||[];_e.push(se),a.set(G,_e)}),a}(c.fromString,this.encoder)}else c.fromObject?(this.map=new Map,Object.keys(c.fromObject).forEach(a=>{const p=c.fromObject[a],b=Array.isArray(p)?p.map(tt):[tt(p)];this.map.set(a,b)})):this.map=null}has(c){return this.init(),this.map.has(c)}get(c){this.init();const a=this.map.get(c);return a?a[0]:null}getAll(c){return this.init(),this.map.get(c)||null}keys(){return this.init(),Array.from(this.map.keys())}append(c,a){return this.clone({param:c,value:a,op:"a"})}appendAll(c){const a=[];return Object.keys(c).forEach(p=>{const b=c[p];Array.isArray(b)?b.forEach(L=>{a.push({param:p,value:L,op:"a"})}):a.push({param:p,value:b,op:"a"})}),this.clone(a)}set(c,a){return this.clone({param:c,value:a,op:"s"})}delete(c,a){return this.clone({param:c,value:a,op:"d"})}toString(){return this.init(),this.keys().map(c=>{const a=this.encoder.encodeKey(c);return this.map.get(c).map(p=>a+"="+this.encoder.encodeValue(p)).join("&")}).filter(c=>""!==c).join("&")}clone(c){const a=new Ke({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(c),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(c=>this.map.set(c,this.cloneFrom.map.get(c))),this.updates.forEach(c=>{switch(c.op){case"a":case"s":const a=("a"===c.op?this.map.get(c.param):void 0)||[];a.push(tt(c.value)),this.map.set(c.param,a);break;case"d":if(void 0===c.value){this.map.delete(c.param);break}{let p=this.map.get(c.param)||[];const b=p.indexOf(tt(c.value));-1!==b&&p.splice(b,1),p.length>0?this.map.set(c.param,p):this.map.delete(c.param)}}}),this.cloneFrom=this.updates=null)}}class xt{constructor(){this.map=new Map}set(c,a){return this.map.set(c,a),this}get(c){return this.map.has(c)||this.map.set(c,c.defaultValue()),this.map.get(c)}delete(c){return this.map.delete(c),this}has(c){return this.map.has(c)}keys(){return this.map.keys()}}function Ie(g){return typeof ArrayBuffer<"u"&&g instanceof ArrayBuffer}function Ze(g){return typeof Blob<"u"&&g instanceof Blob}function Xt(g){return typeof FormData<"u"&&g instanceof FormData}class Ot{constructor(c,a,p,b){let L;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=c.toUpperCase(),function ut(g){switch(g){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||b?(this.body=void 0!==p?p:null,L=b):L=p,L&&(this.reportProgress=!!L.reportProgress,this.withCredentials=!!L.withCredentials,L.responseType&&(this.responseType=L.responseType),L.headers&&(this.headers=L.headers),L.context&&(this.context=L.context),L.params&&(this.params=L.params)),this.headers||(this.headers=new ve),this.context||(this.context=new xt),this.params){const G=this.params.toString();if(0===G.length)this.urlWithParams=a;else{const se=a.indexOf("?");this.urlWithParams=a+(-1===se?"?":se<a.length-1?"&":"")+G}}else this.params=new Ke,this.urlWithParams=a}serializeBody(){return null===this.body?null:Ie(this.body)||Ze(this.body)||Xt(this.body)||function On(g){return typeof URLSearchParams<"u"&&g instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xt(this.body)?null:Ze(this.body)?this.body.type||null:Ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(c={}){const a=c.method||this.method,p=c.url||this.url,b=c.responseType||this.responseType,L=void 0!==c.body?c.body:this.body,G=void 0!==c.withCredentials?c.withCredentials:this.withCredentials,se=void 0!==c.reportProgress?c.reportProgress:this.reportProgress;let _e=c.headers||this.headers,$e=c.params||this.params;const mt=c.context??this.context;return void 0!==c.setHeaders&&(_e=Object.keys(c.setHeaders).reduce(($t,_n)=>$t.set(_n,c.setHeaders[_n]),_e)),c.setParams&&($e=Object.keys(c.setParams).reduce(($t,_n)=>$t.set(_n,c.setParams[_n]),$e)),new Ot(a,p,L,{params:$e,headers:_e,context:mt,reportProgress:se,responseType:b,withCredentials:G})}}var Vt=function(g){return g[g.Sent=0]="Sent",g[g.UploadProgress=1]="UploadProgress",g[g.ResponseHeader=2]="ResponseHeader",g[g.DownloadProgress=3]="DownloadProgress",g[g.Response=4]="Response",g[g.User=5]="User",g}(Vt||{});class Kt{constructor(c,a=200,p="OK"){this.headers=c.headers||new ve,this.status=void 0!==c.status?c.status:a,this.statusText=c.statusText||p,this.url=c.url||null,this.ok=this.status>=200&&this.status<300}}class pt extends Kt{constructor(c={}){super(c),this.type=Vt.ResponseHeader}clone(c={}){return new pt({headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class Ve extends Kt{constructor(c={}){super(c),this.type=Vt.Response,this.body=void 0!==c.body?c.body:null}clone(c={}){return new Ve({body:void 0!==c.body?c.body:this.body,headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class st extends Kt{constructor(c){super(c,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${c.url||"(unknown url)"}`:`Http failure response for ${c.url||"(unknown url)"}: ${c.status} ${c.statusText}`,this.error=c.error||null}}function it(g,c){return{body:c,headers:g.headers,context:g.context,observe:g.observe,params:g.params,reportProgress:g.reportProgress,responseType:g.responseType,withCredentials:g.withCredentials}}let xe=(()=>{class g{constructor(a){this.handler=a}request(a,p,b={}){let L;if(a instanceof Ot)L=a;else{let _e,$e;_e=b.headers instanceof ve?b.headers:new ve(b.headers),b.params&&($e=b.params instanceof Ke?b.params:new Ke({fromObject:b.params})),L=new Ot(a,p,void 0!==b.body?b.body:null,{headers:_e,context:b.context,params:$e,reportProgress:b.reportProgress,responseType:b.responseType||"json",withCredentials:b.withCredentials})}const G=(0,Ee.of)(L).pipe((0,be.H)(_e=>this.handler.handle(_e)));if(a instanceof Ot||"events"===b.observe)return G;const se=G.pipe((0,Pe.p)(_e=>_e instanceof Ve));switch(b.observe||"body"){case"body":switch(L.responseType){case"arraybuffer":return se.pipe((0,Me.T)(_e=>{if(null!==_e.body&&!(_e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _e.body}));case"blob":return se.pipe((0,Me.T)(_e=>{if(null!==_e.body&&!(_e.body instanceof Blob))throw new Error("Response is not a Blob.");return _e.body}));case"text":return se.pipe((0,Me.T)(_e=>{if(null!==_e.body&&"string"!=typeof _e.body)throw new Error("Response is not a string.");return _e.body}));default:return se.pipe((0,Me.T)(_e=>_e.body))}case"response":return se;default:throw new Error(`Unreachable: unhandled observe type ${b.observe}}`)}}delete(a,p={}){return this.request("DELETE",a,p)}get(a,p={}){return this.request("GET",a,p)}head(a,p={}){return this.request("HEAD",a,p)}jsonp(a,p){return this.request("JSONP",a,{params:(new Ke).append(p,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,p={}){return this.request("OPTIONS",a,p)}patch(a,p,b={}){return this.request("PATCH",a,it(b,p))}post(a,p,b={}){return this.request("POST",a,it(b,p))}put(a,p,b={}){return this.request("PUT",a,it(b,p))}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(Re))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();function tr(g,c){return c(g)}function rn(g,c){return(a,p)=>c.intercept(a,{handle:b=>g(b,p)})}const Qt=new r.nKC(""),Bn=new r.nKC(""),xn=new r.nKC("");function zt(){let g=null;return(c,a)=>{null===g&&(g=((0,r.WQX)(Qt,{optional:!0})??[]).reduceRight(rn,tr));const p=(0,r.WQX)(r.$K3),b=p.add();return g(c,a).pipe((0,W.j)(()=>p.remove(b)))}}let Ut=(()=>{class g extends Re{constructor(a,p){super(),this.backend=a,this.injector=p,this.chain=null,this.pendingTasks=(0,r.WQX)(r.$K3)}handle(a){if(null===this.chain){const b=Array.from(new Set([...this.injector.get(Bn),...this.injector.get(xn,[])]));this.chain=b.reduceRight((L,G)=>function Fn(g,c,a){return(p,b)=>a.runInContext(()=>c(p,L=>g(L,b)))}(L,G,this.injector),tr)}const p=this.pendingTasks.add();return this.chain(a,b=>this.backend.handle(b)).pipe((0,W.j)(()=>this.pendingTasks.remove(p)))}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(je),r.KVO(r.uvJ))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();const zn=/^\)\]\}',?\n/;let ys=(()=>{class g{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new r.wOt(-2800,!1);const p=this.xhrFactory;return(p.\u0275loadImpl?(0,me.H)(p.\u0275loadImpl()):(0,Ee.of)(null)).pipe((0,ne.n)(()=>new Te.c(L=>{const G=p.build();if(G.open(a.method,a.urlWithParams),a.withCredentials&&(G.withCredentials=!0),a.headers.forEach((en,An)=>G.setRequestHeader(en,An.join(","))),a.headers.has("Accept")||G.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const en=a.detectContentTypeHeader();null!==en&&G.setRequestHeader("Content-Type",en)}if(a.responseType){const en=a.responseType.toLowerCase();G.responseType="json"!==en?en:"text"}const se=a.serializeBody();let _e=null;const $e=()=>{if(null!==_e)return _e;const en=G.statusText||"OK",An=new ve(G.getAllResponseHeaders()),yr=function hi(g){return"responseURL"in g&&g.responseURL?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):null}(G)||a.url;return _e=new pt({headers:An,status:G.status,statusText:en,url:yr}),_e},mt=()=>{let{headers:en,status:An,statusText:yr,url:Pr}=$e(),vr=null;204!==An&&(vr=typeof G.response>"u"?G.responseText:G.response),0===An&&(An=vr?200:0);let ir=An>=200&&An<300;if("json"===a.responseType&&"string"==typeof vr){const bi=vr;vr=vr.replace(zn,"");try{vr=""!==vr?JSON.parse(vr):null}catch(Lr){vr=bi,ir&&(ir=!1,vr={error:Lr,text:vr})}}ir?(L.next(new Ve({body:vr,headers:en,status:An,statusText:yr,url:Pr||void 0})),L.complete()):L.error(new st({error:vr,headers:en,status:An,statusText:yr,url:Pr||void 0}))},$t=en=>{const{url:An}=$e(),yr=new st({error:en,status:G.status||0,statusText:G.statusText||"Unknown Error",url:An||void 0});L.error(yr)};let _n=!1;const mn=en=>{_n||(L.next($e()),_n=!0);let An={type:Vt.DownloadProgress,loaded:en.loaded};en.lengthComputable&&(An.total=en.total),"text"===a.responseType&&G.responseText&&(An.partialText=G.responseText),L.next(An)},vn=en=>{let An={type:Vt.UploadProgress,loaded:en.loaded};en.lengthComputable&&(An.total=en.total),L.next(An)};return G.addEventListener("load",mt),G.addEventListener("error",$t),G.addEventListener("timeout",$t),G.addEventListener("abort",$t),a.reportProgress&&(G.addEventListener("progress",mn),null!==se&&G.upload&&G.upload.addEventListener("progress",vn)),G.send(se),L.next({type:Vt.Sent}),()=>{G.removeEventListener("error",$t),G.removeEventListener("abort",$t),G.removeEventListener("load",mt),G.removeEventListener("timeout",$t),a.reportProgress&&(G.removeEventListener("progress",mn),null!==se&&G.upload&&G.upload.removeEventListener("progress",vn)),G.readyState!==G.DONE&&G.abort()}})))}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(he.N0))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();const dn=new r.nKC("XSRF_ENABLED"),Jn=new r.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hn=new r.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ri{}let at=(()=>{class g{constructor(a,p,b){this.doc=a,this.platform=p,this.cookieName=b,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,he._b)(a,this.cookieName),this.lastCookieString=a),this.lastToken}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(he.qQ),r.KVO(r.Agw),r.KVO(Jn))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();function bt(g,c){const a=g.url.toLowerCase();if(!(0,r.WQX)(dn)||"GET"===g.method||"HEAD"===g.method||a.startsWith("http://")||a.startsWith("https://"))return c(g);const p=(0,r.WQX)(Ri).getToken(),b=(0,r.WQX)(Hn);return null!=p&&!g.headers.has(b)&&(g=g.clone({headers:g.headers.set(b,p)})),c(g)}var ke=function(g){return g[g.Interceptors=0]="Interceptors",g[g.LegacyInterceptors=1]="LegacyInterceptors",g[g.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",g[g.NoXsrfProtection=3]="NoXsrfProtection",g[g.JsonpSupport=4]="JsonpSupport",g[g.RequestsMadeViaParent=5]="RequestsMadeViaParent",g[g.Fetch=6]="Fetch",g}(ke||{});function At(g,c){return{\u0275kind:g,\u0275providers:c}}function qt(...g){const c=[xe,ys,Ut,{provide:Re,useExisting:Ut},{provide:je,useExisting:ys},{provide:Bn,useValue:bt,multi:!0},{provide:dn,useValue:!0},{provide:Ri,useClass:at}];for(const a of g)c.push(...a.\u0275providers);return(0,r.EmA)(c)}const Vr=new r.nKC("LEGACY_INTERCEPTOR_FN");let pe=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=r.$C({type:g})}static{this.\u0275inj=r.G2t({providers:[qt(At(ke.LegacyInterceptors,[{provide:Vr,useFactory:zt},{provide:Bn,useExisting:Vr,multi:!0}]))]})}}return g})();var cr=V(6814),Bs=V(8353),Ni=V(7304),vs=V(4593),Es=V(491),gi=V(1915),sr=V(9483),Ns=V(3967),Dt=V(5743),lt=V(6861),Mt=V(923),ln=V(9437),Un=V(8704),Nn=V(4591);function hr(g,c){if(1&g&&(r.j41(0,"div",5),r.nrm(1,"img",6),r.j41(2,"h3"),r.EFF(3),r.k0s(),r.j41(4,"h4"),r.EFF(5),r.k0s(),r.j41(6,"p"),r.EFF(7),r.k0s()()),2&g){const a=c.$implicit;r.R7$(1),r.FS9("alt",a.name),r.Y8G("src",a.photoURL,r.B4B),r.R7$(2),r.JRh(a.name),r.R7$(2),r.JRh(a.role),r.R7$(2),r.JRh(a.bio)}}function $r(g,c){if(1&g&&(r.j41(0,"div",1),r.nrm(1,"app-section-tilte",2),r.j41(2,"div",3),r.DNE(3,hr,8,5,"div",4),r.nI1(4,"async"),r.k0s()()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),r.R7$(2),r.Y8G("ngForOf",r.bMT(4,3,a.employees$))}}let qr=(()=>{class g{constructor(a,p){this.route=a,this.employeeService=p}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Me.T)(a=>a.get("id")||""),(0,ne.n)(a=>this.employeeService.getEmployeesByBusinessId(a)),(0,ln.W)(a=>(console.error("Error fetching employees:",a),(0,Ee.of)([]))))}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(cr.nX),r.rXU(Un.N))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(p,b){1&p&&r.DNE(0,$r,5,5,"div",0),2&p&&r.Y8G("ngIf",b.employees$)},dependencies:[he.Sq,he.bT,Nn.L,he.Jj]})}}return g})(),fr=(()=>{class g{constructor(a,p){this.route=a,this.router=p,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Come Meet Us"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const p=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",p);const b="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;p&&b[p]?(this.backgroundImage=`url(${b[p].image})`,this.message=b[p].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(cr.nX),r.rXU(cr.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(p,b){1&p&&(r.j41(0,"div",0)(1,"div",1)(2,"h1"),r.EFF(3),r.k0s()()()),2&p&&(r.xc7("background-image",b.backgroundImage),r.R7$(3),r.JRh(b.message))}})}}return g})(),Xi=(()=>{class g{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(p,b){1&p&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"img",2),r.j41(3,"div",3)(4,"p",4),r.EFF(5),r.k0s(),r.j41(6,"p",5),r.EFF(7),r.k0s()()()()),2&p&&(r.R7$(2),r.FS9("src",b.imageURL,r.B4B),r.R7$(3),r.SpI('" ',b.text,'"'),r.R7$(2),r.SpI("\u2013 ",b.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return g})();const ks=["dynamicContainer"];function os(g,c){1&g&&(r.qex(0),r.j41(1,"div",6)(2,"div",7)(3,"h1"),r.EFF(4,"About Us"),r.k0s(),r.j41(5,"div",8)(6,"p"),r.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),r.k0s()()()(),r.bVm())}function Ao(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","ae"))}function Do(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function ji(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","sb"))}function jo(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function li(g,c){1&g&&(r.j41(0,"div",10),r.nrm(1,"div",11,12),r.k0s())}function as(g,c){1&g&&(r.j41(0,"div",10),r.nrm(1,"div",13,12),r.k0s())}function bs(g,c){if(1&g&&(r.qex(0),r.nrm(1,"app-testimonial-image",14),r.bVm()),2&g){const a=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[0].name)("text",a.business.testimonials[0].quote)}}function Yr(g,c){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,os,8,0,"ng-container",2),r.DNE(3,Ao,2,1,"ng-container",2),r.DNE(4,Do,2,1,"ng-container",2),r.DNE(5,ji,2,1,"ng-container",2),r.DNE(6,jo,2,1,"ng-container",2),r.k0s(),r.DNE(7,li,3,0,"div",3),r.DNE(8,as,3,0,"div",3),r.j41(9,"section",4),r.nrm(10,"app-meet-the-team",5),r.k0s(),r.j41(11,"div",1),r.DNE(12,bs,2,3,"ng-container",2),r.k0s()()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=a.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==a.business.theme.themeType),r.R7$(2),r.Y8G("businessId",a.business.id),r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let Bi=(()=>{class g{constructor(a,p,b,L,G,se){this.sectionService=a,this.resolver=p,this.injector=b,this.route=L,this.metaService=G,this.businessDataService=se,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Ni.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:sr.j,consultation:Ns.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ne.n)(a=>a?(this.businessId=a,this.metaService.loadAndApplyMeta(a),this.businessDataService.loadBusinessData(a)):[])).subscribe(a=>{a&&(this.business=a,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(a=>{a&&0!==a.length?(this.sections=a.filter(p=>!1!==p.isActive).sort((p,b)=>(p.order||0)-(b.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((a,p)=>(a.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){let se,a=[],p=null,b=null,L=null,G=[];this.sections.forEach(_e=>{"center-text"===_e.component?p?b=_e:p=_e:"left-text"===_e.component||"right-text"===_e.component?a.push(_e):"cta"===_e.component?L=_e:G.push(_e)}),p&&this.createComponent(p),a.length>0&&(se=document.createElement("div"),se.className="text-wrapper",a.sort((_e,$e)=>"left-text"===_e.component?-1:1),a.forEach(_e=>{const $e=this.createComponent(_e);$e&&se.appendChild($e.location.nativeElement)}),this.container.element.nativeElement.appendChild(se)),b&&this.createComponent(b),G.forEach(_e=>{this.createComponent(_e)}),L&&this.createComponent(L)}else this.sections.sort((a,p)=>(a.order||0)-(p.order||0)),this.sections.forEach(a=>{this.createComponent(a)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(a){if(!a.length)return;const p=document.createElement("div");p.className="text-wrapper",a.sort((b,L)=>"left-text"===b.component?-1:1),a.forEach(b=>{const L=this.createComponent(b);null!==L&&p.appendChild(L.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(a,p){const b=this.componentsMap[a.component];if(!b)return console.error("\u274c Component Not Found:",a.component),null;const L=this.resolver.resolveComponentFactory(b),G=this.container.createComponent(L);return this.applyComponentProperties(G.instance,a),p?this.container.element.nativeElement.insertBefore(G.location.nativeElement,p):this.container.element.nativeElement.appendChild(G.location.nativeElement),G}applyComponentProperties(a,p){Object.assign(a,{isActive:[void 0===p.isActive||p.isActive],title:this.applyReplaceKeyword(p.sectionTitle||""),subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),content:this.applyReplaceKeyword(p.sectionContent||""),sectionImageUrl:p.sectionImageUrl||"",showBtn:p.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!p.sectionImageUrl,themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",textColor:p.textColor||"#000000",titleColor:p.titleColor||"#000000",subtitleColor:p.subtitleColor||"#000000",fullWidth:p.fullWidth||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",titleFontSize:p.titleFontSize||"36",subtitleFontSize:p.subtitleFontSize||"14",alignText:p.alignText||"left",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(a){return a.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(cr.nX),r.rXU(lt.R),r.rXU(Mt.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-about-us"]],viewQuery:function(p,b){if(1&p&&r.GBs(ks,5,r.c1b),2&p){let L;r.mGM(L=r.lsd())&&(b.container=L.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,b){1&p&&r.DNE(0,Yr,13,11,"div",0),2&p&&r.Y8G("ngIf",b.business)},dependencies:[he.bT,he.ux,he.e1,qr,fr,Xi]})}}return g})();var Mi=V(263);const wr=["dynamicContainer"];function co(g,c){1&g&&(r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"h1"),r.EFF(4,"Our Services"),r.k0s(),r.j41(5,"div",6)(6,"p"),r.EFF(7,"Providing exceptional care tailored to your needs"),r.k0s()()()(),r.bVm())}function So(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.bVm())}function fi(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function Oa(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","sb"))}function Qa(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function Pi(g,c){1&g&&(r.j41(0,"div",8),r.nrm(1,"div",9,10),r.k0s())}function pa(g,c){1&g&&(r.j41(0,"div",8),r.nrm(1,"div",11,10),r.k0s())}function Xs(g,c){if(1&g&&(r.qex(0),r.nrm(1,"app-testimonial-image",12),r.bVm()),2&g){const a=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[1].name||"")("text",a.business.testimonials[1].quote||"")}}function ni(g,c){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,co,8,0,"ng-container",2),r.DNE(3,So,2,0,"ng-container",2),r.DNE(4,fi,2,1,"ng-container",2),r.DNE(5,Oa,2,1,"ng-container",2),r.DNE(6,Qa,2,1,"ng-container",2),r.k0s(),r.DNE(7,Pi,3,0,"div",3),r.DNE(8,pa,3,0,"div",3),r.j41(9,"div",1),r.DNE(10,Xs,2,3,"ng-container",2),r.k0s()()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=a.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let $s=(()=>{class g{constructor(a,p,b,L,G,se,_e){this.sectionService=a,this.resolver=p,this.injector=b,this.route=L,this.metaService=G,this.businessDataService=se,this.router=_e,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Ni.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:sr.j,consultatioin:Ns.t,"item-list-image":Mi.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ne.n)(a=>a?(this.businessId=a,this.metaService.loadAndApplyMeta(a),this.businessDataService.loadBusinessData(a)):[])).subscribe(a=>{a&&(this.business=a,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(a=>{console.log("\u{1f4cc} Retrieved Sections:",a),a&&0!==a.length?(this.sections=a.filter(p=>!1!==p.isActive).sort((p,b)=>(p.order||0)-(b.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((a,p)=>(a.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){console.log("Loading sections for HH layout");let _e,a=[],p=null,b=null,L=null,G=null,se=[];this.sections.forEach($e=>{"item-list"===$e.component?p?b=$e:p=$e:"left-text"===$e.component||"right-text"===$e.component?a.push($e):"center-text"===$e.component?L=$e:"cta"===$e.component?G=$e:se.push($e)}),p&&this.createComponent(p),b&&this.createComponent(b),a.length>0&&(_e=document.createElement("div"),_e.className="text-wrapper",a.sort(($e,mt)=>"left-text"===$e.component?-1:1),a.forEach($e=>{const mt=this.createComponent($e);mt&&_e.appendChild(mt.location.nativeElement)}),this.container.element.nativeElement.appendChild(_e)),L&&this.createComponent(L),G&&this.createComponent(G)}else console.log("Loading sections based on order"),this.sections.sort((a,p)=>(a.order||0)-(p.order||0)),this.sections.forEach(a=>{this.createComponent(a)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(a){if(!a.length)return;const p=document.createElement("div");p.className="text-wrapper",a.sort((b,L)=>"left-text"===b.component?-1:1),a.forEach(b=>{const L=this.createComponent(b);null!==L&&p.appendChild(L.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(a,p){const b=this.componentsMap[a.component];if(!b)return console.error("\u274c Component Not Found:",a.component),null;const L=this.resolver.resolveComponentFactory(b),G=this.container.createComponent(L);return this.applyComponentProperties(G.instance,a),p?this.container.element.nativeElement.insertBefore(G.location.nativeElement,p):this.container.element.nativeElement.appendChild(G.location.nativeElement),G}applyComponentProperties(a,p){Object.assign(a,{isActive:[void 0===p.isActive||p.isActive],title:this.applyReplaceKeyword(p.sectionTitle||""),subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),content:this.applyReplaceKeyword(p.sectionContent||""),sectionImageUrl:p.sectionImageUrl||"",showBtn:p.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!p.sectionImageUrl,themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",textColor:p.textColor||"#000000",titleColor:p.titleColor||"#000000",subtitleColor:p.subtitleColor||"#000000",fullWidth:p.fullWidth||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",titleFontSize:p.titleFontSize||"36",subtitleFontSize:p.subtitleFontSize||"14",alignText:p.alignText||"left",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location,order:p.order})}applyReplaceKeyword(a){return a&&this.business?.businessName?a.replace(/{{\s*businessName\s*}}/g,this.business.businessName):a}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(cr.nX),r.rXU(lt.R),r.rXU(Mt.A),r.rXU(cr.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-services"]],viewQuery:function(p,b){if(1&p&&r.GBs(wr,5,r.c1b),2&p){let L;r.mGM(L=r.lsd())&&(b.container=L.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,b){1&p&&r.DNE(0,ni,11,10,"div",0),2&p&&r.Y8G("ngIf",b.business)},dependencies:[he.bT,he.ux,he.e1,fr,Xi]})}}return g})();var mi="top",$i="bottom",xi="right",Yn="left",Xr="auto",ri=[mi,$i,xi,Yn],zi="start",Gr="end",ls="clippingParents",Qs="viewport",ki="popper",Ts="reference",Ss=ri.reduce(function(g,c){return g.concat([c+"-"+zi,c+"-"+Gr])},[]),Wr=[].concat(ri,[Xr]).reduce(function(g,c){return g.concat([c,c+"-"+zi,c+"-"+Gr])},[]),gn="beforeRead",nr="read",ur="afterRead",Qi="beforeMain",cs="main",Fi="afterMain",Gs="beforeWrite",Qr="write",us="afterWrite",Rs=[gn,nr,ur,Qi,cs,Fi,Gs,Qr,us];function jn(g){return g?(g.nodeName||"").toLowerCase():null}function _i(g){if(null==g)return window;if("[object Window]"!==g.toString()){var c=g.ownerDocument;return c&&c.defaultView||window}return g}function Ji(g){return g instanceof _i(g).Element||g instanceof Element}function ee(g){return g instanceof _i(g).HTMLElement||g instanceof HTMLElement}function J(g){return!(typeof ShadowRoot>"u")&&(g instanceof _i(g).ShadowRoot||g instanceof ShadowRoot)}const nt={name:"applyStyles",enabled:!0,phase:"write",fn:function Se(g){var c=g.state;Object.keys(c.elements).forEach(function(a){var p=c.styles[a]||{},b=c.attributes[a]||{},L=c.elements[a];!ee(L)||!jn(L)||(Object.assign(L.style,p),Object.keys(b).forEach(function(G){var se=b[G];!1===se?L.removeAttribute(G):L.setAttribute(G,!0===se?"":se)}))})},effect:function Le(g){var c=g.state,a={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,a.popper),c.styles=a,c.elements.arrow&&Object.assign(c.elements.arrow.style,a.arrow),function(){Object.keys(c.elements).forEach(function(p){var b=c.elements[p],L=c.attributes[p]||{},se=Object.keys(c.styles.hasOwnProperty(p)?c.styles[p]:a[p]).reduce(function(_e,$e){return _e[$e]="",_e},{});!ee(b)||!jn(b)||(Object.assign(b.style,se),Object.keys(L).forEach(function(_e){b.removeAttribute(_e)}))})}},requires:["computeStyles"]};function _t(g){return g.split("-")[0]}var Yt=Math.max,In=Math.min,fn=Math.round;function qn(){var g=navigator.userAgentData;return null!=g&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Ar(){return!/^((?!chrome|android).)*safari/i.test(qn())}function Dn(g,c,a){void 0===c&&(c=!1),void 0===a&&(a=!1);var p=g.getBoundingClientRect(),b=1,L=1;c&&ee(g)&&(b=g.offsetWidth>0&&fn(p.width)/g.offsetWidth||1,L=g.offsetHeight>0&&fn(p.height)/g.offsetHeight||1);var se=(Ji(g)?_i(g):window).visualViewport,_e=!Ar()&&a,$e=(p.left+(_e&&se?se.offsetLeft:0))/b,mt=(p.top+(_e&&se?se.offsetTop:0))/L,$t=p.width/b,_n=p.height/L;return{width:$t,height:_n,top:mt,right:$e+$t,bottom:mt+_n,left:$e,x:$e,y:mt}}function kn(g){var c=Dn(g),a=g.offsetWidth,p=g.offsetHeight;return Math.abs(c.width-a)<=1&&(a=c.width),Math.abs(c.height-p)<=1&&(p=c.height),{x:g.offsetLeft,y:g.offsetTop,width:a,height:p}}function Zn(g,c){var a=c.getRootNode&&c.getRootNode();if(g.contains(c))return!0;if(a&&J(a)){var p=c;do{if(p&&g.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function kr(g){return _i(g).getComputedStyle(g)}function ii(g){return["table","td","th"].indexOf(jn(g))>=0}function Jr(g){return((Ji(g)?g.ownerDocument:g.document)||window.document).documentElement}function Vi(g){return"html"===jn(g)?g:g.assignedSlot||g.parentNode||(J(g)?g.host:null)||Jr(g)}function Ci(g){return ee(g)&&"fixed"!==kr(g).position?g.offsetParent:null}function Ii(g){for(var c=_i(g),a=Ci(g);a&&ii(a)&&"static"===kr(a).position;)a=Ci(a);return a&&("html"===jn(a)||"body"===jn(a)&&"static"===kr(a).position)?c:a||function Sr(g){var c=/firefox/i.test(qn());if(/Trident/i.test(qn())&&ee(g)&&"fixed"===kr(g).position)return null;var b=Vi(g);for(J(b)&&(b=b.host);ee(b)&&["html","body"].indexOf(jn(b))<0;){var L=kr(b);if("none"!==L.transform||"none"!==L.perspective||"paint"===L.contain||-1!==["transform","perspective"].indexOf(L.willChange)||c&&"filter"===L.willChange||c&&L.filter&&"none"!==L.filter)return b;b=b.parentNode}return null}(g)||c}function wi(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function Mr(g,c,a){return Yt(g,In(c,a))}function Js(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function io(g,c){return c.reduce(function(a,p){return a[p]=g,a},{})}const Yl={name:"arrow",enabled:!0,phase:"main",fn:function Ja(g){var c,a=g.state,p=g.name,b=g.options,L=a.elements.arrow,G=a.modifiersData.popperOffsets,se=_t(a.placement),_e=wi(se),mt=[Yn,xi].indexOf(se)>=0?"height":"width";if(L&&G){var $t=function(c,a){return Js("number"!=typeof(c="function"==typeof c?c(Object.assign({},a.rects,{placement:a.placement})):c)?c:io(c,ri))}(b.padding,a),_n=kn(L),mn="y"===_e?mi:Yn,vn="y"===_e?$i:xi,en=a.rects.reference[mt]+a.rects.reference[_e]-G[_e]-a.rects.popper[mt],An=G[_e]-a.rects.reference[_e],yr=Ii(L),Pr=yr?"y"===_e?yr.clientHeight||0:yr.clientWidth||0:0,Lr=Pr/2-_n[mt]/2+(en/2-An/2),di=Mr($t[mn],Lr,Pr-_n[mt]-$t[vn]);a.modifiersData[p]=((c={})[_e]=di,c.centerOffset=di-Lr,c)}},effect:function ra(g){var c=g.state,p=g.options.element,b=void 0===p?"[data-popper-arrow]":p;null!=b&&("string"==typeof b&&!(b=c.elements.popper.querySelector(b))||Zn(c.elements.popper,b)&&(c.elements.arrow=b))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hs(g){return g.split("-")[1]}var Fs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Na(g){var c,a=g.popper,p=g.popperRect,b=g.placement,L=g.variation,G=g.offsets,se=g.position,_e=g.gpuAcceleration,$e=g.adaptive,mt=g.roundOffsets,$t=g.isFixed,_n=G.x,mn=void 0===_n?0:_n,vn=G.y,en=void 0===vn?0:vn,An="function"==typeof mt?mt({x:mn,y:en}):{x:mn,y:en};mn=An.x,en=An.y;var yr=G.hasOwnProperty("x"),Pr=G.hasOwnProperty("y"),vr=Yn,ir=mi,bi=window;if($e){var Lr=Ii(a),di="clientHeight",ns="clientWidth";Lr===_i(a)&&"static"!==kr(Lr=Jr(a)).position&&"absolute"===se&&(di="scrollHeight",ns="scrollWidth"),(b===mi||(b===Yn||b===xi)&&L===Gr)&&(ir=$i,en-=($t&&Lr===bi&&bi.visualViewport?bi.visualViewport.height:Lr[di])-p.height,en*=_e?1:-1),b!==Yn&&(b!==mi&&b!==$i||L!==Gr)||(vr=xi,mn-=($t&&Lr===bi&&bi.visualViewport?bi.visualViewport.width:Lr[ns])-p.width,mn*=_e?1:-1)}var Ys,qs=Object.assign({position:se},$e&&Fs),lo=!0===mt?function Ro(g,c){var p=g.y,b=c.devicePixelRatio||1;return{x:fn(g.x*b)/b||0,y:fn(p*b)/b||0}}({x:mn,y:en},_i(a)):{x:mn,y:en};return mn=lo.x,en=lo.y,Object.assign({},qs,_e?((Ys={})[ir]=Pr?"0":"",Ys[vr]=yr?"0":"",Ys.transform=(bi.devicePixelRatio||1)<=1?"translate("+mn+"px, "+en+"px)":"translate3d("+mn+"px, "+en+"px, 0)",Ys):((c={})[ir]=Pr?en+"px":"",c[vr]=yr?mn+"px":"",c.transform="",c))}const yi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ka(g){var c=g.state,a=g.options,p=a.gpuAcceleration,b=void 0===p||p,L=a.adaptive,G=void 0===L||L,se=a.roundOffsets,_e=void 0===se||se,$e={placement:_t(c.placement),variation:hs(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:b,isFixed:"fixed"===c.options.strategy};null!=c.modifiersData.popperOffsets&&(c.styles.popper=Object.assign({},c.styles.popper,Na(Object.assign({},$e,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:G,roundOffsets:_e})))),null!=c.modifiersData.arrow&&(c.styles.arrow=Object.assign({},c.styles.arrow,Na(Object.assign({},$e,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_e})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var Po={passive:!0};const K={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function $o(g){var c=g.state,a=g.instance,p=g.options,b=p.scroll,L=void 0===b||b,G=p.resize,se=void 0===G||G,_e=_i(c.elements.popper),$e=[].concat(c.scrollParents.reference,c.scrollParents.popper);return L&&$e.forEach(function(mt){mt.addEventListener("scroll",a.update,Po)}),se&&_e.addEventListener("resize",a.update,Po),function(){L&&$e.forEach(function(mt){mt.removeEventListener("scroll",a.update,Po)}),se&&_e.removeEventListener("resize",a.update,Po)}},data:{}};var te={left:"right",right:"left",bottom:"top",top:"bottom"};function j(g){return g.replace(/left|right|bottom|top/g,function(c){return te[c]})}var ue={start:"end",end:"start"};function Be(g){return g.replace(/start|end/g,function(c){return ue[c]})}function pn(g){var c=_i(g);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function er(g){return Dn(Jr(g)).left+pn(g).scrollLeft}function Zi(g){var c=kr(g);return/auto|scroll|overlay|hidden/.test(c.overflow+c.overflowY+c.overflowX)}function uo(g){return["html","body","#document"].indexOf(jn(g))>=0?g.ownerDocument.body:ee(g)&&Zi(g)?g:uo(Vi(g))}function Ps(g,c){var a;void 0===c&&(c=[]);var p=uo(g),b=p===(null==(a=g.ownerDocument)?void 0:a.body),L=_i(p),G=b?[L].concat(L.visualViewport||[],Zi(p)?p:[]):p,se=c.concat(G);return b?se:se.concat(Ps(Vi(G)))}function es(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function Xl(g,c,a){return c===Qs?es(function Is(g,c){var a=_i(g),p=Jr(g),b=a.visualViewport,L=p.clientWidth,G=p.clientHeight,se=0,_e=0;if(b){L=b.width,G=b.height;var $e=Ar();($e||!$e&&"fixed"===c)&&(se=b.offsetLeft,_e=b.offsetTop)}return{width:L,height:G,x:se+er(g),y:_e}}(g,a)):Ji(c)?function Go(g,c){var a=Dn(g,!1,"fixed"===c);return a.top=a.top+g.clientTop,a.left=a.left+g.clientLeft,a.bottom=a.top+g.clientHeight,a.right=a.left+g.clientWidth,a.width=g.clientWidth,a.height=g.clientHeight,a.x=a.left,a.y=a.top,a}(c,a):es(function Zs(g){var c,a=Jr(g),p=pn(g),b=null==(c=g.ownerDocument)?void 0:c.body,L=Yt(a.scrollWidth,a.clientWidth,b?b.scrollWidth:0,b?b.clientWidth:0),G=Yt(a.scrollHeight,a.clientHeight,b?b.scrollHeight:0,b?b.clientHeight:0),se=-p.scrollLeft+er(g),_e=-p.scrollTop;return"rtl"===kr(b||a).direction&&(se+=Yt(a.clientWidth,b?b.clientWidth:0)-L),{width:L,height:G,x:se,y:_e}}(Jr(g)))}function Wi(g){var _e,c=g.reference,a=g.element,p=g.placement,b=p?_t(p):null,L=p?hs(p):null,G=c.x+c.width/2-a.width/2,se=c.y+c.height/2-a.height/2;switch(b){case mi:_e={x:G,y:c.y-a.height};break;case $i:_e={x:G,y:c.y+c.height};break;case xi:_e={x:c.x+c.width,y:se};break;case Yn:_e={x:c.x-a.width,y:se};break;default:_e={x:c.x,y:c.y}}var $e=b?wi(b):null;if(null!=$e){var mt="y"===$e?"height":"width";switch(L){case zi:_e[$e]=_e[$e]-(c[mt]/2-a[mt]/2);break;case Gr:_e[$e]=_e[$e]+(c[mt]/2-a[mt]/2)}}return _e}function ia(g,c){void 0===c&&(c={});var p=c.placement,b=void 0===p?g.placement:p,L=c.strategy,G=void 0===L?g.strategy:L,se=c.boundary,_e=void 0===se?ls:se,$e=c.rootBoundary,mt=void 0===$e?Qs:$e,$t=c.elementContext,_n=void 0===$t?ki:$t,mn=c.altBoundary,vn=void 0!==mn&&mn,en=c.padding,An=void 0===en?0:en,yr=Js("number"!=typeof An?An:io(An,ri)),vr=g.rects.popper,ir=g.elements[vn?_n===ki?Ts:ki:_n],bi=function ga(g,c,a,p){var b="clippingParents"===c?function xs(g){var c=Ps(Vi(g)),p=["absolute","fixed"].indexOf(kr(g).position)>=0&&ee(g)?Ii(g):g;return Ji(p)?c.filter(function(b){return Ji(b)&&Zn(b,p)&&"body"!==jn(b)}):[]}(g):[].concat(c),L=[].concat(b,[a]),se=L.reduce(function(_e,$e){var mt=Xl(g,$e,p);return _e.top=Yt(mt.top,_e.top),_e.right=In(mt.right,_e.right),_e.bottom=In(mt.bottom,_e.bottom),_e.left=Yt(mt.left,_e.left),_e},Xl(g,L[0],p));return se.width=se.right-se.left,se.height=se.bottom-se.top,se.x=se.left,se.y=se.top,se}(Ji(ir)?ir:ir.contextElement||Jr(g.elements.popper),_e,mt,G),Lr=Dn(g.elements.reference),di=Wi({reference:Lr,element:vr,strategy:"absolute",placement:b}),ns=es(Object.assign({},vr,di)),rs=_n===ki?ns:Lr,is={top:bi.top-rs.top+yr.top,bottom:rs.bottom-bi.bottom+yr.bottom,left:bi.left-rs.left+yr.left,right:rs.right-bi.right+yr.right},qs=g.modifiersData.offset;if(_n===ki&&qs){var lo=qs[b];Object.keys(is).forEach(function(Ys){var mu=[xi,$i].indexOf(Ys)>=0?1:-1,_u=[mi,$i].indexOf(Ys)>=0?"y":"x";is[Ys]+=lo[_u]*mu})}return is}const sa={name:"flip",enabled:!0,phase:"main",fn:function ho(g){var c=g.state,a=g.options,p=g.name;if(!c.modifiersData[p]._skip){for(var b=a.mainAxis,L=void 0===b||b,G=a.altAxis,se=void 0===G||G,_e=a.fallbackPlacements,$e=a.padding,mt=a.boundary,$t=a.rootBoundary,_n=a.altBoundary,mn=a.flipVariations,vn=void 0===mn||mn,en=a.allowedAutoPlacements,An=c.options.placement,yr=_t(An),vr=_e||(yr!==An&&vn?function Za(g){if(_t(g)===Xr)return[];var c=j(g);return[Be(g),c,Be(c)]}(An):[j(An)]),ir=[An].concat(vr).reduce(function(ss,yu){return ss.concat(_t(yu)===Xr?function ms(g,c){void 0===c&&(c={});var b=c.boundary,L=c.rootBoundary,G=c.padding,se=c.flipVariations,_e=c.allowedAutoPlacements,$e=void 0===_e?Wr:_e,mt=hs(c.placement),$t=mt?se?Ss:Ss.filter(function(vn){return hs(vn)===mt}):ri,_n=$t.filter(function(vn){return $e.indexOf(vn)>=0});0===_n.length&&(_n=$t);var mn=_n.reduce(function(vn,en){return vn[en]=ia(g,{placement:en,boundary:b,rootBoundary:L,padding:G})[_t(en)],vn},{});return Object.keys(mn).sort(function(vn,en){return mn[vn]-mn[en]})}(c,{placement:yu,boundary:mt,rootBoundary:$t,padding:$e,flipVariations:vn,allowedAutoPlacements:en}):yu)},[]),bi=c.rects.reference,Lr=c.rects.popper,di=new Map,ns=!0,rs=ir[0],is=0;is<ir.length;is++){var qs=ir[is],lo=_t(qs),Ys=hs(qs)===zi,mu=[mi,$i].indexOf(lo)>=0,_u=mu?"width":"height",Sn=ia(c,{placement:qs,boundary:mt,rootBoundary:$t,altBoundary:_n,padding:$e}),Wn=mu?Ys?xi:Yn:Ys?$i:mi;bi[_u]>Lr[_u]&&(Wn=j(Wn));var pr=j(Wn),ai=[];if(L&&ai.push(Sn[lo]<=0),se&&ai.push(Sn[Wn]<=0,Sn[pr]<=0),ai.every(function(ss){return ss})){rs=qs,ns=!1;break}di.set(qs,ai)}if(ns)for(var Xa=function(yu){var wg=ir.find(function(ro){var Uo=di.get(ro);if(Uo)return Uo.slice(0,yu).every(function(fa){return fa})});if(wg)return rs=wg,"break"},wo=vn?3:1;wo>0&&"break"!==Xa(wo);wo--);c.placement!==rs&&(c.modifiersData[p]._skip=!0,c.placement=rs,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Cs(g,c,a){return void 0===a&&(a={x:0,y:0}),{top:g.top-c.height-a.y,right:g.right-c.width+a.x,bottom:g.bottom-c.height+a.y,left:g.left-c.width-a.x}}function ma(g){return[mi,xi,$i,Yn].some(function(c){return g[c]>=0})}const bl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Fa(g){var c=g.state,a=g.name,p=c.rects.reference,b=c.rects.popper,L=c.modifiersData.preventOverflow,G=ia(c,{elementContext:"reference"}),se=ia(c,{altBoundary:!0}),_e=Cs(G,p),$e=Cs(se,b,L),mt=ma(_e),$t=ma($e);c.modifiersData[a]={referenceClippingOffsets:_e,popperEscapeOffsets:$e,isReferenceHidden:mt,hasPopperEscaped:$t},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":mt,"data-popper-escaped":$t})}},Tl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function gr(g){var c=g.state,p=g.name,b=g.options.offset,L=void 0===b?[0,0]:b,G=Wr.reduce(function(mt,$t){return mt[$t]=function vu(g,c,a){var p=_t(g),b=[Yn,mi].indexOf(p)>=0?-1:1,L="function"==typeof a?a(Object.assign({},c,{placement:g})):a,G=L[0],se=L[1];return G=G||0,se=(se||0)*b,[Yn,xi].indexOf(p)>=0?{x:se,y:G}:{x:G,y:se}}($t,c.rects,L),mt},{}),se=G[c.placement],$e=se.y;null!=c.modifiersData.popperOffsets&&(c.modifiersData.popperOffsets.x+=se.x,c.modifiersData.popperOffsets.y+=$e),c.modifiersData[p]=G}},_o={name:"popperOffsets",enabled:!0,phase:"read",fn:function mo(g){var c=g.state;c.modifiersData[g.name]=Wi({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})},data:{}},tl={name:"preventOverflow",enabled:!0,phase:"main",fn:function Eu(g){var c=g.state,a=g.options,p=g.name,b=a.mainAxis,L=void 0===b||b,G=a.altAxis,se=void 0!==G&&G,_n=a.tether,mn=void 0===_n||_n,vn=a.tetherOffset,en=void 0===vn?0:vn,An=ia(c,{boundary:a.boundary,rootBoundary:a.rootBoundary,padding:a.padding,altBoundary:a.altBoundary}),yr=_t(c.placement),Pr=hs(c.placement),vr=!Pr,ir=wi(yr),bi=function el(g){return"x"===g?"y":"x"}(ir),Lr=c.modifiersData.popperOffsets,di=c.rects.reference,ns=c.rects.popper,rs="function"==typeof en?en(Object.assign({},c.rects,{placement:c.placement})):en,is="number"==typeof rs?{mainAxis:rs,altAxis:rs}:Object.assign({mainAxis:0,altAxis:0},rs),qs=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,lo={x:0,y:0};if(Lr){if(L){var Ys,mu="y"===ir?mi:Yn,_u="y"===ir?$i:xi,Sn="y"===ir?"height":"width",Wn=Lr[ir],pr=Wn+An[mu],ai=Wn-An[_u],js=mn?-ns[Sn]/2:0,Xa=Pr===zi?di[Sn]:ns[Sn],wo=Pr===zi?-ns[Sn]:-di[Sn],Wl=c.elements.arrow,ss=mn&&Wl?kn(Wl):{width:0,height:0},yu=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},wg=yu[mu],ro=yu[_u],Uo=Mr(0,di[Sn],ss[Sn]),fa=vr?di[Sn]/2-js-Uo-wg-is.mainAxis:Xa-Uo-wg-is.mainAxis,Ag=vr?-di[Sn]/2+js+Uo+ro+is.mainAxis:wo+Uo+ro+is.mainAxis,Uh=c.elements.arrow&&Ii(c.elements.arrow),Ym=Uh?"y"===ir?Uh.clientTop||0:Uh.clientLeft||0:0,I0=null!=(Ys=qs?.[ir])?Ys:0,vb=Wn+Ag-I0,C0=Mr(mn?In(pr,Wn+fa-I0-Ym):pr,Wn,mn?Yt(ai,vb):ai);Lr[ir]=C0,lo[ir]=C0-Wn}if(se){var Eb,Zf=Lr[bi],xy="y"===bi?"height":"width",Dg=Zf+An["x"===ir?mi:Yn],A0=Zf-An["x"===ir?$i:xi],My=-1!==[mi,Yn].indexOf(yr),D0=null!=(Eb=qs?.[bi])?Eb:0,nE=My?Dg:Zf-di[xy]-ns[xy]-D0+is.altAxis,S0=My?Zf+di[xy]+ns[xy]-D0-is.altAxis:A0,rE=mn&&My?function Bo(g,c,a){var p=Mr(g,c,a);return p>a?a:p}(nE,Zf,S0):Mr(mn?nE:Dg,Zf,mn?S0:A0);Lr[bi]=rE,lo[bi]=rE-Zf}c.modifiersData[p]=lo}},requiresIfExists:["offset"]};function Il(g,c,a){void 0===a&&(a=!1);var p=ee(c),b=ee(c)&&function bu(g){var c=g.getBoundingClientRect(),a=fn(c.width)/g.offsetWidth||1,p=fn(c.height)/g.offsetHeight||1;return 1!==a||1!==p}(c),L=Jr(c),G=Dn(g,b,a),se={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(p||!p&&!a)&&(("body"!==jn(c)||Zi(L))&&(se=function nl(g){return g!==_i(g)&&ee(g)?function jh(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}(g):pn(g)}(c)),ee(c)?((_e=Dn(c,!0)).x+=c.clientLeft,_e.y+=c.clientTop):L&&(_e.x=er(L))),{x:G.left+se.scrollLeft-_e.x,y:G.top+se.scrollTop-_e.y,width:G.width,height:G.height}}function Ho(g){var c=new Map,a=new Set,p=[];function b(L){a.add(L.name),[].concat(L.requires||[],L.requiresIfExists||[]).forEach(function(se){if(!a.has(se)){var _e=c.get(se);_e&&b(_e)}}),p.push(L)}return g.forEach(function(L){c.set(L.name,L)}),g.forEach(function(L){a.has(L.name)||b(L)}),p}function La(g){var c;return function(){return c||(c=new Promise(function(a){Promise.resolve().then(function(){c=void 0,a(g())})})),c}}var Va={placement:"bottom",modifiers:[],strategy:"absolute"};function Ua(){for(var g=arguments.length,c=new Array(g),a=0;a<g;a++)c[a]=arguments[a];return!c.some(function(p){return!(p&&"function"==typeof p.getBoundingClientRect)})}function il(g){void 0===g&&(g={});var a=g.defaultModifiers,p=void 0===a?[]:a,b=g.defaultOptions,L=void 0===b?Va:b;return function(se,_e,$e){void 0===$e&&($e=L);var mt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Va,L),modifiersData:{},elements:{reference:se,popper:_e},attributes:{},styles:{}},$t=[],_n=!1,mn={state:mt,setOptions:function(yr){var Pr="function"==typeof yr?yr(mt.options):yr;en(),mt.options=Object.assign({},L,mt.options,Pr),mt.scrollParents={reference:Ji(se)?Ps(se):se.contextElement?Ps(se.contextElement):[],popper:Ps(_e)};var vr=function Ql(g){var c=Ho(g);return Rs.reduce(function(a,p){return a.concat(c.filter(function(b){return b.phase===p}))},[])}(function rl(g){var c=g.reduce(function(a,p){var b=a[p.name];return a[p.name]=b?Object.assign({},b,p,{options:Object.assign({},b.options,p.options),data:Object.assign({},b.data,p.data)}):p,a},{});return Object.keys(c).map(function(a){return c[a]})}([].concat(p,mt.options.modifiers)));return mt.orderedModifiers=vr.filter(function(ir){return ir.enabled}),function vn(){mt.orderedModifiers.forEach(function(An){var Pr=An.options,ir=An.effect;if("function"==typeof ir){var bi=ir({state:mt,name:An.name,instance:mn,options:void 0===Pr?{}:Pr});$t.push(bi||function(){})}})}(),mn.update()},forceUpdate:function(){if(!_n){var yr=mt.elements,Pr=yr.reference,vr=yr.popper;if(Ua(Pr,vr)){mt.rects={reference:Il(Pr,Ii(vr),"fixed"===mt.options.strategy),popper:kn(vr)},mt.reset=!1,mt.placement=mt.options.placement,mt.orderedModifiers.forEach(function(is){return mt.modifiersData[is.name]=Object.assign({},is.data)});for(var ir=0;ir<mt.orderedModifiers.length;ir++)if(!0!==mt.reset){var bi=mt.orderedModifiers[ir],Lr=bi.fn,di=bi.options;"function"==typeof Lr&&(mt=Lr({state:mt,options:void 0===di?{}:di,name:bi.name,instance:mn})||mt)}else mt.reset=!1,ir=-1}}},update:La(function(){return new Promise(function(An){mn.forceUpdate(),An(mt)})}),destroy:function(){en(),_n=!0}};if(!Ua(se,_e))return mn;function en(){$t.forEach(function(An){return An()}),$t=[]}return mn.setOptions($e).then(function(An){!_n&&$e.onFirstUpdate&&$e.onFirstUpdate(An)}),mn}}var M=il(),$=il({defaultModifiers:[K,_o,yi,nt,Tl,sa,tl,Yl,bl]}),Ne=il({defaultModifiers:[K,_o,yi,nt]});const It=new Map,kt={set(g,c,a){It.has(g)||It.set(g,new Map);const p=It.get(g);p.has(c)||0===p.size?p.set(c,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(g,c)=>It.has(g)&&It.get(g).get(c)||null,remove(g,c){if(!It.has(g))return;const a=It.get(g);a.delete(c),0===a.size&&It.delete(g)}},si="transitionend",Zr=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(c,a)=>`#${CSS.escape(a)}`)),g),Di=g=>{g.dispatchEvent(new Event(si))},fs=g=>!(!g||"object"!=typeof g)&&(typeof g.jquery<"u"&&(g=g[0]),typeof g.nodeType<"u"),Gi=g=>fs(g)?g.jquery?g[0]:g:"string"==typeof g&&g.length>0?document.querySelector(Zr(g)):null,so=g=>{if(!fs(g)||0===g.getClientRects().length)return!1;const c="visible"===getComputedStyle(g).getPropertyValue("visibility"),a=g.closest("details:not([open])");if(!a)return c;if(a!==g){const p=g.closest("summary");if(p&&p.parentNode!==a||null===p)return!1}return c},Ki=g=>!(g&&g.nodeType===Node.ELEMENT_NODE&&!g.classList.contains("disabled"))||(typeof g.disabled<"u"?g.disabled:g.hasAttribute("disabled")&&"false"!==g.getAttribute("disabled")),xo=g=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof g.getRootNode){const c=g.getRootNode();return c instanceof ShadowRoot?c:null}return g instanceof ShadowRoot?g:g.parentNode?xo(g.parentNode):null},ts=()=>{},Ad=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,br=[],Hs=()=>"rtl"===document.documentElement.dir,Ui=g=>{(g=>{"loading"===document.readyState?(br.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of br)c()}),br.push(g)):g()})(()=>{const c=Ad();if(c){const a=g.NAME,p=c.fn[a];c.fn[a]=g.jQueryInterface,c.fn[a].Constructor=g,c.fn[a].noConflict=()=>(c.fn[a]=p,g.jQueryInterface)}})},to=(g,c=[],a=g)=>"function"==typeof g?g(...c):a,Tu=(g,c,a=!0)=>{if(!a)return void to(g);const b=(g=>{if(!g)return 0;let{transitionDuration:c,transitionDelay:a}=window.getComputedStyle(g);const p=Number.parseFloat(c),b=Number.parseFloat(a);return p||b?(c=c.split(",")[0],a=a.split(",")[0],1e3*(Number.parseFloat(c)+Number.parseFloat(a))):0})(c)+5;let L=!1;const G=({target:se})=>{se===c&&(L=!0,c.removeEventListener(si,G),to(g))};c.addEventListener(si,G),setTimeout(()=>{L||Di(c)},b)},sl=(g,c,a,p)=>{const b=g.length;let L=g.indexOf(c);return-1===L?!a&&p?g[b-1]:g[0]:(L+=a?1:-1,p&&(L=(L+b)%b),g[Math.max(0,Math.min(L,b-1))])},Hi=/[^.]*(?=\..*)\.|.*/,Bh=/\..*/,Iu=/::\d+$/,Mo={};let ws=1;const _a={mouseenter:"mouseover",mouseleave:"mouseout"},Jl=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Cu(g,c){return c&&`${c}::${ws++}`||g.uidEvent||ws++}function wu(g){const c=Cu(g);return g.uidEvent=c,Mo[c]=Mo[c]||{},Mo[c]}function or(g,c,a=null){return Object.values(g).find(p=>p.callable===c&&p.delegationSelector===a)}function Zl(g,c,a){const p="string"==typeof c,b=p?a:c||a;let L=Sd(g);return Jl.has(L)||(L=g),[p,b,L]}function Nc(g,c,a,p,b){if("string"!=typeof c||!g)return;let[L,G,se]=Zl(c,a,p);var vn;c in _a&&(vn=G,G=function(en){if(!en.relatedTarget||en.relatedTarget!==en.delegateTarget&&!en.delegateTarget.contains(en.relatedTarget))return vn.call(this,en)});const _e=wu(g),$e=_e[se]||(_e[se]={}),mt=or($e,G,L?a:null);if(mt)return void(mt.oneOff=mt.oneOff&&b);const $t=Cu(G,c.replace(Hi,"")),_n=L?function Au(g,c,a){return function p(b){const L=g.querySelectorAll(c);for(let{target:G}=b;G&&G!==this;G=G.parentNode)for(const se of L)if(se===G)return Oo(b,{delegateTarget:G}),p.oneOff&&Zt.off(g,b.type,c,a),a.apply(G,[b])}}(g,a,G):function Dd(g,c){return function a(p){return Oo(p,{delegateTarget:g}),a.oneOff&&Zt.off(g,p.type,c),c.apply(g,[p])}}(g,G);_n.delegationSelector=L?a:null,_n.callable=G,_n.oneOff=b,_n.uidEvent=$t,$e[$t]=_n,g.addEventListener(se,_n,L)}function zo(g,c,a,p,b){const L=or(c[a],p,b);L&&(g.removeEventListener(a,L,!!b),delete c[a][L.uidEvent])}function kc(g,c,a,p){const b=c[a]||{};for(const[L,G]of Object.entries(b))L.includes(p)&&zo(g,c,a,G.callable,G.delegationSelector)}function Sd(g){return g=g.replace(Bh,""),_a[g]||g}const Zt={on(g,c,a,p){Nc(g,c,a,p,!1)},one(g,c,a,p){Nc(g,c,a,p,!0)},off(g,c,a,p){if("string"!=typeof c||!g)return;const[b,L,G]=Zl(c,a,p),se=G!==c,_e=wu(g),$e=_e[G]||{},mt=c.startsWith(".");if(typeof L<"u"){if(!Object.keys($e).length)return;zo(g,_e,G,L,b?a:null)}else{if(mt)for(const $t of Object.keys(_e))kc(g,_e,$t,c.slice(1));for(const[$t,_n]of Object.entries($e)){const mn=$t.replace(Iu,"");(!se||c.includes(mn))&&zo(g,_e,G,_n.callable,_n.delegationSelector)}}},trigger(g,c,a){if("string"!=typeof c||!g)return null;const p=Ad();let G=null,se=!0,_e=!0,$e=!1;c!==Sd(c)&&p&&(G=p.Event(c,a),p(g).trigger(G),se=!G.isPropagationStopped(),_e=!G.isImmediatePropagationStopped(),$e=G.isDefaultPrevented());const mt=Oo(new Event(c,{bubbles:se,cancelable:!0}),a);return $e&&mt.preventDefault(),_e&&g.dispatchEvent(mt),mt.defaultPrevented&&G&&G.preventDefault(),mt}};function Oo(g,c={}){for(const[a,p]of Object.entries(c))try{g[a]=p}catch{Object.defineProperty(g,a,{configurable:!0,get:()=>p})}return g}function Du(g){if("true"===g)return!0;if("false"===g)return!1;if(g===Number(g).toString())return Number(g);if(""===g||"null"===g)return null;if("string"!=typeof g)return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function ec(g){return g.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const Si={setDataAttribute(g,c,a){g.setAttribute(`data-bs-${ec(c)}`,a)},removeDataAttribute(g,c){g.removeAttribute(`data-bs-${ec(c)}`)},getDataAttributes(g){if(!g)return{};const c={},a=Object.keys(g.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of a){let b=p.replace(/^bs/,"");b=b.charAt(0).toLowerCase()+b.slice(1,b.length),c[b]=Du(g.dataset[p])}return c},getDataAttribute:(g,c)=>Du(g.getAttribute(`data-bs-${ec(c)}`))};class ya{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,a){const p=fs(a)?Si.getDataAttribute(a,"config"):{};return{...this.constructor.Default,..."object"==typeof p?p:{},...fs(a)?Si.getDataAttributes(a):{},..."object"==typeof c?c:{}}}_typeCheckConfig(c,a=this.constructor.DefaultType){for(const[p,b]of Object.entries(a)){const L=c[p],G=fs(L)?"element":null==(g=L)?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(b).test(G))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${G}" but expected type "${b}".`)}var g}}class jt extends ya{constructor(c,a){super(),(c=Gi(c))&&(this._element=c,this._config=this._getConfig(a),kt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){kt.remove(this._element,this.constructor.DATA_KEY),Zt.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,a,p=!0){Tu(c,a,p)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return kt.get(Gi(c),this.DATA_KEY)}static getOrCreateInstance(c,a={}){return this.getInstance(c)||new this(c,"object"==typeof a?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const Cr=g=>{let c=g.getAttribute("data-bs-target");if(!c||"#"===c){let a=g.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),c=a&&"#"!==a?a.trim():null}return c?c.split(",").map(a=>Zr(a)).join(","):null},$n={find:(g,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,g)),findOne:(g,c=document.documentElement)=>Element.prototype.querySelector.call(c,g),children:(g,c)=>[].concat(...g.children).filter(a=>a.matches(c)),parents(g,c){const a=[];let p=g.parentNode.closest(c);for(;p;)a.push(p),p=p.parentNode.closest(c);return a},prev(g,c){let a=g.previousElementSibling;for(;a;){if(a.matches(c))return[a];a=a.previousElementSibling}return[]},next(g,c){let a=g.nextElementSibling;for(;a;){if(a.matches(c))return[a];a=a.nextElementSibling}return[]},focusableChildren(g){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(c,g).filter(a=>!Ki(a)&&so(a))},getSelectorFromElement(g){const c=Cr(g);return c&&$n.findOne(c)?c:null},getElementFromSelector(g){const c=Cr(g);return c?$n.findOne(c):null},getMultipleElementsFromSelector(g){const c=Cr(g);return c?$n.find(c):[]}},qi=(g,c="hide")=>{const p=g.NAME;Zt.on(document,`click.dismiss${g.EVENT_KEY}`,`[data-bs-dismiss="${p}"]`,function(b){if(["A","AREA"].includes(this.tagName)&&b.preventDefault(),Ki(this))return;const L=$n.getElementFromSelector(this)||this.closest(`.${p}`);g.getOrCreateInstance(L)[c]()})},ol=".bs.alert",No=`close${ol}`,tc=`closed${ol}`;class al extends jt{static get NAME(){return"alert"}close(){if(Zt.trigger(this._element,No).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),Zt.trigger(this._element,tc),this.dispose()}static jQueryInterface(c){return this.each(function(){const a=al.getOrCreateInstance(this);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c](this)}})}}qi(al,"close"),Ui(al);const po='[data-bs-toggle="button"]';class ul extends jt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const a=ul.getOrCreateInstance(this);"toggle"===c&&a[c]()})}}Zt.on(document,"click.bs.button.data-api",po,g=>{g.preventDefault();const c=g.target.closest(po);ul.getOrCreateInstance(c).toggle()}),Ui(ul);const dl=".bs.swipe",Pu=`touchstart${dl}`,va=`touchmove${dl}`,Cl=`touchend${dl}`,S=`pointerdown${dl}`,k=`pointerup${dl}`,Oe={endCallback:null,leftCallback:null,rightCallback:null},wt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class yt extends ya{constructor(c,a){super(),this._element=c,c&&yt.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Oe}static get DefaultType(){return wt}static get NAME(){return"swipe"}dispose(){Zt.off(this._element,dl)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),to(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const a=c/this._deltaX;this._deltaX=0,a&&to(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Zt.on(this._element,S,c=>this._start(c)),Zt.on(this._element,k,c=>this._end(c)),this._element.classList.add("pointer-event")):(Zt.on(this._element,Pu,c=>this._start(c)),Zt.on(this._element,va,c=>this._move(c)),Zt.on(this._element,Cl,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&("pen"===c.pointerType||"touch"===c.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const rr=".bs.carousel",Or=".data-api",Ea="next",Wo="prev",Ba="left",Lc="right",fl=`slide${rr}`,ko=`slid${rr}`,$h=`keydown${rr}`,$a=`mouseenter${rr}`,Vc=`mouseleave${rr}`,xu=`dragstart${rr}`,Mu=`load${rr}${Or}`,Ou=`click${rr}${Or}`,Nu="carousel",Al="active",Rg=".active",Md=".carousel-item",ku=Rg+Md,Od={ArrowLeft:Lc,ArrowRight:Ba},nc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Lu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ko extends jt{constructor(c,a){super(c,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=$n.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Nu&&this.cycle()}static get Default(){return nc}static get DefaultType(){return Lu}static get NAME(){return"carousel"}next(){this._slide(Ea)}nextWhenVisible(){!document.hidden&&so(this._element)&&this.next()}prev(){this._slide(Wo)}pause(){this._isSliding&&Di(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Zt.one(this._element,ko,()=>this.cycle());this.cycle()}}to(c){const a=this._getItems();if(c>a.length-1||c<0)return;if(this._isSliding)return void Zt.one(this._element,ko,()=>this.to(c));const p=this._getItemIndex(this._getActive());p!==c&&this._slide(c>p?Ea:Wo,a[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&Zt.on(this._element,$h,c=>this._keydown(c)),"hover"===this._config.pause&&(Zt.on(this._element,$a,()=>this.pause()),Zt.on(this._element,Vc,()=>this._maybeEnableCycle())),this._config.touch&&yt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of $n.find(".carousel-item img",this._element))Zt.on(p,xu,b=>b.preventDefault());this._swipeHelper=new yt(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Ba)),rightCallback:()=>this._slide(this._directionToOrder(Lc)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const a=Od[c.key];a&&(c.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const a=$n.findOne(Rg,this._indicatorsElement);a.classList.remove(Al),a.removeAttribute("aria-current");const p=$n.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);p&&(p.classList.add(Al),p.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const a=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(c,a=null){if(this._isSliding)return;const p=this._getActive(),b=c===Ea,L=a||sl(this._getItems(),p,b,this._config.wrap);if(L===p)return;const G=this._getItemIndex(L),se=mn=>Zt.trigger(this._element,mn,{relatedTarget:L,direction:this._orderToDirection(c),from:this._getItemIndex(p),to:G});if(se(fl).defaultPrevented||!p||!L)return;const $e=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(G),this._activeElement=L;const mt=b?"carousel-item-start":"carousel-item-end",$t=b?"carousel-item-next":"carousel-item-prev";L.classList.add($t),p.classList.add(mt),L.classList.add(mt),this._queueCallback(()=>{L.classList.remove(mt,$t),L.classList.add(Al),p.classList.remove(Al,$t,mt),this._isSliding=!1,se(ko)},p,this._isAnimated()),$e&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return $n.findOne(ku,this._element)}_getItems(){return $n.find(Md,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return Hs()?c===Ba?Wo:Ea:c===Ba?Ea:Wo}_orderToDirection(c){return Hs()?c===Wo?Ba:Lc:c===Wo?Lc:Ba}static jQueryInterface(c){return this.each(function(){const a=Ko.getOrCreateInstance(this,c);if("number"!=typeof c){if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}}else a.to(c)})}}Zt.on(document,Ou,"[data-bs-slide], [data-bs-slide-to]",function(g){const c=$n.getElementFromSelector(this);if(!c||!c.classList.contains(Nu))return;g.preventDefault();const a=Ko.getOrCreateInstance(c),p=this.getAttribute("data-bs-slide-to");return p?(a.to(p),void a._maybeEnableCycle()):"next"===Si.getDataAttribute(this,"slide")?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),Zt.on(window,Mu,()=>{const g=$n.find('[data-bs-ride="carousel"]');for(const c of g)Ko.getOrCreateInstance(c)}),Ui(Ko);const yo=".bs.collapse",vo=`show${yo}`,Nd=`shown${yo}`,rc=`hide${yo}`,Ls=`hidden${yo}`,Hh=`click${yo}.data-api`,Ga="show",aa="collapse",Uc="collapsing",ic=`:scope .${aa} .${aa}`,Ha='[data-bs-toggle="collapse"]',Pl={parent:null,toggle:!0},ju={parent:"(null|element)",toggle:"boolean"};class jc extends jt{constructor(c,a){super(c,a),this._isTransitioning=!1,this._triggerArray=[];const p=$n.find(Ha);for(const b of p){const L=$n.getSelectorFromElement(b),G=$n.find(L).filter(se=>se===this._element);null!==L&&G.length&&this._triggerArray.push(b)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Pl}static get DefaultType(){return ju}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(se=>se!==this._element).map(se=>jc.getOrCreateInstance(se,{toggle:!1}))),c.length&&c[0]._isTransitioning||Zt.trigger(this._element,vo).defaultPrevented)return;for(const se of c)se.hide();const p=this._getDimension();this._element.classList.remove(aa),this._element.classList.add(Uc),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const G=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Uc),this._element.classList.add(aa,Ga),this._element.style[p]="",Zt.trigger(this._element,Nd)},this._element,!0),this._element.style[p]=`${this._element[G]}px`}hide(){if(this._isTransitioning||!this._isShown()||Zt.trigger(this._element,rc).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,this._element.classList.add(Uc),this._element.classList.remove(aa,Ga);for(const b of this._triggerArray){const L=$n.getElementFromSelector(b);L&&!this._isShown(L)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Uc),this._element.classList.add(aa),Zt.trigger(this._element,Ls)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(Ga)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=Gi(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(Ha);for(const a of c){const p=$n.getElementFromSelector(a);p&&this._addAriaAndCollapsedClass([a],this._isShown(p))}}_getFirstLevelChildren(c){const a=$n.find(ic,this._config.parent);return $n.find(c,this._config.parent).filter(p=>!a.includes(p))}_addAriaAndCollapsedClass(c,a){if(c.length)for(const p of c)p.classList.toggle("collapsed",!a),p.setAttribute("aria-expanded",a)}static jQueryInterface(c){const a={};return"string"==typeof c&&/show|hide/.test(c)&&(a.toggle=!1),this.each(function(){const p=jc.getOrCreateInstance(this,a);if("string"==typeof c){if(typeof p[c]>"u")throw new TypeError(`No method named "${c}"`);p[c]()}})}}Zt.on(document,Hh,Ha,function(g){("A"===g.target.tagName||g.delegateTarget&&"A"===g.delegateTarget.tagName)&&g.preventDefault();for(const c of $n.getMultipleElementsFromSelector(this))jc.getOrCreateInstance(c,{toggle:!1}).toggle()}),Ui(jc);const gl="dropdown",ps=".bs.dropdown",kd=".data-api",ap="ArrowUp",$u="ArrowDown",oc=`hide${ps}`,qo=`hidden${ps}`,la=`show${ps}`,zh=`shown${ps}`,Gu=`click${ps}${kd}`,ac=`keydown${ps}${kd}`,Wh=`keyup${ps}${kd}`,Bc="show",$c='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Gc=`${$c}.${Bc}`,Ld=".dropdown-menu",xl=Hs()?"top-end":"top-start",qh=Hs()?"top-start":"top-end",Yo=Hs()?"bottom-end":"bottom-start",Ml=Hs()?"bottom-start":"bottom-end",Ud=Hs()?"left-start":"right-start",Ol=Hs()?"right-start":"left-start",cp={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Mg={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class za extends jt{constructor(c,a){super(c,a),this._popper=null,this._parent=this._element.parentNode,this._menu=$n.next(this._element,Ld)[0]||$n.prev(this._element,Ld)[0]||$n.findOne(Ld,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return cp}static get DefaultType(){return Mg}static get NAME(){return gl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ki(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!Zt.trigger(this._element,la,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Zt.on(p,"mouseover",ts);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bc),this._element.classList.add(Bc),Zt.trigger(this._element,zh,c)}}hide(){!Ki(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!Zt.trigger(this._element,oc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Zt.off(p,"mouseover",ts);this._popper&&this._popper.destroy(),this._menu.classList.remove(Bc),this._element.classList.remove(Bc),this._element.setAttribute("aria-expanded","false"),Si.removeDataAttribute(this._menu,"popper"),Zt.trigger(this._element,qo,c)}}_getConfig(c){if("object"==typeof(c=super._getConfig(c)).reference&&!fs(c.reference)&&"function"!=typeof c.reference.getBoundingClientRect)throw new TypeError(`${gl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof s>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;"parent"===this._config.reference?c=this._parent:fs(this._config.reference)?c=Gi(this._config.reference):"object"==typeof this._config.reference&&(c=this._config.reference);const a=this._getPopperConfig();this._popper=$(c,this._menu,a)}_isShown(){return this._menu.classList.contains(Bc)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return Ud;if(c.classList.contains("dropstart"))return Ol;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const a="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return c.classList.contains("dropup")?a?qh:xl:a?Ml:Yo}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof c?a=>c(a,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Si.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...to(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:a}){const p=$n.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(b=>so(b));p.length&&sl(p,a,c===$u,!p.includes(a)).focus()}static jQueryInterface(c){return this.each(function(){const a=za.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}static clearMenus(c){if(2===c.button||"keyup"===c.type&&"Tab"!==c.key)return;const a=$n.find(Gc);for(const p of a){const b=za.getInstance(p);if(!b||!1===b._config.autoClose)continue;const L=c.composedPath(),G=L.includes(b._menu);if(L.includes(b._element)||"inside"===b._config.autoClose&&!G||"outside"===b._config.autoClose&&G||b._menu.contains(c.target)&&("keyup"===c.type&&"Tab"===c.key||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const se={relatedTarget:b._element};"click"===c.type&&(se.clickEvent=c),b._completeHide(se)}}static dataApiKeydownHandler(c){const a=/input|textarea/i.test(c.target.tagName),p="Escape"===c.key,b=[ap,$u].includes(c.key);if(!b&&!p||a&&!p)return;c.preventDefault();const L=this.matches($c)?this:$n.prev(this,$c)[0]||$n.next(this,$c)[0]||$n.findOne($c,c.delegateTarget.parentNode),G=za.getOrCreateInstance(L);if(b)return c.stopPropagation(),G.show(),void G._selectMenuItem(c);G._isShown()&&(c.stopPropagation(),G.hide(),L.focus())}}Zt.on(document,ac,$c,za.dataApiKeydownHandler),Zt.on(document,ac,Ld,za.dataApiKeydownHandler),Zt.on(document,Gu,za.clearMenus),Zt.on(document,Wh,za.clearMenus),Zt.on(document,Gu,$c,function(g){g.preventDefault(),za.getOrCreateInstance(this).toggle()}),Ui(za);const Lo="backdrop",Hu=`mousedown.bs.${Lo}`,up={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},$d={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class dp extends ya{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return up}static get DefaultType(){return $d}static get NAME(){return Lo}show(c){if(!this._config.isVisible)return void to(c);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{to(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),to(c)})):to(c)}dispose(){this._isAppended&&(Zt.off(this._element,Hu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=Gi(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),Zt.on(c,Hu,()=>{to(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){Tu(c,this._getElement(),this._config.isAnimated)}}const Ta=".bs.focustrap",Hc=`focusin${Ta}`,Gd=`keydown.tab${Ta}`,_l="backward",Qh={autofocus:!0,trapElement:null},zu={autofocus:"boolean",trapElement:"element"};class Hd extends ya{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Qh}static get DefaultType(){return zu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Zt.off(document,Ta),Zt.on(document,Hc,c=>this._handleFocusin(c)),Zt.on(document,Gd,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Zt.off(document,Ta))}_handleFocusin(c){const{trapElement:a}=this._config;if(c.target===document||c.target===a||a.contains(c.target))return;const p=$n.focusableChildren(a);0===p.length?a.focus():this._lastTabNavDirection===_l?p[p.length-1].focus():p[0].focus()}_handleKeydown(c){"Tab"===c.key&&(this._lastTabNavDirection=c.shiftKey?_l:"forward")}}const Jh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zc=".sticky-top",kl="padding-right",zd="margin-right";class Wc{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,kl,a=>a+c),this._setElementAttributes(Jh,kl,a=>a+c),this._setElementAttributes(zc,zd,a=>a-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,kl),this._resetElementAttributes(Jh,kl),this._resetElementAttributes(zc,zd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,a,p){const b=this.getWidth();this._applyManipulationCallback(c,G=>{if(G!==this._element&&window.innerWidth>G.clientWidth+b)return;this._saveInitialAttribute(G,a);const se=window.getComputedStyle(G).getPropertyValue(a);G.style.setProperty(a,`${p(Number.parseFloat(se))}px`)})}_saveInitialAttribute(c,a){const p=c.style.getPropertyValue(a);p&&Si.setDataAttribute(c,a,p)}_resetElementAttributes(c,a){this._applyManipulationCallback(c,b=>{const L=Si.getDataAttribute(b,a);null!==L?(Si.removeDataAttribute(b,a),b.style.setProperty(a,L)):b.style.removeProperty(a)})}_applyManipulationCallback(c,a){if(fs(c))a(c);else for(const p of $n.find(c,this._element))a(p)}}const Ks=".bs.modal",v=`hide${Ks}`,R=`hidePrevented${Ks}`,Q=`hidden${Ks}`,fe=`show${Ks}`,Je=`shown${Ks}`,Rt=`resize${Ks}`,Wt=`click.dismiss${Ks}`,Rn=`mousedown.dismiss${Ks}`,Pn=`keydown.dismiss${Ks}`,ei=`click${Ks}.data-api`,Eo="modal-open",Kc="modal-static",Yd={backdrop:!0,focus:!0,keyboard:!0},kg={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ua extends jt{constructor(c,a){super(c,a),this._dialog=$n.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Wc,this._addEventListeners()}static get Default(){return Yd}static get DefaultType(){return kg}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||Zt.trigger(this._element,fe,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Eo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||Zt.trigger(this._element,v).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Zt.off(window,Ks),Zt.off(this._dialog,Ks),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new dp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Hd({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=$n.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Zt.trigger(this._element,Je,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){Zt.on(this._element,Pn,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Zt.on(window,Rt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Zt.on(this._element,Rn,c=>{Zt.one(this._element,Wt,a=>{if(this._element===c.target&&this._element===a.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Eo),this._resetAdjustments(),this._scrollBar.reset(),Zt.trigger(this._element,Q)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Zt.trigger(this._element,R).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;"hidden"===p||this._element.classList.contains(Kc)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(Kc),this._queueCallback(()=>{this._element.classList.remove(Kc),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),p=a>0;if(p&&!c){const b=Hs()?"paddingLeft":"paddingRight";this._element.style[b]=`${a}px`}if(!p&&c){const b=Hs()?"paddingRight":"paddingLeft";this._element.style[b]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,a){return this.each(function(){const p=ua.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof p[c]>"u")throw new TypeError(`No method named "${c}"`);p[c](a)}})}}Zt.on(document,ei,'[data-bs-toggle="modal"]',function(g){const c=$n.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),Zt.one(c,fe,b=>{b.defaultPrevented||Zt.one(c,Q,()=>{so(this)&&this.focus()})});const a=$n.findOne(".modal.show");a&&ua.getInstance(a).hide(),ua.getOrCreateInstance(c).toggle(this)}),qi(ua),Ui(ua);const da=".bs.offcanvas",Wu=".data-api",lc=`load${da}${Wu}`,ef="showing",pp=".offcanvas.show",e_=`show${da}`,Jd=`shown${da}`,gp=`hide${da}`,Ku=`hidePrevented${da}`,t_=`hidden${da}`,Fg=`resize${da}`,Ly=`click${da}${Wu}`,mp=`keydown.dismiss${da}`,Lg={backdrop:!0,keyboard:!0,scroll:!1},n_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ca extends jt{constructor(c,a){super(c,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Lg}static get DefaultType(){return n_}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||Zt.trigger(this._element,e_,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Wc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ef),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(ef),Zt.trigger(this._element,Jd,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&!Zt.trigger(this._element,gp).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Wc).reset(),Zt.trigger(this._element,t_)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new dp({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{"static"!==this._config.backdrop?this.hide():Zt.trigger(this._element,Ku)}:null})}_initializeFocusTrap(){return new Hd({trapElement:this._element})}_addEventListeners(){Zt.on(this._element,mp,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();Zt.trigger(this._element,Ku)}})}static jQueryInterface(c){return this.each(function(){const a=Ca.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c](this)}})}}Zt.on(document,Ly,'[data-bs-toggle="offcanvas"]',function(g){const c=$n.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),Ki(this))return;Zt.one(c,t_,()=>{so(this)&&this.focus()});const a=$n.findOne(pp);a&&a!==c&&Ca.getInstance(a).hide(),Ca.getOrCreateInstance(c).toggle(this)}),Zt.on(window,lc,()=>{for(const g of $n.find(pp))Ca.getOrCreateInstance(g).show()}),Zt.on(window,Fg,()=>{for(const g of $n.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(g).position&&Ca.getOrCreateInstance(g).hide()}),qi(Ca),Ui(Ca);const r_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Vy=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Xo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,_p=(g,c)=>{const a=g.nodeName.toLowerCase();return c.includes(a)?!Vy.has(a)||!!Xo.test(g.nodeValue):c.filter(p=>p instanceof RegExp).some(p=>p.test(a))},Vo={allowList:r_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},qu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},s_={entry:"(string|element|function|null)",selector:"(string|element)"};class yp extends ya{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return Vo}static get DefaultType(){return qu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[b,L]of Object.entries(this._config.content))this._setContent(c,L,b);const a=c.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&a.classList.add(...p.split(" ")),a}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[a,p]of Object.entries(c))super._typeCheckConfig({selector:a,entry:p},s_)}_setContent(c,a,p){const b=$n.findOne(p,c);if(b){if(!(a=this._resolvePossibleFunction(a)))return void b.remove();if(fs(a))return void this._putElementInTemplate(Gi(a),b);if(this._config.html)return void(b.innerHTML=this._maybeSanitize(a));b.textContent=a}}_maybeSanitize(c){return this._config.sanitize?function i_(g,c,a){if(!g.length)return g;if(a&&"function"==typeof a)return a(g);const b=(new window.DOMParser).parseFromString(g,"text/html"),L=[].concat(...b.body.querySelectorAll("*"));for(const G of L){const se=G.nodeName.toLowerCase();if(!Object.keys(c).includes(se)){G.remove();continue}const _e=[].concat(...G.attributes),$e=[].concat(c["*"]||[],c[se]||[]);for(const mt of _e)_p(mt,$e)||G.removeAttribute(mt.nodeName)}return b.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return to(c,[this])}_putElementInTemplate(c,a){if(this._config.html)return a.innerHTML="",void a.append(c);a.textContent=c.textContent}}const vp=new Set(["sanitize","allowList","sanitizeFn"]),Ep="fade",eh="show",cc="hide.bs.modal",uc="hover",Vl="focus",Bg={AUTO:"auto",TOP:"top",RIGHT:Hs()?"left":"right",BOTTOM:"bottom",LEFT:Hs()?"right":"left"},$g={allowList:r_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},a_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yc extends jt{constructor(c,a){if(typeof s>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return $g}static get DefaultType(){return a_}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Zt.off(this._element.closest(".modal"),cc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=Zt.trigger(this._element,this.constructor.eventName("show")),p=(xo(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!p)return;this._disposePopper();const b=this._getTipElement();this._element.setAttribute("aria-describedby",b.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(b),Zt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(b),b.classList.add(eh),"ontouchstart"in document.documentElement)for(const se of[].concat(...document.body.children))Zt.on(se,"mouseover",ts);this._queueCallback(()=>{Zt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Zt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(eh),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))Zt.off(b,"mouseover",ts);this._activeTrigger.click=!1,this._activeTrigger[Vl]=!1,this._activeTrigger[uc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Zt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const a=this._getTemplateFactory(c).toHtml();if(!a)return null;a.classList.remove(Ep,eh),a.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(g=>{do{g+=Math.floor(1e6*Math.random())}while(document.getElementById(g));return g})(this.constructor.NAME).toString();return a.setAttribute("id",p),this._isAnimated()&&a.classList.add(Ep),a}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new yp({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ep)}_isShown(){return this.tip&&this.tip.classList.contains(eh)}_createPopper(c){const a=to(this._config.placement,[this,c,this._element]),p=Bg[a.toUpperCase()];return $(this._element,c,this._getPopperConfig(p))}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof c?a=>c(a,this._element):c}_resolvePossibleFunction(c){return to(c,[this._element])}_getPopperConfig(c){const a={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...a,...to(this._config.popperConfig,[a])}}_setListeners(){const c=this._config.trigger.split(" ");for(const a of c)if("click"===a)Zt.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if("manual"!==a){const p=this.constructor.eventName(a===uc?"mouseenter":"focusin"),b=this.constructor.eventName(a===uc?"mouseleave":"focusout");Zt.on(this._element,p,this._config.selector,L=>{const G=this._initializeOnDelegatedTarget(L);G._activeTrigger["focusin"===L.type?Vl:uc]=!0,G._enter()}),Zt.on(this._element,b,this._config.selector,L=>{const G=this._initializeOnDelegatedTarget(L);G._activeTrigger["focusout"===L.type?Vl:uc]=G._element.contains(L.relatedTarget),G._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Zt.on(this._element.closest(".modal"),cc,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,a){clearTimeout(this._timeout),this._timeout=setTimeout(c,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const a=Si.getDataAttributes(this._element);for(const p of Object.keys(a))vp.has(p)&&delete a[p];return c={...a,..."object"==typeof c&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=!1===c.container?document.body:Gi(c.container),"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),"number"==typeof c.title&&(c.title=c.title.toString()),"number"==typeof c.content&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[a,p]of Object.entries(this._config))this.constructor.Default[a]!==p&&(c[a]=p);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const a=Yc.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}}Ui(Yc);const rf={...Yc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ap={...Yc.DefaultType,content:"(null|string|element|function)"};class sh extends Yc{static get Default(){return rf}static get DefaultType(){return Ap}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const a=sh.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}}Ui(sh);const sf=".bs.scrollspy",Xu=`activate${sf}`,af=`click${sf}`,h_=`load${sf}.data-api`,oh="active",lf="[href]",Hg=".nav-link",Sp=`${Hg}, .nav-item > ${Hg}, .list-group-item`,Wg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cf={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Xc extends jt{constructor(c,a){super(c,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Wg}static get DefaultType(){return cf}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=Gi(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,"string"==typeof c.threshold&&(c.threshold=c.threshold.split(",").map(a=>Number.parseFloat(a))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Zt.off(this._config.target,af),Zt.on(this._config.target,af,lf,c=>{const a=this._observableSections.get(c.target.hash);if(a){c.preventDefault();const p=this._rootElement||window,b=a.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:b,behavior:"smooth"});p.scrollTop=b}}))}_getNewObserver(){return new IntersectionObserver(a=>this._observerCallback(a),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(c){const a=G=>this._targetLinks.get(`#${G.target.id}`),p=G=>{this._previousScrollData.visibleEntryTop=G.target.offsetTop,this._process(a(G))},b=(this._rootElement||document.documentElement).scrollTop,L=b>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=b;for(const G of c){if(!G.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(G));continue}const se=G.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(L&&se){if(p(G),!b)return}else!L&&!se&&p(G)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=$n.find(lf,this._config.target);for(const a of c){if(!a.hash||Ki(a))continue;const p=$n.findOne(decodeURI(a.hash),this._element);so(p)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,p))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(oh),this._activateParents(c),Zt.trigger(this._element,Xu,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))$n.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(oh);else for(const a of $n.parents(c,".nav, .list-group"))for(const p of $n.prev(a,Sp))p.classList.add(oh)}_clearActiveClass(c){c.classList.remove(oh);const a=$n.find(`${lf}.${oh}`,c);for(const p of a)p.classList.remove(oh)}static jQueryInterface(c){return this.each(function(){const a=Xc.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}})}}Zt.on(window,h_,()=>{for(const g of $n.find('[data-bs-spy="scroll"]'))Xc.getOrCreateInstance(g)}),Ui(Xc);const yl=".bs.tab",Kg=`hide${yl}`,g_=`hidden${yl}`,qg=`show${yl}`,$y=`shown${yl}`,Yg=`click${yl}`,xp=`keydown${yl}`,Mp=`load${yl}`,dc="ArrowLeft",uf="ArrowRight",Qc="ArrowUp",m_="ArrowDown",df="Home",hc="End",fc="active",hf="show",ff=".dropdown-toggle",Np=`:not(${ff})`,y_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gf=`.nav-link${Np}, .list-group-item${Np}, [role="tab"]${Np}, ${y_}`,v_=`.${fc}[data-bs-toggle="tab"], .${fc}[data-bs-toggle="pill"], .${fc}[data-bs-toggle="list"]`;class Jc extends jt{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Zt.on(this._element,xp,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const a=this._getActiveElem(),p=a?Zt.trigger(a,Kg,{relatedTarget:c}):null;Zt.trigger(c,qg,{relatedTarget:a}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(a,c),this._activate(c,a))}_activate(c,a){c&&(c.classList.add(fc),this._activate($n.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),Zt.trigger(c,$y,{relatedTarget:a})):c.classList.add(hf)},c,c.classList.contains("fade")))}_deactivate(c,a){c&&(c.classList.remove(fc),c.blur(),this._deactivate($n.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),Zt.trigger(c,g_,{relatedTarget:a})):c.classList.remove(hf)},c,c.classList.contains("fade")))}_keydown(c){if(![dc,uf,Qc,m_,df,hc].includes(c.key))return;c.stopPropagation(),c.preventDefault();const a=this._getChildren().filter(b=>!Ki(b));let p;if([df,hc].includes(c.key))p=a[c.key===df?0:a.length-1];else{const b=[uf,m_].includes(c.key);p=sl(a,c.target,b,!0)}p&&(p.focus({preventScroll:!0}),Jc.getOrCreateInstance(p).show())}_getChildren(){return $n.find(gf,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,a){this._setAttributeIfNotExists(c,"role","tablist");for(const p of a)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const a=this._elemIsActive(c),p=this._getOuterElement(c);c.setAttribute("aria-selected",a),p!==c&&this._setAttributeIfNotExists(p,"role","presentation"),a||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const a=$n.getElementFromSelector(c);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,a){const p=this._getOuterElement(c);if(!p.classList.contains("dropdown"))return;const b=(L,G)=>{const se=$n.findOne(L,p);se&&se.classList.toggle(G,a)};b(ff,fc),b(".dropdown-menu",hf),p.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(c,a,p){c.hasAttribute(a)||c.setAttribute(a,p)}_elemIsActive(c){return c.classList.contains(fc)}_getInnerElement(c){return c.matches(gf)?c:$n.findOne(gf,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const a=Jc.getOrCreateInstance(this);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}})}}Zt.on(document,Yg,y_,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),!Ki(this)&&Jc.getOrCreateInstance(this).show()}),Zt.on(window,Mp,()=>{for(const g of $n.find(v_))Jc.getOrCreateInstance(g)}),Ui(Jc);const wa=".bs.toast",Xg=`mouseover${wa}`,Gy=`mouseout${wa}`,Qg=`focusin${wa}`,Fp=`focusout${wa}`,Jg=`hide${wa}`,Hy=`hidden${wa}`,Ju=`show${wa}`,zy=`shown${wa}`,gc="show",eu="showing",Ka={animation:"boolean",autohide:"boolean",delay:"number"},mf={animation:!0,autohide:!0,delay:5e3};class _f extends jt{constructor(c,a){super(c,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return mf}static get DefaultType(){return Ka}static get NAME(){return"toast"}show(){Zt.trigger(this._element,Ju).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(gc,eu),this._queueCallback(()=>{this._element.classList.remove(eu),Zt.trigger(this._element,zy),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Zt.trigger(this._element,Jg).defaultPrevented&&(this._element.classList.add(eu),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(eu,gc),Zt.trigger(this._element,Hy)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(gc),super.dispose()}isShown(){return this._element.classList.contains(gc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,a){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const p=c.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){Zt.on(this._element,Xg,c=>this._onInteraction(c,!0)),Zt.on(this._element,Gy,c=>this._onInteraction(c,!1)),Zt.on(this._element,Qg,c=>this._onInteraction(c,!0)),Zt.on(this._element,Fp,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const a=_f.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c](this)}})}}qi(_f),Ui(_f);let tm=(()=>{class g{constructor(a){this.http=a,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(a){return this.http.post(this.emailEndpoint,a)}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(xe))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var vi=V(4341);let b_=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(p,b){1&p&&(r.j41(0,"section",0)(1,"div",1)(2,"div",2),r.nrm(3,"i",3),r.j41(4,"p"),r.EFF(5),r.k0s()(),r.j41(6,"div",2),r.nrm(7,"i",4),r.j41(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",2),r.nrm(11,"i",5),r.j41(12,"p"),r.EFF(13),r.k0s()()()()),2&p&&(r.R7$(5),r.JRh(b.phoneNumber),r.R7$(4),r.JRh(b.address),r.R7$(4),r.JRh(b.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return g})();var T_=V(3711),I_=V(3095);let yf=(()=>{class g{transform(a){if(!a)return"";let p=a.toString().replace(/\D/g,"");return 10!==p.length?a.toString():`${p.slice(0,3)}.${p.slice(3,6)}.${p.slice(6)}`}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275pipe=r.EJ8({name:"phoneFormat",type:g,pure:!0})}}return g})();function vf(g,c){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function C_(g,c){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function nm(g,c){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Social Media"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(4),r.FS9("href",a.business.socialMedia,r.B4B),r.R7$(1),r.JRh(a.business.socialMedia)}}function Lp(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"div",13)(2,"div",14)(3,"h1"),r.EFF(4,"Contact Us"),r.k0s(),r.j41(5,"div",15)(6,"p"),r.EFF(7,"We're here to answer any questions you have"),r.k0s()()()(),r.j41(8,"div",16)(9,"section",17)(10,"div",18),r.EFF(11,"Get in Touch"),r.k0s(),r.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),r.EFF(17,"Address"),r.k0s(),r.j41(18,"p"),r.EFF(19),r.k0s()(),r.j41(20,"div",22)(21,"h3"),r.EFF(22,"Phone"),r.k0s(),r.j41(23,"p"),r.EFF(24),r.nI1(25,"phoneFormat"),r.k0s()(),r.DNE(26,vf,6,2,"div",23),r.DNE(27,C_,6,3,"div",23),r.DNE(28,nm,6,2,"div",23),r.j41(29,"div")(30,"h3"),r.EFF(31,"Visitation Hours"),r.k0s(),r.nrm(32,"div",24),r.k0s()()(),r.j41(33,"div",25)(34,"div",26),r.nrm(35,"img",27),r.k0s()()()(),r.j41(36,"section",28)(37,"div",18),r.EFF(38,"Send Us a Message"),r.k0s(),r.j41(39,"div",29)(40,"div",30)(41,"div",31)(42,"h2",32),r.EFF(43,"How can we help?"),r.k0s(),r.j41(44,"p",33),r.EFF(45," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),r.k0s()()(),r.j41(46,"div",34)(47,"form",35,36),r.bIt("ngSubmit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(49,"div",37)(50,"label",38),r.EFF(51,"Name"),r.j41(52,"span"),r.EFF(53,"*"),r.k0s()(),r.j41(54,"input",39),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.name=b)}),r.k0s()(),r.j41(55,"div",37)(56,"label",40),r.EFF(57,"Email"),r.j41(58,"span"),r.EFF(59,"*"),r.k0s()(),r.j41(60,"input",41),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.email=b)}),r.k0s()(),r.j41(61,"div",37)(62,"label",42),r.EFF(63,"Phone "),r.j41(64,"span"),r.EFF(65,"*"),r.k0s()(),r.j41(66,"input",43),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.phone=b)}),r.k0s()(),r.j41(67,"div",37)(68,"label",44),r.EFF(69,"Message"),r.j41(70,"span"),r.EFF(71,"*"),r.k0s()(),r.j41(72,"textarea",45),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.message=b)}),r.k0s()(),r.j41(73,"button",46),r.EFF(74," Send "),r.k0s()()()()(),r.nrm(75,"app-information",47),r.nI1(76,"phoneFormat"),r.nrm(77,"app-google-maps",48),r.k0s(),r.nrm(78,"app-faq"),r.bVm()}if(2&g){const a=r.sdS(48),p=r.XpG(2);r.R7$(19),r.LHq("",null==p.location?null:p.location.street,", ",null==p.location?null:p.location.city,", ",null==p.location?null:p.location.state," ",null==p.location?null:p.location.zipcode,""),r.R7$(5),r.JRh(r.bMT(25,20,null==p.location?null:p.location.phone)),r.R7$(2),r.Y8G("ngIf",p.business.email),r.R7$(1),r.Y8G("ngIf",null==p.location?null:p.location.fax),r.R7$(1),r.Y8G("ngIf",p.business.socialMedia),r.R7$(4),r.Y8G("innerHTML",p.sanitizedBusinessHours,r.npT),r.R7$(3),r.Y8G("src",p.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",r.B4B),r.R7$(19),r.Y8G("ngModel",p.formData.name),r.R7$(6),r.Y8G("ngModel",p.formData.email),r.R7$(6),r.Y8G("ngModel",p.formData.phone),r.R7$(6),r.Y8G("ngModel",p.formData.message),r.R7$(1),r.Y8G("disabled",!a.form.valid),r.R7$(2),r.Y8G("phoneNumber",r.bMT(76,22,null==p.location?null:p.location.phone)||"")("address",p.formattedAddress)("email",(null==p.location?null:p.location.email)||""),r.R7$(2),r.Y8G("address",p.formattedAddress||"")("layoutType",p.business.theme.themeType||"demo")}}function w_(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function ch(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function A_(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function rm(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",51)(4,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(5,"div",37)(6,"label",53),r.EFF(7,"Name "),r.j41(8,"span"),r.EFF(9,"(required)"),r.k0s()(),r.j41(10,"div",54)(11,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.name=b)}),r.k0s()()(),r.j41(12,"div",37)(13,"label",40),r.EFF(14,"Email "),r.j41(15,"span"),r.EFF(16,"(required)"),r.k0s()(),r.j41(17,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.email=b)}),r.k0s()(),r.j41(18,"div",37)(19,"label",42),r.EFF(20,"Phone "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"input",57),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.phone=b)}),r.k0s()(),r.j41(24,"div",37)(25,"label",44),r.EFF(26,"Message "),r.j41(27,"span"),r.EFF(28,"(required)"),r.k0s()(),r.j41(29,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.message=b)}),r.k0s()(),r.j41(30,"button",59),r.EFF(31,"Send"),r.k0s()()(),r.j41(32,"div",60)(33,"h2"),r.EFF(34,"Let's Talk"),r.k0s(),r.DNE(35,w_,6,2,"div",61),r.j41(36,"div",62)(37,"h4"),r.EFF(38,"Phone"),r.k0s(),r.j41(39,"p"),r.EFF(40),r.nI1(41,"phoneFormat"),r.k0s()(),r.DNE(42,ch,6,3,"div",61),r.j41(43,"div",62)(44,"h4"),r.EFF(45,"Address"),r.k0s(),r.j41(46,"p"),r.EFF(47),r.nrm(48,"br"),r.EFF(49),r.nrm(50,"br"),r.EFF(51),r.k0s()(),r.DNE(52,A_,3,1,"div",63),r.k0s()(),r.j41(53,"div",50)(54,"div",60)(55,"h2"),r.EFF(56,"Visitation Hours"),r.k0s(),r.nrm(57,"p",24),r.k0s(),r.j41(58,"div",64),r.nrm(59,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(11),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(5),r.JRh(r.bMT(41,15,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(5),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.zipcode," ",null==a.location?null:a.location.city,""),r.R7$(2),r.SpI(" ",null==a.location?null:a.location.state,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(5),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function im(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function mc(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function Vp(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function sm(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",51)(4,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(5,"div",37)(6,"label",53),r.EFF(7,"Name "),r.j41(8,"span"),r.EFF(9,"(required)"),r.k0s()(),r.j41(10,"div",54)(11,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.name=b)}),r.k0s()()(),r.j41(12,"div",37)(13,"label",40),r.EFF(14,"Email "),r.j41(15,"span"),r.EFF(16,"(required)"),r.k0s()(),r.j41(17,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.email=b)}),r.k0s()(),r.j41(18,"div",37)(19,"label",42),r.EFF(20,"Phone "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"input",57),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.phone=b)}),r.k0s()(),r.j41(24,"div",37)(25,"label",44),r.EFF(26,"Message "),r.j41(27,"span"),r.EFF(28,"(required)"),r.k0s()(),r.j41(29,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.message=b)}),r.k0s()(),r.j41(30,"button",68),r.EFF(31,"Send"),r.k0s()()(),r.j41(32,"div",60)(33,"h2"),r.EFF(34,"Let's Talk"),r.k0s(),r.DNE(35,im,6,2,"div",61),r.j41(36,"div",62)(37,"h4"),r.EFF(38,"Phone"),r.k0s(),r.j41(39,"p"),r.EFF(40),r.nI1(41,"phoneFormat"),r.k0s()(),r.DNE(42,mc,6,3,"div",61),r.j41(43,"div",62)(44,"h4"),r.EFF(45,"Address"),r.k0s(),r.j41(46,"p"),r.EFF(47),r.nrm(48,"br"),r.EFF(49),r.nrm(50,"br"),r.EFF(51),r.k0s()(),r.DNE(52,Vp,3,1,"div",63),r.k0s()(),r.j41(53,"div",50)(54,"div",60)(55,"h2"),r.EFF(56,"Visitation Hours"),r.k0s(),r.nrm(57,"p",24),r.k0s(),r.j41(58,"div",64),r.nrm(59,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(11),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(5),r.JRh(r.bMT(41,15,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(5),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.zipcode," ",null==a.location?null:a.location.city,""),r.R7$(2),r.SpI(" ",null==a.location?null:a.location.state,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(5),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Wy(g,c){if(1&g&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function Zu(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function om(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function Ky(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero",69),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Wy,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,Zu,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.nrm(15,"br"),r.EFF(16),r.nrm(17,"br"),r.EFF(18),r.k0s()(),r.DNE(19,om,3,1,"div",63),r.k0s(),r.j41(20,"div",51)(21,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(22,"div",37)(23,"label",53),r.EFF(24,"Name "),r.j41(25,"span"),r.EFF(26,"(required)"),r.k0s()(),r.j41(27,"div",54)(28,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.name=b)}),r.k0s()()(),r.j41(29,"div",37)(30,"label",40),r.EFF(31,"Email "),r.j41(32,"span"),r.EFF(33,"(required)"),r.k0s()(),r.j41(34,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.email=b)}),r.k0s()(),r.j41(35,"div",37)(36,"label",42),r.EFF(37,"Phone "),r.j41(38,"span"),r.EFF(39,"(required)"),r.k0s()(),r.j41(40,"input",57),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.phone=b)}),r.k0s()(),r.j41(41,"div",37)(42,"label",44),r.EFF(43,"Message "),r.j41(44,"span"),r.EFF(45,"(required)"),r.k0s()(),r.j41(46,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.message=b)}),r.k0s()(),r.j41(47,"button",70),r.EFF(48,"Send"),r.k0s()()()(),r.j41(49,"div",50)(50,"div",60)(51,"div")(52,"h2"),r.EFF(53,"Hours"),r.k0s(),r.nrm(54,"div",24),r.k0s()(),r.j41(55,"div",64),r.nrm(56,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(5),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.JRh(null==a.location?null:a.location.city),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Up(g,c){if(1&g&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function D_(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function qy(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function Yy(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero",69),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Up,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,D_,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,qy,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.name=b)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.email=b)}),r.k0s()(),r.j41(31,"div",37)(32,"label",42),r.EFF(33,"Phone "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"input",57),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.phone=b)}),r.k0s()(),r.j41(37,"div",37)(38,"label",44),r.EFF(39,"Message "),r.j41(40,"span"),r.EFF(41,"(required)"),r.k0s()(),r.j41(42,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.message=b)}),r.k0s()(),r.j41(43,"button",70),r.EFF(44,"Send"),r.k0s()()()(),r.j41(45,"div",50)(46,"div",60)(47,"div")(48,"h2"),r.EFF(49,"Hours"),r.k0s(),r.nrm(50,"div",24),r.k0s()(),r.j41(51,"div",64),r.nrm(52,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(1),r.Y8G("layoutType","prestige"),r.R7$(5),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.LHq("",null==a.location?null:a.location.street,", ",null==a.location?null:a.location.city,", ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Xy(g,c){if(1&g&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function Qy(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function S_(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function uE(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Xy,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,Qy,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,S_,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.name=b)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.email=b)}),r.k0s()(),r.j41(31,"div",37)(32,"label",44),r.EFF(33,"Message "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const L=r.XpG(2);return r.Njj(L.formData.message=b)}),r.k0s()(),r.j41(37,"button",59),r.EFF(38,"Send"),r.k0s()()()(),r.j41(39,"div",50)(40,"div",60)(41,"div")(42,"h2"),r.EFF(43,"Visitation Hours"),r.k0s(),r.nrm(44,"div",24),r.k0s()(),r.j41(45,"div",64),r.nrm(46,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,14,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.LHq("",null==a.location?null:a.location.street,", ",null==a.location?null:a.location.city,", ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Jy(g,c){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Lp,79,24,"ng-container",2),r.DNE(3,rm,60,17,"ng-container",2),r.DNE(4,sm,60,17,"ng-container",2),r.DNE(5,Ky,57,18,"ng-container",2),r.DNE(6,Yy,53,18,"ng-container",2),r.DNE(7,uE,47,16,"ng-container",3),r.k0s(),r.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),r.EFF(13),r.k0s(),r.nrm(14,"button",9),r.k0s(),r.j41(15,"div",10),r.EFF(16),r.k0s(),r.j41(17,"div",11)(18,"button",12),r.EFF(19," Close "),r.k0s()()()()()()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(7),r.JRh(a.modalTitle),r.R7$(3),r.SpI(" ",a.modalMessage," ")}}let uh=(()=>{class g{constructor(a,p,b,L,G,se,_e,$e){this.sanitizer=a,this.businessDataService=p,this.webContent=b,this.route=L,this.http=G,this.emailService=se,this.router=_e,this.metaService=$e,this.business=null,this.location=null,this.layoutType="demo",this.formData={name:"",email:"",phone:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.location?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.location?.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{a&&(this.business=a,this.businessDataService.getLocations().subscribe(p=>{p.length>0?(this.location=p[0],console.log("\u{1f4cd} Updated Location [0]:",this.location)):(console.warn("\u26a0\ufe0f No locations available."),this.location=null)}),a?.id&&(this.metaService.loadAndApplyMeta(a.id),this.layoutType=a.theme?.themeType||"demo"))})}ngAfterViewInit(){setTimeout(()=>{const a=document.getElementById("responseModal");a?this.responseModal=new ua(a):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(a=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},a=>{console.error("Error sending email",a),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(a){const p=a.split(".");return p.length>2?p.slice(-2).join("."):a}get formattedAddress(){return[this.location?.street,this.location?.city,this.location?.state,this.location?.zipcode].filter(a=>a).join(" ")}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ce.up),r.rXU(Mt.A),r.rXU(Un.N),r.rXU(cr.nX),r.rXU(xe),r.rXU(tm),r.rXU(cr.Ix),r.rXU(lt.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","id","phone","required","","name","phone","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["type","phone","id","phone","required","","name","phone","placeholder","Phone","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],["type","submit",1,"btn"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(p,b){1&p&&r.DNE(0,Jy,20,8,"div",0),2&p&&r.Y8G("ngIf",b.business)},dependencies:[he.bT,he.ux,he.e1,he.fG,vi.qT,vi.me,vi.BC,vi.cb,vi.YS,vi.vS,vi.cV,b_,fr,T_.a,I_.C,yf],styles:[".source-indicator[_ngcontent-%COMP%]{font-size:12px;color:#777;font-style:italic;margin-top:2px;display:block}"]})}}return g})();var ed=V(467);const am=["dynamicContainer"],lm=["ctaContainer"];function jp(g,c){1&g&&(r.qex(0),r.j41(1,"div",10)(2,"div",11)(3,"h1"),r.EFF(4,"Our Home"),r.k0s(),r.j41(5,"div",12)(6,"p"),r.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),r.k0s()()()(),r.bVm())}function dh(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","sb"))}function ui(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","ae"))}function cm(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function um(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function tu(g,c){if(1&g){const a=r.RV6();r.j41(0,"div",14),r.bIt("click",function(){const L=r.eBV(a).$implicit,G=r.XpG(2);return r.Njj(G.onImageClick(L.url))}),r.nrm(1,"img",15),r.k0s()}if(2&g){const a=c.$implicit;r.R7$(1),r.Y8G("src",a.url,r.B4B)}}function Zy(g,c){if(1&g&&(r.j41(0,"div")(1,"div",2),r.DNE(2,jp,8,0,"ng-container",3),r.DNE(3,dh,2,1,"ng-container",3),r.DNE(4,ui,2,1,"ng-container",3),r.DNE(5,cm,2,1,"ng-container",3),r.DNE(6,um,2,1,"ng-container",3),r.k0s(),r.eu8(7,null,4),r.j41(9,"section",5)(10,"div",6)(11,"h2"),r.EFF(12,"Explore Our Gallery"),r.k0s()(),r.j41(13,"div",7),r.DNE(14,tu,2,1,"div",8),r.k0s()(),r.eu8(15,null,9),r.k0s()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(8),r.Y8G("ngForOf",a.images)}}function ao(g,c){if(1&g){const a=r.RV6();r.j41(0,"div",16),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.onCloseModal())}),r.j41(1,"div",17),r.bIt("click",function(b){return b.stopPropagation()}),r.j41(2,"button",18),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.onCloseModal())}),r.EFF(3,"\xd7"),r.k0s(),r.nrm(4,"img",19),r.k0s()()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("src",a.selectedImageUrl,r.B4B)}}let Us=(()=>{class g{constructor(a,p,b,L,G,se,_e,$e){this.businessDataService=a,this.route=p,this.webContent=b,this.metaService=L,this.router=G,this.sectionService=se,this.resolver=_e,this.injector=$e,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Ni.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:sr.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.layoutType=a?.theme.themeType||"",a?.id&&(this.businessId=a.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(a=>{a&&0!==a.length?(this.sections=a.filter(p=>!1!==p.isActive).sort((p,b)=>(p.order||0)-(b.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(p=>"cta"!==p.component).forEach(p=>{this.createDynamicComponent(p,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const a=this.sections.find(p=>"cta"===p.component);a?this.createDynamicComponent(a,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(a,p){const b=this.componentsMap[a.component];if(!b)return void console.error("\u274c Component Not Found:",a.component);const L=this.resolver.resolveComponentFactory(b),G=p.createComponent(L,void 0,this.injector);Object.assign(G.instance,{title:this.applyReplaceKeyword(a.sectionTitle||""),subTitle:this.applyReplaceKeyword(a.sectionSubTitle||""),content:this.applyReplaceKeyword(a.sectionContent||""),imageURL:a.sectionImageUrl||"",showBtn:a.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!a.sectionImageUrl,themeType:this.business?.theme?.themeType,items:a.items||[],isMinimal:a.isMinimal||!1,isParallax:a.isParallax??!0,backgroundColor:a.backgroundColor||"#ffffff",textColor:a.textColor||"#000000",titleColor:a.titleColor||"#000000",subtitleColor:a.subtitleColor||"#000000",fullWidth:a.fullWidth||!1,showButton:a.showButton||!1,buttonText:a.buttonText||"Learn More",buttonLink:a.buttonLink||"",titleFontSize:a.titleFontSize||"36",subtitleFontSize:a.subtitleFontSize||"14",alignText:a.alignText||"left",boxShadow:a.boxShadow||!1,borderRadius:a.borderRadius??10,page:a.page,location:a.location})}applyReplaceKeyword(a){return a&&this.business?.businessName?a.replace(/{{\s*businessName\s*}}/g,this.business.businessName):a}loadImages(){var a=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:b,target:L})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,b).pipe((0,ne.n)(G=>{const se=G.map(function(){var _e=(0,ed.A)(function*($e){return(yield a.webContent.checkImageExists($e.url))?$e:null});return function($e){return _e.apply(this,arguments)}}());return(0,me.H)(Promise.all(se))}),(0,Me.T)(G=>G.filter(se=>null!==se)),(0,Me.T)(G=>G.map(se=>({url:se.url,title:se.title||"No Title",description:se.description||"No Description",link:se.link||"No Link",order:isNaN(Number(se.order))?999:Number(se.order)})).sort((se,_e)=>se.order-_e.order))).subscribe(G=>{this[L]||(this[L]=[]),this[L]=G})})}onImageClick(a){this.selectedImageUrl=a}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(a){this.router.navigate(["/contact-us"],{queryParams:{id:a}})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Mt.A),r.rXU(cr.nX),r.rXU(Un.N),r.rXU(lt.R),r.rXU(cr.Ix),r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-photo-gallery"]],viewQuery:function(p,b){if(1&p&&(r.GBs(am,5,r.c1b),r.GBs(lm,5,r.c1b)),2&p){let L;r.mGM(L=r.lsd())&&(b.container=L.first),r.mGM(L=r.lsd())&&(b.ctaContainer=L.first)}},inputs:{businessId:"businessId"},decls:2,vars:2,consts:[[4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[1,"image-modal",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Image",3,"src"]],template:function(p,b){1&p&&(r.DNE(0,Zy,17,7,"div",0),r.DNE(1,ao,5,1,"div",1)),2&p&&(r.Y8G("ngIf",b.business),r.R7$(1),r.Y8G("ngIf",b.selectedImageUrl))},dependencies:[he.Sq,he.bT,he.ux,he.e1,fr],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%], .ae-gallery-item[_ngcontent-%COMP%]{overflow:visible!important;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;height:200px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover;object-position:top;overflow:hidden;display:block;border-radius:8px}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{border-radius:8px;padding:40px 120px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block;position:relative;z-index:1}.image-info[_ngcontent-%COMP%]{position:relative;z-index:2}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.image-info[_ngcontent-%COMP%]{color:#000;background:rgba(255,255,255,.8);padding:10px;text-align:center;width:100%}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:1rem;border-radius:10px;max-width:90%;max-height:90%;box-shadow:0 0 20px #0000004d;overflow:hidden;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;border-radius:6px}.close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;font-size:2rem;color:#333;cursor:pointer;font-weight:700;line-height:1;z-index:1001}.close-btn[_ngcontent-%COMP%]:hover{color:#000}"]})}}return g})();var Aa=V(4796);function R_(g,c){if(1&g&&(r.j41(0,"div",11),r.EFF(1),r.k0s()),2&g){const a=r.XpG();r.R7$(1),r.JRh(a.errorMessage)}}let dm=(()=>{class g{constructor(a,p){this.authService=a,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(a=>{this.errorMessage=a.message})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Aa.u),r.rXU(cr.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(p,b){1&p&&(r.j41(0,"div",0)(1,"div",1)(2,"h2",2),r.EFF(3,"Login"),r.k0s(),r.j41(4,"form",3),r.bIt("submit",function(){return b.login()}),r.j41(5,"div",4)(6,"label",5),r.EFF(7,"Email"),r.k0s(),r.j41(8,"input",6),r.bIt("ngModelChange",function(G){return b.email=G}),r.k0s()(),r.j41(9,"div",4)(10,"label",7),r.EFF(11,"Password"),r.k0s(),r.j41(12,"input",8),r.bIt("ngModelChange",function(G){return b.password=G}),r.k0s()(),r.j41(13,"button",9),r.EFF(14,"Login"),r.k0s(),r.DNE(15,R_,2,1,"div",10),r.k0s()()()),2&p&&(r.R7$(8),r.Y8G("ngModel",b.email),r.R7$(4),r.Y8G("ngModel",b.password),r.R7$(3),r.Y8G("ngIf",b.errorMessage))},dependencies:[he.bT,vi.qT,vi.me,vi.BC,vi.cb,vi.YS,vi.vS,vi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return g})();var _c=V(6340);let ev=(()=>{class g{constructor(a){this.afs=a,this.basePath="businesses"}saveIntakeForm(a,p){const b=this.afs.createId(),L=this.afs.collection(`${this.basePath}/${p}/intake`).doc(b);return new Te.c(G=>{L.set(a).then(()=>{G.next(a),G.complete()}).catch(se=>{console.error("Error saving intake form data",se),G.error(se)})})}getIntakeForms(a){return this.afs.collection(`${this.basePath}/${a}/intake`).snapshotChanges().pipe((0,Me.T)(p=>p.map(b=>{const L=b.payload.doc.data();return{id:b.payload.doc.id,...L}})))}getIntakeForm(a,p){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(p).valueChanges().pipe((0,Me.T)(b=>b||void 0))}updateIntakeForm(a,p,b){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(p).update(b)}deleteIntakeForm(a,p){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(p).delete()}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(_c.Qe))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function Ef(g,c){if(1&g){const a=r.RV6();r.j41(0,"div"),r.nrm(1,"app-hero",1),r.j41(2,"form",2),r.bIt("ngSubmit",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.onSubmit())}),r.j41(3,"div",3)(4,"h2"),r.EFF(5,"Personal Information"),r.k0s(),r.j41(6,"label",4),r.EFF(7,"Name *"),r.k0s(),r.nrm(8,"input",5),r.j41(9,"label",6),r.EFF(10,"Email *"),r.k0s(),r.nrm(11,"input",7),r.j41(12,"label",8),r.EFF(13,"Phone number *"),r.k0s(),r.nrm(14,"input",9),r.k0s(),r.j41(15,"div",3)(16,"h2"),r.EFF(17,"Referral Source"),r.k0s(),r.j41(18,"label",10),r.EFF(19,"How did you find out about us? *"),r.k0s(),r.j41(20,"select",11)(21,"option",12),r.EFF(22,"Google"),r.k0s(),r.j41(23,"option",13),r.EFF(24,"Facebook"),r.k0s(),r.j41(25,"option",14),r.EFF(26,"Placement Agency"),r.k0s(),r.j41(27,"option",15),r.EFF(28,"Friends and/or Family"),r.k0s(),r.j41(29,"option",16),r.EFF(30,"Other"),r.k0s()(),r.j41(31,"label",17),r.EFF(32,"What is your relation to the resident? *"),r.k0s(),r.nrm(33,"input",18),r.k0s(),r.j41(34,"div",3)(35,"h2"),r.EFF(36,"Resident Information"),r.k0s(),r.j41(37,"label",19),r.EFF(38,"Resident's name *"),r.k0s(),r.nrm(39,"input",20),r.j41(40,"label",21),r.EFF(41,"Age *"),r.k0s(),r.nrm(42,"input",22),r.j41(43,"label",23),r.EFF(44,"Gender *"),r.k0s(),r.j41(45,"select",24)(46,"option",25),r.EFF(47,"Male"),r.k0s(),r.j41(48,"option",26),r.EFF(49,"Female"),r.k0s(),r.j41(50,"option",27),r.EFF(51,"Prefer not to say"),r.k0s(),r.j41(52,"option",16),r.EFF(53,"Other"),r.k0s()()(),r.j41(54,"div",3)(55,"h2"),r.EFF(56,"Medical History"),r.k0s(),r.j41(57,"label",28),r.EFF(58,"Relevant medical and surgical history *"),r.k0s(),r.nrm(59,"textarea",29),r.j41(60,"label",30),r.EFF(61,"Height *"),r.k0s(),r.nrm(62,"input",31),r.j41(63,"label",32),r.EFF(64,"Weight *"),r.k0s(),r.nrm(65,"input",33),r.j41(66,"label",34),r.EFF(67,"Reason for moving to an adult family home *"),r.k0s(),r.nrm(68,"textarea",35),r.j41(69,"label",36),r.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),r.k0s(),r.j41(71,"select",37)(72,"option",38),r.EFF(73,"Yes"),r.k0s(),r.j41(74,"option",39),r.EFF(75,"No"),r.k0s()()(),r.j41(76,"div",3)(77,"h2"),r.EFF(78,"Care Levels"),r.k0s(),r.j41(79,"label",40),r.EFF(80,"Eating *"),r.k0s(),r.j41(81,"select",41)(82,"option",42),r.EFF(83,"Independent"),r.k0s(),r.j41(84,"option",43),r.EFF(85,"Needing Assistance"),r.k0s(),r.j41(86,"option",44),r.EFF(87,"Dependent"),r.k0s()(),r.j41(88,"label",45),r.EFF(89,"Personal Hygiene *"),r.k0s(),r.j41(90,"select",46)(91,"option",42),r.EFF(92,"Independent"),r.k0s(),r.j41(93,"option",43),r.EFF(94,"Needing Assistance"),r.k0s(),r.j41(95,"option",44),r.EFF(96,"Dependent"),r.k0s()(),r.j41(97,"label",47),r.EFF(98,"Bathing *"),r.k0s(),r.j41(99,"select",48)(100,"option",42),r.EFF(101,"Independent"),r.k0s(),r.j41(102,"option",43),r.EFF(103,"Needing Assistance"),r.k0s(),r.j41(104,"option",44),r.EFF(105,"Dependent"),r.k0s()(),r.j41(106,"label",49),r.EFF(107,"Toileting *"),r.k0s(),r.j41(108,"select",50)(109,"option",42),r.EFF(110,"Independent"),r.k0s(),r.j41(111,"option",43),r.EFF(112,"Needing Assistance"),r.k0s(),r.j41(113,"option",44),r.EFF(114,"Dependent"),r.k0s()(),r.j41(115,"label",51),r.EFF(116,"Mobility *"),r.k0s(),r.j41(117,"select",52)(118,"option",42),r.EFF(119,"Independent"),r.k0s(),r.j41(120,"option",43),r.EFF(121,"Needing Assistance"),r.k0s(),r.j41(122,"option",44),r.EFF(123,"Dependent"),r.k0s()(),r.j41(124,"label",53),r.EFF(125,"Transfers *"),r.k0s(),r.j41(126,"select",54)(127,"option",42),r.EFF(128,"Independent"),r.k0s(),r.j41(129,"option",43),r.EFF(130,"Needing Assistance"),r.k0s(),r.j41(131,"option",44),r.EFF(132,"Dependent"),r.k0s()(),r.j41(133,"label",55),r.EFF(134,"Medication Assistance *"),r.k0s(),r.j41(135,"select",56)(136,"option",38),r.EFF(137,"Yes"),r.k0s(),r.j41(138,"option",39),r.EFF(139,"No"),r.k0s()()(),r.j41(140,"div",3)(141,"h2"),r.EFF(142,"Other Medical Information"),r.k0s(),r.j41(143,"label",57),r.EFF(144,"Memory Issues *"),r.k0s(),r.j41(145,"select",58)(146,"option",38),r.EFF(147,"Yes"),r.k0s(),r.j41(148,"option",39),r.EFF(149,"No"),r.k0s()(),r.j41(150,"label",59),r.EFF(151,"Behavior"),r.k0s(),r.nrm(152,"textarea",60),r.j41(153,"label",61),r.EFF(154,"Skin Condition"),r.k0s(),r.nrm(155,"textarea",62),r.j41(156,"label",63),r.EFF(157,"Other information you want us to know"),r.k0s(),r.nrm(158,"textarea",64),r.k0s(),r.j41(159,"div",3)(160,"h2"),r.EFF(161,"Living Situation"),r.k0s(),r.j41(162,"label",65),r.EFF(163,"Current living situation *"),r.k0s(),r.j41(164,"select",66)(165,"option",67),r.EFF(166,"Own Home"),r.k0s(),r.j41(167,"option",68),r.EFF(168,"Relative's Home"),r.k0s(),r.j41(169,"option",69),r.EFF(170,"Hospital"),r.k0s(),r.j41(171,"option",70),r.EFF(172,"Adult Family Home"),r.k0s(),r.j41(173,"option",71),r.EFF(174,"Senior Living"),r.k0s(),r.j41(175,"option",16),r.EFF(176,"Other"),r.k0s()()(),r.j41(177,"div",3)(178,"label",72),r.EFF(179,"Target move in date *"),r.k0s(),r.nrm(180,"input",73),r.k0s(),r.j41(181,"div",3)(182,"label",74),r.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),r.k0s(),r.j41(184,"select",75)(185,"option",38),r.EFF(186,"Yes"),r.k0s(),r.j41(187,"option",39),r.EFF(188,"No"),r.k0s()()(),r.j41(189,"div",3)(190,"label",76),r.EFF(191,"Do you have any questions for us?"),r.k0s(),r.nrm(192,"textarea",77),r.k0s(),r.j41(193,"button",78),r.EFF(194,"Submit"),r.k0s()()()}if(2&g){const a=r.XpG();r.R7$(1),r.Y8G("layoutType",a.business.theme.themeType),r.R7$(1),r.Y8G("formGroup",a.intakeForm),r.R7$(191),r.Y8G("disabled",a.intakeForm.invalid)}}let bf=(()=>{class g{constructor(a,p,b,L,G){this.fb=a,this.intakeService=p,this.businessDataService=b,this.emailService=L,this.metaService=G,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",vi.k0.required],email:["",[vi.k0.required,vi.k0.email]],phoneNumber:["",vi.k0.required],referralSource:["",vi.k0.required],relationToResident:[""],residentName:["",vi.k0.required],age:["",vi.k0.required],gender:["",vi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const a=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(a,this.businessId).subscribe(b=>{console.log("Intake form saved successfully!",b)},b=>{console.error("Error saving intake form:",b)});const p={name:a.name,email:a.email,message:this.generateEmailMessage(a),website:window.location.hostname};this.emailService.sendEmail(p).subscribe(b=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},b=>{console.error("Error sending email",b),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(a){return`\n      Name: ${a.name}\n      Email: ${a.email}\n      Phone Number: ${a.phoneNumber}\n      Referral Source: ${a.referralSource}\n      Relation to Resident: ${a.relationToResident}\n      Resident Name: ${a.residentName}\n      Age: ${a.age}\n      Gender: ${a.gender}\n      Medical History: ${a.medicalHistory}\n      Height: ${a.height}\n      Weight: ${a.weight}\n      Reason for Moving: ${a.reasonForMoving}\n      RN Assessment: ${a.rnAssessment}\n      Eating: ${a.eating}\n      Personal Hygiene: ${a.personalHygiene}\n      Bathing: ${a.bathing}\n      Toileting: ${a.toileting}\n      Mobility: ${a.mobility}\n      Transfers: ${a.transfers}\n      Medication Assistance: ${a.medicationAssistance}\n      Memory Issues: ${a.memoryIssues}\n      Behavior: ${a.behavior}\n      Skin Condition: ${a.skinCondition}\n      Additional Info: ${a.additionalInfo}\n      Current Living Situation: ${a.currentLivingSituation}\n      Target Move-In Date: ${a.targetMoveInDate}\n      Disclosure Summary: ${a.disclosureSummary}\n      Questions: ${a.questions}\n    `}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(vi.ok),r.rXU(ev),r.rXU(Mt.A),r.rXU(tm),r.rXU(lt.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(p,b){1&p&&r.DNE(0,Ef,195,3,"div",0),2&p&&r.Y8G("ngIf",b.business)},dependencies:[he.bT,vi.qT,vi.xH,vi.y7,vi.me,vi.Q0,vi.wz,vi.BC,vi.cb,vi.j4,vi.JD,fr],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return g})();var Bp=V(4710);function hm(g,c){if(1&g&&r.nrm(0,"img",16),2&g){const a=r.XpG().$implicit;r.FS9("alt",a.name),r.Y8G("src",a.photoURL,r.B4B)}}function $p(g,c){if(1&g&&(r.j41(0,"div",17),r.EFF(1),r.k0s()),2&g){const a=r.XpG().$implicit;r.R7$(1),r.SpI(" ",a.name.charAt(0).toUpperCase()," ")}}function Ei(g,c){1&g&&(r.j41(0,"div",18),r.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),r.k0s())}function Tf(g,c){if(1&g&&(r.j41(0,"div",6)(1,"div",7),r.DNE(2,hm,1,2,"img",8),r.DNE(3,$p,2,1,"ng-template",null,9,r.C5r),r.k0s(),r.j41(5,"blockquote",10)(6,"div",11),r.EFF(7,"\u201c"),r.k0s(),r.j41(8,"p",12),r.EFF(9),r.k0s()(),r.j41(10,"div",7)(11,"div")(12,"p",13),r.EFF(13),r.k0s(),r.j41(14,"p",14),r.EFF(15),r.k0s(),r.DNE(16,Ei,2,0,"div",15),r.k0s()()()),2&g){const a=c.$implicit,p=r.sdS(4);r.R7$(2),r.Y8G("ngIf",a.photoURL)("ngIfElse",p),r.R7$(7),r.JRh(a.quote),r.R7$(4),r.JRh(a.name),r.R7$(2),r.JRh(a.relationship),r.R7$(1),r.Y8G("ngIf",a.isGoogle)}}function fm(g,c){if(1&g&&(r.j41(0,"a",19),r.EFF(1," Leave us a Google Review "),r.k0s()),2&g){const a=r.XpG();r.Y8G("href",a.googleReviewLink,r.B4B)}}const x_=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Bs.B},{path:"about-us",component:Bi},{path:"services",component:$s},{path:"contact-us",component:uh},{path:"gallery",component:Us},{path:"login",component:dm},{path:"resident-form",component:bf},{path:"testimonials",component:(()=>{class g{constructor(a,p,b){this.businessDataService=a,this.metaService=p,this.googleMapsLoader=b,this.testimonials=[],this.themeType=null,this.business=null}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{a&&(this.business=a)}),this.loadTestimonials(),"0"!=this.business?.placeId&&this.loadGoogleReviews()}loadTestimonials(){this.businessDataService.loadBusinessData(this.business?.id||"").subscribe(a=>{if(a&&a.testimonials){const p=a.testimonials.map(b=>({...b,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...p]}})}loadGoogleReviews(){this.business?.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.business?.placeId,fields:["reviews"]},(p,b)=>{if(b===google.maps.places.PlacesServiceStatus.OK){const L=p?.reviews?.map(G=>({name:G.author_name,quote:G.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...L,...this.testimonials]}else console.error("Error fetching Google reviews:",b)})}):console.error("Place ID is required to fetch Google reviews.")}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.business?.placeId}`}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Mt.A),r.rXU(lt.R),r.rXU(Bp.L))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-testimonials-list"]],decls:9,vars:2,consts:[[1,"testimonial-section"],[1,"section-title"],[1,"section-description"],[1,"testimonial-grid"],["class","testimonial-card",4,"ngFor","ngForOf"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"testimonial-card"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"testimonial-quote"],[1,"quote-icon"],[1,"quote-text"],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"google-stars"],["target","_blank",1,"afhBtn",3,"href"]],template:function(p,b){1&p&&(r.nrm(0,"app-hero"),r.j41(1,"div",0)(2,"h1",1),r.EFF(3,"What Clients Say"),r.k0s(),r.j41(4,"p",2),r.EFF(5," We place huge value on strong relationships and have seen the benefit they bring to our business. Customer feedback is vital in helping us to get it right. "),r.k0s(),r.j41(6,"div",3),r.DNE(7,Tf,17,6,"div",4),r.k0s(),r.DNE(8,fm,2,1,"a",5),r.k0s()),2&p&&(r.R7$(7),r.Y8G("ngForOf",b.testimonials),r.R7$(1),r.Y8G("ngIf","0"!=(null==b.business?null:b.business.placeId)))},dependencies:[he.Sq,he.bT,fr],styles:['.testimonial-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:80px 20px;text-align:center;background-color:var(--background-color)}.section-subtitle[_ngcontent-%COMP%]{letter-spacing:1px}.section-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-top:10px}.section-description[_ngcontent-%COMP%]{font-size:16px;color:#444;max-width:700px;margin:20px auto 40px;line-height:1.6}.testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:32px}.testimonial-grid[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.testimonial-card[_ngcontent-%COMP%]{background-color:#f7f7f7;border-radius:16px;padding:30px 20px;box-shadow:0 4px 12px #0000000d;transition:box-shadow .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;border-radius:50%;overflow:hidden;border:4px solid #fff;box-shadow:0 2px 6px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:#333;font-size:15px;position:relative;padding:0 20px;font-size:.9rem}.testimonial-quote[_ngcontent-%COMP%]:before{content:"";font-size:28px;color:#999;position:absolute;left:10px;top:-10px}.testimonial-author[_ngcontent-%COMP%]{margin-top:20px}.author-name[_ngcontent-%COMP%]{font-weight:700;color:var(--dark-background-color);margin-bottom:4px}.author-role[_ngcontent-%COMP%]{color:#777;font-size:14px}']})}}return g})()},{path:"faq",component:I_.C},{path:"location",component:(()=>{class g{constructor(a,p,b){this.route=a,this.businessDataService=p,this.googleMapsLoader=b,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null}ngOnInit(){this.route.queryParams.subscribe(a=>{this.locationIndex=Number(a.locationIndex),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,ne.n)(p=>p?this.businessDataService.loadBusinessData(p):[])).subscribe(p=>{p&&(this.business=p,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,ne.n)(a=>a?this.businessDataService.loadBusinessData(a):[])).subscribe(a=>{a?(console.log("\u2705 Business Data Loaded:",a),this.business=a,this.layoutType=a.theme?.themeType,this.businessDataService.getLocations().subscribe(p=>{p&&this.locationIndex<p.length?(this.location=p[this.locationIndex],this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",p.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(a=>{console.error("Error loading Google Maps script:",a)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(a){this.geocoder.geocode({address:a},(p,b)=>{"OK"===b?(this.map.setCenter(p[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:p[0].geometry.location})):console.error("Geocode was not successful: "+b)})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(cr.nX),r.rXU(Mt.A),r.rXU(Bp.L))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-location-page"]],decls:43,vars:17,consts:[[3,"layoutType"],[1,"location-page-container",2,"text-align","left"],[1,"row"],[1,"col"],["data-item","block-link",1,"map--open-maps-link"],["target","_blank","rel","noreferrer","aria-label","Open in maps",3,"href"],[1,"map-hours"],[3,"href","title"],["href","/contact-us","title","#book-online"],[3,"src"],["id","map",1,"map-container"]],template:function(p,b){1&p&&(r.nrm(0,"app-hero",0),r.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),r.EFF(5),r.k0s(),r.j41(6,"p")(7,"strong"),r.EFF(8,"Address:"),r.k0s(),r.EFF(9),r.k0s(),r.j41(10,"p")(11,"strong"),r.EFF(12,"Email:"),r.k0s(),r.EFF(13),r.k0s(),r.j41(14,"p")(15,"strong"),r.EFF(16,"Phone:"),r.k0s(),r.EFF(17),r.k0s(),r.j41(18,"p")(19,"strong"),r.EFF(20,"Fax:"),r.k0s(),r.EFF(21),r.k0s(),r.j41(22,"div",4)(23,"a",5),r.EFF(24," Open in maps "),r.k0s()(),r.j41(25,"div",6)(26,"p"),r.EFF(27,"Monday - Friday"),r.nrm(28,"br"),r.EFF(29,"9am - 5pm"),r.nrm(30,"br")(31,"br"),r.EFF(32,"Call to schedule an appointment "),r.j41(33,"a",7),r.EFF(34),r.k0s(),r.EFF(35),r.j41(36,"a",8),r.EFF(37,"book online!"),r.k0s()()()(),r.j41(38,"div",3),r.nrm(39,"img",9),r.k0s()(),r.j41(40,"div",2)(41,"div",3),r.nrm(42,"div",10),r.k0s()()()),2&p&&(r.Y8G("layoutType","prestige"),r.R7$(5),r.JRh((null==b.location?null:b.location.locationName)||"Location"),r.R7$(4),r.LHq(" ",null==b.location?null:b.location.street,", ",null==b.location?null:b.location.city,", ",null==b.location?null:b.location.state," ",null==b.location?null:b.location.zipcode," "),r.R7$(4),r.SpI(" ",null==b.location?null:b.location.email,""),r.R7$(4),r.SpI(" ",null==b.location?null:b.location.phone,""),r.R7$(4),r.SpI(" ",null==b.location?null:b.location.fax,""),r.R7$(2),r.yjJ("href","https://google.com/maps/place/'",b.location.street,"+",b.location.city,"+",b.location.zipcode,"'",r.B4B),r.R7$(10),r.Mz_("href","tel:",null==b.location?null:b.location.phone,"",r.B4B)("title","tel:",null==b.location?null:b.location.phone,""),r.R7$(1),r.SpI("",null==b.location?null:b.location.phone,","),r.R7$(1),r.SpI(" text us at: ",null==b.location?null:b.location.phone," or "),r.R7$(4),r.FS9("src",null==b.location?null:b.location.image,r.B4B))},dependencies:[fr],styles:[".location-page-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.map-container[_ngcontent-%COMP%]{width:100%;height:400px;border-radius:10px;margin-top:20px}"]})}}return g})()},{path:"login",component:dm},{path:"admin",loadChildren:()=>V.e(380).then(V.bind(V,1380)).then(g=>g.AdminModule)},{path:":id",component:Bs.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let hh=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=r.$C({type:g})}static{this.\u0275inj=r.G2t({imports:[cr.iI.forRoot(x_),cr.iI]})}}return g})();var If=V(5009);function M_(g,c){if(1&g&&r.nrm(0,"img",12),2&g){const a=r.XpG();r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function tv(g,c){1&g&&(r.j41(0,"li",18),r.EFF(1,"No locations available"),r.k0s())}function pm(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",18)(1,"span",19),r.bIt("click",function(){const L=r.eBV(a).index,G=r.XpG(2);return r.Njj(G.selectLocation(L))}),r.EFF(2),r.k0s()()}if(2&g){const a=c.$implicit;r.R7$(2),r.JRh(a.locationName||"Unknown City")}}function O_(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",13)(1,"span",14),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleDropdown(0))}),r.EFF(2," Locations "),r.k0s(),r.j41(3,"ul",15),r.DNE(4,tv,2,0,"li",16),r.DNE(5,pm,3,1,"li",17),r.k0s()()}if(2&g){const a=r.XpG();r.R7$(3),r.AVh("show",0===a.expandedDropdownIndex),r.R7$(1),r.Y8G("ngIf",0===a.locations.length),r.R7$(1),r.Y8G("ngForOf",a.locations)}}function nv(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(2,"Our Home"),r.k0s()()}}function rv(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(2,"Our Work"),r.k0s()()}}function gm(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(2,"Resident Form"),r.k0s()()}}const dE=function(g){return{"clemo-shrink":g}},Cf=function(){return["/home"]},iv=function(g){return{id:g}},nu=function(g){return{"clemo-show":g}};let td=(()=>{class g{constructor(a,p,b){this.route=a,this.router=p,this.businessDataService=b,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null,this.expandedDropdownIndex=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(p=>{this.locations=p}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(a){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:p}).then(b=>{b||console.error("Navigation failed!")})}toggleDropdown(a){this.expandedDropdownIndex=this.expandedDropdownIndex===a?null:a}selectLocation(a){const p={locationIndex:a};this.businessId&&(p.id=this.businessId),this.router.navigate(["/location"],{queryParams:p}).then(b=>{b?this.closeMenu():console.error("\u274c Navigation failed!")})}toggleLocations(){this.locationsOpen=!this.locationsOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(cr.nX),r.rXU(cr.Ix),r.rXU(Mt.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-expandable-navigation"]],hostBindings:function(p,b){1&p&&r.bIt("scroll",function(){return b.onWindowScroll()},!1,r.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle",3,"click"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(p,b){1&p&&(r.j41(0,"nav",0)(1,"div",1)(2,"a",2),r.DNE(3,M_,1,1,"img",3),r.k0s(),r.j41(4,"button",4),r.bIt("click",function(){return b.toggleMenu()}),r.nrm(5,"span",5),r.k0s(),r.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),r.bIt("click",function(){return b.navigateTo("home")}),r.EFF(10,"Home"),r.k0s()(),r.DNE(11,O_,6,4,"li",10),r.j41(12,"li",8)(13,"span",9),r.bIt("click",function(){return b.navigateTo("about-us")}),r.EFF(14,"About Us"),r.k0s()(),r.j41(15,"li",8)(16,"span",9),r.bIt("click",function(){return b.navigateTo("services")}),r.EFF(17,"Services"),r.k0s()(),r.DNE(18,nv,3,0,"li",11),r.DNE(19,rv,3,0,"li",11),r.DNE(20,gm,3,0,"li",11),r.j41(21,"li",8)(22,"span",9),r.bIt("click",function(){return b.navigateTo("contact-us")}),r.EFF(23,"Contact"),r.k0s()()()()()()),2&p&&(r.Y8G("ngClass",r.eq3(9,dE,b.isShrunk)),r.R7$(2),r.Y8G("routerLink",r.lJ4(11,Cf))("queryParams",r.eq3(12,iv,b.businessId)),r.R7$(1),r.Y8G("ngIf",null==b.business?null:b.business.logoImage),r.R7$(3),r.Y8G("ngClass",r.eq3(14,nu,b.menuOpen)),r.R7$(5),r.Y8G("ngIf",b.locations.length>1),r.R7$(7),r.Y8G("ngIf","sb"!=b.layoutType),r.R7$(1),r.Y8G("ngIf","sb"==b.layoutType),r.R7$(1),r.Y8G("ngIf","sb"!=b.layoutType))},dependencies:[he.YU,he.Sq,he.bT,cr.Wk]})}}return g})();function U0(g,c){if(1&g&&r.nrm(0,"img",13),2&g){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}const Da=function(){return["/home"]},yc=function(g){return{id:g}},vc=function(g){return{"open-bar1":g}},fh=function(g){return{"open-bar2":g}},Ec=function(g){return{"open-bar3":g}},nd=function(g){return{active:g}};function Gp(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,U0,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,Da))("queryParams",r.eq3(8,yc,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,vc,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,fh,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Ec,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,nd,a.menuOpen))}}function ru(g,c){if(1&g&&r.nrm(0,"img",13),2&g){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}const wf=function(){return["/contact-us"]};function qa(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,ru,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("testimonials"))}),r.EFF(20,"Testimonials"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(22,"Contact"),r.k0s(),r.j41(23,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(24,"Resident Form"),r.k0s()(),r.j41(25,"div",4)(26,"a",5)(27,"button",15),r.EFF(28,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,Da))("queryParams",r.eq3(10,yc,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,vc,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,fh,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,Ec,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,nd,a.menuOpen)),r.R7$(16),r.Y8G("routerLink",r.lJ4(20,wf))("queryParams",r.eq3(21,yc,a.businessId))}}function ph(g,c){1&g&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function rd(g,c){1&g&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function Af(g,c){if(1&g&&r.nrm(0,"img",13),2&g){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function N_(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,Af,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,Da))("queryParams",r.eq3(8,yc,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,vc,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,fh,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Ec,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,nd,a.menuOpen))}}function Df(g,c){1&g&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function id(g,c){if(1&g&&r.nrm(0,"img",13),2&g){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function mm(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,id,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(18,"gallery"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(22,"Intake Form"),r.k0s()(),r.j41(23,"div",4)(24,"a",5)(25,"button",15),r.EFF(26,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,Da))("queryParams",r.eq3(10,yc,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,vc,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,fh,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,Ec,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,nd,a.menuOpen)),r.R7$(14),r.Y8G("routerLink",r.lJ4(20,wf))("queryParams",r.eq3(21,yc,a.businessId))}}let Hp=(()=>{class g{constructor(a,p,b){this.route=a,this.router=p,this.businessDataService=b,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}))})}navigateTo(a){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:p}).then(b=>{b||console.error("Navigation failed!")})}scrollToSection(a){const p=document.getElementById(a);p&&p.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(cr.nX),r.rXU(cr.Ix),r.rXU(Mt.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(p,b){1&p&&(r.j41(0,"div",0),r.DNE(1,Gp,21,18,"ng-container",1),r.DNE(2,qa,29,23,"ng-container",1),r.DNE(3,ph,2,0,"ng-container",1),r.DNE(4,rd,2,0,"ng-container",1),r.DNE(5,N_,21,18,"ng-container",1),r.DNE(6,Df,2,0,"ng-container",1),r.DNE(7,mm,27,23,"ng-container",1),r.k0s()),2&p&&(r.Y8G("ngSwitch",b.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","sp"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","demo"))},dependencies:[he.YU,he.bT,he.ux,he.e1,cr.Wk,td],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return g})();function _m(g,c){if(1&g&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()(),r.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),r.EFF(38,"DESIGNED BY "),r.j41(39,"a",15),r.EFF(40,"SB MEDIA HUB"),r.k0s()()(),r.j41(41,"div",16)(42,"p"),r.EFF(43," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()(),r.bVm()),2&g){const a=r.XpG();r.R7$(4),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.SpI(" ",null==a.business?null:a.business.address," "),r.R7$(3),r.SpI("Provider:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone)}}function k_(g,c){if(1&g&&(r.qex(0),r.j41(1,"footer",17)(2,"div",18)(3,"div",19),r.nrm(4,"hr",20),r.j41(5,"h2",21),r.EFF(6),r.k0s(),r.nrm(7,"hr",20),r.k0s(),r.j41(8,"div",22)(9,"div",23)(10,"h3",24),r.EFF(11,"Owner:"),r.k0s(),r.j41(12,"p"),r.EFF(13),r.k0s()(),r.j41(14,"div",23)(15,"h3",24),r.EFF(16,"Location:"),r.k0s(),r.j41(17,"p"),r.EFF(18),r.k0s()(),r.j41(19,"div",23)(20,"h3",24),r.EFF(21,"Provider:"),r.k0s(),r.j41(22,"p"),r.EFF(23),r.k0s(),r.j41(24,"p"),r.EFF(25,"Email: "),r.j41(26,"a",11),r.EFF(27),r.k0s()(),r.j41(28,"p"),r.EFF(29,"Phone: "),r.j41(30,"a",11),r.EFF(31),r.k0s()()()(),r.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),r.EFF(36,"DESIGNED BY "),r.j41(37,"a",15),r.EFF(38,"SB MEDIA HUB"),r.k0s()()(),r.j41(39,"div",16)(40,"p"),r.EFF(41),r.k0s()()()()()(),r.bVm()),2&g){const a=r.XpG();r.R7$(6),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.JRh(null==a.business?null:a.business.providerName),r.R7$(5),r.JRh(null==a.business?null:a.business.address),r.R7$(5),r.JRh(null==a.business?null:a.business.providerName),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.email),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(10),r.Lme("\xa9 ",2024," ",null==a.business?null:a.business.businessName,". All rights reserved.")}}function bc(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",29),r.EFF(8),r.k0s(),r.j41(9,"p",30),r.EFF(10),r.k0s()(),r.j41(11,"div",31)(12,"a",32),r.nrm(13,"i",33),r.k0s(),r.j41(14,"a",32),r.nrm(15,"i",34),r.k0s()(),r.j41(16,"nav",35)(17,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(26,"RESIDENT FORM"),r.k0s(),r.j41(27,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(28,"CONTACT"),r.k0s()(),r.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),r.EFF(33,"DESIGNED BY "),r.j41(34,"a",15),r.EFF(35,"SB MEDIA HUB"),r.k0s()()(),r.j41(36,"div",16)(37,"p"),r.EFF(38," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.businessName),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function ym(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",29),r.EFF(8),r.k0s(),r.j41(9,"p",30),r.EFF(10),r.k0s()(),r.j41(11,"div",31)(12,"a",32),r.nrm(13,"i",33),r.k0s(),r.j41(14,"a",32),r.nrm(15,"i",34),r.k0s()(),r.j41(16,"nav",35)(17,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(26,"RESIDENT FORM"),r.k0s(),r.j41(27,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(28,"CONTACT"),r.k0s()(),r.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),r.EFF(33,"DESIGNED BY "),r.j41(34,"a",15),r.EFF(35,"SB MEDIA HUB"),r.k0s()()(),r.j41(36,"div",16)(37,"p"),r.EFF(38," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.businessName),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function F_(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"p",29),r.EFF(6),r.k0s(),r.j41(7,"p",30),r.EFF(8),r.k0s()(),r.j41(9,"div",31)(10,"a",32),r.nrm(11,"i",33),r.k0s(),r.j41(12,"a",32),r.nrm(13,"i",34),r.k0s()(),r.j41(14,"nav",35)(15,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(16,"HOME"),r.k0s(),r.j41(17,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(18,"ABOUT US"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(20,"SERVICES"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(22,"OUR WORK"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(24,"CONTACT"),r.k0s()(),r.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),r.EFF(29,"DESIGNED BY "),r.j41(30,"a",15),r.EFF(31,"SB MEDIA HUB"),r.k0s()()(),r.j41(32,"div",16)(33,"p"),r.EFF(34," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function vm(g,c){if(1&g&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()()(),r.bVm()),2&g){const a=r.XpG();r.R7$(4),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.SpI(" ",null==a.business?null:a.business.address," "),r.R7$(3),r.SpI("Provider:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone)}}function zp(g,c){if(1&g&&(r.j41(0,"div",37)(1,"h1",38),r.EFF(2,"Debugger:"),r.k0s(),r.j41(3,"div",39)(4,"div",40)(5,"span",41),r.EFF(6,"Theme File:"),r.k0s(),r.j41(7,"span",42),r.EFF(8),r.k0s()(),r.j41(9,"div",40)(10,"span",41),r.EFF(11,"Theme Type:"),r.k0s(),r.j41(12,"span",42),r.EFF(13),r.k0s()(),r.j41(14,"div",40)(15,"span",41),r.EFF(16,"Business ID:"),r.k0s(),r.j41(17,"span",42),r.EFF(18),r.k0s()(),r.j41(19,"div",40)(20,"span",41),r.EFF(21,"Business Name:"),r.k0s(),r.j41(22,"span",42),r.EFF(23),r.k0s()()()()),2&g){const a=r.XpG();r.R7$(8),r.JRh(a.themeFileName),r.R7$(5),r.JRh(null==a.business||null==a.business.theme?null:a.business.theme.themeType),r.R7$(5),r.JRh(null==a.business?null:a.business.id),r.R7$(5),r.JRh(null==a.business?null:a.business.businessName)}}let sv=(()=>{class g{constructor(a,p,b,L,G,se){this.route=a,this.webContentService=p,this.authService=b,this.themeService=L,this.businessDataService=G,this.router=se,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(a){this.router.navigate([`/${a}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(b=>{b||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(a=>{this.business=a}),this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(p=>{p&&(this.themeFileName=p.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(cr.nX),r.rXU(Un.N),r.rXU(Aa.u),r.rXU(If.F),r.rXU(Mt.A),r.rXU(cr.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(p,b){1&p&&(r.j41(0,"div",0),r.DNE(1,_m,44,12,"ng-container",1),r.DNE(2,k_,42,10,"ng-container",1),r.DNE(3,bc,39,4,"ng-container",1),r.DNE(4,ym,39,4,"ng-container",1),r.DNE(5,F_,35,3,"ng-container",1),r.DNE(6,vm,34,12,"ng-container",2),r.k0s(),r.DNE(7,zp,24,4,"div",3),r.nI1(8,"async")),2&p&&(r.Y8G("ngSwitch",b.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(2),r.Y8G("ngIf",r.bMT(8,7,b.isAuthenticated$)))},dependencies:[he.bT,he.ux,he.e1,he.fG,he.Jj]})}}return g})(),sd=(()=>{class g{constructor(a,p,b,L,G){this.route=a,this.webContent=p,this.metaService=b,this.router=L,this.themeService=G,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(a=>{this.businessId=a.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(a=>{a&&(this.business=a)})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(cr.nX),r.rXU(Un.N),r.rXU(lt.R),r.rXU(cr.Ix),r.rXU(If.F))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-root"]],decls:3,vars:0,template:function(p,b){1&p&&r.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[cr.n3,Hp,sv]})}}return g})();const od_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Tc=V(2214),Ms=V(5407);class iu{constructor(c){return c}}class Ic{constructor(){return(0,Tc.Dk)()}}const ad=new r.nKC("angularfire2._apps"),L_={provide:iu,useFactory:function Wp(g){return g&&1===g.length?g[0]:new iu((0,Tc.Sx)())},deps:[[new r.Xx1,ad]]},Kp={provide:Ic,deps:[[new r.Xx1,ad]]};function av(g){return(c,a)=>{const p=c.runOutsideAngular(()=>g(a));return new iu(p)}}let Ul=(()=>{class g{constructor(a){(0,Tc.KO)("angularfire",Ms.xv.full,"core"),(0,Tc.KO)("angularfire",Ms.xv.full,"app"),(0,Tc.KO)("angular",r.xvI.full,a.toString())}static \u0275fac=function(p){return new(p||g)(r.KVO(r.Agw))};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[L_,Kp]})}return g})();function hE(g,...c){return{ngModule:Ul,providers:[{provide:ad,useFactory:av(g),multi:!0,deps:[r.SKi,r.zZn,Ms.u0,...c]}]}}const Sf=(0,Ms.S3)(Tc.Wp,!0);V(5504),V(7852),V(1076),V(8041),V(1362);class Qp{constructor(){return(0,Ms.CA)("auth")}}var z_=V(9583);class xf{constructor(c){return c}}const W_="firestore",_h=new r.nKC("angularfire2.firestore-instances");function d(g){return(c,a)=>{const p=c.runOutsideAngular(()=>g(a));return new xf(p)}}const e={provide:class Ur{constructor(){return(0,Ms.CA)(W_)}},deps:[[new r.Xx1,_h]]},i={provide:xf,useFactory:function Sc(g,c){const a=(0,Ms.lR)(W_,g,c);return a&&new xf(a)},deps:[[new r.Xx1,_h],iu]};let l=(()=>{class g{constructor(){(0,Tc.KO)("angularfire",Ms.xv.full,"fst")}static \u0275fac=function(p){return new(p||g)};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[i,e]})}return g})();function h(g,...c){return{ngModule:l,providers:[{provide:_h,useFactory:d(g),multi:!0,deps:[r.SKi,r.zZn,Ms.u0,Ic,[new r.Xx1,Qp],[new r.Xx1,Ms.Jv],...c]}]}}const vh=(0,Ms.S3)(z_.aU,!0);var ry=V(9253),Ff=V(8721),iy=V(1977),Zo=V(4535);class fg{constructor(c){return c}}const bh="storage",Vf=new r.nKC("angularfire2.storage-instances");function pg(g){return(c,a)=>{const p=c.runOutsideAngular(()=>g(a));return new fg(p)}}const Pv={provide:class Lf{constructor(){return(0,Ms.CA)(bh)}},deps:[[new r.Xx1,Vf]]},gg={provide:fg,useFactory:function Th(g,c){const a=(0,Ms.lR)(bh,g,c);return a&&new fg(a)},deps:[[new r.Xx1,Vf],iu]};let sy=(()=>{class g{constructor(){(0,Tc.KO)("angularfire",Ms.xv.full,"gcs")}static \u0275fac=function(p){return new(p||g)};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[gg,Pv]})}return g})();function Rm(g,...c){return{ngModule:sy,providers:[{provide:Vf,useFactory:pg(g),multi:!0,deps:[r.SKi,r.zZn,Ms.u0,Ic,[new r.Xx1,Qp],[new r.Xx1,Ms.Jv],...c]}]}}const cy=(0,Ms.S3)(Zo.c7,!0);var Io=V(3012);let cu=(()=>{class g{constructor(a,p,b){this.http=a,this.themeService=p,this.businessService=b,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(a){return new Promise((p,b)=>{this.themeService.getBusinessTheme(a).subscribe({next:L=>{this.themeService.applyThemeFile(L?L.themeFileName:"default.css").then(()=>p()).catch(se=>{console.error("Error applying theme file:",se),p()}),this.themeService.getThemeColors(a).subscribe(se=>{this.applyTheme(se),p()},se=>{console.error("Error loading theme:",se),p()})},error:L=>{console.error("Error loading business theme:",L),this.themeService.applyThemeFile("default.css").then(()=>p()).catch(G=>{console.error("Error applying default theme file:",G),p()})}})})}applyTheme(a){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",a.primaryColor),document.documentElement.style.setProperty("--secondary-color",a.secondaryColor),document.documentElement.style.setProperty("--accent-color",a.accentColor),document.documentElement.style.setProperty("--background-color",a.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",a.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",a.textColor),document.documentElement.style.setProperty("--nav-background-color",a.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",a.navTextColor),document.documentElement.style.setProperty("--nav-active-background",a.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",a.navActiveText),document.documentElement.style.setProperty("--button-color",a.buttonColor),document.documentElement.style.setProperty("--button-hover-color",a.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(a){return a.primaryColor&&a.secondaryColor&&a.accentColor&&a.backgroundColor&&a.darkBackgroundColor&&a.textColor&&a.navBackgroundColor&&a.navTextColor&&a.navActiveBackground&&a.navActiveText&&a.buttonColor&&a.buttonHoverColor}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(xe),r.KVO(If.F),r.KVO(Io.u))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var Li=V(9969);function jf(g){return new r.wOt(3e3,!1)}function Ra(g){switch(g.length){case 0:return new Li.sf;case 1:return g[0];default:return new Li.ui(g)}}function Rh(g,c,a=new Map,p=new Map){const b=[],L=[];let G=-1,se=null;if(c.forEach(_e=>{const $e=_e.get("offset"),mt=$e==G,$t=mt&&se||new Map;_e.forEach((_n,mn)=>{let vn=mn,en=_n;if("offset"!==mn)switch(vn=g.normalizePropertyName(vn,b),en){case Li.FX:en=a.get(mn);break;case Li.kp:en=p.get(mn);break;default:en=g.normalizeStyleValue(mn,vn,en,b)}$t.set(vn,en)}),mt||L.push($t),se=$t,G=$e}),b.length)throw function my(g){return new r.wOt(3502,!1)}();return L}function du(g,c,a,p){switch(c){case"start":g.onStart(()=>p(a&&Wf(a,"start",g)));break;case"done":g.onDone(()=>p(a&&Wf(a,"done",g)));break;case"destroy":g.onDestroy(()=>p(a&&Wf(a,"destroy",g)))}}function Wf(g,c,a){const L=Ds(g.element,g.triggerName,g.fromState,g.toState,c||g.phaseName,a.totalTime??g.totalTime,!!a.disabled),G=g._data;return null!=G&&(L._data=G),L}function Ds(g,c,a,p,b="",L=0,G){return{element:g,triggerName:c,fromState:a,toState:p,phaseName:b,totalTime:L,disabled:!!G}}function Pa(g,c,a){let p=g.get(c);return p||g.set(c,p=a),p}function yy(g){const c=g.indexOf(":");return[g.substring(1,c),g.slice(c+1)]}const vg=(()=>typeof document>"u"?null:document.documentElement)();function md(g){const c=g.parentNode||g.host||null;return c===vg?null:c}let Mc=null,km=!1;function _d(g,c){for(;c;){if(c===g)return!0;c=md(c)}return!1}function Lm(g,c,a){if(a)return Array.from(g.querySelectorAll(c));const p=g.querySelector(c);return p?[p]:[]}let Ph=(()=>{class g{validateStyleProperty(a){return function Oc(g){Mc||(Mc=function Lv(){return typeof document<"u"?document.body:null}()||{},km=!!Mc.style&&"WebkitAppearance"in Mc.style);let c=!0;return Mc.style&&!function Kf(g){return"ebkit"==g.substring(1,6)}(g)&&(c=g in Mc.style,!c&&km&&(c="Webkit"+g.charAt(0).toUpperCase()+g.slice(1)in Mc.style)),c}(a)}matchesElement(a,p){return!1}containsElement(a,p){return _d(a,p)}getParentElement(a){return md(a)}query(a,p,b){return Lm(a,p,b)}computeStyle(a,p,b){return b||""}animate(a,p,b,L,G,se=[],_e){return new Li.sf(b,L)}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})(),qf=(()=>{class g{static{this.NOOP=new Ph}}return g})();const Yf=1e3,yd="ng-enter",xh="ng-leave",vd="ng-trigger",hu=".ng-trigger",Eg="ng-animating",Ed=".ng-animating";function ea(g){if("number"==typeof g)return g;const c=g.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Mh(parseFloat(c[1]),c[2])}function Mh(g,c){return"s"===c?g*Yf:g}function Oh(g,c,a){return g.hasOwnProperty("duration")?g:function bd(g,c,a){let b,L=0,G="";if("string"==typeof g){const se=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===se)return c.push(jf()),{duration:0,delay:0,easing:""};b=Mh(parseFloat(se[1]),se[2]);const _e=se[3];null!=_e&&(L=Mh(parseFloat(_e),se[4]));const $e=se[5];$e&&(G=$e)}else b=g;if(!a){let se=!1,_e=c.length;b<0&&(c.push(function hd(){return new r.wOt(3100,!1)}()),se=!0),L<0&&(c.push(function Ih(){return new r.wOt(3101,!1)}()),se=!0),se&&c.splice(_e,0,jf())}return{duration:b,delay:L,easing:G}}(g,c,a)}function Nh(g,c={}){return Object.keys(g).forEach(a=>{c[a]=g[a]}),c}function Vm(g){const c=new Map;return Object.keys(g).forEach(a=>{c.set(a,g[a])}),c}function xa(g,c=new Map,a){if(a)for(let[p,b]of a)c.set(p,b);for(let[p,b]of g)c.set(p,b);return c}function Os(g,c,a){c.forEach((p,b)=>{const L=Nt(b);a&&!a.has(b)&&a.set(b,g.style[L]),g.style[L]=p})}function fu(g,c){c.forEach((a,p)=>{const b=Nt(p);g.style[b]=""})}function Fh(g){return Array.isArray(g)?1==g.length?g[0]:(0,Li.K2)(g):g}const E=new RegExp("{{\\s*(.+?)\\s*}}","g");function B(g){let c=[];if("string"==typeof g){let a;for(;a=E.exec(g);)c.push(a[1]);E.lastIndex=0}return c}function Y(g,c,a){const p=g.toString(),b=p.replace(E,(L,G)=>{let se=c[G];return null==se&&(a.push(function fd(g){return new r.wOt(3003,!1)}()),se=""),se.toString()});return b==p?g:b}function ge(g){const c=[];let a=g.next();for(;!a.done;)c.push(a.value),a=g.next();return c}const Et=/-+([a-z0-9])/g;function Nt(g){return g.replace(Et,(...c)=>c[1].toUpperCase())}function Fr(g,c,a){switch(c.type){case 7:return g.visitTrigger(c,a);case 0:return g.visitState(c,a);case 1:return g.visitTransition(c,a);case 2:return g.visitSequence(c,a);case 3:return g.visitGroup(c,a);case 4:return g.visitAnimate(c,a);case 5:return g.visitKeyframes(c,a);case 6:return g.visitStyle(c,a);case 8:return g.visitReference(c,a);case 9:return g.visitAnimateChild(c,a);case 10:return g.visitAnimateRef(c,a);case 11:return g.visitQuery(c,a);case 12:return g.visitStagger(c,a);default:throw function pd(g){return new r.wOt(3004,!1)}()}}function Co(g,c){return window.getComputedStyle(g)[c]}const Um="*";function HE(g,c){const a=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(p=>function zE(g,c,a){if(":"==g[0]){const _e=function WE(g,c){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return c.push(function Mv(g){return new r.wOt(3016,!1)}()),"* => *"}}(g,a);if("function"==typeof _e)return void c.push(_e);g=_e}const p=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function Om(g){return new r.wOt(3015,!1)}()),c;const b=p[1],L=p[2],G=p[3];c.push(Cd(b,G));"<"==L[0]&&!(b==Um&&G==Um)&&c.push(Cd(G,b))}(p,a,c)):a.push(g),a}const jm=new Set(["true","1"]),Qf=new Set(["false","0"]);function Cd(g,c){const a=jm.has(g)||Qf.has(g),p=jm.has(c)||Qf.has(c);return(b,L)=>{let G=g==Um||g==b,se=c==Um||c==L;return!G&&a&&"boolean"==typeof b&&(G=b?jm.has(g):Qf.has(g)),!se&&p&&"boolean"==typeof L&&(se=L?jm.has(c):Qf.has(c)),G&&se}}const K0=new RegExp("s*:selfs*,?","g");function Bm(g,c,a,p){return new Vv(g).build(c,a,p)}class Vv{constructor(c){this._driver=c}build(c,a,p){const b=new lT(a);return this._resetContextStyleTimingState(b),Fr(this,Fh(c),b)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,a){let p=a.queryCount=0,b=a.depCount=0;const L=[],G=[];return"@"==c.name.charAt(0)&&a.errors.push(function Ya(){return new r.wOt(3006,!1)}()),c.definitions.forEach(se=>{if(this._resetContextStyleTimingState(a),0==se.type){const _e=se,$e=_e.name;$e.toString().split(/\s*,\s*/).forEach(mt=>{_e.name=mt,L.push(this.visitState(_e,a))}),_e.name=$e}else if(1==se.type){const _e=this.visitTransition(se,a);p+=_e.queryCount,b+=_e.depCount,G.push(_e)}else a.errors.push(function ha(){return new r.wOt(3007,!1)}())}),{type:7,name:c.name,states:L,transitions:G,queryCount:p,depCount:b,options:null}}visitState(c,a){const p=this.visitStyle(c.styles,a),b=c.options&&c.options.params||null;if(p.containsDynamicStyles){const L=new Set,G=b||{};p.styles.forEach(se=>{se instanceof Map&&se.forEach(_e=>{B(_e).forEach($e=>{G.hasOwnProperty($e)||L.add($e)})})}),L.size&&(ge(L.values()),a.errors.push(function xc(g,c){return new r.wOt(3008,!1)}()))}return{type:0,name:c.name,style:p,options:b?{params:b}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const p=Fr(this,Fh(c.animation),a);return{type:1,matchers:HE(c.expr,a.errors),animation:p,queryCount:a.queryCount,depCount:a.depCount,options:Jf(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(p=>Fr(this,p,a)),options:Jf(c.options)}}visitGroup(c,a){const p=a.currentTime;let b=0;const L=c.steps.map(G=>{a.currentTime=p;const se=Fr(this,G,a);return b=Math.max(b,a.currentTime),se});return a.currentTime=b,{type:3,steps:L,options:Jf(c.options)}}visitAnimate(c,a){const p=function Y0(g,c){if(g.hasOwnProperty("duration"))return g;if("number"==typeof g)return Ty(Oh(g,c).duration,0,"");const a=g;if(a.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=Ty(0,0,"");return L.dynamic=!0,L.strValue=a,L}const b=Oh(a,c);return Ty(b.duration,b.delay,b.easing)}(c.timings,a.errors);a.currentAnimateTimings=p;let b,L=c.styles?c.styles:(0,Li.iF)({});if(5==L.type)b=this.visitKeyframes(L,a);else{let G=c.styles,se=!1;if(!G){se=!0;const $e={};p.easing&&($e.easing=p.easing),G=(0,Li.iF)($e)}a.currentTime+=p.duration+p.delay;const _e=this.visitStyle(G,a);_e.isEmptyStep=se,b=_e}return a.currentAnimateTimings=null,{type:4,timings:p,style:b,options:null}}visitStyle(c,a){const p=this._makeStyleAst(c,a);return this._validateStyleAst(p,a),p}_makeStyleAst(c,a){const p=[],b=Array.isArray(c.styles)?c.styles:[c.styles];for(let se of b)"string"==typeof se?se===Li.kp?p.push(se):a.errors.push(new r.wOt(3002,!1)):p.push(Vm(se));let L=!1,G=null;return p.forEach(se=>{if(se instanceof Map&&(se.has("easing")&&(G=se.get("easing"),se.delete("easing")),!L))for(let _e of se.values())if(_e.toString().indexOf("{{")>=0){L=!0;break}}),{type:6,styles:p,easing:G,offset:c.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(c,a){const p=a.currentAnimateTimings;let b=a.currentTime,L=a.currentTime;p&&L>0&&(L-=p.duration+p.delay),c.styles.forEach(G=>{"string"!=typeof G&&G.forEach((se,_e)=>{const $e=a.collectedStyles.get(a.currentQuerySelector),mt=$e.get(_e);let $t=!0;mt&&(L!=b&&L>=mt.startTime&&b<=mt.endTime&&(a.errors.push(function gs(g,c,a,p,b){return new r.wOt(3010,!1)}()),$t=!1),L=mt.startTime),$t&&$e.set(_e,{startTime:L,endTime:b}),a.options&&function Td(g,c,a){const p=c.params||{},b=B(g);b.length&&b.forEach(L=>{p.hasOwnProperty(L)||a.push(function Ch(g){return new r.wOt(3001,!1)}())})}(se,a.options,a.errors)})})}visitKeyframes(c,a){const p={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function $f(){return new r.wOt(3011,!1)}()),p;let L=0;const G=[];let se=!1,_e=!1,$e=0;const mt=c.steps.map(yr=>{const Pr=this._makeStyleAst(yr,a);let vr=null!=Pr.offset?Pr.offset:function cT(g){if("string"==typeof g)return null;let c=null;if(Array.isArray(g))g.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;c=parseFloat(p.get("offset")),p.delete("offset")}});else if(g instanceof Map&&g.has("offset")){const a=g;c=parseFloat(a.get("offset")),a.delete("offset")}return c}(Pr.styles),ir=0;return null!=vr&&(L++,ir=Pr.offset=vr),_e=_e||ir<0||ir>1,se=se||ir<$e,$e=ir,G.push(ir),Pr});_e&&a.errors.push(function Ah(){return new r.wOt(3012,!1)}()),se&&a.errors.push(function Dh(){return new r.wOt(3200,!1)}());const $t=c.steps.length;let _n=0;L>0&&L<$t?a.errors.push(function py(){return new r.wOt(3202,!1)}()):0==L&&(_n=1/($t-1));const mn=$t-1,vn=a.currentTime,en=a.currentAnimateTimings,An=en.duration;return mt.forEach((yr,Pr)=>{const vr=_n>0?Pr==mn?1:_n*Pr:G[Pr],ir=vr*An;a.currentTime=vn+en.delay+ir,en.duration=ir,this._validateStyleAst(yr,a),yr.offset=vr,p.styles.push(yr)}),p}visitReference(c,a){return{type:8,animation:Fr(this,Fh(c.animation),a),options:Jf(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:Jf(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:Jf(c.options)}}visitQuery(c,a){const p=a.currentQuerySelector,b=c.options||{};a.queryCount++,a.currentQuery=c;const[L,G]=function q0(g){const c=!!g.split(/\s*,\s*/).find(a=>":self"==a);return c&&(g=g.replace(K0,"")),g=g.replace(/@\*/g,hu).replace(/@\w+/g,a=>hu+"-"+a.slice(1)).replace(/:animating/g,Ed),[g,c]}(c.selector);a.currentQuerySelector=p.length?p+" "+L:L,Pa(a.collectedStyles,a.currentQuerySelector,new Map);const se=Fr(this,Fh(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:11,selector:L,limit:b.limit||0,optional:!!b.optional,includeSelf:G,animation:se,originalSelector:c.selector,options:Jf(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function Mm(){return new r.wOt(3013,!1)}());const p="full"===c.timings?{duration:0,delay:0,easing:"full"}:Oh(c.timings,a.errors,!0);return{type:12,animation:Fr(this,Fh(c.animation),a),timings:p,options:null}}}class lT{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jf(g){return g?(g=Nh(g)).params&&(g.params=function Uv(g){return g?Nh(g):null}(g.params)):g={},g}function Ty(g,c,a){return{duration:g,delay:c,easing:a}}function jv(g,c,a,p,b,L,G=null,se=!1){return{type:1,element:g,keyframes:c,preStyleProps:a,postStyleProps:p,duration:b,delay:L,totalTime:b+L,easing:G,subTimeline:se}}class no{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let p=this._map.get(c);p||this._map.set(c,p=[]),p.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Q0=new RegExp(":enter","g"),J0=new RegExp(":leave","g");function Iy(g,c,a,p,b,L=new Map,G=new Map,se,_e,$e=[]){return(new XE).buildKeyframes(g,c,a,p,b,L,G,se,_e,$e)}class XE{buildKeyframes(c,a,p,b,L,G,se,_e,$e,mt=[]){$e=$e||new no;const $t=new Bv(c,a,$e,b,L,mt,[]);$t.options=_e;const _n=_e.delay?ea(_e.delay):0;$t.currentTimeline.delayNextStep(_n),$t.currentTimeline.setStyles([G],null,$t.errors,_e),Fr(this,p,$t);const mn=$t.timelines.filter(vn=>vn.containsAnimation());if(mn.length&&se.size){let vn;for(let en=mn.length-1;en>=0;en--){const An=mn[en];if(An.element===a){vn=An;break}}vn&&!vn.allowOnlyTimelineStyles()&&vn.setStyles([se],null,$t.errors,_e)}return mn.length?mn.map(vn=>vn.buildKeyframes()):[jv(a,[],[],[],0,_n,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const p=a.subInstructions.get(a.element);if(p){const b=a.createSubContext(c.options),L=a.currentTimeline.currentTime,G=this._visitSubInstructions(p,b,b.options);L!=G&&a.transformIntoNewTimeline(G)}a.previousNode=c}visitAnimateRef(c,a){const p=a.createSubContext(c.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],a,p),this.visitReference(c.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=c}_applyAnimationRefDelays(c,a,p){for(const b of c){const L=b?.delay;if(L){const G="number"==typeof L?L:ea(Y(L,b?.params??{},a.errors));p.delayNextStep(G)}}}_visitSubInstructions(c,a,p){let L=a.currentTimeline.currentTime;const G=null!=p.duration?ea(p.duration):null,se=null!=p.delay?ea(p.delay):null;return 0!==G&&c.forEach(_e=>{const $e=a.appendInstructionToTimeline(_e,G,se);L=Math.max(L,$e.duration+$e.delay)}),L}visitReference(c,a){a.updateOptions(c.options,!0),Fr(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const p=a.subContextCount;let b=a;const L=c.options;if(L&&(L.params||L.delay)&&(b=a.createSubContext(L),b.transformIntoNewTimeline(),null!=L.delay)){6==b.previousNode.type&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=wd);const G=ea(L.delay);b.delayNextStep(G)}c.steps.length&&(c.steps.forEach(G=>Fr(this,G,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>p&&b.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const p=[];let b=a.currentTimeline.currentTime;const L=c.options&&c.options.delay?ea(c.options.delay):0;c.steps.forEach(G=>{const se=a.createSubContext(c.options);L&&se.delayNextStep(L),Fr(this,G,se),b=Math.max(b,se.currentTimeline.currentTime),p.push(se.currentTimeline)}),p.forEach(G=>a.currentTimeline.mergeTimelineCollectedStyles(G)),a.transformIntoNewTimeline(b),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const p=c.strValue;return Oh(a.params?Y(p,a.params,a.errors):p,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const p=a.currentAnimateTimings=this._visitTiming(c.timings,a),b=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),b.snapshotCurrentStyles());const L=c.style;5==L.type?this.visitKeyframes(L,a):(a.incrementTime(p.duration),this.visitStyle(L,a),b.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const p=a.currentTimeline,b=a.currentAnimateTimings;!b&&p.hasCurrentStyleProperties()&&p.forwardFrame();const L=b&&b.easing||c.easing;c.isEmptyStep?p.applyEmptyStep(L):p.setStyles(c.styles,L,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const p=a.currentAnimateTimings,b=a.currentTimeline.duration,L=p.duration,se=a.createSubContext().currentTimeline;se.easing=p.easing,c.styles.forEach(_e=>{se.forwardTime((_e.offset||0)*L),se.setStyles(_e.styles,_e.easing,a.errors,a.options),se.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(se),a.transformIntoNewTimeline(b+L),a.previousNode=c}visitQuery(c,a){const p=a.currentTimeline.currentTime,b=c.options||{},L=b.delay?ea(b.delay):0;L&&(6===a.previousNode.type||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=wd);let G=p;const se=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!b.optional,a.errors);a.currentQueryTotal=se.length;let _e=null;se.forEach(($e,mt)=>{a.currentQueryIndex=mt;const $t=a.createSubContext(c.options,$e);L&&$t.delayNextStep(L),$e===a.element&&(_e=$t.currentTimeline),Fr(this,c.animation,$t),$t.currentTimeline.applyStylesToKeyframe(),G=Math.max(G,$t.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(G),_e&&(a.currentTimeline.mergeTimelineCollectedStyles(_e),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const p=a.parentContext,b=a.currentTimeline,L=c.timings,G=Math.abs(L.duration),se=G*(a.currentQueryTotal-1);let _e=G*a.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":_e=se-_e;break;case"full":_e=p.currentStaggerTime}const mt=a.currentTimeline;_e&&mt.delayNextStep(_e);const $t=mt.currentTime;Fr(this,c.animation,a),a.previousNode=c,p.currentStaggerTime=b.currentTime-$t+(b.startTime-p.currentTimeline.startTime)}}const wd={};class Bv{constructor(c,a,p,b,L,G,se,_e){this._driver=c,this.element=a,this.subInstructions=p,this._enterClassName=b,this._leaveClassName=L,this.errors=G,this.timelines=se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_e||new Cy(this._driver,a,0),se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const p=c;let b=this.options;null!=p.duration&&(b.duration=ea(p.duration)),null!=p.delay&&(b.delay=ea(p.delay));const L=p.params;if(L){let G=b.params;G||(G=this.options.params={}),Object.keys(L).forEach(se=>{(!a||!G.hasOwnProperty(se))&&(G[se]=Y(L[se],G,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const p=c.params={};Object.keys(a).forEach(b=>{p[b]=a[b]})}}return c}createSubContext(c=null,a,p){const b=a||this.element,L=new Bv(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,p||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(c),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(c){return this.previousNode=wd,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,p){const b={duration:a??c.duration,delay:this.currentTimeline.currentTime+(p??0)+c.delay,easing:""},L=new QE(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,b,c.stretchStartingKeyframe);return this.timelines.push(L),b}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,p,b,L,G){let se=[];if(b&&se.push(this.element),c.length>0){c=(c=c.replace(Q0,"."+this._enterClassName)).replace(J0,"."+this._leaveClassName);let $e=this._driver.query(this.element,c,1!=p);0!==p&&($e=p<0?$e.slice($e.length+p,$e.length):$e.slice(0,p)),se.push(...$e)}return!L&&0==se.length&&G.push(function gy(g){return new r.wOt(3014,!1)}()),se}}class Cy{constructor(c,a,p,b){this._driver=c,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=b,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new Cy(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles.set(c,a),this._globalTimelineStyles.set(c,a),this._styleSummary.set(c,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||Li.kp),this._currentKeyframe.set(a,Li.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,p,b){a&&this._previousKeyframe.set("easing",a);const L=b&&b.params||{},G=function ZE(g,c){const a=new Map;let p;return g.forEach(b=>{if("*"===b){p=p||c.keys();for(let L of p)a.set(L,Li.kp)}else xa(b,a)}),a}(c,this._globalTimelineStyles);for(let[se,_e]of G){const $e=Y(_e,L,p);this._pendingStyles.set(se,$e),this._localTimelineStyles.has(se)||this._backFill.set(se,this._globalTimelineStyles.get(se)??Li.kp),this._updateStyle(se,$e)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,a)=>{this._currentKeyframe.set(a,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,c)}))}snapshotCurrentStyles(){for(let[c,a]of this._localTimelineStyles)this._pendingStyles.set(c,a),this._updateStyle(c,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((a,p)=>{const b=this._styleSummary.get(p);(!b||a.time>b.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((se,_e)=>{const $e=xa(se,new Map,this._backFill);$e.forEach((mt,$t)=>{mt===Li.FX?c.add($t):mt===Li.kp&&a.add($t)}),p||$e.set("offset",_e/this.duration),b.push($e)});const L=c.size?ge(c.values()):[],G=a.size?ge(a.values()):[];if(p){const se=b[0],_e=new Map(se);se.set("offset",0),_e.set("offset",1),b=[se,_e]}return jv(this.element,b,L,G,this.duration,this.startTime,this.easing,!1)}}class QE extends Cy{constructor(c,a,p,b,L,G,se=!1){super(c,a,G.delay),this.keyframes=p,this.preStyleProps=b,this.postStyleProps=L,this._stretchStartingKeyframe=se,this.timings={duration:G.duration,delay:G.delay,easing:G.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:p,easing:b}=this.timings;if(this._stretchStartingKeyframe&&a){const L=[],G=p+a,se=a/G,_e=xa(c[0]);_e.set("offset",0),L.push(_e);const $e=xa(c[0]);$e.set("offset",JE(se)),L.push($e);const mt=c.length-1;for(let $t=1;$t<=mt;$t++){let _n=xa(c[$t]);const mn=_n.get("offset");_n.set("offset",JE((a+mn*p)/G)),L.push(_n)}p=G,a=0,b="",c=L}return jv(this.element,c,this.preStyleProps,this.postStyleProps,p,a,b,!0)}}function JE(g,c=3){const a=Math.pow(10,c-1);return Math.round(g*a)/a}class $m{}const pu=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Z0 extends $m{normalizePropertyName(c,a){return Nt(c)}normalizeStyleValue(c,a,p,b){let L="";const G=p.toString().trim();if(pu.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)L="px";else{const se=p.match(/^[+-]?[\d\.]+([a-z]*)$/);se&&0==se[1].length&&b.push(function wh(g,c){return new r.wOt(3005,!1)}())}return G+L}}function $v(g,c,a,p,b,L,G,se,_e,$e,mt,$t,_n){return{type:0,element:g,triggerName:c,isRemovalTransition:b,fromState:a,fromStyles:L,toState:p,toStyles:G,timelines:se,queriedElements:_e,preStyleProps:$e,postStyleProps:mt,totalTime:$t,errors:_n}}const $l={};class Gl{constructor(c,a,p){this._triggerName=c,this.ast=a,this._stateStyles=p}match(c,a,p,b){return function t0(g,c,a,p,b){return g.some(L=>L(c,a,p,b))}(this.ast.matchers,c,a,p,b)}buildStyles(c,a,p){let b=this._stateStyles.get("*");return void 0!==c&&(b=this._stateStyles.get(c?.toString())||b),b?b.buildStyles(a,p):new Map}build(c,a,p,b,L,G,se,_e,$e,mt){const $t=[],_n=this.ast.options&&this.ast.options.params||$l,vn=this.buildStyles(p,se&&se.params||$l,$t),en=_e&&_e.params||$l,An=this.buildStyles(b,en,$t),yr=new Set,Pr=new Map,vr=new Map,ir="void"===b,bi={params:n0(en,_n),delay:this.ast.options?.delay},Lr=mt?[]:Iy(c,a,this.ast.animation,L,G,vn,An,bi,$e,$t);let di=0;if(Lr.forEach(rs=>{di=Math.max(rs.duration+rs.delay,di)}),$t.length)return $v(a,this._triggerName,p,b,ir,vn,An,[],[],Pr,vr,di,$t);Lr.forEach(rs=>{const is=rs.element,qs=Pa(Pr,is,new Set);rs.preStyleProps.forEach(Ys=>qs.add(Ys));const lo=Pa(vr,is,new Set);rs.postStyleProps.forEach(Ys=>lo.add(Ys)),is!==a&&yr.add(is)});const ns=ge(yr.values());return $v(a,this._triggerName,p,b,ir,vn,An,Lr,ns,Pr,vr,di)}}function n0(g,c){const a=Nh(c);for(const p in g)g.hasOwnProperty(p)&&null!=g[p]&&(a[p]=g[p]);return a}class eb{constructor(c,a,p){this.styles=c,this.defaultParams=a,this.normalizer=p}buildStyles(c,a){const p=new Map,b=Nh(this.defaultParams);return Object.keys(c).forEach(L=>{const G=c[L];null!==G&&(b[L]=G)}),this.styles.styles.forEach(L=>{"string"!=typeof L&&L.forEach((G,se)=>{G&&(G=Y(G,b,a));const _e=this.normalizer.normalizePropertyName(se,a);G=this.normalizer.normalizeStyleValue(se,_e,G,a),p.set(se,G)})}),p}}class nb{constructor(c,a,p){this.name=c,this.ast=a,this._normalizer=p,this.transitionFactories=[],this.states=new Map,a.states.forEach(b=>{this.states.set(b.name,new eb(b.style,b.options&&b.options.params||{},p))}),wy(this.states,"true","1"),wy(this.states,"false","0"),a.transitions.forEach(b=>{this.transitionFactories.push(new Gl(c,b,this.states))}),this.fallbackTransition=function rb(g,c,a){return new Gl(g,{type:1,animation:{type:2,steps:[],options:null},matchers:[(G,se)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,p,b){return this.transitionFactories.find(G=>G.match(c,a,p,b))||null}matchStyles(c,a,p){return this.fallbackTransition.buildStyles(c,a,p)}}function wy(g,c,a){g.has(c)?g.has(a)||g.set(a,g.get(c)):g.has(a)&&g.set(c,g.get(a))}const Gm=new no;class ib{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,a){const p=[],L=Bm(this._driver,a,p,[]);if(p.length)throw function Ov(g){return new r.wOt(3503,!1)}();this._animations.set(c,L)}_buildPlayer(c,a,p){const b=c.element,L=Rh(this._normalizer,c.keyframes,a,p);return this._driver.animate(b,L,c.duration,c.delay,c.easing,[],!0)}create(c,a,p={}){const b=[],L=this._animations.get(c);let G;const se=new Map;if(L?(G=Iy(this._driver,a,L,yd,xh,new Map,new Map,p,Gm,b),G.forEach(mt=>{const $t=Pa(se,mt.element,new Map);mt.postStyleProps.forEach(_n=>$t.set(_n,null))})):(b.push(function _y(){return new r.wOt(3300,!1)}()),G=[]),b.length)throw function Gf(g){return new r.wOt(3504,!1)}();se.forEach((mt,$t)=>{mt.forEach((_n,mn)=>{mt.set(mn,this._driver.computeStyle($t,mn,Li.kp))})});const $e=Ra(G.map(mt=>{const $t=se.get(mt.element);return this._buildPlayer(mt,new Map,$t)}));return this._playersById.set(c,$e),$e.onDestroy(()=>this.destroy(c)),this.players.push($e),$e}destroy(c){const a=this._getPlayer(c);a.destroy(),this._playersById.delete(c);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(c){const a=this._playersById.get(c);if(!a)throw function Nv(g){return new r.wOt(3301,!1)}();return a}listen(c,a,p,b){const L=Ds(a,"","","");return du(this._getPlayer(c),p,L,b),()=>{}}command(c,a,p,b){if("register"==p)return void this.register(c,b[0]);if("create"==p)return void this.create(c,a,b[0]||{});const L=this._getPlayer(c);switch(p){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(c)}}}const Gv="ng-animate-queued",Hv="ng-animate-disabled",ob=[],zv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},o0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hl="__ng_removed";class Wv{get params(){return this.options.params}constructor(c,a=""){this.namespaceId=a;const p=c&&c.hasOwnProperty("value");if(this.value=function a0(g){return g??null}(p?c.value:c),p){const L=Nh(c);delete L.value,this.options=L}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const a=c.params;if(a){const p=this.options.params;Object.keys(a).forEach(b=>{null==p[b]&&(p[b]=a[b])})}}}const Hm="void",zm=new Wv(Hm);class Dy{constructor(c,a,p){this.id=c,this.hostElement=a,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,zl(a,this._hostClassName)}listen(c,a,p,b){if(!this._triggers.has(a))throw function kv(g,c){return new r.wOt(3302,!1)}();if(null==p||0==p.length)throw function Fv(g){return new r.wOt(3303,!1)}();if(!function l0(g){return"start"==g||"done"==g}(p))throw function Bl(g,c){return new r.wOt(3400,!1)}();const L=Pa(this._elementListeners,c,[]),G={name:a,phase:p,callback:b};L.push(G);const se=Pa(this._engine.statesByElement,c,new Map);return se.has(a)||(zl(c,vd),zl(c,vd+"-"+a),se.set(a,zm)),()=>{this._engine.afterFlush(()=>{const _e=L.indexOf(G);_e>=0&&L.splice(_e,1),this._triggers.has(a)||se.delete(a)})}}register(c,a){return!this._triggers.has(c)&&(this._triggers.set(c,a),!0)}_getTrigger(c){const a=this._triggers.get(c);if(!a)throw function Hf(g){return new r.wOt(3401,!1)}();return a}trigger(c,a,p,b=!0){const L=this._getTrigger(a),G=new Sy(this.id,a,c);let se=this._engine.statesByElement.get(c);se||(zl(c,vd),zl(c,vd+"-"+a),this._engine.statesByElement.set(c,se=new Map));let _e=se.get(a);const $e=new Wv(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&_e&&$e.absorbOptions(_e.options),se.set(a,$e),_e||(_e=zm),$e.value!==Hm&&_e.value===$e.value){if(!function cb(g,c){const a=Object.keys(g),p=Object.keys(c);if(a.length!=p.length)return!1;for(let b=0;b<a.length;b++){const L=a[b];if(!c.hasOwnProperty(L)||g[L]!==c[L])return!1}return!0}(_e.params,$e.params)){const en=[],An=L.matchStyles(_e.value,_e.params,en),yr=L.matchStyles($e.value,$e.params,en);en.length?this._engine.reportError(en):this._engine.afterFlush(()=>{fu(c,An),Os(c,yr)})}return}const _n=Pa(this._engine.playersByElement,c,[]);_n.forEach(en=>{en.namespaceId==this.id&&en.triggerName==a&&en.queued&&en.destroy()});let mn=L.matchTransition(_e.value,$e.value,c,$e.params),vn=!1;if(!mn){if(!b)return;mn=L.fallbackTransition,vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:mn,fromState:_e,toState:$e,player:G,isFallbackTransition:vn}),vn||(zl(c,Gv),G.onStart(()=>{Ig(c,Gv)})),G.onDone(()=>{let en=this.players.indexOf(G);en>=0&&this.players.splice(en,1);const An=this._engine.playersByElement.get(c);if(An){let yr=An.indexOf(G);yr>=0&&An.splice(yr,1)}}),this.players.push(G),_n.push(G),G}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(a=>a.delete(c)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(b=>b.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const p=this._engine.driver.query(c,hu,!0);p.forEach(b=>{if(b[Hl])return;const L=this._engine.fetchNamespacesByElement(b);L.size?L.forEach(G=>G.triggerLeaveAnimation(b,a,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(c,a,p,b){const L=this._engine.statesByElement.get(c),G=new Map;if(L){const se=[];if(L.forEach((_e,$e)=>{if(G.set($e,_e.value),this._triggers.has($e)){const mt=this.trigger(c,$e,Hm,b);mt&&se.push(mt)}}),se.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,G),p&&Ra(se).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),p=this._engine.statesByElement.get(c);if(a&&p){const b=new Set;a.forEach(L=>{const G=L.name;if(b.has(G))return;b.add(G);const _e=this._triggers.get(G).fallbackTransition,$e=p.get(G)||zm,mt=new Wv(Hm),$t=new Sy(this.id,G,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:G,transition:_e,fromState:$e,toState:mt,player:$t,isFallbackTransition:!0})})}}removeNode(c,a){const p=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let b=!1;if(p.totalAnimations){const L=p.players.length?p.playersByQueriedElement.get(c):[];if(L&&L.length)b=!0;else{let G=c;for(;G=G.parentNode;)if(p.statesByElement.get(G)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(c),b)p.markElementAsRemoved(this.id,c,!1,a);else{const L=c[Hl];(!L||L===zv)&&(p.afterFlush(()=>this.clearElementCache(c)),p.destroyInnerAnimations(c),p._onRemovalComplete(c,a))}}insertNode(c,a){zl(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(p=>{const b=p.player;if(b.destroyed)return;const L=p.element,G=this._elementListeners.get(L);G&&G.forEach(se=>{if(se.name==p.triggerName){const _e=Ds(L,p.triggerName,p.fromState.value,p.toState.value);_e._data=c,du(p.player,se.phase,_e,se.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):a.push(p)}),this._queue=[],a.sort((p,b)=>{const L=p.transition.ast.depCount,G=b.transition.ast.depCount;return 0==L||0==G?L-G:this._engine.driver.containsElement(p.element,b.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class Kv{_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}constructor(c,a,p){this.bodyNode=c,this.driver=a,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(b,L)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&c.push(p)})}),c}createNamespace(c,a){const p=new Dy(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[c]=p}_balanceNamespaceList(c,a){const p=this._namespaceList,b=this.namespacesByHostElement;if(p.length-1>=0){let G=!1,se=this.driver.getParentElement(a);for(;se;){const _e=b.get(se);if(_e){const $e=p.indexOf(_e);p.splice($e+1,0,c),G=!0;break}se=this.driver.getParentElement(se)}G||p.unshift(c)}else p.push(c);return b.set(a,c),c}register(c,a){let p=this._namespaceLookup[c];return p||(p=this.createNamespace(c,a)),p}registerTrigger(c,a,p){let b=this._namespaceLookup[c];b&&b.register(a,p)&&this.totalAnimations++}destroy(c,a){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(c);this.namespacesByHostElement.delete(p.hostElement);const b=this._namespaceList.indexOf(p);b>=0&&this._namespaceList.splice(b,1),p.destroy(a),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,p=this.statesByElement.get(c);if(p)for(let b of p.values())if(b.namespaceId){const L=this._fetchNamespace(b.namespaceId);L&&a.add(L)}return a}trigger(c,a,p,b){if(Wm(a)){const L=this._fetchNamespace(c);if(L)return L.trigger(a,p,b),!0}return!1}insertNode(c,a,p,b){if(!Wm(a))return;const L=a[Hl];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const G=this.collectedLeaveElements.indexOf(a);G>=0&&this.collectedLeaveElements.splice(G,1)}if(c){const G=this._fetchNamespace(c);G&&G.insertNode(a,p)}b&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),zl(c,Hv)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Ig(c,Hv))}removeNode(c,a,p){if(Wm(a)){const b=c?this._fetchNamespace(c):null;b?b.removeNode(a,p):this.markElementAsRemoved(c,a,!1,p);const L=this.namespacesByHostElement.get(a);L&&L.id!==c&&L.removeNode(a,p)}else this._onRemovalComplete(a,p)}markElementAsRemoved(c,a,p,b,L){this.collectedLeaveElements.push(a),a[Hl]={namespaceId:c,setForRemoval:b,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:L}}listen(c,a,p,b,L){return Wm(a)?this._fetchNamespace(c).listen(a,p,b,L):()=>{}}_buildInstruction(c,a,p,b,L){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,p,b,c.fromState.options,c.toState.options,a,L)}destroyInnerAnimations(c){let a=this.driver.query(c,hu,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,Ed,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Ra(this.players).onDone(()=>c());c()})}processLeaveNode(c){const a=c[Hl];if(a&&a.setForRemoval){if(c[Hl]=zv,a.namespaceId){this.destroyInnerAnimations(c);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(c)}this._onRemovalComplete(c,a.setForRemoval)}c.classList?.contains(Hv)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,b)=>this._balanceNamespaceList(p,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)zl(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,c)}finally{for(let b=0;b<p.length;b++)p[b]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?Ra(a).onDone(()=>{p.forEach(b=>b())}):p.forEach(b=>b())}}reportError(c){throw function Nm(g){return new r.wOt(3402,!1)}()}_flushAnimations(c,a){const p=new no,b=[],L=new Map,G=[],se=new Map,_e=new Map,$e=new Map,mt=new Set;this.disabledNodes.forEach(Sn=>{mt.add(Sn);const Wn=this.driver.query(Sn,".ng-animate-queued",!0);for(let pr=0;pr<Wn.length;pr++)mt.add(Wn[pr])});const $t=this.bodyNode,_n=Array.from(this.statesByElement.keys()),mn=c0(_n,this.collectedEnterElements),vn=new Map;let en=0;mn.forEach((Sn,Wn)=>{const pr=yd+en++;vn.set(Wn,pr),Sn.forEach(ai=>zl(ai,pr))});const An=[],yr=new Set,Pr=new Set;for(let Sn=0;Sn<this.collectedLeaveElements.length;Sn++){const Wn=this.collectedLeaveElements[Sn],pr=Wn[Hl];pr&&pr.setForRemoval&&(An.push(Wn),yr.add(Wn),pr.hasAnimation?this.driver.query(Wn,".ng-star-inserted",!0).forEach(ai=>yr.add(ai)):Pr.add(Wn))}const vr=new Map,ir=c0(_n,Array.from(yr));ir.forEach((Sn,Wn)=>{const pr=xh+en++;vr.set(Wn,pr),Sn.forEach(ai=>zl(ai,pr))}),c.push(()=>{mn.forEach((Sn,Wn)=>{const pr=vn.get(Wn);Sn.forEach(ai=>Ig(ai,pr))}),ir.forEach((Sn,Wn)=>{const pr=vr.get(Wn);Sn.forEach(ai=>Ig(ai,pr))}),An.forEach(Sn=>{this.processLeaveNode(Sn)})});const bi=[],Lr=[];for(let Sn=this._namespaceList.length-1;Sn>=0;Sn--)this._namespaceList[Sn].drainQueuedTransitions(a).forEach(pr=>{const ai=pr.player,js=pr.element;if(bi.push(ai),this.collectedEnterElements.length){const ro=js[Hl];if(ro&&ro.setForMove){if(ro.previousTriggersValues&&ro.previousTriggersValues.has(pr.triggerName)){const Uo=ro.previousTriggersValues.get(pr.triggerName),fa=this.statesByElement.get(pr.element);if(fa&&fa.has(pr.triggerName)){const Ag=fa.get(pr.triggerName);Ag.value=Uo,fa.set(pr.triggerName,Ag)}}return void ai.destroy()}}const Xa=!$t||!this.driver.containsElement($t,js),wo=vr.get(js),Wl=vn.get(js),ss=this._buildInstruction(pr,p,Wl,wo,Xa);if(ss.errors&&ss.errors.length)return void Lr.push(ss);if(Xa)return ai.onStart(()=>fu(js,ss.fromStyles)),ai.onDestroy(()=>Os(js,ss.toStyles)),void b.push(ai);if(pr.isFallbackTransition)return ai.onStart(()=>fu(js,ss.fromStyles)),ai.onDestroy(()=>Os(js,ss.toStyles)),void b.push(ai);const yu=[];ss.timelines.forEach(ro=>{ro.stretchStartingKeyframe=!0,this.disabledNodes.has(ro.element)||yu.push(ro)}),ss.timelines=yu,p.append(js,ss.timelines),G.push({instruction:ss,player:ai,element:js}),ss.queriedElements.forEach(ro=>Pa(se,ro,[]).push(ai)),ss.preStyleProps.forEach((ro,Uo)=>{if(ro.size){let fa=_e.get(Uo);fa||_e.set(Uo,fa=new Set),ro.forEach((Ag,Uh)=>fa.add(Uh))}}),ss.postStyleProps.forEach((ro,Uo)=>{let fa=$e.get(Uo);fa||$e.set(Uo,fa=new Set),ro.forEach((Ag,Uh)=>fa.add(Uh))})});if(Lr.length){const Sn=[];Lr.forEach(Wn=>{Sn.push(function zf(g,c){return new r.wOt(3505,!1)}())}),bi.forEach(Wn=>Wn.destroy()),this.reportError(Sn)}const di=new Map,ns=new Map;G.forEach(Sn=>{const Wn=Sn.element;p.has(Wn)&&(ns.set(Wn,Wn),this._beforeAnimationBuild(Sn.player.namespaceId,Sn.instruction,di))}),b.forEach(Sn=>{const Wn=Sn.element;this._getPreviousPlayers(Wn,!1,Sn.namespaceId,Sn.triggerName,null).forEach(ai=>{Pa(di,Wn,[]).push(ai),ai.destroy()})});const rs=An.filter(Sn=>d0(Sn,_e,$e)),is=new Map;Xv(is,this.driver,Pr,$e,Li.kp).forEach(Sn=>{d0(Sn,_e,$e)&&rs.push(Sn)});const lo=new Map;mn.forEach((Sn,Wn)=>{Xv(lo,this.driver,new Set(Sn),_e,Li.FX)}),rs.forEach(Sn=>{const Wn=is.get(Sn),pr=lo.get(Sn);is.set(Sn,new Map([...Wn?.entries()??[],...pr?.entries()??[]]))});const Ys=[],mu=[],_u={};G.forEach(Sn=>{const{element:Wn,player:pr,instruction:ai}=Sn;if(p.has(Wn)){if(mt.has(Wn))return pr.onDestroy(()=>Os(Wn,ai.toStyles)),pr.disabled=!0,pr.overrideTotalTime(ai.totalTime),void b.push(pr);let js=_u;if(ns.size>1){let wo=Wn;const Wl=[];for(;wo=wo.parentNode;){const ss=ns.get(wo);if(ss){js=ss;break}Wl.push(wo)}Wl.forEach(ss=>ns.set(ss,js))}const Xa=this._buildAnimation(pr.namespaceId,ai,di,L,lo,is);if(pr.setRealPlayer(Xa),js===_u)Ys.push(pr);else{const wo=this.playersByElement.get(js);wo&&wo.length&&(pr.parentPlayer=Ra(wo)),b.push(pr)}}else fu(Wn,ai.fromStyles),pr.onDestroy(()=>Os(Wn,ai.toStyles)),mu.push(pr),mt.has(Wn)&&b.push(pr)}),mu.forEach(Sn=>{const Wn=L.get(Sn.element);if(Wn&&Wn.length){const pr=Ra(Wn);Sn.setRealPlayer(pr)}}),b.forEach(Sn=>{Sn.parentPlayer?Sn.syncPlayerEvents(Sn.parentPlayer):Sn.destroy()});for(let Sn=0;Sn<An.length;Sn++){const Wn=An[Sn],pr=Wn[Hl];if(Ig(Wn,xh),pr&&pr.hasAnimation)continue;let ai=[];if(se.size){let Xa=se.get(Wn);Xa&&Xa.length&&ai.push(...Xa);let wo=this.driver.query(Wn,Ed,!0);for(let Wl=0;Wl<wo.length;Wl++){let ss=se.get(wo[Wl]);ss&&ss.length&&ai.push(...ss)}}const js=ai.filter(Xa=>!Xa.destroyed);js.length?ab(this,Wn,js):this.processLeaveNode(Wn)}return An.length=0,Ys.forEach(Sn=>{this.players.push(Sn),Sn.onDone(()=>{Sn.destroy();const Wn=this.players.indexOf(Sn);this.players.splice(Wn,1)}),Sn.play()}),Ys}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,p,b,L){let G=[];if(a){const se=this.playersByQueriedElement.get(c);se&&(G=se)}else{const se=this.playersByElement.get(c);if(se){const _e=!L||L==Hm;se.forEach($e=>{$e.queued||!_e&&$e.triggerName!=b||G.push($e)})}}return(p||b)&&(G=G.filter(se=>!(p&&p!=se.namespaceId||b&&b!=se.triggerName))),G}_beforeAnimationBuild(c,a,p){const L=a.element,G=a.isRemovalTransition?void 0:c,se=a.isRemovalTransition?void 0:a.triggerName;for(const _e of a.timelines){const $e=_e.element,mt=$e!==L,$t=Pa(p,$e,[]);this._getPreviousPlayers($e,mt,G,se,a.toState).forEach(mn=>{const vn=mn.getRealPlayer();vn.beforeDestroy&&vn.beforeDestroy(),mn.destroy(),$t.push(mn)})}fu(L,a.fromStyles)}_buildAnimation(c,a,p,b,L,G){const se=a.triggerName,_e=a.element,$e=[],mt=new Set,$t=new Set,_n=a.timelines.map(vn=>{const en=vn.element;mt.add(en);const An=en[Hl];if(An&&An.removedBeforeQueried)return new Li.sf(vn.duration,vn.delay);const yr=en!==_e,Pr=function lb(g){const c=[];return u0(g,c),c}((p.get(en)||ob).map(di=>di.getRealPlayer())).filter(di=>!!di.element&&di.element===en),vr=L.get(en),ir=G.get(en),bi=Rh(this._normalizer,vn.keyframes,vr,ir),Lr=this._buildPlayer(vn,bi,Pr);if(vn.subTimeline&&b&&$t.add(en),yr){const di=new Sy(c,se,en);di.setRealPlayer(Lr),$e.push(di)}return Lr});$e.forEach(vn=>{Pa(this.playersByQueriedElement,vn.element,[]).push(vn),vn.onDone(()=>function qv(g,c,a){let p=g.get(c);if(p){if(p.length){const b=p.indexOf(a);p.splice(b,1)}0==p.length&&g.delete(c)}return p}(this.playersByQueriedElement,vn.element,vn))}),mt.forEach(vn=>zl(vn,Eg));const mn=Ra(_n);return mn.onDestroy(()=>{mt.forEach(vn=>Ig(vn,Eg)),Os(_e,a.toStyles)}),$t.forEach(vn=>{Pa(b,vn,[]).push(mn)}),mn}_buildPlayer(c,a,p){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,p):new Li.sf(c.duration,c.delay)}}class Sy{constructor(c,a,p){this.namespaceId=c,this.triggerName=a,this.element=p,this._player=new Li.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((a,p)=>{a.forEach(b=>du(c,p,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){Pa(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function Wm(g){return g&&1===g.nodeType}function Yv(g,c){const a=g.style.display;return g.style.display=c??"none",a}function Xv(g,c,a,p,b){const L=[];a.forEach(_e=>L.push(Yv(_e)));const G=[];p.forEach((_e,$e)=>{const mt=new Map;_e.forEach($t=>{const _n=c.computeStyle($e,$t,b);mt.set($t,_n),(!_n||0==_n.length)&&($e[Hl]=o0,G.push($e))}),g.set($e,mt)});let se=0;return a.forEach(_e=>Yv(_e,L[se++])),G}function c0(g,c){const a=new Map;if(g.forEach(se=>a.set(se,[])),0==c.length)return a;const b=new Set(c),L=new Map;function G(se){if(!se)return 1;let _e=L.get(se);if(_e)return _e;const $e=se.parentNode;return _e=a.has($e)?$e:b.has($e)?1:G($e),L.set(se,_e),_e}return c.forEach(se=>{const _e=G(se);1!==_e&&a.get(_e).push(se)}),a}function zl(g,c){g.classList?.add(c)}function Ig(g,c){g.classList?.remove(c)}function ab(g,c,a){Ra(a).onDone(()=>g.processLeaveNode(c))}function u0(g,c){for(let a=0;a<g.length;a++){const p=g[a];p instanceof Li.ui?u0(p.players,c):c.push(p)}}function d0(g,c,a){const p=a.get(g);if(!p)return!1;let b=c.get(g);return b?p.forEach(L=>b.add(L)):c.set(g,p),a.delete(g),!0}class Ry{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(b,L)=>{},this._transitionEngine=new Kv(c,a,p),this._timelineEngine=new ib(c,a,p),this._transitionEngine.onRemovalComplete=(b,L)=>this.onRemovalComplete(b,L)}registerTrigger(c,a,p,b,L){const G=c+"-"+b;let se=this._triggerCache[G];if(!se){const _e=[],mt=Bm(this._driver,L,_e,[]);if(_e.length)throw function uu(g,c){return new r.wOt(3404,!1)}();se=function tb(g,c,a){return new nb(g,c,a)}(b,mt,this._normalizer),this._triggerCache[G]=se}this._transitionEngine.registerTrigger(a,b,se)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,p,b){this._transitionEngine.insertNode(c,a,p,b)}onRemove(c,a,p){this._transitionEngine.removeNode(c,a,p)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,p,b){if("@"==p.charAt(0)){const[L,G]=yy(p);this._timelineEngine.command(L,a,G,b)}else this._transitionEngine.trigger(c,a,p,b)}listen(c,a,p,b,L){if("@"==p.charAt(0)){const[G,se]=yy(p);return this._timelineEngine.listen(G,a,se,L)}return this._transitionEngine.listen(c,a,p,b,L)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let db=(()=>{class g{static{this.initialStylesByElement=new WeakMap}constructor(a,p,b){this._element=a,this._startStyles=p,this._endStyles=b,this._state=0;let L=g.initialStylesByElement.get(a);L||g.initialStylesByElement.set(a,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&Os(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Os(this._element,this._initialStyles),this._endStyles&&(Os(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g.initialStylesByElement.delete(this._element),this._startStyles&&(fu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fu(this._element,this._endStyles),this._endStyles=null),Os(this._element,this._initialStyles),this._state=3)}}return g})();function Qv(g){let c=null;return g.forEach((a,p)=>{(function hb(g){return"display"===g||"position"===g})(p)&&(c=c||new Map,c.set(p,a))}),c}class h0{constructor(c,a,p,b){this.element=c,this.keyframes=a,this.options=p,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const a=[];return c.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(c,a,p){return c.animate(this._convertKeyframesToObject(a),p)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,b)=>{"offset"!==b&&c.set(b,this._finished?p:Co(this.element,b))}),this.currentSnapshot=c}triggerCallback(c){const a="start"===c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class fb{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,a){return!1}containsElement(c,a){return _d(c,a)}getParentElement(c){return md(c)}query(c,a,p){return Lm(c,a,p)}computeStyle(c,a,p){return window.getComputedStyle(c)[a]}animate(c,a,p,b,L,G=[]){const _e={duration:p,delay:b,fill:0==b?"both":"forwards"};L&&(_e.easing=L);const $e=new Map,mt=G.filter(mn=>mn instanceof h0);(function Yi(g,c){return 0===g||0===c})(p,b)&&mt.forEach(mn=>{mn.currentSnapshot.forEach((vn,en)=>$e.set(en,vn))});let $t=function Xf(g){return g.length?g[0]instanceof Map?g:g.map(c=>Vm(c)):[]}(a).map(mn=>xa(mn));$t=function go(g,c,a){if(a.size&&c.length){let p=c[0],b=[];if(a.forEach((L,G)=>{p.has(G)||b.push(G),p.set(G,L)}),b.length)for(let L=1;L<c.length;L++){let G=c[L];b.forEach(se=>G.set(se,Co(g,se)))}}return c}(c,$t,$e);const _n=function ub(g,c){let a=null,p=null;return Array.isArray(c)&&c.length?(a=Qv(c[0]),c.length>1&&(p=Qv(c[c.length-1]))):c instanceof Map&&(a=Qv(c)),a||p?new db(g,a,p):null}(c,$t);return new h0(c,$t,_e,_n)}}let pb=(()=>{class g extends Li.S6{constructor(a,p){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(p.body,{id:"0",encapsulation:r.gXe.None,styles:[],data:{animation:[]}})}build(a){const p=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(a)?(0,Li.K2)(a):a;return Jv(this._renderer,null,p,"register",[b]),new gb(p,this._renderer)}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(r._9s),r.KVO(he.qQ))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();class gb extends Li.Ro{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new mb(this._id,c,a||{},this._renderer)}}class mb{constructor(c,a,p,b){this.id=c,this.element=a,this._renderer=b,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return Jv(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Jv(g,c,a,p,b){return g.setProperty(c,`@@${a}:${p}`,b)}const Zv="@.disabled";let f0=(()=>{class g{constructor(a,p,b){this.delegate=a,this.engine=p,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(L,G)=>{const se=G?.parentNode(L);se&&G.removeChild(se,L)}}createRenderer(a,p){const L=this.delegate.createRenderer(a,p);if(!(a&&p&&p.data&&p.data.animation)){let mt=this._rendererCache.get(L);return mt||(mt=new eE("",L,this.engine,()=>this._rendererCache.delete(L)),this._rendererCache.set(L,mt)),mt}const G=p.id,se=p.id+"-"+this._currentId;this._currentId++,this.engine.register(se,a);const _e=mt=>{Array.isArray(mt)?mt.forEach(_e):this.engine.registerTrigger(G,se,a,mt.name,mt)};return p.data.animation.forEach(_e),new p0(this,se,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,p,b){a>=0&&a<this._microtaskId?this._zone.run(()=>p(b)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[G,se]=L;G(se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(r._9s),r.KVO(Ry),r.KVO(r.SKi))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();class eE{constructor(c,a,p,b){this.namespaceId=c,this.delegate=a,this.engine=p,this._onDestroy=b}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,p,b=!0){this.delegate.insertBefore(c,a,p),this.engine.onInsert(this.namespaceId,a,c,b)}removeChild(c,a,p){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,p,b){this.delegate.setAttribute(c,a,p,b)}removeAttribute(c,a,p){this.delegate.removeAttribute(c,a,p)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,p,b){this.delegate.setStyle(c,a,p,b)}removeStyle(c,a,p){this.delegate.removeStyle(c,a,p)}setProperty(c,a,p){"@"==a.charAt(0)&&a==Zv?this.disableAnimations(c,!!p):this.delegate.setProperty(c,a,p)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,p){return this.delegate.listen(c,a,p)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class p0 extends eE{constructor(c,a,p,b,L){super(a,p,b,L),this.factory=c,this.namespaceId=a}setProperty(c,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Zv?this.disableAnimations(c,p=void 0===p||!!p):this.engine.process(this.namespaceId,c,a.slice(1),p):this.delegate.setProperty(c,a,p)}listen(c,a,p){if("@"==a.charAt(0)){const b=function g0(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(c);let L=a.slice(1),G="";return"@"!=L.charAt(0)&&([L,G]=function m0(g){const c=g.indexOf(".");return[g.substring(0,c),g.slice(c+1)]}(L)),this.engine.listen(this.namespaceId,b,L,G,se=>{this.factory.scheduleListenerCallback(se._data||-1,p,se)})}return this.delegate.listen(c,a,p)}}const Vh=[{provide:Li.S6,useClass:pb},{provide:$m,useFactory:function y0(){return new Z0}},{provide:Ry,useClass:(()=>{class g extends Ry{constructor(a,p,b,L){super(a.body,p,b)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(he.qQ),r.KVO(qf),r.KVO($m),r.KVO(r.o8S))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})()},{provide:r._9s,useFactory:function v0(g,c,a){return new f0(g,c,a)},deps:[ce.B7,Ry,r.SKi]}],tE=[{provide:qf,useFactory:()=>new fb},{provide:r.bc$,useValue:"BrowserAnimations"},...Vh],E0=[{provide:qf,useClass:Ph},{provide:r.bc$,useValue:"NoopAnimations"},...Vh];let Cg=(()=>{class g{static withConfig(a){return{ngModule:g,providers:a.disableAnimations?E0:tE}}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=r.$C({type:g})}static{this.\u0275inj=r.G2t({providers:tE,imports:[ce.Bb]})}}return g})();const Py={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","www.prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","cc.sbmediahub.com":"yrNc50SvfPqwTSkvvygA","hh.sbmediahub.com":"vfCMoPjAu2ROVBbKvk0D","ae.sbmediahub.com":"UiSDf9elSjwcbQs2HZb1","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function T0(g,c,a){return()=>{const p=window.location.hostname,b=new URL(window.location.href);let L=Py[p]||b.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return g.loadTheme(L)}}function uT(g,c,a){const p=window.location.hostname,b=new URL(window.location.href);let L=Py[p]||b.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return()=>{g.loadBusinessData(L).toPromise().then(()=>{}).catch(G=>{console.error("Error loading business data:",G)})}}let _b=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=r.$C({type:g,bootstrap:[sd]})}static{this.\u0275inj=r.G2t({providers:[{provide:r.hnV,useFactory:T0,deps:[cu,he.aZ,cr.Ix],multi:!0},{provide:r.hnV,useFactory:uT,deps:[Mt.A,he.aZ,cr.Ix],multi:!0}],imports:[ce.Bb,cr.iI,hh,_c.cM,Ff.y5,iy.X8,ry.bf.initializeApp(od_firebase),hE(()=>Sf(od_firebase)),h(()=>vh()),Rm(()=>cy()),vi.X1,vi.YN,pe,Cg]})}}return g})();ce.sG().bootstrapModule(_b).catch(g=>console.error(g))},4412:(tn,Xe,V)=>{V.d(Xe,{t:()=>ce});var s=V(1413);class ce extends s.B{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const me=super._subscribe(Ee);return!me.closed&&Ee.next(this._value),me}getValue(){const{hasError:Ee,thrownError:me,_value:Te}=this;if(Ee)throw me;return this._throwIfClosed(),Te}next(Ee){super.next(this._value=Ee)}}},1985:(tn,Xe,V)=>{V.d(Xe,{c:()=>Pe});var s=V(7707),ce=V(8359),r=V(3494),Ee=V(1203),me=V(1026),Te=V(8071),be=V(9786);let Pe=(()=>{class he{constructor(je){je&&(this._subscribe=je)}lift(je){const ve=new he;return ve.source=this,ve.operator=je,ve}subscribe(je,ve,Ye){const we=function ne(he){return he&&he instanceof s.vU||function W(he){return he&&(0,Te.T)(he.next)&&(0,Te.T)(he.error)&&(0,Te.T)(he.complete)}(he)&&(0,ce.Uv)(he)}(je)?je:new s.Ms(je,ve,Ye);return(0,be.Y)(()=>{const{operator:Tt,source:Bt}=this;we.add(Tt?Tt.call(we,Bt):Bt?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(je){try{return this._subscribe(je)}catch(ve){je.error(ve)}}forEach(je,ve){return new(ve=Me(ve))((Ye,we)=>{const Tt=new s.Ms({next:Bt=>{try{je(Bt)}catch(Ge){we(Ge),Tt.unsubscribe()}},error:we,complete:Ye});this.subscribe(Tt)})}_subscribe(je){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(je)}[r.s](){return this}pipe(...je){return(0,Ee.m)(je)(this)}toPromise(je){return new(je=Me(je))((ve,Ye)=>{let we;this.subscribe(Tt=>we=Tt,Tt=>Ye(Tt),()=>ve(we))})}}return he.create=Re=>new he(Re),he})();function Me(he){var Re;return null!==(Re=he??me.$.Promise)&&void 0!==Re?Re:Promise}},1413:(tn,Xe,V)=>{V.d(Xe,{B:()=>be});var s=V(1985),ce=V(8359);const Ee=(0,V(1853).L)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=V(7908),Te=V(9786);let be=(()=>{class Me extends s.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const he=new Pe(this,this);return he.operator=ne,he}_throwIfClosed(){if(this.closed)throw new Ee}next(ne){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(ne)}})}error(ne){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:he}=this;for(;he.length;)he.shift().error(ne)}})}complete(){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:he,isStopped:Re,observers:je}=this;return he||Re?ce.Kn:(this.currentObservers=null,je.push(ne),new ce.yU(()=>{this.currentObservers=null,(0,me.o)(je,ne)}))}_checkFinalizedStatuses(ne){const{hasError:he,thrownError:Re,isStopped:je}=this;he?ne.error(Re):je&&ne.complete()}asObservable(){const ne=new s.c;return ne.source=this,ne}}return Me.create=(W,ne)=>new Pe(W,ne),Me})();class Pe extends be{constructor(W,ne){super(),this.destination=W,this.source=ne}next(W){var ne,he;null===(he=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===he||he.call(ne,W)}error(W){var ne,he;null===(he=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===he||he.call(ne,W)}complete(){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===ne||ne.call(W)}_subscribe(W){var ne,he;return null!==(he=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(W))&&void 0!==he?he:ce.Kn}}},7707:(tn,Xe,V)=>{V.d(Xe,{Ms:()=>Ye,vU:()=>he});var s=V(8071),ce=V(8359),r=V(1026),Ee=V(5334),me=V(5343);const Te=Me("C",void 0,void 0);function Me(Ae,tt,Ke){return{kind:Ae,value:tt,error:Ke}}var W=V(9270),ne=V(9786);class he extends ce.yU{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,ce.Uv)(tt)&&tt.add(this)):this.destination=Ge}static create(tt,Ke,ct){return new Ye(tt,Ke,ct)}next(tt){this.isStopped?Bt(function Pe(Ae){return Me("N",Ae,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?Bt(function be(Ae){return Me("E",void 0,Ae)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?Bt(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function je(Ae,tt){return Re.call(Ae,tt)}class ve{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(tt)}catch(ct){we(ct)}}error(tt){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(tt)}catch(ct){we(ct)}else we(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ke){we(Ke)}}}class Ye extends he{constructor(tt,Ke,ct){let xt;if(super(),(0,s.T)(tt)||!tt)xt={next:tt??void 0,error:Ke??void 0,complete:ct??void 0};else{let ut;this&&r.$.useDeprecatedNextContext?(ut=Object.create(tt),ut.unsubscribe=()=>this.unsubscribe(),xt={next:tt.next&&je(tt.next,ut),error:tt.error&&je(tt.error,ut),complete:tt.complete&&je(tt.complete,ut)}):xt=tt}this.destination=new ve(xt)}}function we(Ae){r.$.useDeprecatedSynchronousErrorHandling?(0,ne.l)(Ae):(0,Ee.m)(Ae)}function Bt(Ae,tt){const{onStoppedNotification:Ke}=r.$;Ke&&W.f.setTimeout(()=>Ke(Ae,tt))}const Ge={closed:!0,next:me.l,error:function Tt(Ae){throw Ae},complete:me.l}},8359:(tn,Xe,V)=>{V.d(Xe,{Kn:()=>Te,yU:()=>me,Uv:()=>be});var s=V(8071);const r=(0,V(1853).L)(Me=>function(ne){Me(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((he,Re)=>`${Re+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var Ee=V(7908);class me{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const je of ne)je.remove(this);else ne.remove(this);const{initialTeardown:he}=this;if((0,s.T)(he))try{he()}catch(je){W=je instanceof r?je.errors:[je]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const je of Re)try{Pe(je)}catch(ve){W=W??[],ve instanceof r?W=[...W,...ve.errors]:W.push(ve)}}if(W)throw new r(W)}}add(W){var ne;if(W&&W!==this)if(this.closed)Pe(W);else{if(W instanceof me){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(W)}}_hasParent(W){const{_parentage:ne}=this;return ne===W||Array.isArray(ne)&&ne.includes(W)}_addParent(W){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(W),ne):ne?[ne,W]:W}_removeParent(W){const{_parentage:ne}=this;ne===W?this._parentage=null:Array.isArray(ne)&&(0,Ee.o)(ne,W)}remove(W){const{_finalizers:ne}=this;ne&&(0,Ee.o)(ne,W),W instanceof me&&W._removeParent(this)}}me.EMPTY=(()=>{const Me=new me;return Me.closed=!0,Me})();const Te=me.EMPTY;function be(Me){return Me instanceof me||Me&&"closed"in Me&&(0,s.T)(Me.remove)&&(0,s.T)(Me.add)&&(0,s.T)(Me.unsubscribe)}function Pe(Me){(0,s.T)(Me)?Me():Me.unsubscribe()}},1026:(tn,Xe,V)=>{V.d(Xe,{$:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(tn,Xe,V)=>{V.d(Xe,{x:()=>me});var s=V(6365),r=V(3794),Ee=V(8455);function me(...Te){return function ce(){return(0,s.U)(1)}()((0,Ee.H)(Te,(0,r.lI)(Te)))}},983:(tn,Xe,V)=>{V.d(Xe,{w:()=>ce});const ce=new(V(1985).c)(me=>me.complete())},8455:(tn,Xe,V)=>{V.d(Xe,{H:()=>tt});var s=V(8750),ce=V(941),r=V(6745),Te=V(1985),Pe=V(4761),Me=V(8071),W=V(5225);function he(Ke,ct){if(!Ke)throw new Error("Iterable cannot be null");return new Te.c(xt=>{(0,W.N)(xt,ct,()=>{const ut=Ke[Symbol.asyncIterator]();(0,W.N)(xt,ct,()=>{ut.next().then(Ie=>{Ie.done?xt.complete():xt.next(Ie.value)})},0,!0)})})}var Re=V(5055),je=V(9858),ve=V(7441),Ye=V(5397),we=V(7953),Tt=V(591),Bt=V(5196);function tt(Ke,ct){return ct?function Ae(Ke,ct){if(null!=Ke){if((0,Re.l)(Ke))return function Ee(Ke,ct){return(0,s.Tg)(Ke).pipe((0,r._)(ct),(0,ce.Q)(ct))}(Ke,ct);if((0,ve.X)(Ke))return function be(Ke,ct){return new Te.c(xt=>{let ut=0;return ct.schedule(function(){ut===Ke.length?xt.complete():(xt.next(Ke[ut++]),xt.closed||this.schedule())})})}(Ke,ct);if((0,je.y)(Ke))return function me(Ke,ct){return(0,s.Tg)(Ke).pipe((0,r._)(ct),(0,ce.Q)(ct))}(Ke,ct);if((0,we.T)(Ke))return he(Ke,ct);if((0,Ye.x)(Ke))return function ne(Ke,ct){return new Te.c(xt=>{let ut;return(0,W.N)(xt,ct,()=>{ut=Ke[Pe.l](),(0,W.N)(xt,ct,()=>{let Ie,Ze;try{({value:Ie,done:Ze}=ut.next())}catch(Xt){return void xt.error(Xt)}Ze?xt.complete():xt.next(Ie)},0,!0)}),()=>(0,Me.T)(ut?.return)&&ut.return()})}(Ke,ct);if((0,Bt.U)(Ke))return function Ge(Ke,ct){return he((0,Bt.C)(Ke),ct)}(Ke,ct)}throw(0,Tt.L)(Ke)}(Ke,ct):(0,s.Tg)(Ke)}},8750:(tn,Xe,V)=>{V.d(Xe,{Tg:()=>Re});var s=V(1635),ce=V(7441),r=V(9858),Ee=V(1985),me=V(5055),Te=V(7953),be=V(591),Pe=V(5397),Me=V(5196),W=V(8071),ne=V(5334),he=V(3494);function Re(Ae){if(Ae instanceof Ee.c)return Ae;if(null!=Ae){if((0,me.l)(Ae))return function je(Ae){return new Ee.c(tt=>{const Ke=Ae[he.s]();if((0,W.T)(Ke.subscribe))return Ke.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ce.X)(Ae))return function ve(Ae){return new Ee.c(tt=>{for(let Ke=0;Ke<Ae.length&&!tt.closed;Ke++)tt.next(Ae[Ke]);tt.complete()})}(Ae);if((0,r.y)(Ae))return function Ye(Ae){return new Ee.c(tt=>{Ae.then(Ke=>{tt.closed||(tt.next(Ke),tt.complete())},Ke=>tt.error(Ke)).then(null,ne.m)})}(Ae);if((0,Te.T)(Ae))return Tt(Ae);if((0,Pe.x)(Ae))return function we(Ae){return new Ee.c(tt=>{for(const Ke of Ae)if(tt.next(Ke),tt.closed)return;tt.complete()})}(Ae);if((0,Me.U)(Ae))return function Bt(Ae){return Tt((0,Me.C)(Ae))}(Ae)}throw(0,be.L)(Ae)}function Tt(Ae){return new Ee.c(tt=>{(function Ge(Ae,tt){var Ke,ct,xt,ut;return(0,s.sH)(this,void 0,void 0,function*(){try{for(Ke=(0,s.xN)(Ae);!(ct=yield Ke.next()).done;)if(tt.next(ct.value),tt.closed)return}catch(Ie){xt={error:Ie}}finally{try{ct&&!ct.done&&(ut=Ke.return)&&(yield ut.call(Ke))}finally{if(xt)throw xt.error}}tt.complete()})})(Ae,tt).catch(Ke=>tt.error(Ke))})}},7786:(tn,Xe,V)=>{V.d(Xe,{h:()=>Te});var s=V(6365),ce=V(8750),r=V(983),Ee=V(3794),me=V(8455);function Te(...be){const Pe=(0,Ee.lI)(be),Me=(0,Ee.R0)(be,1/0),W=be;return W.length?1===W.length?(0,ce.Tg)(W[0]):(0,s.U)(Me)((0,me.H)(W,Pe)):r.w}},7673:(tn,Xe,V)=>{V.d(Xe,{of:()=>r});var s=V(3794),ce=V(8455);function r(...Ee){const me=(0,s.lI)(Ee);return(0,ce.H)(Ee,me)}},8810:(tn,Xe,V)=>{V.d(Xe,{$:()=>r});var s=V(1985),ce=V(8071);function r(Ee,me){const Te=(0,ce.T)(Ee)?Ee:()=>Ee,be=Pe=>Pe.error(Te());return new s.c(me?Pe=>me.schedule(be,0,Pe):be)}},4360:(tn,Xe,V)=>{V.d(Xe,{_:()=>ce});var s=V(7707);function ce(Ee,me,Te,be,Pe){return new r(Ee,me,Te,be,Pe)}class r extends s.vU{constructor(me,Te,be,Pe,Me,W){super(me),this.onFinalize=Me,this.shouldUnsubscribe=W,this._next=Te?function(ne){try{Te(ne)}catch(he){me.error(he)}}:super._next,this._error=Pe?function(ne){try{Pe(ne)}catch(he){me.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ne){me.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},9437:(tn,Xe,V)=>{V.d(Xe,{W:()=>Ee});var s=V(8750),ce=V(4360),r=V(9974);function Ee(me){return(0,r.N)((Te,be)=>{let W,Pe=null,Me=!1;Pe=Te.subscribe((0,ce._)(be,void 0,void 0,ne=>{W=(0,s.Tg)(me(ne,Ee(me)(Te))),Pe?(Pe.unsubscribe(),Pe=null,W.subscribe(be)):Me=!0})),Me&&(Pe.unsubscribe(),Pe=null,W.subscribe(be))})}},274:(tn,Xe,V)=>{V.d(Xe,{H:()=>r});var s=V(1397),ce=V(8071);function r(Ee,me){return(0,ce.T)(me)?(0,s.Z)(Ee,me,1):(0,s.Z)(Ee,1)}},9901:(tn,Xe,V)=>{V.d(Xe,{U:()=>r});var s=V(9974),ce=V(4360);function r(Ee){return(0,s.N)((me,Te)=>{let be=!1;me.subscribe((0,ce._)(Te,Pe=>{be=!0,Te.next(Pe)},()=>{be||Te.next(Ee),Te.complete()}))})}},3294:(tn,Xe,V)=>{V.d(Xe,{F:()=>Ee});var s=V(3669),ce=V(9974),r=V(4360);function Ee(Te,be=s.D){return Te=Te??me,(0,ce.N)((Pe,Me)=>{let W,ne=!0;Pe.subscribe((0,r._)(Me,he=>{const Re=be(he);(ne||!Te(W,Re))&&(ne=!1,W=Re,Me.next(he))}))})}function me(Te,be){return Te===be}},5964:(tn,Xe,V)=>{V.d(Xe,{p:()=>r});var s=V(9974),ce=V(4360);function r(Ee,me){return(0,s.N)((Te,be)=>{let Pe=0;Te.subscribe((0,ce._)(be,Me=>Ee.call(me,Me,Pe++)&&be.next(Me)))})}},980:(tn,Xe,V)=>{V.d(Xe,{j:()=>ce});var s=V(9974);function ce(r){return(0,s.N)((Ee,me)=>{try{Ee.subscribe(me)}finally{me.add(r)}})}},1594:(tn,Xe,V)=>{V.d(Xe,{$:()=>be});var s=V(9350),ce=V(5964),r=V(6697),Ee=V(9901),me=V(3774),Te=V(3669);function be(Pe,Me){const W=arguments.length>=2;return ne=>ne.pipe(Pe?(0,ce.p)((he,Re)=>Pe(he,Re,ne)):Te.D,(0,r.s)(1),W?(0,Ee.U)(Me):(0,me.v)(()=>new s.G))}},6354:(tn,Xe,V)=>{V.d(Xe,{T:()=>r});var s=V(9974),ce=V(4360);function r(Ee,me){return(0,s.N)((Te,be)=>{let Pe=0;Te.subscribe((0,ce._)(be,Me=>{be.next(Ee.call(me,Me,Pe++))}))})}},6365:(tn,Xe,V)=>{V.d(Xe,{U:()=>r});var s=V(1397),ce=V(3669);function r(Ee=1/0){return(0,s.Z)(ce.D,Ee)}},1397:(tn,Xe,V)=>{V.d(Xe,{Z:()=>Pe});var s=V(6354),ce=V(8750),r=V(9974),Ee=V(5225),me=V(4360),be=V(8071);function Pe(Me,W,ne=1/0){return(0,be.T)(W)?Pe((he,Re)=>(0,s.T)((je,ve)=>W(he,je,Re,ve))((0,ce.Tg)(Me(he,Re))),ne):("number"==typeof W&&(ne=W),(0,r.N)((he,Re)=>function Te(Me,W,ne,he,Re,je,ve,Ye){const we=[];let Tt=0,Bt=0,Ge=!1;const Ae=()=>{Ge&&!we.length&&!Tt&&W.complete()},tt=ct=>Tt<he?Ke(ct):we.push(ct),Ke=ct=>{je&&W.next(ct),Tt++;let xt=!1;(0,ce.Tg)(ne(ct,Bt++)).subscribe((0,me._)(W,ut=>{Re?.(ut),je?tt(ut):W.next(ut)},()=>{xt=!0},void 0,()=>{if(xt)try{for(Tt--;we.length&&Tt<he;){const ut=we.shift();ve?(0,Ee.N)(W,ve,()=>Ke(ut)):Ke(ut)}Ae()}catch(ut){W.error(ut)}}))};return Me.subscribe((0,me._)(W,tt,()=>{Ge=!0,Ae()})),()=>{Ye?.()}}(he,Re,Me,ne)))}},941:(tn,Xe,V)=>{V.d(Xe,{Q:()=>Ee});var s=V(5225),ce=V(9974),r=V(4360);function Ee(me,Te=0){return(0,ce.N)((be,Pe)=>{be.subscribe((0,r._)(Pe,Me=>(0,s.N)(Pe,me,()=>Pe.next(Me),Te),()=>(0,s.N)(Pe,me,()=>Pe.complete(),Te),Me=>(0,s.N)(Pe,me,()=>Pe.error(Me),Te)))})}},2816:(tn,Xe,V)=>{V.d(Xe,{S:()=>Ee});var s=V(9974),ce=V(4360);function Ee(me,Te){return(0,s.N)(function r(me,Te,be,Pe,Me){return(W,ne)=>{let he=be,Re=Te,je=0;W.subscribe((0,ce._)(ne,ve=>{const Ye=je++;Re=he?me(Re,ve,Ye):(he=!0,ve),Pe&&ne.next(Re)},Me&&(()=>{he&&ne.next(Re),ne.complete()})))}}(me,Te,arguments.length>=2,!0))}},7647:(tn,Xe,V)=>{V.d(Xe,{u:()=>me});var s=V(8750),ce=V(1413),r=V(7707),Ee=V(9974);function me(be={}){const{connector:Pe=(()=>new ce.B),resetOnError:Me=!0,resetOnComplete:W=!0,resetOnRefCountZero:ne=!0}=be;return he=>{let Re,je,ve,Ye=0,we=!1,Tt=!1;const Bt=()=>{je?.unsubscribe(),je=void 0},Ge=()=>{Bt(),Re=ve=void 0,we=Tt=!1},Ae=()=>{const tt=Re;Ge(),tt?.unsubscribe()};return(0,Ee.N)((tt,Ke)=>{Ye++,!Tt&&!we&&Bt();const ct=ve=ve??Pe();Ke.add(()=>{Ye--,0===Ye&&!Tt&&!we&&(je=Te(Ae,ne))}),ct.subscribe(Ke),!Re&&Ye>0&&(Re=new r.Ms({next:xt=>ct.next(xt),error:xt=>{Tt=!0,Bt(),je=Te(Ge,Me,xt),ct.error(xt)},complete:()=>{we=!0,Bt(),je=Te(Ge,W),ct.complete()}}),(0,s.Tg)(tt).subscribe(Re))})(he)}}function Te(be,Pe,...Me){if(!0===Pe)return void be();if(!1===Pe)return;const W=new r.Ms({next:()=>{W.unsubscribe(),be()}});return(0,s.Tg)(Pe(...Me)).subscribe(W)}},9172:(tn,Xe,V)=>{V.d(Xe,{Z:()=>Ee});var s=V(8793),ce=V(3794),r=V(9974);function Ee(...me){const Te=(0,ce.lI)(me);return(0,r.N)((be,Pe)=>{(Te?(0,s.x)(me,be,Te):(0,s.x)(me,be)).subscribe(Pe)})}},6745:(tn,Xe,V)=>{V.d(Xe,{_:()=>ce});var s=V(9974);function ce(r,Ee=0){return(0,s.N)((me,Te)=>{Te.add(r.schedule(()=>me.subscribe(Te),Ee))})}},5558:(tn,Xe,V)=>{V.d(Xe,{n:()=>Ee});var s=V(8750),ce=V(9974),r=V(4360);function Ee(me,Te){return(0,ce.N)((be,Pe)=>{let Me=null,W=0,ne=!1;const he=()=>ne&&!Me&&Pe.complete();be.subscribe((0,r._)(Pe,Re=>{Me?.unsubscribe();let je=0;const ve=W++;(0,s.Tg)(me(Re,ve)).subscribe(Me=(0,r._)(Pe,Ye=>Pe.next(Te?Te(Re,Ye,ve,je++):Ye),()=>{Me=null,he()}))},()=>{ne=!0,he()}))})}},6697:(tn,Xe,V)=>{V.d(Xe,{s:()=>Ee});var s=V(983),ce=V(9974),r=V(4360);function Ee(me){return me<=0?()=>s.w:(0,ce.N)((Te,be)=>{let Pe=0;Te.subscribe((0,r._)(be,Me=>{++Pe<=me&&(be.next(Me),me<=Pe&&be.complete())}))})}},8141:(tn,Xe,V)=>{V.d(Xe,{M:()=>me});var s=V(8071),ce=V(9974),r=V(4360),Ee=V(3669);function me(Te,be,Pe){const Me=(0,s.T)(Te)||be||Pe?{next:Te,error:be,complete:Pe}:Te;return Me?(0,ce.N)((W,ne)=>{var he;null===(he=Me.subscribe)||void 0===he||he.call(Me);let Re=!0;W.subscribe((0,r._)(ne,je=>{var ve;null===(ve=Me.next)||void 0===ve||ve.call(Me,je),ne.next(je)},()=>{var je;Re=!1,null===(je=Me.complete)||void 0===je||je.call(Me),ne.complete()},je=>{var ve;Re=!1,null===(ve=Me.error)||void 0===ve||ve.call(Me,je),ne.error(je)},()=>{var je,ve;Re&&(null===(je=Me.unsubscribe)||void 0===je||je.call(Me)),null===(ve=Me.finalize)||void 0===ve||ve.call(Me)}))}):Ee.D}},3774:(tn,Xe,V)=>{V.d(Xe,{v:()=>Ee});var s=V(9350),ce=V(9974),r=V(4360);function Ee(Te=me){return(0,ce.N)((be,Pe)=>{let Me=!1;be.subscribe((0,r._)(Pe,W=>{Me=!0,Pe.next(W)},()=>Me?Pe.complete():Pe.error(Te())))})}function me(){return new s.G}},6780:(tn,Xe,V)=>{V.d(Xe,{R:()=>me});var s=V(8359);class ce extends s.yU{constructor(be,Pe){super()}schedule(be,Pe=0){return this}}const r={setInterval(Te,be,...Pe){const{delegate:Me}=r;return Me?.setInterval?Me.setInterval(Te,be,...Pe):setInterval(Te,be,...Pe)},clearInterval(Te){const{delegate:be}=r;return(be?.clearInterval||clearInterval)(Te)},delegate:void 0};var Ee=V(7908);class me extends ce{constructor(be,Pe){super(be,Pe),this.scheduler=be,this.work=Pe,this.pending=!1}schedule(be,Pe=0){var Me;if(this.closed)return this;this.state=be;const W=this.id,ne=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(ne,W,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(Me=this.id)&&void 0!==Me?Me:this.requestAsyncId(ne,this.id,Pe),this}requestAsyncId(be,Pe,Me=0){return r.setInterval(be.flush.bind(be,this),Me)}recycleAsyncId(be,Pe,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Pe;null!=Pe&&r.clearInterval(Pe)}execute(be,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(be,Pe);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Pe){let W,Me=!1;try{this.work(be)}catch(ne){Me=!0,W=ne||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:be,scheduler:Pe}=this,{actions:Me}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.o)(Me,this),null!=be&&(this.id=this.recycleAsyncId(Pe,be,null)),this.delay=null,super.unsubscribe()}}}},9687:(tn,Xe,V)=>{V.d(Xe,{q:()=>r});var s=V(6129);class ce{constructor(me,Te=ce.now){this.schedulerActionCtor=me,this.now=Te}schedule(me,Te=0,be){return new this.schedulerActionCtor(this,me).schedule(be,Te)}}ce.now=s.U.now;class r extends ce{constructor(me,Te=ce.now){super(me,Te),this.actions=[],this._active=!1}flush(me){const{actions:Te}=this;if(this._active)return void Te.push(me);let be;this._active=!0;do{if(be=me.execute(me.state,me.delay))break}while(me=Te.shift());if(this._active=!1,be){for(;me=Te.shift();)me.unsubscribe();throw be}}}},3236:(tn,Xe,V)=>{V.d(Xe,{E:()=>r});var s=V(6780);const r=new(V(9687).q)(s.R)},6129:(tn,Xe,V)=>{V.d(Xe,{U:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},9270:(tn,Xe,V)=>{V.d(Xe,{f:()=>s});const s={setTimeout(ce,r,...Ee){const{delegate:me}=s;return me?.setTimeout?me.setTimeout(ce,r,...Ee):setTimeout(ce,r,...Ee)},clearTimeout(ce){const{delegate:r}=s;return(r?.clearTimeout||clearTimeout)(ce)},delegate:void 0}},4761:(tn,Xe,V)=>{V.d(Xe,{l:()=>ce});const ce=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(tn,Xe,V)=>{V.d(Xe,{s:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(tn,Xe,V)=>{V.d(Xe,{G:()=>ce});const ce=(0,V(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(tn,Xe,V)=>{V.d(Xe,{R0:()=>Te,ms:()=>Ee,lI:()=>me});var s=V(8071);function r(be){return be[be.length-1]}function Ee(be){return(0,s.T)(r(be))?be.pop():void 0}function me(be){return function ce(be){return be&&(0,s.T)(be.schedule)}(r(be))?be.pop():void 0}function Te(be,Pe){return"number"==typeof r(be)?be.pop():Pe}},3073:(tn,Xe,V)=>{V.d(Xe,{D:()=>me});const{isArray:s}=Array,{getPrototypeOf:ce,prototype:r,keys:Ee}=Object;function me(be){if(1===be.length){const Pe=be[0];if(s(Pe))return{args:Pe,keys:null};if(function Te(be){return be&&"object"==typeof be&&ce(be)===r}(Pe)){const Me=Ee(Pe);return{args:Me.map(W=>Pe[W]),keys:Me}}}return{args:be,keys:null}}},7908:(tn,Xe,V)=>{function s(ce,r){if(ce){const Ee=ce.indexOf(r);0<=Ee&&ce.splice(Ee,1)}}V.d(Xe,{o:()=>s})},1853:(tn,Xe,V)=>{function s(ce){const Ee=ce(me=>{Error.call(me),me.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}V.d(Xe,{L:()=>s})},8496:(tn,Xe,V)=>{function s(ce,r){return ce.reduce((Ee,me,Te)=>(Ee[me]=r[Te],Ee),{})}V.d(Xe,{e:()=>s})},9786:(tn,Xe,V)=>{V.d(Xe,{Y:()=>r,l:()=>Ee});var s=V(1026);let ce=null;function r(me){if(s.$.useDeprecatedSynchronousErrorHandling){const Te=!ce;if(Te&&(ce={errorThrown:!1,error:null}),me(),Te){const{errorThrown:be,error:Pe}=ce;if(ce=null,be)throw Pe}}else me()}function Ee(me){s.$.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=me)}},5225:(tn,Xe,V)=>{function s(ce,r,Ee,me=0,Te=!1){const be=r.schedule(function(){Ee(),Te?ce.add(this.schedule(null,me)):this.unsubscribe()},me);if(ce.add(be),!Te)return be}V.d(Xe,{N:()=>s})},3669:(tn,Xe,V)=>{function s(ce){return ce}V.d(Xe,{D:()=>s})},7441:(tn,Xe,V)=>{V.d(Xe,{X:()=>s});const s=ce=>ce&&"number"==typeof ce.length&&"function"!=typeof ce},7953:(tn,Xe,V)=>{V.d(Xe,{T:()=>ce});var s=V(8071);function ce(r){return Symbol.asyncIterator&&(0,s.T)(r?.[Symbol.asyncIterator])}},8071:(tn,Xe,V)=>{function s(ce){return"function"==typeof ce}V.d(Xe,{T:()=>s})},5055:(tn,Xe,V)=>{V.d(Xe,{l:()=>r});var s=V(3494),ce=V(8071);function r(Ee){return(0,ce.T)(Ee[s.s])}},5397:(tn,Xe,V)=>{V.d(Xe,{x:()=>r});var s=V(4761),ce=V(8071);function r(Ee){return(0,ce.T)(Ee?.[s.l])}},9858:(tn,Xe,V)=>{V.d(Xe,{y:()=>ce});var s=V(8071);function ce(r){return(0,s.T)(r?.then)}},5196:(tn,Xe,V)=>{V.d(Xe,{C:()=>r,U:()=>Ee});var s=V(1635),ce=V(8071);function r(me){return(0,s.AQ)(this,arguments,function*(){const be=me.getReader();try{for(;;){const{value:Pe,done:Me}=yield(0,s.N3)(be.read());if(Me)return yield(0,s.N3)(void 0);yield yield(0,s.N3)(Pe)}}finally{be.releaseLock()}})}function Ee(me){return(0,ce.T)(me?.getReader)}},9974:(tn,Xe,V)=>{V.d(Xe,{N:()=>r,S:()=>ce});var s=V(8071);function ce(Ee){return(0,s.T)(Ee?.lift)}function r(Ee){return me=>{if(ce(me))return me.lift(function(Te){try{return Ee(Te,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(tn,Xe,V)=>{V.d(Xe,{I:()=>Ee});var s=V(6354);const{isArray:ce}=Array;function Ee(me){return(0,s.T)(Te=>function r(me,Te){return ce(Te)?me(...Te):me(Te)}(me,Te))}},5343:(tn,Xe,V)=>{function s(){}V.d(Xe,{l:()=>s})},1203:(tn,Xe,V)=>{V.d(Xe,{F:()=>ce,m:()=>r});var s=V(3669);function ce(...Ee){return r(Ee)}function r(Ee){return 0===Ee.length?s.D:1===Ee.length?Ee[0]:function(Te){return Ee.reduce((be,Pe)=>Pe(be),Te)}}},5334:(tn,Xe,V)=>{V.d(Xe,{m:()=>r});var s=V(1026),ce=V(9270);function r(Ee){ce.f.setTimeout(()=>{const{onUnhandledError:me}=s.$;if(!me)throw Ee;me(Ee)})}},591:(tn,Xe,V)=>{function s(ce){return new TypeError(`You provided ${null!==ce&&"object"==typeof ce?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Xe,{L:()=>s})},9969:(tn,Xe,V)=>{V.d(Xe,{FX:()=>Bt,K2:()=>be,Ro:()=>ce,S6:()=>s,hZ:()=>Ee,i0:()=>me,iF:()=>Pe,kY:()=>ne,kp:()=>r,sf:()=>we,ui:()=>Tt});class s{}class ce{}const r="*";function Ee(Ge,Ae){return{type:7,name:Ge,definitions:Ae,options:{}}}function me(Ge,Ae=null){return{type:4,styles:Ae,timings:Ge}}function be(Ge,Ae=null){return{type:2,steps:Ge,options:Ae}}function Pe(Ge){return{type:6,styles:Ge,offset:null}}function ne(Ge,Ae,tt=null){return{type:1,expr:Ge,animation:Ae,options:tt}}class we{constructor(Ae=0,tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const tt="start"==Ae?this._onStartFns:this._onDoneFns;tt.forEach(Ke=>Ke()),tt.length=0}}class Tt{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let tt=0,Ke=0,ct=0;const xt=this.players.length;0==xt?queueMicrotask(()=>this._onFinish()):this.players.forEach(ut=>{ut.onDone(()=>{++tt==xt&&this._onFinish()}),ut.onDestroy(()=>{++Ke==xt&&this._onDestroy()}),ut.onStart(()=>{++ct==xt&&this._onStart()})}),this.totalTime=this.players.reduce((ut,Ie)=>Math.max(ut,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const tt=Ae*this.totalTime;this.players.forEach(Ke=>{const ct=Ke.totalTime?Math.min(1,tt/Ke.totalTime):1;Ke.setPosition(ct)})}getPosition(){const Ae=this.players.reduce((tt,Ke)=>null===tt||Ke.totalTime>tt.totalTime?Ke:tt,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const tt="start"==Ae?this._onStartFns:this._onDoneFns;tt.forEach(Ke=>Ke()),tt.length=0}}const Bt="!"},177:(tn,Xe,V)=>{V.d(Xe,{AJ:()=>Qr,B3:()=>wr,Jj:()=>Xs,MD:()=>Gs,N0:()=>In,P9:()=>cs,PV:()=>mi,QT:()=>r,QX:()=>Wr,Sm:()=>ve,Sq:()=>Xi,VF:()=>me,Vy:()=>Ji,Xr:()=>Le,YU:()=>hr,ZD:()=>Ee,_b:()=>ln,aZ:()=>we,bT:()=>Ao,e1:()=>as,fG:()=>bs,fw:()=>Ye,hb:()=>Re,hj:()=>Pe,lG:()=>Ts,qQ:()=>Te,ux:()=>li});var s=V(7705);let ce=null;function r(){return ce}function Ee(M){ce||(ce=M)}class me{}const Te=new s.nKC("DocumentToken");let be=(()=>{class M{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275prov=s.jDH({token:M,factory:function(){return(0,s.WQX)(Me)},providedIn:"platform"})}}return M})();const Pe=new s.nKC("Location Initialized");let Me=(()=>{class M extends be{constructor(){super(),this._doc=(0,s.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState($){const X=r().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",$,!1),()=>X.removeEventListener("popstate",$)}onHashChange($){const X=r().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",$,!1),()=>X.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,X,Ne){this._history.pushState($,X,Ne)}replaceState($,X,Ne){this._history.replaceState($,X,Ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275prov=s.jDH({token:M,factory:function(){return new M},providedIn:"platform"})}}return M})();function W(M,ie){if(0==M.length)return ie;if(0==ie.length)return M;let $=0;return M.endsWith("/")&&$++,ie.startsWith("/")&&$++,2==$?M+ie.substring(1):1==$?M+ie:M+"/"+ie}function ne(M){const ie=M.match(/#|\?|$/),$=ie&&ie.index||M.length;return M.slice(0,$-("/"===M[$-1]?1:0))+M.slice($)}function he(M){return M&&"?"!==M[0]?"?"+M:M}let Re=(()=>{class M{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275prov=s.jDH({token:M,factory:function(){return(0,s.WQX)(ve)},providedIn:"root"})}}return M})();const je=new s.nKC("appBaseHref");let ve=(()=>{class M extends Re{constructor($,X){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,s.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return W(this._baseHref,$)}path($=!1){const X=this._platformLocation.pathname+he(this._platformLocation.search),Ne=this._platformLocation.hash;return Ne&&$?`${X}${Ne}`:X}pushState($,X,Ne,It){const kt=this.prepareExternalUrl(Ne+he(It));this._platformLocation.pushState($,X,kt)}replaceState($,X,Ne,It){const kt=this.prepareExternalUrl(Ne+he(It));this._platformLocation.replaceState($,X,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(X){return new(X||M)(s.KVO(be),s.KVO(je,8))}}static{this.\u0275prov=s.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Ye=(()=>{class M extends Re{constructor($,X){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl($){const X=W(this._baseHref,$);return X.length>0?"#"+X:X}pushState($,X,Ne,It){let kt=this.prepareExternalUrl(Ne+he(It));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.pushState($,X,kt)}replaceState($,X,Ne,It){let kt=this.prepareExternalUrl(Ne+he(It));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.replaceState($,X,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(X){return new(X||M)(s.KVO(be),s.KVO(je,8))}}static{this.\u0275prov=s.jDH({token:M,factory:M.\u0275fac})}}return M})(),we=(()=>{class M{constructor($){this._subject=new s.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const X=this._locationStrategy.getBaseHref();this._basePath=function Ae(M){if(new RegExp("^(https?:)?//").test(M)){const[,$]=M.split(/\/\/[^\/]+/);return $}return M}(ne(Ge(X))),this._locationStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,X=""){return this.path()==this.normalize($+he(X))}normalize($){return M.stripTrailingSlash(function Bt(M,ie){if(!M||!ie.startsWith(M))return ie;const $=ie.substring(M.length);return""===$||["/",";","?","#"].includes($[0])?$:ie}(this._basePath,Ge($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,X="",Ne=null){this._locationStrategy.pushState(Ne,"",$,X),this._notifyUrlChangeListeners(this.prepareExternalUrl($+he(X)),Ne)}replaceState($,X="",Ne=null){this._locationStrategy.replaceState(Ne,"",$,X),this._notifyUrlChangeListeners(this.prepareExternalUrl($+he(X)),Ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",X){this._urlChangeListeners.forEach(Ne=>Ne($,X))}subscribe($,X,Ne){return this._subject.subscribe({next:$,error:X,complete:Ne})}static{this.normalizeQueryParams=he}static{this.joinWithSlash=W}static{this.stripTrailingSlash=ne}static{this.\u0275fac=function(X){return new(X||M)(s.KVO(Re))}}static{this.\u0275prov=s.jDH({token:M,factory:function(){return function Tt(){return new we((0,s.KVO)(Re))}()},providedIn:"root"})}}return M})();function Ge(M){return M.replace(/\/index.html$/,"")}var Ke=function(M){return M[M.Decimal=0]="Decimal",M[M.Percent=1]="Percent",M[M.Currency=2]="Currency",M[M.Scientific=3]="Scientific",M}(Ke||{}),Ze=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(Ze||{});function ye(M,ie){const $=(0,s.H5H)(M),X=$[s.KH2.NumberSymbols][ie];if(typeof X>"u"){if(ie===Ze.CurrencyDecimal)return $[s.KH2.NumberSymbols][Ze.Decimal];if(ie===Ze.CurrencyGroup)return $[s.KH2.NumberSymbols][Ze.Group]}return X}const O=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function sr(M){const ie=parseInt(M);if(isNaN(ie))throw new Error("Invalid integer literal when parsing "+M);return ie}function ln(M,ie){ie=encodeURIComponent(ie);for(const $ of M.split(";")){const X=$.indexOf("="),[Ne,It]=-1==X?[$,""]:[$.slice(0,X),$.slice(X+1)];if(Ne.trim()===ie)return decodeURIComponent(It)}return null}const Un=/\s+/,Nn=[];let hr=(()=>{class M{constructor($,X,Ne,It){this._iterableDiffers=$,this._keyValueDiffers=X,this._ngEl=Ne,this._renderer=It,this.initialClasses=Nn,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Un):Nn}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Un):$}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const X of $)this._updateState(X,!0);else if(null!=$)for(const X of Object.keys($))this._updateState(X,!!$[X]);this._applyStateDiff()}_updateState($,X){const Ne=this.stateMap.get($);void 0!==Ne?(Ne.enabled!==X&&(Ne.changed=!0,Ne.enabled=X),Ne.touched=!0):this.stateMap.set($,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const X=$[0],Ne=$[1];Ne.changed?(this._toggleClass(X,Ne.enabled),Ne.changed=!1):Ne.touched||(Ne.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),Ne.touched=!1}}_toggleClass($,X){($=$.trim()).length>0&&$.split(Un).forEach(Ne=>{X?this._renderer.addClass(this._ngEl.nativeElement,Ne):this._renderer.removeClass(this._ngEl.nativeElement,Ne)})}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s._q3),s.rXU(s.MKu),s.rXU(s.aKT),s.rXU(s.sFG))}}static{this.\u0275dir=s.FsC({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return M})();class fr{constructor(ie,$,X,Ne){this.$implicit=ie,this.ngForOf=$,this.index=X,this.count=Ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xi=(()=>{class M{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,X,Ne){this._viewContainer=$,this._template=X,this._differs=Ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const X=this._viewContainer;$.forEachOperation((Ne,It,kt)=>{if(null==Ne.previousIndex)X.createEmbeddedView(this._template,new fr(Ne.item,this._ngForOf,-1,-1),null===kt?void 0:kt);else if(null==kt)X.remove(null===It?void 0:It);else if(null!==It){const Ln=X.get(It);X.move(Ln,kt),ks(Ln,Ne)}});for(let Ne=0,It=X.length;Ne<It;Ne++){const Ln=X.get(Ne).context;Ln.index=Ne,Ln.count=It,Ln.ngForOf=this._ngForOf}$.forEachIdentityChange(Ne=>{ks(X.get(Ne.currentIndex),Ne)})}static ngTemplateContextGuard($,X){return!0}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(s._q3))}}static{this.\u0275dir=s.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return M})();function ks(M,ie){M.context.$implicit=ie.item}let Ao=(()=>{class M{constructor($,X){this._viewContainer=$,this._context=new Do,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){ji("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){ji("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,X){return!0}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s.c1b),s.rXU(s.C4Q))}}static{this.\u0275dir=s.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return M})();class Do{constructor(){this.$implicit=null,this.ngIf=null}}function ji(M,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,s.Tbb)(ie)}'.`)}class jo{constructor(ie,$){this._viewContainerRef=ie,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ie){ie&&!this._created?this.create():!ie&&this._created&&this.destroy()}}let li=(()=>{class M{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const X=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const X of this._defaultViews)X.enforceState($)}}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275dir=s.FsC({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return M})(),as=(()=>{class M{constructor($,X,Ne){this.ngSwitch=Ne,Ne._addCase(),this._view=new jo($,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(li,9))}}static{this.\u0275dir=s.FsC({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return M})(),bs=(()=>{class M{constructor($,X,Ne){Ne._addDefault(new jo($,X))}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(li,9))}}static{this.\u0275dir=s.FsC({type:M,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return M})(),wr=(()=>{class M{constructor($,X,Ne){this._ngEl=$,this._differs=X,this._renderer=Ne,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,X){const[Ne,It]=$.split("."),kt=-1===Ne.indexOf("-")?void 0:s.czy.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,Ne,It?`${X}${It}`:X,kt):this._renderer.removeStyle(this._ngEl.nativeElement,Ne,kt)}_applyChanges($){$.forEachRemovedItem(X=>this._setStyle(X.key,null)),$.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),$.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s.aKT),s.rXU(s.MKu),s.rXU(s.sFG))}}static{this.\u0275dir=s.FsC({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return M})();function fi(M,ie){return new s.wOt(2100,!1)}class Oa{createSubscription(ie,$){return(0,s.O8t)(()=>ie.subscribe({next:$,error:X=>{throw X}}))}dispose(ie){(0,s.O8t)(()=>ie.unsubscribe())}}class Qa{createSubscription(ie,$){return ie.then($,X=>{throw X})}dispose(ie){}}const Pi=new Qa,pa=new Oa;let Xs=(()=>{class M{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,X=>this._updateLatestValue($,X))}_selectStrategy($){if((0,s.jNT)($))return Pi;if((0,s.zjR)($))return pa;throw fi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,X){$===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s.gRc,16))}}static{this.\u0275pipe=s.EJ8({name:"async",type:M,pure:!1,standalone:!0})}}return M})();const $s=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let mi=(()=>{class M{transform($){if(null==$)return null;if("string"!=typeof $)throw fi();return $.replace($s,X=>X[0].toUpperCase()+X.slice(1).toLowerCase())}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275pipe=s.EJ8({name:"titlecase",type:M,pure:!0,standalone:!0})}}return M})(),Ts=(()=>{class M{constructor($){this.differs=$,this.keyValues=[],this.compareFn=Ss}transform($,X=Ss){if(!$||!($ instanceof Map)&&"object"!=typeof $)return null;this.differ||(this.differ=this.differs.find($).create());const Ne=this.differ.diff($),It=X!==this.compareFn;return Ne&&(this.keyValues=[],Ne.forEachItem(kt=>{this.keyValues.push(function ki(M,ie){return{key:M,value:ie}}(kt.key,kt.currentValue))})),(Ne||It)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s.MKu,16))}}static{this.\u0275pipe=s.EJ8({name:"keyvalue",type:M,pure:!1,standalone:!0})}}return M})();function Ss(M,ie){const $=M.key,X=ie.key;if($===X)return 0;if(void 0===$)return 1;if(void 0===X)return-1;if(null===$)return 1;if(null===X)return-1;if("string"==typeof $&&"string"==typeof X)return $<X?-1:1;if("number"==typeof $&&"number"==typeof X)return $-X;if("boolean"==typeof $&&"boolean"==typeof X)return $<X?-1:1;const Ne=String($),It=String(X);return Ne==It?0:Ne<It?-1:1}let Wr=(()=>{class M{constructor($){this._locale=$}transform($,X,Ne){if(!function ur(M){return!(null==M||""===M||M!=M)}($))return null;Ne=Ne||this._locale;try{return function Bs(M,ie,$){return function an(M,ie,$,X,Ne,It,kt=!1){let Ln="",Kr=!1;if(isFinite(M)){let si=function Es(M){let X,Ne,It,kt,Ln,ie=Math.abs(M)+"",$=0;for((Ne=ie.indexOf("."))>-1&&(ie=ie.replace(".","")),(It=ie.search(/e/i))>0?(Ne<0&&(Ne=It),Ne+=+ie.slice(It+1),ie=ie.substring(0,It)):Ne<0&&(Ne=ie.length),It=0;"0"===ie.charAt(It);It++);if(It===(Ln=ie.length))X=[0],Ne=1;else{for(Ln--;"0"===ie.charAt(Ln);)Ln--;for(Ne-=It,X=[],kt=0;It<=Ln;It++,kt++)X[kt]=Number(ie.charAt(It))}return Ne>22&&(X=X.splice(0,21),$=Ne-1,Ne=1),{digits:X,exponent:$,integerLen:Ne}}(M);kt&&(si=function vs(M){if(0===M.digits[0])return M;const ie=M.digits.length-M.integerLen;return M.exponent?M.exponent+=2:(0===ie?M.digits.push(0,0):1===ie&&M.digits.push(0),M.integerLen+=2),M}(si));let Zr=ie.minInt,mr=ie.minFrac,ci=ie.maxFrac;if(It){const Ki=It.match(O);if(null===Ki)throw new Error(`${It} is not a valid digit info`);const xo=Ki[1],ts=Ki[3],eo=Ki[5];null!=xo&&(Zr=sr(xo)),null!=ts&&(mr=sr(ts)),null!=eo?ci=sr(eo):null!=ts&&mr>ci&&(ci=mr)}!function gi(M,ie,$){if(ie>$)throw new Error(`The minimum number of digits after fraction (${ie}) is higher than the maximum (${$}).`);let X=M.digits,Ne=X.length-M.integerLen;const It=Math.min(Math.max(ie,Ne),$);let kt=It+M.integerLen,Ln=X[kt];if(kt>0){X.splice(Math.max(M.integerLen,kt));for(let mr=kt;mr<X.length;mr++)X[mr]=0}else{Ne=Math.max(0,Ne),M.integerLen=1,X.length=Math.max(1,kt=It+1),X[0]=0;for(let mr=1;mr<kt;mr++)X[mr]=0}if(Ln>=5)if(kt-1<0){for(let mr=0;mr>kt;mr--)X.unshift(0),M.integerLen++;X.unshift(1),M.integerLen++}else X[kt-1]++;for(;Ne<Math.max(0,It);Ne++)X.push(0);let Kr=0!==It;const si=ie+M.integerLen,Zr=X.reduceRight(function(mr,ci,Ai,Di){return Di[Ai]=(ci+=mr)<10?ci:ci-10,Kr&&(0===Di[Ai]&&Ai>=si?Di.pop():Kr=!1),ci>=10?1:0},0);Zr&&(X.unshift(Zr),M.integerLen++)}(si,mr,ci);let Ai=si.digits,Di=si.integerLen;const fs=si.exponent;let Gi=[];for(Kr=Ai.every(Ki=>!Ki);Di<Zr;Di++)Ai.unshift(0);for(;Di<0;Di++)Ai.unshift(0);Di>0?Gi=Ai.splice(Di,Ai.length):(Gi=Ai,Ai=[0]);const so=[];for(Ai.length>=ie.lgSize&&so.unshift(Ai.splice(-ie.lgSize,Ai.length).join(""));Ai.length>ie.gSize;)so.unshift(Ai.splice(-ie.gSize,Ai.length).join(""));Ai.length&&so.unshift(Ai.join("")),Ln=so.join(ye($,X)),Gi.length&&(Ln+=ye($,Ne)+Gi.join("")),fs&&(Ln+=ye($,Ze.Exponential)+"+"+fs)}else Ln=ye($,Ze.Infinity);return Ln=M<0&&!Kr?ie.negPre+Ln+ie.negSuf:ie.posPre+Ln+ie.posSuf,Ln}(M,function Ni(M,ie="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=M.split(";"),Ne=X[0],It=X[1],kt=-1!==Ne.indexOf(".")?Ne.split("."):[Ne.substring(0,Ne.lastIndexOf("0")+1),Ne.substring(Ne.lastIndexOf("0")+1)],Ln=kt[0],Kr=kt[1]||"";$.posPre=Ln.substring(0,Ln.indexOf("#"));for(let Zr=0;Zr<Kr.length;Zr++){const mr=Kr.charAt(Zr);"0"===mr?$.minFrac=$.maxFrac=Zr+1:"#"===mr?$.maxFrac=Zr+1:$.posSuf+=mr}const si=Ln.split(",");if($.gSize=si[1]?si[1].length:0,$.lgSize=si[2]||si[1]?(si[2]||si[1]).length:0,It){const Zr=Ne.length-$.posPre.length-$.posSuf.length,mr=It.indexOf("#");$.negPre=It.substring(0,mr).replace(/'/g,""),$.negSuf=It.slice(mr+Zr).replace(/'/g,"")}else $.negPre=ie+$.posPre,$.negSuf=$.posSuf;return $}(function Fe(M,ie){return(0,s.H5H)(M)[s.KH2.NumberFormats][ie]}(ie,Ke.Decimal),ye(ie,Ze.MinusSign)),ie,Ze.Group,Ze.Decimal,$)}(function Qi(M){if("string"==typeof M&&!isNaN(Number(M)-parseFloat(M)))return Number(M);if("number"!=typeof M)throw new Error(`${M} is not a number`);return M}($),Ne,X)}catch(It){throw fi()}}static{this.\u0275fac=function(X){return new(X||M)(s.rXU(s.xe9,16))}}static{this.\u0275pipe=s.EJ8({name:"number",type:M,pure:!0,standalone:!0})}}return M})();let cs=(()=>{class M{transform($,X,Ne){if(null==$)return null;if(!this.supports($))throw fi();return $.slice(X,Ne)}supports($){return"string"==typeof $||Array.isArray($)}static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275pipe=s.EJ8({name:"slice",type:M,pure:!1,standalone:!0})}}return M})(),Gs=(()=>{class M{static{this.\u0275fac=function(X){return new(X||M)}}static{this.\u0275mod=s.$C({type:M})}static{this.\u0275inj=s.G2t({})}}return M})();const Qr="browser",us="server";function Ji(M){return M===us}let Le=(()=>{class M{static{this.\u0275prov=(0,s.jDH)({token:M,providedIn:"root",factory:()=>new nt((0,s.KVO)(Te),window)})}}return M})();class nt{constructor(ie,$){this.document=ie,this.window=$,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const $=function _t(M,ie){const $=M.getElementById(ie)||M.getElementsByName(ie)[0];if($)return $;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Ne=X.currentNode;for(;Ne;){const It=Ne.shadowRoot;if(It){const kt=It.getElementById(ie)||It.querySelector(`[name="${ie}"]`);if(kt)return kt}Ne=X.nextNode()}}return null}(this.document,ie);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(ie){this.supportsScrolling()&&(this.window.history.scrollRestoration=ie)}scrollToElement(ie){const $=ie.getBoundingClientRect(),X=$.left+this.window.pageXOffset,Ne=$.top+this.window.pageYOffset,It=this.offset();this.window.scrollTo(X-It[0],Ne-It[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class In{}},7705:(tn,Xe,V)=>{V.d(Xe,{$C:()=>ni,$GK:()=>En,$K3:()=>SI,$MX:()=>eu,AVh:()=>e0,Agw:()=>gm,B4B:()=>Up,BIS:()=>iv,BMQ:()=>jf,C4Q:()=>oE,C5r:()=>cI,Co$:()=>vT,DNE:()=>Ph,EFF:()=>o0,EJ8:()=>xi,EmA:()=>dh,FS9:()=>Id,FsC:()=>$i,G2t:()=>Qt,GBs:()=>rI,GFd:()=>cy,H3F:()=>DI,H5H:()=>b0,H8p:()=>Ef,HJs:()=>tA,HbH:()=>$v,Hbi:()=>$1,JRh:()=>zm,JZv:()=>zn,Jv_:()=>yT,KH2:()=>qm,KVO:()=>Pt,Kcf:()=>Gy,L39:()=>Z1,LHq:()=>qv,LfX:()=>xn,Lme:()=>Kv,MKu:()=>tT,Mz_:()=>Ma,NEm:()=>y1,NYb:()=>p1,Njj:()=>qi,O8t:()=>It,OA$:()=>mr,OM3:()=>Ul,Ocv:()=>Gw,Ol2:()=>bT,PLl:()=>rv,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>zi,R7$:()=>kE,RV6:()=>Td,Rfq:()=>ve,RxE:()=>lv,SKi:()=>bo,SpI:()=>Dy,TL$:()=>hf,Tbb:()=>he,UyX:()=>Fp,VBU:()=>Qa,Vns:()=>Xm,Vt3:()=>Vf,WHO:()=>MI,WPN:()=>Zu,WQX:()=>hn,XpG:()=>go,Xx1:()=>_l,Y8G:()=>vd,Z63:()=>ed,ZF7:()=>wa,_9s:()=>Sf,_q3:()=>eT,aKT:()=>gh,aNF:()=>TT,bIt:()=>Y,bMT:()=>$T,bVm:()=>kh,bc$:()=>Cf,bkB:()=>Dc,brH:()=>HT,c1b:()=>x0,cWb:()=>Qg,czy:()=>Ku,e01:()=>OI,e5t:()=>Hy,eBV:()=>$n,eq3:()=>PT,eu8:()=>xa,fpN:()=>B1,gRc:()=>D1,gXe:()=>Es,giA:()=>NI,h9k:()=>Vp,hnV:()=>AI,i5U:()=>GT,iLQ:()=>qb,j41:()=>Ed,jDH:()=>rn,jNT:()=>E,k0s:()=>ea,kS0:()=>Fd,kdw:()=>zu,l4e:()=>kT,lJ4:()=>RT,lNU:()=>Ge,l_i:()=>xT,lsd:()=>sI,mGM:()=>nI,mq5:()=>Py,n$t:()=>S_,nI1:()=>BT,nKC:()=>dn,naY:()=>A1,npT:()=>om,nrm:()=>Mh,o8S:()=>ky,oH4:()=>VI,osQ:()=>Jg,plB:()=>Vb,qex:()=>Xf,rXU:()=>Sc,rcV:()=>Zc,s1E:()=>NT,sFG:()=>pE,sMw:()=>MT,sZ2:()=>O_,sdS:()=>xh,tSv:()=>gv,uvJ:()=>Ei,w6W:()=>LC,wOt:()=>Ae,wni:()=>iI,xGo:()=>sc,xc7:()=>$m,xe9:()=>O0,xvI:()=>cv,yjJ:()=>Tg,zZn:()=>Cc,zcH:()=>vl,ziG:()=>OT,zjR:()=>B});var s=V(1413),ce=V(8359),r=V(1985),Ee=V(7786),me=V(4412),Te=V(7673),be=V(7647),Pe=V(5558),Me=V(3294);function W(t){for(let n in t)if(t[n]===W)return n;throw Error("Could not find renamed property on target object.")}function ne(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function he(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(he).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Re(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const je=W({__forward_ref__:W});function ve(t){return t.__forward_ref__=ve,t.toString=function(){return he(this())},t}function Ye(t){return we(t)?t():t}function we(t){return"function"==typeof t&&t.hasOwnProperty(je)&&t.__forward_ref__===ve}function Tt(t){return t&&!!t.\u0275providers}const Ge="https://g.co/ng/security#xss";class Ae extends Error{constructor(n,o){super(function tt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,o)),this.code=n}}function Ke(t){return"string"==typeof t?t:null==t?"":String(t)}function Ze(t,n){throw new Ae(-201,!1)}function ot(t,n){null==t&&function We(t,n,o,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${o} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function rn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bn(t){return zt(t,sn)||zt(t,Xn)}function xn(t){return null!==Bn(t)}function zt(t,n){return t.hasOwnProperty(n)?t[n]:null}function dr(t){return t&&(t.hasOwnProperty(xr)||t.hasOwnProperty(Gt))?t[xr]:null}const sn=W({\u0275prov:W}),xr=W({\u0275inj:W}),Xn=W({ngInjectableDef:W}),Gt=W({ngInjectorDef:W});var En=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(En||{});let Gn;function Br(t){const n=Gn;return Gn=t,n}function Dr(t,n,o){const u=Bn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&En.Optional?null:void 0!==n?n:void Ze(he(t))}const zn=globalThis;class dn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=rn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vn={},Vr="__NG_DI_FLAG__",Ir="ngTempTokenPath",He=/\n/gm,A="__source";let O;function pe(t){const n=O;return O=t,n}function dt(t,n=En.Default){if(void 0===O)throw new Ae(-203,!1);return null===O?Dr(t,void 0,n):O.get(t,n&En.Optional?null:void 0,n)}function Pt(t,n=En.Default){return(function Tn(){return Gn}()||dt)(Ye(t),n)}function hn(t,n=En.Default){return Pt(t,wn(n))}function wn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Er(t){const n=[];for(let o=0;o<t.length;o++){const u=Ye(t[o]);if(Array.isArray(u)){if(0===u.length)throw new Ae(900,!1);let f,m=En.Default;for(let I=0;I<u.length;I++){const D=u[I],N=zr(D);"number"==typeof N?-1===N?f=D.token:m|=N:f=D}n.push(Pt(f,m))}else n.push(Pt(u))}return n}function an(t,n){return t[Vr]=n,t.prototype[Vr]=n,t}function zr(t){return t[Vr]}function Ni(t){return{toString:t}.toString()}var vs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vs||{}),Es=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Es||{});const gi={},sr=[],Ns=W({\u0275cmp:W}),Dt=W({\u0275dir:W}),lt=W({\u0275pipe:W}),Mt=W({\u0275mod:W}),ln=W({\u0275fac:W}),Un=W({__NG_ELEMENT_ID__:W}),Nn=W({__NG_ENV_ID__:W});function hr(t,n,o){let u=t.length;for(;;){const f=t.indexOf(n,o);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===u||t.charCodeAt(f+m)<=32)return f}o=f+1}}function $r(t,n,o){let u=0;for(;u<o.length;){const f=o[u];if("number"==typeof f){if(0!==f)break;u++;const m=o[u++],I=o[u++],D=o[u++];t.setAttribute(n,I,D,m)}else{const m=f,I=o[++u];fr(m)?t.setProperty(n,m,I):t.setAttribute(n,m,I),u++}}return u}function qr(t){return 3===t||4===t||6===t}function fr(t){return 64===t.charCodeAt(0)}function Xi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?o=f:0===o||ks(t,o,f,null,-1===o||2===o?n[++u]:null)}}return t}function ks(t,n,o,u,f){let m=0,I=t.length;if(-1===n)I=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){I=-1;break}if(D>n){I=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===o){if(null===u)return void(null!==f&&(t[m+1]=f));if(u===t[m+1])return void(t[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==I&&(t.splice(I,0,n),m=I+1),t.splice(m++,0,o),null!==u&&t.splice(m++,0,u),null!==f&&t.splice(m++,0,f)}const os="ng-template";function Ao(t,n,o){let u=0,f=!0;for(;u<t.length;){let m=t[u++];if("string"==typeof m&&f){const I=t[u++];if(o&&"class"===m&&-1!==hr(I.toLowerCase(),n,0))return!0}else{if(1===m){for(;u<t.length&&"string"==typeof(m=t[u++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Do(t){return 4===t.type&&t.value!==os}function ji(t,n,o){return n===(4!==t.type||o?t.value:os)}function jo(t,n,o){let u=4;const f=t.attrs||[],m=function Bi(t){for(let n=0;n<t.length;n++)if(qr(t[n]))return n;return t.length}(f);let I=!1;for(let D=0;D<n.length;D++){const N=n[D];if("number"!=typeof N){if(!I)if(4&u){if(u=2|1&u,""!==N&&!ji(t,N,o)||""===N&&1===n.length){if(li(u))return!1;I=!0}}else{const z=8&u?N:n[++D];if(8&u&&null!==t.attrs){if(!Ao(t.attrs,z,o)){if(li(u))return!1;I=!0}continue}const De=as(8&u?"class":N,f,Do(t),o);if(-1===De){if(li(u))return!1;I=!0;continue}if(""!==z){let rt;rt=De>m?"":f[De+1].toLowerCase();const gt=8&u?rt:null;if(gt&&-1!==hr(gt,z,0)||2&u&&z!==rt){if(li(u))return!1;I=!0}}}}else{if(!I&&!li(u)&&!li(N))return!1;if(I&&li(N))continue;I=!1,u=N|1&u}}return li(u)||I}function li(t){return 0==(1&t)}function as(t,n,o,u){if(null===n)return-1;let f=0;if(u||!o){let m=!1;for(;f<n.length;){const I=n[f];if(I===t)return f;if(3===I||6===I)m=!0;else{if(1===I||2===I){let D=n[++f];for(;"string"==typeof D;)D=n[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=m?1:2}return-1}return function Mi(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const u=t[o];if("number"==typeof u)return-1;if(u===n)return o;o++}return-1}(n,t)}function bs(t,n,o=!1){for(let u=0;u<n.length;u++)if(jo(t,n[u],o))return!0;return!1}function co(t,n){return t?":not("+n.trim()+")":n}function So(t){let n=t[0],o=1,u=2,f="",m=!1;for(;o<t.length;){let I=t[o];if("string"==typeof I)if(2&u){const D=t[++o];f+="["+I+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?f+="."+I:4&u&&(f+=" "+I);else""!==f&&!li(I)&&(n+=co(m,f),f=""),u=I,m=m||!li(u);o++}return""!==f&&(n+=co(m,f)),n}function Qa(t){return Ni(()=>{const n=ls(t),o={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Es.Emulated,styles:t.styles||sr,_:null,schemas:t.schemas||null,tView:null,id:""};Qs(o);const u=t.dependencies;return o.directiveDefs=ki(u,!1),o.pipeDefs=ki(u,!0),o.id=function Ss(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of o)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function pa(t){return Yn(t)||Xr(t)}function Xs(t){return null!==t}function ni(t){return Ni(()=>({type:t.type,bootstrap:t.bootstrap||sr,declarations:t.declarations||sr,imports:t.imports||sr,exports:t.exports||sr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mi(t,n){if(null==t)return gi;const o={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),o[f]=u,n&&(n[f]=m)}return o}function $i(t){return Ni(()=>{const n=ls(t);return Qs(n),n})}function xi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yn(t){return t[Ns]||null}function Xr(t){return t[Dt]||null}function ri(t){return t[lt]||null}function zi(t){const n=Yn(t)||Xr(t)||ri(t);return null!==n&&n.standalone}function Gr(t,n){const o=t[Mt]||null;if(!o&&!0===n)throw new Error(`Type ${he(t)} does not have '\u0275mod' property.`);return o}function ls(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||gi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||sr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mi(t.inputs,n),outputs:mi(t.outputs)}}function Qs(t){t.features?.forEach(n=>n(t))}function ki(t,n){if(!t)return null;const o=n?ri:pa;return()=>("function"==typeof t?t():t).map(u=>o(u)).filter(Xs)}const Wr=0,gn=1,nr=2,ur=3,Qi=4,cs=5,Fi=6,Gs=7,Qr=8,us=9,Rs=10,jn=11,_i=12,Ji=13,ee=14,J=15,Se=16,Le=17,nt=18,_t=19,Yt=20,In=21,fn=22,qn=23,Ar=24,Dn=25,Zn=1,kr=2,ii=7,Vi=9,Sr=11;function wi(t){return Array.isArray(t)&&"object"==typeof t[Zn]}function Mr(t){return Array.isArray(t)&&!0===t[Zn]}function Bo(t){return 0!=(4&t.flags)}function ds(t){return t.componentOffset>-1}function Js(t){return 1==(1&t.flags)}function io(t){return!!t.template}function na(t){return 0!=(512&t[nr])}function Ps(t,n){return t.hasOwnProperty(ln)?t[ln]:null}let xs=null,ga=!1;function Wi(t){const n=xs;return xs=t,n}const ia={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Za(t){if(!mo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!bl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Cs(t){t.dirty=!0,function ho(t){if(void 0===t.liveConsumerNode)return;const n=ga;ga=!0;try{for(const o of t.liveConsumerNode)o.dirty||Cs(o)}finally{ga=n}}(t),t.consumerMarkedDirty?.(t)}function ma(t){return t&&(t.nextProducerIndex=0),Wi(t)}function Fa(t,n){if(Wi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(mo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Tl(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bl(t){_o(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==o.version||(Za(o),u!==o.version))return!0}return!1}function vu(t){if(_o(t),mo(t))for(let n=0;n<t.producerNode.length;n++)Tl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Tl(t,n){if(function el(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),_o(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Tl(t.producerNode[u],t.producerIndexOfThis[u]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];_o(f),f.producerIndexOfThis[u]=n}}function mo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _o(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ho=null;function It(t){const n=Wi(null);try{return t()}finally{Wi(n)}}const Ln=()=>{},Kr=(()=>({...ia,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Ln}))();class Zr{constructor(n,o,u){this.previousValue=n,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function mr(){return ci}function ci(t){return t.type.prototype.ngOnChanges&&(t.setInput=Di),Ai}function Ai(){const t=Gi(this),n=t?.current;if(n){const o=t.previous;if(o===gi)t.previous=n;else for(let u in n)o[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Di(t,n,o,u){const f=this.declaredInputs[o],m=Gi(t)||function so(t,n){return t[fs]=n}(t,{previous:gi,current:null}),I=m.current||(m.current={}),D=m.previous,N=D[f];I[f]=new Zr(N&&N.currentValue,n,D===gi),t[u]=n}mr.ngInherit=!0;const fs="__ngSimpleChanges__";function Gi(t){return t[fs]||null}const ts=function(t,n,o){};function br(t){for(;Array.isArray(t);)t=t[Wr];return t}function Hs(t,n){return br(n[t])}function Ui(t,n){return br(n[t.index])}function Tu(t,n){return t.data[n]}function sl(t,n){return t[n]}function Hi(t,n){const o=n[t];return wi(o)?o:o[Wr]}function ws(t,n){return null==n?null:t[n]}function _a(t){t[Le]=0}function Jl(t){1024&t[nr]||(t[nr]|=1024,wu(t,1))}function Cu(t){1024&t[nr]&&(t[nr]&=-1025,wu(t,-1))}function wu(t,n){let o=t[ur];if(null===o)return;o[cs]+=n;let u=o;for(o=o[ur];null!==o&&(1===n&&1===u[cs]||-1===n&&0===u[cs]);)o[cs]+=n,u=o,o=o[ur]}const or={lFrame:le(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zt(){return or.bindingsEnabled}function jt(){return or.lFrame.lView}function Cr(){return or.lFrame.tView}function $n(t){return or.lFrame.contextLView=t,t[Qr]}function qi(t){return or.lFrame.contextLView=null,t}function zs(){let t=Fc();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fc(){return or.lFrame.currentTNode}function No(t,n){const o=or.lFrame;o.currentTNode=t,o.isParent=n}function tc(){return or.lFrame.isParent}function Ru(){or.lFrame.isParent=!1}function oo(){const t=or.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function fo(){return or.lFrame.bindingIndex}function cl(){return or.lFrame.bindingIndex++}function po(t){const n=or.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function tp(t,n){const o=or.lFrame;o.bindingIndex=o.bindingRootIndex=t,Pu(n)}function Pu(t){or.lFrame.currentDirectiveIndex=t}function Cl(){return or.lFrame.currentQueryIndex}function S(t){or.lFrame.currentQueryIndex=t}function k(t){const n=t[gn];return 2===n.type?n.declTNode:1===n.type?t[Fi]:null}function w(t,n,o){if(o&En.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||o&En.Host||(f=k(m),null===f||(m=m[ee],10&f.type))););if(null===f)return!1;n=f,t=m}const u=or.lFrame=H();return u.currentTNode=n,u.lView=t,!0}function F(t){const n=H(),o=t[gn];or.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function H(){const t=or.lFrame,n=null===t?null:t.child;return null===n?le(t):n}function le(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Oe(){const t=or.lFrame;return or.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wt=Oe;function yt(){const t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rr(){return or.lFrame.selectedIndex}function Or(t){or.lFrame.selectedIndex=t}function pi(){const t=or.lFrame;return Tu(t.tView,t.selectedIndex)}let Lc=!0;function fl(){return Lc}function ko(t){Lc=t}function $a(t,n){for(let o=n.directiveStart,u=n.directiveEnd;o<u;o++){const m=t.data[o].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:D,ngAfterViewInit:N,ngAfterViewChecked:z,ngOnDestroy:oe}=m;I&&(t.contentHooks??=[]).push(-o,I),D&&((t.contentHooks??=[]).push(o,D),(t.contentCheckHooks??=[]).push(o,D)),N&&(t.viewHooks??=[]).push(-o,N),z&&((t.viewHooks??=[]).push(o,z),(t.viewCheckHooks??=[]).push(o,z)),null!=oe&&(t.destroyHooks??=[]).push(o,oe)}}function Vc(t,n,o){Ou(t,n,3,o)}function xu(t,n,o,u){(3&t[nr])===o&&Ou(t,n,o,u)}function Mu(t,n){let o=t[nr];(3&o)===n&&(o&=8191,o+=1,t[nr]=o)}function Ou(t,n,o,u){const m=u??-1,I=n.length-1;let D=0;for(let N=void 0!==u?65535&t[Le]:0;N<I;N++)if("number"==typeof n[N+1]){if(D=n[N],null!=u&&D>=u)break}else n[N]<0&&(t[Le]+=65536),(D<m||-1==m)&&(Al(t,o,n,N),t[Le]=(4294901760&t[Le])+N+2),N++}function Nu(t,n){ts(4,t,n);const o=Wi(null);try{n.call(t)}finally{Wi(o),ts(5,t,n)}}function Al(t,n,o,u){const f=o[u]<0,m=o[u+1],D=t[f?-o[u]:o[u]];f?t[nr]>>13<t[Le]>>16&&(3&t[nr])===n&&(t[nr]+=8192,Nu(D,m)):Nu(D,m)}const Fo=-1;class oa{constructor(n,o,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Fu(t){return t!==Fo}function Sl(t){return 32767&t}function nc(t,n){let o=function Od(t){return t>>16}(t),u=n;for(;o>0;)u=u[ee],o--;return u}let Lu=!0;function Ko(t){const n=Lu;return Lu=t,n}const sp=255,yo=5;let Vu=0;const vo={};function rc(t,n){const o=Hh(t,n);if(-1!==o)return o;const u=n[gn];u.firstCreatePass&&(t.injectorIndex=n.length,Ls(u.data,t),Ls(n,null),Ls(u.blueprint,null));const f=Ga(t,n),m=t.injectorIndex;if(Fu(f)){const I=Sl(f),D=nc(f,n),N=D[gn].data;for(let z=0;z<8;z++)n[m+z]=D[I+z]|N[I+z]}return n[m+8]=f,m}function Ls(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Hh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ga(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,u=null,f=n;for(;null!==f;){if(u=$u(f),null===u)return Fo;if(o++,f=f[ee],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Fo}function aa(t,n,o){!function Nd(t,n,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Un)&&(u=o[Un]),null==u&&(u=o[Un]=Vu++);const f=u&sp;n.data[t+(f>>yo)]|=1<<f}(t,n,o)}function pl(t,n,o){if(o&En.Optional||void 0!==t)return t;Ze()}function ic(t,n,o,u){if(o&En.Optional&&void 0===u&&(u=null),!(o&(En.Self|En.Host))){const f=t[us],m=Br(void 0);try{return f?f.get(n,u,o&En.Optional):Dr(n,u,o&En.Optional)}finally{Br(m)}}return pl(u,0,o)}function Uu(t,n,o,u=En.Default,f){if(null!==t){if(2048&n[nr]&&!(u&En.Self)){const I=function ap(t,n,o,u,f){let m=t,I=n;for(;null!==m&&null!==I&&2048&I[nr]&&!(512&I[nr]);){const D=Rl(m,I,o,u|En.Self,vo);if(D!==vo)return D;let N=m.parent;if(!N){const z=I[Yt];if(z){const oe=z.get(o,vo,u);if(oe!==vo)return oe}N=$u(I),I=I[ee]}m=N}return f}(t,n,o,u,vo);if(I!==vo)return I}const m=Rl(t,n,o,u,vo);if(m!==vo)return m}return ic(n,o,u,f)}function Rl(t,n,o,u,f){const m=function Pl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Un)?t[Un]:void 0;return"number"==typeof n?n>=0?n&sp:kd:n}(o);if("function"==typeof m){if(!w(n,t,u))return u&En.Host?pl(f,0,u):ic(n,o,u,f);try{let I;if(I=m(u),null!=I||u&En.Optional)return I;Ze()}finally{wt()}}else if("number"==typeof m){let I=null,D=Hh(t,n),N=Fo,z=u&En.Host?n[J][Fi]:null;for((-1===D||u&En.SkipSelf)&&(N=-1===D?Ga(t,n):n[D+8],N!==Fo&&jc(u,!1)?(I=n[gn],D=Sl(N),n=nc(N,n)):D=-1);-1!==D;){const oe=n[gn];if(ju(m,D,oe.data)){const De=Pg(D,n,o,I,u,z);if(De!==vo)return De}N=n[D+8],N!==Fo&&jc(u,n[gn].data[D+8]===z)&&ju(m,D,n)?(I=oe,D=Sl(N),n=nc(N,n)):D=-1}}return f}function Pg(t,n,o,u,f,m){const I=n[gn],D=I.data[t+8],oe=ba(D,I,o,null==u?ds(D)&&Lu:u!=I&&0!=(3&D.type),f&En.Host&&m===D);return null!==oe?Ha(n,I,oe,D):vo}function ba(t,n,o,u,f){const m=t.providerIndexes,I=n.data,D=1048575&m,N=t.directiveStart,oe=m>>20,rt=f?D+oe:t.directiveEnd;for(let gt=u?D:D+oe;gt<rt;gt++){const Lt=I[gt];if(gt<N&&o===Lt||gt>=N&&Lt.type===o)return gt}if(f){const gt=I[N];if(gt&&io(gt)&&gt.type===o)return N}return null}function Ha(t,n,o,u){let f=t[o];const m=n.data;if(function Dl(t){return t instanceof oa}(f)){const I=f;I.resolving&&function xt(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}(m[o]));const D=Ko(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?Br(I.injectImpl):null;w(t,u,En.Default);try{f=t[o]=I.factory(void 0,m,t,u),n.firstCreatePass&&o>=u.directiveStart&&function $h(t,n,o){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(u){const I=ci(n);(o.preOrderHooks??=[]).push(t,I),(o.preOrderCheckHooks??=[]).push(t,I)}f&&(o.preOrderHooks??=[]).push(0-t,f),m&&((o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m))}(o,m[o],n)}finally{null!==z&&Br(z),Ko(D),I.resolving=!1,wt()}}return f}function ju(t,n,o){return!!(o[n+(t>>yo)]&1<<t)}function jc(t,n){return!(t&En.Self||t&En.Host&&n)}class ps{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,u){return Uu(this._tNode,this._lView,n,wn(u),o)}}function kd(){return new ps(zs(),jt())}function sc(t){return Ni(()=>{const n=t.prototype.constructor,o=n[ln]||Bu(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const m=f[ln]||Bu(f);if(m&&m!==o)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Bu(t){return we(t)?()=>{const n=Bu(Ye(t));return n&&n()}:Ps(t)}function $u(t){const n=t[gn],o=n.type;return 2===o?n.declTNode:1===o?t[Fi]:null}function Fd(t){return function Uc(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const u=o.length;let f=0;for(;f<u;){const m=o[f];if(qr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof o[f];)f++;else{if(m===n)return o[f+1];f+=2}}}return null}(zs(),t)}const qo="__parameters__";function ac(t,n,o){return Ni(()=>{const u=function Gu(t){return function(...o){if(t){const u=t(...o);for(const f in u)this[f]=u[f]}}}(n);function f(...m){if(this instanceof f)return u.apply(this,m),this;const I=new f(...m);return D.annotation=I,D;function D(N,z,oe){const De=N.hasOwnProperty(qo)?N[qo]:Object.defineProperty(N,qo,{value:[]})[qo];for(;De.length<=oe;)De.push(null);return(De[oe]=De[oe]||[]).push(I),N}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Ml(t,n){t.forEach(o=>Array.isArray(o)?Ml(o,n):n(o))}function Ud(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function Ol(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Lo(t,n,o){let u=Wa(t,n);return u>=0?t[1|u]=o:(u=~u,function Mg(t,n,o,u){let f=t.length;if(f==n)t.push(o,u);else if(1===f)t.push(u,t[0]),t[0]=o;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=o,t[n+1]=u}}(t,u,n,o)),u}function Bd(t,n){const o=Wa(t,n);if(o>=0)return t[1|o]}function Wa(t,n){return function up(t,n,o){let u=0,f=t.length>>o;for(;f!==u;){const m=u+(f-u>>1),I=t[m<<o];if(n===I)return m<<o;I>n?f=m:u=m+1}return~(f<<o)}(t,n,1)}const _l=an(ac("Optional"),8),zu=an(ac("SkipSelf"),4);function Jd(t){return 128==(128&t.flags)}var Ku=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ku||{});const t_=/^>|^->|<!--|-->|--!>|<!-$/g,Fg=/(<|>)/g,Ly="\u200b$1\u200b";const Zd=new Map;let Lg=0;const nf="__ngContext__";function Vo(t,n){wi(n)?(t[nf]=n[_t],function Ca(t){Zd.set(t[_t],t)}(n)):t[nf]=n}let uc;function Vl(t,n){return uc(t,n)}function nh(t){const n=t[ur];return Mr(n)?n[ur]:n}function o_(t){return Ip(t[_i])}function Ug(t){return Ip(t[Qi])}function Ip(t){for(;null!==t&&!Mr(t);)t=t[Qi];return t}function qc(t,n,o,u,f){if(null!=u){let m,I=!1;Mr(u)?m=u:wi(u)&&(I=!0,u=u[Wr]);const D=br(u);0===t&&null!==o?null==f?af(n,o,D):Xu(n,o,D,f||null,!0):1===t&&null!==o?Xu(n,o,D,f||null,!0):2===t?function Xc(t,n,o){const u=ah(t,n);u&&function Gg(t,n,o,u){t.removeChild(n,o,u)}(t,u,n,o)}(n,D,I):3===t&&n.destroyNode(D),null!=m&&function qg(t,n,o,u,f){const m=o[ii];m!==br(o)&&qc(n,t,u,m,f);for(let D=Sr;D<o.length;D++){const N=o[D];yl(N[gn],N,t,n,u,m)}}(n,t,m,o,f)}}function jg(t,n){return t.createComment(function mp(t){return t.replace(t_,n=>n.replace(Fg,Ly))}(n))}function wp(t,n,o){return t.createElement(n,o)}function c_(t,n){const o=t[Vi],u=o.indexOf(n);Cu(n),o.splice(u,1)}function rf(t,n){if(t.length<=Sr)return;const o=Sr+n,u=t[o];if(u){const f=u[Se];null!==f&&f!==t&&c_(f,u),n>0&&(t[o-1][Qi]=u[Qi]);const m=Ol(t,Sr+n);!function Bg(t,n){yl(t,n,n[jn],2,null,null),n[Wr]=null,n[Fi]=null}(u[gn],u);const I=m[nt];null!==I&&I.detachView(m[gn]),u[ur]=null,u[Qi]=null,u[nr]&=-129}return u}function Ap(t,n){if(!(256&n[nr])){const o=n[jn];n[qn]&&vu(n[qn]),n[Ar]&&vu(n[Ar]),o.destroyNode&&yl(t,n,o,3,null,null),function Yc(t){let n=t[_i];if(!n)return sh(t[gn],t);for(;n;){let o=null;if(wi(n))o=n[_i];else{const u=n[Sr];u&&(o=u)}if(!o){for(;n&&!n[Qi]&&n!==t;)wi(n)&&sh(n[gn],n),n=n[ur];null===n&&(n=t),wi(n)&&sh(n[gn],n),o=n&&n[Qi]}n=o}}(n)}}function sh(t,n){if(!(256&n[nr])){n[nr]&=-129,n[nr]|=256,function cE(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let u=0;u<o.length;u+=2){const f=n[o[u]];if(!(f instanceof oa)){const m=o[u+1];if(Array.isArray(m))for(let I=0;I<m.length;I+=2){const D=f[m[I]],N=m[I+1];ts(4,D,N);try{N.call(D)}finally{ts(5,D,N)}}else{ts(4,f,m);try{m.call(f)}finally{ts(5,f,m)}}}}}(t,n),function u_(t,n){const o=t.cleanup,u=n[Gs];if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const I=o[m+3];I>=0?u[I]():u[-I].unsubscribe(),m+=2}else o[m].call(u[o[m+1]]);null!==u&&(n[Gs]=null);const f=n[In];if(null!==f){n[In]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[gn].type&&n[jn].destroy();const o=n[Se];if(null!==o&&Mr(n[ur])){o!==n[ur]&&c_(o,n);const u=n[nt];null!==u&&u.detachView(t)}!function r_(t){Zd.delete(t[_t])}(n)}}function sf(t,n,o){return function d_(t,n,o){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return o[Wr];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:m}=t.data[u.directiveStart+f];if(m===Es.None||m===Es.Emulated)return null}return Ui(u,o)}}(t,n.parent,o)}function Xu(t,n,o,u,f){t.insertBefore(n,o,u,f)}function af(t,n,o){t.appendChild(n,o)}function h_(t,n,o,u,f){null!==u?Xu(t,n,o,u,f):af(t,n,o)}function ah(t,n){return t.parentNode(n)}let f_,dc,Op,ff,zg=function Hg(t,n,o){return 40&t.type?Ui(t,o):null};function Rp(t,n,o,u){const f=sf(t,u,n),m=n[jn],D=function Dp(t,n,o){return zg(t,n,o)}(u.parent||n[Fi],u,n);if(null!=f)if(Array.isArray(o))for(let N=0;N<o.length;N++)h_(m,f,o[N],D,!1);else h_(m,f,o,D,!1);void 0!==f_&&f_(m,u,n,o,f)}function Qu(t,n){if(null!==n){const o=n.type;if(3&o)return Ui(n,t);if(4&o)return cf(-1,t[n.index]);if(8&o){const u=n.child;if(null!==u)return Qu(t,u);{const f=t[n.index];return Mr(f)?cf(-1,f):br(f)}}if(32&o)return Vl(n,t)()||br(t[n.index]);{const u=Wg(t,n);return null!==u?Array.isArray(u)?u[0]:Qu(nh(t[J]),u):Qu(t,n.next)}}return null}function Wg(t,n){return null!==n?t[J][Fi].projection[n.projection]:null}function cf(t,n){const o=Sr+t+1;if(o<n.length){const u=n[o],f=u[gn].firstChild;if(null!==f)return Qu(u,f)}return n[ii]}function Pp(t,n,o,u,f,m,I){for(;null!=o;){const D=u[o.index],N=o.type;if(I&&0===n&&(D&&Vo(br(D),u),o.flags|=2),32!=(32&o.flags))if(8&N)Pp(t,n,o.child,u,f,m,!1),qc(n,t,f,D,m);else if(32&N){const z=Vl(o,u);let oe;for(;oe=z();)qc(n,t,f,oe,m);qc(n,t,f,D,m)}else 16&N?g_(t,n,u,o,f,m):qc(n,t,f,D,m);o=I?o.projectionNext:o.next}}function yl(t,n,o,u,f,m){Pp(o,u,t.firstChild,n,f,m,!1)}function g_(t,n,o,u,f,m){const I=o[J],N=I[Fi].projection[u.projection];if(Array.isArray(N))for(let z=0;z<N.length;z++)qc(n,t,f,N[z],m);else{let z=N;const oe=I[ur];Jd(u)&&(z.flags|=128),Pp(t,n,z,oe,f,m,!0)}}function xp(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function Mp(t,n,o){const{mergedAttrs:u,classes:f,styles:m}=o;null!==u&&$r(t,n,u),null!==f&&xp(t,n,f),null!==m&&function Yg(t,n,o){t.setAttribute(n,"style",o)}(t,n,m)}function Qc(t){return function uf(){if(void 0===dc&&(dc=null,zn.trustedTypes))try{dc=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dc}()?.createHTML(t)||t}function hf(t){Op=t}function lh(){if(void 0!==Op)return Op;if(typeof document<"u")return document;throw new Ae(210,!1)}function pf(){if(void 0===ff&&(ff=null,zn.trustedTypes))try{ff=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ff}function Np(t){return pf()?.createHTML(t)||t}function __(t){return pf()?.createScriptURL(t)||t}class pc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ge})`}}class y_ extends pc{getTypeName(){return"HTML"}}class gf extends pc{getTypeName(){return"Style"}}class v_ extends pc{getTypeName(){return"Script"}}class Jc extends pc{getTypeName(){return"URL"}}class E_ extends pc{getTypeName(){return"ResourceURL"}}function Zc(t){return t instanceof pc?t.changingThisBreaksApplicationSecurity:t}function wa(t,n){const o=function Xg(t){return t instanceof pc&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${Ge})`)}return o===n}function Gy(t){return new y_(t)}function Qg(t){return new gf(t)}function Fp(t){return new v_(t)}function Jg(t){return new Jc(t)}function Hy(t){return new E_(t)}class zy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(Qc(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Zg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=Qc(n),o}}const gc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eu(t){return(t=String(t)).match(gc)?t:"unsafe:"+t}function Ka(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function mf(...t){const n={};for(const o of t)for(const u in o)o.hasOwnProperty(u)&&(n[u]=!0);return n}const _f=Ka("area,br,col,hr,img,wbr"),tm=Ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vi=Ka("rp,rt"),yf=mf(_f,mf(tm,Ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mf(vi,Ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mf(vi,tm)),vf=Ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lp=mf(vf,Ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),w_=Ka("script,style,template");class ch{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!yf.hasOwnProperty(o))return this.sanitizedSomething=!0,!w_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=n.attributes;for(let f=0;f<u.length;f++){const m=u.item(f),I=m.name,D=I.toLowerCase();if(!Lp.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let N=m.value;vf[D]&&(N=eu(N)),this.buf.push(" ",I,'="',im(N),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();yf.hasOwnProperty(o)&&!_f.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(im(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const A_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rm=/([^\#-~ |!])/g;function im(t){return t.replace(/&/g,"&amp;").replace(A_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(rm,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mc;function Vp(t,n){let o=null;try{mc=mc||function Ju(t){const n=new Zg(t);return function em(){try{return!!(new window.DOMParser).parseFromString(Qc(""),"text/html")}catch{return!1}}()?new zy(n):n}(t);let u=n?String(n):"";o=mc.getInertBodyElement(u);let f=5,m=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=m,m=o.innerHTML,o=mc.getInertBodyElement(u)}while(u!==m);return Qc((new ch).sanitizeChildren(sm(o)||o))}finally{if(o){const u=sm(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function sm(t){return"content"in t&&function Wy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Zu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zu||{});function om(t){const n=uh();return n?Np(n.sanitize(Zu.HTML,t)||""):wa(t,"HTML")?Np(Zc(t)):Vp(lh(),Ke(t))}function Up(t){const n=uh();return n?n.sanitize(Zu.URL,t)||"":wa(t,"URL")?Zc(t):eu(Ke(t))}function D_(t){const n=uh();if(n)return __(n.sanitize(Zu.RESOURCE_URL,t)||"");if(wa(t,"ResourceURL"))return __(Zc(t));throw new Ae(904,!1)}function S_(t,n,o){return function Qy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?D_:Up}(n,o)(t)}function uh(){const t=jt();return t&&t[Rs].sanitizer}const ed=new dn("ENVIRONMENT_INITIALIZER"),am=new dn("INJECTOR",-1),lm=new dn("INJECTOR_DEF_TYPES");class jp{get(n,o=Vn){if(o===Vn){const u=new Error(`NullInjectorError: No provider for ${he(n)}!`);throw u.name="NullInjectorError",u}return o}}function dh(t){return{\u0275providers:t}}function ui(...t){return{\u0275providers:cm(0,t),\u0275fromNgModule:!0}}function cm(t,...n){const o=[],u=new Set;let f;const m=I=>{o.push(I)};return Ml(n,I=>{const D=I;tu(D,m,[],u)&&(f||=[],f.push(D))}),void 0!==f&&um(f,m),o}function um(t,n){for(let o=0;o<t.length;o++){const{ngModule:u,providers:f}=t[o];ao(f,m=>{n(m,u)})}}function tu(t,n,o,u){if(!(t=Ye(t)))return!1;let f=null,m=dr(t);const I=!m&&Yn(t);if(m||I){if(I&&!I.standalone)return!1;f=t}else{const N=t.ngModule;if(m=dr(N),!m)return!1;f=N}const D=u.has(f);if(I){if(D)return!1;if(u.add(f),I.dependencies){const N="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of N)tu(z,n,o,u)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let z;u.add(f);try{Ml(m.imports,oe=>{tu(oe,n,o,u)&&(z||=[],z.push(oe))})}finally{}void 0!==z&&um(z,n)}if(!D){const z=Ps(f)||(()=>new f);n({provide:f,useFactory:z,deps:sr},f),n({provide:lm,useValue:f,multi:!0},f),n({provide:ed,useValue:()=>Pt(f),multi:!0},f)}const N=m.providers;if(null!=N&&!D){const z=t;ao(N,oe=>{n(oe,z)})}}}return f!==t&&void 0!==t.providers}function ao(t,n){for(let o of t)Tt(o)&&(o=o.\u0275providers),Array.isArray(o)?ao(o,n):n(o)}const Us=W({provide:String,useValue:W});function Aa(t){return null!==t&&"object"==typeof t&&Us in t}function _c(t){return"function"==typeof t}const Ef=new dn("Set Injector scope."),bf={},Bp={};let hm;function $p(){return void 0===hm&&(hm=new jp),hm}class Ei{}class Tf extends Ei{get destroyed(){return this._destroyed}constructor(n,o,u,f){super(),this.parent=o,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pm(n,I=>this.processProvider(I)),this.records.set(am,hh(void 0,this)),f.has("environment")&&this.records.set(Ei,hh(void 0,this));const m=this.records.get(Ef);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(lm.multi,sr,En.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=pe(this),u=Br(void 0);try{return n()}finally{pe(o),Br(u)}}get(n,o=Vn,u=En.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Nn))return n[Nn](this);u=wn(u);const m=pe(this),I=Br(void 0);try{if(!(u&En.SkipSelf)){let N=this.records.get(n);if(void 0===N){const z=function tv(t){return"function"==typeof t||"object"==typeof t&&t instanceof dn}(n)&&Bn(n);N=z&&this.injectableDefInScope(z)?hh(fm(n),bf):null,this.records.set(n,N)}if(null!=N)return this.hydrate(n,N)}return(u&En.Self?$p():this.parent).get(n,o=u&En.Optional&&o===Vn?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[Ir]=D[Ir]||[]).unshift(he(n)),m)throw D;return function cr(t,n,o,u){const f=t[Ir];throw n[A]&&f.unshift(n[A]),t.message=function Bs(t,n,o,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=he(n);if(Array.isArray(n))f=n.map(he).join(" -> ");else if("object"==typeof n){let m=[];for(let I in n)if(n.hasOwnProperty(I)){let D=n[I];m.push(I+":"+("string"==typeof D?JSON.stringify(D):he(D)))}f=`{${m.join(", ")}}`}return`${o}${u?"("+u+")":""}[${f}]: ${t.replace(He,"\n  ")}`}("\n"+t.message,f,o,u),t.ngTokenPath=f,t[Ir]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Br(I),pe(m)}}resolveInjectorInitializers(){const n=pe(this),o=Br(void 0);try{const f=this.get(ed.multi,sr,En.Self);for(const m of f)m()}finally{pe(n),Br(o)}}toString(){const n=[],o=this.records;for(const u of o.keys())n.push(he(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(n){let o=_c(n=Ye(n))?n:Ye(n&&n.provide);const u=function P_(t){return Aa(t)?hh(void 0,t.useValue):hh(x_(t),bf)}(n);if(_c(n)||!0!==n.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=hh(void 0,bf,!0),f.factory=()=>Er(f.multi),this.records.set(o,f)),o=n,f.multi.push(n)}this.records.set(o,u)}hydrate(n,o){return o.value===bf&&(o.value=Bp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function M_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Ye(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function fm(t){const n=Bn(t),o=null!==n?n.factory:Ps(t);if(null!==o)return o;if(t instanceof dn)throw new Ae(204,!1);if(t instanceof Function)return function As(t){const n=t.length;if(n>0)throw function Nl(t,n){const o=[];for(let u=0;u<t;u++)o.push(n);return o}(n,"?"),new Ae(204,!1);const o=function Ut(t){return t&&(t[sn]||t[Xn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Ae(204,!1)}function x_(t,n,o){let u;if(_c(t)){const f=Ye(t);return Ps(f)||fm(f)}if(Aa(t))u=()=>Ye(t.useValue);else if(function dm(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Er(t.deps||[]));else if(function R_(t){return!(!t||!t.useExisting)}(t))u=()=>Pt(Ye(t.useExisting));else{const f=Ye(t&&(t.useClass||t.provide));if(!function If(t){return!!t.deps}(t))return Ps(f)||fm(f);u=()=>new f(...Er(t.deps))}return u}function hh(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function pm(t,n){for(const o of t)Array.isArray(o)?pm(o,n):o&&Tt(o)?pm(o.\u0275providers,n):n(o)}const O_=new dn("AppId",{providedIn:"root",factory:()=>nv}),nv="ng",rv=new dn("Platform Initializer"),gm=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Cf=new dn("AnimationModuleType"),iv=new dn("CSP nonce",{providedIn:"root",factory:()=>lh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Hp=(t,n,o)=>null;function bc(t,n,o=!1){return Hp(t,n,o)}class ov{}class Wp{}class av{resolveComponentFactory(n){throw function ad(t){const n=Error(`No component factory found for ${he(t)}.`);return n.ngComponent=t,n}(n)}}let Ul=(()=>{class t{static{this.NULL=new av}}return t})();function hE(){return qp(zs(),jt())}function qp(t,n){return new gh(Ui(t,n))}let gh=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=hE}}return t})();function fE(t){return t instanceof gh?t.nativeElement:t}class Sf{}let pE=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function gE(){const t=jt(),o=Hi(zs().index,t);return(wi(o)?o:t)[jn]}()}}return t})(),Em=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>null})}}return t})();class lv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const cv=new lv("16.2.12"),Rf={};function uv(t,n=null,o=null,u){const f=dv(t,n,o,u);return f.resolveInjectorInitializers(),f}function dv(t,n=null,o=null,u,f=new Set){const m=[o||sr,ui(t)];return u=u||("object"==typeof t?void 0:he(t)),new Tf(m,n||$p(),u||null,f)}let Cc=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Vn}static{this.NULL=new jp}static create(o,u){if(Array.isArray(o))return uv({name:""},u,o,"");{const f=o.name??"";return uv({name:f},o.parent,o.providers,f)}}static{this.\u0275prov=rn({token:t,providedIn:"any",factory:()=>Pt(am)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function su(t){return t.ngOriginalError}class vl{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&su(n);for(;o&&su(o);)o=su(o);return o||null}}function Ac(t){return n=>{setTimeout(t,void 0,n)}}const Dc=class EE extends s.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,u){let f=n,m=o||(()=>null),I=u;if(n&&"object"==typeof n){const N=n;f=N.next?.bind(N),m=N.error?.bind(N),I=N.complete?.bind(N)}this.__isAsync&&(m=Ac(m),f&&(f=Ac(f)),I&&(I=Ac(I)));const D=super.subscribe({next:f,error:m,complete:I});return n instanceof ce.yU&&n.add(D),D}};function hv(...t){}class bo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dc(!1),this.onMicrotaskEmpty=new Dc(!1),this.onStable=new Dc(!1),this.onError=new Dc(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&o,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function bE(){const t="function"==typeof zn.requestAnimationFrame;let n=zn[t?"requestAnimationFrame":"setTimeout"],o=zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function CE(t){const n=()=>{!function IE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,B_(t),t.isCheckStableRunning=!0,j_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),B_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,f,m,I,D)=>{if(function AE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return o.invokeTask(f,m,I,D);try{return fv(t),o.invokeTask(f,m,I,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),mh(t)}},onInvoke:(o,u,f,m,I,D,N)=>{try{return fv(t),o.invoke(f,m,I,D,N)}finally{t.shouldCoalesceRunChangeDetection&&n(),mh(t)}},onHasTask:(o,u,f,m)=>{o.hasTask(f,m),u===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,B_(t),j_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,u,f,m)=>(o.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new Ae(909,!1)}run(n,o,u){return this._inner.run(n,o,u)}runTask(n,o,u,f){const m=this._inner,I=m.scheduleEventTask("NgZoneEvent: "+f,n,TE,hv,hv);try{return m.runTask(I,o,u)}finally{m.cancelTask(I)}}runGuarded(n,o,u){return this._inner.runGuarded(n,o,u)}runOutsideAngular(n){return this._outer.run(n)}}const TE={};function j_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function B_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function fv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mh(t){t._nesting--,j_(t)}class $_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dc,this.onMicrotaskEmpty=new Dc,this.onStable=new Dc,this.onError=new Dc}run(n,o,u){return n.apply(o,u)}runGuarded(n,o,u){return n.apply(o,u)}runOutsideAngular(n){return n()}runTask(n,o,u,f){return n.apply(o,u)}}const wE=new dn("",{providedIn:"root",factory:pv});function pv(){const t=hn(bo);let n=!0;const o=new r.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new r.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const I=t.onUnstable.subscribe(()=>{bo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),I.unsubscribe()}});return(0,Ee.h)(o,u.pipe((0,be.u)()))}function gv(t){return t.ownerDocument.defaultView}function ld(t){return t instanceof Function?t():t}let vv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function rg(t){for(;t;){t[nr]|=64;const n=nh(t);if(na(t)&&!n)return t;t=n}return null}const Ev=new dn("",{providedIn:"root",factory:()=>!1});let H_=null;function OE(t,n){return t[n]??W_()}function NE(t,n){const o=W_();o.producerNode?.length&&(t[n]=H_,o.lView=t,H_=xf())}const z_={...ia,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{rg(t.lView)},lView:null};function xf(){return Object.create(z_)}function W_(){return H_??=xf(),H_}const Ur={};function kE(t){_h(Cr(),jt(),rr()+t,!1)}function _h(t,n,o,u){if(!u)if(3==(3&n[nr])){const m=t.preOrderCheckHooks;null!==m&&Vc(n,m,o)}else{const m=t.preOrderHooks;null!==m&&xu(n,m,0,o)}Or(o)}function Sc(t,n=En.Default){const o=jt();return null===o?Pt(t,n):Uu(zs(),o,Ye(t),n)}function d(){throw new Error("invalid")}function i(t,n,o,u,f,m,I,D,N,z,oe){const De=n.blueprint.slice();return De[Wr]=f,De[nr]=140|u,(null!==z||t&&2048&t[nr])&&(De[nr]|=2048),_a(De),De[ur]=De[ee]=t,De[Qr]=o,De[Rs]=I||t&&t[Rs],De[jn]=D||t&&t[jn],De[us]=N||t&&t[us]||null,De[Fi]=m,De[_t]=function n_(){return Lg++}(),De[fn]=oe,De[Yt]=z,De[J]=2==n.type?t[J]:De,De}function l(t,n,o,u,f){let m=t.data[n];if(null===m)m=function h(t,n,o,u,f){const m=Fc(),I=tc(),N=t.data[n]=function Qn(t,n,o,u,f,m){let I=n?n.injectorIndex:-1,D=0;return function Oo(){return null!==or.skipHydrationRootTNode}()&&(D|=128),{type:o,index:u,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?m:m&&m.parent,o,n,u,f);return null===t.firstChild&&(t.firstChild=N),null!==m&&(I?null==m.child&&null!==N.parent&&(m.child=N):null===m.next&&(m.next=N,N.prev=m)),N}(t,n,o,u,f),function Pd(){return or.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=o,m.value=u,m.attrs=f;const I=function ol(){const t=or.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===I?-1:I.injectorIndex}return No(m,!0),m}function y(t,n,o,u){if(0===o)return-1;const f=n.length;for(let m=0;m<o;m++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function T(t,n,o,u,f){const m=OE(n,qn),I=rr(),D=2&u;try{Or(-1),D&&n.length>Dn&&_h(t,n,Dn,!1),ts(D?2:0,f);const z=D?m:null,oe=ma(z);try{null!==z&&(z.dirty=!1),o(u,f)}finally{Fa(z,oe)}}finally{D&&null===n[qn]&&NE(n,qn),Or(I),ts(D?3:1,f)}}function P(t,n,o){if(Bo(n)){const u=Wi(null);try{const m=n.directiveEnd;for(let I=n.directiveStart;I<m;I++){const D=t.data[I];D.contentQueries&&D.contentQueries(1,o[I],I)}}finally{Wi(u)}}}function U(t,n,o){Zt()&&(function FE(t,n,o,u){const f=o.directiveStart,m=o.directiveEnd;ds(o)&&function ag(t,n,o){const u=Ui(n,t),f=ae(o);let I=16;o.signals?I=4096:o.onPush&&(I=64);const D=vh(t,i(t,f,null,I,u,n,null,t[Rs].rendererFactory.createRenderer(u,o),null,null,null));t[n.index]=D}(n,o,t.data[f+o.componentOffset]),t.firstCreatePass||rc(o,n),Vo(u,n);const I=o.initialInputs;for(let D=f;D<m;D++){const N=t.data[D],z=Ha(n,t,D,o);Vo(z,n),null!==I&&UE(0,D-f,z,N,0,I),io(N)&&(Hi(o.index,n)[Qr]=Ha(n,t,D,o))}}(t,n,o,Ui(o,n)),64==(64&o.flags)&&Mf(t,n,o))}function q(t,n,o=Ui){const u=n.localNames;if(null!==u){let f=n.index+1;for(let m=0;m<u.length;m+=2){const I=u[m+1],D=-1===I?o(n,t):t[I];t[f++]=D}}}function ae(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ce(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ce(t,n,o,u,f,m,I,D,N,z,oe){const De=Dn+u,rt=De+f,gt=function ze(t,n){const o=[];for(let u=0;u<n;u++)o.push(u<t?null:Ur);return o}(De,rt),Lt="function"==typeof z?z():z;return gt[gn]={type:t,blueprint:gt,template:o,queries:null,viewQuery:D,declTNode:n,data:gt.slice().fill(null,De),bindingStartIndex:De,expandoStartIndex:rt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:N,consts:Lt,incompleteFirstPass:!1,ssrId:oe}}let cn=t=>null;function Nr(t,n,o,u){for(let f in t)if(t.hasOwnProperty(f)){o=null===o?{}:o;const m=t[f];null===u?Oi(o,n,f,m):u.hasOwnProperty(f)&&Oi(o,n,u[f],m)}return o}function Oi(t,n,o,u){t.hasOwnProperty(o)?t[o].push(n,u):t[o]=[n,u]}function Ue(t,n,o,u,f,m,I,D){const N=Ui(n,o);let oe,z=n.inputs;!D&&null!=z&&(oe=z[u])?(Cm(t,o,oe,u,f),ds(n)&&function et(t,n){const o=Hi(n,t);16&o[nr]||(o[nr]|=64)}(o,n.index)):3&n.type&&(u=function ht(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=I?I(f,n.value||"",u):f,m.setProperty(N,u,f))}function St(t,n,o,u){if(Zt()){const f=null===u?null:{"":-1},m=function K_(t,n){const o=t.directiveRegistry;let u=null,f=null;if(o)for(let m=0;m<o.length;m++){const I=o[m];if(bs(n,I.selectors,!1))if(u||(u=[]),io(I))if(null!==I.findHostDirectiveDefs){const D=[];f=f||new Map,I.findHostDirectiveDefs(I,D,f),u.unshift(...D,I),bm(t,n,D.length)}else u.unshift(I),bm(t,n,0);else f=f||new Map,I.findHostDirectiveDefs?.(I,u,f),u.push(I)}return null===u?null:[u,f]}(t,o);let I,D;null===m?I=D=null:[I,D]=m,null!==I&&qe(t,n,o,I,f,D),f&&function LE(t,n,o){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=o[n[f+1]];if(null==m)throw new Ae(-301,!1);u.push(n[f],m)}}}(o,u,f)}o.mergedAttrs=Xi(o.mergedAttrs,o.attrs)}function qe(t,n,o,u,f,m){for(let z=0;z<u.length;z++)aa(rc(o,n),t,u[z].type);!function Qo(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,u.length);for(let z=0;z<u.length;z++){const oe=u[z];oe.providersResolver&&oe.providersResolver(oe)}let I=!1,D=!1,N=y(t,n,u.length,null);for(let z=0;z<u.length;z++){const oe=u[z];o.mergedAttrs=Xi(o.mergedAttrs,oe.hostAttrs),VE(t,o,n,N,oe),cd(N,oe,f),null!==oe.contentQueries&&(o.flags|=4),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(o.flags|=64);const De=oe.type.prototype;!I&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),I=!0),!D&&(De.ngOnChanges||De.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),D=!0),N++}!function oi(t,n,o){const f=n.directiveEnd,m=t.data,I=n.attrs,D=[];let N=null,z=null;for(let oe=n.directiveStart;oe<f;oe++){const De=m[oe],rt=o?o.get(De):null,Lt=rt?rt.outputs:null;N=Nr(De.inputs,oe,N,rt?rt.inputs:null),z=Nr(De.outputs,oe,z,Lt);const un=null===N||null===I||Do(n)?null:Tm(N,oe,I);D.push(un)}null!==N&&(N.hasOwnProperty("class")&&(n.flags|=8),N.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=N,n.outputs=z}(t,o,m)}function Mf(t,n,o){const u=o.directiveStart,f=o.directiveEnd,m=o.index,I=function dl(){return or.lFrame.currentDirectiveIndex}();try{Or(m);for(let D=u;D<f;D++){const N=t.data[D],z=n[D];Pu(D),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&og(N,z)}}finally{Or(-1),Pu(I)}}function og(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function bm(t,n,o){n.componentOffset=o,(t.components??=[]).push(n.index)}function cd(t,n,o){if(o){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)o[n.exportAs[u]]=t;io(n)&&(o[""]=t)}}function VE(t,n,o,u,f){t.data[u]=f;const m=f.factory||(f.factory=Ps(f.type)),I=new oa(m,io(f),Sc);t.blueprint[u]=I,o[u]=I,function au(t,n,o,u,f){const m=f.hostBindings;if(m){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const D=~n.index;(function sg(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(I)!=D&&I.push(D),I.push(o,u,m)}}(t,n,u,y(t,o,f.hostVars,Ur),f)}function Rc(t,n,o,u,f,m){const I=Ui(t,n);!function yh(t,n,o,u,f,m,I){if(null==m)t.removeAttribute(n,f,o);else{const D=null==I?Ke(m):I(m,u||"",f);t.setAttribute(n,f,D,o)}}(n[jn],I,m,t.value,o,u,f)}function UE(t,n,o,u,f,m){const I=m[n];if(null!==I)for(let D=0;D<I.length;)Iv(u,o,I[D++],I[D++],I[D++])}function Iv(t,n,o,u,f){const m=Wi(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(u)&&(f=I[u].call(n,f)),null!==t.setInput?t.setInput(n,f,o,u):n[u]=f}finally{Wi(m)}}function Tm(t,n,o){let u=null,f=0;for(;f<o.length;){const m=o[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===u&&(u=[]);const I=t[m];for(let D=0;D<I.length;D+=2)if(I[D]===n){u.push(m,I[D+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function lg(t,n,o,u){return[t,!0,!1,n,null,0,u,o,null,null,null]}function Im(t,n){const o=t.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const m=o[u+1];if(-1!==m){const I=t.data[m];S(o[u]),I.contentQueries(2,n[m],m)}}}function vh(t,n){return t[_i]?t[Ji][Qi]=n:t[_i]=n,t[Ji]=n,n}function cg(t,n,o){S(0);const u=Wi(null);try{n(t,o)}finally{Wi(u)}}function q_(t){return t[Gs]||(t[Gs]=[])}function Y_(t){return t.cleanup||(t.cleanup=[])}function X_(t,n){const o=t[us],u=o?o.get(vl,null):null;u&&u.handleError(n)}function Cm(t,n,o,u,f){for(let m=0;m<o.length;){const I=o[m++],D=o[m++];Iv(t.data[I],n[I],u,D,f)}}function jl(t,n,o){const u=Hs(n,t);!function Cp(t,n,o){t.setValue(n,o)}(t[jn],u,o)}function Av(t,n){const o=Hi(n,t),u=o[gn];!function jE(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(u,o);const f=o[Wr];null!==f&&null===o[fn]&&(o[fn]=bc(f,o[us])),ug(u,o,o[Qr])}function ug(t,n,o){F(n);try{const u=t.viewQuery;null!==u&&cg(1,u,o);const f=t.template;null!==f&&T(t,n,f,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Im(t,n),t.staticViewQueries&&cg(2,t.viewQuery,o);const m=t.components;null!==m&&function Q_(t,n){for(let o=0;o<n.length;o++)Av(t,n[o])}(n,m)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[nr]&=-5,yt()}}let wm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,u,f){const m=typeof Zone>"u"?null:Zone.current,I=function kt(t,n,o){const u=Object.create(Kr);o&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=I=>{u.cleanupFn=I};return u.ref={notify:()=>Cs(u),run:()=>{if(u.dirty=!1,u.hasRun&&!bl(u))return;u.hasRun=!0;const I=ma(u);try{u.cleanupFn(),u.cleanupFn=Ln,u.fn(f)}finally{Fa(u,I)}},cleanup:()=>u.cleanupFn()},u.ref}(o,z=>{this.all.has(z)&&this.queue.set(z,m)},f);let D;this.all.add(I),I.notify();const N=()=>{I.cleanup(),D?.(),this.all.delete(I),this.queue.delete(I)};return D=u?.onDestroy(N),{destroy:N}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function To(t,n,o){let u=o?t.styles:null,f=o?t.classes:null,m=0;if(null!==n)for(let I=0;I<n.length;I++){const D=n[I];"number"==typeof D?m=D:1==m?f=Re(f,D):2==m&&(u=Re(u,D+": "+n[++I]+";"))}o?t.styles=u:t.stylesWithoutHost=u,o?t.classes=f:t.classesWithoutHost=f}function ud(t,n,o,u,f=!1){for(;null!==o;){const m=n[o.index];null!==m&&u.push(br(m)),Mr(m)&&J_(m,u);const I=o.type;if(8&I)ud(t,n,o.child,u);else if(32&I){const D=Vl(o,n);let N;for(;N=D();)u.push(N)}else if(16&I){const D=Wg(n,o);if(Array.isArray(D))u.push(...D);else{const N=nh(n[J]);ud(N[gn],N,D,u,!0)}}o=f?o.projectionNext:o.next}return u}function J_(t,n){for(let o=Sr;o<t.length;o++){const u=t[o],f=u[gn].firstChild;null!==f&&ud(u[gn],u,f,n)}t[ii]!==t[Wr]&&n.push(t[ii])}function dg(t,n,o,u=!0){const f=n[Rs],m=f.rendererFactory,I=f.afterRenderEventManager;m.begin?.(),I?.begin();try{Z_(t,n,t.template,o)}catch(N){throw u&&X_(n,N),N}finally{m.end?.(),f.effectManager?.flush(),I?.end()}}function Z_(t,n,o,u){const f=n[nr];if(256!=(256&f)){n[Rs].effectManager?.flush(),F(n);try{_a(n),function ja(t){return or.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&T(t,n,o,2,u);const I=3==(3&f);if(I){const z=t.preOrderCheckHooks;null!==z&&Vc(n,z,null)}else{const z=t.preOrderHooks;null!==z&&xu(n,z,0,null),Mu(n,0)}if(function ty(t){for(let n=o_(t);null!==n;n=Ug(n)){if(!n[kr])continue;const o=n[Vi];for(let u=0;u<o.length;u++){Jl(o[u])}}}(n),ey(n,2),null!==t.contentQueries&&Im(t,n),I){const z=t.contentCheckHooks;null!==z&&Vc(n,z)}else{const z=t.contentHooks;null!==z&&xu(n,z,1),Mu(n,1)}!function e(t,n){const o=t.hostBindingOpCodes;if(null===o)return;const u=OE(n,Ar);try{for(let f=0;f<o.length;f++){const m=o[f];if(m<0)Or(~m);else{const I=m,D=o[++f],N=o[++f];tp(D,I),u.dirty=!1;const z=ma(u);try{N(2,n[I])}finally{Fa(u,z)}}}}finally{null===n[Ar]&&NE(n,Ar),Or(-1)}}(t,n);const D=t.components;null!==D&&Am(n,D,0);const N=t.viewQuery;if(null!==N&&cg(2,N,u),I){const z=t.viewCheckHooks;null!==z&&Vc(n,z)}else{const z=t.viewHooks;null!==z&&xu(n,z,2),Mu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[nr]&=-73,Cu(n)}finally{yt()}}}function ey(t,n){for(let o=o_(t);null!==o;o=Ug(o))for(let u=Sr;u<o.length;u++)Dv(o[u],n)}function BE(t,n,o){Dv(Hi(n,t),o)}function Dv(t,n){if(!function Iu(t){return 128==(128&t[nr])}(t))return;const o=t[gn],u=t[nr];if(80&u&&0===n||1024&u||2===n)Z_(o,t,o.template,t[Qr]);else if(t[cs]>0){ey(t,1);const f=o.components;null!==f&&Am(t,f,1)}}function Am(t,n,o){for(let u=0;u<n.length;u++)BE(t,n[u],o)}class Of{get rootNodes(){const n=this._lView,o=n[gn];return ud(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qr]}set context(n){this._lView[Qr]=n}get destroyed(){return 256==(256&this._lView[nr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ur];if(Mr(n)){const o=n[8],u=o?o.indexOf(this):-1;u>-1&&(rf(n,u),Ol(o,u))}this._attachedToViewContainer=!1}Ap(this._lView[gn],this._lView)}onDestroy(n){!function Dd(t,n){if(256==(256&t[nr]))throw new Ae(911,!1);null===t[In]&&(t[In]=[]),t[In].push(n)}(this._lView,n)}markForCheck(){rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[nr]&=-129}reattach(){this._lView[nr]|=128}detectChanges(){dg(this._lView[gn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function a_(t,n){yl(t,n,n[jn],2,null,null)}(this._lView[gn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=n}}class Sv extends Of{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;dg(n[gn],n,n[Qr],!1)}checkNoChanges(){}get context(){return null}}class Nf extends Ul{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Yn(n);return new kf(o,this.ngModule)}}function Dm(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class Eh{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,u){u=wn(u);const f=this.injector.get(n,Rf,u);return f!==Rf||o===Rf?f:this.parentInjector.get(n,o,u)}}class kf extends Wp{get inputs(){const n=this.componentDef,o=n.inputTransforms,u=Dm(n.inputs);if(null!==o)for(const f of u)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return u}get outputs(){return Dm(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function fi(t){return t.map(So).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,u,f){let m=(f=f||this.ngModule)instanceof Ei?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new Eh(n,m):n,D=I.get(Sf,null);if(null===D)throw new Ae(407,!1);const De={rendererFactory:D,sanitizer:I.get(Em,null),effectManager:I.get(wm,null),afterRenderEventManager:I.get(vv,null)},rt=D.createRenderer(null,this.componentDef),gt=this.componentDef.selectors[0][0]||"div",Lt=u?function Ct(t,n,o,u){const m=u.get(Ev,!1)||o===Es.ShadowDom,I=t.selectRootElement(n,m);return function Ht(t){cn(t)}(I),I}(rt,u,this.componentDef.encapsulation,I):wp(rt,gt,function ny(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(gt)),lr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Jt=null;null!==Lt&&(Jt=bc(Lt,I,!0));const jr=Ce(0,null,null,1,0,null,null,null,null,null,null),Ti=i(null,jr,null,lr,null,null,De,rt,I,null,Jt);let _s,ql;F(Ti);try{const ep=this.componentDef;let Fy,rT=null;ep.findHostDirectiveDefs?(Fy=[],rT=new Map,ep.findHostDirectiveDefs(ep,Fy,rT),Fy.push(ep)):Fy=[ep];const nA=function ry(t,n){const o=t[gn],u=Dn;return t[u]=n,l(o,u,2,"#host",null)}(Ti,Lt),rA=function Ff(t,n,o,u,f,m,I){const D=f[gn];!function iy(t,n,o,u){for(const f of t)n.mergedAttrs=Xi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(To(n,n.mergedAttrs,!0),null!==o&&Mp(u,o,n))}(u,t,n,I);let N=null;null!==n&&(N=bc(n,f[us]));const z=m.rendererFactory.createRenderer(n,o);let oe=16;o.signals?oe=4096:o.onPush&&(oe=64);const De=i(f,ae(o),null,oe,f[t.index],t,m,z,null,null,N);return D.firstCreatePass&&bm(D,t,u.length-1),vh(f,De),f[t.index]=De}(nA,Lt,ep,Fy,Ti,De,rt);ql=Tu(jr,Dn),Lt&&function fg(t,n,o,u){if(u)$r(t,o,["ng-version",cv.full]);else{const{attrs:f,classes:m}=function Oa(t){const n=[],o=[];let u=1,f=2;for(;u<t.length;){let m=t[u];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++u]):8===f&&o.push(m);else{if(!li(f))break;f=m}u++}return{attrs:n,classes:o}}(n.selectors[0]);f&&$r(t,o,f),m&&m.length>0&&xp(t,o,m.join(" "))}}(rt,ep,Lt,u),void 0!==o&&function bh(t,n,o){const u=t.projection=[];for(let f=0;f<n.length;f++){const m=o[f];u.push(null!=m?Array.from(m):null)}}(ql,this.ngContentSelectors,o),_s=function Zo(t,n,o,u,f,m){const I=zs(),D=f[gn],N=Ui(I,f);qe(D,f,I,o,null,u);for(let oe=0;oe<o.length;oe++)Vo(Ha(f,D,I.directiveStart+oe,I),f);Mf(D,f,I),N&&Vo(N,f);const z=Ha(f,D,I.directiveStart+I.componentOffset,I);if(t[Qr]=f[Qr]=z,null!==m)for(const oe of m)oe(z,n);return P(D,I,t),z}(rA,ep,Fy,rT,Ti,[Lf]),ug(jr,Ti,null)}finally{yt()}return new Sm(this.componentType,_s,qp(ql,Ti),Ti,ql)}}class Sm extends ov{constructor(n,o,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Sv(f),this.componentType=n}setInput(n,o){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;Cm(m[gn],m,f,n,o),this.previousInputValues.set(n,o),rg(Hi(this._tNode.index,m))}}get injector(){return new ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Lf(){const t=zs();$a(jt()[gn],t)}function Vf(t){let n=function Rv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const u=[t];for(;n;){let f;if(io(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ae(903,!1);f=n.\u0275dir}if(f){if(o){u.push(f);const I=t;I.inputs=pg(t.inputs),I.inputTransforms=pg(t.inputTransforms),I.declaredInputs=pg(t.declaredInputs),I.outputs=pg(t.outputs);const D=f.hostBindings;D&&sy(t,D);const N=f.viewQuery,z=f.contentQueries;if(N&&Pv(t,N),z&&gg(t,z),ne(t.inputs,f.inputs),ne(t.declaredInputs,f.declaredInputs),ne(t.outputs,f.outputs),null!==f.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),ne(I.inputTransforms,f.inputTransforms)),io(f)&&f.data.animation){const oe=t.data;oe.animation=(oe.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let I=0;I<m.length;I++){const D=m[I];D&&D.ngInherit&&D(t),D===Vf&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Th(t){let n=0,o=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Xi(f.hostAttrs,o=Xi(o,f.hostAttrs))}}(u)}function pg(t){return t===gi?{}:t===sr?[]:t}function Pv(t,n){const o=t.viewQuery;t.viewQuery=o?(u,f)=>{n(u,f),o(u,f)}:n}function gg(t,n){const o=t.contentQueries;t.contentQueries=o?(u,f,m)=>{n(u,f,m),o(u,f,m)}:n}function sy(t,n){const o=t.hostBindings;t.hostBindings=o?(u,f)=>{n(u,f),o(u,f)}:n}function cy(t){const n=t.inputConfig,o={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(o[u]=f[2])}t.inputTransforms=o}function mg(t){return!!lu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function lu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Pc(t,n,o){return t[n]=o}function Uf(t,n){return t[n]}function Io(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function cu(t,n,o,u){const f=Io(t,n,o);return Io(t,n+1,u)||f}function Li(t,n,o,u,f){const m=cu(t,n,o,u);return Io(t,n+2,f)||m}function Sa(t,n,o,u,f,m){const I=cu(t,n,o,u);return cu(t,n+2,f,m)||I}function jf(t,n,o,u){const f=jt();return Io(f,cl(),n)&&(Cr(),Rc(pi(),f,t,n,o,u)),jf}function Ih(t,n,o,u){return Io(t,cl(),o)?n+Ke(o)+u:Ur}function Ph(t,n,o,u,f,m,I,D){const N=jt(),z=Cr(),oe=t+Dn,De=z.firstCreatePass?function vy(t,n,o,u,f,m,I,D,N){const z=n.consts,oe=l(n,t,4,I||null,ws(z,D));St(n,o,oe,ws(z,N)),$a(n,oe);const De=oe.tView=Ce(2,oe,u,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,oe),De.queries=n.queries.embeddedTView(oe)),oe}(oe,z,N,n,o,u,f,m,I):z.data[oe];No(De,!1);const rt=qf(z,N,De,t);fl()&&Rp(z,N,rt,De),Vo(rt,N),vh(N,N[oe]=lg(rt,N,rt,De)),Js(De)&&U(z,N,De),null!=I&&q(N,De,D)}let qf=function Yf(t,n,o,u){return ko(!0),n[jn].createComment("")};function xh(t){return sl(function Rd(){return or.lFrame.contextLView}(),Dn+t)}function vd(t,n,o){const u=jt();return Io(u,cl(),n)&&Ue(Cr(),pi(),u,t,n,u[jn],o,!1),vd}function hu(t,n,o,u,f){const I=f?"class":"style";Cm(t,o,n.inputs[I],I,u)}function Ed(t,n,o,u){const f=jt(),m=Cr(),I=Dn+t,D=f[jn],N=m.firstCreatePass?function Eg(t,n,o,u,f,m){const I=n.consts,N=l(n,t,2,u,ws(I,f));return St(n,o,N,ws(I,m)),null!==N.attrs&&To(N,N.attrs,!1),null!==N.mergedAttrs&&To(N,N.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,N),N}(I,m,f,n,o,u):m.data[I],z=Oh(m,f,N,D,n,t);f[I]=z;const oe=Js(N);return No(N,!0),Mp(D,z,N),32!=(32&N.flags)&&fl()&&Rp(m,f,z,N),0===function zo(){return or.lFrame.elementDepthCount}()&&Vo(z,f),function kc(){or.lFrame.elementDepthCount++}(),oe&&(U(m,f,N),P(m,N,f)),null!==u&&q(f,N),Ed}function ea(){let t=zs();tc()?Ru():(t=t.parent,No(t,!1));const n=t;(function Du(t){return or.skipHydrationRootTNode===t})(n)&&function Su(){or.skipHydrationRootTNode=null}(),function Sd(){or.lFrame.elementDepthCount--}();const o=Cr();return o.firstCreatePass&&($a(o,t),Bo(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Md(t){return 0!=(8&t.flags)}(n)&&hu(o,n,jt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ku(t){return 0!=(16&t.flags)}(n)&&hu(o,n,jt(),n.stylesWithoutHost,!1),ea}function Mh(t,n,o,u){return Ed(t,n,o,u),ea(),Mh}let Oh=(t,n,o,u,f,m)=>(ko(!0),wp(u,f,function Ba(){return or.lFrame.currentNamespace}()));function Xf(t,n,o){const u=jt(),f=Cr(),m=t+Dn,I=f.firstCreatePass?function Vm(t,n,o,u,f){const m=n.consts,I=ws(m,u),D=l(n,t,8,"ng-container",I);return null!==I&&To(D,I,!0),St(n,o,D,ws(m,f)),null!==n.queries&&n.queries.elementStart(n,D),D}(m,f,u,n,o):f.data[m];No(I,!0);const D=Os(f,u,I,t);return u[m]=D,fl()&&Rp(f,u,D,I),Vo(D,u),Js(I)&&(U(f,u,I),P(f,I,u)),null!=o&&q(u,I),Xf}function kh(){let t=zs();const n=Cr();return tc()?Ru():(t=t.parent,No(t,!1)),n.firstCreatePass&&($a(n,t),Bo(t)&&n.queries.elementEnd(t)),kh}function xa(t,n,o){return Xf(t,n,o),kh(),xa}let Os=(t,n,o,u)=>(ko(!0),jg(n[jn],""));function Td(){return jt()}function E(t){return!!t&&"function"==typeof t.then}function B(t){return!!t&&"function"==typeof t.subscribe}function Y(t,n,o,u){const f=jt(),m=Cr(),I=zs();return function Nt(t,n,o,u,f,m,I){const D=Js(u),z=t.firstCreatePass&&Y_(t),oe=n[Qr],De=q_(n);let rt=!0;if(3&u.type||I){const un=Ui(u,n),Mn=I?I(un):un,lr=De.length,Jt=I?Ti=>I(br(Ti[u.index])):u.index;let jr=null;if(!I&&D&&(jr=function Et(t,n,o,u){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const I=f[m];if(I===o&&f[m+1]===u){const D=n[Gs],N=f[m+2];return D.length>N?D[N]:null}"string"==typeof I&&(m+=2)}return null}(t,n,f,u.index)),null!==jr)(jr.__ngLastListenerFn__||jr).__ngNextListenerFn__=m,jr.__ngLastListenerFn__=m,rt=!1;else{m=Yi(u,n,oe,m,!1);const Ti=o.listen(Mn,f,m);De.push(m,Ti),z&&z.push(f,Jt,lr,lr+1)}}else m=Yi(u,n,oe,m,!1);const gt=u.outputs;let Lt;if(rt&&null!==gt&&(Lt=gt[f])){const un=Lt.length;if(un)for(let Mn=0;Mn<un;Mn+=2){const _s=n[Lt[Mn]][Lt[Mn+1]].subscribe(m),ql=De.length;De.push(m,_s),z&&z.push(f,u.index,ql,-(ql+1))}}}(m,f,f[jn],I,t,n,u),Y}function Cn(t,n,o,u){try{return ts(6,n,o),!1!==o(u)}catch(f){return X_(t,f),!1}finally{ts(7,n,o)}}function Yi(t,n,o,u,f){return function m(I){if(I===Function)return u;rg(t.componentOffset>-1?Hi(t.index,n):n);let N=Cn(n,o,u,I),z=m.__ngNextListenerFn__;for(;z;)N=Cn(n,o,z,I)&&N,z=z.__ngNextListenerFn__;return f&&!1===N&&I.preventDefault(),N}}function go(t=1){return function yn(t){return(or.lFrame.contextLView=function _r(t,n){for(;t>0;)n=n[ee],t--;return n}(t,or.lFrame.contextLView))[Qr]}(t)}function Id(t,n,o){return Ma(t,"",n,"",o),Id}function Ma(t,n,o,u,f){const m=jt(),I=Ih(m,n,o,u);return I!==Ur&&Ue(Cr(),pi(),m,t,I,m[jn],f,!1),Ma}function Tg(t,n,o,u,f,m,I,D,N){const z=jt(),oe=function fd(t,n,o,u,f,m,I,D){const z=Li(t,fo(),o,f,I);return po(3),z?n+Ke(o)+u+Ke(f)+m+Ke(I)+D:Ur}(z,n,o,u,f,m,I,D);return oe!==Ur&&Ue(Cr(),pi(),z,t,oe,z[jn],N,!1),Tg}function Qf(t,n){return t<<17|n<<2}function Cd(t){return t>>17&32767}function Bm(t){return 2|t}function Lh(t){return(131068&t)>>2}function Vv(t,n){return-131069&t|n<<2}function Uv(t){return 1|t}function Ty(t,n,o,u,f){const m=t[o+1],I=null===n;let D=u?Cd(m):Lh(m),N=!1;for(;0!==D&&(!1===N||I);){const oe=t[D+1];jv(t[D],n)&&(N=!0,t[D+1]=u?Uv(oe):Bm(oe)),D=u?Cd(oe):Lh(oe)}N&&(t[o+1]=u?Bm(m):Uv(m))}function jv(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Wa(t,n)>=0}const no={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qE(t){return t.substring(no.key,no.keyEnd)}function YE(t,n){const o=no.textEnd;return o===n?-1:(n=no.keyEnd=function Bv(t,n,o){for(;n<o&&t.charCodeAt(n)>32;)n++;return n}(t,no.key=n,o),wd(t,n,o))}function wd(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function $m(t,n,o){return Gl(t,n,o,!1),$m}function e0(t,n){return Gl(t,n,null,!0),e0}function $v(t){!function gu(t,n,o,u){const f=Cr(),m=po(2);f.firstUpdatePass&&n0(f,null,m,u);const I=jt();if(o!==Ur&&Io(I,m,o)){const D=f.data[rr()];if(zv(D,u)&&!t0(f,m)){let N=u?D.classesWithoutHost:D.stylesWithoutHost;null!==N&&(o=Re(N,o||"")),hu(f,D,I,o,u)}else!function Hv(t,n,o,u,f,m,I,D){f===Ur&&(f=sr);let N=0,z=0,oe=0<f.length?f[0]:null,De=0<m.length?m[0]:null;for(;null!==oe||null!==De;){const rt=N<f.length?f[N+1]:void 0,gt=z<m.length?m[z+1]:void 0;let un,Lt=null;oe===De?(N+=2,z+=2,rt!==gt&&(Lt=De,un=gt)):null===De||null!==oe&&oe<De?(N+=2,Lt=oe):(z+=2,Lt=De,un=gt),null!==Lt&&r0(t,n,o,u,Lt,un,I,D),oe=N<f.length?f[N]:null,De=z<m.length?m[z]:null}}(f,D,I,I[jn],I[m+1],I[m+1]=function ib(t,n,o){if(null==o||""===o)return sr;const u=[],f=Zc(o);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(u,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(u,m,f[m]);else"string"==typeof f&&n(u,f);return u}(t,n,o),u,m)}}(sb,$l,t,!0)}function $l(t,n){for(let o=function Q0(t){return function XE(t){no.key=0,no.keyEnd=0,no.value=0,no.valueEnd=0,no.textEnd=t.length}(t),YE(t,wd(t,0,no.textEnd))}(n);o>=0;o=YE(n,o))Lo(t,qE(n),!0)}function Gl(t,n,o,u){const f=jt(),m=Cr(),I=po(2);m.firstUpdatePass&&n0(m,t,I,u),n!==Ur&&Io(f,I,n)&&r0(m,m.data[rr()],f,f[jn],t,f[I+1]=function ob(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=he(Zc(t)))),t}(n,o),u,I)}function t0(t,n){return n>=t.expandoStartIndex}function n0(t,n,o,u){const f=t.data;if(null===f[o+1]){const m=f[rr()],I=t0(t,o);zv(m,u)&&null===n&&!I&&(n=!1),n=function eb(t,n,o,u){const f=function va(t){const n=or.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(o=Gm(o=wy(null,t,n,o,u),n.attrs,u),m=null);else{const I=n.directiveStylingLast;if(-1===I||t[I]!==f)if(o=wy(f,t,n,o,u),null===m){let N=function tb(t,n,o){const u=o?n.classBindings:n.styleBindings;if(0!==Lh(u))return t[Cd(u)]}(t,n,u);void 0!==N&&Array.isArray(N)&&(N=wy(null,t,n,N[1],u),N=Gm(N,n.attrs,u),function nb(t,n,o,u){t[Cd(o?n.classBindings:n.styleBindings)]=u}(t,n,u,N))}else m=function rb(t,n,o){let u;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)u=Gm(u,t[m].hostAttrs,o);return Gm(u,n.attrs,o)}(t,n,u)}return void 0!==m&&(u?n.residualClasses=m:n.residualStyles=m),o}(f,m,n,u),function Y0(t,n,o,u,f,m){let I=m?n.classBindings:n.styleBindings,D=Cd(I),N=Lh(I);t[u]=o;let oe,z=!1;if(Array.isArray(o)?(oe=o[1],(null===oe||Wa(o,oe)>0)&&(z=!0)):oe=o,f)if(0!==N){const rt=Cd(t[D+1]);t[u+1]=Qf(rt,D),0!==rt&&(t[rt+1]=Vv(t[rt+1],u)),t[D+1]=function K0(t,n){return 131071&t|n<<17}(t[D+1],u)}else t[u+1]=Qf(D,0),0!==D&&(t[D+1]=Vv(t[D+1],u)),D=u;else t[u+1]=Qf(N,0),0===D?D=u:t[N+1]=Vv(t[N+1],u),N=u;z&&(t[u+1]=Bm(t[u+1])),Ty(t,oe,u,!0),Ty(t,oe,u,!1),function Jf(t,n,o,u,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&Wa(m,n)>=0&&(o[u+1]=Uv(o[u+1]))}(n,oe,t,u,m),I=Qf(D,N),m?n.classBindings=I:n.styleBindings=I}(f,m,n,o,I,u)}}function wy(t,n,o,u,f){let m=null;const I=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<I&&(m=n[D],u=Gm(u,m.hostAttrs,f),m!==t);)D++;return null!==t&&(o.directiveStylingLast=D),u}function Gm(t,n,o){const u=o?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?f=I:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Lo(t,I,!!o||n[++m]))}return void 0===t?null:t}function sb(t,n,o){const u=String(n);""!==u&&!u.includes(" ")&&Lo(t,u,o)}function r0(t,n,o,u,f,m,I,D){if(!(3&n.type))return;const N=t.data,z=N[D+1],oe=function q0(t){return 1==(1&t)}(z)?s0(N,n,o,f,Lh(z),I):void 0;Ay(oe)||(Ay(m)||function KE(t){return 2==(2&t)}(z)&&(m=s0(N,null,o,f,D,I)),function $y(t,n,o,u,f){if(n)f?t.addClass(o,u):t.removeClass(o,u);else{let m=-1===u.indexOf("-")?void 0:Ku.DashCase;null==f?t.removeStyle(o,u,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Ku.Important),t.setStyle(o,u,f,m))}}(u,I,Hs(rr(),o),f,m))}function s0(t,n,o,u,f,m){const I=null===n;let D;for(;f>0;){const N=t[f],z=Array.isArray(N),oe=z?N[1]:N,De=null===oe;let rt=o[f+1];rt===Ur&&(rt=De?sr:void 0);let gt=De?Bd(rt,u):oe===u?rt:void 0;if(z&&!Ay(gt)&&(gt=Bd(N,u)),Ay(gt)&&(D=gt,I))return D;const Lt=t[f+1];f=I?Cd(Lt):Lh(Lt)}if(null!==n){let N=m?n.residualClasses:n.residualStyles;null!=N&&(D=Bd(N,u))}return D}function Ay(t){return void 0!==t}function zv(t,n){return 0!=(t.flags&(n?8:16))}function o0(t,n=""){const o=jt(),u=Cr(),f=t+Dn,m=u.firstCreatePass?l(u,f,1,n,null):u.data[f],I=Hl(u,o,m,n,t);o[f]=I,fl()&&Rp(u,o,I,m),No(m,!1)}let Hl=(t,n,o,u,f)=>(ko(!0),function ih(t,n){return t.createText(n)}(n[jn],u));function zm(t){return Dy("",t,""),zm}function Dy(t,n,o){const u=jt(),f=Ih(u,t,n,o);return f!==Ur&&jl(u,rr(),f),Dy}function Kv(t,n,o,u,f){const m=jt(),I=function Ch(t,n,o,u,f,m){const D=cu(t,fo(),o,f);return po(2),D?n+Ke(o)+u+Ke(f)+m:Ur}(m,t,n,o,u,f);return I!==Ur&&jl(m,rr(),I),Kv}function qv(t,n,o,u,f,m,I,D,N){const z=jt(),oe=function pd(t,n,o,u,f,m,I,D,N,z){const De=Sa(t,fo(),o,f,I,N);return po(4),De?n+Ke(o)+u+Ke(f)+m+Ke(I)+D+Ke(N)+z:Ur}(z,t,n,o,u,f,m,I,D,N);return oe!==Ur&&jl(z,rr(),oe),qv}const Vh=void 0;var E0=["en",[["a","p"],["AM","PM"],Vh],[["AM","PM"],Vh,Vh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vh,"{1} 'at' {0}",Vh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tE(t){const o=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Cg={};function b0(t){const n=function _b(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=T0(n);if(o)return o;const u=n.split("-")[0];if(o=T0(u),o)return o;if("en"===u)return E0;throw new Ae(701,!1)}function Py(t){return b0(t)[qm.PluralCase]}function T0(t){return t in Cg||(Cg[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),Cg[t]}var qm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qm||{});const a="en-US";let _e=a;function Cb(t,n,o,u,f){if(t=Ye(t),Array.isArray(t))for(let m=0;m<t.length;m++)Cb(t[m],n,o,u,f);else{const m=Cr(),I=jt(),D=zs();let N=_c(t)?t:Ye(t.provide);const z=x_(t),oe=1048575&D.providerIndexes,De=D.directiveStart,rt=D.providerIndexes>>20;if(_c(t)||!t.multi){const gt=new oa(z,f,Sc),Lt=Ab(N,n,f?oe:oe+rt,De);-1===Lt?(aa(rc(D,I),m,N),wb(m,t,n.length),n.push(N),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),o.push(gt),I.push(gt)):(o[Lt]=gt,I[Lt]=gt)}else{const gt=Ab(N,n,oe+rt,De),Lt=Ab(N,n,oe,oe+rt),Mn=Lt>=0&&o[Lt];if(f&&!Mn||!f&&!(gt>=0&&o[gt])){aa(rc(D,I),m,N);const lr=function FC(t,n,o,u,f){const m=new oa(t,o,Sc);return m.multi=[],m.index=n,m.componentProviders=0,_T(m,f,u&&!o),m}(f?kC:NC,o.length,f,u,z);!f&&Mn&&(o[Lt].providerFactory=lr),wb(m,t,n.length,0),n.push(N),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),o.push(lr),I.push(lr)}else wb(m,t,gt>-1?gt:Lt,_T(o[f?Lt:gt],z,!f&&u));!f&&u&&Mn&&o[Lt].componentProviders++}}}function wb(t,n,o,u){const f=_c(n),m=function ev(t){return!!t.useClass}(n);if(f||m){const N=(m?Ye(n.useClass):n).prototype.ngOnDestroy;if(N){const z=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const oe=z.indexOf(o);-1===oe?z.push(o,[u,N]):z[oe+1].push(u,N)}else z.push(o,N)}}}function _T(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function Ab(t,n,o,u){for(let f=o;f<u;f++)if(n[f]===t)return f;return-1}function NC(t,n,o,u){return Db(this.multi,[])}function kC(t,n,o,u){const f=this.multi;let m;if(this.providerFactory){const I=this.providerFactory.componentProviders,D=Ha(o,o[gn],this.providerFactory.index,u);m=D.slice(0,I),Db(f,m);for(let N=I;N<D.length;N++)m.push(D[N])}else m=[],Db(f,m);return m}function Db(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function yT(t,n=[]){return o=>{o.providersResolver=(u,f)=>function OC(t,n,o){const u=Cr();if(u.firstCreatePass){const f=io(t);Cb(o,u.data,u.blueprint,f,!0),Cb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Xm{}class vT{}function LC(t,n){return new Sb(t,n??null,[])}class Sb extends Xm{constructor(n,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nf(this);const f=Gr(n);this._bootstrapComponents=ld(f.bootstrap),this._r3Injector=dv(n,o,[{provide:Xm,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver},...u],he(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Rb extends vT{constructor(n){super(),this.moduleType=n}create(n){return new Sb(this.moduleType,n,[])}}class ET extends Xm{constructor(n){super(),this.componentFactoryResolver=new Nf(this),this.instance=null;const o=new Tf([...n.providers,{provide:Xm,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],n.parent||$p(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function bT(t,n,o=null){return new ET({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let UC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const u=cm(0,o.type),f=u.length>0?bT([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=rn({token:t,providedIn:"environment",factory:()=>new t(Pt(Ei))})}}return t})();function TT(t){t.getStandaloneInjector=n=>n.get(UC).getOrCreateStandaloneInjector(t)}function RT(t,n,o){const u=oo()+t,f=jt();return f[u]===Ur?Pc(f,u,o?n.call(o):n()):Uf(f,u)}function PT(t,n,o,u){return FT(jt(),oo(),t,n,o,u)}function xT(t,n,o,u,f){return LT(jt(),oo(),t,n,o,u,f)}function MT(t,n,o,u,f,m){return VT(jt(),oo(),t,n,o,u,f,m)}function OT(t,n,o,u,f,m,I){return function UT(t,n,o,u,f,m,I,D,N){const z=n+o;return Sa(t,z,f,m,I,D)?Pc(t,z+4,N?u.call(N,f,m,I,D):u(f,m,I,D)):iE(t,z+4)}(jt(),oo(),t,n,o,u,f,m,I)}function NT(t,n,o,u,f,m,I,D){const N=oo()+t,z=jt(),oe=Sa(z,N,o,u,f,m);return Io(z,N+4,I)||oe?Pc(z,N+5,D?n.call(D,o,u,f,m,I):n(o,u,f,m,I)):Uf(z,N+5)}function kT(t,n,o,u,f,m,I,D,N){const z=oo()+t,oe=jt(),De=Sa(oe,z,o,u,f,m);return cu(oe,z+4,I,D)||De?Pc(oe,z+6,N?n.call(N,o,u,f,m,I,D):n(o,u,f,m,I,D)):Uf(oe,z+6)}function iE(t,n){const o=t[n];return o===Ur?void 0:o}function FT(t,n,o,u,f,m){const I=n+o;return Io(t,I,f)?Pc(t,I+1,m?u.call(m,f):u(f)):iE(t,I+1)}function LT(t,n,o,u,f,m,I){const D=n+o;return cu(t,D,f,m)?Pc(t,D+2,I?u.call(I,f,m):u(f,m)):iE(t,D+2)}function VT(t,n,o,u,f,m,I,D){const N=n+o;return Li(t,N,f,m,I)?Pc(t,N+3,D?u.call(D,f,m,I):u(f,m,I)):iE(t,N+3)}function BT(t,n){const o=Cr();let u;const f=t+Dn;o.firstCreatePass?(u=function QC(t,n){if(n)for(let o=n.length-1;o>=0;o--){const u=n[o];if(t===u.name)return u}}(n,o.pipeRegistry),o.data[f]=u,u.onDestroy&&(o.destroyHooks??=[]).push(f,u.onDestroy)):u=o.data[f];const m=u.factory||(u.factory=Ps(u.type)),D=Br(Sc);try{const N=Ko(!1),z=m();return Ko(N),function yd(t,n,o,u){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=u}(o,jt(),f,z),z}finally{Br(D)}}function $T(t,n,o){const u=t+Dn,f=jt(),m=sl(f,u);return sE(f,u)?FT(f,oo(),n,m.transform,o,m):m.transform(o)}function GT(t,n,o,u){const f=t+Dn,m=jt(),I=sl(m,f);return sE(m,f)?LT(m,oo(),n,I.transform,o,u,I):I.transform(o,u)}function HT(t,n,o,u,f){const m=t+Dn,I=jt(),D=sl(I,m);return sE(I,m)?VT(I,oo(),n,D.transform,o,u,f,D):D.transform(o,u,f)}function sE(t,n){return t[gn].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class xb{get changes(){return this._changes||(this._changes=new Dc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=xb.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const u=this;u.dirty=!1;const f=function Yo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function qh(t,n,o){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],m=n[u];if(o&&(f=o(f),m=o(m)),m!==f)return!1}return!0}(u._results,f,o))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,o,u=!0){const f=n[gn];if(function By(t,n,o,u){const f=Sr+u,m=o.length;u>0&&(o[f-1][Qi]=n),u<m-Sr?(n[Qi]=o[f],Ud(o,Sr+u,n)):(o.push(n),n[Qi]=null),n[ur]=o;const I=n[Se];null!==I&&o!==I&&function l_(t,n){const o=t[Vi];n[J]!==n[ur][ur][J]&&(t[kr]=!0),null===o?t[Vi]=[n]:o.push(n)}(I,n);const D=n[nt];null!==D&&D.insertView(t),n[nr]|=128}(f,n,t,o),u){const m=cf(o,t),I=n[jn],D=ah(I,t[ii]);null!==D&&function $g(t,n,o,u,f,m){u[Wr]=f,u[Fi]=n,yl(t,u,o,1,f,m)}(f,t[Fi],I,n,D,m)}}let oE=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=oE,iw=class extends rw{constructor(n,o,u){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,u){const f=function tw(t,n,o,u){const f=n.tView,D=i(t,f,o,4096&t[nr]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);D[Se]=t[n.index];const z=t[nt];return null!==z&&(D[nt]=z.createEmbeddedView(f)),ug(f,D,o),D}(this._declarationLView,this._declarationTContainer,n,{injector:o,hydrationInfo:u});return new Of(f)}};function sw(){return R0(zs(),jt())}function R0(t,n){return 4&t.type?new iw(n,t,qp(t,n)):null}let x0=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return QT(zs(),jt())}const hw=x0,YT=class extends hw{constructor(n,o,u){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=u}get element(){return qp(this._hostTNode,this._hostLView)}get injector(){return new ps(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ga(this._hostTNode,this._hostLView);if(Fu(n)){const o=nc(n,this._hostLView),u=Sl(n);return new ps(o[gn].data[u+8],o)}return new ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=XT(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(n,o,u){let f,m;"number"==typeof u?f=u:null!=u&&(f=u.index,m=u.injector);const D=n.createEmbeddedViewImpl(o||{},m,null);return this.insertImpl(D,f,false),D}createComponent(n,o,u,f,m){const I=n&&!function xl(t){return"function"==typeof t}(n);let D;if(I)D=o;else{const un=o||{};D=un.index,u=un.injector,f=un.projectableNodes,m=un.environmentInjector||un.ngModuleRef}const N=I?n:new kf(Yn(n)),z=u||this.parentInjector;if(!m&&null==N.ngModule){const Mn=(I?z:this.parentInjector).get(Ei,null);Mn&&(m=Mn)}Yn(N.componentType??{});const gt=N.create(z,f,null,m);return this.insertImpl(gt.hostView,D,false),gt}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,u){const f=n._lView;if(function Mo(t){return Mr(t[ur])}(f)){const N=this.indexOf(n);if(-1!==N)this.detach(N);else{const z=f[ur],oe=new YT(z,z[Fi],z[ur]);oe.detach(oe.indexOf(n))}}const I=this._adjustIndex(o),D=this._lContainer;return nw(D,f,I,!u),n.attachToViewContainerRef(),Ud(Mb(D),I,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=XT(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),u=rf(this._lContainer,o);u&&(Ol(Mb(this._lContainer),o),Ap(u[gn],u))}detach(n){const o=this._adjustIndex(n,-1),u=rf(this._lContainer,o);return u&&null!=Ol(Mb(this._lContainer),o)?new Of(u):null}_adjustIndex(n,o=0){return n??this.length+o}};function XT(t){return t[8]}function Mb(t){return t[8]||(t[8]=[])}function QT(t,n){let o;const u=n[t.index];return Mr(u)?o=u:(o=lg(u,n,null,t),n[t.index]=o,vh(n,o)),JT(o,n,t,u),new YT(o,t,n)}let JT=function ZT(t,n,o,u){if(t[ii])return;let f;f=8&o.type?br(u):function fw(t,n){const o=t[jn],u=o.createComment(""),f=Ui(n,t);return Xu(o,ah(o,f),u,function lf(t,n){return t.nextSibling(n)}(o,f),!1),u}(n,o),t[ii]=f};class Ob{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ob(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const u=null!==n.contentQueries?n.contentQueries[0]:o.length,f=[];for(let m=0;m<u;m++){const I=o.getByIndex(m);f.push(this.queries[I.indexInDeclarationView].clone())}return new Nb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==lI(n,o).matches&&this.queries[o].setDirty()}}class eI{constructor(n,o,u=null){this.predicate=n,this.flags=o,this.read=u}}class kb{constructor(n=[]){this.queries=n}elementStart(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let u=0;u<this.length;u++){const f=null!==o?o.length:0,m=this.getByIndex(u).embeddedTView(n,f);m&&(m.indexInDeclarationView=u,null!==o?o.push(m):o=[m])}return null!==o?new kb(o):null}template(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fb{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new Fb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(n,o,mw(o,m)),this.matchTNodeWithReadOption(n,o,ba(o,n,m,!1,!1))}else u===oE?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,ba(o,n,u,!1,!1))}matchTNodeWithReadOption(n,o,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===gh||f===x0||f===oE&&4&o.type)this.addMatch(o.index,-2);else{const m=ba(o,n,f,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,u)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function mw(t,n){const o=t.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===n)return o[u+1];return null}function yw(t,n,o,u){return-1===o?function _w(t,n){return 11&t.type?qp(t,n):4&t.type?R0(t,n):null}(n,t):-2===o?function vw(t,n,o){return o===gh?qp(n,t):o===oE?R0(n,t):o===x0?QT(n,t):void 0}(t,n,u):Ha(t,t[gn],o,n)}function tI(t,n,o,u){const f=n[nt].queries[u];if(null===f.matches){const m=t.data,I=o.matches,D=[];for(let N=0;N<I.length;N+=2){const z=I[N];D.push(z<0?null:yw(n,m[z],I[N+1],o.metadata.read))}f.matches=D}return f.matches}function Lb(t,n,o,u){const f=t.queries.getByIndex(o),m=f.matches;if(null!==m){const I=tI(t,n,f,o);for(let D=0;D<m.length;D+=2){const N=m[D];if(N>0)u.push(I[D/2]);else{const z=m[D+1],oe=n[-N];for(let De=Sr;De<oe.length;De++){const rt=oe[De];rt[Se]===rt[ur]&&Lb(rt[gn],rt,z,u)}if(null!==oe[Vi]){const De=oe[Vi];for(let rt=0;rt<De.length;rt++){const gt=De[rt];Lb(gt[gn],gt,z,u)}}}}}return u}function nI(t){const n=jt(),o=Cr(),u=Cl();S(u+1);const f=lI(o,u);if(t.dirty&&function Bh(t){return 4==(4&t[nr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?Lb(o,n,u,[]):tI(o,n,f,u);t.reset(m,fE),t.notifyOnChanges()}return!0}return!1}function rI(t,n,o){const u=Cr();u.firstCreatePass&&(aI(u,new eI(t,n,o),-1),2==(2&n)&&(u.staticViewQueries=!0)),oI(u,jt(),n)}function iI(t,n,o,u){const f=Cr();if(f.firstCreatePass){const m=zs();aI(f,new eI(n,o,u),m.index),function bw(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(f,t),2==(2&o)&&(f.staticContentQueries=!0)}oI(f,jt(),o)}function sI(){return function Ew(t,n){return t[nt].queries[n].queryList}(jt(),Cl())}function oI(t,n,o){const u=new xb(4==(4&o));(function ar(t,n,o,u){const f=q_(n);f.push(o),t.firstCreatePass&&Y_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[nt]&&(n[nt]=new Nb),n[nt].queries.push(new Ob(u))}function aI(t,n,o){null===t.queries&&(t.queries=new kb),t.queries.track(new Fb(n,o))}function lI(t,n){return t.queries.getByIndex(n)}function cI(t,n){return R0(t,n)}function Vb(t){return!!Gr(t)}const AI=new dn("Application Initializer");let Gb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u}),this.appInits=hn(AI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const m=f();if(E(m))o.push(m);else if(B(m)){const I=new Promise((D,N)=>{m.subscribe({complete:D,error:N})});o.push(I)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(f=>{this.reject(f)}),0===o.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DI=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const O0=new dn("LocaleId",{providedIn:"root",factory:()=>hn(O0,En.Optional|En.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||a}()}),Gw=new dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let SI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let Ww=(()=>{class t{compileModuleSync(o){return new Rb(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),m=ld(Gr(o).declarations).reduce((I,D)=>{const N=Yn(D);return N&&I.push(new kf(N)),I},[]);return new zw(u,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const MI=new dn(""),OI=new dn("");let Wb,p1=(()=>{class t{constructor(o,u,f){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wb||(function g1(t){Wb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:f})}whenStable(o,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(Pt(bo),Pt(NI),Pt(OI))}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac})}}return t})(),NI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Wb?.findTestabilityInTree(this,o,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Sg=null;const kI=new dn("AllowMultipleToken"),Kb=new dn("PlatformDestroyListeners"),qb=new dn("appBootstrapListener");class y1{constructor(n,o){this.name=n,this.token=o}}function VI(t,n,o=[]){const u=`Platform: ${n}`,f=new dn(u);return(m=[])=>{let I=Yb();if(!I||I.injector.get(kI,!1)){const D=[...o,...m,{provide:f,useValue:!0}];t?t(D):function v1(t){if(Sg&&!Sg.get(kI,!1))throw new Ae(400,!1);(function FI(){!function La(t){Ho=t}(()=>{throw new Ae(600,!1)})})(),Sg=t;const n=t.get(jI);(function LI(t){t.get(rv,null)?.forEach(o=>o())})(t)}(function UI(t=[],n){return Cc.create({name:n,providers:[{provide:Ef,useValue:"platform"},{provide:Kb,useValue:new Set([()=>Sg=null])},...t]})}(D,u))}return function b1(t){const n=Yb();if(!n)throw new Ae(401,!1);return n}()}}function Yb(){return Sg?.get(jI)??null}let jI=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const f=function T1(t="zone.js",n){return"noop"===t?new $_:"zone.js"===t?new bo(n):t}(u?.ngZone,function BI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const m=function VC(t,n,o){return new Sb(t,n,o)}(o.moduleType,this.injector,function WI(t){return[{provide:bo,useFactory:t},{provide:ed,multi:!0,useFactory:()=>{const n=hn(C1,{optional:!0});return()=>n.initialize()}},{provide:zI,useFactory:I1},{provide:wE,useFactory:pv}]}(()=>f)),I=m.injector.get(vl,null);return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:N=>{I.handleError(N)}});m.onDestroy(()=>{k0(this._modules,m),D.unsubscribe()})}),function $I(t,n,o){try{const u=o();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(I,f,()=>{const D=m.injector.get(Gb);return D.runInitializers(),D.donePromise.then(()=>(function $e(t){ot(t,"Expected localeId to be defined"),"string"==typeof t&&(_e=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(O0,a)||a),this._moduleDoBootstrap(m),m))})})}bootstrapModule(o,u=[]){const f=GI({},u);return function m1(t,n,o){const u=new Rb(o);return Promise.resolve(u)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(o){const u=o.injector.get(ky);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new Ae(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Kb,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(Pt(Cc))}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function GI(t,n){return Array.isArray(n)?n.reduce(GI,t):{...t,...n}}let ky=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=hn(zI),this.zoneIsStable=hn(wE),this.componentTypes=[],this.components=[],this.isStable=hn(SI).hasPendingTasks.pipe((0,Pe.n)(o=>o?(0,Te.of)(!1):this.zoneIsStable),(0,Me.F)(),(0,be.u)()),this._injector=hn(Ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const f=o instanceof Wp;if(!this._injector.get(Gb).done)throw!f&&zi(o),new Ae(405,!1);let I;I=f?o:this._injector.get(Ul).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const D=function _1(t){return t.isBoundToModule}(I)?void 0:this._injector.get(Xm),z=I.create(Cc.NULL,[],u||I.selector,D),oe=z.location.nativeElement,De=z.injector.get(MI,null);return De?.registerApplication(oe),z.onDestroy(()=>{this.detachView(z.hostView),k0(this.components,z),De?.unregisterApplication(oe)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;k0(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(qb,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>k0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ae(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function k0(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const zI=new dn("",{providedIn:"root",factory:()=>hn(vl).handleError.bind(void 0)});function I1(){const t=hn(bo),n=hn(vl);return o=>t.runOutsideAngular(()=>n.handleError(o))}let C1=(()=>{class t{constructor(){this.zone=hn(bo),this.applicationRef=hn(ky)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function A1(){return!1}let D1=(()=>{class t{static{this.__NG_ELEMENT_ID__=S1}}return t})();function S1(t){return function R1(t,n,o){if(ds(t)&&!o){const u=Hi(t.index,n);return new Of(u,u)}return 47&t.type?new Of(n[J],n):null}(zs(),jt(),16==(16&t))}class QI{constructor(){}supports(n){return mg(n)}create(n){return new N1(n)}}const O1=(t,n)=>n;class N1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||O1}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,u=this._removalsHead,f=0,m=null;for(;o||u;){const I=!u||o&&o.currentIndex<ZI(u,f,m)?o:u,D=ZI(I,f,m),N=I.currentIndex;if(I===u)f--,u=u._nextRemoved;else if(o=o._next,null==I.previousIndex)f++;else{m||(m=[]);const z=D-f,oe=N-f;if(z!=oe){for(let rt=0;rt<z;rt++){const gt=rt<m.length?m[rt]:m[rt]=0,Lt=gt+rt;oe<=Lt&&Lt<z&&(m[rt]=gt+1)}m[I.previousIndex]=oe-z}}D!==N&&n(I,D,N)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!mg(n))throw new Ae(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,I,o=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],I=this._trackByFn(D,m),null!==o&&Object.is(o.trackById,I)?(u&&(o=this._verifyReinsertion(o,m,I,D)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,I,D),u=!0),o=o._next}else f=0,function _g(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let u;for(;!(u=o.next()).done;)n(u.value)}}(n,D=>{I=this._trackByFn(f,D),null!==o&&Object.is(o.trackById,I)?(u&&(o=this._verifyReinsertion(o,D,I,f)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,I,f),u=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,u,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,m,f)):n=this._addAfter(new k1(o,u),m,f),n}_verifyReinsertion(n,o,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,o,u),this._addToMoves(n,u),n}_moveAfter(n,o,u){return this._unlink(n),this._insertAfter(n,o,u),this._addToMoves(n,u),n}_addAfter(n,o,u){return this._insertAfter(n,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,u){const f=null===o?this._itHead:o._next;return n._next=f,n._prev=o,null===f?this._itTail=n:f._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new JI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,u=n._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class k1{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class F1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const o=n._prevDup,u=n._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class JI{constructor(){this.map=new Map}put(n){const o=n.trackById;let u=this.map.get(o);u||(u=new F1,this.map.set(o,u)),u.add(n)}get(n,o){const f=this.map.get(n);return f?f.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZI(t,n,o){const u=t.previousIndex;if(null===u)return u;let f=0;return o&&u<o.length&&(f=o[u]),u+n+f}class eC{constructor(){}supports(n){return n instanceof Map||lu(n)}create(){return new L1}}class L1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||lu(n)))throw new Ae(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(f,u);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const u=n._prev;return o._next=n,o._prev=u,n._prev=o,u&&(u._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,o);const m=f._prev,I=f._next;return m&&(m._next=I),I&&(I._prev=m),f._next=null,f._prev=null,f}const u=new V1(n);return this._records.set(n,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(u=>o(n[u],u))}}class V1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tC(){return new eT([new QI])}let eT=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:tC})}constructor(o){this.factories=o}static create(o,u){if(null!=u){const f=u.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:u=>t.create(o,u||tC()),deps:[[t,new zu,new _l]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(null!=u)return u;throw new Ae(901,!1)}}return t})();function nC(){return new tT([new eC])}let tT=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:nC})}constructor(o){this.factories=o}static create(o,u){if(u){const f=u.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:u=>t.create(o,u||nC()),deps:[[t,new zu,new _l]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(u)return u;throw new Ae(901,!1)}}return t})();const B1=VI(null,"core",[]);let $1=(()=>{class t{constructor(o){}static{this.\u0275fac=function(u){return new(u||t)(Pt(ky))}}static{this.\u0275mod=ni({type:t})}static{this.\u0275inj=Qt({})}}return t})();function Z1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function tA(t){const n=Yn(t);if(!n)return null;const o=new kf(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(tn,Xe,V)=>{V.d(Xe,{DS:()=>Vt,X8:()=>Kt,$z:()=>Ze,UB:()=>On,yy:()=>ut,ZP:()=>Ie,AU:()=>Xt,CP:()=>xt,gF:()=>Ot}),V(2438);var ce=V(177),r=V(7705),Ee=V(5407),me=V(9253),Te=V(1413),be=V(7673),Pe=V(1985),Me=V(8455),W=V(7786),ne=V(941),he=V(5558),Re=V(6354),je=V(6129);class ve extends Te.B{constructor(Ve=1/0,st=1/0,it=je.U){super(),this._bufferSize=Ve,this._windowTime=st,this._timestampProvider=it,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=st===1/0,this._bufferSize=Math.max(1,Ve),this._windowTime=Math.max(1,st)}next(Ve){const{isStopped:st,_buffer:it,_infiniteTimeWindow:xe,_timestampProvider:Z,_windowTime:ye}=this;st||(it.push(Ve),!xe&&it.push(Z.now()+ye)),this._trimBuffer(),super.next(Ve)}_subscribe(Ve){this._throwIfClosed(),this._trimBuffer();const st=this._innerSubscribe(Ve),{_infiniteTimeWindow:it,_buffer:xe}=this,Z=xe.slice();for(let ye=0;ye<Z.length&&!Ve.closed;ye+=it?1:2)Ve.next(Z[ye]);return this._checkFinalizedStatuses(Ve),st}_trimBuffer(){const{_bufferSize:Ve,_timestampProvider:st,_buffer:it,_infiniteTimeWindow:xe}=this,Z=(xe?1:2)*Ve;if(Ve<1/0&&Z<it.length&&it.splice(0,it.length-Z),!xe){const ye=st.now();let Fe=0;for(let ot=1;ot<it.length&&it[ot]<=ye;ot+=2)Fe=ot;Fe&&it.splice(0,Fe+1)}}}var Ye=V(7647);function we(pt,Ve,st){let it,xe=!1;return pt&&"object"==typeof pt?({bufferSize:it=1/0,windowTime:Ve=1/0,refCount:xe=!1,scheduler:st}=pt):it=pt??1/0,(0,Ye.u)({connector:()=>new ve(it,Ve,st),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:xe})}var Tt=V(1594),Bt=V(8071);function Ge(pt,Ve){return(0,Bt.T)(Ve)?(0,he.n)(()=>pt,Ve):(0,he.n)(()=>pt)}var Ae=V(6745),tt=V(5964),Ke=V(7935);const xt=new r.nKC("angularfire2.auth.use-emulator"),ut=new r.nKC("angularfire2.auth.settings"),Ie=new r.nKC("angularfire2.auth.tenant-id"),Ze=new r.nKC("angularfire2.auth.langugage-code"),Xt=new r.nKC("angularfire2.auth.use-device-language"),On=new r.nKC("angularfire.auth.persistence"),Ot=(pt,Ve,st,it,xe,Z,ye,Fe)=>(0,me.BM)(`${pt.name}.auth`,"AngularFireAuth",pt.name,()=>{const ot=Ve.runOutsideAngular(()=>pt.auth());if(st&&ot.useEmulator(...st),it&&(ot.tenantId=it),ot.languageCode=xe,Z&&ot.useDeviceLanguage(),ye)for(const[We,Ft]of Object.entries(ye))ot.settings[We]=Ft;return Fe&&ot.setPersistence(Fe),ot},[st,it,xe,Z,ye,Fe]);let Vt=(()=>{class pt{authState;idToken;user;idTokenResult;credential;constructor(st,it,xe,Z,ye,Fe,ot,We,Ft,bn,tr,rn){const Fn=new Te.B,Qt=(0,be.of)(void 0).pipe((0,ne.Q)(ye.outsideAngular),(0,he.n)(()=>Z.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2438)))),(0,Re.T)(()=>(0,me.iB)(st,Z,it)),(0,Re.T)(Bn=>Ot(Bn,Z,Fe,We,Ft,bn,ot,tr)),we({bufferSize:1,refCount:!1}));if((0,ce.Vy)(xe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{Qt.pipe((0,Tt.$)()).subscribe();const Bn=Qt.pipe((0,he.n)(Ut=>Ut.getRedirectResult().then(dr=>dr,()=>null)),Ee.U0,we({bufferSize:1,refCount:!1})),xn=Qt.pipe((0,he.n)(Ut=>new Pe.c(dr=>({unsubscribe:Z.runOutsideAngular(()=>Ut.onAuthStateChanged(sn=>dr.next(sn),sn=>dr.error(sn),()=>dr.complete()))})))),zt=Qt.pipe((0,he.n)(Ut=>new Pe.c(dr=>({unsubscribe:Z.runOutsideAngular(()=>Ut.onIdTokenChanged(sn=>dr.next(sn),sn=>dr.error(sn),()=>dr.complete()))}))));this.authState=Bn.pipe(Ge(xn),(0,Ae._)(ye.outsideAngular),(0,ne.Q)(ye.insideAngular)),this.user=Bn.pipe(Ge(zt),(0,Ae._)(ye.outsideAngular),(0,ne.Q)(ye.insideAngular)),this.idToken=this.user.pipe((0,he.n)(Ut=>Ut?(0,Me.H)(Ut.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,he.n)(Ut=>Ut?(0,Me.H)(Ut.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,W.h)(Bn,Fn,this.authState.pipe((0,tt.p)(Ut=>!Ut))).pipe((0,Re.T)(Ut=>Ut?.user?Ut:null),(0,Ae._)(ye.outsideAngular),(0,ne.Q)(ye.insideAngular))}return(0,me.Gt)(this,Qt,Z,{spy:{apply:(Bn,xn,zt)=>{(Bn.startsWith("signIn")||Bn.startsWith("createUser"))&&zt.then(Ut=>Fn.next(Ut))}}})}static \u0275fac=function(it){return new(it||pt)(r.KVO(me.rx),r.KVO(me.uP,8),r.KVO(r.Agw),r.KVO(r.SKi),r.KVO(Ee.u0),r.KVO(xt,8),r.KVO(ut,8),r.KVO(Ie,8),r.KVO(Ze,8),r.KVO(Xt,8),r.KVO(On,8),r.KVO(Ee.Jv,8))};static \u0275prov=r.jDH({token:pt,factory:pt.\u0275fac,providedIn:"any"})}return pt})(),Kt=(()=>{class pt{constructor(){Ke.A.registerVersion("angularfire",Ee.xv.full,"auth-compat")}static \u0275fac=function(it){return new(it||pt)};static \u0275mod=r.$C({type:pt});static \u0275inj=r.G2t({providers:[Vt]})}return pt})()},6340:(tn,Xe,V)=>{V.d(Xe,{Qe:()=>Ri,cM:()=>at});var s=V(177),ce=V(7705),r=V(5407),Ee=V(9253),me=V(1977),Te=V(3236),be=V(1985),Pe=V(8455),Me=V(7673),W=V(9172),ne=V(9974),he=V(4360);function Re(){return(0,ne.N)((bt,de)=>{let ke,At=!1;bt.subscribe((0,he._)(de,qt=>{const Vn=ke;ke=qt,At&&de.next([Vn,qt]),At=!0}))})}var je=V(6354),ve=V(2816),Ye=V(3294),we=V(5964),Bt=(V(2438),V(3345)),Ge=V(9583),Ae=V(1076),tt=V(1362);function xt(bt,de){if(void 0===de)return{merge:!1};if(void 0!==de.mergeFields&&void 0!==de.merge)throw new Ge.W6("invalid-argument",`Invalid options passed to function ${bt}(): You cannot specify both "merge" and "mergeFields".`);return de}function ut(){if(typeof Uint8Array>"u")throw new Ge.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,Ge.qG)())throw new Ge.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ze{constructor(de){this._delegate=de}static fromBase64String(de){return Ie(),new Ze(Ge.Ix.fromBase64String(de))}static fromUint8Array(de){return ut(),new Ze(Ge.Ix.fromUint8Array(de))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return ut(),this._delegate.toUint8Array()}isEqual(de){return this._delegate.isEqual(de._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xt(bt){return function On(bt,de){if("object"!=typeof bt||null===bt)return!1;const ke=bt;for(const At of de)if(At in ke&&"function"==typeof ke[At])return!0;return!1}(bt,["next","error","complete"])}class Ot{enableIndexedDbPersistence(de,ke){return(0,Ge.ol)(de._delegate,{forceOwnership:ke})}enableMultiTabIndexedDbPersistence(de){return(0,Ge.Q5)(de._delegate)}clearIndexedDbPersistence(de){return(0,Ge.me)(de._delegate)}}class Vt{constructor(de,ke,At){this._delegate=ke,this._persistenceProvider=At,this.INTERNAL={delete:()=>this.terminate()},de instanceof Ge.cm||(this._appCompat=de)}get _databaseId(){return this._delegate._databaseId}settings(de){const ke=this._delegate._getSettings();!de.merge&&ke.host!==de.host&&(0,Ge.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),de.merge&&delete(de=Object.assign(Object.assign({},ke),de)).merge,this._delegate._setSettings(de)}useEmulator(de,ke,At={}){(0,Ge.vN)(this._delegate,de,ke,At)}enableNetwork(){return(0,Ge.Os)(this._delegate)}disableNetwork(){return(0,Ge.LA)(this._delegate)}enablePersistence(de){let ke=!1,At=!1;return de&&(ke=!!de.synchronizeTabs,At=!!de.experimentalForceOwningTab,(0,Ge.c8)("synchronizeTabs",ke,"experimentalForceOwningTab",At)),ke?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,At)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ge.iB)(this._delegate)}onSnapshotsInSync(de){return(0,Ge.FC)(this._delegate,de)}get app(){if(!this._appCompat)throw new Ge.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(de){try{return new rn(this,(0,Ge.rJ)(this._delegate,de))}catch(ke){throw Z(ke,"collection()","Firestore.collection()")}}doc(de){try{return new xe(this,(0,Ge.H9)(this._delegate,de))}catch(ke){throw Z(ke,"doc()","Firestore.doc()")}}collectionGroup(de){try{return new Ft(this,(0,Ge.Cs)(this._delegate,de))}catch(ke){throw Z(ke,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(de){return(0,Ge.c4)(this._delegate,ke=>de(new Ve(this,ke)))}batch(){return(0,Ge.Ws)(this._delegate),new st(new Ge.GA(this._delegate,de=>(0,Ge.z6)(this._delegate,de)))}loadBundle(de){return(0,Ge.po)(this._delegate,de)}namedQuery(de){return(0,Ge.St)(this._delegate,de).then(ke=>ke?new Ft(this,ke):null)}}class Kt extends Ge.fS{constructor(de){super(),this.firestore=de}convertBytes(de){return new Ze(new Ge.Ix(de))}convertReference(de){const ke=this.convertDocumentKey(de,this.firestore._databaseId);return xe.forKey(ke,this.firestore,null)}}class Ve{constructor(de,ke){this._firestore=de,this._delegate=ke,this._userDataWriter=new Kt(de)}get(de){const ke=Fn(de);return this._delegate.get(ke).then(At=>new ot(this._firestore,new Ge.Wq(this._firestore._delegate,this._userDataWriter,At._key,At._document,At.metadata,ke.converter)))}set(de,ke,At){const qt=Fn(de);return At?(xt("Transaction.set",At),this._delegate.set(qt,ke,At)):this._delegate.set(qt,ke),this}update(de,ke,At,...qt){const Vn=Fn(de);return 2===arguments.length?this._delegate.update(Vn,ke):this._delegate.update(Vn,ke,At,...qt),this}delete(de){const ke=Fn(de);return this._delegate.delete(ke),this}}class st{constructor(de){this._delegate=de}set(de,ke,At){const qt=Fn(de);return At?(xt("WriteBatch.set",At),this._delegate.set(qt,ke,At)):this._delegate.set(qt,ke),this}update(de,ke,At,...qt){const Vn=Fn(de);return 2===arguments.length?this._delegate.update(Vn,ke):this._delegate.update(Vn,ke,At,...qt),this}delete(de){const ke=Fn(de);return this._delegate.delete(ke),this}commit(){return this._delegate.commit()}}class it{constructor(de,ke,At){this._firestore=de,this._userDataWriter=ke,this._delegate=At}fromFirestore(de,ke){const At=new Ge.YQ(this._firestore._delegate,this._userDataWriter,de._key,de._document,de.metadata,null);return this._delegate.fromFirestore(new We(this._firestore,At),ke??{})}toFirestore(de,ke){return ke?this._delegate.toFirestore(de,ke):this._delegate.toFirestore(de)}static getInstance(de,ke){const At=it.INSTANCES;let qt=At.get(de);qt||(qt=new WeakMap,At.set(de,qt));let Vn=qt.get(ke);return Vn||(Vn=new it(de,new Kt(de),ke),qt.set(ke,Vn)),Vn}}it.INSTANCES=new WeakMap;class xe{constructor(de,ke){this.firestore=de,this._delegate=ke,this._userDataWriter=new Kt(de)}static forPath(de,ke,At){if(de.length%2!=0)throw new Ge.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${de.canonicalString()} has ${de.length}`);return new xe(ke,new Ge.T1(ke._delegate,At,new Ge.K$(de)))}static forKey(de,ke,At){return new xe(ke,new Ge.T1(ke._delegate,At,de))}get id(){return this._delegate.id}get parent(){return new rn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(de){try{return new rn(this.firestore,(0,Ge.rJ)(this._delegate,de))}catch(ke){throw Z(ke,"collection()","DocumentReference.collection()")}}isEqual(de){return(de=(0,Ae.Ku)(de))instanceof Ge.T1&&(0,Ge.yx)(this._delegate,de)}set(de,ke){ke=xt("DocumentReference.set",ke);try{return ke?(0,Ge.BN)(this._delegate,de,ke):(0,Ge.BN)(this._delegate,de)}catch(At){throw Z(At,"setDoc()","DocumentReference.set()")}}update(de,ke,...At){try{return 1===arguments.length?(0,Ge.mZ)(this._delegate,de):(0,Ge.mZ)(this._delegate,de,ke,...At)}catch(qt){throw Z(qt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ge.kd)(this._delegate)}onSnapshot(...de){const ke=ye(de),At=Fe(de,qt=>new ot(this.firestore,new Ge.Wq(this.firestore._delegate,this._userDataWriter,qt._key,qt._document,qt.metadata,this._delegate.converter)));return(0,Ge.aQ)(this._delegate,ke,At)}get(de){let ke;return ke="cache"===de?.source?(0,Ge.nY)(this._delegate):"server"===de?.source?(0,Ge._e)(this._delegate):(0,Ge.x7)(this._delegate),ke.then(At=>new ot(this.firestore,new Ge.Wq(this.firestore._delegate,this._userDataWriter,At._key,At._document,At.metadata,this._delegate.converter)))}withConverter(de){return new xe(this.firestore,this._delegate.withConverter(de?it.getInstance(this.firestore,de):null))}}function Z(bt,de,ke){return bt.message=bt.message.replace(de,ke),bt}function ye(bt){for(const de of bt)if("object"==typeof de&&!Xt(de))return de;return{}}function Fe(bt,de){var ke,At;let qt;return qt=Xt(bt[0])?bt[0]:Xt(bt[1])?bt[1]:"function"==typeof bt[0]?{next:bt[0],error:bt[1],complete:bt[2]}:{next:bt[1],error:bt[2],complete:bt[3]},{next:Vn=>{qt.next&&qt.next(de(Vn))},error:null===(ke=qt.error)||void 0===ke?void 0:ke.bind(qt),complete:null===(At=qt.complete)||void 0===At?void 0:At.bind(qt)}}class ot{constructor(de,ke){this._firestore=de,this._delegate=ke}get ref(){return new xe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(de){return this._delegate.data(de)}get(de,ke){return this._delegate.get(de,ke)}isEqual(de){return(0,Ge.lN)(this._delegate,de._delegate)}}class We extends ot{data(de){const ke=this._delegate.data(de);return this._delegate._converter||(0,Ge.bI)(void 0!==ke,"Document in a QueryDocumentSnapshot should exist"),ke}}class Ft{constructor(de,ke){this.firestore=de,this._delegate=ke,this._userDataWriter=new Kt(de)}where(de,ke,At){try{return new Ft(this.firestore,(0,Ge.P)(this._delegate,(0,Ge._M)(de,ke,At)))}catch(qt){throw Z(qt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(de,ke){try{return new Ft(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.My)(de,ke)))}catch(At){throw Z(At,/(orderBy|where)\(\)/,"Query.$1()")}}limit(de){try{return new Ft(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.AB)(de)))}catch(ke){throw Z(ke,"limit()","Query.limit()")}}limitToLast(de){try{return new Ft(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.$1)(de)))}catch(ke){throw Z(ke,"limitToLast()","Query.limitToLast()")}}startAt(...de){try{return new Ft(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.EO)(...de)))}catch(ke){throw Z(ke,"startAt()","Query.startAt()")}}startAfter(...de){try{return new Ft(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.HM)(...de)))}catch(ke){throw Z(ke,"startAfter()","Query.startAfter()")}}endBefore(...de){try{return new Ft(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.rf)(...de)))}catch(ke){throw Z(ke,"endBefore()","Query.endBefore()")}}endAt(...de){try{return new Ft(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.FD)(...de)))}catch(ke){throw Z(ke,"endAt()","Query.endAt()")}}isEqual(de){return(0,Ge.B)(this._delegate,de._delegate)}get(de){let ke;return ke="cache"===de?.source?(0,Ge.kU)(this._delegate):"server"===de?.source?(0,Ge.Rr)(this._delegate):(0,Ge.GG)(this._delegate),ke.then(At=>new tr(this.firestore,new Ge.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,At._snapshot)))}onSnapshot(...de){const ke=ye(de),At=Fe(de,qt=>new tr(this.firestore,new Ge.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,qt._snapshot)));return(0,Ge.aQ)(this._delegate,ke,At)}withConverter(de){return new Ft(this.firestore,this._delegate.withConverter(de?it.getInstance(this.firestore,de):null))}}class bn{constructor(de,ke){this._firestore=de,this._delegate=ke}get type(){return this._delegate.type}get doc(){return new We(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tr{constructor(de,ke){this._firestore=de,this._delegate=ke}get query(){return new Ft(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(de=>new We(this._firestore,de))}docChanges(de){return this._delegate.docChanges(de).map(ke=>new bn(this._firestore,ke))}forEach(de,ke){this._delegate.forEach(At=>{de.call(ke,new We(this._firestore,At))})}isEqual(de){return(0,Ge.lN)(this._delegate,de._delegate)}}class rn extends Ft{constructor(de,ke){super(de,ke),this.firestore=de,this._delegate=ke}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const de=this._delegate.parent;return de?new xe(this.firestore,de):null}doc(de){try{return new xe(this.firestore,void 0===de?(0,Ge.H9)(this._delegate):(0,Ge.H9)(this._delegate,de))}catch(ke){throw Z(ke,"doc()","CollectionReference.doc()")}}add(de){return(0,Ge.gS)(this._delegate,de).then(ke=>new xe(this.firestore,ke))}isEqual(de){return(0,Ge.yx)(this._delegate,de._delegate)}withConverter(de){return new rn(this.firestore,this._delegate.withConverter(de?it.getInstance(this.firestore,de):null))}}function Fn(bt){return(0,Ge.lo)(bt,Ge.T1)}class Qt{constructor(...de){this._delegate=new Ge.uY(...de)}static documentId(){return new Qt(Ge.FA.keyField().canonicalString())}isEqual(de){return(de=(0,Ae.Ku)(de))instanceof Ge.uY&&this._delegate._internalPath.isEqual(de._internalPath)}}class Bn{constructor(de){this._delegate=de}static serverTimestamp(){const de=(0,Ge.O5)();return de._methodName="FieldValue.serverTimestamp",new Bn(de)}static delete(){const de=(0,Ge.CL)();return de._methodName="FieldValue.delete",new Bn(de)}static arrayUnion(...de){const ke=(0,Ge.hq)(...de);return ke._methodName="FieldValue.arrayUnion",new Bn(ke)}static arrayRemove(...de){const ke=(0,Ge.C3)(...de);return ke._methodName="FieldValue.arrayRemove",new Bn(ke)}static increment(de){const ke=(0,Ge.GV)(de);return ke._methodName="FieldValue.increment",new Bn(ke)}isEqual(de){return this._delegate.isEqual(de._delegate)}}const xn={Firestore:Vt,GeoPoint:Ge.Ci,Timestamp:Ge.Dc,Blob:Ze,Transaction:Ve,WriteBatch:st,DocumentReference:xe,DocumentSnapshot:ot,Query:Ft,QueryDocumentSnapshot:We,QuerySnapshot:tr,CollectionReference:rn,FieldPath:Qt,FieldValue:Bn,setLogLevel:function pt(bt){(0,Ge.He)(bt)},CACHE_SIZE_UNLIMITED:Ge.H6};!function Ut(bt){(function zt(bt,de){bt.INTERNAL.registerComponent(new tt.uA("firestore-compat",ke=>{const At=ke.getProvider("app-compat").getImmediate(),qt=ke.getProvider("firestore").getImmediate();return de(At,qt)},"PUBLIC").setServiceProps(Object.assign({},xn)))})(bt,(de,ke)=>new Vt(de,ke,new Ot)),bt.registerVersion("@firebase/firestore-compat","0.3.38")}(Bt.A);var dr=V(7935);function xr(bt,de){return function sn(bt,de=Te.E){return new be.c(ke=>{let At;return null!=de?de.schedule(()=>{At=bt.onSnapshot({includeMetadataChanges:!0},ke)}):At=bt.onSnapshot({includeMetadataChanges:!0},ke),()=>{At?.()}})}(bt,de)}function Gt(bt,de){return xr(bt,de).pipe((0,je.T)(ke=>({payload:ke,type:"query"})))}class En{ref;afs;constructor(de,ke){this.ref=de,this.afs=ke}set(de,ke){return this.ref.set(de,ke)}update(de){return this.ref.update(de)}delete(){return this.ref.delete()}collection(de,ke){const At=this.ref.collection(de),{ref:qt,query:Vn}=Hn(At,ke);return new hi(qt,Vn,this.afs)}snapshotChanges(){return function Xn(bt,de){return xr(bt,de).pipe((0,W.Z)(void 0),Re(),(0,je.T)(ke=>{const[At,qt]=ke;return qt.exists?At?.exists?{payload:qt,type:"modified"}:{payload:qt,type:"added"}:{payload:qt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(de={}){return this.snapshotChanges().pipe((0,je.T)(({payload:ke})=>de.idField?{...ke.data(),[de.idField]:ke.id}:ke.data()))}get(de){return(0,Pe.H)(this.ref.get(de)).pipe(r.U0)}}function Gn(bt,de){return Gt(bt,de).pipe((0,W.Z)(void 0),Re(),(0,je.T)(ke=>{const[At,qt]=ke,Vn=qt.payload.docChanges(),Vr=Vn.map(Ir=>({type:Ir.type,payload:Ir}));return At&&JSON.stringify(At.payload.metadata)!==JSON.stringify(qt.payload.metadata)&&qt.payload.docs.forEach((Ir,Qe)=>{const He=Vn.find(A=>A.doc.ref.isEqual(Ir.ref)),x=At?.payload.docs.find(A=>A.ref.isEqual(Ir.ref));He&&JSON.stringify(He.doc.metadata)===JSON.stringify(Ir.metadata)||!He&&x&&JSON.stringify(x.metadata)===JSON.stringify(Ir.metadata)||Vr.push({type:"modified",payload:{oldIndex:Qe,newIndex:Qe,type:"modified",doc:Ir}})}),Vr}))}function Tn(bt,de,ke){return Gn(bt,ke).pipe((0,ve.S)((At,qt)=>function Br(bt,de,ke){return de.forEach(At=>{ke.indexOf(At.type)>-1&&(bt=function Hr(bt,de){switch(de.type){case"added":if(!bt[de.newIndex]||!bt[de.newIndex].doc.ref.isEqual(de.doc.ref))return Dr(bt,de.newIndex,0,de);break;case"modified":if(null==bt[de.oldIndex]||bt[de.oldIndex].doc.ref.isEqual(de.doc.ref)){if(de.oldIndex!==de.newIndex){const ke=bt.slice();return ke.splice(de.oldIndex,1),ke.splice(de.newIndex,0,de),ke}return Dr(bt,de.newIndex,1,de)}break;case"removed":if(bt[de.oldIndex]&&bt[de.oldIndex].doc.ref.isEqual(de.doc.ref))return Dr(bt,de.oldIndex,1)}return bt}(bt,At))}),bt}(At,qt.map(Vn=>Vn.payload),de),[]),(0,Ye.F)(),(0,je.T)(At=>At.map(qt=>({type:qt.type,payload:qt}))))}function Dr(bt,de,ke,...At){const qt=bt.slice();return qt.splice(de,ke,...At),qt}function zn(bt){return(!bt||0===bt.length)&&(bt=["added","removed","modified"]),bt}class hi{ref;query;afs;constructor(de,ke,At){this.ref=de,this.query=ke,this.afs=At}stateChanges(de){let ke=Gn(this.query,this.afs.schedulers.outsideAngular);return de&&de.length>0&&(ke=ke.pipe((0,je.T)(At=>At.filter(qt=>de.indexOf(qt.type)>-1)))),ke.pipe((0,W.Z)(void 0),Re(),(0,we.p)(([At,qt])=>qt.length>0||!At),(0,je.T)(([,At])=>At),r.U0)}auditTrail(de){return this.stateChanges(de).pipe((0,ve.S)((ke,At)=>[...ke,...At],[]))}snapshotChanges(de){const ke=zn(de);return Tn(this.query,ke,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(de={}){return Gt(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(ke=>ke.payload.docs.map(At=>de.idField?{...At.data(),[de.idField]:At.id}:At.data())),r.U0)}get(de){return(0,Pe.H)(this.query.get(de)).pipe(r.U0)}add(de){return this.ref.add(de)}doc(de){return new En(this.ref.doc(de),this.afs)}}class ys{query;afs;constructor(de,ke){this.query=de,this.afs=ke}stateChanges(de){return de&&0!==de.length?Gn(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(ke=>ke.filter(At=>de.indexOf(At.type)>-1)),(0,we.p)(ke=>ke.length>0),r.U0):Gn(this.query,this.afs.schedulers.outsideAngular).pipe(r.U0)}auditTrail(de){return this.stateChanges(de).pipe((0,ve.S)((ke,At)=>[...ke,...At],[]))}snapshotChanges(de){const ke=zn(de);return Tn(this.query,ke,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(de={}){return Gt(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(At=>At.payload.docs.map(qt=>de.idField?{[de.idField]:qt.id,...qt.data()}:qt.data())),r.U0)}get(de){return(0,Pe.H)(this.query.get(de)).pipe(r.U0)}}const dn=new ce.nKC("angularfire2.enableFirestorePersistence"),ti=new ce.nKC("angularfire2.firestore.persistenceSettings"),Jn=new ce.nKC("angularfire2.firestore.settings"),Tr=new ce.nKC("angularfire2.firestore.use-emulator");function Hn(bt,de=(ke=>ke)){return{query:de(bt),ref:bt}}let Ri=(()=>{class bt{schedulers;firestore;persistenceEnabled$;constructor(ke,At,qt,Vn,Vr,Ir,Qe,He,x,A,O,re,pe,dt,Pt,on,hn){this.schedulers=Qe;const wn=(0,Ee.iB)(ke,Ir,At),Er=x;A&&(0,me.gF)(wn,Ir,O,pe,dt,Pt,re,on),[this.firestore,this.persistenceEnabled$]=(0,Ee.BM)(`${wn.name}.firestore`,"AngularFirestore",wn.name,()=>{const an=Ir.runOutsideAngular(()=>wn.firestore());if(Vn&&an.settings(Vn),Er&&an.useEmulator(...Er),qt&&!(0,s.Vy)(Vr)){const zr=()=>{try{return(0,Pe.H)(an.enablePersistence(He||void 0).then(()=>!0,()=>!1))}catch(cr){return typeof console<"u"&&console.warn(cr),(0,Me.of)(!1)}};return[an,Ir.runOutsideAngular(zr)]}return[an,(0,Me.of)(!1)]},[Vn,Er,qt])}collection(ke,At){let qt;qt="string"==typeof ke?this.firestore.collection(ke):ke;const{ref:Vn,query:Vr}=Hn(qt,At),Ir=this.schedulers.ngZone.run(()=>Vn);return new hi(Ir,Vr,this)}collectionGroup(ke,At){const qt=At||(Vr=>Vr),Vn=this.firestore.collectionGroup(ke);return new ys(qt(Vn),this)}doc(ke){let At;At="string"==typeof ke?this.firestore.doc(ke):ke;const qt=this.schedulers.ngZone.run(()=>At);return new En(qt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(At){return new(At||bt)(ce.KVO(Ee.rx),ce.KVO(Ee.uP,8),ce.KVO(dn,8),ce.KVO(Jn,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(r.u0),ce.KVO(ti,8),ce.KVO(Tr,8),ce.KVO(me.DS,8),ce.KVO(me.CP,8),ce.KVO(me.yy,8),ce.KVO(me.ZP,8),ce.KVO(me.$z,8),ce.KVO(me.AU,8),ce.KVO(me.UB,8),ce.KVO(r.Jv,8))};static \u0275prov=ce.jDH({token:bt,factory:bt.\u0275fac,providedIn:"any"})}return bt})(),at=(()=>{class bt{constructor(){dr.A.registerVersion("angularfire",r.xv.full,"fst-compat")}static enablePersistence(ke){return{ngModule:bt,providers:[{provide:dn,useValue:!0},{provide:ti,useValue:ke}]}}static \u0275fac=function(At){return new(At||bt)};static \u0275mod=ce.$C({type:bt});static \u0275inj=ce.G2t({providers:[Ri]})}return bt})()},8721:(tn,Xe,V)=>{V.d(Xe,{ap:()=>Ve,y5:()=>xe});var s=V(5407),ce=V(1985),r=V(7673),Ee=V(8455),me=V(3236),Te=V(9974),be=V(4360),Me=V(6354),W=V(5558),ne=V(7705),he=V(9253),Re=V(3345),je=V(4535),ve=V(1362);class Ye{constructor(ye,Fe,ot){this._delegate=ye,this.task=Fe,this.ref=ot}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class we{constructor(ye,Fe){this._delegate=ye,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ye(this._delegate.snapshot,this,this._ref)}then(ye,Fe){return this._delegate.then(ot=>{if(ye)return ye(new Ye(ot,this,this._ref))},Fe)}on(ye,Fe,ot,We){let Ft;return Fe&&(Ft="function"==typeof Fe?bn=>Fe(new Ye(bn,this,this._ref)):{next:Fe.next?bn=>Fe.next(new Ye(bn,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(ye,Ft,ot||void 0,We||void 0)}}class Tt{constructor(ye,Fe){this._delegate=ye,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(ye=>new Bt(ye,this._service))}get items(){return this._delegate.items.map(ye=>new Bt(ye,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Bt{constructor(ye,Fe){this._delegate=ye,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ye){const Fe=(0,je.Mp)(this._delegate,ye);return new Bt(Fe,this.storage)}get root(){return new Bt(this._delegate.root,this.storage)}get parent(){const ye=this._delegate.parent;return null==ye?null:new Bt(ye,this.storage)}put(ye,Fe){return this._throwIfRoot("put"),new we((0,je.bp)(this._delegate,ye,Fe),this)}putString(ye,Fe=je.nw.RAW,ot){this._throwIfRoot("putString");const We=(0,je.ZH)(Fe,ye),Ft=Object.assign({},ot);return null==Ft.contentType&&null!=We.contentType&&(Ft.contentType=We.contentType),new we(new je.UC(this._delegate,new je.Mx(We.data,!0),Ft),this)}listAll(){return(0,je._w)(this._delegate).then(ye=>new Tt(ye,this.storage))}list(ye){return(0,je.p_)(this._delegate,ye||void 0).then(Fe=>new Tt(Fe,this.storage))}getMetadata(){return(0,je.yb)(this._delegate)}updateMetadata(ye){return(0,je.D5)(this._delegate,ye)}getDownloadURL(){return(0,je.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,je.XR)(this._delegate)}_throwIfRoot(ye){if(""===this._delegate._location.path)throw(0,je.UY)(ye)}}class Ge{constructor(ye,Fe){this.app=ye,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ye){if(Ae(ye))throw(0,je.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Bt((0,je.KR)(this._delegate,ye),this)}refFromURL(ye){if(!Ae(ye))throw(0,je.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{je.TZ.makeFromUrl(ye,this._delegate.host)}catch{throw(0,je.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bt((0,je.KR)(this._delegate,ye),this)}setMaxUploadRetryTime(ye){this._delegate.maxUploadRetryTime=ye}setMaxOperationRetryTime(ye){this._delegate.maxOperationRetryTime=ye}useEmulator(ye,Fe,ot={}){(0,je.nb)(this._delegate,ye,Fe,ot)}}function Ae(Z){return/^[A-Za-z]+:\/\//.test(Z)}function xt(Z,{instanceIdentifier:ye}){const Fe=Z.getProvider("app-compat").getImmediate(),ot=Z.getProvider("storage").getImmediate({identifier:ye});return new Ge(Fe,ot)}!function ut(Z){const ye={TaskState:je.Ad,TaskEvent:je.xc,StringFormat:je.nw,Storage:Ge,Reference:Bt};Z.INTERNAL.registerComponent(new ve.uA("storage-compat",xt,"PUBLIC").setServiceProps(ye).setMultipleInstances(!0)),Z.registerVersion("@firebase/storage-compat","0.3.12")}(Re.A);var Ie=V(7935);function Xt(Z){const ye=function Ze(Z){return new ce.c(ye=>{const Fe=bn=>ye.next(bn);Fe(Z.snapshot);const Ft=Z.on("state_changed",Fe);return Z.then(bn=>{Fe(bn),ye.complete()},bn=>{Fe(Z.snapshot),(bn=>{ye.error(bn)})(bn)}),function(){Ft()}}).pipe(function Pe(Z,ye=me.E){return(0,Te.N)((Fe,ot)=>{let We=null,Ft=null,bn=null;const tr=()=>{if(We){We.unsubscribe(),We=null;const Fn=Ft;Ft=null,ot.next(Fn)}};function rn(){const Fn=bn+Z,Qt=ye.now();if(Qt<Fn)return We=this.schedule(void 0,Fn-Qt),void ot.add(We);tr()}Fe.subscribe((0,be._)(ot,Fn=>{Ft=Fn,bn=ye.now(),We||(We=ye.schedule(rn,Z),ot.add(We))},()=>{tr(),ot.complete()},void 0,()=>{Ft=We=null}))})}(0))}(Z);return{task:Z,then:Z.then.bind(Z),catch:Z.catch.bind(Z),pause:Z.pause.bind(Z),cancel:Z.cancel.bind(Z),resume:Z.resume.bind(Z),snapshotChanges:()=>ye,percentageChanges:()=>ye.pipe((0,Me.T)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function On(Z){return{getDownloadURL:()=>(0,r.of)(void 0).pipe(s.Oe,(0,W.n)(()=>Z.getDownloadURL()),s.U0),getMetadata:()=>(0,r.of)(void 0).pipe(s.Oe,(0,W.n)(()=>Z.getMetadata()),s.U0),delete:()=>(0,Ee.H)(Z.delete()),child:ye=>On(Z.child(ye)),updateMetadata:ye=>(0,Ee.H)(Z.updateMetadata(ye)),put:(ye,Fe)=>Xt(Z.put(ye,Fe)),putString:(ye,Fe,ot)=>Xt(Z.putString(ye,Fe,ot)),list:ye=>(0,Ee.H)(Z.list(ye)),listAll:()=>(0,Ee.H)(Z.listAll())}}const Ot=new ne.nKC("angularfire2.storageBucket"),Vt=new ne.nKC("angularfire2.storage.maxUploadRetryTime"),Kt=new ne.nKC("angularfire2.storage.maxOperationRetryTime"),pt=new ne.nKC("angularfire2.storage.use-emulator");let Ve=(()=>{class Z{storage;constructor(Fe,ot,We,Ft,bn,tr,rn,Fn,Qt,Bn){const xn=(0,he.iB)(Fe,bn,ot);this.storage=(0,he.BM)(`${xn.name}.storage.${We}`,"AngularFireStorage",xn.name,()=>{const zt=bn.runOutsideAngular(()=>xn.storage(We||void 0)),Ut=Qt;return Ut&&zt.useEmulator(...Ut),rn&&zt.setMaxUploadRetryTime(rn),Fn&&zt.setMaxOperationRetryTime(Fn),zt},[rn,Fn])}ref(Fe){return On(this.storage.ref(Fe))}refFromURL(Fe){return On(this.storage.refFromURL(Fe))}upload(Fe,ot,We){return On(this.storage.ref(Fe)).put(ot,We)}static \u0275fac=function(ot){return new(ot||Z)(ne.KVO(he.rx),ne.KVO(he.uP,8),ne.KVO(Ot,8),ne.KVO(ne.Agw),ne.KVO(ne.SKi),ne.KVO(s.u0),ne.KVO(Vt,8),ne.KVO(Kt,8),ne.KVO(pt,8),ne.KVO(s.Jv,8))};static \u0275prov=ne.jDH({token:Z,factory:Z.\u0275fac,providedIn:"any"})}return Z})(),it=(()=>{class Z{static \u0275fac=function(ot){return new(ot||Z)};static \u0275mod=ne.$C({type:Z});static \u0275inj=ne.G2t({})}return Z})(),xe=(()=>{class Z{constructor(){Ie.A.registerVersion("angularfire",s.xv.full,"gcs-compat")}static \u0275fac=function(ot){return new(ot||Z)};static \u0275mod=ne.$C({type:Z});static \u0275inj=ne.G2t({providers:[Ve],imports:[it]})}return Z})()},9253:(tn,Xe,V)=>{V.d(Xe,{BM:()=>je,Gt:()=>me,bf:()=>Re,e7:()=>Te,iB:()=>W,rx:()=>Pe,uP:()=>Me});var s=V(7705),ce=V(5407),r=V(7935);const Ee=["ngOnDestroy"],me=(Tt,Bt,Ge,Ae={})=>new Proxy(Tt,{get:(tt,Ke)=>Ge.runOutsideAngular(()=>{if(Tt[Ke])return Ae?.spy?.get&&Ae.spy.get(Ke,Tt[Ke]),Tt[Ke];if(Ee.indexOf(Ke)>-1)return()=>{};const ct=Bt.toPromise().then(xt=>{const ut=xt?.[Ke];return"function"==typeof ut?ut.bind(xt):ut?.then?ut.then(Ie=>Ge.run(()=>Ie)):Ge.run(()=>ut)});return new Proxy(()=>{},{get:(xt,ut)=>ct[ut],apply:(xt,ut,Ie)=>ct.then(Ze=>{const Xt=Ze?.(...Ie);return Ae?.spy?.apply&&Ae.spy.apply(Ke,Ie,Xt),Xt})})})}),Te=(Tt,Bt)=>{Bt.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Ae=>{Object.defineProperty(Tt.prototype,Ae,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Ae))})})};class be{constructor(Bt){return Bt}}const Pe=new s.nKC("angularfire2.app.options"),Me=new s.nKC("angularfire2.app.name");function W(Tt,Bt,Ge){const tt="object"==typeof Ge&&Ge||{};tt.name=tt.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const ct=r.A.apps.filter(xt=>xt&&xt.name===tt.name)[0]||Bt.runOutsideAngular(()=>r.A.initializeApp(Tt,tt));try{if(JSON.stringify(Tt)!==JSON.stringify(ct.options)){const xt=!!module.hot;ne("error",`${ct.name} Firebase App already initialized with different options${xt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new be(ct)}const ne=(Tt,...Bt)=>{(0,s.naY)()&&typeof console<"u"&&console[Tt](...Bt)},he={provide:be,useFactory:W,deps:[Pe,s.SKi,[new s.Xx1,Me]]};let Re=(()=>{class Tt{static initializeApp(Ge,Ae){return{ngModule:Tt,providers:[{provide:Pe,useValue:Ge},{provide:Me,useValue:Ae}]}}constructor(Ge){r.A.registerVersion("angularfire",ce.xv.full,"core"),r.A.registerVersion("angularfire",ce.xv.full,"app-compat"),r.A.registerVersion("angular",s.xvI.full,Ge.toString())}static \u0275fac=function(Ae){return new(Ae||Tt)(s.KVO(s.Agw))};static \u0275mod=s.$C({type:Tt});static \u0275inj=s.G2t({providers:[he]})}return Tt})();function je(Tt,Bt,Ge,Ae,tt){const[,Ke,ct]=globalThis.\u0275AngularfireInstanceCache.find(xt=>xt[0]===Tt)||[];if(Ke)return function ve(Tt,Bt){try{return Tt.toString()===Bt.toString()}catch{return Tt===Bt}}(tt,ct)||(we("error",`${Bt} was already initialized on the ${Ge} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:tt,was:ct})),Ke;{const xt=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Tt,xt,tt]),xt}}const Ye=typeof module<"u"&&!!module.hot,we=(Tt,...Bt)=>{(0,s.naY)()&&typeof console<"u"&&console[Tt](...Bt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(tn,Xe,V)=>{V.d(Xe,{xv:()=>je,U0:()=>Xt,Oe:()=>Ie,u0:()=>Ke,Jv:()=>Tt,CA:()=>we,lR:()=>Ye,S3:()=>Vt});var s=V(7705),ce=V(2214),r=V(6780),me=V(9687);const be=new class Te extends me.q{}(class Ee extends r.R{constructor(pt,Ve){super(pt,Ve),this.scheduler=pt,this.work=Ve}schedule(pt,Ve=0){return Ve>0?super.schedule(pt,Ve):(this.delay=Ve,this.state=pt,this.scheduler.flush(this),this)}execute(pt,Ve){return Ve>0||this.closed?super.execute(pt,Ve):this._execute(pt,Ve)}requestAsyncId(pt,Ve,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(pt,Ve,st):(pt.flush(this),0)}});var Me=V(3236),W=V(1985),ne=V(8141),he=V(941),Re=V(6745);const je=new s.RxE("ANGULARFIRE2_VERSION");function Ye(Kt,pt,Ve){if(pt){if(1===pt.length)return pt[0];const xe=pt.filter(Z=>Z.app===Ve);if(1===xe.length)return xe[0]}return Ve.container.getProvider(Kt).getImmediate({optional:!0})}const we=(Kt,pt)=>{const Ve=pt?[pt]:(0,ce.Dk)(),st=[];return Ve.forEach(it=>{it.container.getProvider(Kt).instances.forEach(Z=>{st.includes(Z)||st.push(Z)})}),st};class Tt{constructor(){return we(Bt)}}const Bt="app-check";function Ge(){}class Ae{zone;delegate;constructor(pt,Ve=be){this.zone=pt,this.delegate=Ve}now(){return this.delegate.now()}schedule(pt,Ve,st){const it=this.zone;return this.delegate.schedule(function(Z){it.runGuarded(()=>{pt.apply(this,[Z])})},Ve,st)}}class tt{zone;task=null;constructor(pt){this.zone=pt}call(pt,Ve){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge)),Ve.pipe((0,ne.M)({next:st,complete:st,error:st})).subscribe(pt).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ke=(()=>{class Kt{ngZone;outsideAngular;insideAngular;constructor(Ve){this.ngZone=Ve,this.outsideAngular=Ve.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=Ve.run(()=>new Ae(Zone.current,Me.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(st){return new(st||Kt)(s.KVO(s.SKi))};static \u0275prov=s.jDH({token:Kt,factory:Kt.\u0275fac,providedIn:"root"})}return Kt})();function ct(){const Kt=globalThis.\u0275AngularFireScheduler;if(!Kt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Kt}function ut(Kt){return ct().ngZone.run(()=>Kt())}function Ie(Kt){return Kt.pipe((0,he.Q)(ct().outsideAngular))}function Xt(Kt){return function On(Kt){return function(Ve){return(Ve=Ve.lift(new tt(Kt.ngZone))).pipe((0,Re._)(Kt.outsideAngular),(0,he.Q)(Kt.insideAngular))}}(ct())(Kt)}const Ot=(Kt,pt)=>function(){const st=arguments;return pt&&setTimeout(()=>{"scheduled"===pt.state&&pt.invoke()},10),ut(()=>Kt.apply(void 0,st))},Vt=(Kt,pt)=>function(){let Ve;const st=arguments;for(let xe=0;xe<arguments.length;xe++)"function"==typeof st[xe]&&(pt&&(Ve||=ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge))),st[xe]=Ot(st[xe],Ve));const it=function xt(Kt){return ct().ngZone.runOutsideAngular(()=>Kt())}(()=>Kt.apply(this,st));if(!pt){if(it instanceof W.c){const xe=ct();return it.pipe((0,Re._)(xe.outsideAngular),(0,he.Q)(xe.insideAngular))}return ut(()=>it)}return it instanceof W.c?it.pipe(Xt):it instanceof Promise?ut(()=>new Promise((xe,Z)=>it.then(ye=>ut(()=>xe(ye)),ye=>ut(()=>Z(ye))))):"function"==typeof it&&Ve?function(){return setTimeout(()=>{Ve&&"scheduled"===Ve.state&&Ve.invoke()},10),it.apply(this,arguments)}:ut(()=>it)}},4341:(tn,Xe,V)=>{V.d(Xe,{Zm:()=>we,me:()=>Ae,Yp:()=>ra,v8:()=>cs,ok:()=>Ro,MJ:()=>Bi,JD:()=>Qr,gE:()=>Pt,j4:()=>gn,$R:()=>ur,YN:()=>Po,BC:()=>Gn,cb:()=>Tn,cV:()=>as,vS:()=>$s,xH:()=>Ji,Q0:()=>xi,Fm:()=>Gr,X1:()=>$o,YS:()=>ii,wz:()=>_i,k0:()=>Ie,qT:()=>mi,y7:()=>_t});var s=V(7705),ce=V(177),r=V(8455),Ee=V(1985),me=V(3073),Te=V(8750),be=V(3794),Pe=V(4360),Me=V(6450),W=V(8496),he=V(6354);let Re=(()=>{class K{constructor(j,ue){this._renderer=j,this._elementRef=ue,this.onChange=Be=>{},this.onTouched=()=>{}}setProperty(j,ue){this._renderer.setProperty(this._elementRef.nativeElement,j,ue)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(s.sFG),s.rXU(s.aKT))}}static{this.\u0275dir=s.FsC({type:K})}}return K})(),je=(()=>{class K extends Re{static{this.\u0275fac=function(){let j;return function(Be){return(j||(j=s.xGo(K)))(Be||K)}}()}static{this.\u0275dir=s.FsC({type:K,features:[s.Vt3]})}}return K})();const ve=new s.nKC("NgValueAccessor"),Ye={provide:ve,useExisting:(0,s.Rfq)(()=>we),multi:!0};let we=(()=>{class K extends je{writeValue(j){this.setProperty("checked",j)}static{this.\u0275fac=function(){let j;return function(Be){return(j||(j=s.xGo(K)))(Be||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ue,Be){1&ue&&s.bIt("change",function(er){return Be.onChange(er.target.checked)})("blur",function(){return Be.onTouched()})},features:[s.Jv_([Ye]),s.Vt3]})}}return K})();const Tt={provide:ve,useExisting:(0,s.Rfq)(()=>Ae),multi:!0},Ge=new s.nKC("CompositionEventMode");let Ae=(()=>{class K extends Re{constructor(j,ue,Be){super(j,ue),this._compositionMode=Be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bt(){const K=(0,ce.QT)()?(0,ce.QT)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(j){this.setProperty("value",j??"")}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Ge,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,Be){1&ue&&s.bIt("input",function(er){return Be._handleInput(er.target.value)})("blur",function(){return Be.onTouched()})("compositionstart",function(){return Be._compositionStart()})("compositionend",function(er){return Be._compositionEnd(er.target.value)})},features:[s.Jv_([Tt]),s.Vt3]})}}return K})();function tt(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function Ke(K){return null!=K&&"number"==typeof K.length}const ct=new s.nKC("NgValidators"),xt=new s.nKC("NgAsyncValidators"),ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ie{static min(te){return function Ze(K){return te=>{if(tt(te.value)||tt(K))return null;const j=parseFloat(te.value);return!isNaN(j)&&j<K?{min:{min:K,actual:te.value}}:null}}(te)}static max(te){return function Xt(K){return te=>{if(tt(te.value)||tt(K))return null;const j=parseFloat(te.value);return!isNaN(j)&&j>K?{max:{max:K,actual:te.value}}:null}}(te)}static required(te){return On(te)}static requiredTrue(te){return function Ot(K){return!0===K.value?null:{required:!0}}(te)}static email(te){return function Vt(K){return tt(K.value)||ut.test(K.value)?null:{email:!0}}(te)}static minLength(te){return function Kt(K){return te=>tt(te.value)||!Ke(te.value)?null:te.value.length<K?{minlength:{requiredLength:K,actualLength:te.value.length}}:null}(te)}static maxLength(te){return function pt(K){return te=>Ke(te.value)&&te.value.length>K?{maxlength:{requiredLength:K,actualLength:te.value.length}}:null}(te)}static pattern(te){return function Ve(K){if(!K)return st;let te,j;return"string"==typeof K?(j="","^"!==K.charAt(0)&&(j+="^"),j+=K,"$"!==K.charAt(K.length-1)&&(j+="$"),te=new RegExp(j)):(j=K.toString(),te=K),ue=>{if(tt(ue.value))return null;const Be=ue.value;return te.test(Be)?null:{pattern:{requiredPattern:j,actualValue:Be}}}}(te)}static nullValidator(te){return null}static compose(te){return We(te)}static composeAsync(te){return bn(te)}}function On(K){return tt(K.value)?{required:!0}:null}function st(K){return null}function it(K){return null!=K}function xe(K){return(0,s.jNT)(K)?(0,r.H)(K):K}function Z(K){let te={};return K.forEach(j=>{te=null!=j?{...te,...j}:te}),0===Object.keys(te).length?null:te}function ye(K,te){return te.map(j=>j(K))}function ot(K){return K.map(te=>function Fe(K){return!K.validate}(te)?te:j=>te.validate(j))}function We(K){if(!K)return null;const te=K.filter(it);return 0==te.length?null:function(j){return Z(ye(j,te))}}function Ft(K){return null!=K?We(ot(K)):null}function bn(K){if(!K)return null;const te=K.filter(it);return 0==te.length?null:function(j){return function ne(...K){const te=(0,be.ms)(K),{args:j,keys:ue}=(0,me.D)(K),Be=new Ee.c(pn=>{const{length:er}=j;if(!er)return void pn.complete();const Is=new Array(er);let Zs=er,Zi=er;for(let uo=0;uo<er;uo++){let Ps=!1;(0,Te.Tg)(j[uo]).subscribe((0,Pe._)(pn,es=>{Ps||(Ps=!0,Zi--),Is[uo]=es},()=>Zs--,void 0,()=>{(!Zs||!Ps)&&(Zi||pn.next(ue?(0,W.e)(ue,Is):Is),pn.complete())}))}});return te?Be.pipe((0,Me.I)(te)):Be}(ye(j,te).map(xe)).pipe((0,he.T)(Z))}}function tr(K){return null!=K?bn(ot(K)):null}function rn(K,te){return null===K?[te]:Array.isArray(K)?[...K,te]:[K,te]}function Fn(K){return K._rawValidators}function Qt(K){return K._rawAsyncValidators}function Bn(K){return K?Array.isArray(K)?K:[K]:[]}function xn(K,te){return Array.isArray(K)?K.includes(te):K===te}function zt(K,te){const j=Bn(te);return Bn(K).forEach(Be=>{xn(j,Be)||j.push(Be)}),j}function Ut(K,te){return Bn(te).filter(j=>!xn(K,j))}class dr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(te){this._rawValidators=te||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(te){this._rawAsyncValidators=te||[],this._composedAsyncValidatorFn=tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(te){this._onDestroyCallbacks.push(te)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(te=>te()),this._onDestroyCallbacks=[]}reset(te=void 0){this.control&&this.control.reset(te)}hasError(te,j){return!!this.control&&this.control.hasError(te,j)}getError(te,j){return this.control?this.control.getError(te,j):null}}class sn extends dr{get formDirective(){return null}get path(){return null}}class xr extends dr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xn{constructor(te){this._cd=te}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gn=(()=>{class K extends Xn{constructor(j){super(j)}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(xr,2))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,Be){2&ue&&s.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)},features:[s.Vt3]})}}return K})(),Tn=(()=>{class K extends Xn{constructor(j){super(j)}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(sn,10))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,Be){2&ue&&s.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)("ng-submitted",Be.isSubmitted)},features:[s.Vt3]})}}return K})();const qt="VALID",Vn="INVALID",Vr="PENDING",Ir="DISABLED";function Qe(K){return(O(K)?K.validators:K)||null}function x(K,te){return(O(te)?te.asyncValidators:K)||null}function O(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function re(K,te,j){const ue=K.controls;if(!(te?Object.keys(ue):ue).length)throw new s.wOt(1e3,"");if(!ue[j])throw new s.wOt(1001,"")}function pe(K,te,j){K._forEachChild((ue,Be)=>{if(void 0===j[Be])throw new s.wOt(1002,"")})}class dt{constructor(te,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(te),this._assignAsyncValidators(j)}get validator(){return this._composedValidatorFn}set validator(te){this._rawValidators=this._composedValidatorFn=te}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(te){this._rawAsyncValidators=this._composedAsyncValidatorFn=te}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===Vn}get pending(){return this.status==Vr}get disabled(){return this.status===Ir}get enabled(){return this.status!==Ir}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(te){this._assignValidators(te)}setAsyncValidators(te){this._assignAsyncValidators(te)}addValidators(te){this.setValidators(zt(te,this._rawValidators))}addAsyncValidators(te){this.setAsyncValidators(zt(te,this._rawAsyncValidators))}removeValidators(te){this.setValidators(Ut(te,this._rawValidators))}removeAsyncValidators(te){this.setAsyncValidators(Ut(te,this._rawAsyncValidators))}hasValidator(te){return xn(this._rawValidators,te)}hasAsyncValidator(te){return xn(this._rawAsyncValidators,te)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(te={}){this.touched=!0,this._parent&&!te.onlySelf&&this._parent.markAsTouched(te)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(te=>te.markAllAsTouched())}markAsUntouched(te={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}markAsDirty(te={}){this.pristine=!1,this._parent&&!te.onlySelf&&this._parent.markAsDirty(te)}markAsPristine(te={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}markAsPending(te={}){this.status=Vr,!1!==te.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!te.onlySelf&&this._parent.markAsPending(te)}disable(te={}){const j=this._parentMarkedDirty(te.onlySelf);this.status=Ir,this.errors=null,this._forEachChild(ue=>{ue.disable({...te,onlySelf:!0})}),this._updateValue(),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...te,skipPristineCheck:j}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(te={}){const j=this._parentMarkedDirty(te.onlySelf);this.status=qt,this._forEachChild(ue=>{ue.enable({...te,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent}),this._updateAncestors({...te,skipPristineCheck:j}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(te){this._parent&&!te.onlySelf&&(this._parent.updateValueAndValidity(te),te.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(te){this._parent=te}getRawValue(){return this.value}updateValueAndValidity(te={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qt||this.status===Vr)&&this._runAsyncValidator(te.emitEvent)),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.updateValueAndValidity(te)}_updateTreeValidity(te={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(te)),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ir:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(te){if(this.asyncValidator){this.status=Vr,this._hasOwnPendingAsyncValidator=!0;const j=xe(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:te})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(te,j={}){this.errors=te,this._updateControlsErrors(!1!==j.emitEvent)}get(te){let j=te;return null==j||(Array.isArray(j)||(j=j.split(".")),0===j.length)?null:j.reduce((ue,Be)=>ue&&ue._find(Be),this)}getError(te,j){const ue=j?this.get(j):this;return ue&&ue.errors?ue.errors[te]:null}hasError(te,j){return!!this.getError(te,j)}get root(){let te=this;for(;te._parent;)te=te._parent;return te}_updateControlsErrors(te){this.status=this._calculateStatus(),te&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(te)}_initObservables(){this.valueChanges=new s.bkB,this.statusChanges=new s.bkB}_calculateStatus(){return this._allControlsDisabled()?Ir:this.errors?Vn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vr)?Vr:this._anyControlsHaveStatus(Vn)?Vn:qt}_anyControlsHaveStatus(te){return this._anyControls(j=>j.status===te)}_anyControlsDirty(){return this._anyControls(te=>te.dirty)}_anyControlsTouched(){return this._anyControls(te=>te.touched)}_updatePristine(te={}){this.pristine=!this._anyControlsDirty(),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}_updateTouched(te={}){this.touched=this._anyControlsTouched(),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}_registerOnCollectionChange(te){this._onCollectionChange=te}_setUpdateStrategy(te){O(te)&&null!=te.updateOn&&(this._updateOn=te.updateOn)}_parentMarkedDirty(te){return!te&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(te){return null}_assignValidators(te){this._rawValidators=Array.isArray(te)?te.slice():te,this._composedValidatorFn=function He(K){return Array.isArray(K)?Ft(K):K||null}(this._rawValidators)}_assignAsyncValidators(te){this._rawAsyncValidators=Array.isArray(te)?te.slice():te,this._composedAsyncValidatorFn=function A(K){return Array.isArray(K)?tr(K):K||null}(this._rawAsyncValidators)}}class Pt extends dt{constructor(te,j,ue){super(Qe(j),x(ue,j)),this.controls=te,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(te,j){return this.controls[te]?this.controls[te]:(this.controls[te]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(te,j,ue={}){this.registerControl(te,j),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(te,j={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(te,j,ue={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],j&&this.registerControl(te,j),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(te){return this.controls.hasOwnProperty(te)&&this.controls[te].enabled}setValue(te,j={}){pe(this,0,te),Object.keys(te).forEach(ue=>{re(this,!0,ue),this.controls[ue].setValue(te[ue],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(te,j={}){null!=te&&(Object.keys(te).forEach(ue=>{const Be=this.controls[ue];Be&&Be.patchValue(te[ue],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(te={},j={}){this._forEachChild((ue,Be)=>{ue.reset(te?te[Be]:null,{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(te,j,ue)=>(te[ue]=j.getRawValue(),te))}_syncPendingControls(){let te=this._reduceChildren(!1,(j,ue)=>!!ue._syncPendingControls()||j);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){Object.keys(this.controls).forEach(j=>{const ue=this.controls[j];ue&&te(ue,j)})}_setUpControls(){this._forEachChild(te=>{te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(te){for(const[j,ue]of Object.entries(this.controls))if(this.contains(j)&&te(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(j,ue,Be)=>((ue.enabled||this.disabled)&&(j[Be]=ue.value),j))}_reduceChildren(te,j){let ue=te;return this._forEachChild((Be,pn)=>{ue=j(ue,Be,pn)}),ue}_allControlsDisabled(){for(const te of Object.keys(this.controls))if(this.controls[te].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(te){return this.controls.hasOwnProperty(te)?this.controls[te]:null}}class wn extends Pt{}const an=new s.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>zr}),zr="always";function cr(K,te){return[...te.path,K]}function Bs(K,te,j=zr){gi(K,te),te.valueAccessor.writeValue(K.value),(K.disabled||"always"===j)&&te.valueAccessor.setDisabledState?.(K.disabled),function Ns(K,te){te.valueAccessor.registerOnChange(j=>{K._pendingValue=j,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&lt(K,te)})}(K,te),function Mt(K,te){const j=(ue,Be)=>{te.valueAccessor.writeValue(ue),Be&&te.viewToModelUpdate(ue)};K.registerOnChange(j),te._registerOnDestroy(()=>{K._unregisterOnChange(j)})}(K,te),function Dt(K,te){te.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&lt(K,te),"submit"!==K.updateOn&&K.markAsTouched()})}(K,te),function Es(K,te){if(te.valueAccessor.setDisabledState){const j=ue=>{te.valueAccessor.setDisabledState(ue)};K.registerOnDisabledChange(j),te._registerOnDestroy(()=>{K._unregisterOnDisabledChange(j)})}}(K,te)}function Ni(K,te,j=!0){const ue=()=>{};te.valueAccessor&&(te.valueAccessor.registerOnChange(ue),te.valueAccessor.registerOnTouched(ue)),sr(K,te),K&&(te._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function vs(K,te){K.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(te)})}function gi(K,te){const j=Fn(K);null!==te.validator?K.setValidators(rn(j,te.validator)):"function"==typeof j&&K.setValidators([j]);const ue=Qt(K);null!==te.asyncValidator?K.setAsyncValidators(rn(ue,te.asyncValidator)):"function"==typeof ue&&K.setAsyncValidators([ue]);const Be=()=>K.updateValueAndValidity();vs(te._rawValidators,Be),vs(te._rawAsyncValidators,Be)}function sr(K,te){let j=!1;if(null!==K){if(null!==te.validator){const Be=Fn(K);if(Array.isArray(Be)&&Be.length>0){const pn=Be.filter(er=>er!==te.validator);pn.length!==Be.length&&(j=!0,K.setValidators(pn))}}if(null!==te.asyncValidator){const Be=Qt(K);if(Array.isArray(Be)&&Be.length>0){const pn=Be.filter(er=>er!==te.asyncValidator);pn.length!==Be.length&&(j=!0,K.setAsyncValidators(pn))}}}const ue=()=>{};return vs(te._rawValidators,ue),vs(te._rawAsyncValidators,ue),j}function lt(K,te){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),te.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function ln(K,te){gi(K,te)}function Xi(K,te){if(!K.hasOwnProperty("model"))return!1;const j=K.model;return!!j.isFirstChange()||!Object.is(te,j.currentValue)}function os(K,te){K._syncPendingControls(),te.forEach(j=>{const ue=j.control;"submit"===ue.updateOn&&ue._pendingChange&&(j.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}function Ao(K,te){if(!te)return null;let j,ue,Be;return Array.isArray(te),te.forEach(pn=>{pn.constructor===Ae?j=pn:function ks(K){return Object.getPrototypeOf(K.constructor)===je}(pn)?ue=pn:Be=pn}),Be||ue||j||null}const jo={provide:sn,useExisting:(0,s.Rfq)(()=>as)},li=(()=>Promise.resolve())();let as=(()=>{class K extends sn{constructor(j,ue,Be){super(),this.callSetDisabledState=Be,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.bkB,this.form=new Pt({},Ft(j),tr(ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(j){li.then(()=>{const ue=this._findContainer(j.path);j.control=ue.registerControl(j.name,j.control),Bs(j.control,j,this.callSetDisabledState),j.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(j)})}getControl(j){return this.form.get(j.path)}removeControl(j){li.then(()=>{const ue=this._findContainer(j.path);ue&&ue.removeControl(j.name),this._directives.delete(j)})}addFormGroup(j){li.then(()=>{const ue=this._findContainer(j.path),Be=new Pt({});ln(Be,j),ue.registerControl(j.name,Be),Be.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(j){li.then(()=>{const ue=this._findContainer(j.path);ue&&ue.removeControl(j.name)})}getFormGroup(j){return this.form.get(j.path)}updateModel(j,ue){li.then(()=>{this.form.get(j.path).setValue(ue)})}setValue(j){this.control.setValue(j)}onSubmit(j){return this.submitted=!0,os(this.form,this._directives),this.ngSubmit.emit(j),"dialog"===j?.target?.method}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(j){return j.pop(),j.length?this.form.get(j):this.form}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(ct,10),s.rXU(xt,10),s.rXU(an,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ue,Be){1&ue&&s.bIt("submit",function(er){return Be.onSubmit(er)})("reset",function(){return Be.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([jo]),s.Vt3]})}}return K})();function bs(K,te){const j=K.indexOf(te);j>-1&&K.splice(j,1)}function Yr(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Bi=class extends dt{constructor(te=null,j,ue){super(Qe(j),x(ue,j)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(te),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O(j)&&(j.nonNullable||j.initialValueIsDefault)&&(this.defaultValue=Yr(te)?te.value:te)}setValue(te,j={}){this.value=this._pendingValue=te,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(te,j={}){this.setValue(te,j)}reset(te=this.defaultValue,j={}){this._applyFormState(te),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(te){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(te){this._onChange.push(te)}_unregisterOnChange(te){bs(this._onChange,te)}registerOnDisabledChange(te){this._onDisabledChange.push(te)}_unregisterOnDisabledChange(te){bs(this._onDisabledChange,te)}_forEachChild(te){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(te){Yr(te)?(this.value=this._pendingValue=te.value,te.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=te}};let co=(()=>{class K extends sn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return cr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let j;return function(Be){return(j||(j=s.xGo(K)))(Be||K)}}()}static{this.\u0275dir=s.FsC({type:K,features:[s.Vt3]})}}return K})();const Xs={provide:xr,useExisting:(0,s.Rfq)(()=>$s)},ni=(()=>Promise.resolve())();let $s=(()=>{class K extends xr{constructor(j,ue,Be,pn,er,Is){super(),this._changeDetectorRef=er,this.callSetDisabledState=Is,this.control=new Bi,this._registered=!1,this.name="",this.update=new s.bkB,this._parent=j,this._setValidators(ue),this._setAsyncValidators(Be),this.valueAccessor=Ao(0,pn)}ngOnChanges(j){if(this._checkForErrors(),!this._registered||"name"in j){if(this._registered&&(this._checkName(),this.formDirective)){const ue=j.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in j&&this._updateDisabled(j),Xi(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){ni.then(()=>{this.control.setValue(j,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(j){const ue=j.isDisabled.currentValue,Be=0!==ue&&(0,s.L39)(ue);ni.then(()=>{Be&&!this.control.disabled?this.control.disable():!Be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(j){return this._parent?cr(j,this._parent):[j]}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(sn,9),s.rXU(ct,10),s.rXU(xt,10),s.rXU(ve,10),s.rXU(s.gRc,8),s.rXU(an,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Jv_([Xs]),s.Vt3,s.OA$]})}}return K})(),mi=(()=>{class K{static{this.\u0275fac=function(ue){return new(ue||K)}}static{this.\u0275dir=s.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return K})();const $i={provide:ve,useExisting:(0,s.Rfq)(()=>xi),multi:!0};let xi=(()=>{class K extends je{writeValue(j){this.setProperty("value",j??"")}registerOnChange(j){this.onChange=ue=>{j(""==ue?null:parseFloat(ue))}}static{this.\u0275fac=function(){let j;return function(Be){return(j||(j=s.xGo(K)))(Be||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ue,Be){1&ue&&s.bIt("input",function(er){return Be.onChange(er.target.value)})("blur",function(){return Be.onTouched()})},features:[s.Jv_([$i]),s.Vt3]})}}return K})();const Yn={provide:ve,useExisting:(0,s.Rfq)(()=>Gr),multi:!0};let ri=(()=>{class K{static{this.\u0275fac=function(ue){return new(ue||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({})}}return K})(),zi=(()=>{class K{constructor(){this._accessors=[]}add(j,ue){this._accessors.push([j,ue])}remove(j){for(let ue=this._accessors.length-1;ue>=0;--ue)if(this._accessors[ue][1]===j)return void this._accessors.splice(ue,1)}select(j){this._accessors.forEach(ue=>{this._isSameGroup(ue,j)&&ue[1]!==j&&ue[1].fireUncheck(j.value)})}_isSameGroup(j,ue){return!!j[0].control&&j[0]._parent===ue._control._parent&&j[1].name===ue.name}static{this.\u0275fac=function(ue){return new(ue||K)}}static{this.\u0275prov=s.jDH({token:K,factory:K.\u0275fac,providedIn:ri})}}return K})(),Gr=(()=>{class K extends je{constructor(j,ue,Be,pn){super(j,ue),this._registry=Be,this._injector=pn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,s.WQX)(an,{optional:!0})??zr}ngOnInit(){this._control=this._injector.get(xr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(j){this._state=j===this.value,this.setProperty("checked",this._state)}registerOnChange(j){this._fn=j,this.onChange=()=>{j(this.value),this._registry.select(this)}}setDisabledState(j){(this.setDisabledStateFired||j||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",j),this.setDisabledStateFired=!0}fireUncheck(j){this.writeValue(j)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(zi),s.rXU(s.zZn))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ue,Be){1&ue&&s.bIt("change",function(){return Be.onChange()})("blur",function(){return Be.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s.Jv_([Yn]),s.Vt3]})}}return K})();const ki=new s.nKC("NgModelWithFormControlWarning"),Wr={provide:sn,useExisting:(0,s.Rfq)(()=>gn)};let gn=(()=>{class K extends sn{constructor(j,ue,Be){super(),this.callSetDisabledState=Be,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.bkB,this._setValidators(j),this._setAsyncValidators(ue)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const ue=this.form.get(j.path);return Bs(ue,j,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),ue}getControl(j){return this.form.get(j.path)}removeControl(j){Ni(j.control||null,j,!1),function Do(K,te){const j=K.indexOf(te);j>-1&&K.splice(j,1)}(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,ue){this.form.get(j.path).setValue(ue)}onSubmit(j){return this.submitted=!0,os(this.form,this.directives),this.ngSubmit.emit(j),"dialog"===j?.target?.method}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const ue=j.control,Be=this.form.get(j.path);ue!==Be&&(Ni(ue||null,j),(K=>K instanceof Bi)(Be)&&(Bs(Be,j,this.callSetDisabledState),j.control=Be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const ue=this.form.get(j.path);ln(ue,j),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const ue=this.form.get(j.path);ue&&function Un(K,te){return sr(K,te)}(ue,j)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gi(this.form,this),this._oldForm&&sr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(ct,10),s.rXU(xt,10),s.rXU(an,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formGroup",""]],hostBindings:function(ue,Be){1&ue&&s.bIt("submit",function(er){return Be.onSubmit(er)})("reset",function(){return Be.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([Wr]),s.Vt3,s.OA$]})}}return K})();const nr={provide:sn,useExisting:(0,s.Rfq)(()=>ur)};let ur=(()=>{class K extends co{constructor(j,ue,Be){super(),this.name=null,this._parent=j,this._setValidators(ue),this._setAsyncValidators(Be)}_checkParentType(){Fi(this._parent)}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(sn,13),s.rXU(ct,10),s.rXU(xt,10))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s.Jv_([nr]),s.Vt3]})}}return K})();const Qi={provide:sn,useExisting:(0,s.Rfq)(()=>cs)};let cs=(()=>{class K extends sn{constructor(j,ue,Be){super(),this.name=null,this._parent=j,this._setValidators(ue),this._setAsyncValidators(Be)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return cr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Fi(this._parent)}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(sn,13),s.rXU(ct,10),s.rXU(xt,10))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s.Jv_([Qi]),s.Vt3]})}}return K})();function Fi(K){return!(K instanceof ur||K instanceof gn||K instanceof cs)}const Gs={provide:xr,useExisting:(0,s.Rfq)(()=>Qr)};let Qr=(()=>{class K extends xr{set isDisabled(j){}static{this._ngModelWarningSentOnce=!1}constructor(j,ue,Be,pn,er){super(),this._ngModelWarningConfig=er,this._added=!1,this.name=null,this.update=new s.bkB,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(ue),this._setAsyncValidators(Be),this.valueAccessor=Ao(0,pn)}ngOnChanges(j){this._added||this._setUpControl(),Xi(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return cr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(sn,13),s.rXU(ct,10),s.rXU(xt,10),s.rXU(ve,10),s.rXU(ki,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Jv_([Gs]),s.Vt3,s.OA$]})}}return K})();const us={provide:ve,useExisting:(0,s.Rfq)(()=>_i),multi:!0};function Rs(K,te){return null==K?`${te}`:(te&&"object"==typeof te&&(te="Object"),`${K}: ${te}`.slice(0,50))}let _i=(()=>{class K extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(j){this._compareWith=j}writeValue(j){this.value=j;const Be=Rs(this._getOptionId(j),j);this.setProperty("value",Be)}registerOnChange(j){this.onChange=ue=>{this.value=this._getOptionValue(ue),j(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(j){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue),j))return ue;return null}_getOptionValue(j){const ue=function jn(K){return K.split(":")[0]}(j);return this._optionMap.has(ue)?this._optionMap.get(ue):j}static{this.\u0275fac=function(){let j;return function(Be){return(j||(j=s.xGo(K)))(Be||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ue,Be){1&ue&&s.bIt("change",function(er){return Be.onChange(er.target.value)})("blur",function(){return Be.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Jv_([us]),s.Vt3]})}}return K})(),Ji=(()=>{class K{constructor(j,ue,Be){this._element=j,this._renderer=ue,this._select=Be,this._select&&(this.id=this._select._registerOption())}set ngValue(j){null!=this._select&&(this._select._optionMap.set(this.id,j),this._setElementValue(Rs(this.id,j)),this._select.writeValue(this._select.value))}set value(j){this._setElementValue(j),this._select&&this._select.writeValue(this._select.value)}_setElementValue(j){this._renderer.setProperty(this._element.nativeElement,"value",j)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(_i,9))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return K})();const ee={provide:ve,useExisting:(0,s.Rfq)(()=>nt),multi:!0};function J(K,te){return null==K?`${te}`:("string"==typeof te&&(te=`'${te}'`),te&&"object"==typeof te&&(te="Object"),`${K}: ${te}`.slice(0,50))}let nt=(()=>{class K extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(j){this._compareWith=j}writeValue(j){let ue;if(this.value=j,Array.isArray(j)){const Be=j.map(pn=>this._getOptionId(pn));ue=(pn,er)=>{pn._setSelected(Be.indexOf(er.toString())>-1)}}else ue=(Be,pn)=>{Be._setSelected(!1)};this._optionMap.forEach(ue)}registerOnChange(j){this.onChange=ue=>{const Be=[],pn=ue.selectedOptions;if(void 0!==pn){const er=pn;for(let Is=0;Is<er.length;Is++){const Zi=this._getOptionValue(er[Is].value);Be.push(Zi)}}else{const er=ue.options;for(let Is=0;Is<er.length;Is++){const Zs=er[Is];if(Zs.selected){const Zi=this._getOptionValue(Zs.value);Be.push(Zi)}}}this.value=Be,j(Be)}}_registerOption(j){const ue=(this._idCounter++).toString();return this._optionMap.set(ue,j),ue}_getOptionId(j){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue)._value,j))return ue;return null}_getOptionValue(j){const ue=function Se(K){return K.split(":")[0]}(j);return this._optionMap.has(ue)?this._optionMap.get(ue)._value:j}static{this.\u0275fac=function(){let j;return function(Be){return(j||(j=s.xGo(K)))(Be||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ue,Be){1&ue&&s.bIt("change",function(er){return Be.onChange(er.target)})("blur",function(){return Be.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Jv_([ee]),s.Vt3]})}}return K})(),_t=(()=>{class K{constructor(j,ue,Be){this._element=j,this._renderer=ue,this._select=Be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(j){null!=this._select&&(this._value=j,this._setElementValue(J(this.id,j)),this._select.writeValue(this._select.value))}set value(j){this._select?(this._value=j,this._setElementValue(J(this.id,j)),this._select.writeValue(this._select.value)):this._setElementValue(j)}_setElementValue(j){this._renderer.setProperty(this._element.nativeElement,"value",j)}_setSelected(j){this._renderer.setProperty(this._element.nativeElement,"selected",j)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ue){return new(ue||K)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(nt,9))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return K})(),fn=(()=>{class K{constructor(){this._validator=st}ngOnChanges(j){if(this.inputName in j){const ue=this.normalizeInput(j[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):st,this._onChange&&this._onChange()}}validate(j){return this._validator(j)}registerOnValidatorChange(j){this._onChange=j}enabled(j){return null!=j}static{this.\u0275fac=function(ue){return new(ue||K)}}static{this.\u0275dir=s.FsC({type:K,features:[s.OA$]})}}return K})();const Zn={provide:ct,useExisting:(0,s.Rfq)(()=>ii),multi:!0};let ii=(()=>{class K extends fn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.L39,this.createValidator=j=>On}enabled(j){return j}static{this.\u0275fac=function(){let j;return function(Be){return(j||(j=s.xGo(K)))(Be||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ue,Be){2&ue&&s.BMQ("required",Be._enabled?"":null)},inputs:{required:"required"},features:[s.Jv_([Zn]),s.Vt3]})}}return K})(),Ja=(()=>{class K{static{this.\u0275fac=function(ue){return new(ue||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({imports:[ri]})}}return K})();class ra extends dt{constructor(te,j,ue){super(Qe(j),x(ue,j)),this.controls=te,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(te){return this.controls[this._adjustIndex(te)]}push(te,j={}){this.controls.push(te),this._registerControl(te),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}insert(te,j,ue={}){this.controls.splice(te,0,j),this._registerControl(j),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(te,j={}){let ue=this._adjustIndex(te);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:j.emitEvent})}setControl(te,j,ue={}){let Be=this._adjustIndex(te);Be<0&&(Be=0),this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),this.controls.splice(Be,1),j&&(this.controls.splice(Be,0,j),this._registerControl(j)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(te,j={}){pe(this,0,te),te.forEach((ue,Be)=>{re(this,!1,Be),this.at(Be).setValue(ue,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(te,j={}){null!=te&&(te.forEach((ue,Be)=>{this.at(Be)&&this.at(Be).patchValue(ue,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(te=[],j={}){this._forEachChild((ue,Be)=>{ue.reset(te[Be],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this.controls.map(te=>te.getRawValue())}clear(te={}){this.controls.length<1||(this._forEachChild(j=>j._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:te.emitEvent}))}_adjustIndex(te){return te<0?te+this.length:te}_syncPendingControls(){let te=this.controls.reduce((j,ue)=>!!ue._syncPendingControls()||j,!1);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){this.controls.forEach((j,ue)=>{te(j,ue)})}_updateValue(){this.value=this.controls.filter(te=>te.enabled||this.disabled).map(te=>te.value)}_anyControls(te){return this.controls.some(j=>j.enabled&&te(j))}_setUpControls(){this._forEachChild(te=>this._registerControl(te))}_allControlsDisabled(){for(const te of this.controls)if(te.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(te){te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)}_find(te){return this.at(te)??null}}function Fs(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let Ro=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const j=new K;return j.useNonNullable=!0,j}group(j,ue=null){const Be=this._reduceControls(j);let pn={};return Fs(ue)?pn=ue:null!==ue&&(pn.validators=ue.validator,pn.asyncValidators=ue.asyncValidator),new Pt(Be,pn)}record(j,ue=null){const Be=this._reduceControls(j);return new wn(Be,ue)}control(j,ue,Be){let pn={};return this.useNonNullable?(Fs(ue)?pn=ue:(pn.validators=ue,pn.asyncValidators=Be),new Bi(j,{...pn,nonNullable:!0})):new Bi(j,ue,Be)}array(j,ue,Be){const pn=j.map(er=>this._createControl(er));return new ra(pn,ue,Be)}_reduceControls(j){const ue={};return Object.keys(j).forEach(Be=>{ue[Be]=this._createControl(j[Be])}),ue}_createControl(j){return j instanceof Bi||j instanceof dt?j:Array.isArray(j)?this.control(j[0],j.length>1?j[1]:null,j.length>2?j[2]:null):this.control(j)}static{this.\u0275fac=function(ue){return new(ue||K)}}static{this.\u0275prov=s.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})(),Po=(()=>{class K{static withConfig(j){return{ngModule:K,providers:[{provide:an,useValue:j.callSetDisabledState??zr}]}}static{this.\u0275fac=function(ue){return new(ue||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({imports:[Ja]})}}return K})(),$o=(()=>{class K{static withConfig(j){return{ngModule:K,providers:[{provide:ki,useValue:j.warnOnNgModelWithFormControl??"always"},{provide:an,useValue:j.callSetDisabledState??zr}]}}static{this.\u0275fac=function(ue){return new(ue||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({imports:[Ja]})}}return K})()},345:(tn,Xe,V)=>{V.d(Xe,{B7:()=>ut,Bb:()=>xn,W8:()=>Ut,hE:()=>xr,sG:()=>rn,up:()=>Ri});var s=V(7705),ce=V(177);class r extends ce.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends r{static makeCurrent(){(0,ce.ZD)(new Ee)}onAndCancel(x,A,O){return x.addEventListener(A,O),()=>{x.removeEventListener(A,O)}}dispatchEvent(x,A){x.dispatchEvent(A)}remove(x){x.parentNode&&x.parentNode.removeChild(x)}createElement(x,A){return(A=A||this.getDefaultDocument()).createElement(x)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(x){return x.nodeType===Node.ELEMENT_NODE}isShadowRoot(x){return x instanceof DocumentFragment}getGlobalEventTarget(x,A){return"window"===A?window:"document"===A?x:"body"===A?x.body:null}getBaseHref(x){const A=function Te(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==A?null:function Pe(He){be=be||document.createElement("a"),be.setAttribute("href",He);const x=be.pathname;return"/"===x.charAt(0)?x:`/${x}`}(A)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(x){return(0,ce._b)(document.cookie,x)}}let be,me=null,W=(()=>{class He{build(){return new XMLHttpRequest}static{this.\u0275fac=function(O){return new(O||He)}}static{this.\u0275prov=s.jDH({token:He,factory:He.\u0275fac})}}return He})();const ne=new s.nKC("EventManagerPlugins");let he=(()=>{class He{constructor(A,O){this._zone=O,this._eventNameToPlugin=new Map,A.forEach(re=>{re.manager=this}),this._plugins=A.slice().reverse()}addEventListener(A,O,re){return this._findPluginFor(O).addEventListener(A,O,re)}getZone(){return this._zone}_findPluginFor(A){let O=this._eventNameToPlugin.get(A);if(O)return O;if(O=this._plugins.find(pe=>pe.supports(A)),!O)throw new s.wOt(5101,!1);return this._eventNameToPlugin.set(A,O),O}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(ne),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:He,factory:He.\u0275fac})}}return He})();class Re{constructor(x){this._doc=x}}const je="ng-app-id";let ve=(()=>{class He{constructor(A,O,re,pe={}){this.doc=A,this.appId=O,this.nonce=re,this.platformId=pe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ce.Vy)(pe),this.resetHostNodes()}addStyles(A){for(const O of A)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(A){for(const O of A)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const A=this.styleNodesInDOM;A&&(A.forEach(O=>O.remove()),A.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(A){this.hostNodes.add(A);for(const O of this.getAllStyles())this.addStyleToHost(A,O)}removeHost(A){this.hostNodes.delete(A)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(A){for(const O of this.hostNodes)this.addStyleToHost(O,A)}onStyleRemoved(A){const O=this.styleRef;O.get(A)?.elements?.forEach(re=>re.remove()),O.delete(A)}collectServerRenderedStyles(){const A=this.doc.head?.querySelectorAll(`style[${je}="${this.appId}"]`);if(A?.length){const O=new Map;return A.forEach(re=>{null!=re.textContent&&O.set(re.textContent,re)}),O}return null}changeUsageCount(A,O){const re=this.styleRef;if(re.has(A)){const pe=re.get(A);return pe.usage+=O,pe.usage}return re.set(A,{usage:O,elements:[]}),O}getStyleElement(A,O){const re=this.styleNodesInDOM,pe=re?.get(O);if(pe?.parentNode===A)return re.delete(O),pe.removeAttribute(je),pe;{const dt=this.doc.createElement("style");return this.nonce&&dt.setAttribute("nonce",this.nonce),dt.textContent=O,this.platformIsServer&&dt.setAttribute(je,this.appId),dt}}addStyleToHost(A,O){const re=this.getStyleElement(A,O);A.appendChild(re);const pe=this.styleRef,dt=pe.get(O)?.elements;dt?dt.push(re):pe.set(O,{elements:[re],usage:1})}resetHostNodes(){const A=this.hostNodes;A.clear(),A.add(this.doc.head)}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(ce.qQ),s.KVO(s.sZ2),s.KVO(s.BIS,8),s.KVO(s.Agw))}}static{this.\u0275prov=s.jDH({token:He,factory:He.\u0275fac})}}return He})();const Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},we=/%COMP%/g,tt=new s.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xt(He,x){return x.map(A=>A.replace(we,He))}let ut=(()=>{class He{constructor(A,O,re,pe,dt,Pt,on,hn=null){this.eventManager=A,this.sharedStylesHost=O,this.appId=re,this.removeStylesOnCompDestroy=pe,this.doc=dt,this.platformId=Pt,this.ngZone=on,this.nonce=hn,this.rendererByCompId=new Map,this.platformIsServer=(0,ce.Vy)(Pt),this.defaultRenderer=new Ie(A,dt,on,this.platformIsServer)}createRenderer(A,O){if(!A||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===s.gXe.ShadowDom&&(O={...O,encapsulation:s.gXe.Emulated});const re=this.getOrCreateRenderer(A,O);return re instanceof Kt?re.applyToHost(A):re instanceof Vt&&re.applyStyles(),re}getOrCreateRenderer(A,O){const re=this.rendererByCompId;let pe=re.get(O.id);if(!pe){const dt=this.doc,Pt=this.ngZone,on=this.eventManager,hn=this.sharedStylesHost,wn=this.removeStylesOnCompDestroy,Er=this.platformIsServer;switch(O.encapsulation){case s.gXe.Emulated:pe=new Kt(on,hn,O,this.appId,wn,dt,Pt,Er);break;case s.gXe.ShadowDom:return new Ot(on,hn,A,O,dt,Pt,this.nonce,Er);default:pe=new Vt(on,hn,O,wn,dt,Pt,Er)}re.set(O.id,pe)}return pe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(he),s.KVO(ve),s.KVO(s.sZ2),s.KVO(tt),s.KVO(ce.qQ),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(s.BIS))}}static{this.\u0275prov=s.jDH({token:He,factory:He.\u0275fac})}}return He})();class Ie{constructor(x,A,O,re){this.eventManager=x,this.doc=A,this.ngZone=O,this.platformIsServer=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(x,A){return A?this.doc.createElementNS(Ye[A]||A,x):this.doc.createElement(x)}createComment(x){return this.doc.createComment(x)}createText(x){return this.doc.createTextNode(x)}appendChild(x,A){(On(x)?x.content:x).appendChild(A)}insertBefore(x,A,O){x&&(On(x)?x.content:x).insertBefore(A,O)}removeChild(x,A){x&&x.removeChild(A)}selectRootElement(x,A){let O="string"==typeof x?this.doc.querySelector(x):x;if(!O)throw new s.wOt(-5104,!1);return A||(O.textContent=""),O}parentNode(x){return x.parentNode}nextSibling(x){return x.nextSibling}setAttribute(x,A,O,re){if(re){A=re+":"+A;const pe=Ye[re];pe?x.setAttributeNS(pe,A,O):x.setAttribute(A,O)}else x.setAttribute(A,O)}removeAttribute(x,A,O){if(O){const re=Ye[O];re?x.removeAttributeNS(re,A):x.removeAttribute(`${O}:${A}`)}else x.removeAttribute(A)}addClass(x,A){x.classList.add(A)}removeClass(x,A){x.classList.remove(A)}setStyle(x,A,O,re){re&(s.czy.DashCase|s.czy.Important)?x.style.setProperty(A,O,re&s.czy.Important?"important":""):x.style[A]=O}removeStyle(x,A,O){O&s.czy.DashCase?x.style.removeProperty(A):x.style[A]=""}setProperty(x,A,O){x[A]=O}setValue(x,A){x.nodeValue=A}listen(x,A,O){if("string"==typeof x&&!(x=(0,ce.QT)().getGlobalEventTarget(this.doc,x)))throw new Error(`Unsupported event target ${x} for event ${A}`);return this.eventManager.addEventListener(x,A,this.decoratePreventDefault(O))}decoratePreventDefault(x){return A=>{if("__ngUnwrap__"===A)return x;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>x(A)):x(A))&&A.preventDefault()}}}function On(He){return"TEMPLATE"===He.tagName&&void 0!==He.content}class Ot extends Ie{constructor(x,A,O,re,pe,dt,Pt,on){super(x,pe,dt,on),this.sharedStylesHost=A,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const hn=xt(re.id,re.styles);for(const wn of hn){const Er=document.createElement("style");Pt&&Er.setAttribute("nonce",Pt),Er.textContent=wn,this.shadowRoot.appendChild(Er)}}nodeOrShadowRoot(x){return x===this.hostEl?this.shadowRoot:x}appendChild(x,A){return super.appendChild(this.nodeOrShadowRoot(x),A)}insertBefore(x,A,O){return super.insertBefore(this.nodeOrShadowRoot(x),A,O)}removeChild(x,A){return super.removeChild(this.nodeOrShadowRoot(x),A)}parentNode(x){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(x)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vt extends Ie{constructor(x,A,O,re,pe,dt,Pt,on){super(x,pe,dt,Pt),this.sharedStylesHost=A,this.removeStylesOnCompDestroy=re,this.styles=on?xt(on,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kt extends Vt{constructor(x,A,O,re,pe,dt,Pt,on){const hn=re+"-"+O.id;super(x,A,O,pe,dt,Pt,on,hn),this.contentAttr=function Ke(He){return"_ngcontent-%COMP%".replace(we,He)}(hn),this.hostAttr=function ct(He){return"_nghost-%COMP%".replace(we,He)}(hn)}applyToHost(x){this.applyStyles(),this.setAttribute(x,this.hostAttr,"")}createElement(x,A){const O=super.createElement(x,A);return super.setAttribute(O,this.contentAttr,""),O}}let pt=(()=>{class He extends Re{constructor(A){super(A)}supports(A){return!0}addEventListener(A,O,re){return A.addEventListener(O,re,!1),()=>this.removeEventListener(A,O,re)}removeEventListener(A,O,re){return A.removeEventListener(O,re)}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:He,factory:He.\u0275fac})}}return He})();const Ve=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={alt:He=>He.altKey,control:He=>He.ctrlKey,meta:He=>He.metaKey,shift:He=>He.shiftKey};let xe=(()=>{class He extends Re{constructor(A){super(A)}supports(A){return null!=He.parseEventName(A)}addEventListener(A,O,re){const pe=He.parseEventName(O),dt=He.eventCallback(pe.fullKey,re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ce.QT)().onAndCancel(A,pe.domEventName,dt))}static parseEventName(A){const O=A.toLowerCase().split("."),re=O.shift();if(0===O.length||"keydown"!==re&&"keyup"!==re)return null;const pe=He._normalizeKey(O.pop());let dt="",Pt=O.indexOf("code");if(Pt>-1&&(O.splice(Pt,1),dt="code."),Ve.forEach(hn=>{const wn=O.indexOf(hn);wn>-1&&(O.splice(wn,1),dt+=hn+".")}),dt+=pe,0!=O.length||0===pe.length)return null;const on={};return on.domEventName=re,on.fullKey=dt,on}static matchEventFullKeyCode(A,O){let re=st[A.key]||A.key,pe="";return O.indexOf("code.")>-1&&(re=A.code,pe="code."),!(null==re||!re)&&(re=re.toLowerCase()," "===re?re="space":"."===re&&(re="dot"),Ve.forEach(dt=>{dt!==re&&(0,it[dt])(A)&&(pe+=dt+".")}),pe+=re,pe===O)}static eventCallback(A,O,re){return pe=>{He.matchEventFullKeyCode(pe,A)&&re.runGuarded(()=>O(pe))}}static _normalizeKey(A){return"esc"===A?"escape":A}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:He,factory:He.\u0275fac})}}return He})();const rn=(0,s.oH4)(s.fpN,"browser",[{provide:s.Agw,useValue:ce.AJ},{provide:s.PLl,useValue:function We(){Ee.makeCurrent()},multi:!0},{provide:ce.qQ,useFactory:function bn(){return(0,s.TL$)(document),document},deps:[]}]),Fn=new s.nKC(""),Qt=[{provide:s.e01,useClass:class Me{addToWindow(x){s.JZv.getAngularTestability=(O,re=!0)=>{const pe=x.findTestabilityInTree(O,re);if(null==pe)throw new s.wOt(5103,!1);return pe},s.JZv.getAllAngularTestabilities=()=>x.getAllTestabilities(),s.JZv.getAllAngularRootElements=()=>x.getAllRootElements(),s.JZv.frameworkStabilizers||(s.JZv.frameworkStabilizers=[]),s.JZv.frameworkStabilizers.push(O=>{const re=s.JZv.getAllAngularTestabilities();let pe=re.length,dt=!1;const Pt=function(on){dt=dt||on,pe--,0==pe&&O(dt)};re.forEach(on=>{on.whenStable(Pt)})})}findTestabilityInTree(x,A,O){return null==A?null:x.getTestability(A)??(O?(0,ce.QT)().isShadowRoot(A)?this.findTestabilityInTree(x,A.host,!0):this.findTestabilityInTree(x,A.parentElement,!0):null)}},deps:[]},{provide:s.WHO,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]},{provide:s.NYb,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]}],Bn=[{provide:s.H8p,useValue:"root"},{provide:s.zcH,useFactory:function Ft(){return new s.zcH},deps:[]},{provide:ne,useClass:pt,multi:!0,deps:[ce.qQ,s.SKi,s.Agw]},{provide:ne,useClass:xe,multi:!0,deps:[ce.qQ]},ut,ve,he,{provide:s._9s,useExisting:ut},{provide:ce.N0,useClass:W,deps:[]},[]];let xn=(()=>{class He{constructor(A){}static withServerTransition(A){return{ngModule:He,providers:[{provide:s.sZ2,useValue:A.appId}]}}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(Fn,12))}}static{this.\u0275mod=s.$C({type:He})}static{this.\u0275inj=s.G2t({providers:[...Bn,...Qt],imports:[ce.MD,s.Hbi]})}}return He})(),Ut=(()=>{class He{constructor(A){this._doc=A,this._dom=(0,ce.QT)()}addTag(A,O=!1){return A?this._getOrCreateElement(A,O):null}addTags(A,O=!1){return A?A.reduce((re,pe)=>(pe&&re.push(this._getOrCreateElement(pe,O)),re),[]):[]}getTag(A){return A&&this._doc.querySelector(`meta[${A}]`)||null}getTags(A){if(!A)return[];const O=this._doc.querySelectorAll(`meta[${A}]`);return O?[].slice.call(O):[]}updateTag(A,O){if(!A)return null;O=O||this._parseSelector(A);const re=this.getTag(O);return re?this._setMetaElementAttributes(A,re):this._getOrCreateElement(A,!0)}removeTag(A){this.removeTagElement(this.getTag(A))}removeTagElement(A){A&&this._dom.remove(A)}_getOrCreateElement(A,O=!1){if(!O){const dt=this._parseSelector(A),Pt=this.getTags(dt).filter(on=>this._containsAttributes(A,on))[0];if(void 0!==Pt)return Pt}const re=this._dom.createElement("meta");return this._setMetaElementAttributes(A,re),this._doc.getElementsByTagName("head")[0].appendChild(re),re}_setMetaElementAttributes(A,O){return Object.keys(A).forEach(re=>O.setAttribute(this._getMetaKeyMap(re),A[re])),O}_parseSelector(A){const O=A.name?"name":"property";return`${O}="${A[O]}"`}_containsAttributes(A,O){return Object.keys(A).every(re=>O.getAttribute(this._getMetaKeyMap(re))===A[re])}_getMetaKeyMap(A){return dr[A]||A}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:He,factory:function(O){let re=null;return re=O?new O:function zt(){return new Ut((0,s.KVO)(ce.qQ))}(),re},providedIn:"root"})}}return He})();const dr={httpEquiv:"http-equiv"};let xr=(()=>{class He{constructor(A){this._doc=A}getTitle(){return this._doc.title}setTitle(A){this._doc.title=A||""}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:He,factory:function(O){let re=null;return re=O?new O:function sn(){return new xr((0,s.KVO)(ce.qQ))}(),re},providedIn:"root"})}}return He})();typeof window<"u"&&window;let Ri=(()=>{class He{static{this.\u0275fac=function(O){return new(O||He)}}static{this.\u0275prov=s.jDH({token:He,factory:function(O){let re=null;return re=O?new(O||He):s.KVO(bt),re},providedIn:"root"})}}return He})(),bt=(()=>{class He extends Ri{constructor(A){super(),this._doc=A}sanitize(A,O){if(null==O)return null;switch(A){case s.WPN.NONE:return O;case s.WPN.HTML:return(0,s.ZF7)(O,"HTML")?(0,s.rcV)(O):(0,s.h9k)(this._doc,String(O)).toString();case s.WPN.STYLE:return(0,s.ZF7)(O,"Style")?(0,s.rcV)(O):O;case s.WPN.SCRIPT:if((0,s.ZF7)(O,"Script"))return(0,s.rcV)(O);throw new s.wOt(5200,!1);case s.WPN.URL:return(0,s.ZF7)(O,"URL")?(0,s.rcV)(O):(0,s.$MX)(String(O));case s.WPN.RESOURCE_URL:if((0,s.ZF7)(O,"ResourceURL"))return(0,s.rcV)(O);throw new s.wOt(5201,!1);default:throw new s.wOt(5202,!1)}}bypassSecurityTrustHtml(A){return(0,s.Kcf)(A)}bypassSecurityTrustStyle(A){return(0,s.cWb)(A)}bypassSecurityTrustScript(A){return(0,s.UyX)(A)}bypassSecurityTrustUrl(A){return(0,s.osQ)(A)}bypassSecurityTrustResourceUrl(A){return(0,s.e5t)(A)}static{this.\u0275fac=function(O){return new(O||He)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:He,factory:function(O){let re=null;return re=O?new O:function at(He){return new bt(He.get(ce.qQ))}(s.KVO(s.zZn)),re},providedIn:"root"})}}return He})()},6814:(tn,Xe,V)=>{V.d(Xe,{nX:()=>ur,Ix:()=>Hi,Wk:()=>Mo,wQ:()=>ws,iI:()=>al,n3:()=>_i});var s=V(7705),ce=V(1985),r=V(8071),me=V(8455),Te=V(7673),be=V(4412),Pe=V(3073),Me=V(3669),W=V(6450),ne=V(3794),he=V(8496),Re=V(4360),je=V(5225);function ve(...S){const k=(0,ne.lI)(S),w=(0,ne.ms)(S),{args:F,keys:H}=(0,Pe.D)(S);if(0===F.length)return(0,me.H)([],k);const le=new ce.c(function Ye(S,k,w=Me.D){return F=>{we(k,()=>{const{length:H}=S,le=new Array(H);let Oe=H,wt=H;for(let yt=0;yt<H;yt++)we(k,()=>{const yn=(0,me.H)(S[yt],k);let _r=!1;yn.subscribe((0,Re._)(F,rr=>{le[yt]=rr,_r||(_r=!0,wt--),wt||F.next(w(le.slice()))},()=>{--Oe||F.complete()}))},F)},F)}}(F,k,H?Oe=>(0,he.e)(H,Oe):Me.D));return w?le.pipe((0,W.I)(w)):le}function we(S,k,w){S?(0,je.N)(w,S,k):k()}var Tt=V(9350),Bt=V(8793),Ge=V(8750);function Ae(S){return new ce.c(k=>{(0,Ge.Tg)(S()).subscribe(k)})}var tt=V(1203),Ke=V(8810),ct=V(983),xt=V(8359),ut=V(9974);function Ie(){return(0,ut.N)((S,k)=>{let w=null;S._refCount++;const F=(0,Re._)(k,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(w=null);const H=S._connection,le=w;w=null,H&&(!le||H===le)&&H.unsubscribe(),k.unsubscribe()});S.subscribe(F),F.closed||(w=S.connect())})}class Ze extends ce.c{constructor(k,w){super(),this.source=k,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,ut.S)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new xt.yU;const w=this.getSubject();k.add(this.source.subscribe((0,Re._)(w,void 0,()=>{this._teardown(),w.complete()},F=>{this._teardown(),w.error(F)},()=>this._teardown()))),k.closed&&(this._connection=null,k=xt.yU.EMPTY)}return k}refCount(){return Ie()(this)}}var Xt=V(1413),On=V(177),Ot=V(6354),Vt=V(5558),Kt=V(6697),pt=V(9172),Ve=V(5964),st=V(1397),it=V(1594),xe=V(274),Z=V(8141),ye=V(9437),Fe=V(2816),ot=V(9901);function We(S){return S<=0?()=>ct.w:(0,ut.N)((k,w)=>{let F=[];k.subscribe((0,Re._)(w,H=>{F.push(H),S<F.length&&F.shift()},()=>{for(const H of F)w.next(H);w.complete()},void 0,()=>{F=null}))})}var Ft=V(3774),rn=V(980),Fn=V(5343),Bn=V(6365),xn=V(345);const zt="primary",Ut=Symbol("RouteTitle");class dr{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const w=this.params[k];return Array.isArray(w)?w[0]:w}return null}getAll(k){if(this.has(k)){const w=this.params[k];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function sn(S){return new dr(S)}function xr(S,k,w){const F=w.path.split("/");if(F.length>S.length||"full"===w.pathMatch&&(k.hasChildren()||F.length<S.length))return null;const H={};for(let le=0;le<F.length;le++){const Oe=F[le],wt=S[le];if(Oe.startsWith(":"))H[Oe.substring(1)]=wt;else if(Oe!==wt.path)return null}return{consumed:S.slice(0,F.length),posParams:H}}function Gt(S,k){const w=S?Object.keys(S):void 0,F=k?Object.keys(k):void 0;if(!w||!F||w.length!=F.length)return!1;let H;for(let le=0;le<w.length;le++)if(H=w[le],!En(S[H],k[H]))return!1;return!0}function En(S,k){if(Array.isArray(S)&&Array.isArray(k)){if(S.length!==k.length)return!1;const w=[...S].sort(),F=[...k].sort();return w.every((H,le)=>F[le]===H)}return S===k}function Gn(S){return S.length>0?S[S.length-1]:null}function Tn(S){return function Ee(S){return!!S&&(S instanceof ce.c||(0,r.T)(S.lift)&&(0,r.T)(S.subscribe))}(S)?S:(0,s.jNT)(S)?(0,me.H)(Promise.resolve(S)):(0,Te.of)(S)}const Br={exact:function hi(S,k,w){if(!bt(S.segments,k.segments)||!Jn(S.segments,k.segments,w)||S.numberOfChildren!==k.numberOfChildren)return!1;for(const F in k.children)if(!S.children[F]||!hi(S.children[F],k.children[F],w))return!1;return!0},subset:dn},Dr={exact:function zn(S,k){return Gt(S,k)},subset:function ys(S,k){return Object.keys(k).length<=Object.keys(S).length&&Object.keys(k).every(w=>En(S[w],k[w]))},ignored:()=>!0};function Hr(S,k,w){return Br[w.paths](S.root,k.root,w.matrixParams)&&Dr[w.queryParams](S.queryParams,k.queryParams)&&!("exact"===w.fragment&&S.fragment!==k.fragment)}function dn(S,k,w){return ti(S,k,k.segments,w)}function ti(S,k,w,F){if(S.segments.length>w.length){const H=S.segments.slice(0,w.length);return!(!bt(H,w)||k.hasChildren()||!Jn(H,w,F))}if(S.segments.length===w.length){if(!bt(S.segments,w)||!Jn(S.segments,w,F))return!1;for(const H in k.children)if(!S.children[H]||!dn(S.children[H],k.children[H],F))return!1;return!0}{const H=w.slice(0,S.segments.length),le=w.slice(S.segments.length);return!!(bt(S.segments,H)&&Jn(S.segments,H,F)&&S.children[zt])&&ti(S.children[zt],k,le,F)}}function Jn(S,k,w){return k.every((F,H)=>Dr[w](S[H].parameters,F.parameters))}class Tr{constructor(k=new Hn([],{}),w={},F=null){this.root=k,this.queryParams=w,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class Hn{constructor(k,w){this.segments=k,this.children=w,this.parent=null,Object.values(w).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vn(this)}}class Ri{constructor(k,w){this.path=k,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return re(this)}}function bt(S,k){return S.length===k.length&&S.every((w,F)=>w.path===k[F].path)}let ke=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:function(){return new At},providedIn:"root"})}}return S})();class At{parse(k){const w=new Bs(k);return new Tr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(k){const w=`/${Vr(k.root,!0)}`,F=function dt(S){const k=Object.keys(S).map(w=>{const F=S[w];return Array.isArray(F)?F.map(H=>`${Qe(w)}=${Qe(H)}`).join("&"):`${Qe(w)}=${Qe(F)}`}).filter(w=>!!w);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${w}${F}${"string"==typeof k.fragment?`#${function He(S){return encodeURI(S)}(k.fragment)}`:""}`}}const qt=new At;function Vn(S){return S.segments.map(k=>re(k)).join("/")}function Vr(S,k){if(!S.hasChildren())return Vn(S);if(k){const w=S.children[zt]?Vr(S.children[zt],!1):"",F=[];return Object.entries(S.children).forEach(([H,le])=>{H!==zt&&F.push(`${H}:${Vr(le,!1)}`)}),F.length>0?`${w}(${F.join("//")})`:w}{const w=function de(S,k){let w=[];return Object.entries(S.children).forEach(([F,H])=>{F===zt&&(w=w.concat(k(H,F)))}),Object.entries(S.children).forEach(([F,H])=>{F!==zt&&(w=w.concat(k(H,F)))}),w}(S,(F,H)=>H===zt?[Vr(S.children[zt],!1)]:[`${H}:${Vr(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[zt]?`${Vn(S)}/${w[0]}`:`${Vn(S)}/(${w.join("//")})`}}function Ir(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qe(S){return Ir(S).replace(/%3B/gi,";")}function x(S){return Ir(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function A(S){return decodeURIComponent(S)}function O(S){return A(S.replace(/\+/g,"%20"))}function re(S){return`${x(S.path)}${function pe(S){return Object.keys(S).map(k=>`;${x(k)}=${x(S[k])}`).join("")}(S.parameters)}`}const Pt=/^[^\/()?;#]+/;function on(S){const k=S.match(Pt);return k?k[0]:""}const hn=/^[^\/()?;=#]+/,Er=/^[^=?&#]+/,zr=/^[^&#]+/;class Bs{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(k.length>0||Object.keys(w).length>0)&&(F[zt]=new Hn(k,w)),F}parseSegment(){const k=on(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(k),new Ri(A(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const w=function wn(S){const k=S.match(hn);return k?k[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const H=on(this.remaining);H&&(F=H,this.capture(F))}k[A(w)]=A(F)}parseQueryParam(k){const w=function an(S){const k=S.match(Er);return k?k[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const Oe=function cr(S){const k=S.match(zr);return k?k[0]:""}(this.remaining);Oe&&(F=Oe,this.capture(F))}const H=O(w),le=O(F);if(k.hasOwnProperty(H)){let Oe=k[H];Array.isArray(Oe)||(Oe=[Oe],k[H]=Oe),Oe.push(le)}else k[H]=le}parseParens(k){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=on(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new s.wOt(4010,!1);let le;F.indexOf(":")>-1?(le=F.slice(0,F.indexOf(":")),this.capture(le),this.capture(":")):k&&(le=zt);const Oe=this.parseChildren();w[le]=1===Object.keys(Oe).length?Oe[zt]:new Hn([],Oe),this.consumeOptional("//")}return w}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new s.wOt(4011,!1)}}function Ni(S){return S.segments.length>0?new Hn([],{[zt]:S}):S}function vs(S){const k={};for(const F of Object.keys(S.children)){const le=vs(S.children[F]);if(F===zt&&0===le.segments.length&&le.hasChildren())for(const[Oe,wt]of Object.entries(le.children))k[Oe]=wt;else(le.segments.length>0||le.hasChildren())&&(k[F]=le)}return function Es(S){if(1===S.numberOfChildren&&S.children[zt]){const k=S.children[zt];return new Hn(S.segments.concat(k.segments),k.children)}return S}(new Hn(S.segments,k))}function gi(S){return S instanceof Tr}function Ns(S){let k;const H=Ni(function w(le){const Oe={};for(const yt of le.children){const yn=w(yt);Oe[yt.outlet]=yn}const wt=new Hn(le.url,Oe);return le===S&&(k=wt),wt}(S.root));return k??H}function Dt(S,k,w,F){let H=S;for(;H.parent;)H=H.parent;if(0===k.length)return ln(H,H,H,w,F);const le=function hr(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Nn(!0,0,S);let k=0,w=!1;const F=S.reduce((H,le,Oe)=>{if("object"==typeof le&&null!=le){if(le.outlets){const wt={};return Object.entries(le.outlets).forEach(([yt,yn])=>{wt[yt]="string"==typeof yn?yn.split("/"):yn}),[...H,{outlets:wt}]}if(le.segmentPath)return[...H,le.segmentPath]}return"string"!=typeof le?[...H,le]:0===Oe?(le.split("/").forEach((wt,yt)=>{0==yt&&"."===wt||(0==yt&&""===wt?w=!0:".."===wt?k++:""!=wt&&H.push(wt))}),H):[...H,le]},[]);return new Nn(w,k,F)}(k);if(le.toRoot())return ln(H,H,new Hn([],{}),w,F);const Oe=function qr(S,k,w){if(S.isAbsolute)return new $r(k,!0,0);if(!w)return new $r(k,!1,NaN);if(null===w.parent)return new $r(w,!0,0);const F=lt(S.commands[0])?0:1;return function fr(S,k,w){let F=S,H=k,le=w;for(;le>H;){if(le-=H,F=F.parent,!F)throw new s.wOt(4005,!1);H=F.segments.length}return new $r(F,!1,H-le)}(w,w.segments.length-1+F,S.numberOfDoubleDots)}(le,H,S),wt=Oe.processChildren?os(Oe.segmentGroup,Oe.index,le.commands):ks(Oe.segmentGroup,Oe.index,le.commands);return ln(H,Oe.segmentGroup,wt,w,F)}function lt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Mt(S){return"object"==typeof S&&null!=S&&S.outlets}function ln(S,k,w,F,H){let Oe,le={};F&&Object.entries(F).forEach(([yt,yn])=>{le[yt]=Array.isArray(yn)?yn.map(_r=>`${_r}`):`${yn}`}),Oe=S===k?w:Un(S,k,w);const wt=Ni(vs(Oe));return new Tr(wt,le,H)}function Un(S,k,w){const F={};return Object.entries(S.children).forEach(([H,le])=>{F[H]=le===k?w:Un(le,k,w)}),new Hn(S.segments,F)}class Nn{constructor(k,w,F){if(this.isAbsolute=k,this.numberOfDoubleDots=w,this.commands=F,k&&F.length>0&&lt(F[0]))throw new s.wOt(4003,!1);const H=F.find(Mt);if(H&&H!==Gn(F))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $r{constructor(k,w,F){this.segmentGroup=k,this.processChildren=w,this.index=F}}function ks(S,k,w){if(S||(S=new Hn([],{})),0===S.segments.length&&S.hasChildren())return os(S,k,w);const F=function Ao(S,k,w){let F=0,H=k;const le={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(F>=w.length)return le;const Oe=S.segments[H],wt=w[F];if(Mt(wt))break;const yt=`${wt}`,yn=F<w.length-1?w[F+1]:null;if(H>0&&void 0===yt)break;if(yt&&yn&&"object"==typeof yn&&void 0===yn.outlets){if(!li(yt,yn,Oe))return le;F+=2}else{if(!li(yt,{},Oe))return le;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(S,k,w),H=w.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const le=new Hn(S.segments.slice(0,F.pathIndex),{});return le.children[zt]=new Hn(S.segments.slice(F.pathIndex),S.children),os(le,0,H)}return F.match&&0===H.length?new Hn(S.segments,{}):F.match&&!S.hasChildren()?Do(S,k,w):F.match?os(S,0,H):Do(S,k,w)}function os(S,k,w){if(0===w.length)return new Hn(S.segments,{});{const F=function Xi(S){return Mt(S[0])?S[0].outlets:{[zt]:S}}(w),H={};if(Object.keys(F).some(le=>le!==zt)&&S.children[zt]&&1===S.numberOfChildren&&0===S.children[zt].segments.length){const le=os(S.children[zt],k,w);return new Hn(S.segments,le.children)}return Object.entries(F).forEach(([le,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(H[le]=ks(S.children[le],k,Oe))}),Object.entries(S.children).forEach(([le,Oe])=>{void 0===F[le]&&(H[le]=Oe)}),new Hn(S.segments,H)}}function Do(S,k,w){const F=S.segments.slice(0,k);let H=0;for(;H<w.length;){const le=w[H];if(Mt(le)){const yt=ji(le.outlets);return new Hn(F,yt)}if(0===H&&lt(w[0])){F.push(new Ri(S.segments[k].path,jo(w[0]))),H++;continue}const Oe=Mt(le)?le.outlets[zt]:`${le}`,wt=H<w.length-1?w[H+1]:null;Oe&&wt&&lt(wt)?(F.push(new Ri(Oe,jo(wt))),H+=2):(F.push(new Ri(Oe,{})),H++)}return new Hn(F,{})}function ji(S){const k={};return Object.entries(S).forEach(([w,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(k[w]=Do(new Hn([],{}),0,F))}),k}function jo(S){const k={};return Object.entries(S).forEach(([w,F])=>k[w]=`${F}`),k}function li(S,k,w){return S==w.path&&Gt(k,w.parameters)}const as="imperative";class bs{constructor(k,w){this.id=k,this.url=w}}class Yr extends bs{constructor(k,w,F="imperative",H=null){super(k,w),this.type=0,this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends bs{constructor(k,w,F){super(k,w),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends bs{constructor(k,w,F,H){super(k,w),this.reason=F,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wr extends bs{constructor(k,w,F,H){super(k,w),this.reason=F,this.code=H,this.type=16}}class co extends bs{constructor(k,w,F,H){super(k,w),this.error=F,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class So extends bs{constructor(k,w,F,H){super(k,w),this.urlAfterRedirects=F,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends bs{constructor(k,w,F,H){super(k,w),this.urlAfterRedirects=F,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends bs{constructor(k,w,F,H,le){super(k,w),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qa extends bs{constructor(k,w,F,H){super(k,w),this.urlAfterRedirects=F,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends bs{constructor(k,w,F,H){super(k,w),this.urlAfterRedirects=F,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pa{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xs{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ni{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(k,w,F){this.routerEvent=k,this.position=w,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yn{}class Xr{constructor(k){this.url=k}}class zi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gr,this.attachRef=null}}let Gr=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(w,F){const H=this.getOrCreateContext(w);H.outlet=F,this.contexts.set(w,H)}onChildOutletDestroyed(w){const F=this.getContext(w);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let F=this.getContext(w);return F||(F=new zi,this.contexts.set(w,F)),F}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();class ls{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const w=this.pathFromRoot(k);return w.length>1?w[w.length-2]:null}children(k){const w=Qs(k,this._root);return w?w.children.map(F=>F.value):[]}firstChild(k){const w=Qs(k,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(k){const w=ki(k,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==k)}pathFromRoot(k){return ki(k,this._root).map(w=>w.value)}}function Qs(S,k){if(S===k.value)return k;for(const w of k.children){const F=Qs(S,w);if(F)return F}return null}function ki(S,k){if(S===k.value)return[k];for(const w of k.children){const F=ki(S,w);if(F.length)return F.unshift(k),F}return[]}class Ts{constructor(k,w){this.value=k,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ss(S){const k={};return S&&S.children.forEach(w=>k[w.value.outlet]=w),k}class Wr extends ls{constructor(k,w){super(k),this.snapshot=w,Qr(this,k)}toString(){return this.snapshot.toString()}}function gn(S,k){const w=function nr(S,k){const Oe=new Fi([],{},{},"",{},zt,k,null,{});return new Gs("",new Ts(Oe,[]))}(0,k),F=new be.t([new Ri("",{})]),H=new be.t({}),le=new be.t({}),Oe=new be.t({}),wt=new be.t(""),yt=new ur(F,H,Oe,wt,le,zt,k,w.root);return yt.snapshot=w.root,new Wr(new Ts(yt,[]),w)}class ur{constructor(k,w,F,H,le,Oe,wt,yt){this.urlSubject=k,this.paramsSubject=w,this.queryParamsSubject=F,this.fragmentSubject=H,this.dataSubject=le,this.outlet=Oe,this.component=wt,this._futureSnapshot=yt,this.title=this.dataSubject?.pipe((0,Ot.T)(yn=>yn[Ut]))??(0,Te.of)(void 0),this.url=k,this.params=w,this.queryParams=F,this.fragment=H,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.T)(k=>sn(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.T)(k=>sn(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qi(S,k="emptyOnly"){const w=S.pathFromRoot;let F=0;if("always"!==k)for(F=w.length-1;F>=1;){const H=w[F],le=w[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(le.component)break;F--}}return function cs(S){return S.reduce((k,w)=>({params:{...k.params,...w.params},data:{...k.data,...w.data},resolve:{...w.data,...k.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(F))}class Fi{get title(){return this.data?.[Ut]}constructor(k,w,F,H,le,Oe,wt,yt,yn){this.url=k,this.params=w,this.queryParams=F,this.fragment=H,this.data=le,this.outlet=Oe,this.component=wt,this.routeConfig=yt,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gs extends ls{constructor(k,w){super(w),this.url=k,Qr(this,w)}toString(){return us(this._root)}}function Qr(S,k){k.value._routerState=S,k.children.forEach(w=>Qr(S,w))}function us(S){const k=S.children.length>0?` { ${S.children.map(us).join(", ")} } `:"";return`${S.value}${k}`}function Rs(S){if(S.snapshot){const k=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Gt(k.queryParams,w.queryParams)||S.queryParamsSubject.next(w.queryParams),k.fragment!==w.fragment&&S.fragmentSubject.next(w.fragment),Gt(k.params,w.params)||S.paramsSubject.next(w.params),function Xn(S,k){if(S.length!==k.length)return!1;for(let w=0;w<S.length;++w)if(!Gt(S[w],k[w]))return!1;return!0}(k.url,w.url)||S.urlSubject.next(w.url),Gt(k.data,w.data)||S.dataSubject.next(w.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function jn(S,k){const w=Gt(S.params,k.params)&&function at(S,k){return bt(S,k)&&S.every((w,F)=>Gt(w.parameters,k[F].parameters))}(S.url,k.url);return w&&!(!S.parent!=!k.parent)&&(!S.parent||jn(S.parent,k.parent))}let _i=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.attachEvents=new s.bkB,this.detachEvents=new s.bkB,this.parentContexts=(0,s.WQX)(Gr),this.location=(0,s.WQX)(s.c1b),this.changeDetector=(0,s.WQX)(s.gRc),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(ee,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:F,previousValue:H}=w.name;if(F)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,F){this.activated=w,this._activatedRoute=F,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,F){if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Oe=w.snapshot.component,wt=this.parentContexts.getOrCreateContext(this.name).children,yt=new Ji(w,wt,H.injector);this.activated=H.createComponent(Oe,{index:H.length,injector:yt,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275dir=s.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.OA$]})}}return S})();class Ji{constructor(k,w,F){this.route=k,this.childContexts=w,this.parent=F}get(k,w){return k===ur?this.route:k===Gr?this.childContexts:this.parent.get(k,w)}}const ee=new s.nKC("");let J=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:F}=w,H=ve([F.queryParams,F.params,F.data]).pipe((0,Vt.n)(([le,Oe,wt],yt)=>(wt={...le,...Oe,...wt},0===yt?(0,Te.of)(wt):Promise.resolve(wt)))).subscribe(le=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(w);const Oe=(0,s.HJs)(F.component);if(Oe)for(const{templateName:wt}of Oe.inputs)w.activatedComponentRef.setInput(wt,le[wt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac})}}return S})();function Le(S,k,w){if(w&&S.shouldReuseRoute(k.value,w.value.snapshot)){const F=w.value;F._futureSnapshot=k.value;const H=function nt(S,k,w){return k.children.map(F=>{for(const H of w.children)if(S.shouldReuseRoute(F.value,H.value.snapshot))return Le(S,F,H);return Le(S,F)})}(S,k,w);return new Ts(F,H)}{if(S.shouldAttach(k.value)){const le=S.retrieve(k.value);if(null!==le){const Oe=le.route;return Oe.value._futureSnapshot=k.value,Oe.children=k.children.map(wt=>Le(S,wt)),Oe}}const F=function _t(S){return new ur(new be.t(S.url),new be.t(S.params),new be.t(S.queryParams),new be.t(S.fragment),new be.t(S.data),S.outlet,S.component,S)}(k.value),H=k.children.map(le=>Le(S,le));return new Ts(F,H)}}const Yt="ngNavigationCancelingError";function In(S,k){const{redirectTo:w,navigationBehaviorOptions:F}=gi(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,H=fn(!1,0,k);return H.url=w,H.navigationBehaviorOptions=F,H}function fn(S,k,w){const F=new Error("NavigationCancelingError: "+(S||""));return F[Yt]=!0,F.cancellationCode=k,w&&(F.url=w),F}function Ar(S){return S&&S[Yt]}let Dn=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275cmp=s.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:1,vars:0,template:function(F,H){1&F&&s.nrm(0,"router-outlet")},dependencies:[_i],encapsulation:2})}}return S})();function wi(S){const k=S.children&&S.children.map(wi),w=k?{...S,children:k}:{...S};return!w.component&&!w.loadComponent&&(k||w.loadChildren)&&w.outlet&&w.outlet!==zt&&(w.component=Dn),w}function Mr(S){return S.outlet||zt}function ds(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let k=S.parent;k;k=k.parent){const w=k.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class na{constructor(k,w,F,H,le){this.routeReuseStrategy=k,this.futureState=w,this.currState=F,this.forwardEvent=H,this.inputBindingEnabled=le}activate(k){const w=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,F,k),Rs(this.futureState.root),this.activateChildRoutes(w,F,k)}deactivateChildRoutes(k,w,F){const H=Ss(w);k.children.forEach(le=>{const Oe=le.value.outlet;this.deactivateRoutes(le,H[Oe],F),delete H[Oe]}),Object.values(H).forEach(le=>{this.deactivateRouteAndItsChildren(le,F)})}deactivateRoutes(k,w,F){const H=k.value,le=w?w.value:null;if(H===le)if(H.component){const Oe=F.getContext(H.outlet);Oe&&this.deactivateChildRoutes(k,w,Oe.children)}else this.deactivateChildRoutes(k,w,F);else le&&this.deactivateRouteAndItsChildren(w,F)}deactivateRouteAndItsChildren(k,w){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,w):this.deactivateRouteAndOutlet(k,w)}detachAndStoreRouteSubtree(k,w){const F=w.getContext(k.value.outlet),H=F&&k.value.component?F.children:w,le=Ss(k);for(const Oe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Oe],H);if(F&&F.outlet){const Oe=F.outlet.detach(),wt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:Oe,route:k,contexts:wt})}}deactivateRouteAndOutlet(k,w){const F=w.getContext(k.value.outlet),H=F&&k.value.component?F.children:w,le=Ss(k);for(const Oe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Oe],H);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(k,w,F){const H=Ss(w);k.children.forEach(le=>{this.activateRoutes(le,H[le.value.outlet],F),this.forwardEvent(new $i(le.value.snapshot))}),k.children.length&&this.forwardEvent(new $s(k.value.snapshot))}activateRoutes(k,w,F){const H=k.value,le=w?w.value:null;if(Rs(H),H===le)if(H.component){const Oe=F.getOrCreateContext(H.outlet);this.activateChildRoutes(k,w,Oe.children)}else this.activateChildRoutes(k,w,F);else if(H.component){const Oe=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const wt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Oe.children.onOutletReAttached(wt.contexts),Oe.attachRef=wt.componentRef,Oe.route=wt.route.value,Oe.outlet&&Oe.outlet.attach(wt.componentRef,wt.route.value),Rs(wt.route.value),this.activateChildRoutes(k,null,Oe.children)}else{const wt=ds(H.snapshot);Oe.attachRef=null,Oe.route=H,Oe.injector=wt,Oe.outlet&&Oe.outlet.activateWith(H,Oe.injector),this.activateChildRoutes(k,null,Oe.children)}}else this.activateChildRoutes(k,null,F)}}class Ja{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class ra{constructor(k,w){this.component=k,this.route=w}}function Yl(S,k,w){const F=S._root;return Ro(F,k?k._root:null,w,[F.value])}function Fs(S,k){const w=Symbol(),F=k.get(S,w);return F===w?"function"!=typeof S||(0,s.LfX)(S)?k.get(S):S:F}function Ro(S,k,w,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const le=Ss(k);return S.children.forEach(Oe=>{(function Na(S,k,w,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const le=S.value,Oe=k?k.value:null,wt=w?w.getContext(S.value.outlet):null;if(Oe&&le.routeConfig===Oe.routeConfig){const yt=function ka(S,k,w){if("function"==typeof w)return w(S,k);switch(w){case"pathParamsChange":return!bt(S.url,k.url);case"pathParamsOrQueryParamsChange":return!bt(S.url,k.url)||!Gt(S.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jn(S,k)||!Gt(S.queryParams,k.queryParams);default:return!jn(S,k)}}(Oe,le,le.routeConfig.runGuardsAndResolvers);yt?H.canActivateChecks.push(new Ja(F)):(le.data=Oe.data,le._resolvedData=Oe._resolvedData),Ro(S,k,le.component?wt?wt.children:null:w,F,H),yt&&wt&&wt.outlet&&wt.outlet.isActivated&&H.canDeactivateChecks.push(new ra(wt.outlet.component,Oe))}else Oe&&yi(k,wt,H),H.canActivateChecks.push(new Ja(F)),Ro(S,null,le.component?wt?wt.children:null:w,F,H)})(Oe,le[Oe.value.outlet],w,F.concat([Oe.value]),H),delete le[Oe.value.outlet]}),Object.entries(le).forEach(([Oe,wt])=>yi(wt,w.getContext(Oe),H)),H}function yi(S,k,w){const F=Ss(S),H=S.value;Object.entries(F).forEach(([le,Oe])=>{yi(Oe,H.component?k?k.children.getContext(le):null:k,w)}),w.canDeactivateChecks.push(new ra(H.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,H))}function Po(S){return"function"==typeof S}function Is(S){return S instanceof Tt.G||"EmptyError"===S?.name}const Zs=Symbol("INITIAL_VALUE");function Zi(){return(0,Vt.n)(S=>ve(S.map(k=>k.pipe((0,Kt.s)(1),(0,pt.Z)(Zs)))).pipe((0,Ot.T)(k=>{for(const w of k)if(!0!==w){if(w===Zs)return Zs;if(!1===w||w instanceof Tr)return w}return!0}),(0,Ve.p)(k=>k!==Zs),(0,Kt.s)(1)))}function ms(S){return(0,tt.F)((0,Z.M)(k=>{if(gi(k))throw In(0,k)}),(0,Ot.T)(k=>!0===k))}class ho{constructor(k){this.segmentGroup=k||null}}class sa{constructor(k){this.urlTree=k}}function Cs(S){return(0,Ke.$)(new ho(S))}function ma(S){return(0,Ke.$)(new sa(S))}class vu{constructor(k,w){this.urlSerializer=k,this.urlTree=w}noMatchError(k){return new s.wOt(4002,!1)}lineralizeSegments(k,w){let F=[],H=w.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,Te.of)(F);if(H.numberOfChildren>1||!H.children[zt])return(0,Ke.$)(new s.wOt(4e3,!1));H=H.children[zt]}}applyRedirectCommands(k,w,F){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),k,F)}applyRedirectCreateUrlTree(k,w,F,H){const le=this.createSegmentGroup(k,w.root,F,H);return new Tr(le,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(k,w){const F={};return Object.entries(k).forEach(([H,le])=>{if("string"==typeof le&&le.startsWith(":")){const wt=le.substring(1);F[H]=w[wt]}else F[H]=le}),F}createSegmentGroup(k,w,F,H){const le=this.createSegments(k,w.segments,F,H);let Oe={};return Object.entries(w.children).forEach(([wt,yt])=>{Oe[wt]=this.createSegmentGroup(k,yt,F,H)}),new Hn(le,Oe)}createSegments(k,w,F,H){return w.map(le=>le.path.startsWith(":")?this.findPosParam(k,le,H):this.findOrReturn(le,F))}findPosParam(k,w,F){const H=F[w.path.substring(1)];if(!H)throw new s.wOt(4001,!1);return H}findOrReturn(k,w){let F=0;for(const H of w){if(H.path===k.path)return w.splice(F),H;F++}return k}}const gr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tl(S,k,w,F,H){const le=mo(S,k,w);return le.matched?(F=function kn(S,k){return S.providers&&!S._injector&&(S._injector=(0,s.Ol2)(S.providers,k,`Route: ${S.path}`)),S._injector??k}(k,F),function Za(S,k,w,F){const H=k.canMatch;if(!H||0===H.length)return(0,Te.of)(!0);const le=H.map(Oe=>{const wt=Fs(Oe,S);return Tn(function Be(S){return S&&Po(S.canMatch)}(wt)?wt.canMatch(k,w):S.runInContext(()=>wt(k,w)))});return(0,Te.of)(le).pipe(Zi(),ms())}(F,k,w).pipe((0,Ot.T)(Oe=>!0===Oe?le:{...gr}))):(0,Te.of)(le)}function mo(S,k,w){if(""===k.path)return"full"===k.pathMatch&&(S.hasChildren()||w.length>0)?{...gr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(k.matcher||xr)(w,S,k);if(!H)return{...gr};const le={};Object.entries(H.posParams??{}).forEach(([wt,yt])=>{le[wt]=yt.path});const Oe=H.consumed.length>0?{...le,...H.consumed[H.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Oe,positionalParamSegments:H.posParams??{}}}function _o(S,k,w,F){return w.length>0&&function tl(S,k,w){return w.some(F=>nl(S,k,F)&&Mr(F)!==zt)}(S,w,F)?{segmentGroup:new Hn(k,Eu(F,new Hn(w,S.children))),slicedSegments:[]}:0===w.length&&function jh(S,k,w){return w.some(F=>nl(S,k,F))}(S,w,F)?{segmentGroup:new Hn(S.segments,el(S,0,w,F,S.children)),slicedSegments:w}:{segmentGroup:new Hn(S.segments,S.children),slicedSegments:w}}function el(S,k,w,F,H){const le={};for(const Oe of F)if(nl(S,w,Oe)&&!H[Mr(Oe)]){const wt=new Hn([],{});le[Mr(Oe)]=wt}return{...H,...le}}function Eu(S,k){const w={};w[zt]=k;for(const F of S)if(""===F.path&&Mr(F)!==zt){const H=new Hn([],{});w[Mr(F)]=H}return w}function nl(S,k,w){return(!(S.hasChildren()||k.length>0)||"full"!==w.pathMatch)&&""===w.path}class Ql{constructor(k,w,F,H,le,Oe,wt){this.injector=k,this.configLoader=w,this.rootComponentType=F,this.config=H,this.urlTree=le,this.paramsInheritanceStrategy=Oe,this.urlSerializer=wt,this.allowRedirects=!0,this.applyRedirects=new vu(this.urlSerializer,this.urlTree)}noMatchError(k){return new s.wOt(4002,!1)}recognize(){const k=_o(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,zt).pipe((0,ye.W)(w=>{if(w instanceof sa)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof ho?this.noMatchError(w):w}),(0,Ot.T)(w=>{const F=new Fi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,{}),H=new Ts(F,w),le=new Gs("",H),Oe=function sr(S,k,w=null,F=null){return Dt(Ns(S),k,w,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Oe.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(Oe),this.inheritParamsAndData(le._root),{state:le,tree:Oe}}))}match(k){return this.processSegmentGroup(this.injector,this.config,k.root,zt).pipe((0,ye.W)(F=>{throw F instanceof ho?this.noMatchError(F):F}))}inheritParamsAndData(k){const w=k.value,F=Qi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(F.params),w.data=Object.freeze(F.data),k.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(k,w,F,H){return 0===F.segments.length&&F.hasChildren()?this.processChildren(k,w,F):this.processSegment(k,w,F,F.segments,H,!0)}processChildren(k,w,F){const H=[];for(const le of Object.keys(F.children))"primary"===le?H.unshift(le):H.push(le);return(0,me.H)(H).pipe((0,xe.H)(le=>{const Oe=F.children[le],wt=function Bo(S,k){const w=S.filter(F=>Mr(F)===k);return w.push(...S.filter(F=>Mr(F)!==k)),w}(w,le);return this.processSegmentGroup(k,wt,Oe,le)}),(0,Fe.S)((le,Oe)=>(le.push(...Oe),le)),(0,ot.U)(null),function bn(S,k){const w=arguments.length>=2;return F=>F.pipe(S?(0,Ve.p)((H,le)=>S(H,le,F)):Me.D,We(1),w?(0,ot.U)(k):(0,Ft.v)(()=>new Tt.G))}(),(0,st.Z)(le=>{if(null===le)return Cs(F);const Oe=Va(le);return function La(S){S.sort((k,w)=>k.value.outlet===zt?-1:w.value.outlet===zt?1:k.value.outlet.localeCompare(w.value.outlet))}(Oe),(0,Te.of)(Oe)}))}processSegment(k,w,F,H,le,Oe){return(0,me.H)(w).pipe((0,xe.H)(wt=>this.processSegmentAgainstRoute(wt._injector??k,w,wt,F,H,le,Oe).pipe((0,ye.W)(yt=>{if(yt instanceof ho)return(0,Te.of)(null);throw yt}))),(0,it.$)(wt=>!!wt),(0,ye.W)(wt=>{if(Is(wt))return function Il(S,k,w){return 0===k.length&&!S.children[w]}(F,H,le)?(0,Te.of)([]):Cs(F);throw wt}))}processSegmentAgainstRoute(k,w,F,H,le,Oe,wt){return function bu(S,k,w,F){return!!(Mr(S)===F||F!==zt&&nl(k,w,S))&&("**"===S.path||mo(k,S,w).matched)}(F,H,le,Oe)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(k,H,F,le,Oe,wt):wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,H,w,F,le,Oe):Cs(H):Cs(H)}expandSegmentAgainstRouteUsingRedirect(k,w,F,H,le,Oe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,F,H,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(k,w,F,H,le,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,w,F,H){const le=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?ma(le):this.applyRedirects.lineralizeSegments(F,le).pipe((0,st.Z)(Oe=>{const wt=new Hn(Oe,{});return this.processSegment(k,w,wt,Oe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,w,F,H,le,Oe){const{matched:wt,consumedSegments:yt,remainingSegments:yn,positionalParamSegments:_r}=mo(w,H,le);if(!wt)return Cs(w);const rr=this.applyRedirects.applyRedirectCommands(yt,H.redirectTo,_r);return H.redirectTo.startsWith("/")?ma(rr):this.applyRedirects.lineralizeSegments(H,rr).pipe((0,st.Z)(Or=>this.processSegment(k,F,w,Or.concat(yn),Oe,!1)))}matchSegmentAgainstRoute(k,w,F,H,le,Oe){let wt;if("**"===F.path){const yt=H.length>0?Gn(H).parameters:{},yn=new Fi(H,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,il(F),Mr(F),F.component??F._loadedComponent??null,F,M(F));wt=(0,Te.of)({snapshot:yn,consumedSegments:[],remainingSegments:[]}),w.children={}}else wt=Tl(w,F,H,k).pipe((0,Ot.T)(({matched:yt,consumedSegments:yn,remainingSegments:_r,parameters:rr})=>yt?{snapshot:new Fi(yn,rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,il(F),Mr(F),F.component??F._loadedComponent??null,F,M(F)),consumedSegments:yn,remainingSegments:_r}:null));return wt.pipe((0,Vt.n)(yt=>null===yt?Cs(w):this.getChildConfig(k=F._injector??k,F,H).pipe((0,Vt.n)(({routes:yn})=>{const _r=F._loadedInjector??k,{snapshot:rr,consumedSegments:Or,remainingSegments:pi}=yt,{segmentGroup:hl,slicedSegments:wl}=_o(w,Or,pi,yn);if(0===wl.length&&hl.hasChildren())return this.processChildren(_r,yn,hl).pipe((0,Ot.T)(Wo=>null===Wo?null:[new Ts(rr,Wo)]));if(0===yn.length&&0===wl.length)return(0,Te.of)([new Ts(rr,[])]);const Ea=Mr(F)===le;return this.processSegment(_r,yn,hl,wl,Ea?zt:le,!0).pipe((0,Ot.T)(Wo=>[new Ts(rr,Wo)]))}))))}getChildConfig(k,w,F){return w.children?(0,Te.of)({routes:w.children,injector:k}):w.loadChildren?void 0!==w._loadedRoutes?(0,Te.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function ia(S,k,w,F){const H=k.canLoad;if(void 0===H||0===H.length)return(0,Te.of)(!0);const le=H.map(Oe=>{const wt=Fs(Oe,S);return Tn(function K(S){return S&&Po(S.canLoad)}(wt)?wt.canLoad(k,w):S.runInContext(()=>wt(k,w)))});return(0,Te.of)(le).pipe(Zi(),ms())}(k,w,F).pipe((0,st.Z)(H=>H?this.configLoader.loadChildren(k,w).pipe((0,Z.M)(le=>{w._loadedRoutes=le.routes,w._loadedInjector=le.injector})):function bl(S){return(0,Ke.$)(fn(!1,3))}())):(0,Te.of)({routes:[],injector:k})}}function rl(S){const k=S.value.routeConfig;return k&&""===k.path}function Va(S){const k=[],w=new Set;for(const F of S){if(!rl(F)){k.push(F);continue}const H=k.find(le=>F.value.routeConfig===le.value.routeConfig);void 0!==H?(H.children.push(...F.children),w.add(H)):k.push(F)}for(const F of w){const H=Va(F.children);k.push(new Ts(F.value,H))}return k.filter(F=>!w.has(F))}function il(S){return S.data||{}}function M(S){return S.resolve||{}}function Ln(S){return"string"==typeof S.title||null===S.title}function Kr(S){return(0,Vt.n)(k=>{const w=S(k);return w?(0,me.H)(w).pipe((0,Ot.T)(()=>k)):(0,Te.of)(k)})}const si=new s.nKC("ROUTES");let Zr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.WQX)(s.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Te.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const F=Tn(w.loadComponent()).pipe((0,Ot.T)(Ai),(0,Z.M)(le=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=le}),(0,rn.j)(()=>{this.componentLoaders.delete(w)})),H=new Ze(F,()=>new Xt.B).pipe(Ie());return this.componentLoaders.set(w,H),H}loadChildren(w,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Te.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const le=function mr(S,k,w,F){return Tn(S.loadChildren()).pipe((0,Ot.T)(Ai),(0,st.Z)(H=>H instanceof s.Co$||Array.isArray(H)?(0,Te.of)(H):(0,me.H)(k.compileModuleAsync(H))),(0,Ot.T)(H=>{F&&F(S);let le,Oe,wt=!1;return Array.isArray(H)?(Oe=H,!0):(le=H.create(w).injector,Oe=le.get(si,[],{optional:!0,self:!0}).flat()),{routes:Oe.map(wi),injector:le}}))}(F,this.compiler,w,this.onLoadEndListener).pipe((0,rn.j)(()=>{this.childrenLoaders.delete(F)})),Oe=new Ze(le,()=>new Xt.B).pipe(Ie());return this.childrenLoaders.set(F,Oe),Oe}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Ai(S){return function ci(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Di=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xt.B,this.transitionAbortSubject=new Xt.B,this.configLoader=(0,s.WQX)(Zr),this.environmentInjector=(0,s.WQX)(s.uvJ),this.urlSerializer=(0,s.WQX)(ke),this.rootContexts=(0,s.WQX)(Gr),this.inputBindingEnabled=null!==(0,s.WQX)(ee,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Xs(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new pa(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:F})}setupNavigations(w,F,H){return this.transitions=new be.t({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:w.urlHandlingStrategy.extract(F),urlAfterRedirects:w.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:as,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.p)(le=>0!==le.id),(0,Ot.T)(le=>({...le,extractedUrl:w.urlHandlingStrategy.extract(le.rawUrl)})),(0,Vt.n)(le=>{this.currentTransition=le;let Oe=!1,wt=!1;return(0,Te.of)(le).pipe((0,Z.M)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Vt.n)(yt=>{const yn=yt.currentBrowserUrl.toString(),_r=!w.navigated||yt.extractedUrl.toString()!==yn||yn!==yt.currentUrlTree.toString();if(!_r&&"reload"!==(yt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Or="";return this.events.next(new wr(yt.id,this.urlSerializer.serialize(yt.rawUrl),Or,0)),yt.resolve(null),ct.w}if(w.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,Te.of)(yt).pipe((0,Vt.n)(Or=>{const pi=this.transitions?.getValue();return this.events.next(new Yr(Or.id,this.urlSerializer.serialize(Or.extractedUrl),Or.source,Or.restoredState)),pi!==this.transitions?.getValue()?ct.w:Promise.resolve(Or)}),function ie(S,k,w,F,H,le){return(0,st.Z)(Oe=>function Ho(S,k,w,F,H,le,Oe="emptyOnly"){return new Ql(S,k,w,F,H,Oe,le).recognize()}(S,k,w,F,Oe.extractedUrl,H,le).pipe((0,Ot.T)(({state:wt,tree:yt})=>({...Oe,targetSnapshot:wt,urlAfterRedirects:yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Z.M)(Or=>{le.targetSnapshot=Or.targetSnapshot,le.urlAfterRedirects=Or.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Or.urlAfterRedirects};const pi=new So(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(pi)}));if(_r&&w.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:Or,extractedUrl:pi,source:hl,restoredState:wl,extras:Ea}=yt,Wo=new Yr(Or,this.urlSerializer.serialize(pi),hl,wl);this.events.next(Wo);const Ba=gn(0,this.rootComponentType).snapshot;return this.currentTransition=le={...yt,targetSnapshot:Ba,urlAfterRedirects:pi,extras:{...Ea,skipLocationChange:!1,replaceUrl:!1}},(0,Te.of)(le)}{const Or="";return this.events.next(new wr(yt.id,this.urlSerializer.serialize(yt.extractedUrl),Or,1)),yt.resolve(null),ct.w}}),(0,Z.M)(yt=>{const yn=new fi(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(yn)}),(0,Ot.T)(yt=>(this.currentTransition=le={...yt,guards:Yl(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},le)),function uo(S,k){return(0,st.Z)(w=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:le,canDeactivateChecks:Oe}}=w;return 0===Oe.length&&0===le.length?(0,Te.of)({...w,guardsResult:!0}):function Ps(S,k,w,F){return(0,me.H)(S).pipe((0,st.Z)(H=>function Wi(S,k,w,F,H){const le=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,Te.of)(!0);const Oe=le.map(wt=>{const yt=ds(k)??H,yn=Fs(wt,yt);return Tn(function ue(S){return S&&Po(S.canDeactivate)}(yn)?yn.canDeactivate(S,k,w,F):yt.runInContext(()=>yn(S,k,w,F))).pipe((0,it.$)())});return(0,Te.of)(Oe).pipe(Zi())}(H.component,H.route,w,k,F)),(0,it.$)(H=>!0!==H,!0))}(Oe,F,H,S).pipe((0,st.Z)(wt=>wt&&function $o(S){return"boolean"==typeof S}(wt)?function es(S,k,w,F){return(0,me.H)(k).pipe((0,xe.H)(H=>(0,Bt.x)(function Xl(S,k){return null!==S&&k&&k(new ni(S)),(0,Te.of)(!0)}(H.route.parent,F),function Go(S,k){return null!==S&&k&&k(new mi(S)),(0,Te.of)(!0)}(H.route,F),function ga(S,k,w){const F=k[k.length-1],le=k.slice(0,k.length-1).reverse().map(Oe=>function hs(S){const k=S.routeConfig?S.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:S,guards:k}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>Ae(()=>{const wt=Oe.guards.map(yt=>{const yn=ds(Oe.node)??w,_r=Fs(yt,yn);return Tn(function j(S){return S&&Po(S.canActivateChild)}(_r)?_r.canActivateChild(F,S):yn.runInContext(()=>_r(F,S))).pipe((0,it.$)())});return(0,Te.of)(wt).pipe(Zi())}));return(0,Te.of)(le).pipe(Zi())}(S,H.path,w),function xs(S,k,w){const F=k.routeConfig?k.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Te.of)(!0);const H=F.map(le=>Ae(()=>{const Oe=ds(k)??w,wt=Fs(le,Oe);return Tn(function te(S){return S&&Po(S.canActivate)}(wt)?wt.canActivate(k,S):Oe.runInContext(()=>wt(k,S))).pipe((0,it.$)())}));return(0,Te.of)(H).pipe(Zi())}(S,H.route,w))),(0,it.$)(H=>!0!==H,!0))}(F,le,S,k):(0,Te.of)(wt)),(0,Ot.T)(wt=>({...w,guardsResult:wt})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,Z.M)(yt=>{if(le.guardsResult=yt.guardsResult,gi(yt.guardsResult))throw In(0,yt.guardsResult);const yn=new Oa(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(yn)}),(0,Ve.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),Kr(yt=>{if(yt.guards.canActivateChecks.length)return(0,Te.of)(yt).pipe((0,Z.M)(yn=>{const _r=new Qa(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(_r)}),(0,Vt.n)(yn=>{let _r=!1;return(0,Te.of)(yn).pipe(function $(S,k){return(0,st.Z)(w=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,Te.of)(w);let le=0;return(0,me.H)(H).pipe((0,xe.H)(Oe=>function X(S,k,w,F){const H=S.routeConfig,le=S._resolve;return void 0!==H?.title&&!Ln(H)&&(le[Ut]=H.title),function Ne(S,k,w,F){const H=function It(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===H.length)return(0,Te.of)({});const le={};return(0,me.H)(H).pipe((0,st.Z)(Oe=>function kt(S,k,w,F){const H=ds(k)??F,le=Fs(S,H);return Tn(le.resolve?le.resolve(k,w):H.runInContext(()=>le(k,w)))}(S[Oe],k,w,F).pipe((0,it.$)(),(0,Z.M)(wt=>{le[Oe]=wt}))),We(1),function tr(S){return(0,Ot.T)(()=>S)}(le),(0,ye.W)(Oe=>Is(Oe)?ct.w:(0,Ke.$)(Oe)))}(le,S,k,F).pipe((0,Ot.T)(Oe=>(S._resolvedData=Oe,S.data=Qi(S,w).resolve,H&&Ln(H)&&(S.data[Ut]=H.title),null)))}(Oe.route,F,S,k)),(0,Z.M)(()=>le++),We(1),(0,st.Z)(Oe=>le===H.length?(0,Te.of)(w):ct.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Z.M)({next:()=>_r=!0,complete:()=>{_r||this.cancelNavigationTransition(yn,"",2)}}))}),(0,Z.M)(yn=>{const _r=new Pi(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(_r)}))}),Kr(yt=>{const yn=_r=>{const rr=[];_r.routeConfig?.loadComponent&&!_r.routeConfig._loadedComponent&&rr.push(this.configLoader.loadComponent(_r.routeConfig).pipe((0,Z.M)(Or=>{_r.component=Or}),(0,Ot.T)(()=>{})));for(const Or of _r.children)rr.push(...yn(Or));return rr};return ve(yn(yt.targetSnapshot.root)).pipe((0,ot.U)(),(0,Kt.s)(1))}),Kr(()=>this.afterPreactivation()),(0,Ot.T)(yt=>{const yn=function Se(S,k,w){const F=Le(S,k._root,w?w._root:void 0);return new Wr(F,k)}(w.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=le={...yt,targetRouterState:yn},le}),(0,Z.M)(()=>{this.events.next(new Yn)}),((S,k,w,F)=>(0,Ot.T)(H=>(new na(k,H.targetRouterState,H.currentRouterState,w,F).activate(S),H)))(this.rootContexts,w.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,Kt.s)(1),(0,Z.M)({next:yt=>{Oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),w.titleStrategy?.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{Oe=!0}}),function Qt(S){return(0,ut.N)((k,w)=>{(0,Ge.Tg)(S).subscribe((0,Re._)(w,()=>w.complete(),Fn.l)),!w.closed&&k.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Z.M)(yt=>{throw yt}))),(0,rn.j)(()=>{Oe||wt||this.cancelNavigationTransition(le,"",1),this.currentNavigation?.id===le.id&&(this.currentNavigation=null)}),(0,ye.W)(yt=>{if(wt=!0,Ar(yt))this.events.next(new Mi(le.id,this.urlSerializer.serialize(le.extractedUrl),yt.message,yt.cancellationCode)),function qn(S){return Ar(S)&&gi(S.url)}(yt)?this.events.next(new Xr(yt.url)):le.resolve(!1);else{this.events.next(new co(le.id,this.urlSerializer.serialize(le.extractedUrl),yt,le.targetSnapshot??void 0));try{le.resolve(w.errorHandler(yt))}catch(yn){le.reject(yn)}}return ct.w}))}))}cancelNavigationTransition(w,F,H){const le=new Mi(w.id,this.urlSerializer.serialize(w.extractedUrl),F,H);this.events.next(le),w.resolve(!1)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function fs(S){return S!==as}let Gi=(()=>{class S{buildTitle(w){let F,H=w.root;for(;void 0!==H;)F=this.getResolvedTitleForRoute(H)??F,H=H.children.find(le=>le.outlet===zt);return F}getResolvedTitleForRoute(w){return w.data[Ut]}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:function(){return(0,s.WQX)(so)},providedIn:"root"})}}return S})(),so=(()=>{class S extends Gi{constructor(w){super(),this.title=w}updateTitle(w){const F=this.buildTitle(w);void 0!==F&&this.title.setTitle(F)}static{this.\u0275fac=function(F){return new(F||S)(s.KVO(xn.hE))}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Ki=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:function(){return(0,s.WQX)(ts)},providedIn:"root"})}}return S})();class xo{shouldDetach(k){return!1}store(k,w){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,w){return k.routeConfig===w.routeConfig}}let ts=(()=>{class S extends xo{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=s.xGo(S)))(H||S)}}()}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const eo=new s.nKC("",{providedIn:"root",factory:()=>({})});let Ad=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:function(){return(0,s.WQX)(br)},providedIn:"root"})}}return S})(),br=(()=>{class S{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,F){return w}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var Rr=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Rr||{});function Hs(S,k){S.events.pipe((0,Ve.p)(w=>w instanceof Bi||w instanceof Mi||w instanceof co||w instanceof wr),(0,Ot.T)(w=>w instanceof Bi||w instanceof wr?Rr.COMPLETE:w instanceof Mi&&(0===w.code||1===w.code)?Rr.REDIRECTING:Rr.FAILED),(0,Ve.p)(w=>w!==Rr.REDIRECTING),(0,Kt.s)(1)).subscribe(()=>{k()})}function Ui(S){throw S}function to(S,k,w){return k.parse("/")}const Tu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.WQX)(s.H3F),this.isNgZoneEnabled=!1,this._events=new Xt.B,this.options=(0,s.WQX)(eo,{optional:!0})||{},this.pendingTasks=(0,s.WQX)(s.$K3),this.errorHandler=this.options.errorHandler||Ui,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||to,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.WQX)(Ad),this.routeReuseStrategy=(0,s.WQX)(Ki),this.titleStrategy=(0,s.WQX)(Gi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.WQX)(si,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.WQX)(Di),this.urlSerializer=(0,s.WQX)(ke),this.location=(0,s.WQX)(On.aZ),this.componentInputBindingEnabled=!!(0,s.WQX)(ee,{optional:!0}),this.eventsSubscription=new xt.yU,this.isNgZoneEnabled=(0,s.WQX)(s.SKi)instanceof s.SKi&&s.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Tr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Iu(F)&&this._events.next(F));if(F instanceof Yr)fs(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(F instanceof wr)this.rawUrlTree=H.rawUrl;else if(F instanceof So){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const le=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(le,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(F instanceof Yn)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(F instanceof Mi)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(H);else if(F instanceof Xr){const le=this.urlHandlingStrategy.merge(F.url,H.currentRawUrl),Oe={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fs(H.source)};this.scheduleNavigation(le,as,null,Oe,{resolve:H.resolve,reject:H.reject,promise:H.promise})}F instanceof co&&this.restoreHistory(H,!0),F instanceof Bi&&(this.navigated=!0),Iu(F)&&this._events.next(F)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),as,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const F="popstate"===w.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,F,w.state)},0)}))}navigateToSyncWithBrowser(w,F,H){const le={replaceUrl:!0},Oe=H?.navigationId?H:null;if(H){const yt={...H};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(le.state=yt)}const wt=this.parseUrl(w);this.scheduleNavigation(wt,F,Oe,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,F={}){const{relativeTo:H,queryParams:le,fragment:Oe,queryParamsHandling:wt,preserveFragment:yt}=F,yn=yt?this.currentUrlTree.fragment:Oe;let rr,_r=null;switch(wt){case"merge":_r={...this.currentUrlTree.queryParams,...le};break;case"preserve":_r=this.currentUrlTree.queryParams;break;default:_r=le||null}null!==_r&&(_r=this.removeEmptyProps(_r));try{rr=Ns(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),rr=this.currentUrlTree.root}return Dt(rr,w,_r,yn??null)}navigateByUrl(w,F={skipLocationChange:!1}){const H=gi(w)?w:this.parseUrl(w),le=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(le,as,null,F)}navigate(w,F={skipLocationChange:!1}){return function Bh(S){for(let k=0;k<S.length;k++)if(null==S[k])throw new s.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,F),F)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let F;try{F=this.urlSerializer.parse(w)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return F}isActive(w,F){let H;if(H=!0===F?{...Tu}:!1===F?{...sl}:F,gi(w))return Hr(this.currentUrlTree,w,H);const le=this.parseUrl(w);return Hr(this.currentUrlTree,le,H)}removeEmptyProps(w){return Object.keys(w).reduce((F,H)=>{const le=w[H];return null!=le&&(F[H]=le),F},{})}scheduleNavigation(w,F,H,le,Oe){if(this.disposed)return Promise.resolve(!1);let wt,yt,yn;Oe?(wt=Oe.resolve,yt=Oe.reject,yn=Oe.promise):yn=new Promise((rr,Or)=>{wt=rr,yt=Or});const _r=this.pendingTasks.add();return Hs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_r))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:le,resolve:wt,reject:yt,promise:yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yn.catch(rr=>Promise.reject(rr))}setBrowserUrl(w,F){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl){const Oe={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(H,"",Oe)}else{const le={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(H,"",le)}}restoreHistory(w,F=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-this.browserPageId;0!==le?this.location.historyGo(le):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===le&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,F){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:F}:{navigationId:w}}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Iu(S){return!(S instanceof Yn||S instanceof Xr)}let Mo=(()=>{class S{constructor(w,F,H,le,Oe,wt){this.router=w,this.route=F,this.tabIndexAttribute=H,this.renderer=le,this.el=Oe,this.locationStrategy=wt,this.href=null,this.commands=null,this.onChanges=new Xt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const yt=Oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=w.events.subscribe(yn=>{yn instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,F,H,le,Oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||F||H||le||Oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,F){const H=this.renderer,le=this.el.nativeElement;null!==F?H.setAttribute(le,w,F):H.removeAttribute(le,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(F){return new(F||S)(s.rXU(Hi),s.rXU(ur),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(On.hb))}}static{this.\u0275dir=s.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,H){1&F&&s.bIt("click",function(Oe){return H.onClick(Oe.button,Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey)}),2&F&&s.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.L39],skipLocationChange:["skipLocationChange","skipLocationChange",s.L39],replaceUrl:["replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},standalone:!0,features:[s.GFd,s.OA$]})}}return S})(),ws=(()=>{class S{get isActive(){return this._isActive}constructor(w,F,H,le,Oe){this.router=w,this.element=F,this.renderer=H,this.cdr=le,this.link=Oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.bkB,this.routerEventsSubscription=w.events.subscribe(wt=>{wt instanceof Bi&&this.update()})}ngAfterContentInit(){(0,Te.of)(this.links.changes,(0,Te.of)(null)).pipe((0,Bn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,me.H)(w).pipe((0,Bn.U)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(w){const F=Array.isArray(w)?w:w.split(" ");this.classes=F.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(F=>{w?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const F=function _a(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,F)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(F){return new(F||S)(s.rXU(Hi),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(Mo,8))}}static{this.\u0275dir=s.FsC({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(F,H,le){if(1&F&&s.wni(le,Mo,5),2&F){let Oe;s.mGM(Oe=s.lsd())&&(H.links=Oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.OA$]})}}return S})();class Jl{}let Dd=(()=>{class S{constructor(w,F,H,le,Oe){this.router=w,this.injector=H,this.preloadingStrategy=le,this.loader=Oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.p)(w=>w instanceof Bi),(0,xe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,F){const H=[];for(const le of F){le.providers&&!le._injector&&(le._injector=(0,s.Ol2)(le.providers,w,`Route: ${le.path}`));const Oe=le._injector??w,wt=le._loadedInjector??Oe;(le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent)&&H.push(this.preloadConfig(Oe,le)),(le.children||le._loadedRoutes)&&H.push(this.processRoutes(wt,le.children??le._loadedRoutes))}return(0,me.H)(H).pipe((0,Bn.U)())}preloadConfig(w,F){return this.preloadingStrategy.preload(F,()=>{let H;H=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(w,F):(0,Te.of)(null);const le=H.pipe((0,st.Z)(Oe=>null===Oe?(0,Te.of)(void 0):(F._loadedRoutes=Oe.routes,F._loadedInjector=Oe.injector,this.processRoutes(Oe.injector??w,Oe.routes))));if(F.loadComponent&&!F._loadedComponent){const Oe=this.loader.loadComponent(F);return(0,me.H)([le,Oe]).pipe((0,Bn.U)())}return le})}static{this.\u0275fac=function(F){return new(F||S)(s.KVO(Hi),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO(Jl),s.KVO(Zr))}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Au=new s.nKC("");let or=(()=>{class S{constructor(w,F,H,le,Oe={}){this.urlSerializer=w,this.transitions=F,this.viewportScroller=H,this.zone=le,this.options=Oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Oe.scrollPositionRestoration=Oe.scrollPositionRestoration||"disabled",Oe.anchorScrolling=Oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Bi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof wr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof xi&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xi(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(F){s.QTQ()}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac})}}return S})();function zo(S,k){return{\u0275kind:S,\u0275providers:k}}function Du(){const S=(0,s.WQX)(s.zZn);return k=>{const w=S.get(s.o8S);if(k!==w.components[0])return;const F=S.get(Hi),H=S.get(ec);1===S.get(Si)&&F.initialNavigation(),S.get(Cr,null,s.$GK.Optional)?.setUpPreloading(),S.get(Au,null,s.$GK.Optional)?.init(),F.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const ec=new s.nKC("",{factory:()=>new Xt.B}),Si=new s.nKC("",{providedIn:"root",factory:()=>1}),Cr=new s.nKC("");function $n(S){return zo(0,[{provide:Cr,useExisting:Dd},{provide:Jl,useExisting:S}])}const tc=new s.nKC("ROUTER_FORROOT_GUARD"),Ru=[On.aZ,{provide:ke,useClass:At},Hi,Gr,{provide:ur,useFactory:function Nc(S){return S.routerState.root},deps:[Hi]},Zr,[]];function Rd(){return new s.NEm("Router",Hi)}let al=(()=>{class S{constructor(w){}static forRoot(w,F){return{ngModule:S,providers:[Ru,[],{provide:si,multi:!0,useValue:w},{provide:tc,useFactory:ja,deps:[[Hi,new s.Xx1,new s.kdw]]},{provide:eo,useValue:F||{}},F?.useHash?{provide:On.hb,useClass:On.fw}:{provide:On.hb,useClass:On.Sm},{provide:Au,useFactory:()=>{const S=(0,s.WQX)(On.Xr),k=(0,s.WQX)(s.SKi),w=(0,s.WQX)(eo),F=(0,s.WQX)(Di),H=(0,s.WQX)(ke);return w.scrollOffset&&S.setOffset(w.scrollOffset),new or(H,F,S,k,w)}},F?.preloadingStrategy?$n(F.preloadingStrategy).\u0275providers:[],{provide:s.NEm,multi:!0,useFactory:Rd},F?.initialNavigation?cl(F):[],F?.bindToComponentInputs?zo(8,[J,{provide:ee,useExisting:J}]).\u0275providers:[],[{provide:po,useFactory:Du},{provide:s.iLQ,multi:!0,useExisting:po}]]}}static forChild(w){return{ngModule:S,providers:[{provide:si,multi:!0,useValue:w}]}}static{this.\u0275fac=function(F){return new(F||S)(s.KVO(tc,8))}}static{this.\u0275mod=s.$C({type:S})}static{this.\u0275inj=s.G2t({})}}return S})();function ja(S){return"guarded"}function cl(S){return["disabled"===S.initialNavigation?zo(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const k=(0,s.WQX)(Hi);return()=>{k.setUpLocationChangeListener()}}},{provide:Si,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?zo(2,[{provide:Si,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:k=>{const w=k.get(On.hj,Promise.resolve());return()=>w.then(()=>new Promise(F=>{const H=k.get(Hi),le=k.get(ec);Hs(H,()=>{F(!0)}),k.get(Di).afterPreactivation=()=>(F(!0),le.closed?(0,Te.of)(void 0):le),H.initialNavigation()}))}}]).\u0275providers:[]]}const po=new s.nKC("")},3345:(tn,Xe,V)=>{V.d(Xe,{A:()=>ve});var s=V(1076),ce=V(1362),r=V(7852),Ee=V(8041);class me{constructor(we,Tt){this._delegate=we,this.firebase=Tt,(0,r._addComponent)(we,new ce.uA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,r.deleteApp)(this._delegate)))}_getService(we,Tt=r._DEFAULT_ENTRY_NAME){var Bt;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(we);return!Ge.isInitialized()&&"EXPLICIT"===(null===(Bt=Ge.getComponent())||void 0===Bt?void 0:Bt.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Tt})}_removeServiceInstance(we,Tt=r._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Tt)}_addComponent(we){(0,r._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,r._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new s.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function Me(){const Ye=function Pe(Ye){const we={},Tt={__esModule:!0,initializeApp:function Ae(xt,ut={}){const Ie=r.initializeApp(xt,ut);if((0,s.gR)(we,Ie.name))return we[Ie.name];const Ze=new Ye(Ie,Tt);return we[Ie.name]=Ze,Ze},app:Ge,registerVersion:r.registerVersion,setLogLevel:r.setLogLevel,onLog:r.onLog,apps:null,SDK_VERSION:r.SDK_VERSION,INTERNAL:{registerComponent:function Ke(xt){const ut=xt.name,Ie=ut.replace("-compat","");if(r._registerComponent(xt)&&"PUBLIC"===xt.type){const Ze=(Xt=Ge())=>{if("function"!=typeof Xt[Ie])throw be.create("invalid-app-argument",{appName:ut});return Xt[Ie]()};void 0!==xt.serviceProps&&(0,s.zw)(Ze,xt.serviceProps),Tt[Ie]=Ze,Ye.prototype[Ie]=function(...Xt){return this._getService.bind(this,ut).apply(this,xt.multipleInstances?Xt:[])}}return"PUBLIC"===xt.type?Tt[Ie]:null},removeApp:function Bt(xt){delete we[xt]},useAsService:function ct(xt,ut){return"serverAuth"===ut?null:ut},modularAPIs:r}};function Ge(xt){if(!(0,s.gR)(we,xt=xt||r._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:xt});return we[xt]}return Tt.default=Tt,Object.defineProperty(Tt,"apps",{get:function tt(){return Object.keys(we).map(xt=>we[xt])}}),Ge.App=Ye,Tt}(me);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function we(Tt){(0,s.zw)(Ye,Tt)},createSubscribe:s.tD,ErrorFactory:s.FA,deepExtend:s.zw}),Ye}(),ne=new Ee.Vy("@firebase/app-compat");try{const Ye=(0,s.mS)();if(void 0!==Ye.firebase){ne.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const we=Ye.firebase.SDK_VERSION;we&&we.indexOf("LITE")>=0&&ne.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ve=W;!function je(Ye){(0,r.registerVersion)("@firebase/app-compat","0.2.43",Ye)}()},7852:(tn,Xe,V)=>{V.r(Xe),V.d(Xe,{FirebaseError:()=>Ee.g,SDK_VERSION:()=>At,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>hi,_addOrOverwriteComponent:()=>ys,_apps:()=>Dr,_clearComponents:()=>Ri,_components:()=>zn,_getProvider:()=>ti,_isFirebaseApp:()=>Tr,_isFirebaseServerApp:()=>Hn,_registerComponent:()=>dn,_removeServiceInstance:()=>Jn,_serverApps:()=>Hr,deleteApp:()=>Qe,getApp:()=>Vr,getApps:()=>Ir,initializeApp:()=>qt,initializeServerApp:()=>Vn,onLog:()=>A,registerVersion:()=>x,setLogLevel:()=>O});var s=V(467),ce=V(1362),r=V(8041),Ee=V(1076);const me=(Dt,lt)=>lt.some(Mt=>Dt instanceof Mt);let Te,be;const W=new WeakMap,ne=new WeakMap,he=new WeakMap,Re=new WeakMap,je=new WeakMap;let we={get(Dt,lt,Mt){if(Dt instanceof IDBTransaction){if("done"===lt)return ne.get(Dt);if("objectStoreNames"===lt)return Dt.objectStoreNames||he.get(Dt);if("store"===lt)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return Ae(Dt[lt])},set:(Dt,lt,Mt)=>(Dt[lt]=Mt,!0),has:(Dt,lt)=>Dt instanceof IDBTransaction&&("done"===lt||"store"===lt)||lt in Dt};function Ge(Dt){return"function"==typeof Dt?function Bt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...lt){return Dt.apply(tt(this),lt),Ae(W.get(this))}:function(...lt){return Ae(Dt.apply(tt(this),lt))}:function(lt,...Mt){const ln=Dt.call(tt(this),lt,...Mt);return he.set(ln,lt.sort?lt.sort():[lt]),Ae(ln)}}(Dt):(Dt instanceof IDBTransaction&&function Ye(Dt){if(ne.has(Dt))return;const lt=new Promise((Mt,ln)=>{const Un=()=>{Dt.removeEventListener("complete",Nn),Dt.removeEventListener("error",hr),Dt.removeEventListener("abort",hr)},Nn=()=>{Mt(),Un()},hr=()=>{ln(Dt.error||new DOMException("AbortError","AbortError")),Un()};Dt.addEventListener("complete",Nn),Dt.addEventListener("error",hr),Dt.addEventListener("abort",hr)});ne.set(Dt,lt)}(Dt),me(Dt,function Pe(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,we):Dt)}function Ae(Dt){if(Dt instanceof IDBRequest)return function ve(Dt){const lt=new Promise((Mt,ln)=>{const Un=()=>{Dt.removeEventListener("success",Nn),Dt.removeEventListener("error",hr)},Nn=()=>{Mt(Ae(Dt.result)),Un()},hr=()=>{ln(Dt.error),Un()};Dt.addEventListener("success",Nn),Dt.addEventListener("error",hr)});return lt.then(Mt=>{Mt instanceof IDBCursor&&W.set(Mt,Dt)}).catch(()=>{}),je.set(lt,Dt),lt}(Dt);if(Re.has(Dt))return Re.get(Dt);const lt=Ge(Dt);return lt!==Dt&&(Re.set(Dt,lt),je.set(lt,Dt)),lt}const tt=Dt=>je.get(Dt),xt=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],Ie=new Map;function Ze(Dt,lt){if(!(Dt instanceof IDBDatabase)||lt in Dt||"string"!=typeof lt)return;if(Ie.get(lt))return Ie.get(lt);const Mt=lt.replace(/FromIndex$/,""),ln=lt!==Mt,Un=ut.includes(Mt);if(!(Mt in(ln?IDBIndex:IDBObjectStore).prototype)||!Un&&!xt.includes(Mt))return;const Nn=function(){var hr=(0,s.A)(function*($r,...qr){const fr=this.transaction($r,Un?"readwrite":"readonly");let Xi=fr.store;return ln&&(Xi=Xi.index(qr.shift())),(yield Promise.all([Xi[Mt](...qr),Un&&fr.done]))[0]});return function(qr){return hr.apply(this,arguments)}}();return Ie.set(lt,Nn),Nn}!function Tt(Dt){we=Dt(we)}(Dt=>({...Dt,get:(lt,Mt,ln)=>Ze(lt,Mt)||Dt.get(lt,Mt,ln),has:(lt,Mt)=>!!Ze(lt,Mt)||Dt.has(lt,Mt)}));class Xt{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function On(Dt){const lt=Dt.getComponent();return"VERSION"===lt?.type}(Mt)){const ln=Mt.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(Mt=>Mt).join(" ")}}const Ot="@firebase/app",Vt="0.10.13",Kt=new r.Vy("@firebase/app"),Tn="[DEFAULT]",Br={[Ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Dr=new Map,Hr=new Map,zn=new Map;function hi(Dt,lt){try{Dt.container.addComponent(lt)}catch(Mt){Kt.debug(`Component ${lt.name} failed to register with FirebaseApp ${Dt.name}`,Mt)}}function ys(Dt,lt){Dt.container.addOrOverwriteComponent(lt)}function dn(Dt){const lt=Dt.name;if(zn.has(lt))return Kt.debug(`There were multiple attempts to register component ${lt}.`),!1;zn.set(lt,Dt);for(const Mt of Dr.values())hi(Mt,Dt);for(const Mt of Hr.values())hi(Mt,Dt);return!0}function ti(Dt,lt){const Mt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),Dt.container.getProvider(lt)}function Jn(Dt,lt,Mt=Tn){ti(Dt,lt).clearInstance(Mt)}function Tr(Dt){return void 0!==Dt.options}function Hn(Dt){return void 0!==Dt.settings}function Ri(){zn.clear()}const bt=new Ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class de{constructor(lt,Mt,ln){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new ce.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}class ke extends de{constructor(lt,Mt,ln,Un){const Nn=void 0!==Mt.automaticDataCollectionEnabled&&Mt.automaticDataCollectionEnabled,hr={name:ln,automaticDataCollectionEnabled:Nn};super(void 0!==lt.apiKey?lt:lt.options,hr,Un),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Nn},Mt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Mt.releaseOnDeref=void 0,x(Ot,Vt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(lt){this.isDeleted||(this._refCount++,void 0!==lt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(lt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Qe(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw bt.create("server-app-deleted")}}const At="10.14.1";function qt(Dt,lt={}){let Mt=Dt;"object"!=typeof lt&&(lt={name:lt});const ln=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},lt),Un=ln.name;if("string"!=typeof Un||!Un)throw bt.create("bad-app-name",{appName:String(Un)});if(Mt||(Mt=(0,Ee.T9)()),!Mt)throw bt.create("no-options");const Nn=Dr.get(Un);if(Nn){if((0,Ee.bD)(Mt,Nn.options)&&(0,Ee.bD)(ln,Nn.config))return Nn;throw bt.create("duplicate-app",{appName:Un})}const hr=new ce.h1(Un);for(const qr of zn.values())hr.addComponent(qr);const $r=new de(Mt,ln,hr);return Dr.set(Un,$r),$r}function Vn(Dt,lt){if((0,Ee.Bd)()&&!(0,Ee.p7)())throw bt.create("invalid-server-app-environment");let Mt;void 0===lt.automaticDataCollectionEnabled&&(lt.automaticDataCollectionEnabled=!1),Mt=Tr(Dt)?Dt.options:Dt;const ln=Object.assign(Object.assign({},lt),Mt);if(void 0!==ln.releaseOnDeref&&delete ln.releaseOnDeref,void 0!==lt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw bt.create("finalization-registry-not-supported",{});const Nn=""+(fr=JSON.stringify(ln),[...fr].reduce((Xi,ks)=>Math.imul(31,Xi)+ks.charCodeAt(0)|0,0)),hr=Hr.get(Nn);var fr;if(hr)return hr.incRefCount(lt.releaseOnDeref),hr;const $r=new ce.h1(Nn);for(const fr of zn.values())$r.addComponent(fr);const qr=new ke(Mt,lt,Nn,$r);return Hr.set(Nn,qr),qr}function Vr(Dt=Tn){const lt=Dr.get(Dt);if(!lt&&Dt===Tn&&(0,Ee.T9)())return qt();if(!lt)throw bt.create("no-app",{appName:Dt});return lt}function Ir(){return Array.from(Dr.values())}function Qe(Dt){return He.apply(this,arguments)}function He(){return(He=(0,s.A)(function*(Dt){let lt=!1;const Mt=Dt.name;Dr.has(Mt)?(lt=!0,Dr.delete(Mt)):Hr.has(Mt)&&Dt.decRefCount()<=0&&(Hr.delete(Mt),lt=!0),lt&&(yield Promise.all(Dt.container.getProviders().map(ln=>ln.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function x(Dt,lt,Mt){var ln;let Un=null!==(ln=Br[Dt])&&void 0!==ln?ln:Dt;Mt&&(Un+=`-${Mt}`);const Nn=Un.match(/\s|\//),hr=lt.match(/\s|\//);if(Nn||hr){const $r=[`Unable to register library "${Un}" with version "${lt}":`];return Nn&&$r.push(`library name "${Un}" contains illegal characters (whitespace or "/")`),Nn&&hr&&$r.push("and"),hr&&$r.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void Kt.warn($r.join(" "))}dn(new ce.uA(`${Un}-version`,()=>({library:Un,version:lt}),"VERSION"))}function A(Dt,lt){if(null!==Dt&&"function"!=typeof Dt)throw bt.create("invalid-log-argument");(0,r.Ey)(Dt,lt)}function O(Dt){(0,r.He)(Dt)}const re="firebase-heartbeat-database",pe=1,dt="firebase-heartbeat-store";let Pt=null;function on(){return Pt||(Pt=function Ke(Dt,lt,{blocked:Mt,upgrade:ln,blocking:Un,terminated:Nn}={}){const hr=indexedDB.open(Dt,lt),$r=Ae(hr);return ln&&hr.addEventListener("upgradeneeded",qr=>{ln(Ae(hr.result),qr.oldVersion,qr.newVersion,Ae(hr.transaction),qr)}),Mt&&hr.addEventListener("blocked",qr=>Mt(qr.oldVersion,qr.newVersion,qr)),$r.then(qr=>{Nn&&qr.addEventListener("close",()=>Nn()),Un&&qr.addEventListener("versionchange",fr=>Un(fr.oldVersion,fr.newVersion,fr))}).catch(()=>{}),$r}(re,pe,{upgrade:(Dt,lt)=>{if(0===lt)try{Dt.createObjectStore(dt)}catch(Mt){console.warn(Mt)}}}).catch(Dt=>{throw bt.create("idb-open",{originalErrorMessage:Dt.message})})),Pt}function wn(){return(wn=(0,s.A)(function*(Dt){try{const Mt=(yield on()).transaction(dt),ln=yield Mt.objectStore(dt).get(zr(Dt));return yield Mt.done,ln}catch(lt){if(lt instanceof Ee.g)Kt.warn(lt.message);else{const Mt=bt.create("idb-get",{originalErrorMessage:lt?.message});Kt.warn(Mt.message)}}})).apply(this,arguments)}function Er(Dt,lt){return an.apply(this,arguments)}function an(){return(an=(0,s.A)(function*(Dt,lt){try{const ln=(yield on()).transaction(dt,"readwrite");yield ln.objectStore(dt).put(lt,zr(Dt)),yield ln.done}catch(Mt){if(Mt instanceof Ee.g)Kt.warn(Mt.message);else{const ln=bt.create("idb-set",{originalErrorMessage:Mt?.message});Kt.warn(ln.message)}}})).apply(this,arguments)}function zr(Dt){return`${Dt.name}!${Dt.options.appId}`}class Ni{constructor(lt){this.container=lt,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new gi(Mt),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var lt=this;return(0,s.A)(function*(){var Mt,ln;try{const Nn=lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hr=vs();return null==(null===(Mt=lt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)&&(lt._heartbeatsCache=yield lt._heartbeatsCachePromise,null==(null===(ln=lt._heartbeatsCache)||void 0===ln?void 0:ln.heartbeats))||lt._heartbeatsCache.lastSentHeartbeatDate===hr||lt._heartbeatsCache.heartbeats.some($r=>$r.date===hr)?void 0:(lt._heartbeatsCache.heartbeats.push({date:hr,agent:Nn}),lt._heartbeatsCache.heartbeats=lt._heartbeatsCache.heartbeats.filter($r=>{const qr=new Date($r.date).valueOf();return Date.now()-qr<=2592e6}),lt._storage.overwrite(lt._heartbeatsCache))}catch(Un){Kt.warn(Un)}})()}getHeartbeatsHeader(){var lt=this;return(0,s.A)(function*(){var Mt;try{if(null===lt._heartbeatsCache&&(yield lt._heartbeatsCachePromise),null==(null===(Mt=lt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)||0===lt._heartbeatsCache.heartbeats.length)return"";const ln=vs(),{heartbeatsToSend:Un,unsentEntries:Nn}=function Es(Dt,lt=1024){const Mt=[];let ln=Dt.slice();for(const Un of Dt){const Nn=Mt.find(hr=>hr.agent===Un.agent);if(Nn){if(Nn.dates.push(Un.date),sr(Mt)>lt){Nn.dates.pop();break}}else if(Mt.push({agent:Un.agent,dates:[Un.date]}),sr(Mt)>lt){Mt.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:ln}}(lt._heartbeatsCache.heartbeats),hr=(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:Un}));return lt._heartbeatsCache.lastSentHeartbeatDate=ln,Nn.length>0?(lt._heartbeatsCache.heartbeats=Nn,yield lt._storage.overwrite(lt._heartbeatsCache)):(lt._heartbeatsCache.heartbeats=[],lt._storage.overwrite(lt._heartbeatsCache)),hr}catch(ln){return Kt.warn(ln),""}})()}}function vs(){return(new Date).toISOString().substring(0,10)}class gi{constructor(lt){this.app=lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.A)(function*(){return!!(0,Ee.zW)()&&(0,Ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var lt=this;return(0,s.A)(function*(){if(yield lt._canUseIndexedDBPromise){const ln=yield function hn(Dt){return wn.apply(this,arguments)}(lt.app);return ln?.heartbeats?ln:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(lt){var Mt=this;return(0,s.A)(function*(){var ln;if(yield Mt._canUseIndexedDBPromise){const Nn=yield Mt.read();return Er(Mt.app,{lastSentHeartbeatDate:null!==(ln=lt.lastSentHeartbeatDate)&&void 0!==ln?ln:Nn.lastSentHeartbeatDate,heartbeats:lt.heartbeats})}})()}add(lt){var Mt=this;return(0,s.A)(function*(){var ln;if(yield Mt._canUseIndexedDBPromise){const Nn=yield Mt.read();return Er(Mt.app,{lastSentHeartbeatDate:null!==(ln=lt.lastSentHeartbeatDate)&&void 0!==ln?ln:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,...lt.heartbeats]})}})()}}function sr(Dt){return(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Ns(Dt){dn(new ce.uA("platform-logger",lt=>new Xt(lt),"PRIVATE")),dn(new ce.uA("heartbeat",lt=>new Ni(lt),"PRIVATE")),x(Ot,Vt,Dt),x(Ot,Vt,"esm2017"),x("fire-js","")}("")},1362:(tn,Xe,V)=>{V.d(Xe,{h1:()=>Pe,uA:()=>r});var s=V(467),ce=V(1076);class r{constructor(W,ne,he){this.name=W,this.instanceFactory=ne,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Ee="[DEFAULT]";class me{constructor(W,ne){this.name=W,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const ne=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(ne)){const he=new ce.cY;if(this.instancesDeferred.set(ne,he),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:ne});Re&&he.resolve(Re)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(W){var ne;const he=this.normalizeInstanceIdentifier(W?.identifier),Re=null!==(ne=W?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(je){if(Re)return null;throw je}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function be(Me){return"EAGER"===Me.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[ne,he]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(ne);try{const je=this.getOrInitializeService({instanceIdentifier:Re});he.resolve(je)}catch{}}}}clearInstance(W=Ee){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,s.A)(function*(){const ne=Array.from(W.instances.values());yield Promise.all([...ne.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...ne.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=Ee){return this.instances.has(W)}getOptions(W=Ee){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:ne={}}=W,he=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:he,options:ne});for(const[je,ve]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(je)&&ve.resolve(Re);return Re}onInit(W,ne){var he;const Re=this.normalizeInstanceIdentifier(ne),je=null!==(he=this.onInitCallbacks.get(Re))&&void 0!==he?he:new Set;je.add(W),this.onInitCallbacks.set(Re,je);const ve=this.instances.get(Re);return ve&&W(ve,Re),()=>{je.delete(W)}}invokeOnInitCallbacks(W,ne){const he=this.onInitCallbacks.get(ne);if(he)for(const Re of he)try{Re(W,ne)}catch{}}getOrInitializeService({instanceIdentifier:W,options:ne={}}){let he=this.instances.get(W);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=W,Me===Ee?void 0:Me),options:ne}),this.instances.set(W,he),this.instancesOptions.set(W,ne),this.invokeOnInitCallbacks(he,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,he)}catch{}var Me;return he||null}normalizeInstanceIdentifier(W=Ee){return this.component?this.component.multipleInstances?W:Ee:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const ne=this.getProvider(W.name);if(ne.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);ne.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const ne=new me(W,this);return this.providers.set(W,ne),ne}getProviders(){return Array.from(this.providers.values())}}},8041:(tn,Xe,V)=>{V.d(Xe,{$b:()=>ce,Ey:()=>Me,He:()=>Pe,Vy:()=>be});const s=[];var ce=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(ce||{});const r={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},Ee=ce.INFO,me={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},Te=(W,ne,...he)=>{if(ne<W.logLevel)return;const Re=(new Date).toISOString(),je=me[ne];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[je](`[${Re}]  ${W.name}:`,...he)};class be{constructor(ne){this.name=ne,this._logLevel=Ee,this._logHandler=Te,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in ce))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?r[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...ne),this._logHandler(this,ce.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...ne),this._logHandler(this,ce.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...ne),this._logHandler(this,ce.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...ne),this._logHandler(this,ce.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...ne),this._logHandler(this,ce.ERROR,...ne)}}function Pe(W){s.forEach(ne=>{ne.setLogLevel(W)})}function Me(W,ne){for(const he of s){let Re=null;ne&&ne.level&&(Re=r[ne.level]),he.userLogHandler=null===W?null:(je,ve,...Ye)=>{const we=Ye.map(Tt=>{if(null==Tt)return null;if("string"==typeof Tt)return Tt;if("number"==typeof Tt||"boolean"==typeof Tt)return Tt.toString();if(Tt instanceof Error)return Tt.message;try{return JSON.stringify(Tt)}catch{return null}}).filter(Tt=>Tt).join(" ");ve>=(Re??je.logLevel)&&W({level:ce[ve].toLowerCase(),message:we,args:Ye,type:je.name})}}}},2214:(tn,Xe,V)=>{V.d(Xe,{Dk:()=>s.getApps,KO:()=>s.registerVersion,Sx:()=>s.getApp,Wp:()=>s.initializeApp});var s=V(7852);(0,s.registerVersion)("firebase","10.14.1","app")},7935:(tn,Xe,V)=>{V.d(Xe,{A:()=>s.A});var s=V(3345);s.A.registerVersion("firebase","10.14.1","app-compat")},2438:(tn,Xe,V)=>{var s=V(467),ce=V(3345),r=V(5504),Ee=V(1076),be=(V(7852),V(8041),V(1362));function Pe(){return window}function ne(){return ne=(0,s.A)(function*(x,A,O){var re;const{BuildInfo:pe}=Pe();(0,r.au)(A.sessionId,"AuthEvent did not contain a session ID");const dt=yield function Tt(x){return Bt.apply(this,arguments)}(A.sessionId),Pt={};return(0,r.av)()?Pt.ibi=pe.packageName:(0,r.aw)()?Pt.apn=pe.packageName:(0,r.ax)(x,"operation-not-supported-in-this-environment"),pe.displayName&&(Pt.appDisplayName=pe.displayName),Pt.sessionId=dt,(0,r.ay)(x,O,A.type,void 0,null!==(re=A.eventId)&&void 0!==re?re:void 0,Pt)}),ne.apply(this,arguments)}function Re(){return(Re=(0,s.A)(function*(x){const{BuildInfo:A}=Pe(),O={};(0,r.av)()?O.iosBundleId=A.packageName:(0,r.aw)()?O.androidPackageName=A.packageName:(0,r.ax)(x,"operation-not-supported-in-this-environment"),yield(0,r.az)(x,O)})).apply(this,arguments)}function Ye(){return(Ye=(0,s.A)(function*(x,A,O){const{cordova:re}=Pe();let pe=()=>{};try{yield new Promise((dt,Pt)=>{let on=null;function hn(){var an;dt();const zr=null===(an=re.plugins.browsertab)||void 0===an?void 0:an.close;"function"==typeof zr&&zr(),"function"==typeof O?.close&&O.close()}function wn(){on||(on=window.setTimeout(()=>{Pt((0,r.aB)(x,"redirect-cancelled-by-user"))},2e3))}function Er(){"visible"===document?.visibilityState&&wn()}A.addPassiveListener(hn),document.addEventListener("resume",wn,!1),(0,r.aw)()&&document.addEventListener("visibilitychange",Er,!1),pe=()=>{A.removePassiveListener(hn),document.removeEventListener("resume",wn,!1),document.removeEventListener("visibilitychange",Er,!1),on&&window.clearTimeout(on)}})}finally{pe()}})).apply(this,arguments)}function Bt(){return(Bt=(0,s.A)(function*(x){const A=function Ge(x){if((0,r.au)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const A=new ArrayBuffer(x.length),O=new Uint8Array(A);for(let re=0;re<x.length;re++)O[re]=x.charCodeAt(re);return O}(x),O=yield crypto.subtle.digest("SHA-256",A);return Array.from(new Uint8Array(O)).map(pe=>pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tt extends r.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(A=>{this.resolveInitialized=A})}addPassiveListener(A){this.passiveListeners.add(A)}removePassiveListener(A){this.passiveListeners.delete(A)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(A){return this.resolveInitialized(),this.passiveListeners.forEach(O=>O(A)),super.onEvent(A)}initialized(){var A=this;return(0,s.A)(function*(){yield A.initPromise})()}}function xt(x){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.A)(function*(x){const A=yield Xt()._get(On(x));return A&&(yield Xt()._remove(On(x))),A})).apply(this,arguments)}function Ze(){const x=[];for(let O=0;O<20;O++){const re=Math.floor(62*Math.random());x.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(re))}return x.join("")}function Xt(){return(0,r.aE)(r.b)}function On(x){return(0,r.aF)("authEvent",x.config.apiKey,x.name)}function Kt(x){if(!x?.includes("?"))return{};const[A,...O]=x.split("?");return(0,Ee.I9)(O.join("?"))}const st=class Ve{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(A){var O=this;return(0,s.A)(function*(){const re=A._key();let pe=O.eventManagers.get(re);return pe||(pe=new tt(A),O.eventManagers.set(re,pe),O.attachCallbackListeners(A,pe)),pe})()}_openPopup(A){(0,r.ax)(A,"operation-not-supported-in-this-environment")}_openRedirect(A,O,re,pe){var dt=this;return(0,s.A)(function*(){!function we(x){var A,O,re,pe,dt,Pt,on,hn,wn,Er;const an=Pe();(0,r.aC)("function"==typeof(null===(A=an?.universalLinks)||void 0===A?void 0:A.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.aC)(typeof(null===(O=an?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.aC)("function"==typeof(null===(dt=null===(pe=null===(re=an?.cordova)||void 0===re?void 0:re.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===dt?void 0:dt.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(hn=null===(on=null===(Pt=an?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===on?void 0:on.browsertab)||void 0===hn?void 0:hn.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(Er=null===(wn=an?.cordova)||void 0===wn?void 0:wn.InAppBrowser)||void 0===Er?void 0:Er.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(A);const Pt=yield dt._initialize(A);yield Pt.initialized(),Pt.resetRedirect(),(0,r.aI)(),yield dt._originValidation(A);const on=function Ke(x,A,O=null){return{type:A,eventId:O,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:x.tenantId,error:(0,r.aB)(x,"no-auth-event")}}(A,re,pe);yield function ct(x,A){return Xt()._set(On(x),A)}(A,on);const hn=yield function W(x,A,O){return ne.apply(this,arguments)}(A,on,O),wn=yield function je(x){const{cordova:A}=Pe();return new Promise(O=>{A.plugins.browsertab.isAvailable(re=>{let pe=null;re?A.plugins.browsertab.openUrl(x):pe=A.InAppBrowser.open(x,(0,r.aA)()?"_blank":"_system","location=yes"),O(pe)})})}(hn);return function ve(x,A,O){return Ye.apply(this,arguments)}(A,Pt,wn)})()}_isIframeWebStorageSupported(A,O){throw new Error("Method not implemented.")}_originValidation(A){const O=A._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function he(x){return Re.apply(this,arguments)}(A)),this.originValidationPromises[O]}attachCallbackListeners(A,O){const{universalLinks:re,handleOpenURL:pe,BuildInfo:dt}=Pe(),Pt=setTimeout((0,s.A)(function*(){yield xt(A),O.onEvent(it())}),500),on=function(){var Er=(0,s.A)(function*(an){clearTimeout(Pt);const zr=yield xt(A);let cr=null;zr&&an?.url&&(cr=function Ie(x,A){var O,re;const pe=function Vt(x){const A=Kt(x),O=A.link?decodeURIComponent(A.link):void 0,re=Kt(O).link,pe=A.deep_link_id?decodeURIComponent(A.deep_link_id):void 0;return Kt(pe).link||pe||re||O||x}(A);if(pe.includes("/__/auth/callback")){const dt=Kt(pe),Pt=dt.firebaseError?function Ot(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(dt.firebaseError)):null,on=null===(re=null===(O=Pt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===re?void 0:re[1],hn=on?(0,r.aB)(on):null;return hn?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:hn,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:pe,postBody:null}}return null}(zr,an.url)),O.onEvent(cr||it())});return function(zr){return Er.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,on);const hn=pe,wn=`${dt.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var Er=(0,s.A)(function*(an){if(an.toLowerCase().startsWith(wn)&&on({url:an}),"function"==typeof hn)try{hn(an)}catch(zr){console.error(zr)}});return function(an){return Er.apply(this,arguments)}}()}};function it(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.aB)("no-auth-event")}}function ot(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Ft(x=(0,Ee.ZQ)()){return!("file:"!==ot()&&"ionic:"!==ot()&&"capacitor:"!==ot()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qt(){try{const x=self.localStorage,A=r.aN();if(x)return x.setItem(A,"1"),x.removeItem(A),!function Fn(x=(0,Ee.ZQ)()){return function tr(){return(0,Ee.lT)()&&11===document?.documentMode}()||function rn(x=(0,Ee.ZQ)()){return/Edge\/\d+/.test(x)}(x)}()||(0,Ee.zW)()}catch{return Bn()&&(0,Ee.zW)()}return!1}function Bn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xn(){return(function We(){return"http:"===ot()||"https:"===ot()}()||(0,Ee.sr)()||Ft())&&!function bn(){return(0,Ee.lV)()||(0,Ee.Ll)()}()&&Qt()&&!Bn()}function zt(){return Ft()&&typeof document<"u"}function dr(){return(dr=(0,s.A)(function*(){return!!zt()&&new Promise(x=>{const A=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(A),x(!0)})})})).apply(this,arguments)}const xr={LOCAL:"local",NONE:"none",SESSION:"session"},Xn=r.aC,Gt="persistence";function Gn(x){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.A)(function*(x){yield x._initializationPromise;const A=Dr(),O=r.aF(Gt,x.config.apiKey,x.name);A&&A.setItem(O,x._getPersistence())})).apply(this,arguments)}function Dr(){var x;try{return(null===(x=function sn(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Hr=r.aC;class zn{constructor(){this.browserResolver=r.aE(r.k),this.cordovaResolver=r.aE(st),this.underlyingResolver=null,this._redirectPersistence=r.a,this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(A){var O=this;return(0,s.A)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(A)})()}_openPopup(A,O,re,pe){var dt=this;return(0,s.A)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(A,O,re,pe)})()}_openRedirect(A,O,re,pe){var dt=this;return(0,s.A)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(A,O,re,pe)})()}_isIframeWebStorageSupported(A,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(A,O)}_originValidation(A){return this.assertedUnderlyingResolver._originValidation(A)}get _shouldInitProactively(){return zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var A=this;return(0,s.A)(function*(){if(A.underlyingResolver)return;const O=yield function Ut(){return dr.apply(this,arguments)}();A.underlyingResolver=O?A.cordovaResolver:A.browserResolver})()}}function hi(x){return x.unwrap()}function dn(x){return Jn(x)}function Jn(x){const{_tokenResponse:A}=x instanceof Ee.g?x.customData:x;if(!A)return null;if(!(x instanceof Ee.g)&&"temporaryProof"in A&&"phoneNumber"in A)return r.P.credentialFromResult(x);const O=A.providerId;if(!O||O===r.p.PASSWORD)return null;let re;switch(O){case r.p.GOOGLE:re=r.X;break;case r.p.FACEBOOK:re=r.W;break;case r.p.GITHUB:re=r.Y;break;case r.p.TWITTER:re=r.$;break;default:const{oauthIdToken:pe,oauthAccessToken:dt,oauthTokenSecret:Pt,pendingToken:on,nonce:hn}=A;return dt||Pt||pe||on?on?O.startsWith("saml.")?r.aQ._create(O,on):r.N._fromParams({providerId:O,signInMethod:O,pendingToken:on,idToken:pe,accessToken:dt}):new r.Z(O).credential({idToken:pe,accessToken:dt,rawNonce:hn}):null}return x instanceof Ee.g?re.credentialFromError(x):re.credentialFromResult(x)}function Tr(x,A){return A.catch(O=>{throw O instanceof Ee.g&&function ti(x,A){var O;const re=null===(O=A.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===A?.code)A.resolver=new at(x,r.as(x,A));else if(re){const pe=Jn(A),dt=A;pe&&(dt.credential=pe,dt.tenantId=re.tenantId||void 0,dt.email=re.email||void 0,dt.phoneNumber=re.phoneNumber||void 0)}}(x,O),O}).then(O=>{const pe=O.user;return{operationType:O.operationType,credential:dn(O),additionalUserInfo:r.aq(O),user:bt.getOrCreate(pe)}})}function Hn(x,A){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.A)(function*(x,A){const O=yield A;return{verificationId:O.verificationId,confirm:re=>Tr(x,O.confirm(re))}})).apply(this,arguments)}class at{constructor(A,O){this.resolver=O,this.auth=function ys(x){return x.wrapped()}(A)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(A){return Tr(hi(this.auth),this.resolver.resolveSignIn(A))}}class bt{constructor(A){this._delegate=A,this.multiFactor=r.at(A)}static getOrCreate(A){return bt.USER_MAP.has(A)||bt.USER_MAP.set(A,new bt(A)),bt.USER_MAP.get(A)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(A){return this._delegate.getIdTokenResult(A)}getIdToken(A){return this._delegate.getIdToken(A)}linkAndRetrieveDataWithCredential(A){return this.linkWithCredential(A)}linkWithCredential(A){var O=this;return(0,s.A)(function*(){return Tr(O.auth,r.a2(O._delegate,A))})()}linkWithPhoneNumber(A,O){var re=this;return(0,s.A)(function*(){return Hn(re.auth,r.l(re._delegate,A,O))})()}linkWithPopup(A){var O=this;return(0,s.A)(function*(){return Tr(O.auth,r.d(O._delegate,A,zn))})()}linkWithRedirect(A){var O=this;return(0,s.A)(function*(){return yield Gn(r.aJ(O.auth)),r.g(O._delegate,A,zn)})()}reauthenticateAndRetrieveDataWithCredential(A){return this.reauthenticateWithCredential(A)}reauthenticateWithCredential(A){var O=this;return(0,s.A)(function*(){return Tr(O.auth,r.a3(O._delegate,A))})()}reauthenticateWithPhoneNumber(A,O){return Hn(this.auth,r.r(this._delegate,A,O))}reauthenticateWithPopup(A){return Tr(this.auth,r.e(this._delegate,A,zn))}reauthenticateWithRedirect(A){var O=this;return(0,s.A)(function*(){return yield Gn(r.aJ(O.auth)),r.h(O._delegate,A,zn)})()}sendEmailVerification(A){return r.ag(this._delegate,A)}unlink(A){var O=this;return(0,s.A)(function*(){return yield r.ap(O._delegate,A),O})()}updateEmail(A){return r.al(this._delegate,A)}updatePassword(A){return r.am(this._delegate,A)}updatePhoneNumber(A){return r.u(this._delegate,A)}updateProfile(A){return r.ak(this._delegate,A)}verifyBeforeUpdateEmail(A,O){return r.ah(this._delegate,A,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bt.USER_MAP=new WeakMap;const de=r.aC;let ke=(()=>{class x{constructor(O,re){if(this.app=O,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:pe}=O.options;de(pe,"invalid-api-key",{appName:O.name}),de(pe,"invalid-api-key",{appName:O.name});const dt=typeof window<"u"?zn:void 0;this._delegate=re.initialize({options:{persistence:qt(pe,O.name),popupRedirectResolver:dt}}),this._delegate._updateErrorMap(r.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,re){r.K(this._delegate,O,re)}applyActionCode(O){return r.a7(this._delegate,O)}checkActionCode(O){return r.a8(this._delegate,O)}confirmPasswordReset(O,re){return r.a6(this._delegate,O,re)}createUserWithEmailAndPassword(O,re){var pe=this;return(0,s.A)(function*(){return Tr(pe._delegate,r.aa(pe._delegate,O,re))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return r.af(this._delegate,O)}isSignInWithEmailLink(O){return r.ad(this._delegate,O)}getRedirectResult(){var O=this;return(0,s.A)(function*(){de(xn(),O._delegate,"operation-not-supported-in-this-environment");const re=yield r.j(O._delegate,zn);return re?Tr(O._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function xe(x,A){(0,r.aJ)(x)._logFramework(A)}(this._delegate,O)}onAuthStateChanged(O,re,pe){const{next:dt,error:Pt,complete:on}=At(O,re,pe);return this._delegate.onAuthStateChanged(dt,Pt,on)}onIdTokenChanged(O,re,pe){const{next:dt,error:Pt,complete:on}=At(O,re,pe);return this._delegate.onIdTokenChanged(dt,Pt,on)}sendSignInLinkToEmail(O,re){return r.ac(this._delegate,O,re)}sendPasswordResetEmail(O,re){return r.a5(this._delegate,O,re||void 0)}setPersistence(O){var re=this;return(0,s.A)(function*(){let pe;switch(function En(x,A){Xn(Object.values(xr).includes(A),x,"invalid-persistence-type"),(0,Ee.lV)()?Xn(A!==xr.SESSION,x,"unsupported-persistence-type"):(0,Ee.Ll)()?Xn(A===xr.NONE,x,"unsupported-persistence-type"):Bn()?Xn(A===xr.NONE||A===xr.LOCAL&&(0,Ee.zW)(),x,"unsupported-persistence-type"):Xn(A===xr.NONE||Qt(),x,"unsupported-persistence-type")}(re._delegate,O),O){case xr.SESSION:pe=r.a;break;case xr.LOCAL:pe=(yield r.aE(r.i)._isAvailable())?r.i:r.b;break;case xr.NONE:pe=r.U;break;default:return r.ax("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(pe)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Tr(this._delegate,r.a0(this._delegate))}signInWithCredential(O){return Tr(this._delegate,r.a1(this._delegate,O))}signInWithCustomToken(O){return Tr(this._delegate,r.a4(this._delegate,O))}signInWithEmailAndPassword(O,re){return Tr(this._delegate,r.ab(this._delegate,O,re))}signInWithEmailLink(O,re){return Tr(this._delegate,r.ae(this._delegate,O,re))}signInWithPhoneNumber(O,re){return Hn(this._delegate,r.s(this._delegate,O,re))}signInWithPopup(O){var re=this;return(0,s.A)(function*(){return de(xn(),re._delegate,"operation-not-supported-in-this-environment"),Tr(re._delegate,r.c(re._delegate,O,zn))})()}signInWithRedirect(O){var re=this;return(0,s.A)(function*(){return de(xn(),re._delegate,"operation-not-supported-in-this-environment"),yield Gn(re._delegate),r.f(re._delegate,O,zn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return r.a9(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=xr,x})();function At(x,A,O){let re=x;"function"!=typeof x&&({next:re,error:A,complete:O}=x);const pe=re;return{next:Pt=>pe(Pt&&bt.getOrCreate(Pt)),error:A,complete:O}}function qt(x,A){const O=function Br(x,A){const O=Dr();if(!O)return[];const re=r.aF(Gt,x,A);switch(O.getItem(re)){case xr.NONE:return[r.U];case xr.LOCAL:return[r.i,r.a];case xr.SESSION:return[r.a];default:return[]}}(x,A);if(typeof self<"u"&&!O.includes(r.i)&&O.push(r.i),typeof window<"u")for(const re of[r.b,r.a])O.includes(re)||O.push(re);return O.includes(r.U)||O.push(r.U),O}class Vn{constructor(){this.providerId="phone",this._delegate=new r.P(hi(ce.A.auth()))}static credential(A,O){return r.P.credential(A,O)}verifyPhoneNumber(A,O){return this._delegate.verifyPhoneNumber(A,O)}unwrap(){return this._delegate}}Vn.PHONE_SIGN_IN_METHOD=r.P.PHONE_SIGN_IN_METHOD,Vn.PROVIDER_ID=r.P.PROVIDER_ID;const Vr=r.aC;class Ir{constructor(A,O,re=ce.A.app()){var pe;Vr(null===(pe=re.options)||void 0===pe?void 0:pe.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new r.R(re.auth(),A,O),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function He(x){x.INTERNAL.registerComponent(new be.uA("auth-compat",A=>{const O=A.getProvider("app-compat").getImmediate(),re=A.getProvider("auth");return new ke(O,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.A.EMAIL_SIGNIN,PASSWORD_RESET:r.A.PASSWORD_RESET,RECOVER_EMAIL:r.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.A.VERIFY_EMAIL}},EmailAuthProvider:r.V,FacebookAuthProvider:r.W,GithubAuthProvider:r.Y,GoogleAuthProvider:r.X,OAuthProvider:r.Z,SAMLAuthProvider:r._,PhoneAuthProvider:Vn,PhoneMultiFactorGenerator:r.m,RecaptchaVerifier:Ir,TwitterAuthProvider:r.$,Auth:ke,AuthCredential:r.L,Error:Ee.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.5.14")}(ce.A)},467:(tn,Xe,V)=>{function s(r,Ee,me,Te,be,Pe,Me){try{var W=r[Pe](Me),ne=W.value}catch(he){return void me(he)}W.done?Ee(ne):Promise.resolve(ne).then(Te,be)}function ce(r){return function(){var Ee=this,me=arguments;return new Promise(function(Te,be){var Pe=r.apply(Ee,me);function Me(ne){s(Pe,Te,be,Me,W,"next",ne)}function W(ne){s(Pe,Te,be,Me,W,"throw",ne)}Me(void 0)})}}V.d(Xe,{A:()=>ce})},1635:(tn,Xe,V)=>{function Ee(xe,Z){var ye={};for(var Fe in xe)Object.prototype.hasOwnProperty.call(xe,Fe)&&Z.indexOf(Fe)<0&&(ye[Fe]=xe[Fe]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Fe=Object.getOwnPropertySymbols(xe);ot<Fe.length;ot++)Z.indexOf(Fe[ot])<0&&Object.prototype.propertyIsEnumerable.call(xe,Fe[ot])&&(ye[Fe[ot]]=xe[Fe[ot]])}return ye}function he(xe,Z,ye,Fe){return new(ye||(ye=Promise))(function(We,Ft){function bn(Fn){try{rn(Fe.next(Fn))}catch(Qt){Ft(Qt)}}function tr(Fn){try{rn(Fe.throw(Fn))}catch(Qt){Ft(Qt)}}function rn(Fn){Fn.done?We(Fn.value):function ot(We){return We instanceof ye?We:new ye(function(Ft){Ft(We)})}(Fn.value).then(bn,tr)}rn((Fe=Fe.apply(xe,Z||[])).next())})}function Ae(xe){return this instanceof Ae?(this.v=xe,this):new Ae(xe)}function tt(xe,Z,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Fe=ye.apply(xe,Z||[]),We=[];return ot=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),bn("next"),bn("throw"),bn("return",function Ft(xn){return function(zt){return Promise.resolve(zt).then(xn,Qt)}}),ot[Symbol.asyncIterator]=function(){return this},ot;function bn(xn,zt){Fe[xn]&&(ot[xn]=function(Ut){return new Promise(function(dr,sn){We.push([xn,Ut,dr,sn])>1||tr(xn,Ut)})},zt&&(ot[xn]=zt(ot[xn])))}function tr(xn,zt){try{!function rn(xn){xn.value instanceof Ae?Promise.resolve(xn.value.v).then(Fn,Qt):Bn(We[0][2],xn)}(Fe[xn](zt))}catch(Ut){Bn(We[0][3],Ut)}}function Fn(xn){tr("next",xn)}function Qt(xn){tr("throw",xn)}function Bn(xn,zt){xn(zt),We.shift(),We.length&&tr(We[0][0],We[0][1])}}function ct(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,Z=xe[Symbol.asyncIterator];return Z?Z.call(xe):(xe=function Ye(xe){var Z="function"==typeof Symbol&&Symbol.iterator,ye=Z&&xe[Z],Fe=0;if(ye)return ye.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&Fe>=xe.length&&(xe=void 0),{value:xe&&xe[Fe++],done:!xe}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),ye={},Fe("next"),Fe("throw"),Fe("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Fe(We){ye[We]=xe[We]&&function(Ft){return new Promise(function(bn,tr){!function ot(We,Ft,bn,tr){Promise.resolve(tr).then(function(rn){We({value:rn,done:bn})},Ft)}(bn,tr,(Ft=xe[We](Ft)).done,Ft.value)})}}}V.d(Xe,{AQ:()=>tt,N3:()=>Ae,Tt:()=>Ee,sH:()=>he,xN:()=>ct}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=2714)}]);