"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[655],{9655:(pt,N,d)=>{d.r(N),d.d(N,{AdminModule:()=>dt});var u=d(177),r=d(4341),p=d(6814),e=d(7705),D=d(1977),k=d(6354),_=d(3012);function V(s,l){if(1&s){const t=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteBusiness(n.id))}),e.EFF(1,"Delete"),e.k0s()}}const Y=function(){return["/home/"]},X=function(s){return{id:s}};function q(s,l){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"a",6)(3,"strong"),e.EFF(4),e.k0s()()(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"strong"),e.EFF(9),e.k0s(),e.nrm(10,"br"),e.EFF(11),e.nrm(12,"br"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s(),e.j41(18,"td")(19,"button",7),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.editBusiness(i.id))}),e.EFF(20,"Edit"),e.k0s(),e.DNE(21,V,2,0,"button",8),e.k0s()()}if(2&s){const t=l.$implicit;e.R7$(2),e.Y8G("routerLink",e.lJ4(10,Y))("queryParams",e.eq3(11,X,t.id)),e.R7$(2),e.SpI(" ",t.id,""),e.R7$(2),e.JRh(t.businessName),e.R7$(3),e.SpI("",t.providerName," "),e.R7$(2),e.SpI(" ",t.phone,""),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.isActive),e.R7$(2),e.JRh(t.isLive),e.R7$(4),e.Y8G("ngIf",!t.isActive)}}let L=(()=>{class s{constructor(t,o){this.businessService=t,this.router=o,this.businesses=[],this.showActiveOnly=!0}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.showActiveOnly?this.businessService.getActiveBusinesses().subscribe(t=>{this.businesses=t}):this.businessService.getAllBusinesses().subscribe(t=>{this.businesses=t})}editBusiness(t){this.router.navigate(["/admin/edit-business",t])}deleteBusiness(t){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(t,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(o=>console.error("Error deleting business",o))}addNewBusiness(){this.router.navigate(["/admin/new"])}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(_.u),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-business-list"]],decls:25,vars:2,consts:[[1,"business-list-container"],["ttype","button",1,"afhBtn",3,"click"],["for","toggle-active"],["type","checkbox","id","toggle-active",3,"ngModel","ngModelChange","change"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],["type","button",1,"afhBtn",3,"click"],["type","button","class","afhBtn",3,"click",4,"ngIf"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Business List"),e.k0s(),e.j41(3,"button",1),e.bIt("click",function(){return n.addNewBusiness()}),e.EFF(4,"Add New Business"),e.k0s(),e.j41(5,"label",2),e.EFF(6,"Show Active Only"),e.k0s(),e.j41(7,"input",3),e.bIt("ngModelChange",function(a){return n.showActiveOnly=a})("change",function(){return n.loadBusinesses()}),e.k0s(),e.j41(8,"table",4)(9,"thead")(10,"tr")(11,"th"),e.EFF(12,"ID"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Name"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Provider"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Active"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Live"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Actions"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,q,22,13,"tr",5),e.k0s()()()),2&o&&(e.R7$(7),e.Y8G("ngModel",n.showActiveOnly),e.R7$(17),e.Y8G("ngForOf",n.businesses))},dependencies:[u.Sq,u.bT,p.Wk,r.Zm,r.BC,r.vS],styles:[".business-list-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:var(--button-color);color:var(--primary-color);border:none;border-radius:5px;cursor:pointer}.add-business-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--background-color)}.business-id-link[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.edit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:var(--primary-color)}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}}return s})();var W=d(4796);let z=(()=>{class s{constructor(t,o){this.router=t,this.authService=o}loadBusinessList(){this.router.navigate(["/admin/businessList"])}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(p.Ix),e.rXU(W.u))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-admin"]],decls:9,vars:0,consts:[[1,"admin-container"],[1,"admin-buttons"],["type","button",1,"afhBtn",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h4"),e.EFF(3,"Admin Dashboard"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return n.loadBusinessList()}),e.EFF(5,"View Business List"),e.k0s(),e.j41(6,"button",2),e.bIt("click",function(){return n.logout()}),e.EFF(7,"Logout"),e.k0s()()(),e.nrm(8,"router-outlet"))},dependencies:[p.n3],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;margin:160px auto 0;background-color:var(--background-color);border-radius:10px;box-shadow:0 4px 8px #0000001a;text-align:center}.admin-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:30px}.admin-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin:10px}button[_ngcontent-%COMP%]{padding:15px 30px;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:var(--button-color-hover)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px var(--button-color)}button.logout[_ngcontent-%COMP%]{background-color:#dc3545}button.logout[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}}return s})();class B{static getDefaultBusiness(){return{sections:[{sectionName:"HomeCenterText",sectionTitle:"Welcome To AFH",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionImageUrl:"assets/sharedAssets/istockphoto-502998071-2048x2048.jpg",sectionType:"Other",sectionStyle:"hh"},{sectionName:"HomeRightText",sectionTitle:"Our Story",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionType:"Story",sectionStyle:"hh"},{sectionName:"HomeLeftText",sectionTitle:"Our Vision",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionType:"Vision",sectionStyle:"hh"},{sectionName:"HomeRightText",sectionTitle:"Our Mission",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionType:"Mission",sectionStyle:"hh"},{sectionName:"HomeLeftText",sectionTitle:"Our Motivation",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionType:"Motivation",sectionStyle:"hh"},{sectionName:"GalleryCenterText",sectionTitle:"OurHome",sectionSubTitle:"Welcome to our gallery",sectionContent:"Gallery Text",sectionType:"Other",sectionStyle:"hh"}],heroImages:[""],heroSlider:[{title:"Welcome to Careful Living AFH",subtitle:"Caring with compassion for every senior.",backgroundImage:"../../assets/sharedAssets/istockphoto-1022730404-2048x2048.jpg",buttons:[{text:"Learn More",link:"/about",outline:!1},{text:"Contact Us",link:"/contact",outline:!0}]},{title:"Welcome to Careful Living AFH",subtitle:"Caring with compassion for every senior.",backgroundImage:"../../assets/sharedAssets/istockphoto-1022730404-2048x2048.jpg",buttons:[{text:"Schedule A Visti",link:"/contact-us",outline:!1}]},{title:"Exceptional Senior Care",subtitle:"Personalized, compassionate, and dedicated.",backgroundImage:"../../assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg",buttons:[{text:"Our Services",link:"/services",outline:!1}]}],businessData:"",id:"",faqs:"",toursImageUrl:"",consultingImageUrl:"",businessName:"Careful Living AFH",keyWords:"Adult Family Home Bellevue, Senior Care Bellevue WA, Elderly Care Services Bellevue, Assisted Living Bellevue Washington, Memory Care Bellevue, Dementia Care Bellevue WA, Respite Care Bellevue, Long-Term Care Bellevue, Home Care for Seniors Bellevue,Skilled Nursing Bellevue WA,Personalized Senior Care Bellevue, Senior Living Bellevue Washington, Compassionate Elderly Care Bellevue, Family Home Care Bellevue WA, Professional Senior Care Services Bellevue, Senior Assisted Living Bellevue, Senior Home Assistance Bellevue WA, Senior Housing Bellevue Washington, Helping Hand AFH Bellevue, Senior Caregivers Bellevue WA",businessURL:"https://www.carefullivingafh.com",providerName:"Sarah Caregiver",tagline:"Caring with compassion for every senior",certifications:"State Licensed, Certified Nursing Assistants (CNA), First Aid/CPR Certified",specialPrograms:"Holiday celebrations, birthday parties, outdoor activities, exercise programs, arts & crafts, movie nights.",tours:"Yes, facility tours are available by appointment.",freeConsulting:"Yes, initial consulting services are offered for free.",websiteGoals:"To inform, encourage visits, and offer a means to request consultations.",logoImage:"../assets/sharedAssets/Demologo2.png",faviconUrl:"../../assets/sharedAssets/icons/hh_favicon.ico",ownerImagesBios:"Sarah Caregiver, RN, Founder.",staffImagesBios:"Emily Nurse, CNA, Head Nurse; Jack Therapist, PT, Physical Therapist",mediaFeatures:"Featured in Healthcare Journal, Senior Care Monthly.",ratings:"Google: 4.8 stars, Yelp: 5 stars",address:"4567 Compassionate Ln, Kindness City, ST 56789",phone:"(987) 654-3210",fax:"(987) 654-3211",email:"contact@carefullivingafh.com",businessHours:"Mon-Fri: 8am-6pm, Sat-Sun: 9am-5pm",socialMedia:"Facebook: facebook.com/carefullivingafh; Instagram: instagram.com/carefullivingafh",contactFormDetails:"Please provide name, email, phone number, and message for inquiries.",contactUsImageUrl:"",isActive:!0,isLive:!1,placeId:"",uniqueService:[{description:"Residents receive customized care plans that adapt to their specific health conditions, preferences, and evolving needs.",name:"Personalized Care"},{name:"Homelike Environment",description:"We offer private rooms and shared common living spaces, such as kitchens, dining rooms, and living areas, providing a cozy, familiar atmosphere."}],whyChoose:[{name:"One-on-One Care",description:"Our caregivers truly get to know each resident\u2019s needs, preferences, and routines, ensuring tailored care and a personal connection."}],services:[{name:"Medication & Health Management",icon:"fa-solid fa-prescription-bottle",description:"Proper medication administration, doctor visits, lab work, and therapy to maintain well-being."},{name:"24/7 Assistance & Health Monitoring",icon:"fa-solid fa-bed-pulse",description:"Around-the-clock care, including vital signs monitoring and professional nursing support."},{name:"Daily Living & Personal Care",icon:"fa-solid fa-shower",description:"Assistance with bathing, dressing, grooming, mobility, and incontinence support."},{name:"Nutritious Meals & Special Diets",icon:"fa-solid fa-utensils",description:"Thoughtfully planned meals tailored to dietary and medical needs."},{name:"Engaging Activities & Entertainment",icon:"fa-solid fa-compact-disc",description:"Personalized activities, social programs, and entertainment for enrichment and connection."},{name:"Comfortable & Accessible Living",icon:"fa-solid fa-wheelchair",description:"Housekeeping, wheelchair accessibility, and a clean, safe environment."}],benefits:[{name:"Private & Accessible Rooms",icon:"fa-solid fa-lock",description:"Private rooms with optional shared bathrooms, equipped with a calling system, phone, cable TV, and high-speed wireless internet."},{name:"Safe & Secure Environment",icon:"fa-brands fa-accessible-icon",description:"Handicap-accessible design, smoke alarms, a security system, emergency call buttons, and an electric generator for backup power."},{name:"Spacious & Inviting Common Areas",icon:"fa-solid fa-expand",description:"Open floor plan with high ceilings, hardwood floors, and a covered deck for relaxation."},{name:"Engaging Activities & Social Events",icon:"fa-solid fa-compact-disc",description:"Music and audiobook therapy, card and board games, knitting, word searches, puzzles, crafts, movie nights, and birthday celebrations."}],testimonials:[{id:"",name:"Sarah Thompson",quote:"Finding this Adult Family Home for my mother was the best decision we ever made.",relationship:"mother",photoURL:""}],employees:[{name:"Alex",photoURL:"../assets/employees/alex.jpg",id:"",bio:"17 years as a software engineer and 10 years as a professional photographer",role:"Programmer/Designer"}],metaTitle:"",metaDescription:"",metaKeywords:"",theme:{themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"hh"}}}}var C=d(980),J=d(1985),F=d(8721),G=d(6340);let b=(()=>{class s{constructor(t,o){this.storage=t,this.firestore=o}uploadFile(t,o,n){let i;switch(n){case"testimonail":i=`businesses/${o}/testimonail/${t.name}`;break;case"employee":i=`businesses/${o}/employee/${t.name}`;break;case"business":i=`businesses/${o}/business/${t.name}`;break;case"heroImages":i=`businesses/${o}/heroImages/${t.name}`;break;case"lifeStyle":i=`businesses/${o}/lifeStyle/${t.name}`;break;default:i=`businesses/${o}/gallery/${t.name}`}const a=this.storage.ref(i),c=this.storage.upload(i,t);return{uploadProgress:c.percentageChanges().pipe((0,k.T)(h=>h??0)),downloadUrl:new J.c(h=>{c.snapshotChanges().pipe((0,C.j)(()=>{a.getDownloadURL().subscribe(v=>{this.firestore.collection("businesses").doc(o).collection(n).add({url:v}),h.next(v),h.complete()})})).subscribe()})}}deleteFile(t,o,n){return new Promise((i,a)=>{const c=decodeURIComponent(t.split("/").pop()?.split("?")[0]||"");this.storage.ref(c).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(o).collection(n).ref.where("url","==",t).get().then(m=>{m.forEach(h=>h.ref.delete()),i()}).catch(m=>{console.error("Error deleting from Firestore:",m),a(m)})},error:m=>{console.error("Error deleting from Storage:",m),a(m)}})})}static{this.\u0275fac=function(o){return new(o||s)(e.KVO(F.ap),e.KVO(G.Qe))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function K(s,l){if(1&s&&(e.qex(0),e.j41(1,"div",12)(2,"div",13),e.EFF(3),e.k0s()(),e.bVm()),2&s){const t=l.ngIf;e.R7$(2),e.xc7("width",t+"%"),e.R7$(1),e.SpI("",t,"%")}}function Q(s,l){if(1&s&&(e.j41(0,"div"),e.nrm(1,"img",14),e.k0s()),2&s){const t=e.XpG().$implicit;let o;e.R7$(1),e.Y8G("src",null==(o=t.get("photoURL"))?null:o.value,e.B4B)}}function Z(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"label",6),e.EFF(3,"Employee Name"),e.k0s(),e.nrm(4,"input",7),e.k0s(),e.j41(5,"div",5)(6,"label",6),e.EFF(7,"Role"),e.k0s(),e.nrm(8,"input",8),e.k0s(),e.j41(9,"div",5)(10,"label",6),e.EFF(11,"Bio"),e.k0s(),e.nrm(12,"textarea",9),e.k0s(),e.j41(13,"div",5)(14,"label",6),e.EFF(15,"Photo"),e.k0s(),e.j41(16,"input",10),e.bIt("change",function(n){const a=e.eBV(t).index,c=e.XpG();return e.Njj(c.onEmployeeFileChange(n,a))}),e.k0s(),e.DNE(17,K,4,3,"ng-container",11),e.nI1(18,"async"),e.k0s(),e.DNE(19,Q,2,1,"div",11),e.j41(20,"button",3),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeEmployee(i))}),e.EFF(21,"Remove Employee"),e.k0s()()}if(2&s){const t=l.$implicit,o=l.index,n=e.XpG();let i;e.Y8G("formGroupName",o),e.R7$(2),e.Mz_("for","employeeName-",o,""),e.R7$(2),e.Mz_("id","employeeName-",o,""),e.R7$(2),e.Mz_("for","employeeRole-",o,""),e.R7$(2),e.Mz_("id","employeeRole-",o,""),e.R7$(2),e.Mz_("for","employeeBio-",o,""),e.R7$(2),e.Mz_("id","employeeBio-",o,""),e.R7$(2),e.Mz_("for","employeePhoto-",o,""),e.R7$(2),e.Mz_("id","employeePhoto-",o,""),e.R7$(1),e.Y8G("ngIf",e.bMT(18,11,n.uploadProgress["employee_"+o])),e.R7$(2),e.Y8G("ngIf",null==(i=t.get("photoURL"))?null:i.value)}}let M=(()=>{class s{constructor(t,o){this.fb=t,this.uploadService=o,this.uploadProgress={}}get employees(){return this.form.get("employees")}populateEmployees(t){this.employees.clear(),(t??[]).forEach(o=>{const n=this.fb.group({id:[o.id],name:[o.name],role:[o.role],bio:[o.bio],photoURL:[o.photoURL]});this.employees.push(n)})}addEmployee(){const t=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees.push(t)}removeEmployee(t){this.employees.removeAt(t)}onEmployeeFileChange(t,o){const n=t.target.files[0];if(n){const{uploadProgress:i,downloadUrl:a}=this.uploadService.uploadFile(n,this.businessId,"employee");this.uploadProgress[`employee_${o}`]=i,a.pipe((0,C.j)(()=>{a.subscribe(c=>{this.employees.at(o).patchValue({photoURL:c})})})).subscribe()}}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(r.ok),e.rXU(b))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-employee"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:7,vars:2,consts:[[3,"formGroup"],["formArrayName","employees"],["class","employee-card",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"afhBtn",3,"click"],[1,"employee-card",3,"formGroupName"],[1,"form-group"],[3,"for"],["formControlName","name","placeholder","Enter employee name",1,"form-control",3,"id"],["formControlName","role","placeholder","Enter employee role",1,"form-control",3,"id"],["formControlName","bio","rows","3","placeholder","Enter employee bio",1,"form-control",3,"id"],["type","file",1,"form-control",3,"id","change"],[4,"ngIf"],[1,"progress"],[1,"progress-bar"],["alt","Employee Photo",1,"employee-photo",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Employee Profiles"),e.k0s(),e.j41(3,"div",1),e.DNE(4,Z,22,13,"div",2),e.k0s(),e.j41(5,"button",3),e.bIt("click",function(){return n.addEmployee()}),e.EFF(6,"Add Employee"),e.k0s()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(4),e.Y8G("ngForOf",n.employees.controls))},dependencies:[u.Sq,u.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8,u.Jj],styles:[".employee-card[_ngcontent-%COMP%]{padding:15px;margin-bottom:15px;background-color:var(--background-color);border:1px solid #ddd;border-radius:4px;box-shadow:0 0 5px #0000001a}.employee-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--primary-color);border:none;padding:8px 12px;border-radius:4px;cursor:pointer}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{background-color:var(--button-color)}.add-employee-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--buttong-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer;margin-bottom:20px}.add-employee-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--accent-color);text-align:center;line-height:10px;color:var(--primary-color)}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:200px;border-radius:18px}"]})}}return s})();function ee(s,l){if(1&s&&(e.qex(0),e.j41(1,"div",25)(2,"div",26),e.EFF(3),e.k0s()(),e.bVm()),2&s){const t=l.ngIf;e.R7$(2),e.xc7("width",t+"%"),e.R7$(1),e.SpI("",t,"%")}}function te(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"label",16),e.EFF(5," Name"),e.k0s(),e.nrm(6,"input",17),e.k0s(),e.j41(7,"div",15)(8,"label",18),e.EFF(9," Relationship"),e.k0s(),e.nrm(10,"input",19),e.k0s()(),e.j41(11,"div",1)(12,"label",20),e.EFF(13,"Quote"),e.k0s(),e.nrm(14,"textarea",21),e.k0s(),e.j41(15,"div",14)(16,"div",15)(17,"label",22),e.EFF(18,"Photo"),e.k0s(),e.j41(19,"input",23),e.bIt("change",function(n){const a=e.eBV(t).index,c=e.XpG();return e.Njj(c.onTestimonialFileChange(n,a))}),e.k0s(),e.DNE(20,ee,4,3,"ng-container",24),e.nI1(21,"async"),e.k0s(),e.j41(22,"button",11),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeTestimonial(i))}),e.EFF(23,"Remove Testimonial"),e.k0s()()()()}if(2&s){const t=l.index,o=e.XpG();e.Y8G("formGroupName",t),e.R7$(20),e.Y8G("ngIf",e.bMT(21,2,o.uploadProgress["testimonial"+t]))}}let A=(()=>{class s{constructor(t,o){this.fb=t,this.uploadService=o,this.uploadProgress={}}ngOnInit(){console.log("Reviews Admin Init")}populateTestimonials(t){this.testimonials.clear(),(t??[]).forEach(o=>{const n=this.fb.group({id:[o.id],name:[o.name],quote:[o.quote],relationship:[o.relationship],photoURL:[o.photoURL]});this.testimonials.push(n)})}get testimonials(){return this.form.get("testimonials")}addTestimonial(){const t=this.fb.group({id:[""],name:[""],relationship:[""],quote:[""],photoURL:[""]});this.testimonials.push(t)}removeTestimonial(t){this.testimonials.removeAt(t)}onTestimonialFileChange(t,o){const n=t.target.files[0];if(n){const{uploadProgress:i,downloadUrl:a}=this.uploadService.uploadFile(n,this.businessId,"testimonail");this.uploadProgress[`testimonails_${o}`]=i,a.pipe((0,C.j)(()=>{a.subscribe(c=>{this.testimonials.at(o).patchValue({photoURL:c})})})).subscribe()}}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(r.ok),e.rXU(b))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-reviews"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:24,vars:2,consts:[[3,"formGroup"],[1,"form-group"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["formArrayName","testimonials"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"afhBtn",3,"click"],[3,"formGroupName"],[1,"testimonial-item"],[1,"testimonial-header"],[1,"form-group","testimonial-header-item"],["for","testimonialName"],["id","testimonialName","formControlName","name",1,"form-control"],["for","testimonialRelationship"],["id","testimonialRelationship","formControlName","relationship",1,"form-control"],["for","testimonialQuote"],["id","testimonialQuote","formControlName","quote",1,"form-control"],["for","testimonialPhoto"],["type","file","id","testimonialPhoto",1,"form-control",3,"change"],[4,"ngIf"],[1,"progress"],[1,"progress-bar"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Social Media, Reviews "),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Social Media"),e.k0s(),e.nrm(6,"textarea",3),e.k0s(),e.j41(7,"div",1)(8,"label",4),e.EFF(9,"Media Features"),e.k0s(),e.nrm(10,"textarea",5),e.k0s(),e.j41(11,"div",1)(12,"label",6),e.EFF(13,"Ratings"),e.k0s(),e.nrm(14,"textarea",7),e.k0s(),e.j41(15,"h2"),e.EFF(16,"Testimonials"),e.k0s(),e.j41(17,"div",1)(18,"label",8),e.EFF(19,"Testimonials"),e.k0s(),e.j41(20,"div",9),e.DNE(21,te,24,4,"div",10),e.k0s(),e.j41(22,"button",11),e.bIt("click",function(){return n.addTestimonial()}),e.EFF(23,"Add Testimonial"),e.k0s()()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(21),e.Y8G("ngForOf",n.testimonials.controls))},dependencies:[u.Sq,u.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8,u.Jj],styles:[".testimonial-item[_ngcontent-%COMP%]{border:solid 1px var(--dark-background-color);border-radius:15px;padding:20px;margin:10px}.testimonial-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.testimonial-header-item[_ngcontent-%COMP%]{width:50%;padding:10px}"]})}}return s})();function oe(s,l){1&s&&(e.j41(0,"div",21)(1,"label",22),e.EFF(2,"Service Name"),e.k0s(),e.nrm(3,"input",23),e.j41(4,"label",24),e.EFF(5,"Font Awesome Icon"),e.k0s(),e.nrm(6,"input",25),e.j41(7,"label",26),e.EFF(8,"Description"),e.k0s(),e.nrm(9,"textarea",27),e.k0s())}function ne(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",13)(1,"div",14),e.nrm(2,"i"),e.j41(3,"span",15),e.EFF(4),e.k0s(),e.j41(5,"div",16)(6,"button",17),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.toggleService(i))}),e.nrm(7,"i"),e.k0s(),e.j41(8,"button",18),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeService(i))}),e.nrm(9,"i",19),e.k0s()()(),e.DNE(10,oe,10,0,"div",20),e.k0s()}if(2&s){const t=l.$implicit,o=l.index,n=e.XpG();let i,a;e.Y8G("formGroupName",o),e.R7$(2),e.HbH((null==(i=t.get("icon"))?null:i.value)||"fa fa-star"),e.R7$(2),e.Lme("","Service "+(o+1),": ",null==(a=t.get("name"))?null:a.value,""),e.R7$(3),e.HbH(n.collapsedServices[o]?"fa-solid fa-angles-down":"fa-solid fa-angles-up"),e.R7$(3),e.Y8G("ngIf",!n.collapsedServices[o])}}function se(s,l){1&s&&(e.j41(0,"div",32)(1,"label",33),e.EFF(2,"Benefit Name"),e.k0s(),e.nrm(3,"input",34),e.j41(4,"label",35),e.EFF(5,"Font Awesome Icon"),e.k0s(),e.nrm(6,"input",36),e.j41(7,"label",37),e.EFF(8,"Description"),e.k0s(),e.nrm(9,"textarea",38),e.k0s())}function ie(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",28)(1,"div",29),e.nrm(2,"i"),e.j41(3,"span",30),e.EFF(4),e.k0s(),e.j41(5,"div",16)(6,"button",17),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.toggleBenefit(i))}),e.nrm(7,"i"),e.k0s(),e.j41(8,"button",18),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeBenefit(i))}),e.nrm(9,"i",19),e.k0s()()(),e.DNE(10,se,10,0,"div",31),e.k0s()}if(2&s){const t=l.$implicit,o=l.index,n=e.XpG();let i,a;e.Y8G("formGroupName",o),e.R7$(2),e.HbH((null==(i=t.get("icon"))?null:i.value)||"fa fa-star"),e.R7$(2),e.Lme("","Benefit "+(o+1),": ",null==(a=t.get("name"))?null:a.value,""),e.R7$(3),e.HbH(n.collapsedBenefits[o]?"fa-solid fa-angles-down":"fa-solid fa-angles-up"),e.R7$(3),e.Y8G("ngIf",!n.collapsedBenefits[o])}}let w=(()=>{class s{constructor(t,o){this.fb=t,this.cdRef=o,this.collapsedServices=[],this.collapsedBenefits=[]}ngOnInit(){this.form.controls.services||this.form.addControl("services",this.fb.array([])),this.form.controls.benefits||this.form.addControl("benefits",this.fb.array([])),this.newServiceForm=this.fb.group({name:["",r.k0.required],icon:[""],description:[]}),this.newBenefitsForm=this.fb.group({name:["",r.k0.required],icon:[""],description:[]}),this.initializeCollapsedStates()}populateServices(t){this.services.clear(),(t??[]).forEach(o=>{const n=this.fb.group({name:[o.name],icon:[o.icon],description:[o.description]});this.services.push(n)}),this.initializeCollapsedStates()}populateBenefits(t){this.benefits.clear(),(t??[]).forEach(o=>{const n=this.fb.group({name:[o.name],icon:[o.icon],description:[o.description]});this.benefits.push(n)})}get services(){return this.form.get("services")}get benefits(){return this.form.get("benefits")}initializeCollapsedStates(){this.collapsedServices=new Array(this.services.length).fill(!0),this.collapsedBenefits=new Array(this.benefits.length).fill(!0)}toggleService(t){t>=0&&t<this.collapsedServices.length&&(this.collapsedServices[t]=!this.collapsedServices[t])}toggleBenefit(t){t>=0&&t<this.collapsedBenefits.length&&(this.collapsedBenefits[t]=!this.collapsedBenefits[t])}addService(){const t=this.fb.group({name:[""],icon:[""],description:[""]});this.services.insert(0,t),this.collapsedServices.unshift(!1),this.cdRef.detectChanges()}removeService(t){this.services.removeAt(t)}addBenefit(){const t=this.fb.group({name:[""],icon:[""],description:[""]});this.benefits.insert(0,t),this.collapsedBenefits.unshift(!0),this.cdRef.detectChanges()}removeBenefit(t){this.benefits.removeAt(t)}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(r.ok),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-services-page"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:23,vars:3,consts:[[3,"formGroup"],[1,"afhBtn",3,"click"],["formArrayName","services"],["class","service-container",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","benefits"],["class","benefit-container",3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-group"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],[1,"service-container",3,"formGroupName"],[1,"service-header"],[1,"service-name"],[1,"button-group"],[1,"icon-btn",3,"click"],[1,"icon-btn","delete-btn",3,"click"],[1,"fa-solid","fa-trash-can"],["class","service-details",4,"ngIf"],[1,"service-details"],["for","serviceName"],["formControlName","name","id","serviceName","placeholder","Enter service name",1,"form-control"],["for","serviceIcon"],["formControlName","icon","id","serviceIcon","placeholder","Enter Icon Class",1,"form-control"],["for","serviceDescription"],["formControlName","description","id","serviceDescription","rows","3",1,"form-control"],[1,"benefit-container",3,"formGroupName"],[1,"benefit-header"],[1,"benefit-name"],["class","benefit-details",4,"ngIf"],[1,"benefit-details"],["for","benefitName"],["formControlName","name","id","benefitName","placeholder","Enter benefit name",1,"form-control"],["for","benefitIcon"],["formControlName","icon","id","benefitIcon","placeholder","Enter Icon Class",1,"form-control"],["for","benefitDescription"],["formControlName","description","id","benefitDescription","rows","3",1,"form-control"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Services Page"),e.k0s(),e.j41(3,"button",1),e.bIt("click",function(){return n.addService()}),e.EFF(4,"+ Add Service"),e.k0s(),e.j41(5,"div",2),e.DNE(6,ne,11,8,"div",3),e.k0s(),e.j41(7,"button",1),e.bIt("click",function(){return n.addBenefit()}),e.EFF(8,"+ Add Benefit"),e.k0s(),e.j41(9,"div",4),e.DNE(10,ie,11,8,"div",5),e.k0s(),e.j41(11,"div",6)(12,"label",7),e.EFF(13,"Special Programs"),e.k0s(),e.nrm(14,"textarea",8),e.k0s(),e.j41(15,"div",6)(16,"label",9),e.EFF(17,"Tours"),e.k0s(),e.nrm(18,"textarea",10),e.k0s(),e.j41(19,"div",6)(20,"label",11),e.EFF(21,"Free Consulting"),e.k0s(),e.nrm(22,"textarea",12),e.k0s()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("ngForOf",n.services.controls),e.R7$(4),e.Y8G("ngForOf",n.benefits.controls))},dependencies:[u.Sq,u.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8],styles:[".services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.list-item[_ngcontent-%COMP%]{border:solid 1px black;border-radius:15px;padding:20px}.list-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.service-item_info[_ngcontent-%COMP%]{display:flex}.service-item_info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px}.sectionForm-container[_ngcontent-%COMP%]{border:solid 1px var(--dark-background-color);border-radius:15px;padding:10px;margin:5px}.sectionForm-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.sectionForm-header-item[_ngcontent-%COMP%]{width:50%;padding:10px}.collapsed[_ngcontent-%COMP%]{display:none}.toggle-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer;margin-bottom:10px}.benefit-container[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;margin-bottom:8px;border-radius:4px}.benefit-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px;cursor:pointer}.benefit-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.benefit-name[_ngcontent-%COMP%]{flex-grow:1;font-weight:700}.service-container[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;margin-bottom:8px;border-radius:4px}.service-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px;cursor:pointer}.service-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.service-name[_ngcontent-%COMP%]{flex-grow:1;font-weight:700}.button-group[_ngcontent-%COMP%]{display:flex;gap:8px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:18px;color:#007bff}.delete-btn[_ngcontent-%COMP%]{color:red}"]})}}return s})();function re(s,l){if(1&s&&(e.j41(0,"div",35),e.nrm(1,"input",36)(2,"img",37),e.k0s()),2&s){const t=l.$implicit;e.R7$(1),e.Y8G("value",t.url),e.R7$(1),e.Y8G("src",t.url,e.B4B)}}const ae=function(s){return{collapsed:s}};function le(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"h3"),e.EFF(4),e.k0s()(),e.j41(5,"div",12)(6,"button",13),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.toggleSection(i))}),e.nrm(7,"i",14),e.k0s()()(),e.j41(8,"div",11)(9,"div",12)(10,"label",15),e.EFF(11,"Section Name"),e.k0s(),e.nrm(12,"input",16),e.k0s(),e.j41(13,"div",12)(14,"label",17),e.EFF(15,"Section Type"),e.k0s(),e.j41(16,"select",18)(17,"option",19),e.EFF(18,"Story"),e.k0s(),e.j41(19,"option",20),e.EFF(20,"Vision"),e.k0s(),e.j41(21,"option",21),e.EFF(22,"Motivation"),e.k0s(),e.j41(23,"option",22),e.EFF(24,"Mission"),e.k0s(),e.j41(25,"option",23),e.EFF(26,"Welcome"),e.k0s(),e.j41(27,"option",24),e.EFF(28,"Other"),e.k0s()()()(),e.j41(29,"div",25)(30,"label",26),e.EFF(31,"Title"),e.k0s(),e.nrm(32,"input",27),e.j41(33,"label",28),e.EFF(34,"Subtitle"),e.k0s(),e.nrm(35,"input",29),e.j41(36,"label",30),e.EFF(37,"Content"),e.k0s(),e.nrm(38,"textarea",31)(39,"br"),e.j41(40,"label"),e.EFF(41,"Choose an Image"),e.k0s(),e.nrm(42,"br"),e.DNE(43,re,3,2,"div",32),e.k0s(),e.j41(44,"button",33),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeSection(i))}),e.nrm(45,"i",34),e.k0s()()}if(2&s){const t=l.index,o=e.XpG();e.Y8G("formGroupName",t),e.R7$(4),e.SpI("Section ",t+1,""),e.R7$(3),e.Y8G("ngClass",o.collapsedSections[t]?"fa-angles-down":"fa-angles-up"),e.R7$(22),e.Y8G("ngClass",e.eq3(5,ae,o.collapsedSections[t])),e.R7$(14),e.Y8G("ngForOf",o.predefinedImages)}}function ce(s,l){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"div",0),e.nrm(2,"input",38)(3,"input",39),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addUniqueService())}),e.EFF(5," Save Unique Service "),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(1),e.Y8G("formGroup",t.newUniqueServiceForm)}}function ue(s,l){if(1&s){const t=e.RV6();e.j41(0,"li")(1,"button",40),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeUniqueService(i))}),e.nrm(2,"i",34),e.k0s(),e.j41(3,"strong"),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.k0s()}if(2&s){const t=l.$implicit;let o,n;e.R7$(4),e.JRh(null==(o=t.get("name"))?null:o.value),e.R7$(2),e.SpI(" ",null==(n=t.get("description"))?null:n.value," ")}}function de(s,l){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"div",0),e.nrm(2,"input",41)(3,"input",42),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addWhyChoose())}),e.EFF(5," Save Reason "),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(1),e.Y8G("formGroup",t.newWhyChooseForm)}}function pe(s,l){if(1&s){const t=e.RV6();e.j41(0,"li")(1,"button",40),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeWhyChoose(i))}),e.nrm(2,"i",34),e.k0s(),e.j41(3,"strong"),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.k0s()}if(2&s){const t=l.$implicit;let o,n;e.R7$(4),e.JRh(null==(o=t.get("name"))?null:o.value),e.R7$(2),e.SpI(" ",null==(n=t.get("description"))?null:n.value," ")}}let O=(()=>{class s{constructor(t){this.fb=t,this.collapsedSections=[],this.showSectionForm=!1,this.showUniqueServiceForm=!1,this.showWhyChooseForm=!1,this.predefinedImages=[{url:"assets/sharedAssets/image_fx_(1).jpg"},{url:"assets/sharedAssets/image_fx_(2).jpg"},{url:"assets/sharedAssets/image_fx_(3).jpg"},{url:"assets/sharedAssets/image_fx_(4).jpg"},{url:"assets/sharedAssets/image_fx_(5).jpg"},{url:"assets/sharedAssets/istockphoto-478915838-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-480743801-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-502998071-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-613308420-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-653191338-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-655931804-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-804432288-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-912405752-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-918529390-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-941789670-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1022730404-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1170514008-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1207318385-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1307432717-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1315315044-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1324090651-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1335866199-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-2012854188-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-2032240867-2048x2048.jpg"},{url:"assets/sharedAssets/5388429572_df9a403081_k.jpg"},{url:"assets/sharedAssets/9676303919_32372bf834_o.jpg"}],this.sectionTypes=["Story","Vision","Motivation","Mission","Welcome","Other"]}ngOnInit(){this.collapsedSections=new Array(this.sections.length).fill(!0),this.newSectionForm=this.fb.group({name:[""],type:[""],title:[""],subtitle:[""],imageUrl:[""],content:[""]}),this.newUniqueServiceForm=this.fb.group({name:[""],description:[""]}),this.newWhyChooseForm=this.fb.group({name:[""],description:[""]}),this.form.get("sections")?.valueChanges.subscribe(()=>{this.collapsedSections=this.sections.controls.map((t,o)=>this.collapsedSections[o]??!0)})}toggleSection(t){this.collapsedSections[t]=!this.collapsedSections[t]}toggleSectionForm(){this.showSectionForm=!this.showSectionForm}onImageSelection(t){this.sectionForm.patchValue({imageUrl:t})}pupulateSection(t){this.sections.clear(),(t??[]).forEach(o=>{const n=this.fb.group({sectionName:[o.sectionName],sectionType:[o.sectionType],sectionTitle:[o.sectionTitle],sectionSubTitle:[o.sectionSubTitle],sectionContent:[o.sectionContent],sectionImageUrl:[o.sectionImageUrl],sectionStyle:[o.sectionStyle]});this.sections.push(n)})}populateUniqueService(t){this.uniqueServices.clear(),(t??[]).forEach(o=>{const n=this.fb.group({name:[o.name],description:[o.description]});this.uniqueServices.push(n)})}populateWhyChoose(t){this.whyChoose.clear(),(t??[]).forEach(o=>{const n=this.fb.group({name:[o.name],description:[o.description]});this.whyChoose.push(n)})}get sections(){return this.form.get("sections")}get uniqueServices(){return this.form.get("uniqueService")}get whyChoose(){return this.form.get("whyChoose")}toggleUniqueServiceForm(){this.showUniqueServiceForm=!this.showUniqueServiceForm}toggleWhyChooseForm(){this.showWhyChooseForm=!this.showWhyChooseForm}addSection(){const t=this.fb.group({sectionName:[""],sectionType:[""],sectionTitle:[""],sectionSubTitle:[""],sectionImageUrl:[""],sectionContent:[""],sectionStyle:[""]});this.sections.push(t),this.collapsedSections.push(!0)}removeSection(t){this.sections.removeAt(t),this.collapsedSections.splice(t,1)}addUniqueService(){const t=this.fb.group(this.newUniqueServiceForm.value);this.uniqueServices.push(t),this.newUniqueServiceForm.reset(),this.showUniqueServiceForm=!1}addWhyChoose(){const t=this.fb.group(this.newWhyChooseForm.value);this.whyChoose.push(t),this.newWhyChooseForm.reset(),this.showWhyChooseForm=!1}removeUniqueService(t){this.uniqueServices.removeAt(t)}removeWhyChoose(t){this.whyChoose.removeAt(t)}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(r.ok))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-about-us-page"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:29,vars:6,consts:[[3,"formGroup"],[1,"afhBtn",3,"click"],["formArrayName","sections"],["class","sectionForm-container",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"afhBtn",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"form-group"],["for","certifications"],["id","certifications","formControlName","certifications",1,"form-control"],[1,"sectionForm-container",3,"formGroupName"],[1,"sectionForm-header"],[1,"sectionForm-header-item"],[1,"icon-btn",3,"click"],[1,"fa-solid",3,"ngClass"],["for","sectionName"],["formControlName","sectionName","id","sectionName","placeholder","Enter section name",1,"form-control"],["for","sectionType"],["formControlName","sectionType","id","sectionType",1,"form-control"],["value","Story"],["value","Vision"],["value","Motivation"],["value","Mission"],["value","Welcome"],["value","Other"],[3,"ngClass"],["for","sectionTitle"],["formControlName","sectionTitle","id","sectionTitle","placeholder","Enter section title",1,"form-control"],["for","sectionSubTitle"],["formControlName","sectionSubTitle","id","sectionSubTitle","placeholder","Enter section Subtitle",1,"form-control"],["for","sectionContent"],["formControlName","sectionContent","id","sectionContent","rows","5",1,"form-control"],["class","image-selection",4,"ngFor","ngForOf"],[1,"icon-btn","delete-btn",3,"click"],[1,"fa-solid","fa-trash-can"],[1,"image-selection"],["type","radio","formControlName","sectionImageUrl",3,"value"],["alt","Predefined Image",1,"contactUsImagesThumbnails",3,"src"],["formControlName","name","placeholder","Unique Service Name",1,"form-control"],["formControlName","description","placeholder","Unique Service Description",1,"form-control"],["type","button",1,"icon-btn","delete-btn",3,"click"],["formControlName","name","placeholder","Reason Name",1,"form-control"],["formControlName","description","placeholder","Reason Description",1,"form-control"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"About Us Page"),e.k0s(),e.j41(3,"h2"),e.EFF(4,"Manage About Us Sections"),e.k0s(),e.j41(5,"button",1),e.bIt("click",function(){return n.addSection()}),e.EFF(6,"+ Add Section"),e.k0s(),e.j41(7,"div",2),e.DNE(8,le,46,7,"div",3),e.k0s(),e.j41(9,"h2"),e.EFF(10,"Unique Features"),e.k0s(),e.j41(11,"button",4),e.bIt("click",function(){return n.toggleUniqueServiceForm()}),e.EFF(12," + Add Unique Service "),e.k0s(),e.DNE(13,ce,6,1,"div",5),e.j41(14,"ul"),e.DNE(15,ue,7,2,"li",6),e.k0s(),e.j41(16,"h2"),e.EFF(17,"Why Us Reasons"),e.k0s(),e.j41(18,"button",4),e.bIt("click",function(){return n.toggleWhyChooseForm()}),e.EFF(19," + Add Why Choose Us Reason "),e.k0s(),e.DNE(20,de,6,1,"div",5),e.j41(21,"ul"),e.DNE(22,pe,7,2,"li",6),e.k0s(),e.j41(23,"h2"),e.EFF(24,"Certifications"),e.k0s(),e.j41(25,"div",7)(26,"label",8),e.EFF(27,"Certifications"),e.k0s(),e.nrm(28,"textarea",9),e.k0s()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(8),e.Y8G("ngForOf",n.sections.controls),e.R7$(5),e.Y8G("ngIf",n.showUniqueServiceForm),e.R7$(2),e.Y8G("ngForOf",n.uniqueServices.controls),e.R7$(5),e.Y8G("ngIf",n.showWhyChooseForm),e.R7$(2),e.Y8G("ngForOf",n.whyChoose.controls))},dependencies:[u.YU,u.Sq,u.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.Fm,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.contactUsImagesThumbnails[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover}.image-selection[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}.sectionForm-container[_ngcontent-%COMP%]{border:solid 1px var(--dark-background-color);border-radius:15px;padding:10px;margin:5px}.sectionForm-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.sectionForm-header-item[_ngcontent-%COMP%]{width:50%;padding:10px}.collapsed[_ngcontent-%COMP%]{display:none}.toggle-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer;margin-bottom:10px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:18px;color:#007bff}.delete-btn[_ngcontent-%COMP%]{color:red}"]})}}return s})();function me(s,l){if(1&s&&(e.j41(0,"div",34),e.nrm(1,"img",35),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.Y8G("src",null==t.business?null:t.business.faviconUrl,e.B4B)}}function ge(s,l){1&s&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No favicon available."),e.k0s()())}let fe=(()=>{class s{ngOnInit(){}ngOnChanges(t){}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-basic-info"]],inputs:{form:"form",business:"business",businessId:"businessId"},features:[e.OA$],decls:68,vars:3,consts:[[3,"formGroup"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","providerName"],["id","providerName","formControlName","providerName",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","address"],["id","address","formControlName","address",1,"form-control"],["for","phone"],["id","phone","formControlName","phone",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessURL"],["id","businessURL","formControlName","businessURL",1,"form-control"],["for","businessHours"],["id","businessHours","formControlName","businessHours",1,"form-control"],["for","keyWords"],["id","keyWords","formControlName","keyWords",1,"form-control"],["for","metaTitle"],["id","metaTitle","formControlName","metaTitle",1,"form-control"],["for","metaKeywords"],["id","metaKeywords","formControlName","metaKeywords",1,"form-control"],["for","metaDescription"],["id","metaDescription","formControlName","metaDescription",1,"form-control"],["for","placeId"],["id","placeId","formControlName","placeId",1,"form-control"],["for","faviconUrl"],["id","faviconUrl","formControlName","faviconUrl",1,"form-control"],["class","existing-logo",4,"ngIf"],[4,"ngIf"],[1,"existing-logo"],["alt","Business Favicon",1,"logoImage",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Business Information"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Business Name"),e.k0s(),e.nrm(6,"input",3),e.k0s(),e.j41(7,"div",1)(8,"label",4),e.EFF(9,"Provider Name"),e.k0s(),e.nrm(10,"input",5),e.k0s(),e.j41(11,"div",1)(12,"label",6),e.EFF(13,"Tagline"),e.k0s(),e.nrm(14,"input",7),e.k0s(),e.j41(15,"div",1)(16,"label",8),e.EFF(17,"Address"),e.k0s(),e.nrm(18,"textarea",9),e.k0s(),e.j41(19,"div",1)(20,"label",10),e.EFF(21,"Phone"),e.k0s(),e.nrm(22,"input",11),e.k0s(),e.j41(23,"div",1)(24,"label",12),e.EFF(25,"Fax"),e.k0s(),e.nrm(26,"input",13),e.k0s(),e.j41(27,"div",1)(28,"label",14),e.EFF(29,"Email"),e.k0s(),e.nrm(30,"input",15),e.k0s(),e.j41(31,"div",1)(32,"label",16),e.EFF(33,"Web Address"),e.k0s(),e.nrm(34,"input",17),e.k0s(),e.j41(35,"div",1)(36,"label",18),e.EFF(37,"Business Hours"),e.k0s(),e.nrm(38,"textarea",19),e.k0s(),e.j41(39,"div",1)(40,"label",20),e.EFF(41,"Key Words"),e.k0s(),e.nrm(42,"textarea",21),e.k0s(),e.j41(43,"section")(44,"h2"),e.EFF(45,"Meta Data"),e.k0s(),e.j41(46,"div",1)(47,"label",22),e.EFF(48,"Meta Title"),e.k0s(),e.nrm(49,"textarea",23),e.k0s(),e.j41(50,"div",1)(51,"label",24),e.EFF(52,"Meta Keywords"),e.k0s(),e.nrm(53,"textarea",25),e.k0s(),e.j41(54,"div",1)(55,"label",26),e.EFF(56,"Meta Description"),e.k0s(),e.nrm(57,"textarea",27),e.k0s(),e.j41(58,"div",1)(59,"label",28),e.EFF(60,"Google Place ID"),e.k0s(),e.nrm(61,"textarea",29),e.k0s(),e.j41(62,"div",1)(63,"label",30),e.EFF(64,"Favicon Url"),e.k0s(),e.nrm(65,"textarea",31),e.DNE(66,me,2,1,"div",32),e.DNE(67,ge,3,0,"div",33),e.k0s()()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(66),e.Y8G("ngIf",null==n.business?null:n.business.faviconUrl),e.R7$(1),e.Y8G("ngIf",!(null!=n.business&&n.business.faviconUrl)))},dependencies:[u.bT,r.qT,r.me,r.BC,r.cb,r.YS,r.j4,r.JD],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}"]})}}return s})(),he=(()=>{class s{ngOnInit(){}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-home-page"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:11,vars:1,consts:[[3,"formGroup"],[1,"form-group"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage",1,"form-control"],["for","keyServicesHighlights"],["id","keyServicesHighlights","formControlName","keyServicesHighlights",1,"form-control"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Home Page"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Welcome Message"),e.k0s(),e.nrm(6,"textarea",3),e.k0s(),e.j41(7,"div",1)(8,"label",4),e.EFF(9,"Key Services and Highlights"),e.k0s(),e.nrm(10,"textarea",5),e.k0s()()),2&o&&e.Y8G("formGroup",n.form)},dependencies:[r.qT,r.me,r.BC,r.cb,r.j4,r.JD],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}"]})}}return s})();function be(s,l){if(1&s&&(e.qex(0),e.j41(1,"div",8)(2,"div",9),e.EFF(3),e.k0s()(),e.bVm()),2&s){const t=l.ngIf;e.R7$(2),e.xc7("width",t+"%"),e.R7$(1),e.SpI("",t,"%")}}function ve(s,l){if(1&s&&(e.j41(0,"div",10),e.nrm(1,"img",11),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.Y8G("src",null==t.business?null:t.business.logoImage,e.B4B)}}function _e(s,l){1&s&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No logo image available."),e.k0s()())}const Ce=function(){return["/admin/gallery-upload"]},ke=function(s){return{id:s}};let Fe=(()=>{class s{constructor(t,o){this.fb=t,this.uploadService=o,this.uploadProgress={}}ngOnInit(){console.log("Admin Photos business obj:",this.business)}onFileChange(t,o){const n=t.target.files[0];if(n){let i;i="photoGallery"===o?"gallery":"testimonial"===o||"logoImage"===o||"facilityImages"===o||"lifestyleImages"===o?"business":"heroImages"===o?"heroImages":"employee";const{uploadProgress:a,downloadUrl:c}=this.uploadService.uploadFile(n,this.businessId,i);this.uploadProgress[o]=a,c.pipe((0,C.j)(()=>{c.subscribe(f=>{this.form.patchValue({[o]:f})})})).subscribe()}}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(r.ok),e.rXU(b))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-photos"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:20,vars:11,consts:[[3,"formGroup"],[1,"form-group"],["for","logoImage"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["class","existing-logo",4,"ngIf"],["for","photoGallery"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"progress"],[1,"progress-bar"],[1,"existing-logo"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Content and Photos"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Logo Image"),e.k0s(),e.j41(6,"input",3),e.bIt("change",function(a){return n.onFileChange(a,"logoImage")}),e.k0s(),e.DNE(7,be,4,3,"ng-container",4),e.nI1(8,"async"),e.DNE(9,ve,2,1,"div",5),e.DNE(10,_e,3,0,"div",4),e.k0s(),e.j41(11,"h2"),e.EFF(12,"Facility and Lifestyle Images"),e.k0s(),e.j41(13,"h2"),e.EFF(14,"Gallery Photos"),e.k0s(),e.j41(15,"div",1)(16,"label",6),e.EFF(17,"Photo Gallery:"),e.k0s(),e.j41(18,"a",7),e.EFF(19," Upload Photos to Gallery "),e.k0s()()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("ngIf",e.bMT(8,6,n.uploadProgress.logoImage)),e.R7$(2),e.Y8G("ngIf",null==n.business?null:n.business.logoImage),e.R7$(1),e.Y8G("ngIf",!(null!=n.business&&n.business.logoImage)),e.R7$(8),e.Y8G("routerLink",e.lJ4(8,Ce))("queryParams",e.eq3(9,ke,null==n.business?null:n.business.id)))},dependencies:[u.bT,p.Wk,r.qT,r.cb,r.j4,u.Jj]})}}return s})();function xe(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",5)(1,"input",6),e.bIt("change",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onImageSelection(i.url))}),e.k0s(),e.nrm(2,"img",7),e.k0s()}if(2&s){const t=l.$implicit;e.R7$(1),e.Y8G("value",t.url),e.R7$(1),e.Y8G("src",t.url,e.B4B)}}let ye=(()=>{class s{constructor(t){this.fb=t,this.predefinedImages=[{url:"assets/sharedAssets/image_fx_(1).jpg"},{url:"assets/sharedAssets/image_fx_(2).jpg"},{url:"assets/sharedAssets/image_fx_(3).jpg"},{url:"assets/sharedAssets/image_fx_(4).jpg"},{url:"assets/sharedAssets/image_fx_(5).jpg"}]}ngOnInit(){this.form.contains("contactUsImageUrl")||this.form.addControl("contactUsImageUrl",this.fb.control(this.form.value.contactUsImageUrl||"")),this.form.contains("contactFormDetails")||this.form.addControl("contactFormDetails",this.fb.control(this.form.value.contactFormDetails||""))}onImageSelection(t){console.log("Admin: Contact Us: onImageSelected: url: ",t),this.form.patchValue({contactUsImageUrl:t}),this.business&&(this.business.contactUsImageUrl=t)}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(r.ok))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-contact-us-page"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:14,vars:2,consts:[[3,"formGroup"],["style","display: inline-block; margin-right: 10px;",4,"ngFor","ngForOf"],[1,"form-group"],["for","contactFormDetails"],["id","contactFormDetails","formControlName","contactFormDetails",1,"form-control"],[2,"display","inline-block","margin-right","10px"],["type","radio","formControlName","contactUsImageUrl",3,"value","change"],["alt","Predefined Image",1,"contactUsImagesThumbnails",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Contact Us Page"),e.k0s(),e.j41(3,"div")(4,"h4"),e.EFF(5,"Choose from available images:"),e.k0s(),e.DNE(6,xe,3,2,"div",1),e.k0s(),e.j41(7,"div")(8,"h4"),e.EFF(9,"Or upload a new image:"),e.k0s()(),e.j41(10,"div",2)(11,"label",3),e.EFF(12,"Contact Form Details"),e.k0s(),e.nrm(13,"textarea",4),e.k0s()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("ngForOf",n.predefinedImages))},dependencies:[u.Sq,r.qT,r.me,r.Fm,r.BC,r.cb,r.j4,r.JD],styles:[".contactUsImagesThumbnails[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover}"]})}}return s})();var R=d(6697),je=d(5009);function Ie(s,l){if(1&s&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&s){const t=l.$implicit;e.Y8G("value",t.fileName),e.R7$(1),e.JRh(t.name)}}function Se(s,l){1&s&&e.nrm(0,"div",56)}function Pe(s,l){1&s&&e.nrm(0,"div",56)}function Ee(s,l){1&s&&e.nrm(0,"div",56)}function Te(s,l){1&s&&e.nrm(0,"div",56)}const g=function(s){return{invalid:s}};function Ne(s,l){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"form",13),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.j41(2,"div",14)(3,"label"),e.EFF(4,"Select Theme"),e.k0s(),e.j41(5,"select",15),e.bIt("change",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onThemeFileChange(n))}),e.DNE(6,Ie,2,2,"option",16),e.k0s()(),e.j41(7,"div",17)(8,"label",18),e.EFF(9,"Background Color"),e.k0s(),e.j41(10,"input",19),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"backgroundColor"))}),e.k0s(),e.j41(11,"input",20),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"backgroundColor"))}),e.k0s(),e.DNE(12,Se,1,0,"div",21),e.k0s(),e.j41(13,"div",17)(14,"label",22),e.EFF(15,"Dark Background Color"),e.k0s(),e.j41(16,"input",23),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"darkBackgroundColor"))}),e.k0s(),e.j41(17,"input",24),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"darkBackgroundColor"))}),e.k0s(),e.DNE(18,Pe,1,0,"div",21),e.k0s(),e.j41(19,"div",17)(20,"label",25),e.EFF(21,"Primary Color"),e.k0s(),e.j41(22,"input",26),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"primaryColor"))}),e.k0s(),e.j41(23,"input",27),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"primaryColor"))}),e.k0s(),e.DNE(24,Ee,1,0,"div",21),e.k0s(),e.j41(25,"div",17)(26,"label",28),e.EFF(27,"Secondary Color"),e.k0s(),e.j41(28,"input",29),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"secondaryColor"))}),e.k0s(),e.j41(29,"input",30),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"secondaryColor"))}),e.k0s(),e.DNE(30,Te,1,0,"div",21),e.k0s(),e.j41(31,"div",17)(32,"label",31),e.EFF(33,"Accent Color"),e.k0s(),e.j41(34,"input",32),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"accentColor"))}),e.k0s(),e.j41(35,"input",33),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"secondaryColor"))}),e.k0s()(),e.j41(36,"div",17)(37,"label",34),e.EFF(38,"Button Color"),e.k0s(),e.j41(39,"input",35),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"buttonColor"))}),e.k0s(),e.j41(40,"input",36),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"buttonColor"))}),e.k0s()(),e.j41(41,"div",17)(42,"label",37),e.EFF(43,"Button Hover Color"),e.k0s(),e.j41(44,"input",38),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"buttonHoverColor"))}),e.k0s(),e.j41(45,"input",39),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"buttonHoverColor"))}),e.k0s()(),e.j41(46,"div",17)(47,"label",40),e.EFF(48,"Text Color"),e.k0s(),e.j41(49,"input",41),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"textColor"))}),e.k0s(),e.j41(50,"input",42),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"textColor"))}),e.k0s()(),e.j41(51,"div",17)(52,"label",43),e.EFF(53,"Navigation Background Color"),e.k0s(),e.j41(54,"input",44),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"navBackgroundColor"))}),e.k0s(),e.j41(55,"input",45),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"navBackgroundColor"))}),e.k0s()(),e.j41(56,"div",17)(57,"label",46),e.EFF(58,"Navigation Text Color"),e.k0s(),e.j41(59,"input",47),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"navTextColor"))}),e.k0s(),e.j41(60,"input",48),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"navTextColor"))}),e.k0s()(),e.j41(61,"div",17)(62,"label",49),e.EFF(63,"Navigation Active Background"),e.k0s(),e.j41(64,"input",50),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"navActiveBackground"))}),e.k0s(),e.j41(65,"input",51),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"navActiveBackground"))}),e.k0s()(),e.j41(66,"div",17)(67,"label",52),e.EFF(68,"Navigation Active Text"),e.k0s(),e.j41(69,"input",53),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateHexInput(n,"navActiveText"))}),e.k0s(),e.j41(70,"input",54),e.bIt("input",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateColorInput(n,"navActiveText"))}),e.k0s()(),e.j41(71,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openSaveConfirmation())}),e.EFF(72,"Save Changes"),e.k0s(),e.j41(73,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.resetToDefault())}),e.EFF(74,"Reset to Default"),e.k0s()()()}if(2&s){const t=e.XpG();let o,n,i,a,c,f,m,h,v,y,j,I,S,P,E,T;e.R7$(1),e.Y8G("formGroup",t.themeForm),e.R7$(5),e.Y8G("ngForOf",t.availableThemes),e.R7$(5),e.Y8G("ngClass",e.eq3(18,g,null==(o=t.themeForm.get("backgroundColor"))||null==o.errors?null:o.errors.invalidHex)),e.R7$(1),e.Y8G("ngIf",null==(n=t.themeForm.get("backgroundColor"))||null==n.errors?null:n.errors.invalidHex),e.R7$(5),e.Y8G("ngClass",e.eq3(20,g,null==(i=t.themeForm.get("darkBackgroundColor"))||null==i.errors?null:i.errors.invalidHex)),e.R7$(1),e.Y8G("ngIf",null==(a=t.themeForm.get("darkBackgroundColor"))||null==a.errors?null:a.errors.invalidHex),e.R7$(5),e.Y8G("ngClass",e.eq3(22,g,null==(c=t.themeForm.get("primaryColor"))||null==c.errors?null:c.errors.invalidHex)),e.R7$(1),e.Y8G("ngIf",null==(f=t.themeForm.get("primaryColor"))||null==f.errors?null:f.errors.invalidHex),e.R7$(5),e.Y8G("ngClass",e.eq3(24,g,null==(m=t.themeForm.get("secondaryColor"))||null==m.errors?null:m.errors.invalidHex)),e.R7$(1),e.Y8G("ngIf",null==(h=t.themeForm.get("secondaryColor"))||null==h.errors?null:h.errors.invalidHex),e.R7$(5),e.Y8G("ngClass",e.eq3(26,g,null==(v=t.themeForm.get("accentColor"))||null==v.errors?null:v.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(28,g,null==(y=t.themeForm.get("buttonColor"))||null==y.errors?null:y.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(30,g,null==(j=t.themeForm.get("buttonHoverColor"))||null==j.errors?null:j.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(32,g,null==(I=t.themeForm.get("textColor"))||null==I.errors?null:I.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(34,g,null==(S=t.themeForm.get("navBackgroundColor"))||null==S.errors?null:S.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(36,g,null==(P=t.themeForm.get("navTextColor"))||null==P.errors?null:P.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(38,g,null==(E=t.themeForm.get("navActiveBackground"))||null==E.errors?null:E.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(40,g,null==(T=t.themeForm.get("navActiveText"))||null==T.errors?null:T.errors.invalidHex))}}let Be=(()=>{class s{constructor(t,o,n,i,a){this.themeService=t,this.route=o,this.fb=n,this.router=i,this.businessService=a,this.defaultThemeFileName="assets/themes/default.css",this.availableThemes=[{name:"Helping Hand Style",fileName:"styles.css"},{name:"A&E Style",fileName:"styles1.css"},{name:"EHC Style",fileName:"styles2.css"},{name:"Clemo Style",fileName:"clemo.css"},{name:"SB Style",fileName:"sb.css"},{name:"Demo Style",fileName:"demo.css"}],this.defaultColors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}ngOnInit(){this.route.paramMap.subscribe(t=>{this.businessId=t.get("id"),this.businessId?(this.themeColors$=this.themeService.getThemeColors(this.businessId),this.themeForm=this.fb.group({themeFileName:[this.defaultThemeFileName],backgroundColor:["",[r.k0.required,this.hexValidator]],darkBackgroundColor:["",[r.k0.required,this.hexValidator]],primaryColor:["",[r.k0.required,this.hexValidator]],secondaryColor:["",[r.k0.required,this.hexValidator]],accentColor:["",[r.k0.required,this.hexValidator]],buttonColor:["",[r.k0.required,this.hexValidator]],buttonHoverColor:["",[r.k0.required,this.hexValidator]],textColor:["",[r.k0.required,this.hexValidator]],navBackgroundColor:["",[r.k0.required,this.hexValidator]],navTextColor:["",[r.k0.required,this.hexValidator]],navActiveBackground:["",[r.k0.required,this.hexValidator]],navActiveText:["",[r.k0.required,this.hexValidator]]}),this.themeColors$.pipe((0,R.s)(1)).subscribe(o=>{this.themeForm.patchValue(o),o.themeFileName&&this.themeService.applyThemeFile(o.themeFileName)})):(console.log("Color-admin: - Business does not exist"),this.themeForm=this.fb.group({backgroundColor:this.defaultColors.backgroundColor,darkBackgroundColor:this.defaultColors.darkBackgroundColor,primaryColor:this.defaultColors.primaryColor,secondaryColor:this.defaultColors.secondaryColor,accentColor:this.defaultColors.accentColor,buttonColor:this.defaultColors.buttonColor,buttonHoverColor:this.defaultColors.buttonHoverColor,textColor:this.defaultColors.textColor,navBackgroundColor:this.defaultColors.navBackgroundColor,navTextColor:this.defaultColors.navTextColor,navActiveBackground:this.defaultColors.navActiveBackground,navActiveText:this.defaultColors.navActiveText}))})}hexValidator(t){return/^#([0-9A-F]{3}){1,2}$/i.test(t.value)?null:{invalidHex:!0}}openSaveConfirmation(){$("#saveConfirmationModal").modal("show")}confirmSave(){this.onSubmit(),$("#saveConfirmationModal").modal("hide")}onSubmit(){this.themeForm.valid&&this.themeService.updateColors(this.businessId,this.themeForm.value).then(()=>{console.log("Color-admin: -Colors updated successfully"),$("#saveConfirmationModal").modal("hide")}).catch(o=>{console.error("Color-admin: -Error updating colors:",o)})}resetToDefault(){this.themeService.resetToDefaultColors().pipe((0,R.s)(1)).subscribe(t=>{t||(t=this.themeService.defaultTheme),this.themeForm.patchValue(t),this.themeService.updateColors(this.businessId,t).then(()=>{console.log("Color-admin: - Colors reset to default and saved successfully")}).catch(o=>{console.error("Color-admin: - Error resetting colors to default:",o)})})}updateHexInput(t,o){this.themeForm.patchValue({[o]:t.target.value})}updateColorInput(t,o){const n=t.target.value;/^#[0-9A-Fa-f]{6}$/.test(n)&&this.themeForm.patchValue({[o]:n})}onThemeChange(t){this.themeForm.patchValue({themeFileName:t.target.value})}onThemeFileChange(t){const o=t.target.value;this.businessService.updateThemeFileName(o).then(()=>{console.log(`Theme file updated to: ${o}`),this.themeForm.patchValue({themeFileName:o}),this.themeService.applyThemeFile(o)}).catch(n=>{console.error("Error updating theme file:",n)})}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(je.F),e.rXU(p.nX),e.rXU(r.ok),e.rXU(p.Ix),e.rXU(_.u))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-color-admin"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:20,vars:1,consts:[[1,"theme-admin-container"],[4,"ngIf"],["id","saveConfirmationModal","tabindex","-1","role","dialog","aria-labelledby","saveConfirmationModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","saveConfirmationModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"afhBtn"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"afhBtn"],["type","button",1,"afhBtn",3,"click"],[3,"formGroup","ngSubmit"],[1,"theme-selection"],["formControlName","themeFileName",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"color-picker"],["for","backgroundColor"],["type","color","id","backgroundColor","formControlName","backgroundColor",3,"input"],["type","text","formControlName","backgroundColor",1,"hex-input",3,"ngClass","input"],["class","error-message",4,"ngIf"],["for","darkBackgroundColor"],["type","color","id","darkBackgroundColor","formControlName","darkBackgroundColor",3,"input"],["type","text","formControlName","darkBackgroundColor",1,"hex-input",3,"ngClass","input"],["for","primaryColor"],["type","color","id","primaryColor","formControlName","primaryColor",3,"input"],["type","text","formControlName","primaryColor",1,"hex-input",3,"ngClass","input"],["for","secondaryColor"],["type","color","id","secondaryColor","formControlName","secondaryColor",3,"input"],["type","text","formControlName","secondaryColor",1,"hex-input",3,"ngClass","input"],["for","accentColor"],["type","color","id","accentColor","formControlName","accentColor",3,"input"],["type","text","formControlName","accentColor",1,"hex-input",3,"ngClass","input"],["for","buttonColor"],["type","color","id","buttonColor","formControlName","buttonColor",3,"input"],["type","text","formControlName","buttonColor",1,"hex-input",3,"ngClass","input"],["for","buttonHoverColor"],["type","color","id","buttonHoverColor","formControlName","buttonHoverColor",3,"input"],["type","text","formControlName","buttonHoverColor",1,"hex-input",3,"ngClass","input"],["for","textColor"],["type","color","id","textColor","formControlName","textColor",3,"input"],["type","text","formControlName","textColor",1,"hex-input",3,"ngClass","input"],["for","navBackgroundColor"],["type","color","id","navBackgroundColor","formControlName","navBackgroundColor",3,"input"],["type","text","formControlName","navBackgroundColor",1,"hex-input",3,"ngClass","input"],["for","navTextColor"],["type","color","id","navTextColor","formControlName","navTextColor",3,"input"],["type","text","formControlName","navTextColor",1,"hex-input",3,"ngClass","input"],["for","navActiveBackground"],["type","color","id","navActiveBackground","formControlName","navActiveBackground",3,"input"],["type","text","formControlName","navActiveBackground",1,"hex-input",3,"ngClass","input"],["for","navActiveText"],["type","color","id","navActiveText","formControlName","navActiveText",3,"input"],["type","text","formControlName","navActiveText",1,"hex-input",3,"ngClass","input"],[3,"value"],[1,"error-message"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Edit Theme Colors"),e.k0s(),e.DNE(3,Ne,75,42,"div",1),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h5",6),e.EFF(9,"Save Changes"),e.k0s(),e.j41(10,"button",7)(11,"span",8),e.EFF(12,"\xd7"),e.k0s()()(),e.j41(13,"div",9),e.EFF(14," Are you sure you want to save these changes? "),e.k0s(),e.j41(15,"div",10)(16,"button",11),e.EFF(17,"Cancel"),e.k0s(),e.j41(18,"button",12),e.bIt("click",function(){return n.confirmSave()}),e.EFF(19,"Confirm Save"),e.k0s()()()()()),2&o&&(e.R7$(3),e.Y8G("ngIf",n.themeForm))},dependencies:[u.YU,u.Sq,u.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.j4,r.JD],styles:[".theme-admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.color-picker[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:350px}input[type=color][_ngcontent-%COMP%]{width:50px;height:30px;border:none;margin-right:10px}.hex-input[_ngcontent-%COMP%]{width:100px;padding:5px;border:1px solid #ccc}button[_ngcontent-%COMP%]{margin-right:10px;padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}}return s})();function Ge(s,l){if(1&s&&e.nrm(0,"img",18),2&s){const t=e.XpG().index,o=e.XpG();let n;e.Y8G("src",null==(n=o.slides.at(t).get("backgroundImage"))?null:n.value,e.B4B)}}function Me(s,l){if(1&s&&e.nrm(0,"progress",19),2&s){const t=e.XpG().index,o=e.XpG();e.Y8G("value",o.uploadProgress[t])}}function Ae(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",20),e.nrm(1,"input",21)(2,"input",22),e.j41(3,"label"),e.nrm(4,"input",23),e.EFF(5," Outline"),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG().index,c=e.XpG();return e.Njj(c.removeButton(a,i))}),e.EFF(7,"\u2716"),e.k0s()()}2&s&&e.Y8G("formGroupName",l.index)}function we(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",7)(1,"h3"),e.EFF(2),e.k0s(),e.j41(3,"div",8)(4,"div",9)(5,"label"),e.EFF(6,"Title"),e.k0s(),e.nrm(7,"input",10),e.j41(8,"label"),e.EFF(9,"Subtitle"),e.k0s(),e.nrm(10,"textarea",11),e.k0s(),e.j41(11,"div",9),e.DNE(12,Ge,1,1,"img",12),e.j41(13,"label"),e.EFF(14,"Background Image"),e.k0s(),e.nrm(15,"input",13),e.j41(16,"input",14),e.bIt("change",function(n){const a=e.eBV(t).index,c=e.XpG();return e.Njj(c.uploadImage(n,a))}),e.k0s(),e.DNE(17,Me,1,1,"progress",15),e.k0s()(),e.j41(18,"details")(19,"summary"),e.EFF(20,"Buttons"),e.k0s(),e.j41(21,"div",16),e.DNE(22,Ae,8,1,"div",17),e.j41(23,"button",4),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.addButton(i))}),e.EFF(24,"+ Add Button"),e.k0s()()(),e.j41(25,"button",4),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeSlide(i))}),e.EFF(26,"Remove Slide"),e.k0s()()}if(2&s){const t=l.$implicit,o=l.index,n=e.XpG();let i;e.Y8G("formGroupName",o),e.R7$(2),e.SpI("Slide ",o+1,""),e.R7$(10),e.Y8G("ngIf",null==(i=n.slides.at(o).get("backgroundImage"))?null:i.value),e.R7$(5),e.Y8G("ngIf",void 0!==n.uploadProgress[o]),e.R7$(5),e.Y8G("ngForOf",n.getButtons(t).controls)}}function Oe(s,l){if(1&s&&(e.j41(0,"div",24),e.EFF(1),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.JRh(t.message)}}let Re=(()=>{class s{constructor(t,o,n){this.fb=t,this.businessService=o,this.uploadService=n,this.uploadProgress=[],this.isSaving=!1,this.message=null,this.sliderForm=this.fb.group({slides:this.fb.array([])})}ngOnInit(){this.loadSliderData()}get slides(){return this.sliderForm.get("slides")}loadSliderData(){this.businessService.getBusiness(this.businessId).subscribe(t=>{this.slides.clear(),t?.heroSlider&&t.heroSlider.forEach(o=>this.addSlide(o))})}addSlide(t={title:"",subtitle:"",backgroundImage:"",buttons:[]}){this.slides.push(this.fb.group({title:[t.title,r.k0.required],subtitle:[t.subtitle],backgroundImage:[t.backgroundImage],buttons:this.fb.array(t.buttons.map(o=>this.fb.group({text:[o.text,r.k0.required],link:[o.link,r.k0.required],outline:[o.outline]})))}))}removeSlide(t){this.slides.removeAt(t)}addButton(t){this.slides.at(t).get("buttons").push(this.fb.group({text:["",r.k0.required],link:["",r.k0.required],outline:[!1]}))}removeButton(t,o){this.slides.at(t).get("buttons").removeAt(o)}uploadImage(t,o){const n=t.target;if(n?.files&&n.files.length>0){const i=n.files[0],{uploadProgress:a,downloadUrl:c}=this.uploadService.uploadFile(i,this.businessId,"heroImages");this.uploadProgress[o]=0,a.subscribe(f=>{this.uploadProgress[o]=f}),c.subscribe(f=>{this.slides.at(o).get("backgroundImage")?.setValue(f),this.uploadProgress[o]=100})}else console.error("No file selected")}getButtons(t){return t.get("buttons")}saveSliderData(){this.sliderForm.valid&&(this.isSaving=!0,this.businessService.updateBusiness(this.businessId,{heroSlider:this.sliderForm.value.slides}).then(()=>{this.isSaving=!1,this.message="Slider data saved successfully!",setTimeout(()=>this.message=null,3e3)},o=>{this.isSaving=!1,this.message="Failed to save slider data. Please try again.",console.error("Error saving slider data:",o)}))}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(r.ok),e.rXU(_.u),e.rXU(b))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-admin-hero-slider"]],inputs:{business:"business",businessId:"businessId"},decls:11,vars:4,consts:[[1,"admin-hero-slider"],[3,"formGroup","ngSubmit"],["formArrayName","slides"],["class","slide",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit",3,"disabled"],["class","message",4,"ngIf"],[1,"slide",3,"formGroupName"],[1,"slide-grid"],[1,"form-group"],["formControlName","title","type","text",1,"short-input"],["formControlName","subtitle",1,"short-textarea"],["alt","Slide Background","class","thumbnail",3,"src",4,"ngIf"],["type","text","formControlName","backgroundImage","placeholder","Image URL","readonly","",1,"short-input"],["type","file",3,"change"],["max","100",3,"value",4,"ngIf"],["formArrayName","buttons"],["class","button-grid",3,"formGroupName",4,"ngFor","ngForOf"],["alt","Slide Background",1,"thumbnail",3,"src"],["max","100",3,"value"],[1,"button-grid",3,"formGroupName"],["formControlName","text","type","text","placeholder","Text",1,"tiny-input"],["formControlName","link","type","text","placeholder","Link",1,"tiny-input"],["formControlName","outline","type","checkbox"],[1,"message"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Manage Hero Slider"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return n.saveSliderData()}),e.j41(4,"div",2),e.DNE(5,we,27,5,"div",3),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return n.addSlide()}),e.EFF(7,"Add Slide"),e.k0s(),e.j41(8,"button",5),e.EFF(9,"Save Slider Data"),e.k0s()(),e.DNE(10,Oe,2,1,"div",6),e.k0s()),2&o&&(e.R7$(3),e.Y8G("formGroup",n.sliderForm),e.R7$(2),e.Y8G("ngForOf",n.slides.controls),e.R7$(3),e.Y8G("disabled",n.isSaving),e.R7$(2),e.Y8G("ngIf",n.message))},dependencies:[u.Sq,u.bT,r.qT,r.me,r.Zm,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8],styles:[".message[_ngcontent-%COMP%]{color:green;font-weight:700;margin-top:20px}.slide[_ngcontent-%COMP%]{border:solid 1px var(--dark-background-color);border-radius:15px;margin-bottom:20px;padding:20px}.slide-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:5px}.button-grid[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.short-input[_ngcontent-%COMP%], .tiny-input[_ngcontent-%COMP%]{width:400px}.short-textarea[_ngcontent-%COMP%]{width:400px;height:50px}.thumbnail[_ngcontent-%COMP%]{max-width:300px;height:auto;border-radius:5px}details[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer}summary[_ngcontent-%COMP%]{font-weight:700;cursor:pointer}"]})}}return s})();function Ue(s,l){if(1&s&&(e.j41(0,"div",30),e.EFF(1),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.SpI(" \u2705 ",t.autoSaveMessage," ")}}function $e(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}function De(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}function He(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}function Ve(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}function Ye(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}function Xe(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}function qe(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}function Le(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}function We(s,l){1&s&&(e.j41(0,"span",31),e.EFF(1,"\u2714"),e.k0s())}let x=(()=>{class s{constructor(t,o,n,i,a,c){this.fb=t,this.businessService=o,this.uploadService=n,this.storage=i,this.route=a,this.router=c,this.uploadProgress={},this.businessId="",this.confirmationMessage="",this.showConfirmation=!1,this.autoSaveMessage="",this.showAutoSaveMessage=!1,this.uploads=[],this.initializeForm()}ngOnInit(){this.route.paramMap.subscribe(t=>{this.businessId=t.get("id"),this.businessId?(console.log("Edit-Business: ngOnInit: Business",this.business),this.loadBusinessData()):(console.log("Loading default data"),this.loadDefaultData())})}loadBusinessData(){this.businessService.getBusiness(this.businessId).subscribe(t=>{t&&(this.business=t,this.populateForm(t),t.logoImage&&this.isFirebaseStoragePath(t.logoImage)&&this.storage.refFromURL(t.logoImage).getDownloadURL().subscribe(o=>{t.logoImage=o}))},t=>{console.error("Error loading business data:",t)})}initializeForm(){this.businessForm=this.fb.group({businessName:["",r.k0.required],address:[""],phone:[""],fax:[""],email:["",r.k0.required],businessHours:[""],tagline:[""],businessURL:[""],providerName:[""],keyWords:[""],metaTitle:[""],metaKeywords:[""],metaDescription:[""],placeId:[""],welcomeMessage:[""],keyServicesHighlights:[""],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),sections:this.fb.array([]),sectionName:[""],sectionTitle:[""],sectionSubTitle:[""],sectionContent:[""],sectionImageUrl:[""],sectionType:[""],sectionStyle:[""],certifications:[""],teamValues:[""],motivationTitle:[""],motivationImageUrl:[""],motivation:[""],businessStoryTitle:[""],businessStoryImageUrl:[""],businessStory:[""],missionTitle:[""],mission:[""],missionImageUrl:[""],visionTitle:[""],vision:[""],visionImageUrl:[""],services:this.fb.array([]),benefits:this.fb.array([]),specialPrograms:[""],tours:[""],freeConsulting:[""],websiteGoals:[""],logoImage:[null],faviconUrl:[""],mediaFeatures:[""],ratings:[""],testimonials:this.fb.array([]),socialMedia:[""],contactFormDetails:[""],contactUsImageUrl:[""],photoGallery:[""],isActive:!0,employees:this.fb.array([])}),this.serviceForm=this.fb.group({name:[""]}),this.benefitsForm=this.fb.group({name:[""]})}employees(){return this.businessForm.get("employees")}testimonials(){return this.businessForm.get("testimonials")}services(){return this.businessForm.get("services")}benefits(){return this.businessForm.get("benefits")}uniqueService(){return this.businessForm.get("uniqueService")}whyChoose(){return this.businessForm.get("whyChoose")}loadDefaultData(){this.business=B.getDefaultBusiness();const t=B.getDefaultBusiness();this.businessForm=this.fb.group({businessName:[t.businessName],metaTitle:[t.metaTitle],metaKeywords:[t.metaKeywords],metaDescription:[t.metaDescription],keyWords:[t.keyWords],businessURL:[t.businessURL],providerName:[t.providerName],tagline:[t.tagline],certifications:[t.certifications],specialPrograms:[t.specialPrograms],tours:[t.tours],freeConsulting:[t.freeConsulting],websiteGoals:[t.websiteGoals],logoImage:[t.logoImage],faviconUrl:[t.faviconUrl],ownerImagesBios:[t.ownerImagesBios],staffImagesBios:[t.staffImagesBios],mediaFeatures:[t.mediaFeatures],ratings:[t.ratings],address:[t.address],phone:[t.phone],fax:[t.fax],email:[t.email],businessHours:[t.businessHours],socialMedia:[t.socialMedia],contactFormDetails:[t.contactFormDetails],contactUsImageUrl:[t.contactUsImageUrl],isActive:[t.isActive],theme:[t.theme],placeId:[t.placeId],uniqueService:this.fb.array((t.uniqueService??[]).map(o=>this.fb.group({name:[o.name],description:[o.description]}))),whyChoose:this.fb.array(t.whyChoose.map(o=>this.fb.group({name:[o.name],description:[o.description]}))),services:this.fb.array(t.services.map(o=>this.fb.group({name:[o.name]}))),benefits:this.fb.array(t.benefits.map(o=>this.fb.group({name:[o.name]}))),testimonials:this.fb.array((t.testimonials??[]).map(o=>this.fb.group({name:[o.name],relationship:[o.relationship],quote:[o.quote],photoUrl:[o.photoURL]}))),employees:this.fb.array((t.employees??[]).map(o=>this.fb.group({name:[o.name],role:[o.role],bio:[o.bio],photoURL:[o.photoURL]})))})}populateFormArray(t,o){t.clear(),o.forEach(n=>t.push(this.fb.control(n)))}isFirebaseStoragePath(t){return t.startsWith("gs://")||t.includes("firebasestorage.googleapis.com")}populateForm(t){this.businessForm.patchValue(t),this.employeeComponent&&this.employeeComponent.populateEmployees(t.employees??[]),this.reviewComponent&&this.reviewComponent.populateTestimonials(t.testimonials??[]),this.serviceComponent&&(this.serviceComponent.populateServices(t.services??[]),this.serviceComponent.populateBenefits(t.benefits??[])),this.aboutUsComponent&&(this.aboutUsComponent.populateUniqueService(t.uniqueService??[]),this.aboutUsComponent.populateWhyChoose(t.whyChoose??[]),this.aboutUsComponent.pupulateSection(t.sections)),this.reviewComponent&&this.reviewComponent.populateTestimonials(t.testimonials??[]),this.businessForm.contains("logoImage")||this.businessForm.addControl("logoImage",this.fb.control(null))}ngAfterViewInit(){document.querySelectorAll('[data-bs-toggle="tab"]').forEach(o=>{o.addEventListener("shown.bs.tab",n=>{this.autoSave()})})}autoSave(){this.businessForm.valid&&this.businessService.updateBusiness(this.businessId,this.businessForm.value).then(()=>{this.autoSaveMessage="Changes saved!",this.showAutoSaveMessage=!0,setTimeout(()=>{this.showAutoSaveMessage=!1},2e3)}).catch(o=>console.error("Error auto-saving",o))}onSubmit(){if(this.businessForm.valid){const t=this.businessForm.value;console.log("form valid, this is the form",this.businessForm),this.businessId?this.businessService.updateBusiness(this.businessId,t).then(()=>console.error("Business details updated successfully!")).catch(o=>console.error("Error updating business details",o)):this.businessService.createBusiness(t).subscribe(o=>{this.business=o,this.confirmationMessage="Business has been successfully created!",this.showConfirmation=!0,this.business&&this.business.id?this.businessService.updateBusiness(this.business.id,t).then(()=>console.error("Business details updated successfully!")).catch(n=>console.error("Error updating business details",n)):console.error("Business ID is undefined.")})}}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/admin/businessList"])}preventDefault(t){t.preventDefault()}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(r.ok),e.rXU(_.u),e.rXU(b),e.rXU(F.ap),e.rXU(p.nX),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-business"]],viewQuery:function(o,n){if(1&o&&(e.GBs(M,5),e.GBs(A,5),e.GBs(w,5),e.GBs(O,5)),2&o){let i;e.mGM(i=e.lsd())&&(n.employeeComponent=i.first),e.mGM(i=e.lsd())&&(n.reviewComponent=i.first),e.mGM(i=e.lsd())&&(n.serviceComponent=i.first),e.mGM(i=e.lsd())&&(n.aboutUsComponent=i.first)}},decls:68,vars:40,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["class","auto-save-message",4,"ngIf"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["class","saved-badge",4,"ngIf"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","color-theme-tab","data-bs-toggle","tab","data-bs-target","#color-theme","type","button","role","tab","aria-controls","color-theme","aria-selected","false",1,"nav-link"],["id","hero-slider-tab","data-bs-toggle","tab","data-bs-target","#hero-slider-theme","type","button","role","tab","aria-controls","hero-slider-theme","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[3,"form","business","businessId"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["id","color-theme","role","tabpanel","aria-labelledby","color-theme-tab",1,"tab-pane","fade"],["id","hero-slider-theme","role","tabpanel","aria-labelledby","hero-slider-tab",1,"tab-pane","fade"],[3,"business","businessId"],["type","submit"],[1,"auto-save-message"],[1,"saved-badge"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"Business Information"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.DNE(4,Ue,2,1,"div",2),e.j41(5,"ul",3)(6,"li",4)(7,"button",5),e.EFF(8,"Basic Information "),e.DNE(9,$e,2,0,"span",6),e.k0s()(),e.j41(10,"li",4)(11,"button",7),e.EFF(12,"Home Page"),e.DNE(13,De,2,0,"span",6),e.k0s()(),e.j41(14,"li",4)(15,"button",8),e.EFF(16,"Services Page"),e.DNE(17,He,2,0,"span",6),e.k0s()(),e.j41(18,"li",4)(19,"button",9),e.EFF(20,"About Us"),e.DNE(21,Ve,2,0,"span",6),e.k0s()(),e.j41(22,"li",4)(23,"button",10),e.EFF(24,"Photos"),e.DNE(25,Ye,2,0,"span",6),e.k0s()(),e.j41(26,"li",4)(27,"button",11),e.EFF(28,"Media & Reviews"),e.DNE(29,Xe,2,0,"span",6),e.k0s()(),e.j41(30,"li",4)(31,"button",12),e.EFF(32,"Contact Us"),e.k0s()(),e.j41(33,"li",4)(34,"button",13),e.EFF(35,"Employee Profiles"),e.DNE(36,qe,2,0,"span",6),e.k0s()(),e.j41(37,"li",4)(38,"button",14),e.EFF(39,"Color Theme"),e.DNE(40,Le,2,0,"span",6),e.k0s()(),e.j41(41,"li",4)(42,"button",15),e.EFF(43,"Hero Slider"),e.DNE(44,We,2,0,"span",6),e.k0s()()(),e.j41(45,"div",16)(46,"div",17),e.nrm(47,"app-basic-info",18),e.k0s(),e.j41(48,"div",19),e.nrm(49,"app-home-page",18),e.k0s(),e.j41(50,"div",20),e.nrm(51,"app-services-page",18),e.k0s(),e.j41(52,"div",21),e.nrm(53,"app-about-us-page",18),e.k0s(),e.j41(54,"div",22),e.nrm(55,"app-photos",18),e.k0s(),e.j41(56,"div",23),e.nrm(57,"app-reviews",18),e.k0s(),e.j41(58,"div",24),e.nrm(59,"app-contact-us-page",18),e.k0s(),e.j41(60,"div",25),e.nrm(61,"app-employee",18),e.k0s(),e.j41(62,"div",26),e.nrm(63,"app-color-admin",18),e.k0s(),e.j41(64,"div",27),e.nrm(65,"app-admin-hero-slider",28),e.k0s()(),e.j41(66,"button",29),e.EFF(67,"Save"),e.k0s()()()),2&o&&(e.R7$(3),e.Y8G("formGroup",n.businessForm),e.R7$(1),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(5),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(7),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(3),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("business",n.business)("businessId",n.businessId))},dependencies:[u.bT,r.qT,r.cb,r.j4,fe,he,M,Fe,A,w,O,ye,Be,Re],styles:['.container[_ngcontent-%COMP%]{width:100%;margin:auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}h2[_ngcontent-%COMP%]{border-bottom:2px solid var(--border-color);padding-bottom:10px;margin-top:30px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.required[_ngcontent-%COMP%]:after{content:"*";color:red;margin-left:5px}textarea.form-control[_ngcontent-%COMP%]{height:100px;resize:vertical}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{margin-top:5px;height:10px;background-color:#dddada;border-radius:4px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--accent-color);text-align:center;line-height:10px;color:var(--primary-color)}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:100px;border-radius:4px}button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:5px;overflow:hidden;height:20px}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745;height:100%;color:var(--primary-color);text-align:center;line-height:20px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #ddd}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px;margin-left:5px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:var(--button-color);color:#495057;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:5px 10px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:var(--button-hover-color);color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--primary-color);border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:var(--primary-color)}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}button[type=button][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}.auto-save-message[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px;background-color:#28a745;color:#fff;padding:10px;border-radius:5px;font-weight:700;box-shadow:0 4px 6px #0000001a;transition:opacity .5s ease-in-out}.saved-badge[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:12px;padding:2px 5px;border-radius:50%;margin-left:5px}']})}}return s})();var ze=d(467),Je=d(8455),Ke=d(5558),Qe=d(8704),Ze=d(214);function et(s,l){1&s&&(e.j41(0,"p"),e.EFF(1,"Drag and drop images here, or click to select files"),e.k0s())}function tt(s,l){if(1&s&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&s){const t=l.$implicit;e.R7$(1),e.JRh(t.name)}}function ot(s,l){if(1&s&&(e.j41(0,"div")(1,"h3"),e.EFF(2,"Files to be uploaded:"),e.k0s(),e.j41(3,"ul"),e.DNE(4,tt,2,1,"li",10),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.filesToUpload)}}function nt(s,l){if(1&s&&(e.j41(0,"div")(1,"div",17)(2,"div",18),e.EFF(3),e.k0s()()()),2&s){const t=l.ngIf;e.R7$(2),e.xc7("width",t+"%"),e.R7$(1),e.SpI("",t,"%")}}function st(s,l){if(1&s&&(e.j41(0,"div",19),e.nrm(1,"img",20),e.k0s()),2&s){const t=e.XpG().$implicit,o=e.XpG();e.R7$(1),e.FS9("alt",t.key),e.Y8G("src",o.uploadedImages[t.key],e.B4B)}}function it(s,l){if(1&s&&(e.j41(0,"div"),e.DNE(1,nt,4,3,"div",8),e.nI1(2,"async"),e.DNE(3,st,2,2,"div",16),e.k0s()),2&s){const t=l.$implicit,o=e.XpG();e.R7$(1),e.Y8G("ngIf",e.bMT(2,2,o.uploadProgress[t.key])),e.R7$(2),e.Y8G("ngIf",o.uploadedImages[t.key])}}function rt(s,l){if(1&s){const t=e.RV6();e.j41(0,"div",21)(1,"div",22),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deleteImage(i))}),e.nrm(2,"i",23),e.k0s(),e.nrm(3,"img",24),e.k0s()}if(2&s){const t=l.$implicit;e.R7$(3),e.Y8G("src",t.url,e.B4B)}}function at(s,l){if(1&s){const t=e.RV6();e.j41(0,"app-image-viewer-modal",25),e.bIt("closeModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCloseModal())}),e.k0s()}if(2&s){const t=e.XpG();e.Y8G("imageUrl",t.selectedImageUrl)}}let U=(()=>{class s{constructor(t,o,n,i,a){this.storage=t,this.firestore=o,this.uploadService=n,this.route=i,this.webContent=a,this.uploadProgress={},this.uploadedImages={},this.filesToUpload=[],this.uploadLocation="gallery",this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(t=>{this.businessId=t.id,this.loadImages()})}uploadFiles(t){const o=t.target.files;for(let n of o){const{uploadProgress:i,downloadUrl:a}=this.uploadService.uploadFile(n,this.businessId,this.uploadLocation);this.uploadProgress[n.name]=i,a.subscribe(c=>{this.uploadedImages[n.name]=c})}}deleteImage(t){confirm("Are you sure you want to delete this image?")&&this.uploadService.deleteFile(t.url,this.businessId,this.uploadLocation).then(()=>{this.images=this.images.filter(o=>o.url!==t.url)}).catch(o=>{console.error("Error deleting the image:",o)})}onDragOver(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="copy"}onDragLeave(t){t.preventDefault(),t.stopPropagation()}onDrop(t){t.preventDefault(),t.stopPropagation();const o=Array.from(t.dataTransfer.files);this.filesToUpload=o,this.uploadFiles({target:{files:o}})}loadImages(){var t=this;this.webContent.getBusinessUploadedImagesById(this.businessId,this.uploadLocation).pipe((0,Ke.n)(o=>{const n=o.map(function(){var i=(0,ze.A)(function*(a){return(yield t.webContent.checkImageExists(a.url))?a:null});return function(a){return i.apply(this,arguments)}}());return(0,Je.H)(Promise.all(n))}),(0,k.T)(o=>o.filter(n=>null!==n))).subscribe(o=>{this.images=o})}onImageClick(t){this.selectedImageUrl=t}onCloseModal(){this.selectedImageUrl=null}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(F.ap),e.rXU(G.Qe),e.rXU(b),e.rXU(p.nX),e.rXU(Qe.N))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-photo-gallery-upload"]],inputs:{businessId:"businessId"},decls:25,vars:8,consts:[[1,"upload-container"],[1,"upload-location"],["for","uploadLocation"],["id","uploadLocation",3,"ngModel","ngModelChange","change"],["value","gallery"],["value","heroImages"],["value","lifeStyle"],[1,"drag-drop-area",3,"dragover","dragleave","drop"],[4,"ngIf"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],["class","thumbnail",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"thumbnail"],[3,"src","alt"],[1,"gallery-item"],[1,"delete-button",3,"click"],[1,"fa-solid","fa-trash-can"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Please upload photos to individual galleryies: Gallery, Hero Images, Lifestyle"),e.k0s(),e.j41(4,"label",2),e.EFF(5,"Select Upload Location:"),e.k0s(),e.j41(6,"select",3),e.bIt("ngModelChange",function(a){return n.uploadLocation=a})("change",function(){return n.loadImages()}),e.j41(7,"option",4),e.EFF(8,"Gallery"),e.k0s(),e.j41(9,"option",5),e.EFF(10,"Hero Images"),e.k0s(),e.j41(11,"option",6),e.EFF(12,"Lifestyle"),e.k0s()()(),e.j41(13,"div",7),e.bIt("dragover",function(a){return n.onDragOver(a)})("dragleave",function(a){return n.onDragLeave(a)})("drop",function(a){return n.onDrop(a)}),e.DNE(14,et,2,0,"p",8),e.j41(15,"input",9),e.bIt("change",function(a){return n.uploadFiles(a)}),e.k0s()(),e.DNE(16,ot,5,1,"div",8),e.DNE(17,it,4,4,"div",10),e.nI1(18,"keyvalue"),e.k0s(),e.j41(19,"section",11)(20,"div",12),e.EFF(21,"Explore Our Gallery"),e.k0s(),e.j41(22,"div",13),e.DNE(23,rt,4,1,"div",14),e.k0s()(),e.DNE(24,at,1,1,"app-image-viewer-modal",15)),2&o&&(e.R7$(6),e.Y8G("ngModel",n.uploadLocation),e.R7$(8),e.Y8G("ngIf",!n.filesToUpload.length),e.R7$(2),e.Y8G("ngIf",n.filesToUpload.length>0),e.R7$(1),e.Y8G("ngForOf",e.bMT(18,6,n.uploadedImages)),e.R7$(6),e.Y8G("ngForOf",n.images),e.R7$(1),e.Y8G("ngIf",n.selectedImageUrl))},dependencies:[u.Sq,u.bT,r.xH,r.y7,r.wz,r.BC,r.vS,Ze.W,u.Jj,u.lG],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto}.drag-drop-area[_ngcontent-%COMP%]{margin-top:100px;border:2px dashed #ccc;padding:100px;text-align:center;cursor:pointer;margin-bottom:20px}.drag-drop-area[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.drag-drop-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}input[type=file][_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #ddd;margin-bottom:10px}.progress-bar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;text-align:center;padding:5px 0}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:cover;margin:10px 0}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.gallery-item[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;border-radius:50%;width:25px;height:25px;display:flex;align-items:center;justify-content:center}"]})}}return s})();const ct=[{path:"",component:z,canActivate:[(s,l)=>{const t=(0,e.WQX)(D.DS),o=(0,e.WQX)(p.Ix);return t.authState.pipe((0,k.T)(n=>!!n||(o.navigate(["/login"],{queryParams:{returnUrl:l.url}}),!1)))}],children:[{path:"businessList",component:L},{path:"new",component:x},{path:"edit-business/:id",component:x},{path:"gallery-upload",component:U},{path:"edit-business/:id",component:x},{path:"gallery-upload",component:U},{path:":id",component:d(3112).B}]}];let ut=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(ct),p.iI]})}}return s})(),dt=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[u.MD,ut,r.YN]})}}return s})()}}]);